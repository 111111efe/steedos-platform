(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;
var global = Package.meteor.global;
var meteorEnv = Package.meteor.meteorEnv;
var ReactiveVar = Package['reactive-var'].ReactiveVar;
var ReactiveDict = Package['reactive-dict'].ReactiveDict;
var ECMAScript = Package.ecmascript.ECMAScript;
var Random = Package.random.Random;
var DDP = Package['ddp-client'].DDP;
var DDPServer = Package['ddp-server'].DDPServer;
var check = Package.check.check;
var Match = Package.check.Match;
var DDPRateLimiter = Package['ddp-rate-limiter'].DDPRateLimiter;
var _ = Package.underscore._;
var Tracker = Package.tracker.Tracker;
var Deps = Package.tracker.Deps;
var Blaze = Package.blaze.Blaze;
var UI = Package.blaze.UI;
var Handlebars = Package.blaze.Handlebars;
var JsonRoutes = Package['simple:json-routes'].JsonRoutes;
var RestMiddleware = Package['simple:json-routes'].RestMiddleware;
var Restivus = Package['nimble:restivus'].Restivus;
var SimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;
var MongoObject = Package['aldeed:simple-schema'].MongoObject;
var Tabular = Package['aldeed:tabular'].Tabular;
var CollectionHooks = Package['matb33:collection-hooks'].CollectionHooks;
var BlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;
var FlowRouter = Package['kadira:flow-router'].FlowRouter;
var WorkflowManager = Package['steedos:app-workflow'].WorkflowManager;
var uuflowManager = Package['steedos:app-workflow'].uuflowManager;
var pushManager = Package['steedos:app-workflow'].pushManager;
var steedosExport = Package['steedos:app-workflow'].steedosExport;
var steedosImport = Package['steedos:app-workflow'].steedosImport;
var Template = Package['meteorhacks:ssr'].Template;
var SSR = Package['meteorhacks:ssr'].SSR;
var SubsManager = Package['meteorhacks:subs-manager'].SubsManager;
var WebApp = Package.webapp.WebApp;
var WebAppInternals = Package.webapp.WebAppInternals;
var main = Package.webapp.main;
var moment = Package['momentjs:moment'].moment;
var CFDataManager = Package['steedos:autoform'].CFDataManager;
var ServerSession = Package['steedos:base'].ServerSession;
var Selector = Package['steedos:base'].Selector;
var Steedos = Package['steedos:base'].Steedos;
var AjaxCollection = Package['steedos:base'].AjaxCollection;
var SteedosDataManager = Package['steedos:base'].SteedosDataManager;
var SteedosOffice = Package['steedos:base'].SteedosOffice;
var billingManager = Package['steedos:base'].billingManager;
var MailQueue = Package['steedos:mailqueue'].MailQueue;
var WebhookQueue = Package['steedos:webhookqueue'].WebhookQueue;
var _i18n = Package['universe:i18n']._i18n;
var i18n = Package['universe:i18n'].i18n;
var meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;
var Promise = Package.promise.Promise;
var meteorInstall = Package.modules.meteorInstall;
var HTML = Package.htmljs.HTML;
var Collection2 = Package['aldeed:collection2-core'].Collection2;
var FS = Package['steedos:cfs-base-package'].FS;
var MongoInternals = Package.mongo.MongoInternals;
var Mongo = Package.mongo.Mongo;

/* Package-scope variables */
var __coffeescriptShare, Workflow, InstanceReadOnlyTemplate, TemplateManager, SteedosTable, year, month, date, hours, seconds, locale, utcOffset, str, addItemTr, values_history, current_user_info, flow_id, userId, orgFieldUsers, formula_values, new_ins_id, instanceHtml, Form_formula, getHandlersManager, permissionManager, approveManager, flowManager, formManager, stepManager, workflowTemplate, InstanceManager, WorkflowManager_format, CoreForm, InstanceNumberRules;

var require = meteorInstall({"node_modules":{"meteor":{"steedos:workflow":{"i18n":{"en.i18n.json.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/i18n/en.i18n.json.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Package['universe:i18n'].i18n.addTranslations('en','',{"Steedos Workflow":"Workflow","inbox":"Inbox","outbox":"Outbox","draft":"Draft","pending":"In Progress","completed":"Finished","monitor":"Monitor","FlowName":"Workflow Name","Search":"Search","My Approval":"My Approval","My Applications":"My Applications","Submit":"Submit","steedos_desktop":"Steedos Desktop","menu_navigation":"Navigation","Workflow":"Workflow","form_new":"New","instances":"Request","instances_name":"Title","instances_applicant_name":"Applicant","instances_modified":"Modified","instances_applicant_organization_name":"Organization","instances_submit_date":"Submit Date","instances_flow":"Workflow","instances_step_current_name":"Current step","instances_flow_name":"Workflow","instances_current_step_name":"Current step","instance_approve":"Approve","instance_reject":"Reject","instance_readed":"Read","instance_next_step":"Next Step","instance_next_step_users":"Next Step User(s)","instance_initiator":"Initiator","instance_approval_history":"Approval History","instance_in_progress":"In Progress","instance_submit":"Submit","instance_save":"Save","instance_delete":"Delete","instance_attachment":"Attachments","instance_cancel":"Cancel Request","instance_reassign":"Reassign","instance_relocate":"Relocate","instance_print":"Print","flow_roles":"Workflow Positions","flow_roles_name":"Position Name","flow_positions":"Positions Users","flow_positions_role":"Position","flow_positions_org":"Organization","flow_positions_users":"Users","flow_positions_role_name()":"Position","flow_positions_org_name()":"Organization","flow_positions_users_name()":"Users","workflow_table_confirm":"OK","workflow_table_delete":"Delete","Attachment deleted successfully":"Attachment deleted successfully!","Attachment was added successfully":"Attachment was added successfully!","Saved successfully":"Saved successfully!","Added successfully":"Added successfully!","Deleted successfully":"Deleted successfully!","Submitted successfully":"Submitted successfully!","Canceled successfully":"Canceled successfully!","Reassigned successfully":"Reassigned successfully!","Relocated successfully":"Relocated successfully!","Attachments":"Attachments","Versions":"Versions","Current Version":"（Current Version）","workflow_attachment_free_size_limit":"Sorry, Attachment larger than 1M is not accepted for free version.","workflow_attachment_paid_size_limit":"Failed to upload, because attachment size is over ","workflow_attachment_download":"Download","workflow_attachment_view":"View","workflow_attachment_isReadOnly":"ReadOnly-","workflow_attachment_versions":"Versions","workflow_attachment_uploading":"Uploading ","workflow_attachment_downloading":"Downloading %s...","workflow_attachment_creating":"Creating a new file: %s...","workflow_attachment_officeOnline":"Edit","workflow_attachment_save":"Save","workflow_attachment_close":"Close","workflow_attachment_delete":"Delete","workflow_attachment_convert_to_pdf":"Converting '%s' to pdf format...","workflow_attachment_wordToPdf":"Convert To Pdf","workflow_attachment_wordToPdf_failed":"Convert to PDF failed!","workflow_attachment_locked_tip":"Unlock the file, then submit","Instance State approved":"Approved","Instance State rejected":"Rejected","Instance State terminated":"Cancelled","Instance State finished":"Completed","Instance State pending":"In Progress","Instance State reassigned":"Reassigned","Instance State relocated":"Relocated","Instance Relocate Hint":"Enter your comments here.","Instance Relocate Title":"Relocate","Instance Relocate Reason":"Comments are required.","Instance Relocate NewInboxUsers":"Please select a user.","Instance Relocate Ok":"Relocated successfully.","Instance Relocate CurStep":"Current Step: ","instance_reassign_title":"Reassign","instance_reassign_curstep":"Current Step: ","instance_reassign_reason":"Enter your comments here.","instance_reassign_ok":"Reassigned successfully.","instance_reassign_user":"Select User(s)","instance_cancel_title":"Cancel Request","instance_cancel_reason":"Enter your comments here","instance_reassign_error_reason_required":"Comments are required.","instance_reassign_error_users_required":"Please select a user.","instance_cancel_error_reason_required":"Comments are required.","instance_select_next_step":"Please select next step","instance_multi_next_step_tips":"Multi next steps，please select next step，and send the request by click the bottom Send button","instance_next_step_user":"Please select next step user(s)","instance_reasons_reject":"Reasons necessary when reject the application","instance_field":"The field","instance_is_required":"is required","instance_email_format_error":"Format error of the email address","node_office_edit_online":"Edit Online","node_office_message":"You are editing document, please save and exit Office software when done.","node_office_warning":"The file has been modified, do you want to save it as a new version?","node_office_upload":"Upload ","node_office_confirm":"Confirm","node_office_cancel":"Cancel","node_office_uploaded":"The attachment has been uploaded","node_office_filePath":"File: ","node_office_exists_message":"File already exists, replace it?","node_office_workflow":"Workflow","node_pdf_error":"Pdf signature failed, please re-sign!","node_pdf_sign_online":"Sign Online","node_pdf_message":"You are signing pdf file.","node_pdf_filePath":"File: ","workflow_export_thismonth":"Export requests this month","workflow_export_lastmonth":"Export requests last month","workflow_export_thisyear":"Export requests this year","workflow_export_all":"Export all requests","workflow_export_filter":"Filter by process","workflow_export_search":"Search for requests according to the workflow","workflow_export_data":"Export to Excel","spaces_isarrearageSpace":"your space is arrearage","cc_help":"https://www.steedos.com/us/help/workflow/instance_carboncopy.html","relocate_help":"https://www.steedos.com/us/help/workflow/instance_relocate.html","reassign_help":"https://www.steedos.com/us/help/workflow/instance_reassign.html","forward_help":"https://www.steedos.com/us/help/workflow/instance_forward.html","export_filter_help":"https://www.steedos.com/us/help/workflow/instance_search.html","new_help":"https://www.steedos.com/us/help/workflow/instance_add.html","Inbox Suggestion NextSteps Label":"Next step: ","Inbox Suggestion NextSteps Handler Label":"Assignee: ","Workflow Designer":"Workflow Designer","User Management":"User Management","All flows":"All workflows","Select a flow":"Select a workflow","Fill in form":"New Request","Flow upgraded":"The workflow has been upgraded. Please make sure this request meet the requirements of the new version.","Are you sure?":"Are you sure?","Select placeholder":"Please select","workflow_no_category":"No category","space_users_error_space_required":"Space required","flow_roles_error_positions_exists":"Users exised in the role","workflow_left_parenthesis":"(","workflow_right_parenthesis":")","instance_cc_description":"Carbon Description","instance_cc_from":"Carbon Form","instance_cc_title":"Carbon Copy","instance_cc_done":"Carbon copied!","instance_curstep":"Current Step: ","instance_cc_user":"Carbon Copy To","instance_cc_error_users_required":"Please select user.","workflow_form_edit":"Workflow List","flows_template":"Request Template","flows_name":"Workflow Name","flows_print_template":"Print Template","flows_instance_template":"Form Template","flows_description":"Flow Description","workflow_attach_unlock":"Unlock","workflow_attach_locked_by":"%s is editing","workflow_attach_confirm_delete":"Are you sure?","workflow_attach_confirm_delete_messages":"You will not be able to recover this imaginary file!","workflow_attach_confirm":"Delete","workflow_attach_cancel":"Cancel","workflow_attach_to_pdf":"Convert to PDF","workflow_attach_to_pdf_message":"Convert '%s' to pdf format?","workflow_attach_upload":"Upload","workflow_attach_new":"New","workflow_attachment_signature":"Signature","workflow_select_an_app":"Steedos Apps","workflow_suggestion_placeholder":"Please fill in comments.","instance_opinion_title":"Opinions","instance_opinion_btn":"Opinions","instance_opinion_input":"Add a opinion","instance_opinion_add_success":"Add successfully!","instance_opinion_remove_success":"Remove successfully!","instance_opinion_error":"Error","instance_opinion_exists":"Opinion exists","instance_opinion_add_tip":"You have not set up common comments yet.","instance_forward_title":"Request Forward","form_field_checkbox_yes":"YES","form_field_checkbox_no":"NO","flows_events":"Events","flows_events_error":"Workflow Script Error: ","instance_search_advanced_search":"Advanced search","instance_search_flow":"Workflow","instance_search_name":"Request Title","instance_search_file":"Request Title","instance_search_applicant_name":"Applicant Name","instance_search_applicant_organization_name":"Applicant Organization","instance_search_submit_date":"Submit Date","instance_search_start":"Start","instance_search_end":"End","instance_search_result_tip":"Filtered Result","instance_search_state":"Request State","instance_search_state_options":{"pending":"Pending","completed":"Completed"},"instance":{"formatter":{"date":{"simple_date":"bb DD, YYYY","simple_datetime":"bb DD, YYYY HH:MM","export_date":"YYYY-MM-DD","export_datetime":"YYYY-MM-DD HH:MM"},"checkbox":{"checked":"YES","unchecked":"NO"}},"instance_view":"<br/><br/>Following are the contents of the request:<br/>Space : {$space_name};<br/>Initiator : {$applicant_name};<br/>Submit Date : {$submit_date};","push":{"final_decision_approved":"Approved","final_decision_rejected":"Rejected","final_decision_nil":"","title":{"first_submit_applicant":"{$from_username}","first_submit_inbox":"{$from_username}","submit_pending_rejected_applicant_inbox":"{$from_username}","submit_pending_rejected_applicant":"{$from_username}","submit_pending_rejected_approve":"{$from_username}","submit_pending_rejected_inbox":"{$from_username}","submit_pending_inbox":"{$from_username}","submit_terminate_applicant":"{$from_username}","submit_terminate_approve":"{$from_username}","monitor_delete_applicant":"{$applicant_name}","submit_completed_applicant":"{$applicant_name}","submit_completed_approve":"{$from_username}","approved_completed_applicant":"{$applicant_name}","approved_completed_approve":"{$from_username}","rejected_completed_applicant":"{$applicant_name}","rejected_completed_approve":"{$from_username}","reassign_new_inbox_users":"{$from_username}","trace_approve_cc":"{$from_username}","trace_approve_cc_submit":"{$from_username}","auto_submit_pending_inbox":"{$from_username}","return_pending_inbox":"{$from_username}"},"body":{"input":"input","approval":"approval","first_submit_applicant":"I have submitted a {$instance_name} request for you","first_submit_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_rejected_applicant_inbox":"Request for {$instance_name} has been rejected","submit_pending_rejected_applicant":"Request for {$instance_name} has been rejected to {$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_inbox":"My {$instance_name} request needs your {$approve_type}","submit_terminate_applicant":"Request for {$instance_name} has been cancelled","submit_terminate_approve":"","monitor_delete_applicant":"Request for {$instance_name} has been deleted","submit_completed_applicant":"Request for {$instance_name} has been approved","submit_completed_approve":"","approved_completed_applicant":"Request for {$instance_name} has been approved","approved_completed_approve":"","rejected_completed_applicant":"Request for {$instance_name} has been rejected","rejected_completed_approve":"","reassign_new_inbox_users":"My {$instance_name} request needs your {$approve_type}","trace_approve_cc":"My {$instance_name} request needs your {$approve_type}","remind":"Remind：{$instance_name}, Deadline：{$deadline}","trace_approve_cc_submit":"I have submitted a cc {$instance_name}","distribute_remind":"My {$instance_name} has been end","auto_submit_pending_inbox":"Your {$instance_name} auto submitted to {$current_step_name}","return_pending_inbox":"Request for {$instance_name} has been returned"}},"email":{"final_decision_approved":"Approved","final_decision_rejected":"Rejected","final_decision_nil":"","inscribed":"<br/><br/>Sincerely,<br/>","footnote":"This is an automatically generated email, please do not reply to it.","title":{"input":"input","approval":"approval","first_submit_applicant":"I have submitted a {$instance_name} request for you","first_submit_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_rejected_applicant_inbox":"Request for {$instance_name} has been rejected","submit_pending_rejected_applicant":"Request for {$instance_name} has been rejected to {$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_inbox":"My {$instance_name} request needs your {$approve_type}","submit_terminate_applicant":"Request for {$instance_name} has been cancelled","submit_terminate_approve":"","monitor_delete_applicant":"{$instance_name} has been deleted","submit_completed_applicant":"I have approved your request for {$instance_name}","submit_completed_approve":"","approved_completed_applicant":"I have approved your request for {$instance_name}","approved_completed_approve":"","rejected_completed_applicant":"I have rejected your request for {$instance_name}","rejected_completed_approve":"","reassign_new_inbox_users":"My {$instance_name} request needs your {$approve_type}","trace_approve_cc":"My {$instance_name} request needs your {$approve_type}","auto_submit_pending_inbox":"Your {$instance_name} has been submitted automatically","return_pending_inbox":"I have returned your request for {$instance_name}"},"body":{"url_input":"input","url_approval":"approval","input":"input","approval":"approval","judge_approved":"approved","judge_submitted":"provided his input for","email_description":"Comments : {$description}.","first_submit_applicant":"Hi {$to_username},<br/><br/>I have submitted a {$instance_name} request on behalf of you.<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>I have submitted a {$instance_name} request on behalf of you, and attached the following comments with the request.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_inbox":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}.<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_inbox_beApproveDescription":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. He / she has attached the following comments with the request.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_applicant_inbox":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been rejected by {$lastApprove_usersname} with the following comments.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been rejected by {$lastApprove_usersname}.He / She has attached the following comments with the request, and has sent it to {$nextApprove_usersname}<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"Hi {$to_username},<br/><br/>{$applicant_name}'s request for {$instance_name} needs your {$approve_type}, which has been rejected by {$lastApprove_usersname} with the following comments.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has {$last_approve_judge} this request.<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox_beApproveDescription":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has {$last_approve_judge} this request with the following comments.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox_beApproveDescription_counterSign":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has provided their input for this request with the following comments.<br/>Comments : <br/>","submit_terminate_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been cancelled by {$current_username}.He / She has attached the following comments with the request.<br/>Comments : {$description}.","submit_terminate_approve":"","monitor_delete_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been deleted.","submit_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}.<br/><a href = {$href}>Please click here to view this request.</a>","submit_completed_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}. He / she has attached the following comments with the request. <br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_completed_applicant_beApproveDescription_counterSign":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}. They has attached the following comments with the request. <br/>Comments :<br/>","submit_completed_approve":"","approved_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final approved by {$lastApprove_usersname}.<br/><a href = {$href}>Please click here to view this request.</a>","approved_completed_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final approved by {$lastApprove_usersname}. He / she has attached the following comments with the request. <br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","approved_completed_approve":"","rejected_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final rejected by {$lastApprove_usersname}. He / She has attached the following comments with the request.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","rejected_completed_approve":"","reassign_new_inbox_users":"Hi {$to_username},<br/><br/>{$current_user_name} has transferred {$applicant_name}'s {$instance_name} to you with the following comments. <br/>Comments : {$description}<br/><a href = {$href}>Please click here to view this request.</a>。","trace_approve_cc":"Hi {$to_username},<br/><br/>{$applicant_name} has cc a {$instance_name} request, which needs your {$approve_type}.<br/><a href = {$href}>Please click here to view this request.</a>","auto_submit_pending_inbox":"Hi {$to_username},<br/><br/>Your {$instance_name} has been submitted to {$current_step_name} automatically.","return_pending_inbox":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been returned by {$current_username}.He / She has attached the following comments with the request.<br/>Comments : {$description}."}},"sms":{"submit_pending_inbox":"您有新的待审核：{$instance_name}，提交人：{$applicant_name}"},"remindMessage":{"update_failed":"Requested action not taken, because this request has been updated.","has_deleted":"This report has been deleted."},"judge":{"approved":"approved","rejected":"rejected"}},"flow":{"point_upgraded":"The workflow has been upgraded. Please make sure this request meet the requirements of the new version.","print_select_template_alert":"Please upgraded to Professional Version.","print_select_title":"Select Template","print_default_print_title":"Default","print_custom_print_title":"Custom","print_button_title":"Print","print_html_title":"SteedOS"},"help":{"href":"<a href = {$href}>Please click here to view this request.</a>","approves":"Approval History","initiator":"Initiator : ","attachment":"Attachment"},"export":{"code":"Code","name":"Name","initiator":"Initiator","initiator_org":"Initiator's Organization","submit_date":"Submit Time","status":"Status","current_step_name":"Current Step Name","current_step_start_date":"Current Step Start Time","state":{"pending":"In Progress","approved":"Approved","rejected":"Rejected","terminated":"Cancelled","finished":"Completed","reassigned":"Reassigned","inhand":"In Progress","relocated":"Relocated"}},"steedos":"Steedos","cc":"cc","saveInstanceToAttachment":"Save request form as an attachment.","forwardFlowText":"Forward description","instanceForwardNote":"Forward the currently selected request to a new workflow and proceed with the approval process.","button_preview":"Preview","remove_cc_approve":"Deleted success","forward_instance_success":"Forward success","isForwardAttachments":"Is forward attachments.","instance_retrieve":"Retrieve","instance_retrieve_reason":"Remarks","instance_retrieve_rules_title":"Retrieve failed","instance_retrieve_rules_content":"You can not retrive a request if user in next step has read the request, or you are in a concurrent signed step.","Retrieved successfully":"Retrieved successfully!","Instance State retrieved":"Retrieved","instance_chrome_print_warning":"Please use the Chrome browser to print.","instance_sign":"Sign","instance_default_opinion":"Already read","instance_submit_date":"Submit date","instance_opinion_edit":"Edit the opinion","instance_opinion_edit_success":"Edit successfully!","instance_opinion_field":"Sign field","instance_cc_error_opinion_field_required":"Please select the sign field","instance_suggestion_toggle":"Sign","instance_approve_read":"Read","instance_approve_from_user_name_label":"cc from","instance_approve_status_text_label":"status","instance_approve_description_label":"suggestion","instance_approve_start_date_label":"start date","instance_approve_finish_date_label":"finish date","instance_approve_read_yes":"yes","instance_approve_read_no":"no","instance_approve_cc_remove":"cancel cc","instance_approve_close_modal":"close","instance_approve_title_label":"Handler:","instance_forward_users":"Forward To","instance_forward_error_users_required":"Users required!","instance_approve_from_user_name_label_forward":"Forward from","instance_approve_forward_remove":"Cancel forward","instance_approve_forward_remove_success":"Request cancelled successfully!","instance_forward_instance_look":"Look the forwarded request","instance_forward_cannot_cancel":"Can not cancel!","instance_forward_instance_state_changed":"Request state has hanged, can not cancel.","webhooks":"Webhooks","webhooks_flow":"Workflow","webhooks_payload_url":"URL","webhooks_content_type":"Content type","webhooks_active":"Active","webhooks_flow_name()":"Workflow","webhooks_description":"Description","workflow_list":"Workflow List","workflow_import_flow":"Import Workflow","workflow_import_flow_success":"Import success","workflow_import_flow_error":"Import failed","workflow_import_flow_info":"Please select the workflow you want to import","flows":"Workflow","instance_readonly_view_url_copy":"Copy Link","instance_readonly_view_url_copy_success":"Tableau Web Data Connector copy successful","instance_related_instances":"Related requests","instance_related_instances_title":"Linked requests","instance_related_instances_placeholder":"Please enter the file name to search for the associated file","workflow_install_desktop":"Install Desktop","workflow_chart":"Workflow Chart","instance_return":"Return","instance_return_success":"Return successfully","instance_return_confirm":"Return the request to {$step_name}({$handlers_name})?","Instance State returned":"Returned","instance_main_attachment":"Main attach","flows_field_map":"Field Map","Instance State readed":"Read","instance_distribute_title":"Distribute","instance_distribute_users":"Users","instance_distribute_error_users_required":"Users required!","instance_distribute_approve_from_user_name_label":"Distribute from","instance_distribute_approve_remove":"Cancel distribute","instance_distribute_instance_look":"Look the distributed request","instance_distribute_note":"Distribute the currently selected request to a new workflow and proceed with the approval process.","instance_distribute_attachments":"Is distribute attachments.","instance_distribute_success":"Distribute success","instance_no_add_permission":"{$actiontype} failed, users no create permission: {$usernames}","instance_workflow_chart_ie_warning":"Do not support viewing the workflow chart in IE, please do this on client software or chrome.","instance_remind_title":"Remind","instance_remind_select_users":"Users","instance_remind_count":"Mode","instance_remind_deadline":"Deadline","instance_remind_success":"Remind successfully","instance_remind_need_remind_users":"Need users","instance_remind_need_remind_count":"Need mode","instance_remind_need_remind_deadline":"Need deadline","instance_remind_count_options":{"single":"single","multi":"multi"},"instance_opinion_title_select":"Select opinions","categories":"Workflow categories","categories_name":"Name","categories_sort_no":"Sort no","not_found_user":"Not Found User","next_step_users_not_found":{"aplicant_superior":"The applicant's superior is not configured, please contact the Administrator.","applicant_role":"The <{$role_name}> you are looking for have not configured,Please contact the administrator.","hr_role":"The <{$role_name}> you are looking for have not configured,Please contact the administrator.","field_value_empty":"Please enter the value of the <{$field_name}>field","org_no_members":"The next step need <{$org_name}> processing,Please contact the administrator."},"instanc_admin_role_text":"<a href='%s' target='_blank'> configuration in position</a>","instanc_user_role_text":" configuration in position","instanc_set_applicant_role_text":"set positions users","instance_sign_read":"Read","instance_sign_done":"Done","instance_sign_agree":"Agree","instance_sign_period":"。","instance_cc_alert":"Please confirm whether it need to circulate","instance_cc_must_finished":"The cc users：{$not_finished_users_name} had not deal with this request, so you can not submitt this instance to next step","instance_number_rules":"Request number rules","instance_number_rules_name":"Name","instance_number_rules_year":"Year","instance_number_rules_first_number":"Start sequence","instance_number_rules_number":"Sequence","instance_number_rules_rules":"Rules","instance_number_rules_number_builder_error_title":"Builder number error","instance_number_rules_number_builder_error_not_exist":"The number rule does not exist: ","ConfirmDeletion?":"Are you sure?","instance_number_rules_name_only":"The name can not be repeated","flows_btn_export_title":"Export Flow","flows_btn_copylink_title":"Copy Link","instance_distribute_related_instances_title":"Automatically create associated requests","instance_next_step_users_placeholder":"Please select the approver","instance_distribute_to_self":"Also distributed to yourself","my_instances":"My Requests","workflow_import_export_flows":"Workflow import or export","workflow_history_approve_counts":"Show %s history descriptions","workflow_history_approve_description":"History description","instances_start_date":"Receiving time","instances_is_archived":"Archived","instances_archive":"Archive","instances_archived":"Archived","instances_not_archived":"Not archived","workflow_more_inbox":"More Inbox","instance_back":"Back","steedos_tableau_statistical_analysis":"Statistical analysis","steedos_tableau_copy_link":"Copy link","tableau_introduction_modal_close":"Close","ERROR":"Error","steedos_table_add_item":"Add item","approved_description":"Approved","rejected_description":"Rejected","copy":"Copy and Create","from":"From","admin_flow_roles_create":"Create","flow_roles_delete_success":"Delete successfully","add_positions":"Add","save_role":"Save","delete_role":"Delete","flow_roles_update_success":"Update successfully","flow_roles_necessary":"Please fill in role's name","flow_positions_add_suceess":"Add successfully","flow_positions_add_failed":"Be failed to add","flow_positions_update_suceess":"Update successfully","flow_positions_update_failed":"Be failed to update","flow_positions_delete_suceess":"Delete successfully","instance_role_set_is_complete":"Flow Role set up?","instance_hr_role_set_is_complete":"Role set up?","instance_set_is_complete":"set up?","flow_roles_help":"Help","set_org_members":"Set department members","set_applicant_manager":"Set the applicant supervisor","instance_permissions_error":"You do not have permission to view this request","start_flows":"Start flows","chart_traces":"Chart Traces","cc_tag":"(Carbon Copying)","workflow_batch_approval":"Batch approval","workflow_batch_approval_btn":"Batch<br/>approval","workflow_batch_approval_processing":"Processing","workflow_batch_approval_message":"This processing file %s","workflow_error_multiple_next_step_users":"'{$insname}' the next person can not handle more than one","workflow_error_multiple_next_step":"'{$insname}' can not have more than one next step","workflow_batch_instances_empty":"There is no data for batch approval","workflow_sign_opinion_to_completed_instance":"This document is over and the signed opinion will not be displayed on the application","workflow_copy_flow":"Copy flow","workflow_copy_flow_text":"Please fill in the new flow name","workflow_copy_flow_success":"The copy flow is successful","workflow_copy_flow_error_reason_required":"Comments are required.","workflow_enabled":"Enabled","workflow_disabled":"Disabled","flows_state":"State","flows_current_modified":"Modified","flows_modified_by_name()":"Editor","flows_category_name()":"Categories","flow_list_title_set_template":"Set Template","flow_list_title_set_script":"Set Script","flow_list_title_set_fieldsMap":"Set Archive relationship","distribute_edit_flow_select_users":"users options","distribute_edit_flow_select_flows":"flows options","flow_list_title_set_distribute":"Set Distribute","distribute_to_self":"can distribute to self","distribute_end_notification":"notificate user after distributed end","instance_deleted":"Deleted","workflow_flow_state_disabled":"The state of flow({$name}) is disabled, Administrator can enable flow.","flow_roles_error_flows_used":"Role has been used by flows: {$names}","instance_approve_not_yet_handled":"Not yet handled","instance_approve_distribute_date_label":"Distribute date","flows_auto_remind":"Auto remind","flows_upload_after_being_distributed":"Allow upload after being distributed","instances_my_finish_date":"Modified","pager_input_hint":"Click and input page number, then press Enter to jump to the specified page","instance_hide_title":"Hide","instance_hide_success":"Hide Success","instance_reopen_title":"Unhide","instance_reopen_success":"Unhide Success","workflow_design_flow":"Design flow","process_delegation_rules":"Process Delegation","process_delegation_rules_from":"From","process_delegation_rules_to":"To","process_delegation_rules_enabled":"Enabled","process_delegation_rules_start_time":"Strat Time","process_delegation_rules_end_time":"End Time","process_delegation_rules_from_name":"From","process_delegation_rules_to_name":"To","process_delegation_rules_start_must_lt_end":"Strat time must less than end time","process_delegation_rules_description":"{$userName} delegated","instance_handler_name":"Handler","instance_handler_organization_fullname":"Organization","url_invalid":"Invalid link","instance_approve_timeout_auto_submitted":"Timeout auto submitted"});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"zh-CN.i18n.json.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/i18n/zh-CN.i18n.json.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Package['universe:i18n'].i18n.addTranslations('zh-CN','',{"Steedos Workflow":"审批","inbox":"待审核","outbox":"已审核","draft":"草稿","pending":"进行中","completed":"已完成","monitor":"监控箱","FlowName":"名称","Search":"搜索","My Approval":"审核","My Applications":"我的申请单","Submit":"提交","steedos_desktop":"华炎云","menu_navigation":"导航","Workflow":"审批","form_new":"新建表单","instances":"审批","instances_name":"标题","instances_applicant_name":"提交人","instances_modified":"处理时间","instances_applicant_organization_name":"部门","instances_submit_date":"提交时间","instances_flow":"流程","instances_step_current_name":"当前步骤","instances_flow_name":"流程","instances_current_step_name":"当前步骤","instance_approve":"核准","instance_reject":"驳回","instance_readed":"已阅","instance_next_step":"下一步","instance_next_step_users":"处理人","instance_initiator":"提交人","instance_approval_history":"签核历程","instance_in_progress":"处理中","instance_submit":"提交","instance_save":"保存","instance_delete":"删除","instance_attachment":"附件","instance_cancel":"取消申请","instance_reassign":"转签核","instance_relocate":"重定位","instance_print":"打印","flow_roles":"审批岗位","flow_roles_name":"岗位名称","flow_positions":"岗位成员","flow_positions_role":"岗位","flow_positions_org":"审批范围","flow_positions_users":"岗位成员","flow_positions_role_name()":"岗位","flow_positions_org_name()":"审批范围","flow_positions_users_name()":"岗位成员","workflow_table_confirm":"确认","workflow_table_delete":"删除","Attachment deleted successfully":"文件删除成功!","Attachment was added successfully":"文件添加成功!","Saved successfully":"申请单已暂存.","Added successfully":"创建成功!","Deleted successfully":"删除成功!","Submitted successfully":"提交成功!","Canceled successfully":"取消申请成功!","Reasigned successfully":"转签核成功!","Relocated successfully":"重定位成功!","Attachments":"附件","Versions":"版本","Current Version":"（最新版本）","workflow_attachment_free_size_limit":"抱歉，免费版工作区只能上传1M以内的文件。","workflow_attachment_paid_size_limit":"您上传的文件大小不得超过","workflow_attachment_download":"下载","workflow_attachment_view":"查看","workflow_attachment_isReadOnly":"只读-","workflow_attachment_versions":"历史版本","workflow_attachment_uploading":"正在上传 ","workflow_attachment_downloading":"正在下载 %s...","workflow_attachment_creating":"正在新建word文档 %s...","workflow_attachment_officeOnline":"编辑","workflow_attachment_save":"保存","workflow_attachment_close":"关闭","workflow_attachment_delete":"删除","workflow_attachment_convert_to_pdf":"正在将 '%s' 转换为pdf格式文件...","workflow_attachment_wordToPdf":"转为pdf","workflow_attachment_wordToPdf_failed":"未转换成功，请重新尝试！","workflow_attachment_locked_tip":"您有文件正在编辑，请解锁后提交","Instance State approved":"已核准","Instance State rejected":"已驳回","Instance State terminated":"被取回","Instance State finished":"已完成","Instance State pending":"审核中","Instance State reassigned":"转签核","Instance State relocated":"重定位","Instance Relocate Hint":"请填写重定位的理由。","Instance Relocate Title":"重定位","Instance Relocate Reason":"请填写重定位的理由。","Instance Relocate NewInboxUsers":"请选择重定位审核人。","Instance Relocate Ok":"重定位提交成功。","Instance Relocate CurStep":"当前步骤: ","instance_reassign_title":"转签核","instance_reassign_curstep":"当前步骤: ","instance_reassign_reason":"请填写转签核的理由。","instance_reassign_ok":"转签核提交成功。","instance_reassign_user":"变更处理人","instance_cancel_title":"取消申请","instance_cancel_reason":"请填写取消申请的理由","instance_reassign_error_reason_required":"请填写转签核的理由。","instance_reassign_error_users_required":"请指定处理人。","instance_cancel_error_reason_required":"请填写取消申请的理由。","instance_select_next_step":"请选择下一步步骤","instance_multi_next_step_tips":"步骤选项有多个，请选择下一步步骤，并使用底部发送按钮提交文件","instance_next_step_user":"请选择下一步处理人","instance_reasons_reject":"驳回时必须填写意见","instance_field":"字段","instance_is_required":"为必填","instance_email_format_error":"邮件地址格式错误","node_office_edit_online":"在线编辑","node_office_message":"您正在使用在线编辑功能，编辑完成后请关闭Office软件。","node_office_warning":"文件已修改，请确认是否保存为新版本？","node_office_upload":"上传 ","node_office_confirm":"确定","node_office_cancel":"取消","node_office_uploaded":"文件已上传","node_office_filePath":"文件：","node_office_exists_message":"文件已存在，是否替换？","node_office_workflow":"审批王","node_pdf_error":"pdf签章失败，请重新进行签章！","node_pdf_sign_online":"在线签章","node_pdf_message":"您正在使用在线签章功能。","node_pdf_filePath":"文件：","workflow_export_thismonth":"导出当月申请单","workflow_export_lastmonth":"导出上月申请单","workflow_export_thisyear":"导出当年申请单","workflow_export_all":"导出所有申请单","workflow_export_filter":"按流程过滤","workflow_export_search":"按流程查看申请单","workflow_export_data":"导出申请单","spaces_isarrearageSpace":"您的工作区已欠费","cc_help":"https://www.steedos.com/cn/help/workflow/instance_carboncopy.html","relocate_help":"https://www.steedos.com/cn/help/workflow/instance_relocate.html","reassign_help":"https://www.steedos.com/cn/help/workflow/instance_reassign.html","forward_help":"https://www.steedos.com/cn/help/workflow/instance_forward.html","export_filter_help":"https://www.steedos.com/cn/help/workflow/instance_search.html","new_help":"https://www.steedos.com/cn/help/workflow/instance_add.html","Inbox Suggestion NextSteps Label":"下一步骤: ","Inbox Suggestion NextSteps Handler Label":"处理人: ","Workflow Designer":"流程设计器","User Management":"用户管理","All flows":"所有流程","Select a flow":"请点击流程分类选择相应流程","Fill in form":"填写表单","Flow upgraded":"流程已升级，请检查您填写的内容是否符合修改后的要求。","Are you sure?":"确认删除吗？","Select placeholder":"请选择","workflow_no_category":"未分类","space_users_error_space_required":"工作区必填","flow_roles_error_positions_exists":"已有用户担任该角色","workflow_left_parenthesis":"（","workflow_right_parenthesis":"）","instance_cc_description":"传阅说明","instance_cc_from":"传阅自","instance_cc_title":"传阅","instance_cc_done":"已传阅","instance_curstep":"当前步骤: ","instance_cc_user":"传阅对象","instance_cc_error_users_required":"请选择传阅对象。","workflow_form_edit":"流程列表","flows_template":"申请单模板","flows_name":"流程名称","flows_print_template":"打印模板","flows_instance_template":"表单模板","flows_description":"流程描述","workflow_attach_unlock":"解锁","workflow_attach_locked_by":"%s 正在编辑","workflow_attach_confirm_delete":"确认删除","workflow_attach_confirm_delete_messages":"你确定删除'%s'吗？","workflow_attach_confirm":"删除","workflow_attach_cancel":"取消","workflow_attach_to_pdf":"转为pdf","workflow_attach_to_pdf_message":"是否将'%s'转为pdf格式文件？","workflow_attach_upload":"上传","workflow_attach_new":"新建","workflow_attachment_signature":"签章","workflow_select_an_app":"应用","workflow_suggestion_placeholder":"请填写意见。","instance_opinion_title":"常用意见","instance_opinion_btn":"常用</br>意见","instance_opinion_input":"请输入常用意见","instance_opinion_add_success":"添加成功!","instance_opinion_remove_success":"移除成功!","instance_opinion_error":"出错了","instance_opinion_exists":"常用意见已存在","instance_opinion_add_tip":"您还没有设置常用意见。","instance_forward_title":"转发","form_field_checkbox_yes":"是","form_field_checkbox_no":"否","flows_events":"自定义脚本","flows_events_error":"自定义脚本错误: ","instance_search_advanced_search":"高级搜索","instance_search_flow":"流程","instance_search_name":"申请单标题","instance_search_file":"文件标题","instance_search_applicant_name":"提交人姓名","instance_search_applicant_organization_name":"提交人所属部门名称","instance_search_submit_date":"提交日期","instance_search_start":"起","instance_search_end":"至","instance_search_result_tip":"过滤的结果","instance_search_state":"申请单状态","instance_search_state_options":{"pending":"流转中","completed":"已结束"},"instance":{"formatter":{"date":{"simple_date":"YYYY年MM月DD日","simple_datetime":"YYYY年MM月DD日 HH:mm","export_date":"YYYY-MM-DD","export_datetime":"YYYY-MM-DD HH:mm"},"checkbox":{"checked":"是","unchecked":"否"}},"instance_view":"<br/><br/>申请单内容摘要如下:<br/>工作区 : {$space_name};<br/>提交 : {$applicant_name};<br/>提交日期 : {$submit_date};","push":{"final_decision_approved":"被核准，","final_decision_rejected":"被驳回，","final_decision_nil":"","title":{"first_submit_applicant":"{$from_username}","first_submit_inbox":"{$from_username}","submit_pending_rejected_applicant_inbox":"{$from_username}","submit_pending_rejected_applicant":"{$from_username}","submit_pending_rejected_approve":"{$from_username}","submit_pending_rejected_inbox":"{$from_username}","submit_pending_inbox":"{$from_username}","submit_terminate_applicant":"{$from_username}","submit_terminate_approve":"{$from_username}","monitor_delete_applicant":"{$applicant_name}","submit_completed_applicant":"{$applicant_name}","submit_completed_approve":"{$from_username}","approved_completed_applicant":"{$applicant_name}","approved_completed_approve":"{$from_username}","rejected_completed_applicant":"{$applicant_name}","rejected_completed_approve":"{$from_username}","reassign_new_inbox_users":"{$from_username}","trace_approve_cc":"{$from_username}","trace_approve_cc_submit":"{$from_username}","auto_submit_pending_inbox":"{$from_username}","return_pending_inbox":"{$from_username}"},"body":{"input":"确认","approval":"审批","first_submit_applicant":"请确认:我已代您提交了{$instance_name}","first_submit_inbox":"{$instance_name}","submit_pending_rejected_applicant_inbox":"请修改:{$instance_name}","submit_pending_rejected_applicant":"您的{$instance_name}已驳回给{$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"{$instance_name}","submit_pending_inbox":"{$instance_name}","submit_terminate_applicant":"{$instance_name}被我取消申请了","submit_terminate_approve":"","monitor_delete_applicant":"您的{$instance_name}已被删除","submit_completed_applicant":"您的{$instance_name}已被确认","submit_completed_approve":"","approved_completed_applicant":"您的{$instance_name}已被核准","approved_completed_approve":"","rejected_completed_applicant":"您的{$instance_name}已被驳回","rejected_completed_approve":"","reassign_new_inbox_users":"{$instance_name}","trace_approve_cc":"{$instance_name}","remind":"催办通知：{$instance_name}，办结时限：{$deadline}。","trace_approve_cc_submit":"我已提交了传阅的申请单{$instance_name}","distribute_remind":"您分发的{$instance_name}申请单已结束。","auto_submit_pending_inbox":"您的申请单{$instance_name}处理已超时，现已自动发送至{$current_step_name}","return_pending_inbox":"您的{$instance_name}已被退回"}},"email":{"final_decision_approved":"被核准，","final_decision_rejected":"被驳回，","final_decision_nil":"","inscribed":"<br/><br/>","footnote":"这是由审批王自动发送的邮件, 请不要直接回复。","title":{"input":"确认","approval":"审批","first_submit_applicant":"{$from_username}代您提交了{$instance_name}","first_submit_inbox":"请{$approve_type}:{$instance_name}","submit_pending_rejected_applicant_inbox":"请修改:{$instance_name}","submit_pending_rejected_applicant":"您的{$instance_name}已驳回给{$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"请重新{$approve_type}:{$instance_name}","submit_pending_inbox":"请{$approve_type}:{$instance_name}","submit_terminate_applicant":"{$instance_name}被我取消申请了","submit_terminate_approve":"","monitor_delete_applicant":"删除了您的{$instance_name}","submit_completed_applicant":"确认了您的{$instance_name}","submit_completed_approve":"","approved_completed_applicant":"核准了您的{$instance_name}","approved_completed_approve":"","rejected_completed_applicant":"驳回了您的{$instance_name}","rejected_completed_approve":"","reassign_new_inbox_users":"请{$approve_type}:{$instance_name}","trace_approve_cc":"请{$approve_type}:{$instance_name}","auto_submit_pending_inbox":"您的{$instance_name}已超时自动流转","return_pending_inbox":"退回了您的{$instance_name}"},"body":{"url_input":"查看并确认","url_approval":"进行审批","input":"确认","approval":"审批","judge_approved":"核准","judge_submitted":"确认","email_description":"驳回理由是:{$description} 。","first_submit_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>我已代您提交了{$instance_name}。<br/><a href = {$href}>请点击查看</a>。","first_submit_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>我已代您提交了{$instance_name}。<br/>备注是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","first_submit_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}提交了{$instance_name}。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","first_submit_inbox_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}提交了{$instance_name}。<br/>备注是 : {$approves_description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_rejected_applicant_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>您的申请单被{$lastApprove_usersname}驳回，请确认是否要修改。<br/>{$description}<br/><a href = {$href}>请点击查看</a>。","submit_pending_rejected_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被{$lastApprove_usersname}驳回, 目前{$nextApprove_usersname}正在处理中。<br/>{$description} <br/><a href = {$href}>请点击查看</a>。","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>请重新{$approve_type} : {$applicant_name}的{$instance_name}, 此申请单被{$lastApprove_usersname}驳回。<br/>{$description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已{$last_approve_judge}此申请单。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已{$last_approve_judge}此申请单。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox_beApproveDescription_counterSign":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已确认此申请单。<br/>他/她们的意见是 : <br/>","submit_terminate_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被取消申请。<br/>取消申请的理由是：{$description}。","submit_terminate_approve":"","monitor_delete_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被删除。","submit_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/><a href = {$href}>请点击查看</a>。","submit_completed_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","submit_completed_applicant_beApproveDescription_counterSign":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/>他/她们的意见是 :<br/> ","submit_completed_approve":"","approved_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}核准, 完成审核。<br/><a href = {$href}>请点击查看</a>。","approved_completed_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}核准, 完成审核。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","approved_completed_approve":"","rejected_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}驳回。<br/>{$description}<br/><a href = {$href}>请点击查看</a>。","rejected_completed_approve":"","reassign_new_inbox_users":"{$to_username}:<br/><br/>您好！<br/><br/>{$current_user_name}将{$applicant_name}的{$instance_name}转发给您{$approve_type}。<br/>转发的理由是：{$description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","trace_approve_cc":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}传阅了{$instance_name}。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","auto_submit_pending_inbox":"您的申请单{$instance_name}处理已超时，现已自动发送至{$current_step_name}","return_pending_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被退回。<br/>退回的理由是：{$description}。"}},"sms":{"submit_pending_inbox":"您有新的待审核：{$instance_name}，提交人：{$applicant_name}"},"remindMessage":{"update_failed":"申请单状态已更新，您的操作未能执行。","has_deleted":"申请单已删除。"},"judge":{"approved":"核准","rejected":"驳回"}},"flow":{"point_upgraded":"流程已升级，请检查您填写的内容是否符合修改后的要求。","print_select_template_alert":"只有专业版才有自定义模板功能，如有需要请升级到专业版或联系客服","print_select_title":"打印样式","print_default_print_title":"默认","print_custom_print_title":"自定义","print_button_title":"打印","print_html_title":"审批王"},"help":{"href":"<a href = {$href}>请点击查看</a>。","approves":"签核历程","initiator":"提交人 : ","attachment":"附件"},"export":{"code":"编号","name":"名称","initiator":"提交人","initiator_org":"提交人所属部门","submit_date":"提交日期","status":"状态","current_step_name":"当前步骤","current_step_start_date":"当前步骤开始日期","state":{"pending":"审核中","approved":"已核准","rejected":"已驳回","terminated":"被取回","finished":"已完成","reassigned":"转签核","inhand":"处理中","relocated":"重定位"}},"steedos":"华炎云","cc":"传阅","saveInstanceToAttachment":"将原表单存储为附件","forwardFlowText":"备注","instanceForwardNote":"将当前选中的文件转发到新的流程，继续执行审批操作","isForwardAttachments":"同时转发原表单附件","button_preview":"预览","remove_cc_approve":"传阅删除成功","forward_instance_success":"文件转发成功","instance_retrieve":"取回","instance_retrieve_reason":"备注","instance_retrieve_rules_title":"无法取回","instance_retrieve_rules_content":"下一步处理人已读无法取回；会签节点无法取回。","Retrieved successfully":"取回成功!","Instance State retrieved":"取回","instance_chrome_print_warning":"请使用Chrome浏览器进行打印","instance_sign":"签批","instance_default_opinion":"已阅","instance_submit_date":"提交日期","instance_opinion_edit":"请修改常用意见","instance_opinion_edit_success":"修改成功","instance_opinion_field":"签批字段","instance_cc_error_opinion_field_required":"请选择签批字段","instance_suggestion_toggle":"签批","instance_approve_read":"已读","instance_approve_from_user_name_label":"传阅自","instance_approve_status_text_label":"操作","instance_approve_description_label":"处理意见","instance_approve_start_date_label":"开始时间","instance_approve_finish_date_label":"结束时间","instance_approve_read_yes":"是","instance_approve_read_no":"否","instance_approve_cc_remove":"取消传阅","instance_approve_close_modal":"关闭","instance_approve_title_label":"处理人：","instance_forward_users":"转发对象","instance_forward_error_users_required":"请选择对象!","instance_approve_from_user_name_label_forward":"转发自","instance_approve_forward_remove":"取消转发","instance_approve_forward_remove_success":"取消成功","instance_forward_instance_look":"查看转发后申请单","instance_forward_cannot_cancel":"不符合取消条件！","instance_forward_instance_state_changed":"申请单状态已更新，不能取消！","instance_approve_modal_modification":"修改","instance_approve_modal_save":"保存","instance_approve_moda_back":"取消","instance_approve_modal_modificationsave":"您的修改保存成功","webhooks":"Webhooks","webhooks_flow":"流程","webhooks_payload_url":"URL","webhooks_active":"激活","webhooks_content_type":"传输数据类型","edit":"编辑","flow_list":"流程列表","import_flow":"导入流程","import_flow_success":"导入成功","import_flow_error":"导入失败","import_flow_info":"请选择需要导入的流程","webhooks_flow_name()":"流程","webhooks_description":"描述","workflow_list":"流程列表","workflow_import_flow":"导入流程","workflow_import_flow_success":"导入成功","workflow_import_flow_error":"导入失败","workflow_import_flow_info":"请选择需要导入的流程","flows":"流程","instance_readonly_view_url_copy":"复制链接","instance_readonly_view_url_copy_success":"Tableau Web 数据连接器已复制","instance_related_instances":"相关文件","instance_related_instances_title":"关联文件","instance_related_instances_placeholder":"请输入文件名称搜索关联文件","workflow_install_desktop":"安装客户端","workflow_chart":"流程图","instance_return":"退回","instance_return_success":"退回成功","instance_return_confirm":"确认退回至{$step_name}({$handlers_name})?","Instance State returned":"已退回","instance_main_attachment":"正文","flows_field_map":"归档关系","Instance State readed":"已阅","instance_distribute_title":"分发","instance_distribute_users":"分发对象","instance_distribute_error_users_required":"请选择分发对象!","instance_distribute_approve_from_user_name_label":"分发自","instance_distribute_approve_remove":"取消分发","instance_distribute_instance_look":"查看分发后申请单","instance_distribute_note":"将当前选中的文件分发到新的流程，继续执行审批操作","instance_distribute_attachments":"同时分发原表单附件","instance_distribute_success":"文件分发成功","instance_no_add_permission":"{$actiontype}未成功。以下用户没有新建此申请单的权限：{$usernames}","instance_workflow_chart_ie_warning":"暂不支持在IE中查看流程图，请在客户端软件或chrome上执行该操作。","instance_remind_title":"催办","instance_remind_select_users":"催办对象","instance_remind_count":"催办方式","instance_remind_deadline":"办结时限","instance_remind_success":"催办成功","instance_remind_need_remind_users":"缺少催办对象","instance_remind_need_remind_count":"缺少催办方式","instance_remind_need_remind_deadline":"缺少办结时限","instance_remind_count_options":{"single":"单次提醒","multi":"多次提醒"},"instance_opinion_title_select":"其他常用意见","categories":"流程分类","categories_name":"名称","categories_sort_no":"排序号","not_found_user":"未找到处理人","next_step_users_not_found":{"aplicant_superior":"申请人上级未配置，请联系管理员。","applicant_role":"您要找的「{$role_name}」还未配置，请联系管理员。","hr_role":"您要找的「{$role_name}」角色还未配置，请联系管理员。","field_value_empty":"获取处理人，请先填写「{$field_name}」。","org_no_members":"下一步需「{$org_name}」处理，请联系管理员。"},"instanc_admin_role_text":"<a href='%s' target='_blank'>岗位中进行配置。</a>","instanc_user_role_text":"岗位中进行配置","instanc_set_applicant_role_text":"设置","instance_sign_read":"已阅","instance_sign_done":"已办","instance_sign_agree":"同意","instance_sign_period":"。","instance_cc_alert":"还需传阅给其他人员吗？","instance_cc_must_finished":"当前步骤被传阅人员：{$not_finished_users_name} 还未处理，故不能提交至下一步","instance_number_rules":"流程编号规则","instance_number_rules_name":"名称","instance_number_rules_year":"年份","instance_number_rules_first_number":"起始序号","instance_number_rules_number":"序号","instance_number_rules_rules":"编号规则","instance_number_rules_number_builder_error_title":"文件编号生成失败","instance_number_rules_number_builder_error_not_exist":"流程编号规则不存在: ","ConfirmDeletion?":"确认删除?","instance_number_rules_name_only":"名称已存在","flows_btn_export_title":"导出流程","flows_btn_copylink_title":"复制链接","instance_distribute_related_instances_title":"自动创建关联文件","instance_next_step_users_placeholder":"请选择下一步处理人","instance_distribute_to_self":"同时分发给自己","my_instances":"我的文件","workflow_import_export_flows":"流程导入导出","workflow_history_approve_counts":"已显示%s条历史意见","workflow_history_approve_description":"历史意见","instances_start_date":"接收时间","instances_is_archived":"已归档","instances_archive":"归档","instances_archived":"已归档","instances_not_archived":"未归档","workflow_more_inbox":"更多待审核","instance_back":"返回","steedos_tableau_statistical_analysis":"统计分析","steedos_tableau_copy_link":"复制链接","tableau_introduction_modal_close":"关闭","ERROR":"错误","steedos_table_add_item":"新增一行","approved_description":"同意","rejected_description":"不同意","copy":"复制并新建","from":"来自","admin_flow_roles_create":"新建","flow_roles_delete_success":"删除成功","add_positions":"新增","save_role":"保存","delete_role":"删除","flow_roles_update_success":"更新成功","flow_roles_necessary":"请填写岗位名称","flow_positions_add_suceess":"添加成功","flow_positions_add_failed":"添加失败","flow_positions_update_suceess":"更新成功","flow_positions_update_failed":"更新失败","flow_positions_delete_suceess":"删除成功","instance_role_set_is_complete":"岗位设置完成？","instance_hr_role_set_is_complete":"角色设置完成？","instance_set_is_complete":"设置完成？","flow_roles_help":"帮助","set_org_members":"设置部门成员","set_applicant_manager":"设置申请人上级主管","instance_permissions_error":"您没有权限查看此申请单","start_flows":"星标流程","chart_traces":"图形化历程","cc_tag":"（传阅中）","workflow_batch_approval":"批量审批","workflow_batch_approval_btn":"批量<br/>审批","workflow_batch_approval_processing":"处理中","workflow_batch_approval_message":"本次处理文件%s份","workflow_error_multiple_next_step_users":"「{$insname}」的下一步处理人有多个","workflow_error_multiple_next_step":"「{$insname}」的下一步步骤有多个","workflow_batch_instances_empty":"没有可批量审批的数据","workflow_sign_opinion_to_completed_instance":"此文件已结束，签署的意见不会显示在申请单上","workflow_copy_flow":"复制流程","workflow_copy_flow_text":"请填写新流程名称","workflow_copy_flow_success":"复制流程成功","workflow_copy_flow_error_reason_required":"请填写新流程名称","workflow_enabled":"启用","workflow_disabled":"停用","flows_state":"状态","flows_current_modified":"修改时间","flows_modified_by_name()":"修改者","flows_category_name()":"流程分类","flow_list_title_set_template":"设置模版","flow_list_title_set_script":"设置脚本","flow_list_title_set_fieldsMap":"设置归档关系","distribute_edit_flow_select_users":"流程被分发时分发对象选择范围","distribute_edit_flow_select_flows":"搜索此步骤可分发流程","flow_list_title_set_distribute":"设置分发","distribute_to_self":"分发时可分发给自己","distribute_end_notification":"分发结束后提醒发起人","instance_deleted":"已删除","workflow_flow_state_disabled":"此申请单对应流程\"{$name}\"已被禁用，如想正常修改及提交请联系管理员启用流程","flow_roles_error_flows_used":"已有以下流程使用此角色：{$names}","instance_approve_not_yet_handled":"未处理","instance_approve_distribute_date_label":"分发时间","flows_auto_remind":"自动催办","flows_upload_after_being_distributed":"被分发后是否允许上传附件","instances_my_finish_date":"处理时间","pager_input_hint":"点击输入页码，然后按回车可跳转到指定页","instance_hide_title":"隐藏","instance_hide_success":"隐藏成功","instance_reopen_title":"取消隐藏","instance_reopen_success":"取消隐藏成功","workflow_design_flow":"设计流程","process_delegation_rules":"流程委托","process_delegation_rules_from":"委托人","process_delegation_rules_to":"被委托人","process_delegation_rules_enabled":"启用","process_delegation_rules_start_time":"委托开始","process_delegation_rules_end_time":"委托结束","process_delegation_rules_from_name":"委托人","process_delegation_rules_to_name":"被委托人","process_delegation_rules_start_must_lt_end":"开始时间应小于结束时间","process_delegation_rules_description":"{$userName}委托","instance_handler_name":"处理人","instance_handler_organization_fullname":"部门","url_invalid":"无效的链接","instance_approve_timeout_auto_submitted":"超时通过"});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"checkNpm.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/checkNpm.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let checkNpmVersions;
module.link("meteor/tmeasday:check-npm-versions", {
  checkNpmVersions(v) {
    checkNpmVersions = v;
  }

}, 0);
checkNpmVersions({
  "node-schedule": "^1.3.1",
  cookies: "^0.6.2",
  "xml2js": "^0.4.19",
  mkdirp: "^0.3.5",
  "sprintf-js": "^1.0.3"
}, 'steedos:workflow');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"lib":{"collection_helpers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/collection_helpers.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tapi18n.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/tapi18n.coffee                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"core.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/core.coffee                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Workflow = {};
this.ImageSign = {};
this.TracesTemplate = {};
this.InstanceformTemplate = {};
this.InstanceAttachmentTemplate = {};
this.InstanceSignText = {};
this.RelatedInstances = {};
this.RelatedRecords = {};
this.InstanceMacro = {
  context: {}
};
this.TracesManager = {};

if (Meteor.isClient) {
  Meteor.startup(function () {
    var workflow_three_columns;
    workflow_three_columns = localStorage.getItem("workflow_three_columns");

    if (workflow_three_columns && workflow_three_columns === "off") {
      return $("body").removeClass("three-columns");
    } else {
      return $("body").addClass("three-columns");
    }
  });
}

InstanceSignText.isOpinionField_from_string = function (field_formula) {
  return (field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{yijianlan:") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{\"yijianlan\":") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{'yijianlan':") : void 0) > -1;
};

InstanceSignText.includesOpinionField = function (form, form_version) {
  var _form_version, field_formulas, fields;

  field_formulas = new Array();
  _form_version = {};

  if (Meteor.isServer) {
    _form_version = uuflowManager.getFormVersion(db.forms.findOne({
      _id: form
    }), form_version);
  } else {
    _form_version = db.form_versions.findOne({
      _id: form_version,
      form: form
    });
  }

  fields = (_form_version != null ? _form_version.fields : void 0) || [];
  fields.forEach(function (f) {
    var ref;

    if (f.type === 'table') {
      return console.log('ignore opinion field in table');
    } else if (f.type === 'section') {
      return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
        return field_formulas.push(f1.formula);
      }) : void 0 : void 0;
    } else {
      return field_formulas.push(f.formula);
    }
  });
  return _.some(field_formulas, function (field_formula) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"models":{"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/forms.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flows.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_roles.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_positions.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/instances.coffee                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/categories.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"spaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/spaces.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"deleted_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/deleted_instances.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"auth_tokens.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/auth_tokens.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
db.auth_tokens = new Meteor.Collection('auth_tokens');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webhooks.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/webhooks.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_user_signs.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_users.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cfs":{"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/cfs/instances.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"admin.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/admin.coffee                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"client":{"lib":{"instance_readonly_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/instance_readonly_template.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _getLocale, _getRequiredFields, _getStartStepEditableFields, _getStartStepRequiredFields, _getTemplateData, _getViewHtml, getLinkText;

InstanceReadOnlyTemplate = {};
InstanceReadOnlyTemplate.instance_attachment = "<tr>\n	<td class=\"ins-attach-view\">\n		<a href=\"{{ins_attach_download_url _id absolute}}\" class=\"ins_attach_href\" target=\"_parent\" data-name=\"{{this.name}}\" data-type=\"{{this.original.type}}\" data-id=\"{{_id}}\">{{this.name}}</a>\n	</td>\n</tr>";
InstanceReadOnlyTemplate.afSelectUserRead = "<div class='selectUser form-control ins_applicant'>{{value}}</div>";
InstanceReadOnlyTemplate.afFormGroupRead = "<div class='form-group'>\n	{{#with getField this.name}}\n		{{#if equals type 'section'}}\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if showLabel}}\n					<label>{{getLabel code}}</label>\n				{{/if}}\n				<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n			{{/if}}\n		{{/if}}\n	{{/with}}\n</div>";
InstanceReadOnlyTemplate.afFormGroup = "\n{{#with getField this.name}}\n		{{#if equals type 'section'}}\n			<div class=\"form-group\">\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n  				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if equals type 'input'}}\n					<div class=\"form-group\" data-required=\"{{#if is_required}}true{{/if}}\">\n						<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n						<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n					</div>\n				{{else}}\n					{{#if equals type 'number'}}\n						<div class=\"form-group\">\n							<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n							<input type=\"number\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						</div>\n					{{else}}\n						{{#if equals type 'date'}}\n							<div class=\"form-group\">\n								<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n								<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type=\"date\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n							</div>\n						{{else}}\n							{{#if equals type 'dateTime'}}\n								<div class=\"form-group\">\n									<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n									<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type='datetime' data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n								</div>\n							{{else}}\n								{{#if equals type 'password'}}\n									<div class=\"form-group\">\n										<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n										<input type=\"password\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n									</div>\n								{{else}}\n									{{#if equals type 'select'}}\n										<div class=\"form-group\">\n											<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n											<select name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n												{{#each options this}}\n													<option value=\"{{value}}\">{{label}}</option>\n												{{/each}}\n											</select>\n										</div>\n									{{else}}\n										{{#if equals type 'radio'}}\n											<div class=\"form-group\">\n												<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n												<div class=\"af-radio-group\" data-schema-key=\"{{getLabel code}}\">\n													{{#each options this}}\n        												<label class=\"radio-inline fix-indent\"><input type=\"radio\" value=\"{{value}}\" name=\"{{../code}}\" class=\"radio-inline fix-indent\"> {{label}}</label>\n    													{{/each}}\n    												</div>\n											</div>\n										{{else}}\n											{{#if equals type 'multiSelect'}}\n												<div class=\"form-group\">\n													<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n													<div class=\"af-checkbox-group\" data-schema-key=\"{{getLabel code}}\">\n														{{#each options this}}\n														<label class=\"checkbox-inline fix-indent\"><input type=\"checkbox\" value=\"{{value}}\" name=\"{{../code}}\" class=\"checkbox-inline fix-indent\"> {{label}}</label>\n														{{/each}}\n													</div>\n												</div>\n											{{else}}\n												{{#if equals type 'url'}}\n													<div class=\"form-group\">\n														<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n														<input type=\"url\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n													</div>\n												{{else}}\n													{{#if equals type 'email'}}\n														<div class=\"form-group\">\n															<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n															<input type=\"email\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n														</div>\n													{{else}}\n														{{#if equals type 'checkbox'}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class=\"checkbox\" data-schema-key=\"{{getLabel code}}\">\n																	<label style=\"width: 100%;\"><input type=\"checkbox\" value=\"true\" name=\"{{code}}\" class=\"checkbox-inline fix-indent\"></label>\n																</div>\n															</div>\n														{{else}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n															</div>\n														{{/if}}\n													{{/if}}\n												{{/if}}\n											{{/if}}\n										{{/if}}\n									{{/if}}\n								{{/if}}\n							{{/if}}\n						{{/if}}\n					{{/if}}\n				{{/if}}\n			{{/if}}\n		{{/if}}\n	{{/with}}";

InstanceReadOnlyTemplate.create = function (tempalteName, steedosData) {
  var template, templateCompiled, templateRenderFunction;
  template = InstanceReadOnlyTemplate[tempalteName];
  templateCompiled = SpacebarsCompiler.compile(template, {
    isBody: true
  });
  templateRenderFunction = eval(templateCompiled);
  Template[tempalteName] = new Blaze.Template(tempalteName, templateRenderFunction);
  Template[tempalteName].steedosData = steedosData;
  return Template[tempalteName].helpers(InstanceformTemplate.helpers);
};

InstanceReadOnlyTemplate.createInstanceSignText = function (steedosData) {
  var instanceSignTextCompiled, instanceSignTextHtml, instanceSignTextRenderFunction;
  instanceSignTextHtml = _getViewHtml('client/views/instance/instance_sign_text.html');
  instanceSignTextCompiled = SpacebarsCompiler.compile(instanceSignTextHtml, {
    isBody: true
  });
  instanceSignTextRenderFunction = eval(instanceSignTextCompiled);
  Template.instanceSignText = new Blaze.Template("instanceSignText", instanceSignTextRenderFunction);
  Template.instanceSignText.steedosData = steedosData;
  return Template.instanceSignText.helpers(InstanceSignText.helpers);
};

InstanceReadOnlyTemplate.createImageSign = function (steedosData) {
  var imageSignCompiled, imageSignHtml, imageSignRenderFunction;
  imageSignHtml = _getViewHtml('client/views/instance/image_sign.html');
  imageSignCompiled = SpacebarsCompiler.compile(imageSignHtml, {
    isBody: true
  });
  imageSignRenderFunction = eval(imageSignCompiled);
  Template.imageSign = new Blaze.Template("imageSign", imageSignRenderFunction);
  Template.imageSign.steedosData = steedosData;
  return Template.imageSign.helpers(ImageSign.helpers);
};

InstanceReadOnlyTemplate.init = function (steedosData) {
  InstanceReadOnlyTemplate.create("afSelectUserRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("afFormGroup", steedosData);
  }

  InstanceReadOnlyTemplate.create("afFormGroupRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("instance_attachment", {
      absolute: steedosData.absolute
    });
    InstanceReadOnlyTemplate.createImageSign(steedosData);
    return InstanceReadOnlyTemplate.createInstanceSignText(steedosData);
  }
};

getLinkText = function (item, label, detail_url) {
  if (detail_url) {
    detail_url = detail_url.replace("{_id}", item._id);

    if (!/^http(s?):\/\//.test(detail_url)) {
      detail_url = Steedos.absoluteUrl(detail_url);
    }

    return '<a href="' + detail_url + '" target="_blank">' + label + '</a>';
  } else {
    return label;
  }
};

InstanceReadOnlyTemplate.getValue = function (value, field, locale, utcOffset) {
  var date, detail_url, e, hours, month, seconds, t, t0, t1, year;

  if (!value && value !== false) {
    return '';
  }

  switch (field.type) {
    case 'email':
      value = value ? '<a href=\'mailto:' + value + '\'>' + value + '</a>' : '';
      break;

    case 'url':
      if (value) {
        if (value.indexOf("http") === 0) {
          try {
            value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
          } catch (error) {
            e = error;
            value = "<a href='' target='_blank'>" + value + "</a>";
          }
        } else {
          value = "<a href='http://" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
        }
      } else {
        value = '';
      }

      break;

    case 'group':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("fullname").toString() : void 0;
      } else {
        value = value != null ? value.fullname : void 0;
      }

      break;

    case 'user':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("name").toString() : void 0;
      } else {
        value = value != null ? value.name : void 0;
      }

      break;

    case 'password':
      value = '******';
      break;

    case 'checkbox':
      if (value && value !== 'false') {
        value = TAPi18n.__("form_field_checkbox_yes", {}, locale);
      } else {
        value = TAPi18n.__("form_field_checkbox_no", {}, locale);
      }

      break;

    case 'dateTime':
      if (value && value.length === 16) {
        t = value.split("T");
        t0 = t[0].split("-");
        t1 = t[1].split(":");
        year = t0[0];
        month = t0[1];
        date = t0[2];
        hours = t1[0];
        seconds = t1[1];
        value = new Date(year, month - 1, date, hours, seconds);
      } else {
        value = new Date(value);
      }

      value = InstanceReadOnlyTemplate.formatDate(value, utcOffset);
      break;

    case 'input':
      if (field.is_textarea) {
        value = Spacebars.SafeString(Markdown(value));
      }

      break;

    case 'number':
      if (value || value === 0) {
        if (typeof value === 'string') {
          value = parseFloat(value);
        }

        value = value.toFixed(field.digits);
        value = Steedos.numberToString(value, locale);
      }

      break;

    case 'odata':
      detail_url = field.detail_url;

      if (field.is_multiselect) {
        value = _.map(value, function (item) {
          return getLinkText(item, item['@label'], detail_url);
        });
      } else {
        value = getLinkText(value, value['@label'], detail_url);
      }

  }

  return value;
};

InstanceReadOnlyTemplate.getLabel = function (fields, code) {
  var field;
  field = fields.findPropertyByPK("code", code);

  if (field) {
    if (field.name) {
      return field.name;
    } else {
      return field.code;
    }
  }
};

InstanceReadOnlyTemplate.getInstanceFormVersion = function (instance) {
  var form, form_fields, form_version;
  form = db.forms.findOne(instance.form);
  form_version = {};
  form_fields = [];

  if (form.current._id === instance.form_version) {
    form_version = form.current;
  } else {
    form_version = _.where(form.historys, {
      _id: instance.form_version
    })[0];
  }

  form_version.fields.forEach(function (field) {
    if (field.type === 'section') {
      form_fields.push(field);

      if (field.fields) {
        return field.fields.forEach(function (f) {
          return form_fields.push(f);
        });
      }
    } else if (field.type === 'table') {
      field['sfields'] = field['fields'];
      delete field['fields'];
      return form_fields.push(field);
    } else {
      return form_fields.push(field);
    }
  });
  form_version.fields = form_fields;
  return form_version;
};

InstanceReadOnlyTemplate.getFlowVersion = function (instance) {
  var flow, flow_version;
  flow = db.flows.findOne(instance.flow);
  flow_version = {};

  if (flow.current._id === instance.flow_version) {
    flow_version = flow.current;
  } else {
    flow_version = _.where(flow.historys, {
      _id: instance.flow_version
    })[0];
  }

  return flow_version;
};

_getViewHtml = function (path) {
  var viewHtml;
  viewHtml = Assets.getText(path);

  if (viewHtml) {
    viewHtml = viewHtml.replace(/<template[\w\s\"\=']+>/i, "").replace(/<\/template>/i, "");
  }

  return viewHtml;
};

_getLocale = function (user) {
  var locale, ref, ref1;

  if ((user != null ? (ref = user.locale) != null ? ref.toLocaleLowerCase() : void 0 : void 0) === 'zh-cn') {
    locale = "zh-CN";
  } else if ((user != null ? (ref1 = user.locale) != null ? ref1.toLocaleLowerCase() : void 0 : void 0) === 'en-us') {
    locale = "en";
  } else {
    locale = "zh-CN";
  }

  return locale;
};

_getRequiredFields = function (fields, rev) {
  if (!rev) {
    rev = [];
  }

  fields.forEach(function (field) {
    if (field.type === 'section') {
      return _getRequiredFields(field.fields, rev);
    } else if (field.type === 'table') {} else {
      if (field.is_required) {
        return rev.push(field.code);
      }
    }
  });
  return rev;
};

_getStartStepEditableFields = function (fields, steps) {
  var editableCode, startStep;
  startStep = steps.findPropertyByPK("step_type", "start");
  editableCode = [];

  _.keys(startStep.permissions).forEach(function (key) {
    if (startStep.permissions[key] === 'editable') {
      return editableCode.push(key);
    }
  });

  return editableCode;
};

_getStartStepRequiredFields = function (fields, steps) {
  var editableCode, requiredFields;
  requiredFields = _getRequiredFields(fields);
  editableCode = _getStartStepEditableFields(fields, steps);
  return _.intersection(requiredFields, editableCode);
};

_getTemplateData = function (user, space, instance, options) {
  var flow, form, form_version, locale, steedosData;

  if (Meteor.isServer) {
    form_version = InstanceReadOnlyTemplate.getInstanceFormVersion(instance);
  } else {
    form_version = WorkflowManager.getInstanceFormVersion(instance);
  }

  locale = _getLocale(user);
  steedosData = {};

  if (Meteor.isClient) {
    steedosData = _.clone(WorkflowManager_format.getAutoformSchemaValues());
    steedosData.insname = instance.name;
    steedosData.ins_state = instance.state;
    steedosData.ins_final_decision = instance.ins_final_decision;
    steedosData.ins_code = instance.code;
    steedosData.ins_is_archived = instance.is_archived;
    steedosData.ins_is_deleted = instance.ins_is_deleted;
    steedosData.applicant_name = instance.applicant_name;
    steedosData.applicantContext = instance.applicant_name;
  }

  steedosData.instance = instance;
  steedosData.form_version = form_version;
  steedosData.locale = locale;
  steedosData.utcOffset = user.utcOffset;
  steedosData.space = instance.space;
  steedosData.sessionUserId = user._id;

  if (Meteor.isServer) {
    if (options != null ? options.editable : void 0) {
      form = db.forms.findOne({
        _id: instance.form
      });
      flow = db.flows.findOne({
        _id: instance.flow
      });
      steedosData.startStepEditableFields = _getStartStepEditableFields(form.current.fields, flow.current.steps);
    }
  }

  return steedosData;
};

InstanceReadOnlyTemplate.formatDate = function (date, utcOffset) {
  var passing;

  if (Meteor.isServer) {
    passing = false;
  } else {
    passing = true;
  }

  if (!utcOffset && utcOffset !== 0) {
    utcOffset = 8;
  }

  return moment(date).utcOffset(utcOffset, passing).format("YYYY-MM-DD HH:mm");
};

InstanceReadOnlyTemplate.getInstanceView = function (user, space, instance, options) {
  var body, instanceCompiled, instanceRenderFunction, instanceTemplate, steedosData;
  steedosData = _getTemplateData(user, space, instance, options);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  instanceTemplate = TemplateManager.getTemplate(instance, options != null ? options.templateName : void 0);
  instanceTemplate = instanceTemplate.replace(/afSelectUser/g, "afSelectUserRead");

  if (!(options != null ? options.editable : void 0)) {
    instanceTemplate = instanceTemplate.replace(/afFormGroup/g, "afFormGroupRead");
  }

  instanceCompiled = SpacebarsCompiler.compile(instanceTemplate, {
    isBody: true
  });
  instanceRenderFunction = eval(instanceCompiled);
  Template.instance_readonly_view = new Blaze.Template("instance_readonly_view", instanceRenderFunction);
  Template.instance_readonly_view.steedosData = steedosData;
  Template.instance_readonly_view.helpers(InstanceformTemplate.helpers);
  InstanceReadOnlyTemplate.init(steedosData);
  body = Blaze.toHTMLWithData(Template.instance_readonly_view, steedosData);
  return "<div id='instanceform' >\n	" + body + "\n</div>";
};

InstanceReadOnlyTemplate.getTracesView = function (user, space, instance, options) {
  var body, form, steedosData, traceCompiled, traceRenderFunction, tracesHtml;
  steedosData = _getTemplateData(user, space, instance);
  form = db.forms.findOne(instance.form);

  if (form.instance_style === "table" || (options != null ? options.templateName : void 0) === "table") {
    tracesHtml = _getViewHtml('client/views/instance/traces_table.html');
  } else {
    tracesHtml = _getViewHtml('client/views/instance/traces.html');
  }

  traceCompiled = SpacebarsCompiler.compile(tracesHtml, {
    isBody: true
  });
  traceRenderFunction = eval(traceCompiled);
  Template.trace_readonly_view = new Blaze.Template("trace_readonly_view", traceRenderFunction);
  Template.trace_readonly_view.steedosData = steedosData;
  Template.trace_readonly_view.helpers(TracesTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.trace_readonly_view, instance.traces);
  return body;
};

InstanceReadOnlyTemplate.getAttachmentView = function (user, space, instance) {
  var attachmentCompiled, attachmentHtml, attachmentRenderFunction, body, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  attachmentHtml = _getViewHtml('client/views/instance/instance_attachments.html');
  attachmentCompiled = SpacebarsCompiler.compile(attachmentHtml, {
    isBody: true
  });
  attachmentRenderFunction = eval(attachmentCompiled);
  Template.attachments_readonly_view = new Blaze.Template("attachments_readonly_view", attachmentRenderFunction);
  Template.attachments_readonly_view.steedosData = steedosData;
  Template.attachments_readonly_view.helpers(InstanceAttachmentTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.attachments_readonly_view);
  return body;
};

InstanceReadOnlyTemplate.getRelatedInstancesView = function (user, space, instance, options) {
  var body, relatedInstancesCompiled, relatedInstancesHtml, relatedInstancesRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedInstancesHtml = _getViewHtml('client/views/instance/related_instances.html');
  relatedInstancesCompiled = SpacebarsCompiler.compile(relatedInstancesHtml, {
    isBody: true
  });
  relatedInstancesRenderFunction = eval(relatedInstancesCompiled);
  Template.related_instances_view = new Blaze.Template("related_instances_view", relatedInstancesRenderFunction);
  Template.related_instances_view.steedosData = steedosData;
  Template.related_instances_view.helpers(RelatedInstances.helpers);
  body = Blaze.toHTMLWithData(Template.related_instances_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getRelatedRecordsView = function (user, space, instance, options) {
  var body, relatedRecordsCompiled, relatedRecordsHtml, relatedRecordsRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedRecordsHtml = _getViewHtml('client/views/instance/related_records.html');
  relatedRecordsCompiled = SpacebarsCompiler.compile(relatedRecordsHtml, {
    isBody: true
  });
  relatedRecordsRenderFunction = eval(relatedRecordsCompiled);
  Template.related_records_view = new Blaze.Template("related_records_view", relatedRecordsRenderFunction);
  Template.related_records_view.steedosData = steedosData;
  Template.related_records_view.helpers(RelatedRecords.helpers);
  body = Blaze.toHTMLWithData(Template.related_records_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getOnLoadScript = function (instance) {
  var form_script, form_version;
  form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
  form_script = form_version.form_script;

  if (form_script && form_script.replace(/\n/g, "").replace(/\s/g, "").length > 0) {
    form_script = "CoreForm = {};CoreForm.instanceform = {};" + form_script;
    return form_script += ";if(CoreForm.form_OnLoad){window.onload = CoreForm.form_OnLoad();}";
  } else {
    return form_script = "";
  }
};

InstanceReadOnlyTemplate.getInstanceHtml = function (user, space, instance, options) {
  var absoluteUrl, allCssLink, attachment, body, creatorService, cssHref, form, formDescription, formDescriptionHtml, html, ins_record_ids, instanceBoxStyle, instance_style, onLoadScript, openFileScript, ref, ref1, related_instances, related_records, showTracesBtn, showTracesScript, trace, traceCheck, width;
  body = InstanceReadOnlyTemplate.getInstanceView(user, space, instance, options);
  onLoadScript = InstanceReadOnlyTemplate.getOnLoadScript(instance);
  creatorService = (ref = Meteor.settings["public"].webservices) != null ? (ref1 = ref.creator) != null ? ref1.url : void 0 : void 0;
  ins_record_ids = instance.record_ids;
  openFileScript = "if(window.isNode && isNode()){\n	attachs = document.getElementsByClassName(\"ins_attach_href\");\n	for(var i = 0; i < attachs.length; i++){\n		attach = attachs[i];\n		attach.addEventListener(\"click\", function(e){\n			if(isImage(this.dataset.type) || isHtml(this.dataset.type)){\n				e.preventDefault();\n				openWindow(\"/api/files/instances/\" + this.dataset.id);\n			}else if(nw_core.canOpenFile(this.dataset.name)){\n				e.preventDefault();\n				nw_core.openFile(this.href, this.dataset.name)\n			}\n		});\n	}\n}\n\nvar flow = \"" + instance.flow + "\";\nvar space = \"" + instance.space + "\";\n\nfunction getCookie(name){\n	let pattern = RegExp(name + \"=.[^;]*\")\n	let matched = document.cookie.match(pattern)\n	if(matched){\n		let cookie = matched[0].split('=')\n		return cookie[1]\n	}\n	return ''\n}\n\nvar records = document.getElementsByClassName(\"ins-related-records\");\nfor(var i = 0; i < records.length; i++){\n		var record = records[i];\n		record.addEventListener(\"click\", function(e){\n			var creatorService = \"" + creatorService + "\"\n			var ins_record_ids = " + JSON.stringify(ins_record_ids) + "\n			if(creatorService && ins_record_ids && ins_record_ids.length > 0){\n				var objcetName = ins_record_ids[0].o\n				var id = ins_record_ids[0].ids[0]\n				var uobj = {};\n				uobj[\"X-User-Id\"] = getCookie(\"X-User-Id\");\n				uobj[\"X-Auth-Token\"] = getCookie(\"X-Auth-Token\");\n				redirectUrl = creatorService + \"app/-/\" + objcetName + \"/view/\" + id + \"?\" + $.param(uobj);\n				openWindow(redirectUrl);\n			}\n		});\n	}\n";

  if (!Steedos.isMobile()) {
    form = db.forms.findOne(instance.form);

    if ((form != null ? form.instance_style : void 0) === 'table') {
      instance_style = "instance-table";
    }
  }

  if ((options != null ? options.templateName : void 0) === 'table') {
    instance_style = "instance-table";
  }

  if (options != null ? options.instance_style : void 0) {
    instance_style = options.instance_style;
  }

  if (!options || options.showTrace === true) {
    trace = InstanceReadOnlyTemplate.getTracesView(user, space, instance);
  } else {
    trace = "";
  }

  instanceBoxStyle = "";

  if (instance && instance.final_decision) {
    if (instance.final_decision === "approved") {
      instanceBoxStyle = "box-success";
    } else if (instance.final_decision === "rejected") {
      instanceBoxStyle = "box-danger";
    }
  }

  if (!options || options.showAttachments === true) {
    attachment = InstanceReadOnlyTemplate.getAttachmentView(user, space, instance);
    related_instances = InstanceReadOnlyTemplate.getRelatedInstancesView(user, space, instance, options);
    related_records = InstanceReadOnlyTemplate.getRelatedRecordsView(user, space, instance, options);
  } else {
    attachment = "";
    related_instances = "";
    related_records = "";
  }

  absoluteUrl = Meteor.absoluteUrl();
  width = "960px";

  if (options != null ? options.width : void 0) {
    width = "";
  }

  cssHref = Meteor.absoluteUrl("steedos-css");
  allCssLink = "<link rel=\"stylesheet\" type=\"text/css\" class=\"__meteor-css__\" href=\"" + cssHref + "\">";
  traceCheck = "";

  if (!_.isEmpty(trace)) {
    traceCheck = "checked";
  }

  if ((options != null ? options.tagger : void 0) === 'email') {
    showTracesBtn = "";
  } else {
    showTracesBtn = "<div class=\"navigation-bar btn-group no-print\" style=\"min-width: 600px; z-index: 999\">\n	<div class=\"print-tool\">\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-attachments\" id=\"cbx-print-attachments\" checked=\"checked\"><span>附件</span></label>\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-traces\" id=\"cbx-print-traces\" checked=\"" + traceCheck + "\"><span>" + t('instance_approval_history') + "</span></label>\n	</div>\n</div>";
  }

  showTracesScript = "$( document ).ready(function(){\n	var b = document.getElementById('cbx-print-traces');\n	var t = document.getElementsByClassName('instance-traces')[0];\n	if (b.checked){\n		t.style = 'display: block;'\n	} else {\n		t.style = 'display: none;'\n	}\n	b.addEventListener('change', function(e){\n		if (e.target.checked){\n			t.style = 'display: block;'\n		} else {\n			t.style = 'display: none;'\n		}\n	});\n\n	var attachmentsCheckbox = document.getElementById('cbx-print-attachments');\n	var attachmentsView = document.getElementsByClassName('attachments-section')[0];\n	if (attachmentsCheckbox.checked){\n		attachmentsView.style = 'display: block;'\n	} else {\n		attachmentsView.style = 'display: none;'\n	}\n	attachmentsCheckbox.addEventListener('change', function(e){\n		if (e.target.checked){\n			attachmentsView.style = 'display: block;'\n		} else {\n			attachmentsView.style = 'display: none;'\n		}\n	});\n});\n";

  if (options != null ? options.styles : void 0) {
    allCssLink = "";
  }

  form = db.forms.findOne({
    _id: instance.form
  });
  formDescriptionHtml = "";

  if (form) {
    formDescription = form.description;

    if (formDescription) {
      formDescription = formDescription.replace(/\n/g, "<br/>");
      formDescriptionHtml = "<div class=\"box-header  with-border instance-header\">\n	<div>\n		" + formDescription + "\n	</div>\n</div>";
    }
  }

  html = "<!DOCTYPE html>\n<html>\n	<head>\n		<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n		" + allCssLink + "\n		<script src=\"https://www.steedos.com/website/libs/jquery.min.js\" type=\"text/javascript\"></script>\n		<script src=\"/js/nw_core.js\" type=\"text/javascript\"></script>\n		" + (options.plugins || "") + "\n\n		<style>\n			.steedos{\n				width: " + width + ";\n				margin-left: auto;\n				margin-right: auto;\n			}\n\n			.instance-view .instance-name{\n				display: inline !important\n			}\n			.box-tools{\n				display: none;\n			}\n			.box.collapsed-box .box-body,.box.collapsed-box .box-footer {\n			  display: block;\n			}\n\n			body{\n				background: azure !important;\n			}\n\n			.instance-view .instance-traces{\n				padding-left: 15px;\n				padding-right: 15px;\n			}\n\n			" + ((options != null ? options.styles : void 0) || "") + "\n		</style>\n	</head>\n	<body>\n		<div class=\"steedos workflow instance-print\">\n			<div class=\"skin-green skin-admin-lte\">\n				<div class=\"wrapper\">\n					<div class=\"content-wrapper\">\n						" + showTracesBtn + "\n						<div class=\"instance-print\">\n							<div class=\"instance " + instance_style + "\">\n								<form name=\"instanceForm\">\n									<div class=\"instance-form box " + instanceBoxStyle + "\">\n										" + formDescriptionHtml + "\n										<div class=\"box-body\">\n											<div class=\"col-md-12\">\n												<div class='attachments-section'>\n													" + attachment + "\n													" + related_instances + "\n													" + related_records + "\n												</div>\n												" + body + "\n											</div>\n										</div>\n									</div>\n								</form>\n								" + trace + "\n							</div>\n\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</body>\n	<script>" + openFileScript + ";" + onLoadScript + ";" + showTracesScript + "</script>\n</html>";
  return html;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/template_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var formId;
TemplateManager = {};
formId = 'instanceform';

TemplateManager.instance_title = function () {
  var pageTitle, pageTitleTrClass, val;
  pageTitle = "{{instance.name}}";
  pageTitleTrClass = "instance-name";

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) {
    pageTitle = "{{> afFormGroup name=\"" + CoreForm.pageTitleFieldName + "\" label=false}}";
    pageTitleTrClass = "";
  }

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitle : void 0) {
    pageTitle = "" + CoreForm.pageTitle;
    pageTitleTrClass = "";
  }

  val = {
    pageTitle: pageTitle,
    pageTitleTrClass: pageTitleTrClass
  };
  return val;
};

TemplateManager.handleTableTemplate = function (instance, _export) {
  var table_fields, template;
  template = "<div class='instance-template'>\n	<table class=\"table-page-title form-table no-border text-align-center\" style=\"width: 100%;display: inline-table;\">\n		<tr class=\"" + this.instance_title().pageTitleTrClass + "\">\n			<td class=\"instance-table-name-td page-title\">\n				" + this.instance_title().pageTitle + "\n			</td>\n		</tr>\n\n	</table>\n	<table class=\"table-page-body form-table\">\n			<tr style=\"height:0px\">\n				<th style='width: 16%'></th>\n				<th></th>\n				<th style='width: 16%'></th>\n				<th></th>\n			</tr>";
  table_fields = InstanceformTemplate.helpers.table_fields(instance);
  table_fields.forEach(function (table_field) {
    var field_permission, pureCode, required, title_permission;
    required = "";

    if (!(typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) || (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) !== table_field.code) {
      if (table_field.is_required) {
        required = "is-required";
      }

      if (_export) {
        required = "";
      }

      pureCode = Steedos.removeSpecialCharacter(table_field.code);

      if (InstanceformTemplate.helpers.isOpinionField(table_field)) {
        template += table_field.tr_start;
        template += "<td class=\"td-title " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field opinion-field opinion-field-" + pureCode + " automatic\" colspan = \"" + table_field.td_colspan + "\">\n	{{> instanceSignText name=\"" + table_field.code + "\"}}\n</td>";
        return template += table_field.tr_end;
      } else {
        if (InstanceformTemplate.helpers.includes(table_field.type, 'section,table')) {
          template += table_field.tr_start;
          template += "<td class=\"td-childfield td-childfield-" + pureCode + "\" colspan = \"" + table_field.td_colspan + "\">\n   {{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        } else {
          template += table_field.tr_start;

          if (_export) {
            title_permission = "";
            field_permission = "";
          } else {
            title_permission = "title-" + table_field.permission;
            field_permission = "field-" + table_field.permission;
          }

          template += "<td class=\"td-title td-title-" + pureCode + " " + title_permission + " " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field td-field-" + pureCode + " " + field_permission + "\" colspan = \"" + table_field.td_colspan + "\">\n	{{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        }
      }
    }
  });
  template += "	</table>\n\n	<table class=\"table-page-footer form-table no-border\">\n		<tr class=\"applicant-wrapper\">\n			<td class=\"nowrap\">\n				<div class='inline-left'>\n					<label class=\"control-label\">{{_t \"instance_initiator\"}}：</label>\n				</div>\n				<div class='instance-table-wrapper-td inline-left'>\n					{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n				</div>\n			</td>\n			<td class=\"nowrap\">\n				<div class='pull-left'>\n					<div class='inline-left'>\n						<label>{{_t \"instance_submit_date\"}}：</label>\n					</div>\n					<div class='inline-right'>\n						<div class=\"form-group\">\n							{{formatDate instance.submit_date '{\"format\":\"YYYY-MM-DD\"}'}}\n						</div>\n					</div>\n				</div>\n			</td>\n		</tr>\n	</table>\n</div>";
  return template;
};

TemplateManager._template = {
  "default": function (instance) {
    var template;
    template = "<div class=\"with-border col-md-12\">\n	<div class=\"instance-name\">\n		<h3 class=\"box-title\">" + TemplateManager.instance_title().pageTitle + "</h3>\n		<span class=\"help-block\"></span>\n	</div>\n	<span class=\"help-block\"></span>\n</div>\n{{#each steedos_form.fields}}\n	{{#if isOpinionField this}}\n		<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			<div class=\"form-group automatic opinion-field-{{this.code}}\">\n				<label class=\"control-label\">{{afFieldLabelText name=this.code}}</label>\n\n				{{> instanceSignText name=this.code}}\n			</div>\n		</div>\n	{{else}}\n		{{#if includes this.type 'section,table'}}\n			<div class=\"col-md-12 field-{{this.code}}\">\n				{{> afFormGroup name=this.code label=false}}\n			</div>\n		{{else}}\n			<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			{{> afFormGroup name=this.code}}\n			</div>\n		{{/if}}\n	{{/if}}\n{{/each}}\n<div class=\"col-md-12\">\n	<div class=\"applicant-wrapper form-group form-horizontal\">\n	<div class=\"input-group\">\n		<div class=\"input-group-addon\">\n		  {{_t \"instance_initiator\"}}&nbsp;:\n		</div>\n		{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n	  </div>\n	</div>\n</div>";
    return template;
  },
  table: function (instance) {
    return TemplateManager.handleTableTemplate(instance);
  }
};
TemplateManager._templateHelps = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control',
        style: 'padding:6px 12px;width:140px;display:inline'
      }
    };
    data.atts.disabled = true;
    return data;
  }
};
({
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = formId;
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  }
});

TemplateManager.getTemplate = function (instance, templateName) {
  var flow, form;
  flow = db.flows.findOne(instance.flow);
  form = db.forms.findOne(instance.form);

  if (templateName) {
    if (templateName === 'table') {
      return TemplateManager._template.table(instance);
    }

    return TemplateManager._template["default"](instance);
  }

  if (typeof Session !== "undefined" && Session !== null ? Session.get("instancePrint") : void 0) {
    if (flow != null ? flow.print_template : void 0) {
      return "<div class='instance-template'>" + flow.print_template + "</div>";
    } else {
      if (flow != null ? flow.instance_template : void 0) {
        return "<div class='instance-template'>" + flow.instance_template + "</div>";
      } else {
        return TemplateManager._template.table(instance);
      }
    }
  } else {
    if (Steedos.isMobile()) {
      return TemplateManager._template["default"](instance);
    }

    if (flow != null ? flow.instance_template : void 0) {
      return "<div class='instance-template'>" + flow.instance_template + "</div>";
    }

    if (form != null ? form.instance_style : void 0) {
      if (form.instance_style === 'table') {
        return TemplateManager._template.table(instance);
      }

      return TemplateManager._template["default"](instance);
    } else {
      return TemplateManager._template["default"](instance);
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"coreform":{"inputTypes":{"coreform-table":{"steedos-table.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/coreform/inputTypes/coreform-table/steedos-table.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
SteedosTable = {};
SteedosTable.formId = "instanceform";

SteedosTable.checkItem = function (field, item_index) {
  var fieldObj = SteedosTable.getField(field);
  var fieldVal = SteedosTable.getItemModalValue(field, item_index);
  var sf_name = '';
  var rev = true;
  fieldObj.sfields.forEach(function (sf) {
    if (sf.permission == 'editable') {
      sf_name = fieldObj.code + "." + sf.code;

      if (!InstanceManager.checkFormFieldValue($("[name='" + sf_name + "']")[0])) {
        rev = false;
      }
    }
  });
  return rev;
};

SteedosTable.setTableItemValue = function (field, item_index, item_value) {
  var tableValue = SteedosTable.getTableValue(field);
  tableValue[item_index] = item_value;
};

SteedosTable.getTableItemValue = function (field, item_index) {
  return SteedosTable.getTableValue(field)[item_index];
};

SteedosTable.removeTableItem = function (field, item_index) {
  var item_value = SteedosTable.getTableItemValue(field, item_index);
  item_value.removed = true;
};

SteedosTable.setTableValue = function (field, value) {
  $("table[name='" + field + "']").val({
    val: value
  });
};

SteedosTable.getTableValue = function (field) {
  return $("table[name='" + field + "']").val().val;
};

SteedosTable.getValidValue = function (field) {
  var value = SteedosTable.getTableValue(field);

  if (!value) {
    return;
  }

  var validValue = [];
  value.forEach(function (v) {
    if (!v.removed) {
      validValue.push(v);
    }
  });
  return validValue;
};

SteedosTable.handleData = function (field, values) {
  if (!values || !(values instanceof Array)) {
    return values;
  }

  var fieldObj = SteedosTable.getField(field);
  values.forEach(function (v) {
    fieldObj.sfields.forEach(function (f) {
      if (f.type == 'user' || f.type == 'group') {
        var value = v[f.code];

        if (f.is_multiselect) {
          if (value && value.length > 0 && typeof value[0] == 'object') {
            v[f.code] = v[f.code].getProperty("id");
          }
        } else {
          if (value && typeof value == 'object') {
            v[f.code] = v[f.code].id;
          }
        }
      } else if (f.type == 'dateTime') {
        var value = v[f.code];

        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
            v[f.code] = value;
          }
        }
      }
    });
  });
  return values;
};

SteedosTable.getField = function (field) {
  var instanceFields = WorkflowManager.getInstanceFields();
  if (!instanceFields) return;
  var fieldObj = instanceFields.findPropertyByPK("code", field);
  return fieldObj;
};

SteedosTable.getModalData = function (field, index) {
  var data = {};
  var fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return;
  }

  data.field = fieldObj;
  data.field.formula = Form_formula.getFormulaFieldVariable("Form_formula.field_values", fieldObj.sfields);
  data.value = {};
  data.value[field] = SteedosTable.getTableItemValue(field, index);
  data.index = index;
  return data;
};

SteedosTable.getItemModalValue = function (field, item_index) {
  if (!AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index)) {
    return {};
  }

  var item_value = AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index).insertDoc[field];
  return item_value;
};

SteedosTable.addItem = function (field, index, _item_value) {
  var keys = SteedosTable.getKeys(field);

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  $("tbody[name='" + field + "Tbody']").append(SteedosTable.getTr(keys, item_value, index, field, true));
};

SteedosTable.updateItem = function (field, index, _item_value) {
  var item = $("tr[name='" + field + "_item_" + index + "']");

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  if (item && item.length > 0) {
    var keys = SteedosTable.getKeys(field);
    var tds = SteedosTable.getRemoveTd(field, index);
    var sfields = SteedosTable.getField(field).sfields;
    keys.forEach(function (key) {
      var sfield = sfields.findPropertyByPK("code", key);
      var value = item_value[key];
      tds = tds + SteedosTable.getTd(sfield, index, value);
    });
    item.empty();
    item.append(tds);
  } else {
    SteedosTable.addItem(field, index);
  }

  if (SteedosTable.getTableValue(field)) {
    SteedosTable.setTableItemValue(field, index, item_value); //SteedosTable.valueHash[field][index] = item_value;
  } else {
    //SteedosTable.valueHash[field] = [item_value];
    SteedosTable.setTableValue(field, [item_value]);
  } //执行主表公式计算


  InstanceManager.runFormula(field);
};

SteedosTable.removeItem = function (field, index) {
  $("tr[name='" + field + "_item_" + index + "']").hide();
  SteedosTable.removeTableItem(field, index);
  InstanceManager.runFormula(field);
};

SteedosTable.showModal = function (field, index, method) {
  var modalData = SteedosTable.getModalData(field, index);
  modalData.method = method;
  Modal.show("steedosTableModal", modalData);
};

SteedosTable.getKeys = function (field) {
  if (!AutoForm.getCurrentDataForForm(SteedosTable.formId)) {
    return [];
  }

  var ss = AutoForm.getFormSchema(SteedosTable.formId);
  var keys = [];

  if (ss.schema(field + ".$").type === Object) {
    keys = ss.objectKeys(SimpleSchema._makeGeneric(field) + '.$');
  }

  return keys;
};

SteedosTable.getThead = function (field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return '';
  }

  var thead = '',
      trs = '',
      label = '',
      width = 100;

  if (editable) {
    // trs = "<th class='removed'></th>"
    trs = "";
  }

  var sfields = fieldObj.sfields;

  if (!sfields) {
    return thead;
  }

  var sf_length = sfields.length;

  if (sf_length > 0) {
    var wide_fields = sfields.filterProperty("is_wide", true);
    width = 100 / (sf_length + wide_fields.length);
  }

  sfields.forEach(function (sf, index) {
    label = sf.name != null && sf.name.length > 0 ? sf.name : sf.code;
    trs = trs + "<td "; // nowrap='nowrap'

    trs = trs + " class='title " + sf.type + "'";

    if (index != sf_length - 1) {
      if (sf.is_wide) {
        trs = trs + "style='width:" + width * 2 + "%'";
      } else {
        trs = trs + "style='width:" + width + "%'";
      }
    }

    trs = trs + ">" + label + "</td>";
  });
  thead = '<tr>' + trs + '</tr>';
  return thead;
};

SteedosTable.getTbody = function (keys, field, values, editable) {
  var tbody = "";

  if (values instanceof Array) {
    values.forEach(function (value, index) {
      tbody = tbody + SteedosTable.getTr(keys, value, index, field, editable);
    });
  }

  return tbody;
};

SteedosTable.getTr = function (keys, item_value, index, field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);
  var tr = "<tr id='" + fieldObj.code + "_item_" + index + "' name='" + fieldObj.code + "_item_" + index + "' data-index='" + index + "'";

  if (editable) {
    tr = tr + "' class='item edit'";
  } else {
    if (Steedos.isMobile()) {
      tr = tr + " class='item item-readonly'";
    } else {
      tr = tr + " class='item '";
    }
  }

  if (item_value.removed) {
    tr = tr + " style='display:none' ";
  }

  tr = tr + "'>";
  var tds = "";

  if (editable) {
    tds = SteedosTable.getRemoveTd(fieldObj.code, index);
  }

  var sfields = fieldObj.sfields;
  keys.forEach(function (key) {
    var sfield = sfields.findPropertyByPK("code", key);
    var value = item_value[key];
    tds = tds + SteedosTable.getTd(sfield, index, value);
  });
  tr = tr + tds + "</tr>";
  return tr;
};

SteedosTable.getRemoveTd = function (field, index) {
  // return "<td class='steedosTable-item-remove removed' data-index='" + index + "'><i class='fa fa-times' aria-hidden='true'></td>";
  return "";
};

SteedosTable.getTd = function (field, index, value) {
  var td = "<td ";
  td = td + " class='steedosTable-item-field " + field.type + "' ";
  var td_value = "";

  if (Meteor.isClient) {
    td_value = SteedosTable.getTDValue(field, value);
  } else {
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    td_value = InstanceReadOnlyTemplate.getValue(value, field, locale, utcOffset);
  }

  td = td + " data-index='" + index + "'>" + td_value + "</td>";
  return td;
};

SteedosTable.getTDValue = function (field, value) {
  var td_value = "";

  if (!field) {
    return td_value;
  }

  try {
    switch (field.type) {
      case 'user':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaSpaceUsers(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var u = CFDataManager.getFormulaSpaceUsers(value);
              td_value = u ? u.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'group':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaOrganizations(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var o = CFDataManager.getFormulaOrganization(value);
              td_value = o ? o.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'checkbox':
        if (value === true || value == 'true') {
          td_value = TAPi18n.__("form_field_checkbox_yes");
        } else {
          td_value = TAPi18n.__("form_field_checkbox_no");
        }

        break;

      case 'email':
        td_value = value ? "<a href='mailto:" + value + "'>" + value + "</a>" : "";
        break;

      case 'url':
        if (value) {
          if (value.indexOf("http") == 0) {
            try {
              td_value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
            } catch (e) {
              td_value = "<a href='' target='_blank'>" + value + "</a>";
            }
          } else {
            td_value = "<a href='http://" + encodeURI(value) + "' target='_blank'>http://" + value + "</a>";
          }
        } else {
          td_value = "";
        }

        break;

      case 'password':
        td_value = '******';
        break;

      case 'date':
        if (value) {
          if (value.length == 10) {
            var t = value.split("-");
            year = t[0];
            month = t[1];
            date = t[2];
            value = new Date(year, month - 1, date);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd');
        }

        break;

      case 'dateTime':
        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd HH:mm');
        }

        break;

      case 'number':
        if (value || value == 0) {
          if (typeof value == 'string') {
            value = parseFloat(value);
          }

          td_value = value.toFixed(field.digits);
          td_value = Steedos.numberToString(td_value);
        }

        break;

      case 'odata':
        if (value) {
          if (field.is_multiselect) {
            td_value = _.pluck(value, '@label').toString();
          } else {
            td_value = value['@label'];
          }
        }

        break;

      default:
        td_value = value ? value : '';
        break;
    }
  } catch (e) {
    e;
    return '';
  }

  return td_value;
};

if (Meteor.isClient) {
  AutoForm.addInputType("table", {
    template: "afTable",
    valueOut: function () {
      var name = this.data("schemaKey");
      return SteedosTable.getValidValue(name);
    },
    valueConverters: {
      "stringArray": AutoForm.valueConverters.stringToStringArray,
      "number": AutoForm.valueConverters.stringToNumber,
      "numerArray": AutoForm.valueConverters.stringToNumberArray,
      "boolean": AutoForm.valueConverters.stringToBoolean,
      "booleanArray": AutoForm.valueConverters.stringToBooleanArray,
      "date": AutoForm.valueConverters.stringToDate,
      "dateArray": AutoForm.valueConverters.stringToDateArray
    },
    contextAdjust: function (context) {
      if (typeof context.atts.maxlength === 'undefined' && typeof context.max === 'number') {
        context.atts.maxlength = context.max;
      }

      return context;
    }
  });
  Template.afTable.events({
    'tap .steedos-table .steedosTable-item-add,.add-item-tr': function (event, template) {
      var name = template.data.name;
      var tableValue = SteedosTable.getTableValue(name);
      var new_item_index = tableValue ? tableValue.length : 0;
      SteedosTable.showModal(name, new_item_index, "add");
    },
    'tap .steedos-table .steedosTable-item-field': function (event, template) {
      if (template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "edit");
      }
    },
    'tap .steedos-table .steedosTable-item-remove': function (event, template) {
      var field = template.data.name;
      var item_index = event.currentTarget.dataset.index;
      Session.set("instance_change", true);
      SteedosTable.removeItem(field, item_index);
    },
    'tap .steedos-table .item-readonly': function (event, template) {
      if (!template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "read");
      }
    }
  });

  Template.afTable.rendered = function () {
    var field = this.data.name;
    var keys = SteedosTable.getKeys(field);
    var validValue = SteedosTable.handleData(field, this.data.value);
    SteedosTable.setTableValue(field, validValue);
    $("thead[name='" + field + "Thead']").html(SteedosTable.getThead(field, this.data.atts.editable));
    $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), this.data.atts.editable));
    str = t("steedos_table_add_item");
    addItemTr = "<tr class='add-item-tr'><td colspan='" + keys.length + "'><i class='ion ion-plus-round'></i>" + str + "</td></tr>";

    if (this.data.atts.editable) {
      $("tfoot[name='" + field + "Tfoot']").append(addItemTr);
    }
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"views":{"instance":{"_image_sign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_image_sign.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
ImageSign.helpers = {
  spaceUserSign: function (userId) {
    var space, spaceUserSign;
    space = "";

    if (Meteor.isServer) {
      space = Template.instance().view.template.steedosData.space;
    } else {
      space = Session.get("spaceId");
    }

    spaceUserSign = db.space_user_signs.findOne({
      space: space,
      user: userId
    });
    return spaceUserSign;
  },
  imageURL: function (userId) {
    var absolute, spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(userId);
    absolute = false;

    if (Meteor.isServer) {
      absolute = Template.instance().view.template.steedosData.absolute;
    }

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      if (absolute) {
        return Meteor.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      } else {
        return Steedos.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_form.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_form.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceformTemplate.helpers = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: steedos_instance.applicant_name
    };

    if (!steedos_instance || steedos_instance.state !== "draft") {
      data.atts.disabled = true;
    }

    return data;
  },
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = "instanceform";
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  empty: function (val) {
    if (val) {
      return false;
    } else {
      return true;
    }
  },
  unempty: function (val) {
    if (val) {
      return true;
    } else {
      return false;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  unequals: function (a, b) {
    return !(a === b);
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  include: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  formatDate: function (date, options) {
    if (!date) {
      return "";
    }

    if (options && typeof options === 'string') {
      options = JSON.parse(options);
    }

    if (!options.format) {
      options = {
        format: "YYYY-MM-DD HH:mm"
      };
    }

    return moment(date).format(options.format);
  },
  traces: function () {
    var flow, instance, locale, ref, ref1, ref2, ref3, steedosData, steps, traces;

    if (Meteor.isServer) {
      steedosData = (ref = Template.instance()) != null ? (ref1 = ref.view) != null ? (ref2 = ref1.template) != null ? ref2.steedosData : void 0 : void 0 : void 0;
      instance = steedosData != null ? steedosData.instance : void 0;
      flow = InstanceReadOnlyTemplate.getFlowVersion(instance);
      locale = steedosData != null ? steedosData.locale : void 0;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      instance = WorkflowManager.getInstance();
      flow = WorkflowManager.getInstanceFlowVersion();
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (!instance || !flow) {
      return {};
    }

    steps = flow.steps;
    traces = {};

    if ((ref3 = instance.traces) != null) {
      ref3.forEach(function (trace) {
        var approves, ref4, step;
        step = steps.findPropertyByPK("_id", trace.step);
        approves = [];

        if ((ref4 = trace.approves) != null) {
          ref4.forEach(function (approve) {
            var judge_name;

            if (trace.is_finished === true) {
              if (approve.judge === 'approved') {
                judge_name = TAPi18n.__("Instance State approved", {}, locale);
              } else if (approve.judge === 'rejected') {
                judge_name = TAPi18n.__("Instance State rejected", {}, locale);
              } else if (approve.judge === 'terminated') {
                judge_name = TAPi18n.__("Instance State terminated", {}, locale);
              } else if (approve.judge === 'reassigned') {
                judge_name = TAPi18n.__("Instance State reassigned", {}, locale);
              } else if (approve.judge === 'relocated') {
                judge_name = TAPi18n.__("Instance State relocated", {}, locale);
              } else if (approve.judge === '') {
                judge_name = "";
              } else {
                judge_name = "";
              }
            } else {
              judge_name = TAPi18n.__("Instance State pending", {}, locale);
            }

            return approves.push({
              _id: approve._id,
              handler: approve.user,
              handler_name: approve.handler_name,
              handler_organization_name: approve.handler_organization_name,
              handler_organization_fullname: approve.handler_organization_fullname,
              finish_date: approve.finish_date,
              judge: approve.judge,
              judge_name: judge_name,
              description: approve.description,
              is_finished: approve.is_finished,
              type: approve.type,
              opinion_fields_code: approve.opinion_fields_code,
              sign_field_code: approve.sign_field_code,
              is_read: approve.is_read,
              sign_show: approve.sign_show
            });
          });
        }

        if (step) {
          if (step.name in traces) {
            return traces[step.name] = traces[step.name].concat(approves);
          } else {
            return traces[step.name] = approves;
          }
        }
      });
    }

    return traces;
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  },
  table_fields: function (instance) {
    var fields, form_version;

    if (Meteor.isClient) {
      form_version = WorkflowManager.getInstanceFormVersion();
    } else {
      form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
    }

    if (form_version) {
      fields = _.clone(form_version.fields);
      fields.forEach(function (field, index) {
        var after_field, before_field, pre_fields, pre_wide_fields, td_colspan, tr_end, tr_start;
        field.tr_start = "";
        field.tr_end = "";
        td_colspan = 1;

        if ((typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) === field.code) {
          field.is_wide = true;
        }

        if (field.formula && field.type !== 'odata') {
          field.permission = "readonly";
        }

        if (Steedos.isMobile()) {
          if (field.type === 'section' || field.type === 'table') {
            field.td_colspan = 4;
          } else {
            field.td_colspan = 3;
          }

          if (index !== 0) {
            field.tr_start = "<tr>";
            return field.tr_end = "</tr>";
          }
        } else {
          pre_fields = fields.slice(0, index);
          pre_wide_fields = pre_fields.filterProperty("is_wide", true);
          tr_start = "";
          tr_end = "";
          before_field = null;
          after_field = null;

          if (index > 0) {
            before_field = fields[index - 1];
          }

          if (index < fields.length - 1) {
            after_field = fields[index + 1];
          }

          if (field.type === 'section' || field.type === 'table') {
            td_colspan = 4;
          } else if (field.is_wide) {
            td_colspan = 3;
          } else {
            if (before_field && after_field && before_field.is_wide && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field === null) {
              field.is_wide = true;
              td_colspan = 3;
            }
          }

          field.td_colspan = td_colspan;

          if (index === 0) {
            tr_start = "<tr>";
          } else {
            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 || field.is_wide) {
              if (field.type === 'table') {
                tr_start = "<tr class = \"tr-child-table\">";
              } else {
                tr_start = "<tr>";
              }
            }
          }

          field.tr_start = tr_start;

          if (index + 1 === fields.length || field.type === 'section' || field.type === 'table' || field.is_wide) {
            tr_end = "</tr>";
          }

          if ((pre_fields.length + pre_wide_fields.length) % 2 !== 0) {
            tr_end = "</tr>";
          }

          return field.tr_end = tr_end;
        }
      });
      return fields;
    }
  },
  sort_approve: function (approves, order) {
    if (!approves) {
      return [];
    }

    if (!approves instanceof Array) {
      return [];
    } else {
      if (order === 'desc') {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p2 - _p1;
        });
      } else {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p1 - _p2;
        });
      }
    }

    return approves;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  getField: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;

    if (form_version) {
      return form_version.fields.findPropertyByPK("code", code);
    }
  },
  getValue: function (code) {
    var form_version, instance, locale, utcOffset, values;
    instance = Template.instance().view.template.steedosData.instance;
    form_version = Template.instance().view.template.steedosData.form_version;
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    values = instance.values || {};

    if (Meteor.isClient) {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    return InstanceReadOnlyTemplate.getValue(values[code], form_version.fields.findPropertyByPK("code", code), locale, utcOffset);
  },
  getLabel: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, code);
  },
  getCfClass: function (field) {
    if ((field != null ? field.type : void 0) === "input" && (field != null ? field.is_textarea : void 0)) {
      return "cfTextarea";
    }
  },
  getTableThead: function (field) {
    return SteedosTable.getThead(field, false);
  },
  getTableBody: function (field) {
    var instance, tableValue, values;

    if (Meteor.isServer) {
      instance = Template.instance().view.template.steedosData.instance;
      values = instance.values || {};
    } else {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    tableValue = values[field.code];
    return SteedosTable.getTbody(field.sfields.getProperty("code"), field, tableValue, false);
  },
  showLabel: function (field) {
    var templateData;
    templateData = Template.instance().data;

    if (templateData.label === false) {
      return false;
    }

    return true;
  },
  isOpinionField: function (field) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field.formula);
  },
  isOpinionField_from_string: function (field_formula) {
    return InstanceSignText.isOpinionField_from_string(field_formula);
  },
  includesOpinionField: function (form, form_version) {
    var field_formulas, fields, ref;
    field_formulas = new Array();
    fields = ((ref = db.form_versions.findOne({
      _id: form_version,
      form: form
    })) != null ? ref.fields : void 0) || [];
    fields.forEach(function (f) {
      var ref1;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref1 = f.fields) != null ? ref1.forEach(function (f1) {
          return field_formulas.push(f1.formula);
        }) : void 0 : void 0;
      } else {
        return field_formulas.push(f.formula);
      }
    });
    return _.some(field_formulas, function (field_formula) {
      return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
    });
  },
  getOpinionFieldStepsName: function (field_formula, top_keywords) {
    var foo1, opinionFields;
    opinionFields = new Array();

    if (InstanceformTemplate.helpers.isOpinionField_from_string(field_formula)) {
      if (field_formula) {
        foo1 = field_formula.split(";");
        foo1.forEach(function (foo) {
          var json_formula, ref, ref1, s1, sf;
          json_formula = {};

          try {
            json_formula = eval("(" + foo + ")");
          } catch (error1) {
            json_formula = {};
          }

          if (json_formula != null ? json_formula.yijianlan : void 0) {
            sf = {};
            sf.stepName = json_formula.yijianlan.step;
            sf.image_sign = json_formula.yijianlan.image_sign || false;
            sf.only_cc_opinion = json_formula.yijianlan.only_cc || false;
            sf.default_description = json_formula.yijianlan["default"];
            sf.only_handler = json_formula.yijianlan.only_handler;
            sf.top_keywords = json_formula.yijianlan.top_keywords || top_keywords;
            return opinionFields.push(sf);
          } else if ((field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1) {
            sf = {
              only_cc_opinion: false,
              image_sign: false,
              top_keywords: top_keywords
            };

            if (foo.indexOf("{signature.") > -1) {
              sf.image_sign = true;
              foo = foo.replace("{signature.", "");
            }

            s1 = foo.replace("{", "").replace("}", "");

            if (s1.split(".").length > 1) {
              sf.stepName = s1.split(".")[1];

              if (opinionFields.filterProperty("stepName", sf.stepName).length > 0) {
                if ((ref = opinionFields.findPropertyByPK("stepName", sf.stepName)) != null) {
                  ref.only_cc_opinion = true;
                }
              } else {
                if (s1.split(".").length > 2) {
                  if (((ref1 = s1.split(".")[2]) != null ? ref1.toLocaleLowerCase() : void 0) === 'cc') {
                    sf.only_cc_opinion = true;
                  }
                }
              }
            }

            return opinionFields.push(sf);
          }
        });
      }
    }

    return opinionFields;
  },
  showCCOpinion: function (field) {
    var ref, ref1, ref2, s1;

    if (((ref = field.formula) != null ? ref.indexOf("{traces.") : void 0) > -1 || ((ref1 = field.formula) != null ? ref1.indexOf("{signature.traces.") : void 0) > -1) {
      s1 = field.formula.replace("{signature.", "").replace("{", "").replace("}", "");

      if (s1.split(".").length > 2) {
        if (((ref2 = s1.split(".")[2]) != null ? ref2.toLocaleLowerCase() : void 0) === 'cc') {
          return true;
        }
      }
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  f_label: function (that) {
    return that.name || that.code;
  }
};

if (Meteor.isServer) {
  InstanceformTemplate.helpers.steedos_form = function () {
    return this.form_version;
  };

  InstanceformTemplate.helpers.isSection = function (code) {
    var form_version;
    form_version = this.form_version;
    return form_version.fields.findPropertyByPK("code", code).type === 'section';
  };

  InstanceformTemplate.helpers.doc_values = function () {
    var instance;
    instance = this.instance;
    return instance.values;
  };

  InstanceformTemplate.helpers.applicantContext = function () {
    var data, instance;
    instance = this.instance;
    return data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: instance.applicant_name
    };
  };

  InstanceformTemplate.helpers.instance = function () {
    return this.instance;
  };

  InstanceformTemplate.helpers.fields = function () {
    var form_version;
    form_version = this.form_version;

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  };

  InstanceformTemplate.helpers.form_types = function () {
    return "disabled";
  };

  Template.registerHelper("afFieldLabelText", function (op) {
    var form_version, ref;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, op != null ? (ref = op.hash) != null ? ref.name : void 0 : void 0);
  });

  InstanceformTemplate.helpers._t = function (key) {
    var locale;
    locale = this.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceformTemplate.helpers.ins_attach_download_url = function (_id, absolute) {
    if (absolute) {
      return Meteor.absoluteUrl("/api/files/instances/" + _id + "?download=true");
    } else {
      return "/api/files/instances/" + _id + "?download=true";
    }
  };

  InstanceformTemplate.helpers.options = function (field) {
    var options, ref, rev;
    options = field != null ? (ref = field.options) != null ? ref.split("\n") : void 0 : void 0;
    rev = [];

    if (options != null) {
      options.forEach(function (item) {
        return rev.push({
          label: item,
          value: item
        });
      });
    }

    return rev;
  };

  InstanceformTemplate.helpers.getPermissions = function (code) {
    var ref;

    if (!((ref = Template.instance().view.template.steedosData.startStepEditableFields) != null ? ref.includes(code) : void 0)) {
      return "readonly disabled";
    }

    return "";
  };
}

InstanceformTemplate.events = {
  'change .form-control,.checkbox input,.af-radio-group input,.af-checkbox-group input': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'typeahead:change .form-control': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'click .cfTextarea a': function (event) {
    event.preventDefault();
    return Steedos.openWindow(event.target.href);
  }
};

InstanceformTemplate.onCreated = function () {
  var compiled, e, instance, instanceCustomTemplate, instanceView, renderFunction, template;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  template = TemplateManager.getTemplate(instance);

  try {
    compiled = SpacebarsCompiler.compile(template, {
      isBody: true
    });
  } catch (error1) {
    e = error1;
    console.log("Instance Template Error", e);
    compiled = SpacebarsCompiler.compile("", {
      isBody: true
    });
  }

  renderFunction = eval(compiled);
  instanceView = new Blaze.View("custom_instance_template", renderFunction);
  instanceCustomTemplate = new Blaze.Template(instanceView.name, renderFunction);
  Template.instance_custom_template = instanceCustomTemplate;
  return Template.instance_custom_template.helpers(InstanceformTemplate.helpers);
};

InstanceformTemplate.onRendered = function () {
  var currentApprove, currentStep, form_version, formula_fields, instance, instanceNumberFields, judge, ref;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  if ((ref = $("input[name='ins_applicant']")[0]) != null) {
    ref.dataset.values = instance.applicant;
  }

  $("input[name='ins_applicant']").val(instance.applicant_name);
  ApproveManager.error = {
    nextSteps: '',
    nextStepUsers: ''
  };

  if (Session.get("box") === 'inbox' || Session.get("box") === 'draft') {
    InstanceEvent.initEvents(instance.flow);
  }

  if (!ApproveManager.isReadOnly()) {
    currentApprove = InstanceManager.getCurrentApprove();
    instanceNumberFields = $("[data-formula]", $("#instanceform"));
    instanceNumberFields.each(function () {
      var element, schemaKey;
      schemaKey = this.dataset.schemaKey;
      element = $(this);

      if (!$(this).val() && schemaKey && Session.get("instanceId")) {
        return Meteor.call('getInstanceValues', Session.get("instanceId"), function (error, result) {
          var key, ref1;

          if (error) {
            toastr.error(error.reason);
          }

          if (!result[schemaKey]) {
            key = (ref1 = element.data("formula")) != null ? ref1.replace("auto_number(", "").replace(")", "") : void 0;
            key = key.replace(/\"/g, "").replace(/\'/g, "");

            if (key.indexOf("{") > -1) {
              key = key.replace("{", "").replace("}", "");
              key = key.trim();
              key = AutoForm.getFieldValue(key, 'instanceform');
            }

            return InstanceNumberRules.instanceNumberBuilder(element, key);
          } else {
            return element != null ? element.val(result[schemaKey]).trigger("change") : void 0;
          }
        });
      }
    });
    judge = currentApprove.judge;
    currentStep = InstanceManager.getCurrentStep();
    form_version = WorkflowManager.getInstanceFormVersion();
    formula_fields = Form_formula.getFormulaFieldVariable("Form_formula.field_values", form_version.fields);
    Form_formula.run("", "", formula_fields, AutoForm.getFormValues("instanceform").insertDoc, form_version.fields);
    return Session.set("instance_form_values", {
      instanceId: instance._id,
      values: AutoForm.getFormValues("instanceform").insertDoc
    });
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_attachments.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_attachments.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
InstanceAttachmentTemplate.helpers = {
  showMainTitle: function () {
    return Template.instance().workflowMainAttachTitle.get();
  },
  enabled_add_main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    var current_step = InstanceManager.getCurrentStep();
    if (!current_step) return false; // 分发的正文或者附件不显示转为pdf按钮
    // 如果有正文权限则为正文，否则分发为附件
    // 分发的附件不允许修改 删除 新增版本

    var main_attach_count = cfs.instances.find({
      'metadata.instance': ins._id,
      'metadata.current': true,
      'metadata.main': true
    }).count();
    var distribute_main_attach_count = 0;

    if (ins.distribute_from_instance) {
      var start_step = InstanceManager.getStartStep();

      if (start_step.can_edit_main_attach) {
        var distribute_main_attach_count = cfs.instances.find({
          'metadata.instance': ins.distribute_from_instance,
          'metadata.current': true,
          'metadata.main': true
        }).count();
      }
    }

    if (current_step.can_edit_main_attach == true && main_attach_count < 1 && distribute_main_attach_count < 1) {
      return true;
    } // 正文最多只能有一个


    if (main_attach_count >= 1 || distribute_main_attach_count >= 1) {
      return false;
    } // 开始节点并且设置了可以上传正文才显示上传正文的按钮


    var current_step = InstanceManager.getCurrentStep();
    if (current_step && current_step.step_type == "start" && current_step.can_edit_main_attach == true) return true;
    return false;
  },
  enabled_edit_normal_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;
    var flow = WorkflowManager.getFlow(ins.flow);
    if (!flow) return false; // 分发后的 附件，不可以编辑/删除，也不让上传新的附件, 流程列表：添加属性 ‘被分发后是否允许上传附件’ #1837

    if (ins.distribute_from_instance && !flow.upload_after_being_distributed) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    if (InstanceManager.isCC(ins)) {
      var step = InstanceManager.getCCStep();
      if (step && (step.can_edit_normal_attach == true || step.can_edit_normal_attach == undefined)) return true;
    } else {
      var current_step = InstanceManager.getCurrentStep();
      if (current_step && (current_step.can_edit_normal_attach == true || current_step.can_edit_normal_attach == undefined)) return true;
    }

    return false;
  },
  main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var start_step = InstanceManager.getStartStep(); // 如果是被分发的申请单并且有修改正文的权限，则优先显示原申请单文件

    var main_attach = null;

    if (ins.distribute_from_instance && start_step.can_edit_main_attach == true) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins.distribute_from_instance,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    if (!main_attach) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins._id,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    return main_attach;
  },
  normal_attachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var selector = {
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      }
    };
    var atts = new Array();

    if (ins.distribute_from_instance) {
      // 如果是被分发的申请单，则显示原申请单文件, 如果选择了将原表单存储为附件也要显示, 同时也要显示新上传的附件
      var dfis = _.clone(ins.distribute_from_instances) || [];
      dfis.push(ins._id);
      selector['metadata.instance'] = {
        $in: dfis
      };
      selector["$or"] = [{
        "metadata.instance": ins._id
      }, {
        "metadata.instance": {
          $in: ins.distribute_from_instances
        },
        "metadata.is_private": {
          $ne: true
        }
      }]; // 如果原申请单有正文但是分发后没有正文权限，则原申请单正文显示在附件栏

      var start_step = InstanceManager.getStartStep();

      if (start_step && start_step.can_edit_main_attach != true) {
        var distribute_main = cfs.instances.findOne({
          'metadata.instance': {
            $in: ins.distribute_from_instances
          },
          'metadata.current': true,
          'metadata.main': true
        });

        if (distribute_main) {
          var firstVersionMain = cfs.instances.findOne(distribute_main.metadata.parent);
          distribute_main.attachmentUploadedAt = firstVersionMain ? firstVersionMain.uploadedAt : distribute_main.uploadedAt;
          atts.push(distribute_main);
        }
      }
    } else {
      selector['metadata.instance'] = ins._id;
    }

    cfs.instances.find(selector).forEach(function (c) {
      var firstVersion = cfs.instances.findOne(c.metadata.parent);
      c.attachmentUploadedAt = firstVersion ? firstVersion.uploadedAt : c.uploadedAt;
      atts.push(c);
    });
    return _.sortBy(atts, 'attachmentUploadedAt');
  },
  showAttachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false; // 如果是被分发的申请单，则显示原申请单文件 和分发后申请单文件

    var instanceIds = _.clone(ins.distribute_from_instances) || [];
    instanceIds.push(ins._id);
    var attachments_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).count();
    if (Session && Session.get("instancePrint") && attachments_count < 1) return false;
    if (Session.get("box") == "draft" || Session.get("box") == "inbox" || attachments_count > 0) return true;else return false;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  _: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  }
};

if (Meteor.isServer) {
  InstanceAttachmentTemplate.helpers._t = function (key) {
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceAttachmentTemplate.helpers.enabled_add_main_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.enabled_edit_normal_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.main_attachment = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var attachment = cfs.instances.findOne({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    });
    return attachment;
  };

  InstanceAttachmentTemplate.helpers.normal_attachments = function () {
    var steedosData = Template.instance().view.template.steedosData;
    var instance = steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      },
      $or: [{
        'metadata.is_private': {
          $ne: true
        }
      }, {
        'metadata.is_private': true,
        "metadata.owner": steedosData.userId
      }]
    }).fetch();
    return attachments;
  };

  InstanceAttachmentTemplate.helpers.showAttachments = function () {
    var instance = Template.instance().view.template.steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).fetch();

    if (attachments && attachments.length > 0) {
      return true;
    }

    return false;
  };

  InstanceAttachmentTemplate.helpers.showMainTitle = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var main_attach_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    }).count();
    return main_attach_count > 0;
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_sign_text.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_sign_text.coffee                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceSignText.helpers = {
  show: function (stepName) {
    var instance, myApprove, myTrace, ref;

    if (Meteor.isClient) {
      if (Session.get('instancePrint')) {
        return false;
      }

      if (InstanceManager.isInbox()) {
        myApprove = InstanceManager.getCurrentApprove();

        if (myApprove) {
          instance = WorkflowManager.getInstance();
          myTrace = instance != null ? (ref = instance.traces) != null ? ref.findPropertyByPK("_id", myApprove.trace) : void 0 : void 0;
          return (myTrace != null ? myTrace.name : void 0) === stepName;
        }
      }
    }

    return false;
  },
  defaultDescription: function () {
    return Template.instance().data.default_description;
  },
  traces: function () {
    return InstanceformTemplate.helpers.traces();
  },
  trace: function (stepName, only_cc_opinion, image_sign, top_keywords) {
    var approve_sort, approves, approvesGroup, approves_sorted, completed_date, hasNext, haveDescriptionApprove, instance, is_completed, ref, ref1, ref2, traces;
    instance = InstanceformTemplate.helpers.instance();
    is_completed = (instance != null ? instance.state : void 0) === "completed";
    completed_date = is_completed ? (ref = _.last(instance.traces)) != null ? (ref1 = ref.finish_date) != null ? ref1.getTime() : void 0 : void 0 : 0;

    if (is_completed && instance.finish_date) {
      completed_date = (ref2 = instance.finish_date) != null ? ref2.getTime() : void 0;
    }

    traces = InstanceformTemplate.helpers.traces();
    approves = _.clone(traces[stepName]);

    approve_sort = function (approves, top_keywords) {
      var approves_sorted, top_approves;
      approves_sorted = _.sortBy(approves, function (approve) {
        return -(approve.finish_date || new Date()).getTime();
      });

      if (top_keywords) {
        top_approves = new Array();
        top_keywords.split(",").forEach(function (key) {
          return top_approves = _.union(top_approves, _.filter(approves_sorted, function (approve) {
            var ref3;
            return (approve != null ? (ref3 = approve.handler_name) != null ? ref3.indexOf(key) : void 0 : void 0) > -1;
          }));
        });
        top_approves = _.sortBy(top_approves, function (top_approve) {
          return -(top_approve.finish_date || new Date()).getTime();
        });
        approves_sorted = _.union(top_approves, approves_sorted);
      }

      return approves_sorted || [];
    };

    approves = _.filter(approves, function (a) {
      return a.type !== "forward" && a.type !== "distribute" && a.type !== "terminated";
    });

    if (only_cc_opinion) {
      approves = approves != null ? approves.filterProperty("type", "cc") : void 0;
    }

    approves_sorted = approve_sort(approves, top_keywords);
    approvesGroup = _.groupBy(approves, "handler");

    hasNext = function (approve, approvesGroup) {
      var handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      return _.indexOf(handlerApproves, approve) + 1 < handlerApproves.length;
    };

    haveDescriptionApprove = function (approve, approvesGroup) {
      var descriptionApproves, handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      descriptionApproves = _.filter(handlerApproves, function (a) {
        if (a.description) {
          return true;
        }

        return false;
      });

      if (descriptionApproves.length === 0) {
        return false;
      }

      return true;
    };

    approves_sorted.forEach(function (approve) {
      if (approve.sign_show !== false && (approve.description || !approve.description && !hasNext(approve, approvesGroup))) {
        if (approve.judge !== 'terminated') {
          return approve._display = true;
        }
      }
    });
    approves_sorted = _.filter(approves_sorted, function (a) {
      var ref3;

      if (is_completed) {
        return a._display === true && a.is_finished && ((ref3 = a.finish_date) != null ? ref3.getTime() : void 0) <= completed_date;
      } else {
        return a._display === true;
      }
    });
    return approves_sorted;
  },
  include: function (a, b) {
    return InstanceformTemplate.helpers.include(a, b);
  },
  unempty: function (val) {
    return InstanceformTemplate.helpers.unempty(val);
  },
  formatDate: function (date, options) {
    if (!options) {
      options = {
        "format": "YYYY-MM-DD"
      };
    }

    return InstanceformTemplate.helpers.formatDate(date, options);
  },
  isMyApprove: function (approve, only_cc_opinion) {
    var currentApprove, ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
      currentApprove = InstanceManager.getCurrentApprove();

      if (!(approve != null ? approve._id : void 0)) {
        approve = currentApprove;
      }

      if (approve._id === (currentApprove != null ? currentApprove._id : void 0) && (currentApprove != null ? currentApprove.type : void 0) === 'cc' && Template.instance().data.name) {
        if (_.indexOf(currentApprove != null ? currentApprove.opinion_fields_code : void 0, Template.instance().data.name) > -1) {
          return true;
        } else {
          return false;
        }
      }

      if (!((currentApprove != null ? currentApprove.type : void 0) === 'cc') && only_cc_opinion) {
        return false;
      }

      if (currentApprove && approve._id === currentApprove._id) {
        return true;
      }
    }

    return false;
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1, ref2, ref3;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!myApprove.sign_field_code || myApprove.sign_field_code === ((ref2 = Template.instance()) != null ? (ref3 = ref2.data) != null ? ref3.name : void 0 : void 0)) {
            if (!Session.get("instance_my_approve_description")) {
              return (myApprove != null ? myApprove.description : void 0) || "";
            }

            return Session.get("instance_my_approve_description");
          }
        }
      }
    }
  },
  now: function () {
    return new Date();
  },
  isReadOnly: function () {
    if (Meteor.isClient) {
      return ApproveManager.isReadOnly();
    }

    return false;
  },
  isOpinionOfField: function (approve) {
    if (approve.type === "cc" && Template.instance().data.name) {
      if (Template.instance().data.name === approve.sign_field_code) {
        return true;
      } else {
        return false;
      }
    } else {
      return true;
    }
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  steps: function (field_formula, step, only_cc_opinion, image_sign) {
    var ref, ref1, ref2, steps;
    steps = [];

    if (!step) {
      if (!field_formula) {
        field_formula = (ref = WorkflowManager.getInstanceFormVersion()) != null ? (ref1 = ref.fields) != null ? ref1.findPropertyByPK("code", this.name).formula : void 0 : void 0;
      }

      steps = InstanceformTemplate.helpers.getOpinionFieldStepsName(field_formula, (ref2 = Template.instance()) != null ? ref2.data.top_keywords : void 0);
    } else {
      steps = [{
        stepName: step,
        only_cc_opinion: only_cc_opinion,
        image_sign: image_sign
      }];
    }

    return steps;
  },
  imageSignData: function (handler) {
    return {
      user: handler
    };
  },
  showSignImage: function (handler, image_sign) {
    var spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if ((spaceUserSign != null ? spaceUserSign.sign : void 0) && image_sign) {
      return true;
    } else {
      return false;
    }
  },
  getLastSignApprove: function () {
    var ins;
    ins = WorkflowManager.getInstance();
    return _.last(TracesManager.getHandlerSignShowApproves(ins, Meteor.userId()));
  },
  lastMyApproveDescription: function () {
    var approves, currentStep, ref, traces;
    traces = InstanceformTemplate.helpers.traces();
    currentStep = InstanceManager.getCurrentStep();
    approves = _.clone(traces[currentStep.name]);
    approves = approves.filterProperty("handler", Meteor.userId());

    if (approves.length > 1) {
      return (ref = approves[approves.length - 2]) != null ? ref.description : void 0;
    }

    return "";
  },
  showApprove: function (approve) {
    var ref, ref1;

    if (!approve.sign_field_code || approve.sign_field_code === ((ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0)) {
      if (approve != null ? approve.is_read : void 0) {
        if (approve.is_finished) {
          return ["approved", "rejected", "submitted", "readed"].includes(approve.judge);
        } else {
          return true;
        }
      }
    }

    return false;
  },
  judge_description: function (judge) {
    return t(judge + "_description");
  },
  is_approved: function (judge) {
    return "approved" === judge;
  },
  is_rejected: function (judge) {
    return "rejected" === judge;
  },
  is_readed: function (judge) {
    return ["approved", "rejected", "submitted", "readed"].includes(judge);
  },
  addClass: function () {
    var name, ref, ref1;
    name = (ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0;
    setTimeout(function () {
      var e, element;

      try {
        element = $(".automatic.opinion-field-" + name);

        if (element.length > 0) {
          if (element != null ? element.is("td") : void 0) {
            return element.addClass('field-editable');
          } else {
            return $(".instance-sign", element).addClass('field-editable');
          }
        }
      } catch (error) {
        e = error;
        return console.log(e);
      }
    }, 1);
    return '';
  }
};

if (Meteor.isServer) {
  InstanceSignText.helpers.defaultDescription = function () {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return Template.instance().data.default_description || TAPi18n.__("instance_default_opinion", {}, locale);
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_help.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_help.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesTemplate.helpers = {
  equals: function (a, b) {
    return a === b;
  },
  empty: function (a) {
    if (a) {
      return a.toString().trim().length < 1;
    } else {
      return true;
    }
  },
  unempty: function (a) {
    if (a) {
      return a.toString().trim().length > 0;
    } else {
      return false;
    }
  },
  append: function (a, b) {
    return a + b;
  },
  dateFormat: function (date) {
    if (Steedos.isMobile() && (date != null ? date.getFullYear() : void 0) === new Date().getFullYear()) {
      return $.format.date(new Date(date), "MM-dd HH:mm");
    } else {
      return $.format.date(new Date(date), "yyyy-MM-dd HH:mm");
    }
  },
  getStepName: function (stepId) {
    var step;
    step = WorkflowManager.getInstanceStep(stepId);

    if (step) {
      return step.name;
    }

    return null;
  },
  showDeleteButton: function (approved) {
    if (approved && approved.type === 'cc' && approved.from_user === Meteor.userId() && approved.is_finished !== true && !Session.get("instancePrint")) {
      return true;
    }

    return false;
  },
  isShowModificationButton: function (approved) {
    var approve_admins, isShow, ref, ref1, ref2;
    approve_admins = (ref = Meteor.settings) != null ? (ref1 = ref["public"]) != null ? (ref2 = ref1.workflow) != null ? ref2.approve_admins : void 0 : void 0 : void 0;

    if (approve_admins != null ? approve_admins.length : void 0) {
      isShow = approve_admins != null ? approve_admins.contains(Meteor.userId()) : void 0;
    }

    if (!isShow) {
      return false;
    }

    return approved.handler === Meteor.userId();
  },
  isEditing: function () {
    var ref;
    return (ref = Template.instance().is_editing) != null ? ref.get() : void 0;
  },
  isShowDescription: function (approved) {
    var ref;

    if (TracesTemplate.helpers.isShowModificationButton(approved)) {
      return true;
    }

    return ((ref = approved.description) != null ? ref.toString().trim().length : void 0) > 0;
  },
  isCC: function (approved) {
    if (approved && approved.type === 'cc') {
      return true;
    }

    return false;
  },
  getApproveStatusIcon: function (approveJudge) {
    var approveStatusIcon;
    approveStatusIcon = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusIcon = 'ion ion-checkmark-round';
        break;

      case 'rejected':
        approveStatusIcon = 'ion ion-close-round';
        break;

      case 'terminated':
        approveStatusIcon = 'fa fa-ban';
        break;

      case 'reassigned':
        approveStatusIcon = 'ion ion-android-contact';
        break;

      case 'relocated':
        approveStatusIcon = 'ion ion-arrow-shrink';
        break;

      case 'retrieved':
        approveStatusIcon = 'fa fa-undo';
        break;

      default:
        approveStatusIcon = '';
        break;
    }

    return approveStatusIcon;
  },
  getApproveStatusText: function (approveJudge) {
    var approveStatusText, locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    approveStatusText = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusText = TAPi18n.__('Instance State approved', {}, locale);
        break;

      case 'rejected':
        approveStatusText = TAPi18n.__('Instance State rejected', {}, locale);
        break;

      case 'terminated':
        approveStatusText = TAPi18n.__('Instance State terminated', {}, locale);
        break;

      case 'reassigned':
        approveStatusText = TAPi18n.__('Instance State reassigned', {}, locale);
        break;

      case 'relocated':
        approveStatusText = TAPi18n.__('Instance State relocated', {}, locale);
        break;

      case 'retrieved':
        approveStatusText = TAPi18n.__('Instance State retrieved', {}, locale);
        break;

      case 'returned':
        approveStatusText = TAPi18n.__('Instance State returned', {}, locale);
        break;

      case 'readed':
        approveStatusText = TAPi18n.__('Instance State readed', {}, locale);
        break;

      default:
        approveStatusText = '';
        break;
    }

    return approveStatusText;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!Session.get("instance_my_approve_description")) {
            return (myApprove != null ? myApprove.description : void 0) || "";
          }

          return Session.get("instance_my_approve_description");
        }
      }
    }
  },
  isForward: function (approved) {
    if (approved && approved.type === 'forward') {
      return true;
    }

    return false;
  },
  showForwardDeleteButton: function (approve) {
    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'forward' && approve.from_user === Meteor.userId() && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      return true;
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  isDistribute: function (approve) {
    if (approve && approve.type === 'distribute') {
      return true;
    }

    return false;
  },
  showDistributeDeleteButton: function (approve) {
    var ins;

    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'distribute' && !Session.get("instancePrint") && approve.judge !== 'terminated' && Steedos.isLegalVersion('', "workflow.enterprise")) {
      ins = db.instances.findOne({
        _id: approve.instance
      }, {
        fields: {
          flow: 1,
          space: 1
        }
      });

      if (ins && ins.flow && ins.space) {
        if (WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, Meteor.userId())) {
          return true;
        }
      }

      if (approve.from_user === Meteor.userId()) {
        return true;
      }
    }

    return false;
  },
  finishDateSchema: function () {
    if (Steedos.isAndroidOrIOS()) {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "datetime-local"
          },
          optional: false,
          type: Date
        }
      });
    } else {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "bootstrap-datetimepicker",
            readonly: true,
            dateTimePickerOptions: {
              format: "YYYY-MM-DD HH:mm",
              ignoreReadonly: true,
              locale: Session.get("TAPi18n::loaded_lang"),
              widgetPositioning: {
                horizontal: 'right'
              }
            }
          },
          optional: false,
          type: Date
        }
      });
    }
  },
  finishDateValues: function () {
    return {
      finish_date: this.finish_date
    };
  },
  /*
     	此函数用于控制是否显示traces view
     	true: 显示traces view,签核历程按钮点击后是直接定位到traces view
     	false: 不显示traces view，签核历程按钮点击后,以Modal 方式显示traces view
   */showTracesView: function (form, form_version) {
    var ref, show_modal_traces_list;
    show_modal_traces_list = ((ref = db.space_settings.findOne({
      space: Session.get("spaceId"),
      key: "show_modal_traces_list"
    })) != null ? ref.values : void 0) || false;
    return !show_modal_traces_list;
  },
  getInstanceStateText: function (instance_id) {
    var ins, locale, text;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return TAPi18n.__('instance_deleted', {}, locale);
    }

    text = '';

    if (ins.state === 'completed') {
      text = TAPi18n.__('completed', {}, locale);
    } else if (ins.state === 'pending') {
      text = TAPi18n.__('pending', {}, locale);
    } else if (ins.state === 'draft') {
      if (ins.is_read) {
        text = TAPi18n.__('instance_approve_read', {}, locale);
      } else {
        text = TAPi18n.__('instance_approve_not_yet_handled', {}, locale);
      }
    }

    return text;
  },
  getInstanceStateColor: function (instance_id) {
    var cla, ins;
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return "";
    }

    cla = '';

    if (ins.state === 'draft') {
      if (ins.is_read) {
        cla = 'blue';
      } else {
        cla = 'red';
      }
    }

    return cla;
  },
  firstTrace: function (index) {
    return index === 0;
  },
  last_distribute_from: function (instance_id) {
    var dis_info, ins, user;
    ins = db.instances.findOne({
      _id: instance_id,
      distribute_from_instance: {
        $exists: true
      }
    }, {
      fields: {
        created: 1,
        created_by: 1
      }
    });

    if (ins) {
      dis_info = {};
      user = {};

      if (Meteor.isClient) {
        user = UUflow_api.getNameForUser(ins.created_by);
      } else if (Meteor.isServer) {
        user = db.users.findOne({
          _id: ins.created_by
        }, {
          fields: {
            name: 1
          }
        });
      }

      if (user.name) {
        dis_info.from_user_name = user.name;
        dis_info.created = ins.created;
      }

      if (!_.isEmpty(dis_info)) {
        return dis_info;
      }
    }
  },
  isCCOrDistributeOrForwardTerminated: function (approve) {
    if ((approve.type === 'cc' || approve.type === 'distribute' || approve.type === 'forward') && approve.judge === 'terminated') {
      return true;
    }

    return false;
  },
  judgeTerminated: function (judge) {
    return judge === 'terminated';
  },
  instanceExists: function (instance_id) {
    return !!db.instances.find(instance_id).count();
  },
  agentDescription: function (userName) {
    var locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    return TAPi18n.__('process_delegation_rules_description', {
      userName: userName
    }, locale);
  },
  traceName: function (instance_id, traceId) {
    var ref, ref1;
    return (ref = _.find((ref1 = db.instances.findOne(instance_id, {
      fields: {
        traces: 1
      }
    })) != null ? ref1.traces : void 0, function (trace) {
      return trace._id === traceId;
    })) != null ? ref.name : void 0;
  }
};

if (Meteor.isServer) {
  TracesTemplate.helpers.dateFormat = function (date) {
    var utcOffset;

    if (date) {
      utcOffset = Template.instance().view.template.steedosData.utcOffset;
      return InstanceReadOnlyTemplate.formatDate(date, utcOffset);
    }
  };

  TracesTemplate.helpers._t = function (key) {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  TracesTemplate.helpers.showDeleteButton = function (approved) {
    return false;
  };
}

TracesTemplate.events = {
  'click .cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    event.stopPropagation();

    if (event.currentTarget.dataset.calling * 1 !== 1) {
      event.currentTarget.dataset.calling = 1;
      $("i", event.currentTarget).addClass("fa-spin");
      instanceId = Session.get('instanceId');
      approveId = event.target.dataset.approve;
      $("body").addClass("loading");
      Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
        $("body").removeClass("loading");

        if (err) {
          toastr.error(err);
          event.currentTarget.dataset.calling = 0;
          $("i", event.currentTarget).removeClass("fa-spin");
        }

        if (result === true) {
          toastr.success(TAPi18n.__("remove_cc_approve"));

          if ($(".instance-trace-detail-modal").length) {
            Modal.hide("instance_trace_detail_modal");
          }
        }
      });
    }
  },
  'click .instance-trace-detail-modal .btn-cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    $("body").addClass("loading");
    Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(err);
      }

      if (result === true) {
        toastr.success(TAPi18n.__("remove_cc_approve"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .approve-item,.approve-description': function (event, template) {
    return Modal.show("instance_trace_detail_modal", this);
  },
  'taphold .approve-item,.approve-description': function (event, template) {
    return Modal.show("instance_trace_detail_modal", this);
  },
  'tapend .approve-item,.approve-description': function (event, template) {
    event.stopPropagation();
    event.preventDefault();
    return false;
  },
  'click .instance-trace-detail-modal .btn-forward-approve-remove': function (event, template) {
    var approveId, instanceId, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    $("body").addClass("loading");
    Meteor.call('forward_remove', instanceId, traceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(TAPi18n.__("instance_approve_forward_remove_success"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-forward-instance-look': function (event, template) {
    var forward_instance, forward_space;
    forward_space = event.target.dataset.forwardspace;
    forward_instance = event.target.dataset.forwardinstance;
    return Steedos.openWindow(Steedos.absoluteUrl("workflow/space/" + forward_space + "/view/readonly/" + forward_instance));
  },
  'click .btn-modification': function (event, template) {
    template.is_editing.set(!template.is_editing.get());

    if (!Steedos.isAndroidOrIOS()) {
      return Tracker.afterFlush(function () {
        return $("#instance_trace_detail_modal #finish_input").on("dp.show", function () {
          return $(".modal-body").scrollTop(100);
        });
      });
    }
  },
  'click .btn-cancelBut': function (event, template) {
    return template.is_editing.set(!template.is_editing.get());
  },
  'click .btn-saveBut': function (event, template) {
    var approveId, finish_input, instanceId, opinion_input, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    opinion_input = $('#opinion_input').val();
    finish_input = AutoForm.getFieldValue("finish_date", "finishDateAutoForm");
    $("body").addClass("loading");
    return Meteor.call('change_approve_info', instanceId, traceId, approveId, opinion_input, finish_input, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(t("instance_approve_modal_modificationsave"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-distribute-approve-remove': function (event, template) {
    Modal.allowMultiple = true;
    return Modal.show('cancel_distribute_modal');
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_instances.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedInstances.helpers = {
  showRelatedInstaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      if (db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).count() > 0) {
        return true;
      }

      return false;
    } else {
      return false;
    }
  },
  related_instaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      return db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).fetch();
    }
  },
  related_instace_url: function (ins) {
    var absolute;

    if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
      return '';
    }

    absolute = false;

    if (Meteor.isServer) {
      absolute = this.absolute;
    }

    if (absolute) {
      return Meteor.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    } else {
      return Steedos.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    }
  },
  _t: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  show_delete: function () {
    var current_step;

    if (!Meteor.isClient) {
      return false;
    } else {
      if (Session.get("box") === "draft" || Session.get("box") === 'inbox') {
        current_step = InstanceManager.getCurrentStep();

        if (current_step) {
          if (current_step.can_edit_main_attach || current_step.can_edit_normal_attach === true || current_step.can_edit_normal_attach === void 0) {
            return true;
          }
        }
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_records.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_records.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedRecords.helpers = {
  showRelatedRecords: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if (!ins) {
      return false;
    }

    return !_.isEmpty(ins.record_ids);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"server":{"methods":{"set_instance_step_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/set_instance_step_approve.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_instance_step_approve: function (ins_id, step_approve, stepsApprovesOptions) {
    var _keys1, _keys2, ins, keys, stepsApproves;

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        state: 1
      }
    });

    if (ins.state !== 'draft') {
      return;
    }

    _keys1 = _.keys(step_approve);
    _keys2 = _.keys(stepsApprovesOptions);
    keys = _.compact(_.union(_keys1, _keys2));
    stepsApproves = {};

    _.each(keys, function (stepId) {
      var stepApproves, stepsApproveOptions;
      stepApproves = step_approve[stepId];
      stepsApproveOptions = stepsApprovesOptions[stepId];

      if (stepApproves) {
        stepsApproves[stepId] = stepApproves;

        if (stepsApproveOptions) {
          if (_.isArray(stepApproves)) {
            stepsApproveOptions = stepApproves.concat(stepsApproveOptions);
          } else {
            stepsApproveOptions.push(stepApproves);
          }
        }
      }

      if (stepsApproveOptions) {
        return stepsApproves[stepId + '_options'] = _.uniq(stepsApproveOptions);
      }
    });

    return db.instances.update({
      _id: ins_id
    }, {
      $set: {
        step_approve: stepsApproves
      }
    });
  },
  set_instance_skip_steps: function (ins_id, stepId, action) {
    if (action === 'pull') {
      return db.instances.update({
        _id: ins_id
      }, {
        $pull: {
          skip_steps: stepId
        }
      });
    } else if (action === 'push') {
      return db.instances.update({
        _id: ins_id
      }, {
        $push: {
          skip_steps: stepId
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_instance_data.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/get_instance_data.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  get_instance_data: function (instance_id, formCached, flowCached) {
    check(instance_id, String);
    check(formCached, Boolean);
    check(flowCached, Boolean);
    var instance = db.instances.findOne(instance_id);
    if (!instance) return {
      instance: null
    };
    if (formCached && flowCached) return {
      instance: instance
    };

    if (!formCached) {
      var form = db.forms.findOne(instance.form);
      var form_version = {};

      if (form.current._id == instance.form_version) {
        form_version = form.current;
      } else {
        form_version = _.where(form.historys, {
          _id: instance.form_version
        })[0];
      }
    }

    if (!flowCached) {
      var flow = db.flows.findOne(instance.flow);
      var flow_version = {};

      if (flow.current._id == instance.flow_version) {
        flow_version = flow.current;
      } else {
        flow_version = _.where(flow.historys, {
          _id: instance.flow_version
        })[0];
      }
    }

    return {
      instance: instance,
      form_version: form_version,
      flow_version: flow_version
    };
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"save_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/save_instance.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  draft_save_instance: function (ins) {
    if (!this.userId) return;
    var result = true;
    var setObj = {};
    var index = 0;
    var ins_id = ins._id;
    var trace_id = ins.traces[0]._id;
    var approve_id = ins.traces[0].approves[0]._id;
    var description = ins.traces[0].approves[0].description;
    var next_steps = ins.traces[0].approves[0].next_steps;
    var values = ins.traces[0].approves[0].values || {};
    var applicant_id = ins.applicant;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        applicant: 1,
        state: 1,
        submitter: 1,
        traces: 1,
        form: 1,
        flow_version: 1,
        space: 1,
        flow: 1
      }
    });
    var space_id = instance.space;
    var flow_id = instance.flow;
    var form_id = instance.form;
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.'; // 判断一个instance是否为拟稿状态

    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';
    uuflowManager.isInstanceDraft(instance, lang); // 判断一个用户是否是一个instance的提交者

    uuflowManager.isInstanceSubmitter(instance, this.userId);
    var flow = db.flows.findOne(flow_id, {
      fields: {
        "current._id": 1,
        "current.form_version": 1,
        "name": 1,
        "current.steps": 1
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (flow.current._id != instance.flow_version) {
      result = "upgraded";

      var start_step = _.find(flow.current.steps, function (s) {
        return s.step_type == "start";
      }); // 流程已升级


      setObj.flow_version = flow.current._id;
      setObj.form_version = flow.current.form_version; // 存入当前最新版flow中开始节点的step_id

      setObj["traces.$.step"] = start_step._id;
      setObj["traces.$.name"] = start_step.name;
    }

    if (instance.applicant != applicant_id) {
      // 申请人已变换
      var user = db.users.findOne(applicant_id, {
        fields: {
          name: 1
        }
      });
      var applicant = db.space_users.find({
        space: space_id,
        user: applicant_id
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = applicant.fetch()[0].organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      setObj.applicant = applicant_id;
      setObj.applicant_name = user.name;
      setObj.applicant_organization = org_id;
      setObj.applicant_organization_name = organization.name;
      setObj.applicant_organization_fullname = organization.fullname;
      setObj[key_str + 'user'] = applicant_id;
      setObj[key_str + 'user_name'] = user.name;
    }

    setObj[key_str + 'values'] = values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'judge'] = 'submitted';
    setObj[key_str + 'read_date'] = new Date();

    if (result != "upgraded" && next_steps) {
      setObj[key_str + 'next_steps'] = next_steps;
    } // 计算申请单标题


    var form = db.forms.findOne({
      _id: form_id
    }, {
      fields: {
        "current.name_forumla": 1
      }
    });
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      // var iscript = name_forumla.replace(/\{/g, "(values['").replace(/\}/g, "'] || '')");
      // var rev = eval(iscript);
      setObj.name = uuflowManager.getInstanceName(ins, values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return result;
  },
  inbox_save_instance: function (approve) {
    if (!this.userId) return;
    var setObj = {};
    var index = 0;
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve.id;
    var values = approve.values;
    var next_steps = approve.next_steps;
    var description = approve.description;
    var judge = approve.judge;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        flow_version: 1,
        flow: 1,
        state: 1,
        form: 1,
        form_version: 1,
        values: 1,
        code: 1
      }
    });
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    var current_approve = _.find(current_trace.approves, function (a) {
      return a._id == approve_id;
    }); // 判断一个instance是否为审核中状态


    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';

    try {
      uuflowManager.isInstancePending(instance, lang); // 判断一个trace是否为未完成状态

      uuflowManager.isTraceNotFinished(current_trace); // 判断一个approve是否为未完成状态

      uuflowManager.isApproveNotFinished(current_approve); // 判断当前用户是否approve 对应的处理人或代理人

      uuflowManager.isHandlerOrAgent(current_approve, this.userId);
    } catch (e) {
      console.log(e.stack);
      return true;
    }

    var flow_version = instance.flow_version;
    var flow_id = instance.flow;
    var step_id = "";
    step_id = current_trace.step;
    var flow = db.flows.findOne(flow_id, {
      fields: {
        current: 1,
        historys: 1
      }
    });
    var step = null;

    if (flow.current._id == flow_version) {
      flow.current.steps.forEach(function (s) {
        if (s._id == step_id) step = s;
      });
    } else {
      flow.historys.forEach(function (h) {
        h.steps.forEach(function (s) {
          if (s._id == step_id) step = s;
        });
      });
    }

    if (!step) return false;
    var step_type = step.step_type;
    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.';
    var permissions_values = uuflowManager.getApproveValues(approve.values, step.permissions, instance.form, instance.form_version);
    var change_values = approveManager.getChangeValues(instance.values, permissions_values);
    setObj.values = _.extend(instance.values || {}, permissions_values);

    if (!_.isEmpty(change_values)) {
      values_history = current_approve.values_history || [];
      values_history.push({
        values: change_values,
        create: new Date()
      });
      setObj[key_str + 'values_history'] = values_history;
    }

    setObj[key_str + 'is_read'] = true;
    setObj[key_str + 'read_date'] = new Date();
    setObj[key_str + 'values'] = setObj.values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'next_steps'] = next_steps;

    if (step_type == "submit" || step_type == "start") {
      setObj[key_str + 'judge'] = "submitted";
    } else {
      setObj[key_str + 'judge'] = judge;
    }

    setObj.modified = new Date();
    setObj.modified_by = this.userId; // 计算申请单标题

    var form = db.forms.findOne(instance.form);
    var form_v = uuflowManager.getFormVersion(form, instance.form_version);
    var name_forumla = form_v.name_forumla;

    if (name_forumla) {
      setObj.name = uuflowManager.getInstanceName(instance, setObj.values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"trace_approve_cc.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/trace_approve_cc.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // ??? 能否传阅给当前步骤处理人 如果当前步骤是会签。
  cc_do: function (approve, cc_user_ids, description) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve._id;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        space: 1,
        traces: 1,
        cc_users: 1,
        values: 1
      }
    });
    var current_user_id = this.userId;
    var space_id = instance.space;
    var new_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    cc_user_ids.forEach(function (userId, idx) {
      var user = db.users.findOne(userId, {
        fields: {
          name: 1
        }
      });
      var space_user = db.space_users.findOne({
        space: space_id,
        user: userId
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = space_user.organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var agent = uuflowManager.getAgent(space_id, userId);
      var handler_id = userId;
      var handler_info = user;
      var handler_space_user = space_user;
      var handler_org_info = organization;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent, {
          fileds: {
            name: 1
          }
        });
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
        cc_user_ids[idx] = agent;
      }

      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': ins_id,
        'trace': trace_id,
        'is_finished': false,
        'user': userId,
        'user_name': user.name,
        'handler': handler_id,
        'handler_name': handler_info.name,
        'handler_organization': handler_space_user.organization,
        'handler_organization_name': handler_org_info.name,
        'handler_organization_fullname': handler_org_info.fullname,
        'type': 'cc',
        'start_date': new Date(),
        'is_read': false,
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'opinion_fields_code': approve.opinion_fields_code,
        'sign_field_code': approve.opinion_fields_code && approve.opinion_fields_code.length == 1 ? approve.opinion_fields_code[0] : "",
        'from_approve_id': approve_id,
        'cc_description': description
      };

      if (agent) {
        appr.agent = agent;
      }

      uuflowManager.setRemindInfo(instance.values, appr);
      new_approves.push(appr);
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj,
      $addToSet: {
        'traces.$.approves': {
          $each: new_approves
        }
      },
      $push: {
        cc_users: {
          $each: cc_user_ids
        }
      }
    });
    instance = db.instances.findOne(ins_id);
    current_user_info = db.users.findOne(current_user_id);
    pushManager.send_instance_notification("trace_approve_cc", instance, "", current_user_info, cc_user_ids);
    flow_id = instance.flow;
    approve.cc_user_ids = cc_user_ids; // 记录下本次传阅的人员ID作为hook接口中的参数
    // 如果已经配置webhook并已激活则触发

    pushManager.triggerWebhook(flow_id, instance, approve, 'cc_do', current_user_id, cc_user_ids);
    return true;
  },
  cc_read: function (approve) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var current_user_id = this.userId;

    var current_trace = _.find(instance.traces, function (t) {
      return t._id == trace_id;
    });

    var index = 0;
    current_trace.approves.forEach(function (a, idx) {
      if (a.type == 'cc' && a.handler == current_user_id && !a.is_read) {
        index = idx;
      }
    });
    setObj['traces.$.approves.' + index + '.is_read'] = true;
    setObj['traces.$.approves.' + index + '.read_date'] = new Date();
    setObj.traces = traces;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj
    });
    return true;
  },
  cc_submit: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        cc_users: 1,
        outbox_users: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.type == 'cc' && a.handler == current_user_id && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.is_finished'] = true;
            upobj['traces.$.approves.' + idx + '.is_read'] = true;
            upobj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.cost_time'] = new Date() - a.start_date;
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });

    if (current_approve) {
      var index = 0; //设置意见，意见只添加到最后一条approve中

      traces.forEach(function (t) {
        if (current_approve && t._id === current_approve.trace) {
          if (t.approves) {
            t.approves.forEach(function (a, idx) {
              if (a._id === current_approve._id) {
                a.description = description;
                index = idx;
              }
            });
          }
        }
      });
      setObj.modified = new Date();
      setObj.modified_by = this.userId;
      setObj['traces.$.approves.' + index + '.description'] = description;
      db.instances.update({
        _id: ins_id,
        'traces._id': current_approve.trace
      }, {
        $set: setObj,
        $pull: {
          cc_users: current_user_id
        },
        $addToSet: {
          outbox_users: {
            $each: [current_user_id, current_approve.user]
          }
        }
      });
      instance = db.instances.findOne(ins_id);
      current_user_info = db.users.findOne(current_user_id); //传阅提交不通知传阅者

      if (false && description && current_approve && current_approve.from_user) {
        pushManager.send_instance_notification("trace_approve_cc_submit", instance, "", current_user_info, [current_approve.from_user]);
      }

      pushManager.send_message_to_specifyUser("current_user", current_user_id);
      flow_id = instance.flow; // 如果已经配置webhook并已激活则触发

      pushManager.triggerWebhook(flow_id, instance, current_approve, 'cc_submit', current_user_id, []);
    }

    return true;
  },
  cc_remove: function (instanceId, approveId) {
    var setObj = {};
    var instance = db.instances.findOne(instanceId, {
      fields: {
        traces: 1,
        cc_users: 1
      }
    });
    var traces = instance.traces;
    var trace_id,
        remove_user_id,
        multi = false;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a._id == approveId) {
            trace_id = a.trace;
            remove_user_id = a.handler;
            setObj['traces.$.approves.' + idx + '.judge'] = 'terminated';
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.read_date'] = new Date();
          }
        });
      }
    });
    if (!trace_id || !remove_user_id) return;
    var multi = 0;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a) {
          if (a.handler == remove_user_id && a.type == 'cc' && a.is_finished == false) {
            multi++;
          }
        });
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (multi > 1) {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj
      });
    } else {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj,
        $pull: {
          cc_users: remove_user_id
        }
      });
    }

    pushManager.send_message_to_specifyUser("current_user", remove_user_id);
    return true;
  },
  cc_save: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.handler == current_user_id && a.type == 'cc' && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.read_date'] = new Date();
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });
    var index = 0; //设置意见，意见只添加到最后一条approve中

    traces.forEach(function (t) {
      if (current_approve && t._id === current_approve.trace) {
        if (t.approves) {
          t.approves.forEach(function (a, idx) {
            if (a._id === current_approve._id) {
              index = idx;
            }
          });
        }
      }
    });
    setObj['traces.$.approves.' + index + '.description'] = description;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_approve.trace
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forward_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/forward_instance.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // 改为通过api调用
  forward_instance: function (instance_id, space_id, flow_id, hasSaveInstanceToAttachment, description, isForwardAttachments, selectedUsers, action_type, related, from_approve_id) {
    if (!this.userId) throw new Meteor.Error('not-authorized');
    return;
  },
  forward_remove: function (instance_id, trace_id, approve_id) {
    check(instance_id, String);
    check(trace_id, String);
    check(approve_id, String);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var trace = _.find(ins.traces, function (t) {
      return t._id == trace_id;
    });

    var approve = _.find(trace.approves, function (appr) {
      return appr._id == approve_id;
    });

    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, this.userId);

    if (!approve || !['forward', 'distribute'].includes(approve.type) || !approve.forward_instance) {
      if (!hasAdminPermission) {
        if (approve.from_user != this.userId) throw new Meteor.Error('error!', 'instance_forward_cannot_cancel');
      }
    }

    var forward_instance_id = approve.forward_instance;
    var forward_instance = db.instances.findOne(forward_instance_id);

    if (forward_instance) {
      if (forward_instance.state != "draft") {
        if (!hasAdminPermission) throw new Meteor.Error('error!', 'instance_forward_instance_state_changed');
      }

      var inbox_users = forward_instance.inbox_users || [];
      forward_instance.deleted = new Date();
      forward_instance.deleted_by = this.userId;
      var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

      if (deleted_forward_instance_id) {
        db.instances.remove({
          _id: forward_instance_id
        }); // 删除申请单后重新计算inbox_users的badge

        _.each(inbox_users, function (u_id) {
          pushManager.send_message_to_specifyUser("current_user", u_id);
        });
      }
    }

    var set_obj = new Object();
    set_obj.modified = new Date();
    set_obj.modified_by = this.userId;

    _.each(trace.approves, function (appr, idx) {
      if (appr._id == approve_id) {
        set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
        set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
        set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
        set_obj['traces.$.approves.' + idx + '.is_read'] = true;
        set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
      }
    });

    db.instances.update({
      _id: instance_id,
      "traces._id": trace_id
    }, {
      $set: set_obj
    });
    return true;
  },
  cancelDistribute: function (instance_id, approve_ids) {
    check(instance_id, String);
    check(approve_ids, Array);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    userId = this.userId;
    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, userId);

    _.each(ins.traces, function (t) {
      if (t.approves) {
        var exists = false;
        var set_obj = new Object();

        _.each(t.approves, function (a, idx) {
          if (approve_ids.includes(a._id) && (a.from_user == userId || hasAdminPermission) && 'distribute' == a.type && a.forward_instance) {
            var forward_instance_id = a.forward_instance;
            var forward_instance = db.instances.findOne(forward_instance_id);

            if (forward_instance) {
              if (forward_instance.state != "draft") {
                return;
              }

              var inbox_users = forward_instance.inbox_users || [];
              forward_instance.deleted = new Date();
              forward_instance.deleted_by = userId;
              var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

              if (deleted_forward_instance_id) {
                db.instances.remove({
                  _id: forward_instance_id
                }); // 删除申请单后重新计算inbox_users的badge

                _.each(inbox_users, function (u_id) {
                  pushManager.send_message_to_specifyUser("current_user", u_id);
                });
              }

              set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
              set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
              set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
              set_obj['traces.$.approves.' + idx + '.is_read'] = true;
              set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
            }

            exists = true;
          }
        });

        if (!exists) return;
        set_obj.modified = new Date();
        set_obj.modified_by = userId;
        db.instances.update({
          _id: instance_id,
          "traces._id": t._id
        }, {
          $set: set_obj
        });
      }
    });

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.js":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/cfs_instances.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cfs_instances_remove: function (file_id) {
    check(file_id, String);
    cfs.instances.remove(file_id);
    return true;
  },
  cfs_instances_set_current: function (file_id) {
    check(file_id, String);
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.current': true
      }
    });
    return true;
  },
  cfs_instances_lock: function (file_id, user_id, user_name) {
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.locked_by': user_id,
        'metadata.locked_by_name': user_name,
        'metadata.locked_time': new Date()
      }
    });
    return true;
  },
  cfs_instances_unlock: function (file_id) {
    cfs.instances.update({
      _id: file_id
    }, {
      $unset: {
        'metadata.locked_by': '',
        'metadata.locked_by_name': '',
        'metadata.locked_time': ''
      }
    });
    return true;
  },
  download_space_instance_attachments_to_disk: function (spaceId, cfsRecordIds) {
    if (!this.userId) return "不符合执行条件";
    if (Meteor.users.find({
      _id: this.userId,
      is_cloudadmin: true
    }).count() < 1) return "不符合执行条件";
    check(spaceId, String);
    var store = "instances";

    var fs = require('fs');

    var path = require('path');

    var mkdirp = require('mkdirp');

    var pathname = path.join(__meteor_bootstrap__.serverDir, '../../../cfs/spaceInstanceAttachments'); // Set absolute path

    var absolutePath = path.resolve(pathname); // Ensure the path exists

    mkdirp.sync(absolutePath);
    console.log('absolutePath: ', absolutePath);
    console.time('download_space_instance_attachments_to_disk');
    var query = {
      'metadata.space': spaceId
    };

    if (cfsRecordIds) {
      query._id = {
        $in: cfsRecordIds
      };
    }

    var downloadFailedRecordIds = [];
    cfs.instances.find(query).forEach(function (c) {
      try {
        var fileName = store + '-' + c._id + '-' + c.name();
        var filePath = path.join(absolutePath, fileName);
        Meteor.wrapAsync(function (callback) {
          try {
            var writer = fs.createWriteStream(filePath);
            writer.on('finish', function () {
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            var reader = c.createReadStream(store);
            reader.on('error', function (error) {
              downloadFailedRecordIds.push(c._id);
              console.error('download_space_instance_attachments_to_disk: ', c._id);
              console.error(error.stack);
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            reader.pipe(writer);
          } catch (error) {
            console.error('download_space_instance_attachments_to_disk: ', c._id);
            console.error(error.stack);
            if (callback && _.isFunction(callback)) callback();
            return;
          }
        })();
      } catch (error) {
        console.error('download_space_instance_attachments_to_disk: ', c._id);
        console.error(error.stack);
      }
    });

    if (downloadFailedRecordIds.length > 0) {
      console.error('downloadFailedRecordIds: ');
      console.error(downloadFailedRecordIds);
    }

    console.timeEnd('download_space_instance_attachments_to_disk');
    return downloadFailedRecordIds;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_approve.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_approve_have_read: function (instanceId, traceId, approveId) {
    var instance, ref, self, setObj, trace;

    if (!this.userId) {
      return;
    }

    self = this;
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {
        modified: new Date(),
        modified_by: self.userId
      };
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId && !approve.is_read) {
          setObj["traces.$.approves." + idx + ".is_read"] = true;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  change_approve_info: function (instanceId, traceId, approveId, description, finish_date) {
    var instance, ref, setObj, trace;

    if (!this.userId) {
      return;
    }

    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(description, String);
    check(finish_date, Date);
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          setObj["traces.$.approves." + idx + ".description"] = description;
          setObj["traces.$.approves." + idx + ".finish_date"] = finish_date;
          setObj["traces.$.approves." + idx + ".cost_time"] = new Date() - approve.start_date;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  update_approve_sign: function (instanceId, traceId, approveId, sign_field_code, description, sign_type, lastSignApprove) {
    var instance, lastTrace, ref, session_userId, setObj, trace, upObj;
    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(sign_field_code, String);
    check(description, String);

    if (!this.userId) {
      return;
    }

    session_userId = this.userId;

    if (lastSignApprove) {
      if (lastSignApprove.custom_sign_show) {
        return;
      }

      instance = db.instances.findOne({
        _id: instanceId,
        "traces._id": lastSignApprove.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });
      lastTrace = _.find(instance != null ? instance.traces : void 0, function (t) {
        return t._id = lastSignApprove.trace;
      });

      if (lastTrace) {
        setObj = {};

        if (lastTrace != null) {
          lastTrace.approves.forEach(function (a, idx) {
            if (a._id === lastSignApprove._id) {
              if (sign_type === "update") {
                setObj["traces.$.approves." + idx + ".sign_show"] = false;
                setObj["traces.$.approves." + idx + ".modified"] = new Date();
                return setObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
              }
            }
          });
        }

        if (!_.isEmpty(setObj)) {
          db.instances.update({
            _id: instanceId,
            "traces._id": lastTrace._id
          }, {
            $set: setObj
          });
        }
      }
    }

    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      upObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          if (sign_field_code) {
            upObj["traces.$.approves." + idx + ".sign_field_code"] = sign_field_code;
          }

          upObj["traces.$.approves." + idx + ".description"] = description;
          upObj["traces.$.approves." + idx + ".sign_show"] = true;
          upObj["traces.$.approves." + idx + ".modified"] = new Date();
          upObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
          return upObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(upObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: upObj
        });
      }

      return true;
    }
  },
  update_sign_show: function (objs, myApprove_id) {
    objs.forEach(function (obj, index) {
      var instance, ref, setObj, trace;
      instance = db.instances.findOne({
        _id: obj.instance,
        "traces._id": obj.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });

      if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
        trace = instance.traces[0];
        setObj = {};
        trace.approves.forEach(function (approve, idx) {
          if (approve._id === obj._id) {
            setObj["traces.$.approves." + idx + ".sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".custom_sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }

          if (approve._id === myApprove_id) {
            return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }
        });

        if (!_.isEmpty(setObj)) {
          return db.instances.update({
            _id: obj.instance,
            "traces._id": obj.trace
          }, {
            $set: setObj
          });
        }
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_return.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_return.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_return: function (approve, reason) {
    var approve_values, b, current_step, current_user, current_user_info, flow, ins, instance, instance_id, last_trace, newTrace, new_inbox_users, now, pre_step, pre_trace, r, rest_counter_users, setObj, space_id, traces;
    check(approve, Object);
    current_user = this.userId;
    instance_id = approve.instance;
    ins = uuflowManager.getInstance(instance_id);
    space_id = ins.space;

    if (ins.state !== "pending" || !ins.inbox_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.type === "cc" && ins.cc_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (ins.traces.length < 2) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    flow = uuflowManager.getFlow(ins.flow);
    pre_trace = ins.traces[ins.traces.length - 2];
    pre_step = uuflowManager.getStep(ins, flow, pre_trace.step);

    if (pre_step.step_type === "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    last_trace = _.last(ins.traces);
    current_step = uuflowManager.getStep(ins, flow, last_trace.step);

    if (current_step.step_type !== "submit" && current_step.step_type !== "sign" && current_step.step_type !== "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.trace !== last_trace._id) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    new_inbox_users = new Array();

    _.each(pre_trace.approves, function (a) {
      if ((!a.type || a.type === "draft" || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected")) {
        return new_inbox_users.push(a.user);
      }
    });

    if (_.isEmpty(new_inbox_users)) {
      throw new Meteor.Error('error!', "未找到下一步处理人，退回失败");
    }

    traces = ins.traces;
    approve_values = uuflowManager.getApproveValues(approve.values || {}, current_step.permissions, ins.form, ins.form_version);
    setObj = new Object();
    now = new Date();
    rest_counter_users = new Array();

    _.each(traces, function (t) {
      if (t._id === last_trace._id) {
        if (!t.approves) {
          t.approves = new Array();
        }

        _.each(t.approves, function (a, idx) {
          if ((!a.type || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected" || a.judge === "readed") && a.is_finished !== true) {
            setObj['traces.$.approves.' + idx + '.finish_date'] = now;
            setObj['traces.$.approves.' + idx + '.read_date'] = now;
            setObj['traces.$.approves.' + idx + '.is_error'] = false;
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.cost_time'] = now - a.start_date;
            setObj['traces.$.approves.' + idx + '.values'] = approve_values;

            if (a.handler === current_user) {
              setObj['traces.$.approves.' + idx + '.judge'] = "returned";
              return setObj['traces.$.approves.' + idx + '.description'] = reason;
            } else {
              return rest_counter_users.push(a.handler);
            }
          }
        });

        setObj['traces.$.is_finished'] = true;
        setObj['traces.$.finish_date'] = true;
        return setObj['traces.$.judge'] = "returned";
      }
    });

    ins.values = _.extend(ins.values || {}, approve_values);
    newTrace = new Object();
    newTrace._id = new Mongo.ObjectID()._str;
    newTrace.instance = instance_id;
    newTrace.previous_trace_ids = [last_trace._id];
    newTrace.is_finished = false;
    newTrace.step = pre_trace.step;
    newTrace.name = pre_trace.name;
    newTrace.start_date = now;
    newTrace.due_date = uuflowManager.getDueDate(pre_step.timeout_hours);
    newTrace.approves = [];

    _.each(new_inbox_users, function (next_step_user_id, idx) {
      var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
      newApprove = new Object();
      newApprove._id = new Mongo.ObjectID()._str;
      newApprove.instance = instance_id;
      newApprove.trace = newTrace._id;
      newApprove.is_finished = false;
      newApprove.user = next_step_user_id;
      user_info = db.users.findOne(next_step_user_id, {
        fields: {
          name: 1
        }
      });
      newApprove.user_name = user_info.name;
      handler_id = next_step_user_id;
      handler_info = user_info;
      agent = uuflowManager.getAgent(space_id, next_step_user_id);

      if (agent) {
        new_inbox_users[idx] = agent;
        handler_id = agent;
        handler_info = db.users.findOne({
          _id: agent
        }, {
          fields: {
            name: 1
          }
        });
        newApprove.agent = agent;
      }

      newApprove.handler = handler_id;
      newApprove.handler_name = handler_info.name;
      next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
      next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
      newApprove.handler_organization = next_step_user_org_info["organization"];
      newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
      newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
      newApprove.start_date = now;
      newApprove.is_read = false;
      newApprove.is_error = false;
      newApprove.values = new Object();
      uuflowManager.setRemindInfo(ins.values, newApprove);
      return newTrace.approves.push(newApprove);
    });

    setObj.inbox_users = new_inbox_users;
    setObj.state = "pending";
    ins.outbox_users.push(current_user);
    setObj.outbox_users = _.uniq(ins.outbox_users);
    setObj.modified = now;
    setObj.modified_by = current_user;
    setObj.values = ins.values;
    setObj.current_step_name = pre_trace.name;
    r = db.instances.update({
      _id: instance_id,
      'traces._id': last_trace._id
    }, {
      $set: setObj
    });
    b = db.instances.update({
      _id: instance_id
    }, {
      $push: {
        traces: newTrace
      }
    });

    if (r && b) {
      pushManager.send_message_to_specifyUser("current_user", current_user);
      instance = uuflowManager.getInstance(instance_id);
      current_user_info = db.users.findOne(current_user);
      pushManager.send_instance_notification("return_pending_inbox", instance, reason, current_user_info);

      _.each(rest_counter_users, function (user_id) {
        return pushManager.send_message_to_specifyUser("current_user", user_id);
      });
    }

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_remind.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_remind.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_remind: function (remind_users, remind_count, remind_deadline, instance_id, action_types, trace_id) {
    var current_user_id, ins, last_remind_users, now, priority, trace;
    check(remind_users, Array);
    check(remind_count, Match.OneOf('single', 'multi'));
    check(remind_deadline, Date);
    check(instance_id, String);
    check(action_types, Array);
    check(trace_id, String);
    current_user_id = this.userId;
    last_remind_users = new Array();
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        name: 1,
        traces: 1,
        values: 1,
        space: 1
      }
    });

    if (action_types.includes('admin')) {
      if (remind_count === 'single') {
        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              return last_remind_users.push(ap.user);
            }
          });
        });
      } else if (remind_count === 'multi') {
        now = new Date();
        priority = ins.values.priority;

        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            var caculate_date;

            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              last_remind_users.push(ap.user);
              ap.manual_deadline = remind_deadline;

              if (priority === "普通" || !priority) {} else if (priority === "办文") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "紧急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "特急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              }
            }
          });
        });

        if (!_.isEmpty(last_remind_users)) {
          db.instances.update({
            _id: instance_id
          }, {
            $set: {
              'traces': ins.traces
            }
          });
        }
      }
    } else if (action_types.includes('applicant')) {
      trace = _.find(ins.traces, function (t) {
        return t._id === trace_id;
      });

      _.each(trace.approves, function (ap) {
        if (remind_users.includes(ap.user) && ap.is_finished !== true) {
          return last_remind_users.push(ap.user);
        }
      });
    } else if (action_types.includes('cc')) {
      _.each(ins.traces, function (t) {
        return _.each(t.approves, function (ap) {
          if (remind_users.includes(ap.user) && ap.is_finished !== true && ap.type === 'cc' && ap.from_user === current_user_id) {
            return last_remind_users.push(ap.user);
          }
        });
      });
    }

    uuflowManager.sendRemindSMS(ins.name, remind_deadline, last_remind_users, ins.space, ins._id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"next_step_users_not_found.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/next_step_users_not_found.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  next_step_users_not_found: function (deal_type, step_name, params) {
    var approver_roles, lang, roles, roles_name, str, user;
    check(deal_type, String);
    check(step_name, String);
    check(params, Object);
    str = "";
    user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    lang = 'en';

    if (user.locale === 'zh-cn') {
      lang = 'zh-CN';
    }

    if (deal_type === 'applicantRole') {
      approver_roles = params.approver_roles;
      roles = db.flow_roles.find({
        _id: {
          $in: approver_roles
        }
      }, {
        fields: {
          name: 1
        }
      }).fetch();
      roles_name = _.pluck(roles, 'name').toString();
      str = TAPi18n.__('next_step_users_not_found.applicant_role', {
        step_name: step_name,
        role_name: roles_name
      }, lang);
    }

    return str;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_number_rules.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_number_rules.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval;

_eval = require('eval');
Meteor.methods({
  instanceNumberBuilder: function (spaceId, name) {
    var _NUMBER, _YYYY, context, date, e, numberRules, res, rules, script;

    numberRules = db.instance_number_rules.findOne({
      space: spaceId,
      name: name
    });

    if (!numberRules) {
      throw new Meteor.Error('error!', "" + name);
    }

    date = new Date();
    context = {};
    context._ = _;
    _YYYY = date.getFullYear();
    _NUMBER = (numberRules.number || 0) + 1;
    context.YYYY = _.clone(_YYYY);
    context.MM = date.getMonth() + 1;
    context.mm = date.getMonth() + 1;

    if (context.MM < 10) {
      context.MM = "0" + context.MM;
    }

    context.DD = date.getDate();
    context.dd = date.getDate();

    if (context.DD < 10) {
      context.DD = "0" + context.DD;
    }

    if (context.YYYY !== numberRules.year) {
      _NUMBER = numberRules.first_number || 1;
    }

    context.NUMBER = _.clone(_NUMBER);
    rules = numberRules.rules.replace("{YYYY}", "' + YYYY + '").replace("{MM}", "' + MM + '").replace("{NUMBER}", "' + NUMBER + '");
    script = "var newNo = '" + rules + "'; exports.newNo = newNo";

    try {
      res = _eval(script, "newNo", context, false).newNo;
      db.instance_number_rules.update({
        _id: numberRules._id
      }, {
        $set: {
          year: _YYYY,
          number: _NUMBER
        }
      });
      console.log(this.userId, res);
    } catch (error) {
      e = error;
      res = {
        _error: e
      };
    }

    return res;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"check_main_attach.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/check_main_attach.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  check_main_attach: function (ins_id, name) {
    check(ins_id, String);
    uuflowManager.checkMainAttach(ins_id, name);
    return 'success';
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/related_instances.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  remove_related: function (ins_id, re_ins_id) {
    var index, ins, res, set_obj;
    check(ins_id, String);
    check(re_ins_id, String);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        related_instances: 1
      }
    });

    if (ins) {
      res = ins.related_instances || [];
      index = res.indexOf(re_ins_id);

      if (index > -1) {
        res.remove(index);
      }

      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = res;
      return db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }
  },
  update_instance_related: function (ins_id, related_instances) {
    var ins, set_obj;
    check(ins_id, String);
    check(related_instances, Array);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id,
      $or: [{
        submitter: this.userId
      }, {
        applicant: this.userId
      }, {
        inbox_users: this.userId
      }, {
        cc_users: this.userId
      }]
    }, {
      fields: {
        state: 1
      }
    });

    if (ins) {
      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = related_instances;
      db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }

    return db.instances.find({
      _id: {
        $in: related_instances
      }
    }, {
      fields: {
        _id: 1,
        values: 1
      }
    }).fetch();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"edit_flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/edit_flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  updateFlowPosition: function (data) {
    return db.flow_positions.update({
      _id: data._id
    }, {
      $set: {
        role: data.role,
        users: data.users,
        org: data.org
      }
    });
  },
  updateFlowRole: function (data) {
    console.log(data._id);
    console.log(data.name);
    return db.flow_roles.update({
      _id: data._id
    }, {
      $set: {
        name: data.name
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"start_flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/start_flow.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  start_flow: function (space, flowId, start) {
    var keyValue, start_flows;
    keyValue = db.steedos_keyvalues.findOne({
      space: space,
      user: this.userId,
      key: 'start_flows'
    }, {
      fields: {
        value: 1
      }
    });
    start_flows = (keyValue != null ? keyValue.value : void 0) || [];

    if (start) {
      start_flows.push(flowId);
      start_flows = _.uniq(start_flows);
    } else {
      start_flows.remove(start_flows.indexOf(flowId));
    }

    if (keyValue) {
      return db.steedos_keyvalues.update({
        _id: keyValue._id
      }, {
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    } else {
      return db.steedos_keyvalues.insert({
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_traces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_traces.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  get_instance_traces: function (ins_id) {
    var ins, miniApproveFields;

    if (!this.userId) {
      return;
    }

    miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description'];
    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        "traces._id": 1,
        "traces.is_finished": 1,
        "traces.step": 1,
        "traces.start_date": 1,
        "traces.name": 1,
        "traces.finish_date": 1,
        "traces.judge": 1,
        "traces.approves._id": 1,
        "traces.approves.is_finished": 1,
        "traces.approves.user": 1,
        "traces.approves.handler": 1,
        "traces.approves.handler_name": 1,
        "traces.approves.handler_organization_fullname": 1,
        "traces.approves.type": 1,
        "traces.approves.start_date": 1,
        "traces.approves.description": 1,
        "traces.approves.is_read": 1,
        "traces.approves.judge": 1,
        "traces.approves.finish_date": 1,
        "traces.approves.from_user_name": 1,
        "traces.approves.from_user": 1,
        "traces.approves.cc_description": 1,
        "traces.approves.trace": 1,
        "traces.approves.forward_space": 1,
        "traces.approves.forward_instance": 1
      }
    });

    if (!ins) {
      return;
    }

    return ins != null ? ins.traces : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_batch.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_batch.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  'get_batch_instances': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return _batch_instances;
  },
  'get_batch_instances_count': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return (_batch_instances != null ? _batch_instances.length : void 0) || 0;
  },
  'get_my_approves': function (instanceIds) {
    var myApproves, that;
    that = this;

    if (!that.userId) {
      return;
    }

    myApproves = new Array();
    instanceIds.forEach(function (insId) {
      var my_approve;
      my_approve = InstanceManager.getMyApprove(insId, that.userId);

      if (my_approve) {
        return myApproves.push(my_approve);
      }
    });
    return myApproves;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/flow.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  change_flow_state: function (flows) {
    var _userId;

    check(flows, Array);
    _userId = this.userId;

    if (!_userId) {
      return;
    }

    return flows.forEach(function (flow) {
      var _flows, _flows_state, flowId, form, formId, form_current_fields_code, now, spaceId, state;

      spaceId = flow.space;
      formId = flow.form;
      flowId = flow.id;
      state = flow.state;

      if (!Steedos.isSpaceAdmin(spaceId, _userId)) {
        throw Meteor.Error(401, "No permission");
      }

      form = db.forms.findOne({
        _id: formId
      }, {
        fields: {
          historys: 0
        }
      });
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          historys: 0
        }
      });

      if (state !== 'enabled' && state !== 'disabled') {
        throw new Meteor.Error(500, "state无效");
      }

      if (!form) {
        throw new Meteor.Error(500, "form无效");
      }

      if (!flow) {
        throw new Meteor.Error(500, "flow无效");
      }

      if (!form.is_valid) {
        throw new Meteor.Error(500, "流程引用的表单[" + form.name + "]验证未通过，请打开流程设计器检查表单设置");
      }

      if (!flow.is_valid) {
        throw new Meteor.Error(500, "流程验证未通过，请打开流程设计器检查流程设置");
      }

      if (!['new', 'modify', 'delete'].includes(flow.flowtype)) {
        throw new Meteor.Error(500, "流程验证未通过，flowtype值必须是new、modify、delete其中之一");
      }

      if (!_.isArray(flow.current.steps)) {
        throw new Meteor.Error(500, "流程验证未通过，流程的步骤不能为空");
      }

      if (_.uniq(flow.current.steps, 'name').length !== flow.current.steps.length) {
        throw new Meteor.Error(500, "流程验证未通过，同一个流程下的步骤的名称不能重复");
      }

      now = new Date();

      if (state === 'enabled') {
        flow.current.steps.forEach(function (step) {
          var specifyStep;

          if (['specifyStepUser', 'specifyStepRole'].includes(step.deal_type)) {
            if (!step.approver_step) {
              throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
            } else {
              specifyStep = _.find(flow.current.steps, function (_step) {
                return step.approver_step === _step._id;
              });

              if (!specifyStep) {
                throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
              }
            }
          }
        });
        form_current_fields_code = form.current.fields.getProperty("code");
        flow.current.steps.forEach(function (step) {
          return step.fields_modifiable = _.intersection(step.fields_modifiable, form_current_fields_code);
        });

        if (form.state === 'disabled') {
          db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "enabled",
              "current.start_date": now,
              "current.modified": now,
              "current.modified_by": _userId
            }
          });
        }

        flow.current.modified = now;
        flow.current.start_date = now;
        flow.current.modified_by = _userId;
        return db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "enabled",
            "current": flow.current
          }
        });
      } else {
        db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "disabled",
            "current.modified": now,
            "current.start_date": now,
            "current.modified_by": _userId
          }
        });
        _flows = db.flows.find({
          form: form._id
        }, {
          fields: {
            _id: 1,
            state: 1
          }
        }).fetch();
        _flows_state = _flows.getProperty("state");

        if (!_flows_state.includes('enabled')) {
          return db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "disabled",
              "current.modified": now,
              "current.start_date": now,
              "current.modified_by": _userId
            }
          });
        }
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distribute.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/distribute.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"hide_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/hide_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  hide_instance: function (insId, is_hidden) {
    var instance, permissions, space, userId;

    if (!this.userId) {
      return;
    }

    check(insId, String);
    check(is_hidden, Boolean);
    userId = this.userId;
    instance = db.instances.findOne(insId, {
      fields: {
        state: 1,
        flow: 1,
        space: 1
      }
    });

    if (!instance) {
      throw new Meteor.Error('error!', "未找到申请单");
    }

    if (instance.state !== 'completed') {
      throw new Meteor.Error('error!', "申请单状态不是已结束");
    }

    permissions = permissionManager.getFlowPermissions(instance.flow, userId);
    space = db.spaces.findOne(instance.space, {
      fields: {
        admins: 1
      }
    });

    if (!permissions.includes("admin") && !space.admins.includes(userId)) {
      throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
    }

    db.instances.update(insId, {
      $set: {
        is_hidden: is_hidden
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_value.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_value.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  getInstanceValues: function (insId) {
    var ref;

    if (!this.userId) {
      return;
    }

    return (ref = db.instances.findOne({
      _id: insId
    }, {
      fields: {
        values: 1
      }
    })) != null ? ref.values : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"routes":{"instance.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies, getInstanceReadOnly;
Cookies = require("cookies");

getInstanceReadOnly = function (req, res, next, options) {
  var _hasPermission, _locale, _parent_instances, dataBuf, error, hide_traces, html, instance, instanceId, ref, ref1, space, spaceId, spaceUserCount, user, userId;

  user = Steedos.getAPILoginUser(req, res);

  if (req != null ? (ref = req.query) != null ? ref.access_token : void 0 : void 0) {
    userId = Steedos.getUserIdFromAccessToken(req.query.access_token);

    if (userId) {
      user = Meteor.users.findOne({
        _id: userId
      });
    }
  }

  spaceId = req.params.space;
  instanceId = req.params.instance_id;
  instance = db.instances.findOne({
    _id: instanceId
  });
  space = db.spaces.findOne({
    _id: spaceId
  });
  hide_traces = (ref1 = req.query) != null ? ref1.hide_traces : void 0;

  if (!options) {
    options = {
      showTrace: true
    };
  } else {
    options.showTrace = true;
  }

  if (hide_traces === "1") {
    if (options) {
      options.showTrace = false;
    } else {
      options = {
        showTrace: false
      };
    }
  }

  if (!options.showAttachments) {
    options.showAttachments = true;
  }

  if (!space) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space",
        "success": false
      }
    });
    return;
  }

  if (!instance) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing instance",
        "success": false
      }
    });
    return;
  }

  if (!user) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Auth-Token,X-User-Id",
        "success": false
      }
    });
    return;
  }

  if (instance.space !== spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space or instance",
        "success": false
      }
    });
    return;
  }

  spaceUserCount = db.space_users.find({
    user: user._id,
    space: spaceId
  }).count();

  if (spaceUserCount === 0) {
    if (!space) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- Missing sapceUser",
          "success": false
        }
      });
      return;
    }
  }

  _hasPermission = WorkflowManager.hasInstancePermissions(user, instance);

  if (!_hasPermission && instance.distribute_from_instance) {
    _parent_instances = _.union([instance.distribute_from_instance], instance.distribute_from_instances || []);
    _hasPermission = _.find(_parent_instances, function (_parent_id) {
      var _parent_ins;

      _parent_ins = db.instances.findOne({
        _id: _parent_id
      }, {
        fields: {
          traces: 0
        }
      });
      return WorkflowManager.hasInstancePermissions(user, _parent_ins);
    });
  }

  if (!_hasPermission) {
    _locale = Steedos.locale(user._id, true);
    error = TAPi18n.__("instance_permissions_error", {}, _locale);
    res.charset = "utf-8";
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": error,
        "success": false
      }
    });
    return;
  }

  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
};

JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id", getInstanceReadOnly);
JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id/:instance_name", function (req, res, next) {
  var options;
  res.setHeader('Content-type', 'application/x-msdownload');
  res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(req.params.instance_name));
  res.setHeader('Transfer-Encoding', '');
  options = {
    absolute: true
  };
  return getInstanceReadOnly(req, res, next, options);
}); /*
    	获取申请单列表：
        final_decision：审批结果
        state: 申请单状态
     */
JsonRoutes.add("get", "/api/workflow/instances", function (req, res, next) {
  var f, flowId, flowIds, flows, i, instances, query, ref, ref1, ref2, ref3, ret_sync_token, spaceId, spaceUser, spaceUserOrganizations, sync_token, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  spaceId = req.headers["x-space-id"];

  if (!spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Space-Id",
        "success": false
      }
    });
    return;
  }

  flowId = (ref = req.query) != null ? ref.flowId : void 0;

  if (!flowId) {
    JsonRoutes.sendResult(res, {
      code: 400,
      data: {
        "error": "Validate Request -- Missing flowId",
        "success": false
      }
    });
    return;
  }

  query = {};
  ret_sync_token = new Date().getTime();
  flowIds = flowId.split(",");
  flows = db.flows.find({
    _id: {
      $in: flowIds
    }
  }).fetch();
  i = 0;

  while (i < flows.length) {
    f = flows[i];
    spaceUser = db.space_users.findOne({
      space: f.space,
      user: user_id
    });

    if (!spaceUser) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- No permission, flow is " + f._id,
          "success": false
        }
      });
      return;
    } else {}

    if (!Steedos.isSpaceAdmin(spaceId, user_id)) {
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: spaceUser.organizations
        }
      }).fetch();

      if (!WorkflowManager.canMonitor(f, spaceUser, spaceUserOrganizations) && !WorkflowManager.canAdmin(f, spaceUser, spaceUserOrganizations)) {
        JsonRoutes.sendResult(res, {
          code: 401,
          data: {
            "error": "Validate Request -- No permission, flow is " + f._id,
            "success": false
          }
        });
        return;
      }
    }

    i++;
  }

  query.flow = {
    $in: flowIds
  };
  query.space = spaceId;

  if ((ref1 = req.query) != null ? ref1.sync_token : void 0) {
    sync_token = new Date(Number(req.query.sync_token));
    query.modified = {
      $gt: sync_token
    };
  }

  if ((ref2 = req.query) != null ? ref2.final_decision : void 0) {
    query.final_decision = {
      $in: req.query.final_decision.split(",")
    };
  } else {
    query.final_decision = {
      $nin: ["terminated", "rejected"]
    };
  }

  if ((ref3 = req.query) != null ? ref3.state : void 0) {
    query.state = {
      $in: req.query.state.split(",")
    };
  } else {
    query.state = "completed";
  }

  instances = db.instances.find(query, {
    fields: {
      inbox_uers: 0,
      cc_users: 0,
      outbox_users: 0,
      traces: 0,
      attachments: 0
    },
    skip: 0,
    limit: 500
  }).fetch();
  instances.forEach(function (instance) {
    var attachments;
    attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return instance.attachments = attachments;
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      "status": "success",
      "sync_token": ret_sync_token,
      "data": instances
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steedos_css.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/steedos_css.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/steedos-css", function (req, res, next) {
  var allCss, allCssLink;
  allCss = WebApp.getRefreshableAssets();
  allCssLink = "";
  allCss.forEach(function (css) {
    var cssHref, rootUrl;

    if (__meteor_runtime_config__.ROOT_URL_PATH_PREFIX) {
      rootUrl = __meteor_runtime_config__.ROOT_URL;

      if (rootUrl.endsWith("/")) {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX + "/", "") + css.url;
      } else {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX, "") + css.url;
      }
    } else {
      cssHref = Meteor.absoluteUrl(css.url);
    }

    return allCssLink += "@import url(" + cssHref + ");";
  });
  res.statusCode = 200;
  return res.end(allCssLink);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft_view.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance_draft_view.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/api/workflow/space/:space/view/draft/:flow", function (req, res, next) {
  var dataBuf, flow, flowId, form, html, instance, options, space, spaceId, user, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  user = db.users.findOne({
    _id: user_id
  });
  spaceId = req.params.space;
  flowId = req.params.flow;
  space = db.spaces.findOne({
    _id: spaceId
  });
  flow = db.flows.findOne({
    _id: flowId
  }, {
    fields: {
      name: 1,
      'current._id': 1,
      form: 1
    }
  });
  form = db.forms.findOne({
    _id: flow.form
  }, {
    fields: {
      'current._id': 1
    }
  });
  options = {
    showTrace: false,
    showAttachments: false,
    templateName: "default",
    editable: true,
    width: "100%",
    instance_style: "instance-default",
    plugins: "\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n<title>" + flow.name + "</title>\n<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />\n<meta name=\"viewport\" content=\"width=device-width\" />\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css\">\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js\" type=\"text/javascript\"></script>\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js\" type=\"text/javascript\" charset=\"UTF-8\"></script>\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/toastr/toastr.min.css\">\n<script src=\"/plugins/toastr/toastr.min.js\" type=\"text/javascript\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/workflow_client.css\">\n<script src=\"/js/workflow_client.js\" type=\"text/javascript\"></script>"
  };
  instance = {
    flow: flow._id,
    flow_version: flow.current._id,
    form: form._id,
    form_version: form.current._id,
    values: {},
    name: flow.name,
    space: spaceId
  };
  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"lib":{"1_form_formula.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/1_form_formula.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Array.prototype.filterProperty = function (h, l) {
  var g = [];
  this.forEach(function (t) {
    var m = t ? t[h] : null;
    var d = false;

    if (m instanceof Array) {
      d = m.includes(l);
    } else {
      d = l === undefined ? false : m == l;
    }

    if (d) {
      g.push(t);
    }
  });
  return g;
};

Array.prototype.getProperty = function (k) {
  var v = new Array();
  this.forEach(function (t) {
    var m = t ? t[k] : null;
    v.push(m);
  });
  return v;
};

Array.prototype.getEach = function (code) {
  var rev = [];

  for (var i = 0; i < this.length; i++) {
    rev.push(this[i][code]);
  }

  return rev;
};

Array.prototype.uniq = function () {
  var a = [];
  this.forEach(function (b) {
    if (a.indexOf(b) < 0) {
      a[a.length] = b;
    }
  });
  return a;
};

Form_formula = {};

Form_formula.mixin = function (dest, src) {
  for (var key in src) {
    dest[key] = src[key];
  }

  return dest;
};

Form_formula.handerUserObject = function (u) {
  if (u instanceof Array) {
    var user = {};
    user.name = u.getProperty("name");
    user.organization = {};
    user.organization.name = u.getProperty("organization").getProperty("name");
    user.organization.fullname = u.getProperty("organization").getProperty("fullname");
    user.hr = u.getProperty("hr");
    user.sort_no = u.getProperty("sort_no");
    user.mobile = u.getProperty("mobile");
    user.work_phone = u.getProperty("work_phone");
    user.position = u.getProperty("position");
    var userRoles = u.getProperty("roles");
    var roles = new Array();
    userRoles.forEach(function (i) {
      roles = roles.concat(i);
    });
    roles.uniq();
    user.roles = roles;
    return user;
  } else {
    return u;
  }
};

Form_formula.handerOrgObject = function (o) {
  if (o instanceof Array) {
    var org = {};
    org.id = o.getProperty("_id");
    org.name = o.getProperty("name");
    org.fullname = o.getProperty("fullname");
    return org;
  } else {
    return o;
  }
};
/**
    * 获得公式需要用到的初始值
    * 输入：fields, values, applicant
    * 输出：__values
**/


Form_formula.init_formula_values = function (fields, autoFormDoc, approver, applicant, spaceId) {
  var __values = {}; //申请单中填的值处理

  if (fields && fields.length && autoFormDoc) {
    //debugger;
    fields.forEach(function (field) {
      var type = field.type;

      if (type) {
        if (type === 'table') {
          /*
          * 将表格字段的值进行转换后传入__values中
          * values中表格的值格式为
          * [{"a":1,"b":4},{"a":2,"b":5},{"a":3,"b":6}]
          * __values需要转化为下面格式且和主表的值一样放到第一层
          * {"a":[1,2,3],"b":[4,5,6]}
          **/
          var tableFields = field.sfields,
              tableValues = autoFormDoc[field.code],
              formulaTableValues = [],
              __tableValues = {}; //按公式的格式转换值为__tableValues

          if (tableFields && tableFields.length && tableValues && tableValues instanceof Array) {
            tableValues.forEach(function (tableValue) {
              formulaTableValues.push(Form_formula.init_formula_values(tableFields, tableValue));
            }, this); //按主表的格式转换__tableValues加到

            tableFields.forEach(function (tablefield) {
              __tableValues[tablefield.code] = formulaTableValues.getEach(tablefield.code);
            });
            __values = Form_formula.mixin(__values, __tableValues);
          }
        } else if (type == 'user') {
          __values[field.code] = Form_formula.handerUserObject(WorkflowManager.getFormulaUserObjects(spaceId, autoFormDoc[field.code]));
        } else if (type == 'group') {
          __values[field.code] = Form_formula.handerOrgObject(WorkflowManager.getFormulaOrgObjects(autoFormDoc[field.code]));
        } else if (type == 'odata') {
          __values[field.code] = autoFormDoc[field.code] || {};
        } else {
          //此处传spaceId给选人控件的旧数据计算roles和organization
          __values[field.code] = autoFormDoc[field.code];
        }
      }
    }, this);
  } //当前处理人


  __values["approver"] = WorkflowManager.getFormulaUserObject(spaceId, approver); //申请人

  __values["applicant"] = WorkflowManager.getFormulaUserObject(spaceId, applicant);
  return __values;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_handlers_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/get_handlers_manager.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
getHandlersManager = {};

getHandlersManager.getHandlersByUsersAndRoles = function (user_ids, role_ids, space_id) {
  var approve_users;
  approve_users = new Array();

  _.each(user_ids, function (user_id) {
    var users;

    if (db.users.find({
      _id: user_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRoles(user_id, role_ids, space_id);

      if (users.length > 0) {
        return approve_users = approve_users.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "user_id不合法不合法");
    }
  });

  approve_users = _.uniq(approve_users);
  return approve_users;
};

getHandlersManager.getHandlersByUserAndRoles = function (user_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;

    if (db.flow_roles.find({
      _id: role_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRole(user_id, role_id, space_id);

      if (users.length > 0) {
        return user_ids = user_ids.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "role_id已经被删除");
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据user_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByUserAndRole = function (user_id, role_id, space_id) {
  var orgs, user_ids;
  orgs = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      _id: 1
    }
  }).fetch();
  user_ids = new Array();

  _.each(orgs, function (org) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org._id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgsAndRoles = function (org_ids, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(org_ids, function (org_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRoles(org_id, role_ids, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgAndRoles = function (org_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org_id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据org_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByOrgAndRole = function (org_id, role_id, space_id) {
  var org, parents, positions, user_ids;
  org = db.organizations.findOne({
    _id: org_id
  }, {
    fields: {
      parents: 1
    }
  });
  user_ids = new Array();
  positions = db.flow_positions.find({
    space: space_id,
    org: org_id,
    role: role_id
  }, {
    fields: {
      users: 1
    }
  }).fetch();

  _.each(positions, function (position) {
    return user_ids = user_ids.concat(position.users);
  });

  if (user_ids.length === 0) {
    parents = org.parents;

    _.each(parents, function (parent_id) {
      positions = db.flow_positions.find({
        space: space_id,
        org: parent_id,
        role: role_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();

      if (positions.length > 0) {
        return _.each(positions, function (position) {
          return user_ids = user_ids.concat(position.users);
        });
      }
    });
  }

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlers = function (instance_id, step_id) {
  var _approve, _space_user, _trace, applicant, applicantSuperiors, approveHrRoleIds, approve_users, approver_org_field, approver_org_ids, approver_step, approver_user_field, approver_user_ids, current, current_flow, current_flow_version, current_form, current_step, current_steps, deal_type, field_code, finished_traces, flow_id, flow_rev, form, form_fields, form_id, form_rev, handlers, instance, max_startDate_trace, new_approver_user_ids, new_org_user_ids, newest_values, next_step_users, org_ids, org_ids_names, org_user_ids, space_id, space_user_count, submitter, submitter_user_count, unfinished_trace, user_ids, user_ids_names, users, valid_approver_org_ids;

  instance = db.instances.findOne(instance_id);

  if (instance.step_approve && instance.step_approve[step_id]) {
    return instance.step_approve[step_id];
  }

  approve_users = new Array();
  space_id = instance.space;
  flow_id = instance.flow;
  flow_rev = instance.flow_version;
  current_flow = db.flows.findOne(flow_id);
  current_step = null;
  current_steps = new Array();

  if (current_flow.current._id === flow_rev) {
    current_steps = current_flow.current.steps;
  } else {
    current = _.find(current_flow.historys, function (history) {
      return history._id === flow_rev;
    });
    current_steps = current.steps;
  }

  current_step = _.find(current_steps, function (step) {
    return step._id === step_id;
  });

  if (current_step.step_type === "condition") {
    unfinished_trace = _.find(instance.traces, function (trace) {
      return trace.is_finished === false;
    });
    return new Array(unfinished_trace.approves[0].user);
  }

  if (current_step.step_type === "start") {
    handlers = new Array();
    handlers.push(instance.applicant);
    handlers.push(instance.submitter);
    handlers = _.uniq(handlers);
    return handlers;
  }

  deal_type = current_step.deal_type;
  users = new Array();

  if (deal_type === "applicantRole") {
    applicant = instance.applicant;

    if (applicant) {
      space_user_count = db.space_users.find({
        space: space_id,
        user: applicant
      }).count();

      if (space_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
      }

      if (current_step.approver_roles && current_step.approver_roles.length > 0) {
        _.each(current_step.approver_roles, function (approver_role) {
          var role_count;
          role_count = db.flow_roles.find({
            _id: approver_role
          }).count();

          if (role_count === 0) {
            throw new Meteor.Error('error!', "角色已经被删除");
          }
        });

        return getHandlersManager.getHandlersByUserAndRoles(applicant, current_step.approver_roles, space_id);
      } else {
        throw new Meteor.Error('error!', "审批岗位未指定");
      }
    } else {
      throw new Meteor.Error('error!', "Instance的提交人为空");
    }
  } else if (deal_type === "hrRole") {
    approveHrRoleIds = current_step.approver_hr_roles;

    if (approveHrRoleIds) {
      return _.pluck(WorkflowManager.getHrRolesUsers(space_id, approveHrRoleIds), 'user');
    } else {
      throw new Meteor.Error('error!', "角色未指定");
    }
  } else if (deal_type === "applicant") {
    applicant = instance.applicant;
    space_user_count = db.space_users.find({
      space: space_id,
      user: applicant
    }).count();

    if (space_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
    } else {
      return new Array(applicant);
    }
  } else if (deal_type === "orgFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByOrgsAndRoles(org_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "orgField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    user_ids = new Array();

    _.each(org_ids, function (org_id) {
      var check_orgs, org, org_children, org_users;
      org = db.organizations.findOne({
        _id: org_id
      }, {
        fields: {
          users: 1
        }
      });
      org_children = db.organizations.find({
        space: space_id,
        parents: org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      org_children.unshift(org);
      check_orgs = org_children;
      org_users = new Array();

      _.each(check_orgs, function (check_org_user) {
        if (check_org_user.users) {
          _.each(check_org_user.users, function (org_user) {
            if (db.space_users.find({
              space: space_id,
              user: org_user
            }).count() === 0) {
              throw new Meteor.Error('error!', "space下不存在此user");
            }
          });
        }

        user_ids = user_ids.concat(check_org_user.users);
        return org_users = org_users.concat(check_org_user.users);
      });

      if (org_users.length === 0) {
        throw new Meteor.Error('error!', "组织" + org_id + "不存在处理人");
      }
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "userFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByUsersAndRoles(user_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "userField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "specifyStepRole") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    if (current_step.approver_roles) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', "角色已经被删除");
        }
      });
    }

    _.each(approve_users, function (approve_user) {
      if (db.space_users.find({
        space: space_id,
        user: approve_user
      }).count() === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    return getHandlersManager.getHandlersByUsersAndRoles(approve_users, current_step.approver_roles, space_id);
  } else if (deal_type === "specifyStepUser") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    _.each(approve_users, function (approve_user) {
      var check_approve_user_count;
      check_approve_user_count = db.space_users.find({
        space: space_id,
        user: approve_user
      }).count();

      if (check_approve_user_count === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    approve_users = _.uniq(approve_users);
    return approve_users;
  } else if (deal_type === "submitterRole") {
    submitter = instance.submitter;

    if (!submitter) {
      submitter_user_count = db.space_users.find({
        space: space_id,
        user: submitter
      }).count();

      if (submitter_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
      } else {
        if (current_step.approver_roles && current_step.approver_roles.length > 0) {
          _.each(current_step.approver_roles, function (approver_role) {
            var role_count;
            role_count = db.flow_roles.find({
              _id: approver_role
            }).count();

            if (role_count === 0) {
              throw new Meteor.Error('error!', approver_role + "已经被删除");
            }
          });

          return getHandlersManager.getHandlersByUserAndRoles(submitter, current_step.approver_roles, space_id);
        } else {
          throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
        }
      }
    } else {
      throw new Meteor.Error('error!', "申请单的提交人为空");
    }
  } else if (deal_type === "submitter") {
    submitter = instance.submitter;
    submitter_user_count = db.space_users.find({
      space: space_id,
      user: submitter
    }).count();

    if (submitter_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
    } else {
      return new Array(submitter);
    }
  } else if (deal_type === "specifyOrg") {
    approver_org_ids = current_step.approver_orgs;

    if (!approver_org_ids || approver_org_ids.length === 0) {
      throw new Meteor.Error('error!', "未定义用于查找下一步处理人的部门，请联系管理员调查流程图的配置是否正确");
    }

    valid_approver_org_ids = new Array();

    _.each(approver_org_ids, function (approver_org_id) {
      if (db.organizations.find({
        _id: approver_org_id
      }).count() > 0) {
        return valid_approver_org_ids.unshift(approver_org_id);
      }
    });

    org_user_ids = new Array();

    _.each(valid_approver_org_ids, function (valid_approver_org_id) {
      var child_orgs, valid_approver_org;
      valid_approver_org = db.organizations.findOne({
        _id: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      });

      if (valid_approver_org.users) {
        org_user_ids = org_user_ids.concat(valid_approver_org.users);
      }

      child_orgs = db.organizations.find({
        space: space_id,
        parents: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      return _.each(child_orgs, function (child_org) {
        if (child_org.users) {
          return org_user_ids = org_user_ids.concat(child_org.users);
        }
      });
    });

    org_user_ids = _.uniq(org_user_ids);
    new_org_user_ids = new Array();

    _.each(org_user_ids, function (org_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: org_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_org_user_ids.push(org_user_id);
      }
    });

    return new_org_user_ids;
  } else if (deal_type === "specifyUser") {
    approver_user_ids = current_step.approver_users;
    approver_user_ids = _.uniq(approver_user_ids);
    new_approver_user_ids = new Array();

    _.each(approver_user_ids, function (approver_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: approver_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_approver_user_ids.push(approver_user_id);
      }
    });

    return new_approver_user_ids;
  } else if (deal_type === "pickupAtRuntime") {
    next_step_users = new Array();
    _trace = _.find(instance.traces, function (_tr) {
      return _tr.is_finished === false;
    });
    _approve = _.find(_trace.approves, function (_app) {
      return _app.is_finished === false && _app.type !== 'cc';
    });

    if (_approve.next_steps) {
      if (_approve.next_steps[0]["users"]) {
        next_step_users = _approve.next_steps[0]["users"];
      }
    }

    return next_step_users;
  } else if (deal_type === "applicantSuperior") {
    applicantSuperiors = new Array();
    _space_user = db.space_users.findOne({
      space: space_id,
      user: instance.applicant
    }, {
      fields: {
        manager: 1
      }
    });

    if (_space_user.manager) {
      applicantSuperiors.push(_space_user.manager);
    }

    return applicantSuperiors;
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"permission_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/permission_manager.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
permissionManager = {};

permissionManager.getFlowPermissions = function (flow_id, user_id) {
  var flow, my_permissions, org_ids, organizations, orgs_can_add, orgs_can_admin, orgs_can_monitor, space_id, users_can_add, users_can_admin, users_can_monitor;
  flow = uuflowManager.getFlow(flow_id);
  space_id = flow.space;
  org_ids = new Array();
  organizations = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      parents: 1
    }
  }).fetch();

  _.each(organizations, function (org) {
    org_ids.push(org._id);

    if (org.parents) {
      return _.each(org.parents, function (parent_id) {
        return org_ids.push(parent_id);
      });
    }
  });

  org_ids = _.uniq(org_ids);
  my_permissions = new Array();

  if (flow.perms) {
    if (flow.perms.users_can_add) {
      users_can_add = flow.perms.users_can_add;

      if (users_can_add.includes(user_id)) {
        my_permissions.push("add");
      }
    }

    if (flow.perms.orgs_can_add) {
      orgs_can_add = flow.perms.orgs_can_add;

      _.each(org_ids, function (org_id) {
        if (orgs_can_add.includes(org_id)) {
          return my_permissions.push("add");
        }
      });
    }

    if (flow.perms.users_can_monitor) {
      users_can_monitor = flow.perms.users_can_monitor;

      if (users_can_monitor.includes(user_id)) {
        my_permissions.push("monitor");
      }
    }

    if (flow.perms.orgs_can_monitor) {
      orgs_can_monitor = flow.perms.orgs_can_monitor;

      _.each(org_ids, function (org_id) {
        if (orgs_can_monitor.includes(org_id)) {
          return my_permissions.push("monitor");
        }
      });
    }

    if (flow.perms.users_can_admin) {
      users_can_admin = flow.perms.users_can_admin;

      if (users_can_admin.includes(user_id)) {
        my_permissions.push("admin");
      }
    }

    if (flow.perms.orgs_can_admin) {
      orgs_can_admin = flow.perms.orgs_can_admin;

      _.each(org_ids, function (org_id) {
        if (orgs_can_admin.includes(org_id)) {
          return my_permissions.push("admin");
        }
      });
    }
  }

  my_permissions = _.uniq(my_permissions);
  return my_permissions;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"approve_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/approve_manager.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
approveManager = {}; /*
                         对比approve_values与last_values 对象， 返回approve_values比last_values多出的或者改变的部分
                      */

approveManager.getChangeValues = function (last_values, approve_values) {
  var approve_values_keys, changeValues, last_values_keys;
  changeValues = {};
  last_values_keys = _.keys(last_values);
  approve_values_keys = _.keys(approve_values);
  approve_values_keys.forEach(function (key) {
    if (_.contains(last_values_keys, key)) {
      if (!_.isEqual(last_values[key], approve_values[key])) {
        return changeValues[key] = approve_values[key];
      }
    } else {
      if (approve_values[key] !== '') {
        return changeValues[key] = approve_values[key];
      }
    }
  });
  return changeValues;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/flow_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
flowManager = {};

flowManager.getCategoriesFlows = function (spaceId, categorieId, fields) {
  var categoriesForms;
  categoriesForms = formManager.getCategoriesForms(spaceId, categorieId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: categoriesForms.getProperty("_id")
    }
  });
};

flowManager.getUnCategoriesFlows = function (spaceId, fields) {
  var unCategoriesForms;
  unCategoriesForms = formManager.getUnCategoriesForms(spaceId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: unCategoriesForms.getProperty("_id")
    }
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"form_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/form_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
formManager = {};

formManager.getCategoriesForms = function (spaceId, categorieId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: categorieId,
    state: "enabled"
  }, _fields);
};

formManager.getUnCategoriesForms = function (spaceId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: {
      $in: [null, ""]
    },
    state: "enabled"
  }, _fields);
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/step_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
stepManager = {};

stepManager.allowBatch = function (step) {
  return step.step_type === 'counterSign' && step.allowBatch;
};

stepManager.getStep = function (instance, flow, step_id) {
  var flow_rev, isExistStep;
  flow_rev = instance.flow_version;
  isExistStep = null;

  if (flow.current._id === flow_rev) {
    isExistStep = _.find(flow.current.steps, function (step) {
      return step._id === step_id;
    });
  } else {
    _.each(flow.historys, function (history) {
      if (history._id === flow_rev) {
        return isExistStep = _.find(history.steps, function (step) {
          return step._id === step_id;
        });
      }
    });
  }

  if (!isExistStep) {
    throw new Meteor.Error('error!', "不能获取step");
  }

  return isExistStep;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_manager.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/instance_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval, logger;

_eval = require('eval');
InstanceManager = {};
logger = new Logger('Workflow -> InstanceManager');

InstanceManager.handlerInstanceByFieldMap = function (ins, field_map) {
  var context, e, flow, res, script;
  res = ins;

  if (ins) {
    if (!field_map) {
      flow = db.flows.findOne({
        _id: ins.flow
      }, {
        fields: {
          field_map: 1
        }
      });

      if (flow != null ? flow.field_map : void 0) {
        field_map = flow.field_map;
      }
    }

    if (field_map) {
      context = _.clone(ins);
      context._ = _;
      script = "var instances = " + field_map + "; exports.instances = instances";

      try {
        res = _eval(script, "handlerInstanceByFieldMap", context, false).instances;
      } catch (error) {
        e = error;
        res = {
          _error: e
        };
        logger.error(e);
      }
    }
  }

  return res;
};

InstanceManager.getCurrentApprove = function (instance, handler) {
  var currentApprove, currentApproves, currentTraces;

  if (!instance || !instance.traces || instance.traces.length < 1) {
    return;
  }

  currentTraces = instance.traces.filterProperty('is_finished', false);

  if (currentTraces.length) {
    currentApproves = currentTraces[0].approves.filterProperty('is_finished', false).filterProperty('handler', handler);
    currentApprove = currentApproves.length > 0 ? currentApproves[0] : null;
  }

  if (!currentApprove || currentApprove.type === 'cc') {
    _.each(instance.traces, function (t) {
      _.each(t.approves, function (a) {
        if (a.type === 'cc' && a.user === handler && a.is_finished === false) {
          currentApprove = a;
        }
      });
    });
  }

  if (!currentApprove) {
    return;
  }

  return currentApprove;
};

InstanceManager.getCurrentTrace = function (instance, traceId) {
  return instance.traces.findPropertyByPK("_id", traceId);
};

InstanceManager.getMyApprove = function (instanceId, userId) {
  var flow, instance, my_approve, nextSteps, next_user_ids, step, trace;
  instance = db.instances.findOne({
    _id: instanceId
  });
  flow = uuflowManager.getFlow(instance.flow);
  my_approve = InstanceManager.getCurrentApprove(instance, userId);

  if (my_approve) {
    trace = InstanceManager.getCurrentTrace(instance, my_approve.trace);
    step = uuflowManager.getStep(instance, flow, trace.step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "");

    if (nextSteps.length === 1) {
      next_user_ids = getHandlersManager.getHandlers(instance._id, nextSteps[0]);

      if (next_user_ids.length === 1) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: next_user_ids
        }];
        return my_approve;
      }
    }
  }
};

InstanceManager.getBatchInstances = function (space, categoryId, flowIds, inbox_user) {
  var FIELDS, _batch_instances, categoryFlows, inbox_instances, query, unCategoryFlows;

  _batch_instances = new Array();
  query = {
    space: space,
    inbox_users: inbox_user
  };
  FIELDS = {
    name: 1,
    applicant_name: 1,
    submit_date: 1,
    flow_version: 1,
    "traces.step": 1,
    flow: 1
  };

  if (categoryId) {
    if (categoryId === '-1') {
      unCategoryFlows = flowManager.getUnCategoriesFlows(space, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: unCategoryFlows
      };
    } else {
      categoryFlows = flowManager.getCategoriesFlows(space, categoryId, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: categoryFlows
      };
    }
  }

  if (flowIds) {
    query.flow = {
      $in: flowIds
    };
  }

  inbox_instances = db.instances.find(query, {
    fields: FIELDS,
    skip: 0,
    limit: 100
  });
  inbox_instances.forEach(function (ins) {
    var currentStep, currentStepId, flow;
    currentStepId = _.last(ins.traces).step;
    flow = db.flows.findOne({
      _id: ins.flow
    });
    currentStep = stepManager.getStep(ins, flow, currentStepId);

    if (stepManager.allowBatch(currentStep) && InstanceManager.getMyApprove(ins._id, inbox_user)) {
      delete ins.flow_version;
      delete ins.traces;
      delete ins.flow;
      return _batch_instances.push(ins);
    }
  });
  return _batch_instances;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"publications":{"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/categories.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('categories', function (spaceId) {
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.categories.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      space: 1,
      sort_no: 1,
      app: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/cfs_instances.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('cfs_instances', function (instanceIds) {
  check(instanceIds, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceIds) {
    return this.ready();
  }

  return cfs.instances.find({
    'metadata.instance': {
      $in: instanceIds
    },
    $or: [{
      'metadata.is_private': {
        $ne: true
      }
    }, {
      'metadata.is_private': true,
      "metadata.owner": this.userId
    }]
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_positions', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_positions.find({
    space: spaceId
  }, {
    fields: {
      role: 1,
      users: 1,
      org: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions_tabular.coffee                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publishComposite('flow_positions_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flow_positions.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (position) {
        this.unblock();
        return db.flow_roles.find({
          _id: position.role
        }, {
          fields: {
            name: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.organizations.find({
          _id: position.org
        }, {
          fields: {
            fullname: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.space_users.find({
          space: position.space,
          user: {
            $in: position.users
          }
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_roles.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_roles', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_roles.find({
    space: spaceId
  }, {
    fields: {
      name: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flows.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flows', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (db.flows.find({
    space: spaceId
  }).count() === 0) {
    db.spaces.createTemplateFormAndFlow(spaceId);
  }

  return db.flows.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      company_id: 1,
      sort_no: 1
    }
  });
});
Meteor.publish('flow_version', function (spaceId, flowId, versionId) {
  var getFlowVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFlowVersion = function (id, versionId) {
    var flow, flow_version;
    flow = db.flows.findOne({
      _id: id
    });

    if (flow) {
      flow_version = flow.current;
      flow_version.latest = true;

      if (flow_version._id !== versionId) {
        flow_version = flow.historys.findPropertyByPK("_id", versionId);
        flow_version.latest = false;
      }

      return flow_version;
    }
  };

  handle = db.flows.find({
    _id: flowId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("flow_versions", versionId, getFlowVersion(id, versionId));
    }
  });
  self.added("flow_versions", versionId, getFlowVersion(flowId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('distribute_optional_flows', function (flow_ids) {
  if (!this.userId) {
    return this.ready();
  }

  if (!flow_ids) {
    return this.ready();
  }

  return db.flows.find({
    _id: {
      $in: flow_ids
    }
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publish('flow', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return db.flows.find({
    _id: flowId,
    space: spaceId
  }, {
    fields: {
      print_template: 1,
      instance_template: 1,
      events: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      upload_after_being_distributed: 1,
      distribute_end_notification: 1,
      company_id: 1,
      allow_select_step: 1
    }
  });
});
Meteor.publishComposite('flows_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flows.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (flow) {
        this.unblock();
        return db.space_users.find({
          space: flow.space,
          user: flow.current.modified_by
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.forms.find({
          space: flow.space,
          _id: flow.form
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1,
            category: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.categories.find({
          space: flow.space
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/forms.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('forms', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.forms.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      category: 1,
      state: 1,
      description: 1,
      instance_style: 1
    }
  });
});
Meteor.publish('form_version', function (spaceId, formId, versionId) {
  var getFormVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!formId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFormVersion = function (id, versionId) {
    var form, form_version;
    form = db.forms.findOne({
      _id: id
    });

    if (!form) {
      return {};
    }

    form_version = form.current;
    form_version.latest = true;

    if (form_version._id !== versionId) {
      form_version = form.historys.findPropertyByPK("_id", versionId);
      form_version.latest = false;
    }

    return form_version;
  };

  handle = db.forms.find({
    _id: formId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("form_versions", versionId, getFormVersion(id, versionId));
    }
  });
  self.added("form_versions", versionId, getFormVersion(formId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_data.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_data.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instance_data', function (instanceId, box) {
  var getMiniInstance, getMyapproveModified, handle, instance, instance_fields_0, miniApproveFields, needChange, self, triggerChangeFields, triggerChangeFieldsValues;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;
  miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description', 'auto_submitted'];
  triggerChangeFields = ['form_version', 'flow_version', 'related_instances', '_my_approve_read_dates'];
  triggerChangeFieldsValues = {};
  instance_fields_0 = {
    "record_synced": 0,
    "traces.approves.handler_organization_name": 0,
    "traces.approves.handler_organization": 0,
    "traces.approves.cost_time": 0,
    "traces.approves.is_error": 0,
    "traces.approves.deadline": 0,
    "traces.approves.remind_date": 0,
    "traces.approves.reminded_count": 0,
    "traces.approves.modified_by": 0,
    "traces.approves.modified": 0,
    "traces.approves.geolocation": 0,
    "traces.approves.cc_users": 0,
    "traces.approves.from_approve_id": 0,
    "traces.approves.values_history": 0
  };

  getMyapproveModified = function (traces) {
    var myApproveModifieds;
    myApproveModifieds = new Array();

    if (traces != null) {
      traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.user === self.userId || approve.handler === self.userId) {
            return myApproveModifieds.push(approve.read_date);
          }
        }) : void 0 : void 0;
      });
    }

    return myApproveModifieds;
  };

  getMiniInstance = function (_instanceId) {
    var instance, ref, ref1, show_modal_traces_list, traces;
    instance = db.instances.findOne({
      _id: _instanceId
    }, {
      fields: instance_fields_0
    });

    if (instance) {
      triggerChangeFields.forEach(function (key) {
        if (key === '_my_approve_read_dates') {
          return triggerChangeFieldsValues[key] = getMyapproveModified(instance.traces);
        } else {
          return triggerChangeFieldsValues[key] = instance[key];
        }
      });
      show_modal_traces_list = ((ref = db.space_settings.findOne({
        space: instance.space,
        key: "show_modal_traces_list"
      }, {
        fields: {
          values: 1
        }
      })) != null ? ref.values : void 0) || false;

      if (show_modal_traces_list) {
        traces = new Array();

        if (instance != null) {
          if ((ref1 = instance.traces) != null) {
            ref1.forEach(function (trace) {
              var _trace, approves, ref2;

              _trace = _.clone(trace);
              approves = new Array();

              if (trace != null) {
                if ((ref2 = trace.approves) != null) {
                  ref2.forEach(function (approve) {
                    if (approve.type !== 'cc' || approve.user === self.userId || approve.handler === self.userId || !_.isEmpty(approve.sign_field_code)) {
                      return approves.push(approve);
                    }
                  });
                }
              }

              _trace.approves = approves;
              return traces.push(_trace);
            });
          }
        }

        instance.traces = traces;
      }
    }

    return instance;
  };

  needChange = function (changeFields) {
    var _change, _rev;

    if (changeFields) {
      _change = false;
      _rev = _.find(triggerChangeFields, function (key) {
        var _key, _my_approve_modifieds;

        _key = key;

        if (key === '_my_approve_read_dates') {
          _key = 'traces';
        }

        if (_.has(changeFields, _key)) {
          if (key === '_my_approve_read_dates') {
            _my_approve_modifieds = getMyapproveModified(changeFields.traces);
            return !_.isEqual(triggerChangeFieldsValues[key], _my_approve_modifieds);
          } else {
            return !_.isEqual(triggerChangeFieldsValues[key], changeFields[key]);
          }
        }
      });

      if (_rev) {
        _change = true;
      }

      return _change;
    }

    return true;
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id, fields) {
      if (box !== 'inbox' || needChange(fields)) {
        return self.changed("instances", id, getMiniInstance(id));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  instance = getMiniInstance(instanceId);
  self.added("instances", instance != null ? instance._id : void 0, instance);
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('instance_traces', function (instanceId) {
  var getInstanceTraces, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;

  getInstanceTraces = function (_insId) {
    return db.instances.findOne({
      _id: _insId
    }, {
      fields: {
        _id: 1,
        traces: 1
      }
    });
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id) {
      return self.changed("instance_traces", instanceId, getInstanceTraces(instanceId));
    }
  });
  self.added("instance_traces", instanceId, getInstanceTraces(instanceId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_list.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_list.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_list', function (spaceId, box, flowId) {
  var query;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  query = {
    space: spaceId
  };

  if (box === "inbox") {
    query.inbox_users = this.userId;
  } else if (box === "outbox") {
    query.outbox_users = this.userId;
  } else if (box === "draft") {
    query.submitter = this.userId;
    query.state = "draft";
  } else if (box === "pending") {
    query.submitter = this.userId;
    query.state = "pending";
  } else if (box === "completed") {
    query.submitter = this.userId;
    query.state = "completed";
  } else if (box === "monitor") {
    query.flow = flowId;
    query.state = {
      $in: ["pending", "completed"]
    };
  } else {
    query.state = "none";
  }

  return db.instances.find(query, {
    fields: {
      name: 1,
      created: 1,
      form: 1,
      flow: 1,
      space: 1,
      modified: 1,
      applicant: 1,
      is_archived: 1,
      form_version: 1,
      flow_version: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_tabular.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var asyncLastFinishedApprove, lastFinishedApproveAggregate;

lastFinishedApproveAggregate = function (instanceid, userId, dataMap, callback) {
  var operation;
  operation = [{
    "$match": {
      "_id": instanceid
    }
  }, {
    "$project": {
      "name": 1,
      "_approve": "$traces.approves"
    }
  }, {
    "$unwind": "$_approve"
  }, {
    "$unwind": "$_approve"
  }, {
    "$match": {
      "_approve.is_finished": true,
      $or: [{
        "_approve.handler": userId
      }, {
        "_approve.user": userId
      }]
    }
  }, {
    "$group": {
      "_id": "$_id",
      "finish_date": {
        "$last": "$_approve.finish_date"
      }
    }
  }];
  return db.instances.rawCollection().aggregate(operation).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return dataMap.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

asyncLastFinishedApprove = Meteor.wrapAsync(lastFinishedApproveAggregate);
Meteor.publish("instance_tabular", function (tableName, ids, fields) {
  var getMyApprove, getMyLastFinishedApprove, getStepCurrentName, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  fields.cc_users = 1;
  self = this;

  getMyLastFinishedApprove = function (userId, instanceId) {
    var data;
    data = [];
    asyncLastFinishedApprove(instanceId, userId, data);

    if (data.length > 0) {
      return data[0];
    }
  };

  getMyApprove = function (userId, instanceId) {
    var approve, approves, instance, is_read, myApprove, notFinishedTraces;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        traces: 1
      }
    });
    myApprove = null;

    if (!instance) {
      return;
    }

    if (!instance.traces || instance.traces.length < 1) {
      return;
    }

    notFinishedTraces = instance.traces.filterProperty("is_finished", false);

    if (notFinishedTraces.length > 0) {
      approves = notFinishedTraces[0].approves.filterProperty("is_finished", false).filterProperty("handler", userId);

      if (approves.length > 0) {
        approve = approves[0];
        myApprove = {
          id: approve._id,
          instance: approve.instance,
          trace: approve.trace,
          is_read: approve.is_read,
          start_date: approve.start_date,
          agent: approve.agent,
          user_name: approve.user_name
        };
      }
    }

    if (!myApprove) {
      is_read = false;
      instance.traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.type === 'cc' && approve.user === userId && approve.is_finished === false) {
            if (approve.is_read) {
              is_read = true;
            }

            return myApprove = {
              id: approve._id,
              is_read: is_read,
              start_date: approve.start_date,
              agent: approve.agent,
              user_name: approve.user_name
            };
          }
        }) : void 0 : void 0;
      });
    }

    return myApprove;
  };

  getStepCurrentName = function (instanceId) {
    var instance, ref, ref1, stepCurrentName;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        "traces.name": 1,
        "traces": {
          $slice: -1
        }
      }
    });

    if (instance) {
      stepCurrentName = (ref = instance.traces) != null ? (ref1 = ref[0]) != null ? ref1.name : void 0 : void 0;
    }

    return stepCurrentName;
  };

  handle = db.instances.find({
    _id: {
      $in: ids
    }
  }, {
    fields: {
      traces: 0
    }
  }).observeChanges({
    changed: function (id) {
      var instance, myApprove, myLastFinishedApprove, ref, ref1;
      instance = db.instances.findOne({
        _id: id
      }, {
        fields: fields
      });

      if (!instance) {
        return;
      }

      myApprove = getMyApprove(self.userId, id);
      myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

      if (myApprove) {
        instance.is_read = myApprove.is_read;
        instance.start_date = myApprove.start_date;

        if (myApprove.agent) {
          instance.agent_user_name = myApprove.user_name;
        }
      } else {
        instance.is_read = true;
      }

      if (myLastFinishedApprove) {
        instance.my_finish_date = myLastFinishedApprove.finish_date;
      }

      instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
      instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
      delete instance.cc_users;
      return self.changed("instances", id, instance);
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  ids.forEach(function (id) {
    var instance, myApprove, myLastFinishedApprove, ref, ref1;
    instance = db.instances.findOne({
      _id: id
    }, {
      fields: fields
    });

    if (!instance) {
      return;
    }

    myApprove = getMyApprove(self.userId, id);
    myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

    if (myApprove) {
      instance.is_read = myApprove.is_read;
      instance.start_date = myApprove.start_date;

      if (myApprove.agent) {
        instance.agent_user_name = myApprove.user_name;
      }
    } else {
      instance.is_read = true;
    }

    if (myLastFinishedApprove) {
      instance.my_finish_date = myLastFinishedApprove.finish_date;
    }

    instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
    instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
    delete instance.cc_users;
    return self.added("instances", id, instance);
  });
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_draft.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_draft', function (spaceId) {
  var userId;
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  userId = this.userId;
  return db.instances.find({
    state: "draft",
    space: spaceId,
    submitter: userId,
    $or: [{
      inbox_users: {
        $exists: false
      }
    }, {
      inbox_users: []
    }]
  }, {
    fields: {
      _id: 1,
      state: 1,
      space: 1,
      submitter: 1,
      inbox_users: 1,
      modified: 1,
      name: 1
    },
    sort: {
      modified: -1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distributed_instances_state_by_ids.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/distributed_instances_state_by_ids.coffee                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('distributed_instances_state_by_ids', function (instance_ids) {
  var handle, self;
  check(instance_ids, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instance_ids) {
    return this.ready();
  }

  if (_.isEmpty(instance_ids)) {
    return this.ready();
  }

  self = this;
  handle = db.instances.find({
    _id: {
      $in: instance_ids
    }
  }, {
    fields: {
      state: 1,
      traces: {
        $slice: 1
      }
    }
  }).observeChanges({
    added: function (id, fields) {
      return self.added('instances', id, {
        state: fields.state,
        is_read: fields.traces[0].approves[0].is_read
      });
    },
    changed: function (id, fields) {
      if (fields.state) {
        self.changed('instances', id, {
          state: fields.state
        });
      }

      if (fields.traces) {
        return self.changed('instances', id, {
          is_read: fields.traces[0].approves[0].is_read
        });
      }
    }
  });
  this.ready();
  return this.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/related_instaces.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('related_instaces', function (instanceId, related_instances) {
  var ref, related_instance_ids;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  related_instance_ids = (ref = db.instances.findOne(instanceId, {
    fields: {
      related_instances: 1
    }
  })) != null ? ref.related_instances : void 0;

  if (related_instance_ids && _.isArray(related_instance_ids)) {
    return db.instances.find({
      _id: {
        $in: related_instance_ids
      }
    }, {
      fields: {
        _id: 1,
        name: 1,
        space: 1
      }
    });
  } else {
    return this.ready();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/space_user_signs.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isServer) {
  Meteor.publish('space_user_signs', function (spaceId) {
    check(spaceId, String);

    if (!this.userId) {
      return this.ready();
    }

    return db.space_user_signs.find({
      space: spaceId
    }, {
      fields: {
        created_by: 0,
        created: 0,
        modified_by: 0
      }
    });
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"user_inbox_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/user_inbox_instance.coffee                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Meteor.publishComposite "user_inbox_instance", ()->
	unless this.userId
		return this.ready()

	userSpaceIds = db.space_users.find({
		user: this.userId,
		user_accepted: true
	}, {fields: {space: 1}}).fetch().getEach("space");
	query = {space: {$in: userSpaceIds}}

	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]

	find: ->
		db.instances.find(query, {
			fields: {
				space: 1,
				applicant_name: 1,
				flow: 1,
				inbox_users: 1,
				cc_users: 1,
				state: 1,
				name: 1,
				modified: 1,
				form: 1
			}, sort: {modified: -1}, skip: 0, limit: 200
		});
	children: [
		{
			find: (instance, post)->
				db.flows.find({_id: instance.flow}, {fields: {name: 1, space: 1}});
		}
	]
 */ /*
    Meteor.publish 'my_inbox_instances', (spaceId)->
    	unless this.userId
    		return this.ready()
    
    	self = this;
    
    	 *	userSpaceIds = db.space_users.find({
    	 *		user: this.userId,
    	 *		user_accepted: true
    	 *	}, {fields: {space: 1}}).fetch().getEach("space");
    
    	query = {space: spaceId}
    
    	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]
    
    	fields = {
    		space: 1,
     *		applicant_name: 1,
    		flow: 1,
    		inbox_users: 1,
    		cc_users: 1,
    		state: 1,
     *		name: 1,
     *		modified: 1,
    		form: 1
    	}
    
    	handle = db.instances.find(query, {sort: {modified: -1}, skip: 0, limit: 500}).observeChanges {
    		added: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.added("instances", id, instance)
    		changed: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.changed("instances", id, instance);
    		removed: (id)->
    			self.removed("instances", id);
    	}
    
    	self.ready();
    	self.onStop ()->
    		handle.stop()
     */var _async_get_flow_instances_aggregate, _get_flow_instances_aggregate;

_get_flow_instances_aggregate = function (spaceId, userId, _items, callback) {
  return db.instances.rawCollection().aggregate([{
    $match: {
      space: spaceId,
      $or: [{
        inbox_users: userId
      }, {
        cc_users: userId
      }]
    }
  }, {
    $group: {
      _id: {
        flow: "$flow",
        category: "$category"
      },
      count: {
        $sum: 1
      }
    }
  }]).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return _items.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

_async_get_flow_instances_aggregate = Meteor.wrapAsync(_get_flow_instances_aggregate);
Meteor.publish('my_inbox_flow_instances_count', function (spaceId) {
  var _changeData, _flowsData, _init, data, handle, query, self;

  if (!this.userId) {
    return this.ready();
  }

  self = this;
  query = {
    space: spaceId
  };
  query.$or = [{
    inbox_users: this.userId
  }, {
    cc_users: this.userId
  }];
  data = [];

  _async_get_flow_instances_aggregate(spaceId, self.userId, data);

  _flowsData = [];

  _.each(data, function (dataItem) {
    return _flowsData.push({
      _id: dataItem._id.flow,
      category: dataItem._id.category,
      count: dataItem.count
    });
  });

  self.added("flow_instances", spaceId, {
    flows: _flowsData
  });

  _changeData = function (doc, action) {
    var flow_instance;
    flow_instance = _.find(_flowsData, function (f) {
      return f._id === doc.flow;
    });

    if (flow_instance) {
      if (action === "added") {
        flow_instance.count++;
      } else if (action === "removed") {
        flow_instance.count--;
      }
    } else if (action === "added") {
      _flowsData.push({
        _id: doc.flow,
        category: doc.category,
        count: 1
      });
    }

    return self.changed("flow_instances", spaceId, {
      flows: _flowsData
    });
  };

  _init = true;
  handle = db.instances.find(query, {
    fields: {
      _id: 1,
      inbox_users: 1,
      cc_users: 1,
      flow: 1,
      category: 1
    }
  }).observe({
    added: function (doc) {
      if (!_init) {
        return _changeData(doc, "added");
      }
    },
    removed: function (doc) {
      if (!_init) {
        return _changeData(doc, "removed");
      }
    }
  });
  _init = false;
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_main_attach_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_main_attach_template.coffee                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_main_attach_template', function (spaceId, flowId) {
  check(spaceId, String);
  check(flowId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!(spaceId && flowId)) {
    return this.ready();
  }

  return Creator.getCollection('cms_files').find({
    space: spaceId,
    'parent.o': 'flows',
    'parent.ids': flowId,
    name: '正文.docx'
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"flow-template":{"workflow_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/flow-template/workflow_template.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
workflowTemplate = {};
workflowTemplate["en"] = [];
workflowTemplate["zh-CN"] = [];
Meteor.startup(function () {
  var absolute_path_cn, absolute_path_us, filesList_cn, filesList_us, fs, mime, path, path_cn, path_us, readFileList, ref, ref1;
  fs = require('fs');
  path = require('path');
  mime = require('mime');

  readFileList = function (pathDir, filesList) {
    var files;
    files = fs.readdirSync(pathDir);
    return files.forEach(function (name, index) {
      var obj, stat;
      stat = fs.statSync(path.join(pathDir, name));

      if (stat.isDirectory()) {
        return readFileList(path.join(pathDir, name), filesList);
      } else {
        obj = {};
        obj.path = pathDir;
        obj.name = name;
        return filesList.push(obj);
      }
    });
  };

  filesList_cn = [];
  path_cn = (ref = Meteor.settings.workflowTemplates) != null ? ref.path_cn : void 0;

  if (path_cn) {
    absolute_path_cn = path.resolve(path_cn);
    console.log("absolute_path_cn", absolute_path_cn);

    if (fs.existsSync(absolute_path_cn)) {
      readFileList(absolute_path_cn, filesList_cn);
      filesList_cn.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["zh-CN"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取zh-cn文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }

  filesList_us = [];
  path_us = (ref1 = Meteor.settings.workflowTemplates) != null ? ref1.path_us : void 0;

  if (path_us) {
    absolute_path_us = path.resolve(path_us);
    console.log("absolute_path_us", absolute_path_us);

    if (fs.existsSync(absolute_path_us)) {
      readFileList(absolute_path_us, filesList_us);
      return filesList_us.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["en"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取en-us文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/startup.coffee                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"schedule":{"auto_finish_process_delegation.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/auto_finish_process_delegation.coffee                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.auto_finish_process_delegation : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.auto_finish_process_delegation;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e, now;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('auto_finish_process_delegation');
        now = new Date();
        db.process_delegation_rules.update({
          enabled: true,
          end_time: {
            $lte: now
          }
        }, {
          $set: {
            enabled: false
          }
        }, {
          multi: true
        });
        console.timeEnd('auto_finish_process_delegation');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO AUTO_FINISH_PROCESS_DELEGATION ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function () {
      return console.log('Failed to bind environment');
    }));
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeout_auto_submit.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/timeout_auto_submit.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.timeout_auto_submit : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.timeout_auto_submit;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('timeout_auto_submit');
        uuflowManager.timeoutAutoSubmit();
        console.timeEnd('timeout_auto_submit');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO TIMEOUT_AUTO_SUBMIT ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function () {
      return console.log('Failed to bind environment');
    }));
  }
});
Meteor.methods({
  timeout_auto_submit: function (ins_id) {
    uuflowManager.timeoutAutoSubmit(ins_id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"routes":{"nextStepUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/nextStepUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/nextStepUsers", function (req, res, next) {
  var deal_type = req.query.deal_type,
      spaceId = req.query.spaceId,
      error = "";

  if (!deal_type || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var body = req.body,
      nextStepUsers = [];

  switch (deal_type) {
    case 'specifyUser':
      var specifyUserIds = body.specifyUserIds;
      nextStepUsers = WorkflowManager.getUsers(spaceId, specifyUserIds);
      break;

    case 'applicantRole':
      var applicantId = body.applicantId,
          approveRoleIds = body.approveRoleIds;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);
      if (applicant) nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, applicant.organizations, approveRoleIds);
      break;

    case 'hrRole':
      var approveHrRoleIds = body.approveHrRoleIds;
      if (approveHrRoleIds) nextStepUsers = WorkflowManager.getHrRolesUsers(spaceId, approveHrRoleIds);
      break;

    case 'applicantSuperior':
      var applicantId = body.applicantId;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);

      if (applicant.manager) {
        nextStepUsers = WorkflowManager.getUsers(spaceId, applicant.manager);
      }

      break;

    case 'applicant':
      var applicantId = body.applicantId;
      nextStepUsers = WorkflowManager.getUsers(spaceId, applicantId);
      break;

    case 'userField':
      var userField = body.userField,
          userFieldValue = body.userFieldValue;

      if (userField.is_multiselect) {
        //如果多选，以userFieldValue值为Array
        nextStepUsers = WorkflowManager.getUsers(spaceId, userFieldValue);
      } else {
        nextStepUsers.push(WorkflowManager.getUser(spaceId, userFieldValue));
      }

      break;

    case 'orgField':
      var orgs,
          orgChildrens,
          orgField = body.orgField,
          orgFieldValue = body.orgFieldValue;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          orgs = WorkflowManager.getOrganizations(orgFieldValue);
          orgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, orgFieldValue);
        } else {
          orgs = [WorkflowManager.getOrganization(orgFieldValue)];
          orgChildrens = WorkflowManager.getOrganizationChildrens(spaceId, orgFieldValue);
        }

        nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgChildrens);
        orgFieldUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgs);
        nextStepUsers = nextStepUsers.concat(orgFieldUsers);

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ORG_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'specifyOrg':
      var specifyOrgIds = body.specifyOrgIds;
      var specifyOrgs = WorkflowManager.getOrganizations(specifyOrgIds);
      var specifyOrgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, specifyOrgIds);
      nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgs);
      nextStepUsers = nextStepUsers.concat(WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgChildrens));
      break;

    case 'userFieldRole':
      var userField = body.userField,
          userFieldValue = body.userFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (userFieldValue) {
        if (userField.is_multiselect) {
          //如果多选，以userFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, userFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, [userFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'orgFieldRole':
      var orgField = body.orgField,
          orgFieldValue = body.orgFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, orgFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, [orgFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    default:
      break;
  }

  var result = [];
  nextStepUsers.forEach(function (su) {
    var o = {
      id: su.id,
      name: su.name
    };
    result.push(o);
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'nextStepUsers': WorkflowManager.uniqUsers(result),
      'error': error
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getSpaceUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getSpaceUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getSpaceUsers", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getUsers(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getFormulaUserObjects.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getFormulaUserObjects.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getFormulaUserObjects", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var users = WorkflowManager.getFormulaUserObject(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': users
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"init_formula_values.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/init_formula_values.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/init_formula_values", function (req, res, next) {
  var fields = req.body.fields,
      autoFormDoc = req.body.autoFormDoc,
      approver = req.body.approver,
      applicant = req.body.applicant,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!fields || !spaceId || !autoFormDoc || !approver || !applicant) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
    return;
  }

  formula_values = Form_formula.init_formula_values(fields, autoFormDoc, approver, applicant, spaceId);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'formula_values': formula_values
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getNameForUser.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getNameForUser.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/getNameForUser", function (req, res, next) {
  var e, user, userId;

  try {
    userId = req.body.userId;

    if (!userId) {
      JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'errors': '缺少参数'
        }
      });
    }

    user = WorkflowManager.getNameForUser(userId);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        user: user
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_designer_startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_designer_startup.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/designer/startup', function (req, res, next) {
  var categories, companyId, current_user, current_user_info, e, flows, forms, org, organizations, positions, query, ref, result, roles, spaceIds, spaceUsers, spaces, spacesQuery, userIds, users;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    companyId = ((ref = req.query) != null ? ref.companyId : void 0) || '';
    spacesQuery = {
      admins: current_user
    };

    if (companyId) {
      org = db.organizations.findOne(companyId, {
        fields: {
          space: 1
        }
      });

      if (!org) {
        throw new Meteor.Error('error', 'companyId is invalid');
      }

      spacesQuery = {
        _id: org.space
      };
    }

    spaces = db.spaces.find(spacesQuery).fetch();
    spaceIds = _.pluck(spaces, '_id');
    query = {
      space: {
        $in: spaceIds
      }
    };

    if (companyId) {
      query.company_id = companyId;
    }

    spaceUsers = db.space_users.find(query).fetch();
    forms = db.forms.find(query, {
      fields: {
        name: 1,
        state: 1,
        is_deleted: 1,
        is_valid: 1,
        space: 1,
        description: 1,
        help_text: 1,
        created: 1,
        created_by: 1,
        current: 1,
        category: 1,
        instance_style: 1,
        company_id: 1
      }
    }).fetch();
    flows = db.flows.find(query, {
      fields: {
        name: 1,
        name_formula: 1,
        code_formula: 1,
        space: 1,
        description: 1,
        is_valid: 1,
        form: 1,
        flowtype: 1,
        state: 1,
        is_deleted: 1,
        created: 1,
        created_by: 1,
        help_text: 1,
        current_no: 1,
        current: 1,
        perms: 1,
        error_message: 1,
        distribute_optional_users: 1,
        company_id: 1
      }
    }).fetch();
    roles = db.flow_roles.find(query).fetch();
    organizations = db.organizations.find(query).fetch();
    positions = db.flow_positions.find(query).fetch();
    categories = db.categories.find({
      space: {
        $in: spaceIds
      }
    }).fetch();
    userIds = _.pluck(spaceUsers, 'user');
    users = db.users.find({
      _id: {
        $in: userIds
      }
    }, {
      fields: {
        name: 1
      }
    }).fetch();
    result = {};
    result.SpaceUsers = spaceUsers;
    result.Users = users;
    result.Forms = forms;
    result.Flows = flows;
    result.Organizations = organizations;
    result.Positions = positions;
    result.Roles = roles;
    result.Categories = categories;
    result.Spaces = spaces;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: result
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_engine.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_engine.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/engine', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Approvals'], function (approve_from_client) {
      return uuflowManager.workflow_engine(approve_from_client, current_user_info, current_user);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_drafts.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/drafts', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var new_ins, new_ins_id;
      new_ins_id = uuflowManager.create_instance(instance_from_client, current_user_info);
      new_ins = db.instances.findOne({
        _id: new_ins_id
      }, {
        fields: {
          space: 1,
          flow: 1,
          flow_version: 1,
          form: 1,
          form_version: 1
        }
      });
      return inserted_instances.push(new_ins);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_remove.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_remove.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/remove', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, delete_obj, flow, inbox_users, instance, space, spaceUserOrganizations, space_id, space_user, user_ids;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      flow = db.flows.findOne({
        _id: instance.flow
      });
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: space_user.organizations
        }
      }).fetch();

      if (instance.submitter !== current_user && !space.admins.includes(current_user) && !WorkflowManager.canAdmin(flow, space_user, spaceUserOrganizations)) {
        throw new Meteor.Error('error!', "您不能删除此申请单。");
      }

      delete_obj = db.instances.findOne(instance_from_client["_id"]);
      delete_obj.deleted = new Date();
      delete_obj.deleted_by = current_user;
      db.deleted_instances.insert(delete_obj);
      db.instances.remove(instance_from_client["_id"]);

      if (delete_obj.state !== "draft") {
        inbox_users = delete_obj.inbox_users ? delete_obj.inbox_users : [];
        cc_users = delete_obj.cc_users ? delete_obj.cc_users : [];
        user_ids = _.uniq(inbox_users.concat(cc_users));

        _.each(user_ids, function (u_id) {
          return pushManager.send_message_to_specifyUser("terminate_approval", u_id);
        });

        return pushManager.send_instance_notification("monitor_delete_applicant", delete_obj, "", current_user_info);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_submit.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/submit', function (req, res, next) {
  var current_user, current_user_info, e, hashData, result;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    result = [];

    _.each(hashData['Instances'], function (instance_from_client) {
      var current_approve, flow_id, instance, r;
      r = uuflowManager.submit_instance(instance_from_client, current_user_info);

      if (r.alerts) {
        result.push(r);
      }

      if (!_.isEmpty(instance_from_client['inbox_users'])) {
        pushManager.send_message_to_specifyUser("current_user", current_user);
      }

      if (_.isEmpty(r.alerts)) {
        instance = db.instances.findOne(instance_from_client._id);
        flow_id = instance.flow;
        current_approve = instance_from_client.traces[0].approves[0];
        pushManager.triggerWebhook(flow_id, instance, current_approve, 'draft_submit', current_user, instance.inbox_users);
      }

      return uuflowManager.distributedInstancesRemind(instance_from_client);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        result: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_terminate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_terminate.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/terminate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var flow, flow_id, flow_ver_end_step, flow_vers, h, i, ins, instance, instance_flow_ver, instance_id, instance_trace, newApprove, newTrace, now, old_cc_users, old_inbox_users, old_outbox_users, permissions, r, setObj, space, space_id, space_user, space_user_org_info, tempUsers, terminate_reason, traces;
      terminate_reason = instance_from_client["terminate_reason"];
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      flow_id = instance.flow;
      space = uuflowManager.getSpace(space_id);
      flow = uuflowManager.getFlow(flow_id);
      uuflowManager.isInstancePending(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_flow_ver = null;
      flow_ver_end_step = null;
      flow_vers = new Array();
      flow_vers.push(flow.current);
      flow_vers = flow_vers.concat(flow.historys);
      instance_flow_ver = _.find(flow_vers, function (f_ver) {
        return f_ver._id === instance.flow_version;
      });

      if (!instance_flow_ver) {
        throw new Meteor.Error('error!', "未找到申请单对应流程版本");
      }

      flow_ver_end_step = _.find(instance_flow_ver.steps, function (f_step) {
        return f_step.step_type === "end";
      });
      permissions = permissionManager.getFlowPermissions(flow_id, current_user);
      now = new Date();
      setObj = new Object();

      if (permissions.includes("admin") || space.admins.includes(current_user) || instance.submitter === current_user || instance.applicant === current_user) {
        if (!terminate_reason) {
          throw new Meteor.Error('error!', "还未填写强制结束申请单的理由，操作失败");
        }

        instance_trace = _.find(instance.traces, function (trace) {
          return trace.is_finished === false;
        });
        traces = instance.traces;
        i = 0;

        while (i < traces.length) {
          if (traces[i].is_finished === false) {
            traces[i].is_finished = true;
            traces[i].finish_date = now;
            h = 0;

            while (h < traces[i].approves.length) {
              if (traces[i].approves[h].is_finished === false) {
                traces[i].approves[h].is_finished = true;
                traces[i].approves[h].finish_date = now;
                traces[i].approves[h].judge = null;
                traces[i].approves[h].description = null;
              }

              h++;
            }

            newApprove = new Object();
            newApprove._id = new Mongo.ObjectID()._str;
            newApprove.instance = instance_id;
            newApprove.trace = instance_trace._id;
            newApprove.is_finished = true;
            newApprove.user = current_user;
            newApprove.user_name = current_user_info.name;
            newApprove.handler = current_user;
            newApprove.handler_name = current_user_info.name;
            newApprove.handler_organization = space_user_org_info["organization"];
            newApprove.handler_organization_name = space_user_org_info["organization_name"];
            newApprove.handler_organization_fullname = space_user_org_info["organization_fullname"];
            newApprove.start_date = now;
            newApprove.finish_date = now;
            newApprove.due_date = instance_trace.due_date;
            newApprove.read_date = now;
            newApprove.judge = "terminated";
            newApprove.is_read = true;
            newApprove.description = terminate_reason;
            newApprove.is_error = false;
            newApprove.values = new Object();
            newApprove.cost_time = newApprove.finish_date - newApprove.start_date;
            traces[i].approves.push(newApprove);
          }

          i++;
        }

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [instance_trace._id];
        newTrace.is_finished = true;
        newTrace.step = flow_ver_end_step._id;
        newTrace.name = flow_ver_end_step.name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.judge = "terminated";
        setObj.state = "completed";
        setObj.final_decision = "terminated";
        old_inbox_users = instance.inbox_users;
        old_cc_users = instance.cc_users;
        old_outbox_users = instance.outbox_users;
        tempUsers = new Array();

        _.each(instance_trace.approves, function (nft_approve) {
          tempUsers.push(nft_approve.user);
          return tempUsers.push(nft_approve.handler);
        });

        setObj.outbox_users = _.uniq(instance.outbox_users.concat(tempUsers));
        setObj.inbox_users = new Array();
        setObj.cc_users = new Array();
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.current_step_name = flow_ver_end_step.name;
        setObj.current_step_auto_submit = false;
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          ins = uuflowManager.getInstance(instance_id);
          pushManager.send_instance_notification("submit_terminate_applicant", ins, terminate_reason, current_user_info);

          if (old_inbox_users) {
            _.each(_.uniq(old_inbox_users.concat(old_cc_users)), function (user_id) {
              return pushManager.send_message_to_specifyUser("terminate_approval", user_id);
            });
          }

          return pushManager.triggerWebhook(ins.flow, ins, {}, 'terminate', current_user, []);
        }
      }
    });

    pushManager.send_message_current_user(current_user_info);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_reassign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_reassign.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/reassign', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, approve_users_handlers, assignee_appr, current_space_user, current_user_organization, i, inbox_users, inbox_users_from_client, ins, instance, instance_id, last_trace, last_trace_from_client, new_inbox_users, not_in_inbox_users, now, permissions, r, reassign_reason, setObj, space, space_id;

      instance_id = instance_from_client['_id'];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      uuflowManager.isInstancePending(instance);
      last_trace_from_client = _.last(instance_from_client["traces"]);
      last_trace = _.find(instance.traces, function (t) {
        return t._id === last_trace_from_client["_id"];
      });

      if (last_trace.is_finished === true) {
        return;
      }

      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne({
        _id: space_id
      }, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      inbox_users = instance.inbox_users;
      inbox_users_from_client = instance_from_client["inbox_users"];
      reassign_reason = instance_from_client["reassign_reason"];
      not_in_inbox_users = _.difference(inbox_users, inbox_users_from_client);
      new_inbox_users = _.difference(inbox_users_from_client, inbox_users);

      if (not_in_inbox_users.length === 0 && new_inbox_users.length === 0) {
        return;
      }

      setObj = new Object();
      now = new Date();
      i = 0;
      approve_users_handlers = [];

      while (i < last_trace.approves.length) {
        if (not_in_inbox_users.includes(last_trace.approves[i].handler)) {
          if (last_trace.approves[i].is_finished === false && last_trace.approves[i].type !== "cc" && last_trace.approves[i].type !== "distribute") {
            last_trace.approves[i].is_finished = true;
            last_trace.approves[i].finish_date = now;
            last_trace.approves[i].judge = "terminated";
            last_trace.approves[i].description = "";
            last_trace.approves[i].cost_time = last_trace.approves[i].finish_date - last_trace.approves[i].start_date;
            approve_users_handlers.push(last_trace.approves[i].user);
            approve_users_handlers.push(last_trace.approves[i].handler);
          }
        }

        i++;
      }

      current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
      current_user_organization = db.organizations.findOne({
        _id: current_space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      assignee_appr = new Object();
      assignee_appr._id = new Mongo.ObjectID()._str;
      assignee_appr.instance = last_trace.instance;
      assignee_appr.trace = last_trace._id;
      assignee_appr.is_finished = true;
      assignee_appr.user = current_user;
      assignee_appr.user_name = current_user_info.name;
      assignee_appr.handler = current_user;
      assignee_appr.handler_name = current_user_info.name;
      assignee_appr.handler_organization = current_space_user.organization;
      assignee_appr.handler_organization_name = current_user_organization.name;
      assignee_appr.handler_organization_fullname = current_user_organization.fullname;
      assignee_appr.start_date = now;
      assignee_appr.finish_date = now;
      assignee_appr.due_date = last_trace.due_date;
      assignee_appr.read_date = now;
      assignee_appr.judge = "reassigned";
      assignee_appr.is_read = true;
      assignee_appr.description = reassign_reason;
      assignee_appr.is_error = false;
      assignee_appr.values = new Object();
      assignee_appr.cost_time = assignee_appr.finish_date - assignee_appr.start_date;
      last_trace.approves.push(assignee_appr);

      _.each(new_inbox_users, function (user_id) {
        var agent, handler_id, handler_info, new_appr, new_user, space_user, user_organization;
        new_user = db.users.findOne(user_id, {
          fields: {
            name: 1
          }
        });
        space_user = uuflowManager.getSpaceUser(space_id, user_id);
        user_organization = db.organizations.findOne(space_user.organization, {
          fields: {
            name: 1,
            fullname: 1
          }
        });
        new_appr = new Object();
        new_appr._id = new Mongo.ObjectID()._str;
        new_appr.instance = last_trace.instance;
        new_appr.trace = last_trace._id;
        new_appr.is_finished = false;
        new_appr.user = user_id;
        new_appr.user_name = new_user.name;
        handler_id = user_id;
        handler_info = new_user;
        agent = uuflowManager.getAgent(space_id, user_id);

        if (agent) {
          inbox_users_from_client[inbox_users_from_client.indexOf(user_id)] = agent;
          handler_id = agent;
          handler_info = db.users.findOne({
            _id: agent
          }, {
            fields: {
              name: 1
            }
          });
          new_appr.agent = agent;
        }

        new_appr.handler = handler_id;
        new_appr.handler_name = handler_info.name;
        new_appr.handler_organization = space_user.organization;
        new_appr.handler_organization_name = user_organization.name;
        new_appr.handler_organization_fullname = user_organization.fullname;
        new_appr.from_user = current_user;
        new_appr.from_user_name = current_user_info.name;
        new_appr.type = "reassign";
        new_appr.start_date = now;
        new_appr.due_date = last_trace.due_date;
        new_appr.is_read = false;
        new_appr.is_error = false;
        new_appr.values = new Object();
        uuflowManager.setRemindInfo(instance.values, new_appr);
        return last_trace.approves.push(new_appr);
      });

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(approve_users_handlers);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.inbox_users = inbox_users_from_client;
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj["traces.$.approves"] = last_trace.approves;
      r = db.instances.update({
        _id: instance_id,
        "traces._id": last_trace._id
      }, {
        $set: setObj
      });

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, reassign_reason, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'reassign', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_relocate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_relocate.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/relocate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, ah, approve_users, current_setp, current_setp_type, current_space_user, current_user_organization, flow, h, i, inbox_users, ins, instance, instance_id, l, last_trace, newTrace, new_inbox_users, next_step, next_step_name, next_step_type, not_in_inbox_users, now, permissions, r, relocate_appr, relocate_comment, relocate_inbox_users, relocate_next_step, sameTraces, setObj, signShowApproveId, space, space_id, ta, ti, traces;

      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      last_trace = _.last(instance.traces);
      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne(instance.space, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      space_id = instance.space;
      instance_id = last_trace.instance;
      inbox_users = instance.inbox_users;
      relocate_inbox_users = instance_from_client["relocate_inbox_users"];
      relocate_comment = instance_from_client["relocate_comment"];
      relocate_next_step = instance_from_client["relocate_next_step"];
      not_in_inbox_users = _.difference(inbox_users, relocate_inbox_users);
      new_inbox_users = _.difference(relocate_inbox_users, inbox_users);
      approve_users = [];
      flow = uuflowManager.getFlow(instance.flow);
      next_step = uuflowManager.getStep(instance, flow, relocate_next_step);
      next_step_type = next_step.step_type;
      next_step_name = next_step.name;
      current_setp = uuflowManager.getStep(instance, flow, last_trace.step);
      current_setp_type = current_setp.step_type;
      traces = instance.traces;
      setObj = new Object();
      setObj.values = uuflowManager.getUpdatedValues(instance);
      now = new Date();
      i = 0;

      while (i < traces.length) {
        if (traces[i]._id === last_trace._id) {
          if (!traces[i].approves) {
            traces[i].approves = new Array();
          }

          h = 0;

          while (h < traces[i].approves.length) {
            if (traces[i].approves[h].is_finished === false && traces[i].approves[h].type !== "cc" && traces[i].approves[h].type !== "distribute") {
              traces[i].approves[h].start_date = now;
              traces[i].approves[h].finish_date = now;
              traces[i].approves[h].read_date = now;
              traces[i].approves[h].is_error = false;
              traces[i].approves[h].is_read = true;
              traces[i].approves[h].is_finished = true;
              traces[i].approves[h].judge = "terminated";
              traces[i].approves[h].cost_time = traces[i].approves[h].finish_date - traces[i].approves[h].start_date;
              approve_users.push(traces[i].approves[h].user);

              if (traces[i].approves[h].sign_show === true) {
                ta = traces[i].approves[h];
                sameTraces = _.filter(traces, function (t) {
                  return t.step === traces[i].step;
                });
                l = sameTraces.length - 1;
                signShowApproveId = null;

                while (l > -1) {
                  _.each(sameTraces[l].approves, function (a) {
                    if (a.user === ta.user && a.judge !== "terminated" && a.description && !signShowApproveId) {
                      return signShowApproveId = a._id;
                    }
                  });

                  l--;
                }

                if (signShowApproveId) {
                  ti = 0;

                  while (ti < traces.length) {
                    ah = 0;

                    while (ah < traces[ti].approves.length) {
                      if (traces[ti].approves[ah]._id === signShowApproveId) {
                        traces[ti].approves[ah].sign_show = true;
                        traces[i].approves[h].sign_show = false;
                      }

                      ah++;
                    }

                    ti++;
                  }
                }
              }
            }

            h++;
          }

          current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
          current_user_organization = db.organizations.findOne(current_space_user.organization, {
            fields: {
              name: 1,
              fullname: 1
            }
          });
          relocate_appr = new Object();
          relocate_appr._id = new Mongo.ObjectID()._str;
          relocate_appr.instance = instance_id;
          relocate_appr.trace = traces[i]._id;
          relocate_appr.is_finished = true;
          relocate_appr.user = current_user;
          relocate_appr.user_name = current_user_info.name;
          relocate_appr.handler = current_user;
          relocate_appr.handler_name = current_user_info.name;
          relocate_appr.handler_organization = current_space_user.organization;
          relocate_appr.handler_organization_name = current_user_organization.name;
          relocate_appr.handler_organization_fullname = current_user_organization.fullname;
          relocate_appr.start_date = now;
          relocate_appr.finish_date = now;
          relocate_appr.due_date = traces[i].due_date;
          relocate_appr.read_date = now;
          relocate_appr.judge = "relocated";
          relocate_appr.is_read = true;
          relocate_appr.description = relocate_comment;
          relocate_appr.is_error = false;
          relocate_appr.values = new Object();
          relocate_appr.cost_time = relocate_appr.finish_date - relocate_appr.start_date;
          traces[i].approves.push(relocate_appr);
          traces[i].is_finished = true;
          traces[i].finish_date = now;
          traces[i].judge = "relocated";
        }

        i++;
      }

      if (next_step_type === "end") {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = true;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.approves = [];
        setObj.state = "completed";
        setObj.inbox_users = [];
        setObj.final_decision = "terminated";
        setObj.finish_date = new Date();
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = false;
      } else {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = false;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(next_step.timeout_hours);
        newTrace.approves = [];

        _.each(relocate_inbox_users, function (next_step_user_id, idx) {
          var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
          newApprove = new Object();
          newApprove._id = new Mongo.ObjectID()._str;
          newApprove.instance = instance_id;
          newApprove.trace = newTrace._id;
          newApprove.is_finished = false;
          newApprove.user = next_step_user_id;
          user_info = db.users.findOne(next_step_user_id, {
            fields: {
              name: 1
            }
          });
          newApprove.user_name = user_info.name;
          handler_id = next_step_user_id;
          handler_info = user_info;
          agent = uuflowManager.getAgent(space_id, next_step_user_id);

          if (agent) {
            relocate_inbox_users[idx] = agent;
            handler_id = agent;
            handler_info = db.users.findOne({
              _id: agent
            }, {
              fields: {
                name: 1
              }
            });
            newApprove.agent = agent;
          }

          newApprove.handler = handler_id;
          newApprove.handler_name = handler_info.name;
          next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
          next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
          newApprove.handler_organization = next_step_user_org_info["organization"];
          newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
          newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
          newApprove.start_date = now;
          newApprove.due_date = newTrace.due_date;
          newApprove.is_read = false;
          newApprove.is_error = false;
          newApprove.values = new Object();
          uuflowManager.setRemindInfo(instance.values, newApprove);
          return newTrace.approves.push(newApprove);
        });

        setObj.inbox_users = relocate_inbox_users;
        setObj.state = "pending";
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, next_step.lines);
      }

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(inbox_users).concat(approve_users);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj.is_archived = false;
      traces.push(newTrace);
      setObj.traces = traces;

      if (setObj.state === 'completed') {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });
      } else {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj,
          $unset: {
            finish_date: 1
          }
        });
      }

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, relocate_comment, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'relocate', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_archive.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_archive.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/archive', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var instance, instance_id, setObj, space, space_id, space_user;
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      uuflowManager.isInstanceFinishedAndNotArchieved(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      uuflowManager.isInstanceSubmitterOrApplicantOrSpaceAdmin(instance, current_user, space);
      setObj = new Object();
      setObj.is_archived = true;
      setObj.modified = new Date();
      setObj.modified_by = current_user;
      return db.instances.update({
        _id: instance_id
      }, {
        $set: setObj
      });
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_export.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_export.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/instances", function (req, res, next) {
    var current_user_info, e, ejs, ejsLint, end_date, error_obj, fields, fileName, flow, flow_id, form, form_name, ins_to_xls, lang, last_month_date, now, query, ret, space_id, start_date, str, table_fields, template, timezoneoffset, type;

    try {
      current_user_info = uuflowManager.check_authorization(req);
      query = req.query;
      space_id = query.space_id;
      flow_id = query.flow_id;
      type = parseInt(query.type);
      timezoneoffset = parseInt(query.timezoneoffset);
      flow = db.flows.findOne({
        _id: flow_id
      }, {
        fields: {
          form: 1
        }
      });
      form = db.forms.findOne({
        _id: flow.form
      }, {
        fields: {
          name: 1,
          'current.fields': 1
        }
      });
      form_name = form.name;
      fields = form.current.fields;
      table_fields = new Array();

      _.each(form.current.fields, function (field) {
        if (field.type === "table") {
          return table_fields.push(field);
        }
      });

      ins_to_xls = new Array();
      start_date = null;
      end_date = null;
      now = new Date();

      if (type === 0) {
        start_date = new Date(now.getFullYear(), now.getMonth(), 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          submit_date: {
            $gte: start_date
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 1) {
        last_month_date = new Date(new Date(now.getFullYear(), now.getMonth(), 1) - 1000 * 60 * 60 * 24);
        start_date = new Date(last_month_date.getFullYear(), last_month_date.getMonth(), 1);
        end_date = new Date(now.getFullYear(), now.getMonth(), 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          $and: [{
            submit_date: {
              $gte: start_date
            }
          }, {
            submit_date: {
              $lte: end_date
            }
          }]
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 2) {
        start_date = new Date(now.getFullYear(), 0, 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          submit_date: {
            $gte: start_date
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 3) {
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      }

      ejs = require('ejs');
      str = Assets.getText('server/ejs/export_instances.ejs');
      ejsLint = require('ejs-lint');
      error_obj = ejsLint.lint(str, {});

      if (error_obj) {
        console.error("===/api/workflow/export:");
        console.error(error_obj);
      }

      template = ejs.compile(str);
      lang = 'en';

      if (current_user_info.locale === 'zh-cn') {
        lang = 'zh-CN';
      }

      ret = template({
        lang: lang,
        timezoneoffset: timezoneoffset,
        form_name: form_name,
        fields: fields,
        table_fields: table_fields,
        ins_to_xls: ins_to_xls
      });
      fileName = "SteedOSWorkflow_" + moment().format('YYYYMMDDHHmm') + ".xls";
      res.setHeader("Content-type", "application/octet-stream");
      res.setHeader("Content-Disposition", "attachment;filename=" + encodeURI(fileName));
      return res.end(ret);
    } catch (error) {
      e = error;
      console.error(e.stack);
      return res.end(e.message);
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_space_changeset.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_space_changeset.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/uf/space/changeset', function (req, res, next) {
  var auth_token, data, e, formids, is_admin, query, sync_token;

  try {
    query = req.query;
    auth_token = db.auth_tokens.findOne({
      auth_token: query.auth_token
    });

    if (!auth_token || !auth_token.enabled) {
      throw new Meteor.Error(401, 'Unauthorized');
    }

    sync_token = query["sync_token"];
    formids = query["formids"];
    is_admin = query["is_admin"];
    data = uuflowManager.get_SpaceChangeSet(formids, is_admin, sync_token);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: data
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_retrieve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_retrieve.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/retrieve', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, flow, handler_info, i, ins, instance, instance_id, last_trace, last_trace_id, newApprove, newTrace, now, old_inbox_users, org_info, previous_step, previous_trace, previous_trace_approves, previous_trace_id, previous_trace_name, previous_trace_step_id, r, retrieve_approve, retrieve_comment, retrieve_type, setObj, space_id, space_user, the_trace, traces;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      retrieve_comment = instance_from_client['retrieve_comment'];

      if (!instance.outbox_users.includes(current_user) && instance.submitter !== current_user && instance.applicant !== current_user) {
        throw new Meteor.Error('error', '当前用户不符合取回条件');
      }

      retrieve_type = "";
      traces = instance.traces;
      last_trace = _.last(traces);
      last_trace_id = last_trace._id;
      previous_trace_id = last_trace.previous_trace_ids[0];
      previous_trace = _.find(traces, function (t) {
        return t._id === previous_trace_id;
      });
      previous_trace_step_id = previous_trace.step;
      previous_trace_name = previous_trace.name;
      flow = uuflowManager.getFlow(instance.flow);
      previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);

      if (previous_step.step_type === "counterSign") {
        throw new Meteor.Error('error', '会签不能取回');
      }

      previous_trace_approves = _.filter(previous_trace.approves, function (a) {
        return a.type !== 'cc' && a.type !== 'distribute' && a.type !== 'forward' && ['approved', 'submitted', 'rejected'].includes(a.judge);
      });

      if (previous_trace_approves.length === 1 && (previous_trace_approves[0].user === current_user || previous_trace_approves[0].handler === current_user)) {
        retrieve_type = 'normal';
      }

      i = traces.length;
      retrieve_approve = {};

      while (i > 0) {
        _.each(traces[i - 1].approves, function (a) {
          if (a.type === 'cc' && a.is_finished === true && a.user === current_user) {
            retrieve_type = 'cc';
            return retrieve_approve = a;
          }
        });

        if (retrieve_type === 'cc') {
          break;
        }

        i--;
      }

      if (retrieve_type === 'normal') {
        flow = uuflowManager.getFlow(instance.flow);
        previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);
        space_id = instance.space;
        instance_id = instance._id;
        old_inbox_users = instance.inbox_users;
        setObj = new Object();
        now = new Date();

        _.each(traces, function (t) {
          var current_space_user, current_user_organization, retrieve_appr;

          if (t._id === last_trace_id) {
            if (!t.approves) {
              t.approves = new Array();
            }

            _.each(t.approves, function (appr) {
              if (appr.is_finished === false && appr.type !== "cc") {
                appr.start_date = now;
                appr.finish_date = now;
                appr.read_date = now;
                appr.is_error = false;
                appr.is_read = true;
                appr.is_finished = true;
                appr.judge = "terminated";
                return appr.cost_time = appr.finish_date - appr.start_date;
              }
            });

            current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
            current_user_organization = db.organizations.findOne(current_space_user.organization, {
              fields: {
                name: 1,
                fullname: 1
              }
            });
            retrieve_appr = new Object();
            retrieve_appr._id = new Mongo.ObjectID()._str;
            retrieve_appr.instance = instance_id;
            retrieve_appr.trace = t._id;
            retrieve_appr.is_finished = true;
            retrieve_appr.user = current_user;
            retrieve_appr.user_name = current_user_info.name;
            retrieve_appr.handler = current_user;
            retrieve_appr.handler_name = current_user_info.name;
            retrieve_appr.handler_organization = current_space_user.organization;
            retrieve_appr.handler_organization_name = current_user_organization.name;
            retrieve_appr.handler_organization_fullname = current_user_organization.fullname;
            retrieve_appr.start_date = now;
            retrieve_appr.finish_date = now;
            retrieve_appr.due_date = t.due_date;
            retrieve_appr.read_date = now;
            retrieve_appr.judge = "retrieved";
            retrieve_appr.is_read = true;
            retrieve_appr.description = retrieve_comment;
            retrieve_appr.is_error = false;
            retrieve_appr.values = new Object();
            retrieve_appr.cost_time = retrieve_appr.finish_date - retrieve_appr.start_date;
            t.approves.push(retrieve_appr);
            t.is_finished = true;
            t.finish_date = now;
            return t.judge = "retrieved";
          }
        });

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace_id];
        newTrace.is_finished = false;
        newTrace.step = previous_trace_step_id;
        newTrace.name = previous_trace_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(previous_step.timeout_hours);
        newTrace.approves = [];
        newApprove = new Object();
        newApprove._id = new Mongo.ObjectID()._str;
        newApprove.instance = instance_id;
        newApprove.trace = newTrace._id;
        newApprove.is_finished = false;
        newApprove.user = current_user;
        handler_info = db.users.findOne(current_user, {
          fields: {
            name: 1
          }
        });
        newApprove.user_name = handler_info.name;
        newApprove.handler = current_user;
        newApprove.handler_name = handler_info.name;
        space_user = uuflowManager.getSpaceUser(space_id, current_user);
        org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
        newApprove.handler_organization = org_info["organization"];
        newApprove.handler_organization_name = org_info["organization_name"];
        newApprove.handler_organization_fullname = org_info["organization_fullname"];
        newApprove.start_date = now;
        newApprove.due_date = newTrace.due_date;
        newApprove.is_read = false;
        newApprove.is_error = false;
        newApprove.values = new Object();
        uuflowManager.setRemindInfo(instance.values, newApprove);
        newTrace.approves.push(newApprove);
        setObj.inbox_users = [current_user];
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.current_step_name = previous_trace_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, previous_step.lines);
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);

          _.each(old_inbox_users, function (user_id) {
            if (user_id !== current_user) {
              return pushManager.send_message_to_specifyUser("current_user", user_id);
            }
          });

          ins = uuflowManager.getInstance(instance_id);
          return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, ins.inbox_users);
        }
      } else if (retrieve_type === 'cc') {
        setObj = new Object();
        now = new Date();
        instance_id = instance._id;
        the_trace = _.find(traces, function (t) {
          return t._id === retrieve_approve.trace;
        });

        _.each(the_trace.approves, function (a) {
          if (a._id === retrieve_approve._id) {
            a.is_finished = false;
            a.finish_date = void 0;
            a.judge = void 0;
            return a.cost_time = void 0;
          }
        });

        cc_users = instance.cc_users;
        cc_users.push(current_user);
        setObj.modified = now;
        setObj.modified_by = current_user;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.cc_users = cc_users;
        setObj['traces.$.approves'] = the_trace.approves;
        r = db.instances.update({
          _id: instance_id,
          'traces._id': retrieve_approve.trace
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);
        }

        ins = uuflowManager.getInstance(instance_id);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, [current_user]);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add('post', '/api/workflow/forward', function (req, res, next) {
  try {
    var current_user_info = uuflowManager.check_authorization(req);
    var current_user_id = current_user_info._id;
    var hashData = req.body;
    var instance_id = hashData.instance_id;
    var space_id = hashData.space_id;
    var flow_id = hashData.flow_id;
    var hasSaveInstanceToAttachment = hashData.hasSaveInstanceToAttachment;
    var description = hashData.description;
    var isForwardAttachments = hashData.isForwardAttachments;
    var selectedUsers = hashData.selectedUsers;
    var action_type = hashData.action_type;
    var related = hashData.related;
    var from_approve_id = hashData.from_approve_id;
    check(instance_id, String);
    check(space_id, String);
    check(flow_id, String);
    check(hasSaveInstanceToAttachment, Boolean);
    check(description, String);
    check(isForwardAttachments, Boolean);
    check(selectedUsers, Array);
    check(action_type, Match.OneOf('forward', 'distribute'));
    if (action_type == "distribute") check(from_approve_id, String);
    var ins = db.instances.findOne(instance_id);
    var old_space_id = ins.space;
    var flow = db.flows.findOne(flow_id);
    var space = db.spaces.findOne(space_id);

    if (!ins || !flow || !space) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var forward_users = new Array();

    if (_.isEmpty(selectedUsers)) {
      forward_users = [current_user_id];
    } else {
      forward_users = selectedUsers;
    } // 校验分发对象是否有分发流程的提交权限


    var no_permission_user_ids = new Array();

    _.each(forward_users, function (uid) {
      var permissions = permissionManager.getFlowPermissions(flow_id, uid);

      if (!permissions.includes("add")) {
        // throw new Meteor.Error('error!', "该申请人没有提交此申请单的权限。")
        no_permission_user_ids.push(uid);
      }
    });

    if (!_.isEmpty(no_permission_user_ids)) {
      var no_permission_users_name = new Array();
      db.users.find({
        _id: {
          $in: no_permission_user_ids
        }
      }, {
        fields: {
          name: 1
        }
      }).forEach(function (u) {
        no_permission_users_name.push(u.name);
      });
      throw new Meteor.Error('no_permission', "该提交人没有提交此申请单的权限。", no_permission_users_name.join(','));
    }

    var new_ins_ids = new Array();
    var current_trace = null;

    if (action_type == "distribute") {
      _.each(ins.traces, function (t) {
        if (!current_trace) {
          _.each(t.approves, function (a) {
            if (!current_trace) {
              if (a._id == from_approve_id) current_trace = t;
            }
          });
        }
      });
    } else {
      current_trace = _.last(ins.traces);
    }

    var current_trace_id = current_trace._id;
    var forward_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    var set_obj = new Object(); // 计算values

    var old_values = ins.values,
        new_values = {};
    var form = db.forms.findOne(flow.form);
    var fields = form.current.fields || [];
    var old_form = db.forms.findOne(ins.form);
    var old_form_version = ins.form_version,
        old_fields = [],
        common_fields = [];
    var select_to_input_fields = [];

    if (old_form.current._id == old_form_version) {
      old_fields = old_form.current.fields;
    } else {
      if (old_form.historys) {
        old_form.historys.forEach(function (h) {
          if (h._id == old_form_version) old_fields = h.fields;
        });
      }
    }

    fields.forEach(function (field) {
      var exists_field = _.find(old_fields, function (f) {
        return f.type == field.type && f.code == field.code;
      });

      if (exists_field) common_fields.push(field);

      var select_input_field = _.find(old_fields, function (f) {
        return f.type == 'select' && field.type == 'input' && f.code == field.code;
      });

      if (select_input_field) select_to_input_fields.push(select_input_field);
    });
    select_to_input_fields.forEach(function (field) {
      if (old_values[field.code]) {
        new_values[field.code] = old_values[field.code];
      }
    });
    common_fields.forEach(function (field) {
      if (field.type == 'section') {
        if (field.fields) {
          field.fields.forEach(function (f) {
            // 跨工作区转发不复制选人选组
            if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
              return;
            }

            var key = f.code;
            var old_v = old_values[key];

            if (old_v) {
              // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
              if (f.type == 'select' || f.type == 'radio') {
                var options = f.options.split('\n');
                if (!options.includes(old_v)) return;
              }

              if (f.type == 'multiSelect') {
                var options = f.options.split('\n');
                var old_multiSelected = old_v.split(',');

                var new_multiSelected = _.intersection(options, old_multiSelected);

                old_v = new_multiSelected.join(',');
              }

              new_values[key] = old_v;
            }
          });
        }
      } else if (field.type == 'table') {
        if (!_.isEmpty(old_values[field.code])) {
          new_values[field.code] = new Array();
          old_values[field.code].forEach(function (old_table_row_values) {
            var new_table_row_values = {};

            if (!_.isEmpty(field.fields)) {
              field.fields.forEach(function (f) {
                // 跨工作区转发不复制选人选组
                if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
                  return;
                }

                var key = f.code;
                var old_v = old_table_row_values[key];

                if (old_v) {
                  // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
                  if (f.type == 'select' || f.type == 'radio') {
                    var options = f.options.split('\n');
                    if (!options.includes(old_v)) return;
                  }

                  if (f.type == 'multiSelect') {
                    var options = f.options.split('\n');
                    var old_multiSelected = old_v.split(',');

                    var new_multiSelected = _.intersection(options, old_multiSelected);

                    old_v = new_multiSelected.join(',');
                  }

                  new_table_row_values[key] = old_v;
                }
              });
            }

            if (!_.isEmpty(new_table_row_values)) {
              new_values[field.code].push(new_table_row_values);
            }
          });
        }
      } else {
        // 跨工作区转发不复制选人选组
        if (['group', 'user'].includes(field.type) && old_space_id != space_id) {
          return;
        }

        var key = field.code;
        var old_v = old_values[key];

        if (old_v) {
          // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
          if (field.type == 'select' || field.type == 'radio') {
            var options = field.options.split('\n');
            if (!options.includes(old_v)) return;
          }

          if (field.type == 'multiSelect') {
            var options = field.options.split('\n');
            var old_multiSelected = old_v.split(',');

            var new_multiSelected = _.intersection(options, old_multiSelected);

            old_v = new_multiSelected.join(',');
          }

          new_values[key] = old_v;
        }
      }
    }); //如果是分发，则value中的record_need、FONDSID不需要分发到新申请单中

    if (action_type === 'distribute') {
      delete new_values.record_need;
      delete new_values.FONDSID;
    } // 计算申请单标题


    var instance_name = "";
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      try {
        var iscript = name_forumla.replace(/\{/g, "(new_values['").replace(/\}/g, "'] || '')");
        var rev = eval(iscript);
        instance_name = rev || flow.name;
      } catch (error) {
        throw new Meteor.Error('caculate_instance_name', "计算申请单标题出错请检查表单标题脚本。");
      }
    } else {
      instance_name = flow.name;
    } // instance中记录当前步骤名称 #1314


    var start_step = _.find(flow.current.steps, function (step) {
      return step.step_type == 'start';
    }); // 新建申请单时，instances记录流程名称、流程分类名称 #1313


    var category_name = "";

    if (form.category) {
      var category = uuflowManager.getCategory(form.category);
      if (category) category_name = category.name;
    }

    _.each(forward_users, function (user_id) {
      var user_info = db.users.findOne(user_id);
      var space_user = db.space_users.findOne({
        space: space_id,
        user: user_id
      }, {
        fields: {
          organization: 1
        }
      });
      var space_user_org_info = db.organizations.findOne({
        _id: space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var now = new Date();
      var ins_obj = {};
      var agent = uuflowManager.getAgent(space_id, user_id);
      var handler_id = user_id;
      var handler_info = user_info;
      var handler_space_user = space_user;
      var handler_org_info = space_user_org_info;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent);
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
      }

      ins_obj._id = db.instances._makeNewID();
      ins_obj.space = space_id;
      ins_obj.flow = flow_id;
      ins_obj.flow_version = flow.current._id;
      ins_obj.form = flow.form;
      ins_obj.form_version = flow.current.form_version;
      ins_obj.name = instance_name;
      ins_obj.submitter = handler_id;
      ins_obj.submitter_name = handler_info.name;
      ins_obj.applicant = user_id;
      ins_obj.applicant_name = user_info.name;
      ins_obj.applicant_organization = space_user.organization;
      ins_obj.applicant_organization_name = space_user_org_info.name;
      ins_obj.applicant_organization_fullname = space_user_org_info.fullname;
      ins_obj.state = "draft";
      ins_obj.code = "";
      ins_obj.is_archived = false;
      ins_obj.is_deleted = false;
      ins_obj.created = now;
      ins_obj.created_by = current_user_id;
      ins_obj.modified = now;
      ins_obj.modified_by = current_user_id;
      ins_obj.inbox_users = [handler_id];
      ins_obj.values = new_values;

      if (action_type == 'distribute') {
        // 解决多次分发看不到正文、附件问题
        if (ins.distribute_from_instance) {
          ins_obj.distribute_from_instance = ins.distribute_from_instance;
        } else {
          ins_obj.distribute_from_instance = instance_id;
        }

        ins_obj.distribute_from_instances = _.clone(ins.distribute_from_instances) || [];
        ins_obj.distribute_from_instances.push(instance_id);

        if (related) {
          ins_obj.related_instances = [instance_id];
        }
      } else if (action_type == 'forward') {
        ins_obj.forward_from_instance = instance_id;
      } // 新建Trace


      var trace_obj = {};
      trace_obj._id = new Mongo.ObjectID()._str;
      trace_obj.instance = ins_obj._id;
      trace_obj.is_finished = false; // 当前最新版flow中开始节点的step_id

      var step_id, step_name, can_edit_main_attach, can_edit_normal_attach;
      flow.current.steps.forEach(function (step) {
        if (step.step_type == "start") {
          step_id = step._id;
          step_name = step.name;
          can_edit_main_attach = step.can_edit_main_attach;
          can_edit_normal_attach = step.can_edit_normal_attach;
        }
      });
      trace_obj.step = step_id;
      trace_obj.start_date = now;
      trace_obj.name = step_name; // 新建Approve

      var appr_obj = {};
      appr_obj._id = new Mongo.ObjectID()._str;
      appr_obj.instance = ins_obj._id;
      appr_obj.trace = trace_obj._id;
      appr_obj.is_finished = false;
      appr_obj.user = user_id;
      appr_obj.user_name = user_info.name;
      appr_obj.handler = handler_id;
      appr_obj.handler_name = handler_info.name;
      appr_obj.handler_organization = handler_space_user.organization;
      appr_obj.handler_organization_name = handler_org_info.name;
      appr_obj.handler_organization_fullname = handler_org_info.fullname;
      appr_obj.type = "draft";
      appr_obj.start_date = now;
      appr_obj.read_date = now;
      appr_obj.is_read = false;
      appr_obj.is_error = false;
      appr_obj.values = new_values;

      if (agent) {
        appr_obj.agent = agent;
      }

      trace_obj.approves = [appr_obj];
      ins_obj.traces = [trace_obj];
      if (flow.auto_remind == true) ins_obj.auto_remind = true;
      ins_obj.current_step_name = start_step.name;
      ins_obj.flow_name = flow.name;

      if (category_name) {
        ins_obj.category_name = category.name;
        ins_obj.category = category._id;
      }

      new_ins_id = db.instances.insert(ins_obj); // 复制附件

      var collection = cfs.instances; //将原表单内容存储为第一个附件

      if (hasSaveInstanceToAttachment) {
        // try {
        instanceHtml = InstanceReadOnlyTemplate.getInstanceHtml(user_info, space_id, ins, {
          absolute: true
        });
        var instanceFile = new FS.File();
        instanceFile.attachData(Buffer.from(instanceHtml, "utf-8"), {
          type: "text/html"
        }, function (error) {
          if (error) {
            throw new Meteor.Error(error.error, error.reason);
          }

          instanceFile.name(ins.name + ".html");
          instanceFile.size(instanceHtml.length);
          var metadata = {
            owner: user_id,
            owner_name: user_info.name,
            space: space_id,
            instance: new_ins_id,
            approve: appr_obj._id,
            current: true
          };
          instanceFile.metadata = metadata;
          var fileObj = collection.insert(instanceFile);
          fileObj.update({
            $set: {
              'metadata.parent': fileObj._id
            }
          });
        }); // } catch (e) {
        //     console.error(e);
        // }
      }

      if (isForwardAttachments && action_type == 'forward') {
        var files = collection.find({
          'metadata.instance': instance_id,
          'metadata.current': true
        });
        files.forEach(function (f) {
          // 判断新的流程开始节点是否有编辑正文和编辑附件权限
          if (f.metadata.main == true) {
            if (can_edit_main_attach != true && can_edit_normal_attach != true) return;
          } else {
            if (can_edit_normal_attach != true) return;
          }

          var newFile = new FS.File();
          newFile.attachData(f.createReadStream('instances'), {
            type: f.original.type
          }, function (err) {
            if (err) {
              throw new Meteor.Error(err.error, err.reason);
            }

            newFile.name(f.name());
            newFile.size(f.size());
            var metadata = {
              owner: user_id,
              owner_name: user_info.name,
              space: space_id,
              instance: new_ins_id,
              approve: appr_obj._id,
              current: true
            };

            if (f.metadata.main == true && can_edit_main_attach == true) {
              metadata.main = true;
            }

            newFile.metadata = metadata;
            var fileObj = collection.insert(newFile);
            fileObj.update({
              $set: {
                'metadata.parent': fileObj._id
              }
            });
          });
        });
      } // 给当前的申请单增加转发记录


      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': instance_id,
        'trace': current_trace_id,
        'is_finished': true,
        'user': user_id,
        'user_name': user_info.name,
        'handler': user_id,
        'handler_name': user_info.name,
        'handler_organization': space_user.organization,
        'handler_organization_name': space_user_org_info.name,
        'handler_organization_fullname': space_user_org_info.fullname,
        'type': action_type,
        'start_date': new Date(),
        'finish_date': new Date(),
        'is_read': false,
        'judge': 'submitted',
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'forward_space': space_id,
        'forward_instance': new_ins_id,
        'description': description,
        'from_approve_id': from_approve_id
      };
      forward_approves.push(appr);
      new_ins_ids.push(new_ins_id);
      pushManager.send_message_to_specifyUser("current_user", user_id);
    });

    set_obj.modified = new Date();
    set_obj.modified_by = current_user_id;
    var r = db.instances.update({
      _id: instance_id,
      "traces._id": current_trace_id
    }, {
      $set: set_obj,
      $addToSet: {
        'traces.$.approves': {
          $each: forward_approves
        }
      }
    });

    if (r) {
      _.each(current_trace.approves, function (a, idx) {
        if (a._id == from_approve_id) {
          var update_read = {};
          update_read["traces.$.approves." + idx + ".read_date"] = new Date();
          db.instances.update({
            _id: instance_id,
            "traces._id": current_trace_id
          }, {
            $set: update_read
          });
        }
      });
    }

    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        new_ins_ids: new_ins_ids
      }
    });
  } catch (e) {
    console.error(e.stack);
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/workflow/instance/:instanceId', function (req, res, next) {
  var box, current_user_id, current_user_info, e, flowId, ins, insId, permissions, redirectTo, redirectToUrl, ref, ref1, ref2, req_async, space, spaceId;

  try {
    current_user_info = uuflowManager.check_authorization(req, res);
    current_user_id = current_user_info._id;
    req_async = _.has(req.query, 'async');
    insId = req.params.instanceId;
    ins = db.instances.findOne(insId, {
      fields: {
        space: 1,
        flow: 1,
        state: 1,
        inbox_users: 1,
        cc_users: 1,
        outbox_users: 1,
        submitter: 1,
        applicant: 1
      }
    });

    if (!ins) {
      throw new Meteor.Error('error', 'instanceId is wrong or instance not exists.');
    }

    spaceId = ins.space;
    flowId = ins.flow;

    if (db.space_users.find({
      space: spaceId,
      user: current_user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'user is not belong to this space.');
    }

    box = '';

    if (((ref = ins.inbox_users) != null ? ref.includes(current_user_id) : void 0) || ((ref1 = ins.cc_users) != null ? ref1.includes(current_user_id) : void 0)) {
      box = 'inbox';
    } else if ((ref2 = ins.outbox_users) != null ? ref2.includes(current_user_id) : void 0) {
      box = 'outbox';
    } else if (ins.state === 'draft' && ins.submitter === current_user_id) {
      box = 'draft';
    } else if (ins.state === 'pending' && (ins.submitter === current_user_id || ins.applicant === current_user_id)) {
      box = 'pending';
    } else if (ins.state === 'completed' && ins.submitter === current_user_id) {
      box = 'completed';
    } else {
      permissions = permissionManager.getFlowPermissions(flowId, current_user_id);
      space = db.spaces.findOne(spaceId, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user_id)) {
        throw new Meteor.Error('error', "no permission.");
      }

      box = 'monitor';
    }

    redirectTo = "workflow/space/" + spaceId + "/" + box + "/" + insId;
    redirectToUrl = Meteor.absoluteUrl(redirectTo);

    if (req_async) {
      return res.status(200).send({
        "status": 302,
        "redirect": redirectTo
      });
    } else {
      res.setHeader("Location", redirectToUrl);
      res.writeHead(302);
      res.end();
    }
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_pending.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_pending.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/pending 获取待办文件

@apiDescription 获取当前用户的待办事项列表

@apiName getInbox

@apiGroup Workflow

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
	{
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
	{
		"status": "success",
		"data": [
			{
				"id": "g7wokXNkR9yxHvA4D",
				"start_date": "2017-11-23T02:28:53.164Z",
				"flow_name": "正文流程",
				"space_name": "审批王",
				"name": "正文流程 1",
				"applicant_name": null,
				"applicant_organization_name": "审批王",
				"submit_date": "2017-07-25T06:36:48.492Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-11-23T02:28:53.164Z",
				"is_read": false,
				"values": {}
			},
			{
				"id": "WqKSrWQoywgJaMp9k",
				"start_date": "2017-08-17T07:38:35.420Z",
				"flow_name": "正文\n",
				"space_name": "审批王",
				"name": "正文\n 1",
				"applicant_name": "殷亮辉",
				"applicant_organization_name": "审批王",
				"submit_date": "2017-06-27T10:26:19.468Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-08-17T07:38:35.421Z",
				"is_read": true,
				"values": {}
			}
		]
	}
 */JsonRoutes.add('get', '/api/workflow/open/pending', function (req, res, next) {
  var attach, e, is_read, limit, no_limit_count, query, ref, ref1, ref2, ref3, ref4, ref5, result_instances, space, space_id, space_names, special_user_id, start_date, u, uid, user_id, userid, username, workflow_categories;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    space_id = req.headers['x-space-id'] || ((ref = req.query) != null ? ref.spaceId : void 0);

    if (!space_id) {
      throw new Meteor.Error('error', 'need space_id');
    }

    user_id = req.userId;

    if (!user_id) {
      throw new Meteor.Error('error', 'Not logged in');
    }

    if (db.users.find({
      _id: user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'can not find user');
    }

    limit = ((ref1 = req.query) != null ? ref1.limit : void 0) || 500;
    limit = parseInt(limit);
    username = (ref2 = req.query) != null ? ref2.username : void 0;
    userid = (ref3 = req.query) != null ? ref3.userid : void 0;
    attach = (ref4 = req.query) != null ? ref4.attach : void 0;
    workflow_categories = (ref5 = req.query) != null ? ref5.workflow_categories : void 0;
    space = uuflowManager.getSpace(space_id);
    special_user_id;

    if (space.admins.includes(user_id)) {
      if (userid) {
        if (db.users.find({
          _id: userid
        }).count() < 1) {
          throw new Meteor.Error('error', "can not find user by userid: " + userid);
        }

        special_user_id = userid;
      } else if (username) {
        u = db.users.findOne({
          username: username
        }, {
          fields: {
            _id: 1
          }
        });

        if (_.isEmpty(u)) {
          throw new Meteor.Error('error', "can not find user by username: " + username);
        }

        special_user_id = u._id;
      }
    }

    result_instances = new Array();
    is_read = false;
    start_date = '';
    uid = user_id;
    query = {
      $or: [{
        inbox_users: user_id
      }, {
        cc_users: user_id
      }]
    };

    if (special_user_id) {
      uid = special_user_id;
      query = {
        space: space_id,
        $or: [{
          inbox_users: special_user_id
        }, {
          cc_users: special_user_id
        }]
      };
    }

    if (workflow_categories) {
      query.category = {
        $in: workflow_categories.split(',')
      };
    }

    space_names = {};
    space_names[space._id] = space.name;

    if (limit > 0) {
      db.instances.find(query, {
        sort: {
          modified: -1
        },
        limit: limit
      }).forEach(function (i) {
        var h, ref6, ref7;

        if ((ref6 = i.inbox_users) != null ? ref6.includes(uid) : void 0) {
          _.each(i.traces, function (t) {
            if (t.is_finished === false) {
              return _.each(t.approves, function (a) {
                if (a.user === uid && a.type !== 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        } else {
          _.each(i.traces, function (t) {
            if (!start_date && t.approves) {
              return _.each(t.approves, function (a) {
                if (!start_date && a.user === uid && a.type === 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        }

        if (!space_names[i.space]) {
          space_names[i.space] = (ref7 = db.spaces.findOne(i.space, {
            fields: {
              name: 1
            }
          })) != null ? ref7.name : void 0;
        }

        h = new Object();
        h["id"] = i["_id"];
        h["start_date"] = start_date;
        h["flow_name"] = i.flow_name;
        h["space_name"] = space_names[i.space];
        h["name"] = i["name"];
        h["applicant_name"] = i["applicant_name"];
        h["applicant_organization_name"] = i["applicant_organization_name"];
        h["submit_date"] = i["submit_date"];
        h["step_name"] = i.current_step_name;
        h["space_id"] = i.space;
        h["modified"] = i["modified"];
        h["is_read"] = is_read;
        h["values"] = i["values"];

        if (attach === 'true') {
          h.attachments = cfs.instances.find({
            'metadata.instance': i._id,
            'metadata.current': true,
            "metadata.is_private": {
              $ne: true
            }
          }, {
            fields: {
              copies: 0
            }
          }).fetch();
        }

        return result_instances.push(h);
      });
    }

    no_limit_count = db.instances.find(query).count();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result_instances,
        count: no_limit_count
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.reason
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"export_table_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/export_table_template.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies;
Cookies = require("cookies");
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/talbe_template", function (req, res, next) {
    var authToken, cookies, data, fileName, flow, flowId, form, ref, ref1, space, userId;
    cookies = new Cookies(req, res);

    if (req.body) {
      userId = req.body["X-User-Id"];
      authToken = req.body["X-Auth-Token"];
    }

    if (!userId || !authToken) {
      userId = cookies.get("X-User-Id");
      authToken = cookies.get("X-Auth-Token");
    }

    if (!(userId && authToken)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Missing X-Auth-Token",
        "success": false
      }));
      return;
    }

    flowId = (ref = req.query) != null ? ref.flow : void 0;
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        space: 1,
        form: 1,
        name: 1
      }
    });
    form = db.forms.findOne({
      _id: flow.form
    }, {
      fields: {
        space: 1,
        "current._id": 1
      }
    });

    if (_.isEmpty(flow)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Invalid formId",
        "success": false
      }));
      return;
    } else {
      if (!Steedos.isSpaceAdmin(flow.space, userId)) {
        res.writeHead(401);
        res.end(JSON.stringify({
          "error": "Validate Request -- No permission",
          "success": false
        }));
        return;
      }

      space = db.spaces.findOne(flow.space, {
        fields: {
          is_paid: 1
        }
      });

      if (!(space != null ? space.is_paid : void 0)) {
        JsonRoutes.sendResult(res, {
          code: 404,
          data: {
            "error": "Validate Request -- Non-paid space.",
            "success": false
          }
        });
        return;
      }
    }

    data = TemplateManager.handleTableTemplate({
      form: flow.form,
      form_version: form != null ? (ref1 = form.current) != null ? ref1._id : void 0 : void 0
    }, true);
    fileName = flow.name;
    res.setHeader('Content-type', 'application/x-msdownload');
    res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(fileName) + '.html');
    return res.end(data);
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_drafts.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/drafts 新建申请单

@apiName createInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "applicant": 申请人Id,
    "values": {
        "fields1" : 字段值,
        "fields2" : 字段值,
        ...
    }
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}

@apiErrorExample {json} error-Response:
{
    "status": "error",
    "data": {...}
}
 */JsonRoutes.add('post', '/api/workflow/open/drafts', function (req, res, next) {
  var applicant, applicantInfo, applicant_id, applicant_username, approve, approves, current_user_info, e, flow, flow_id, hashData, instance_from_client, new_ins, new_ins_id, space_id, space_user, space_user_org_info, trace, traces, user_id;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    user_id = req.userId;
    current_user_info = db.users.findOne({
      _id: user_id
    });
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header x_space_id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user_info._id);
    hashData = req.body;

    if (!hashData["flow"]) {
      throw new Meteor.Error('error', 'flow is null');
    }

    flow_id = hashData["flow"];
    applicant_id = hashData["applicant"];
    applicant_username = hashData["applicant_username"];
    instance_from_client = new Object();
    flow = db.flows.findOne({
      _id: flow_id
    }, {
      fields: {
        space: 1,
        'current._id': 1
      }
    });

    if (!flow) {
      throw new Meteor.Error('error', 'flow is not exists');
    }

    if (space_id !== flow.space) {
      throw new Meteor.Error('error', 'flow is not belong to this space');
    }

    if (db.space_users.find({
      space: space_id,
      user: current_user_info._id
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is not a member of this space');
    }

    instance_from_client["space"] = space_id;
    instance_from_client["flow"] = flow_id;
    instance_from_client["flow_version"] = flow.current._id;
    applicant = null;

    if (applicant_id || applicant_username) {
      if (applicant_id) {
        applicant = db.users.findOne({
          _id: applicant_id
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant is wrong');
        }
      } else if (applicant_username) {
        applicant = db.users.findOne({
          username: applicant_username
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant_username is wrong');
        }
      }

      space_user = db.space_users.findOne({
        space: space_id,
        user: applicant._id
      });

      if (!space_user) {
        throw new Meteor.Error('error', 'applicant is not a member of this space');
      }

      if (space_user.user_accepted !== true) {
        throw new Meteor.Error('error', 'applicant is disabled in this space');
      }

      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_from_client["applicant"] = applicant._id;
      instance_from_client["applicant_name"] = applicant.name;
      instance_from_client["applicant_organization"] = space_user_org_info["organization"];
      instance_from_client["applicant_organization_fullname"] = space_user_org_info["organization_fullname"];
      instance_from_client["applicant_organization_name"] = space_user_org_info["organization_name"];
    }

    applicantInfo = applicant || current_user_info;
    traces = [];
    trace = new Object();
    approves = [];
    approve = new Object();
    approve["values"] = hashData["values"];
    approves.push(approve);
    trace["approves"] = approves;
    traces.push(trace);
    instance_from_client["traces"] = traces;
    instance_from_client["inbox_users"] = [applicantInfo._id];
    new_ins_id = uuflowManager.create_instance(instance_from_client, applicantInfo);
    new_ins = db.instances.findOne(new_ins_id);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: new_ins
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/get/:ins_id 查看申请单详情

@apiName getInstance

@apiGroup Workflow

@apiPermission 工作区的管理员

@apiParam {String} ins_id 申请单Id
@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}
 */JsonRoutes.add('get', '/api/workflow/open/get/:ins_id', function (req, res, next) {
  var current_user, e, ins_id, instance, perm_users, permissions, space, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = db.instances.findOne(ins_id);

    if (!instance) {
      throw new Meteor.Error('error', 'can not find instance');
    }

    if (db.space_users.find({
      space: instance.space,
      user: current_user
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is wrong');
    }

    perm_users = new Array();
    perm_users.push(instance.submitter);
    perm_users.push(instance.applicant);

    if (instance.outbox_users) {
      perm_users = perm_users.concat(instance.outbox_users);
    }

    if (instance.inbox_users) {
      perm_users = perm_users.concat(instance.inbox_users);
    }

    space = db.spaces.findOne({
      _id: instance.space
    }, {
      fields: {
        admins: 1
      }
    });
    perm_users = perm_users.concat(space.admins);
    permissions = permissionManager.getFlowPermissions(instance.flow, current_user);

    if (!perm_users.includes(current_user) && !permissions.includes("monitor") && !permissions.includes("admin")) {
      throw new Meteor.Error('error', 'no permission');
    }

    instance.attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instance
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_submit.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/submit/:ins_id 提交申请单

@apiDescription 暂不支持开始节点下一节点为条件的情况

@apiName submitInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/submit/:ins_id', function (req, res, next) {
  var current_user, current_user_info, e, flow, form, ins_id, instance, nextSteps, next_step_id, next_user_ids, r, require_but_empty_fields, result, space_id, step, submitter, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = uuflowManager.getInstance(ins_id);
    uuflowManager.isInstanceDraft(instance);

    if (space_id !== instance["space"]) {
      throw new Meteor.Error('error', 'instance is not belong to this space');
    }

    values = instance["traces"][0]["approves"][0].values;
    form = uuflowManager.getForm(instance.form);
    require_but_empty_fields = uuflowManager.checkValueFieldsRequire(values, form, instance.form_version);

    if (require_but_empty_fields.length > 0) {
      if (require_but_empty_fields.length > 1) {
        throw new Meteor.Error('error', 'fields <' + require_but_empty_fields.join(",") + '> are required');
      } else if (require_but_empty_fields.length = 1) {
        throw new Meteor.Error('error', 'field <' + require_but_empty_fields.join(",") + '> is required');
      }
    }

    flow = uuflowManager.getFlow(instance.flow);
    step = uuflowManager.getStep(instance, flow, instance["traces"][0].step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "submitted");

    if (nextSteps.length < 1) {
      throw new Meteor.Error('error', 'can not find next steps');
    }

    if (nextSteps.length > 1) {
      throw new Meteor.Error('error', 'next step not uniq');
    }

    next_step_id = nextSteps[0];
    next_user_ids = getHandlersManager.getHandlers(ins_id, next_step_id) || [];

    if (next_user_ids.length > 1) {
      throw new Meteor.Error('error', 'next step handler not uniq');
    }

    instance["traces"][0]["approves"][0]["next_steps"] = [{
      'step': next_step_id,
      'users': next_user_ids
    }];
    result = new Object();
    submitter = db.users.findOne(instance.submitter);

    if (!submitter) {
      throw new Meteor.Error('error', 'can not find submitter');
    }

    r = uuflowManager.submit_instance(instance, submitter);

    if (r.alerts) {
      result = r;
    } else {
      result = db.instances.findOne(ins_id);

      if (result) {
        result.attachments = cfs.instances.find({
          'metadata.instance': ins_id,
          'metadata.current': true,
          "metadata.is_private": {
            $ne: true
          }
        }, {
          fields: {
            copies: 0
          }
        }).fetch();
      }
    }

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_save.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_save.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/save/:ins_id 暂存申请单

@apiName saveInstances

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/save/:ins_id', function (req, res, next) {
  var current_step, current_trace, current_user, current_user_info, e, flow, ins_id, instance, result, setObj, space_id, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    values = req.body;

    if (!values) {
      throw new Meteor.Error('error', 'need values');
    }

    current_trace = null;
    setObj = new Object();
    instance = uuflowManager.getInstance(ins_id);
    flow = uuflowManager.getFlow(instance.flow);

    _.each(instance.traces, function (t) {
      if (t.is_finished !== true) {
        return current_trace = t;
      }
    });

    current_step = uuflowManager.getStep(instance, flow, current_trace.step);

    if (current_step.step_type === "counterSign") {
      throw new Meteor.Error('error', '会签步骤不能修改表单值');
    }

    _.each(current_trace.approves, function (a) {
      if (a.is_finished !== true && a.type !== "cc") {
        return a.values = values;
      }
    });

    setObj.modified = new Date();
    setObj["traces.$.approves"] = current_trace.approves;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_trace._id
    }, {
      $set: setObj
    });
    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get_by_stepname.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get_by_stepname.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/getbystepname 根据步骤名称获取申请单

@apiName getInstanceByStepName

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "stepname": 步骤名称
}

@apiSuccessExample {json} Success-Response:
{
	"status": "success",
	"data": [
		{
			instance
		},
		{
			instance
		}
	]
}
 */JsonRoutes.add('post', '/api/workflow/open/getbystepname', function (req, res, next) {
  var current_user, current_user_info, e, flow, hashData, instances, space_id, stepname;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body;
    stepname = hashData["stepname"];
    flow = hashData["flow"];

    if (!stepname) {
      throw new Meteor.Error('error', 'need stepname');
    }

    if (!flow) {
      throw new Meteor.Error('error', 'need flow');
    }

    instances = db.instances.find({
      space: space_id,
      flow: flow,
      state: 'pending',
      traces: {
        $elemMatch: {
          is_finished: false,
          name: stepname
        }
      }
    }, {
      fields: {
        inbox_uers: 0,
        cc_users: 0,
        outbox_users: 0,
        attachments: 0,
        traces: 0
      }
    }).fetch();
    instances.forEach(function (instance) {
      return instance.attachments = cfs.instances.find({
        'metadata.instance': instance._id,
        'metadata.current': true,
        "metadata.is_private": {
          $ne: true
        }
      }, {
        fields: {
          copies: 0
        }
      }).fetch();
    });
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_cfs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_cfs.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Content-Type：application/json
form-data 格式:
fd = new FormData;
fd.append("file", file);

fd.append("is_private", false);

if (isAddVersion) {
	fd.append("isAddVersion", isAddVersion);
	fd.append("parent", attach_parent_id);
}

if (isMainAttach) {
	fd.append("main", true);
}
 */JsonRoutes.add('post', '/api/workflow/open/cfs/:ins_id', function (req, res, next) {
  var approve_id, current_user, current_user_info, e, ins_id, instance, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能上传');
    }

    approve_id = instance.traces[0].approves[0]._id;
    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    return JsonRoutes.parseFiles(req, res, function () {
      var collection, newFile;
      collection = cfs.instances;

      if (req.files && req.files[0]) {
        if (req.files[0].data.length > 100 * 1024 * 1024) {
          JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              errors: [{
                errorMessage: "超过上传附件大小限制(100M)"
              }]
            }
          });
          return;
        }

        newFile = new FS.File();
        return newFile.attachData(req.files[0].data, {
          type: req.files[0].mimeType
        }, function (err) {
          var body, e, fileObj, filename, metadata, parent, r, result, size;
          filename = req.files[0].filename;

          if (["image.jpg", "image.gif", "image.jpeg", "image.png"].includes(filename.toLowerCase())) {
            filename = "image-" + moment(new Date()).format('YYYYMMDDHHmmss') + "." + filename.split('.').pop();
          }

          body = req.body;
          body['owner'] = instance.submitter;
          body['owner_name'] = instance.submitter_name;
          body['space'] = space_id;
          body['instance'] = ins_id;
          body['approve'] = approve_id;

          try {
            if (body && (body['upload_from'] === "IE" || body['upload_from'] === "node")) {
              filename = decodeURIComponent(filename);
            }
          } catch (error) {
            e = error;
            console.error(filename);
            console.error(e);
            filename = filename.replace(/%/g, "-");
          }

          newFile.name(filename);

          if (body && body['owner'] && body['owner_name'] && body['space'] && body['instance'] && body['approve']) {
            parent = '';
            metadata = {
              owner: body['owner'],
              owner_name: body['owner_name'],
              space: body['space'],
              instance: body['instance'],
              approve: body['approve'],
              current: true
            };

            if (body["is_private"] && body["is_private"].toLocaleLowerCase() === "true") {
              metadata.is_private = true;
            } else {
              metadata.is_private = false;
            }

            if (body['main'] === "true") {
              metadata.main = true;
            }

            if (body['isAddVersion'] && body['parent']) {
              parent = body['parent'];
            }

            if (parent) {
              r = collection.update({
                'metadata.parent': parent,
                'metadata.current': true
              }, {
                $unset: {
                  'metadata.current': ''
                }
              });

              if (r) {
                metadata.parent = parent;

                if (body['locked_by'] && body['locked_by_name']) {
                  metadata.locked_by = body['locked_by'];
                  metadata.locked_by_name = body['locked_by_name'];
                }

                newFile.metadata = metadata;
                fileObj = collection.insert(newFile);

                if (body["overwrite"] && body["overwrite"].toLocaleLowerCase() === "true") {
                  collection.remove({
                    'metadata.instance': body['instance'],
                    'metadata.parent': parent,
                    'metadata.owner': body['owner'],
                    'metadata.approve': body['approve'],
                    'metadata.current': {
                      $ne: true
                    }
                  });
                }
              }
            } else {
              newFile.metadata = metadata;
              fileObj = collection.insert(newFile);
              fileObj.update({
                $set: {
                  'metadata.parent': fileObj._id
                }
              });
            }
          } else {
            fileObj = collection.insert(newFile);
          }

          size = fileObj.original.size;

          if (!size) {
            size = 1024;
          }

          result = new Object();
          result = {
            attach_id: fileObj._id,
            size: size
          };
          res.setHeader("x-amz-version-id", fileObj._id);
          return JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              status: "success",
              data: result
            }
          });
        });
      } else {
        JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            errors: [{
              errorMessage: "need file"
            }]
          }
        });
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("delete", "/api/workflow/open/cfs/:ins_id", function (req, res, next) {
  var attach_id, collection, current_user, current_user_info, e, file, hashData, ins_id, instance, result, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能删除附件');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body || {};
    attach_id = hashData["attach_id"];

    if (!attach_id) {
      throw new Meteor.Error('error', 'can not find attach_id');
    }

    collection = cfs.instances;
    file = collection.findOne({
      _id: attach_id,
      'metadata.instance': ins_id
    });

    if (file) {
      file.remove();
    } else {
      throw new Meteor.Error('error', '此附件不属于此申请单，或已被删除');
    }

    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("get", "/api/workflow/open/cfs/:attach_id", function (req, res, next) {
  var attach_id, current_user, current_user_info, e, space_id;

  try {
    attach_id = req.params.attach_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    res.statusCode = 302;
    res.setHeader("Location", Steedos.absoluteUrl("api/files/instances/") + attach_id + "?download=true");
    return res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_refill.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_refill", function (req, res, next) {
  var approve, columns, forward_ins, forward_ins_values, original_ins, original_ins_fields, original_ins_form, original_ins_id, original_subtable_fields, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, row_data, subTable, table_data, trace, traces;
  console.log("=========回填子表==========");
  console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
  console.log("=========分发回填的列==========");
  console.log("req?.query?.column", req != null ? (ref1 = req.query) != null ? ref1.column : void 0 : void 0);
  columns = req != null ? (ref2 = req.query) != null ? ref2.column.split(';') : void 0 : void 0;
  console.log("columns", columns);
  forward_ins = req != null ? (ref3 = req.body) != null ? ref3.instance : void 0 : void 0;
  subTable = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

  if ((forward_ins != null ? forward_ins.state : void 0) === "completed" && (forward_ins != null ? (ref5 = forward_ins.distribute_from_instances) != null ? ref5.length : void 0 : void 0) > 0 && subTable && columns) {
    forward_ins_values = forward_ins != null ? forward_ins.values : void 0;
    original_ins_id = _.last(forward_ins != null ? forward_ins.distribute_from_instances : void 0);
    original_ins = db.instances.findOne(original_ins_id);
    original_ins_form = db.forms.findOne(original_ins != null ? original_ins.form : void 0);
    original_ins_fields = [];
    original_subtable_fields = [];
    console.log("original_ins_form?.current?._id", original_ins_form != null ? (ref6 = original_ins_form.current) != null ? ref6._id : void 0 : void 0);
    console.log("original_ins?.form_version", original_ins != null ? original_ins.form_version : void 0);

    if ((original_ins != null ? original_ins.form_version : void 0) === (original_ins_form != null ? (ref7 = original_ins_form.current) != null ? ref7._id : void 0 : void 0)) {
      original_ins_fields = (ref8 = original_ins_form.current) != null ? ref8.fields : void 0;
      original_ins_fields.forEach(function (original_ins_field) {
        console.log("original_ins_field", original_ins_field != null ? original_ins_field.code : void 0);

        if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
          return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
        }
      });
    } else {
      if ((original_ins_form != null ? (ref9 = original_ins_form.historys) != null ? ref9.length : void 0 : void 0) > 0) {
        original_ins_form.historys.forEach(function (oh) {
          if ((original_ins != null ? original_ins.form_version : void 0) === oh._id) {
            original_ins_fields = oh != null ? oh.fields : void 0;
            return original_ins_fields.forEach(function (original_ins_field) {
              if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
                return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
              }
            });
          }
        });
      }
    }

    console.log("original_subtable_fields", original_subtable_fields != null ? original_subtable_fields.length : void 0);

    if (original_subtable_fields) {
      traces = original_ins != null ? original_ins.traces : void 0;
      trace = traces[traces.length - 1];
      approve = trace != null ? trace.approves[0] : void 0;
      table_data = (approve != null ? approve.values[subTable] : void 0) || [];
      row_data = {};
      columns.forEach(function (column) {
        return row_data[column] = forward_ins_values[column] || "";
      });

      if (row_data && row_data !== {}) {
        table_data.push(row_data);
        traces[traces.length - 1].approves[0].values[subTable] = table_data;
        console.log(traces[traces.length - 1].approves[0].values[subTable]);
        db.instances.update(original_ins_id, {
          $set: {
            'traces': traces
          }
        });
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'success': '回填成功'
          }
        });
      } else {
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'info': '回填数据为空'
          }
        });
      }
    } else {
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'error': '原申请单无相关子表'
        }
      });
    }
  } else {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'success': '申请单未结束'
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_table_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_table_refill.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_table_refill", function (req, res, next) {
  var a_table, a_table_values, approve, column_list, columns, d_ins, d_ins_fields, d_ins_form, d_ins_values, d_match_col, d_match_col_field, d_match_col_fields, d_subtable_fields, d_table, d_table_values, e, o_ins, o_ins_fields, o_ins_form, o_ins_id, o_match_col, o_match_col_field, o_match_col_fields, o_subtable_fields, o_table, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref22, ref3, ref4, ref5, ref6, ref7, ref8, ref9, table_data, trace, traces;

  try {
    console.log("=========原表子表==========");
    console.log("req?.query?.oTable", req != null ? (ref = req.query) != null ? ref.oTable : void 0 : void 0);
    console.log("=========现表子表==========");
    console.log("req?.query?.dTable", req != null ? (ref1 = req.query) != null ? ref1.dTable : void 0 : void 0);
    console.log("=========原表单的子表匹配列==========");
    console.log("req?.query?.oMatchCol", req != null ? (ref2 = req.query) != null ? ref2.oMatchCol : void 0 : void 0);
    console.log("=========现表单的子表匹配列==========");
    console.log("req?.query?.dMatchCol", req != null ? (ref3 = req.query) != null ? ref3.dMatchCol : void 0 : void 0);
    console.log("=========需要回填的列==========");
    console.log("req?.query?.refillCol", req != null ? (ref4 = req.query) != null ? ref4.refillCol : void 0 : void 0);
    d_ins = req != null ? (ref5 = req.body) != null ? ref5.instance : void 0 : void 0;

    if ((d_ins != null ? d_ins.state : void 0) === "completed") {
      if (req != null ? (ref6 = req.query) != null ? ref6.oTable : void 0 : void 0) {
        o_table = req != null ? (ref7 = req.query) != null ? ref7.oTable : void 0 : void 0;

        if (req != null ? (ref8 = req.query) != null ? ref8.dTable : void 0 : void 0) {
          d_table = req != null ? (ref9 = req.query) != null ? ref9.dTable : void 0 : void 0;
        } else {
          d_table = o_table;
        }

        if (req != null ? (ref10 = req.query) != null ? ref10.aTable : void 0 : void 0) {
          a_table = req != null ? (ref11 = req.query) != null ? ref11.aTable : void 0 : void 0;
        }

        if (req != null ? (ref12 = req.query) != null ? ref12.oMatchCol : void 0 : void 0) {
          o_match_col = req != null ? (ref13 = req.query) != null ? ref13.oMatchCol : void 0 : void 0;

          if (req != null ? (ref14 = req.query) != null ? ref14.dMatchCol : void 0 : void 0) {
            d_match_col = req != null ? (ref15 = req.query) != null ? ref15.dMatchCol : void 0 : void 0;
          } else {
            d_match_col = o_match_col;
          }

          columns = (req != null ? (ref16 = req.query) != null ? ref16.refillCol.split(';') : void 0 : void 0) || [];
          console.log("columns", columns);

          if (columns || columns.length < 1) {
            console.log("======================");
            console.log(d_table, o_match_col, columns);
            d_ins_values = d_ins != null ? d_ins.values : void 0;
            o_ins_id = _.last(d_ins != null ? d_ins.distribute_from_instances : void 0);
            o_ins = db.instances.findOne(o_ins_id);
            o_ins_form = db.forms.findOne(o_ins != null ? o_ins.form : void 0);
            d_ins_form = db.forms.findOne(d_ins != null ? d_ins.form : void 0);
            o_ins_fields = [];
            o_subtable_fields = [];
            d_ins_fields = [];
            d_subtable_fields = [];
            column_list = [];
            d_table_values = [];

            if ((o_ins != null ? o_ins.form_version : void 0) === (o_ins_form != null ? (ref17 = o_ins_form.current) != null ? ref17._id : void 0 : void 0)) {
              o_ins_fields = o_ins_form != null ? (ref18 = o_ins_form.current) != null ? ref18.fields : void 0 : void 0;
              o_ins_fields.forEach(function (o_ins_field) {
                if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                  return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                }
              });
            } else {
              if ((o_ins_form != null ? (ref19 = o_ins_form.historys) != null ? ref19.length : void 0 : void 0) > 0) {
                o_ins_form.historys.forEach(function (oh) {
                  if ((o_ins != null ? o_ins.form_version : void 0) === oh._id) {
                    o_ins_fields = oh != null ? oh.fields : void 0;
                    return o_ins_fields.forEach(function (o_ins_field) {
                      if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                        return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                      }
                    });
                  }
                });
              }
            }

            if ((d_ins != null ? d_ins.form_version : void 0) === (d_ins_form != null ? (ref20 = d_ins_form.current) != null ? ref20._id : void 0 : void 0)) {
              d_ins_fields = d_ins_form != null ? (ref21 = d_ins_form.current) != null ? ref21.fields : void 0 : void 0;
              d_ins_fields.forEach(function (d_ins_field) {
                if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                  return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                }
              });
            } else {
              if ((d_ins_form != null ? (ref22 = d_ins_form.historys) != null ? ref22.length : void 0 : void 0) > 0) {
                d_ins_form.historys.forEach(function (dh) {
                  if ((d_ins != null ? d_ins.form_version : void 0) === dh._id) {
                    d_ins_fields = dh != null ? dh.fields : void 0;
                    return d_ins_fields.forEach(function (d_ins_field) {
                      if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                        return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                      }
                    });
                  }
                });
              }
            }

            if (o_subtable_fields.length === 0) {
              console.log("o_subtable_fields", o_subtable_fields);
              throw new Meteor.Error('forward table refill error!', '原申请单无对应子表');
            }

            if (d_subtable_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单无对应子表');
            }

            d_table_values = (d_ins != null ? d_ins.values[d_table] : void 0) || [];

            if (a_table) {
              a_table_values = (d_ins != null ? d_ins.values[a_table] : void 0) || [];

              if (a_table_values && (a_table_values != null ? a_table_values.length : void 0) === (d_table_values != null ? d_table_values.length : void 0)) {
                a_table_values.forEach(function (a_row, index) {
                  var key, results, value;
                  results = [];

                  for (key in meteorBabelHelpers.sanitizeForInObject(a_row)) {
                    value = a_row[key];
                    results.push(d_table_values[index][key] = value);
                  }

                  return results;
                });
              }
            }

            if (d_table_values.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表数据为空');
            }

            o_match_col_fields = o_subtable_fields.filter(function (m) {
              return m.code === o_match_col;
            });
            d_match_col_fields = d_subtable_fields.filter(function (m) {
              return m.code === d_match_col;
            });

            if (o_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '原申请单子表无对应匹配列');
            }

            if (d_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应匹配列');
            }

            o_match_col_field = o_match_col_fields[0];
            d_match_col_field = d_match_col_fields[0];

            if ((o_match_col_field != null ? o_match_col_field.type : void 0) !== (d_match_col_field != null ? d_match_col_field.type : void 0)) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单和原申请单子表的匹配列字段不一致');
            }

            columns.forEach(function (column) {
              var col, cols, d_col, d_col_fields, o_col, o_col_fields;
              cols = column.split('-') || [];

              if (cols.length === 2) {
                o_col = cols[0];
                d_col = cols[1];
                o_col_fields = o_subtable_fields.filter(function (m) {
                  return m.code === o_col;
                });
                d_col_fields = d_subtable_fields.filter(function (m) {
                  return m.code === d_col;
                });

                if (o_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '原申请单子表无对应回填列');
                }

                if (d_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应回填列');
                }

                if ((o_col_fields != null ? o_col_fields.type : void 0) !== (d_col_fields != null ? d_col_fields.type : void 0)) {
                  throw new Meteor.Error('forward table refill error!', '回填列字段类型不一致');
                }

                col = {
                  o_col: o_col,
                  d_col: d_col
                };
                return column_list.push(col);
              } else {
                throw new Meteor.Error('forward table refill error!', '回填列不匹配');
              }
            });
            traces = o_ins != null ? o_ins.traces : void 0;
            trace = traces[traces.length - 1];
            approve = trace != null ? trace.approves[0] : void 0;
            table_data = (approve != null ? approve.values[o_table] : void 0) || [];
            d_table_values.forEach(function (d_row) {
              var count, has_obj, row_data;
              has_obj = false;
              count = -1;
              table_data.forEach(function (o_row, index) {
                if (o_row[o_match_col] === d_row[d_match_col]) {
                  has_obj = true;
                  return count = index;
                }
              });

              if (has_obj === true) {
                return column_list.forEach(function (col) {
                  return table_data[count][col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
              } else {
                row_data = {};
                row_data[o_match_col] = d_row[d_match_col];
                column_list.forEach(function (col) {
                  return row_data[col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
                return table_data.push(row_data);
              }
            });
            traces[traces.length - 1].approves[0].values = o_ins != null ? o_ins.values : void 0;
            traces[traces.length - 1].approves[0].values[o_table] = table_data;
            db.instances.update(o_ins_id, {
              $set: {
                'traces': traces
              }
            });
            JsonRoutes.sendResult(res, {
              code: 200,
              data: {
                'success': '回填成功'
              }
            });
          } else {
            throw new Meteor.Error('forward table refill error!', 'webhook未配置子表回填列字段 columns 值');
          }
        } else {
          throw new Meteor.Error('forward table refill error!', 'webhook未配置匹配列字段 oMatchCol 值');
        }
      } else {
        throw new Meteor.Error('forward table refill error!', 'webhook未配置原表单子表 oTable 值');
      }
    } else {
      throw new Meteor.Error('forward table refill error!', '申请单未结束');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_sub_table_sort.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_sub_table_sort.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/sub_table_sort", function (req, res, next) {
  var e, ins, new_table_values, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, sort_col, sub_table, sub_table_values, sum_col;

  try {
    console.log("=========子表==========");
    console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
    console.log("=========子表总分列==========");
    console.log("req?.query?.sumCol", req != null ? (ref1 = req.query) != null ? ref1.sumCol : void 0 : void 0);
    console.log("=========子表排序列==========");
    console.log("req?.query?.sortCol", req != null ? (ref2 = req.query) != null ? ref2.sortCol : void 0 : void 0);
    console.log("=========子表单列需要计算的和==========");
    console.log("req?.query?.singleCols", req != null ? (ref3 = req.query) != null ? ref3.singleCols : void 0 : void 0);
    sub_table = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

    if (!sub_table) {
      console.log("=====sub_table======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 subTable 字段');
    }

    sum_col = req != null ? (ref5 = req.query) != null ? ref5.sumCol : void 0 : void 0;

    if (!sum_col) {
      console.log("=====sum_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sumCol 字段');
    }

    sort_col = req != null ? (ref6 = req.query) != null ? ref6.sortCol : void 0 : void 0;

    if (!sort_col) {
      console.log("=====sort_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sortCol 字段');
    }

    ins = req != null ? (ref7 = req.body) != null ? ref7.instance : void 0 : void 0;
    sub_table_values = ins.values[sub_table];

    if ((sub_table_values != null ? sub_table_values.length : void 0) > 0) {
      var JsonSort = function (jsonArr, key, asc) {
        for (var j = 1, jl = jsonArr.length; j < jl; j++) {
          var temp = jsonArr[j],
              val = Number(temp[key]),
              i = j - 1;

          if (asc == true) {
            while (i >= 0 && Number(jsonArr[i][key]) > val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          } else {
            while (i >= 0 && Number(jsonArr[i][key]) < val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          }

          jsonArr[i + 1] = temp;
        }

        return jsonArr;
      };

      ;
      new_table_values = JsonSort(sub_table_values, sum_col, false);
      console.log("new_table_values", new_table_values);
      new_table_values.forEach(function (obj, index) {
        if (sort_col && obj[sum_col]) {
          return obj[sort_col] = (index + 1).toString();
        }
      });
      console.log("new_table_values", new_table_values);
      ins.values[sub_table] = new_table_values;
      db.instances.update(ins._id, {
        $set: {
          'values': ins.values
        }
      });
      console.log("success");
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'success': '计算排序成功'
        }
      });
    } else {
      throw new Meteor.Error('table sort error!', '子表数据为空');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"test_webhook.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/test_webhook.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isDevelopment) {
  JsonRoutes.add('post', '/test/webhook', function (req, res, next) {
    var e, hashData;

    try {
      hashData = req.body;
      console.log('action: ', hashData.action);
      console.log('from_user: ', hashData.from_user);
      console.log('to_users: ', hashData.to_users);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {}
      });
    } catch (error) {
      e = error;
      console.error(e.stack);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          errors: [{
            errorMessage: e.message
          }]
        }
      });
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_users.coffee                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/users", function (req, res, next) {
  var current_user, current_user_info, spaceId, spaceUsers, space_user, userIds;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  userIds = req.body.userIds;
  spaceId = req.body.spaceId;
  spaceUsers = [];
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!userIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getFormulaUserObjects(spaceId, userIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_organizations.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_organizations.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/orgs", function (req, res, next) {
  var current_user, current_user_info, orgIds, orgs, spaceId, space_user;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  orgIds = req.body.orgIds;
  spaceId = req.body.spaceId;
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!orgIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  orgs = WorkflowManager.getFormulaOrgObjects(orgIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'orgs': orgs
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"related_instances_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/related_instances_tabular.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return TabularTables.related_instances_tabular = new Tabular.Table({
    name: "related_instances_tabular",
    collection: db.instances,
    columns: [{
      data: "_id",
      title: '<input type="checkbox" name="reverse" id="reverse">',
      orderable: false,
      width: '1px',
      render: function (val, type, doc) {
        var input, ref;
        input = '<input type="checkbox" class="related-instances-list-checkbox" name="related_instances_ids" id="related_instances_ids" value="' + doc._id + '"';

        if ((ref = TabularTables.related_instances_tabular.related_instances) != null ? ref.includes(doc._id) : void 0) {
          input += " checked ";
        }

        input += ">";
        return input;
      }
    }, {
      data: "name",
      orderable: false,
      width: '45%',
      render: function (val, type, doc) {
        var absolute, href;
        href = '';

        if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
          href = '';
        }

        absolute = false;

        if (Meteor.isServer) {
          absolute = this.absolute;
        }

        if (absolute) {
          href = Meteor.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        } else {
          href = Steedos.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        }

        return "<a data-id='" + doc._id + "' target='_blank' href='" + href + "'>" + doc.name + "</a>";
      }
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      orderable: false
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_flow"),
      render: function (val, type, doc) {
        var judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + "</div>";
      }
    }],
    dom: "tp",
    lengthChange: false,
    extraFields: ["state", "final_decision", "space", "keywords"],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var curSpaceUser, flow_ids, flows, organizations, ref, ref1, space, spaceId;

      if (!userId) {
        return {
          _id: -1
        };
      }

      spaceId = selector.space;

      if (!spaceId) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          spaceId = selector.$and.getProperty('space')[0];
        }
      }

      if (!spaceId) {
        return {
          _id: -1
        };
      }

      space = db.spaces.findOne(spaceId);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(userId)) {
        flow_ids = [];
        curSpaceUser = db.space_users.findOne({
          space: spaceId,
          'user': userId
        });

        if (curSpaceUser) {
          organizations = db.organizations.find({
            _id: {
              $in: curSpaceUser.organizations
            }
          }).fetch();
          flows = db.flows.find({
            space: spaceId
          });
          flows.forEach(function (fl) {
            if (WorkflowManager.canMonitor(fl, curSpaceUser, organizations) || WorkflowManager.canAdmin(fl, curSpaceUser, organizations)) {
              return flow_ids.push(fl._id);
            }
          });
        }

        if ((selector != null ? (ref1 = selector.$and) != null ? ref1.length : void 0 : void 0) > 0) {
          selector.$and[0].$or = [{
            submitter: userId
          }, {
            applicant: userId
          }, {
            inbox_users: userId
          }, {
            outbox_users: userId
          }, {
            cc_users: userId
          }, {
            flow: {
              $in: flow_ids
            }
          }];
        } else {
          _.extend(selector, {
            $or: [{
              submitter: userId
            }, {
              applicant: userId
            }, {
              inbox_users: userId
            }, {
              outbox_users: userId
            }, {
              cc_users: userId
            }, {
              flow: {
                $in: flow_ids
              }
            }]
          });
        }
      }

      return selector;
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/tabular.coffee                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var GetBoxInstancesTabularOptions, _get_inbox_instances_tabular_options, _get_outbox_instances_tabular_options, _handleListFields, instancesListTableTabular, newInstancesListTabular, updateTabularTitle;

Steedos.subs["InstanceTabular"] = new SubsManager();

_handleListFields = function (fields) {
  var ins_fields;
  ins_fields = new Array();

  if (fields != null) {
    fields.forEach(function (f) {
      var ref;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
          return ins_fields.push(f1);
        }) : void 0 : void 0;
      } else {
        return ins_fields.push(f);
      }
    });
  }

  return ins_fields;
};

updateTabularTitle = function () {};

instancesListTableTabular = function (flowId, fields) {
  var ins_fields, key, options;
  options = {
    name: "instances",
    collection: db.instances,
    pub: "instance_tabular",
    onUnload: function () {
      return Meteor.setTimeout(Template.instance_list._tableColumns, 150);
    },
    drawCallback: function (settings) {
      var ellipsisLink, emptyTd, title;
      emptyTd = $(".dataTables_empty");

      if (emptyTd.length) {
        emptyTd[0].colSpan = "6";
      }

      if (!Steedos.isMobile() && !Steedos.isPad()) {
        Meteor.setTimeout(Template.instance_list._tableColumns, 150);
        $(".instance-list").scrollTop(0).ready(function () {
          return $(".instance-list").perfectScrollbar("update");
        });
      } else {
        $(".instance-list").scrollTop(0);
      }

      title = t("pager_input_hint");
      ellipsisLink = settings.oInstance.parent().find('.paging_numbers .pagination .disabled a');
      return ellipsisLink.attr("title", title).css("cursor", "pointer").click(function () {
        var goPage, input;

        if (!$(this).find('input').length) {
          input = $('<input class="paginate_input form-control input-sm" type="text" style="border: none; padding:0 2px;"/>');

          if (Steedos.isMobile()) {
            input.css({
              width: "52px",
              height: "20px"
            });
          } else {
            input.css({
              width: "52px",
              height: "16px"
            });
          }

          input.attr("title", title).attr("placeholder", title);
          $(this).empty().append(input);

          goPage = function (index) {
            var pages;

            if (index > 0) {
              pages = Math.ceil(settings.fnRecordsDisplay() / settings._iDisplayLength);

              if (index > pages) {
                index = pages;
              }

              index--;
              return settings.oInstance.DataTable().page(index).draw('page');
            }
          };

          input.blur(function (e) {
            var currentPage;
            currentPage = $(this).val();
            goPage(currentPage);
            return $(this).parent().html('...');
          });
          return input.keydown(function (e) {
            var currentPage;

            if (e.keyCode.toString() === "13") {
              currentPage = $(this).val();
              return goPage(currentPage);
            }
          });
        }
      });
    },
    createdRow: function (row, data, dataIndex) {
      if (Meteor.isClient) {
        if (data._id === FlowRouter.current().params.instanceId) {
          return row.setAttribute("class", "selected");
        }
      }
    },
    columns: [{
      data: "_id",
      orderable: false,
      render: function (val, type, doc) {
        var agent_view, cc_view, flow_name, instanceNamePriorityClass, modified, modifiedFromNow, modifiedString, priorityIcon, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        modifiedString = moment(doc.modified).format('YYYY-MM-DD');
        modified = doc.modified;

        if (Session.get("box") === 'inbox' && doc.state !== 'draft') {
          modified = doc.start_date || doc.modified;
        }

        if (Session.get("box") === 'outbox' || Session.get("box") === 'monitor') {
          modified = doc.submit_date || doc.submit_date;
        }

        modifiedFromNow = Steedos.momentReactiveFromNow(modified);
        flow_name = doc.flow_name;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
          step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
        } else {
          if (Session.get("box") !== 'draft' && doc.current_step_name) {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
          } else {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "</div>";
          }
        }

        agent_view = "";

        if (doc.agent_user_name && Session.get("box") === 'inbox') {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIcon = "";
        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "\n	<span>" + doc.applicant_name + "</span>\n</div>\n<div class='instance-detail'>" + step_current_name_view + "\n	<span class='instance-modified' title='" + modifiedString + "'>" + modifiedFromNow + "</span>\n</div>";
      }
    }, {
      data: "applicant_organization_name",
      title: t("instances_applicant_organization_name"),
      visible: false
    }, {
      data: "name",
      title: t("instances_name"),
      render: function (val, type, doc) {
        var agent_view, cc_view, instanceNamePriorityClass, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
        }

        agent_view = "";

        if (doc.agent_user_name) {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      visible: false,
      orderable: false
    }, {
      data: "submit_date",
      title: t("instances_submit_date"),
      render: function (val, type, doc) {
        if (doc.submit_date) {
          return moment(doc.submit_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      visible: false,
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_step_current_name"),
      render: function (val, type, doc) {
        var cc_tag, judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        cc_tag = '';

        if (doc.cc_count > 0) {
          cc_tag = TAPi18n.__('cc_tag');
        }

        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + cc_tag + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "modified",
      title: t("instances_modified"),
      render: function (val, type, doc) {
        return moment(doc.modified).format('YYYY-MM-DD HH:mm');
      },
      visible: false,
      orderable: true
    }, {
      data: "start_date",
      title: t("instances_start_date"),
      render: function (val, type, doc) {
        if (doc.start_date) {
          return moment(doc.start_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "my_finish_date",
      render: function (val, type, doc) {
        if (doc.my_finish_date) {
          return moment(doc.my_finish_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "modified",
      visible: false
    }, {
      data: "keywords",
      visible: false
    }, {
      data: "is_archived",
      render: function (val, type, doc) {
        var ref;

        if ((doc != null ? (ref = doc.values) != null ? ref.record_need : void 0 : void 0) && doc.values.record_need === "true") {
          if (doc != null ? doc.is_archived : void 0) {
            return t("YES");
          }

          return t("NO");
        }
      },
      visible: false,
      orderable: false
    }],
    dom: function () {
      if (Steedos.isMobile()) {
        return 'tp';
      } else {
        return 'tpl';
      }
    }(),
    order: [[4, "desc"]],
    extraFields: ["form", "flow", "inbox_users", "state", "space", "applicant", "form_version", "flow_version", "is_cc", "cc_count", "is_read", "current_step_name", "values", "keywords", "final_decision", "flow_name", "is_hidden", "agent_user_name"],
    lengthChange: true,
    lengthMenu: [10, 15, 20, 25, 50, 100],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var ref, space, space_user;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;

      if (!space) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          space = selector.$and.getProperty('space')[0];
        }
      }

      if (!space) {
        return {
          _id: -1
        };
      }

      space_user = db.space_users.findOne({
        user: userId,
        space: space
      }, {
        fields: {
          _id: 1
        }
      });

      if (!space_user) {
        return {
          _id: -1
        };
      }

      return selector;
    },
    pagingType: "numbers"
  };

  if (flowId) {
    key = "instanceFlow" + flowId;
    options.name = key;
    TabularTables.instances.fields = fields;
    ins_fields = _handleListFields(TabularTables.instances.fields);
    ins_fields.forEach(function (f) {
      if (f.type !== 'table' && f.is_list_display) {
        return options.columns.push({
          data: f.name || f.code,
          title: t(f.name || f.code),
          visible: false,
          orderable: false,
          render: function (val, type, doc) {
            var value, values;
            values = doc.values || {};
            value = values[f.code];

            switch (f.type) {
              case 'user':
                value = value != null ? value.name : void 0;
                break;

              case 'group':
                value = value != null ? value.fullname : void 0;
                break;

              case 'date':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD');
                }

                break;

              case 'dateTime':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD HH:mm');
                }

                break;

              case 'checkbox':
                if (value === true || value === 'true') {
                  value = TAPi18n.__("form_field_checkbox_yes");
                } else {
                  value = TAPi18n.__("form_field_checkbox_no");
                }

                break;

              case 'odata':
                if (value) {
                  if (_.isArray(value)) {
                    value = _.pluck(value, '@label').toString();
                  } else {
                    value = value['@label'];
                  }
                }

            }

            return value;
          }
        });
      }
    });
  }

  return options;
};

Meteor.startup(function () {
  return TabularTables.instances = new Tabular.Table(instancesListTableTabular());
});

GetBoxInstancesTabularOptions = function (box, flowId, fields) {
  var key, options;
  key = "instanceFlow" + box + flowId;

  if (box === "inbox") {
    options = _get_inbox_instances_tabular_options(flowId, fields);
  } else if (box === "outbox") {
    options = _get_outbox_instances_tabular_options(flowId, fields);
  } else {
    options = instancesListTableTabular(flowId, fields);

    if (!flowId) {
      options.name = "inbox_instances";
    }
  }

  if (flowId) {
    options.name = key;
  }

  return options;
};

_get_inbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "inbox_instances";
  }

  options.order = [[8, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': false,
        '_approve.handler': userId
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'start_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_start_date": {
              $first: "$_approve.start_date"
            }
          }
        });
        ag_sort = {
          'approve_start_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.inbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("inbox"));
});

_get_outbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "outbox_instances";
  }

  options.order = [[9, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': true,
        $or: [{
          '_approve.handler': userId
        }, {
          '_approve.user': userId
        }]
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'my_finish_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_finish_date": {
              $last: "$_approve.finish_date"
            }
          }
        });
        ag_sort = {
          'approve_finish_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.outbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("outbox"));
});

if (Meteor.isClient) {
  TabularTables.flowInstances = new ReactiveVar();
}

Meteor.startup(function () {
  return Tracker.autorun(function (c) {
    if (Meteor.isClient && !Steedos.isMobile()) {
      if (Session.get("flowId") && Session.get("box") !== 'draft') {
        return Meteor.call("newInstancesListTabular", Session.get("box"), Session.get("flowId"), function (error, result) {
          newInstancesListTabular(Session.get("box"), Session.get("flowId"), result);
          return Template.instance_list._changeOrder();
        });
      }
    }
  });
});

newInstancesListTabular = function (box, flowId, fields) {
  var flow, key, ref, ref1, ref2;

  if (!fields) {
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        form: 1
      }
    });
    fields = (ref = db.forms.findOne({
      _id: flow != null ? flow.form : void 0
    }, {
      fields: {
        'current.fields': 1
      }
    })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
  }

  fields = _handleListFields(fields);

  if ((fields != null ? (ref2 = fields.filterProperty("is_list_display", true)) != null ? ref2.length : void 0 : void 0) > 0) {
    key = "instanceFlow" + box + flowId;

    if (Meteor.isClient) {
      TabularTables.flowInstances.set(new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields)));
    } else {
      new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields));
    }

    return console.log("new TabularTables ", key);
  }
};

if (Meteor.isServer) {
  Meteor.methods({
    newInstancesListTabular: function (box, flowId) {
      var fields, flow, ref, ref1;
      newInstancesListTabular(box, flowId);
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          form: 1
        }
      });
      fields = (ref = db.forms.findOne({
        _id: flow != null ? flow.form : void 0
      }, {
        fields: {
          'current.fields': 1
        }
      })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
      return fields;
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}}},{
  "extensions": [
    ".js",
    ".json",
    ".i18n.json",
    ".coffee"
  ]
});

require("/node_modules/meteor/steedos:workflow/i18n/en.i18n.json.js");
require("/node_modules/meteor/steedos:workflow/i18n/zh-CN.i18n.json.js");
require("/node_modules/meteor/steedos:workflow/checkNpm.js");
require("/node_modules/meteor/steedos:workflow/lib/collection_helpers.js");
require("/node_modules/meteor/steedos:workflow/lib/tapi18n.coffee");
require("/node_modules/meteor/steedos:workflow/lib/core.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/forms.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flows.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/categories.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/spaces.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/deleted_instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/auth_tokens.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/webhooks.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_users.coffee");
require("/node_modules/meteor/steedos:workflow/lib/cfs/instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/instance_readonly_template.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/template_manager.coffee");
require("/node_modules/meteor/steedos:workflow/client/coreform/inputTypes/coreform-table/steedos-table.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_image_sign.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_form.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_attachments.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_sign_text.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_help.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_records.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/set_instance_step_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/get_instance_data.js");
require("/node_modules/meteor/steedos:workflow/server/methods/save_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/trace_approve_cc.js");
require("/node_modules/meteor/steedos:workflow/server/methods/forward_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/cfs_instances.js");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_return.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_remind.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/next_step_users_not_found.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_number_rules.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/check_main_attach.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/edit_flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/start_flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_traces.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_batch.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/distribute.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/hide_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_value.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/steedos_css.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance_draft_view.coffee");
require("/node_modules/meteor/steedos:workflow/routes/nextStepUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getSpaceUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getFormulaUserObjects.js");
require("/node_modules/meteor/steedos:workflow/routes/init_formula_values.js");
require("/node_modules/meteor/steedos:workflow/routes/getNameForUser.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_designer_startup.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_engine.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_remove.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_terminate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_reassign.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_relocate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_archive.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_export.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_space_changeset.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_retrieve.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward.js");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_instance.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_pending.coffee");
require("/node_modules/meteor/steedos:workflow/routes/export_table_template.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_save.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get_by_stepname.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_cfs.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_table_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_sub_table_sort.coffee");
require("/node_modules/meteor/steedos:workflow/routes/test_webhook.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/1_form_formula.js");
require("/node_modules/meteor/steedos:workflow/server/lib/get_handlers_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/permission_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/approve_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/flow_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/form_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/step_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/categories.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/cfs_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flows.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/forms.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_data.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_list.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_draft.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/distributed_instances_state_by_ids.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/related_instaces.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/user_inbox_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_main_attach_template.coffee");
require("/node_modules/meteor/steedos:workflow/lib/admin.coffee");
require("/node_modules/meteor/steedos:workflow/related_instances_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/tabular.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_users.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_organizations.coffee");
require("/node_modules/meteor/steedos:workflow/server/flow-template/workflow_template.coffee");
require("/node_modules/meteor/steedos:workflow/server/startup.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/instance_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/auto_finish_process_delegation.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/timeout_auto_submit.coffee");

/* Exports */
Package._define("steedos:workflow", {
  InstanceManager: InstanceManager,
  WorkflowManager_format: WorkflowManager_format,
  Workflow: Workflow,
  SteedosTable: SteedosTable,
  InstanceReadOnlyTemplate: InstanceReadOnlyTemplate,
  TemplateManager: TemplateManager,
  CoreForm: CoreForm,
  InstanceNumberRules: InstanceNumberRules,
  getHandlersManager: getHandlersManager,
  permissionManager: permissionManager,
  workflowTemplate: workflowTemplate,
  approveManager: approveManager,
  stepManager: stepManager,
  flowManager: flowManager,
  formManager: formManager
});

})();

//# sourceURL=meteor://💻app/packages/steedos_workflow.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jaGVja05wbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9saWIvY29yZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL2xpYi9jb3JlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9saWIvbW9kZWxzL2F1dGhfdG9rZW5zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvbGliL2luc3RhbmNlX3JlYWRvbmx5X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L2xpYi9pbnN0YW5jZV9yZWFkb25seV90ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L2xpYi90ZW1wbGF0ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L2xpYi90ZW1wbGF0ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvY29yZWZvcm0vaW5wdXRUeXBlcy9jb3JlZm9ybS10YWJsZS9zdGVlZG9zLXRhYmxlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW1hZ2Vfc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW1hZ2Vfc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX2luc3RhbmNlX2F0dGFjaG1lbnRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW5zdGFuY2Vfc2lnbl90ZXh0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9zaWduX3RleHQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9fdHJhY2VzX2hlbHAuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oZWxwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX3JlY29yZHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfcmVjb3Jkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvc2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL3NldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2dldF9pbnN0YW5jZV9kYXRhLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL3NhdmVfaW5zdGFuY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvdHJhY2VfYXBwcm92ZV9jYy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9mb3J3YXJkX2luc3RhbmNlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2Nmc19pbnN0YW5jZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9uZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9jaGVja19tYWluX2F0dGFjaC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvcmVsYXRlZF9pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvZWRpdF9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2VkaXRfZmxvd19wb3NpdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL3N0YXJ0X2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9zdGFydF9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2JhdGNoLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYmF0Y2guY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9oaWRlX2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaGlkZV9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfdmFsdWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV92YWx1ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3JvdXRlcy9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9yb3V0ZXMvaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9yb3V0ZXMvc3RlZWRvc19jc3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL3N0ZWVkb3NfY3NzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9saWIvMV9mb3JtX2Zvcm11bGEuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL2xpYi9nZXRfaGFuZGxlcnNfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZ2V0X2hhbmRsZXJzX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvcGVybWlzc2lvbl9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9wZXJtaXNzaW9uX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvYXBwcm92ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9hcHByb3ZlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvZmxvd19tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2Zvcm1fbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZm9ybV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL3N0ZXBfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvc3RlcF9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zvcm1zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mb3Jtcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kcmFmdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfZHJhZnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvZmxvdy10ZW1wbGF0ZS93b3JrZmxvd190ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9mbG93LXRlbXBsYXRlL3dvcmtmbG93X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvc2NoZWR1bGUvYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3NjaGVkdWxlL2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3NjaGVkdWxlL3RpbWVvdXRfYXV0b19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvc2NoZWR1bGUvdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL25leHRTdGVwVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldFNwYWNlVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldEZvcm11bGFVc2VyT2JqZWN0cy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvaW5pdF9mb3JtdWxhX3ZhbHVlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvZ2V0TmFtZUZvclVzZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvZ2V0TmFtZUZvclVzZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZGVzaWduZXJfc3RhcnR1cC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfZGVzaWduZXJfc3RhcnR1cC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19lbmdpbmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2VuZ2luZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19kcmFmdHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZW1vdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbW92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd190ZXJtaW5hdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3Rlcm1pbmF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZWFzc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVhc3NpZ24uY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVsb2NhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbG9jYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2FyY2hpdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2FyY2hpdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZXhwb3J0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19leHBvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfc3BhY2VfY2hhbmdlc2V0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19zcGFjZV9jaGFuZ2VzZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfcmV0cmlldmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JldHJpZXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9wZW5kaW5nLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3BlbmRpbmcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9leHBvcnRfdGFibGVfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvZXhwb3J0X3RhYmxlX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9nZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc3VibWl0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc2F2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zYXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0X2J5X3N0ZXBuYW1lLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldF9ieV9zdGVwbmFtZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2Nmcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9jZnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfdGFibGVfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19mb3J3YXJkX3RhYmxlX3JlZmlsbC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9zdWJfdGFibGVfc29ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfc3ViX3RhYmxlX3NvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy90ZXN0X3dlYmhvb2suY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvdGVzdF93ZWJob29rLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX2Zvcm11bGFfdXNlcnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX2Zvcm11bGFfdXNlcnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZm9ybXVsYV9vcmdhbml6YXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9mb3JtdWxhX29yZ2FuaXphdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy90YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvdGFidWxhci5jb2ZmZWUiXSwibmFtZXMiOlsiY2hlY2tOcG1WZXJzaW9ucyIsIm1vZHVsZSIsImxpbmsiLCJ2IiwiY29va2llcyIsIm1rZGlycCIsIldvcmtmbG93IiwiSW1hZ2VTaWduIiwiVHJhY2VzVGVtcGxhdGUiLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZSIsIkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlIiwiSW5zdGFuY2VTaWduVGV4dCIsIlJlbGF0ZWRJbnN0YW5jZXMiLCJSZWxhdGVkUmVjb3JkcyIsIkluc3RhbmNlTWFjcm8iLCJjb250ZXh0IiwiVHJhY2VzTWFuYWdlciIsIk1ldGVvciIsImlzQ2xpZW50Iiwic3RhcnR1cCIsIndvcmtmbG93X3RocmVlX2NvbHVtbnMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiJCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyIsImZpZWxkX2Zvcm11bGEiLCJpbmRleE9mIiwiaW5jbHVkZXNPcGluaW9uRmllbGQiLCJmb3JtIiwiZm9ybV92ZXJzaW9uIiwiX2Zvcm1fdmVyc2lvbiIsImZpZWxkX2Zvcm11bGFzIiwiZmllbGRzIiwiQXJyYXkiLCJpc1NlcnZlciIsInV1Zmxvd01hbmFnZXIiLCJnZXRGb3JtVmVyc2lvbiIsImRiIiwiZm9ybXMiLCJmaW5kT25lIiwiX2lkIiwiZm9ybV92ZXJzaW9ucyIsImZvckVhY2giLCJmIiwicmVmIiwidHlwZSIsImNvbnNvbGUiLCJsb2ciLCJmMSIsInB1c2giLCJmb3JtdWxhIiwiXyIsInNvbWUiLCJoZWxwZXJzIiwiYXV0aF90b2tlbnMiLCJDb2xsZWN0aW9uIiwiX2dldExvY2FsZSIsIl9nZXRSZXF1aXJlZEZpZWxkcyIsIl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyIsIl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyIsIl9nZXRUZW1wbGF0ZURhdGEiLCJfZ2V0Vmlld0h0bWwiLCJnZXRMaW5rVGV4dCIsIkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSIsImluc3RhbmNlX2F0dGFjaG1lbnQiLCJhZlNlbGVjdFVzZXJSZWFkIiwiYWZGb3JtR3JvdXBSZWFkIiwiYWZGb3JtR3JvdXAiLCJjcmVhdGUiLCJ0ZW1wYWx0ZU5hbWUiLCJzdGVlZG9zRGF0YSIsInRlbXBsYXRlIiwidGVtcGxhdGVDb21waWxlZCIsInRlbXBsYXRlUmVuZGVyRnVuY3Rpb24iLCJTcGFjZWJhcnNDb21waWxlciIsImNvbXBpbGUiLCJpc0JvZHkiLCJldmFsIiwiVGVtcGxhdGUiLCJCbGF6ZSIsImNyZWF0ZUluc3RhbmNlU2lnblRleHQiLCJpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQiLCJpbnN0YW5jZVNpZ25UZXh0SHRtbCIsImluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiIsImluc3RhbmNlU2lnblRleHQiLCJjcmVhdGVJbWFnZVNpZ24iLCJpbWFnZVNpZ25Db21waWxlZCIsImltYWdlU2lnbkh0bWwiLCJpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiIsImltYWdlU2lnbiIsImluaXQiLCJhYnNvbHV0ZSIsIml0ZW0iLCJsYWJlbCIsImRldGFpbF91cmwiLCJyZXBsYWNlIiwidGVzdCIsIlN0ZWVkb3MiLCJhYnNvbHV0ZVVybCIsImdldFZhbHVlIiwidmFsdWUiLCJmaWVsZCIsImxvY2FsZSIsInV0Y09mZnNldCIsImRhdGUiLCJlIiwiaG91cnMiLCJtb250aCIsInNlY29uZHMiLCJ0IiwidDAiLCJ0MSIsInllYXIiLCJlbmNvZGVVUkkiLCJlcnJvciIsImlzX211bHRpc2VsZWN0IiwiZ2V0UHJvcGVydHkiLCJ0b1N0cmluZyIsImZ1bGxuYW1lIiwibmFtZSIsIlRBUGkxOG4iLCJfXyIsImxlbmd0aCIsInNwbGl0IiwiRGF0ZSIsImZvcm1hdERhdGUiLCJpc190ZXh0YXJlYSIsIlNwYWNlYmFycyIsIlNhZmVTdHJpbmciLCJNYXJrZG93biIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwiZGlnaXRzIiwibnVtYmVyVG9TdHJpbmciLCJtYXAiLCJnZXRMYWJlbCIsImNvZGUiLCJmaW5kUHJvcGVydHlCeVBLIiwiZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbiIsImluc3RhbmNlIiwiZm9ybV9maWVsZHMiLCJjdXJyZW50Iiwid2hlcmUiLCJoaXN0b3J5cyIsImdldEZsb3dWZXJzaW9uIiwiZmxvdyIsImZsb3dfdmVyc2lvbiIsImZsb3dzIiwicGF0aCIsInZpZXdIdG1sIiwiQXNzZXRzIiwiZ2V0VGV4dCIsInVzZXIiLCJyZWYxIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJyZXYiLCJpc19yZXF1aXJlZCIsInN0ZXBzIiwiZWRpdGFibGVDb2RlIiwic3RhcnRTdGVwIiwia2V5cyIsInBlcm1pc3Npb25zIiwia2V5IiwicmVxdWlyZWRGaWVsZHMiLCJpbnRlcnNlY3Rpb24iLCJzcGFjZSIsIm9wdGlvbnMiLCJXb3JrZmxvd01hbmFnZXIiLCJjbG9uZSIsIldvcmtmbG93TWFuYWdlcl9mb3JtYXQiLCJnZXRBdXRvZm9ybVNjaGVtYVZhbHVlcyIsImluc25hbWUiLCJpbnNfc3RhdGUiLCJzdGF0ZSIsImluc19maW5hbF9kZWNpc2lvbiIsImluc19jb2RlIiwiaW5zX2lzX2FyY2hpdmVkIiwiaXNfYXJjaGl2ZWQiLCJpbnNfaXNfZGVsZXRlZCIsImFwcGxpY2FudF9uYW1lIiwiYXBwbGljYW50Q29udGV4dCIsInNlc3Npb25Vc2VySWQiLCJlZGl0YWJsZSIsInN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzIiwicGFzc2luZyIsIm1vbWVudCIsImZvcm1hdCIsImdldEluc3RhbmNlVmlldyIsImJvZHkiLCJpbnN0YW5jZUNvbXBpbGVkIiwiaW5zdGFuY2VSZW5kZXJGdW5jdGlvbiIsImluc3RhbmNlVGVtcGxhdGUiLCJUZW1wbGF0ZU1hbmFnZXIiLCJnZXRUZW1wbGF0ZSIsInRlbXBsYXRlTmFtZSIsImluc3RhbmNlX3JlYWRvbmx5X3ZpZXciLCJ0b0hUTUxXaXRoRGF0YSIsImdldFRyYWNlc1ZpZXciLCJ0cmFjZUNvbXBpbGVkIiwidHJhY2VSZW5kZXJGdW5jdGlvbiIsInRyYWNlc0h0bWwiLCJpbnN0YW5jZV9zdHlsZSIsInRyYWNlX3JlYWRvbmx5X3ZpZXciLCJ0cmFjZXMiLCJnZXRBdHRhY2htZW50VmlldyIsImF0dGFjaG1lbnRDb21waWxlZCIsImF0dGFjaG1lbnRIdG1sIiwiYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uIiwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyIsImdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3IiwicmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkIiwicmVsYXRlZEluc3RhbmNlc0h0bWwiLCJyZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24iLCJyZWxhdGVkX2luc3RhbmNlc192aWV3IiwiZ2V0UmVsYXRlZFJlY29yZHNWaWV3IiwicmVsYXRlZFJlY29yZHNDb21waWxlZCIsInJlbGF0ZWRSZWNvcmRzSHRtbCIsInJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24iLCJyZWxhdGVkX3JlY29yZHNfdmlldyIsImdldE9uTG9hZFNjcmlwdCIsImZvcm1fc2NyaXB0IiwiZ2V0SW5zdGFuY2VIdG1sIiwiYWxsQ3NzTGluayIsImF0dGFjaG1lbnQiLCJjcmVhdG9yU2VydmljZSIsImNzc0hyZWYiLCJmb3JtRGVzY3JpcHRpb24iLCJmb3JtRGVzY3JpcHRpb25IdG1sIiwiaHRtbCIsImluc19yZWNvcmRfaWRzIiwiaW5zdGFuY2VCb3hTdHlsZSIsIm9uTG9hZFNjcmlwdCIsIm9wZW5GaWxlU2NyaXB0IiwicmVsYXRlZF9pbnN0YW5jZXMiLCJyZWxhdGVkX3JlY29yZHMiLCJzaG93VHJhY2VzQnRuIiwic2hvd1RyYWNlc1NjcmlwdCIsInRyYWNlIiwidHJhY2VDaGVjayIsIndpZHRoIiwic2V0dGluZ3MiLCJ3ZWJzZXJ2aWNlcyIsImNyZWF0b3IiLCJ1cmwiLCJyZWNvcmRfaWRzIiwiSlNPTiIsInN0cmluZ2lmeSIsImlzTW9iaWxlIiwic2hvd1RyYWNlIiwiZmluYWxfZGVjaXNpb24iLCJzaG93QXR0YWNobWVudHMiLCJpc0VtcHR5IiwidGFnZ2VyIiwic3R5bGVzIiwiZGVzY3JpcHRpb24iLCJwbHVnaW5zIiwiZm9ybUlkIiwiaW5zdGFuY2VfdGl0bGUiLCJwYWdlVGl0bGUiLCJwYWdlVGl0bGVUckNsYXNzIiwidmFsIiwiQ29yZUZvcm0iLCJwYWdlVGl0bGVGaWVsZE5hbWUiLCJoYW5kbGVUYWJsZVRlbXBsYXRlIiwiX2V4cG9ydCIsInRhYmxlX2ZpZWxkcyIsInRhYmxlX2ZpZWxkIiwiZmllbGRfcGVybWlzc2lvbiIsInB1cmVDb2RlIiwicmVxdWlyZWQiLCJ0aXRsZV9wZXJtaXNzaW9uIiwicmVtb3ZlU3BlY2lhbENoYXJhY3RlciIsImlzT3BpbmlvbkZpZWxkIiwidHJfc3RhcnQiLCJ0ZF9jb2xzcGFuIiwidHJfZW5kIiwiaW5jbHVkZXMiLCJwZXJtaXNzaW9uIiwiX3RlbXBsYXRlIiwidGFibGUiLCJfdGVtcGxhdGVIZWxwcyIsImRhdGEiLCJzdGVlZG9zX2luc3RhbmNlIiwiZ2V0SW5zdGFuY2UiLCJhdHRzIiwiaWQiLCJzdHlsZSIsImRpc2FibGVkIiwiaW5zdGFuY2VJZCIsImZvcm1fdHlwZXMiLCJBcHByb3ZlTWFuYWdlciIsImlzUmVhZE9ubHkiLCJzdGVlZG9zX2Zvcm0iLCJpbm5lcnN1YmZvcm1Db250ZXh0Iiwib2JqIiwiZG9jX3ZhbHVlcyIsIlNlc3Npb24iLCJnZXQiLCJlcXVhbHMiLCJhIiwiYiIsIlNpbXBsZVNjaGVtYSIsImdldEF1dG9mb3JtU2NoZW1hIiwiaW5zdGFuY2VfYm94X3N0eWxlIiwiYm94IiwiaW5zIiwianVkZ2UiLCJwcmludF90ZW1wbGF0ZSIsImluc3RhbmNlX3RlbXBsYXRlIiwiU3RlZWRvc1RhYmxlIiwiY2hlY2tJdGVtIiwiaXRlbV9pbmRleCIsImZpZWxkT2JqIiwiZ2V0RmllbGQiLCJmaWVsZFZhbCIsImdldEl0ZW1Nb2RhbFZhbHVlIiwic2ZfbmFtZSIsInNmaWVsZHMiLCJzZiIsIkluc3RhbmNlTWFuYWdlciIsImNoZWNrRm9ybUZpZWxkVmFsdWUiLCJzZXRUYWJsZUl0ZW1WYWx1ZSIsIml0ZW1fdmFsdWUiLCJ0YWJsZVZhbHVlIiwiZ2V0VGFibGVWYWx1ZSIsImdldFRhYmxlSXRlbVZhbHVlIiwicmVtb3ZlVGFibGVJdGVtIiwicmVtb3ZlZCIsInNldFRhYmxlVmFsdWUiLCJnZXRWYWxpZFZhbHVlIiwidmFsaWRWYWx1ZSIsImhhbmRsZURhdGEiLCJ2YWx1ZXMiLCJpbnN0YW5jZUZpZWxkcyIsImdldEluc3RhbmNlRmllbGRzIiwiZ2V0TW9kYWxEYXRhIiwiaW5kZXgiLCJGb3JtX2Zvcm11bGEiLCJnZXRGb3JtdWxhRmllbGRWYXJpYWJsZSIsIkF1dG9Gb3JtIiwiZ2V0Rm9ybVZhbHVlcyIsImluc2VydERvYyIsImFkZEl0ZW0iLCJfaXRlbV92YWx1ZSIsImdldEtleXMiLCJhcHBlbmQiLCJnZXRUciIsInVwZGF0ZUl0ZW0iLCJ0ZHMiLCJnZXRSZW1vdmVUZCIsInNmaWVsZCIsImdldFRkIiwiZW1wdHkiLCJydW5Gb3JtdWxhIiwicmVtb3ZlSXRlbSIsImhpZGUiLCJzaG93TW9kYWwiLCJtZXRob2QiLCJtb2RhbERhdGEiLCJNb2RhbCIsInNob3ciLCJnZXRDdXJyZW50RGF0YUZvckZvcm0iLCJzcyIsImdldEZvcm1TY2hlbWEiLCJzY2hlbWEiLCJPYmplY3QiLCJvYmplY3RLZXlzIiwiX21ha2VHZW5lcmljIiwiZ2V0VGhlYWQiLCJpc09iamVjdCIsInRoZWFkIiwidHJzIiwic2ZfbGVuZ3RoIiwid2lkZV9maWVsZHMiLCJmaWx0ZXJQcm9wZXJ0eSIsImlzX3dpZGUiLCJnZXRUYm9keSIsInRib2R5IiwidHIiLCJ0ZCIsInRkX3ZhbHVlIiwiZ2V0VERWYWx1ZSIsInZpZXciLCJDRkRhdGFNYW5hZ2VyIiwiZ2V0Rm9ybXVsYVNwYWNlVXNlcnMiLCJ1IiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbnMiLCJvIiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbiIsInBsdWNrIiwiYWRkSW5wdXRUeXBlIiwidmFsdWVPdXQiLCJ2YWx1ZUNvbnZlcnRlcnMiLCJzdHJpbmdUb1N0cmluZ0FycmF5Iiwic3RyaW5nVG9OdW1iZXIiLCJzdHJpbmdUb051bWJlckFycmF5Iiwic3RyaW5nVG9Cb29sZWFuIiwic3RyaW5nVG9Cb29sZWFuQXJyYXkiLCJzdHJpbmdUb0RhdGUiLCJzdHJpbmdUb0RhdGVBcnJheSIsImNvbnRleHRBZGp1c3QiLCJtYXhsZW5ndGgiLCJtYXgiLCJhZlRhYmxlIiwiZXZlbnRzIiwiZXZlbnQiLCJuZXdfaXRlbV9pbmRleCIsImN1cnJlbnRUYXJnZXQiLCJkYXRhc2V0Iiwic2V0IiwicmVuZGVyZWQiLCJzdHIiLCJhZGRJdGVtVHIiLCJzcGFjZVVzZXJTaWduIiwidXNlcklkIiwic3BhY2VfdXNlcl9zaWducyIsImltYWdlVVJMIiwic2lnbiIsInVuZW1wdHkiLCJ1bmVxdWFscyIsImluY2x1ZGUiLCJwYXJzZSIsInJlZjIiLCJyZWYzIiwiZ2V0SW5zdGFuY2VGbG93VmVyc2lvbiIsImFwcHJvdmVzIiwicmVmNCIsInN0ZXAiLCJhcHByb3ZlIiwianVkZ2VfbmFtZSIsImlzX2ZpbmlzaGVkIiwiaGFuZGxlciIsImhhbmRsZXJfbmFtZSIsImhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUiLCJoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSIsImZpbmlzaF9kYXRlIiwib3Bpbmlvbl9maWVsZHNfY29kZSIsInNpZ25fZmllbGRfY29kZSIsImlzX3JlYWQiLCJzaWduX3Nob3ciLCJjb25jYXQiLCJhZnRlcl9maWVsZCIsImJlZm9yZV9maWVsZCIsInByZV9maWVsZHMiLCJwcmVfd2lkZV9maWVsZHMiLCJzbGljZSIsInNvcnRfYXBwcm92ZSIsIm9yZGVyIiwic29ydCIsInAxIiwicDIiLCJfcDEiLCJfcDIiLCJnZXRUaW1lIiwiX3QiLCJnZXRDZkNsYXNzIiwiZ2V0VGFibGVUaGVhZCIsImdldFRhYmxlQm9keSIsInNob3dMYWJlbCIsInRlbXBsYXRlRGF0YSIsImdldE9waW5pb25GaWVsZFN0ZXBzTmFtZSIsInRvcF9rZXl3b3JkcyIsImZvbzEiLCJvcGluaW9uRmllbGRzIiwiZm9vIiwianNvbl9mb3JtdWxhIiwiczEiLCJlcnJvcjEiLCJ5aWppYW5sYW4iLCJzdGVwTmFtZSIsImltYWdlX3NpZ24iLCJvbmx5X2NjX29waW5pb24iLCJvbmx5X2NjIiwiZGVmYXVsdF9kZXNjcmlwdGlvbiIsIm9ubHlfaGFuZGxlciIsInNob3dDQ09waW5pb24iLCJtYXJrRG93blRvSHRtbCIsIm1hcmtEb3duU3RyaW5nIiwicmVuZGVyZXIiLCJSZW5kZXJlciIsImhyZWYiLCJ0aXRsZSIsInRleHQiLCJmX2xhYmVsIiwidGhhdCIsImlzU2VjdGlvbiIsInJlZ2lzdGVySGVscGVyIiwib3AiLCJoYXNoIiwiaW5zX2F0dGFjaF9kb3dubG9hZF91cmwiLCJnZXRQZXJtaXNzaW9ucyIsImluc3RhbmNlZm9ybUNoYW5nZUV2ZW50IiwicHJldmVudERlZmF1bHQiLCJvcGVuV2luZG93IiwidGFyZ2V0Iiwib25DcmVhdGVkIiwiY29tcGlsZWQiLCJpbnN0YW5jZUN1c3RvbVRlbXBsYXRlIiwiaW5zdGFuY2VWaWV3IiwicmVuZGVyRnVuY3Rpb24iLCJWaWV3IiwiaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlIiwib25SZW5kZXJlZCIsImN1cnJlbnRBcHByb3ZlIiwiY3VycmVudFN0ZXAiLCJmb3JtdWxhX2ZpZWxkcyIsImluc3RhbmNlTnVtYmVyRmllbGRzIiwiYXBwbGljYW50IiwibmV4dFN0ZXBzIiwibmV4dFN0ZXBVc2VycyIsIkluc3RhbmNlRXZlbnQiLCJpbml0RXZlbnRzIiwiZ2V0Q3VycmVudEFwcHJvdmUiLCJlYWNoIiwiZWxlbWVudCIsInNjaGVtYUtleSIsImNhbGwiLCJyZXN1bHQiLCJ0b2FzdHIiLCJyZWFzb24iLCJ0cmltIiwiZ2V0RmllbGRWYWx1ZSIsIkluc3RhbmNlTnVtYmVyUnVsZXMiLCJpbnN0YW5jZU51bWJlckJ1aWxkZXIiLCJ0cmlnZ2VyIiwiZ2V0Q3VycmVudFN0ZXAiLCJydW4iLCJzaG93TWFpblRpdGxlIiwid29ya2Zsb3dNYWluQXR0YWNoVGl0bGUiLCJlbmFibGVkX2FkZF9tYWluX2F0dGFjaG1lbnQiLCJjdXJyZW50X3N0ZXAiLCJtYWluX2F0dGFjaF9jb3VudCIsImNmcyIsImluc3RhbmNlcyIsImZpbmQiLCJjb3VudCIsImRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQiLCJkaXN0cmlidXRlX2Zyb21faW5zdGFuY2UiLCJzdGFydF9zdGVwIiwiZ2V0U3RhcnRTdGVwIiwiY2FuX2VkaXRfbWFpbl9hdHRhY2giLCJzdGVwX3R5cGUiLCJlbmFibGVkX2VkaXRfbm9ybWFsX2F0dGFjaG1lbnQiLCJnZXRGbG93IiwidXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkIiwiaXNDQyIsImdldENDU3RlcCIsImNhbl9lZGl0X25vcm1hbF9hdHRhY2giLCJ1bmRlZmluZWQiLCJtYWluX2F0dGFjaG1lbnQiLCJtYWluX2F0dGFjaCIsIm5vcm1hbF9hdHRhY2htZW50cyIsInNlbGVjdG9yIiwiJG5lIiwiZGZpcyIsImRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMiLCIkaW4iLCJkaXN0cmlidXRlX21haW4iLCJmaXJzdFZlcnNpb25NYWluIiwibWV0YWRhdGEiLCJwYXJlbnQiLCJhdHRhY2htZW50VXBsb2FkZWRBdCIsInVwbG9hZGVkQXQiLCJjIiwiZmlyc3RWZXJzaW9uIiwic29ydEJ5IiwiaW5zdGFuY2VJZHMiLCJhdHRhY2htZW50c19jb3VudCIsImNvbXBhY3QiLCJhdHRhY2htZW50cyIsIiRvciIsImZldGNoIiwibXlBcHByb3ZlIiwibXlUcmFjZSIsImlzSW5ib3giLCJkZWZhdWx0RGVzY3JpcHRpb24iLCJhcHByb3ZlX3NvcnQiLCJhcHByb3Zlc0dyb3VwIiwiYXBwcm92ZXNfc29ydGVkIiwiY29tcGxldGVkX2RhdGUiLCJoYXNOZXh0IiwiaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSIsImlzX2NvbXBsZXRlZCIsImxhc3QiLCJ0b3BfYXBwcm92ZXMiLCJ1bmlvbiIsImZpbHRlciIsInRvcF9hcHByb3ZlIiwiZ3JvdXBCeSIsImhhbmRsZXJBcHByb3ZlcyIsImRlc2NyaXB0aW9uQXBwcm92ZXMiLCJfZGlzcGxheSIsImlzTXlBcHByb3ZlIiwibXlBcHByb3ZlRGVzY3JpcHRpb24iLCJhcHByb3ZlSWQiLCJub3ciLCJpc09waW5pb25PZkZpZWxkIiwiaW1hZ2VTaWduRGF0YSIsInNob3dTaWduSW1hZ2UiLCJnZXRMYXN0U2lnbkFwcHJvdmUiLCJnZXRIYW5kbGVyU2lnblNob3dBcHByb3ZlcyIsImxhc3RNeUFwcHJvdmVEZXNjcmlwdGlvbiIsInNob3dBcHByb3ZlIiwianVkZ2VfZGVzY3JpcHRpb24iLCJpc19hcHByb3ZlZCIsImlzX3JlamVjdGVkIiwiaXNfcmVhZGVkIiwic2V0VGltZW91dCIsImlzIiwiZGF0ZUZvcm1hdCIsImdldEZ1bGxZZWFyIiwiZ2V0U3RlcE5hbWUiLCJzdGVwSWQiLCJnZXRJbnN0YW5jZVN0ZXAiLCJzaG93RGVsZXRlQnV0dG9uIiwiYXBwcm92ZWQiLCJmcm9tX3VzZXIiLCJpc1Nob3dNb2RpZmljYXRpb25CdXR0b24iLCJhcHByb3ZlX2FkbWlucyIsImlzU2hvdyIsIndvcmtmbG93IiwiY29udGFpbnMiLCJpc0VkaXRpbmciLCJpc19lZGl0aW5nIiwiaXNTaG93RGVzY3JpcHRpb24iLCJnZXRBcHByb3ZlU3RhdHVzSWNvbiIsImFwcHJvdmVKdWRnZSIsImFwcHJvdmVTdGF0dXNJY29uIiwiZ2V0QXBwcm92ZVN0YXR1c1RleHQiLCJhcHByb3ZlU3RhdHVzVGV4dCIsImlzRm9yd2FyZCIsInNob3dGb3J3YXJkRGVsZXRlQnV0dG9uIiwiZm9yd2FyZF9pbnN0YW5jZSIsImlzRGlzdHJpYnV0ZSIsInNob3dEaXN0cmlidXRlRGVsZXRlQnV0dG9uIiwiaXNMZWdhbFZlcnNpb24iLCJoYXNGbG93QWRtaW5QZXJtaXNzaW9uIiwiZmluaXNoRGF0ZVNjaGVtYSIsImlzQW5kcm9pZE9ySU9TIiwiYXV0b2Zvcm0iLCJvcHRpb25hbCIsInJlYWRvbmx5IiwiZGF0ZVRpbWVQaWNrZXJPcHRpb25zIiwiaWdub3JlUmVhZG9ubHkiLCJ3aWRnZXRQb3NpdGlvbmluZyIsImhvcml6b250YWwiLCJmaW5pc2hEYXRlVmFsdWVzIiwic2hvd1RyYWNlc1ZpZXciLCJzaG93X21vZGFsX3RyYWNlc19saXN0Iiwic3BhY2Vfc2V0dGluZ3MiLCJnZXRJbnN0YW5jZVN0YXRlVGV4dCIsImluc3RhbmNlX2lkIiwiZ2V0SW5zdGFuY2VTdGF0ZUNvbG9yIiwiY2xhIiwiZmlyc3RUcmFjZSIsImxhc3RfZGlzdHJpYnV0ZV9mcm9tIiwiZGlzX2luZm8iLCIkZXhpc3RzIiwiY3JlYXRlZCIsImNyZWF0ZWRfYnkiLCJVVWZsb3dfYXBpIiwiZ2V0TmFtZUZvclVzZXIiLCJ1c2VycyIsImZyb21fdXNlcl9uYW1lIiwiaXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQiLCJqdWRnZVRlcm1pbmF0ZWQiLCJpbnN0YW5jZUV4aXN0cyIsImFnZW50RGVzY3JpcHRpb24iLCJ1c2VyTmFtZSIsInRyYWNlTmFtZSIsInRyYWNlSWQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYWxsaW5nIiwiZXJyIiwic3VjY2VzcyIsImZvcndhcmRfc3BhY2UiLCJmb3J3YXJkc3BhY2UiLCJmb3J3YXJkaW5zdGFuY2UiLCJUcmFja2VyIiwiYWZ0ZXJGbHVzaCIsIm9uIiwic2Nyb2xsVG9wIiwiZmluaXNoX2lucHV0Iiwib3Bpbmlvbl9pbnB1dCIsImFsbG93TXVsdGlwbGUiLCJzaG93UmVsYXRlZEluc3RhY2VzIiwiaXNBcnJheSIsInJlbGF0ZWRfaW5zdGFjZXMiLCJyZWxhdGVkX2luc3RhY2VfdXJsIiwiaXNDb3Jkb3ZhIiwic2hvd19kZWxldGUiLCJzaG93UmVsYXRlZFJlY29yZHMiLCJtZXRob2RzIiwic2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZSIsImluc19pZCIsInN0ZXBfYXBwcm92ZSIsInN0ZXBzQXBwcm92ZXNPcHRpb25zIiwiX2tleXMxIiwiX2tleXMyIiwic3RlcHNBcHByb3ZlcyIsInN0ZXBBcHByb3ZlcyIsInN0ZXBzQXBwcm92ZU9wdGlvbnMiLCJ1bmlxIiwidXBkYXRlIiwiJHNldCIsInNldF9pbnN0YW5jZV9za2lwX3N0ZXBzIiwiYWN0aW9uIiwiJHB1bGwiLCJza2lwX3N0ZXBzIiwiJHB1c2giLCJnZXRfaW5zdGFuY2VfZGF0YSIsImZvcm1DYWNoZWQiLCJmbG93Q2FjaGVkIiwiY2hlY2siLCJTdHJpbmciLCJCb29sZWFuIiwiZHJhZnRfc2F2ZV9pbnN0YW5jZSIsInNldE9iaiIsInRyYWNlX2lkIiwiYXBwcm92ZV9pZCIsIm5leHRfc3RlcHMiLCJhcHBsaWNhbnRfaWQiLCJzdWJtaXR0ZXIiLCJzcGFjZV9pZCIsImZsb3dfaWQiLCJmb3JtX2lkIiwiY3VycmVudF90cmFjZSIsImlkeCIsImtleV9zdHIiLCJjdXJyZW50X3VzZXIiLCJsYW5nIiwiaXNJbnN0YW5jZURyYWZ0IiwiaXNJbnN0YW5jZVN1Ym1pdHRlciIsIm1vZGlmaWVkIiwibW9kaWZpZWRfYnkiLCJzIiwic3BhY2VfdXNlcnMiLCJvcmdhbml6YXRpb24iLCJvcmdfaWQiLCJvcmdhbml6YXRpb25zIiwiYXBwbGljYW50X29yZ2FuaXphdGlvbiIsImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZSIsImFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWUiLCJuYW1lX2ZvcnVtbGEiLCJnZXRJbnN0YW5jZU5hbWUiLCJpbmJveF9zYXZlX2luc3RhbmNlIiwiY3VycmVudF9hcHByb3ZlIiwiaXNJbnN0YW5jZVBlbmRpbmciLCJpc1RyYWNlTm90RmluaXNoZWQiLCJpc0FwcHJvdmVOb3RGaW5pc2hlZCIsImlzSGFuZGxlck9yQWdlbnQiLCJzdGFjayIsInN0ZXBfaWQiLCJoIiwicGVybWlzc2lvbnNfdmFsdWVzIiwiZ2V0QXBwcm92ZVZhbHVlcyIsImNoYW5nZV92YWx1ZXMiLCJhcHByb3ZlTWFuYWdlciIsImdldENoYW5nZVZhbHVlcyIsImV4dGVuZCIsInZhbHVlc19oaXN0b3J5IiwiZm9ybV92IiwiY2NfZG8iLCJjY191c2VyX2lkcyIsImNjX3VzZXJzIiwiY3VycmVudF91c2VyX2lkIiwibmV3X2FwcHJvdmVzIiwic3BhY2VfdXNlciIsImFnZW50IiwiZ2V0QWdlbnQiLCJoYW5kbGVyX2lkIiwiaGFuZGxlcl9pbmZvIiwiaGFuZGxlcl9zcGFjZV91c2VyIiwiaGFuZGxlcl9vcmdfaW5mbyIsImZpbGVkcyIsImdldFNwYWNlVXNlciIsImdldFNwYWNlVXNlck9yZ0luZm8iLCJhcHByIiwiTW9uZ28iLCJPYmplY3RJRCIsIl9zdHIiLCJzZXRSZW1pbmRJbmZvIiwiJGFkZFRvU2V0IiwiJGVhY2giLCJjdXJyZW50X3VzZXJfaW5mbyIsInB1c2hNYW5hZ2VyIiwic2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24iLCJ0cmlnZ2VyV2ViaG9vayIsImNjX3JlYWQiLCJjY19zdWJtaXQiLCJvdXRib3hfdXNlcnMiLCJ1cG9iaiIsInN0YXJ0X2RhdGUiLCJzZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIiLCJjY19yZW1vdmUiLCJyZW1vdmVfdXNlcl9pZCIsIm11bHRpIiwiY2Nfc2F2ZSIsImhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCIsImlzRm9yd2FyZEF0dGFjaG1lbnRzIiwic2VsZWN0ZWRVc2VycyIsImFjdGlvbl90eXBlIiwicmVsYXRlZCIsImZyb21fYXBwcm92ZV9pZCIsIkVycm9yIiwiZm9yd2FyZF9yZW1vdmUiLCJoYXNBZG1pblBlcm1pc3Npb24iLCJmb3J3YXJkX2luc3RhbmNlX2lkIiwiaW5ib3hfdXNlcnMiLCJkZWxldGVkIiwiZGVsZXRlZF9ieSIsImRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCIsImRlbGV0ZWRfaW5zdGFuY2VzIiwiaW5zZXJ0IiwicmVtb3ZlIiwidV9pZCIsInNldF9vYmoiLCJjYW5jZWxEaXN0cmlidXRlIiwiYXBwcm92ZV9pZHMiLCJleGlzdHMiLCJjZnNfaW5zdGFuY2VzX3JlbW92ZSIsImZpbGVfaWQiLCJjZnNfaW5zdGFuY2VzX3NldF9jdXJyZW50IiwiY2ZzX2luc3RhbmNlc19sb2NrIiwidXNlcl9pZCIsInVzZXJfbmFtZSIsImNmc19pbnN0YW5jZXNfdW5sb2NrIiwiJHVuc2V0IiwiZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzayIsInNwYWNlSWQiLCJjZnNSZWNvcmRJZHMiLCJpc19jbG91ZGFkbWluIiwic3RvcmUiLCJmcyIsInJlcXVpcmUiLCJwYXRobmFtZSIsImpvaW4iLCJfX21ldGVvcl9ib290c3RyYXBfXyIsInNlcnZlckRpciIsImFic29sdXRlUGF0aCIsInJlc29sdmUiLCJzeW5jIiwidGltZSIsInF1ZXJ5IiwiZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMiLCJmaWxlTmFtZSIsImZpbGVQYXRoIiwid3JhcEFzeW5jIiwiY2FsbGJhY2siLCJ3cml0ZXIiLCJjcmVhdGVXcml0ZVN0cmVhbSIsImlzRnVuY3Rpb24iLCJyZWFkZXIiLCJjcmVhdGVSZWFkU3RyZWFtIiwicGlwZSIsInRpbWVFbmQiLCJzZXRfYXBwcm92ZV9oYXZlX3JlYWQiLCJzZWxmIiwiY2hhbmdlX2FwcHJvdmVfaW5mbyIsInVwZGF0ZV9hcHByb3ZlX3NpZ24iLCJzaWduX3R5cGUiLCJsYXN0U2lnbkFwcHJvdmUiLCJsYXN0VHJhY2UiLCJzZXNzaW9uX3VzZXJJZCIsInVwT2JqIiwiY3VzdG9tX3NpZ25fc2hvdyIsInVwZGF0ZV9zaWduX3Nob3ciLCJvYmpzIiwibXlBcHByb3ZlX2lkIiwiaW5zdGFuY2VfcmV0dXJuIiwiYXBwcm92ZV92YWx1ZXMiLCJsYXN0X3RyYWNlIiwibmV3VHJhY2UiLCJuZXdfaW5ib3hfdXNlcnMiLCJwcmVfc3RlcCIsInByZV90cmFjZSIsInIiLCJyZXN0X2NvdW50ZXJfdXNlcnMiLCJnZXRTdGVwIiwicHJldmlvdXNfdHJhY2VfaWRzIiwiZHVlX2RhdGUiLCJnZXREdWVEYXRlIiwidGltZW91dF9ob3VycyIsIm5leHRfc3RlcF91c2VyX2lkIiwibmV3QXBwcm92ZSIsIm5leHRfc3RlcF9zcGFjZV91c2VyIiwibmV4dF9zdGVwX3VzZXJfb3JnX2luZm8iLCJ1c2VyX2luZm8iLCJoYW5kbGVyX29yZ2FuaXphdGlvbiIsImlzX2Vycm9yIiwiY3VycmVudF9zdGVwX25hbWUiLCJpbnN0YW5jZV9yZW1pbmQiLCJyZW1pbmRfdXNlcnMiLCJyZW1pbmRfY291bnQiLCJyZW1pbmRfZGVhZGxpbmUiLCJhY3Rpb25fdHlwZXMiLCJsYXN0X3JlbWluZF91c2VycyIsInByaW9yaXR5IiwiTWF0Y2giLCJPbmVPZiIsImFwIiwiY2FjdWxhdGVfZGF0ZSIsIm1hbnVhbF9kZWFkbGluZSIsImNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5IiwicmVtaW5kX2RhdGUiLCJjYWN1bGF0ZVdvcmtpbmdUaW1lIiwiYmFzZV9kYXRlIiwicGx1c19oYWxmZGF5X2RhdGUiLCJzZW5kUmVtaW5kU01TIiwibmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZCIsImRlYWxfdHlwZSIsInN0ZXBfbmFtZSIsInBhcmFtcyIsImFwcHJvdmVyX3JvbGVzIiwicm9sZXMiLCJyb2xlc19uYW1lIiwiZmxvd19yb2xlcyIsInJvbGVfbmFtZSIsIl9ldmFsIiwiX05VTUJFUiIsIl9ZWVlZIiwibnVtYmVyUnVsZXMiLCJyZXMiLCJydWxlcyIsInNjcmlwdCIsImluc3RhbmNlX251bWJlcl9ydWxlcyIsIm51bWJlciIsIllZWVkiLCJNTSIsImdldE1vbnRoIiwibW0iLCJERCIsImdldERhdGUiLCJkZCIsImZpcnN0X251bWJlciIsIk5VTUJFUiIsIm5ld05vIiwiX2Vycm9yIiwiY2hlY2tfbWFpbl9hdHRhY2giLCJjaGVja01haW5BdHRhY2giLCJyZW1vdmVfcmVsYXRlZCIsInJlX2luc19pZCIsInVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkIiwidXBkYXRlRmxvd1Bvc2l0aW9uIiwiZmxvd19wb3NpdGlvbnMiLCJyb2xlIiwib3JnIiwidXBkYXRlRmxvd1JvbGUiLCJzdGFydF9mbG93IiwiZmxvd0lkIiwic3RhcnQiLCJrZXlWYWx1ZSIsInN0YXJ0X2Zsb3dzIiwic3RlZWRvc19rZXl2YWx1ZXMiLCJnZXRfaW5zdGFuY2VfdHJhY2VzIiwibWluaUFwcHJvdmVGaWVsZHMiLCJjYXRlZ29yeUlkIiwiZmxvd0lkcyIsIl9iYXRjaF9pbnN0YW5jZXMiLCJnZXRCYXRjaEluc3RhbmNlcyIsIm15QXBwcm92ZXMiLCJpbnNJZCIsIm15X2FwcHJvdmUiLCJnZXRNeUFwcHJvdmUiLCJjaGFuZ2VfZmxvd19zdGF0ZSIsIl91c2VySWQiLCJfZmxvd3MiLCJfZmxvd3Nfc3RhdGUiLCJmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUiLCJpc1NwYWNlQWRtaW4iLCJpc192YWxpZCIsImZsb3d0eXBlIiwic3BlY2lmeVN0ZXAiLCJhcHByb3Zlcl9zdGVwIiwiX3N0ZXAiLCJmaWVsZHNfbW9kaWZpYWJsZSIsImhpZGVfaW5zdGFuY2UiLCJpc19oaWRkZW4iLCJwZXJtaXNzaW9uTWFuYWdlciIsImdldEZsb3dQZXJtaXNzaW9ucyIsInNwYWNlcyIsImFkbWlucyIsImdldEluc3RhbmNlVmFsdWVzIiwiQ29va2llcyIsImdldEluc3RhbmNlUmVhZE9ubHkiLCJyZXEiLCJuZXh0IiwiX2hhc1Blcm1pc3Npb24iLCJfbG9jYWxlIiwiX3BhcmVudF9pbnN0YW5jZXMiLCJkYXRhQnVmIiwiaGlkZV90cmFjZXMiLCJzcGFjZVVzZXJDb3VudCIsImdldEFQSUxvZ2luVXNlciIsImFjY2Vzc190b2tlbiIsImdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbiIsIkpzb25Sb3V0ZXMiLCJzZW5kUmVzdWx0IiwiaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyIsIl9wYXJlbnRfaWQiLCJfcGFyZW50X2lucyIsImNoYXJzZXQiLCJCdWZmZXIiLCJzZXRIZWFkZXIiLCJzdGF0dXNDb2RlIiwiZW5kIiwiYWRkIiwiaW5zdGFuY2VfbmFtZSIsImkiLCJyZXRfc3luY190b2tlbiIsInNwYWNlVXNlciIsInNwYWNlVXNlck9yZ2FuaXphdGlvbnMiLCJzeW5jX3Rva2VuIiwiQVBJQXV0aGVudGljYXRpb25DaGVjayIsImhlYWRlcnMiLCJjYW5Nb25pdG9yIiwiY2FuQWRtaW4iLCJOdW1iZXIiLCIkZ3QiLCIkbmluIiwiaW5ib3hfdWVycyIsInNraXAiLCJsaW1pdCIsImNvcGllcyIsImFsbENzcyIsIldlYkFwcCIsImdldFJlZnJlc2hhYmxlQXNzZXRzIiwiY3NzIiwicm9vdFVybCIsIl9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18iLCJST09UX1VSTF9QQVRIX1BSRUZJWCIsIlJPT1RfVVJMIiwiZW5kc1dpdGgiLCJwcm90b3R5cGUiLCJsIiwiZyIsIm0iLCJkIiwiayIsImdldEVhY2giLCJtaXhpbiIsImRlc3QiLCJzcmMiLCJoYW5kZXJVc2VyT2JqZWN0IiwiaHIiLCJzb3J0X25vIiwibW9iaWxlIiwid29ya19waG9uZSIsInBvc2l0aW9uIiwidXNlclJvbGVzIiwiaGFuZGVyT3JnT2JqZWN0IiwiaW5pdF9mb3JtdWxhX3ZhbHVlcyIsImF1dG9Gb3JtRG9jIiwiYXBwcm92ZXIiLCJfX3ZhbHVlcyIsInRhYmxlRmllbGRzIiwidGFibGVWYWx1ZXMiLCJmb3JtdWxhVGFibGVWYWx1ZXMiLCJfX3RhYmxlVmFsdWVzIiwidGFibGVmaWVsZCIsImdldEZvcm11bGFVc2VyT2JqZWN0cyIsImdldEZvcm11bGFPcmdPYmplY3RzIiwiZ2V0Rm9ybXVsYVVzZXJPYmplY3QiLCJnZXRIYW5kbGVyc01hbmFnZXIiLCJnZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyIsInVzZXJfaWRzIiwicm9sZV9pZHMiLCJhcHByb3ZlX3VzZXJzIiwiZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyIsInJvbGVfaWQiLCJnZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUiLCJvcmdzIiwiZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUiLCJnZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzIiwib3JnX2lkcyIsImdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyIsInBhcmVudHMiLCJwb3NpdGlvbnMiLCJwYXJlbnRfaWQiLCJnZXRIYW5kbGVycyIsIl9hcHByb3ZlIiwiX3NwYWNlX3VzZXIiLCJfdHJhY2UiLCJhcHBsaWNhbnRTdXBlcmlvcnMiLCJhcHByb3ZlSHJSb2xlSWRzIiwiYXBwcm92ZXJfb3JnX2ZpZWxkIiwiYXBwcm92ZXJfb3JnX2lkcyIsImFwcHJvdmVyX3VzZXJfZmllbGQiLCJhcHByb3Zlcl91c2VyX2lkcyIsImN1cnJlbnRfZmxvdyIsImN1cnJlbnRfZmxvd192ZXJzaW9uIiwiY3VycmVudF9mb3JtIiwiY3VycmVudF9zdGVwcyIsImZpZWxkX2NvZGUiLCJmaW5pc2hlZF90cmFjZXMiLCJmbG93X3JldiIsImZvcm1fcmV2IiwiaGFuZGxlcnMiLCJtYXhfc3RhcnREYXRlX3RyYWNlIiwibmV3X2FwcHJvdmVyX3VzZXJfaWRzIiwibmV3X29yZ191c2VyX2lkcyIsIm5ld2VzdF92YWx1ZXMiLCJuZXh0X3N0ZXBfdXNlcnMiLCJvcmdfaWRzX25hbWVzIiwib3JnX3VzZXJfaWRzIiwic3BhY2VfdXNlcl9jb3VudCIsInN1Ym1pdHRlcl91c2VyX2NvdW50IiwidW5maW5pc2hlZF90cmFjZSIsInVzZXJfaWRzX25hbWVzIiwidmFsaWRfYXBwcm92ZXJfb3JnX2lkcyIsImhpc3RvcnkiLCJhcHByb3Zlcl9yb2xlIiwicm9sZV9jb3VudCIsImFwcHJvdmVyX2hyX3JvbGVzIiwiZ2V0SHJSb2xlc1VzZXJzIiwiY3VycmVudF9mbG93X2hpc3RvcnkiLCJmb3JtX2hpc3RvcnkiLCJmb3JtX2ZpZWxkIiwiZ2V0VXBkYXRlZFZhbHVlcyIsImNoZWNrX29yZ19jb3VudCIsImNoZWNrX29yZ3MiLCJvcmdfY2hpbGRyZW4iLCJvcmdfdXNlcnMiLCJ1bnNoaWZ0IiwiY2hlY2tfb3JnX3VzZXIiLCJvcmdfdXNlciIsImNoZWNrX3VzZXJfY291bnQiLCJhcHByb3ZlX3VzZXIiLCJjaGVja19hcHByb3ZlX3VzZXJfY291bnQiLCJhcHByb3Zlcl9vcmdzIiwiYXBwcm92ZXJfb3JnX2lkIiwidmFsaWRfYXBwcm92ZXJfb3JnX2lkIiwiY2hpbGRfb3JncyIsInZhbGlkX2FwcHJvdmVyX29yZyIsImNoaWxkX29yZyIsIm9yZ191c2VyX2lkIiwic3BhY2VfdXNlcl9pbmZvX2NvdW50IiwiYXBwcm92ZXJfdXNlcnMiLCJhcHByb3Zlcl91c2VyX2lkIiwiX3RyIiwiX2FwcCIsIm1hbmFnZXIiLCJteV9wZXJtaXNzaW9ucyIsIm9yZ3NfY2FuX2FkZCIsIm9yZ3NfY2FuX2FkbWluIiwib3Jnc19jYW5fbW9uaXRvciIsInVzZXJzX2Nhbl9hZGQiLCJ1c2Vyc19jYW5fYWRtaW4iLCJ1c2Vyc19jYW5fbW9uaXRvciIsInBlcm1zIiwibGFzdF92YWx1ZXMiLCJhcHByb3ZlX3ZhbHVlc19rZXlzIiwiY2hhbmdlVmFsdWVzIiwibGFzdF92YWx1ZXNfa2V5cyIsImlzRXF1YWwiLCJmbG93TWFuYWdlciIsImdldENhdGVnb3JpZXNGbG93cyIsImNhdGVnb3JpZUlkIiwiY2F0ZWdvcmllc0Zvcm1zIiwiZm9ybU1hbmFnZXIiLCJnZXRDYXRlZ29yaWVzRm9ybXMiLCJnZXRVbkNhdGVnb3JpZXNGbG93cyIsInVuQ2F0ZWdvcmllc0Zvcm1zIiwiZ2V0VW5DYXRlZ29yaWVzRm9ybXMiLCJfZmllbGRzIiwiY2F0ZWdvcnkiLCJzdGVwTWFuYWdlciIsImFsbG93QmF0Y2giLCJpc0V4aXN0U3RlcCIsImxvZ2dlciIsIkxvZ2dlciIsImhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXAiLCJmaWVsZF9tYXAiLCJjdXJyZW50QXBwcm92ZXMiLCJjdXJyZW50VHJhY2VzIiwiZ2V0Q3VycmVudFRyYWNlIiwibmV4dF91c2VyX2lkcyIsImdldE5leHRTdGVwcyIsImluYm94X3VzZXIiLCJGSUVMRFMiLCJjYXRlZ29yeUZsb3dzIiwiaW5ib3hfaW5zdGFuY2VzIiwidW5DYXRlZ29yeUZsb3dzIiwic3VibWl0X2RhdGUiLCJjdXJyZW50U3RlcElkIiwicHVibGlzaCIsInJlYWR5IiwiY2F0ZWdvcmllcyIsImFwcCIsInB1Ymxpc2hDb21wb3NpdGUiLCJ0YWJsZU5hbWUiLCJpZHMiLCJPcHRpb25hbCIsInVuYmxvY2siLCJjaGlsZHJlbiIsImNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3ciLCJjb21wYW55X2lkIiwidmVyc2lvbklkIiwiaGFuZGxlIiwibGF0ZXN0Iiwib2JzZXJ2ZUNoYW5nZXMiLCJjaGFuZ2VkIiwiYWRkZWQiLCJvblN0b3AiLCJzdG9wIiwiZmxvd19pZHMiLCJkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzIiwiZGlzdHJpYnV0ZV90b19zZWxmIiwiZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uIiwiYWxsb3dfc2VsZWN0X3N0ZXAiLCJnZXRNaW5pSW5zdGFuY2UiLCJnZXRNeWFwcHJvdmVNb2RpZmllZCIsImluc3RhbmNlX2ZpZWxkc18wIiwibmVlZENoYW5nZSIsInRyaWdnZXJDaGFuZ2VGaWVsZHMiLCJ0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzIiwibXlBcHByb3ZlTW9kaWZpZWRzIiwicmVhZF9kYXRlIiwiX2luc3RhbmNlSWQiLCJjaGFuZ2VGaWVsZHMiLCJfY2hhbmdlIiwiX3JldiIsIl9rZXkiLCJfbXlfYXBwcm92ZV9tb2RpZmllZHMiLCJoYXMiLCJnZXRJbnN0YW5jZVRyYWNlcyIsIl9pbnNJZCIsImFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSIsImxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUiLCJpbnN0YW5jZWlkIiwiZGF0YU1hcCIsIm9wZXJhdGlvbiIsInJhd0NvbGxlY3Rpb24iLCJhZ2dyZWdhdGUiLCJ0b0FycmF5IiwiZG9jIiwiZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlIiwiZ2V0U3RlcEN1cnJlbnROYW1lIiwibm90RmluaXNoZWRUcmFjZXMiLCJzdGVwQ3VycmVudE5hbWUiLCIkc2xpY2UiLCJteUxhc3RGaW5pc2hlZEFwcHJvdmUiLCJhZ2VudF91c2VyX25hbWUiLCJteV9maW5pc2hfZGF0ZSIsImlzX2NjIiwiY2NfY291bnQiLCJpbnN0YW5jZV9pZHMiLCJyZWxhdGVkX2luc3RhbmNlX2lkcyIsIl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlIiwiX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUiLCJfaXRlbXMiLCIkbWF0Y2giLCIkZ3JvdXAiLCIkc3VtIiwiX2NoYW5nZURhdGEiLCJfZmxvd3NEYXRhIiwiX2luaXQiLCJkYXRhSXRlbSIsImZsb3dfaW5zdGFuY2UiLCJvYnNlcnZlIiwiQ3JlYXRvciIsImdldENvbGxlY3Rpb24iLCJ3b3JrZmxvd1RlbXBsYXRlIiwiYWJzb2x1dGVfcGF0aF9jbiIsImFic29sdXRlX3BhdGhfdXMiLCJmaWxlc0xpc3RfY24iLCJmaWxlc0xpc3RfdXMiLCJtaW1lIiwicGF0aF9jbiIsInBhdGhfdXMiLCJyZWFkRmlsZUxpc3QiLCJwYXRoRGlyIiwiZmlsZXNMaXN0IiwiZmlsZXMiLCJyZWFkZGlyU3luYyIsInN0YXQiLCJzdGF0U3luYyIsImlzRGlyZWN0b3J5Iiwid29ya2Zsb3dUZW1wbGF0ZXMiLCJleGlzdHNTeW5jIiwiZmlsZSIsImdldFR5cGUiLCJyZWFkRmlsZVN5bmMiLCJnb19uZXh0IiwicnVsZSIsInNjaGVkdWxlIiwiY3JvbiIsImF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbiIsInNjaGVkdWxlSm9iIiwiYmluZEVudmlyb25tZW50IiwicHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzIiwiZW5hYmxlZCIsImVuZF90aW1lIiwiJGx0ZSIsInRpbWVvdXRfYXV0b19zdWJtaXQiLCJ0aW1lb3V0QXV0b1N1Ym1pdCIsInNwZWNpZnlVc2VySWRzIiwiZ2V0VXNlcnMiLCJhcHBsaWNhbnRJZCIsImFwcHJvdmVSb2xlSWRzIiwiZ2V0VXNlciIsImdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzIiwidXNlckZpZWxkIiwidXNlckZpZWxkVmFsdWUiLCJvcmdDaGlsZHJlbnMiLCJvcmdGaWVsZCIsIm9yZ0ZpZWxkVmFsdWUiLCJnZXRPcmdhbml6YXRpb25zIiwiZ2V0T3JnYW5pemF0aW9uc0NoaWxkcmVucyIsImdldE9yZ2FuaXphdGlvbiIsImdldE9yZ2FuaXphdGlvbkNoaWxkcmVucyIsImdldE9yZ2FuaXphdGlvbnNVc2VycyIsIm9yZ0ZpZWxkVXNlcnMiLCJzcGVjaWZ5T3JnSWRzIiwic3BlY2lmeU9yZ3MiLCJzcGVjaWZ5T3JnQ2hpbGRyZW5zIiwiYXBwcm92ZXJSb2xlSWRzIiwiZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzIiwic3UiLCJ1bmlxVXNlcnMiLCJ1c2VySWRzIiwic3BhY2VVc2VycyIsImZvcm11bGFfdmFsdWVzIiwiZXJyb3JzIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImNvbXBhbnlJZCIsInNwYWNlSWRzIiwic3BhY2VzUXVlcnkiLCJjaGVja19hdXRob3JpemF0aW9uIiwiaXNfZGVsZXRlZCIsImhlbHBfdGV4dCIsIm5hbWVfZm9ybXVsYSIsImNvZGVfZm9ybXVsYSIsImN1cnJlbnRfbm8iLCJlcnJvcl9tZXNzYWdlIiwiU3BhY2VVc2VycyIsIlVzZXJzIiwiRm9ybXMiLCJGbG93cyIsIk9yZ2FuaXphdGlvbnMiLCJQb3NpdGlvbnMiLCJSb2xlcyIsIkNhdGVnb3JpZXMiLCJTcGFjZXMiLCJoYXNoRGF0YSIsImFwcHJvdmVfZnJvbV9jbGllbnQiLCJ3b3JrZmxvd19lbmdpbmUiLCJpbnNlcnRlZF9pbnN0YW5jZXMiLCJpbnN0YW5jZV9mcm9tX2NsaWVudCIsIm5ld19pbnMiLCJuZXdfaW5zX2lkIiwiY3JlYXRlX2luc3RhbmNlIiwiaW5zZXJ0cyIsImRlbGV0ZV9vYmoiLCJnZXRTcGFjZSIsInN1Ym1pdF9pbnN0YW5jZSIsImFsZXJ0cyIsImRpc3RyaWJ1dGVkSW5zdGFuY2VzUmVtaW5kIiwiZmxvd192ZXJfZW5kX3N0ZXAiLCJmbG93X3ZlcnMiLCJpbnN0YW5jZV9mbG93X3ZlciIsImluc3RhbmNlX3RyYWNlIiwib2xkX2NjX3VzZXJzIiwib2xkX2luYm94X3VzZXJzIiwib2xkX291dGJveF91c2VycyIsInNwYWNlX3VzZXJfb3JnX2luZm8iLCJ0ZW1wVXNlcnMiLCJ0ZXJtaW5hdGVfcmVhc29uIiwiZl92ZXIiLCJmX3N0ZXAiLCJjb3N0X3RpbWUiLCJuZnRfYXBwcm92ZSIsImN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCIsInNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIiLCJfdXNlcnMiLCJhcHByb3ZlX3VzZXJzX2hhbmRsZXJzIiwiYXNzaWduZWVfYXBwciIsImN1cnJlbnRfc3BhY2VfdXNlciIsImN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24iLCJpbmJveF91c2Vyc19mcm9tX2NsaWVudCIsImxhc3RfdHJhY2VfZnJvbV9jbGllbnQiLCJub3RfaW5faW5ib3hfdXNlcnMiLCJyZWFzc2lnbl9yZWFzb24iLCJkaWZmZXJlbmNlIiwibmV3X2FwcHIiLCJuZXdfdXNlciIsInVzZXJfb3JnYW5pemF0aW9uIiwiYWgiLCJjdXJyZW50X3NldHAiLCJjdXJyZW50X3NldHBfdHlwZSIsIm5leHRfc3RlcCIsIm5leHRfc3RlcF9uYW1lIiwibmV4dF9zdGVwX3R5cGUiLCJyZWxvY2F0ZV9hcHByIiwicmVsb2NhdGVfY29tbWVudCIsInJlbG9jYXRlX2luYm94X3VzZXJzIiwicmVsb2NhdGVfbmV4dF9zdGVwIiwic2FtZVRyYWNlcyIsInNpZ25TaG93QXBwcm92ZUlkIiwidGEiLCJ0aSIsImdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdCIsImxpbmVzIiwiaXNJbnN0YW5jZUZpbmlzaGVkQW5kTm90QXJjaGlldmVkIiwiaXNJbnN0YW5jZVN1Ym1pdHRlck9yQXBwbGljYW50T3JTcGFjZUFkbWluIiwiY29ubmVjdEhhbmRsZXJzIiwidXNlIiwiZWpzIiwiZWpzTGludCIsImVuZF9kYXRlIiwiZXJyb3Jfb2JqIiwiZm9ybV9uYW1lIiwiaW5zX3RvX3hscyIsImxhc3RfbW9udGhfZGF0ZSIsInJldCIsInRpbWV6b25lb2Zmc2V0IiwicGFyc2VJbnQiLCIkZ3RlIiwiJGFuZCIsImxpbnQiLCJhdXRoX3Rva2VuIiwiZm9ybWlkcyIsImlzX2FkbWluIiwiZ2V0X1NwYWNlQ2hhbmdlU2V0IiwibGFzdF90cmFjZV9pZCIsIm9yZ19pbmZvIiwicHJldmlvdXNfc3RlcCIsInByZXZpb3VzX3RyYWNlIiwicHJldmlvdXNfdHJhY2VfYXBwcm92ZXMiLCJwcmV2aW91c190cmFjZV9pZCIsInByZXZpb3VzX3RyYWNlX25hbWUiLCJwcmV2aW91c190cmFjZV9zdGVwX2lkIiwicmV0cmlldmVfYXBwcm92ZSIsInJldHJpZXZlX2NvbW1lbnQiLCJyZXRyaWV2ZV90eXBlIiwidGhlX3RyYWNlIiwicmV0cmlldmVfYXBwciIsIm9sZF9zcGFjZV9pZCIsImZvcndhcmRfdXNlcnMiLCJub19wZXJtaXNzaW9uX3VzZXJfaWRzIiwidWlkIiwibm9fcGVybWlzc2lvbl91c2Vyc19uYW1lIiwibmV3X2luc19pZHMiLCJjdXJyZW50X3RyYWNlX2lkIiwiZm9yd2FyZF9hcHByb3ZlcyIsIm9sZF92YWx1ZXMiLCJuZXdfdmFsdWVzIiwib2xkX2Zvcm0iLCJvbGRfZm9ybV92ZXJzaW9uIiwib2xkX2ZpZWxkcyIsImNvbW1vbl9maWVsZHMiLCJzZWxlY3RfdG9faW5wdXRfZmllbGRzIiwiZXhpc3RzX2ZpZWxkIiwic2VsZWN0X2lucHV0X2ZpZWxkIiwib2xkX3YiLCJvbGRfbXVsdGlTZWxlY3RlZCIsIm5ld19tdWx0aVNlbGVjdGVkIiwib2xkX3RhYmxlX3Jvd192YWx1ZXMiLCJuZXdfdGFibGVfcm93X3ZhbHVlcyIsInJlY29yZF9uZWVkIiwiRk9ORFNJRCIsImlzY3JpcHQiLCJjYXRlZ29yeV9uYW1lIiwiZ2V0Q2F0ZWdvcnkiLCJpbnNfb2JqIiwiX21ha2VOZXdJRCIsInN1Ym1pdHRlcl9uYW1lIiwiZm9yd2FyZF9mcm9tX2luc3RhbmNlIiwidHJhY2Vfb2JqIiwiYXBwcl9vYmoiLCJhdXRvX3JlbWluZCIsImZsb3dfbmFtZSIsImNvbGxlY3Rpb24iLCJpbnN0YW5jZUh0bWwiLCJpbnN0YW5jZUZpbGUiLCJGUyIsIkZpbGUiLCJhdHRhY2hEYXRhIiwiZnJvbSIsInNpemUiLCJvd25lciIsIm93bmVyX25hbWUiLCJmaWxlT2JqIiwibWFpbiIsIm5ld0ZpbGUiLCJvcmlnaW5hbCIsInVwZGF0ZV9yZWFkIiwicmVkaXJlY3RUbyIsInJlZGlyZWN0VG9VcmwiLCJyZXFfYXN5bmMiLCJzdGF0dXMiLCJzZW5kIiwid3JpdGVIZWFkIiwiYXR0YWNoIiwibm9fbGltaXRfY291bnQiLCJyZWY1IiwicmVzdWx0X2luc3RhbmNlcyIsInNwYWNlX25hbWVzIiwic3BlY2lhbF91c2VyX2lkIiwidXNlcmlkIiwidXNlcm5hbWUiLCJ3b3JrZmxvd19jYXRlZ29yaWVzIiwicmVmNiIsInJlZjciLCJhdXRoVG9rZW4iLCJpc19wYWlkIiwiYXBwbGljYW50SW5mbyIsImFwcGxpY2FudF91c2VybmFtZSIsInVzZXJfYWNjZXB0ZWQiLCJwZXJtX3VzZXJzIiwibmV4dF9zdGVwX2lkIiwicmVxdWlyZV9idXRfZW1wdHlfZmllbGRzIiwiZ2V0Rm9ybSIsImNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlIiwic3RlcG5hbWUiLCIkZWxlbU1hdGNoIiwicGFyc2VGaWxlcyIsIm1pbWVUeXBlIiwiZmlsZW5hbWUiLCJ0b0xvd2VyQ2FzZSIsInBvcCIsImRlY29kZVVSSUNvbXBvbmVudCIsImlzX3ByaXZhdGUiLCJsb2NrZWRfYnkiLCJsb2NrZWRfYnlfbmFtZSIsImF0dGFjaF9pZCIsImNvbHVtbnMiLCJmb3J3YXJkX2lucyIsImZvcndhcmRfaW5zX3ZhbHVlcyIsIm9yaWdpbmFsX2lucyIsIm9yaWdpbmFsX2luc19maWVsZHMiLCJvcmlnaW5hbF9pbnNfZm9ybSIsIm9yaWdpbmFsX2luc19pZCIsIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyIsInJlZjgiLCJyZWY5Iiwicm93X2RhdGEiLCJzdWJUYWJsZSIsInRhYmxlX2RhdGEiLCJjb2x1bW4iLCJvcmlnaW5hbF9pbnNfZmllbGQiLCJvaCIsImFfdGFibGUiLCJhX3RhYmxlX3ZhbHVlcyIsImNvbHVtbl9saXN0IiwiZF9pbnMiLCJkX2luc19maWVsZHMiLCJkX2luc19mb3JtIiwiZF9pbnNfdmFsdWVzIiwiZF9tYXRjaF9jb2wiLCJkX21hdGNoX2NvbF9maWVsZCIsImRfbWF0Y2hfY29sX2ZpZWxkcyIsImRfc3VidGFibGVfZmllbGRzIiwiZF90YWJsZSIsImRfdGFibGVfdmFsdWVzIiwib19pbnMiLCJvX2luc19maWVsZHMiLCJvX2luc19mb3JtIiwib19pbnNfaWQiLCJvX21hdGNoX2NvbCIsIm9fbWF0Y2hfY29sX2ZpZWxkIiwib19tYXRjaF9jb2xfZmllbGRzIiwib19zdWJ0YWJsZV9maWVsZHMiLCJvX3RhYmxlIiwicmVmMTAiLCJyZWYxMSIsInJlZjEyIiwicmVmMTMiLCJyZWYxNCIsInJlZjE1IiwicmVmMTYiLCJyZWYxNyIsInJlZjE4IiwicmVmMTkiLCJyZWYyMCIsInJlZjIxIiwicmVmMjIiLCJvVGFibGUiLCJkVGFibGUiLCJvTWF0Y2hDb2wiLCJkTWF0Y2hDb2wiLCJyZWZpbGxDb2wiLCJhVGFibGUiLCJvX2luc19maWVsZCIsImRfaW5zX2ZpZWxkIiwiZGgiLCJhX3JvdyIsInJlc3VsdHMiLCJjb2wiLCJjb2xzIiwiZF9jb2wiLCJkX2NvbF9maWVsZHMiLCJvX2NvbCIsIm9fY29sX2ZpZWxkcyIsImRfcm93IiwiaGFzX29iaiIsIm9fcm93IiwibmV3X3RhYmxlX3ZhbHVlcyIsInNvcnRfY29sIiwic3ViX3RhYmxlIiwic3ViX3RhYmxlX3ZhbHVlcyIsInN1bV9jb2wiLCJzdW1Db2wiLCJzb3J0Q29sIiwic2luZ2xlQ29scyIsIkpzb25Tb3J0IiwianNvbkFyciIsImFzYyIsImoiLCJqbCIsInRlbXAiLCJpc0RldmVsb3BtZW50IiwidG9fdXNlcnMiLCJvcmdJZHMiLCJUYWJ1bGFyVGFibGVzIiwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciIsIlRhYnVsYXIiLCJUYWJsZSIsIm9yZGVyYWJsZSIsInJlbmRlciIsImlucHV0Iiwic3RlcF9jdXJyZW50X25hbWUiLCJkb20iLCJsZW5ndGhDaGFuZ2UiLCJleHRyYUZpZWxkcyIsInBhZ2VMZW5ndGgiLCJpbmZvIiwic2VhcmNoaW5nIiwicmVzcG9uc2l2ZSIsImRldGFpbHMiLCJhdXRvV2lkdGgiLCJjaGFuZ2VTZWxlY3RvciIsImN1clNwYWNlVXNlciIsImZsIiwiR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMiLCJfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMiLCJfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zIiwiX2hhbmRsZUxpc3RGaWVsZHMiLCJpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyIiwibmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIiLCJ1cGRhdGVUYWJ1bGFyVGl0bGUiLCJzdWJzIiwiU3Vic01hbmFnZXIiLCJpbnNfZmllbGRzIiwicHViIiwib25VbmxvYWQiLCJpbnN0YW5jZV9saXN0IiwiX3RhYmxlQ29sdW1ucyIsImRyYXdDYWxsYmFjayIsImVsbGlwc2lzTGluayIsImVtcHR5VGQiLCJjb2xTcGFuIiwiaXNQYWQiLCJwZXJmZWN0U2Nyb2xsYmFyIiwib0luc3RhbmNlIiwiYXR0ciIsImNsaWNrIiwiZ29QYWdlIiwiaGVpZ2h0IiwicGFnZXMiLCJNYXRoIiwiY2VpbCIsImZuUmVjb3Jkc0Rpc3BsYXkiLCJfaURpc3BsYXlMZW5ndGgiLCJEYXRhVGFibGUiLCJwYWdlIiwiZHJhdyIsImJsdXIiLCJjdXJyZW50UGFnZSIsImtleWRvd24iLCJrZXlDb2RlIiwiY3JlYXRlZFJvdyIsInJvdyIsImRhdGFJbmRleCIsIkZsb3dSb3V0ZXIiLCJzZXRBdHRyaWJ1dGUiLCJhZ2VudF92aWV3IiwiY2NfdmlldyIsImluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MiLCJtb2RpZmllZEZyb21Ob3ciLCJtb2RpZmllZFN0cmluZyIsInByaW9yaXR5SWNvbiIsInByaW9yaXR5SWNvbkNsYXNzIiwicHJpb3JpdHlWYWx1ZSIsInN0ZXBfY3VycmVudF9uYW1lX3ZpZXciLCJ1bnJlYWQiLCJtb21lbnRSZWFjdGl2ZUZyb21Ob3ciLCJ2aXNpYmxlIiwiY2NfdGFnIiwibGVuZ3RoTWVudSIsInBhZ2luZ1R5cGUiLCJpc19saXN0X2Rpc3BsYXkiLCJmaWx0ZXJlZFJlY29yZElkcyIsIm9sZF9maWx0ZXJlZFJlY29yZElkcyIsImZpbmRPcHRpb25zIiwiYWdfc29ydCIsImFnZ3JlZ2F0ZV9vcGVyYXRpb24iLCJhc3luY19hZ2dyZWdhdGUiLCJzMV8wIiwiczFfMSIsIiRwcm9qZWN0IiwiJHVud2luZCIsIiRmaXJzdCIsIiRzb3J0IiwiJHNraXAiLCIkbGltaXQiLCJjYiIsIiRsYXN0Iiwib3V0Ym94X2luc3RhbmNlcyIsImZsb3dJbnN0YW5jZXMiLCJSZWFjdGl2ZVZhciIsImF1dG9ydW4iLCJfY2hhbmdlT3JkZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLGdCQUFKO0FBQXFCQyxNQUFNLENBQUNDLElBQVAsQ0FBWSxvQ0FBWixFQUFpRDtBQUFDRixrQkFBZ0IsQ0FBQ0csQ0FBRCxFQUFHO0FBQUNILG9CQUFnQixHQUFDRyxDQUFqQjtBQUFtQjs7QUFBeEMsQ0FBakQsRUFBMkYsQ0FBM0Y7QUFDckJILGdCQUFnQixDQUFDO0FBQ2hCLG1CQUFpQixRQUREO0FBRWhCSSxTQUFPLEVBQUUsUUFGTztBQUdoQixZQUFVLFNBSE07QUFJaEJDLFFBQU0sRUFBRSxRQUpRO0FBS2hCLGdCQUFjO0FBTEUsQ0FBRCxFQU1iLGtCQU5hLENBQWhCLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNEQUMsV0FBVyxFQUFYO0FBRUEsS0FBQ0MsU0FBRCxHQUFhLEVBQWI7QUFFQSxLQUFDQyxjQUFELEdBQWtCLEVBQWxCO0FBRUEsS0FBQ0Msb0JBQUQsR0FBd0IsRUFBeEI7QUFFQSxLQUFDQywwQkFBRCxHQUE4QixFQUE5QjtBQUVBLEtBQUNDLGdCQUFELEdBQW9CLEVBQXBCO0FBRUEsS0FBQ0MsZ0JBQUQs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IHsgY2hlY2tOcG1WZXJzaW9ucyB9IGZyb20gJ21ldGVvci90bWVhc2RheTpjaGVjay1ucG0tdmVyc2lvbnMnO1xyXG5jaGVja05wbVZlcnNpb25zKHtcclxuXHRcIm5vZGUtc2NoZWR1bGVcIjogXCJeMS4zLjFcIixcclxuXHRjb29raWVzOiBcIl4wLjYuMlwiLFxyXG5cdFwieG1sMmpzXCI6IFwiXjAuNC4xOVwiLFxyXG5cdG1rZGlycDogXCJeMC4zLjVcIixcclxuXHRcInNwcmludGYtanNcIjogXCJeMS4wLjNcIixcclxufSwgJ3N0ZWVkb3M6d29ya2Zsb3cnKTsiLCJXb3JrZmxvdyA9IHt9XHJcblxyXG5ASW1hZ2VTaWduID0ge307XHJcblxyXG5AVHJhY2VzVGVtcGxhdGUgPSB7fTtcclxuXHJcbkBJbnN0YW5jZWZvcm1UZW1wbGF0ZSA9IHt9O1xyXG5cclxuQEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlID0ge307XHJcblxyXG5ASW5zdGFuY2VTaWduVGV4dCA9IHt9XHJcblxyXG5AUmVsYXRlZEluc3RhbmNlcyA9IHt9XHJcblxyXG5AUmVsYXRlZFJlY29yZHMgPSB7fVxyXG5cclxuQEluc3RhbmNlTWFjcm8gPSB7Y29udGV4dDoge319XHJcblxyXG5AVHJhY2VzTWFuYWdlciA9IHt9O1xyXG5cclxuaWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0TWV0ZW9yLnN0YXJ0dXAgLT5cclxuXHRcdHdvcmtmbG93X3RocmVlX2NvbHVtbnMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIndvcmtmbG93X3RocmVlX2NvbHVtbnNcIilcclxuXHRcdGlmIHdvcmtmbG93X3RocmVlX2NvbHVtbnMgYW5kIHdvcmtmbG93X3RocmVlX2NvbHVtbnMgPT0gXCJvZmZcIlxyXG5cdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcInRocmVlLWNvbHVtbnNcIilcclxuXHRcdGVsc2VcclxuXHRcdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpXHJcblxyXG5cclxuSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyA9IChmaWVsZF9mb3JtdWxhKS0+XHJcblx0cmV0dXJuIChmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3RyYWNlcy5cIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt5aWppYW5sYW46XCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntcXFwieWlqaWFubGFuXFxcIjpcIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwieyd5aWppYW5sYW4nOlwiKSA+IC0xKVxyXG5cclxuSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZCA9IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cclxuXHRmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xyXG5cclxuXHRfZm9ybV92ZXJzaW9uID0ge31cclxuXHJcblx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRfZm9ybV92ZXJzaW9uID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGZvcm19KSwgZm9ybV92ZXJzaW9uKVxyXG5cdGVsc2VcclxuXHRcdF9mb3JtX3ZlcnNpb24gPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe19pZDogZm9ybV92ZXJzaW9uLCBmb3JtOiBmb3JtfSlcclxuXHJcblx0ZmllbGRzID0gX2Zvcm1fdmVyc2lvbj8uZmllbGRzIHx8IFtdXHJcblxyXG5cdGZpZWxkcy5mb3JFYWNoIChmKS0+XHJcblx0XHRpZiBmLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRjb25zb2xlLmxvZyAnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnXHJcblx0XHRlbHNlIGlmIGYudHlwZSA9PSAnc2VjdGlvbidcclxuXHRcdFx0Zj8uZmllbGRzPy5mb3JFYWNoIChmMSktPlxyXG5cdFx0XHRcdGZpZWxkX2Zvcm11bGFzLnB1c2ggZjEuZm9ybXVsYVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYuZm9ybXVsYVxyXG5cclxuXHRfLnNvbWUgZmllbGRfZm9ybXVsYXMsIChmaWVsZF9mb3JtdWxhKS0+XHJcblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxyXG5cclxuIiwiICAgICAgICAgICAgIFxuXG5Xb3JrZmxvdyA9IHt9O1xuXG50aGlzLkltYWdlU2lnbiA9IHt9O1xuXG50aGlzLlRyYWNlc1RlbXBsYXRlID0ge307XG5cbnRoaXMuSW5zdGFuY2Vmb3JtVGVtcGxhdGUgPSB7fTtcblxudGhpcy5JbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZSA9IHt9O1xuXG50aGlzLkluc3RhbmNlU2lnblRleHQgPSB7fTtcblxudGhpcy5SZWxhdGVkSW5zdGFuY2VzID0ge307XG5cbnRoaXMuUmVsYXRlZFJlY29yZHMgPSB7fTtcblxudGhpcy5JbnN0YW5jZU1hY3JvID0ge1xuICBjb250ZXh0OiB7fVxufTtcblxudGhpcy5UcmFjZXNNYW5hZ2VyID0ge307XG5cbmlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHdvcmtmbG93X3RocmVlX2NvbHVtbnM7XG4gICAgd29ya2Zsb3dfdGhyZWVfY29sdW1ucyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwid29ya2Zsb3dfdGhyZWVfY29sdW1uc1wiKTtcbiAgICBpZiAod29ya2Zsb3dfdGhyZWVfY29sdW1ucyAmJiB3b3JrZmxvd190aHJlZV9jb2x1bW5zID09PSBcIm9mZlwiKSB7XG4gICAgICByZXR1cm4gJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJChcImJvZHlcIikuYWRkQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpO1xuICAgIH1cbiAgfSk7XG59XG5cbkluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcgPSBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gIHJldHVybiAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3lpamlhbmxhbjpcIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntcXFwieWlqaWFubGFuXFxcIjpcIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInsneWlqaWFubGFuJzpcIikgOiB2b2lkIDApID4gLTE7XG59O1xuXG5JbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkID0gZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gIHZhciBfZm9ybV92ZXJzaW9uLCBmaWVsZF9mb3JtdWxhcywgZmllbGRzO1xuICBmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuICBfZm9ybV92ZXJzaW9uID0ge307XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBfZm9ybV92ZXJzaW9uID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybVxuICAgIH0pLCBmb3JtX3ZlcnNpb24pO1xuICB9IGVsc2Uge1xuICAgIF9mb3JtX3ZlcnNpb24gPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmb3JtX3ZlcnNpb24sXG4gICAgICBmb3JtOiBmb3JtXG4gICAgfSk7XG4gIH1cbiAgZmllbGRzID0gKF9mb3JtX3ZlcnNpb24gIT0gbnVsbCA/IF9mb3JtX3ZlcnNpb24uZmllbGRzIDogdm9pZCAwKSB8fCBbXTtcbiAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgIHZhciByZWY7XG4gICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZScpO1xuICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmMS5mb3JtdWxhKTtcbiAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmLmZvcm11bGEpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfLnNvbWUoZmllbGRfZm9ybXVsYXMsIGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgfSk7XG59O1xuIiwiZGIuYXV0aF90b2tlbnMgPSBuZXcgTWV0ZW9yLkNvbGxlY3Rpb24oJ2F1dGhfdG9rZW5zJykiLCJJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUgPSB7fTtcclxuXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiXCJcIlxyXG5cdDx0cj5cclxuXHRcdDx0ZCBjbGFzcz1cImlucy1hdHRhY2gtdmlld1wiPlxyXG5cdFx0XHQ8YSBocmVmPVwie3tpbnNfYXR0YWNoX2Rvd25sb2FkX3VybCBfaWQgYWJzb2x1dGV9fVwiIGNsYXNzPVwiaW5zX2F0dGFjaF9ocmVmXCIgdGFyZ2V0PVwiX3BhcmVudFwiIGRhdGEtbmFtZT1cInt7dGhpcy5uYW1lfX1cIiBkYXRhLXR5cGU9XCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XCIgZGF0YS1pZD1cInt7X2lkfX1cIj57e3RoaXMubmFtZX19PC9hPlxyXG5cdFx0PC90ZD5cclxuXHQ8L3RyPlxyXG5cIlwiXCJcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZlNlbGVjdFVzZXJSZWFkID0gXCJcIlwiXHJcblx0PGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XHJcblwiXCJcIlxyXG5cclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cFJlYWQgPSBcIlwiXCJcclxuXHQ8ZGl2IGNsYXNzPSdmb3JtLWdyb3VwJz5cclxuXHRcdHt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cclxuXHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlY3Rpb24nfX1cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxyXG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3RhYmxlJ319XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXCI+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCIgc3R5bGU9XCJwYWRkaW5nOjBweDtcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiID5cclxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJyZWFkb25seS10YWJsZVwiIHN0eWxlPVwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cInt7dGhpcy5jb2RlfX1UYWJsZVwiIG5hbWU9XCJ7e3RoaXMuY29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3t0aGlzLm5hbWV9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0aGVhZCBpZD1cInt7dGhpcy5uYW1lfX1UaGVhZFwiIG5hbWU9XCJ7e3RoaXMubmFtZX19VGhlYWRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVwie3t0aGlzLm5hbWV9fVRib2R5XCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UYm9keVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RhYmxlPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxyXG5cdFx0XHRcdFx0XHQ8bGFiZWw+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cclxuXHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdHt7L2lmfX1cclxuXHRcdHt7L3dpdGh9fVxyXG5cdDwvZGl2PlxyXG5cIlwiXCJcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cCA9IFwiXCJcIlxyXG5cclxuXHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XHJcblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxyXG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcbiAgXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIiBzdHlsZT1cInBhZGRpbmc6MHB4O1wiPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImRlc2NyaXB0aW9uXCI+e3t7ZGVzY3JpcHRpb259fX08L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInJlYWRvbmx5LXRhYmxlXCIgc3R5bGU9XCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDx0YWJsZSB0eXBlPSd0YWJsZScgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcIiBzdHlsZT0nbWFyZ2luLWJvdHRvbTowcHg7JyB7e3RoaXMuYXR0c319IGlkPVwie3t0aGlzLmNvZGV9fVRhYmxlXCIgbmFtZT1cInt7dGhpcy5jb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e3RoaXMubmFtZX19XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVwie3t0aGlzLm5hbWV9fVRoZWFkXCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UaGVhZFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90aGVhZD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XCJ7e3RoaXMubmFtZX19VGJvZHlcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRib2R5XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdpbnB1dCd9fVxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiIGRhdGEtcmVxdWlyZWQ9XCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cIj5cclxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIHt7Z2V0UGVybWlzc2lvbnMgY29kZX19IGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbnVtYmVyJ319XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZGF0ZSd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS10eXBlPVwiZGF0ZVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZGF0ZVRpbWUnfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtdHlwZT0nZGF0ZXRpbWUnIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAncGFzc3dvcmQnfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlbGVjdCd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c2VsZWN0IG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8b3B0aW9uIHZhbHVlPVwie3t2YWx1ZX19XCI+e3tsYWJlbH19PC9vcHRpb24+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvc2VsZWN0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdyYWRpbyd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWYtcmFkaW8tZ3JvdXBcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxyXG4gICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cInJhZGlvLWlubGluZSBmaXgtaW5kZW50XCI+PGlucHV0IHR5cGU9XCJyYWRpb1wiIHZhbHVlPVwie3t2YWx1ZX19XCIgbmFtZT1cInt7Li4vY29kZX19XCIgY2xhc3M9XCJyYWRpby1pbmxpbmUgZml4LWluZGVudFwiPiB7e2xhYmVsfX08L2xhYmVsPlxyXG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cclxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdtdWx0aVNlbGVjdCd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWYtY2hlY2tib3gtZ3JvdXBcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwie3t2YWx1ZX19XCIgbmFtZT1cInt7Li4vY29kZX19XCIgY2xhc3M9XCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFwiPiB7e2xhYmVsfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd1cmwnfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ1cmxcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdlbWFpbCd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImVtYWlsXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnY2hlY2tib3gnfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNoZWNrYm94XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwidHJ1ZVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGNsYXNzPVwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcIj48L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J3t7Z2V0Q2ZDbGFzcyB0aGlzfX0gZm9ybS1jb250cm9sJyByZWFkb25seSBkaXNhYmxlZD57e3tnZXRWYWx1ZSBjb2RlfX19PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdHt7L2lmfX1cclxuXHRcdHt7L3dpdGh9fVxyXG5cIlwiXCJcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUgPSAodGVtcGFsdGVOYW1lLCBzdGVlZG9zRGF0YSkgLT5cclxuXHR0ZW1wbGF0ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdXHJcblxyXG5cdHRlbXBsYXRlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7aXNCb2R5OiB0cnVlfSk7XHJcblxyXG5cdHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRlbXBsYXRlQ29tcGlsZWQpO1xyXG5cclxuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdID0gbmV3IEJsYXplLlRlbXBsYXRlKHRlbXBhbHRlTmFtZSwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbik7XHJcblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0ID0gKHN0ZWVkb3NEYXRhKS0+XHJcblx0aW5zdGFuY2VTaWduVGV4dEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9zaWduX3RleHQuaHRtbCcpXHJcblxyXG5cdGluc3RhbmNlU2lnblRleHRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW5zdGFuY2VTaWduVGV4dEh0bWwsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0aW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQpO1xyXG5cclxuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VTaWduVGV4dFwiLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24pO1xyXG5cdFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxyXG5cdFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuaGVscGVycyBJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnNcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24gPSAoc3RlZWRvc0RhdGEpIC0+XHJcblx0aW1hZ2VTaWduSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2ltYWdlX3NpZ24uaHRtbCcpXHJcblx0aW1hZ2VTaWduQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGltYWdlU2lnbkh0bWwsIHtpc0JvZHk6IHRydWV9KTtcclxuXHRpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW1hZ2VTaWduQ29tcGlsZWQpO1xyXG5cdFRlbXBsYXRlLmltYWdlU2lnbiA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImltYWdlU2lnblwiLCBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbik7XHJcblx0VGVtcGxhdGUuaW1hZ2VTaWduLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHRUZW1wbGF0ZS5pbWFnZVNpZ24uaGVscGVycyBJbWFnZVNpZ24uaGVscGVyc1xyXG5cclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0ID0gKHN0ZWVkb3NEYXRhKSAtPlxyXG5cdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZlNlbGVjdFVzZXJSZWFkXCIsIHN0ZWVkb3NEYXRhKTtcclxuXHJcblx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBcIiwgc3RlZWRvc0RhdGEpO1xyXG5cclxuXHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBSZWFkXCIsIHN0ZWVkb3NEYXRhKTtcclxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJpbnN0YW5jZV9hdHRhY2htZW50XCIsIHthYnNvbHV0ZTogc3RlZWRvc0RhdGEuYWJzb2x1dGV9KTtcclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24oc3RlZWRvc0RhdGEpXHJcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dChzdGVlZG9zRGF0YSlcclxuXHJcbmdldExpbmtUZXh0ID0gKGl0ZW0sIGxhYmVsLCBkZXRhaWxfdXJsKS0+XHJcblx0aWYgZGV0YWlsX3VybFxyXG5cdFx0ZGV0YWlsX3VybCA9IGRldGFpbF91cmwucmVwbGFjZShcIntfaWR9XCIsIGl0ZW0uX2lkKVxyXG5cdFx0aWYgIS9eaHR0cChzPyk6XFwvXFwvLy50ZXN0KGRldGFpbF91cmwpXHJcblx0XHRcdGRldGFpbF91cmwgPSBTdGVlZG9zLmFic29sdXRlVXJsKGRldGFpbF91cmwpXHJcblx0XHRyZXR1cm4gJzxhIGhyZWY9XCInK2RldGFpbF91cmwrJ1wiIHRhcmdldD1cIl9ibGFua1wiPicrbGFiZWwrJzwvYT4nO1xyXG5cdGVsc2VcclxuXHRcdHJldHVybiBsYWJlbFxyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlID0gKHZhbHVlLCBmaWVsZCwgbG9jYWxlLCB1dGNPZmZzZXQpIC0+XHJcblx0aWYgIXZhbHVlICYmIHZhbHVlICE9IGZhbHNlXHJcblx0XHRyZXR1cm4gJydcclxuXHRzd2l0Y2ggZmllbGQudHlwZVxyXG5cdFx0d2hlbiAnZW1haWwnXHJcblx0XHRcdHZhbHVlID0gaWYgdmFsdWUgdGhlbiAnPGEgaHJlZj1cXCdtYWlsdG86JyArIHZhbHVlICsgJ1xcJz4nICsgdmFsdWUgKyAnPC9hPicgZWxzZSAnJ1xyXG5cdFx0d2hlbiAndXJsJ1xyXG5cdFx0XHRpZiB2YWx1ZVxyXG5cdFx0XHRcdGlmIHZhbHVlLmluZGV4T2YoXCJodHRwXCIpID09IDBcclxuXHRcdFx0XHRcdHRyeVxyXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IFwiPGEgaHJlZj0nXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XHJcblx0XHRcdFx0XHRjYXRjaCBlXHJcblx0XHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XHJcblxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR2YWx1ZSA9ICcnXHJcblx0XHR3aGVuICdncm91cCdcclxuXHRcdFx0aWYgZmllbGQuaXNfbXVsdGlzZWxlY3RcclxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5nZXRQcm9wZXJ0eShcImZ1bGxuYW1lXCIpLnRvU3RyaW5nKClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/LmZ1bGxuYW1lXHJcblx0XHR3aGVuICd1c2VyJ1xyXG5cdFx0XHRpZiBmaWVsZC5pc19tdWx0aXNlbGVjdFxyXG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/LmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5uYW1lXHJcblx0XHR3aGVuICdwYXNzd29yZCdcclxuXHRcdFx0dmFsdWUgPSAnKioqKioqJ1xyXG5cdFx0d2hlbiAnY2hlY2tib3gnXHJcblx0XHRcdGlmIHZhbHVlICYmIHZhbHVlICE9ICdmYWxzZSdcclxuXHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiLCB7fSwgbG9jYWxlKVxyXG5cdFx0d2hlbiAnZGF0ZVRpbWUnXHJcblx0XHRcdGlmIHZhbHVlICYmIHZhbHVlLmxlbmd0aCA9PSAxNlxyXG5cdFx0XHRcdHQgPSB2YWx1ZS5zcGxpdChcIlRcIilcclxuXHRcdFx0XHR0MCA9IHRbMF0uc3BsaXQoXCItXCIpO1xyXG5cdFx0XHRcdHQxID0gdFsxXS5zcGxpdChcIjpcIik7XHJcblxyXG5cdFx0XHRcdHllYXIgPSB0MFswXTtcclxuXHRcdFx0XHRtb250aCA9IHQwWzFdO1xyXG5cdFx0XHRcdGRhdGUgPSB0MFsyXTtcclxuXHRcdFx0XHRob3VycyA9IHQxWzBdO1xyXG5cdFx0XHRcdHNlY29uZHMgPSB0MVsxXTtcclxuXHJcblx0XHRcdFx0dmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSlcclxuXHJcblx0XHRcdHZhbHVlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUodmFsdWUsIHV0Y09mZnNldCk7XHJcblx0XHR3aGVuICdpbnB1dCdcclxuXHRcdFx0aWYgZmllbGQuaXNfdGV4dGFyZWFcclxuXHRcdFx0XHR2YWx1ZSA9IFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKHZhbHVlKSlcclxuXHRcdHdoZW4gJ251bWJlcidcclxuXHRcdFx0aWYgdmFsdWUgb3IgdmFsdWUgPT0gMFxyXG5cdFx0XHRcdGlmIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJ1xyXG5cdFx0XHRcdFx0dmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKVxyXG5cdFx0XHRcdHZhbHVlID0gdmFsdWUudG9GaXhlZChmaWVsZC5kaWdpdHMpXHJcblx0XHRcdFx0dmFsdWUgPSBTdGVlZG9zLm51bWJlclRvU3RyaW5nIHZhbHVlLCBsb2NhbGVcclxuXHRcdHdoZW4gJ29kYXRhJ1xyXG5cdFx0XHRkZXRhaWxfdXJsID0gZmllbGQuZGV0YWlsX3VybFxyXG5cdFx0XHRpZiBmaWVsZC5pc19tdWx0aXNlbGVjdFxyXG5cdFx0XHRcdHZhbHVlID0gXy5tYXAgdmFsdWUsIChpdGVtKS0+XHJcblx0XHRcdFx0XHRyZXR1cm4gZ2V0TGlua1RleHQoaXRlbSwgaXRlbVsnQGxhYmVsJ10sIGRldGFpbF91cmwpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR2YWx1ZSA9IGdldExpbmtUZXh0KHZhbHVlLCB2YWx1ZVsnQGxhYmVsJ10sIGRldGFpbF91cmwpXHJcblxyXG5cdHJldHVybiB2YWx1ZTtcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCA9IChmaWVsZHMsIGNvZGUpIC0+XHJcblx0ZmllbGQgPSBmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSlcclxuXHRpZiBmaWVsZFxyXG5cdFx0aWYgZmllbGQubmFtZVxyXG5cdFx0XHRyZXR1cm4gZmllbGQubmFtZVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gZmllbGQuY29kZVxyXG5cclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uID0gKGluc3RhbmNlKS0+XHJcblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XHJcblxyXG5cdGZvcm1fdmVyc2lvbiA9IHt9XHJcblxyXG5cdGZvcm1fZmllbGRzID0gW107XHJcblxyXG5cdGlmIGZvcm0uY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZm9ybV92ZXJzaW9uXHJcblx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnRcclxuXHRlbHNlXHJcblx0XHRmb3JtX3ZlcnNpb24gPSBfLndoZXJlKGZvcm0uaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZvcm1fdmVyc2lvbn0pWzBdXHJcblxyXG5cdGZvcm1fdmVyc2lvbi5maWVsZHMuZm9yRWFjaCAoZmllbGQpLT5cclxuXHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nXHJcblx0XHRcdGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xyXG5cdFx0XHRpZiBmaWVsZC5maWVsZHNcclxuXHRcdFx0XHRmaWVsZC5maWVsZHMuZm9yRWFjaCAoZikgLT5cclxuXHRcdFx0XHRcdGZvcm1fZmllbGRzLnB1c2goZik7XHJcblx0XHRlbHNlIGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRmaWVsZFsnc2ZpZWxkcyddID0gZmllbGRbJ2ZpZWxkcyddXHJcblx0XHRcdGRlbGV0ZSBmaWVsZFsnZmllbGRzJ11cclxuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XHJcblx0XHRlbHNlXHJcblx0XHRcdGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xyXG5cclxuXHRmb3JtX3ZlcnNpb24uZmllbGRzID0gZm9ybV9maWVsZHM7XHJcblxyXG5cdHJldHVybiBmb3JtX3ZlcnNpb247XHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24gPSAoaW5zdGFuY2UpLT5cclxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcclxuXHRmbG93X3ZlcnNpb24gPSB7fVxyXG5cdGlmIGZsb3cuY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uXHJcblx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnRcclxuXHRlbHNlXHJcblx0XHRmbG93X3ZlcnNpb24gPSBfLndoZXJlKGZsb3cuaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZsb3dfdmVyc2lvbn0pWzBdXHJcblxyXG5cdHJldHVybiBmbG93X3ZlcnNpb247XHJcblxyXG5cclxuX2dldFZpZXdIdG1sID0gKHBhdGgpIC0+XHJcblx0dmlld0h0bWwgPSBBc3NldHMuZ2V0VGV4dChwYXRoKVxyXG5cclxuXHRpZiB2aWV3SHRtbFxyXG5cdFx0dmlld0h0bWwgPSB2aWV3SHRtbC5yZXBsYWNlKC88dGVtcGxhdGVbXFx3XFxzXFxcIlxcPSddKz4vaSxcIlwiKS5yZXBsYWNlKC88XFwvdGVtcGxhdGU+L2ksXCJcIilcclxuXHJcblx0cmV0dXJuIHZpZXdIdG1sO1xyXG5cclxuX2dldExvY2FsZSA9ICh1c2VyKS0+XHJcblx0aWYgdXNlcj8ubG9jYWxlPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcclxuXHRcdGxvY2FsZSA9IFwiemgtQ05cIlxyXG5cdGVsc2UgaWYgdXNlcj8ubG9jYWxlPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdlbi11cydcclxuXHRcdGxvY2FsZSA9IFwiZW5cIlxyXG5cdGVsc2VcclxuXHRcdGxvY2FsZSA9IFwiemgtQ05cIlxyXG5cdHJldHVybiBsb2NhbGVcclxuXHJcblxyXG5fZ2V0UmVxdWlyZWRGaWVsZHMgPSAoZmllbGRzLCByZXYpLT5cclxuXHRpZiAhcmV2XHJcblx0XHRyZXYgPSBbXTtcclxuXHJcblx0ZmllbGRzLmZvckVhY2ggKGZpZWxkKS0+XHJcblx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJ1xyXG5cdFx0XHRfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGQuZmllbGRzLCByZXYpXHJcblx0XHRlbHNlIGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cclxuXHRcdGVsc2VcclxuXHRcdFx0aWYgZmllbGQuaXNfcmVxdWlyZWRcclxuXHRcdFx0XHRyZXYucHVzaCBmaWVsZC5jb2RlXHJcblx0cmV0dXJuIHJldjtcclxuXHJcbl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IChmaWVsZHMsIHN0ZXBzKS0+XHJcblx0c3RhcnRTdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBfdHlwZVwiLFwic3RhcnRcIilcclxuXHJcblx0ZWRpdGFibGVDb2RlID0gW11cclxuXHJcblx0Xy5rZXlzKHN0YXJ0U3RlcC5wZXJtaXNzaW9ucykuZm9yRWFjaCAoa2V5KS0+XHJcblx0XHRpZiBzdGFydFN0ZXAucGVybWlzc2lvbnNba2V5XSA9PSAnZWRpdGFibGUnXHJcblx0XHRcdGVkaXRhYmxlQ29kZS5wdXNoIGtleVxyXG5cclxuXHRyZXR1cm4gZWRpdGFibGVDb2RlXHJcblxyXG5fZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMgPSAoZmllbGRzLCBzdGVwcyktPlxyXG5cdHJlcXVpcmVkRmllbGRzID0gX2dldFJlcXVpcmVkRmllbGRzKGZpZWxkcylcclxuXHJcblx0ZWRpdGFibGVDb2RlID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZpZWxkcywgc3RlcHMpXHJcblxyXG5cdHJldHVybiBfLmludGVyc2VjdGlvbihyZXF1aXJlZEZpZWxkcywgZWRpdGFibGVDb2RlKVxyXG5cclxuX2dldFRlbXBsYXRlRGF0YSA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cclxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdGZvcm1fdmVyc2lvbiA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKVxyXG5cdGVsc2VcclxuXHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKVxyXG5cclxuXHRsb2NhbGUgPSBfZ2V0TG9jYWxlKHVzZXIpXHJcblxyXG5cdHN0ZWVkb3NEYXRhID0ge31cclxuXHJcblx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRzdGVlZG9zRGF0YSA9IF8uY2xvbmUoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpKVxyXG5cdFx0c3RlZWRvc0RhdGEuaW5zbmFtZSA9IGluc3RhbmNlLm5hbWVcclxuXHRcdHN0ZWVkb3NEYXRhLmluc19zdGF0ZSA9IGluc3RhbmNlLnN0YXRlXHJcblx0XHRzdGVlZG9zRGF0YS5pbnNfZmluYWxfZGVjaXNpb24gPSBpbnN0YW5jZS5pbnNfZmluYWxfZGVjaXNpb25cclxuXHRcdHN0ZWVkb3NEYXRhLmluc19jb2RlID0gaW5zdGFuY2UuY29kZVxyXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2lzX2FyY2hpdmVkID0gaW5zdGFuY2UuaXNfYXJjaGl2ZWRcclxuXHRcdHN0ZWVkb3NEYXRhLmluc19pc19kZWxldGVkID0gaW5zdGFuY2UuaW5zX2lzX2RlbGV0ZWRcclxuXHRcdHN0ZWVkb3NEYXRhLmFwcGxpY2FudF9uYW1lID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWVcclxuXHRcdHN0ZWVkb3NEYXRhLmFwcGxpY2FudENvbnRleHQgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxyXG5cclxuXHRzdGVlZG9zRGF0YS5pbnN0YW5jZSA9IGluc3RhbmNlXHJcblx0c3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uID0gZm9ybV92ZXJzaW9uXHJcblx0c3RlZWRvc0RhdGEubG9jYWxlID0gbG9jYWxlXHJcblx0c3RlZWRvc0RhdGEudXRjT2Zmc2V0ID0gdXNlci51dGNPZmZzZXRcclxuXHRzdGVlZG9zRGF0YS5zcGFjZSA9IGluc3RhbmNlLnNwYWNlXHJcblx0c3RlZWRvc0RhdGEuc2Vzc2lvblVzZXJJZCA9IHVzZXIuX2lkXHJcblxyXG5cdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0aWYgb3B0aW9ucz8uZWRpdGFibGVcclxuXHRcdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZm9ybX0pXHJcblxyXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mbG93fSlcclxuXHJcblx0XHRcdHN0ZWVkb3NEYXRhLnN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZvcm0uY3VycmVudC5maWVsZHMsIGZsb3cuY3VycmVudC5zdGVwcyk7XHJcblxyXG5cdHJldHVybiBzdGVlZG9zRGF0YTtcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlID0gKGRhdGUsIHV0Y09mZnNldCktPlxyXG5cdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0cGFzc2luZyA9IGZhbHNlO1xyXG5cdGVsc2VcclxuXHRcdHBhc3NpbmcgPSB0cnVlO1xyXG5cclxuXHRpZiAhdXRjT2Zmc2V0ICYmIHV0Y09mZnNldCAhPTBcclxuXHRcdHV0Y09mZnNldCA9IDhcclxuXHJcblx0cmV0dXJuIG1vbWVudChkYXRlKS51dGNPZmZzZXQodXRjT2Zmc2V0LCBwYXNzaW5nKS5mb3JtYXQoXCJZWVlZLU1NLUREIEhIOm1tXCIpO1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cclxuXHJcblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcclxuXHJcblx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcclxuXHJcblx0aWYgb3B0aW9ucz8uYWJzb2x1dGVcclxuXHRcdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcclxuXHJcblx0aW5zdGFuY2VUZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSwgb3B0aW9ucz8udGVtcGxhdGVOYW1lKTtcclxuXHJcblx0aW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZTZWxlY3RVc2VyL2csXCJhZlNlbGVjdFVzZXJSZWFkXCIpXHJcblxyXG5cdGlmICFvcHRpb25zPy5lZGl0YWJsZVxyXG5cdFx0aW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZGb3JtR3JvdXAvZyxcImFmRm9ybUdyb3VwUmVhZFwiKVxyXG5cclxuXHRpbnN0YW5jZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVRlbXBsYXRlLCB7aXNCb2R5OiB0cnVlfSk7XHJcblxyXG5cdGluc3RhbmNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlQ29tcGlsZWQpO1xyXG5cclxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfcmVhZG9ubHlfdmlld1wiLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0VGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblxyXG5cdFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzXHJcblxyXG5cdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0KHN0ZWVkb3NEYXRhKTtcclxuXHJcblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcsIHN0ZWVkb3NEYXRhKVxyXG5cclxuXHRyZXR1cm4gXCJcIlwiXHJcblx0XHQ8ZGl2IGlkPSdpbnN0YW5jZWZvcm0nID5cclxuXHRcdFx0I3tib2R5fVxyXG5cdFx0PC9kaXY+XHJcblx0XCJcIlwiXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cclxuXHJcblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcclxuXHJcblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XHJcblx0aWYgZm9ybS5pbnN0YW5jZV9zdHlsZSA9PSBcInRhYmxlXCIgfHwgb3B0aW9ucz8udGVtcGxhdGVOYW1lID09IFwidGFibGVcIlxyXG5cdFx0dHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlc190YWJsZS5odG1sJylcclxuXHRlbHNlXHJcblx0XHR0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzLmh0bWwnKVxyXG5cclxuXHR0cmFjZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0cmFjZXNIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XHJcblxyXG5cdHRyYWNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRyYWNlQ29tcGlsZWQpO1xyXG5cclxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwidHJhY2VfcmVhZG9ubHlfdmlld1wiLCB0cmFjZVJlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0VGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblxyXG5cdFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzXHJcblxyXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LCBpbnN0YW5jZS50cmFjZXMpXHJcblxyXG5cdHJldHVybiBib2R5O1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSktPlxyXG5cclxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxyXG5cclxuXHRhdHRhY2htZW50SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX2F0dGFjaG1lbnRzLmh0bWwnKVxyXG5cclxuXHRhdHRhY2htZW50Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGF0dGFjaG1lbnRIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XHJcblxyXG5cdGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoYXR0YWNobWVudENvbXBpbGVkKTtcclxuXHJcblx0VGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXdcIiwgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0VGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblxyXG5cdFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzXHJcblxyXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3KVxyXG5cclxuXHRyZXR1cm4gYm9keTtcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cclxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxyXG5cclxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xyXG5cclxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxyXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xyXG5cclxuXHRyZWxhdGVkSW5zdGFuY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfaW5zdGFuY2VzLmh0bWwnKVxyXG5cclxuXHRyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRJbnN0YW5jZXNIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XHJcblxyXG5cdHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkKTtcclxuXHJcblx0VGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXdcIiwgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0VGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblxyXG5cdFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuaGVscGVycyBSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnNcclxuXHJcblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcsIHN0ZWVkb3NEYXRhKVxyXG5cclxuXHRyZXR1cm4gYm9keTtcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XHJcblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcclxuXHJcblx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcclxuXHJcblx0aWYgb3B0aW9ucz8uYWJzb2x1dGVcclxuXHRcdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcclxuXHJcblx0cmVsYXRlZFJlY29yZHNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9yZWNvcmRzLmh0bWwnKVxyXG5cclxuXHRyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkUmVjb3Jkc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0cmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZFJlY29yZHNDb21waWxlZCk7XHJcblxyXG5cdFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9yZWNvcmRzX3ZpZXdcIiwgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbik7XHJcblxyXG5cdFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHJcblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuaGVscGVycyBSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzXHJcblxyXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldywgc3RlZWRvc0RhdGEpXHJcblxyXG5cdHJldHVybiBib2R5O1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdCA9IChpbnN0YW5jZSktPlxyXG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXHJcblxyXG5cdGZvcm1fc2NyaXB0ID0gZm9ybV92ZXJzaW9uLmZvcm1fc2NyaXB0O1xyXG5cclxuXHRpZiBmb3JtX3NjcmlwdCAmJiBmb3JtX3NjcmlwdC5yZXBsYWNlKC9cXG4vZyxcIlwiKS5yZXBsYWNlKC9cXHMvZyxcIlwiKS5sZW5ndGggPiAwXHJcblx0XHRmb3JtX3NjcmlwdCA9IFwiQ29yZUZvcm0gPSB7fTtDb3JlRm9ybS5pbnN0YW5jZWZvcm0gPSB7fTtcIiArIGZvcm1fc2NyaXB0XHJcblx0XHRmb3JtX3NjcmlwdCArPSBcIjtpZihDb3JlRm9ybS5mb3JtX09uTG9hZCl7d2luZG93Lm9ubG9hZCA9IENvcmVGb3JtLmZvcm1fT25Mb2FkKCk7fVwiXHJcblx0ZWxzZVxyXG5cdFx0Zm9ybV9zY3JpcHQgPSBcIlwiXHJcblxyXG5cclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XHJcblxyXG5cdGJvZHkgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XHJcblxyXG5cdG9uTG9hZFNjcmlwdCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRPbkxvYWRTY3JpcHQoaW5zdGFuY2UpO1xyXG5cclxuXHRjcmVhdG9yU2VydmljZSA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMud2Vic2VydmljZXM/LmNyZWF0b3I/LnVybFxyXG5cdGluc19yZWNvcmRfaWRzID0gaW5zdGFuY2UucmVjb3JkX2lkc1xyXG5cclxuXHRvcGVuRmlsZVNjcmlwdCA9IFwiXCJcIlxyXG5cdFx0XHRpZih3aW5kb3cuaXNOb2RlICYmIGlzTm9kZSgpKXtcclxuXHRcdFx0XHRhdHRhY2hzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImluc19hdHRhY2hfaHJlZlwiKTtcclxuXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYXR0YWNocy5sZW5ndGg7IGkrKyl7XHJcblx0XHRcdFx0XHRhdHRhY2ggPSBhdHRhY2hzW2ldO1xyXG5cdFx0XHRcdFx0YXR0YWNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0XHRcdFx0aWYoaXNJbWFnZSh0aGlzLmRhdGFzZXQudHlwZSkgfHwgaXNIdG1sKHRoaXMuZGF0YXNldC50eXBlKSl7XHJcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdG9wZW5XaW5kb3coXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy9cIiArIHRoaXMuZGF0YXNldC5pZCk7XHJcblx0XHRcdFx0XHRcdH1lbHNlIGlmKG53X2NvcmUuY2FuT3BlbkZpbGUodGhpcy5kYXRhc2V0Lm5hbWUpKXtcclxuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdFx0bndfY29yZS5vcGVuRmlsZSh0aGlzLmhyZWYsIHRoaXMuZGF0YXNldC5uYW1lKVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBmbG93ID0gXCIje2luc3RhbmNlLmZsb3d9XCI7XHJcblx0XHRcdHZhciBzcGFjZSA9IFwiI3tpbnN0YW5jZS5zcGFjZX1cIjtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldENvb2tpZShuYW1lKXtcclxuXHRcdFx0XHRsZXQgcGF0dGVybiA9IFJlZ0V4cChuYW1lICsgXCI9LlteO10qXCIpXHJcblx0XHRcdFx0bGV0IG1hdGNoZWQgPSBkb2N1bWVudC5jb29raWUubWF0Y2gocGF0dGVybilcclxuXHRcdFx0XHRpZihtYXRjaGVkKXtcclxuXHRcdFx0XHRcdGxldCBjb29raWUgPSBtYXRjaGVkWzBdLnNwbGl0KCc9JylcclxuXHRcdFx0XHRcdHJldHVybiBjb29raWVbMV1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuICcnXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciByZWNvcmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlucy1yZWxhdGVkLXJlY29yZHNcIik7XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCByZWNvcmRzLmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0XHRcdHZhciByZWNvcmQgPSByZWNvcmRzW2ldO1xyXG5cdFx0XHRcdFx0cmVjb3JkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0XHRcdFx0dmFyIGNyZWF0b3JTZXJ2aWNlID0gXCIje2NyZWF0b3JTZXJ2aWNlfVwiXHJcblx0XHRcdFx0XHRcdHZhciBpbnNfcmVjb3JkX2lkcyA9ICN7SlNPTi5zdHJpbmdpZnkoaW5zX3JlY29yZF9pZHMpfVxyXG5cdFx0XHRcdFx0XHRpZihjcmVhdG9yU2VydmljZSAmJiBpbnNfcmVjb3JkX2lkcyAmJiBpbnNfcmVjb3JkX2lkcy5sZW5ndGggPiAwKXtcclxuXHRcdFx0XHRcdFx0XHR2YXIgb2JqY2V0TmFtZSA9IGluc19yZWNvcmRfaWRzWzBdLm9cclxuXHRcdFx0XHRcdFx0XHR2YXIgaWQgPSBpbnNfcmVjb3JkX2lkc1swXS5pZHNbMF1cclxuXHRcdFx0XHRcdFx0XHR2YXIgdW9iaiA9IHt9O1xyXG5cdFx0XHRcdFx0XHRcdHVvYmpbXCJYLVVzZXItSWRcIl0gPSBnZXRDb29raWUoXCJYLVVzZXItSWRcIik7XHJcblx0XHRcdFx0XHRcdFx0dW9ialtcIlgtQXV0aC1Ub2tlblwiXSA9IGdldENvb2tpZShcIlgtQXV0aC1Ub2tlblwiKTtcclxuXHRcdFx0XHRcdFx0XHRyZWRpcmVjdFVybCA9IGNyZWF0b3JTZXJ2aWNlICsgXCJhcHAvLS9cIiArIG9iamNldE5hbWUgKyBcIi92aWV3L1wiICsgaWQgKyBcIj9cIiArICQucGFyYW0odW9iaik7XHJcblx0XHRcdFx0XHRcdFx0b3BlbldpbmRvdyhyZWRpcmVjdFVybCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XCJcIlwiO1xyXG5cclxuXHJcblx0aWYgIVN0ZWVkb3MuaXNNb2JpbGUoKVxyXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XHJcblx0XHRpZiBmb3JtPy5pbnN0YW5jZV9zdHlsZSA9PSAndGFibGUnXHJcblx0XHRcdGluc3RhbmNlX3N0eWxlID0gXCJpbnN0YW5jZS10YWJsZVwiXHJcblxyXG5cdGlmIG9wdGlvbnM/LnRlbXBsYXRlTmFtZSA9PSAndGFibGUnXHJcblx0XHRpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIlxyXG5cclxuXHRpZiBvcHRpb25zPy5pbnN0YW5jZV9zdHlsZVxyXG5cdFx0aW5zdGFuY2Vfc3R5bGUgPSBvcHRpb25zLmluc3RhbmNlX3N0eWxlXHJcblxyXG5cdGlmICFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd1RyYWNlID09IHRydWVcclxuXHRcdHRyYWNlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFRyYWNlc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlKVxyXG5cdGVsc2VcclxuXHRcdHRyYWNlID0gXCJcIlxyXG5cclxuXHRpbnN0YW5jZUJveFN0eWxlID0gXCJcIjtcclxuXHJcblx0aWYgaW5zdGFuY2UgJiYgaW5zdGFuY2UuZmluYWxfZGVjaXNpb25cclxuXHRcdGlmIGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09IFwiYXBwcm92ZWRcIlxyXG5cdFx0XHRpbnN0YW5jZUJveFN0eWxlID0gXCJib3gtc3VjY2Vzc1wiXHJcblx0XHRlbHNlIGlmIChpbnN0YW5jZS5maW5hbF9kZWNpc2lvbiA9PSBcInJlamVjdGVkXCIpXHJcblx0XHRcdGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1kYW5nZXJcIlxyXG5cdGlmICFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzID09IHRydWVcclxuXHRcdGF0dGFjaG1lbnQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlKVxyXG5cdFx0cmVsYXRlZF9pbnN0YW5jZXMgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxyXG5cdFx0cmVsYXRlZF9yZWNvcmRzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXHJcblx0ZWxzZVxyXG5cdFx0YXR0YWNobWVudCA9IFwiXCJcclxuXHRcdHJlbGF0ZWRfaW5zdGFuY2VzID0gXCJcIlxyXG5cdFx0cmVsYXRlZF9yZWNvcmRzID0gXCJcIlxyXG5cclxuXHRhYnNvbHV0ZVVybCA9IE1ldGVvci5hYnNvbHV0ZVVybCgpXHJcblxyXG5cdHdpZHRoID0gXCI5NjBweFwiXHJcblx0I1x05aaC5p6c57uZdGFibGXnmoRwYXJlbnTorr7nva53aWR0aO+8jOWImeS8muWvvOiHtOmYv+mHjOS6kemCrueuseaYvuekunRhYmxlIOW8guW4uFxyXG5cdGlmIG9wdGlvbnM/LndpZHRoXHJcblx0XHR3aWR0aCA9IFwiXCJcclxuXHJcblx0Y3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcInN0ZWVkb3MtY3NzXCIpXHJcblxyXG5cdGFsbENzc0xpbmsgPSBcIlwiXCI8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgY2xhc3M9XCJfX21ldGVvci1jc3NfX1wiIGhyZWY9XCIje2Nzc0hyZWZ9XCI+XCJcIlwiXHJcblxyXG5cdHRyYWNlQ2hlY2sgPSBcIlwiXHJcblx0aWYgIV8uaXNFbXB0eSh0cmFjZSlcclxuXHRcdHRyYWNlQ2hlY2sgPSBcImNoZWNrZWRcIlxyXG5cdGlmIG9wdGlvbnM/LnRhZ2dlciA9PSAnZW1haWwnXHJcblx0XHRzaG93VHJhY2VzQnRuID0gXCJcIlxyXG5cdGVsc2VcclxuXHRcdHNob3dUcmFjZXNCdG4gPSBcIlwiXCJcclxuXHRcdFx0PGRpdiBjbGFzcz1cIm5hdmlnYXRpb24tYmFyIGJ0bi1ncm91cCBuby1wcmludFwiIHN0eWxlPVwibWluLXdpZHRoOiA2MDBweDsgei1pbmRleDogOTk5XCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInByaW50LXRvb2xcIj5cclxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNieC1sYWJlbFwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImNieC1wcmludCBjYngtcHJpbnQtYXR0YWNobWVudHNcIiBpZD1cImNieC1wcmludC1hdHRhY2htZW50c1wiIGNoZWNrZWQ9XCJjaGVja2VkXCI+PHNwYW4+6ZmE5Lu2PC9zcGFuPjwvbGFiZWw+XHJcblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjYngtbGFiZWxcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJjYngtcHJpbnQgY2J4LXByaW50LXRyYWNlc1wiIGlkPVwiY2J4LXByaW50LXRyYWNlc1wiIGNoZWNrZWQ9XCIje3RyYWNlQ2hlY2t9XCI+PHNwYW4+I3t0KCdpbnN0YW5jZV9hcHByb3ZhbF9oaXN0b3J5Jyl9PC9zcGFuPjwvbGFiZWw+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcIlwiXCJcclxuXHJcblx0c2hvd1RyYWNlc1NjcmlwdCA9IFwiXCJcIlxyXG5cdFx0JCggZG9jdW1lbnQgKS5yZWFkeShmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIgYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtdHJhY2VzJyk7XHJcblx0XHRcdHZhciB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5zdGFuY2UtdHJhY2VzJylbMF07XHJcblx0XHRcdGlmIChiLmNoZWNrZWQpe1xyXG5cdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXHJcblx0XHRcdH1cclxuXHRcdFx0Yi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XHJcblx0XHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dmFyIGF0dGFjaG1lbnRzQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LWF0dGFjaG1lbnRzJyk7XHJcblx0XHRcdHZhciBhdHRhY2htZW50c1ZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhdHRhY2htZW50cy1zZWN0aW9uJylbMF07XHJcblx0XHRcdGlmIChhdHRhY2htZW50c0NoZWNrYm94LmNoZWNrZWQpe1xyXG5cdFx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xyXG5cdFx0XHR9XHJcblx0XHRcdGF0dGFjaG1lbnRzQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSl7XHJcblx0XHRcdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xyXG5cdFx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XCJcIlwiXHJcblxyXG5cdGlmIG9wdGlvbnM/LnN0eWxlc1xyXG5cdFx0YWxsQ3NzTGluayA9IFwiXCJcclxuXHJcblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZm9ybX0pO1xyXG5cdGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiXHJcblx0aWYgZm9ybVxyXG5cdFx0Zm9ybURlc2NyaXB0aW9uID0gZm9ybS5kZXNjcmlwdGlvblxyXG5cdFx0aWYgZm9ybURlc2NyaXB0aW9uXHJcblx0XHRcdGZvcm1EZXNjcmlwdGlvbiA9IGZvcm1EZXNjcmlwdGlvbi5yZXBsYWNlKC9cXG4vZyxcIjxici8+XCIpXHJcblx0XHRcdGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiXCJcclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94LWhlYWRlciAgd2l0aC1ib3JkZXIgaW5zdGFuY2UtaGVhZGVyXCI+XHJcblx0XHRcdFx0XHQ8ZGl2PlxyXG5cdFx0XHRcdFx0XHQje2Zvcm1EZXNjcmlwdGlvbn1cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFwiXCJcIlxyXG5cclxuXHRodG1sID0gXCJcIlwiXHJcblx0XHQ8IURPQ1RZUEUgaHRtbD5cclxuXHRcdDxodG1sPlxyXG5cdFx0XHQ8aGVhZD5cclxuXHRcdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwiQ29udGVudC1UeXBlXCIgY29udGVudD1cInRleHQvaHRtbDsgY2hhcnNldD1VVEYtOFwiLz5cclxuXHRcdFx0XHQje2FsbENzc0xpbmt9XHJcblx0XHRcdFx0PHNjcmlwdCBzcmM9XCJodHRwczovL3d3dy5zdGVlZG9zLmNvbS93ZWJzaXRlL2xpYnMvanF1ZXJ5Lm1pbi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cclxuXHRcdFx0XHQ8c2NyaXB0IHNyYz1cIi9qcy9ud19jb3JlLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxyXG5cdFx0XHRcdCN7b3B0aW9ucy5wbHVnaW5zIHx8IFwiXCJ9XHJcblxyXG5cdFx0XHRcdDxzdHlsZT5cclxuXHRcdFx0XHRcdC5zdGVlZG9ze1xyXG5cdFx0XHRcdFx0XHR3aWR0aDogI3t3aWR0aH07XHJcblx0XHRcdFx0XHRcdG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG5cdFx0XHRcdFx0XHRtYXJnaW4tcmlnaHQ6IGF1dG87XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLW5hbWV7XHJcblx0XHRcdFx0XHRcdGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQuYm94LXRvb2xze1xyXG5cdFx0XHRcdFx0XHRkaXNwbGF5OiBub25lO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0LmJveC5jb2xsYXBzZWQtYm94IC5ib3gtYm9keSwuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1mb290ZXIge1xyXG5cdFx0XHRcdFx0ICBkaXNwbGF5OiBibG9jaztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRib2R5e1xyXG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBhenVyZSAhaW1wb3J0YW50O1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS10cmFjZXN7XHJcblx0XHRcdFx0XHRcdHBhZGRpbmctbGVmdDogMTVweDtcclxuXHRcdFx0XHRcdFx0cGFkZGluZy1yaWdodDogMTVweDtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQje29wdGlvbnM/LnN0eWxlcyB8fCBcIlwifVxyXG5cdFx0XHRcdDwvc3R5bGU+XHJcblx0XHRcdDwvaGVhZD5cclxuXHRcdFx0PGJvZHk+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZWVkb3Mgd29ya2Zsb3cgaW5zdGFuY2UtcHJpbnRcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJza2luLWdyZWVuIHNraW4tYWRtaW4tbHRlXCI+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ3cmFwcGVyXCI+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnQtd3JhcHBlclwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0I3tzaG93VHJhY2VzQnRufVxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLXByaW50XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZSAje2luc3RhbmNlX3N0eWxlfVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxmb3JtIG5hbWU9XCJpbnN0YW5jZUZvcm1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZS1mb3JtIGJveCAje2luc3RhbmNlQm94U3R5bGV9XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7Zm9ybURlc2NyaXB0aW9uSHRtbH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJveC1ib2R5XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0nYXR0YWNobWVudHMtc2VjdGlvbic+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7YXR0YWNobWVudH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tyZWxhdGVkX2luc3RhbmNlc31cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tyZWxhdGVkX3JlY29yZHN9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7Ym9keX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Zvcm0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0I3t0cmFjZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvYm9keT5cclxuXHRcdFx0PHNjcmlwdD4je29wZW5GaWxlU2NyaXB0fTsje29uTG9hZFNjcmlwdH07I3tzaG93VHJhY2VzU2NyaXB0fTwvc2NyaXB0PlxyXG5cdFx0PC9odG1sPlxyXG5cdFwiXCJcIlxyXG5cclxuXHRyZXR1cm4gaHRtbCIsInZhciBfZ2V0TG9jYWxlLCBfZ2V0UmVxdWlyZWRGaWVsZHMsIF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcywgX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzLCBfZ2V0VGVtcGxhdGVEYXRhLCBfZ2V0Vmlld0h0bWwsIGdldExpbmtUZXh0OyAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSA9IHt9O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiPHRyPlxcblx0PHRkIGNsYXNzPVxcXCJpbnMtYXR0YWNoLXZpZXdcXFwiPlxcblx0XHQ8YSBocmVmPVxcXCJ7e2luc19hdHRhY2hfZG93bmxvYWRfdXJsIF9pZCBhYnNvbHV0ZX19XFxcIiBjbGFzcz1cXFwiaW5zX2F0dGFjaF9ocmVmXFxcIiB0YXJnZXQ9XFxcIl9wYXJlbnRcXFwiIGRhdGEtbmFtZT1cXFwie3t0aGlzLm5hbWV9fVxcXCIgZGF0YS10eXBlPVxcXCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XFxcIiBkYXRhLWlkPVxcXCJ7e19pZH19XFxcIj57e3RoaXMubmFtZX19PC9hPlxcblx0PC90ZD5cXG48L3RyPlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZTZWxlY3RVc2VyUmVhZCA9IFwiPGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cFJlYWQgPSBcIjxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxcblx0e3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxcblx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdHt7ZWxzZX19XFxuXHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3RhYmxlJ319XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcXFwiPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIiBzdHlsZT1cXFwicGFkZGluZzowcHg7XFxcIj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIiA+XFxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9J2NvbnRyb2wtbGFiZWwnPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVxcXCJkZXNjcmlwdGlvblxcXCI+e3t7ZGVzY3JpcHRpb259fX08L3NwYW4+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicmVhZG9ubHktdGFibGVcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXFxcIiBzdHlsZT0nbWFyZ2luLWJvdHRvbTowcHg7JyB7e3RoaXMuYXR0c319IGlkPVxcXCJ7e3RoaXMuY29kZX19VGFibGVcXFwiIG5hbWU9XFxcInt7dGhpcy5jb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3t0aGlzLm5hbWV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVxcXCJ7e3RoaXMubmFtZX19VGhlYWRcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZVRoZWFkIHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxcblx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cXFwie3t0aGlzLm5hbWV9fVRib2R5XFxcIiBuYW1lPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5Plxcblx0XHRcdFx0XHRcdFx0XHQ8L3RhYmxlPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxcblx0XHRcdFx0XHQ8bGFiZWw+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cXG5cdFx0XHR7ey9pZn19XFxuXHRcdHt7L2lmfX1cXG5cdHt7L3dpdGh9fVxcbjwvZGl2PlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlxcbnt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cXG5cdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlY3Rpb24nfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxcblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxcblx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cXG5cdFx0XHRcdDwvZGl2PlxcbiAgXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtcXFwiPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiID5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJyZWFkb25seS10YWJsZVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcXFwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XFxcInt7dGhpcy5jb2RlfX1UYWJsZVxcXCIgbmFtZT1cXFwie3t0aGlzLmNvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e3RoaXMubmFtZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XFxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdpbnB1dCd9fVxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBkYXRhLXJlcXVpcmVkPVxcXCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cXFwiPlxcblx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbnVtYmVyJ319XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJudW1iZXJcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlJ319XFxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXR5cGU9XFxcImRhdGVcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlVGltZSd9fVxcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS10eXBlPSdkYXRldGltZScgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3Bhc3N3b3JkJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJwYXNzd29yZFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlbGVjdCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c2VsZWN0IG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8b3B0aW9uIHZhbHVlPVxcXCJ7e3ZhbHVlfX1cXFwiPnt7bGFiZWx9fTwvb3B0aW9uPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NlbGVjdD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAncmFkaW8nfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiYWYtcmFkaW8tZ3JvdXBcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxcbiAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJyYWRpby1pbmxpbmUgZml4LWluZGVudFxcXCI+PGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiB2YWx1ZT1cXFwie3t2YWx1ZX19XFxcIiBuYW1lPVxcXCJ7ey4uL2NvZGV9fVxcXCIgY2xhc3M9XFxcInJhZGlvLWlubGluZSBmaXgtaW5kZW50XFxcIj4ge3tsYWJlbH19PC9sYWJlbD5cXG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cXG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ211bHRpU2VsZWN0J319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImFmLWNoZWNrYm94LWdyb3VwXFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIHZhbHVlPVxcXCJ7e3ZhbHVlfX1cXFwiIG5hbWU9XFxcInt7Li4vY29kZX19XFxcIiBjbGFzcz1cXFwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcXFwiPiB7e2xhYmVsfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd1cmwnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInVybFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2VtYWlsJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJlbWFpbFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2NoZWNrYm94J319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImNoZWNrYm94XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTtcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgdmFsdWU9XFxcInRydWVcXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBjbGFzcz1cXFwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcXFwiPjwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdHt7L2lmfX1cXG5cdFx0e3svaWZ9fVxcblx0e3svd2l0aH19XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUgPSBmdW5jdGlvbih0ZW1wYWx0ZU5hbWUsIHN0ZWVkb3NEYXRhKSB7XG4gIHZhciB0ZW1wbGF0ZSwgdGVtcGxhdGVDb21waWxlZCwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbjtcbiAgdGVtcGxhdGUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGVbdGVtcGFsdGVOYW1lXTtcbiAgdGVtcGxhdGVDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRlbXBsYXRlQ29tcGlsZWQpO1xuICBUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdID0gbmV3IEJsYXplLlRlbXBsYXRlKHRlbXBhbHRlTmFtZSwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uaGVscGVycyhJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0ID0gZnVuY3Rpb24oc3RlZWRvc0RhdGEpIHtcbiAgdmFyIGluc3RhbmNlU2lnblRleHRDb21waWxlZCwgaW5zdGFuY2VTaWduVGV4dEh0bWwsIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbjtcbiAgaW5zdGFuY2VTaWduVGV4dEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9zaWduX3RleHQuaHRtbCcpO1xuICBpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlU2lnblRleHRIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlU2lnblRleHRDb21waWxlZCk7XG4gIFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZVNpZ25UZXh0XCIsIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuaGVscGVycyhJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbiA9IGZ1bmN0aW9uKHN0ZWVkb3NEYXRhKSB7XG4gIHZhciBpbWFnZVNpZ25Db21waWxlZCwgaW1hZ2VTaWduSHRtbCwgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb247XG4gIGltYWdlU2lnbkh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbWFnZV9zaWduLmh0bWwnKTtcbiAgaW1hZ2VTaWduQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGltYWdlU2lnbkh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uID0gZXZhbChpbWFnZVNpZ25Db21waWxlZCk7XG4gIFRlbXBsYXRlLmltYWdlU2lnbiA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImltYWdlU2lnblwiLCBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmltYWdlU2lnbi5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGUuaW1hZ2VTaWduLmhlbHBlcnMoSW1hZ2VTaWduLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQgPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZTZWxlY3RVc2VyUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBcIiwgc3RlZWRvc0RhdGEpO1xuICB9XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFJlYWRcIiwgc3RlZWRvc0RhdGEpO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImluc3RhbmNlX2F0dGFjaG1lbnRcIiwge1xuICAgICAgYWJzb2x1dGU6IHN0ZWVkb3NEYXRhLmFic29sdXRlXG4gICAgfSk7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbihzdGVlZG9zRGF0YSk7XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0KHN0ZWVkb3NEYXRhKTtcbiAgfVxufTtcblxuZ2V0TGlua1RleHQgPSBmdW5jdGlvbihpdGVtLCBsYWJlbCwgZGV0YWlsX3VybCkge1xuICBpZiAoZGV0YWlsX3VybCkge1xuICAgIGRldGFpbF91cmwgPSBkZXRhaWxfdXJsLnJlcGxhY2UoXCJ7X2lkfVwiLCBpdGVtLl9pZCk7XG4gICAgaWYgKCEvXmh0dHAocz8pOlxcL1xcLy8udGVzdChkZXRhaWxfdXJsKSkge1xuICAgICAgZGV0YWlsX3VybCA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoZGV0YWlsX3VybCk7XG4gICAgfVxuICAgIHJldHVybiAnPGEgaHJlZj1cIicgKyBkZXRhaWxfdXJsICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPicgKyBsYWJlbCArICc8L2E+JztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGFiZWw7XG4gIH1cbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCBmaWVsZCwgbG9jYWxlLCB1dGNPZmZzZXQpIHtcbiAgdmFyIGRhdGUsIGRldGFpbF91cmwsIGUsIGhvdXJzLCBtb250aCwgc2Vjb25kcywgdCwgdDAsIHQxLCB5ZWFyO1xuICBpZiAoIXZhbHVlICYmIHZhbHVlICE9PSBmYWxzZSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICBjYXNlICdlbWFpbCc6XG4gICAgICB2YWx1ZSA9IHZhbHVlID8gJzxhIGhyZWY9XFwnbWFpbHRvOicgKyB2YWx1ZSArICdcXCc+JyArIHZhbHVlICsgJzwvYT4nIDogJyc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd1cmwnOlxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKFwiaHR0cFwiKSA9PT0gMCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWx1ZSA9IFwiPGEgaHJlZj0nXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICAgIHZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdncm91cCc6XG4gICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKS50b1N0cmluZygpIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZnVsbG5hbWUgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICd1c2VyJzpcbiAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKSA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLm5hbWUgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdwYXNzd29yZCc6XG4gICAgICB2YWx1ZSA9ICcqKioqKionO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgaWYgKHZhbHVlICYmIHZhbHVlICE9PSAnZmFsc2UnKSB7XG4gICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiLCB7fSwgbG9jYWxlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2RhdGVUaW1lJzpcbiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPT09IDE2KSB7XG4gICAgICAgIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XG4gICAgICAgIHQwID0gdFswXS5zcGxpdChcIi1cIik7XG4gICAgICAgIHQxID0gdFsxXS5zcGxpdChcIjpcIik7XG4gICAgICAgIHllYXIgPSB0MFswXTtcbiAgICAgICAgbW9udGggPSB0MFsxXTtcbiAgICAgICAgZGF0ZSA9IHQwWzJdO1xuICAgICAgICBob3VycyA9IHQxWzBdO1xuICAgICAgICBzZWNvbmRzID0gdDFbMV07XG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUodmFsdWUsIHV0Y09mZnNldCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICBpZiAoZmllbGQuaXNfdGV4dGFyZWEpIHtcbiAgICAgICAgdmFsdWUgPSBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bih2YWx1ZSkpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PT0gMCkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0ZpeGVkKGZpZWxkLmRpZ2l0cyk7XG4gICAgICAgIHZhbHVlID0gU3RlZWRvcy5udW1iZXJUb1N0cmluZyh2YWx1ZSwgbG9jYWxlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ29kYXRhJzpcbiAgICAgIGRldGFpbF91cmwgPSBmaWVsZC5kZXRhaWxfdXJsO1xuICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgIHZhbHVlID0gXy5tYXAodmFsdWUsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gZ2V0TGlua1RleHQoaXRlbSwgaXRlbVsnQGxhYmVsJ10sIGRldGFpbF91cmwpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZ2V0TGlua1RleHQodmFsdWUsIHZhbHVlWydAbGFiZWwnXSwgZGV0YWlsX3VybCk7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsID0gZnVuY3Rpb24oZmllbGRzLCBjb2RlKSB7XG4gIHZhciBmaWVsZDtcbiAgZmllbGQgPSBmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSk7XG4gIGlmIChmaWVsZCkge1xuICAgIGlmIChmaWVsZC5uYW1lKSB7XG4gICAgICByZXR1cm4gZmllbGQubmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpZWxkLmNvZGU7XG4gICAgfVxuICB9XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbiA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIHZhciBmb3JtLCBmb3JtX2ZpZWxkcywgZm9ybV92ZXJzaW9uO1xuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgZm9ybV92ZXJzaW9uID0ge307XG4gIGZvcm1fZmllbGRzID0gW107XG4gIGlmIChmb3JtLmN1cnJlbnQuX2lkID09PSBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnQ7XG4gIH0gZWxzZSB7XG4gICAgZm9ybV92ZXJzaW9uID0gXy53aGVyZShmb3JtLmhpc3RvcnlzLCB7XG4gICAgICBfaWQ6IGluc3RhbmNlLmZvcm1fdmVyc2lvblxuICAgIH0pWzBdO1xuICB9XG4gIGZvcm1fdmVyc2lvbi5maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xuICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgaWYgKGZpZWxkLmZpZWxkcykge1xuICAgICAgICByZXR1cm4gZmllbGQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgICAgIHJldHVybiBmb3JtX2ZpZWxkcy5wdXNoKGYpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgIGZpZWxkWydzZmllbGRzJ10gPSBmaWVsZFsnZmllbGRzJ107XG4gICAgICBkZWxldGUgZmllbGRbJ2ZpZWxkcyddO1xuICAgICAgcmV0dXJuIGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgfVxuICB9KTtcbiAgZm9ybV92ZXJzaW9uLmZpZWxkcyA9IGZvcm1fZmllbGRzO1xuICByZXR1cm4gZm9ybV92ZXJzaW9uO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEZsb3dWZXJzaW9uID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZsb3csIGZsb3dfdmVyc2lvbjtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XG4gIGZsb3dfdmVyc2lvbiA9IHt9O1xuICBpZiAoZmxvdy5jdXJyZW50Ll9pZCA9PT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uKSB7XG4gICAgZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xuICB9IGVsc2Uge1xuICAgIGZsb3dfdmVyc2lvbiA9IF8ud2hlcmUoZmxvdy5oaXN0b3J5cywge1xuICAgICAgX2lkOiBpbnN0YW5jZS5mbG93X3ZlcnNpb25cbiAgICB9KVswXTtcbiAgfVxuICByZXR1cm4gZmxvd192ZXJzaW9uO1xufTtcblxuX2dldFZpZXdIdG1sID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgdmlld0h0bWw7XG4gIHZpZXdIdG1sID0gQXNzZXRzLmdldFRleHQocGF0aCk7XG4gIGlmICh2aWV3SHRtbCkge1xuICAgIHZpZXdIdG1sID0gdmlld0h0bWwucmVwbGFjZSgvPHRlbXBsYXRlW1xcd1xcc1xcXCJcXD0nXSs+L2ksIFwiXCIpLnJlcGxhY2UoLzxcXC90ZW1wbGF0ZT4vaSwgXCJcIik7XG4gIH1cbiAgcmV0dXJuIHZpZXdIdG1sO1xufTtcblxuX2dldExvY2FsZSA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgdmFyIGxvY2FsZSwgcmVmLCByZWYxO1xuICBpZiAoKHVzZXIgIT0gbnVsbCA/IChyZWYgPSB1c2VyLmxvY2FsZSkgIT0gbnVsbCA/IHJlZi50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwIDogdm9pZCAwKSA9PT0gJ3poLWNuJykge1xuICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgfSBlbHNlIGlmICgodXNlciAhPSBudWxsID8gKHJlZjEgPSB1c2VyLmxvY2FsZSkgIT0gbnVsbCA/IHJlZjEudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCA6IHZvaWQgMCkgPT09ICdlbi11cycpIHtcbiAgICBsb2NhbGUgPSBcImVuXCI7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICB9XG4gIHJldHVybiBsb2NhbGU7XG59O1xuXG5fZ2V0UmVxdWlyZWRGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMsIHJldikge1xuICBpZiAoIXJldikge1xuICAgIHJldiA9IFtdO1xuICB9XG4gIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgcmV0dXJuIF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZC5maWVsZHMsIHJldik7XG4gICAgfSBlbHNlIGlmIChmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGZpZWxkLmlzX3JlcXVpcmVkKSB7XG4gICAgICAgIHJldHVybiByZXYucHVzaChmaWVsZC5jb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmV2O1xufTtcblxuX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gZnVuY3Rpb24oZmllbGRzLCBzdGVwcykge1xuICB2YXIgZWRpdGFibGVDb2RlLCBzdGFydFN0ZXA7XG4gIHN0YXJ0U3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwX3R5cGVcIiwgXCJzdGFydFwiKTtcbiAgZWRpdGFibGVDb2RlID0gW107XG4gIF8ua2V5cyhzdGFydFN0ZXAucGVybWlzc2lvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKHN0YXJ0U3RlcC5wZXJtaXNzaW9uc1trZXldID09PSAnZWRpdGFibGUnKSB7XG4gICAgICByZXR1cm4gZWRpdGFibGVDb2RlLnB1c2goa2V5KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZWRpdGFibGVDb2RlO1xufTtcblxuX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzID0gZnVuY3Rpb24oZmllbGRzLCBzdGVwcykge1xuICB2YXIgZWRpdGFibGVDb2RlLCByZXF1aXJlZEZpZWxkcztcbiAgcmVxdWlyZWRGaWVsZHMgPSBfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGRzKTtcbiAgZWRpdGFibGVDb2RlID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZpZWxkcywgc3RlcHMpO1xuICByZXR1cm4gXy5pbnRlcnNlY3Rpb24ocmVxdWlyZWRGaWVsZHMsIGVkaXRhYmxlQ29kZSk7XG59O1xuXG5fZ2V0VGVtcGxhdGVEYXRhID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBmbG93LCBmb3JtLCBmb3JtX3ZlcnNpb24sIGxvY2FsZSwgc3RlZWRvc0RhdGE7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpO1xuICB9XG4gIGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcik7XG4gIHN0ZWVkb3NEYXRhID0ge307XG4gIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICBzdGVlZG9zRGF0YSA9IF8uY2xvbmUoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpKTtcbiAgICBzdGVlZG9zRGF0YS5pbnNuYW1lID0gaW5zdGFuY2UubmFtZTtcbiAgICBzdGVlZG9zRGF0YS5pbnNfc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcbiAgICBzdGVlZG9zRGF0YS5pbnNfZmluYWxfZGVjaXNpb24gPSBpbnN0YW5jZS5pbnNfZmluYWxfZGVjaXNpb247XG4gICAgc3RlZWRvc0RhdGEuaW5zX2NvZGUgPSBpbnN0YW5jZS5jb2RlO1xuICAgIHN0ZWVkb3NEYXRhLmluc19pc19hcmNoaXZlZCA9IGluc3RhbmNlLmlzX2FyY2hpdmVkO1xuICAgIHN0ZWVkb3NEYXRhLmluc19pc19kZWxldGVkID0gaW5zdGFuY2UuaW5zX2lzX2RlbGV0ZWQ7XG4gICAgc3RlZWRvc0RhdGEuYXBwbGljYW50X25hbWUgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZTtcbiAgICBzdGVlZG9zRGF0YS5hcHBsaWNhbnRDb250ZXh0ID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWU7XG4gIH1cbiAgc3RlZWRvc0RhdGEuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uID0gZm9ybV92ZXJzaW9uO1xuICBzdGVlZG9zRGF0YS5sb2NhbGUgPSBsb2NhbGU7XG4gIHN0ZWVkb3NEYXRhLnV0Y09mZnNldCA9IHVzZXIudXRjT2Zmc2V0O1xuICBzdGVlZG9zRGF0YS5zcGFjZSA9IGluc3RhbmNlLnNwYWNlO1xuICBzdGVlZG9zRGF0YS5zZXNzaW9uVXNlcklkID0gdXNlci5faWQ7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5lZGl0YWJsZSA6IHZvaWQgMCkge1xuICAgICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlLmZvcm1cbiAgICAgIH0pO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlLmZsb3dcbiAgICAgIH0pO1xuICAgICAgc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZm9ybS5jdXJyZW50LmZpZWxkcywgZmxvdy5jdXJyZW50LnN0ZXBzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0ZWVkb3NEYXRhO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlLCB1dGNPZmZzZXQpIHtcbiAgdmFyIHBhc3Npbmc7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBwYXNzaW5nID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcGFzc2luZyA9IHRydWU7XG4gIH1cbiAgaWYgKCF1dGNPZmZzZXQgJiYgdXRjT2Zmc2V0ICE9PSAwKSB7XG4gICAgdXRjT2Zmc2V0ID0gODtcbiAgfVxuICByZXR1cm4gbW9tZW50KGRhdGUpLnV0Y09mZnNldCh1dGNPZmZzZXQsIHBhc3NpbmcpLmZvcm1hdChcIllZWVktTU0tREQgSEg6bW1cIik7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCBpbnN0YW5jZUNvbXBpbGVkLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uLCBpbnN0YW5jZVRlbXBsYXRlLCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmFic29sdXRlIDogdm9pZCAwKSB7XG4gICAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuICB9XG4gIGluc3RhbmNlVGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UsIG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGVtcGxhdGVOYW1lIDogdm9pZCAwKTtcbiAgaW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZTZWxlY3RVc2VyL2csIFwiYWZTZWxlY3RVc2VyUmVhZFwiKTtcbiAgaWYgKCEob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5lZGl0YWJsZSA6IHZvaWQgMCkpIHtcbiAgICBpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZkZvcm1Hcm91cC9nLCBcImFmRm9ybUdyb3VwUmVhZFwiKTtcbiAgfVxuICBpbnN0YW5jZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVRlbXBsYXRlLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZUNvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlX3JlYWRvbmx5X3ZpZXdcIiwgaW5zdGFuY2VSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xuICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdChzdGVlZG9zRGF0YSk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LCBzdGVlZG9zRGF0YSk7XG4gIHJldHVybiBcIjxkaXYgaWQ9J2luc3RhbmNlZm9ybScgPlxcblx0XCIgKyBib2R5ICsgXCJcXG48L2Rpdj5cIjtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCBmb3JtLCBzdGVlZG9zRGF0YSwgdHJhY2VDb21waWxlZCwgdHJhY2VSZW5kZXJGdW5jdGlvbiwgdHJhY2VzSHRtbDtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICBpZiAoZm9ybS5pbnN0YW5jZV9zdHlsZSA9PT0gXCJ0YWJsZVwiIHx8IChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRlbXBsYXRlTmFtZSA6IHZvaWQgMCkgPT09IFwidGFibGVcIikge1xuICAgIHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfdGFibGUuaHRtbCcpO1xuICB9IGVsc2Uge1xuICAgIHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXMuaHRtbCcpO1xuICB9XG4gIHRyYWNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRyYWNlc0h0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHRyYWNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRyYWNlQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwidHJhY2VfcmVhZG9ubHlfdmlld1wiLCB0cmFjZVJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LmhlbHBlcnMoVHJhY2VzVGVtcGxhdGUuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LCBpbnN0YW5jZS50cmFjZXMpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50VmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSkge1xuICB2YXIgYXR0YWNobWVudENvbXBpbGVkLCBhdHRhY2htZW50SHRtbCwgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uLCBib2R5LCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIGF0dGFjaG1lbnRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2VfYXR0YWNobWVudHMuaHRtbCcpO1xuICBhdHRhY2htZW50Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGF0dGFjaG1lbnRIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24gPSBldmFsKGF0dGFjaG1lbnRDb21waWxlZCk7XG4gIFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJhdHRhY2htZW50c19yZWFkb25seV92aWV3XCIsIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5oZWxwZXJzKEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCByZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQsIHJlbGF0ZWRJbnN0YW5jZXNIdG1sLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24sIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuYWJzb2x1dGUgOiB2b2lkIDApIHtcbiAgICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG4gIH1cbiAgcmVsYXRlZEluc3RhbmNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX2luc3RhbmNlcy5odG1sJyk7XG4gIHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZEluc3RhbmNlc0h0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXdcIiwgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LmhlbHBlcnMoUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcsIHN0ZWVkb3NEYXRhKTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZFJlY29yZHNWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCByZWxhdGVkUmVjb3Jkc0NvbXBpbGVkLCByZWxhdGVkUmVjb3Jkc0h0bWwsIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24sIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuYWJzb2x1dGUgOiB2b2lkIDApIHtcbiAgICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG4gIH1cbiAgcmVsYXRlZFJlY29yZHNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9yZWNvcmRzLmh0bWwnKTtcbiAgcmVsYXRlZFJlY29yZHNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZFJlY29yZHNIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX3JlY29yZHNfdmlld1wiLCByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuaGVscGVycyhSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LCBzdGVlZG9zRGF0YSk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdCA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIHZhciBmb3JtX3NjcmlwdCwgZm9ybV92ZXJzaW9uO1xuICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcbiAgZm9ybV9zY3JpcHQgPSBmb3JtX3ZlcnNpb24uZm9ybV9zY3JpcHQ7XG4gIGlmIChmb3JtX3NjcmlwdCAmJiBmb3JtX3NjcmlwdC5yZXBsYWNlKC9cXG4vZywgXCJcIikucmVwbGFjZSgvXFxzL2csIFwiXCIpLmxlbmd0aCA+IDApIHtcbiAgICBmb3JtX3NjcmlwdCA9IFwiQ29yZUZvcm0gPSB7fTtDb3JlRm9ybS5pbnN0YW5jZWZvcm0gPSB7fTtcIiArIGZvcm1fc2NyaXB0O1xuICAgIHJldHVybiBmb3JtX3NjcmlwdCArPSBcIjtpZihDb3JlRm9ybS5mb3JtX09uTG9hZCl7d2luZG93Lm9ubG9hZCA9IENvcmVGb3JtLmZvcm1fT25Mb2FkKCk7fVwiO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmb3JtX3NjcmlwdCA9IFwiXCI7XG4gIH1cbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGFic29sdXRlVXJsLCBhbGxDc3NMaW5rLCBhdHRhY2htZW50LCBib2R5LCBjcmVhdG9yU2VydmljZSwgY3NzSHJlZiwgZm9ybSwgZm9ybURlc2NyaXB0aW9uLCBmb3JtRGVzY3JpcHRpb25IdG1sLCBodG1sLCBpbnNfcmVjb3JkX2lkcywgaW5zdGFuY2VCb3hTdHlsZSwgaW5zdGFuY2Vfc3R5bGUsIG9uTG9hZFNjcmlwdCwgb3BlbkZpbGVTY3JpcHQsIHJlZiwgcmVmMSwgcmVsYXRlZF9pbnN0YW5jZXMsIHJlbGF0ZWRfcmVjb3Jkcywgc2hvd1RyYWNlc0J0biwgc2hvd1RyYWNlc1NjcmlwdCwgdHJhY2UsIHRyYWNlQ2hlY2ssIHdpZHRoO1xuICBib2R5ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBvbkxvYWRTY3JpcHQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0KGluc3RhbmNlKTtcbiAgY3JlYXRvclNlcnZpY2UgPSAocmVmID0gTWV0ZW9yLnNldHRpbmdzW1wicHVibGljXCJdLndlYnNlcnZpY2VzKSAhPSBudWxsID8gKHJlZjEgPSByZWYuY3JlYXRvcikgIT0gbnVsbCA/IHJlZjEudXJsIDogdm9pZCAwIDogdm9pZCAwO1xuICBpbnNfcmVjb3JkX2lkcyA9IGluc3RhbmNlLnJlY29yZF9pZHM7XG4gIG9wZW5GaWxlU2NyaXB0ID0gXCJpZih3aW5kb3cuaXNOb2RlICYmIGlzTm9kZSgpKXtcXG5cdGF0dGFjaHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxcXCJpbnNfYXR0YWNoX2hyZWZcXFwiKTtcXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBhdHRhY2hzLmxlbmd0aDsgaSsrKXtcXG5cdFx0YXR0YWNoID0gYXR0YWNoc1tpXTtcXG5cdFx0YXR0YWNoLmFkZEV2ZW50TGlzdGVuZXIoXFxcImNsaWNrXFxcIiwgZnVuY3Rpb24oZSl7XFxuXHRcdFx0aWYoaXNJbWFnZSh0aGlzLmRhdGFzZXQudHlwZSkgfHwgaXNIdG1sKHRoaXMuZGF0YXNldC50eXBlKSl7XFxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XFxuXHRcdFx0XHRvcGVuV2luZG93KFxcXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy9cXFwiICsgdGhpcy5kYXRhc2V0LmlkKTtcXG5cdFx0XHR9ZWxzZSBpZihud19jb3JlLmNhbk9wZW5GaWxlKHRoaXMuZGF0YXNldC5uYW1lKSl7XFxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XFxuXHRcdFx0XHRud19jb3JlLm9wZW5GaWxlKHRoaXMuaHJlZiwgdGhpcy5kYXRhc2V0Lm5hbWUpXFxuXHRcdFx0fVxcblx0XHR9KTtcXG5cdH1cXG59XFxuXFxudmFyIGZsb3cgPSBcXFwiXCIgKyBpbnN0YW5jZS5mbG93ICsgXCJcXFwiO1xcbnZhciBzcGFjZSA9IFxcXCJcIiArIGluc3RhbmNlLnNwYWNlICsgXCJcXFwiO1xcblxcbmZ1bmN0aW9uIGdldENvb2tpZShuYW1lKXtcXG5cdGxldCBwYXR0ZXJuID0gUmVnRXhwKG5hbWUgKyBcXFwiPS5bXjtdKlxcXCIpXFxuXHRsZXQgbWF0Y2hlZCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChwYXR0ZXJuKVxcblx0aWYobWF0Y2hlZCl7XFxuXHRcdGxldCBjb29raWUgPSBtYXRjaGVkWzBdLnNwbGl0KCc9JylcXG5cdFx0cmV0dXJuIGNvb2tpZVsxXVxcblx0fVxcblx0cmV0dXJuICcnXFxufVxcblxcbnZhciByZWNvcmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcXFwiaW5zLXJlbGF0ZWQtcmVjb3Jkc1xcXCIpO1xcbmZvcih2YXIgaSA9IDA7IGkgPCByZWNvcmRzLmxlbmd0aDsgaSsrKXtcXG5cdFx0dmFyIHJlY29yZCA9IHJlY29yZHNbaV07XFxuXHRcdHJlY29yZC5hZGRFdmVudExpc3RlbmVyKFxcXCJjbGlja1xcXCIsIGZ1bmN0aW9uKGUpe1xcblx0XHRcdHZhciBjcmVhdG9yU2VydmljZSA9IFxcXCJcIiArIGNyZWF0b3JTZXJ2aWNlICsgXCJcXFwiXFxuXHRcdFx0dmFyIGluc19yZWNvcmRfaWRzID0gXCIgKyAoSlNPTi5zdHJpbmdpZnkoaW5zX3JlY29yZF9pZHMpKSArIFwiXFxuXHRcdFx0aWYoY3JlYXRvclNlcnZpY2UgJiYgaW5zX3JlY29yZF9pZHMgJiYgaW5zX3JlY29yZF9pZHMubGVuZ3RoID4gMCl7XFxuXHRcdFx0XHR2YXIgb2JqY2V0TmFtZSA9IGluc19yZWNvcmRfaWRzWzBdLm9cXG5cdFx0XHRcdHZhciBpZCA9IGluc19yZWNvcmRfaWRzWzBdLmlkc1swXVxcblx0XHRcdFx0dmFyIHVvYmogPSB7fTtcXG5cdFx0XHRcdHVvYmpbXFxcIlgtVXNlci1JZFxcXCJdID0gZ2V0Q29va2llKFxcXCJYLVVzZXItSWRcXFwiKTtcXG5cdFx0XHRcdHVvYmpbXFxcIlgtQXV0aC1Ub2tlblxcXCJdID0gZ2V0Q29va2llKFxcXCJYLUF1dGgtVG9rZW5cXFwiKTtcXG5cdFx0XHRcdHJlZGlyZWN0VXJsID0gY3JlYXRvclNlcnZpY2UgKyBcXFwiYXBwLy0vXFxcIiArIG9iamNldE5hbWUgKyBcXFwiL3ZpZXcvXFxcIiArIGlkICsgXFxcIj9cXFwiICsgJC5wYXJhbSh1b2JqKTtcXG5cdFx0XHRcdG9wZW5XaW5kb3cocmVkaXJlY3RVcmwpO1xcblx0XHRcdH1cXG5cdFx0fSk7XFxuXHR9XFxuXCI7XG4gIGlmICghU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gICAgaWYgKChmb3JtICE9IG51bGwgPyBmb3JtLmluc3RhbmNlX3N0eWxlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJykge1xuICAgICAgaW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCI7XG4gICAgfVxuICB9XG4gIGlmICgob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgaW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCI7XG4gIH1cbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGUgOiB2b2lkIDApIHtcbiAgICBpbnN0YW5jZV9zdHlsZSA9IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGU7XG4gIH1cbiAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd1RyYWNlID09PSB0cnVlKSB7XG4gICAgdHJhY2UgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIHRyYWNlID0gXCJcIjtcbiAgfVxuICBpbnN0YW5jZUJveFN0eWxlID0gXCJcIjtcbiAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uKSB7XG4gICAgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgIGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1zdWNjZXNzXCI7XG4gICAgfSBlbHNlIGlmIChpbnN0YW5jZS5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICBpbnN0YW5jZUJveFN0eWxlID0gXCJib3gtZGFuZ2VyXCI7XG4gICAgfVxuICB9XG4gIGlmICghb3B0aW9ucyB8fCBvcHRpb25zLnNob3dBdHRhY2htZW50cyA9PT0gdHJ1ZSkge1xuICAgIGF0dGFjaG1lbnQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgICByZWxhdGVkX2luc3RhbmNlcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICAgIHJlbGF0ZWRfcmVjb3JkcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBhdHRhY2htZW50ID0gXCJcIjtcbiAgICByZWxhdGVkX2luc3RhbmNlcyA9IFwiXCI7XG4gICAgcmVsYXRlZF9yZWNvcmRzID0gXCJcIjtcbiAgfVxuICBhYnNvbHV0ZVVybCA9IE1ldGVvci5hYnNvbHV0ZVVybCgpO1xuICB3aWR0aCA9IFwiOTYwcHhcIjtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMud2lkdGggOiB2b2lkIDApIHtcbiAgICB3aWR0aCA9IFwiXCI7XG4gIH1cbiAgY3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcInN0ZWVkb3MtY3NzXCIpO1xuICBhbGxDc3NMaW5rID0gXCI8bGluayByZWw9XFxcInN0eWxlc2hlZXRcXFwiIHR5cGU9XFxcInRleHQvY3NzXFxcIiBjbGFzcz1cXFwiX19tZXRlb3ItY3NzX19cXFwiIGhyZWY9XFxcIlwiICsgY3NzSHJlZiArIFwiXFxcIj5cIjtcbiAgdHJhY2VDaGVjayA9IFwiXCI7XG4gIGlmICghXy5pc0VtcHR5KHRyYWNlKSkge1xuICAgIHRyYWNlQ2hlY2sgPSBcImNoZWNrZWRcIjtcbiAgfVxuICBpZiAoKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGFnZ2VyIDogdm9pZCAwKSA9PT0gJ2VtYWlsJykge1xuICAgIHNob3dUcmFjZXNCdG4gPSBcIlwiO1xuICB9IGVsc2Uge1xuICAgIHNob3dUcmFjZXNCdG4gPSBcIjxkaXYgY2xhc3M9XFxcIm5hdmlnYXRpb24tYmFyIGJ0bi1ncm91cCBuby1wcmludFxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDogNjAwcHg7IHotaW5kZXg6IDk5OVxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJwcmludC10b29sXFxcIj5cXG5cdFx0PGxhYmVsIGNsYXNzPVxcXCJjYngtbGFiZWxcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcImNieC1wcmludCBjYngtcHJpbnQtYXR0YWNobWVudHNcXFwiIGlkPVxcXCJjYngtcHJpbnQtYXR0YWNobWVudHNcXFwiIGNoZWNrZWQ9XFxcImNoZWNrZWRcXFwiPjxzcGFuPumZhOS7tjwvc3Bhbj48L2xhYmVsPlxcblx0XHQ8bGFiZWwgY2xhc3M9XFxcImNieC1sYWJlbFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiY2J4LXByaW50IGNieC1wcmludC10cmFjZXNcXFwiIGlkPVxcXCJjYngtcHJpbnQtdHJhY2VzXFxcIiBjaGVja2VkPVxcXCJcIiArIHRyYWNlQ2hlY2sgKyBcIlxcXCI+PHNwYW4+XCIgKyAodCgnaW5zdGFuY2VfYXBwcm92YWxfaGlzdG9yeScpKSArIFwiPC9zcGFuPjwvbGFiZWw+XFxuXHQ8L2Rpdj5cXG48L2Rpdj5cIjtcbiAgfVxuICBzaG93VHJhY2VzU2NyaXB0ID0gXCIkKCBkb2N1bWVudCApLnJlYWR5KGZ1bmN0aW9uKCl7XFxuXHR2YXIgYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtdHJhY2VzJyk7XFxuXHR2YXIgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc3RhbmNlLXRyYWNlcycpWzBdO1xcblx0aWYgKGIuY2hlY2tlZCl7XFxuXHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0fSBlbHNlIHtcXG5cdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcXG5cdH1cXG5cdGIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSl7XFxuXHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcXG5cdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdFx0fSBlbHNlIHtcXG5cdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0XHR9XFxuXHR9KTtcXG5cXG5cdHZhciBhdHRhY2htZW50c0NoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieC1wcmludC1hdHRhY2htZW50cycpO1xcblx0dmFyIGF0dGFjaG1lbnRzVmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2F0dGFjaG1lbnRzLXNlY3Rpb24nKVswXTtcXG5cdGlmIChhdHRhY2htZW50c0NoZWNrYm94LmNoZWNrZWQpe1xcblx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0fSBlbHNlIHtcXG5cdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0fVxcblx0YXR0YWNobWVudHNDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcXG5cdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xcblx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHRcdH0gZWxzZSB7XFxuXHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0XHR9XFxuXHR9KTtcXG59KTtcXG5cIjtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuc3R5bGVzIDogdm9pZCAwKSB7XG4gICAgYWxsQ3NzTGluayA9IFwiXCI7XG4gIH1cbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgIF9pZDogaW5zdGFuY2UuZm9ybVxuICB9KTtcbiAgZm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiXCI7XG4gIGlmIChmb3JtKSB7XG4gICAgZm9ybURlc2NyaXB0aW9uID0gZm9ybS5kZXNjcmlwdGlvbjtcbiAgICBpZiAoZm9ybURlc2NyaXB0aW9uKSB7XG4gICAgICBmb3JtRGVzY3JpcHRpb24gPSBmb3JtRGVzY3JpcHRpb24ucmVwbGFjZSgvXFxuL2csIFwiPGJyLz5cIik7XG4gICAgICBmb3JtRGVzY3JpcHRpb25IdG1sID0gXCI8ZGl2IGNsYXNzPVxcXCJib3gtaGVhZGVyICB3aXRoLWJvcmRlciBpbnN0YW5jZS1oZWFkZXJcXFwiPlxcblx0PGRpdj5cXG5cdFx0XCIgKyBmb3JtRGVzY3JpcHRpb24gKyBcIlxcblx0PC9kaXY+XFxuPC9kaXY+XCI7XG4gICAgfVxuICB9XG4gIGh0bWwgPSBcIjwhRE9DVFlQRSBodG1sPlxcbjxodG1sPlxcblx0PGhlYWQ+XFxuXHRcdDxtZXRhIGh0dHAtZXF1aXY9XFxcIkNvbnRlbnQtVHlwZVxcXCIgY29udGVudD1cXFwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XFxcIi8+XFxuXHRcdFwiICsgYWxsQ3NzTGluayArIFwiXFxuXHRcdDxzY3JpcHQgc3JjPVxcXCJodHRwczovL3d3dy5zdGVlZG9zLmNvbS93ZWJzaXRlL2xpYnMvanF1ZXJ5Lm1pbi5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG5cdFx0PHNjcmlwdCBzcmM9XFxcIi9qcy9ud19jb3JlLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0Plxcblx0XHRcIiArIChvcHRpb25zLnBsdWdpbnMgfHwgXCJcIikgKyBcIlxcblxcblx0XHQ8c3R5bGU+XFxuXHRcdFx0LnN0ZWVkb3N7XFxuXHRcdFx0XHR3aWR0aDogXCIgKyB3aWR0aCArIFwiO1xcblx0XHRcdFx0bWFyZ2luLWxlZnQ6IGF1dG87XFxuXHRcdFx0XHRtYXJnaW4tcmlnaHQ6IGF1dG87XFxuXHRcdFx0fVxcblxcblx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS1uYW1le1xcblx0XHRcdFx0ZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnRcXG5cdFx0XHR9XFxuXHRcdFx0LmJveC10b29sc3tcXG5cdFx0XHRcdGRpc3BsYXk6IG5vbmU7XFxuXHRcdFx0fVxcblx0XHRcdC5ib3guY29sbGFwc2VkLWJveCAuYm94LWJvZHksLmJveC5jb2xsYXBzZWQtYm94IC5ib3gtZm9vdGVyIHtcXG5cdFx0XHQgIGRpc3BsYXk6IGJsb2NrO1xcblx0XHRcdH1cXG5cXG5cdFx0XHRib2R5e1xcblx0XHRcdFx0YmFja2dyb3VuZDogYXp1cmUgIWltcG9ydGFudDtcXG5cdFx0XHR9XFxuXFxuXHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLXRyYWNlc3tcXG5cdFx0XHRcdHBhZGRpbmctbGVmdDogMTVweDtcXG5cdFx0XHRcdHBhZGRpbmctcmlnaHQ6IDE1cHg7XFxuXHRcdFx0fVxcblxcblx0XHRcdFwiICsgKChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnN0eWxlcyA6IHZvaWQgMCkgfHwgXCJcIikgKyBcIlxcblx0XHQ8L3N0eWxlPlxcblx0PC9oZWFkPlxcblx0PGJvZHk+XFxuXHRcdDxkaXYgY2xhc3M9XFxcInN0ZWVkb3Mgd29ya2Zsb3cgaW5zdGFuY2UtcHJpbnRcXFwiPlxcblx0XHRcdDxkaXYgY2xhc3M9XFxcInNraW4tZ3JlZW4gc2tpbi1hZG1pbi1sdGVcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz1cXFwid3JhcHBlclxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbnRlbnQtd3JhcHBlclxcXCI+XFxuXHRcdFx0XHRcdFx0XCIgKyBzaG93VHJhY2VzQnRuICsgXCJcXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1wcmludFxcXCI+XFxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZSBcIiArIGluc3RhbmNlX3N0eWxlICsgXCJcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8Zm9ybSBuYW1lPVxcXCJpbnN0YW5jZUZvcm1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlLWZvcm0gYm94IFwiICsgaW5zdGFuY2VCb3hTdHlsZSArIFwiXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgZm9ybURlc2NyaXB0aW9uSHRtbCArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJib3gtYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0nYXR0YWNobWVudHMtc2VjdGlvbic+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIGF0dGFjaG1lbnQgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyByZWxhdGVkX2luc3RhbmNlcyArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIHJlbGF0ZWRfcmVjb3JkcyArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyBib2R5ICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0PC9mb3JtPlxcblx0XHRcdFx0XHRcdFx0XHRcIiArIHRyYWNlICsgXCJcXG5cdFx0XHRcdFx0XHRcdDwvZGl2Plxcblxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvZGl2Plxcblx0XHQ8L2Rpdj5cXG5cdDwvYm9keT5cXG5cdDxzY3JpcHQ+XCIgKyBvcGVuRmlsZVNjcmlwdCArIFwiO1wiICsgb25Mb2FkU2NyaXB0ICsgXCI7XCIgKyBzaG93VHJhY2VzU2NyaXB0ICsgXCI8L3NjcmlwdD5cXG48L2h0bWw+XCI7XG4gIHJldHVybiBodG1sO1xufTtcbiIsIlRlbXBsYXRlTWFuYWdlciA9IHt9O1xyXG5cclxuZm9ybUlkID0gJ2luc3RhbmNlZm9ybSc7XHJcblxyXG5cclxuVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlID0gKCktPlxyXG5cdHBhZ2VUaXRsZSA9IFwiXCJcIlxyXG5cdFx0e3tpbnN0YW5jZS5uYW1lfX1cclxuXHRcIlwiXCJcclxuXHJcblx0cGFnZVRpdGxlVHJDbGFzcyA9IFwiaW5zdGFuY2UtbmFtZVwiXHJcblxyXG5cdGlmIENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWVcclxuXHRcdHBhZ2VUaXRsZSA9IFwiXCJcIlxyXG5cdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3tDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWV9XCIgbGFiZWw9ZmFsc2V9fVxyXG5cdFx0XCJcIlwiXHJcblx0XHRwYWdlVGl0bGVUckNsYXNzID0gXCJcIlxyXG5cclxuXHRpZiBDb3JlRm9ybT8ucGFnZVRpdGxlXHJcblx0XHRwYWdlVGl0bGUgPSBcIlwiXCJcclxuXHRcdFx0I3tDb3JlRm9ybS5wYWdlVGl0bGV9XHJcblx0XHRcIlwiXCJcclxuXHRcdHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiXHJcblxyXG5cdHZhbCA9XHJcblx0XHRwYWdlVGl0bGU6IHBhZ2VUaXRsZVxyXG5cdFx0cGFnZVRpdGxlVHJDbGFzczogcGFnZVRpdGxlVHJDbGFzc1xyXG5cclxuXHRyZXR1cm4gdmFsXHJcblxyXG5UZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSA9IChpbnN0YW5jZSwgX2V4cG9ydCkgLT5cclxuXHJcblx0dGVtcGxhdGUgPSBcIlwiXCJcclxuXHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XHJcblx0XHQ8dGFibGUgY2xhc3M9XCJ0YWJsZS1wYWdlLXRpdGxlIGZvcm0tdGFibGUgbm8tYm9yZGVyIHRleHQtYWxpZ24tY2VudGVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XCI+XHJcblx0XHRcdDx0ciBjbGFzcz1cIiN7dGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZVRyQ2xhc3N9XCI+XHJcblx0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZCBwYWdlLXRpdGxlXCI+XHJcblx0XHRcdFx0XHQje3RoaXMuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGV9XHJcblx0XHRcdFx0PC90ZD5cclxuXHRcdFx0PC90cj5cclxuXHJcblx0XHQ8L3RhYmxlPlxyXG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS1ib2R5IGZvcm0tdGFibGVcIj5cclxuXHRcdFx0XHQ8dHIgc3R5bGU9XCJoZWlnaHQ6MHB4XCI+XHJcblx0XHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XHJcblx0XHRcdFx0XHQ8dGg+PC90aD5cclxuXHRcdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cclxuXHRcdFx0XHRcdDx0aD48L3RoPlxyXG5cdFx0XHRcdDwvdHI+XHJcblx0XCJcIlwiO1xyXG5cclxuXHR0YWJsZV9maWVsZHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRhYmxlX2ZpZWxkcyhpbnN0YW5jZSlcclxuXHJcblx0dGFibGVfZmllbGRzLmZvckVhY2ggKHRhYmxlX2ZpZWxkKS0+XHJcblxyXG5cdFx0cmVxdWlyZWQgPSBcIlwiXHJcblx0XHRpZiAhQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZSB8fCBDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lICE9IHRhYmxlX2ZpZWxkLmNvZGVcclxuXHRcdFx0aWYgdGFibGVfZmllbGQuaXNfcmVxdWlyZWRcclxuXHRcdFx0XHRyZXF1aXJlZCA9IFwiaXMtcmVxdWlyZWRcIlxyXG5cclxuXHRcdFx0aWYgX2V4cG9ydFxyXG5cdFx0XHRcdHJlcXVpcmVkID0gXCJcIjtcclxuXHJcblx0XHRcdHB1cmVDb2RlID0gU3RlZWRvcy5yZW1vdmVTcGVjaWFsQ2hhcmFjdGVyKHRhYmxlX2ZpZWxkLmNvZGUpO1xyXG5cclxuXHRcdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZCh0YWJsZV9maWVsZClcclxuXHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxyXG5cdFx0XHRcdHRlbXBsYXRlICs9IFwiXCJcIlxyXG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUgI3tyZXF1aXJlZH1cIj5cclxuXHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxyXG5cdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIG9waW5pb24tZmllbGQgb3Bpbmlvbi1maWVsZC0je3B1cmVDb2RlfSBhdXRvbWF0aWNcIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XHJcblx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxyXG5cdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcIlwiXCJcclxuXHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmRcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGlmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZXModGFibGVfZmllbGQudHlwZSwgJ3NlY3Rpb24sdGFibGUnKVxyXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcclxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IFwiXCJcIlxyXG5cdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1jaGlsZGZpZWxkIHRkLWNoaWxkZmllbGQtI3twdXJlQ29kZX1cIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XHJcblx0XHRcdFx0XHRcdCAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwiIGxhYmVsPWZhbHNlfX1cclxuXHRcdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdFwiXCJcIlxyXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcclxuXHJcblx0XHRcdFx0XHRpZiBfZXhwb3J0XHJcblx0XHRcdFx0XHRcdHRpdGxlX3Blcm1pc3Npb24gPSBcIlwiXHJcblx0XHRcdFx0XHRcdGZpZWxkX3Blcm1pc3Npb24gPSBcIlwiXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHRpdGxlX3Blcm1pc3Npb24gPSBcInRpdGxlLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvblxyXG5cdFx0XHRcdFx0XHRmaWVsZF9wZXJtaXNzaW9uID0gXCJmaWVsZC1cIiArIHRhYmxlX2ZpZWxkLnBlcm1pc3Npb25cclxuXHJcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSBcIlwiXCJcclxuXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUgdGQtdGl0bGUtI3twdXJlQ29kZX0gI3t0aXRsZV9wZXJtaXNzaW9ufSAje3JlcXVpcmVkfVwiPlxyXG5cdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwifX1cclxuXHRcdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgdGQtZmllbGQtI3twdXJlQ29kZX0gI3tmaWVsZF9wZXJtaXNzaW9ufVwiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cclxuXHRcdFx0XHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIiBsYWJlbD1mYWxzZX19XHJcblx0XHRcdFx0XHRcdDwvdGQ+XHJcblx0XHRcdFx0XHRcIlwiXCJcclxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZFxyXG5cclxuXHR0ZW1wbGF0ZSArPSBcIlwiXCJcclxuXHRcdDwvdGFibGU+XHJcblxyXG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS1mb290ZXIgZm9ybS10YWJsZSBuby1ib3JkZXJcIj5cclxuXHRcdFx0PHRyIGNsYXNzPVwiYXBwbGljYW50LXdyYXBwZXJcIj5cclxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJub3dyYXBcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cclxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7X3QgXCJpbnN0YW5jZV9pbml0aWF0b3JcIn1977yaPC9sYWJlbD5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZCBpbmxpbmUtbGVmdCc+XHJcblx0XHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvdGQ+XHJcblx0XHRcdFx0PHRkIGNsYXNzPVwibm93cmFwXCI+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdwdWxsLWxlZnQnPlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XHJcblx0XHRcdFx0XHRcdFx0PGxhYmVsPnt7X3QgXCJpbnN0YW5jZV9zdWJtaXRfZGF0ZVwifX3vvJo8L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLXJpZ2h0Jz5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0e3tmb3JtYXREYXRlIGluc3RhbmNlLnN1Ym1pdF9kYXRlICd7XCJmb3JtYXRcIjpcIllZWVktTU0tRERcIn0nfX1cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHQ8L3RyPlxyXG5cdFx0PC90YWJsZT5cclxuXHQ8L2Rpdj5cclxuXHRcIlwiXCJcclxuXHRyZXR1cm4gdGVtcGxhdGVcclxuXHJcbiPmraTlpITmqKHmnb/lhaznlKjkuI7vvJppbnN0YW5jZSDnvJbovpHjgIHmn6XnnIvjgIHmiZPljbDjgIHovazlj5Hml7bnlJ/miJDpmYTku7bjgIHlj5HpgIHpgq7ku7Zib2R56YOo5YiGKHRhYmxlIOaooeadvylcclxuI+WmguaenOacieS/ruaUue+8jOivt+a1i+ivleehruiupOWFtuS7luWKn+iDveaYr+WQpuato+W4uOOAglxyXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlID1cclxuXHRkZWZhdWx0OiAoaW5zdGFuY2UpLT5cclxuXHJcblx0XHR0ZW1wbGF0ZSA9IFwiXCJcIlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid2l0aC1ib3JkZXIgY29sLW1kLTEyXCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLW5hbWVcIj5cclxuXHRcdFx0XHRcdDxoMyBjbGFzcz1cImJveC10aXRsZVwiPiN7VGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlfTwvaDM+XHJcblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImhlbHAtYmxvY2tcIj48L3NwYW4+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJoZWxwLWJsb2NrXCI+PC9zcGFuPlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0e3sjZWFjaCBzdGVlZG9zX2Zvcm0uZmllbGRzfX1cclxuXHRcdFx0XHR7eyNpZiBpc09waW5pb25GaWVsZCB0aGlzfX1cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19IGZpZWxkLXt7dGhpcy5jb2RlfX1cIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgYXV0b21hdGljIG9waW5pb24tZmllbGQte3t0aGlzLmNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fTwvbGFiZWw+XHJcblxyXG5cdFx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9dGhpcy5jb2RlfX1cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtbWQtMTIgZmllbGQte3t0aGlzLmNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGV9fVxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdHt7L2VhY2h9fVxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY29sLW1kLTEyXCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImFwcGxpY2FudC13cmFwcGVyIGZvcm0tZ3JvdXAgZm9ybS1ob3Jpem9udGFsXCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYWRkb25cIj5cclxuXHRcdFx0XHRcdCAge3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX0mbmJzcDs6XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cclxuXHRcdFx0XHQgIDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFwiXCJcIlxyXG5cdFx0cmV0dXJuIHRlbXBsYXRlXHJcblxyXG5cdHRhYmxlOiAoaW5zdGFuY2UpLT5cclxuXHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZShpbnN0YW5jZSlcclxuI1x0dGFibGU6ICcnJ1xyXG4jXHRcdDx0YWJsZSBjbGFzcz1cImJveC1oZWFkZXIgIHdpdGgtYm9yZGVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XCI+XHJcbiNcdFx0XHQ8dHIgY2xhc3M9XCJpbnN0YW5jZS1uYW1lXCI+XHJcbiNcdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLW5hbWUtdGRcIj5cclxuI1x0XHRcdFx0XHQ8aDMgY2xhc3M9XCJib3gtdGl0bGVcIj57e2luc3RhbmNlLm5hbWV9fTwvaDM+XHJcbiNcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJoZWxwLWJsb2NrXCI+PC9zcGFuPlxyXG4jXHRcdFx0XHQ8L3RkPlxyXG4jXHRcdFx0PC90cj5cclxuIyAgICAgICAgICAgIDx0ciBjbGFzcz1cImFwcGxpY2FudC13cmFwcGVyXCI+XHJcbiNcdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLXdyYXBwZXItdGRcIj5cclxuI1x0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX0mbmJzcDs6PC9sYWJlbD5cclxuI1x0XHRcdFx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cImFmU2VsZWN0VXNlclwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XHJcbiNcdFx0XHRcdDwvdGQ+XHJcbiNcdFx0XHQ8L3RyPlxyXG4jICAgICAgICA8L3RhYmxlPlxyXG4jXHRcdDx0YWJsZSBjbGFzcz1cImZvcm0tdGFibGVcIj5cclxuI1x0XHQgICAge3sjZWFjaCB0YWJsZV9maWVsZHN9fVxyXG4jXHRcdFx0XHR7eyNpZiBpc09waW5pb25GaWVsZCB0aGlzfX1cclxuI1x0XHRcdFx0XHR7e3t0cl9zdGFydH19fVxyXG4jXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUge3sjaWYgaXNfcmVxdWlyZWR9fWlzLXJlcXVpcmVke3svaWZ9fVwiPlxyXG4jXHRcdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fVxyXG4jXHRcdFx0XHRcdFx0PC90ZD5cclxuI1x0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIG9waW5pb24tZmllbGRcIiBjb2xzcGFuID0gJ3t7dGRfY29sc3Bhbn19Jz5cclxuI1x0XHRcdFx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgc3RlcD0oZ2V0T3BpbmlvbkZpZWxkU3RlcE5hbWUgdGhpcykgZGVmYXVsdD0nJ319XHJcbiNcdFx0XHRcdFx0XHQ8L3RkPlxyXG4jXHRcdFx0XHRcdHt7e3RyX2VuZH19fVxyXG4jXHRcdFx0XHR7e2Vsc2V9fVxyXG4jXHRcdFx0XHRcdHt7I2lmIGluY2x1ZGVzIHRoaXMudHlwZSAnc2VjdGlvbix0YWJsZSd9fVxyXG4jXHRcdFx0XHRcdFx0e3t7dHJfc3RhcnR9fX1cclxuI1x0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtY2hpbGRmaWVsZFwiIGNvbHNwYW4gPSAne3t0ZF9jb2xzcGFufX0nPlxyXG4jXHRcdFx0XHRcdFx0XHQgICB7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGUgbGFiZWw9ZmFsc2V9fVxyXG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxyXG4jXHRcdFx0XHRcdFx0e3t7dHJfZW5kfX19XHJcbiNcdFx0XHRcdFx0e3tlbHNlfX1cclxuI1x0XHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XHJcbiNcdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLXRpdGxlIHt7I2lmIGlzX3JlcXVpcmVkfX1pcy1yZXF1aXJlZHt7L2lmfX1cIj5cclxuI1x0XHRcdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fVxyXG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxyXG4jXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1maWVsZCB7e3Blcm1pc3Npb259fVwiIGNvbHNwYW4gPSAne3t0ZF9jb2xzcGFufX0nPlxyXG4jXHRcdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XHJcbiNcdFx0XHRcdFx0XHRcdDwvdGQ+XHJcbiNcdFx0XHRcdFx0XHR7e3t0cl9lbmR9fX1cclxuI1x0XHRcdFx0XHR7ey9pZn19XHJcbiNcdFx0XHRcdHt7L2lmfX1cclxuI1xyXG4jXHRcdCAgICB7ey9lYWNofX1cclxuI1x0XHQ8L3RhYmxlPlxyXG4jXHQnJydcclxuXHJcblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVIZWxwcyA9XHJcblx0YXBwbGljYW50Q29udGV4dDogLT5cclxuXHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGRhdGEgPSB7XHJcblx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50JyxcclxuXHRcdFx0YXR0czoge1xyXG5cdFx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50JyxcclxuXHRcdFx0XHRpZDogJ2luc19hcHBsaWNhbnQnLFxyXG5cdFx0XHRcdGNsYXNzOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wnLFxyXG5cdFx0XHRcdHN0eWxlOiAncGFkZGluZzo2cHggMTJweDt3aWR0aDoxNDBweDtkaXNwbGF5OmlubGluZSdcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4jXHRcdGlmIG5vdCBzdGVlZG9zX2luc3RhbmNlIHx8IHN0ZWVkb3NfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiXHJcblx0XHRkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlXHJcblx0XHRyZXR1cm4gZGF0YTtcclxuXHJcbmluc3RhbmNlSWQ6IC0+XHJcblx0cmV0dXJuICdpbnN0YW5jZWZvcm0nOyNcImluc3RhbmNlX1wiICsgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpO1xyXG5cclxuZm9ybV90eXBlczogLT5cclxuXHRpZiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcclxuXHRcdHJldHVybiAnZGlzYWJsZWQnO1xyXG5cdGVsc2VcclxuXHRcdHJldHVybiAnbWV0aG9kJztcclxuXHJcbnN0ZWVkb3NfZm9ybTogLT5cclxuXHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xyXG5cdGlmIGZvcm1fdmVyc2lvblxyXG5cdFx0cmV0dXJuIGZvcm1fdmVyc2lvblxyXG5cclxuaW5uZXJzdWJmb3JtQ29udGV4dDogKG9iaiktPlxyXG5cdGRvY192YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XHJcblx0b2JqW1widGFibGVWYWx1ZXNcIl0gPSBpZiBkb2NfdmFsdWVzIHRoZW4gZG9jX3ZhbHVlc1tvYmouY29kZV0gZWxzZSBbXVxyXG5cdG9ialtcImZvcm1JZFwiXSA9IGZvcm1JZDtcclxuXHRyZXR1cm4gb2JqO1xyXG5cclxuaW5zdGFuY2U6IC0+XHJcblx0U2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKVxyXG5cdGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpXHJcblx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRyZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcclxuXHJcbmVxdWFsczogKGEsIGIpIC0+XHJcblx0cmV0dXJuIChhID09IGIpXHJcblxyXG5pbmNsdWRlczogKGEsIGIpIC0+XHJcblx0cmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcclxuXHJcbmZpZWxkczogLT5cclxuXHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xyXG5cdGlmIGZvcm1fdmVyc2lvblxyXG5cdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcclxuXHJcbmRvY192YWx1ZXM6IC0+XHJcblx0V29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xyXG5cclxuaW5zdGFuY2VfYm94X3N0eWxlOiAtPlxyXG5cdGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpXHJcblx0aWYgYm94ID09IFwiaW5ib3hcIiB8fCBib3ggPT0gXCJkcmFmdFwiXHJcblx0XHRqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIilcclxuXHRcdGlmIGp1ZGdlXHJcblx0XHRcdGlmIChqdWRnZSA9PSBcImFwcHJvdmVkXCIpXHJcblx0XHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxyXG5cdFx0XHRlbHNlIGlmIChqdWRnZSA9PSBcInJlamVjdGVkXCIpXHJcblx0XHRcdFx0cmV0dXJuIFwiYm94LWRhbmdlclwiXHJcblx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0aWYgaW5zICYmIGlucy5maW5hbF9kZWNpc2lvblxyXG5cdFx0aWYgaW5zLmZpbmFsX2RlY2lzaW9uID09IFwiYXBwcm92ZWRcIlxyXG5cdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXHJcblx0XHRlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJyZWplY3RlZFwiKVxyXG5cdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcclxuXHJcblxyXG5UZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUgPSAoaW5zdGFuY2UsIHRlbXBsYXRlTmFtZSkgLT5cclxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcclxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcclxuXHJcblx0aWYgdGVtcGxhdGVOYW1lXHJcblx0XHRpZiB0ZW1wbGF0ZU5hbWUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSlcclxuXHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXHJcblxyXG5cdGlmIFNlc3Npb24/LmdldChcImluc3RhbmNlUHJpbnRcIilcclxuXHRcdGlmIGZsb3c/LnByaW50X3RlbXBsYXRlXHJcblx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cucHJpbnRfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXHJcblx0XHRlbHNlXHJcblx0XHRcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXHJcblx0XHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxyXG5cdGVsc2VcclxuXHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxyXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS5kZWZhdWx0KGluc3RhbmNlKVxyXG5cclxuXHRcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXHJcblx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXHJcblxyXG5cdFx0aWYgZm9ybT8uaW5zdGFuY2Vfc3R5bGVcclxuXHRcdFx0aWYgZm9ybS5pbnN0YW5jZV9zdHlsZSA9PSAndGFibGUnXHJcblx0XHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXHJcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXHJcblxyXG4jVGVtcGxhdGVNYW5hZ2VyLmV4cG9ydFRlbXBsYXRlID0gKGZsb3dJZCkgLT5cclxuI1x0dGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoZmxvd0lkKTtcclxuI1xyXG4jXHRmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZsb3coZmxvd0lkKTtcclxuI1xyXG4jXHRpZiBmbG93Py5pbnN0YW5jZV90ZW1wbGF0ZVxyXG4jXHRcdHJldHVybiB0ZW1wbGF0ZTtcclxuI1xyXG4jXHRyZXR1cm4gdGVtcGxhdGU7XHJcblxyXG4iLCJ2YXIgZm9ybUlkOyAgICAgICAgICAgICAgICAgXG5cblRlbXBsYXRlTWFuYWdlciA9IHt9O1xuXG5mb3JtSWQgPSAnaW5zdGFuY2Vmb3JtJztcblxuVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYWdlVGl0bGUsIHBhZ2VUaXRsZVRyQ2xhc3MsIHZhbDtcbiAgcGFnZVRpdGxlID0gXCJ7e2luc3RhbmNlLm5hbWV9fVwiO1xuICBwYWdlVGl0bGVUckNsYXNzID0gXCJpbnN0YW5jZS1uYW1lXCI7XG4gIGlmICh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApIHtcbiAgICBwYWdlVGl0bGUgPSBcInt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSArIFwiXFxcIiBsYWJlbD1mYWxzZX19XCI7XG4gICAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZSA6IHZvaWQgMCkge1xuICAgIHBhZ2VUaXRsZSA9IFwiXCIgKyBDb3JlRm9ybS5wYWdlVGl0bGU7XG4gICAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiXCI7XG4gIH1cbiAgdmFsID0ge1xuICAgIHBhZ2VUaXRsZTogcGFnZVRpdGxlLFxuICAgIHBhZ2VUaXRsZVRyQ2xhc3M6IHBhZ2VUaXRsZVRyQ2xhc3NcbiAgfTtcbiAgcmV0dXJuIHZhbDtcbn07XG5cblRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlID0gZnVuY3Rpb24oaW5zdGFuY2UsIF9leHBvcnQpIHtcbiAgdmFyIHRhYmxlX2ZpZWxkcywgdGVtcGxhdGU7XG4gIHRlbXBsYXRlID0gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XFxuXHQ8dGFibGUgY2xhc3M9XFxcInRhYmxlLXBhZ2UtdGl0bGUgZm9ybS10YWJsZSBuby1ib3JkZXIgdGV4dC1hbGlnbi1jZW50ZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XFxcIj5cXG5cdFx0PHRyIGNsYXNzPVxcXCJcIiArICh0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlVHJDbGFzcykgKyBcIlxcXCI+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJpbnN0YW5jZS10YWJsZS1uYW1lLXRkIHBhZ2UtdGl0bGVcXFwiPlxcblx0XHRcdFx0XCIgKyAodGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZSkgKyBcIlxcblx0XHRcdDwvdGQ+XFxuXHRcdDwvdHI+XFxuXFxuXHQ8L3RhYmxlPlxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLWJvZHkgZm9ybS10YWJsZVxcXCI+XFxuXHRcdFx0PHRyIHN0eWxlPVxcXCJoZWlnaHQ6MHB4XFxcIj5cXG5cdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cXG5cdFx0XHRcdDx0aD48L3RoPlxcblx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxcblx0XHRcdFx0PHRoPjwvdGg+XFxuXHRcdFx0PC90cj5cIjtcbiAgdGFibGVfZmllbGRzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50YWJsZV9maWVsZHMoaW5zdGFuY2UpO1xuICB0YWJsZV9maWVsZHMuZm9yRWFjaChmdW5jdGlvbih0YWJsZV9maWVsZCkge1xuICAgIHZhciBmaWVsZF9wZXJtaXNzaW9uLCBwdXJlQ29kZSwgcmVxdWlyZWQsIHRpdGxlX3Blcm1pc3Npb247XG4gICAgcmVxdWlyZWQgPSBcIlwiO1xuICAgIGlmICghKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgfHwgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgIT09IHRhYmxlX2ZpZWxkLmNvZGUpIHtcbiAgICAgIGlmICh0YWJsZV9maWVsZC5pc19yZXF1aXJlZCkge1xuICAgICAgICByZXF1aXJlZCA9IFwiaXMtcmVxdWlyZWRcIjtcbiAgICAgIH1cbiAgICAgIGlmIChfZXhwb3J0KSB7XG4gICAgICAgIHJlcXVpcmVkID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIHB1cmVDb2RlID0gU3RlZWRvcy5yZW1vdmVTcGVjaWFsQ2hhcmFjdGVyKHRhYmxlX2ZpZWxkLmNvZGUpO1xuICAgICAgaWYgKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGQodGFibGVfZmllbGQpKSB7XG4gICAgICAgIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0O1xuICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtdGl0bGUgXCIgKyByZXF1aXJlZCArIFwiXFxcIj5cXG5cdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XFxuPHRkIGNsYXNzPVxcXCJ0ZC1maWVsZCBvcGluaW9uLWZpZWxkIG9waW5pb24tZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiIGF1dG9tYXRpY1xcXCIgY29sc3BhbiA9IFxcXCJcIiArIHRhYmxlX2ZpZWxkLnRkX2NvbHNwYW4gKyBcIlxcXCI+XFxuXHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XCI7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlcyh0YWJsZV9maWVsZC50eXBlLCAnc2VjdGlvbix0YWJsZScpKSB7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnQ7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9XFxcInRkLWNoaWxkZmllbGQgdGQtY2hpbGRmaWVsZC1cIiArIHB1cmVDb2RlICsgXCJcXFwiIGNvbHNwYW4gPSBcXFwiXCIgKyB0YWJsZV9maWVsZC50ZF9jb2xzcGFuICsgXCJcXFwiPlxcbiAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVxcbjwvdGQ+XCI7XG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydDtcbiAgICAgICAgICBpZiAoX2V4cG9ydCkge1xuICAgICAgICAgICAgdGl0bGVfcGVybWlzc2lvbiA9IFwiXCI7XG4gICAgICAgICAgICBmaWVsZF9wZXJtaXNzaW9uID0gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGl0bGVfcGVybWlzc2lvbiA9IFwidGl0bGUtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uO1xuICAgICAgICAgICAgZmllbGRfcGVybWlzc2lvbiA9IFwiZmllbGQtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtdGl0bGUgdGQtdGl0bGUtXCIgKyBwdXJlQ29kZSArIFwiIFwiICsgdGl0bGVfcGVybWlzc2lvbiArIFwiIFwiICsgcmVxdWlyZWQgKyBcIlxcXCI+XFxuXHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwifX1cXG48L3RkPlxcbjx0ZCBjbGFzcz1cXFwidGQtZmllbGQgdGQtZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiIFwiICsgZmllbGRfcGVybWlzc2lvbiArIFwiXFxcIiBjb2xzcGFuID0gXFxcIlwiICsgdGFibGVfZmllbGQudGRfY29sc3BhbiArIFwiXFxcIj5cXG5cdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVxcbjwvdGQ+XCI7XG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHRlbXBsYXRlICs9IFwiXHQ8L3RhYmxlPlxcblxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLWZvb3RlciBmb3JtLXRhYmxlIG5vLWJvcmRlclxcXCI+XFxuXHRcdDx0ciBjbGFzcz1cXFwiYXBwbGljYW50LXdyYXBwZXJcXFwiPlxcblx0XHRcdDx0ZCBjbGFzcz1cXFwibm93cmFwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e190IFxcXCJpbnN0YW5jZV9pbml0aWF0b3JcXFwifX3vvJo8L2xhYmVsPlxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10YWJsZS13cmFwcGVyLXRkIGlubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XFxcImFmU2VsZWN0VXNlclxcXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvdGQ+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJub3dyYXBcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz0ncHVsbC1sZWZ0Jz5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxcblx0XHRcdFx0XHRcdDxsYWJlbD57e190IFxcXCJpbnN0YW5jZV9zdWJtaXRfZGF0ZVxcXCJ9fe+8mjwvbGFiZWw+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtcmlnaHQnPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0e3tmb3JtYXREYXRlIGluc3RhbmNlLnN1Ym1pdF9kYXRlICd7XFxcImZvcm1hdFxcXCI6XFxcIllZWVktTU0tRERcXFwifSd9fVxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvdGQ+XFxuXHRcdDwvdHI+XFxuXHQ8L3RhYmxlPlxcbjwvZGl2PlwiO1xuICByZXR1cm4gdGVtcGxhdGU7XG59O1xuXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlID0ge1xuICBcImRlZmF1bHRcIjogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB2YXIgdGVtcGxhdGU7XG4gICAgdGVtcGxhdGUgPSBcIjxkaXYgY2xhc3M9XFxcIndpdGgtYm9yZGVyIGNvbC1tZC0xMlxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1uYW1lXFxcIj5cXG5cdFx0PGgzIGNsYXNzPVxcXCJib3gtdGl0bGVcXFwiPlwiICsgKFRlbXBsYXRlTWFuYWdlci5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZSkgKyBcIjwvaDM+XFxuXHRcdDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj48L3NwYW4+XFxuXHQ8L2Rpdj5cXG5cdDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj48L3NwYW4+XFxuPC9kaXY+XFxue3sjZWFjaCBzdGVlZG9zX2Zvcm0uZmllbGRzfX1cXG5cdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxcblx0XHQ8ZGl2IGNsYXNzPVxcXCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19IGZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgYXV0b21hdGljIG9waW5pb24tZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19PC9sYWJlbD5cXG5cXG5cdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9dGhpcy5jb2RlfX1cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0PC9kaXY+XFxuXHR7e2Vsc2V9fVxcblx0XHR7eyNpZiBpbmNsdWRlcyB0aGlzLnR5cGUgJ3NlY3Rpb24sdGFibGUnfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTIgZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGUgbGFiZWw9ZmFsc2V9fVxcblx0XHRcdDwvZGl2Plxcblx0XHR7e2Vsc2V9fVxcblx0XHRcdDxkaXYgY2xhc3M9XFxcInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlfX1cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0e3svaWZ9fVxcblx0e3svaWZ9fVxcbnt7L2VhY2h9fVxcbjxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJhcHBsaWNhbnQtd3JhcHBlciBmb3JtLWdyb3VwIGZvcm0taG9yaXpvbnRhbFxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxuXHRcdDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwLWFkZG9uXFxcIj5cXG5cdFx0ICB7e190IFxcXCJpbnN0YW5jZV9pbml0aWF0b3JcXFwifX0mbmJzcDs6XFxuXHRcdDwvZGl2Plxcblx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cXFwiYWZTZWxlY3RVc2VyXFxcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxcblx0ICA8L2Rpdj5cXG5cdDwvZGl2PlxcbjwvZGl2PlwiO1xuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfSxcbiAgdGFibGU6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKGluc3RhbmNlKTtcbiAgfVxufTtcblxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZUhlbHBzID0ge1xuICBhcHBsaWNhbnRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSwgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgZGF0YSA9IHtcbiAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgIGF0dHM6IHtcbiAgICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBpZDogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBcImNsYXNzXCI6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCcsXG4gICAgICAgIHN0eWxlOiAncGFkZGluZzo2cHggMTJweDt3aWR0aDoxNDBweDtkaXNwbGF5OmlubGluZSdcbiAgICAgIH1cbiAgICB9O1xuICAgIGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWU7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn07XG5cbih7XG4gIGluc3RhbmNlSWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnaW5zdGFuY2Vmb3JtJztcbiAgfSxcbiAgZm9ybV90eXBlczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKSkge1xuICAgICAgcmV0dXJuICdkaXNhYmxlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbWV0aG9kJztcbiAgICB9XG4gIH0sXG4gIHN0ZWVkb3NfZm9ybTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBmb3JtX3ZlcnNpb247XG4gICAgfVxuICB9LFxuICBpbm5lcnN1YmZvcm1Db250ZXh0OiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZG9jX3ZhbHVlcztcbiAgICBkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIG9ialtcInRhYmxlVmFsdWVzXCJdID0gZG9jX3ZhbHVlcyA/IGRvY192YWx1ZXNbb2JqLmNvZGVdIDogW107XG4gICAgb2JqW1wiZm9ybUlkXCJdID0gZm9ybUlkO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGluc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpO1xuICAgIGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuICAgIH1cbiAgfSxcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIGluY2x1ZGVzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgZmllbGRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcbiAgICB9XG4gIH0sXG4gIGRvY192YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gIH0sXG4gIGluc3RhbmNlX2JveF9zdHlsZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJveCwgaW5zLCBqdWRnZTtcbiAgICBib3ggPSBTZXNzaW9uLmdldChcImJveFwiKTtcbiAgICBpZiAoYm94ID09PSBcImluYm94XCIgfHwgYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICAgIGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKTtcbiAgICAgIGlmIChqdWRnZSkge1xuICAgICAgICBpZiAoanVkZ2UgPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoanVkZ2UgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zICYmIGlucy5maW5hbF9kZWNpc2lvbikge1xuICAgICAgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICB9IGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG5UZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbihpbnN0YW5jZSwgdGVtcGxhdGVOYW1lKSB7XG4gIHZhciBmbG93LCBmb3JtO1xuICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gIGlmICh0ZW1wbGF0ZU5hbWUpIHtcbiAgICBpZiAodGVtcGxhdGVOYW1lID09PSAndGFibGUnKSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBTZXNzaW9uICE9PSBcInVuZGVmaW5lZFwiICYmIFNlc3Npb24gIT09IG51bGwgPyBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgOiB2b2lkIDApIHtcbiAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5wcmludF90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5wcmludF90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlIDogdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgfVxuICAgIGlmIChmb3JtICE9IG51bGwgPyBmb3JtLmluc3RhbmNlX3N0eWxlIDogdm9pZCAwKSB7XG4gICAgICBpZiAoZm9ybS5pbnN0YW5jZV9zdHlsZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufTtcbiIsIlN0ZWVkb3NUYWJsZSA9IHt9O1xyXG5cclxuU3RlZWRvc1RhYmxlLmZvcm1JZCA9IFwiaW5zdGFuY2Vmb3JtXCI7XHJcblxyXG5TdGVlZG9zVGFibGUuY2hlY2tJdGVtID0gZnVuY3Rpb24oZmllbGQsIGl0ZW1faW5kZXgpIHtcclxuICAgIHZhciBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XHJcblxyXG4gICAgdmFyIGZpZWxkVmFsID0gU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlKGZpZWxkLCBpdGVtX2luZGV4KTtcclxuXHJcbiAgICB2YXIgc2ZfbmFtZSA9ICcnO1xyXG4gICAgdmFyIHJldiA9IHRydWU7XHJcbiAgICBmaWVsZE9iai5zZmllbGRzLmZvckVhY2goZnVuY3Rpb24oc2YpIHtcclxuICAgICAgICBpZiAoc2YucGVybWlzc2lvbiA9PSAnZWRpdGFibGUnKSB7XHJcbiAgICAgICAgICAgIHNmX25hbWUgPSBmaWVsZE9iai5jb2RlICsgXCIuXCIgKyBzZi5jb2RlO1xyXG4gICAgICAgICAgICBpZiAoIUluc3RhbmNlTWFuYWdlci5jaGVja0Zvcm1GaWVsZFZhbHVlKCQoXCJbbmFtZT0nXCIgKyBzZl9uYW1lICsgXCInXVwiKVswXSkpIHtcclxuICAgICAgICAgICAgICAgIHJldiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJldjtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLnNldFRhYmxlSXRlbVZhbHVlID0gZnVuY3Rpb24oZmllbGQsIGl0ZW1faW5kZXgsIGl0ZW1fdmFsdWUpIHtcclxuXHJcbiAgICB2YXIgdGFibGVWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKTtcclxuICAgIHRhYmxlVmFsdWVbaXRlbV9pbmRleF0gPSBpdGVtX3ZhbHVlO1xyXG59XHJcblxyXG5TdGVlZG9zVGFibGUuZ2V0VGFibGVJdGVtVmFsdWUgPSBmdW5jdGlvbihmaWVsZCwgaXRlbV9pbmRleCkge1xyXG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKVtpdGVtX2luZGV4XTtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLnJlbW92ZVRhYmxlSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XHJcbiAgICB2YXIgaXRlbV92YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZUl0ZW1WYWx1ZShmaWVsZCwgaXRlbV9pbmRleCk7XHJcbiAgICBpdGVtX3ZhbHVlLnJlbW92ZWQgPSB0cnVlO1xyXG59XHJcblxyXG5TdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZSkge1xyXG4gICAgJChcInRhYmxlW25hbWU9J1wiICsgZmllbGQgKyBcIiddXCIpLnZhbCh7XHJcbiAgICAgICAgdmFsOiB2YWx1ZVxyXG4gICAgfSk7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlID0gZnVuY3Rpb24oZmllbGQpIHtcclxuICAgIHJldHVybiAkKFwidGFibGVbbmFtZT0nXCIgKyBmaWVsZCArIFwiJ11cIikudmFsKCkudmFsO1xyXG59XHJcblxyXG5TdGVlZG9zVGFibGUuZ2V0VmFsaWRWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkKSB7XHJcbiAgICB2YXIgdmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCk7XHJcblxyXG4gICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHZhciB2YWxpZFZhbHVlID0gW107XHJcblxyXG4gICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbih2KSB7XHJcbiAgICAgICAgaWYgKCF2LnJlbW92ZWQpIHtcclxuICAgICAgICAgICAgdmFsaWRWYWx1ZS5wdXNoKHYpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHZhbGlkVmFsdWU7XHJcbn1cclxuXHJcblxyXG5TdGVlZG9zVGFibGUuaGFuZGxlRGF0YSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZXMpIHtcclxuXHJcbiAgICBpZiAoIXZhbHVlcyB8fCAhKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcclxuXHJcbiAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih2KSB7XHJcbiAgICAgICAgZmllbGRPYmouc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcclxuICAgICAgICAgICAgaWYgKGYudHlwZSA9PSAndXNlcicgfHwgZi50eXBlID09ICdncm91cCcpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZbZi5jb2RlXVxyXG4gICAgICAgICAgICAgICAgaWYgKGYuaXNfbXVsdGlzZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUubGVuZ3RoID4gMCAmJiB0eXBlb2YodmFsdWVbMF0pID09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbZi5jb2RlXSA9IHZbZi5jb2RlXS5nZXRQcm9wZXJ0eShcImlkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZih2YWx1ZSkgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdltmLmNvZGVdID0gdltmLmNvZGVdLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChmLnR5cGUgPT0gJ2RhdGVUaW1lJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdltmLmNvZGVdXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDE2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCJUXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQxID0gdFsxXS5zcGxpdChcIjpcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdDBbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdDBbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSB0MFsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSB0MVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IHQxWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2W2YuY29kZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRGaWVsZCA9IGZ1bmN0aW9uKGZpZWxkKSB7XHJcbiAgICB2YXIgaW5zdGFuY2VGaWVsZHMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGaWVsZHMoKTtcclxuICAgIGlmICghaW5zdGFuY2VGaWVsZHMpXHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHZhciBmaWVsZE9iaiA9IGluc3RhbmNlRmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGZpZWxkKTtcclxuXHJcbiAgICByZXR1cm4gZmllbGRPYmo7XHJcbn1cclxuXHJcblxyXG5TdGVlZG9zVGFibGUuZ2V0TW9kYWxEYXRhID0gZnVuY3Rpb24oZmllbGQsIGluZGV4KSB7XHJcblxyXG4gICAgdmFyIGRhdGEgPSB7fTtcclxuXHJcbiAgICB2YXIgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xyXG5cclxuICAgIGlmICghZmllbGRPYmopIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YS5maWVsZCA9IGZpZWxkT2JqO1xyXG5cclxuICAgIGRhdGEuZmllbGQuZm9ybXVsYSA9IEZvcm1fZm9ybXVsYS5nZXRGb3JtdWxhRmllbGRWYXJpYWJsZShcIkZvcm1fZm9ybXVsYS5maWVsZF92YWx1ZXNcIiwgZmllbGRPYmouc2ZpZWxkcyk7XHJcblxyXG4gICAgZGF0YS52YWx1ZSA9IHt9O1xyXG5cclxuICAgIGRhdGEudmFsdWVbZmllbGRdID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpbmRleCk7XHJcblxyXG4gICAgZGF0YS5pbmRleCA9IGluZGV4O1xyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XHJcblxyXG4gICAgaWYgKCFBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwic3RlZWRvc190YWJsZV9tb2RhbF9cIiArIGZpZWxkICsgXCJfXCIgKyBpdGVtX2luZGV4KSkge1xyXG4gICAgICAgIHJldHVybiB7fVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBpdGVtX3ZhbHVlID0gQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcInN0ZWVkb3NfdGFibGVfbW9kYWxfXCIgKyBmaWVsZCArIFwiX1wiICsgaXRlbV9pbmRleCkuaW5zZXJ0RG9jW2ZpZWxkXTtcclxuICAgIHJldHVybiBpdGVtX3ZhbHVlO1xyXG59XHJcblxyXG5cclxuU3RlZWRvc1RhYmxlLmFkZEl0ZW0gPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgsIF9pdGVtX3ZhbHVlKSB7XHJcbiAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcclxuICAgIHZhciBpdGVtX3ZhbHVlID0gX2l0ZW1fdmFsdWUgfHwgU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlKGZpZWxkLCBpbmRleCk7XHJcbiAgICAkKFwidGJvZHlbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGJvZHknXVwiKS5hcHBlbmQoU3RlZWRvc1RhYmxlLmdldFRyKGtleXMsIGl0ZW1fdmFsdWUsIGluZGV4LCBmaWVsZCwgdHJ1ZSkpXHJcblxyXG59XHJcblxyXG5TdGVlZG9zVGFibGUudXBkYXRlSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCwgX2l0ZW1fdmFsdWUpIHtcclxuXHJcbiAgICB2YXIgaXRlbSA9ICQoXCJ0cltuYW1lPSdcIiArIGZpZWxkICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInXVwiKTtcclxuXHJcbiAgICB2YXIgaXRlbV92YWx1ZSA9IF9pdGVtX3ZhbHVlIHx8IFN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZShmaWVsZCwgaW5kZXgpO1xyXG5cclxuICAgIGlmIChpdGVtICYmIGl0ZW0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xyXG4gICAgICAgIHZhciB0ZHMgPSBTdGVlZG9zVGFibGUuZ2V0UmVtb3ZlVGQoZmllbGQsIGluZGV4KTtcclxuXHJcbiAgICAgICAgdmFyIHNmaWVsZHMgPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpLnNmaWVsZHM7XHJcblxyXG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgdmFyIHNmaWVsZCA9IHNmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwga2V5KTtcclxuXHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1fdmFsdWVba2V5XTtcclxuXHJcbiAgICAgICAgICAgIHRkcyA9IHRkcyArIFN0ZWVkb3NUYWJsZS5nZXRUZChzZmllbGQsIGluZGV4LCB2YWx1ZSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdGVtLmVtcHR5KCk7XHJcblxyXG4gICAgICAgIGl0ZW0uYXBwZW5kKHRkcyk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgU3RlZWRvc1RhYmxlLmFkZEl0ZW0oZmllbGQsIGluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpKSB7XHJcblxyXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZUl0ZW1WYWx1ZShmaWVsZCwgaW5kZXgsIGl0ZW1fdmFsdWUpO1xyXG5cclxuICAgICAgICAvL1N0ZWVkb3NUYWJsZS52YWx1ZUhhc2hbZmllbGRdW2luZGV4XSA9IGl0ZW1fdmFsdWU7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL1N0ZWVkb3NUYWJsZS52YWx1ZUhhc2hbZmllbGRdID0gW2l0ZW1fdmFsdWVdO1xyXG5cclxuICAgICAgICBTdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZShmaWVsZCwgW2l0ZW1fdmFsdWVdKVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL+aJp+ihjOS4u+ihqOWFrOW8j+iuoeeul1xyXG4gICAgSW5zdGFuY2VNYW5hZ2VyLnJ1bkZvcm11bGEoZmllbGQpO1xyXG5cclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgpIHtcclxuXHJcbiAgICAkKFwidHJbbmFtZT0nXCIgKyBmaWVsZCArIFwiX2l0ZW1fXCIgKyBpbmRleCArIFwiJ11cIikuaGlkZSgpO1xyXG5cclxuICAgIFN0ZWVkb3NUYWJsZS5yZW1vdmVUYWJsZUl0ZW0oZmllbGQsIGluZGV4KTtcclxuXHJcbiAgICBJbnN0YW5jZU1hbmFnZXIucnVuRm9ybXVsYShmaWVsZCk7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5zaG93TW9kYWwgPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgsIG1ldGhvZCkge1xyXG5cclxuXHJcbiAgICB2YXIgbW9kYWxEYXRhID0gU3RlZWRvc1RhYmxlLmdldE1vZGFsRGF0YShmaWVsZCwgaW5kZXgpO1xyXG5cclxuICAgIG1vZGFsRGF0YS5tZXRob2QgPSBtZXRob2Q7XHJcblxyXG4gICAgTW9kYWwuc2hvdyhcInN0ZWVkb3NUYWJsZU1vZGFsXCIsIG1vZGFsRGF0YSk7XHJcblxyXG59XHJcblxyXG5TdGVlZG9zVGFibGUuZ2V0S2V5cyA9IGZ1bmN0aW9uKGZpZWxkKSB7XHJcbiAgICBpZiAoIUF1dG9Gb3JtLmdldEN1cnJlbnREYXRhRm9yRm9ybShTdGVlZG9zVGFibGUuZm9ybUlkKSkge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgc3MgPSBBdXRvRm9ybS5nZXRGb3JtU2NoZW1hKFN0ZWVkb3NUYWJsZS5mb3JtSWQpO1xyXG5cclxuICAgIHZhciBrZXlzID0gW107XHJcblxyXG4gICAgaWYgKHNzLnNjaGVtYShmaWVsZCArIFwiLiRcIikudHlwZSA9PT0gT2JqZWN0KSB7XHJcbiAgICAgICAga2V5cyA9IHNzLm9iamVjdEtleXMoU2ltcGxlU2NoZW1hLl9tYWtlR2VuZXJpYyhmaWVsZCkgKyAnLiQnKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBrZXlzO1xyXG5cclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldFRoZWFkID0gZnVuY3Rpb24oZmllbGQsIGVkaXRhYmxlKSB7XHJcblxyXG4gICAgdmFyIGZpZWxkT2JqID0gZmllbGQ7XHJcbiAgICBpZiAoIV8uaXNPYmplY3QoZmllbGQpKVxyXG4gICAgICAgIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcclxuXHJcbiAgICBpZiAoIWZpZWxkT2JqKSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0aGVhZCA9ICcnLFxyXG4gICAgICAgIHRycyA9ICcnLFxyXG4gICAgICAgIGxhYmVsID0gJycsXHJcbiAgICAgICAgd2lkdGggPSAxMDA7XHJcblxyXG4gICAgaWYgKGVkaXRhYmxlKSB7XHJcbiAgICAgICAgLy8gdHJzID0gXCI8dGggY2xhc3M9J3JlbW92ZWQnPjwvdGg+XCJcclxuXHRcdHRycyA9IFwiXCJcclxuICAgIH1cclxuXHJcbiAgICB2YXIgc2ZpZWxkcyA9IGZpZWxkT2JqLnNmaWVsZHM7XHJcblxyXG4gICAgaWYoIXNmaWVsZHMpe1xyXG4gICAgXHRyZXR1cm4gdGhlYWQ7XHJcblx0fVxyXG5cclxuICAgIHZhciBzZl9sZW5ndGggPSBzZmllbGRzLmxlbmd0aDtcclxuXHJcbiAgICBpZiAoc2ZfbGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciB3aWRlX2ZpZWxkcyA9IHNmaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xyXG5cclxuICAgICAgICB3aWR0aCA9IDEwMCAvIChzZl9sZW5ndGggKyB3aWRlX2ZpZWxkcy5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihzZiwgaW5kZXgpIHtcclxuXHJcbiAgICAgICAgbGFiZWwgPSAoc2YubmFtZSAhPSBudWxsICYmIHNmLm5hbWUubGVuZ3RoID4gMCkgPyBzZi5uYW1lIDogc2YuY29kZTtcclxuXHJcbiAgICAgICAgdHJzID0gdHJzICsgXCI8dGQgXCI7IC8vIG5vd3JhcD0nbm93cmFwJ1xyXG5cclxuICAgICAgICB0cnMgPSB0cnMgKyBcIiBjbGFzcz0ndGl0bGUgXCIgKyBzZi50eXBlICsgXCInXCI7XHJcblxyXG4gICAgICAgIGlmIChpbmRleCAhPSAoc2ZfbGVuZ3RoIC0gMSkpIHtcclxuICAgICAgICAgICAgaWYgKHNmLmlzX3dpZGUpIHtcclxuICAgICAgICAgICAgICAgIHRycyA9IHRycyArIFwic3R5bGU9J3dpZHRoOlwiICsgd2lkdGggKiAyICsgXCIlJ1wiXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0cnMgPSB0cnMgKyBcInN0eWxlPSd3aWR0aDpcIiArIHdpZHRoICsgXCIlJ1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRycyA9IHRycyArIFwiPlwiICsgbGFiZWwgKyBcIjwvdGQ+XCJcclxuICAgIH0pO1xyXG5cclxuICAgIHRoZWFkID0gJzx0cj4nICsgdHJzICsgJzwvdHI+JztcclxuXHJcbiAgICByZXR1cm4gdGhlYWQ7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRUYm9keSA9IGZ1bmN0aW9uKGtleXMsIGZpZWxkLCB2YWx1ZXMsIGVkaXRhYmxlKSB7XHJcbiAgICB2YXIgdGJvZHkgPSBcIlwiO1xyXG5cclxuICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xyXG4gICAgICAgICAgICB0Ym9keSA9IHRib2R5ICsgU3RlZWRvc1RhYmxlLmdldFRyKGtleXMsIHZhbHVlLCBpbmRleCwgZmllbGQsIGVkaXRhYmxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGJvZHk7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRUciA9IGZ1bmN0aW9uKGtleXMsIGl0ZW1fdmFsdWUsIGluZGV4LCBmaWVsZCwgZWRpdGFibGUpIHtcclxuXHJcbiAgICB2YXIgZmllbGRPYmogPSBmaWVsZDtcclxuICAgIGlmICghXy5pc09iamVjdChmaWVsZCkpXHJcbiAgICAgICAgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xyXG5cclxuICAgIHZhciB0ciA9IFwiPHRyIGlkPSdcIiArIGZpZWxkT2JqLmNvZGUgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIicgbmFtZT0nXCIgKyBmaWVsZE9iai5jb2RlICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInIGRhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIidcIlxyXG5cclxuICAgIGlmIChlZGl0YWJsZSkge1xyXG4gICAgICAgIHRyID0gdHIgKyBcIicgY2xhc3M9J2l0ZW0gZWRpdCdcIlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZihTdGVlZG9zLmlzTW9iaWxlKCkpe1xyXG5cdFx0XHR0ciA9IHRyICsgXCIgY2xhc3M9J2l0ZW0gaXRlbS1yZWFkb25seSdcIlxyXG4gICAgICAgIH1lbHNle1xyXG5cdFx0XHR0ciA9IHRyICsgXCIgY2xhc3M9J2l0ZW0gJ1wiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpdGVtX3ZhbHVlLnJlbW92ZWQpIHtcclxuICAgICAgICB0ciA9IHRyICsgXCIgc3R5bGU9J2Rpc3BsYXk6bm9uZScgXCI7XHJcbiAgICB9XHJcblxyXG4gICAgdHIgPSB0ciArIFwiJz5cIjtcclxuXHJcbiAgICB2YXIgdGRzID0gXCJcIjtcclxuXHJcbiAgICBpZiAoZWRpdGFibGUpIHtcclxuICAgICAgICB0ZHMgPSBTdGVlZG9zVGFibGUuZ2V0UmVtb3ZlVGQoZmllbGRPYmouY29kZSwgaW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzZmllbGRzID0gZmllbGRPYmouc2ZpZWxkcztcclxuXHJcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgdmFyIHNmaWVsZCA9IHNmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwga2V5KTtcclxuXHJcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbV92YWx1ZVtrZXldO1xyXG5cclxuICAgICAgICB0ZHMgPSB0ZHMgKyBTdGVlZG9zVGFibGUuZ2V0VGQoc2ZpZWxkLCBpbmRleCwgdmFsdWUpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIHRyID0gdHIgKyB0ZHMgKyBcIjwvdHI+XCI7XHJcbiAgICByZXR1cm4gdHI7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZCA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCkge1xyXG4gICAgLy8gcmV0dXJuIFwiPHRkIGNsYXNzPSdzdGVlZG9zVGFibGUtaXRlbS1yZW1vdmUgcmVtb3ZlZCcgZGF0YS1pbmRleD0nXCIgKyBpbmRleCArIFwiJz48aSBjbGFzcz0nZmEgZmEtdGltZXMnIGFyaWEtaGlkZGVuPSd0cnVlJz48L3RkPlwiO1xyXG5cdHJldHVybiBcIlwiXHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRUZCA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCwgdmFsdWUpIHtcclxuICAgIHZhciB0ZCA9IFwiPHRkIFwiO1xyXG5cclxuICAgIHRkID0gdGQgKyBcIiBjbGFzcz0nc3RlZWRvc1RhYmxlLWl0ZW0tZmllbGQgXCIgKyBmaWVsZC50eXBlICsgXCInIFwiO1xyXG5cclxuICAgIHZhciB0ZF92YWx1ZSA9IFwiXCI7XHJcblxyXG4gICAgaWYoTWV0ZW9yLmlzQ2xpZW50KXtcclxuICAgICAgICB0ZF92YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRURFZhbHVlKGZpZWxkLCB2YWx1ZSlcclxuICAgIH1lbHNle1xyXG4gICAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcclxuXHJcbiAgICAgICAgdXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldFxyXG5cclxuICAgICAgICB0ZF92YWx1ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSh2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KVxyXG4gICAgfVxyXG5cclxuICAgIHRkID0gdGQgKyBcIiBkYXRhLWluZGV4PSdcIiArIGluZGV4ICsgXCInPlwiICsgdGRfdmFsdWUgKyBcIjwvdGQ+XCJcclxuXHJcbiAgICByZXR1cm4gdGQ7XHJcbn1cclxuXHJcblxyXG5TdGVlZG9zVGFibGUuZ2V0VERWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZSkge1xyXG4gICAgdmFyIHRkX3ZhbHVlID0gXCJcIjtcclxuICAgIGlmICghZmllbGQpIHtcclxuICAgICAgICByZXR1cm4gdGRfdmFsdWVcclxuICAgIH1cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICd1c2VyJzpcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mKHZhbHVlWzBdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gQ0ZEYXRhTWFuYWdlci5nZXRGb3JtdWxhU3BhY2VVc2Vycyh2YWx1ZSkuZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUuZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYVNwYWNlVXNlcnModmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB1ID8gdS5uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZ3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YodmFsdWVbMF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb25zKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gQ0ZEYXRhTWFuYWdlci5nZXRGb3JtdWxhT3JnYW5pemF0aW9uKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gbyA/IG8ubmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PSAndHJ1ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdlbWFpbCc6XHJcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlID8gXCI8YSBocmVmPSdtYWlsdG86XCIgKyB2YWx1ZSArIFwiJz5cIiArIHZhbHVlICsgXCI8L2E+XCIgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3VybCc6XHJcbiAgICAgICAgICAgICAgICBpZih2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFwiPGEgaHJlZj0nXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5odHRwOi8vXCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwYXNzd29yZCc6XHJcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICcqKioqKionO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHZhbHVlLnNwbGl0KFwiLVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHRbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICQuZm9ybWF0LmRhdGUodmFsdWUsICd5eXl5LU1NLWRkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZGF0ZVRpbWUnOlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxNikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHZhbHVlLnNwbGl0KFwiVFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQwID0gdFswXS5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHQwWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHQwWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdDBbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJzID0gdDFbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0MVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICQuZm9ybWF0LmRhdGUodmFsdWUsICd5eXl5LU1NLWRkIEhIOm1tJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZih2YWx1ZSkgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLnRvRml4ZWQoZmllbGQuZGlnaXRzKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFN0ZWVkb3MubnVtYmVyVG9TdHJpbmcodGRfdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ29kYXRhJzpcclxuICAgICAgICAgICAgICAgIGlmKHZhbHVlKXtcclxuXHRcdFx0XHRcdGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCl7XHJcblx0XHRcdFx0XHRcdHRkX3ZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKClcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHR0ZF92YWx1ZSA9IHZhbHVlWydAbGFiZWwnXVxyXG5cdFx0XHRcdFx0fVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlID8gdmFsdWUgOiAnJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBlO1xyXG5cclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGRfdmFsdWU7XHJcbn07XHJcblxyXG5pZihNZXRlb3IuaXNDbGllbnQpe1xyXG4gICAgQXV0b0Zvcm0uYWRkSW5wdXRUeXBlKFwidGFibGVcIiwge1xyXG4gICAgICAgIHRlbXBsYXRlOiBcImFmVGFibGVcIixcclxuICAgICAgICB2YWx1ZU91dDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy5kYXRhKFwic2NoZW1hS2V5XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFZhbGlkVmFsdWUobmFtZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB2YWx1ZUNvbnZlcnRlcnM6IHtcclxuICAgICAgICAgICAgXCJzdHJpbmdBcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9TdHJpbmdBcnJheSxcclxuICAgICAgICAgICAgXCJudW1iZXJcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvTnVtYmVyLFxyXG4gICAgICAgICAgICBcIm51bWVyQXJyYXlcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvTnVtYmVyQXJyYXksXHJcbiAgICAgICAgICAgIFwiYm9vbGVhblwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9Cb29sZWFuLFxyXG4gICAgICAgICAgICBcImJvb2xlYW5BcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9Cb29sZWFuQXJyYXksXHJcbiAgICAgICAgICAgIFwiZGF0ZVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9EYXRlLFxyXG4gICAgICAgICAgICBcImRhdGVBcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9EYXRlQXJyYXlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRleHRBZGp1c3Q6IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0LmF0dHMubWF4bGVuZ3RoID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29udGV4dC5tYXggPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmF0dHMubWF4bGVuZ3RoID0gY29udGV4dC5tYXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgVGVtcGxhdGUuYWZUYWJsZS5ldmVudHMoe1xyXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLnN0ZWVkb3NUYWJsZS1pdGVtLWFkZCwuYWRkLWl0ZW0tdHInOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGFibGVWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKG5hbWUpO1xyXG5cclxuICAgICAgICAgICAgdmFyIG5ld19pdGVtX2luZGV4ID0gdGFibGVWYWx1ZSA/IHRhYmxlVmFsdWUubGVuZ3RoIDogMDtcclxuXHJcbiAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5zaG93TW9kYWwobmFtZSwgbmV3X2l0ZW1faW5kZXgsIFwiYWRkXCIpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLnN0ZWVkb3NUYWJsZS1pdGVtLWZpZWxkJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZS5kYXRhLmF0dHMuZWRpdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IHRlbXBsYXRlLmRhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcclxuICAgICAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5zaG93TW9kYWwoZmllbGQsIGluZGV4LCBcImVkaXRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5zdGVlZG9zVGFibGUtaXRlbS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgdmFyIGZpZWxkID0gdGVtcGxhdGUuZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICB2YXIgaXRlbV9pbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcclxuICAgICAgICAgICAgU2Vzc2lvbi5zZXQoXCJpbnN0YW5jZV9jaGFuZ2VcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5yZW1vdmVJdGVtKGZpZWxkLCBpdGVtX2luZGV4KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5pdGVtLXJlYWRvbmx5JzogZnVuY3Rpb24gKGV2ZW50LCB0ZW1wbGF0ZSkge1xyXG5cdFx0XHRpZiAoIXRlbXBsYXRlLmRhdGEuYXR0cy5lZGl0YWJsZSkge1xyXG5cdFx0XHRcdHZhciBmaWVsZCA9IHRlbXBsYXRlLmRhdGEubmFtZTtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaW5kZXg7XHJcblx0XHRcdFx0U3RlZWRvc1RhYmxlLnNob3dNb2RhbChmaWVsZCwgaW5kZXgsIFwicmVhZFwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICBUZW1wbGF0ZS5hZlRhYmxlLnJlbmRlcmVkID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZGF0YS5uYW1lO1xyXG5cclxuICAgICAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcclxuICAgICAgICB2YXIgdmFsaWRWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5oYW5kbGVEYXRhKGZpZWxkLCB0aGlzLmRhdGEudmFsdWUpO1xyXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlKGZpZWxkLCB2YWxpZFZhbHVlKTtcclxuXHJcbiAgICAgICAgJChcInRoZWFkW25hbWU9J1wiICsgZmllbGQgKyBcIlRoZWFkJ11cIikuaHRtbChTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIHRoaXMuZGF0YS5hdHRzLmVkaXRhYmxlKSk7XHJcblxyXG4gICAgICAgICQoXCJ0Ym9keVtuYW1lPSdcIiArIGZpZWxkICsgXCJUYm9keSddXCIpLmh0bWwoU3RlZWRvc1RhYmxlLmdldFRib2R5KGtleXMsIGZpZWxkLCBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCksIHRoaXMuZGF0YS5hdHRzLmVkaXRhYmxlKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc3RyID0gdChcInN0ZWVkb3NfdGFibGVfYWRkX2l0ZW1cIik7XHJcbiAgICAgICAgYWRkSXRlbVRyID0gXCI8dHIgY2xhc3M9J2FkZC1pdGVtLXRyJz48dGQgY29sc3Bhbj0nXCIra2V5cy5sZW5ndGgrXCInPjxpIGNsYXNzPSdpb24gaW9uLXBsdXMtcm91bmQnPjwvaT5cIitzdHIrXCI8L3RkPjwvdHI+XCI7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRhdGEuYXR0cy5lZGl0YWJsZSkge1xyXG4gICAgICAgICAgICQoXCJ0Zm9vdFtuYW1lPSdcIiArIGZpZWxkICsgXCJUZm9vdCddXCIpLmFwcGVuZChhZGRJdGVtVHIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0iLCJJbWFnZVNpZ24uaGVscGVycyA9XHJcblx0c3BhY2VVc2VyU2lnbjogKHVzZXJJZCktPlxyXG5cdFx0c3BhY2UgPSBcIlwiXHJcblxyXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdHNwYWNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnNwYWNlXHJcblx0XHRlbHNlXHJcblx0XHRcdHNwYWNlID0gU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpXHJcblxyXG5cdFx0c3BhY2VVc2VyU2lnbiA9IGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZE9uZSh7c3BhY2U6IHNwYWNlLCB1c2VyOiB1c2VySWR9KTtcclxuXHRcdHJldHVybiBzcGFjZVVzZXJTaWduXHJcblxyXG5cdGltYWdlVVJMOiAodXNlcklkKS0+XHJcblxyXG5cdFx0c3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24odXNlcklkKTtcclxuXHJcblx0XHRhYnNvbHV0ZSA9IGZhbHNlXHJcblxyXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdGFic29sdXRlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmFic29sdXRlXHJcblxyXG5cdFx0aWYgc3BhY2VVc2VyU2lnbj8uc2lnblxyXG5cdFx0XHRpZiBhYnNvbHV0ZVxyXG5cdFx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcclxuIiwiSW1hZ2VTaWduLmhlbHBlcnMgPSB7XG4gIHNwYWNlVXNlclNpZ246IGZ1bmN0aW9uKHVzZXJJZCkge1xuICAgIHZhciBzcGFjZSwgc3BhY2VVc2VyU2lnbjtcbiAgICBzcGFjZSA9IFwiXCI7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgc3BhY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3BhY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwYWNlID0gU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpO1xuICAgIH1cbiAgICBzcGFjZVVzZXJTaWduID0gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBzcGFjZSxcbiAgICAgIHVzZXI6IHVzZXJJZFxuICAgIH0pO1xuICAgIHJldHVybiBzcGFjZVVzZXJTaWduO1xuICB9LFxuICBpbWFnZVVSTDogZnVuY3Rpb24odXNlcklkKSB7XG4gICAgdmFyIGFic29sdXRlLCBzcGFjZVVzZXJTaWduO1xuICAgIHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKHVzZXJJZCk7XG4gICAgYWJzb2x1dGUgPSBmYWxzZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBhYnNvbHV0ZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5hYnNvbHV0ZTtcbiAgICB9XG4gICAgaWYgKHNwYWNlVXNlclNpZ24gIT0gbnVsbCA/IHNwYWNlVXNlclNpZ24uc2lnbiA6IHZvaWQgMCkge1xuICAgICAgaWYgKGFic29sdXRlKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4iLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzID1cclxuXHRhcHBsaWNhbnRDb250ZXh0OiAtPlxyXG5cdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0ZGF0YSA9IHtcclxuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxyXG5cdFx0XHRhdHRzOiB7bmFtZTogJ2luc19hcHBsaWNhbnQnLCBpZDogJ2luc19hcHBsaWNhbnQnLCBjbGFzczogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnfSxcclxuXHRcdFx0dmFsdWU6IHN0ZWVkb3NfaW5zdGFuY2UuYXBwbGljYW50X25hbWVcclxuXHRcdH1cclxuXHRcdGlmIG5vdCBzdGVlZG9zX2luc3RhbmNlIHx8IHN0ZWVkb3NfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiXHJcblx0XHRcdGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWVcclxuXHRcdHJldHVybiBkYXRhO1xyXG5cclxuXHRpbnN0YW5jZUlkOiAtPlxyXG5cdFx0cmV0dXJuICdpbnN0YW5jZWZvcm0nOyNcImluc3RhbmNlX1wiICsgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpO1xyXG5cclxuXHRmb3JtX3R5cGVzOiAtPlxyXG5cdFx0aWYgQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXHJcblx0XHRcdHJldHVybiAnZGlzYWJsZWQnO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gJ21ldGhvZCc7XHJcblxyXG5cdHN0ZWVkb3NfZm9ybTogLT5cclxuXHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XHJcblx0XHRpZiBmb3JtX3ZlcnNpb25cclxuXHRcdFx0cmV0dXJuIGZvcm1fdmVyc2lvblxyXG5cclxuXHRpbm5lcnN1YmZvcm1Db250ZXh0OiAob2JqKS0+XHJcblx0XHRkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xyXG5cdFx0b2JqW1widGFibGVWYWx1ZXNcIl0gPSBpZiBkb2NfdmFsdWVzIHRoZW4gZG9jX3ZhbHVlc1tvYmouY29kZV0gZWxzZSBbXVxyXG5cdFx0b2JqW1wiZm9ybUlkXCJdID0gXCJpbnN0YW5jZWZvcm1cIjtcclxuXHRcdHJldHVybiBvYmo7XHJcblxyXG5cdGluc3RhbmNlOiAtPlxyXG5cdFx0U2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKVxyXG5cdFx0aWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSlcclxuXHRcdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0XHRyZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcclxuXHJcblx0ZW1wdHk6ICh2YWwpIC0+XHJcblx0XHRpZiB2YWxcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHR1bmVtcHR5OiAodmFsKSAtPlxyXG5cdFx0aWYgdmFsXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdGVxdWFsczogKGEsIGIpIC0+XHJcblx0XHRyZXR1cm4gKGEgPT0gYilcclxuXHJcblx0dW5lcXVhbHM6IChhLCBiKSAtPlxyXG5cdFx0cmV0dXJuICEoYSA9PSBiKVxyXG5cclxuXHRpbmNsdWRlczogKGEsIGIpIC0+XHJcblx0XHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xyXG5cclxuXHRpbmNsdWRlOiAoYSwgYikgLT5cclxuXHRcdHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XHJcblxyXG5cdGZpZWxkczogLT5cclxuXHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XHJcblx0XHRpZiBmb3JtX3ZlcnNpb25cclxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcclxuXHJcblx0Zm9ybWF0RGF0ZTogKGRhdGUsIG9wdGlvbnMpLT5cclxuXHRcdGlmICFkYXRlXHJcblx0XHRcdHJldHVybiBcIlwiO1xyXG5cdFx0aWYgb3B0aW9ucyAmJiB0eXBlb2Yob3B0aW9ucykgPT0gJ3N0cmluZydcclxuXHRcdFx0b3B0aW9ucyA9IEpTT04ucGFyc2Uob3B0aW9ucyk7XHJcblxyXG5cdFx0aWYgIW9wdGlvbnMuZm9ybWF0XHJcblx0XHRcdG9wdGlvbnMgPSB7Zm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIn1cclxuXHJcblx0XHRyZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdChvcHRpb25zLmZvcm1hdCk7XHJcblxyXG5cdHRyYWNlczogLT5cclxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0XHRzdGVlZG9zRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCk/LnZpZXc/LnRlbXBsYXRlPy5zdGVlZG9zRGF0YVxyXG5cdFx0XHRpbnN0YW5jZSA9IHN0ZWVkb3NEYXRhPy5pbnN0YW5jZVxyXG5cdFx0XHRmbG93ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEZsb3dWZXJzaW9uKGluc3RhbmNlKTtcclxuXHRcdFx0bG9jYWxlID0gc3RlZWRvc0RhdGE/LmxvY2FsZVxyXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXHJcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXHJcblx0XHRlbHNlXHJcblx0XHRcdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblxyXG5cdFx0XHRmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRmxvd1ZlcnNpb24oKVxyXG5cclxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxyXG5cclxuXHRcdGlmICFpbnN0YW5jZSB8fCAhZmxvd1xyXG5cdFx0XHRyZXR1cm4ge307XHJcblxyXG5cdFx0c3RlcHMgPSBmbG93LnN0ZXBzO1xyXG5cclxuXHRcdHRyYWNlcyA9IHt9O1xyXG5cclxuXHRcdGluc3RhbmNlLnRyYWNlcz8uZm9yRWFjaCAodHJhY2UpLT5cclxuXHRcdFx0c3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdHJhY2Uuc3RlcClcclxuXHJcblx0XHRcdGFwcHJvdmVzID0gW11cclxuXHJcblx0XHRcdHRyYWNlLmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKSAtPlxyXG5cdFx0XHRcdGlmIHRyYWNlLmlzX2ZpbmlzaGVkID09IHRydWVcclxuIyDlt7Lnu5PmnZ/nmoTmmL7npLrkuLrmoLjlh4Yv6amz5ZueL+WPlua2iOeUs+ivt1xyXG5cdFx0XHRcdFx0aWYgYXBwcm92ZS5qdWRnZSA9PSAnYXBwcm92ZWQnXHJcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgYXBwcm92ZWRcIiwge30sIGxvY2FsZSlcclxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAncmVqZWN0ZWQnXHJcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVqZWN0ZWRcIiwge30sIGxvY2FsZSlcclxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAndGVybWluYXRlZCdcclxuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSB0ZXJtaW5hdGVkXCIsIHt9LCBsb2NhbGUpXHJcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3JlYXNzaWduZWQnXHJcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVhc3NpZ25lZFwiLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWxvY2F0ZWQnXHJcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVsb2NhdGVkXCIsIHt9LCBsb2NhbGUpXHJcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJydcclxuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFwiXCJcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFwiXCJcclxuXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSBwZW5kaW5nXCIsIHt9LCBsb2NhbGUpXHJcblxyXG5cdFx0XHRcdGFwcHJvdmVzLnB1c2hcclxuXHRcdFx0XHRcdF9pZDogYXBwcm92ZS5faWRcclxuXHRcdFx0XHRcdGhhbmRsZXI6IGFwcHJvdmUudXNlclxyXG5cdFx0XHRcdFx0aGFuZGxlcl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfbmFtZVxyXG5cdFx0XHRcdFx0aGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lXHJcblx0XHRcdFx0XHRoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZVxyXG5cdFx0XHRcdFx0ZmluaXNoX2RhdGU6IGFwcHJvdmUuZmluaXNoX2RhdGVcclxuXHRcdFx0XHRcdGp1ZGdlOiBhcHByb3ZlLmp1ZGdlXHJcblx0XHRcdFx0XHRqdWRnZV9uYW1lOiBqdWRnZV9uYW1lXHJcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogYXBwcm92ZS5kZXNjcmlwdGlvblxyXG5cdFx0XHRcdFx0aXNfZmluaXNoZWQ6IGFwcHJvdmUuaXNfZmluaXNoZWRcclxuXHRcdFx0XHRcdHR5cGU6IGFwcHJvdmUudHlwZVxyXG5cdFx0XHRcdFx0b3Bpbmlvbl9maWVsZHNfY29kZTogYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlXHJcblx0XHRcdFx0XHRzaWduX2ZpZWxkX2NvZGU6IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlXHJcblx0XHRcdFx0XHRpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWRcclxuXHRcdFx0XHRcdHNpZ25fc2hvdzogYXBwcm92ZS5zaWduX3Nob3dcclxuXHJcblxyXG5cdFx0XHRpZiBzdGVwXHJcblx0XHRcdFx0aWYgc3RlcC5uYW1lIG9mIHRyYWNlc1xyXG5cdFx0XHRcdFx0dHJhY2VzW3N0ZXAubmFtZV0gPSB0cmFjZXNbc3RlcC5uYW1lXS5jb25jYXQoYXBwcm92ZXMpXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dHJhY2VzW3N0ZXAubmFtZV0gPSBhcHByb3Zlc1xyXG5cclxuXHRcdHJldHVybiB0cmFjZXM7XHJcblxyXG5cclxuXHJcblx0ZG9jX3ZhbHVlczogLT5cclxuXHRcdFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcclxuXHJcblx0aW5zdGFuY2VfYm94X3N0eWxlOiAtPlxyXG5cdFx0Ym94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIilcclxuXHRcdGlmIGJveCA9PSBcImluYm94XCIgfHwgYm94ID09IFwiZHJhZnRcIlxyXG5cdFx0XHRqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIilcclxuXHRcdFx0aWYganVkZ2VcclxuXHRcdFx0XHRpZiAoanVkZ2UgPT0gXCJhcHByb3ZlZFwiKVxyXG5cdFx0XHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxyXG5cdFx0XHRcdGVsc2UgaWYgKGp1ZGdlID09IFwicmVqZWN0ZWRcIilcclxuXHRcdFx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxyXG5cdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRpZiBpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uXHJcblx0XHRcdGlmIGlucy5maW5hbF9kZWNpc2lvbiA9PSBcImFwcHJvdmVkXCJcclxuXHRcdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXHJcblx0XHRcdGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PSBcInJlamVjdGVkXCIpXHJcblx0XHRcdFx0cmV0dXJuIFwiYm94LWRhbmdlclwiXHJcblxyXG4jaXNfZGlzYWJsZWQ6IC0+XHJcbiMgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcbiMgICAgaWYgIWluc1xyXG4jICAgICAgICByZXR1cm47XHJcbiMgICAgaWYgaW5zLnN0YXRlIT1cImRyYWZ0XCJcclxuIyAgICAgICAgcmV0dXJuIFwiZGlzYWJsZWRcIjtcclxuIyAgICByZXR1cm47XHJcblxyXG5cdHRhYmxlX2ZpZWxkczogKGluc3RhbmNlKS0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcclxuXHRcdGlmIGZvcm1fdmVyc2lvblxyXG5cdFx0XHRmaWVsZHMgPSBfLmNsb25lKGZvcm1fdmVyc2lvbi5maWVsZHMpO1xyXG5cclxuXHRcdFx0ZmllbGRzLmZvckVhY2ggKGZpZWxkLCBpbmRleCkgLT5cclxuXHRcdFx0XHRmaWVsZC50cl9zdGFydCA9IFwiXCI7XHJcblx0XHRcdFx0ZmllbGQudHJfZW5kID0gXCJcIjtcclxuXHRcdFx0XHR0ZF9jb2xzcGFuID0gMTtcclxuI1x0XHRcdFx05by65Yi26K6+572u5qCH5aS05a2X5q615Li65a695a2X5q61XHJcblx0XHRcdFx0aWYgQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZSA9PSBmaWVsZC5jb2RlXHJcblx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZVxyXG5cclxuXHRcdFx0XHRpZiBmaWVsZC5mb3JtdWxhICYmIGZpZWxkLnR5cGUgIT0gJ29kYXRhJ1xyXG5cdFx0XHRcdFx0ZmllbGQucGVybWlzc2lvbiA9IFwicmVhZG9ubHlcIjtcclxuXHJcblx0XHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXHJcbiMg5aaC5p6c5b2T5YmN5a2X5q615piv5YiG57uE44CB6KGo5qC844CB5a695a2X5q61XHJcblx0XHRcdFx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09ICd0YWJsZSdcclxuXHRcdFx0XHRcdFx0ZmllbGQudGRfY29sc3BhbiA9IDQ7XHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGZpZWxkLnRkX2NvbHNwYW4gPSAzO1xyXG5cclxuXHRcdFx0XHRcdGlmIGluZGV4ICE9IDBcclxuXHRcdFx0XHRcdFx0ZmllbGQudHJfc3RhcnQgPSBcIjx0cj5cIjtcclxuXHRcdFx0XHRcdFx0ZmllbGQudHJfZW5kID0gXCI8L3RyPlwiO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHByZV9maWVsZHMgPSBmaWVsZHMuc2xpY2UoMCwgaW5kZXgpO1xyXG5cclxuXHRcdFx0XHRcdHByZV93aWRlX2ZpZWxkcyA9IHByZV9maWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xyXG5cclxuXHRcdFx0XHRcdHRyX3N0YXJ0ID0gXCJcIjtcclxuXHJcblx0XHRcdFx0XHR0cl9lbmQgPSBcIlwiO1xyXG5cclxuXHRcdFx0XHRcdCMg5YWI6K6h566X5b2T5YmN5a2X5q615piv5ZCm5Li65a695a2X5q61XHJcblx0XHRcdFx0XHRiZWZvcmVfZmllbGQgPSBudWxsO1xyXG5cdFx0XHRcdFx0YWZ0ZXJfZmllbGQgPSBudWxsO1xyXG5cclxuXHRcdFx0XHRcdGlmIGluZGV4ID4gMFxyXG5cdFx0XHRcdFx0XHRiZWZvcmVfZmllbGQgPSBmaWVsZHNbaW5kZXggLSAxXVxyXG5cclxuXHRcdFx0XHRcdGlmIGluZGV4IDwgZmllbGRzLmxlbmd0aCAtIDFcclxuXHRcdFx0XHRcdFx0YWZ0ZXJfZmllbGQgPSBmaWVsZHNbaW5kZXggKyAxXVxyXG5cclxuXHRcdFx0XHRcdCMg5aaC5p6c5b2T5YmN5a2X5q615piv5YiG57uE44CB6KGo5qC844CB5a695a2X5q61XHJcblx0XHRcdFx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09ICd0YWJsZSdcclxuXHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDQ7XHJcblx0XHRcdFx0XHRlbHNlIGlmIGZpZWxkLmlzX3dpZGVcclxuXHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XHJcblx0XHRcdFx0XHRlbHNlXHJcbiMg5YmN5ZCO6YO95piv5a695a2X5q61XHJcblx0XHRcdFx0XHRcdGlmIGJlZm9yZV9maWVsZCAmJiBhZnRlcl9maWVsZCAmJiBiZWZvcmVfZmllbGQuaXNfd2lkZSAmJiBhZnRlcl9maWVsZC5pc193aWRlXHJcblx0XHRcdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XHJcblxyXG5cdFx0XHRcdFx0XHQjIOW9k+WJjeaYr3RyIOS4i+eahCDnrKzkuIDkuKp0ZCAmIOWQjui+ueeahOWtl+auteaYr+WuveWtl+autVxyXG5cdFx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT0gMCAmJiBhZnRlcl9maWVsZCAmJiBhZnRlcl9maWVsZC5pc193aWRlXHJcblx0XHRcdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XHJcblxyXG5cdFx0XHRcdFx0XHQjIOW9k+WJjeaYr3RyIOS4i+eahCDnrKzkuIDkuKp0ZCAmIOW9k+WJjeWtl+auteaYr+acgOWQjuS4gOS4quWtl+autVxyXG5cdFx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT0gMCAmJiBhZnRlcl9maWVsZCA9PSBudWxsXHJcblx0XHRcdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XHJcblxyXG5cdFx0XHRcdFx0ZmllbGQudGRfY29sc3BhbiA9IHRkX2NvbHNwYW47XHJcblxyXG5cclxuXHRcdFx0XHRcdGlmIGluZGV4ID09IDBcclxuIyB0cl9zdGFydCA9IFwiPHRyPlwiOyDnlLHkuo5UZW1wbGF0ZeeahOe8luivkWJ1Z++8jOWvvOiHtOavj+asoee7meS4gOS4qnRy5byA5aeL5pe277yM5Lya6Ieq5Yqo6KGl5aS05oiW6KGl5bC+44CC5Zug5q2k5Zyo56ys5LiA6KGM6L+U5Zue5LiA5Liq56m65a2X56ym5LiyLlxyXG5cdFx0XHRcdFx0XHR0cl9zdGFydCA9IFwiPHRyPlwiO1xyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT0gMCB8fCBmaWVsZC5pc193aWRlXHJcblx0XHRcdFx0XHRcdFx0aWYgZmllbGQudHlwZSA9PSAndGFibGUnXHJcblx0XHRcdFx0XHRcdFx0XHR0cl9zdGFydCA9IFwiPHRyIGNsYXNzID0gXFxcInRyLWNoaWxkLXRhYmxlXFxcIj5cIjtcclxuXHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHR0cl9zdGFydCA9IFwiPHRyPlwiO1xyXG5cclxuXHRcdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gdHJfc3RhcnQ7XHJcblxyXG5cclxuXHRcdFx0XHRcdGlmIGluZGV4ICsgMSA9PSBmaWVsZHMubGVuZ3RoIHx8IGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT0gJ3RhYmxlJyB8fCBmaWVsZC5pc193aWRlXHJcblx0XHRcdFx0XHRcdHRyX2VuZCA9IFwiPC90cj5cIjtcclxuXHJcblx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgIT0gMFxyXG5cdFx0XHRcdFx0XHR0cl9lbmQgPSBcIjwvdHI+XCI7XHJcblxyXG5cdFx0XHRcdFx0ZmllbGQudHJfZW5kID0gdHJfZW5kO1xyXG5cclxuXHRcdFx0cmV0dXJuIGZpZWxkcztcclxuXHJcblx0c29ydF9hcHByb3ZlOiAoYXBwcm92ZXMsIG9yZGVyKS0+XHJcblx0XHRpZiAhYXBwcm92ZXNcclxuXHRcdFx0cmV0dXJuIFtdXHJcblxyXG5cdFx0aWYgIWFwcHJvdmVzIGluc3RhbmNlb2YgQXJyYXlcclxuXHRcdFx0cmV0dXJuIFtdXHJcblx0XHRlbHNlXHJcblx0XHRcdGlmIG9yZGVyID09ICdkZXNjJ1xyXG5cdFx0XHRcdGFwcHJvdmVzLnNvcnQgKHAxLCBwMikgLT5cclxuXHRcdFx0XHRcdF9wMSA9IDBcclxuXHRcdFx0XHRcdF9wMiA9IDBcclxuXHJcblx0XHRcdFx0XHRpZiBwMS5maW5pc2hfZGF0ZVxyXG5cdFx0XHRcdFx0XHRfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKClcclxuXHJcblx0XHRcdFx0XHRpZiBwMi5maW5pc2hfZGF0ZVxyXG5cdFx0XHRcdFx0XHRfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIF9wMiAtIF9wMVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0YXBwcm92ZXMuc29ydCAocDEsIHAyKSAtPlxyXG5cdFx0XHRcdFx0X3AxID0gMFxyXG5cdFx0XHRcdFx0X3AyID0gMFxyXG5cclxuXHRcdFx0XHRcdGlmIHAxLmZpbmlzaF9kYXRlXHJcblx0XHRcdFx0XHRcdF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKVxyXG5cclxuXHRcdFx0XHRcdGlmIHAyLmZpbmlzaF9kYXRlXHJcblx0XHRcdFx0XHRcdF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gX3AxIC0gX3AyXHJcblx0XHRyZXR1cm4gYXBwcm92ZXNcclxuXHJcblx0X3Q6IChrZXkpLT5cclxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSlcclxuXHRnZXRGaWVsZDogKGNvZGUpLT5cclxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cclxuXHRcdGlmIGZvcm1fdmVyc2lvblxyXG5cdFx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKVxyXG5cclxuXHRnZXRWYWx1ZTogKGNvZGUpLT5cclxuXHRcdGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlXHJcblxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvblxyXG5cclxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcclxuXHJcblx0XHR1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0XHJcblxyXG5cdFx0dmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9XHJcblxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdHZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKVxyXG5cclxuXHRcdHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUgdmFsdWVzW2NvZGVdLCBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLCBsb2NhbGUsIHV0Y09mZnNldFxyXG5cclxuXHRnZXRMYWJlbDogKGNvZGUpLT5cclxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCBmb3JtX3ZlcnNpb24uZmllbGRzLCBjb2RlXHJcblxyXG5cdGdldENmQ2xhc3M6IChmaWVsZCktPlxyXG5cdFx0aWYgZmllbGQ/LnR5cGUgPT0gXCJpbnB1dFwiICYmIGZpZWxkPy5pc190ZXh0YXJlYVxyXG5cdFx0XHRyZXR1cm4gXCJjZlRleHRhcmVhXCJcclxuXHJcblx0Z2V0VGFibGVUaGVhZDogKGZpZWxkKS0+XHJcblx0XHRyZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRoZWFkKGZpZWxkLCBmYWxzZSlcclxuXHJcblx0Z2V0VGFibGVCb2R5OiAoZmllbGQpLT5cclxuXHJcblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0aW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2VcclxuXHRcdFx0dmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9XHJcblx0XHRlbHNlXHJcblx0XHRcdHZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKVxyXG5cclxuXHRcdHRhYmxlVmFsdWUgPSB2YWx1ZXNbZmllbGQuY29kZV07XHJcblx0XHRyZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRib2R5KGZpZWxkLnNmaWVsZHMuZ2V0UHJvcGVydHkoXCJjb2RlXCIpLCBmaWVsZCwgdGFibGVWYWx1ZSwgZmFsc2UpXHJcblxyXG5cdHNob3dMYWJlbDogKGZpZWxkKS0+XHJcblx0XHR0ZW1wbGF0ZURhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGFcclxuXHRcdGlmIHRlbXBsYXRlRGF0YS5sYWJlbCA9PSBmYWxzZVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdHJldHVybiB0cnVlXHJcblxyXG4jXHRhZkZpZWxkTGFiZWxUZXh0OiAob3ApLT5cclxuI1x0XHRpZiAhVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhXHJcbiNcdFx0XHRyZXR1cm4gQXV0b0Zvcm0uZ2V0TGFiZWxGb3JGaWVsZChvcC5uYW1lKVxyXG4jXHRcdGVsc2VcclxuI1x0XHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cclxuI1x0XHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCBmb3JtX3ZlcnNpb24uZmllbGRzLCBvcD8uaGFzaD8ubmFtZVxyXG5cclxuXHRpc09waW5pb25GaWVsZDogKGZpZWxkKS0+XHJcblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZC5mb3JtdWxhKVxyXG5cclxuXHRpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZzogKGZpZWxkX2Zvcm11bGEpLT5cclxuXHRcdHJldHVybiBJbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXHJcblxyXG5cdGluY2x1ZGVzT3BpbmlvbkZpZWxkOiAoZm9ybSwgZm9ybV92ZXJzaW9uKS0+XHJcblxyXG5cdFx0ZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcclxuXHJcblx0XHRmaWVsZHMgPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe19pZDogZm9ybV92ZXJzaW9uLCBmb3JtOiBmb3JtfSk/LmZpZWxkcyB8fCBbXVxyXG5cclxuXHRcdGZpZWxkcy5mb3JFYWNoIChmKS0+XHJcblx0XHRcdGlmIGYudHlwZSA9PSAndGFibGUnXHJcblx0XHRcdFx0Y29uc29sZS5sb2cgJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJ1xyXG5cdFx0XHRlbHNlIGlmIGYudHlwZSA9PSAnc2VjdGlvbidcclxuXHRcdFx0XHRmPy5maWVsZHM/LmZvckVhY2ggKGYxKS0+XHJcblx0XHRcdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYxLmZvcm11bGFcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGZpZWxkX2Zvcm11bGFzLnB1c2ggZi5mb3JtdWxhXHJcblxyXG5cdFx0Xy5zb21lIGZpZWxkX2Zvcm11bGFzLCAoZmllbGRfZm9ybXVsYSktPlxyXG5cdFx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxyXG5cclxuXHRnZXRPcGluaW9uRmllbGRTdGVwc05hbWU6IChmaWVsZF9mb3JtdWxhLCB0b3Bfa2V5d29yZHMpLT5cclxuXHJcblx0XHRvcGluaW9uRmllbGRzID0gbmV3IEFycmF5KCk7XHJcbiNcdFx0Y29uc29sZS5sb2coXCJmaWVsZF9mb3JtdWxhXCIsIGZpZWxkX2Zvcm11bGEpXHJcblx0XHRpZiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXHJcblx0XHRcdGlmIGZpZWxkX2Zvcm11bGFcclxuXHJcbiNcdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiLFwiKVxyXG5cdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKVxyXG5cclxuI1x0XHRcdFx0aWYgdG9wX2tleXdvcmRzXHJcbiNcdFx0XHRcdFx0Zm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCI7XCIpXHJcblxyXG5cdFx0XHRcdGZvbzEuZm9yRWFjaCAoZm9vKS0+XHJcblx0XHRcdFx0XHRqc29uX2Zvcm11bGEgPSB7fVxyXG5cclxuXHRcdFx0XHRcdHRyeVxyXG5cdFx0XHRcdFx0XHRqc29uX2Zvcm11bGEgPSBldmFsKFwiKFwiICsgZm9vICsgXCIpXCIpXHJcblx0XHRcdFx0XHRjYXRjaFxyXG5cdFx0XHRcdFx0XHRqc29uX2Zvcm11bGEgPSB7fVxyXG5cclxuXHRcdFx0XHRcdGlmIGpzb25fZm9ybXVsYT8ueWlqaWFubGFuXHJcblx0XHRcdFx0XHRcdHNmID0ge31cclxuXHJcblx0XHRcdFx0XHRcdHNmLnN0ZXBOYW1lID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5zdGVwXHJcblxyXG5cdFx0XHRcdFx0XHRzZi5pbWFnZV9zaWduID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5pbWFnZV9zaWduIHx8IGZhbHNlXHJcblxyXG5cdFx0XHRcdFx0XHRzZi5vbmx5X2NjX29waW5pb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfY2MgfHwgZmFsc2VcclxuXHJcblx0XHRcdFx0XHRcdHNmLmRlZmF1bHRfZGVzY3JpcHRpb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLmRlZmF1bHRcclxuXHJcblx0XHRcdFx0XHRcdHNmLm9ubHlfaGFuZGxlciA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9oYW5kbGVyXHJcblxyXG5cdFx0XHRcdFx0XHRzZi50b3Bfa2V5d29yZHMgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnRvcF9rZXl3b3JkcyB8fCB0b3Bfa2V5d29yZHNcclxuXHJcblx0XHRcdFx0XHRcdG9waW5pb25GaWVsZHMucHVzaChzZik7XHJcblxyXG5cdFx0XHRcdFx0ZWxzZSBpZihmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3RyYWNlcy5cIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpID4gLTEpXHJcblxyXG5cdFx0XHRcdFx0XHRzZiA9IHtvbmx5X2NjX29waW5pb246IGZhbHNlLCBpbWFnZV9zaWduOiBmYWxzZSwgdG9wX2tleXdvcmRzOiB0b3Bfa2V5d29yZHN9XHJcblxyXG5cdFx0XHRcdFx0XHRpZiBmb28uaW5kZXhPZihcIntzaWduYXR1cmUuXCIpID4gLTFcclxuXHRcdFx0XHRcdFx0XHRzZi5pbWFnZV9zaWduID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdGZvbyA9IGZvby5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIixcIlwiKTtcclxuXHJcblx0XHRcdFx0XHRcdHMxID0gZm9vLnJlcGxhY2UoXCJ7XCIsXCJcIikucmVwbGFjZShcIn1cIixcIlwiKVxyXG5cdFx0XHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMVxyXG5cdFx0XHRcdFx0XHRcdHNmLnN0ZXBOYW1lID0gczEuc3BsaXQoXCIuXCIpWzFdXHJcblx0XHRcdFx0XHRcdFx0aWYgb3BpbmlvbkZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcInN0ZXBOYW1lXCIsc2Yuc3RlcE5hbWUpLmxlbmd0aCA+IDBcclxuXHRcdFx0XHRcdFx0XHRcdG9waW5pb25GaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBOYW1lXCIsIHNmLnN0ZXBOYW1lKT8ub25seV9jY19vcGluaW9uID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKVsyXT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnY2MnXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2Yub25seV9jY19vcGluaW9uID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLnB1c2goc2YpO1xyXG5cclxuXHRcdHJldHVybiBvcGluaW9uRmllbGRzXHJcblxyXG5cdHNob3dDQ09waW5pb246IChmaWVsZCktPlxyXG5cdFx0aWYgZmllbGQuZm9ybXVsYT8uaW5kZXhPZihcInt0cmFjZXMuXCIpID4gLTEgfHwgZmllbGQuZm9ybXVsYT8uaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA+IC0xXHJcblx0XHRcdHMxID0gZmllbGQuZm9ybXVsYS5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIixcIlwiKS5yZXBsYWNlKFwie1wiLFwiXCIpLnJlcGxhY2UoXCJ9XCIsXCJcIilcclxuXHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDJcclxuXHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIilbMl0/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ2NjJ1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XHJcblx0XHRpZiBtYXJrRG93blN0cmluZ1xyXG5cdFx0XHRyZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xyXG5cdFx0XHRyZW5kZXJlci5saW5rID0gKCBocmVmLCB0aXRsZSwgdGV4dCApIC0+XHJcblx0XHRcdFx0cmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9JyN7aHJlZn0nIHRpdGxlPScje3RpdGxlfSc+I3t0ZXh0fTwvYT5cIlxyXG5cdFx0XHRyZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtyZW5kZXJlcjpyZW5kZXJlcn0pKVxyXG5cclxuXHRmX2xhYmVsOiAodGhhdCktPlxyXG5cdFx0cmV0dXJuIHRoYXQubmFtZSB8fCB0aGF0LmNvZGVcclxuXHJcbmlmIE1ldGVvci5pc1NlcnZlclxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuc3RlZWRvc19mb3JtID0gLT5cclxuXHRcdHJldHVybiB0aGlzLmZvcm1fdmVyc2lvblxyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzU2VjdGlvbiA9IChjb2RlKS0+XHJcblx0XHRmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvblxyXG5cdFx0cmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSkudHlwZSA9PSAnc2VjdGlvbidcclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5kb2NfdmFsdWVzID0gLT5cclxuXHRcdGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcclxuXHRcdHJldHVybiBpbnN0YW5jZS52YWx1ZXM7XHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuYXBwbGljYW50Q29udGV4dCA9IC0+XHJcblx0XHRpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XHJcblx0XHRkYXRhID0ge1xyXG5cdFx0XHRuYW1lOiAnaW5zX2FwcGxpY2FudCcsXHJcblx0XHRcdGF0dHM6IHtuYW1lOiAnaW5zX2FwcGxpY2FudCcsIGlkOiAnaW5zX2FwcGxpY2FudCcsIGNsYXNzOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCd9LFxyXG5cdFx0XHR2YWx1ZTogaW5zdGFuY2UuYXBwbGljYW50X25hbWVcclxuXHRcdH1cclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSA9IC0+XHJcblx0XHRyZXR1cm4gdGhpcy5pbnN0YW5jZVxyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZpZWxkcyA9IC0+XHJcblx0XHRmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvblxyXG5cdFx0aWYgZm9ybV92ZXJzaW9uXHJcblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybV90eXBlcyA9IC0+XHJcblx0XHRyZXR1cm4gXCJkaXNhYmxlZFwiXHJcblxyXG5cdFRlbXBsYXRlLnJlZ2lzdGVySGVscGVyIFwiYWZGaWVsZExhYmVsVGV4dFwiLCAob3ApLT5cclxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCBmb3JtX3ZlcnNpb24uZmllbGRzLCBvcD8uaGFzaD8ubmFtZVxyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLl90ID0gKGtleSktPlxyXG5cdFx0bG9jYWxlID0gdGhpcy5sb2NhbGVcclxuXHJcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zX2F0dGFjaF9kb3dubG9hZF91cmwgPSAoX2lkLCBhYnNvbHV0ZSktPlxyXG5cdFx0aWYgYWJzb2x1dGVcclxuXHRcdFx0cmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIi9hcGkvZmlsZXMvaW5zdGFuY2VzLyN7X2lkfT9kb3dubG9hZD10cnVlXCIpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiO1xyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLm9wdGlvbnMgPSAoZmllbGQpLT5cclxuXHRcdG9wdGlvbnMgPSBmaWVsZD8ub3B0aW9ucz8uc3BsaXQoXCJcXG5cIilcclxuXHRcdHJldiA9IFtdXHJcblx0XHRvcHRpb25zPy5mb3JFYWNoIChpdGVtKS0+XHJcblx0XHRcdHJldi5wdXNoKHtsYWJlbDogaXRlbSwgdmFsdWU6IGl0ZW19KVxyXG5cclxuXHRcdHJldHVybiByZXZcclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRQZXJtaXNzaW9ucyA9IChjb2RlKS0+XHJcblx0XHRpZiAhVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzPy5pbmNsdWRlcyhjb2RlKVxyXG5cdFx0XHRyZXR1cm4gXCJyZWFkb25seSBkaXNhYmxlZFwiXHJcblx0XHRyZXR1cm4gXCJcIlxyXG5cclxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUuZXZlbnRzID1cclxuXHQnY2hhbmdlIC5mb3JtLWNvbnRyb2wsLmNoZWNrYm94IGlucHV0LC5hZi1yYWRpby1ncm91cCBpbnB1dCwuYWYtY2hlY2tib3gtZ3JvdXAgaW5wdXQnOiAoZXZlbnQpLT5cclxuXHRcdEluc3RhbmNlTWFuYWdlci5pbnN0YW5jZWZvcm1DaGFuZ2VFdmVudChldmVudClcclxuXHJcblx0J3R5cGVhaGVhZDpjaGFuZ2UgLmZvcm0tY29udHJvbCc6IChldmVudCkgLT5cclxuXHRcdEluc3RhbmNlTWFuYWdlci5pbnN0YW5jZWZvcm1DaGFuZ2VFdmVudChldmVudClcclxuXHJcblx0J2NsaWNrIC5jZlRleHRhcmVhIGEnOiAoZXZlbnQpLT5cclxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRTdGVlZG9zLm9wZW5XaW5kb3coZXZlbnQudGFyZ2V0LmhyZWYpO1xyXG5cclxuXHJcbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uQ3JlYXRlZCA9ICgpLT5cclxuXHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdGlmICFpbnN0YW5jZVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHR0ZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSk7XHJcblxyXG5cdHRyeVxyXG5cdFx0Y29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7aXNCb2R5OiB0cnVlfSk7XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5sb2cgXCJJbnN0YW5jZSBUZW1wbGF0ZSBFcnJvclwiLCBlXHJcblx0XHRjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoXCJcIiwge2lzQm9keTogdHJ1ZX0pO1xyXG5cclxuXHJcblx0cmVuZGVyRnVuY3Rpb24gPSBldmFsKGNvbXBpbGVkKTtcclxuXHJcblx0aW5zdGFuY2VWaWV3ID0gbmV3IEJsYXplLlZpZXcoXCJjdXN0b21faW5zdGFuY2VfdGVtcGxhdGVcIiwgcmVuZGVyRnVuY3Rpb24pO1xyXG5cclxuXHRpbnN0YW5jZUN1c3RvbVRlbXBsYXRlID0gbmV3IEJsYXplLlRlbXBsYXRlKGluc3RhbmNlVmlldy5uYW1lLCByZW5kZXJGdW5jdGlvbik7XHJcblxyXG5cdFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZSA9IGluc3RhbmNlQ3VzdG9tVGVtcGxhdGVcclxuXHJcblx0VGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlLmhlbHBlcnMgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVyc1xyXG5cclxuXHJcblxyXG5cclxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25SZW5kZXJlZCA9ICgpLT5cclxuXHQjIHQgPSB0aGlzO1xyXG5cclxuXHQjdC5zdWJzY3JpYmUgXCJpbnN0YW5jZV9kYXRhXCIsIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSwgLT5cclxuXHQjICAgIFRyYWNrZXIuYWZ0ZXJGbHVzaCAtPlxyXG5cdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0aWYgIWluc3RhbmNlXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdCMkKFwiI2luc19hcHBsaWNhbnRcIikuc2VsZWN0MigpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG5cdCMkKFwiI2luc19hcHBsaWNhbnRcIikudmFsKGluc3RhbmNlLmFwcGxpY2FudCk7XHJcblx0JChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKVswXT8uZGF0YXNldC52YWx1ZXMgPSBpbnN0YW5jZS5hcHBsaWNhbnQ7XHJcblx0JChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKS52YWwoaW5zdGFuY2UuYXBwbGljYW50X25hbWUpXHJcblxyXG5cclxuXHRBcHByb3ZlTWFuYWdlci5lcnJvciA9IHtuZXh0U3RlcHM6ICcnLCBuZXh0U3RlcFVzZXJzOiAnJ307XHJcblxyXG5cdCMgaW5zdGFuY2UgZnJvbee7keWumuS6i+S7tlxyXG5cdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2RyYWZ0J1xyXG5cdFx0SW5zdGFuY2VFdmVudC5pbml0RXZlbnRzKGluc3RhbmNlLmZsb3cpO1xyXG5cclxuXHRpZiAhQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXHJcblxyXG5cdFx0Y3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcclxuXHJcblxyXG5cdFx0aW5zdGFuY2VOdW1iZXJGaWVsZHMgPSAkKFwiW2RhdGEtZm9ybXVsYV1cIiwgJChcIiNpbnN0YW5jZWZvcm1cIikpXHJcblxyXG5cdFx0aW5zdGFuY2VOdW1iZXJGaWVsZHMuZWFjaCAoKS0+XHJcblx0XHRcdHNjaGVtYUtleSA9IHRoaXMuZGF0YXNldC5zY2hlbWFLZXlcclxuXHRcdFx0ZWxlbWVudCA9ICQodGhpcylcclxuXHRcdFx0aWYgISQodGhpcykudmFsKCkgJiYgc2NoZW1hS2V5ICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKVxyXG5cdFx0XHRcdE1ldGVvci5jYWxsICdnZXRJbnN0YW5jZVZhbHVlcycsIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSwgKGVycm9yLCByZXN1bHQpLT5cclxuXHRcdFx0XHRcdGlmIGVycm9yXHJcblx0XHRcdFx0XHRcdHRvYXN0ci5lcnJvcihlcnJvci5yZWFzb24pXHJcblxyXG5cdFx0XHRcdFx0aWYgIXJlc3VsdFtzY2hlbWFLZXldXHJcblx0XHRcdFx0XHRcdGtleSA9IGVsZW1lbnQuZGF0YShcImZvcm11bGFcIik/LnJlcGxhY2UoXCJhdXRvX251bWJlcihcIiwgXCJcIikucmVwbGFjZShcIilcIiwgXCJcIilcclxuXHJcblx0XHRcdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFwiL2csIFwiXCIpLnJlcGxhY2UoL1xcJy9nLCBcIlwiKVxyXG5cclxuXHRcdFx0XHRcdFx0aWYga2V5LmluZGV4T2YoXCJ7XCIpID4gLTFcclxuXHRcdFx0XHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXHJcblx0XHRcdFx0XHRcdFx0a2V5ID0ga2V5LnRyaW0oKVxyXG5cdFx0XHRcdFx0XHRcdGtleSA9IEF1dG9Gb3JtLmdldEZpZWxkVmFsdWUoa2V5LCAnaW5zdGFuY2Vmb3JtJylcclxuXHRcdFx0XHRcdFx0SW5zdGFuY2VOdW1iZXJSdWxlcy5pbnN0YW5jZU51bWJlckJ1aWxkZXIgZWxlbWVudCwga2V5XHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGVsZW1lbnQ/LnZhbChyZXN1bHRbc2NoZW1hS2V5XSkudHJpZ2dlcihcImNoYW5nZVwiKVxyXG5cclxuXHRcdGp1ZGdlID0gY3VycmVudEFwcHJvdmUuanVkZ2VcclxuXHRcdGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xyXG5cclxuXHRcdGZvcm11bGFfZmllbGRzID0gRm9ybV9mb3JtdWxhLmdldEZvcm11bGFGaWVsZFZhcmlhYmxlKFwiRm9ybV9mb3JtdWxhLmZpZWxkX3ZhbHVlc1wiLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcclxuXHRcdEZvcm1fZm9ybXVsYS5ydW4oXCJcIiwgXCJcIiwgZm9ybXVsYV9maWVsZHMsIEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcclxuXHRcdCPlnKjmraTlpITliJ3lp4vljJZzZXNzaW9uIOS4reeahCBmb3JtX3ZhbHVlcyDlj5jph4/vvIznlKjkuo7op6blj5HkuIvkuIDmraXmraXpqqTorqHnrpdcclxuXHRcdFNlc3Npb24uc2V0KFwiaW5zdGFuY2VfZm9ybV92YWx1ZXNcIiwge2luc3RhbmNlSWQ6IGluc3RhbmNlLl9pZCwgdmFsdWVzOiBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwiaW5zdGFuY2Vmb3JtXCIpLmluc2VydERvY30pO1xyXG5cclxuXHJcblxyXG4iLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzID0ge1xuICBhcHBsaWNhbnRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSwgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgZGF0YSA9IHtcbiAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgIGF0dHM6IHtcbiAgICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBpZDogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBcImNsYXNzXCI6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J1xuICAgICAgfSxcbiAgICAgIHZhbHVlOiBzdGVlZG9zX2luc3RhbmNlLmFwcGxpY2FudF9uYW1lXG4gICAgfTtcbiAgICBpZiAoIXN0ZWVkb3NfaW5zdGFuY2UgfHwgc3RlZWRvc19pbnN0YW5jZS5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICBkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfSxcbiAgaW5zdGFuY2VJZDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICdpbnN0YW5jZWZvcm0nO1xuICB9LFxuICBmb3JtX3R5cGVzOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpKSB7XG4gICAgICByZXR1cm4gJ2Rpc2FibGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdtZXRob2QnO1xuICAgIH1cbiAgfSxcbiAgc3RlZWRvc19mb3JtOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgICB9XG4gIH0sXG4gIGlubmVyc3ViZm9ybUNvbnRleHQ6IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBkb2NfdmFsdWVzO1xuICAgIGRvY192YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgb2JqW1widGFibGVWYWx1ZXNcIl0gPSBkb2NfdmFsdWVzID8gZG9jX3ZhbHVlc1tvYmouY29kZV0gOiBbXTtcbiAgICBvYmpbXCJmb3JtSWRcIl0gPSBcImluc3RhbmNlZm9ybVwiO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGluc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpO1xuICAgIGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuICAgIH1cbiAgfSxcbiAgZW1wdHk6IGZ1bmN0aW9uKHZhbCkge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICB1bmVtcHR5OiBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIHVuZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuICEoYSA9PT0gYik7XG4gIH0sXG4gIGluY2x1ZGVzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgaW5jbHVkZTogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG4gIH0sXG4gIGZpZWxkczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG4gICAgfVxuICB9LFxuICBmb3JtYXREYXRlOiBmdW5jdGlvbihkYXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFkYXRlKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRpb25zID0gSlNPTi5wYXJzZShvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmZvcm1hdCkge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgZm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQob3B0aW9ucy5mb3JtYXQpO1xuICB9LFxuICB0cmFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmbG93LCBpbnN0YW5jZSwgbG9jYWxlLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHN0ZWVkb3NEYXRhLCBzdGVwcywgdHJhY2VzO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIHN0ZWVkb3NEYXRhID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi52aWV3KSAhPSBudWxsID8gKHJlZjIgPSByZWYxLnRlbXBsYXRlKSAhPSBudWxsID8gcmVmMi5zdGVlZG9zRGF0YSA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIGluc3RhbmNlID0gc3RlZWRvc0RhdGEgIT0gbnVsbCA/IHN0ZWVkb3NEYXRhLmluc3RhbmNlIDogdm9pZCAwO1xuICAgICAgZmxvdyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbihpbnN0YW5jZSk7XG4gICAgICBsb2NhbGUgPSBzdGVlZG9zRGF0YSAhPSBudWxsID8gc3RlZWRvc0RhdGEubG9jYWxlIDogdm9pZCAwO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGbG93VmVyc2lvbigpO1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZSB8fCAhZmxvdykge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBzdGVwcyA9IGZsb3cuc3RlcHM7XG4gICAgdHJhY2VzID0ge307XG4gICAgaWYgKChyZWYzID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsKSB7XG4gICAgICByZWYzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIGFwcHJvdmVzLCByZWY0LCBzdGVwO1xuICAgICAgICBzdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZS5zdGVwKTtcbiAgICAgICAgYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgaWYgKChyZWY0ID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwpIHtcbiAgICAgICAgICByZWY0LmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgICAgdmFyIGp1ZGdlX25hbWU7XG4gICAgICAgICAgICBpZiAodHJhY2UuaXNfZmluaXNoZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdhcHByb3ZlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIGFwcHJvdmVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlamVjdGVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAncmVhc3NpZ25lZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlYXNzaWduZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3JlbG9jYXRlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlbG9jYXRlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAnJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHBlbmRpbmdcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXBwcm92ZXMucHVzaCh7XG4gICAgICAgICAgICAgIF9pZDogYXBwcm92ZS5faWQsXG4gICAgICAgICAgICAgIGhhbmRsZXI6IGFwcHJvdmUudXNlcixcbiAgICAgICAgICAgICAgaGFuZGxlcl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfbmFtZSxcbiAgICAgICAgICAgICAgaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lLFxuICAgICAgICAgICAgICBoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSxcbiAgICAgICAgICAgICAgZmluaXNoX2RhdGU6IGFwcHJvdmUuZmluaXNoX2RhdGUsXG4gICAgICAgICAgICAgIGp1ZGdlOiBhcHByb3ZlLmp1ZGdlLFxuICAgICAgICAgICAgICBqdWRnZV9uYW1lOiBqdWRnZV9uYW1lLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYXBwcm92ZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgaXNfZmluaXNoZWQ6IGFwcHJvdmUuaXNfZmluaXNoZWQsXG4gICAgICAgICAgICAgIHR5cGU6IGFwcHJvdmUudHlwZSxcbiAgICAgICAgICAgICAgb3Bpbmlvbl9maWVsZHNfY29kZTogYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlLFxuICAgICAgICAgICAgICBzaWduX2ZpZWxkX2NvZGU6IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlLFxuICAgICAgICAgICAgICBpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWQsXG4gICAgICAgICAgICAgIHNpZ25fc2hvdzogYXBwcm92ZS5zaWduX3Nob3dcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGVwKSB7XG4gICAgICAgICAgaWYgKHN0ZXAubmFtZSBpbiB0cmFjZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFjZXNbc3RlcC5uYW1lXSA9IHRyYWNlc1tzdGVwLm5hbWVdLmNvbmNhdChhcHByb3Zlcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFjZXNbc3RlcC5uYW1lXSA9IGFwcHJvdmVzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cmFjZXM7XG4gIH0sXG4gIGRvY192YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gIH0sXG4gIGluc3RhbmNlX2JveF9zdHlsZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJveCwgaW5zLCBqdWRnZTtcbiAgICBib3ggPSBTZXNzaW9uLmdldChcImJveFwiKTtcbiAgICBpZiAoYm94ID09PSBcImluYm94XCIgfHwgYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICAgIGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKTtcbiAgICAgIGlmIChqdWRnZSkge1xuICAgICAgICBpZiAoanVkZ2UgPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoanVkZ2UgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zICYmIGlucy5maW5hbF9kZWNpc2lvbikge1xuICAgICAgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICB9IGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHRhYmxlX2ZpZWxkczogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB2YXIgZmllbGRzLCBmb3JtX3ZlcnNpb247XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XG4gICAgfVxuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIGZpZWxkcyA9IF8uY2xvbmUoZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGFmdGVyX2ZpZWxkLCBiZWZvcmVfZmllbGQsIHByZV9maWVsZHMsIHByZV93aWRlX2ZpZWxkcywgdGRfY29sc3BhbiwgdHJfZW5kLCB0cl9zdGFydDtcbiAgICAgICAgZmllbGQudHJfc3RhcnQgPSBcIlwiO1xuICAgICAgICBmaWVsZC50cl9lbmQgPSBcIlwiO1xuICAgICAgICB0ZF9jb2xzcGFuID0gMTtcbiAgICAgICAgaWYgKCh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApID09PSBmaWVsZC5jb2RlKSB7XG4gICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkLmZvcm11bGEgJiYgZmllbGQudHlwZSAhPT0gJ29kYXRhJykge1xuICAgICAgICAgIGZpZWxkLnBlcm1pc3Npb24gPSBcInJlYWRvbmx5XCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgZmllbGQudGRfY29sc3BhbiA9IDQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpZWxkLnRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggIT09IDApIHtcbiAgICAgICAgICAgIGZpZWxkLnRyX3N0YXJ0ID0gXCI8dHI+XCI7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQudHJfZW5kID0gXCI8L3RyPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmVfZmllbGRzID0gZmllbGRzLnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgICBwcmVfd2lkZV9maWVsZHMgPSBwcmVfZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfd2lkZVwiLCB0cnVlKTtcbiAgICAgICAgICB0cl9zdGFydCA9IFwiXCI7XG4gICAgICAgICAgdHJfZW5kID0gXCJcIjtcbiAgICAgICAgICBiZWZvcmVfZmllbGQgPSBudWxsO1xuICAgICAgICAgIGFmdGVyX2ZpZWxkID0gbnVsbDtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICBiZWZvcmVfZmllbGQgPSBmaWVsZHNbaW5kZXggLSAxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGluZGV4IDwgZmllbGRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGFmdGVyX2ZpZWxkID0gZmllbGRzW2luZGV4ICsgMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgdGRfY29sc3BhbiA9IDQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChmaWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGJlZm9yZV9maWVsZCAmJiBhZnRlcl9maWVsZCAmJiBiZWZvcmVfZmllbGQuaXNfd2lkZSAmJiBhZnRlcl9maWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT09IDAgJiYgYWZ0ZXJfZmllbGQgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09PSAwICYmIGFmdGVyX2ZpZWxkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGQudGRfY29sc3BhbiA9IHRkX2NvbHNwYW47XG4gICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICB0cl9zdGFydCA9IFwiPHRyPlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09PSAwIHx8IGZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgICAgICB0cl9zdGFydCA9IFwiPHRyIGNsYXNzID0gXFxcInRyLWNoaWxkLXRhYmxlXFxcIj5cIjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cl9zdGFydCA9IFwiPHRyPlwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkLnRyX3N0YXJ0ID0gdHJfc3RhcnQ7XG4gICAgICAgICAgaWYgKGluZGV4ICsgMSA9PT0gZmllbGRzLmxlbmd0aCB8fCBmaWVsZC50eXBlID09PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PT0gJ3RhYmxlJyB8fCBmaWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICB0cl9lbmQgPSBcIjwvdHI+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIHRyX2VuZCA9IFwiPC90cj5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZpZWxkLnRyX2VuZCA9IHRyX2VuZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmllbGRzO1xuICAgIH1cbiAgfSxcbiAgc29ydF9hcHByb3ZlOiBmdW5jdGlvbihhcHByb3Zlcywgb3JkZXIpIHtcbiAgICBpZiAoIWFwcHJvdmVzKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICghYXBwcm92ZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3JkZXIgPT09ICdkZXNjJykge1xuICAgICAgICBhcHByb3Zlcy5zb3J0KGZ1bmN0aW9uKHAxLCBwMikge1xuICAgICAgICAgIHZhciBfcDEsIF9wMjtcbiAgICAgICAgICBfcDEgPSAwO1xuICAgICAgICAgIF9wMiA9IDA7XG4gICAgICAgICAgaWYgKHAxLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwMi5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3AyIC0gX3AxO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcHJvdmVzLnNvcnQoZnVuY3Rpb24ocDEsIHAyKSB7XG4gICAgICAgICAgdmFyIF9wMSwgX3AyO1xuICAgICAgICAgIF9wMSA9IDA7XG4gICAgICAgICAgX3AyID0gMDtcbiAgICAgICAgICBpZiAocDEuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHAyLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcDEgLSBfcDI7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZXM7XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuICB9LFxuICBnZXRGaWVsZDogZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKTtcbiAgICB9XG4gIH0sXG4gIGdldFZhbHVlOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbiwgaW5zdGFuY2UsIGxvY2FsZSwgdXRjT2Zmc2V0LCB2YWx1ZXM7XG4gICAgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgIHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXQ7XG4gICAgdmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9O1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICB9XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSh2YWx1ZXNbY29kZV0sIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSksIGxvY2FsZSwgdXRjT2Zmc2V0KTtcbiAgfSxcbiAgZ2V0TGFiZWw6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbChmb3JtX3ZlcnNpb24uZmllbGRzLCBjb2RlKTtcbiAgfSxcbiAgZ2V0Q2ZDbGFzczogZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoKGZpZWxkICE9IG51bGwgPyBmaWVsZC50eXBlIDogdm9pZCAwKSA9PT0gXCJpbnB1dFwiICYmIChmaWVsZCAhPSBudWxsID8gZmllbGQuaXNfdGV4dGFyZWEgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gXCJjZlRleHRhcmVhXCI7XG4gICAgfVxuICB9LFxuICBnZXRUYWJsZVRoZWFkOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIGZhbHNlKTtcbiAgfSxcbiAgZ2V0VGFibGVCb2R5OiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciBpbnN0YW5jZSwgdGFibGVWYWx1ZSwgdmFsdWVzO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuICAgICAgdmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgfVxuICAgIHRhYmxlVmFsdWUgPSB2YWx1ZXNbZmllbGQuY29kZV07XG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYm9keShmaWVsZC5zZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKSwgZmllbGQsIHRhYmxlVmFsdWUsIGZhbHNlKTtcbiAgfSxcbiAgc2hvd0xhYmVsOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciB0ZW1wbGF0ZURhdGE7XG4gICAgdGVtcGxhdGVEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhO1xuICAgIGlmICh0ZW1wbGF0ZURhdGEubGFiZWwgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBpc09waW5pb25GaWVsZDogZnVuY3Rpb24oZmllbGQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZC5mb3JtdWxhKTtcbiAgfSxcbiAgaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmc6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgfSxcbiAgaW5jbHVkZXNPcGluaW9uRmllbGQ6IGZ1bmN0aW9uKGZvcm0sIGZvcm1fdmVyc2lvbikge1xuICAgIHZhciBmaWVsZF9mb3JtdWxhcywgZmllbGRzLCByZWY7XG4gICAgZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcbiAgICBmaWVsZHMgPSAoKHJlZiA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZvcm1fdmVyc2lvbixcbiAgICAgIGZvcm06IGZvcm1cbiAgICB9KSkgIT0gbnVsbCA/IHJlZi5maWVsZHMgOiB2b2lkIDApIHx8IFtdO1xuICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgIHZhciByZWYxO1xuICAgICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJyk7XG4gICAgICB9IGVsc2UgaWYgKGYudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmMSA9IGYuZmllbGRzKSAhPSBudWxsID8gcmVmMS5mb3JFYWNoKGZ1bmN0aW9uKGYxKSB7XG4gICAgICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZjEuZm9ybXVsYSk7XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZi5mb3JtdWxhKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gXy5zb21lKGZpZWxkX2Zvcm11bGFzLCBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gICAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lOiBmdW5jdGlvbihmaWVsZF9mb3JtdWxhLCB0b3Bfa2V5d29yZHMpIHtcbiAgICB2YXIgZm9vMSwgb3BpbmlvbkZpZWxkcztcbiAgICBvcGluaW9uRmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgaWYgKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSkpIHtcbiAgICAgIGlmIChmaWVsZF9mb3JtdWxhKSB7XG4gICAgICAgIGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKTtcbiAgICAgICAgZm9vMS5mb3JFYWNoKGZ1bmN0aW9uKGZvbykge1xuICAgICAgICAgIHZhciBqc29uX2Zvcm11bGEsIHJlZiwgcmVmMSwgczEsIHNmO1xuICAgICAgICAgIGpzb25fZm9ybXVsYSA9IHt9O1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBqc29uX2Zvcm11bGEgPSBldmFsKFwiKFwiICsgZm9vICsgXCIpXCIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgICAgICAgICAganNvbl9mb3JtdWxhID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChqc29uX2Zvcm11bGEgIT0gbnVsbCA/IGpzb25fZm9ybXVsYS55aWppYW5sYW4gOiB2b2lkIDApIHtcbiAgICAgICAgICAgIHNmID0ge307XG4gICAgICAgICAgICBzZi5zdGVwTmFtZSA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uc3RlcDtcbiAgICAgICAgICAgIHNmLmltYWdlX3NpZ24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLmltYWdlX3NpZ24gfHwgZmFsc2U7XG4gICAgICAgICAgICBzZi5vbmx5X2NjX29waW5pb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfY2MgfHwgZmFsc2U7XG4gICAgICAgICAgICBzZi5kZWZhdWx0X2Rlc2NyaXB0aW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbltcImRlZmF1bHRcIl07XG4gICAgICAgICAgICBzZi5vbmx5X2hhbmRsZXIgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfaGFuZGxlcjtcbiAgICAgICAgICAgIHNmLnRvcF9rZXl3b3JkcyA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4udG9wX2tleXdvcmRzIHx8IHRvcF9rZXl3b3JkcztcbiAgICAgICAgICAgIHJldHVybiBvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInt0cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgOiB2b2lkIDApID4gLTEpIHtcbiAgICAgICAgICAgIHNmID0ge1xuICAgICAgICAgICAgICBvbmx5X2NjX29waW5pb246IGZhbHNlLFxuICAgICAgICAgICAgICBpbWFnZV9zaWduOiBmYWxzZSxcbiAgICAgICAgICAgICAgdG9wX2tleXdvcmRzOiB0b3Bfa2V5d29yZHNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZm9vLmluZGV4T2YoXCJ7c2lnbmF0dXJlLlwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgIHNmLmltYWdlX3NpZ24gPSB0cnVlO1xuICAgICAgICAgICAgICBmb28gPSBmb28ucmVwbGFjZShcIntzaWduYXR1cmUuXCIsIFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgczEgPSBmb28ucmVwbGFjZShcIntcIiwgXCJcIikucmVwbGFjZShcIn1cIiwgXCJcIik7XG4gICAgICAgICAgICBpZiAoczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgc2Yuc3RlcE5hbWUgPSBzMS5zcGxpdChcIi5cIilbMV07XG4gICAgICAgICAgICAgIGlmIChvcGluaW9uRmllbGRzLmZpbHRlclByb3BlcnR5KFwic3RlcE5hbWVcIiwgc2Yuc3RlcE5hbWUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoKHJlZiA9IG9waW5pb25GaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBOYW1lXCIsIHNmLnN0ZXBOYW1lKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgcmVmLm9ubHlfY2Nfb3BpbmlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgaWYgKCgocmVmMSA9IHMxLnNwbGl0KFwiLlwiKVsyXSkgIT0gbnVsbCA/IHJlZjEudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCkgPT09ICdjYycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Yub25seV9jY19vcGluaW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcGluaW9uRmllbGRzO1xuICB9LFxuICBzaG93Q0NPcGluaW9uOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciByZWYsIHJlZjEsIHJlZjIsIHMxO1xuICAgIGlmICgoKHJlZiA9IGZpZWxkLmZvcm11bGEpICE9IG51bGwgPyByZWYuaW5kZXhPZihcInt0cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8ICgocmVmMSA9IGZpZWxkLmZvcm11bGEpICE9IG51bGwgPyByZWYxLmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgOiB2b2lkIDApID4gLTEpIHtcbiAgICAgIHMxID0gZmllbGQuZm9ybXVsYS5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIiwgXCJcIikucmVwbGFjZShcIntcIiwgXCJcIikucmVwbGFjZShcIn1cIiwgXCJcIik7XG4gICAgICBpZiAoczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgaWYgKCgocmVmMiA9IHMxLnNwbGl0KFwiLlwiKVsyXSkgIT0gbnVsbCA/IHJlZjIudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCkgPT09ICdjYycpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIG1hcmtEb3duVG9IdG1sOiBmdW5jdGlvbihtYXJrRG93blN0cmluZykge1xuICAgIHZhciByZW5kZXJlcjtcbiAgICBpZiAobWFya0Rvd25TdHJpbmcpIHtcbiAgICAgIHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG4gICAgICByZW5kZXJlci5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgICAgcmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiICsgaHJlZiArIFwiJyB0aXRsZT0nXCIgKyB0aXRsZSArIFwiJz5cIiArIHRleHQgKyBcIjwvYT5cIjtcbiAgICAgIH07XG4gICAgICByZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtcbiAgICAgICAgcmVuZGVyZXI6IHJlbmRlcmVyXG4gICAgICB9KSk7XG4gICAgfVxuICB9LFxuICBmX2xhYmVsOiBmdW5jdGlvbih0aGF0KSB7XG4gICAgcmV0dXJuIHRoYXQubmFtZSB8fCB0aGF0LmNvZGU7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5zdGVlZG9zX2Zvcm0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtX3ZlcnNpb247XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNTZWN0aW9uID0gZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSkudHlwZSA9PT0gJ3NlY3Rpb24nO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmRvY192YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zdGFuY2U7XG4gICAgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xuICAgIHJldHVybiBpbnN0YW5jZS52YWx1ZXM7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuYXBwbGljYW50Q29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBpbnN0YW5jZTtcbiAgICBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG4gICAgcmV0dXJuIGRhdGEgPSB7XG4gICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICBhdHRzOiB7XG4gICAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgaWQ6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgXCJjbGFzc1wiOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCdcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogaW5zdGFuY2UuYXBwbGljYW50X25hbWVcbiAgICB9O1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZmllbGRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvbjtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuICAgIH1cbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtX3R5cGVzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiZGlzYWJsZWRcIjtcbiAgfTtcbiAgVGVtcGxhdGUucmVnaXN0ZXJIZWxwZXIoXCJhZkZpZWxkTGFiZWxUZXh0XCIsIGZ1bmN0aW9uKG9wKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbiwgcmVmO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbChmb3JtX3ZlcnNpb24uZmllbGRzLCBvcCAhPSBudWxsID8gKHJlZiA9IG9wLmhhc2gpICE9IG51bGwgPyByZWYubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIH0pO1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLl90ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSB0aGlzLmxvY2FsZTtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc19hdHRhY2hfZG93bmxvYWRfdXJsID0gZnVuY3Rpb24oX2lkLCBhYnNvbHV0ZSkge1xuICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgcmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXCIgKyBfaWQgKyBcIj9kb3dubG9hZD10cnVlXCI7XG4gICAgfVxuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLm9wdGlvbnMgPSBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciBvcHRpb25zLCByZWYsIHJldjtcbiAgICBvcHRpb25zID0gZmllbGQgIT0gbnVsbCA/IChyZWYgPSBmaWVsZC5vcHRpb25zKSAhPSBudWxsID8gcmVmLnNwbGl0KFwiXFxuXCIpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHJldiA9IFtdO1xuICAgIGlmIChvcHRpb25zICE9IG51bGwpIHtcbiAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiByZXYucHVzaCh7XG4gICAgICAgICAgbGFiZWw6IGl0ZW0sXG4gICAgICAgICAgdmFsdWU6IGl0ZW1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldjtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmICghKChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoY29kZSkgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gXCJyZWFkb25seSBkaXNhYmxlZFwiO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfTtcbn1cblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUuZXZlbnRzID0ge1xuICAnY2hhbmdlIC5mb3JtLWNvbnRyb2wsLmNoZWNrYm94IGlucHV0LC5hZi1yYWRpby1ncm91cCBpbnB1dCwuYWYtY2hlY2tib3gtZ3JvdXAgaW5wdXQnOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpO1xuICB9LFxuICAndHlwZWFoZWFkOmNoYW5nZSAuZm9ybS1jb250cm9sJzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KTtcbiAgfSxcbiAgJ2NsaWNrIC5jZlRleHRhcmVhIGEnOiBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIFN0ZWVkb3Mub3BlbldpbmRvdyhldmVudC50YXJnZXQuaHJlZik7XG4gIH1cbn07XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uQ3JlYXRlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29tcGlsZWQsIGUsIGluc3RhbmNlLCBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlLCBpbnN0YW5jZVZpZXcsIHJlbmRlckZ1bmN0aW9uLCB0ZW1wbGF0ZTtcbiAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0ZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSk7XG4gIHRyeSB7XG4gICAgY29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7XG4gICAgICBpc0JvZHk6IHRydWVcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgZSA9IGVycm9yMTtcbiAgICBjb25zb2xlLmxvZyhcIkluc3RhbmNlIFRlbXBsYXRlIEVycm9yXCIsIGUpO1xuICAgIGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShcIlwiLCB7XG4gICAgICBpc0JvZHk6IHRydWVcbiAgICB9KTtcbiAgfVxuICByZW5kZXJGdW5jdGlvbiA9IGV2YWwoY29tcGlsZWQpO1xuICBpbnN0YW5jZVZpZXcgPSBuZXcgQmxhemUuVmlldyhcImN1c3RvbV9pbnN0YW5jZV90ZW1wbGF0ZVwiLCByZW5kZXJGdW5jdGlvbik7XG4gIGluc3RhbmNlQ3VzdG9tVGVtcGxhdGUgPSBuZXcgQmxhemUuVGVtcGxhdGUoaW5zdGFuY2VWaWV3Lm5hbWUsIHJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlID0gaW5zdGFuY2VDdXN0b21UZW1wbGF0ZTtcbiAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25SZW5kZXJlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY3VycmVudEFwcHJvdmUsIGN1cnJlbnRTdGVwLCBmb3JtX3ZlcnNpb24sIGZvcm11bGFfZmllbGRzLCBpbnN0YW5jZSwgaW5zdGFuY2VOdW1iZXJGaWVsZHMsIGp1ZGdlLCByZWY7XG4gIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKChyZWYgPSAkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpWzBdKSAhPSBudWxsKSB7XG4gICAgcmVmLmRhdGFzZXQudmFsdWVzID0gaW5zdGFuY2UuYXBwbGljYW50O1xuICB9XG4gICQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIikudmFsKGluc3RhbmNlLmFwcGxpY2FudF9uYW1lKTtcbiAgQXBwcm92ZU1hbmFnZXIuZXJyb3IgPSB7XG4gICAgbmV4dFN0ZXBzOiAnJyxcbiAgICBuZXh0U3RlcFVzZXJzOiAnJ1xuICB9O1xuICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdkcmFmdCcpIHtcbiAgICBJbnN0YW5jZUV2ZW50LmluaXRFdmVudHMoaW5zdGFuY2UuZmxvdyk7XG4gIH1cbiAgaWYgKCFBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCkpIHtcbiAgICBjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuICAgIGluc3RhbmNlTnVtYmVyRmllbGRzID0gJChcIltkYXRhLWZvcm11bGFdXCIsICQoXCIjaW5zdGFuY2Vmb3JtXCIpKTtcbiAgICBpbnN0YW5jZU51bWJlckZpZWxkcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVsZW1lbnQsIHNjaGVtYUtleTtcbiAgICAgIHNjaGVtYUtleSA9IHRoaXMuZGF0YXNldC5zY2hlbWFLZXk7XG4gICAgICBlbGVtZW50ID0gJCh0aGlzKTtcbiAgICAgIGlmICghJCh0aGlzKS52YWwoKSAmJiBzY2hlbWFLZXkgJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuY2FsbCgnZ2V0SW5zdGFuY2VWYWx1ZXMnLCBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIiksIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpIHtcbiAgICAgICAgICB2YXIga2V5LCByZWYxO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yLnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcmVzdWx0W3NjaGVtYUtleV0pIHtcbiAgICAgICAgICAgIGtleSA9IChyZWYxID0gZWxlbWVudC5kYXRhKFwiZm9ybXVsYVwiKSkgIT0gbnVsbCA/IHJlZjEucmVwbGFjZShcImF1dG9fbnVtYmVyKFwiLCBcIlwiKS5yZXBsYWNlKFwiKVwiLCBcIlwiKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9cXFwiL2csIFwiXCIpLnJlcGxhY2UoL1xcJy9nLCBcIlwiKTtcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihcIntcIikgPiAtMSkge1xuICAgICAgICAgICAgICBrZXkgPSBrZXkucmVwbGFjZShcIntcIiwgXCJcIikucmVwbGFjZShcIn1cIiwgXCJcIik7XG4gICAgICAgICAgICAgIGtleSA9IGtleS50cmltKCk7XG4gICAgICAgICAgICAgIGtleSA9IEF1dG9Gb3JtLmdldEZpZWxkVmFsdWUoa2V5LCAnaW5zdGFuY2Vmb3JtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSW5zdGFuY2VOdW1iZXJSdWxlcy5pbnN0YW5jZU51bWJlckJ1aWxkZXIoZWxlbWVudCwga2V5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQgIT0gbnVsbCA/IGVsZW1lbnQudmFsKHJlc3VsdFtzY2hlbWFLZXldKS50cmlnZ2VyKFwiY2hhbmdlXCIpIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAganVkZ2UgPSBjdXJyZW50QXBwcm92ZS5qdWRnZTtcbiAgICBjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgZm9ybXVsYV9maWVsZHMgPSBGb3JtX2Zvcm11bGEuZ2V0Rm9ybXVsYUZpZWxkVmFyaWFibGUoXCJGb3JtX2Zvcm11bGEuZmllbGRfdmFsdWVzXCIsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuICAgIEZvcm1fZm9ybXVsYS5ydW4oXCJcIiwgXCJcIiwgZm9ybXVsYV9maWVsZHMsIEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcbiAgICByZXR1cm4gU2Vzc2lvbi5zZXQoXCJpbnN0YW5jZV9mb3JtX3ZhbHVlc1wiLCB7XG4gICAgICBpbnN0YW5jZUlkOiBpbnN0YW5jZS5faWQsXG4gICAgICB2YWx1ZXM6IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jXG4gICAgfSk7XG4gIH1cbn07XG4iLCJJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzID0ge1xyXG5cclxuXHRzaG93TWFpblRpdGxlOiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLndvcmtmbG93TWFpbkF0dGFjaFRpdGxlLmdldCgpO1xyXG5cdH0sXHJcblx0ZW5hYmxlZF9hZGRfbWFpbl9hdHRhY2htZW50OiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGlmICghaW5zKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHRpZiAoU2Vzc2lvbiAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImRyYWZ0XCIgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJpbmJveFwiKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIOW3sue7j+e7k+adn+eahOWNleWtkOS4jeiDveaUuemZhOS7tlxyXG5cdFx0aWYgKGlucy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcclxuXHJcblx0XHRpZiAoIWN1cnJlbnRfc3RlcClcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdC8vIOWIhuWPkeeahOato+aWh+aIluiAhemZhOS7tuS4jeaYvuekuui9rOS4unBkZuaMiemSrlxyXG5cdFx0Ly8g5aaC5p6c5pyJ5q2j5paH5p2D6ZmQ5YiZ5Li65q2j5paH77yM5ZCm5YiZ5YiG5Y+R5Li66ZmE5Lu2XHJcblx0XHQvLyDliIblj5HnmoTpmYTku7bkuI3lhYHorrjkv67mlLkg5Yig6ZmkIOaWsOWinueJiOacrFxyXG5cdFx0dmFyIG1haW5fYXR0YWNoX2NvdW50ID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcclxuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zLl9pZCxcclxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcclxuXHRcdH0pLmNvdW50KCk7XHJcblxyXG5cdFx0dmFyIGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPSAwO1xyXG5cclxuXHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XHJcblx0XHRcdHZhciBzdGFydF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldFN0YXJ0U3RlcCgpO1xyXG5cdFx0XHRpZiAoc3RhcnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCkge1xyXG5cdFx0XHRcdHZhciBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50ID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcclxuXHRcdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsXHJcblx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXHJcblx0XHRcdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcclxuXHRcdFx0XHR9KS5jb3VudCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlICYmIG1haW5fYXR0YWNoX2NvdW50IDwgMSAmJiBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50IDwgMSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIOato+aWh+acgOWkmuWPquiDveacieS4gOS4qlxyXG5cdFx0aWYgKG1haW5fYXR0YWNoX2NvdW50ID49IDEgfHwgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA+PSAxKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyDlvIDlp4voioLngrnlubbkuJTorr7nva7kuoblj6/ku6XkuIrkvKDmraPmlofmiY3mmL7npLrkuIrkvKDmraPmlofnmoTmjInpkq5cclxuXHRcdHZhciBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcclxuXHRcdGlmIChjdXJyZW50X3N0ZXAgJiYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PSBcInN0YXJ0XCIgJiYgY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoID09IHRydWUpXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblx0fSxcclxuXHJcblx0ZW5hYmxlZF9lZGl0X25vcm1hbF9hdHRhY2htZW50OiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGlmICghaW5zKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHRpZiAoU2Vzc2lvbiAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdHZhciBmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZsb3coaW5zLmZsb3cpO1xyXG5cdFx0aWYgKCFmbG93KVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblxyXG5cdFx0Ly8g5YiG5Y+R5ZCO55qEIOmZhOS7tu+8jOS4jeWPr+S7pee8lui+kS/liKDpmaTvvIzkuZ/kuI3orqnkuIrkvKDmlrDnmoTpmYTku7YsIOa1geeoi+WIl+ihqO+8mua3u+WKoOWxnuaApyDigJjooqvliIblj5HlkI7mmK/lkKblhYHorrjkuIrkvKDpmYTku7bigJkgIzE4MzdcclxuXHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlICYmICFmbG93LnVwbG9hZF9hZnRlcl9iZWluZ19kaXN0cmlidXRlZClcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0aWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiZHJhZnRcIiAmJiBTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImluYm94XCIpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8g5bey57uP57uT5p2f55qE5Y2V5a2Q5LiN6IO95pS56ZmE5Lu2XHJcblx0XHRpZiAoaW5zLnN0YXRlID09IFwiY29tcGxldGVkXCIpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKEluc3RhbmNlTWFuYWdlci5pc0NDKGlucykpIHtcclxuXHRcdFx0dmFyIHN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q0NTdGVwKCk7XHJcblx0XHRcdGlmIChzdGVwICYmIChzdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdHJ1ZSB8fCBzdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdW5kZWZpbmVkKSlcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xyXG5cdFx0XHRpZiAoY3VycmVudF9zdGVwICYmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB0cnVlIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHVuZGVmaW5lZCkpXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHR9LFxyXG5cclxuXHRtYWluX2F0dGFjaG1lbnQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0aWYgKCFpbnMpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdHZhciBzdGFydF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldFN0YXJ0U3RlcCgpO1xyXG5cclxuXHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNleW5tuS4lOacieS/ruaUueato+aWh+eahOadg+mZkO+8jOWImeS8mOWFiOaYvuekuuWOn+eUs+ivt+WNleaWh+S7tlxyXG5cdFx0dmFyIG1haW5fYXR0YWNoID0gbnVsbDtcclxuXHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlICYmIHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSkge1xyXG5cdFx0XHRtYWluX2F0dGFjaCA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XHJcblx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSxcclxuXHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXHJcblx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghbWFpbl9hdHRhY2gpIHtcclxuXHRcdFx0bWFpbl9hdHRhY2ggPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xyXG5cdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5faWQsXHJcblx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbWFpbl9hdHRhY2g7XHJcblx0fSxcclxuXHJcblx0bm9ybWFsX2F0dGFjaG1lbnRzOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGlmICghaW5zKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHR2YXIgc2VsZWN0b3IgPSB7XHJcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcclxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB7XHJcblx0XHRcdFx0JG5lOiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciBhdHRzID0gbmV3IEFycmF5KCk7XHJcblxyXG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcclxuXHRcdFx0Ly8g5aaC5p6c5piv6KKr5YiG5Y+R55qE55Sz6K+35Y2V77yM5YiZ5pi+56S65Y6f55Sz6K+35Y2V5paH5Lu2LCDlpoLmnpzpgInmi6nkuoblsIbljp/ooajljZXlrZjlgqjkuLrpmYTku7bkuZ/opoHmmL7npLosIOWQjOaXtuS5n+imgeaYvuekuuaWsOS4iuS8oOeahOmZhOS7tlxyXG5cdFx0XHR2YXIgZGZpcyA9IF8uY2xvbmUoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xyXG5cdFx0XHRkZmlzLnB1c2goaW5zLl9pZCk7XHJcblx0XHRcdHNlbGVjdG9yWydtZXRhZGF0YS5pbnN0YW5jZSddID0ge1xyXG5cdFx0XHRcdCRpbjogZGZpc1xyXG5cdFx0XHR9O1xyXG5cclxuXHJcblx0XHRcdHNlbGVjdG9yW1wiJG9yXCJdID0gW3tcclxuXHRcdFx0XHRcIm1ldGFkYXRhLmluc3RhbmNlXCI6IGlucy5faWRcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdFwibWV0YWRhdGEuaW5zdGFuY2VcIjoge1xyXG5cdFx0XHRcdFx0JGluOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0XCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcclxuXHRcdFx0XHRcdCRuZTogdHJ1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fV1cclxuXHJcblx0XHRcdC8vIOWmguaenOWOn+eUs+ivt+WNleacieato+aWh+S9huaYr+WIhuWPkeWQjuayoeacieato+aWh+adg+mZkO+8jOWImeWOn+eUs+ivt+WNleato+aWh+aYvuekuuWcqOmZhOS7tuagj1xyXG5cdFx0XHR2YXIgc3RhcnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRTdGFydFN0ZXAoKTtcclxuXHRcdFx0aWYgKHN0YXJ0X3N0ZXAgJiYgc3RhcnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCAhPSB0cnVlKSB7XHJcblx0XHRcdFx0dmFyIGRpc3RyaWJ1dGVfbWFpbiA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XHJcblx0XHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XHJcblx0XHRcdFx0XHRcdCRpbjogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXHJcblx0XHRcdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWUsXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0aWYgKGRpc3RyaWJ1dGVfbWFpbikge1xyXG5cdFx0XHRcdFx0dmFyIGZpcnN0VmVyc2lvbk1haW4gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoZGlzdHJpYnV0ZV9tYWluLm1ldGFkYXRhLnBhcmVudCk7XHJcblx0XHRcdFx0XHRkaXN0cmlidXRlX21haW4uYXR0YWNobWVudFVwbG9hZGVkQXQgPSBmaXJzdFZlcnNpb25NYWluID8gZmlyc3RWZXJzaW9uTWFpbi51cGxvYWRlZEF0IDogZGlzdHJpYnV0ZV9tYWluLnVwbG9hZGVkQXQ7XHJcblx0XHRcdFx0XHRhdHRzLnB1c2goZGlzdHJpYnV0ZV9tYWluKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHNlbGVjdG9yWydtZXRhZGF0YS5pbnN0YW5jZSddID0gaW5zLl9pZDtcclxuXHRcdH1cclxuXHJcblx0XHRjZnMuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IpLmZvckVhY2goZnVuY3Rpb24oYykge1xyXG5cdFx0XHR2YXIgZmlyc3RWZXJzaW9uID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKGMubWV0YWRhdGEucGFyZW50KTtcclxuXHRcdFx0Yy5hdHRhY2htZW50VXBsb2FkZWRBdCA9IGZpcnN0VmVyc2lvbiA/IGZpcnN0VmVyc2lvbi51cGxvYWRlZEF0IDogYy51cGxvYWRlZEF0O1xyXG5cdFx0XHRhdHRzLnB1c2goYyk7XHJcblx0XHR9KVxyXG5cclxuXHRcdHJldHVybiBfLnNvcnRCeShhdHRzLCAnYXR0YWNobWVudFVwbG9hZGVkQXQnKTtcclxuXHR9LFxyXG5cclxuXHRzaG93QXR0YWNobWVudHM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0aWYgKCFpbnMpXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0XHQvLyDlpoLmnpzmmK/ooqvliIblj5HnmoTnlLPor7fljZXvvIzliJnmmL7npLrljp/nlLPor7fljZXmlofku7Yg5ZKM5YiG5Y+R5ZCO55Sz6K+35Y2V5paH5Lu2XHJcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcclxuXHRcdGluc3RhbmNlSWRzLnB1c2goaW5zLl9pZCk7XHJcblx0XHR2YXIgYXR0YWNobWVudHNfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xyXG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XHJcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xyXG5cdFx0XHR9LFxyXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcclxuXHRcdH0pLmNvdW50KCk7XHJcblxyXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGF0dGFjaG1lbnRzX2NvdW50IDwgMSlcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0aWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09IFwiZHJhZnRcIiB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PSBcImluYm94XCIgfHwgYXR0YWNobWVudHNfY291bnQgPiAwKVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH0sXHJcblxyXG5cdF90OiBmdW5jdGlvbihrZXkpIHtcclxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSlcclxuXHR9LFxyXG5cclxuXHRfOiBmdW5jdGlvbihrZXkpIHtcclxuXHRcdHZhciBsb2NhbGU7XHJcblx0XHRpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XHJcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKGtleSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xyXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG59XHJcblxyXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XHJcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5fdCA9IGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxyXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxyXG5cdH1cclxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLmVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblx0fTtcclxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLmVuYWJsZWRfZWRpdF9ub3JtYWxfYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblx0fTtcclxuXHJcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5tYWluX2F0dGFjaG1lbnQgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcclxuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY29tcGFjdChbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLCBpbnN0YW5jZS5faWRdKTtcclxuXHRcdHZhciBhdHRhY2htZW50ID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcclxuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xyXG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcclxuXHRcdFx0fSxcclxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBhdHRhY2htZW50O1xyXG5cdH07XHJcblxyXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMubm9ybWFsX2F0dGFjaG1lbnRzID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgc3RlZWRvc0RhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGFcclxuXHRcdHZhciBpbnN0YW5jZSA9IHN0ZWVkb3NEYXRhLmluc3RhbmNlO1xyXG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcclxuXHRcdGluc3RhbmNlSWRzLnB1c2goaW5zdGFuY2UuX2lkKTtcclxuXHRcdHZhciBhdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcclxuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXHJcblx0XHRcdH0sXHJcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcclxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB7XHJcblx0XHRcdFx0JG5lOiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdCRvcjogW3tcclxuXHRcdFx0XHQnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHtcclxuXHRcdFx0XHRcdCRuZTogdHJ1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdCdtZXRhZGF0YS5pc19wcml2YXRlJzogdHJ1ZSxcclxuXHRcdFx0XHRcIm1ldGFkYXRhLm93bmVyXCI6IHN0ZWVkb3NEYXRhLnVzZXJJZFxyXG5cdFx0XHR9XVxyXG5cdFx0fSkuZmV0Y2goKTtcclxuXHJcblx0XHRyZXR1cm4gYXR0YWNobWVudHM7XHJcblx0fTtcclxuXHJcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5zaG93QXR0YWNobWVudHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcclxuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY2xvbmUoaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XHJcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGluc3RhbmNlLl9pZCk7XHJcblxyXG5cdFx0dmFyIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcclxuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xyXG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcclxuXHRcdFx0fSxcclxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXHJcblx0XHR9KS5mZXRjaCgpO1xyXG5cclxuXHRcdGlmIChhdHRhY2htZW50cyAmJiBhdHRhY2htZW50cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5zaG93TWFpblRpdGxlID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XHJcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNvbXBhY3QoW2luc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSwgaW5zdGFuY2UuX2lkXSk7XHJcblx0XHR2YXIgbWFpbl9hdHRhY2hfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xyXG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XHJcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xyXG5cdFx0XHR9LFxyXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXHJcblx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxyXG5cdFx0fSkuY291bnQoKTtcclxuXHJcblx0XHRyZXR1cm4gbWFpbl9hdHRhY2hfY291bnQgPiAwXHJcblx0fVxyXG59XHJcbiIsIkluc3RhbmNlU2lnblRleHQuaGVscGVycyA9XHJcblx0c2hvdzogKHN0ZXBOYW1lKS0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoJ2luc3RhbmNlUHJpbnQnKVxyXG5cdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0XHRpZiBJbnN0YW5jZU1hbmFnZXIuaXNJbmJveCgpXHJcblx0XHRcdFx0bXlBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKClcclxuXHRcdFx0XHRpZiBteUFwcHJvdmVcclxuXHRcdFx0XHRcdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRcdFx0XHRteVRyYWNlID0gaW5zdGFuY2U/LnRyYWNlcz8uZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCBteUFwcHJvdmUudHJhY2UpXHJcblx0XHRcdFx0XHRyZXR1cm4gbXlUcmFjZT8ubmFtZSA9PSBzdGVwTmFtZVxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdGRlZmF1bHREZXNjcmlwdGlvbjogKCktPlxyXG4jXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIpXHJcblx0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb25cclxuXHJcblx0dHJhY2VzOiAoKS0+XHJcblx0XHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpXHJcblxyXG5cdHRyYWNlOiAoc3RlcE5hbWUsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiwgdG9wX2tleXdvcmRzKS0+XHJcblx0XHRpbnN0YW5jZSA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zdGFuY2UoKVxyXG5cclxuXHRcdGlzX2NvbXBsZXRlZCA9IGluc3RhbmNlPy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXHJcblxyXG5cdFx0Y29tcGxldGVkX2RhdGUgPSBpZiBpc19jb21wbGV0ZWQgdGhlbiBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKT8uZmluaXNoX2RhdGU/LmdldFRpbWUoKSBlbHNlIDBcclxuXHJcblx0XHRpZiBpc19jb21wbGV0ZWQgJiYgaW5zdGFuY2UuZmluaXNoX2RhdGVcclxuXHRcdFx0Y29tcGxldGVkX2RhdGUgPSBpbnN0YW5jZS5maW5pc2hfZGF0ZT8uZ2V0VGltZSgpXHJcblxyXG5cdFx0dHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKVxyXG5cclxuXHRcdGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbc3RlcE5hbWVdKVxyXG5cclxuXHRcdGFwcHJvdmVfc29ydCA9IChhcHByb3ZlcywgdG9wX2tleXdvcmRzKS0+XHJcblxyXG4j5a+5QXBwcm92ZXPmjpLluo/vvIwg5oyJ54Wn5o+Q5Lqk5pe26Ze05o6S5YCS5bqP77yM5aaC5p6c5rKh5pyJ5o+Q5Lqk5YiZ5pi+56S65Zyo5pyA5LiK6L65XHJcblx0XHRcdGFwcHJvdmVzX3NvcnRlZCA9IF8uc29ydEJ5IGFwcHJvdmVzLCAoYXBwcm92ZSktPlxyXG5cdFx0XHRcdHJldHVybiAtKGFwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpXHJcblxyXG5cdFx0XHQj6YCa6L+H5YWz6ZSu5a2X5o6S5bqPXHJcblx0XHRcdGlmIHRvcF9rZXl3b3Jkc1xyXG5cdFx0XHRcdHRvcF9hcHByb3ZlcyA9IG5ldyBBcnJheSgpXHJcblxyXG5cdFx0XHRcdHRvcF9rZXl3b3Jkcy5zcGxpdChcIixcIikuZm9yRWFjaCAoa2V5KSAtPlxyXG5cdFx0XHRcdFx0dG9wX2FwcHJvdmVzID0gXy51bmlvbiB0b3BfYXBwcm92ZXMsIF8uZmlsdGVyKGFwcHJvdmVzX3NvcnRlZCwgKGFwcHJvdmUpLT5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIGFwcHJvdmU/LmhhbmRsZXJfbmFtZT8uaW5kZXhPZihrZXkpID4gLTFcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHQjIOWvuee9rumhtuaEj+ingeaMieeFp+WkhOeQhuS6i+S7tuaOkuWAkuW6j1xyXG5cdFx0XHRcdHRvcF9hcHByb3ZlcyA9IF8uc29ydEJ5IHRvcF9hcHByb3ZlcywgKHRvcF9hcHByb3ZlKS0+XHJcblx0XHRcdFx0XHRyZXR1cm4gLSh0b3BfYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKClcclxuXHJcblx0XHRcdFx0YXBwcm92ZXNfc29ydGVkID0gXy51bmlvbiB0b3BfYXBwcm92ZXMsIGFwcHJvdmVzX3NvcnRlZFxyXG5cdFx0XHRyZXR1cm4gYXBwcm92ZXNfc29ydGVkIHx8IFtdXHJcblxyXG5cdFx0YXBwcm92ZXMgPSBfLmZpbHRlciBhcHByb3ZlcywgKGEpLT5cclxuXHRcdFx0cmV0dXJuIGEudHlwZSBpc250IFwiZm9yd2FyZFwiIGFuZCBhLnR5cGUgaXNudCBcImRpc3RyaWJ1dGVcIiBhbmQgYS50eXBlIGlzbnQgXCJ0ZXJtaW5hdGVkXCJcclxuXHJcblx0XHRpZiBvbmx5X2NjX29waW5pb25cclxuXHRcdFx0YXBwcm92ZXMgPSBhcHByb3Zlcz8uZmlsdGVyUHJvcGVydHkoXCJ0eXBlXCIsIFwiY2NcIilcclxuXHJcblx0XHRhcHByb3Zlc19zb3J0ZWQgPSBhcHByb3ZlX3NvcnQoYXBwcm92ZXMsIHRvcF9rZXl3b3JkcylcclxuXHJcblx0XHRhcHByb3Zlc0dyb3VwID0gXy5ncm91cEJ5KGFwcHJvdmVzLCBcImhhbmRsZXJcIik7XHJcblxyXG5cdFx0aGFzTmV4dCA9IChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAtPlxyXG5cdFx0XHRoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl1cclxuXHRcdFx0cmV0dXJuIF8uaW5kZXhPZihoYW5kbGVyQXBwcm92ZXMsIGFwcHJvdmUpICsgMSA8IGhhbmRsZXJBcHByb3Zlcy5sZW5ndGhcclxuXHJcblx0XHRoYXZlRGVzY3JpcHRpb25BcHByb3ZlID0gKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIC0+XHJcblx0XHRcdGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXVxyXG5cclxuXHRcdFx0ZGVzY3JpcHRpb25BcHByb3ZlcyA9IF8uZmlsdGVyIGhhbmRsZXJBcHByb3ZlcywgKGEpLT5cclxuXHRcdFx0XHRpZiBhLmRlc2NyaXB0aW9uXHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdFx0aWYgZGVzY3JpcHRpb25BcHByb3Zlcy5sZW5ndGggPT0gMFxyXG5cdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHJcblxyXG5cdFx0YXBwcm92ZXNfc29ydGVkLmZvckVhY2ggKGFwcHJvdmUpIC0+XHJcbiNcdFx0XHTmnInovpPlhaXmhI/op4Eg5oiWIOacgOaWsOS4gOadoeW5tuS4lOeUqOaIt+ayoeaciei+k+WFpei/h+aEj+ingVxyXG4jXHRcdFx0aWYgIWFwcHJvdmUuaXNfZmluaXNoZWQgfHwgYXBwcm92ZS5kZXNjcmlwdGlvbiB8fCAoIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgJiYgIWhhdmVEZXNjcmlwdGlvbkFwcHJvdmUoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkpXHJcbiNcdFx0XHRpZiAhaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKVxyXG5cdFx0XHRpZiBhcHByb3ZlLnNpZ25fc2hvdyAhPSBmYWxzZSAmJiAoYXBwcm92ZS5kZXNjcmlwdGlvbiB8fCAoIWFwcHJvdmUuZGVzY3JpcHRpb24gJiYgIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkpIClcclxuXHRcdFx0XHRpZiBhcHByb3ZlLmp1ZGdlIGlzbnQgJ3Rlcm1pbmF0ZWQnXHJcblx0XHRcdFx0XHRhcHByb3ZlLl9kaXNwbGF5ID0gdHJ1ZVxyXG5cclxuXHRcdGFwcHJvdmVzX3NvcnRlZCA9IF8uZmlsdGVyIGFwcHJvdmVzX3NvcnRlZCwgKGEpIC0+XHJcblx0XHRcdGlmIGlzX2NvbXBsZXRlZFxyXG5cdFx0XHRcdHJldHVybiBhLl9kaXNwbGF5ID09IHRydWUgJiYgYS5pc19maW5pc2hlZCAmJiBhLmZpbmlzaF9kYXRlPy5nZXRUaW1lKCkgPD0gY29tcGxldGVkX2RhdGVcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiBhLl9kaXNwbGF5ID09IHRydWVcclxuXHJcblx0XHRyZXR1cm4gYXBwcm92ZXNfc29ydGVkXHJcblxyXG5cdGluY2x1ZGU6IChhLCBiKSAtPlxyXG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZShhLCBiKVxyXG5cclxuXHR1bmVtcHR5OiAodmFsKS0+XHJcblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy51bmVtcHR5KHZhbClcclxuXHJcblx0Zm9ybWF0RGF0ZTogKGRhdGUsIG9wdGlvbnMpLT5cclxuXHRcdGlmICFvcHRpb25zXHJcblx0XHRcdG9wdGlvbnMgPSB7XCJmb3JtYXRcIjogXCJZWVlZLU1NLUREXCJ9XHJcblxyXG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybWF0RGF0ZShkYXRlLCBvcHRpb25zKVxyXG5cclxuXHRpc015QXBwcm92ZTogKGFwcHJvdmUsIG9ubHlfY2Nfb3BpbmlvbikgLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHJcblx0XHRcdGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKClcclxuXHJcblx0XHRcdGlmICFhcHByb3ZlPy5faWRcclxuXHRcdFx0XHRhcHByb3ZlID0gY3VycmVudEFwcHJvdmVcclxuXHJcblx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGN1cnJlbnRBcHByb3ZlPy5faWQgJiYgY3VycmVudEFwcHJvdmU/LnR5cGUgPT0gJ2NjJyAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZVxyXG5cdFx0XHRcdGlmIF8uaW5kZXhPZihjdXJyZW50QXBwcm92ZT8ub3Bpbmlvbl9maWVsZHNfY29kZSwgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpID4gLTFcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0XHRpZiAhKGN1cnJlbnRBcHByb3ZlPy50eXBlID09ICdjYycpICYmIG9ubHlfY2Nfb3BpbmlvblxyXG5cdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdFx0aWYgY3VycmVudEFwcHJvdmUgJiYgYXBwcm92ZS5faWQgPT0gY3VycmVudEFwcHJvdmUuX2lkXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRteUFwcHJvdmVEZXNjcmlwdGlvbjogKGFwcHJvdmVJZCktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcclxuXHRcdFx0XHRteUFwcHJvdmUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5teUFwcHJvdmU/LmdldCgpXHJcblx0XHRcdFx0aWYgbXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PSBhcHByb3ZlSWRcclxuXHRcdFx0XHRcdGlmICFteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IG15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT0gVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YT8ubmFtZVxyXG5cdFx0XHRcdFx0XHRpZiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIG15QXBwcm92ZT8uZGVzY3JpcHRpb24gfHwgXCJcIlxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXHJcblxyXG5cdG5vdzogKCktPlxyXG5cdFx0cmV0dXJuIG5ldyBEYXRlKCk7XHJcblxyXG5cdGlzUmVhZE9ubHk6ICgpLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRyZXR1cm4gQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0aXNPcGluaW9uT2ZGaWVsZDogKGFwcHJvdmUpLT5cclxuXHRcdGlmIGFwcHJvdmUudHlwZSA9PSBcImNjXCIgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWVcclxuXHRcdFx0aWYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUgPT0gYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGVcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XHJcblx0XHRpZiBtYXJrRG93blN0cmluZ1xyXG5cdFx0XHRyZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xyXG5cdFx0XHRyZW5kZXJlci5saW5rID0gKGhyZWYsIHRpdGxlLCB0ZXh0KSAtPlxyXG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcclxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7cmVuZGVyZXI6IHJlbmRlcmVyfSkpXHJcblxyXG5cdHN0ZXBzOiAoZmllbGRfZm9ybXVsYSwgc3RlcCwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduKS0+XHJcblx0XHRzdGVwcyA9IFtdXHJcblx0XHRpZiAhc3RlcFxyXG5cdFx0XHRpZiAhZmllbGRfZm9ybXVsYVxyXG5cdFx0XHRcdGZpZWxkX2Zvcm11bGEgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpPy5maWVsZHM/LmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIHRoaXMubmFtZSkuZm9ybXVsYVxyXG5cdFx0XHRzdGVwcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lKGZpZWxkX2Zvcm11bGEsIFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGEudG9wX2tleXdvcmRzKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRzdGVwcyA9IFt7c3RlcE5hbWU6IHN0ZXAsIG9ubHlfY2Nfb3Bpbmlvbjogb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduOiBpbWFnZV9zaWdufV1cclxuXHRcdHJldHVybiBzdGVwc1xyXG5cclxuXHRpbWFnZVNpZ25EYXRhOiAoaGFuZGxlcikgLT5cclxuXHRcdHJldHVybiB7dXNlcjogaGFuZGxlcn1cclxuXHJcblx0c2hvd1NpZ25JbWFnZTogKGhhbmRsZXIsIGltYWdlX3NpZ24pIC0+XHJcblx0XHRzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbihoYW5kbGVyKTtcclxuXHJcblx0XHRpZiBzcGFjZVVzZXJTaWduPy5zaWduICYmIGltYWdlX3NpZ25cclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdGdldExhc3RTaWduQXBwcm92ZTogKCktPlxyXG5cdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblxyXG5cdFx0cmV0dXJuIF8ubGFzdChUcmFjZXNNYW5hZ2VyLmdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzIGlucywgTWV0ZW9yLnVzZXJJZCgpKVxyXG5cclxuXHJcblx0bGFzdE15QXBwcm92ZURlc2NyaXB0aW9uOiAoKS0+XHJcblx0XHR0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpXHJcblx0XHRjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xyXG5cdFx0YXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tjdXJyZW50U3RlcC5uYW1lXSlcclxuXHJcblx0XHRhcHByb3ZlcyA9IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCBNZXRlb3IudXNlcklkKCkpXHJcblxyXG5cdFx0aWYgYXBwcm92ZXMubGVuZ3RoID4gMVxyXG5cdFx0XHRyZXR1cm4gYXBwcm92ZXNbYXBwcm92ZXMubGVuZ3RoIC0gMl0/LmRlc2NyaXB0aW9uXHJcblxyXG5cdFx0cmV0dXJuIFwiXCI7XHJcblxyXG5cdHNob3dBcHByb3ZlOiAoYXBwcm92ZSktPlxyXG5cdFx0aWYgIWFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09IFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGE/Lm5hbWVcclxuXHRcdFx0aWYgYXBwcm92ZT8uaXNfcmVhZFxyXG5cdFx0XHRcdGlmIGFwcHJvdmUuaXNfZmluaXNoZWRcclxuXHRcdFx0XHRcdHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGFwcHJvdmUuanVkZ2UpXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdGp1ZGdlX2Rlc2NyaXB0aW9uOiAoanVkZ2UpLT5cclxuXHRcdHJldHVybiB0KGp1ZGdlICsgXCJfZGVzY3JpcHRpb25cIilcclxuXHJcblx0aXNfYXBwcm92ZWQ6IChqdWRnZSktPlxyXG5cdFx0cmV0dXJuIFwiYXBwcm92ZWRcIiA9PSBqdWRnZVxyXG5cclxuXHRpc19yZWplY3RlZDogKGp1ZGdlKS0+XHJcblx0XHRyZXR1cm4gXCJyZWplY3RlZFwiID09IGp1ZGdlXHJcblxyXG5cdGlzX3JlYWRlZDogKGp1ZGdlKS0+XHJcblx0XHRyZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhqdWRnZSlcclxuXHJcblx0YWRkQ2xhc3M6ICgpLT5cclxuXHRcdG5hbWUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhPy5uYW1lXHJcblx0XHRzZXRUaW1lb3V0ICgpIC0+XHJcblx0XHRcdHRyeVxyXG5cdFx0XHRcdGVsZW1lbnQgPSAkKFwiLmF1dG9tYXRpYy5vcGluaW9uLWZpZWxkLVwiICsgbmFtZSlcclxuXHRcdFx0XHRpZiBlbGVtZW50Lmxlbmd0aCA+IDBcclxuXHRcdFx0XHRcdGlmIGVsZW1lbnQ/LmlzKFwidGRcIilcclxuXHRcdFx0XHRcdFx0ZWxlbWVudC5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHQkKFwiLmluc3RhbmNlLXNpZ25cIiwgZWxlbWVudCkuYWRkQ2xhc3MoJ2ZpZWxkLWVkaXRhYmxlJylcclxuXHRcdFx0Y2F0Y2ggZVxyXG5cdFx0XHRcdGNvbnNvbGUubG9nIGVcclxuXHRcdCwgMVxyXG5cdFx0cmV0dXJuICcnXHJcblxyXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMuZGVmYXVsdERlc2NyaXB0aW9uID0gLT5cclxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcclxuXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIsIHt9LCBsb2NhbGUpIiwiSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzID0ge1xuICBzaG93OiBmdW5jdGlvbihzdGVwTmFtZSkge1xuICAgIHZhciBpbnN0YW5jZSwgbXlBcHByb3ZlLCBteVRyYWNlLCByZWY7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KCdpbnN0YW5jZVByaW50JykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKEluc3RhbmNlTWFuYWdlci5pc0luYm94KCkpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XG4gICAgICAgIGlmIChteUFwcHJvdmUpIHtcbiAgICAgICAgICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgIG15VHJhY2UgPSBpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIG15QXBwcm92ZS50cmFjZSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIChteVRyYWNlICE9IG51bGwgPyBteVRyYWNlLm5hbWUgOiB2b2lkIDApID09PSBzdGVwTmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGRlZmF1bHREZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uO1xuICB9LFxuICB0cmFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpO1xuICB9LFxuICB0cmFjZTogZnVuY3Rpb24oc3RlcE5hbWUsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiwgdG9wX2tleXdvcmRzKSB7XG4gICAgdmFyIGFwcHJvdmVfc29ydCwgYXBwcm92ZXMsIGFwcHJvdmVzR3JvdXAsIGFwcHJvdmVzX3NvcnRlZCwgY29tcGxldGVkX2RhdGUsIGhhc05leHQsIGhhdmVEZXNjcmlwdGlvbkFwcHJvdmUsIGluc3RhbmNlLCBpc19jb21wbGV0ZWQsIHJlZiwgcmVmMSwgcmVmMiwgdHJhY2VzO1xuICAgIGluc3RhbmNlID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSgpO1xuICAgIGlzX2NvbXBsZXRlZCA9IChpbnN0YW5jZSAhPSBudWxsID8gaW5zdGFuY2Uuc3RhdGUgOiB2b2lkIDApID09PSBcImNvbXBsZXRlZFwiO1xuICAgIGNvbXBsZXRlZF9kYXRlID0gaXNfY29tcGxldGVkID8gKHJlZiA9IF8ubGFzdChpbnN0YW5jZS50cmFjZXMpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZmluaXNoX2RhdGUpICE9IG51bGwgPyByZWYxLmdldFRpbWUoKSA6IHZvaWQgMCA6IHZvaWQgMCA6IDA7XG4gICAgaWYgKGlzX2NvbXBsZXRlZCAmJiBpbnN0YW5jZS5maW5pc2hfZGF0ZSkge1xuICAgICAgY29tcGxldGVkX2RhdGUgPSAocmVmMiA9IGluc3RhbmNlLmZpbmlzaF9kYXRlKSAhPSBudWxsID8gcmVmMi5nZXRUaW1lKCkgOiB2b2lkIDA7XG4gICAgfVxuICAgIHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKCk7XG4gICAgYXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tzdGVwTmFtZV0pO1xuICAgIGFwcHJvdmVfc29ydCA9IGZ1bmN0aW9uKGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpIHtcbiAgICAgIHZhciBhcHByb3Zlc19zb3J0ZWQsIHRvcF9hcHByb3ZlcztcbiAgICAgIGFwcHJvdmVzX3NvcnRlZCA9IF8uc29ydEJ5KGFwcHJvdmVzLCBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgIHJldHVybiAtKGFwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgfSk7XG4gICAgICBpZiAodG9wX2tleXdvcmRzKSB7XG4gICAgICAgIHRvcF9hcHByb3ZlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0b3Bfa2V5d29yZHMuc3BsaXQoXCIsXCIpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHRvcF9hcHByb3ZlcyA9IF8udW5pb24odG9wX2FwcHJvdmVzLCBfLmZpbHRlcihhcHByb3Zlc19zb3J0ZWQsIGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICAgIHZhciByZWYzO1xuICAgICAgICAgICAgcmV0dXJuIChhcHByb3ZlICE9IG51bGwgPyAocmVmMyA9IGFwcHJvdmUuaGFuZGxlcl9uYW1lKSAhPSBudWxsID8gcmVmMy5pbmRleE9mKGtleSkgOiB2b2lkIDAgOiB2b2lkIDApID4gLTE7XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdG9wX2FwcHJvdmVzID0gXy5zb3J0QnkodG9wX2FwcHJvdmVzLCBmdW5jdGlvbih0b3BfYXBwcm92ZSkge1xuICAgICAgICAgIHJldHVybiAtKHRvcF9hcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFwcHJvdmVzX3NvcnRlZCA9IF8udW5pb24odG9wX2FwcHJvdmVzLCBhcHByb3Zlc19zb3J0ZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFwcHJvdmVzX3NvcnRlZCB8fCBbXTtcbiAgICB9O1xuICAgIGFwcHJvdmVzID0gXy5maWx0ZXIoYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiBhLnR5cGUgIT09IFwiZm9yd2FyZFwiICYmIGEudHlwZSAhPT0gXCJkaXN0cmlidXRlXCIgJiYgYS50eXBlICE9PSBcInRlcm1pbmF0ZWRcIjtcbiAgICB9KTtcbiAgICBpZiAob25seV9jY19vcGluaW9uKSB7XG4gICAgICBhcHByb3ZlcyA9IGFwcHJvdmVzICE9IG51bGwgPyBhcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcInR5cGVcIiwgXCJjY1wiKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgYXBwcm92ZXNfc29ydGVkID0gYXBwcm92ZV9zb3J0KGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpO1xuICAgIGFwcHJvdmVzR3JvdXAgPSBfLmdyb3VwQnkoYXBwcm92ZXMsIFwiaGFuZGxlclwiKTtcbiAgICBoYXNOZXh0ID0gZnVuY3Rpb24oYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkge1xuICAgICAgdmFyIGhhbmRsZXJBcHByb3ZlcztcbiAgICAgIGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXTtcbiAgICAgIHJldHVybiBfLmluZGV4T2YoaGFuZGxlckFwcHJvdmVzLCBhcHByb3ZlKSArIDEgPCBoYW5kbGVyQXBwcm92ZXMubGVuZ3RoO1xuICAgIH07XG4gICAgaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSA9IGZ1bmN0aW9uKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIHtcbiAgICAgIHZhciBkZXNjcmlwdGlvbkFwcHJvdmVzLCBoYW5kbGVyQXBwcm92ZXM7XG4gICAgICBoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl07XG4gICAgICBkZXNjcmlwdGlvbkFwcHJvdmVzID0gXy5maWx0ZXIoaGFuZGxlckFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgIGlmIChhLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBpZiAoZGVzY3JpcHRpb25BcHByb3Zlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBhcHByb3Zlc19zb3J0ZWQuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICBpZiAoYXBwcm92ZS5zaWduX3Nob3cgIT09IGZhbHNlICYmIChhcHByb3ZlLmRlc2NyaXB0aW9uIHx8ICghYXBwcm92ZS5kZXNjcmlwdGlvbiAmJiAhaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSkpKSB7XG4gICAgICAgIGlmIChhcHByb3ZlLmp1ZGdlICE9PSAndGVybWluYXRlZCcpIHtcbiAgICAgICAgICByZXR1cm4gYXBwcm92ZS5fZGlzcGxheSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBhcHByb3Zlc19zb3J0ZWQgPSBfLmZpbHRlcihhcHByb3Zlc19zb3J0ZWQsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIHZhciByZWYzO1xuICAgICAgaWYgKGlzX2NvbXBsZXRlZCkge1xuICAgICAgICByZXR1cm4gYS5fZGlzcGxheSA9PT0gdHJ1ZSAmJiBhLmlzX2ZpbmlzaGVkICYmICgocmVmMyA9IGEuZmluaXNoX2RhdGUpICE9IG51bGwgPyByZWYzLmdldFRpbWUoKSA6IHZvaWQgMCkgPD0gY29tcGxldGVkX2RhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYS5fZGlzcGxheSA9PT0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gYXBwcm92ZXNfc29ydGVkO1xuICB9LFxuICBpbmNsdWRlOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZShhLCBiKTtcbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24odmFsKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudW5lbXB0eSh2YWwpO1xuICB9LFxuICBmb3JtYXREYXRlOiBmdW5jdGlvbihkYXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBcImZvcm1hdFwiOiBcIllZWVktTU0tRERcIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybWF0RGF0ZShkYXRlLCBvcHRpb25zKTtcbiAgfSxcbiAgaXNNeUFwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmUsIG9ubHlfY2Nfb3Bpbmlvbikge1xuICAgIHZhciBjdXJyZW50QXBwcm92ZSwgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgY3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcbiAgICAgIGlmICghKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUuX2lkIDogdm9pZCAwKSkge1xuICAgICAgICBhcHByb3ZlID0gY3VycmVudEFwcHJvdmU7XG4gICAgICB9XG4gICAgICBpZiAoYXBwcm92ZS5faWQgPT09IChjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUuX2lkIDogdm9pZCAwKSAmJiAoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLnR5cGUgOiB2b2lkIDApID09PSAnY2MnICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSB7XG4gICAgICAgIGlmIChfLmluZGV4T2YoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUgOiB2b2lkIDAsIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSA+IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoISgoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLnR5cGUgOiB2b2lkIDApID09PSAnY2MnKSAmJiBvbmx5X2NjX29waW5pb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRBcHByb3ZlICYmIGFwcHJvdmUuX2lkID09PSBjdXJyZW50QXBwcm92ZS5faWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVJZCkge1xuICAgIHZhciBteUFwcHJvdmUsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5teUFwcHJvdmUpICE9IG51bGwgPyByZWYxLmdldCgpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAobXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKCFteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IG15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT09ICgocmVmMiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMyA9IHJlZjIuZGF0YSkgIT0gbnVsbCA/IHJlZjMubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgIGlmICghU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIHJldHVybiAobXlBcHByb3ZlICE9IG51bGwgPyBteUFwcHJvdmUuZGVzY3JpcHRpb24gOiB2b2lkIDApIHx8IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbm93OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgfSxcbiAgaXNSZWFkT25seTogZnVuY3Rpb24oKSB7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgcmV0dXJuIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc09waW5pb25PZkZpZWxkOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gXCJjY1wiICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSB7XG4gICAgICBpZiAoVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUgPT09IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIG1hcmtEb3duVG9IdG1sOiBmdW5jdGlvbihtYXJrRG93blN0cmluZykge1xuICAgIHZhciByZW5kZXJlcjtcbiAgICBpZiAobWFya0Rvd25TdHJpbmcpIHtcbiAgICAgIHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG4gICAgICByZW5kZXJlci5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgICAgcmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiICsgaHJlZiArIFwiJyB0aXRsZT0nXCIgKyB0aXRsZSArIFwiJz5cIiArIHRleHQgKyBcIjwvYT5cIjtcbiAgICAgIH07XG4gICAgICByZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtcbiAgICAgICAgcmVuZGVyZXI6IHJlbmRlcmVyXG4gICAgICB9KSk7XG4gICAgfVxuICB9LFxuICBzdGVwczogZnVuY3Rpb24oZmllbGRfZm9ybXVsYSwgc3RlcCwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduKSB7XG4gICAgdmFyIHJlZiwgcmVmMSwgcmVmMiwgc3RlcHM7XG4gICAgc3RlcHMgPSBbXTtcbiAgICBpZiAoIXN0ZXApIHtcbiAgICAgIGlmICghZmllbGRfZm9ybXVsYSkge1xuICAgICAgICBmaWVsZF9mb3JtdWxhID0gKHJlZiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5maWVsZHMpICE9IG51bGwgPyByZWYxLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIHRoaXMubmFtZSkuZm9ybXVsYSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHN0ZXBzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRPcGluaW9uRmllbGRTdGVwc05hbWUoZmllbGRfZm9ybXVsYSwgKHJlZjIgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gcmVmMi5kYXRhLnRvcF9rZXl3b3JkcyA6IHZvaWQgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ZXBzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgc3RlcE5hbWU6IHN0ZXAsXG4gICAgICAgICAgb25seV9jY19vcGluaW9uOiBvbmx5X2NjX29waW5pb24sXG4gICAgICAgICAgaW1hZ2Vfc2lnbjogaW1hZ2Vfc2lnblxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gc3RlcHM7XG4gIH0sXG4gIGltYWdlU2lnbkRhdGE6IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlcjogaGFuZGxlclxuICAgIH07XG4gIH0sXG4gIHNob3dTaWduSW1hZ2U6IGZ1bmN0aW9uKGhhbmRsZXIsIGltYWdlX3NpZ24pIHtcbiAgICB2YXIgc3BhY2VVc2VyU2lnbjtcbiAgICBzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbihoYW5kbGVyKTtcbiAgICBpZiAoKHNwYWNlVXNlclNpZ24gIT0gbnVsbCA/IHNwYWNlVXNlclNpZ24uc2lnbiA6IHZvaWQgMCkgJiYgaW1hZ2Vfc2lnbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIGdldExhc3RTaWduQXBwcm92ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICByZXR1cm4gXy5sYXN0KFRyYWNlc01hbmFnZXIuZ2V0SGFuZGxlclNpZ25TaG93QXBwcm92ZXMoaW5zLCBNZXRlb3IudXNlcklkKCkpKTtcbiAgfSxcbiAgbGFzdE15QXBwcm92ZURlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXBwcm92ZXMsIGN1cnJlbnRTdGVwLCByZWYsIHRyYWNlcztcbiAgICB0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpO1xuICAgIGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgYXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tjdXJyZW50U3RlcC5uYW1lXSk7XG4gICAgYXBwcm92ZXMgPSBhcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcImhhbmRsZXJcIiwgTWV0ZW9yLnVzZXJJZCgpKTtcbiAgICBpZiAoYXBwcm92ZXMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIChyZWYgPSBhcHByb3Zlc1thcHByb3Zlcy5sZW5ndGggLSAyXSkgIT0gbnVsbCA/IHJlZi5kZXNjcmlwdGlvbiA6IHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0sXG4gIHNob3dBcHByb3ZlOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgdmFyIHJlZiwgcmVmMTtcbiAgICBpZiAoIWFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09PSAoKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5kYXRhKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgaWYgKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUuaXNfcmVhZCA6IHZvaWQgMCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5pc19maW5pc2hlZCkge1xuICAgICAgICAgIHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGFwcHJvdmUuanVkZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAganVkZ2VfZGVzY3JpcHRpb246IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIHQoanVkZ2UgKyBcIl9kZXNjcmlwdGlvblwiKTtcbiAgfSxcbiAgaXNfYXBwcm92ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFwiYXBwcm92ZWRcIiA9PT0ganVkZ2U7XG4gIH0sXG4gIGlzX3JlamVjdGVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBcInJlamVjdGVkXCIgPT09IGp1ZGdlO1xuICB9LFxuICBpc19yZWFkZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoanVkZ2UpO1xuICB9LFxuICBhZGRDbGFzczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5hbWUsIHJlZiwgcmVmMTtcbiAgICBuYW1lID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5kYXRhKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZSwgZWxlbWVudDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVsZW1lbnQgPSAkKFwiLmF1dG9tYXRpYy5vcGluaW9uLWZpZWxkLVwiICsgbmFtZSk7XG4gICAgICAgIGlmIChlbGVtZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAoZWxlbWVudCAhPSBudWxsID8gZWxlbWVudC5pcyhcInRkXCIpIDogdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICQoXCIuaW5zdGFuY2Utc2lnblwiLCBlbGVtZW50KS5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfVxuICAgIH0sIDEpO1xuICAgIHJldHVybiAnJztcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMuZGVmYXVsdERlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIsIHt9LCBsb2NhbGUpO1xuICB9O1xufVxuIiwiVHJhY2VzVGVtcGxhdGUuaGVscGVycyA9XHJcblx0ZXF1YWxzOiAoYSwgYikgLT5cclxuXHRcdGEgPT0gYlxyXG5cdGVtcHR5OiAoYSkgLT5cclxuXHRcdGlmIGFcclxuXHRcdFx0YS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPCAxXHJcblx0XHRlbHNlXHJcblx0XHRcdHRydWVcclxuXHR1bmVtcHR5OiAoYSkgLT5cclxuXHRcdGlmIGFcclxuXHRcdFx0YS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwXHJcblx0XHRlbHNlXHJcblx0XHRcdGZhbHNlXHJcblxyXG5cdGFwcGVuZDogKGEsIGIpIC0+XHJcblx0XHRhICsgYlxyXG5cclxuXHRkYXRlRm9ybWF0OiAoZGF0ZSkgLT5cclxuXHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpICYmIGRhdGU/LmdldEZ1bGxZZWFyKCkgPT0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpXHJcblx0XHRcdFx0cmV0dXJuICQuZm9ybWF0LmRhdGUgbmV3IERhdGUoZGF0ZSksIFwiTU0tZGQgSEg6bW1cIlxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuICQuZm9ybWF0LmRhdGUgbmV3IERhdGUoZGF0ZSksIFwieXl5eS1NTS1kZCBISDptbVwiXHJcblxyXG5cdGdldFN0ZXBOYW1lOiAoc3RlcElkKSAtPlxyXG5cdFx0c3RlcCA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZVN0ZXAoc3RlcElkKVxyXG5cdFx0aWYgc3RlcFxyXG5cdFx0XHRyZXR1cm4gc3RlcC5uYW1lXHJcblx0XHRudWxsXHJcblx0c2hvd0RlbGV0ZUJ1dHRvbjogKGFwcHJvdmVkKSAtPlxyXG5cdFx0aWYgYXBwcm92ZWQgYW5kIGFwcHJvdmVkLnR5cGUgPT0gJ2NjJyBhbmQgYXBwcm92ZWQuZnJvbV91c2VyID09IE1ldGVvci51c2VySWQoKSBhbmQgYXBwcm92ZWQuaXNfZmluaXNoZWQgIT0gdHJ1ZSBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0ZmFsc2VcclxuXHRpc1Nob3dNb2RpZmljYXRpb25CdXR0b246IChhcHByb3ZlZCkgLT5cclxuXHRcdGFwcHJvdmVfYWRtaW5zID0gTWV0ZW9yLnNldHRpbmdzPy5wdWJsaWM/LndvcmtmbG93Py5hcHByb3ZlX2FkbWluc1xyXG5cdFx0aWYgYXBwcm92ZV9hZG1pbnM/Lmxlbmd0aFxyXG5cdFx0XHRpc1Nob3cgPSBhcHByb3ZlX2FkbWlucz8uY29udGFpbnMgTWV0ZW9yLnVzZXJJZCgpXHJcblx0XHR1bmxlc3MgaXNTaG93XHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0cmV0dXJuIGFwcHJvdmVkLmhhbmRsZXIgPT0gTWV0ZW9yLnVzZXJJZCgpXHJcblx0aXNFZGl0aW5nOiAoKSAtPlxyXG5cdFx0IHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmlzX2VkaXRpbmc/LmdldCgpXHJcblx0aXNTaG93RGVzY3JpcHRpb246IChhcHByb3ZlZCktPlxyXG5cdFx0IyBkZWJ1Z2dlclxyXG5cdFx0aWYgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5pc1Nob3dNb2RpZmljYXRpb25CdXR0b24gYXBwcm92ZWRcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdHJldHVybiBhcHByb3ZlZC5kZXNjcmlwdGlvbj8udG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMFxyXG5cdGlzQ0M6IChhcHByb3ZlZCkgLT5cclxuXHRcdGlmIGFwcHJvdmVkIGFuZCBhcHByb3ZlZC50eXBlID09ICdjYydcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdGZhbHNlXHJcblx0Z2V0QXBwcm92ZVN0YXR1c0ljb246IChhcHByb3ZlSnVkZ2UpIC0+XHJcblx0XHQj5bey57uT5p2f55qE5pi+56S65Li65qC45YeGL+mps+Wbni/lj5bmtojnlLPor7fvvIzlubbmmL7npLrlpITnkIbnirbmgIHlm77moIdcclxuXHRcdGFwcHJvdmVTdGF0dXNJY29uID0gdW5kZWZpbmVkXHJcblx0XHRzd2l0Y2ggYXBwcm92ZUp1ZGdlXHJcblx0XHRcdHdoZW4gJ2FwcHJvdmVkJ1xyXG5cdFx0XHRcdCMg5bey5qC45YeGXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jaGVja21hcmstcm91bmQnXHJcblx0XHRcdHdoZW4gJ3JlamVjdGVkJ1xyXG5cdFx0XHRcdCMg5bey6amz5ZueXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jbG9zZS1yb3VuZCdcclxuXHRcdFx0d2hlbiAndGVybWluYXRlZCdcclxuXHRcdFx0XHQjIOW3suWPlua2iFxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLWJhbidcclxuXHRcdFx0d2hlbiAncmVhc3NpZ25lZCdcclxuXHRcdFx0XHQjIOi9rOetvuaguFxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYW5kcm9pZC1jb250YWN0J1xyXG5cdFx0XHR3aGVuICdyZWxvY2F0ZWQnXHJcblx0XHRcdFx0IyDph43lrprkvY1cclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFycm93LXNocmluaydcclxuXHRcdFx0d2hlbiAncmV0cmlldmVkJ1xyXG5cdFx0XHRcdCMg5bey5Y+W5ZueXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtdW5kbydcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJydcclxuXHRcdFx0XHRicmVha1xyXG5cdFx0YXBwcm92ZVN0YXR1c0ljb25cclxuXHRnZXRBcHByb3ZlU3RhdHVzVGV4dDogKGFwcHJvdmVKdWRnZSkgLT5cclxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXHJcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcclxuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcclxuXHRcdGVsc2VcclxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxyXG5cdFx0I+W3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+377yM5bm25pi+56S65aSE55CG54q25oCB5Zu+5qCHXHJcblx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IHVuZGVmaW5lZFxyXG5cdFx0c3dpdGNoIGFwcHJvdmVKdWRnZVxyXG5cdFx0XHR3aGVuICdhcHByb3ZlZCdcclxuXHRcdFx0XHQjIOW3suaguOWHhlxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgYXBwcm92ZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHR3aGVuICdyZWplY3RlZCdcclxuXHRcdFx0XHQjIOW3sumps+WbnlxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVqZWN0ZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHR3aGVuICd0ZXJtaW5hdGVkJ1xyXG5cdFx0XHRcdCMg5bey5Y+W5raIXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSB0ZXJtaW5hdGVkJywge30sIGxvY2FsZSlcclxuXHRcdFx0d2hlbiAncmVhc3NpZ25lZCdcclxuXHRcdFx0XHQjIOi9rOetvuaguFxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVhc3NpZ25lZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRcdHdoZW4gJ3JlbG9jYXRlZCdcclxuXHRcdFx0XHQjIOmHjeWumuS9jVxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVsb2NhdGVkJywge30sIGxvY2FsZSlcclxuXHRcdFx0d2hlbiAncmV0cmlldmVkJ1xyXG5cdFx0XHRcdCMg5bey5Y+W5ZueXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZXRyaWV2ZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHR3aGVuICdyZXR1cm5lZCdcclxuXHRcdFx0XHQjIOW3sumAgOWbnlxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0dXJuZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHR3aGVuICdyZWFkZWQnXHJcblx0XHRcdFx0IyDlt7LpmIVcclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYWRlZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9ICcnXHJcblx0XHRcdFx0YnJlYWtcclxuXHRcdGFwcHJvdmVTdGF0dXNUZXh0XHJcblx0X3Q6IChrZXkpLT5cclxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSlcclxuXHJcblx0bXlBcHByb3ZlRGVzY3JpcHRpb246IChhcHByb3ZlSWQpLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXHJcblx0XHRcdFx0bXlBcHByb3ZlID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8ubXlBcHByb3ZlPy5nZXQoKVxyXG5cdFx0XHRcdGlmIG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT0gYXBwcm92ZUlkXHJcblx0XHRcdFx0XHRpZiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXHJcblx0XHRcdFx0XHRcdHJldHVybiBteUFwcHJvdmU/LmRlc2NyaXB0aW9uIHx8IFwiXCJcclxuXHRcdFx0XHRcdHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcclxuXHRpc0ZvcndhcmQ6IChhcHByb3ZlZCkgLT5cclxuXHRcdGlmIGFwcHJvdmVkIGFuZCBhcHByb3ZlZC50eXBlID09ICdmb3J3YXJkJ1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0ZmFsc2VcclxuXHRzaG93Rm9yd2FyZERlbGV0ZUJ1dHRvbjogKGFwcHJvdmUpIC0+XHJcblx0XHRpZiBkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgaXMgMFxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdGlmIGFwcHJvdmUgYW5kIGFwcHJvdmUudHlwZSA9PSAnZm9yd2FyZCcgYW5kIGFwcHJvdmUuZnJvbV91c2VyID09IE1ldGVvci51c2VySWQoKSBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSBhbmQgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJ1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0ZmFsc2VcclxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XHJcblx0XHRpZiBtYXJrRG93blN0cmluZ1xyXG5cdFx0XHRyZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xyXG5cdFx0XHRyZW5kZXJlci5saW5rID0gKCBocmVmLCB0aXRsZSwgdGV4dCApIC0+XHJcblx0XHRcdFx0cmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9JyN7aHJlZn0nIHRpdGxlPScje3RpdGxlfSc+I3t0ZXh0fTwvYT5cIlxyXG5cdFx0XHRyZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtyZW5kZXJlcjpyZW5kZXJlcn0pKVxyXG5cdGlzRGlzdHJpYnV0ZTogKGFwcHJvdmUpIC0+XHJcblx0XHRpZiBhcHByb3ZlIGFuZCBhcHByb3ZlLnR5cGUgPT0gJ2Rpc3RyaWJ1dGUnXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRmYWxzZVxyXG5cdHNob3dEaXN0cmlidXRlRGVsZXRlQnV0dG9uOiAoYXBwcm92ZSkgLT5cclxuXHRcdGlmIGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSBpcyAwXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdGlmIGFwcHJvdmUgYW5kIGFwcHJvdmUudHlwZSA9PSAnZGlzdHJpYnV0ZScgYW5kICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgYW5kIGFwcHJvdmUuanVkZ2UgaXNudCAndGVybWluYXRlZCcgYW5kIFN0ZWVkb3MuaXNMZWdhbFZlcnNpb24oJycsXCJ3b3JrZmxvdy5lbnRlcnByaXNlXCIpXHJcblx0XHRcdCMg5rWB56iL566h55CG5ZGY5ZKM57O757uf566h55CG5ZGY77yM5Y+v5Lul5omn6KGM5Lu75L2V5oOF5Ya15LiL55qE5paH5Lu25Y+W5raI5YiG5Y+RXHJcblx0XHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGFwcHJvdmUuaW5zdGFuY2V9LCB7ZmllbGRzOiB7ZmxvdzogMSwgc3BhY2U6IDF9fSlcclxuXHRcdFx0aWYgaW5zIGFuZCBpbnMuZmxvdyBhbmQgaW5zLnNwYWNlXHJcblx0XHRcdFx0aWYgV29ya2Zsb3dNYW5hZ2VyLmhhc0Zsb3dBZG1pblBlcm1pc3Npb24oaW5zLmZsb3csIGlucy5zcGFjZSwgTWV0ZW9yLnVzZXJJZCgpKVxyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHJcblx0XHRcdGlmIGFwcHJvdmUuZnJvbV91c2VyID09IE1ldGVvci51c2VySWQoKVxyXG5cdFx0XHRcdHJldHVybiB0cnVlXHJcblxyXG5cdFx0ZmFsc2VcclxuXHJcblx0ZmluaXNoRGF0ZVNjaGVtYTogKCkgLT5cclxuXHRcdGlmIFN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKVxyXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XHJcblx0XHRcdFx0ZmluaXNoX2RhdGU6IHtcclxuXHRcdFx0XHRcdGF1dG9mb3JtOiB7XHJcblx0XHRcdFx0XHRcdHR5cGU6IFwiZGF0ZXRpbWUtbG9jYWxcIlxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdG9wdGlvbmFsOiBmYWxzZSxcclxuXHRcdFx0XHRcdHR5cGU6IERhdGVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcclxuXHRcdFx0XHRmaW5pc2hfZGF0ZToge1xyXG5cdFx0XHRcdFx0YXV0b2Zvcm06IHtcclxuXHRcdFx0XHRcdFx0dHlwZTogXCJib290c3RyYXAtZGF0ZXRpbWVwaWNrZXJcIlxyXG5cdFx0XHRcdFx0XHRyZWFkb25seTogdHJ1ZVxyXG5cdFx0XHRcdFx0XHRkYXRlVGltZVBpY2tlck9wdGlvbnM6e1xyXG5cdFx0XHRcdFx0XHRcdGZvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCIsXHJcblx0XHRcdFx0XHRcdFx0aWdub3JlUmVhZG9ubHk6dHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRsb2NhbGU6IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIiksXHJcblx0XHRcdFx0XHRcdFx0d2lkZ2V0UG9zaXRpb25pbmc6e1xyXG5cdFx0XHRcdFx0XHRcdFx0aG9yaXpvbnRhbDogJ3JpZ2h0J1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdG9wdGlvbmFsOiBmYWxzZSxcclxuXHRcdFx0XHRcdHR5cGU6IERhdGVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblxyXG5cdGZpbmlzaERhdGVWYWx1ZXM6ICgpIC0+XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRmaW5pc2hfZGF0ZTp0aGlzLmZpbmlzaF9kYXRlXHJcblx0XHR9O1xyXG5cclxuXHQjIyNcclxuICAgIFx05q2k5Ye95pWw55So5LqO5o6n5Yi25piv5ZCm5pi+56S6dHJhY2VzIHZpZXdcclxuICAgIFx0dHJ1ZTog5pi+56S6dHJhY2VzIHZpZXcs562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCO5piv55u05o6l5a6a5L2N5YiwdHJhY2VzIHZpZXdcclxuICAgIFx0ZmFsc2U6IOS4jeaYvuekunRyYWNlcyB2aWV377yM562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCOLOS7pU1vZGFsIOaWueW8j+aYvuekunRyYWNlcyB2aWV3XHJcblx0IyMjXHJcblx0c2hvd1RyYWNlc1ZpZXc6IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cclxuI1x0XHRyZXR1cm4gIShJbnN0YW5jZU1hbmFnZXIuaXNUYWJsZVN0eWxlKGZvcm0pICYmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZXNPcGluaW9uRmllbGQoZm9ybSwgZm9ybV92ZXJzaW9uKSlcclxuXHJcblx0XHRzaG93X21vZGFsX3RyYWNlc19saXN0ID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7c3BhY2U6IFNlc3Npb24uZ2V0KFwic3BhY2VJZFwiKSwga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIn0pPy52YWx1ZXMgfHwgZmFsc2VcclxuXHJcblx0XHRyZXR1cm4gIXNob3dfbW9kYWxfdHJhY2VzX2xpc3RcclxuXHJcblx0Z2V0SW5zdGFuY2VTdGF0ZVRleHQ6IChpbnN0YW5jZV9pZCktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcclxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xyXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXHJcblxyXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWR9LCB7ZmllbGRzOiB7c3RhdGU6IDEsIGlzX3JlYWQ6IDF9fSlcclxuXHRcdGlmIG5vdCBpbnNcclxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oJ2luc3RhbmNlX2RlbGV0ZWQnLCB7fSwgbG9jYWxlKVxyXG5cclxuXHRcdHRleHQgPSAnJ1xyXG5cdFx0aWYgaW5zLnN0YXRlIGlzICdjb21wbGV0ZWQnXHJcblx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdjb21wbGV0ZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ3BlbmRpbmcnXHJcblx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdwZW5kaW5nJywge30sIGxvY2FsZSlcclxuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdkcmFmdCdcclxuXHRcdFx0aWYgaW5zLmlzX3JlYWRcclxuXHRcdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9yZWFkJywge30sIGxvY2FsZSlcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX25vdF95ZXRfaGFuZGxlZCcsIHt9LCBsb2NhbGUpXHJcblxyXG5cdFx0cmV0dXJuIHRleHRcclxuXHJcblx0Z2V0SW5zdGFuY2VTdGF0ZUNvbG9yOiAoaW5zdGFuY2VfaWQpLT5cclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkfSwge2ZpZWxkczoge3N0YXRlOiAxLCBpc19yZWFkOiAxfX0pXHJcblx0XHRpZiBub3QgaW5zXHJcblx0XHRcdHJldHVybiBcIlwiXHJcblxyXG5cdFx0Y2xhID0gJydcclxuXHRcdGlmIGlucy5zdGF0ZSBpcyAnZHJhZnQnXHJcblx0XHRcdGlmIGlucy5pc19yZWFkXHJcblx0XHRcdFx0Y2xhID0gJ2JsdWUnXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRjbGEgPSAncmVkJ1xyXG5cdFx0cmV0dXJuIGNsYVxyXG5cclxuXHRmaXJzdFRyYWNlOiAoaW5kZXgpLT5cclxuXHRcdHJldHVybiBpbmRleCBpcyAwXHJcblxyXG5cdGxhc3RfZGlzdHJpYnV0ZV9mcm9tOiAoaW5zdGFuY2VfaWQpLT5cclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkLCBkaXN0cmlidXRlX2Zyb21faW5zdGFuY2U6IHskZXhpc3RzOiB0cnVlfX0se2ZpZWxkczp7Y3JlYXRlZDogMSwgY3JlYXRlZF9ieTogMX19KVxyXG5cdFx0aWYgaW5zXHJcblx0XHRcdGRpc19pbmZvID0ge31cclxuXHRcdFx0dXNlciA9IHt9XHJcblx0XHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRcdHVzZXIgPSBVVWZsb3dfYXBpLmdldE5hbWVGb3JVc2VyKGlucy5jcmVhdGVkX2J5KVxyXG5cdFx0XHRlbHNlIGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0XHRcdHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtfaWQ6IGlucy5jcmVhdGVkX2J5fSwge2ZpZWxkczoge25hbWU6IDF9fSlcclxuXHJcblx0XHRcdGlmIHVzZXIubmFtZVxyXG5cdFx0XHRcdGRpc19pbmZvLmZyb21fdXNlcl9uYW1lID0gdXNlci5uYW1lXHJcblx0XHRcdFx0ZGlzX2luZm8uY3JlYXRlZCA9IGlucy5jcmVhdGVkXHJcblxyXG5cdFx0XHRpZiBub3QgXy5pc0VtcHR5KGRpc19pbmZvKVxyXG5cdFx0XHRcdHJldHVybiBkaXNfaW5mb1xyXG5cdFx0cmV0dXJuXHJcblxyXG5cdGlzQ0NPckRpc3RyaWJ1dGVPckZvcndhcmRUZXJtaW5hdGVkOiAoYXBwcm92ZSktPlxyXG5cdFx0aWYgKGFwcHJvdmUudHlwZSBpcyAnY2MnIG9yIGFwcHJvdmUudHlwZSBpcyAnZGlzdHJpYnV0ZScgb3IgYXBwcm92ZS50eXBlIGlzICdmb3J3YXJkJykgYW5kIGFwcHJvdmUuanVkZ2UgaXMgJ3Rlcm1pbmF0ZWQnXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0anVkZ2VUZXJtaW5hdGVkOiAoanVkZ2UpLT5cclxuXHRcdHJldHVybiBqdWRnZSBpcyAndGVybWluYXRlZCdcclxuXHJcblx0aW5zdGFuY2VFeGlzdHM6IChpbnN0YW5jZV9pZCktPlxyXG5cdFx0cmV0dXJuICEhZGIuaW5zdGFuY2VzLmZpbmQoaW5zdGFuY2VfaWQpLmNvdW50KClcclxuXHJcblx0YWdlbnREZXNjcmlwdGlvbjogKHVzZXJOYW1lKS0+XHJcblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxyXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXHJcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXHJcblx0XHRlbHNlXHJcblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcclxuXHJcblx0XHRyZXR1cm4gVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge3VzZXJOYW1lOiB1c2VyTmFtZX0sIGxvY2FsZSlcclxuXHR0cmFjZU5hbWU6IChpbnN0YW5jZV9pZCwgdHJhY2VJZCktPlxyXG5cdFx0cmV0dXJuIF8uZmluZChkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCwge2ZpZWxkczoge3RyYWNlczogMX19KT8udHJhY2VzLCAodHJhY2UpLT5cclxuXHRcdFx0XHRcdHJldHVybiB0cmFjZS5faWQgPT0gIHRyYWNlSWRcclxuXHRcdCk/Lm5hbWVcclxuaWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0VHJhY2VzVGVtcGxhdGUuaGVscGVycy5kYXRlRm9ybWF0ID0gKGRhdGUpLT5cclxuXHRcdGlmIGRhdGVcclxuXHRcdFx0dXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldFxyXG5cdFx0XHRyZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUoZGF0ZSwgdXRjT2Zmc2V0KTtcclxuXHJcblx0VHJhY2VzVGVtcGxhdGUuaGVscGVycy5fdCA9IChrZXkpLT5cclxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcclxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcclxuXHJcblx0VHJhY2VzVGVtcGxhdGUuaGVscGVycy5zaG93RGVsZXRlQnV0dG9uID0gKGFwcHJvdmVkKSAtPlxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuVHJhY2VzVGVtcGxhdGUuZXZlbnRzID1cclxuXHQnY2xpY2sgLmNjLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXHJcblx0XHRpZiBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyAqIDEgIT0gMVxyXG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDFcclxuXHRcdFx0JChcImlcIixldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImZhLXNwaW5cIilcclxuXHRcdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcclxuXHRcdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxyXG5cdFx0XHQjIENBTEwg5Yig6ZmkYXBwcm92ZeWHveaVsOOAglxyXG5cdFx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcclxuXHRcdFx0TWV0ZW9yLmNhbGwgJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgKGVyciwgcmVzdWx0KSAtPlxyXG5cdFx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxyXG5cdFx0XHRcdGlmIGVyclxyXG5cdFx0XHRcdFx0dG9hc3RyLmVycm9yIGVyclxyXG5cdFx0XHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAwXHJcblx0XHRcdFx0XHQkKFwiaVwiLGV2ZW50LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKFwiZmEtc3BpblwiKVxyXG5cdFx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXHJcblx0XHRcdFx0XHR0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xyXG5cdFx0XHRcdFx0aWYgJChcIi5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWxcIikubGVuZ3RoXHJcblx0XHRcdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxyXG5cdFx0XHRcdHJldHVyblxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1jYy1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHRpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKVxyXG5cdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxyXG5cdFx0IyBDQUxMIOWIoOmZpGFwcHJvdmXlh73mlbDjgIJcclxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxyXG5cdFx0TWV0ZW9yLmNhbGwgJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgKGVyciwgcmVzdWx0KSAtPlxyXG5cdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIilcclxuXHRcdFx0aWYgZXJyXHJcblx0XHRcdFx0dG9hc3RyLmVycm9yIGVyclxyXG5cdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxyXG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJyZW1vdmVfY2NfYXBwcm92ZVwiKSk7XHJcblx0XHRcdFx0TW9kYWwuaGlkZSBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiXHJcblx0XHRcdHJldHVyblxyXG5cdFx0cmV0dXJuXHJcblxyXG5cdCdjbGljayAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHRcdE1vZGFsLnNob3cgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIiwgdGhpc1xyXG5cclxuXHQndGFwaG9sZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHRcdE1vZGFsLnNob3cgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIiwgdGhpc1xyXG5cclxuXHQndGFwZW5kIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0IyDkuIrov7Dplb/mjInmiZPlvIBhcHByb3Zl6K+m57uG56qX5Y+j55qE5LqL5Lu2dGFwaG9sZOS8muinpuWPkeaJk+W8gOeql+WPo+WQjueahHRvdWNoZW5k5LqL5Lu277yM6YCg5oiQ6ZW/5oyJ5omT5byA56qX5Y+j5ZCO5LiA5pS+5omL56qX5Y+j5bCx5Y+I5YWz5o6J5LqGXHJcblx0XHQjIOi/memHjOWPquiDvemAmui/h+mYu+atonRhcGVuZOS6i+S7tijkuI3lj6/ku6XnlKh0b3VjaGVuZOS6i+S7tu+8jOWboOS4uuS8muW9seWTjXRhcGhvbGTlip/og73vvIzpgKDmiJDmsqHmnInplb/mjInmlYjmnpzml7bkuZ/kvJrop6blj5F0YXBob2xk5LqL5Lu2KeWGkuazoeadpemBv+WFjemXrumimOOAglxyXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcclxuXHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcclxuXHRcdHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZVxyXG5cdFx0IyBDQUxMIOWIoOmZpGFwcHJvdmXlh73mlbDjgIJcclxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxyXG5cdFx0TWV0ZW9yLmNhbGwgJ2ZvcndhcmRfcmVtb3ZlJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCAoZXJyLCByZXN1bHQpIC0+XHJcblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxyXG5cdFx0XHRpZiBlcnJcclxuXHRcdFx0XHR0b2FzdHIuZXJyb3IgVEFQaTE4bi5fXyhlcnIucmVhc29uKVxyXG5cdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxyXG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJpbnN0YW5jZV9hcHByb3ZlX2ZvcndhcmRfcmVtb3ZlX3N1Y2Nlc3NcIikpO1xyXG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxyXG5cdFx0XHRyZXR1cm5cclxuXHRcdHJldHVyblxyXG5cclxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtaW5zdGFuY2UtbG9vayc6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHRmb3J3YXJkX3NwYWNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZHNwYWNlXHJcblx0XHRmb3J3YXJkX2luc3RhbmNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZGluc3RhbmNlXHJcblx0XHRTdGVlZG9zLm9wZW5XaW5kb3coU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZm9yd2FyZF9zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBmb3J3YXJkX2luc3RhbmNlKSlcclxuXHJcblx0J2NsaWNrIC5idG4tbW9kaWZpY2F0aW9uJ1x0OiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0dGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xyXG5cdFx0dW5sZXNzIFN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKVxyXG5cdFx0XHRUcmFja2VyLmFmdGVyRmx1c2ggLT5cclxuXHRcdFx0XHQjIOaYvuekuuaXpeW/l+eahOaXtuWAmeaKiua7muWKqOadoeW+gOS4i+enu+eCue+8jOiuqeaXpeacn+aOp+S7tuaYvuekuuWHuuS4gOmDqOWIhu+8jOS7pemBv+WFjeeUqOaIt+eci+S4jeWIsOaXpeacn+aOp+S7tlxyXG5cdFx0XHRcdCQoXCIjaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsICNmaW5pc2hfaW5wdXRcIikub24gXCJkcC5zaG93XCIsICgpIC0+XHJcblx0XHRcdFx0XHQkKFwiLm1vZGFsLWJvZHlcIikuc2Nyb2xsVG9wKDEwMClcclxuXHJcblx0J2NsaWNrIC5idG4tY2FuY2VsQnV0JyA6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblxyXG5cdFx0dGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xyXG5cclxuXHQnY2xpY2sgLmJ0bi1zYXZlQnV0JyA6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHQjIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKVxyXG5cclxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXHJcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXHJcblx0XHR0cmFjZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQudHJhY2VcclxuXHRcdG9waW5pb25faW5wdXQgPSAkKCcjb3Bpbmlvbl9pbnB1dCcpLnZhbCgpXHJcblx0XHRmaW5pc2hfaW5wdXQgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKFwiZmluaXNoX2RhdGVcIiwgXCJmaW5pc2hEYXRlQXV0b0Zvcm1cIilcclxuXHJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcclxuXHRcdE1ldGVvci5jYWxsICdjaGFuZ2VfYXBwcm92ZV9pbmZvJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBvcGluaW9uX2lucHV0LCBmaW5pc2hfaW5wdXQsIChlcnIsIHJlc3VsdCktPlxyXG5cdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIilcclxuXHRcdFx0aWYgZXJyXHJcblx0XHRcdFx0dG9hc3RyLmVycm9yIFRBUGkxOG4uX18oZXJyLnJlYXNvbilcclxuXHRcdFx0aWYgcmVzdWx0ID09IHRydWVcclxuXHRcdFx0XHR0b2FzdHIuc3VjY2Vzcyh0KFwiaW5zdGFuY2VfYXBwcm92ZV9tb2RhbF9tb2RpZmljYXRpb25zYXZlXCIpKVxyXG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1kaXN0cmlidXRlLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHRcdE1vZGFsLmFsbG93TXVsdGlwbGUgPSB0cnVlXHJcblx0XHRNb2RhbC5zaG93ICdjYW5jZWxfZGlzdHJpYnV0ZV9tb2RhbCdcclxuIiwiVHJhY2VzVGVtcGxhdGUuaGVscGVycyA9IHtcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIGVtcHR5OiBmdW5jdGlvbihhKSB7XG4gICAgaWYgKGEpIHtcbiAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA8IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24oYSkge1xuICAgIGlmIChhKSB7XG4gICAgICByZXR1cm4gYS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBhcHBlbmQ6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSArIGI7XG4gIH0sXG4gIGRhdGVGb3JtYXQ6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpICYmIChkYXRlICE9IG51bGwgPyBkYXRlLmdldEZ1bGxZZWFyKCkgOiB2b2lkIDApID09PSAobmV3IERhdGUpLmdldEZ1bGxZZWFyKCkpIHtcbiAgICAgIHJldHVybiAkLmZvcm1hdC5kYXRlKG5ldyBEYXRlKGRhdGUpLCBcIk1NLWRkIEhIOm1tXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJC5mb3JtYXQuZGF0ZShuZXcgRGF0ZShkYXRlKSwgXCJ5eXl5LU1NLWRkIEhIOm1tXCIpO1xuICAgIH1cbiAgfSxcbiAgZ2V0U3RlcE5hbWU6IGZ1bmN0aW9uKHN0ZXBJZCkge1xuICAgIHZhciBzdGVwO1xuICAgIHN0ZXAgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VTdGVwKHN0ZXBJZCk7XG4gICAgaWYgKHN0ZXApIHtcbiAgICAgIHJldHVybiBzdGVwLm5hbWU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBzaG93RGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnY2MnICYmIGFwcHJvdmVkLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpICYmIGFwcHJvdmVkLmlzX2ZpbmlzaGVkICE9PSB0cnVlICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICB2YXIgYXBwcm92ZV9hZG1pbnMsIGlzU2hvdywgcmVmLCByZWYxLCByZWYyO1xuICAgIGFwcHJvdmVfYWRtaW5zID0gKHJlZiA9IE1ldGVvci5zZXR0aW5ncykgIT0gbnVsbCA/IChyZWYxID0gcmVmW1wicHVibGljXCJdKSAhPSBudWxsID8gKHJlZjIgPSByZWYxLndvcmtmbG93KSAhPSBudWxsID8gcmVmMi5hcHByb3ZlX2FkbWlucyA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoYXBwcm92ZV9hZG1pbnMgIT0gbnVsbCA/IGFwcHJvdmVfYWRtaW5zLmxlbmd0aCA6IHZvaWQgMCkge1xuICAgICAgaXNTaG93ID0gYXBwcm92ZV9hZG1pbnMgIT0gbnVsbCA/IGFwcHJvdmVfYWRtaW5zLmNvbnRhaW5zKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGlmICghaXNTaG93KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlZC5oYW5kbGVyID09PSBNZXRlb3IudXNlcklkKCk7XG4gIH0sXG4gIGlzRWRpdGluZzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlZjtcbiAgICByZXR1cm4gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkuaXNfZWRpdGluZykgIT0gbnVsbCA/IHJlZi5nZXQoKSA6IHZvaWQgMDtcbiAgfSxcbiAgaXNTaG93RGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoVHJhY2VzVGVtcGxhdGUuaGVscGVycy5pc1Nob3dNb2RpZmljYXRpb25CdXR0b24oYXBwcm92ZWQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuICgocmVmID0gYXBwcm92ZWQuZGVzY3JpcHRpb24pICE9IG51bGwgPyByZWYudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoIDogdm9pZCAwKSA+IDA7XG4gIH0sXG4gIGlzQ0M6IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgaWYgKGFwcHJvdmVkICYmIGFwcHJvdmVkLnR5cGUgPT09ICdjYycpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGdldEFwcHJvdmVTdGF0dXNJY29uOiBmdW5jdGlvbihhcHByb3ZlSnVkZ2UpIHtcbiAgICB2YXIgYXBwcm92ZVN0YXR1c0ljb247XG4gICAgYXBwcm92ZVN0YXR1c0ljb24gPSB2b2lkIDA7XG4gICAgc3dpdGNoIChhcHByb3ZlSnVkZ2UpIHtcbiAgICAgIGNhc2UgJ2FwcHJvdmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jaGVja21hcmstcm91bmQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlamVjdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jbG9zZS1yb3VuZCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLWJhbic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhc3NpZ25lZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYW5kcm9pZC1jb250YWN0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWxvY2F0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFycm93LXNocmluayc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0cmlldmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtdW5kbyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlU3RhdHVzSWNvbjtcbiAgfSxcbiAgZ2V0QXBwcm92ZVN0YXR1c1RleHQ6IGZ1bmN0aW9uKGFwcHJvdmVKdWRnZSkge1xuICAgIHZhciBhcHByb3ZlU3RhdHVzVGV4dCwgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKGFwcHJvdmVKdWRnZSkge1xuICAgICAgY2FzZSAnYXBwcm92ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIGFwcHJvdmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVqZWN0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlamVjdGVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYXNzaWduZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYXNzaWduZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWxvY2F0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlbG9jYXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHJpZXZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0cmlldmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0dXJuZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHVybmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhZGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFkZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9ICcnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGFwcHJvdmVTdGF0dXNUZXh0O1xuICB9LFxuICBfdDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcbiAgfSxcbiAgbXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVJZCkge1xuICAgIHZhciBteUFwcHJvdmUsIHJlZiwgcmVmMTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5teUFwcHJvdmUpICE9IG51bGwgPyByZWYxLmdldCgpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAobXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKCFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiAobXlBcHByb3ZlICE9IG51bGwgPyBteUFwcHJvdmUuZGVzY3JpcHRpb24gOiB2b2lkIDApIHx8IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGlzRm9yd2FyZDogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICBpZiAoYXBwcm92ZWQgJiYgYXBwcm92ZWQudHlwZSA9PT0gJ2ZvcndhcmQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzaG93Rm9yd2FyZERlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUgJiYgYXBwcm92ZS50eXBlID09PSAnZm9yd2FyZCcgJiYgYXBwcm92ZS5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbWFya0Rvd25Ub0h0bWw6IGZ1bmN0aW9uKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgdmFyIHJlbmRlcmVyO1xuICAgIGlmIChtYXJrRG93blN0cmluZykge1xuICAgICAgcmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcbiAgICAgIHJlbmRlcmVyLmxpbmsgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgICByZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIgKyBocmVmICsgXCInIHRpdGxlPSdcIiArIHRpdGxlICsgXCInPlwiICsgdGV4dCArIFwiPC9hPlwiO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge1xuICAgICAgICByZW5kZXJlcjogcmVuZGVyZXJcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sXG4gIGlzRGlzdHJpYnV0ZTogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChhcHByb3ZlICYmIGFwcHJvdmUudHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzaG93RGlzdHJpYnV0ZURlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZSAmJiBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJyAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJyAmJiBTdGVlZG9zLmlzTGVnYWxWZXJzaW9uKCcnLCBcIndvcmtmbG93LmVudGVycHJpc2VcIikpIHtcbiAgICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBhcHByb3ZlLmluc3RhbmNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZsb3c6IDEsXG4gICAgICAgICAgc3BhY2U6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoaW5zICYmIGlucy5mbG93ICYmIGlucy5zcGFjZSkge1xuICAgICAgICBpZiAoV29ya2Zsb3dNYW5hZ2VyLmhhc0Zsb3dBZG1pblBlcm1pc3Npb24oaW5zLmZsb3csIGlucy5zcGFjZSwgTWV0ZW9yLnVzZXJJZCgpKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXBwcm92ZS5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBmaW5pc2hEYXRlU2NoZW1hOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG4gICAgICAgIGZpbmlzaF9kYXRlOiB7XG4gICAgICAgICAgYXV0b2Zvcm06IHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGF0ZXRpbWUtbG9jYWxcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICAgIHR5cGU6IERhdGVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcbiAgICAgICAgZmluaXNoX2RhdGU6IHtcbiAgICAgICAgICBhdXRvZm9ybToge1xuICAgICAgICAgICAgdHlwZTogXCJib290c3RyYXAtZGF0ZXRpbWVwaWNrZXJcIixcbiAgICAgICAgICAgIHJlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgZGF0ZVRpbWVQaWNrZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgIGZvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCIsXG4gICAgICAgICAgICAgIGlnbm9yZVJlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgICBsb2NhbGU6IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIiksXG4gICAgICAgICAgICAgIHdpZGdldFBvc2l0aW9uaW5nOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ3JpZ2h0J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgICAgdHlwZTogRGF0ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGZpbmlzaERhdGVWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBmaW5pc2hfZGF0ZTogdGhpcy5maW5pc2hfZGF0ZVxuICAgIH07XG4gIH0sXG5cbiAgLypcbiAgICAgXHTmraTlh73mlbDnlKjkuo7mjqfliLbmmK/lkKbmmL7npLp0cmFjZXMgdmlld1xuICAgICBcdHRydWU6IOaYvuekunRyYWNlcyB2aWV3LOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjuaYr+ebtOaOpeWumuS9jeWIsHRyYWNlcyB2aWV3XG4gICAgIFx0ZmFsc2U6IOS4jeaYvuekunRyYWNlcyB2aWV377yM562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCOLOS7pU1vZGFsIOaWueW8j+aYvuekunRyYWNlcyB2aWV3XG4gICAqL1xuICBzaG93VHJhY2VzVmlldzogZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gICAgdmFyIHJlZiwgc2hvd19tb2RhbF90cmFjZXNfbGlzdDtcbiAgICBzaG93X21vZGFsX3RyYWNlc19saXN0ID0gKChyZWYgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBTZXNzaW9uLmdldChcInNwYWNlSWRcIiksXG4gICAgICBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwiXG4gICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICByZXR1cm4gIXNob3dfbW9kYWxfdHJhY2VzX2xpc3Q7XG4gIH0sXG4gIGdldEluc3RhbmNlU3RhdGVUZXh0OiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBpbnMsIGxvY2FsZSwgdGV4dDtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfcmVhZDogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfZGVsZXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgICB0ZXh0ID0gJyc7XG4gICAgaWYgKGlucy5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdjb21wbGV0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICB0ZXh0ID0gVEFQaTE4bi5fXygncGVuZGluZycsIHt9LCBsb2NhbGUpO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAnZHJhZnQnKSB7XG4gICAgICBpZiAoaW5zLmlzX3JlYWQpIHtcbiAgICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfcmVhZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfbm90X3lldF9oYW5kbGVkJywge30sIGxvY2FsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9LFxuICBnZXRJbnN0YW5jZVN0YXRlQ29sb3I6IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgdmFyIGNsYSwgaW5zO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX3JlYWQ6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNsYSA9ICcnO1xuICAgIGlmIChpbnMuc3RhdGUgPT09ICdkcmFmdCcpIHtcbiAgICAgIGlmIChpbnMuaXNfcmVhZCkge1xuICAgICAgICBjbGEgPSAnYmx1ZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGEgPSAncmVkJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsYTtcbiAgfSxcbiAgZmlyc3RUcmFjZTogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggPT09IDA7XG4gIH0sXG4gIGxhc3RfZGlzdHJpYnV0ZV9mcm9tOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBkaXNfaW5mbywgaW5zLCB1c2VyO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICBkaXN0cmlidXRlX2Zyb21faW5zdGFuY2U6IHtcbiAgICAgICAgJGV4aXN0czogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjcmVhdGVkOiAxLFxuICAgICAgICBjcmVhdGVkX2J5OiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucykge1xuICAgICAgZGlzX2luZm8gPSB7fTtcbiAgICAgIHVzZXIgPSB7fTtcbiAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgICAgdXNlciA9IFVVZmxvd19hcGkuZ2V0TmFtZUZvclVzZXIoaW5zLmNyZWF0ZWRfYnkpO1xuICAgICAgfSBlbHNlIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgICAgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIF9pZDogaW5zLmNyZWF0ZWRfYnlcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodXNlci5uYW1lKSB7XG4gICAgICAgIGRpc19pbmZvLmZyb21fdXNlcl9uYW1lID0gdXNlci5uYW1lO1xuICAgICAgICBkaXNfaW5mby5jcmVhdGVkID0gaW5zLmNyZWF0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoIV8uaXNFbXB0eShkaXNfaW5mbykpIHtcbiAgICAgICAgcmV0dXJuIGRpc19pbmZvO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQ6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICBpZiAoKGFwcHJvdmUudHlwZSA9PT0gJ2NjJyB8fCBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJyB8fCBhcHByb3ZlLnR5cGUgPT09ICdmb3J3YXJkJykgJiYgYXBwcm92ZS5qdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBqdWRnZVRlcm1pbmF0ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIGp1ZGdlID09PSAndGVybWluYXRlZCc7XG4gIH0sXG4gIGluc3RhbmNlRXhpc3RzOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHJldHVybiAhIWRiLmluc3RhbmNlcy5maW5kKGluc3RhbmNlX2lkKS5jb3VudCgpO1xuICB9LFxuICBhZ2VudERlc2NyaXB0aW9uOiBmdW5jdGlvbih1c2VyTmFtZSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICAgIGlmIChsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIik7XG4gICAgfVxuICAgIHJldHVybiBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICB1c2VyTmFtZTogdXNlck5hbWVcbiAgICB9LCBsb2NhbGUpO1xuICB9LFxuICB0cmFjZU5hbWU6IGZ1bmN0aW9uKGluc3RhbmNlX2lkLCB0cmFjZUlkKSB7XG4gICAgdmFyIHJlZiwgcmVmMTtcbiAgICByZXR1cm4gKHJlZiA9IF8uZmluZCgocmVmMSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyByZWYxLnRyYWNlcyA6IHZvaWQgMCwgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIHJldHVybiB0cmFjZS5faWQgPT09IHRyYWNlSWQ7XG4gICAgfSkpICE9IG51bGwgPyByZWYubmFtZSA6IHZvaWQgMDtcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLmRhdGVGb3JtYXQgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIHV0Y09mZnNldDtcbiAgICBpZiAoZGF0ZSkge1xuICAgICAgdXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldDtcbiAgICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZShkYXRlLCB1dGNPZmZzZXQpO1xuICAgIH1cbiAgfTtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5fdCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICB9O1xuICBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLnNob3dEZWxldGVCdXR0b24gPSBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cblxuVHJhY2VzVGVtcGxhdGUuZXZlbnRzID0ge1xuICAnY2xpY2sgLmNjLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZDtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgKiAxICE9PSAxKSB7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDE7XG4gICAgICAkKFwiaVwiLCBldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImZhLXNwaW5cIik7XG4gICAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBNZXRlb3IuY2FsbCgnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICB0b2FzdHIuZXJyb3IoZXJyKTtcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDA7XG4gICAgICAgICAgJChcImlcIiwgZXZlbnQuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJmYS1zcGluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xuICAgICAgICAgIGlmICgkKFwiLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbFwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tY2MtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBpbnN0YW5jZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgIE1ldGVvci5jYWxsKCdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihlcnIpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICB0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xuICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAnY2xpY2sgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHJldHVybiBNb2RhbC5zaG93KFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXMpO1xuICB9LFxuICAndGFwaG9sZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIE1vZGFsLnNob3coXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIiwgdGhpcyk7XG4gIH0sXG4gICd0YXBlbmQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBpbnN0YW5jZUlkLCB0cmFjZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgdHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlO1xuICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICBNZXRlb3IuY2FsbCgnZm9yd2FyZF9yZW1vdmUnLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihUQVBpMThuLl9fKGVyci5yZWFzb24pKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcImluc3RhbmNlX2FwcHJvdmVfZm9yd2FyZF9yZW1vdmVfc3VjY2Vzc1wiKSk7XG4gICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1pbnN0YW5jZS1sb29rJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGZvcndhcmRfaW5zdGFuY2UsIGZvcndhcmRfc3BhY2U7XG4gICAgZm9yd2FyZF9zcGFjZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRzcGFjZTtcbiAgICBmb3J3YXJkX2luc3RhbmNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZGluc3RhbmNlO1xuICAgIHJldHVybiBTdGVlZG9zLm9wZW5XaW5kb3coU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZm9yd2FyZF9zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBmb3J3YXJkX2luc3RhbmNlKSk7XG4gIH0sXG4gICdjbGljayAuYnRuLW1vZGlmaWNhdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcbiAgICBpZiAoIVN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKSkge1xuICAgICAgcmV0dXJuIFRyYWNrZXIuYWZ0ZXJGbHVzaChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQoXCIjaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsICNmaW5pc2hfaW5wdXRcIikub24oXCJkcC5zaG93XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKFwiLm1vZGFsLWJvZHlcIikuc2Nyb2xsVG9wKDEwMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmJ0bi1jYW5jZWxCdXQnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuICB9LFxuICAnY2xpY2sgLmJ0bi1zYXZlQnV0JzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgZmluaXNoX2lucHV0LCBpbnN0YW5jZUlkLCBvcGluaW9uX2lucHV0LCB0cmFjZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgdHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlO1xuICAgIG9waW5pb25faW5wdXQgPSAkKCcjb3Bpbmlvbl9pbnB1dCcpLnZhbCgpO1xuICAgIGZpbmlzaF9pbnB1dCA9IEF1dG9Gb3JtLmdldEZpZWxkVmFsdWUoXCJmaW5pc2hfZGF0ZVwiLCBcImZpbmlzaERhdGVBdXRvRm9ybVwiKTtcbiAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgcmV0dXJuIE1ldGVvci5jYWxsKCdjaGFuZ2VfYXBwcm92ZV9pbmZvJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBvcGluaW9uX2lucHV0LCBmaW5pc2hfaW5wdXQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihUQVBpMThuLl9fKGVyci5yZWFzb24pKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3ModChcImluc3RhbmNlX2FwcHJvdmVfbW9kYWxfbW9kaWZpY2F0aW9uc2F2ZVwiKSk7XG4gICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZGlzdHJpYnV0ZS1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIE1vZGFsLmFsbG93TXVsdGlwbGUgPSB0cnVlO1xuICAgIHJldHVybiBNb2RhbC5zaG93KCdjYW5jZWxfZGlzdHJpYnV0ZV9tb2RhbCcpO1xuICB9XG59O1xuIiwiUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzID1cclxuXHRzaG93UmVsYXRlZEluc3RhY2VzOiAtPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXHJcblx0XHRpZiBpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzICYmIF8uaXNBcnJheShpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzKVxyXG5cdFx0XHRpZiBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXN9fSwge2ZpZWxkczoge3NwYWNlOiAxLCBuYW1lOiAxfX0pLmNvdW50KCkgPiAwXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRyZWxhdGVkX2luc3RhY2VzOiAtPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXHJcblx0XHRpZiBpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzICYmIF8uaXNBcnJheShpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzKVxyXG5cdFx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzfX0sIHtmaWVsZHM6IHtzcGFjZTogMSwgbmFtZTogMX19KS5mZXRjaCgpXHJcblxyXG5cdHJlbGF0ZWRfaW5zdGFjZV91cmw6IChpbnMpIC0+XHJcblxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSlcclxuXHRcdFx0cmV0dXJuICcnXHJcblxyXG5cdFx0YWJzb2x1dGUgPSBmYWxzZVxyXG5cclxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0XHRhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGVcclxuXHRcdGlmIGFic29sdXRlXHJcblx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitpbnMuc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2lucy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXHJcblxyXG5cdF90OiAoa2V5KS0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXHJcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcclxuXHJcblx0c2hvd19kZWxldGU6ICgpLT5cclxuXHRcdGlmICFNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRlbHNlXHJcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09IFwiZHJhZnRcIiB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXHJcblx0XHRcdFx0Y3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKClcclxuXHRcdFx0XHRpZiBjdXJyZW50X3N0ZXBcclxuXHRcdFx0XHRcdGlmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdHJ1ZSB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB1bmRlZmluZWQpXHJcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlIiwiUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzID0ge1xuICBzaG93UmVsYXRlZEluc3RhY2VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnMgPSB0aGlzLmluc3RhbmNlO1xuICAgIH1cbiAgICBpZiAoKGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSAmJiBfLmlzQXJyYXkoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApKSB7XG4gICAgICBpZiAoZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIHJlbGF0ZWRfaW5zdGFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IHRoaXMuaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICgoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApICYmIF8uaXNBcnJheShpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkpIHtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgIH1cbiAgfSxcbiAgcmVsYXRlZF9pbnN0YWNlX3VybDogZnVuY3Rpb24oaW5zKSB7XG4gICAgdmFyIGFic29sdXRlO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBhYnNvbHV0ZSA9IGZhbHNlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZTtcbiAgICB9XG4gICAgaWYgKGFic29sdXRlKSB7XG4gICAgICByZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBpbnMuc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgaW5zLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICB9XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgfSxcbiAgc2hvd19kZWxldGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdXJyZW50X3N0ZXA7XG4gICAgaWYgKCFNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgICAgIGlmIChjdXJyZW50X3N0ZXApIHtcbiAgICAgICAgICBpZiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09PSB0cnVlIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiIsIlJlbGF0ZWRSZWNvcmRzLmhlbHBlcnMgPVxyXG5cdHNob3dSZWxhdGVkUmVjb3JkczogKCktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXHJcblx0XHRpZiAhaW5zXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0cmV0dXJuICFfLmlzRW1wdHkoaW5zLnJlY29yZF9pZHMpIiwiUmVsYXRlZFJlY29yZHMuaGVscGVycyA9IHtcbiAgc2hvd1JlbGF0ZWRSZWNvcmRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnMgPSB0aGlzLmluc3RhbmNlO1xuICAgIH1cbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gIV8uaXNFbXB0eShpbnMucmVjb3JkX2lkcyk7XG4gIH1cbn07XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdHNldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmU6IChpbnNfaWQsIHN0ZXBfYXBwcm92ZSwgc3RlcHNBcHByb3Zlc09wdGlvbnMpLT5cclxuXHRcdGlmICF0aGlzLnVzZXJJZFxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWR9LCB7ZmllbGRzOiB7c3RhdGU6IDF9fSlcclxuXHJcblx0XHRpZiBpbnMuc3RhdGUgIT0gJ2RyYWZ0J1xyXG5cdFx0XHRyZXR1cm4gO1xyXG5cclxuXHRcdF9rZXlzMSA9IF8ua2V5cyhzdGVwX2FwcHJvdmUpO1xyXG5cdFx0X2tleXMyID0gXy5rZXlzKHN0ZXBzQXBwcm92ZXNPcHRpb25zKTtcclxuXHJcblx0XHRrZXlzID0gXy5jb21wYWN0KF8udW5pb24oX2tleXMxLCBfa2V5czIpKTtcclxuXHJcblx0XHRzdGVwc0FwcHJvdmVzID0ge307XHJcblxyXG5cdFx0Xy5lYWNoIGtleXMsIChzdGVwSWQpLT5cclxuXHRcdFx0c3RlcEFwcHJvdmVzID0gc3RlcF9hcHByb3ZlW3N0ZXBJZF1cclxuXHRcdFx0c3RlcHNBcHByb3ZlT3B0aW9ucyA9IHN0ZXBzQXBwcm92ZXNPcHRpb25zW3N0ZXBJZF1cclxuXHRcdFx0aWYgc3RlcEFwcHJvdmVzXHJcblx0XHRcdFx0c3RlcHNBcHByb3Zlc1tzdGVwSWRdID0gc3RlcEFwcHJvdmVzXHJcblx0XHRcdFx0aWYgc3RlcHNBcHByb3ZlT3B0aW9uc1xyXG5cdFx0XHRcdFx0aWYgXy5pc0FycmF5KHN0ZXBBcHByb3ZlcylcclxuXHRcdFx0XHRcdFx0c3RlcHNBcHByb3ZlT3B0aW9ucyA9IHN0ZXBBcHByb3Zlcy5jb25jYXQoc3RlcHNBcHByb3ZlT3B0aW9ucylcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0c3RlcHNBcHByb3ZlT3B0aW9ucy5wdXNoKHN0ZXBBcHByb3ZlcylcclxuXHRcdFx0aWYgc3RlcHNBcHByb3ZlT3B0aW9uc1xyXG5cdFx0XHRcdHN0ZXBzQXBwcm92ZXNbc3RlcElkICsgJ19vcHRpb25zJ10gPSBfLnVuaXEoc3RlcHNBcHByb3ZlT3B0aW9ucylcclxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUge19pZDogaW5zX2lkfSwgeyRzZXQ6IHtzdGVwX2FwcHJvdmU6IHN0ZXBzQXBwcm92ZXN9fVxyXG5cdHNldF9pbnN0YW5jZV9za2lwX3N0ZXBzOiAoaW5zX2lkLCBzdGVwSWQsIGFjdGlvbiktPlxyXG5cdFx0aWYgYWN0aW9uID09ICdwdWxsJ1xyXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlIHtfaWQ6IGluc19pZH0sIHskcHVsbDoge3NraXBfc3RlcHM6IHN0ZXBJZH19XHJcblx0XHRlbHNlIGlmIGFjdGlvbiA9PSAncHVzaCdcclxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSB7X2lkOiBpbnNfaWR9LCB7JHB1c2g6IHtza2lwX3N0ZXBzOiBzdGVwSWR9fSIsIk1ldGVvci5tZXRob2RzKHtcbiAgc2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZTogZnVuY3Rpb24oaW5zX2lkLCBzdGVwX2FwcHJvdmUsIHN0ZXBzQXBwcm92ZXNPcHRpb25zKSB7XG4gICAgdmFyIF9rZXlzMSwgX2tleXMyLCBpbnMsIGtleXMsIHN0ZXBzQXBwcm92ZXM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMuc3RhdGUgIT09ICdkcmFmdCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX2tleXMxID0gXy5rZXlzKHN0ZXBfYXBwcm92ZSk7XG4gICAgX2tleXMyID0gXy5rZXlzKHN0ZXBzQXBwcm92ZXNPcHRpb25zKTtcbiAgICBrZXlzID0gXy5jb21wYWN0KF8udW5pb24oX2tleXMxLCBfa2V5czIpKTtcbiAgICBzdGVwc0FwcHJvdmVzID0ge307XG4gICAgXy5lYWNoKGtleXMsIGZ1bmN0aW9uKHN0ZXBJZCkge1xuICAgICAgdmFyIHN0ZXBBcHByb3Zlcywgc3RlcHNBcHByb3ZlT3B0aW9ucztcbiAgICAgIHN0ZXBBcHByb3ZlcyA9IHN0ZXBfYXBwcm92ZVtzdGVwSWRdO1xuICAgICAgc3RlcHNBcHByb3ZlT3B0aW9ucyA9IHN0ZXBzQXBwcm92ZXNPcHRpb25zW3N0ZXBJZF07XG4gICAgICBpZiAoc3RlcEFwcHJvdmVzKSB7XG4gICAgICAgIHN0ZXBzQXBwcm92ZXNbc3RlcElkXSA9IHN0ZXBBcHByb3ZlcztcbiAgICAgICAgaWYgKHN0ZXBzQXBwcm92ZU9wdGlvbnMpIHtcbiAgICAgICAgICBpZiAoXy5pc0FycmF5KHN0ZXBBcHByb3ZlcykpIHtcbiAgICAgICAgICAgIHN0ZXBzQXBwcm92ZU9wdGlvbnMgPSBzdGVwQXBwcm92ZXMuY29uY2F0KHN0ZXBzQXBwcm92ZU9wdGlvbnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGVwc0FwcHJvdmVPcHRpb25zLnB1c2goc3RlcEFwcHJvdmVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdGVwc0FwcHJvdmVPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBzdGVwc0FwcHJvdmVzW3N0ZXBJZCArICdfb3B0aW9ucyddID0gXy51bmlxKHN0ZXBzQXBwcm92ZU9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgIF9pZDogaW5zX2lkXG4gICAgfSwge1xuICAgICAgJHNldDoge1xuICAgICAgICBzdGVwX2FwcHJvdmU6IHN0ZXBzQXBwcm92ZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgc2V0X2luc3RhbmNlX3NraXBfc3RlcHM6IGZ1bmN0aW9uKGluc19pZCwgc3RlcElkLCBhY3Rpb24pIHtcbiAgICBpZiAoYWN0aW9uID09PSAncHVsbCcpIHtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnNfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHB1bGw6IHtcbiAgICAgICAgICBza2lwX3N0ZXBzOiBzdGVwSWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdwdXNoJykge1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc19pZFxuICAgICAgfSwge1xuICAgICAgICAkcHVzaDoge1xuICAgICAgICAgIHNraXBfc3RlcHM6IHN0ZXBJZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHMoe1xyXG5cclxuXHRnZXRfaW5zdGFuY2VfZGF0YTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBmb3JtQ2FjaGVkLCBmbG93Q2FjaGVkKSB7XHJcblxyXG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XHJcblx0XHRjaGVjayhmb3JtQ2FjaGVkLCBCb29sZWFuKTtcclxuXHRcdGNoZWNrKGZsb3dDYWNoZWQsIEJvb2xlYW4pO1xyXG5cclxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKTtcclxuXHJcblx0XHRpZiAoIWluc3RhbmNlKVxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGluc3RhbmNlOiBudWxsXHJcblx0XHRcdH07XHJcblxyXG5cdFx0aWYgKGZvcm1DYWNoZWQgJiYgZmxvd0NhY2hlZClcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRpbnN0YW5jZTogaW5zdGFuY2VcclxuXHRcdFx0fTtcclxuXHJcblx0XHRpZiAoIWZvcm1DYWNoZWQpIHtcclxuXHRcdFx0dmFyIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xyXG5cdFx0XHR2YXIgZm9ybV92ZXJzaW9uID0ge307XHJcblx0XHRcdGlmIChmb3JtLmN1cnJlbnQuX2lkID09IGluc3RhbmNlLmZvcm1fdmVyc2lvbikge1xyXG5cdFx0XHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRmb3JtX3ZlcnNpb24gPSBfLndoZXJlKGZvcm0uaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZvcm1fdmVyc2lvbn0pWzBdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGlmICghZmxvd0NhY2hlZCkge1xyXG5cdFx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XHJcblx0XHRcdHZhciBmbG93X3ZlcnNpb24gPSB7fTtcclxuXHRcdFx0aWYgKGZsb3cuY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uKSB7XHJcblx0XHRcdFx0Zmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGZsb3dfdmVyc2lvbiA9IF8ud2hlcmUoZmxvdy5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZmxvd192ZXJzaW9ufSlbMF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRpbnN0YW5jZTogaW5zdGFuY2UsXHJcblx0XHRcdGZvcm1fdmVyc2lvbjogZm9ybV92ZXJzaW9uLFxyXG5cdFx0XHRmbG93X3ZlcnNpb246IGZsb3dfdmVyc2lvblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG59KTtcclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xyXG5cclxuXHRkcmFmdF9zYXZlX2luc3RhbmNlOiBmdW5jdGlvbiAoaW5zKSB7XHJcblx0XHRpZiAoIXRoaXMudXNlcklkKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuXHRcdHZhciBzZXRPYmogPSB7fTtcclxuXHRcdHZhciBpbmRleCA9IDA7XHJcblx0XHR2YXIgaW5zX2lkID0gaW5zLl9pZDtcclxuXHRcdHZhciB0cmFjZV9pZCA9IGlucy50cmFjZXNbMF0uX2lkO1xyXG5cdFx0dmFyIGFwcHJvdmVfaWQgPSBpbnMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLl9pZDtcclxuXHRcdHZhciBkZXNjcmlwdGlvbiA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uZGVzY3JpcHRpb247XHJcblx0XHR2YXIgbmV4dF9zdGVwcyA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0ubmV4dF9zdGVwcztcclxuXHRcdHZhciB2YWx1ZXMgPSBpbnMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLnZhbHVlcyB8fCB7fTtcclxuXHRcdHZhciBhcHBsaWNhbnRfaWQgPSBpbnMuYXBwbGljYW50O1xyXG5cclxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRhcHBsaWNhbnQ6IDEsXHJcblx0XHRcdFx0c3RhdGU6IDEsXHJcblx0XHRcdFx0c3VibWl0dGVyOiAxLFxyXG5cdFx0XHRcdHRyYWNlczogMSxcclxuXHRcdFx0XHRmb3JtOiAxLFxyXG5cdFx0XHRcdGZsb3dfdmVyc2lvbjogMSxcclxuXHRcdFx0XHRzcGFjZTogMSxcclxuXHRcdFx0XHRmbG93OiAxXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHZhciBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xyXG5cdFx0dmFyIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xyXG5cdFx0dmFyIGZvcm1faWQgPSBpbnN0YW5jZS5mb3JtO1xyXG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcclxuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0cmV0dXJuIHQuX2lkID09IHRyYWNlX2lkO1xyXG5cdFx0fSk7XHJcblx0XHRjdXJyZW50X3RyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRpZiAoYS5faWQgPT0gYXBwcm92ZV9pZCkge1xyXG5cdFx0XHRcdGluZGV4ID0gaWR4O1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdFx0dmFyIGtleV9zdHIgPSAndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy4nO1xyXG5cclxuXHRcdC8vIOWIpOaWreS4gOS4qmluc3RhbmNl5piv5ZCm5Li65ouf56i/54q25oCBXHJcblx0XHR2YXIgY3VycmVudF91c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XHJcblx0XHRcdF9pZDogdGhpcy51c2VySWRcclxuXHRcdH0sIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0bG9jYWxlOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0dmFyIGxhbmcgPSBjdXJyZW50X3VzZXIubG9jYWxlID09ICd6aC1jbicgPyAnemgtQ04nIDogJ2VuJztcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZURyYWZ0KGluc3RhbmNlLCBsYW5nKTtcclxuXHRcdC8vIOWIpOaWreS4gOS4queUqOaIt+aYr+WQpuaYr+S4gOS4qmluc3RhbmNl55qE5o+Q5Lqk6ICFXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VTdWJtaXR0ZXIoaW5zdGFuY2UsIHRoaXMudXNlcklkKTtcclxuXHJcblx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcImN1cnJlbnQuX2lkXCI6IDEsXHJcblx0XHRcdFx0XCJjdXJyZW50LmZvcm1fdmVyc2lvblwiOiAxLFxyXG5cdFx0XHRcdFwibmFtZVwiOiAxLFxyXG5cdFx0XHRcdFwiY3VycmVudC5zdGVwc1wiOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcclxuXHJcblx0XHRpZiAoZmxvdy5jdXJyZW50Ll9pZCAhPSBpbnN0YW5jZS5mbG93X3ZlcnNpb24pIHtcclxuXHRcdFx0cmVzdWx0ID0gXCJ1cGdyYWRlZFwiO1xyXG5cdFx0XHR2YXIgc3RhcnRfc3RlcCA9IF8uZmluZChmbG93LmN1cnJlbnQuc3RlcHMsIGZ1bmN0aW9uIChzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHMuc3RlcF90eXBlID09IFwic3RhcnRcIjtcclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vIOa1geeoi+W3suWNh+e6p1xyXG5cdFx0XHRzZXRPYmouZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50Ll9pZDtcclxuXHRcdFx0c2V0T2JqLmZvcm1fdmVyc2lvbiA9IGZsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XHJcblx0XHRcdC8vIOWtmOWFpeW9k+WJjeacgOaWsOeJiGZsb3fkuK3lvIDlp4voioLngrnnmoRzdGVwX2lkXHJcblx0XHRcdHNldE9ialtcInRyYWNlcy4kLnN0ZXBcIl0gPSBzdGFydF9zdGVwLl9pZDtcclxuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQubmFtZVwiXSA9IHN0YXJ0X3N0ZXAubmFtZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5zdGFuY2UuYXBwbGljYW50ICE9IGFwcGxpY2FudF9pZCkge1xyXG5cdFx0XHQvLyDnlLPor7fkurrlt7Llj5jmjaJcclxuXHRcdFx0dmFyIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKGFwcGxpY2FudF9pZCwge1xyXG5cdFx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFx0bmFtZTogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciBhcHBsaWNhbnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcclxuXHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXHJcblx0XHRcdFx0dXNlcjogYXBwbGljYW50X2lkXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciBvcmdfaWQgPSBhcHBsaWNhbnQuZmV0Y2goKVswXS5vcmdhbml6YXRpb247XHJcblx0XHRcdHZhciBvcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUob3JnX2lkLCB7XHJcblx0XHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XHRuYW1lOiAxLFxyXG5cdFx0XHRcdFx0ZnVsbG5hbWU6IDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0c2V0T2JqLmFwcGxpY2FudCA9IGFwcGxpY2FudF9pZDtcclxuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9uYW1lID0gdXNlci5uYW1lO1xyXG5cdFx0XHRzZXRPYmouYXBwbGljYW50X29yZ2FuaXphdGlvbiA9IG9yZ19pZDtcclxuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZSA9IG9yZ2FuaXphdGlvbi5uYW1lO1xyXG5cdFx0XHRzZXRPYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG9yZ2FuaXphdGlvbi5mdWxsbmFtZTtcclxuXHJcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ3VzZXInXSA9IGFwcGxpY2FudF9pZDtcclxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndXNlcl9uYW1lJ10gPSB1c2VyLm5hbWU7XHJcblx0XHR9XHJcblxyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzJ10gPSB2YWx1ZXM7XHJcblx0XHRzZXRPYmpba2V5X3N0ciArICdkZXNjcmlwdGlvbiddID0gZGVzY3JpcHRpb247XHJcblx0XHRzZXRPYmpba2V5X3N0ciArICdqdWRnZSddID0gJ3N1Ym1pdHRlZCc7XHJcblx0XHRzZXRPYmpba2V5X3N0ciArICdyZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XHJcblx0XHRpZiAocmVzdWx0ICE9IFwidXBncmFkZWRcIiAmJiBuZXh0X3N0ZXBzKSB7XHJcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ25leHRfc3RlcHMnXSA9IG5leHRfc3RlcHM7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8g6K6h566X55Sz6K+35Y2V5qCH6aKYXHJcblx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xyXG5cdFx0XHRfaWQ6IGZvcm1faWRcclxuXHRcdH0sIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XCJjdXJyZW50Lm5hbWVfZm9ydW1sYVwiOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0dmFyIG5hbWVfZm9ydW1sYSA9IGZvcm0uY3VycmVudC5uYW1lX2ZvcnVtbGE7XHJcblx0XHRpZiAobmFtZV9mb3J1bWxhKSB7XHJcblx0XHRcdC8vIHZhciBpc2NyaXB0ID0gbmFtZV9mb3J1bWxhLnJlcGxhY2UoL1xcey9nLCBcIih2YWx1ZXNbJ1wiKS5yZXBsYWNlKC9cXH0vZywgXCInXSB8fCAnJylcIik7XHJcblx0XHRcdC8vIHZhciByZXYgPSBldmFsKGlzY3JpcHQpO1xyXG5cdFx0XHRzZXRPYmoubmFtZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VOYW1lKGlucywgdmFsdWVzKTtcclxuXHRcdH1cclxuXHJcblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0X2lkOiBpbnNfaWQsXHJcblx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZV9pZFxyXG5cdFx0fSwge1xyXG5cdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9LFxyXG5cclxuXHRpbmJveF9zYXZlX2luc3RhbmNlOiBmdW5jdGlvbiAoYXBwcm92ZSkge1xyXG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdHZhciBzZXRPYmogPSB7fTtcclxuXHRcdHZhciBpbmRleCA9IDA7XHJcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcclxuXHRcdHZhciB0cmFjZV9pZCA9IGFwcHJvdmUudHJhY2U7XHJcblx0XHR2YXIgYXBwcm92ZV9pZCA9IGFwcHJvdmUuaWQ7XHJcblx0XHR2YXIgdmFsdWVzID0gYXBwcm92ZS52YWx1ZXM7XHJcblx0XHR2YXIgbmV4dF9zdGVwcyA9IGFwcHJvdmUubmV4dF9zdGVwcztcclxuXHRcdHZhciBkZXNjcmlwdGlvbiA9IGFwcHJvdmUuZGVzY3JpcHRpb247XHJcblx0XHR2YXIganVkZ2UgPSBhcHByb3ZlLmp1ZGdlO1xyXG5cclxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHR0cmFjZXM6IDEsXHJcblx0XHRcdFx0Zmxvd192ZXJzaW9uOiAxLFxyXG5cdFx0XHRcdGZsb3c6IDEsXHJcblx0XHRcdFx0c3RhdGU6IDEsXHJcblx0XHRcdFx0Zm9ybTogMSxcclxuXHRcdFx0XHRmb3JtX3ZlcnNpb246IDEsXHJcblx0XHRcdFx0dmFsdWVzOiAxLFxyXG5cdFx0XHRcdGNvZGU6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcclxuXHJcblx0XHR2YXIgY3VycmVudF90cmFjZSA9IF8uZmluZCh0cmFjZXMsIGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcclxuXHRcdH0pO1xyXG5cdFx0dmFyIGN1cnJlbnRfYXBwcm92ZSA9IF8uZmluZChjdXJyZW50X3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYSkge1xyXG5cdFx0XHRyZXR1cm4gYS5faWQgPT0gYXBwcm92ZV9pZDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIOWIpOaWreS4gOS4qmluc3RhbmNl5piv5ZCm5Li65a6h5qC45Lit54q25oCBXHJcblx0XHR2YXIgY3VycmVudF91c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XHJcblx0XHRcdF9pZDogdGhpcy51c2VySWRcclxuXHRcdH0sIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0bG9jYWxlOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0dmFyIGxhbmcgPSBjdXJyZW50X3VzZXIubG9jYWxlID09ICd6aC1jbicgPyAnemgtQ04nIDogJ2VuJztcclxuXHRcdHRyeSB7XHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UsIGxhbmcpO1xyXG5cdFx0XHQvLyDliKTmlq3kuIDkuKp0cmFjZeaYr+WQpuS4uuacquWujOaIkOeKtuaAgVxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzVHJhY2VOb3RGaW5pc2hlZChjdXJyZW50X3RyYWNlKTtcclxuXHRcdFx0Ly8g5Yik5pat5LiA5LiqYXBwcm92ZeaYr+WQpuS4uuacquWujOaIkOeKtuaAgVxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzQXBwcm92ZU5vdEZpbmlzaGVkKGN1cnJlbnRfYXBwcm92ZSk7XHJcblx0XHRcdC8vIOWIpOaWreW9k+WJjeeUqOaIt+aYr+WQpmFwcHJvdmUg5a+55bqU55qE5aSE55CG5Lq65oiW5Luj55CG5Lq6XHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNIYW5kbGVyT3JBZ2VudChjdXJyZW50X2FwcHJvdmUsIHRoaXMudXNlcklkKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coZS5zdGFjaylcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0dmFyIGZsb3dfdmVyc2lvbiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvbjtcclxuXHRcdHZhciBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcclxuXHRcdHZhciBzdGVwX2lkID0gXCJcIjtcclxuXHRcdHN0ZXBfaWQgPSBjdXJyZW50X3RyYWNlLnN0ZXA7XHJcblx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRjdXJyZW50OiAxLFxyXG5cdFx0XHRcdGhpc3RvcnlzOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0dmFyIHN0ZXAgPSBudWxsO1xyXG5cdFx0aWYgKGZsb3cuY3VycmVudC5faWQgPT0gZmxvd192ZXJzaW9uKSB7XHJcblx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XHJcblx0XHRcdFx0aWYgKHMuX2lkID09IHN0ZXBfaWQpXHJcblx0XHRcdFx0XHRzdGVwID0gcztcclxuXHRcdFx0fSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGZsb3cuaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbiAoaCkge1xyXG5cdFx0XHRcdGguc3RlcHMuZm9yRWFjaChmdW5jdGlvbiAocykge1xyXG5cdFx0XHRcdFx0aWYgKHMuX2lkID09IHN0ZXBfaWQpXHJcblx0XHRcdFx0XHRcdHN0ZXAgPSBzO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFzdGVwKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR2YXIgc3RlcF90eXBlID0gc3RlcC5zdGVwX3R5cGU7XHJcblxyXG5cdFx0Y3VycmVudF90cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcclxuXHRcdFx0aWYgKGEuX2lkID09IGFwcHJvdmVfaWQpIHtcclxuXHRcdFx0XHRpbmRleCA9IGlkeDtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHJcblx0XHR2YXIga2V5X3N0ciA9ICd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLic7XHJcblxyXG5cdFx0dmFyIHBlcm1pc3Npb25zX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhhcHByb3ZlLnZhbHVlcywgc3RlcC5wZXJtaXNzaW9ucywgaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcclxuXHJcblx0XHR2YXIgY2hhbmdlX3ZhbHVlcyA9IGFwcHJvdmVNYW5hZ2VyLmdldENoYW5nZVZhbHVlcyhpbnN0YW5jZS52YWx1ZXMsIHBlcm1pc3Npb25zX3ZhbHVlcyk7XHJcblxyXG5cdFx0c2V0T2JqLnZhbHVlcyA9IF8uZXh0ZW5kKChpbnN0YW5jZS52YWx1ZXMgfHwge30pLCBwZXJtaXNzaW9uc192YWx1ZXMpO1xyXG5cclxuXHRcdGlmICghXy5pc0VtcHR5KGNoYW5nZV92YWx1ZXMpKSB7XHJcblxyXG5cdFx0XHR2YWx1ZXNfaGlzdG9yeSA9IGN1cnJlbnRfYXBwcm92ZS52YWx1ZXNfaGlzdG9yeSB8fCBbXVxyXG5cclxuXHRcdFx0dmFsdWVzX2hpc3RvcnkucHVzaCh7XHJcblx0XHRcdFx0dmFsdWVzOiBjaGFuZ2VfdmFsdWVzLFxyXG5cdFx0XHRcdGNyZWF0ZTogbmV3IERhdGUoKVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzX2hpc3RvcnknXSA9IHZhbHVlc19oaXN0b3J5XHJcblx0XHR9XHJcblxyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnaXNfcmVhZCddID0gdHJ1ZTtcclxuXHRcdHNldE9ialtrZXlfc3RyICsgJ3JlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdHNldE9ialtrZXlfc3RyICsgJ3ZhbHVlcyddID0gc2V0T2JqLnZhbHVlcztcclxuXHRcdHNldE9ialtrZXlfc3RyICsgJ2Rlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcclxuXHRcdHNldE9ialtrZXlfc3RyICsgJ25leHRfc3RlcHMnXSA9IG5leHRfc3RlcHM7XHJcblx0XHRpZiAoc3RlcF90eXBlID09IFwic3VibWl0XCIgfHwgc3RlcF90eXBlID09IFwic3RhcnRcIikge1xyXG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICdqdWRnZSddID0gXCJzdWJtaXR0ZWRcIjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ2p1ZGdlJ10gPSBqdWRnZTtcclxuXHRcdH1cclxuXHJcblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XHJcblxyXG5cdFx0Ly8g6K6h566X55Sz6K+35Y2V5qCH6aKYXHJcblx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XHJcblx0XHR2YXIgZm9ybV92ID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihmb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xyXG5cdFx0dmFyIG5hbWVfZm9ydW1sYSA9IGZvcm1fdi5uYW1lX2ZvcnVtbGE7XHJcblx0XHRpZiAobmFtZV9mb3J1bWxhKSB7XHJcblx0XHRcdHNldE9iai5uYW1lID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZU5hbWUoaW5zdGFuY2UsIHNldE9iai52YWx1ZXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRfaWQ6IGluc19pZCxcclxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlX2lkXHJcblx0XHR9LCB7XHJcblx0XHRcdCRzZXQ6IHNldE9ialxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG59KSIsIk1ldGVvci5tZXRob2RzKHtcclxuXHQvLyA/Pz8g6IO95ZCm5Lyg6ZiF57uZ5b2T5YmN5q2l6aqk5aSE55CG5Lq6IOWmguaenOW9k+WJjeatpemqpOaYr+S8muetvuOAglxyXG5cdGNjX2RvOiBmdW5jdGlvbiAoYXBwcm92ZSwgY2NfdXNlcl9pZHMsIGRlc2NyaXB0aW9uKSB7XHJcblxyXG5cdFx0dmFyIHNldE9iaiA9IHt9O1xyXG5cdFx0dmFyIGluc19pZCA9IGFwcHJvdmUuaW5zdGFuY2U7XHJcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xyXG5cdFx0dmFyIGFwcHJvdmVfaWQgPSBhcHByb3ZlLl9pZDtcclxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRzcGFjZTogMSxcclxuXHRcdFx0XHR0cmFjZXM6IDEsXHJcblx0XHRcdFx0Y2NfdXNlcnM6IDEsXHJcblx0XHRcdFx0dmFsdWVzOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xyXG5cdFx0dmFyIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XHJcblx0XHR2YXIgbmV3X2FwcHJvdmVzID0gW107XHJcblxyXG5cdFx0dmFyIGZyb21fdXNlcl9uYW1lID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQsIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0bmFtZTogMVxyXG5cdFx0XHR9XHJcblx0XHR9KS5uYW1lXHJcblxyXG5cdFx0Y2NfdXNlcl9pZHMuZm9yRWFjaChmdW5jdGlvbiAodXNlcklkLCBpZHgpIHtcclxuXHRcdFx0dmFyIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHVzZXJJZCwge1xyXG5cdFx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFx0bmFtZTogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XHJcblx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxyXG5cdFx0XHRcdHVzZXI6IHVzZXJJZFxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XHRvcmdhbml6YXRpb246IDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YXIgb3JnX2lkID0gc3BhY2VfdXNlci5vcmdhbml6YXRpb247XHJcblx0XHRcdHZhciBvcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUob3JnX2lkLCB7XHJcblx0XHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XHRuYW1lOiAxLFxyXG5cdFx0XHRcdFx0ZnVsbG5hbWU6IDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YXIgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VySWQpO1xyXG5cdFx0XHR2YXIgaGFuZGxlcl9pZCA9IHVzZXJJZDtcclxuXHRcdFx0dmFyIGhhbmRsZXJfaW5mbyA9IHVzZXI7XHJcblx0XHRcdHZhciBoYW5kbGVyX3NwYWNlX3VzZXIgPSBzcGFjZV91c2VyO1xyXG5cdFx0XHR2YXIgaGFuZGxlcl9vcmdfaW5mbyA9IG9yZ2FuaXphdGlvbjtcclxuXHRcdFx0aWYgKGFnZW50KSB7XHJcblx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50O1xyXG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoYWdlbnQsIHtcclxuXHRcdFx0XHRcdGZpbGVkczoge1xyXG5cdFx0XHRcdFx0XHRuYW1lOiAxXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0aGFuZGxlcl9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGFnZW50KTtcclxuXHRcdFx0XHRoYW5kbGVyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKGhhbmRsZXJfc3BhY2VfdXNlcik7XHJcblx0XHRcdFx0Y2NfdXNlcl9pZHNbaWR4XSA9IGFnZW50O1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBhcHByID0ge1xyXG5cdFx0XHRcdCdfaWQnOiBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyLFxyXG5cdFx0XHRcdCdpbnN0YW5jZSc6IGluc19pZCxcclxuXHRcdFx0XHQndHJhY2UnOiB0cmFjZV9pZCxcclxuXHRcdFx0XHQnaXNfZmluaXNoZWQnOiBmYWxzZSxcclxuXHRcdFx0XHQndXNlcic6IHVzZXJJZCxcclxuXHRcdFx0XHQndXNlcl9uYW1lJzogdXNlci5uYW1lLFxyXG5cdFx0XHRcdCdoYW5kbGVyJzogaGFuZGxlcl9pZCxcclxuXHRcdFx0XHQnaGFuZGxlcl9uYW1lJzogaGFuZGxlcl9pbmZvLm5hbWUsXHJcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uJzogaGFuZGxlcl9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbixcclxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSc6IGhhbmRsZXJfb3JnX2luZm8ubmFtZSxcclxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUnOiBoYW5kbGVyX29yZ19pbmZvLmZ1bGxuYW1lLFxyXG5cdFx0XHRcdCd0eXBlJzogJ2NjJyxcclxuXHRcdFx0XHQnc3RhcnRfZGF0ZSc6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0J2lzX3JlYWQnOiBmYWxzZSxcclxuXHRcdFx0XHQnZnJvbV91c2VyJzogY3VycmVudF91c2VyX2lkLFxyXG5cdFx0XHRcdCdmcm9tX3VzZXJfbmFtZSc6IGZyb21fdXNlcl9uYW1lLFxyXG5cdFx0XHRcdCdvcGluaW9uX2ZpZWxkc19jb2RlJzogYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlLFxyXG5cdFx0XHRcdCdzaWduX2ZpZWxkX2NvZGUnOiAoYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlICYmIGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZS5sZW5ndGggPT0gMSkgPyBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGVbMF0gOiBcIlwiLFxyXG5cdFx0XHRcdCdmcm9tX2FwcHJvdmVfaWQnOiBhcHByb3ZlX2lkLFxyXG5cdFx0XHRcdCdjY19kZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uXHJcblx0XHRcdH07XHJcblx0XHRcdGlmIChhZ2VudCkge1xyXG5cdFx0XHRcdGFwcHIuYWdlbnQgPSBhZ2VudDtcclxuXHRcdFx0fVxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBhcHByKVxyXG5cdFx0XHRuZXdfYXBwcm92ZXMucHVzaChhcHByKTtcclxuXHRcdH0pXHJcblxyXG5cclxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcclxuXHJcblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0X2lkOiBpbnNfaWQsXHJcblx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcclxuXHRcdH0sIHtcclxuXHRcdFx0JHNldDogc2V0T2JqLFxyXG5cdFx0XHQkYWRkVG9TZXQ6IHtcclxuXHRcdFx0XHQndHJhY2VzLiQuYXBwcm92ZXMnOiB7XHJcblx0XHRcdFx0XHQkZWFjaDogbmV3X2FwcHJvdmVzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQkcHVzaDoge1xyXG5cdFx0XHRcdGNjX3VzZXJzOiB7XHJcblx0XHRcdFx0XHQkZWFjaDogY2NfdXNlcl9pZHNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQpO1xyXG5cdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJ0cmFjZV9hcHByb3ZlX2NjXCIsIGluc3RhbmNlLCBcIlwiLCBjdXJyZW50X3VzZXJfaW5mbywgY2NfdXNlcl9pZHMpO1xyXG5cclxuXHRcdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xyXG5cdFx0YXBwcm92ZS5jY191c2VyX2lkcyA9IGNjX3VzZXJfaWRzOyAvLyDorrDlvZXkuIvmnKzmrKHkvKDpmIXnmoTkurrlkZhJROS9nOS4umhvb2vmjqXlj6PkuK3nmoTlj4LmlbBcclxuXHRcdC8vIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5FcclxuXHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBhcHByb3ZlLCAnY2NfZG8nLCBjdXJyZW50X3VzZXJfaWQsIGNjX3VzZXJfaWRzKVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxuXHJcblx0Y2NfcmVhZDogZnVuY3Rpb24gKGFwcHJvdmUpIHtcclxuXHRcdHZhciBzZXRPYmogPSB7fTtcclxuXHRcdHZhciBpbnNfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xyXG5cdFx0dmFyIHRyYWNlX2lkID0gYXBwcm92ZS50cmFjZTtcclxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHR0cmFjZXM6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XHJcblx0XHR2YXIgY3VycmVudF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcclxuXHRcdH0pXHJcblxyXG5cdFx0dmFyIGluZGV4ID0gMDtcclxuXHJcblx0XHRjdXJyZW50X3RyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRpZiAoYS50eXBlID09ICdjYycgJiYgYS5oYW5kbGVyID09IGN1cnJlbnRfdXNlcl9pZCAmJiAhYS5pc19yZWFkKSB7XHJcblx0XHRcdFx0aW5kZXggPSBpZHg7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xyXG5cdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHJcblx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xyXG5cclxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRfaWQ6IGluc19pZCxcclxuXHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxyXG5cdFx0fSwge1xyXG5cdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxuXHJcblx0Y2Nfc3VibWl0OiBmdW5jdGlvbiAoaW5zX2lkLCBkZXNjcmlwdGlvbikge1xyXG5cdFx0dmFyIHNldE9iaiA9IHt9O1xyXG5cclxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHR0cmFjZXM6IDEsXHJcblx0XHRcdFx0Y2NfdXNlcnM6IDEsXHJcblx0XHRcdFx0b3V0Ym94X3VzZXJzOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcclxuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcclxuXHRcdHZhciBjdXJyZW50X2FwcHJvdmU7XHJcblxyXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcclxuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRcdFx0aWYgKGEudHlwZSA9PSAnY2MnICYmIGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0XHRjdXJyZW50X2FwcHJvdmUgPSBhO1xyXG5cdFx0XHRcdFx0XHR2YXIgdXBvYmogPSB7fTtcclxuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9IFwic3VibWl0dGVkXCI7XHJcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5jb3N0X3RpbWUnXSA9IG5ldyBEYXRlKCkgLSBhLnN0YXJ0X2RhdGU7XHJcblx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdFx0XHRcdF9pZDogaW5zX2lkLFxyXG5cdFx0XHRcdFx0XHRcdCd0cmFjZXMuX2lkJzogdC5faWRcclxuXHRcdFx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0XHRcdCRzZXQ6IHVwb2JqXHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmIChjdXJyZW50X2FwcHJvdmUpIHtcclxuXHRcdFx0dmFyIGluZGV4ID0gMDtcclxuXHJcblx0XHRcdC8v6K6+572u5oSP6KeB77yM5oSP6KeB5Y+q5re75Yqg5Yiw5pyA5ZCO5LiA5p2hYXBwcm92ZeS4rVxyXG5cdFx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRcdGlmIChjdXJyZW50X2FwcHJvdmUgJiYgdC5faWQgPT09IGN1cnJlbnRfYXBwcm92ZS50cmFjZSkge1xyXG5cdFx0XHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcclxuXHRcdFx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoYS5faWQgPT09IGN1cnJlbnRfYXBwcm92ZS5faWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGEuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuXHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gaWR4O1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcuZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xyXG5cclxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0X2lkOiBpbnNfaWQsXHJcblx0XHRcdFx0J3RyYWNlcy5faWQnOiBjdXJyZW50X2FwcHJvdmUudHJhY2VcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdCRzZXQ6IHNldE9iaixcclxuXHRcdFx0XHQkcHVsbDoge1xyXG5cdFx0XHRcdFx0Y2NfdXNlcnM6IGN1cnJlbnRfdXNlcl9pZFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0JGFkZFRvU2V0OiB7XHJcblx0XHRcdFx0XHRvdXRib3hfdXNlcnM6IHtcclxuXHRcdFx0XHRcdFx0JGVhY2g6IFtjdXJyZW50X3VzZXJfaWQsIGN1cnJlbnRfYXBwcm92ZS51c2VyXVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCk7XHJcblxyXG5cdFx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkKTtcclxuXHRcdFx0Ly/kvKDpmIXmj5DkuqTkuI3pgJrnn6XkvKDpmIXogIVcclxuXHRcdFx0aWYgKGZhbHNlICYmIGRlc2NyaXB0aW9uICYmIGN1cnJlbnRfYXBwcm92ZSAmJiBjdXJyZW50X2FwcHJvdmUuZnJvbV91c2VyKSB7XHJcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJ0cmFjZV9hcHByb3ZlX2NjX3N1Ym1pdFwiLCBpbnN0YW5jZSwgXCJcIiwgY3VycmVudF91c2VyX2luZm8sIFtjdXJyZW50X2FwcHJvdmUuZnJvbV91c2VyXSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXJfaWQpO1xyXG5cclxuXHRcdFx0Zmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XHJcblx0XHRcdC8vIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5FcclxuXHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soZmxvd19pZCwgaW5zdGFuY2UsIGN1cnJlbnRfYXBwcm92ZSwgJ2NjX3N1Ym1pdCcsIGN1cnJlbnRfdXNlcl9pZCwgW10pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0sXHJcblxyXG5cdGNjX3JlbW92ZTogZnVuY3Rpb24gKGluc3RhbmNlSWQsIGFwcHJvdmVJZCkge1xyXG5cdFx0dmFyIHNldE9iaiA9IHt9O1xyXG5cclxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlSWQsIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0dHJhY2VzOiAxLFxyXG5cdFx0XHRcdGNjX3VzZXJzOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcclxuXHRcdHZhciB0cmFjZV9pZCwgcmVtb3ZlX3VzZXJfaWQsIG11bHRpID0gZmFsc2U7XHJcblxyXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcclxuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRcdFx0aWYgKGEuX2lkID09IGFwcHJvdmVJZCkge1xyXG5cdFx0XHRcdFx0XHR0cmFjZV9pZCA9IGEudHJhY2U7XHJcblx0XHRcdFx0XHRcdHJlbW92ZV91c2VyX2lkID0gYS5oYW5kbGVyO1xyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSAndGVybWluYXRlZCc7XHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblxyXG5cdFx0aWYgKCF0cmFjZV9pZCB8fCAhcmVtb3ZlX3VzZXJfaWQpXHJcblx0XHRcdHJldHVybjtcclxuXHJcblx0XHR2YXIgbXVsdGkgPSAwO1xyXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcclxuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEpIHtcclxuXHRcdFx0XHRcdGlmIChhLmhhbmRsZXIgPT0gcmVtb3ZlX3VzZXJfaWQgJiYgYS50eXBlID09ICdjYycgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0XHRtdWx0aSsrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cclxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcclxuXHJcblx0XHRpZiAobXVsdGkgPiAxKSB7XHJcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcclxuXHRcdFx0XHQndHJhY2VzLl9pZCc6IHRyYWNlX2lkXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXHJcblx0XHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0JHNldDogc2V0T2JqLFxyXG5cdFx0XHRcdCRwdWxsOiB7XHJcblx0XHRcdFx0XHRjY191c2VyczogcmVtb3ZlX3VzZXJfaWRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgcmVtb3ZlX3VzZXJfaWQpO1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxuXHJcblx0Y2Nfc2F2ZTogZnVuY3Rpb24gKGluc19pZCwgZGVzY3JpcHRpb24pIHtcclxuXHRcdHZhciBzZXRPYmogPSB7fTtcclxuXHJcblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0dHJhY2VzOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcclxuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcclxuXHJcblx0XHR2YXIgY3VycmVudF9hcHByb3ZlO1xyXG5cclxuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XHJcblx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcclxuXHRcdFx0XHRcdGlmIChhLmhhbmRsZXIgPT0gY3VycmVudF91c2VyX2lkICYmIGEudHlwZSA9PSAnY2MnICYmIGEuaXNfZmluaXNoZWQgPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdFx0Y3VycmVudF9hcHByb3ZlID0gYTtcclxuXHRcdFx0XHRcdFx0dmFyIHVwb2JqID0ge307XHJcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJzdWJtaXR0ZWRcIjtcclxuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRcdFx0X2lkOiBpbnNfaWQsXHJcblx0XHRcdFx0XHRcdFx0J3RyYWNlcy5faWQnOiB0Ll9pZFxyXG5cdFx0XHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRcdFx0JHNldDogdXBvYmpcclxuXHRcdFx0XHRcdFx0fSlcclxuXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblxyXG5cdFx0dmFyIGluZGV4ID0gMDtcclxuXHJcblx0XHQvL+iuvue9ruaEj+inge+8jOaEj+ingeWPqua3u+WKoOWIsOacgOWQjuS4gOadoWFwcHJvdmXkuK1cclxuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdGlmIChjdXJyZW50X2FwcHJvdmUgJiYgdC5faWQgPT09IGN1cnJlbnRfYXBwcm92ZS50cmFjZSkge1xyXG5cdFx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XHJcblx0XHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRcdFx0XHRpZiAoYS5faWQgPT09IGN1cnJlbnRfYXBwcm92ZS5faWQpIHtcclxuXHRcdFx0XHRcdFx0XHRpbmRleCA9IGlkeDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcuZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xyXG5cclxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRfaWQ6IGluc19pZCxcclxuXHRcdFx0J3RyYWNlcy5faWQnOiBjdXJyZW50X2FwcHJvdmUudHJhY2VcclxuXHRcdH0sIHtcclxuXHRcdFx0JHNldDogc2V0T2JqXHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn0pIiwiTWV0ZW9yLm1ldGhvZHMoe1xyXG5cdC8vIOaUueS4uumAmui/h2Fwaeiwg+eUqFxyXG5cdGZvcndhcmRfaW5zdGFuY2U6IGZ1bmN0aW9uIChpbnN0YW5jZV9pZCwgc3BhY2VfaWQsIGZsb3dfaWQsIGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCwgZGVzY3JpcHRpb24sIGlzRm9yd2FyZEF0dGFjaG1lbnRzLCBzZWxlY3RlZFVzZXJzLCBhY3Rpb25fdHlwZSwgcmVsYXRlZCwgZnJvbV9hcHByb3ZlX2lkKSB7XHJcblx0XHRpZiAoIXRoaXMudXNlcklkKVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdub3QtYXV0aG9yaXplZCcpO1xyXG5cclxuXHRcdHJldHVybjtcclxuXHR9LFxyXG5cclxuXHJcblx0Zm9yd2FyZF9yZW1vdmU6IGZ1bmN0aW9uIChpbnN0YW5jZV9pZCwgdHJhY2VfaWQsIGFwcHJvdmVfaWQpIHtcclxuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpO1xyXG5cdFx0Y2hlY2sodHJhY2VfaWQsIFN0cmluZyk7XHJcblx0XHRjaGVjayhhcHByb3ZlX2lkLCBTdHJpbmcpO1xyXG5cclxuXHRcdHZhciBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XHJcblxyXG5cdFx0aWYgKCFpbnMpIHtcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcigncGFyYW1zIGVycm9yIScsICdyZWNvcmQgbm90IGV4aXN0cyEnKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgdHJhY2UgPSBfLmZpbmQoaW5zLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0cmV0dXJuIHQuX2lkID09IHRyYWNlX2lkO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dmFyIGFwcHJvdmUgPSBfLmZpbmQodHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhcHByKSB7XHJcblx0XHRcdHJldHVybiBhcHByLl9pZCA9PSBhcHByb3ZlX2lkO1xyXG5cdFx0fSlcclxuXHJcblx0XHR2YXIgaGFzQWRtaW5QZXJtaXNzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmhhc0Zsb3dBZG1pblBlcm1pc3Npb24oaW5zLmZsb3csIGlucy5zcGFjZSwgdGhpcy51c2VySWQpXHJcblxyXG5cdFx0aWYgKCFhcHByb3ZlIHx8ICFbJ2ZvcndhcmQnLCAnZGlzdHJpYnV0ZSddLmluY2x1ZGVzKGFwcHJvdmUudHlwZSkgfHwgIWFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkge1xyXG5cdFx0XHRpZiAoIWhhc0FkbWluUGVybWlzc2lvbikge1xyXG5cdFx0XHRcdGlmIChhcHByb3ZlLmZyb21fdXNlciAhPSB0aGlzLnVzZXJJZClcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsICdpbnN0YW5jZV9mb3J3YXJkX2Nhbm5vdF9jYW5jZWwnKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBmb3J3YXJkX2luc3RhbmNlX2lkID0gYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlO1xyXG5cdFx0dmFyIGZvcndhcmRfaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShmb3J3YXJkX2luc3RhbmNlX2lkKTtcclxuXHRcdGlmIChmb3J3YXJkX2luc3RhbmNlKSB7XHJcblx0XHRcdGlmIChmb3J3YXJkX2luc3RhbmNlLnN0YXRlICE9IFwiZHJhZnRcIikge1xyXG5cdFx0XHRcdGlmICghaGFzQWRtaW5QZXJtaXNzaW9uKVxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgJ2luc3RhbmNlX2ZvcndhcmRfaW5zdGFuY2Vfc3RhdGVfY2hhbmdlZCcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBpbmJveF91c2VycyA9IGZvcndhcmRfaW5zdGFuY2UuaW5ib3hfdXNlcnMgfHwgW107XHJcblxyXG5cdFx0XHRmb3J3YXJkX2luc3RhbmNlLmRlbGV0ZWQgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRmb3J3YXJkX2luc3RhbmNlLmRlbGV0ZWRfYnkgPSB0aGlzLnVzZXJJZDtcclxuXHRcdFx0dmFyIGRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCA9IGRiLmRlbGV0ZWRfaW5zdGFuY2VzLmluc2VydChmb3J3YXJkX2luc3RhbmNlKTtcclxuXHRcdFx0aWYgKGRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCkge1xyXG5cdFx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoe1xyXG5cdFx0XHRcdFx0X2lkOiBmb3J3YXJkX2luc3RhbmNlX2lkXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdC8vIOWIoOmZpOeUs+ivt+WNleWQjumHjeaWsOiuoeeul2luYm94X3VzZXJz55qEYmFkZ2VcclxuXHRcdFx0XHRfLmVhY2goaW5ib3hfdXNlcnMsIGZ1bmN0aW9uICh1X2lkKSB7XHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdV9pZCk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBzZXRfb2JqID0gbmV3IE9iamVjdDtcclxuXHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0c2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cclxuXHRcdF8uZWFjaCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGFwcHIsIGlkeCkge1xyXG5cdFx0XHRpZiAoYXBwci5faWQgPT0gYXBwcm92ZV9pZCkge1xyXG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSAndGVybWluYXRlZCc7XHJcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWU7XHJcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZTtcclxuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdF9pZDogaW5zdGFuY2VfaWQsXHJcblx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZV9pZFxyXG5cdFx0fSwge1xyXG5cdFx0XHQkc2V0OiBzZXRfb2JqXHJcblx0XHR9KVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0sXHJcblxyXG5cdGNhbmNlbERpc3RyaWJ1dGU6IGZ1bmN0aW9uIChpbnN0YW5jZV9pZCwgYXBwcm92ZV9pZHMpIHtcclxuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpXHJcblx0XHRjaGVjayhhcHByb3ZlX2lkcywgQXJyYXkpXHJcblxyXG5cdFx0dmFyIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKVxyXG5cclxuXHRcdGlmICghaW5zKSB7XHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3BhcmFtcyBlcnJvciEnLCAncmVjb3JkIG5vdCBleGlzdHMhJylcclxuXHRcdH1cclxuXHJcblx0XHR1c2VySWQgPSB0aGlzLnVzZXJJZFxyXG5cclxuXHRcdHZhciBoYXNBZG1pblBlcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCB1c2VySWQpXHJcblxyXG5cdFx0Xy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XHJcblx0XHRcdFx0dmFyIGV4aXN0cyA9IGZhbHNlXHJcblx0XHRcdFx0dmFyIHNldF9vYmogPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0Xy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uIChhLCBpZHgpIHtcclxuXHRcdFx0XHRcdGlmIChhcHByb3ZlX2lkcy5pbmNsdWRlcyhhLl9pZCkgJiYgKGEuZnJvbV91c2VyID09IHVzZXJJZCB8fCBoYXNBZG1pblBlcm1pc3Npb24pICYmICdkaXN0cmlidXRlJyA9PSBhLnR5cGUgJiYgYS5mb3J3YXJkX2luc3RhbmNlKSB7XHJcblx0XHRcdFx0XHRcdHZhciBmb3J3YXJkX2luc3RhbmNlX2lkID0gYS5mb3J3YXJkX2luc3RhbmNlXHJcblx0XHRcdFx0XHRcdHZhciBmb3J3YXJkX2luc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoZm9yd2FyZF9pbnN0YW5jZV9pZClcclxuXHRcdFx0XHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2UpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZm9yd2FyZF9pbnN0YW5jZS5zdGF0ZSAhPSBcImRyYWZ0XCIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR2YXIgaW5ib3hfdXNlcnMgPSBmb3J3YXJkX2luc3RhbmNlLmluYm94X3VzZXJzIHx8IFtdXHJcblxyXG5cdFx0XHRcdFx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZCA9IG5ldyBEYXRlKClcclxuXHRcdFx0XHRcdFx0XHRmb3J3YXJkX2luc3RhbmNlLmRlbGV0ZWRfYnkgPSB1c2VySWRcclxuXHRcdFx0XHRcdFx0XHR2YXIgZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkID0gZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGZvcndhcmRfaW5zdGFuY2UpXHJcblx0XHRcdFx0XHRcdFx0aWYgKGRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnJlbW92ZSh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdF9pZDogZm9yd2FyZF9pbnN0YW5jZV9pZFxyXG5cdFx0XHRcdFx0XHRcdFx0fSlcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQvLyDliKDpmaTnlLPor7fljZXlkI7ph43mlrDorqHnrpdpbmJveF91c2Vyc+eahGJhZGdlXHJcblx0XHRcdFx0XHRcdFx0XHRfLmVhY2goaW5ib3hfdXNlcnMsIGZ1bmN0aW9uICh1X2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1X2lkKVxyXG5cdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSAndGVybWluYXRlZCdcclxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKVxyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRleGlzdHMgPSB0cnVlXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSlcclxuXHJcblx0XHRcdFx0aWYgKCFleGlzdHMpXHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHJcblx0XHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKClcclxuXHRcdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdXNlcklkXHJcblxyXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcclxuXHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiB0Ll9pZFxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdCRzZXQ6IHNldF9vYmpcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cclxuXHRcdHJldHVybiB0cnVlXHJcblx0fVxyXG5cclxuXHJcbn0pIiwiTWV0ZW9yLm1ldGhvZHMoe1xyXG4gICAgY2ZzX2luc3RhbmNlc19yZW1vdmU6IGZ1bmN0aW9uIChmaWxlX2lkKSB7XHJcbiAgICAgICAgY2hlY2soZmlsZV9pZCwgU3RyaW5nKTtcclxuICAgICAgICBjZnMuaW5zdGFuY2VzLnJlbW92ZShmaWxlX2lkKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgY2ZzX2luc3RhbmNlc19zZXRfY3VycmVudDogZnVuY3Rpb24gKGZpbGVfaWQpIHtcclxuICAgICAgICBjaGVjayhmaWxlX2lkLCBTdHJpbmcpO1xyXG4gICAgICAgIGNmcy5pbnN0YW5jZXMudXBkYXRlKHtcclxuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuXHJcbiAgICBjZnNfaW5zdGFuY2VzX2xvY2s6IGZ1bmN0aW9uIChmaWxlX2lkLCB1c2VyX2lkLCB1c2VyX25hbWUpIHtcclxuICAgICAgICBjZnMuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIF9pZDogZmlsZV9pZFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF9ieSc6IHVzZXJfaWQsXHJcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5X25hbWUnOiB1c2VyX25hbWUsXHJcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX3RpbWUnOiBuZXcgRGF0ZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgY2ZzX2luc3RhbmNlc191bmxvY2s6IGZ1bmN0aW9uIChmaWxlX2lkKSB7XHJcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xyXG4gICAgICAgICAgICBfaWQ6IGZpbGVfaWRcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICR1bnNldDoge1xyXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF9ieSc6ICcnLFxyXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF9ieV9uYW1lJzogJycsXHJcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX3RpbWUnOiAnJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG5cclxuICAgIGRvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6IGZ1bmN0aW9uIChzcGFjZUlkLCBjZnNSZWNvcmRJZHMpIHtcclxuICAgICAgICBpZiAoIXRoaXMudXNlcklkKVxyXG4gICAgICAgICAgICByZXR1cm4gXCLkuI3nrKblkIjmiafooYzmnaHku7ZcIlxyXG5cclxuICAgICAgICBpZiAoTWV0ZW9yLnVzZXJzLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgX2lkOiB0aGlzLnVzZXJJZCxcclxuICAgICAgICAgICAgICAgIGlzX2Nsb3VkYWRtaW46IHRydWVcclxuICAgICAgICAgICAgfSkuY291bnQoKSA8IDEpXHJcbiAgICAgICAgICAgIHJldHVybiBcIuS4jeespuWQiOaJp+ihjOadoeS7tlwiXHJcblxyXG4gICAgICAgIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XHJcblxyXG4gICAgICAgIHZhciBzdG9yZSA9IFwiaW5zdGFuY2VzXCI7XHJcbiAgICAgICAgdmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcclxuICAgICAgICB2YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuICAgICAgICB2YXIgbWtkaXJwID0gcmVxdWlyZSgnbWtkaXJwJyk7XHJcbiAgICAgICAgdmFyIHBhdGhuYW1lID0gcGF0aC5qb2luKF9fbWV0ZW9yX2Jvb3RzdHJhcF9fLnNlcnZlckRpciwgJy4uLy4uLy4uL2Nmcy9zcGFjZUluc3RhbmNlQXR0YWNobWVudHMnKTtcclxuICAgICAgICAvLyBTZXQgYWJzb2x1dGUgcGF0aFxyXG4gICAgICAgIHZhciBhYnNvbHV0ZVBhdGggPSBwYXRoLnJlc29sdmUocGF0aG5hbWUpO1xyXG4gICAgICAgIC8vIEVuc3VyZSB0aGUgcGF0aCBleGlzdHNcclxuICAgICAgICBta2RpcnAuc3luYyhhYnNvbHV0ZVBhdGgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdhYnNvbHV0ZVBhdGg6ICcsIGFic29sdXRlUGF0aCk7XHJcbiAgICAgICAgY29uc29sZS50aW1lKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrJyk7XHJcbiAgICAgICAgdmFyIHF1ZXJ5ID0ge1xyXG4gICAgICAgICAgICAnbWV0YWRhdGEuc3BhY2UnOiBzcGFjZUlkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjZnNSZWNvcmRJZHMpIHtcclxuICAgICAgICAgICAgcXVlcnkuX2lkID0ge1xyXG4gICAgICAgICAgICAgICAgJGluOiBjZnNSZWNvcmRJZHNcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzID0gW107XHJcbiAgICAgICAgY2ZzLmluc3RhbmNlcy5maW5kKHF1ZXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSBzdG9yZSArICctJyArIGMuX2lkICsgJy0nICsgYy5uYW1lKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZVBhdGggPSBwYXRoLmpvaW4oYWJzb2x1dGVQYXRoLCBmaWxlTmFtZSk7XHJcbiAgICAgICAgICAgICAgICBNZXRlb3Iud3JhcEFzeW5jKGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3cml0ZXIgPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShmaWxlUGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci5vbignZmluaXNoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gYy5jcmVhdGVSZWFkU3RyZWFtKHN0b3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMucHVzaChjLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrOiAnLCBjLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnBpcGUod3JpdGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrOiAnLCBjLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkoKVxyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6ICcsIGMuX2lkKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2spO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGlmIChkb3dubG9hZEZhaWxlZFJlY29yZElkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkRmFpbGVkUmVjb3JkSWRzOiAnKTtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihkb3dubG9hZEZhaWxlZFJlY29yZElkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2snKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzO1xyXG4gICAgfVxyXG59KSIsIk1ldGVvci5tZXRob2RzXHJcblx0c2V0X2FwcHJvdmVfaGF2ZV9yZWFkOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkKSAtPlxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdHNlbGYgPSB0aGlzXHJcblxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2VJZCwgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWQgfSwgeyBmaWVsZHM6IHsgXCJ0cmFjZXMuJFwiOiAxIH0gfSlcclxuXHJcblx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXHJcblx0XHRcdHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdXHJcblx0XHRcdHNldE9iaiA9IHtcclxuXHRcdFx0XHRtb2RpZmllZDogbmV3IERhdGUsXHJcblx0XHRcdFx0bW9kaWZpZWRfYnk6IHNlbGYudXNlcklkXHJcblx0XHRcdH1cclxuXHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxyXG5cdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGFwcHJvdmVJZCAmJiAhYXBwcm92ZS5pc19yZWFkXHJcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uaXNfcmVhZFwiXSA9IHRydWVcclxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXHJcblxyXG5cdFx0XHRpZiBub3QgXy5pc0VtcHR5KHNldE9iailcclxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcclxuXHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0JHNldDogc2V0T2JqXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHJcblx0Y2hhbmdlX2FwcHJvdmVfaW5mbzogKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgZGVzY3JpcHRpb24sIGZpbmlzaF9kYXRlKSAtPlxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cdFx0Y2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKVxyXG5cdFx0Y2hlY2sodHJhY2VJZCwgU3RyaW5nKVxyXG5cdFx0Y2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpXHJcblx0XHRjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKVxyXG5cdFx0Y2hlY2soZmluaXNoX2RhdGUsIERhdGUpXHJcblxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2VJZCwgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWQgfSwgeyBmaWVsZHM6IHsgXCJ0cmFjZXMuJFwiOiAxIH0gfSlcclxuXHJcblx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXHJcblx0XHRcdHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdXHJcblx0XHRcdHNldE9iaiA9IHt9XHJcblx0XHRcdHRyYWNlLmFwcHJvdmVzLmZvckVhY2ggKGFwcHJvdmUsIGlkeCkgLT5cclxuXHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBhcHByb3ZlSWRcclxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uXHJcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uZmluaXNoX2RhdGVcIl0gPSBmaW5pc2hfZGF0ZVxyXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmNvc3RfdGltZVwiXSA9IG5ldyBEYXRlKCkgLSBhcHByb3ZlLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXHJcblxyXG5cdFx0XHRpZiBub3QgXy5pc0VtcHR5KHNldE9iailcclxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcclxuXHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0JHNldDogc2V0T2JqXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHJcblx0dXBkYXRlX2FwcHJvdmVfc2lnbjogKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgc2lnbl9maWVsZF9jb2RlLCBkZXNjcmlwdGlvbiwgc2lnbl90eXBlLCBsYXN0U2lnbkFwcHJvdmUpLT5cclxuXHRcdGNoZWNrKGluc3RhbmNlSWQsIFN0cmluZylcclxuXHRcdGNoZWNrKHRyYWNlSWQsIFN0cmluZylcclxuXHRcdGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKVxyXG5cdFx0Y2hlY2soc2lnbl9maWVsZF9jb2RlLCBTdHJpbmcpXHJcblx0XHRjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKVxyXG5cclxuXHRcdGlmICF0aGlzLnVzZXJJZFxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRzZXNzaW9uX3VzZXJJZCA9IHRoaXMudXNlcklkXHJcblxyXG5cdFx0aWYgbGFzdFNpZ25BcHByb3ZlXHJcblxyXG5cdFx0XHRpZiBsYXN0U2lnbkFwcHJvdmUuY3VzdG9tX3NpZ25fc2hvd1xyXG5cdFx0XHRcdHJldHVyblxyXG5cclxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XHJcblx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxyXG5cdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBsYXN0U2lnbkFwcHJvdmUudHJhY2VcclxuXHRcdFx0fSwgeyBmaWVsZHM6IHsgXCJ0cmFjZXMuJFwiOiAxIH0gfSlcclxuXHJcblx0XHRcdGxhc3RUcmFjZSA9IF8uZmluZCBpbnN0YW5jZT8udHJhY2VzLCAodCkgLT5cclxuXHRcdFx0XHRyZXR1cm4gdC5faWQgPSBsYXN0U2lnbkFwcHJvdmUudHJhY2VcclxuXHJcblx0XHRcdGlmIGxhc3RUcmFjZVxyXG5cdFx0XHRcdHNldE9iaiA9IHt9XHJcblx0XHRcdFx0bGFzdFRyYWNlPy5hcHByb3Zlcy5mb3JFYWNoIChhLCBpZHgpIC0+XHJcblx0XHRcdFx0XHRpZiBhLl9pZCA9PSBsYXN0U2lnbkFwcHJvdmUuX2lkXHJcblx0XHRcdFx0XHRcdGlmIHNpZ25fdHlwZSA9PSBcInVwZGF0ZVwiXHJcblx0XHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fc2hvd1wiXSA9IGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKVxyXG5cdFx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5tb2RpZmllZF9ieVwiXSA9IHNlc3Npb25fdXNlcklkXHJcblxyXG5cdFx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxyXG5cdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcclxuXHRcdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IGxhc3RUcmFjZS5faWRcclxuXHRcdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdFx0JHNldDogc2V0T2JqXHJcblx0XHRcdFx0XHR9KVxyXG5cclxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlSWQsIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXHJcblxyXG5cdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxyXG5cclxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cclxuXHRcdFx0dXBPYmogPSB7fVxyXG5cdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XHJcblx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gYXBwcm92ZUlkXHJcblx0XHRcdFx0XHRpZiBzaWduX2ZpZWxkX2NvZGVcclxuXHRcdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9maWVsZF9jb2RlXCJdID0gc2lnbl9maWVsZF9jb2RlXHJcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uXHJcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5zaWduX3Nob3dcIl0gPSB0cnVlXHJcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5tb2RpZmllZFwiXSA9IG5ldyBEYXRlKClcclxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkX2J5XCJdID0gc2Vzc2lvbl91c2VySWRcclxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcclxuXHJcblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkodXBPYmopXHJcblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXHJcblx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VJZFxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdCRzZXQ6IHVwT2JqXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHJcblxyXG5cdHVwZGF0ZV9zaWduX3Nob3c6IChvYmpzLCBteUFwcHJvdmVfaWQpIC0+XHJcblx0XHRvYmpzLmZvckVhY2ggKG9iaiwgaW5kZXgpIC0+XHJcblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IG9iai5pbnN0YW5jZSwgXCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZSB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxyXG5cdFx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXHJcblx0XHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cclxuXHRcdFx0XHRzZXRPYmogPSB7fVxyXG5cdFx0XHRcdHRyYWNlLmFwcHJvdmVzLmZvckVhY2ggKGFwcHJvdmUsIGlkeCkgLT5cclxuXHRcdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IG9iai5faWRcclxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3dcclxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmN1c3RvbV9zaWduX3Nob3dcIl0gPSBvYmouc2lnbl9zaG93XHJcblx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXHJcblxyXG5cdFx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gbXlBcHByb3ZlX2lkXHJcblx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXHJcblxyXG5cdFx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxyXG5cdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRcdF9pZDogb2JqLmluc3RhbmNlLFxyXG5cdFx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogb2JqLnRyYWNlXHJcblx0XHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRcdCRzZXQ6IHNldE9ialxyXG5cdFx0XHRcdFx0fSlcclxuXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIHNldF9hcHByb3ZlX2hhdmVfcmVhZDogZnVuY3Rpb24oaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHNlbGYsIHNldE9iaiwgdHJhY2U7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZWxmID0gdGhpcztcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgc2V0T2JqID0ge1xuICAgICAgICBtb2RpZmllZDogbmV3IERhdGUsXG4gICAgICAgIG1vZGlmaWVkX2J5OiBzZWxmLnVzZXJJZFxuICAgICAgfTtcbiAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gYXBwcm92ZUlkICYmICFhcHByb3ZlLmlzX3JlYWQpIHtcbiAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmlzX3JlYWRcIl0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFfLmlzRW1wdHkoc2V0T2JqKSkge1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgY2hhbmdlX2FwcHJvdmVfaW5mbzogZnVuY3Rpb24oaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBkZXNjcmlwdGlvbiwgZmluaXNoX2RhdGUpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgc2V0T2JqLCB0cmFjZTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNoZWNrKGluc3RhbmNlSWQsIFN0cmluZyk7XG4gICAgY2hlY2sodHJhY2VJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhhcHByb3ZlSWQsIFN0cmluZyk7XG4gICAgY2hlY2soZGVzY3JpcHRpb24sIFN0cmluZyk7XG4gICAgY2hlY2soZmluaXNoX2RhdGUsIERhdGUpO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKChpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgdHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF07XG4gICAgICBzZXRPYmogPSB7fTtcbiAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uO1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuZmluaXNoX2RhdGVcIl0gPSBmaW5pc2hfZGF0ZTtcbiAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmNvc3RfdGltZVwiXSA9IG5ldyBEYXRlKCkgLSBhcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIV8uaXNFbXB0eShzZXRPYmopKSB7XG4gICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICB1cGRhdGVfYXBwcm92ZV9zaWduOiBmdW5jdGlvbihpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIHNpZ25fZmllbGRfY29kZSwgZGVzY3JpcHRpb24sIHNpZ25fdHlwZSwgbGFzdFNpZ25BcHByb3ZlKSB7XG4gICAgdmFyIGluc3RhbmNlLCBsYXN0VHJhY2UsIHJlZiwgc2Vzc2lvbl91c2VySWQsIHNldE9iaiwgdHJhY2UsIHVwT2JqO1xuICAgIGNoZWNrKGluc3RhbmNlSWQsIFN0cmluZyk7XG4gICAgY2hlY2sodHJhY2VJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhhcHByb3ZlSWQsIFN0cmluZyk7XG4gICAgY2hlY2soc2lnbl9maWVsZF9jb2RlLCBTdHJpbmcpO1xuICAgIGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2Vzc2lvbl91c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgICBpZiAobGFzdFNpZ25BcHByb3ZlKSB7XG4gICAgICBpZiAobGFzdFNpZ25BcHByb3ZlLmN1c3RvbV9zaWduX3Nob3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IGxhc3RTaWduQXBwcm92ZS50cmFjZVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBsYXN0VHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UgIT0gbnVsbCA/IGluc3RhbmNlLnRyYWNlcyA6IHZvaWQgMCwgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdC5faWQgPSBsYXN0U2lnbkFwcHJvdmUudHJhY2U7XG4gICAgICB9KTtcbiAgICAgIGlmIChsYXN0VHJhY2UpIHtcbiAgICAgICAgc2V0T2JqID0ge307XG4gICAgICAgIGlmIChsYXN0VHJhY2UgIT0gbnVsbCkge1xuICAgICAgICAgIGxhc3RUcmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsIGlkeCkge1xuICAgICAgICAgICAgaWYgKGEuX2lkID09PSBsYXN0U2lnbkFwcHJvdmUuX2lkKSB7XG4gICAgICAgICAgICAgIGlmIChzaWduX3R5cGUgPT09IFwidXBkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fc2hvd1wiXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIubW9kaWZpZWRcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLm1vZGlmaWVkX2J5XCJdID0gc2Vzc2lvbl91c2VySWQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIV8uaXNFbXB0eShzZXRPYmopKSB7XG4gICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgICBcInRyYWNlcy5faWRcIjogbGFzdFRyYWNlLl9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKChpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgdHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF07XG4gICAgICB1cE9iaiA9IHt9O1xuICAgICAgdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlLCBpZHgpIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBhcHByb3ZlSWQpIHtcbiAgICAgICAgICBpZiAoc2lnbl9maWVsZF9jb2RlKSB7XG4gICAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuc2lnbl9maWVsZF9jb2RlXCJdID0gc2lnbl9maWVsZF9jb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuc2lnbl9zaG93XCJdID0gdHJ1ZTtcbiAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIubW9kaWZpZWRcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5tb2RpZmllZF9ieVwiXSA9IHNlc3Npb25fdXNlcklkO1xuICAgICAgICAgIHJldHVybiB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIV8uaXNFbXB0eSh1cE9iaikpIHtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB1cE9ialxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlX3NpZ25fc2hvdzogZnVuY3Rpb24ob2JqcywgbXlBcHByb3ZlX2lkKSB7XG4gICAgb2Jqcy5mb3JFYWNoKGZ1bmN0aW9uKG9iaiwgaW5kZXgpIHtcbiAgICAgIHZhciBpbnN0YW5jZSwgcmVmLCBzZXRPYmosIHRyYWNlO1xuICAgICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogb2JqLmluc3RhbmNlLFxuICAgICAgICBcInRyYWNlcy5faWRcIjogb2JqLnRyYWNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICgoaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgdHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF07XG4gICAgICAgIHNldE9iaiA9IHt9O1xuICAgICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gb2JqLl9pZCkge1xuICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5zaWduX3Nob3dcIl0gPSBvYmouc2lnbl9zaG93O1xuICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5jdXN0b21fc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvdztcbiAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBteUFwcHJvdmVfaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFfLmlzRW1wdHkoc2V0T2JqKSkge1xuICAgICAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogb2JqLmluc3RhbmNlLFxuICAgICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRpbnN0YW5jZV9yZXR1cm46IChhcHByb3ZlLCByZWFzb24pLT5cclxuXHRcdGNoZWNrKGFwcHJvdmUsIE9iamVjdClcclxuXHJcblx0XHRjdXJyZW50X3VzZXIgPSB0aGlzLnVzZXJJZFxyXG5cdFx0aW5zdGFuY2VfaWQgPSBhcHByb3ZlLmluc3RhbmNlXHJcblxyXG5cdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcclxuXHRcdHNwYWNlX2lkID0gaW5zLnNwYWNlXHJcblxyXG5cdFx0IyAtIOW+heWuoeaguOeusVxyXG5cdFx0aWYgaW5zLnN0YXRlIGlzbnQgXCJwZW5kaW5nXCIgb3IgIWlucy5pbmJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXHJcblxyXG5cdFx0IyAtIOaWh+S7tuS4jeaYr+S8oOmYhVxyXG5cdFx0aWYgYXBwcm92ZS50eXBlIGlzIFwiY2NcIiBhbmQgaW5zLmNjX3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcilcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcclxuXHJcblx0XHQjIC0g562+5qC45Y6G56iL5Lit5b2T5YmN5q2l6aqk5LiK5LiA5q2l6aqk5LiN5piv5Lya562+XHJcblx0XHRpZiBpbnMudHJhY2VzLmxlbmd0aCA8IDJcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcclxuXHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zLmZsb3cpXHJcblx0XHRwcmVfdHJhY2UgPSBpbnMudHJhY2VzW2lucy50cmFjZXMubGVuZ3RoIC0gMl1cclxuXHRcdHByZV9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgcHJlX3RyYWNlLnN0ZXApXHJcblx0XHRpZiBwcmVfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb3VudGVyU2lnblwiXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXHJcblxyXG5cdFx0IyAtIOW9k+WJjeatpemqpOS4uuWhq+WGmeaIluiAheWuoeaJuVxyXG5cdFx0bGFzdF90cmFjZSA9IF8ubGFzdChpbnMudHJhY2VzKVxyXG5cdFx0Y3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgbGFzdF90cmFjZS5zdGVwKVxyXG5cdFx0aWYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpc250IFwic3VibWl0XCIgYW5kIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXNudCBcInNpZ25cIiBhbmQgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpc250IFwiY291bnRlclNpZ25cIlxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxyXG5cclxuXHRcdCMgLSDlj4LmlbBhcHByb3Zl5LitdHJhY2XkuI7lvZPliY3ojrflj5bnmoR0cmFjZeaYr+WQpuWMuemFjVxyXG5cdFx0aWYgYXBwcm92ZS50cmFjZSBpc250IGxhc3RfdHJhY2UuX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXHJcblxyXG5cdFx0bmV3X2luYm94X3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2ggcHJlX3RyYWNlLmFwcHJvdmVzLCAoYSktPlxyXG5cdFx0XHRpZiAoIWEudHlwZSBvciBhLnR5cGUgaXMgXCJkcmFmdFwiIG9yIGEudHlwZSBpcyBcInJlYXNzaWduXCIpIGFuZCAoIWEuanVkZ2Ugb3IgYS5qdWRnZSBpcyBcInN1Ym1pdHRlZFwiIG9yIGEuanVkZ2UgaXMgXCJhcHByb3ZlZFwiIG9yIGEuanVkZ2UgaXMgXCJyZWplY3RlZFwiKVxyXG5cdFx0XHRcdG5ld19pbmJveF91c2Vycy5wdXNoKGEudXNlcilcclxuXHJcblx0XHRpZiBfLmlzRW1wdHkobmV3X2luYm94X3VzZXJzKVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOS4i+S4gOatpeWkhOeQhuS6uu+8jOmAgOWbnuWksei0pVwiKVxyXG5cclxuXHRcdHRyYWNlcyA9IGlucy50cmFjZXNcclxuXHJcblx0XHRhcHByb3ZlX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhhcHByb3ZlLnZhbHVlcyB8fCB7fSwgY3VycmVudF9zdGVwLnBlcm1pc3Npb25zLCBpbnMuZm9ybSwgaW5zLmZvcm1fdmVyc2lvbilcclxuXHJcblx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XHJcblx0XHRub3cgPSBuZXcgRGF0ZVxyXG5cdFx0cmVzdF9jb3VudGVyX3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2ggdHJhY2VzLCAodCktPlxyXG5cdFx0XHRpZiB0Ll9pZCBpcyBsYXN0X3RyYWNlLl9pZFxyXG5cdFx0XHRcdGlmIG5vdCB0LmFwcHJvdmVzXHJcblx0XHRcdFx0XHR0LmFwcHJvdmVzID0gbmV3IEFycmF5XHJcblx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhLCBpZHgpLT5cclxuXHRcdFx0XHRcdGlmICghYS50eXBlIG9yIGEudHlwZSBpcyBcInJlYXNzaWduXCIpIGFuZCAoIWEuanVkZ2Ugb3IgYS5qdWRnZSBpcyBcInN1Ym1pdHRlZFwiIG9yIGEuanVkZ2UgaXMgXCJhcHByb3ZlZFwiIG9yIGEuanVkZ2UgaXMgXCJyZWplY3RlZFwiIG9yIGEuanVkZ2UgaXMgXCJyZWFkZWRcIikgYW5kIGEuaXNfZmluaXNoZWQgaXNudCB0cnVlXHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbm93XHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZXJyb3InXSA9IGZhbHNlXHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlXHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuY29zdF90aW1lJ10gPSBub3cgLSBhLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy52YWx1ZXMnXSA9IGFwcHJvdmVfdmFsdWVzXHJcblx0XHRcdFx0XHRcdGlmIGEuaGFuZGxlciBpcyBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSBcInJldHVybmVkXCJcclxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmRlc2NyaXB0aW9uJ10gPSByZWFzb25cclxuXHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdHJlc3RfY291bnRlcl91c2Vycy5wdXNoIGEuaGFuZGxlclxyXG5cclxuXHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXHJcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5pc19maW5pc2hlZCddID0gdHJ1ZVxyXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuZmluaXNoX2RhdGUnXSA9IHRydWVcclxuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmp1ZGdlJ10gPSBcInJldHVybmVkXCJcclxuXHJcblx0XHRpbnMudmFsdWVzID0gXy5leHRlbmQoKGlucy52YWx1ZXMgfHwge30pLCBhcHByb3ZlX3ZhbHVlcylcclxuXHJcblx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXHJcblx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3RcclxuXHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF1cclxuXHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2VcclxuXHRcdG5ld1RyYWNlLnN0ZXAgPSBwcmVfdHJhY2Uuc3RlcFxyXG5cdFx0bmV3VHJhY2UubmFtZSA9IHByZV90cmFjZS5uYW1lXHJcblx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShwcmVfc3RlcC50aW1lb3V0X2hvdXJzKVxyXG5cdFx0bmV3VHJhY2UuYXBwcm92ZXMgPSBbXVxyXG5cdFx0Xy5lYWNoIG5ld19pbmJveF91c2VycywgKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpLT5cclxuXHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZS5hcHByb3Zl6K6w5b2VXHJcblx0XHRcdG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0XHJcblx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0bmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZFxyXG5cdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2VcclxuXHRcdFx0bmV3QXBwcm92ZS51c2VyID0gbmV4dF9zdGVwX3VzZXJfaWRcclxuXHJcblx0XHRcdHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUobmV4dF9zdGVwX3VzZXJfaWQsIHtmaWVsZHM6IHtuYW1lOiAxfX0pXHJcblx0XHRcdG5ld0FwcHJvdmUudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWVcclxuXHJcblx0XHRcdGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZFxyXG5cdFx0XHRoYW5kbGVyX2luZm8gPSB1c2VyX2luZm9cclxuXHRcdFx0YWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCBuZXh0X3N0ZXBfdXNlcl9pZClcclxuXHRcdFx0aWYgYWdlbnRcclxuXHRcdFx0XHRuZXdfaW5ib3hfdXNlcnNbaWR4XSA9IGFnZW50XHJcblx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50XHJcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYWdlbnQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50XHJcblxyXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkXHJcblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcclxuXHJcblx0XHRcdG5leHRfc3RlcF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGhhbmRsZXJfaWQpXHJcblx0XHRcdCMg6I635Y+WbmV4dF9zdGVwX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cclxuXHRcdFx0bmV4dF9zdGVwX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8obmV4dF9zdGVwX3NwYWNlX3VzZXIpXHJcblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxyXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXHJcblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxyXG5cclxuXHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlXHJcblx0XHRcdG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZVxyXG5cdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3RcclxuXHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGlucy52YWx1ZXMsIG5ld0FwcHJvdmUpXHJcblx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSlcclxuXHJcblx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBuZXdfaW5ib3hfdXNlcnNcclxuXHRcdHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiXHJcblxyXG5cdFx0aW5zLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcilcclxuXHRcdHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zLm91dGJveF91c2VycylcclxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xyXG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXHJcblx0XHRzZXRPYmoudmFsdWVzID0gaW5zLnZhbHVlc1xyXG5cclxuXHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHByZV90cmFjZS5uYW1lXHJcblxyXG5cdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWQsICd0cmFjZXMuX2lkJzogbGFzdF90cmFjZS5faWR9LCB7JHNldDogc2V0T2JqfSlcclxuXHRcdGIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRwdXNoOiB7dHJhY2VzOiBuZXdUcmFjZX19KVxyXG5cdFx0aWYgciAmJiBiXHJcblx0XHRcdCMg5pawaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXHJcblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcclxuXHRcdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcclxuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZXR1cm5fcGVuZGluZ19pbmJveFwiLCBpbnN0YW5jZSwgcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbylcclxuXHRcdFx0IyDlpoLmnpzmmK/kvJrnrb7liJnnu5nkvJrnrb7mnKrmj5DkuqTnmoTkurrlj5HpgIFwdXNoXHJcblx0XHRcdF8uZWFjaCByZXN0X2NvdW50ZXJfdXNlcnMsICh1c2VyX2lkKS0+XHJcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXHJcblx0XHRyZXR1cm4gdHJ1ZSIsIk1ldGVvci5tZXRob2RzKHtcbiAgaW5zdGFuY2VfcmV0dXJuOiBmdW5jdGlvbihhcHByb3ZlLCByZWFzb24pIHtcbiAgICB2YXIgYXBwcm92ZV92YWx1ZXMsIGIsIGN1cnJlbnRfc3RlcCwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZmxvdywgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIGxhc3RfdHJhY2UsIG5ld1RyYWNlLCBuZXdfaW5ib3hfdXNlcnMsIG5vdywgcHJlX3N0ZXAsIHByZV90cmFjZSwgciwgcmVzdF9jb3VudGVyX3VzZXJzLCBzZXRPYmosIHNwYWNlX2lkLCB0cmFjZXM7XG4gICAgY2hlY2soYXBwcm92ZSwgT2JqZWN0KTtcbiAgICBjdXJyZW50X3VzZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBpbnN0YW5jZV9pZCA9IGFwcHJvdmUuaW5zdGFuY2U7XG4gICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgc3BhY2VfaWQgPSBpbnMuc3BhY2U7XG4gICAgaWYgKGlucy5zdGF0ZSAhPT0gXCJwZW5kaW5nXCIgfHwgIWlucy5pbmJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gXCJjY1wiICYmIGlucy5jY191c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgaWYgKGlucy50cmFjZXMubGVuZ3RoIDwgMikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zLmZsb3cpO1xuICAgIHByZV90cmFjZSA9IGlucy50cmFjZXNbaW5zLnRyYWNlcy5sZW5ndGggLSAyXTtcbiAgICBwcmVfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIHByZV90cmFjZS5zdGVwKTtcbiAgICBpZiAocHJlX3N0ZXAuc3RlcF90eXBlID09PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBsYXN0X3RyYWNlID0gXy5sYXN0KGlucy50cmFjZXMpO1xuICAgIGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcCk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgIT09IFwic3VibWl0XCIgJiYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSAhPT0gXCJzaWduXCIgJiYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSAhPT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUudHJhY2UgIT09IGxhc3RfdHJhY2UuX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgbmV3X2luYm94X3VzZXJzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChwcmVfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIGlmICgoIWEudHlwZSB8fCBhLnR5cGUgPT09IFwiZHJhZnRcIiB8fCBhLnR5cGUgPT09IFwicmVhc3NpZ25cIikgJiYgKCFhLmp1ZGdlIHx8IGEuanVkZ2UgPT09IFwic3VibWl0dGVkXCIgfHwgYS5qdWRnZSA9PT0gXCJhcHByb3ZlZFwiIHx8IGEuanVkZ2UgPT09IFwicmVqZWN0ZWRcIikpIHtcbiAgICAgICAgcmV0dXJuIG5ld19pbmJveF91c2Vycy5wdXNoKGEudXNlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKF8uaXNFbXB0eShuZXdfaW5ib3hfdXNlcnMpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOS4i+S4gOatpeWkhOeQhuS6uu+8jOmAgOWbnuWksei0pVwiKTtcbiAgICB9XG4gICAgdHJhY2VzID0gaW5zLnRyYWNlcztcbiAgICBhcHByb3ZlX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhhcHByb3ZlLnZhbHVlcyB8fCB7fSwgY3VycmVudF9zdGVwLnBlcm1pc3Npb25zLCBpbnMuZm9ybSwgaW5zLmZvcm1fdmVyc2lvbik7XG4gICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICByZXN0X2NvdW50ZXJfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgaWYgKHQuX2lkID09PSBsYXN0X3RyYWNlLl9pZCkge1xuICAgICAgICBpZiAoIXQuYXBwcm92ZXMpIHtcbiAgICAgICAgICB0LmFwcHJvdmVzID0gbmV3IEFycmF5O1xuICAgICAgICB9XG4gICAgICAgIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhLCBpZHgpIHtcbiAgICAgICAgICBpZiAoKCFhLnR5cGUgfHwgYS50eXBlID09PSBcInJlYXNzaWduXCIpICYmICghYS5qdWRnZSB8fCBhLmp1ZGdlID09PSBcInN1Ym1pdHRlZFwiIHx8IGEuanVkZ2UgPT09IFwiYXBwcm92ZWRcIiB8fCBhLmp1ZGdlID09PSBcInJlamVjdGVkXCIgfHwgYS5qdWRnZSA9PT0gXCJyZWFkZWRcIikgJiYgYS5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbm93O1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5vdztcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZXJyb3InXSA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuY29zdF90aW1lJ10gPSBub3cgLSBhLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnZhbHVlcyddID0gYXBwcm92ZV92YWx1ZXM7XG4gICAgICAgICAgICBpZiAoYS5oYW5kbGVyID09PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJyZXR1cm5lZFwiO1xuICAgICAgICAgICAgICByZXR1cm4gc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5kZXNjcmlwdGlvbiddID0gcmVhc29uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3RfY291bnRlcl91c2Vycy5wdXNoKGEuaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5pc19maW5pc2hlZCddID0gdHJ1ZTtcbiAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5maW5pc2hfZGF0ZSddID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHNldE9ialsndHJhY2VzLiQuanVkZ2UnXSA9IFwicmV0dXJuZWRcIjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpbnMudmFsdWVzID0gXy5leHRlbmQoaW5zLnZhbHVlcyB8fCB7fSwgYXBwcm92ZV92YWx1ZXMpO1xuICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXTtcbiAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgIG5ld1RyYWNlLnN0ZXAgPSBwcmVfdHJhY2Uuc3RlcDtcbiAgICBuZXdUcmFjZS5uYW1lID0gcHJlX3RyYWNlLm5hbWU7XG4gICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICBuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShwcmVfc3RlcC50aW1lb3V0X2hvdXJzKTtcbiAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgIF8uZWFjaChuZXdfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpIHtcbiAgICAgIHZhciBhZ2VudCwgaGFuZGxlcl9pZCwgaGFuZGxlcl9pbmZvLCBuZXdBcHByb3ZlLCBuZXh0X3N0ZXBfc3BhY2VfdXNlciwgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8sIHVzZXJfaW5mbztcbiAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgbmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZDtcbiAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZTtcbiAgICAgIGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgIGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mbztcbiAgICAgIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpO1xuICAgICAgaWYgKGFnZW50KSB7XG4gICAgICAgIG5ld19pbmJveF91c2Vyc1tpZHhdID0gYWdlbnQ7XG4gICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBhZ2VudFxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50O1xuICAgICAgfVxuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZDtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICBuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKTtcbiAgICAgIG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnMudmFsdWVzLCBuZXdBcHByb3ZlKTtcbiAgICAgIHJldHVybiBuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgIH0pO1xuICAgIHNldE9iai5pbmJveF91c2VycyA9IG5ld19pbmJveF91c2VycztcbiAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICBpbnMub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGlucy5vdXRib3hfdXNlcnMpO1xuICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgc2V0T2JqLnZhbHVlcyA9IGlucy52YWx1ZXM7XG4gICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJlX3RyYWNlLm5hbWU7XG4gICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgICd0cmFjZXMuX2lkJzogbGFzdF90cmFjZS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiBzZXRPYmpcbiAgICB9KTtcbiAgICBiID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgJHB1c2g6IHtcbiAgICAgICAgdHJhY2VzOiBuZXdUcmFjZVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChyICYmIGIpIHtcbiAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZXR1cm5fcGVuZGluZ19pbmJveFwiLCBpbnN0YW5jZSwgcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICBfLmVhY2gocmVzdF9jb3VudGVyX3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRpbnN0YW5jZV9yZW1pbmQ6IChyZW1pbmRfdXNlcnMsIHJlbWluZF9jb3VudCwgcmVtaW5kX2RlYWRsaW5lLCBpbnN0YW5jZV9pZCwgYWN0aW9uX3R5cGVzLCB0cmFjZV9pZCktPlxyXG5cdFx0Y2hlY2sgcmVtaW5kX3VzZXJzLCBBcnJheVxyXG5cdFx0Y2hlY2sgcmVtaW5kX2NvdW50LCBNYXRjaC5PbmVPZignc2luZ2xlJywgJ211bHRpJylcclxuXHRcdGNoZWNrIHJlbWluZF9kZWFkbGluZSwgRGF0ZVxyXG5cdFx0Y2hlY2sgaW5zdGFuY2VfaWQsIFN0cmluZ1xyXG5cdFx0Y2hlY2sgYWN0aW9uX3R5cGVzLCBBcnJheVxyXG5cdFx0Y2hlY2sgdHJhY2VfaWQsIFN0cmluZ1xyXG5cclxuXHRcdGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkXHJcblx0XHRsYXN0X3JlbWluZF91c2VycyA9IG5ldyBBcnJheVxyXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWR9LCB7ZmllbGRzOiB7bmFtZTogMSwgdHJhY2VzOiAxLCB2YWx1ZXM6IDEsIHNwYWNlOiAxfX0pXHJcblx0XHRpZiBhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FkbWluJylcclxuXHRcdFx0aWYgcmVtaW5kX2NvdW50IGlzICdzaW5nbGUnXHJcblx0XHRcdFx0Xy5lYWNoIGlucy50cmFjZXMsICh0KS0+XHJcblx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwKS0+XHJcblx0XHRcdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXHJcblx0XHRcdFx0XHRcdFx0bGFzdF9yZW1pbmRfdXNlcnMucHVzaCBhcC51c2VyXHJcblx0XHRcdGVsc2UgaWYgcmVtaW5kX2NvdW50IGlzICdtdWx0aSdcclxuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxyXG5cdFx0XHRcdHByaW9yaXR5ID0gaW5zLnZhbHVlcy5wcmlvcml0eVxyXG5cdFx0XHRcdF8uZWFjaCBpbnMudHJhY2VzLCAodCktPlxyXG5cdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhcCktPlxyXG5cdFx0XHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxyXG5cdFx0XHRcdFx0XHRcdGFwLm1hbnVhbF9kZWFkbGluZSA9IHJlbWluZF9kZWFkbGluZVxyXG5cdFx0XHRcdFx0XHRcdCMg77yIMe+8ieKAnOaZrumAmuKAne+8muWmguS4ieS4quW3peS9nOaXpeWGheacquWkhOeQhu+8jOezu+e7n+iHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4uuS6jOaXpeWGhe+8m1xyXG5cdFx0XHRcdFx0XHRcdCMgIOWmguS6jOaXpeWQjuS7jeacquWkhOeQhu+8jOezu+e7n+avj+WkqeiHquWKqOWPkeefreS/oeaPkOmGku+8jOWKnue7k+aXtumZkOS4uuS4gOaXpeWGheOAglxyXG5cdFx0XHRcdFx0XHRcdGlmIHByaW9yaXR5IGlzIFwi5pmu6YCaXCIgb3Igbm90IHByaW9yaXR5XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdFx0XHQjIO+8iDLvvInigJzlip7mlofigJ3vvJrlpoLkuIDkuKrlt6XkvZzml6XlhoXmnKrlpITnkIbvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrooajljZXkuIrnmoTigJzlip7nu5Pml7bpmZDigJ3vvIjmlofkuablvZXlhaXnmoTml7bpl7TvvInvvJtcclxuXHRcdFx0XHRcdFx0XHQjICDlpoLkuIDml6XlkI7ku43mnKrlpITnkIbvvIzns7vnu5/mr4/lpKnoh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuI3lj5jvvJtcclxuXHRcdFx0XHRcdFx0XHQjICDot53nprvlip7nu5Pml7bpmZDkuLrljYrml6Xml7bvvIzliJnmr4/ljYrkuKrlt6XkvZzml6Xmj5DphpLlm5vmrKHvvJvotoXov4flip7nu5Pml7bpmZDlkI7ku43nhLbmjInnhafmr4/ljYrml6Xlm5vmrKHmj5DphpLjgIJcclxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIHByaW9yaXR5IGlzIFwi5Yqe5paHXCJcclxuXHRcdFx0XHRcdFx0XHRcdGlmIFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSAjIOi2hei/h+S6huWKnue7k+aXtumZkOaIluiAhei3neemu+WKnue7k+aXtumZkOWNiuaXpeWGhVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKVxyXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlID0gKGJhc2VfZGF0ZSktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgcGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUobm93KVxyXG5cclxuXHRcdFx0XHRcdFx0XHQjIO+8iDPvvInigJzntKfmgKXigJ3vvJrlnKjlj5HpgIHnmoTlkIzml7bvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrooajljZXkuIrnmoTigJzlip7nu5Pml7bpmZDigJ3vvIjmlofkuablvZXlhaXnmoTml7bpl7TvvInvvJtcclxuXHRcdFx0XHRcdFx0XHQjICDlpoLljYrml6XlhoXku43mnKrlpITnkIbvvIzns7vnu5/mr4/ljYrlpKnoh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuI3lj5jvvJvot53nprvlip7nu5Pml7bpmZDkuLrljYrml6Xml7bvvIzmr4/ljYrkuKrlt6XkvZzml6Xmj5DphpLlm5vmrKHvvJvotoXov4flip7nu5Pml7bpmZDlkI7ku43nhLbmjInnhafmr4/ljYrml6Xlm5vmrKHmj5DphpLjgIJcclxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIHByaW9yaXR5IGlzIFwi57Sn5oClXCJcclxuXHRcdFx0XHRcdFx0XHRcdGlmIFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSAjIOi2hei/h+S6huWKnue7k+aXtumZkOaIluiAhei3neemu+WKnue7k+aXtumZkOWNiuaXpeWGhVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKVxyXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlID0gKGJhc2VfZGF0ZSktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgcGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUobm93KVxyXG5cclxuXHRcdFx0XHRcdFx0XHQjIO+8iDTvvInigJznibnmgKXigJ3vvJrlnKjlj5HpgIHnmoTlkIzml7bvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrooajljZXkuIrnmoTigJzlip7nu5Pml7bpmZDigJ3vvIjmlofkuablvZXlhaXnmoTml7bpl7TvvInvvJtcclxuXHRcdFx0XHRcdFx0XHQjICDlpoLljYrml6XlhoXku43mnKrlpITnkIbvvIzns7vnu5/mr4/ljYrkuKrlt6XkvZzml6Xmj5DphpLlm5vmrKHvvJrlip7nu5Pml7bpmZDkuI3lj5jvvJvotoXov4flip7nu5Pml7bpmZDlkI7ku43nhLbmjInnhafmr4/ljYrml6Xlm5vmrKHmj5DphpLjgIJcclxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIHByaW9yaXR5IGlzIFwi54m55oClXCJcclxuXHRcdFx0XHRcdFx0XHRcdGlmIFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSAjIOi2hei/h+S6huWKnue7k+aXtumZkOaIluiAhei3neemu+WKnue7k+aXtumZkOWNiuaXpeWGhVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKVxyXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlID0gKGJhc2VfZGF0ZSktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgcGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUobm93KVxyXG5cclxuXHRcdFx0XHRpZiBub3QgXy5pc0VtcHR5KGxhc3RfcmVtaW5kX3VzZXJzKVxyXG5cdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiB7J3RyYWNlcyc6IGlucy50cmFjZXN9fSlcclxuXHJcblx0XHRlbHNlIGlmIGFjdGlvbl90eXBlcy5pbmNsdWRlcygnYXBwbGljYW50JylcclxuXHRcdFx0dHJhY2UgPSBfLmZpbmQgaW5zLnRyYWNlcywgKHQpLT5cclxuXHRcdFx0XHRyZXR1cm4gdC5faWQgaXMgdHJhY2VfaWRcclxuXHRcdFx0Xy5lYWNoIHRyYWNlLmFwcHJvdmVzLCAoYXApLT5cclxuXHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxyXG5cdFx0XHRcdFx0bGFzdF9yZW1pbmRfdXNlcnMucHVzaCBhcC51c2VyXHJcblxyXG5cdFx0ZWxzZSBpZiBhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2NjJylcclxuXHRcdFx0Xy5lYWNoIGlucy50cmFjZXMsICh0KS0+XHJcblx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhcCktPlxyXG5cdFx0XHRcdFx0aWYgcmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpIGFuZCBhcC5pc19maW5pc2hlZCBpc250IHRydWUgYW5kIGFwLnR5cGUgaXMgJ2NjJyBhbmQgYXAuZnJvbV91c2VyIGlzIGN1cnJlbnRfdXNlcl9pZFxyXG5cdFx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcclxuXHJcblx0XHR1dWZsb3dNYW5hZ2VyLnNlbmRSZW1pbmRTTVMgaW5zLm5hbWUsIHJlbWluZF9kZWFkbGluZSwgbGFzdF9yZW1pbmRfdXNlcnMsIGlucy5zcGFjZSwgaW5zLl9pZFxyXG5cclxuXHRcdHJldHVybiB0cnVlXHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgaW5zdGFuY2VfcmVtaW5kOiBmdW5jdGlvbihyZW1pbmRfdXNlcnMsIHJlbWluZF9jb3VudCwgcmVtaW5kX2RlYWRsaW5lLCBpbnN0YW5jZV9pZCwgYWN0aW9uX3R5cGVzLCB0cmFjZV9pZCkge1xuICAgIHZhciBjdXJyZW50X3VzZXJfaWQsIGlucywgbGFzdF9yZW1pbmRfdXNlcnMsIG5vdywgcHJpb3JpdHksIHRyYWNlO1xuICAgIGNoZWNrKHJlbWluZF91c2VycywgQXJyYXkpO1xuICAgIGNoZWNrKHJlbWluZF9jb3VudCwgTWF0Y2guT25lT2YoJ3NpbmdsZScsICdtdWx0aScpKTtcbiAgICBjaGVjayhyZW1pbmRfZGVhZGxpbmUsIERhdGUpO1xuICAgIGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGFjdGlvbl90eXBlcywgQXJyYXkpO1xuICAgIGNoZWNrKHRyYWNlX2lkLCBTdHJpbmcpO1xuICAgIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xuICAgIGxhc3RfcmVtaW5kX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogMSxcbiAgICAgICAgdHJhY2VzOiAxLFxuICAgICAgICB2YWx1ZXM6IDEsXG4gICAgICAgIHNwYWNlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGFjdGlvbl90eXBlcy5pbmNsdWRlcygnYWRtaW4nKSkge1xuICAgICAgaWYgKHJlbWluZF9jb3VudCA9PT0gJ3NpbmdsZScpIHtcbiAgICAgICAgXy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwKSB7XG4gICAgICAgICAgICBpZiAocmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpICYmIGFwLmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBsYXN0X3JlbWluZF91c2Vycy5wdXNoKGFwLnVzZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocmVtaW5kX2NvdW50ID09PSAnbXVsdGknKSB7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBwcmlvcml0eSA9IGlucy52YWx1ZXMucHJpb3JpdHk7XG4gICAgICAgIF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICAgICAgdmFyIGNhY3VsYXRlX2RhdGU7XG4gICAgICAgICAgICBpZiAocmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpICYmIGFwLmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgICAgICAgIGFwLm1hbnVhbF9kZWFkbGluZSA9IHJlbWluZF9kZWFkbGluZTtcbiAgICAgICAgICAgICAgaWYgKHByaW9yaXR5ID09PSBcIuaZrumAmlwiIHx8ICFwcmlvcml0eSkge1xuXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPT09IFwi5Yqe5paHXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZSA9IGZ1bmN0aW9uKGJhc2VfZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGx1c19oYWxmZGF5X2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2FjdWxhdGVfZGF0ZShub3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA9PT0gXCLntKfmgKVcIikge1xuICAgICAgICAgICAgICAgIGlmIChTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlID0gZnVuY3Rpb24oYmFzZV9kYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbHVzX2hhbGZkYXlfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgcGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYWN1bGF0ZV9kYXRlKG5vdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09PSBcIueJueaApVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUgPSBmdW5jdGlvbihiYXNlX2RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdXNfaGFsZmRheV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICBwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY3VsYXRlX2RhdGUobm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghXy5pc0VtcHR5KGxhc3RfcmVtaW5kX3VzZXJzKSkge1xuICAgICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgJ3RyYWNlcyc6IGlucy50cmFjZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdhcHBsaWNhbnQnKSkge1xuICAgICAgdHJhY2UgPSBfLmZpbmQoaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdC5faWQgPT09IHRyYWNlX2lkO1xuICAgICAgfSk7XG4gICAgICBfLmVhY2godHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwKSB7XG4gICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICByZXR1cm4gbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2NjJykpIHtcbiAgICAgIF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgICBpZiAocmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpICYmIGFwLmlzX2ZpbmlzaGVkICE9PSB0cnVlICYmIGFwLnR5cGUgPT09ICdjYycgJiYgYXAuZnJvbV91c2VyID09PSBjdXJyZW50X3VzZXJfaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0X3JlbWluZF91c2Vycy5wdXNoKGFwLnVzZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5zZW5kUmVtaW5kU01TKGlucy5uYW1lLCByZW1pbmRfZGVhZGxpbmUsIGxhc3RfcmVtaW5kX3VzZXJzLCBpbnMuc3BhY2UsIGlucy5faWQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0bmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZDogKGRlYWxfdHlwZSwgc3RlcF9uYW1lLCBwYXJhbXMpIC0+XHJcblx0XHRjaGVjayBkZWFsX3R5cGUsIFN0cmluZ1xyXG5cdFx0Y2hlY2sgc3RlcF9uYW1lLCBTdHJpbmdcclxuXHRcdGNoZWNrIHBhcmFtcywgT2JqZWN0XHJcblxyXG5cdFx0c3RyID0gXCJcIlxyXG5cdFx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHRoaXMudXNlcklkIH0sIHsgZmllbGRzOiB7IGxvY2FsZTogMSB9IH0pXHJcblx0XHQj6K6+572u5b2T5YmN6K+t6KiA546v5aKDXHJcblx0XHRsYW5nID0gJ2VuJ1xyXG5cdFx0aWYgdXNlci5sb2NhbGUgaXMgJ3poLWNuJ1xyXG5cdFx0XHRsYW5nID0gJ3poLUNOJ1xyXG5cclxuXHRcdCMg5oyH5a6a5a6h5om55bKX5L2NXHJcblx0XHRpZiBkZWFsX3R5cGUgaXMgJ2FwcGxpY2FudFJvbGUnXHJcblx0XHRcdGFwcHJvdmVyX3JvbGVzID0gcGFyYW1zLmFwcHJvdmVyX3JvbGVzXHJcblx0XHRcdHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiB7ICRpbjogYXBwcm92ZXJfcm9sZXMgfSB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSkuZmV0Y2goKVxyXG5cdFx0XHRyb2xlc19uYW1lID0gXy5wbHVjayhyb2xlcywgJ25hbWUnKS50b1N0cmluZygpXHJcblx0XHRcdHN0ciA9IFRBUGkxOG4uX18gJ25leHRfc3RlcF91c2Vyc19ub3RfZm91bmQuYXBwbGljYW50X3JvbGUnLCB7IHN0ZXBfbmFtZTogc3RlcF9uYW1lLCByb2xlX25hbWU6IHJvbGVzX25hbWUgfSwgbGFuZ1xyXG5cclxuXHJcblx0XHRyZXR1cm4gc3RyXHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZDogZnVuY3Rpb24oZGVhbF90eXBlLCBzdGVwX25hbWUsIHBhcmFtcykge1xuICAgIHZhciBhcHByb3Zlcl9yb2xlcywgbGFuZywgcm9sZXMsIHJvbGVzX25hbWUsIHN0ciwgdXNlcjtcbiAgICBjaGVjayhkZWFsX3R5cGUsIFN0cmluZyk7XG4gICAgY2hlY2soc3RlcF9uYW1lLCBTdHJpbmcpO1xuICAgIGNoZWNrKHBhcmFtcywgT2JqZWN0KTtcbiAgICBzdHIgPSBcIlwiO1xuICAgIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgIF9pZDogdGhpcy51c2VySWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbG9jYWxlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgbGFuZyA9ICdlbic7XG4gICAgaWYgKHVzZXIubG9jYWxlID09PSAnemgtY24nKSB7XG4gICAgICBsYW5nID0gJ3poLUNOJztcbiAgICB9XG4gICAgaWYgKGRlYWxfdHlwZSA9PT0gJ2FwcGxpY2FudFJvbGUnKSB7XG4gICAgICBhcHByb3Zlcl9yb2xlcyA9IHBhcmFtcy5hcHByb3Zlcl9yb2xlcztcbiAgICAgIHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBhcHByb3Zlcl9yb2xlc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIHJvbGVzX25hbWUgPSBfLnBsdWNrKHJvbGVzLCAnbmFtZScpLnRvU3RyaW5nKCk7XG4gICAgICBzdHIgPSBUQVBpMThuLl9fKCduZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmFwcGxpY2FudF9yb2xlJywge1xuICAgICAgICBzdGVwX25hbWU6IHN0ZXBfbmFtZSxcbiAgICAgICAgcm9sZV9uYW1lOiByb2xlc19uYW1lXG4gICAgICB9LCBsYW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufSk7XG4iLCJfZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKVxyXG5cclxuTWV0ZW9yLm1ldGhvZHNcclxuXHRpbnN0YW5jZU51bWJlckJ1aWxkZXI6IChzcGFjZUlkLCBuYW1lKS0+XHJcblxyXG5cdFx0bnVtYmVyUnVsZXMgPSBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMuZmluZE9uZSh7c3BhY2U6IHNwYWNlSWQsIG5hbWU6IG5hbWV9KVxyXG5cclxuXHRcdGlmICFudW1iZXJSdWxlc1xyXG5cdFx0XHR0aHJvdyBuZXcgIE1ldGVvci5FcnJvcignZXJyb3IhJywgXCIje25hbWV9XCIpXHJcblxyXG5cdFx0ZGF0ZSA9IG5ldyBEYXRlKClcclxuXHJcblx0XHRjb250ZXh0ID0ge31cclxuXHJcblx0XHRjb250ZXh0Ll8gPSBfXHJcblxyXG5cdFx0X1lZWVkgPSBkYXRlLmdldEZ1bGxZZWFyKClcclxuXHJcblx0XHRfTlVNQkVSID0gKG51bWJlclJ1bGVzLm51bWJlciB8fCAwKSArIDFcclxuXHJcblx0XHRjb250ZXh0LllZWVkgPSBfLmNsb25lKF9ZWVlZKVxyXG5cclxuXHRcdGNvbnRleHQuTU0gPSBkYXRlLmdldE1vbnRoKCkgKyAxXHJcblxyXG5cdFx0Y29udGV4dC5tbSA9IGRhdGUuZ2V0TW9udGgoKSArIDFcclxuXHJcblx0XHRpZiBjb250ZXh0Lk1NIDwgMTBcclxuXHRcdFx0Y29udGV4dC5NTSA9IFwiMFwiICsgY29udGV4dC5NTVxyXG5cclxuXHRcdGNvbnRleHQuREQgPSBkYXRlLmdldERhdGUoKVxyXG5cclxuXHRcdGNvbnRleHQuZGQgPSBkYXRlLmdldERhdGUoKVxyXG5cclxuXHRcdGlmIGNvbnRleHQuREQgPCAxMFxyXG5cdFx0XHRjb250ZXh0LkREID0gXCIwXCIgKyBjb250ZXh0LkREXHJcblxyXG5cdFx0aWYgY29udGV4dC5ZWVlZICE9IG51bWJlclJ1bGVzLnllYXJcclxuXHRcdFx0X05VTUJFUiA9IG51bWJlclJ1bGVzLmZpcnN0X251bWJlciB8fCAxXHJcblxyXG5cdFx0Y29udGV4dC5OVU1CRVIgPSBfLmNsb25lKF9OVU1CRVIpXHJcblxyXG5cdFx0cnVsZXMgPSBudW1iZXJSdWxlcy5ydWxlcy5yZXBsYWNlKFwie1lZWVl9XCIsIFwiJyArIFlZWVkgKyAnXCIpLnJlcGxhY2UoXCJ7TU19XCIsIFwiJyArIE1NICsgJ1wiKS5yZXBsYWNlKFwie05VTUJFUn1cIiwgXCInICsgTlVNQkVSICsgJ1wiKVxyXG5cclxuXHRcdHNjcmlwdCA9IFwidmFyIG5ld05vID0gJyN7cnVsZXN9JzsgZXhwb3J0cy5uZXdObyA9IG5ld05vXCI7XHJcblxyXG5cdFx0dHJ5XHJcblx0XHRcdHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJuZXdOb1wiLCBjb250ZXh0LCBmYWxzZSkubmV3Tm9cclxuXHJcblx0XHRcdGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy51cGRhdGUoe19pZDogbnVtYmVyUnVsZXMuX2lkfSwgeyRzZXQ6IHt5ZWFyOiBfWVlZWSwgbnVtYmVyOiBfTlVNQkVSfX0pXHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZyB0aGlzLnVzZXJJZCwgcmVzXHJcblxyXG5cdFx0Y2F0Y2ggZVxyXG5cdFx0XHRyZXMgPSB7X2Vycm9yOiBlfVxyXG5cclxuXHRcdHJldHVybiByZXM7XHJcbiIsInZhciBfZXZhbDtcblxuX2V2YWwgPSByZXF1aXJlKCdldmFsJyk7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgaW5zdGFuY2VOdW1iZXJCdWlsZGVyOiBmdW5jdGlvbihzcGFjZUlkLCBuYW1lKSB7XG4gICAgdmFyIF9OVU1CRVIsIF9ZWVlZLCBjb250ZXh0LCBkYXRlLCBlLCBudW1iZXJSdWxlcywgcmVzLCBydWxlcywgc2NyaXB0O1xuICAgIG51bWJlclJ1bGVzID0gZGIuaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgICBuYW1lOiBuYW1lXG4gICAgfSk7XG4gICAgaWYgKCFudW1iZXJSdWxlcykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJcIiArIG5hbWUpO1xuICAgIH1cbiAgICBkYXRlID0gbmV3IERhdGUoKTtcbiAgICBjb250ZXh0ID0ge307XG4gICAgY29udGV4dC5fID0gXztcbiAgICBfWVlZWSA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICBfTlVNQkVSID0gKG51bWJlclJ1bGVzLm51bWJlciB8fCAwKSArIDE7XG4gICAgY29udGV4dC5ZWVlZID0gXy5jbG9uZShfWVlZWSk7XG4gICAgY29udGV4dC5NTSA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgY29udGV4dC5tbSA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgaWYgKGNvbnRleHQuTU0gPCAxMCkge1xuICAgICAgY29udGV4dC5NTSA9IFwiMFwiICsgY29udGV4dC5NTTtcbiAgICB9XG4gICAgY29udGV4dC5ERCA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIGNvbnRleHQuZGQgPSBkYXRlLmdldERhdGUoKTtcbiAgICBpZiAoY29udGV4dC5ERCA8IDEwKSB7XG4gICAgICBjb250ZXh0LkREID0gXCIwXCIgKyBjb250ZXh0LkREO1xuICAgIH1cbiAgICBpZiAoY29udGV4dC5ZWVlZICE9PSBudW1iZXJSdWxlcy55ZWFyKSB7XG4gICAgICBfTlVNQkVSID0gbnVtYmVyUnVsZXMuZmlyc3RfbnVtYmVyIHx8IDE7XG4gICAgfVxuICAgIGNvbnRleHQuTlVNQkVSID0gXy5jbG9uZShfTlVNQkVSKTtcbiAgICBydWxlcyA9IG51bWJlclJ1bGVzLnJ1bGVzLnJlcGxhY2UoXCJ7WVlZWX1cIiwgXCInICsgWVlZWSArICdcIikucmVwbGFjZShcIntNTX1cIiwgXCInICsgTU0gKyAnXCIpLnJlcGxhY2UoXCJ7TlVNQkVSfVwiLCBcIicgKyBOVU1CRVIgKyAnXCIpO1xuICAgIHNjcmlwdCA9IFwidmFyIG5ld05vID0gJ1wiICsgcnVsZXMgKyBcIic7IGV4cG9ydHMubmV3Tm8gPSBuZXdOb1wiO1xuICAgIHRyeSB7XG4gICAgICByZXMgPSBfZXZhbChzY3JpcHQsIFwibmV3Tm9cIiwgY29udGV4dCwgZmFsc2UpLm5ld05vO1xuICAgICAgZGIuaW5zdGFuY2VfbnVtYmVyX3J1bGVzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogbnVtYmVyUnVsZXMuX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHtcbiAgICAgICAgICB5ZWFyOiBfWVlZWSxcbiAgICAgICAgICBudW1iZXI6IF9OVU1CRVJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLnVzZXJJZCwgcmVzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZSA9IGVycm9yO1xuICAgICAgcmVzID0ge1xuICAgICAgICBfZXJyb3I6IGVcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRjaGVja19tYWluX2F0dGFjaDogKGluc19pZCwgbmFtZSktPlxyXG5cdFx0Y2hlY2sgaW5zX2lkLCBTdHJpbmdcclxuXHRcdHV1Zmxvd01hbmFnZXIuY2hlY2tNYWluQXR0YWNoKGluc19pZCwgbmFtZSlcclxuXHRcdHJldHVybiAnc3VjY2VzcydcclxuXHJcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0cmVtb3ZlX3JlbGF0ZWQ6IChpbnNfaWQsIHJlX2luc19pZCktPlxyXG5cdFx0Y2hlY2soaW5zX2lkLCBTdHJpbmcpXHJcblx0XHRjaGVjayhyZV9pbnNfaWQsIFN0cmluZylcclxuXHRcdGlmICF0aGlzLnVzZXJJZFxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWR9LCB7ZmllbGRzOiB7cmVsYXRlZF9pbnN0YW5jZXM6IDF9fSlcclxuXHJcblx0XHRpZiBpbnNcclxuXHRcdFx0cmVzID0gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIHx8IFtdXHJcblxyXG5cdFx0XHRpbmRleCA9IHJlcy5pbmRleE9mKHJlX2luc19pZClcclxuXHJcblx0XHRcdGlmIGluZGV4ID4gLTFcclxuXHRcdFx0XHRyZXMucmVtb3ZlKGluZGV4KVxyXG5cclxuXHRcdFx0c2V0X29iaiA9IG5ldyBPYmplY3Q7XHJcblx0XHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XHJcblx0XHRcdHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZXNcclxuXHJcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zX2lkfSwgeyRzZXQ6IHNldF9vYmp9KVxyXG5cclxuXHR1cGRhdGVfaW5zdGFuY2VfcmVsYXRlZDogKGluc19pZCwgcmVsYXRlZF9pbnN0YW5jZXMpLT5cclxuXHRcdGNoZWNrKGluc19pZCwgU3RyaW5nKVxyXG5cdFx0Y2hlY2socmVsYXRlZF9pbnN0YW5jZXMsIEFycmF5KVxyXG5cclxuXHRcdGlmICF0aGlzLnVzZXJJZFxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWQsICRvcjogW3tzdWJtaXR0ZXI6IHRoaXMudXNlcklkfSwge2FwcGxpY2FudDogdGhpcy51c2VySWR9LCB7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dfSwge2ZpZWxkczoge3N0YXRlOiAxfX0pXHJcblxyXG5cdFx0aWYgaW5zXHJcblx0XHRcdHNldF9vYmogPSBuZXcgT2JqZWN0O1xyXG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdFx0c2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cdFx0XHRzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVsYXRlZF9pbnN0YW5jZXNcclxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnNfaWR9LCB7JHNldDogc2V0X29ian0pXHJcblxyXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46ICByZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7X2lkOiAxLCB2YWx1ZXM6IDF9fSkuZmV0Y2goKVxyXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIHJlbW92ZV9yZWxhdGVkOiBmdW5jdGlvbihpbnNfaWQsIHJlX2luc19pZCkge1xuICAgIHZhciBpbmRleCwgaW5zLCByZXMsIHNldF9vYmo7XG4gICAgY2hlY2soaW5zX2lkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHJlX2luc19pZCwgU3RyaW5nKTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHJlbGF0ZWRfaW5zdGFuY2VzOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucykge1xuICAgICAgcmVzID0gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIHx8IFtdO1xuICAgICAgaW5kZXggPSByZXMuaW5kZXhPZihyZV9pbnNfaWQpO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgcmVzLnJlbW92ZShpbmRleCk7XG4gICAgICB9XG4gICAgICBzZXRfb2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuICAgICAgc2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuICAgICAgc2V0X29iai5yZWxhdGVkX2luc3RhbmNlcyA9IHJlcztcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnNfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0X29ialxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICB1cGRhdGVfaW5zdGFuY2VfcmVsYXRlZDogZnVuY3Rpb24oaW5zX2lkLCByZWxhdGVkX2luc3RhbmNlcykge1xuICAgIHZhciBpbnMsIHNldF9vYmo7XG4gICAgY2hlY2soaW5zX2lkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHJlbGF0ZWRfaW5zdGFuY2VzLCBBcnJheSk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZCxcbiAgICAgICRvcjogW1xuICAgICAgICB7XG4gICAgICAgICAgc3VibWl0dGVyOiB0aGlzLnVzZXJJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgYXBwbGljYW50OiB0aGlzLnVzZXJJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgaW5ib3hfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjY191c2VyczogdGhpcy51c2VySWRcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMpIHtcbiAgICAgIHNldF9vYmogPSBuZXcgT2JqZWN0O1xuICAgICAgc2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG4gICAgICBzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG4gICAgICBzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVsYXRlZF9pbnN0YW5jZXM7XG4gICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnNfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0X29ialxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICBfaWQ6IHtcbiAgICAgICAgJGluOiByZWxhdGVkX2luc3RhbmNlc1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBfaWQ6IDEsXG4gICAgICAgIHZhbHVlczogMVxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHR1cGRhdGVGbG93UG9zaXRpb246IChkYXRhKSAtPlxyXG5cdFx0ZGIuZmxvd19wb3NpdGlvbnMudXBkYXRlIHsgX2lkOiBkYXRhLl9pZCB9LCAkc2V0OlxyXG5cdFx0XHRyb2xlOiBkYXRhLnJvbGVcclxuXHRcdFx0dXNlcnM6IGRhdGEudXNlcnNcclxuXHRcdFx0b3JnOiBkYXRhLm9yZ1xyXG5cclxuXHR1cGRhdGVGbG93Um9sZTogKGRhdGEpIC0+XHJcblx0XHRjb25zb2xlLmxvZyBkYXRhLl9pZFxyXG5cdFx0Y29uc29sZS5sb2cgZGF0YS5uYW1lXHJcblx0XHRkYi5mbG93X3JvbGVzLnVwZGF0ZSB7IF9pZDogZGF0YS5faWQgfSwgJHNldDpcclxuXHRcdFx0bmFtZTogZGF0YS5uYW1lIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICB1cGRhdGVGbG93UG9zaXRpb246IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICByZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMudXBkYXRlKHtcbiAgICAgIF9pZDogZGF0YS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIHJvbGU6IGRhdGEucm9sZSxcbiAgICAgICAgdXNlcnM6IGRhdGEudXNlcnMsXG4gICAgICAgIG9yZzogZGF0YS5vcmdcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgdXBkYXRlRmxvd1JvbGU6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhkYXRhLl9pZCk7XG4gICAgY29uc29sZS5sb2coZGF0YS5uYW1lKTtcbiAgICByZXR1cm4gZGIuZmxvd19yb2xlcy51cGRhdGUoe1xuICAgICAgX2lkOiBkYXRhLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRzdGFydF9mbG93OiAoc3BhY2UsIGZsb3dJZCwgc3RhcnQpIC0+XHJcblxyXG5cdFx0a2V5VmFsdWUgPSBkYi5zdGVlZG9zX2tleXZhbHVlcy5maW5kT25lKHsgc3BhY2U6IHNwYWNlLCB1c2VyOiB0aGlzLnVzZXJJZCwga2V5OiAnc3RhcnRfZmxvd3MnIH0sIHsgZmllbGRzOiB7IHZhbHVlOiAxIH0gfSlcclxuXHJcblx0XHRzdGFydF9mbG93cyA9IGtleVZhbHVlPy52YWx1ZSB8fCBbXVxyXG5cclxuXHRcdGlmIHN0YXJ0XHJcblx0XHRcdHN0YXJ0X2Zsb3dzLnB1c2goZmxvd0lkKVxyXG5cclxuXHRcdFx0c3RhcnRfZmxvd3MgPSBfLnVuaXEoc3RhcnRfZmxvd3MpXHJcblx0XHRlbHNlXHJcblx0XHRcdHN0YXJ0X2Zsb3dzLnJlbW92ZShzdGFydF9mbG93cy5pbmRleE9mKGZsb3dJZCkpXHJcblxyXG5cdFx0aWYga2V5VmFsdWVcclxuXHRcdFx0ZGIuc3RlZWRvc19rZXl2YWx1ZXMudXBkYXRlKHsgX2lkOiBrZXlWYWx1ZS5faWQgfSwgeyBzcGFjZTogc3BhY2UsIHVzZXI6IHRoaXMudXNlcklkLCBrZXk6ICdzdGFydF9mbG93cycsIHZhbHVlOiBzdGFydF9mbG93cyB9KVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRkYi5zdGVlZG9zX2tleXZhbHVlcy5pbnNlcnQoeyBzcGFjZTogc3BhY2UsIHVzZXI6IHRoaXMudXNlcklkLCBrZXk6ICdzdGFydF9mbG93cycsIHZhbHVlOiBzdGFydF9mbG93cyB9KVxyXG5cclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBzdGFydF9mbG93OiBmdW5jdGlvbihzcGFjZSwgZmxvd0lkLCBzdGFydCkge1xuICAgIHZhciBrZXlWYWx1ZSwgc3RhcnRfZmxvd3M7XG4gICAga2V5VmFsdWUgPSBkYi5zdGVlZG9zX2tleXZhbHVlcy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBzcGFjZSxcbiAgICAgIHVzZXI6IHRoaXMudXNlcklkLFxuICAgICAga2V5OiAnc3RhcnRfZmxvd3MnXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHZhbHVlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgc3RhcnRfZmxvd3MgPSAoa2V5VmFsdWUgIT0gbnVsbCA/IGtleVZhbHVlLnZhbHVlIDogdm9pZCAwKSB8fCBbXTtcbiAgICBpZiAoc3RhcnQpIHtcbiAgICAgIHN0YXJ0X2Zsb3dzLnB1c2goZmxvd0lkKTtcbiAgICAgIHN0YXJ0X2Zsb3dzID0gXy51bmlxKHN0YXJ0X2Zsb3dzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnRfZmxvd3MucmVtb3ZlKHN0YXJ0X2Zsb3dzLmluZGV4T2YoZmxvd0lkKSk7XG4gICAgfVxuICAgIGlmIChrZXlWYWx1ZSkge1xuICAgICAgcmV0dXJuIGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDoga2V5VmFsdWUuX2lkXG4gICAgICB9LCB7XG4gICAgICAgIHNwYWNlOiBzcGFjZSxcbiAgICAgICAgdXNlcjogdGhpcy51c2VySWQsXG4gICAgICAgIGtleTogJ3N0YXJ0X2Zsb3dzJyxcbiAgICAgICAgdmFsdWU6IHN0YXJ0X2Zsb3dzXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmluc2VydCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZSxcbiAgICAgICAgdXNlcjogdGhpcy51c2VySWQsXG4gICAgICAgIGtleTogJ3N0YXJ0X2Zsb3dzJyxcbiAgICAgICAgdmFsdWU6IHN0YXJ0X2Zsb3dzXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRnZXRfaW5zdGFuY2VfdHJhY2VzOiAoaW5zX2lkKS0+XHJcblx0XHRpZiAoIXRoaXMudXNlcklkKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJyxcclxuXHRcdFx0J2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJ11cclxuXHJcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSB7X2lkOiBpbnNfaWR9LCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFwidHJhY2VzLl9pZFwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmlzX2ZpbmlzaGVkXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuc3RlcFwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLnN0YXJ0X2RhdGVcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5uYW1lXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuZmluaXNoX2RhdGVcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5qdWRnZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLl9pZFwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX2ZpbmlzaGVkXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMudXNlclwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX25hbWVcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnR5cGVcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5zdGFydF9kYXRlXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZGVzY3JpcHRpb25cIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5pc19yZWFkXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuanVkZ2VcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5maW5pc2hfZGF0ZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZyb21fdXNlcl9uYW1lXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuY2NfZGVzY3JpcHRpb25cIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy50cmFjZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfc3BhY2VcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5mb3J3YXJkX2luc3RhbmNlXCI6IDFcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICFpbnNcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0cmV0dXJuIGlucz8udHJhY2VzXHJcblxyXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIGdldF9pbnN0YW5jZV90cmFjZXM6IGZ1bmN0aW9uKGluc19pZCkge1xuICAgIHZhciBpbnMsIG1pbmlBcHByb3ZlRmllbGRzO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbWluaUFwcHJvdmVGaWVsZHMgPSBbJ19pZCcsICdpc19maW5pc2hlZCcsICd1c2VyJywgJ2hhbmRsZXInLCAnaGFuZGxlcl9uYW1lJywgJ3R5cGUnLCAnc3RhcnRfZGF0ZScsICdkZXNjcmlwdGlvbicsICdpc19yZWFkJywgJ2p1ZGdlJywgJ2ZpbmlzaF9kYXRlJywgJ2Zyb21fdXNlcl9uYW1lJywgJ2Zyb21fdXNlcicsICdjY19kZXNjcmlwdGlvbiddO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5pc19maW5pc2hlZFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5zdGVwXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLnN0YXJ0X2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMubmFtZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5maW5pc2hfZGF0ZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5qdWRnZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5faWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaXNfZmluaXNoZWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMudXNlclwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfbmFtZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy50eXBlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnN0YXJ0X2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZGVzY3JpcHRpb25cIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaXNfcmVhZFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5qdWRnZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5maW5pc2hfZGF0ZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5mcm9tX3VzZXJfbmFtZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5mcm9tX3VzZXJcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuY2NfZGVzY3JpcHRpb25cIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMudHJhY2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9zcGFjZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5mb3J3YXJkX2luc3RhbmNlXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gaW5zICE9IG51bGwgPyBpbnMudHJhY2VzIDogdm9pZCAwO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0J2dldF9iYXRjaF9pbnN0YW5jZXMnOiAoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMpLT5cclxuXHRcdGlmICF0aGlzLnVzZXJJZFxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRpZiAhc3BhY2VcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0X2JhdGNoX2luc3RhbmNlcyA9IEluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyhzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgdGhpcy51c2VySWQpXHJcblxyXG5cdFx0cmV0dXJuIF9iYXRjaF9pbnN0YW5jZXNcclxuXHJcblx0J2dldF9iYXRjaF9pbnN0YW5jZXNfY291bnQnOiAoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMpLT5cclxuXHRcdGlmICF0aGlzLnVzZXJJZFxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRpZiAhc3BhY2VcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0X2JhdGNoX2luc3RhbmNlcyA9IEluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyhzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgdGhpcy51c2VySWQpXHJcblxyXG5cdFx0cmV0dXJuIF9iYXRjaF9pbnN0YW5jZXM/Lmxlbmd0aCB8fCAwXHJcblxyXG5cdCdnZXRfbXlfYXBwcm92ZXMnOiAoaW5zdGFuY2VJZHMpLT5cclxuXHJcblx0XHR0aGF0ID0gdGhpc1xyXG5cclxuXHRcdGlmICF0aGF0LnVzZXJJZFxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRteUFwcHJvdmVzID0gbmV3IEFycmF5KClcclxuXHJcblx0XHRpbnN0YW5jZUlkcy5mb3JFYWNoIChpbnNJZCktPlxyXG5cdFx0XHRteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnNJZCwgdGhhdC51c2VySWQpXHJcblx0XHRcdGlmIG15X2FwcHJvdmVcclxuXHRcdFx0XHRteUFwcHJvdmVzLnB1c2gobXlfYXBwcm92ZSlcclxuXHJcblx0XHRyZXR1cm4gbXlBcHByb3Zlc1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgJ2dldF9iYXRjaF9pbnN0YW5jZXMnOiBmdW5jdGlvbihzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcykge1xuICAgIHZhciBfYmF0Y2hfaW5zdGFuY2VzO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZCk7XG4gICAgcmV0dXJuIF9iYXRjaF9pbnN0YW5jZXM7XG4gIH0sXG4gICdnZXRfYmF0Y2hfaW5zdGFuY2VzX2NvdW50JzogZnVuY3Rpb24oc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMpIHtcbiAgICB2YXIgX2JhdGNoX2luc3RhbmNlcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc3BhY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX2JhdGNoX2luc3RhbmNlcyA9IEluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyhzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgdGhpcy51c2VySWQpO1xuICAgIHJldHVybiAoX2JhdGNoX2luc3RhbmNlcyAhPSBudWxsID8gX2JhdGNoX2luc3RhbmNlcy5sZW5ndGggOiB2b2lkIDApIHx8IDA7XG4gIH0sXG4gICdnZXRfbXlfYXBwcm92ZXMnOiBmdW5jdGlvbihpbnN0YW5jZUlkcykge1xuICAgIHZhciBteUFwcHJvdmVzLCB0aGF0O1xuICAgIHRoYXQgPSB0aGlzO1xuICAgIGlmICghdGhhdC51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbXlBcHByb3ZlcyA9IG5ldyBBcnJheSgpO1xuICAgIGluc3RhbmNlSWRzLmZvckVhY2goZnVuY3Rpb24oaW5zSWQpIHtcbiAgICAgIHZhciBteV9hcHByb3ZlO1xuICAgICAgbXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zSWQsIHRoYXQudXNlcklkKTtcbiAgICAgIGlmIChteV9hcHByb3ZlKSB7XG4gICAgICAgIHJldHVybiBteUFwcHJvdmVzLnB1c2gobXlfYXBwcm92ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG15QXBwcm92ZXM7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRjaGFuZ2VfZmxvd19zdGF0ZTogKGZsb3dzKSAtPlxyXG5cdFx0Y2hlY2sgZmxvd3MsIEFycmF5XHJcblxyXG5cdFx0X3VzZXJJZCA9IHRoaXMudXNlcklkXHJcblxyXG5cdFx0aWYgIV91c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0Zmxvd3MuZm9yRWFjaCAoZmxvdykgLT5cclxuXHRcdFx0c3BhY2VJZCA9IGZsb3cuc3BhY2VcclxuXHRcdFx0Zm9ybUlkID0gZmxvdy5mb3JtXHJcblx0XHRcdGZsb3dJZCA9IGZsb3cuaWRcclxuXHRcdFx0c3RhdGUgPSBmbG93LnN0YXRlXHJcblxyXG5cdFx0XHRpZiAhU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgX3VzZXJJZClcclxuXHRcdFx0XHR0aHJvdyAgTWV0ZW9yLkVycm9yKDQwMSwgXCJObyBwZXJtaXNzaW9uXCIpXHJcblxyXG5cdFx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZm9ybUlkIH0sIHsgZmllbGRzOiB7IGhpc3RvcnlzOiAwIH0gfSlcclxuXHJcblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBmbG93SWQgfSwgeyBmaWVsZHM6IHsgaGlzdG9yeXM6IDAgfSB9KVxyXG5cclxuXHRcdFx0aWYgc3RhdGUgIT0gJ2VuYWJsZWQnICYmIHN0YXRlICE9ICdkaXNhYmxlZCdcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJzdGF0ZeaXoOaViFwiKVxyXG5cclxuXHRcdFx0aWYgIWZvcm1cclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmb3Jt5peg5pWIXCIpXHJcblxyXG5cdFx0XHRpZiAhZmxvd1xyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZsb3fml6DmlYhcIilcclxuXHJcblx0XHRcdGlmICFmb3JtLmlzX3ZhbGlkXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL5byV55So55qE6KGo5Y2VWyN7Zm9ybS5uYW1lfV3pqozor4HmnKrpgJrov4fvvIzor7fmiZPlvIDmtYHnqIvorr7orqHlmajmo4Dmn6XooajljZXorr7nva5cIilcclxuXHJcblx0XHRcdGlmICFmbG93LmlzX3ZhbGlkXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l5rWB56iL6K6+572uXCIpXHJcblxyXG5cdFx0XHRpZiAhWyduZXcnLCAnbW9kaWZ5JywgJ2RlbGV0ZSddLmluY2x1ZGVzKGZsb3cuZmxvd3R5cGUpXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yMZmxvd3R5cGXlgLzlv4XpobvmmK9uZXfjgIFtb2RpZnnjgIFkZWxldGXlhbbkuK3kuYvkuIBcIilcclxuXHJcblx0XHRcdGlmICFfLmlzQXJyYXkoZmxvdy5jdXJyZW50LnN0ZXBzKVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOa1geeoi+eahOatpemqpOS4jeiDveS4uuepulwiKVxyXG5cclxuXHRcdFx0aWYgXy51bmlxKGZsb3cuY3VycmVudC5zdGVwcywgJ25hbWUnKS5sZW5ndGggIT0gZmxvdy5jdXJyZW50LnN0ZXBzLmxlbmd0aFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOWQjOS4gOS4qua1geeoi+S4i+eahOatpemqpOeahOWQjeensOS4jeiDvemHjeWkjVwiKVxyXG5cclxuXHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHJcblx0XHRcdGlmIHN0YXRlID09ICdlbmFibGVkJ1xyXG5cdFx0XHRcdCPmtYHnqIvlkK/nlKjliY3vvIzmoKHpqozlhbbigJzmjIflrprljoblj7LmraXpqqTigJ3lsZ7mgKfkuK3ooqvlvJXnlKjnmoTmraXpqqTmmK/lkKblrZjlnKjkuJTog73ooqvmib7liLDvvIjku4XpmZDkuo7mtYHnqIvnmoTmnIDmlrDniYjvvIlcclxuXHRcdFx0XHRmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaCAoc3RlcCkgLT5cclxuXHRcdFx0XHRcdGlmIFsnc3BlY2lmeVN0ZXBVc2VyJywgJ3NwZWNpZnlTdGVwUm9sZSddLmluY2x1ZGVzKHN0ZXAuZGVhbF90eXBlKVxyXG5cdFx0XHRcdFx0XHRpZiAhc3RlcC5hcHByb3Zlcl9zdGVwXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkWyN7c3RlcC5uYW1lfV3kuK3nmoTmjIflrprljoblj7LmraXpqqTkuI3lrZjlnKjjgIJcIilcclxuXHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdHNwZWNpZnlTdGVwID0gXy5maW5kIGZsb3cuY3VycmVudC5zdGVwcywgKF9zdGVwKSAtPlxyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHN0ZXAuYXBwcm92ZXJfc3RlcCA9PSBfc3RlcC5faWRcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgIXNwZWNpZnlTdGVwXHJcblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmraXpqqRbI3tzdGVwLm5hbWV9XeS4reeahOaMh+WumuWOhuWPsuatpemqpOS4jeWtmOWcqOOAglwiKVxyXG5cclxuXHRcdFx0XHRmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUgPSBmb3JtLmN1cnJlbnQuZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKVxyXG5cclxuXHRcdFx0XHRmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaCAoc3RlcCkgLT5cclxuXHRcdFx0XHRcdHN0ZXAuZmllbGRzX21vZGlmaWFibGUgPSBfLmludGVyc2VjdGlvbihzdGVwLmZpZWxkc19tb2RpZmlhYmxlLCBmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUpXHJcblxyXG5cdFx0XHRcdCPlpoLmnpwg5rWB56iL5a+55bqU6KGo5Y2VIOaYr+WBnOeUqOeahCDliJnlkK/nlKhcclxuXHRcdFx0XHRpZiBmb3JtLnN0YXRlID09ICdkaXNhYmxlZCdcclxuXHRcdFx0XHRcdGRiLmZvcm1zLnVwZGF0ZSh7X2lkOiBmb3JtLl9pZH0sIHskc2V0OiB7XCJzdGF0ZVwiOiBcImVuYWJsZWRcIiwgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZH19KVxyXG5cclxuXHRcdFx0XHRmbG93LmN1cnJlbnQubW9kaWZpZWQgPSBub3dcclxuXHRcdFx0XHRmbG93LmN1cnJlbnQuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdGZsb3cuY3VycmVudC5tb2RpZmllZF9ieSA9IF91c2VySWRcclxuXHJcblx0XHRcdFx0ZGIuZmxvd3MudXBkYXRlKHsgX2lkOiBmbG93Ll9pZCB9LCB7ICRzZXQ6IHsgXCJzdGF0ZVwiOiBcImVuYWJsZWRcIiwgXCJjdXJyZW50XCI6IGZsb3cuY3VycmVudCB9IH0pXHJcblxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0I+emgeeUqOa1geeoi1xyXG5cdFx0XHRcdGRiLmZsb3dzLnVwZGF0ZSh7X2lkOiBmbG93Ll9pZH0sIHskc2V0OiB7XCJzdGF0ZVwiOiBcImRpc2FibGVkXCIsIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWR9fSlcclxuXHJcblx0XHRcdFx0IyDliKTmlq3ooajljZXmiYDmnInmtYHnqIvmmK/lkKblt7Lnu4/lhajpg6jlgZznlKgg5aaC5p6c5bey5YWo6YOo5YGc55SoIOWImeS/ruaUueihqOWNleeKtuaAgeS4uuWBnOeUqFxyXG5cdFx0XHRcdF9mbG93cyA9IGRiLmZsb3dzLmZpbmQoeyBmb3JtOiBmb3JtLl9pZCB9LCB7IGZpZWxkczogeyBfaWQ6IDEsIHN0YXRlOiAxIH0gfSkuZmV0Y2goKVxyXG5cclxuXHRcdFx0XHRfZmxvd3Nfc3RhdGUgPSBfZmxvd3MuZ2V0UHJvcGVydHkoXCJzdGF0ZVwiKVxyXG5cclxuXHRcdFx0XHRpZiAhX2Zsb3dzX3N0YXRlLmluY2x1ZGVzKCdlbmFibGVkJylcclxuXHRcdFx0XHRcdGRiLmZvcm1zLnVwZGF0ZSh7X2lkOiBmb3JtLl9pZH0sIHskc2V0OiB7XCJzdGF0ZVwiOiBcImRpc2FibGVkXCIsIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWR9fSlcclxuXHJcblxyXG5cclxuXHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgY2hhbmdlX2Zsb3dfc3RhdGU6IGZ1bmN0aW9uKGZsb3dzKSB7XG4gICAgdmFyIF91c2VySWQ7XG4gICAgY2hlY2soZmxvd3MsIEFycmF5KTtcbiAgICBfdXNlcklkID0gdGhpcy51c2VySWQ7XG4gICAgaWYgKCFfdXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmbG93cy5mb3JFYWNoKGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgIHZhciBfZmxvd3MsIF9mbG93c19zdGF0ZSwgZmxvd0lkLCBmb3JtLCBmb3JtSWQsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSwgbm93LCBzcGFjZUlkLCBzdGF0ZTtcbiAgICAgIHNwYWNlSWQgPSBmbG93LnNwYWNlO1xuICAgICAgZm9ybUlkID0gZmxvdy5mb3JtO1xuICAgICAgZmxvd0lkID0gZmxvdy5pZDtcbiAgICAgIHN0YXRlID0gZmxvdy5zdGF0ZTtcbiAgICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgX3VzZXJJZCkpIHtcbiAgICAgICAgdGhyb3cgTWV0ZW9yLkVycm9yKDQwMSwgXCJObyBwZXJtaXNzaW9uXCIpO1xuICAgICAgfVxuICAgICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZvcm1JZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBoaXN0b3J5czogMFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93SWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgaGlzdG9yeXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoc3RhdGUgIT09ICdlbmFibGVkJyAmJiBzdGF0ZSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJzdGF0ZeaXoOaViFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZm9ybSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmb3Jt5peg5pWIXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbG93KSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZsb3fml6DmlYhcIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZvcm0uaXNfdmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL5byV55So55qE6KGo5Y2VW1wiICsgZm9ybS5uYW1lICsgXCJd6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l6KGo5Y2V6K6+572uXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbG93LmlzX3ZhbGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpea1geeoi+iuvue9rlwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghWyduZXcnLCAnbW9kaWZ5JywgJ2RlbGV0ZSddLmluY2x1ZGVzKGZsb3cuZmxvd3R5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jGZsb3d0eXBl5YC85b+F6aG75pivbmV344CBbW9kaWZ544CBZGVsZXRl5YW25Lit5LmL5LiAXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzQXJyYXkoZmxvdy5jdXJyZW50LnN0ZXBzKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzmtYHnqIvnmoTmraXpqqTkuI3og73kuLrnqbpcIik7XG4gICAgICB9XG4gICAgICBpZiAoXy51bmlxKGZsb3cuY3VycmVudC5zdGVwcywgJ25hbWUnKS5sZW5ndGggIT09IGZsb3cuY3VycmVudC5zdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5ZCM5LiA5Liq5rWB56iL5LiL55qE5q2l6aqk55qE5ZCN56ew5LiN6IO96YeN5aSNXCIpO1xuICAgICAgfVxuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpZiAoc3RhdGUgPT09ICdlbmFibGVkJykge1xuICAgICAgICBmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgICAgdmFyIHNwZWNpZnlTdGVwO1xuICAgICAgICAgIGlmIChbJ3NwZWNpZnlTdGVwVXNlcicsICdzcGVjaWZ5U3RlcFJvbGUnXS5pbmNsdWRlcyhzdGVwLmRlYWxfdHlwZSkpIHtcbiAgICAgICAgICAgIGlmICghc3RlcC5hcHByb3Zlcl9zdGVwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFtcIiArIHN0ZXAubmFtZSArIFwiXeS4reeahOaMh+WumuWOhuWPsuatpemqpOS4jeWtmOWcqOOAglwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNwZWNpZnlTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24oX3N0ZXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcC5hcHByb3Zlcl9zdGVwID09PSBfc3RlcC5faWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoIXNwZWNpZnlTdGVwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkW1wiICsgc3RlcC5uYW1lICsgXCJd5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlID0gZm9ybS5jdXJyZW50LmZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIik7XG4gICAgICAgIGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICByZXR1cm4gc3RlcC5maWVsZHNfbW9kaWZpYWJsZSA9IF8uaW50ZXJzZWN0aW9uKHN0ZXAuZmllbGRzX21vZGlmaWFibGUsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZm9ybS5zdGF0ZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgIGRiLmZvcm1zLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZvcm0uX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICBcInN0YXRlXCI6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZmxvdy5jdXJyZW50Lm1vZGlmaWVkID0gbm93O1xuICAgICAgICBmbG93LmN1cnJlbnQuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5ID0gX3VzZXJJZDtcbiAgICAgICAgcmV0dXJuIGRiLmZsb3dzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBmbG93Ll9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImVuYWJsZWRcIixcbiAgICAgICAgICAgIFwiY3VycmVudFwiOiBmbG93LmN1cnJlbnRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGIuZmxvd3MudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGZsb3cuX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBcInN0YXRlXCI6IFwiZGlzYWJsZWRcIixcbiAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csXG4gICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF9mbG93cyA9IGRiLmZsb3dzLmZpbmQoe1xuICAgICAgICAgIGZvcm06IGZvcm0uX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgIHN0YXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgICBfZmxvd3Nfc3RhdGUgPSBfZmxvd3MuZ2V0UHJvcGVydHkoXCJzdGF0ZVwiKTtcbiAgICAgICAgaWYgKCFfZmxvd3Nfc3RhdGUuaW5jbHVkZXMoJ2VuYWJsZWQnKSkge1xuICAgICAgICAgIHJldHVybiBkYi5mb3Jtcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmb3JtLl9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImRpc2FibGVkXCIsXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblxyXG5cdGhpZGVfaW5zdGFuY2U6IChpbnNJZCwgaXNfaGlkZGVuKSAtPlxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGNoZWNrKGluc0lkLCBTdHJpbmcpXHJcblx0XHRjaGVjayhpc19oaWRkZW4sIEJvb2xlYW4pXHJcblxyXG5cdFx0dXNlcklkID0gdGhpcy51c2VySWRcclxuXHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7IGZpZWxkczogeyBzdGF0ZTogMSwgZmxvdzogMSwgc3BhY2U6IDEgfSB9KVxyXG5cclxuXHRcdGlmIG5vdCBpbnN0YW5jZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOeUs+ivt+WNlVwiKVxyXG5cclxuXHRcdGlmIGluc3RhbmNlLnN0YXRlIGlzbnQgJ2NvbXBsZXRlZCdcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlLPor7fljZXnirbmgIHkuI3mmK/lt7Lnu5PmnZ9cIilcclxuXHJcblx0XHQjIOmqjOivgWxvZ2luIHVzZXJfaWTlr7nor6XmtYHnqIvmnInnrqHnkIbnlLPor7fljZXnmoTmnYPpmZBcclxuXHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIHVzZXJJZClcclxuXHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXHJcblx0XHRpZiAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpKVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKVxyXG5cclxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoaW5zSWQsIHsgJHNldDogeyBpc19oaWRkZW46IGlzX2hpZGRlbiB9IH0pXHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgaGlkZV9pbnN0YW5jZTogZnVuY3Rpb24oaW5zSWQsIGlzX2hpZGRlbikge1xuICAgIHZhciBpbnN0YW5jZSwgcGVybWlzc2lvbnMsIHNwYWNlLCB1c2VySWQ7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaGVjayhpbnNJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhpc19oaWRkZW4sIEJvb2xlYW4pO1xuICAgIHVzZXJJZCA9IHRoaXMudXNlcklkO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgZmxvdzogMSxcbiAgICAgICAgc3BhY2U6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOeUs+ivt+WNlVwiKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLnN0YXRlICE9PSAnY29tcGxldGVkJykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlLPor7fljZXnirbmgIHkuI3mmK/lt7Lnu5PmnZ9cIik7XG4gICAgfVxuICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIHVzZXJJZCk7XG4gICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShpbnN0YW5jZS5zcGFjZSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGFkbWluczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZCkpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKTtcbiAgICB9XG4gICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShpbnNJZCwge1xuICAgICAgJHNldDoge1xuICAgICAgICBpc19oaWRkZW46IGlzX2hpZGRlblxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0Z2V0SW5zdGFuY2VWYWx1ZXM6IChpbnNJZCktPlxyXG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc0lkfSwge2ZpZWxkczoge3ZhbHVlczogMX19KT8udmFsdWVzIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBnZXRJbnN0YW5jZVZhbHVlczogZnVuY3Rpb24oaW5zSWQpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIChyZWYgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHZhbHVlczogMVxuICAgICAgfVxuICAgIH0pKSAhPSBudWxsID8gcmVmLnZhbHVlcyA6IHZvaWQgMDtcbiAgfVxufSk7XG4iLCJDb29raWVzID0gcmVxdWlyZShcImNvb2tpZXNcIilcclxuXHJcbmdldEluc3RhbmNlUmVhZE9ubHkgPSAocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpIC0+XHJcblxyXG5cdHVzZXIgPSBTdGVlZG9zLmdldEFQSUxvZ2luVXNlcihyZXEsIHJlcylcclxuXHJcblx0aWYgcmVxPy5xdWVyeT8uYWNjZXNzX3Rva2VuXHJcblx0XHR1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKVxyXG5cdFx0aWYgdXNlcklkXHJcblx0XHRcdHVzZXIgPSBNZXRlb3IudXNlcnMuZmluZE9uZSh7X2lkOiB1c2VySWR9KVxyXG5cclxuXHRzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZVxyXG5cclxuXHRpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZFxyXG5cclxuXHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlSWR9KTtcclxuXHJcblx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7X2lkOiBzcGFjZUlkfSk7XHJcblxyXG5cdGhpZGVfdHJhY2VzID0gcmVxLnF1ZXJ5Py5oaWRlX3RyYWNlc1xyXG5cclxuXHRpZiAhb3B0aW9uc1xyXG5cdFx0b3B0aW9ucyA9IHtzaG93VHJhY2U6IHRydWV9XHJcblx0ZWxzZVxyXG5cdFx0b3B0aW9ucy5zaG93VHJhY2UgPSB0cnVlXHJcblxyXG5cdGlmIGhpZGVfdHJhY2VzIGlzIFwiMVwiXHJcblx0XHRpZiBvcHRpb25zXHJcblx0XHRcdG9wdGlvbnMuc2hvd1RyYWNlID0gZmFsc2VcclxuXHRcdGVsc2VcclxuXHRcdFx0b3B0aW9ucyA9IHtzaG93VHJhY2U6IGZhbHNlfVxyXG5cclxuXHRpZiAhb3B0aW9ucy5zaG93QXR0YWNobWVudHNcclxuXHRcdG9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzID0gdHJ1ZVxyXG5cclxuXHRpZiAhc3BhY2VcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDQwMSxcclxuXHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNwYWNlXCIsXHJcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdGlmICAhaW5zdGFuY2VcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDQwMSxcclxuXHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIGluc3RhbmNlXCIsXHJcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdGlmICF1c2VyXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiA0MDEsXHJcblx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXHJcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdGlmIGluc3RhbmNlLnNwYWNlICE9IHNwYWNlSWRcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDQwMSxcclxuXHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNwYWNlIG9yIGluc3RhbmNlXCIsXHJcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRyZXR1cm47XHJcblxyXG5cclxuXHJcblx0c3BhY2VVc2VyQ291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgdXNlcjogdXNlci5faWQsIHNwYWNlOiBzcGFjZUlkIH0pLmNvdW50KClcclxuXHJcblx0aWYgc3BhY2VVc2VyQ291bnQgaXMgMFxyXG5cdFx0aWYgIXNwYWNlXHJcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxyXG5cdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRcdHJldHVybjtcclxuXHJcblx0I+agoemqjHVzZXLmmK/lkKblr7lpbnN0YW5jZeacieafpeeci+adg+mZkFxyXG5cdF9oYXNQZXJtaXNzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgaW5zdGFuY2UpXHJcblxyXG5cdGlmICFfaGFzUGVybWlzc2lvbiAgJiYgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlXHJcblx0XHRfcGFyZW50X2luc3RhbmNlcyA9IF8udW5pb24oW2luc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZV0sIGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgfHwgW10pXHJcblxyXG5cdFx0X2hhc1Blcm1pc3Npb24gPSBfLmZpbmQgX3BhcmVudF9pbnN0YW5jZXMsIChfcGFyZW50X2lkKS0+XHJcblx0XHRcdF9wYXJlbnRfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDpfcGFyZW50X2lkfSwge2ZpZWxkczoge3RyYWNlczogMH19KVxyXG5cclxuXHRcdFx0cmV0dXJuIFdvcmtmbG93TWFuYWdlci5oYXNJbnN0YW5jZVBlcm1pc3Npb25zKHVzZXIsIF9wYXJlbnRfaW5zKVxyXG5cclxuXHRpZiAhX2hhc1Blcm1pc3Npb25cclxuXHRcdF9sb2NhbGUgPSBTdGVlZG9zLmxvY2FsZSh1c2VyLl9pZCwgdHJ1ZSlcclxuXHRcdGVycm9yID0gVEFQaTE4bi5fXyhcImluc3RhbmNlX3Blcm1pc3Npb25zX2Vycm9yXCIsIHt9LCBfbG9jYWxlKVxyXG5cdFx0cmVzLmNoYXJzZXQgPSBcInV0Zi04XCJcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDQwMSxcclxuXHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcImVycm9yXCI6IGVycm9yLFxyXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHRodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXHJcblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbCk7XHJcblx0cmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aClcclxuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LXJhbmdlJywgXCJieXRlcyAwLSN7ZGF0YUJ1Zi5sZW5ndGggLSAxfS8je2RhdGFCdWYubGVuZ3RofVwiKVxyXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXHJcblx0cmVzLmVuZChodG1sKVxyXG5cclxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkXCIsIGdldEluc3RhbmNlUmVhZE9ubHlcclxuXHJcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZC86aW5zdGFuY2VfbmFtZVwiLCAocmVxLCByZXMsIG5leHQpLT5cclxuXHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XHJcblx0cmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsICdhdHRhY2htZW50O2ZpbGVuYW1lPScrZW5jb2RlVVJJKHJlcS5wYXJhbXMuaW5zdGFuY2VfbmFtZSkpO1xyXG5cdHJlcy5zZXRIZWFkZXIoJ1RyYW5zZmVyLUVuY29kaW5nJywgJycpXHJcblxyXG5cdG9wdGlvbnMgPSB7YWJzb2x1dGU6IHRydWV9XHJcblxyXG5cdHJldHVybiBnZXRJbnN0YW5jZVJlYWRPbmx5KHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKVxyXG4jIyNcclxuXHTojrflj5bnlLPor7fljZXliJfooajvvJpcclxuICAgIGZpbmFsX2RlY2lzaW9u77ya5a6h5om557uT5p6cXHJcbiAgICBzdGF0ZTog55Sz6K+35Y2V54q25oCBXHJcbiMjI1xyXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5zdGFuY2VzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHJcblx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdHJldHVybiA7XHJcblxyXG5cdHVzZXJfaWQgPSByZXEudXNlcklkXHJcblxyXG5cdHNwYWNlSWQgPSByZXEuaGVhZGVyc1tcIngtc3BhY2UtaWRcIl1cclxuXHJcblx0aWYgbm90IHNwYWNlSWRcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDQwMSxcclxuXHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtU3BhY2UtSWRcIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0Zmxvd0lkID0gcmVxLnF1ZXJ5Py5mbG93SWRcclxuXHJcblx0aWYgIWZsb3dJZFxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogNDAwLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgZmxvd0lkXCIsXHJcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdHF1ZXJ5ID0ge31cclxuXHJcblx0cmV0X3N5bmNfdG9rZW4gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxyXG5cclxuXHRmbG93SWRzID0gZmxvd0lkLnNwbGl0KFwiLFwiKVxyXG5cclxuXHJcblx0Zmxvd3MgPSBkYi5mbG93cy5maW5kKHtfaWQ6IHskaW46IGZsb3dJZHN9fSkuZmV0Y2goKVxyXG5cclxuXHRpID0gMFxyXG5cdHdoaWxlIGkgPCBmbG93cy5sZW5ndGhcclxuXHRcdGYgPSBmbG93c1tpXVxyXG5cdFx0c3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7c3BhY2U6IGYuc3BhY2UsIHVzZXI6IHVzZXJfaWR9KVxyXG5cdFx0aWYgIXNwYWNlVXNlclxyXG5cdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdGNvZGU6IDQwMSxcclxuXHRcdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyAje2YuX2lkfVwiLFxyXG5cdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRcdHJldHVybjtcclxuXHRcdGVsc2VcclxuXHJcblx0I1x05piv5ZCm5bel5L2c5Yy6566h55CG5ZGYXHJcblx0XHRpZiAhU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgdXNlcl9pZClcclxuXHRcdFx0c3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XHJcblx0XHRcdFx0X2lkOiB7XHJcblx0XHRcdFx0XHQkaW46IHNwYWNlVXNlci5vcmdhbml6YXRpb25zXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5mZXRjaCgpO1xyXG5cclxuXHRcdFx0aWYgIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpXHJcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRcdGNvZGU6IDQwMSxcclxuXHRcdFx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb24sIGZsb3cgaXMgI3tmLl9pZH1cIixcclxuXHRcdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0aSsrXHJcblxyXG5cclxuXHRxdWVyeS5mbG93ID0geyRpbjogZmxvd0lkc31cclxuXHJcblx0cXVlcnkuc3BhY2UgPSBzcGFjZUlkXHJcblxyXG5cdGlmIHJlcS5xdWVyeT8uc3luY190b2tlblxyXG5cdFx0c3luY190b2tlbiA9IG5ldyBEYXRlKE51bWJlcihyZXEucXVlcnkuc3luY190b2tlbikpXHJcblx0XHRxdWVyeS5tb2RpZmllZCA9IHskZ3Q6IHN5bmNfdG9rZW59XHJcblxyXG5cdGlmIHJlcS5xdWVyeT8uZmluYWxfZGVjaXNpb25cclxuXHRcdHF1ZXJ5LmZpbmFsX2RlY2lzaW9uID0geyRpbiA6IHJlcS5xdWVyeS5maW5hbF9kZWNpc2lvbi5zcGxpdChcIixcIil9XHJcblx0ZWxzZVxyXG5cdFx0cXVlcnkuZmluYWxfZGVjaXNpb24gPSB7JG5pbjogW1widGVybWluYXRlZFwiLCBcInJlamVjdGVkXCJdfVxyXG5cclxuXHRpZiByZXEucXVlcnk/LnN0YXRlXHJcblx0XHRxdWVyeS5zdGF0ZSA9IHskaW46IHJlcS5xdWVyeS5zdGF0ZS5zcGxpdChcIixcIil9XHJcblx0ZWxzZVxyXG5cdFx0cXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiXHJcblxyXG4jXHTmnIDlpJrov5Tlm541MDDmnaHmlbDmja5cclxuXHRpbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczoge2luYm94X3VlcnM6IDAsIGNjX3VzZXJzOiAwLCBvdXRib3hfdXNlcnM6IDAsIHRyYWNlczogMCwgYXR0YWNobWVudHM6IDB9LCBza2lwOiAwLCBsaW1pdDogNTAwfSkuZmV0Y2goKVxyXG5cdGluc3RhbmNlcy5mb3JFYWNoIChpbnN0YW5jZSktPlxyXG5cclxuXHRcdGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcclxuXHJcblx0XHRpbnN0YW5jZS5hdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzXHJcblxyXG5cclxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXHJcblx0XHRcdFx0XCJzeW5jX3Rva2VuXCI6IHJldF9zeW5jX3Rva2VuXHJcblx0XHRcdFx0XCJkYXRhXCI6IGluc3RhbmNlc1xyXG5cdHJldHVybjtcclxuIiwidmFyIENvb2tpZXMsIGdldEluc3RhbmNlUmVhZE9ubHk7XG5cbkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKTtcblxuZ2V0SW5zdGFuY2VSZWFkT25seSA9IGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKSB7XG4gIHZhciBfaGFzUGVybWlzc2lvbiwgX2xvY2FsZSwgX3BhcmVudF9pbnN0YW5jZXMsIGRhdGFCdWYsIGVycm9yLCBoaWRlX3RyYWNlcywgaHRtbCwgaW5zdGFuY2UsIGluc3RhbmNlSWQsIHJlZiwgcmVmMSwgc3BhY2UsIHNwYWNlSWQsIHNwYWNlVXNlckNvdW50LCB1c2VyLCB1c2VySWQ7XG4gIHVzZXIgPSBTdGVlZG9zLmdldEFQSUxvZ2luVXNlcihyZXEsIHJlcyk7XG4gIGlmIChyZXEgIT0gbnVsbCA/IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuYWNjZXNzX3Rva2VuIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgdXNlcklkID0gU3RlZWRvcy5nZXRVc2VySWRGcm9tQWNjZXNzVG9rZW4ocmVxLnF1ZXJ5LmFjY2Vzc190b2tlbik7XG4gICAgaWYgKHVzZXJJZCkge1xuICAgICAgdXNlciA9IE1ldGVvci51c2Vycy5maW5kT25lKHtcbiAgICAgICAgX2lkOiB1c2VySWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZTtcbiAgaW5zdGFuY2VJZCA9IHJlcS5wYXJhbXMuaW5zdGFuY2VfaWQ7XG4gIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KTtcbiAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7XG4gICAgX2lkOiBzcGFjZUlkXG4gIH0pO1xuICBoaWRlX3RyYWNlcyA9IChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5oaWRlX3RyYWNlcyA6IHZvaWQgMDtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIHNob3dUcmFjZTogdHJ1ZVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgb3B0aW9ucy5zaG93VHJhY2UgPSB0cnVlO1xuICB9XG4gIGlmIChoaWRlX3RyYWNlcyA9PT0gXCIxXCIpIHtcbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgb3B0aW9ucy5zaG93VHJhY2UgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgc2hvd1RyYWNlOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgaWYgKCFvcHRpb25zLnNob3dBdHRhY2htZW50cykge1xuICAgIG9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgfVxuICBpZiAoIXNwYWNlKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAxLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNwYWNlXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWluc3RhbmNlKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAxLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIGluc3RhbmNlXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIXVzZXIpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1BdXRoLVRva2VuLFgtVXNlci1JZFwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGluc3RhbmNlLnNwYWNlICE9PSBzcGFjZUlkKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAxLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNwYWNlIG9yIGluc3RhbmNlXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBzcGFjZVVzZXJDb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgIHVzZXI6IHVzZXIuX2lkLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0pLmNvdW50KCk7XG4gIGlmIChzcGFjZVVzZXJDb3VudCA9PT0gMCkge1xuICAgIGlmICghc3BhY2UpIHtcbiAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogNDAxLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBzYXBjZVVzZXJcIixcbiAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIF9oYXNQZXJtaXNzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgaW5zdGFuY2UpO1xuICBpZiAoIV9oYXNQZXJtaXNzaW9uICYmIGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xuICAgIF9wYXJlbnRfaW5zdGFuY2VzID0gXy51bmlvbihbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlXSwgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyB8fCBbXSk7XG4gICAgX2hhc1Blcm1pc3Npb24gPSBfLmZpbmQoX3BhcmVudF9pbnN0YW5jZXMsIGZ1bmN0aW9uKF9wYXJlbnRfaWQpIHtcbiAgICAgIHZhciBfcGFyZW50X2lucztcbiAgICAgIF9wYXJlbnRfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IF9wYXJlbnRfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdHJhY2VzOiAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFdvcmtmbG93TWFuYWdlci5oYXNJbnN0YW5jZVBlcm1pc3Npb25zKHVzZXIsIF9wYXJlbnRfaW5zKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoIV9oYXNQZXJtaXNzaW9uKSB7XG4gICAgX2xvY2FsZSA9IFN0ZWVkb3MubG9jYWxlKHVzZXIuX2lkLCB0cnVlKTtcbiAgICBlcnJvciA9IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9wZXJtaXNzaW9uc19lcnJvclwiLCB7fSwgX2xvY2FsZSk7XG4gICAgcmVzLmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAxLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IGVycm9yLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaHRtbCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LXJhbmdlJywgXCJieXRlcyAwLVwiICsgKGRhdGFCdWYubGVuZ3RoIC0gMSkgKyBcIi9cIiArIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7XG4gIHJldHVybiByZXMuZW5kKGh0bWwpO1xufTtcblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkXCIsIGdldEluc3RhbmNlUmVhZE9ubHkpO1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWQvOmluc3RhbmNlX25hbWVcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIG9wdGlvbnM7XG4gIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQnKTtcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsICdhdHRhY2htZW50O2ZpbGVuYW1lPScgKyBlbmNvZGVVUkkocmVxLnBhcmFtcy5pbnN0YW5jZV9uYW1lKSk7XG4gIHJlcy5zZXRIZWFkZXIoJ1RyYW5zZmVyLUVuY29kaW5nJywgJycpO1xuICBvcHRpb25zID0ge1xuICAgIGFic29sdXRlOiB0cnVlXG4gIH07XG4gIHJldHVybiBnZXRJbnN0YW5jZVJlYWRPbmx5KHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKTtcbn0pO1xuXG5cbi8qXG5cdOiOt+WPlueUs+ivt+WNleWIl+ihqO+8mlxuICAgIGZpbmFsX2RlY2lzaW9u77ya5a6h5om557uT5p6cXG4gICAgc3RhdGU6IOeUs+ivt+WNleeKtuaAgVxuICovXG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9pbnN0YW5jZXNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGYsIGZsb3dJZCwgZmxvd0lkcywgZmxvd3MsIGksIGluc3RhbmNlcywgcXVlcnksIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmV0X3N5bmNfdG9rZW4sIHNwYWNlSWQsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucywgc3luY190b2tlbiwgdXNlcl9pZDtcbiAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHVzZXJfaWQgPSByZXEudXNlcklkO1xuICBzcGFjZUlkID0gcmVxLmhlYWRlcnNbXCJ4LXNwYWNlLWlkXCJdO1xuICBpZiAoIXNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1TcGFjZS1JZFwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgZmxvd0lkID0gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5mbG93SWQgOiB2b2lkIDA7XG4gIGlmICghZmxvd0lkKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIGZsb3dJZFwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgcXVlcnkgPSB7fTtcbiAgcmV0X3N5bmNfdG9rZW4gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgZmxvd0lkcyA9IGZsb3dJZC5zcGxpdChcIixcIik7XG4gIGZsb3dzID0gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGZsb3dJZHNcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIGkgPSAwO1xuICB3aGlsZSAoaSA8IGZsb3dzLmxlbmd0aCkge1xuICAgIGYgPSBmbG93c1tpXTtcbiAgICBzcGFjZVVzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBmLnNwYWNlLFxuICAgICAgdXNlcjogdXNlcl9pZFxuICAgIH0pO1xuICAgIGlmICghc3BhY2VVc2VyKSB7XG4gICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb24sIGZsb3cgaXMgXCIgKyBmLl9pZCxcbiAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcblxuICAgIH1cbiAgICBpZiAoIVN0ZWVkb3MuaXNTcGFjZUFkbWluKHNwYWNlSWQsIHVzZXJfaWQpKSB7XG4gICAgICBzcGFjZVVzZXJPcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBzcGFjZVVzZXIub3JnYW5pemF0aW9uc1xuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgaWYgKCFXb3JrZmxvd01hbmFnZXIuY2FuTW9uaXRvcihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpICYmICFXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZiwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKSkge1xuICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogNDAxLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb24sIGZsb3cgaXMgXCIgKyBmLl9pZCxcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaSsrO1xuICB9XG4gIHF1ZXJ5LmZsb3cgPSB7XG4gICAgJGluOiBmbG93SWRzXG4gIH07XG4gIHF1ZXJ5LnNwYWNlID0gc3BhY2VJZDtcbiAgaWYgKChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5zeW5jX3Rva2VuIDogdm9pZCAwKSB7XG4gICAgc3luY190b2tlbiA9IG5ldyBEYXRlKE51bWJlcihyZXEucXVlcnkuc3luY190b2tlbikpO1xuICAgIHF1ZXJ5Lm1vZGlmaWVkID0ge1xuICAgICAgJGd0OiBzeW5jX3Rva2VuXG4gICAgfTtcbiAgfVxuICBpZiAoKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLmZpbmFsX2RlY2lzaW9uIDogdm9pZCAwKSB7XG4gICAgcXVlcnkuZmluYWxfZGVjaXNpb24gPSB7XG4gICAgICAkaW46IHJlcS5xdWVyeS5maW5hbF9kZWNpc2lvbi5zcGxpdChcIixcIilcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHF1ZXJ5LmZpbmFsX2RlY2lzaW9uID0ge1xuICAgICAgJG5pbjogW1widGVybWluYXRlZFwiLCBcInJlamVjdGVkXCJdXG4gICAgfTtcbiAgfVxuICBpZiAoKHJlZjMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYzLnN0YXRlIDogdm9pZCAwKSB7XG4gICAgcXVlcnkuc3RhdGUgPSB7XG4gICAgICAkaW46IHJlcS5xdWVyeS5zdGF0ZS5zcGxpdChcIixcIilcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJjb21wbGV0ZWRcIjtcbiAgfVxuICBpbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgIGZpZWxkczoge1xuICAgICAgaW5ib3hfdWVyczogMCxcbiAgICAgIGNjX3VzZXJzOiAwLFxuICAgICAgb3V0Ym94X3VzZXJzOiAwLFxuICAgICAgdHJhY2VzOiAwLFxuICAgICAgYXR0YWNobWVudHM6IDBcbiAgICB9LFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IDUwMFxuICB9KS5mZXRjaCgpO1xuICBpbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciBhdHRhY2htZW50cztcbiAgICBhdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsXG4gICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAkbmU6IHRydWVcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY29waWVzOiAwXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByZXR1cm4gaW5zdGFuY2UuYXR0YWNobWVudHMgPSBhdHRhY2htZW50cztcbiAgfSk7XG4gIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgICBcInN5bmNfdG9rZW5cIjogcmV0X3N5bmNfdG9rZW4sXG4gICAgICBcImRhdGFcIjogaW5zdGFuY2VzXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiXHJcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL3N0ZWVkb3MtY3NzXCIsIChyZXEsIHJlcywgbmV4dCktPlxyXG5cclxuXHRhbGxDc3MgPSBXZWJBcHAuZ2V0UmVmcmVzaGFibGVBc3NldHMoKVxyXG5cclxuXHRhbGxDc3NMaW5rID0gXCJcIlxyXG5cclxuXHRhbGxDc3MuZm9yRWFjaCAoY3NzKSAtPlxyXG5cdFx0aWYgX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWFxyXG5cdFx0XHRyb290VXJsID0gX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTFxyXG5cdFx0XHRpZiByb290VXJsLmVuZHNXaXRoKFwiL1wiKVxyXG5cdFx0XHRcdGNzc0hyZWYgPSByb290VXJsLnJlcGxhY2UoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCArIFwiL1wiLCBcIlwiKSArIGNzcy51cmxcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGNzc0hyZWYgPSByb290VXJsLnJlcGxhY2UoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCwgXCJcIikgKyBjc3MudXJsXHJcblx0XHRlbHNlXHJcblx0XHRcdGNzc0hyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoY3NzLnVybClcclxuXHRcdGFsbENzc0xpbmsgKz0gXCJAaW1wb3J0IHVybCgje2Nzc0hyZWZ9KTtcIlxyXG5cclxuXHRyZXMuc3RhdHVzQ29kZSA9IDIwMFxyXG5cdHJlcy5lbmQoYWxsQ3NzTGluaykiLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9zdGVlZG9zLWNzc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYWxsQ3NzLCBhbGxDc3NMaW5rO1xuICBhbGxDc3MgPSBXZWJBcHAuZ2V0UmVmcmVzaGFibGVBc3NldHMoKTtcbiAgYWxsQ3NzTGluayA9IFwiXCI7XG4gIGFsbENzcy5mb3JFYWNoKGZ1bmN0aW9uKGNzcykge1xuICAgIHZhciBjc3NIcmVmLCByb290VXJsO1xuICAgIGlmIChfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYKSB7XG4gICAgICByb290VXJsID0gX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTDtcbiAgICAgIGlmIChyb290VXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICBjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggKyBcIi9cIiwgXCJcIikgKyBjc3MudXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3NzSHJlZiA9IHJvb3RVcmwucmVwbGFjZShfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYLCBcIlwiKSArIGNzcy51cmw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzc0hyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoY3NzLnVybCk7XG4gICAgfVxuICAgIHJldHVybiBhbGxDc3NMaW5rICs9IFwiQGltcG9ydCB1cmwoXCIgKyBjc3NIcmVmICsgXCIpO1wiO1xuICB9KTtcbiAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7XG4gIHJldHVybiByZXMuZW5kKGFsbENzc0xpbmspO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRyZXR1cm5cclxuXHJcblx0dXNlcl9pZCA9IHJlcS51c2VySWRcclxuXHJcblx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHVzZXJfaWQgfSlcclxuXHJcblx0c3BhY2VJZCA9IHJlcS5wYXJhbXMuc3BhY2VcclxuXHJcblx0Zmxvd0lkID0gcmVxLnBhcmFtcy5mbG93XHJcblxyXG5cdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IHNwYWNlSWQgfSlcclxuXHJcblx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGZsb3dJZCB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCAnY3VycmVudC5faWQnOiAxLCBmb3JtOiAxIH0gfSlcclxuXHJcblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3cuZm9ybSB9LCB7IGZpZWxkczogeyAnY3VycmVudC5faWQnOiAxIH0gfSlcclxuXHJcblx0b3B0aW9ucyA9IHtcclxuXHRcdHNob3dUcmFjZTogZmFsc2UsXHJcblx0XHRzaG93QXR0YWNobWVudHM6IGZhbHNlLFxyXG5cdFx0dGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcclxuXHRcdGVkaXRhYmxlOiB0cnVlLFxyXG5cdFx0d2lkdGg6IFwiMTAwJVwiLFxyXG5cdFx0aW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxyXG5cdFx0cGx1Z2luczogXCJcIlwiXHJcblxyXG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwiWC1VQS1Db21wYXRpYmxlXCIgY29udGVudD1cIklFPWVkZ2UsY2hyb21lPTFcIiAvPlxyXG5cdFx0XHQ8bWV0YSBuYW1lPVwiZm9ybWF0LWRldGVjdGlvblwiIGNvbnRlbnQ9XCJ0ZWxlcGhvbmU9bm9cIj5cclxuXHRcdFx0PG1ldGEgaHR0cC1lcXVpdj1cIngtcmltLWF1dG8tbWF0Y2hcIiBjb250ZW50PVwibm9uZVwiPlxyXG5cdFx0XHQ8dGl0bGU+I3tmbG93Lm5hbWV9PC90aXRsZT5cclxuXHRcdFx0PG1ldGEgY29udGVudD0nd2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgbWF4aW11bS1zY2FsZT0xLjAsIHVzZXItc2NhbGFibGU9MCcgbmFtZT0ndmlld3BvcnQnIC8+XHJcblx0XHRcdDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGhcIiAvPlxyXG5cclxuXHRcdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvY3NzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci5taW4uY3NzXCI+XHJcblxyXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxyXG5cclxuXHRcdFx0PHNjcmlwdCBzcmM9XCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvbG9jYWxlcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIuemgtQ04uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgY2hhcnNldD1cIlVURi04XCI+PC9zY3JpcHQ+XHJcblxyXG5cdFx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmNzc1wiPlxyXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxyXG5cdFx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXCI+XHJcblx0XHRcdDxzY3JpcHQgc3JjPVwiL2pzL3dvcmtmbG93X2NsaWVudC5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cclxuXHRcdFwiXCJcIlxyXG5cdH1cclxuXHJcblx0aW5zdGFuY2UgPSB7XHJcblx0XHRmbG93OiBmbG93Ll9pZCxcclxuXHRcdGZsb3dfdmVyc2lvbjogZmxvdy5jdXJyZW50Ll9pZCxcclxuXHRcdGZvcm06IGZvcm0uX2lkLFxyXG5cdFx0Zm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxyXG5cdFx0dmFsdWVzOiB7fSxcclxuXHRcdG5hbWU6IGZsb3cubmFtZSxcclxuXHRcdHNwYWNlOiBzcGFjZUlkXHJcblx0fVxyXG5cclxuXHRodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXHJcblxyXG5cdGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpXHJcblxyXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgZGF0YUJ1Zi5sZW5ndGgpXHJcblxyXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXHJcblxyXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXHJcblxyXG5cdHJlcy5lbmQoaHRtbClcclxuIiwiSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L2RyYWZ0LzpmbG93XCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBkYXRhQnVmLCBmbG93LCBmbG93SWQsIGZvcm0sIGh0bWwsIGluc3RhbmNlLCBvcHRpb25zLCBzcGFjZSwgc3BhY2VJZCwgdXNlciwgdXNlcl9pZDtcbiAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHVzZXJfaWQgPSByZXEudXNlcklkO1xuICB1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgX2lkOiB1c2VyX2lkXG4gIH0pO1xuICBzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZTtcbiAgZmxvd0lkID0gcmVxLnBhcmFtcy5mbG93O1xuICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICBfaWQ6IHNwYWNlSWRcbiAgfSk7XG4gIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICBfaWQ6IGZsb3dJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgJ2N1cnJlbnQuX2lkJzogMSxcbiAgICAgIGZvcm06IDFcbiAgICB9XG4gIH0pO1xuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgX2lkOiBmbG93LmZvcm1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgJ2N1cnJlbnQuX2lkJzogMVxuICAgIH1cbiAgfSk7XG4gIG9wdGlvbnMgPSB7XG4gICAgc2hvd1RyYWNlOiBmYWxzZSxcbiAgICBzaG93QXR0YWNobWVudHM6IGZhbHNlLFxuICAgIHRlbXBsYXRlTmFtZTogXCJkZWZhdWx0XCIsXG4gICAgZWRpdGFibGU6IHRydWUsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIGluc3RhbmNlX3N0eWxlOiBcImluc3RhbmNlLWRlZmF1bHRcIixcbiAgICBwbHVnaW5zOiBcIlxcbjxtZXRhIGh0dHAtZXF1aXY9XFxcIlgtVUEtQ29tcGF0aWJsZVxcXCIgY29udGVudD1cXFwiSUU9ZWRnZSxjaHJvbWU9MVxcXCIgLz5cXG48bWV0YSBuYW1lPVxcXCJmb3JtYXQtZGV0ZWN0aW9uXFxcIiBjb250ZW50PVxcXCJ0ZWxlcGhvbmU9bm9cXFwiPlxcbjxtZXRhIGh0dHAtZXF1aXY9XFxcIngtcmltLWF1dG8tbWF0Y2hcXFwiIGNvbnRlbnQ9XFxcIm5vbmVcXFwiPlxcbjx0aXRsZT5cIiArIGZsb3cubmFtZSArIFwiPC90aXRsZT5cXG48bWV0YSBjb250ZW50PSd3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT0wJyBuYW1lPSd2aWV3cG9ydCcgLz5cXG48bWV0YSBuYW1lPVxcXCJ2aWV3cG9ydFxcXCIgY29udGVudD1cXFwid2lkdGg9ZGV2aWNlLXdpZHRoXFxcIiAvPlxcblxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9jc3MvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLm1pbi5jc3NcXFwiPlxcblxcbjxzY3JpcHQgc3JjPVxcXCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLm1pbi5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG5cXG48c2NyaXB0IHNyYz1cXFwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2pzL2xvY2FsZXMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLnpoLUNOLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiIGNoYXJzZXQ9XFxcIlVURi04XFxcIj48L3NjcmlwdD5cXG5cXG48bGluayByZWw9XFxcInN0eWxlc2hlZXRcXFwiIHR5cGU9XFxcInRleHQvY3NzXFxcIiBocmVmPVxcXCIvcGx1Z2lucy90b2FzdHIvdG9hc3RyLm1pbi5jc3NcXFwiPlxcbjxzY3JpcHQgc3JjPVxcXCIvcGx1Z2lucy90b2FzdHIvdG9hc3RyLm1pbi5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG48bGluayByZWw9XFxcInN0eWxlc2hlZXRcXFwiIHR5cGU9XFxcInRleHQvY3NzXFxcIiBocmVmPVxcXCIvanMvd29ya2Zsb3dfY2xpZW50LmNzc1xcXCI+XFxuPHNjcmlwdCBzcmM9XFxcIi9qcy93b3JrZmxvd19jbGllbnQuanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XCJcbiAgfTtcbiAgaW5zdGFuY2UgPSB7XG4gICAgZmxvdzogZmxvdy5faWQsXG4gICAgZmxvd192ZXJzaW9uOiBmbG93LmN1cnJlbnQuX2lkLFxuICAgIGZvcm06IGZvcm0uX2lkLFxuICAgIGZvcm1fdmVyc2lvbjogZm9ybS5jdXJyZW50Ll9pZCxcbiAgICB2YWx1ZXM6IHt9LFxuICAgIG5hbWU6IGZsb3cubmFtZSxcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9O1xuICBodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtXCIgKyAoZGF0YUJ1Zi5sZW5ndGggLSAxKSArIFwiL1wiICsgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgcmV0dXJuIHJlcy5lbmQoaHRtbCk7XG59KTtcbiIsIkFycmF5LnByb3RvdHlwZS5maWx0ZXJQcm9wZXJ0eSA9IGZ1bmN0aW9uKGgsIGwpe1xyXG4gICAgdmFyIGcgPSBbXTtcclxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtcclxuICAgICAgICB2YXIgbSA9IHQ/IHRbaF06bnVsbDtcclxuICAgICAgICB2YXIgZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmKG0gaW5zdGFuY2VvZiBBcnJheSl7XHJcbiAgICAgICAgICAgIGQgPSBtLmluY2x1ZGVzKGwpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBkID0gKGwgPT09IHVuZGVmaW5lZCk/IGZhbHNlOm09PWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGQpe1xyXG4gICAgICAgICAgICBnLnB1c2godCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZztcclxufTtcclxuXHJcbkFycmF5LnByb3RvdHlwZS5nZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uKGspe1xyXG4gICAgdmFyIHYgPSBuZXcgQXJyYXkoKTtcclxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtcclxuICAgICAgICB2YXIgbSA9IHQ/IHRba106bnVsbDtcclxuICAgICAgICB2LnB1c2gobSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2O1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZ2V0RWFjaCA9IGZ1bmN0aW9uKGNvZGUpe1xyXG4gICAgdmFyIHJldiA9IFtdO1xyXG4gICAgZm9yKHZhciBpID0gMCA7IGkgPCB0aGlzLmxlbmd0aCA7IGkrKyl7XHJcbiAgICAgICAgcmV2LnB1c2godGhpc1tpXVtjb2RlXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV2O1xyXG59O1xyXG5cclxuQXJyYXkucHJvdG90eXBlLnVuaXEgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIGEgPSBbXTtcclxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbihiKXsgXHJcbiAgICAgICAgaWYoYS5pbmRleE9mKGIpIDwgMClcclxuICAgICAgICAgICAge2FbYS5sZW5ndGhdID0gYn1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGE7XHJcbn07XHJcblxyXG5Gb3JtX2Zvcm11bGEgPSB7fTtcclxuXHJcblxyXG5Gb3JtX2Zvcm11bGEubWl4aW4gPSBmdW5jdGlvbihkZXN0LCBzcmMpe1xyXG4gICAgZm9yKHZhciBrZXkgaW4gc3JjKXtcclxuICAgICAgICBkZXN0W2tleV0gPSBzcmNba2V5XTtcclxuICAgIH1cclxuICAgIHJldHVybiBkZXN0O1xyXG59O1xyXG5cclxuXHJcbkZvcm1fZm9ybXVsYS5oYW5kZXJVc2VyT2JqZWN0ID0gZnVuY3Rpb24odSl7XHJcblxyXG4gICAgaWYodSBpbnN0YW5jZW9mIEFycmF5KXtcclxuICAgICAgICB2YXIgdXNlciA9IHt9O1xyXG5cclxuICAgICAgICB1c2VyLm5hbWUgPSB1LmdldFByb3BlcnR5KFwibmFtZVwiKVxyXG4gICAgICAgIHVzZXIub3JnYW5pemF0aW9uID0ge307XHJcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24ubmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJvcmdhbml6YXRpb25cIikuZ2V0UHJvcGVydHkoXCJuYW1lXCIpO1xyXG4gICAgICAgIHVzZXIub3JnYW5pemF0aW9uLmZ1bGxuYW1lID0gdS5nZXRQcm9wZXJ0eShcIm9yZ2FuaXphdGlvblwiKS5nZXRQcm9wZXJ0eShcImZ1bGxuYW1lXCIpO1xyXG5cclxuICAgICAgICB1c2VyLmhyID0gdS5nZXRQcm9wZXJ0eShcImhyXCIpXHJcblxyXG4gICAgICAgIHVzZXIuc29ydF9ubyA9IHUuZ2V0UHJvcGVydHkoXCJzb3J0X25vXCIpXHJcblxyXG5cdFx0dXNlci5tb2JpbGUgPSB1LmdldFByb3BlcnR5KFwibW9iaWxlXCIpXHJcblxyXG5cdFx0dXNlci53b3JrX3Bob25lID0gdS5nZXRQcm9wZXJ0eShcIndvcmtfcGhvbmVcIilcclxuXHJcblx0XHR1c2VyLnBvc2l0aW9uID0gdS5nZXRQcm9wZXJ0eShcInBvc2l0aW9uXCIpXHJcblxyXG4gICAgICAgIHZhciB1c2VyUm9sZXMgPSB1LmdldFByb3BlcnR5KFwicm9sZXNcIik7XHJcbiAgICAgICAgdmFyIHJvbGVzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgdXNlclJvbGVzLmZvckVhY2goZnVuY3Rpb24oaSl7XHJcbiAgICAgICAgICAgIHJvbGVzID0gcm9sZXMuY29uY2F0KGkpO1xyXG4gICAgICAgIH0pOyBcclxuICAgICAgICByb2xlcy51bmlxKCk7XHJcbiAgICAgICAgdXNlci5yb2xlcyA9IHJvbGVzO1xyXG4gICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmV0dXJuIHU7XHJcbiAgICB9XHJcbn1cclxuXHJcbkZvcm1fZm9ybXVsYS5oYW5kZXJPcmdPYmplY3QgPSBmdW5jdGlvbihvKXtcclxuXHJcbiAgICBpZihvIGluc3RhbmNlb2YgQXJyYXkpe1xyXG4gICAgICAgIHZhciBvcmcgPSB7fTtcclxuXHRcdG9yZy5pZCA9IG8uZ2V0UHJvcGVydHkoXCJfaWRcIik7XHJcbiAgICAgICAgb3JnLm5hbWUgPSBvLmdldFByb3BlcnR5KFwibmFtZVwiKTtcclxuICAgICAgICBvcmcuZnVsbG5hbWUgPSBvLmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIik7XHJcblxyXG4gICAgICAgIHJldHVybiBvcmc7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gbztcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG4vKipcclxuICAgICog6I635b6X5YWs5byP6ZyA6KaB55So5Yiw55qE5Yid5aeL5YC8XHJcbiAgICAqIOi+k+WFpe+8mmZpZWxkcywgdmFsdWVzLCBhcHBsaWNhbnRcclxuICAgICog6L6T5Ye677yaX192YWx1ZXNcclxuKiovXHJcbkZvcm1fZm9ybXVsYS5pbml0X2Zvcm11bGFfdmFsdWVzID0gZnVuY3Rpb24oZmllbGRzLCBhdXRvRm9ybURvYywgYXBwcm92ZXIsIGFwcGxpY2FudCwgc3BhY2VJZCl7XHJcbiAgICB2YXIgX192YWx1ZXMgPSB7fTtcclxuICAgIC8v55Sz6K+35Y2V5Lit5aGr55qE5YC85aSE55CGXHJcbiAgICBpZihmaWVsZHMgJiYgZmllbGRzLmxlbmd0aCAmJiBhdXRvRm9ybURvYykge1xyXG4gICAgICAgIC8vZGVidWdnZXI7XHJcbiAgICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpe1xyXG4gICAgICAgICAgICB2YXIgdHlwZSA9IGZpZWxkLnR5cGU7XHJcbiAgICAgICAgICAgIGlmKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGlmKHR5cGUgPT09ICd0YWJsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgICog5bCG6KGo5qC85a2X5q6155qE5YC86L+b6KGM6L2s5o2i5ZCO5Lyg5YWlX192YWx1ZXPkuK1cclxuICAgICAgICAgICAgICAgICAgICAqIHZhbHVlc+S4reihqOagvOeahOWAvOagvOW8j+S4ulxyXG4gICAgICAgICAgICAgICAgICAgICogW3tcImFcIjoxLFwiYlwiOjR9LHtcImFcIjoyLFwiYlwiOjV9LHtcImFcIjozLFwiYlwiOjZ9XVxyXG4gICAgICAgICAgICAgICAgICAgICogX192YWx1ZXPpnIDopoHovazljJbkuLrkuIvpnaLmoLzlvI/kuJTlkozkuLvooajnmoTlgLzkuIDmoLfmlL7liLDnrKzkuIDlsYJcclxuICAgICAgICAgICAgICAgICAgICAqIHtcImFcIjpbMSwyLDNdLFwiYlwiOls0LDUsNl19XHJcbiAgICAgICAgICAgICAgICAgICAgKiovXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlRmllbGRzID0gZmllbGQuc2ZpZWxkcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVWYWx1ZXMgPSBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybXVsYVRhYmxlVmFsdWVzID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fdGFibGVWYWx1ZXMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAvL+aMieWFrOW8j+eahOagvOW8j+i9rOaNouWAvOS4ul9fdGFibGVWYWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICBpZih0YWJsZUZpZWxkcyAmJiB0YWJsZUZpZWxkcy5sZW5ndGggJiYgdGFibGVWYWx1ZXMgJiYgdGFibGVWYWx1ZXMgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHRhYmxlVmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybXVsYVRhYmxlVmFsdWVzLnB1c2goRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXModGFibGVGaWVsZHMsIHRhYmxlVmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5oyJ5Li76KGo55qE5qC85byP6L2s5o2iX190YWJsZVZhbHVlc+WKoOWIsFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHRhYmxlZmllbGQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX190YWJsZVZhbHVlc1t0YWJsZWZpZWxkLmNvZGVdID0gZm9ybXVsYVRhYmxlVmFsdWVzLmdldEVhY2godGFibGVmaWVsZC5jb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzID0gRm9ybV9mb3JtdWxhLm1peGluKF9fdmFsdWVzLCBfX3RhYmxlVmFsdWVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3VzZXInKXtcclxuICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IEZvcm1fZm9ybXVsYS5oYW5kZXJVc2VyT2JqZWN0KFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdHMoc3BhY2VJZCwgYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0pKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2dyb3VwJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBGb3JtX2Zvcm11bGEuaGFuZGVyT3JnT2JqZWN0KFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhT3JnT2JqZWN0cyhhdXRvRm9ybURvY1tmaWVsZC5jb2RlXSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnb2RhdGEnKXtcclxuXHRcdFx0XHRcdF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0gfHwge31cclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+atpOWkhOS8oHNwYWNlSWTnu5npgInkurrmjqfku7bnmoTml6fmlbDmja7orqHnrpdyb2xlc+WSjG9yZ2FuaXphdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0aGlzKTtcclxuICAgIH1cclxuICAgIC8v5b2T5YmN5aSE55CG5Lq6XHJcbiAgICBfX3ZhbHVlc1tcImFwcHJvdmVyXCJdID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0KHNwYWNlSWQsIGFwcHJvdmVyKTtcclxuICAgIC8v55Sz6K+35Lq6XHJcbiAgICBfX3ZhbHVlc1tcImFwcGxpY2FudFwiXSA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdChzcGFjZUlkLCBhcHBsaWNhbnQpO1xyXG5cclxuICAgIHJldHVybiBfX3ZhbHVlcztcclxufTtcclxuXHJcbiIsImdldEhhbmRsZXJzTWFuYWdlciA9IHt9XHJcblxyXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMgPSAodXNlcl9pZHMsIHJvbGVfaWRzLCBzcGFjZV9pZCktPlxyXG5cdGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRfLmVhY2godXNlcl9pZHMsICh1c2VyX2lkKS0+XHJcblx0XHRpZiBkYi51c2Vycy5maW5kKHtfaWQ6IHVzZXJfaWR9KS5jb3VudCgpID4gMFxyXG5cdFx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZClcclxuXHRcdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxyXG5cdFx0XHRcdGFwcHJvdmVfdXNlcnMgPSBhcHByb3ZlX3VzZXJzLmNvbmNhdCh1c2VycylcclxuXHRcdGVsc2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJ1c2VyX2lk5LiN5ZCI5rOV5LiN5ZCI5rOVXCIpXHJcblx0KVxyXG5cdGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2VycylcclxuXHRyZXR1cm4gYXBwcm92ZV91c2Vyc1xyXG5cclxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMgPSAodXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XHJcblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRfLmVhY2gocm9sZV9pZHMsIChyb2xlX2lkKS0+XHJcblx0XHRpZiBkYi5mbG93X3JvbGVzLmZpbmQoe19pZDogcm9sZV9pZH0pLmNvdW50KCkgPiAwXHJcblx0XHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSh1c2VyX2lkLCByb2xlX2lkLCBzcGFjZV9pZClcclxuXHRcdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxyXG5cdFx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInJvbGVfaWTlt7Lnu4/ooqvliKDpmaRcIilcclxuXHQpXHJcblx0aWYgdXNlcl9pZHMubGVuZ3RoID4gMFxyXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXHJcblx0XHRyZXR1cm4gdXNlcl9pZHNcclxuXHRlbHNlXHJcblx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuagueaNrnVzZXJfaWTlkoxyb2xlX2lkc+ayoeafpeWIsOWvueW6lOeahOWkhOeQhuS6ulwiKVxyXG5cclxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSA9ICh1c2VyX2lkLCByb2xlX2lkLCBzcGFjZV9pZCkgLT5cclxuXHRvcmdzID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyczogdXNlcl9pZCB9LCB7IGZpZWxkczogeyBfaWQ6IDEgfSB9KS5mZXRjaCgpXHJcblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRfLmVhY2gob3JncywgKG9yZykgLT5cclxuXHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlKG9yZy5faWQsIHJvbGVfaWQsIHNwYWNlX2lkKVxyXG5cdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxyXG5cdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2VycylcclxuXHQpXHJcblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXHJcblx0cmV0dXJuIHVzZXJfaWRzXHJcblxyXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyA9IChvcmdfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpLT5cclxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKS0+XHJcblx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpXHJcblx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXHJcblx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxyXG5cdClcclxuXHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcclxuXHRyZXR1cm4gdXNlcl9pZHNcclxuXHJcbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMgPSAob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpLT5cclxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdF8uZWFjaChyb2xlX2lkcywgKHJvbGVfaWQpLT5cclxuXHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXHJcblx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXHJcblx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxyXG5cdClcclxuXHRpZiB1c2VyX2lkcy5sZW5ndGggPiAwXHJcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcclxuXHRcdHJldHVybiB1c2VyX2lkc1xyXG5cdGVsc2VcclxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2ub3JnX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIilcclxuXHJcbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZSA9IChvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKSAtPlxyXG5cdG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogb3JnX2lkIH0sIHsgZmllbGRzOiB7IHBhcmVudHM6IDEgfSB9KVxyXG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0cG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgb3JnOiBvcmdfaWQsIHJvbGU6IHJvbGVfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KS5mZXRjaCgpXHJcblx0Xy5lYWNoKHBvc2l0aW9ucywgKHBvc2l0aW9uKSAtPlxyXG5cdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQocG9zaXRpb24udXNlcnMpXHJcblx0KVxyXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCBpcyAwXHJcblx0XHRwYXJlbnRzID0gb3JnLnBhcmVudHNcclxuXHRcdF8uZWFjaChwYXJlbnRzLCAocGFyZW50X2lkKSAtPlxyXG5cdFx0XHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBvcmc6IHBhcmVudF9pZCwgcm9sZTogcm9sZV9pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcclxuXHRcdFx0aWYgcG9zaXRpb25zLmxlbmd0aCA+IDBcclxuXHRcdFx0XHRfLmVhY2gocG9zaXRpb25zLCAocG9zaXRpb24pIC0+XHJcblx0XHRcdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2VycylcclxuXHRcdFx0XHQpXHJcblx0XHQpXHJcblxyXG5cdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxyXG5cdHJldHVybiB1c2VyX2lkc1xyXG5cclxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzID0gKGluc3RhbmNlX2lkLCBzdGVwX2lkKSAtPlxyXG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpXHJcblxyXG5cdCMg5ouf56i/5pe2LCDlj6/ku6Xorr7lrprlkI7nu63mr4/kuKrmraXpqqTnmoTlpITnkIbkurogIzE5MjZcclxuXHRpZiBpbnN0YW5jZS5zdGVwX2FwcHJvdmUgJiYgaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWRdXHJcblx0XHRyZXR1cm4gaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWRdXHJcblxyXG5cdGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXHJcblx0Zmxvd19pZCA9IGluc3RhbmNlLmZsb3dcclxuXHRmbG93X3JldiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvblxyXG5cdGN1cnJlbnRfZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZClcclxuXHRjdXJyZW50X3N0ZXAgPSBudWxsXHJcblx0Y3VycmVudF9zdGVwcyA9IG5ldyBBcnJheVxyXG5cclxuXHRpZiBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQgaXMgZmxvd19yZXZcclxuXHRcdGN1cnJlbnRfc3RlcHMgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5zdGVwc1xyXG5cdGVsc2VcclxuXHRcdGN1cnJlbnQgPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoaGlzdG9yeSkgLT5cclxuXHRcdFx0cmV0dXJuIGhpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XHJcblx0XHQpXHJcblx0XHRjdXJyZW50X3N0ZXBzID0gY3VycmVudC5zdGVwc1xyXG5cclxuXHQjIOS7juiOt+WPlueahHN0ZXBz5Lit5qC55o2uOnN0ZXBfaWTmj5Dlj5blr7nlupTnmoRzdGVw5a+56LGhXHJcblx0Y3VycmVudF9zdGVwID0gXy5maW5kKGN1cnJlbnRfc3RlcHMsIChzdGVwKSAtPlxyXG5cdFx0cmV0dXJuIHN0ZXAuX2lkIGlzIHN0ZXBfaWRcclxuXHQpXHJcblx0IyDliKTmlq1zdGVwX3R5cGVcclxuXHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzIFwiY29uZGl0aW9uXCJcclxuXHRcdHVuZmluaXNoZWRfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpIC0+XHJcblx0XHRcdHJldHVybiB0cmFjZS5pc19maW5pc2hlZCBpcyBmYWxzZVxyXG5cdFx0KVxyXG5cclxuXHRcdHJldHVybiBuZXcgQXJyYXkodW5maW5pc2hlZF90cmFjZS5hcHByb3Zlc1swXS51c2VyKVxyXG5cclxuXHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzIFwic3RhcnRcIlxyXG5cdFx0aGFuZGxlcnMgPSBuZXcgQXJyYXlcclxuXHRcdGhhbmRsZXJzLnB1c2goaW5zdGFuY2UuYXBwbGljYW50KVxyXG5cdFx0aGFuZGxlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpXHJcblx0XHRoYW5kbGVycyA9IF8udW5pcShoYW5kbGVycylcclxuXHRcdHJldHVybiBoYW5kbGVyc1xyXG5cdCMg5b6X5Yiwc3RlcOeahFwiZGVhbF90eXBlXCLvvIzlubbov5vooYzpgLvovpHliKTmlq3mib7liLDlr7nlupTnmoTlpITnkIbkurpcclxuXHRkZWFsX3R5cGUgPSBjdXJyZW50X3N0ZXAuZGVhbF90eXBlXHJcblx0dXNlcnMgPSBuZXcgQXJyYXlcclxuXHRpZiBkZWFsX3R5cGUgaXMgXCJhcHBsaWNhbnRSb2xlXCJcclxuXHRcdCMgMS4qKioqKioqKioqKueUs+ivt+S6uuaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXHJcblx0XHRhcHBsaWNhbnQgPSBpbnN0YW5jZS5hcHBsaWNhbnRcclxuXHRcdGlmIGFwcGxpY2FudFxyXG5cdFx0XHRzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwbGljYW50IH0pLmNvdW50KClcclxuXHRcdFx0aWYgc3BhY2VfdXNlcl9jb3VudCBpcyAwXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKVxyXG5cclxuXHRcdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzIGFuZCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMFxyXG5cdFx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxyXG5cdFx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXHJcblx0XHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcclxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIilcclxuXHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhhcHBsaWNhbnQsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKVxyXG5cclxuXHRcdGVsc2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJJbnN0YW5jZeeahOaPkOS6pOS6uuS4uuepulwiKVxyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwiaHJSb2xlXCJcclxuXHRcdGFwcHJvdmVIclJvbGVJZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfaHJfcm9sZXM7XHJcblx0XHRpZiAoYXBwcm92ZUhyUm9sZUlkcylcclxuXHRcdFx0cmV0dXJuIF8ucGx1Y2soV29ya2Zsb3dNYW5hZ2VyLmdldEhyUm9sZXNVc2VycyhzcGFjZV9pZCwgYXBwcm92ZUhyUm9sZUlkcyksICd1c2VyJyk7XHJcblx0XHRlbHNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6KeS6Imy5pyq5oyH5a6aXCIpXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJhcHBsaWNhbnRcIlxyXG5cdFx0IyAyLioqKioqKioqKioq55Sz6K+35Lq6KioqKioqKioqKipcclxuXHRcdGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudFxyXG5cdFx0c3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcGxpY2FudCB9KS5jb3VudCgpXHJcblx0XHRpZiBzcGFjZV91c2VyX2NvdW50IGlzIDBcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gbmV3IEFycmF5KGFwcGxpY2FudClcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcIm9yZ0ZpZWxkUm9sZVwiXHJcblx0XHQjIDMuKioqKioqKioqKirpg6jpl6jlrZfmrrXmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxyXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXHJcblx0XHRmb3JtX3JldiA9IG51bGxcclxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxyXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cclxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XHJcblx0XHRcdClcclxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cclxuXHJcblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKVxyXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxyXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxyXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnRcclxuXHRcdGVsc2VcclxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XHJcblx0XHRcdFx0cmV0dXJuIGZvcm1faGlzdG9yeS5faWQgaXMgZm9ybV9yZXZcclxuXHRcdFx0KVxyXG5cclxuXHRcdGFwcHJvdmVyX29yZ19maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdfZmllbGRcclxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xyXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcclxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpIC0+XHJcblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX29yZ19maWVsZFxyXG5cdFx0XHRcdGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGVcclxuXHRcdClcclxuXHJcblx0XHQjIOWPluW+l+acgOaWsOeahHZhbHVlc1xyXG5cdFx0bmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcclxuXHRcdG9yZ19pZHMgPSBuZXcgQXJyYXlcclxuXHRcdG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXlcclxuXHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cclxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XHJcblx0XHRcdFx0b3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxyXG5cclxuXHRcdCMg5qCh6aqMb3JnX2lk5pWw57uE5Litb3JnX2lk5piv5ZCm5ZCI5rOVXHJcblx0XHRfLmVhY2gob3JnX2lkc19uYW1lcywgKG9yZykgLT5cclxuXHRcdFx0Y2hlY2tfb3JnX2NvdW50ID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgX2lkOiBvcmdbXCJpZFwiXSB9KS5jb3VudCgpXHJcblx0XHRcdGlmIGNoZWNrX29yZ19jb3VudCBpcyAwXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dJROS4jeWQiOazlVwiKVxyXG5cdFx0XHRvcmdfaWRzLnB1c2gob3JnW1wiaWRcIl0pXHJcblx0XHQpXHJcblxyXG5cdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzIGFuZCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMFxyXG5cdFx0XHQjIOajgOafpWFwcHJvdmVyX3JvbGVz5Litcm9sZeaYr+WQpuS4jeWtmOWcqOaIluW3sue7j+iiq+WIoOmZpFxyXG5cdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cclxuXHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcclxuXHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKVxyXG5cdFx0XHQpXHJcblx0XHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyhvcmdfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKVxyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwib3JnRmllbGRcIlxyXG5cdFx0IyA0LioqKioqKioqKioq6YOo6Zeo5a2X5q615omA5bGe57uE57uH5Lit55qE5Lq65ZGYKioqKioqKioqKipcclxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxyXG5cdFx0Zm9ybV9yZXYgPSBudWxsXHJcblx0XHRpZiBmbG93X3JldiBpcyBjdXJyZW50X2Zsb3cuY3VycmVudC5faWRcclxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cclxuXHRcdGVsc2VcclxuXHRcdFx0Y3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoY3VycmVudF9mbG93X2hpc3RvcnkpIC0+XHJcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxyXG5cdFx0XHQpXHJcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uIGlmIGN1cnJlbnRfZmxvd192ZXJzaW9uXHJcblxyXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcclxuXHRcdGN1cnJlbnRfZm9ybSA9IG51bGxcclxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcclxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XHJcblx0XHRlbHNlXHJcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxyXG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XHJcblx0XHRcdClcclxuXHJcblx0XHRhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkXHJcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcclxuXHRcdGZpZWxkX2NvZGUgPSBudWxsXHJcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKS0+XHJcblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX29yZ19maWVsZFxyXG5cdFx0XHRcdGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGVcclxuXHRcdClcclxuXHJcblx0XHQjIOWPluW+l+acgOaWsOeahHZhbHVlc1xyXG5cdFx0bmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcclxuXHJcblx0XHRvcmdfaWRzID0gbmV3IEFycmF5XHJcblx0XHRvcmdfaWRzX25hbWVzID0gbmV3IEFycmF5XHJcblx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXHJcblx0XHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheVxyXG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSlcclxuXHJcblx0XHQjIOagoemqjG9yZ19pZOaVsOe7hOS4rW9yZ19pZOaYr+WQpuWQiOazlVxyXG5cdFx0Xy5lYWNoKG9yZ19pZHNfbmFtZXMsIChvcmcpIC0+XHJcblx0XHRcdGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IF9pZDogb3JnW1wiaWRcIl0gfSkuY291bnQoKVxyXG5cdFx0XHRpZiBjaGVja19vcmdfY291bnQgaXMgMFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHSUTkuI3lkIjms5VcIilcclxuXHRcdFx0b3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKVxyXG5cdFx0KVxyXG5cclxuXHRcdCMg5qCh6aqMb3Jn5LiL5a2Y5Zyo5aSE55CG5Lq6XHJcblx0XHR1c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpIC0+XHJcblx0XHRcdG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSlcclxuXHRcdFx0b3JnX2NoaWxkcmVuID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBwYXJlbnRzOiBvcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KS5mZXRjaCgpXHJcblx0XHRcdG9yZ19jaGlsZHJlbi51bnNoaWZ0KG9yZylcclxuXHRcdFx0Y2hlY2tfb3JncyA9IG9yZ19jaGlsZHJlblxyXG5cdFx0XHRvcmdfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdFx0Xy5lYWNoKGNoZWNrX29yZ3MsIChjaGVja19vcmdfdXNlcikgLT5cclxuXHRcdFx0XHRpZiBjaGVja19vcmdfdXNlci51c2Vyc1xyXG5cdFx0XHRcdFx0Xy5lYWNoKGNoZWNrX29yZ191c2VyLnVzZXJzLCAob3JnX3VzZXIpIC0+XHJcblx0XHRcdFx0XHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IG9yZ191c2VyIH0pLmNvdW50KCkgaXMgMFxyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwic3BhY2XkuIvkuI3lrZjlnKjmraR1c2VyXCIpXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpXHJcblx0XHRcdFx0b3JnX3VzZXJzID0gb3JnX3VzZXJzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2VycylcclxuXHRcdFx0KVxyXG5cclxuXHRcdFx0aWYgb3JnX3VzZXJzLmxlbmd0aCBpcyAwXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dcIiArIG9yZ19pZCArIFwi5LiN5a2Y5Zyo5aSE55CG5Lq6XCIpXHJcblxyXG5cdFx0KVxyXG5cclxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxyXG5cdFx0cmV0dXJuIHVzZXJfaWRzXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJ1c2VyRmllbGRSb2xlXCJcclxuXHRcdCMgNS4qKioqKioqKioqKuS6uuWRmOWtl+auteaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXHJcblx0XHRmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm1cclxuXHRcdGZvcm1fcmV2ID0gbnVsbFxyXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXHJcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uXHJcblx0XHRlbHNlXHJcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxyXG5cdFx0XHRcdHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcclxuXHRcdFx0KVxyXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxyXG5cclxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXHJcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXHJcblx0XHRpZiBmb3JtX3JldiBpcyBmb3JtLmN1cnJlbnQuX2lkXHJcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgKGZvcm1faGlzdG9yeSkgLT5cclxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxyXG5cdFx0XHQpXHJcblxyXG5cdFx0YXBwcm92ZXJfdXNlcl9maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VyX2ZpZWxkXHJcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcclxuXHRcdGZpZWxkX2NvZGUgPSBudWxsXHJcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKSAtPlxyXG5cdFx0XHRpZiBmb3JtX2ZpZWxkLl9pZCBpcyBhcHByb3Zlcl91c2VyX2ZpZWxkXHJcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxyXG5cdFx0KVxyXG5cclxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXHJcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxyXG5cdFx0IyDojrflj5Z1c2VyX2lk5pWw57uEXHJcblx0XHR1c2VyX2lkc19uYW1lcyA9IG5ldyBBcnJheVxyXG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxyXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcclxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSlcclxuXHJcblx0XHQjIOagoemqjHVzZXJfaWTmlbDnu4TkuK11c2VyX2lk5piv5ZCm5ZCI5rOVXHJcblx0XHR1c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKHVzZXJfaWRzX25hbWVzLCAodXNlcikgLT5cclxuXHRcdFx0Y2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHVzZXJbXCJpZFwiXSB9KS5jb3VudCgpXHJcblx0XHRcdGlmIGNoZWNrX3VzZXJfY291bnQgaXMgMFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5Lq65ZGYSUTkuI3lkIjms5VcIilcclxuXHRcdFx0dXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pXHJcblx0XHQpXHJcblxyXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXHJcblx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXHJcblx0XHRcdCMg5qOA5p+lYXBwcm92ZXJfcm9sZXPkuK1yb2xl5piv5ZCm5LiN5a2Y5Zyo5oiW5bey57uP6KKr5Yig6ZmkXHJcblx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxyXG5cdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxyXG5cdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpXHJcblx0XHRcdClcclxuXHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyh1c2VyX2lkcywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBpbnN0YW5jZS5zcGFjZSlcclxuXHRcdGVsc2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIilcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInVzZXJGaWVsZFwiXHJcblx0XHQjIDYuKioqKioqKioqKirooajljZXkurrlkZjlrZfmrrUqKioqKioqKioqKlxyXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXHJcblx0XHRmb3JtX3JldiA9IG51bGxcclxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxyXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cclxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XHJcblx0XHRcdClcclxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cclxuXHJcblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKVxyXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxyXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxyXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnRcclxuXHRcdGVsc2VcclxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XHJcblx0XHRcdFx0cmV0dXJuIGZvcm1faGlzdG9yeS5faWQgaXMgZm9ybV9yZXZcclxuXHRcdFx0KVxyXG5cclxuXHRcdGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZFxyXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXHJcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxyXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCktPlxyXG5cdFx0XHRpZiBmb3JtX2ZpZWxkLl9pZCBpcyBhcHByb3Zlcl91c2VyX2ZpZWxkXHJcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxyXG5cdFx0KVxyXG5cclxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXHJcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxyXG5cclxuXHRcdCMg6I635Y+WdXNlcl9pZOaVsOe7hFxyXG5cdFx0dXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXlcclxuXHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cclxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XHJcblx0XHRcdFx0dXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXHJcblxyXG5cdFx0IyDmoKHpqox1c2VyX2lk5pWw57uE5LitdXNlcl9pZOaYr+WQpuWQiOazlVxyXG5cdFx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaCh1c2VyX2lkc19uYW1lcywgKHVzZXIpIC0+XHJcblx0XHRcdGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiB1c2VyW1wiaWRcIl0gfSkuY291bnQoKVxyXG5cdFx0XHRpZiBjaGVja191c2VyX2NvdW50IGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpXHJcblx0XHRcdHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKVxyXG5cdFx0KVxyXG5cclxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxyXG5cdFx0cmV0dXJuIHVzZXJfaWRzXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5U3RlcFJvbGVcIlxyXG5cdFx0IyA3LioqKioqKioqKioq5oyH5a6a5q2l6aqk5aSE55CG5a6h5om55bKX5L2NKioqKioqKioqKipcclxuXHRcdGFwcHJvdmVyX3N0ZXAgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfc3RlcFxyXG5cdFx0ZmluaXNoZWRfdHJhY2VzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2goaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpIC0+XHJcblx0XHRcdGlmIHRyYWNlLnN0ZXAgaXMgYXBwcm92ZXJfc3RlcFxyXG5cdFx0XHRcdGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKVxyXG5cdFx0KVxyXG5cdFx0IyDmoLnmja5zdGFydF9kYXRl5Y+W5pyA5paw55qEdHJhY2VcclxuXHRcdG1heF9zdGFydERhdGVfdHJhY2UgPSBfLm1heChmaW5pc2hlZF90cmFjZXMsICh0KSAtPlxyXG5cdFx0XHRyZXR1cm4gdC5zdGFydF9kYXRlXHJcblx0XHQpXHJcblxyXG5cdFx0YXBwcm92ZV91c2VycyA9IF8ucGx1Y2sobWF4X3N0YXJ0RGF0ZV90cmFjZS5hcHByb3ZlcywgXCJ1c2VyXCIpXHJcblxyXG5cdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzXHJcblx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxyXG5cdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxyXG5cdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIilcclxuXHRcdFx0KVxyXG5cclxuXHRcdCMg6aqM6K+B5p+l5Yiw55qEdXNlcuaYr+WQpumDveWQiOazlVxyXG5cdFx0Xy5lYWNoKGFwcHJvdmVfdXNlcnMsIChhcHByb3ZlX3VzZXIpIC0+XHJcblx0XHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcHJvdmVfdXNlciB9KS5jb3VudCgpIGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKVxyXG5cdFx0KVxyXG5cclxuXHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMoYXBwcm92ZV91c2VycywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZClcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlTdGVwVXNlclwiXHJcblx0XHQjIDguKioqKioqKioqKirmjIflrprmraXpqqTlpITnkIbkuroqKioqKioqKioqKlxyXG5cdFx0YXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwXHJcblx0XHRmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaChpbnN0YW5jZS50cmFjZXMsICh0cmFjZSkgLT5cclxuXHRcdFx0aWYgdHJhY2Uuc3RlcCBpcyBhcHByb3Zlcl9zdGVwXHJcblx0XHRcdFx0ZmluaXNoZWRfdHJhY2VzLnB1c2godHJhY2UpXHJcblx0XHQpXHJcblx0XHQjIOagueaNrnN0YXJ0X2RhdGXlj5bmnIDmlrDnmoR0cmFjZVxyXG5cdFx0bWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgKHQpIC0+XHJcblx0XHRcdHJldHVybiB0LnN0YXJ0X2RhdGVcclxuXHRcdClcclxuXHJcblx0XHRhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIilcclxuXHJcblx0XHQjIOmqjOivgeafpeWIsOeahHVzZXLmmK/lkKbpg73lkIjms5VcclxuXHRcdF8uZWFjaChhcHByb3ZlX3VzZXJzLCAoYXBwcm92ZV91c2VyKS0+XHJcblx0XHRcdGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcHJvdmVfdXNlciB9KS5jb3VudCgpXHJcblx0XHRcdGlmIGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCBpcyAwXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmjIflrprmraXpqqTnmoTlpITnkIbkurrlt7Lnu4/lj5jmm7RcIilcclxuXHRcdClcclxuXHJcblx0XHRhcHByb3ZlX3VzZXJzID0gXy51bmlxKGFwcHJvdmVfdXNlcnMpXHJcblx0XHRyZXR1cm4gYXBwcm92ZV91c2Vyc1xyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3VibWl0dGVyUm9sZVwiXHJcblx0XHQjIDkuKioqKioqKioqKirloavljZXkurrmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxyXG5cdFx0c3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyXHJcblx0XHRpZiBub3Qgc3VibWl0dGVyXHJcblx0XHRcdCMg5Yik5pat5o+Q5Lqk5Lq65piv5ZCm5bey57uP6KKr5Yig6ZmkXHJcblx0XHRcdHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogc3VibWl0dGVyIH0pLmNvdW50KClcclxuXHRcdFx0aWYgc3VibWl0dGVyX3VzZXJfY291bnQgaXMgMFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmN5bel5L2c5Yy6XCIpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXHJcblx0XHRcdFx0XHQjIOajgOafpWFwcHJvdmVyX3JvbGVz5Litcm9sZeaYr+WQpuS4jeWtmOWcqOaIluW3sue7j+iiq+WIoOmZpFxyXG5cdFx0XHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XHJcblx0XHRcdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxyXG5cdFx0XHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIilcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhzdWJtaXR0ZXIsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIilcclxuXHRcdGVsc2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlLPor7fljZXnmoTmj5DkuqTkurrkuLrnqbpcIilcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInN1Ym1pdHRlclwiXHJcblx0XHQjIDEwLioqKioqKioqKioq5o+Q5Lqk5Lq6KioqKioqKioqKipcclxuXHRcdHN1Ym1pdHRlciA9IGluc3RhbmNlLnN1Ym1pdHRlclxyXG5cdFx0IyDliKTmlq3mj5DkuqTkurrmmK/lkKblt7Lnu4/ooqvliKDpmaRcclxuXHRcdHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogc3VibWl0dGVyIH0pLmNvdW50KClcclxuXHRcdGlmIHN1Ym1pdHRlcl91c2VyX2NvdW50IGlzIDBcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIilcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIG5ldyBBcnJheShzdWJtaXR0ZXIpXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5T3JnXCJcclxuXHRcdCMgMTEuKioqKioqKioqKirmn5Dpg6jpl6jlhoXnmoTmiYDmnInkuroqKioqKioqKioqKlxyXG5cdFx0YXBwcm92ZXJfb3JnX2lkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdzXHJcblx0XHRpZiBub3QgYXBwcm92ZXJfb3JnX2lkcyBvciBhcHByb3Zlcl9vcmdfaWRzLmxlbmd0aCBpcyAwXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5a6a5LmJ55So5LqO5p+l5om+5LiL5LiA5q2l5aSE55CG5Lq655qE6YOo6Zeo77yM6K+36IGU57O7566h55CG5ZGY6LCD5p+l5rWB56iL5Zu+55qE6YWN572u5piv5ZCm5q2j56GuXCIpXHJcblxyXG5cdFx0IyDpqozor4HmiYDmjIflrprnmoRvcmdhbml6YXRpb25faWTpg73lrZjlnKhcclxuXHRcdHZhbGlkX2FwcHJvdmVyX29yZ19pZHMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaChhcHByb3Zlcl9vcmdfaWRzLCAoYXBwcm92ZXJfb3JnX2lkKSAtPlxyXG5cdFx0XHRpZiBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX29yZ19pZCB9KS5jb3VudCgpID4gMFxyXG5cdFx0XHRcdHZhbGlkX2FwcHJvdmVyX29yZ19pZHMudW5zaGlmdChhcHByb3Zlcl9vcmdfaWQpXHJcblx0XHQpXHJcblxyXG5cdFx0b3JnX3VzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2godmFsaWRfYXBwcm92ZXJfb3JnX2lkcywgKHZhbGlkX2FwcHJvdmVyX29yZ19pZCkgLT5cclxuXHRcdFx0dmFsaWRfYXBwcm92ZXJfb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KVxyXG5cdFx0XHRpZiB2YWxpZF9hcHByb3Zlcl9vcmcudXNlcnNcclxuXHRcdFx0XHRvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KHZhbGlkX2FwcHJvdmVyX29yZy51c2VycylcclxuXHJcblx0XHRcdGNoaWxkX29yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHBhcmVudHM6IHZhbGlkX2FwcHJvdmVyX29yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcclxuXHRcdFx0Xy5lYWNoKGNoaWxkX29yZ3MsIChjaGlsZF9vcmcpIC0+XHJcblx0XHRcdFx0aWYgY2hpbGRfb3JnLnVzZXJzXHJcblx0XHRcdFx0XHRvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KGNoaWxkX29yZy51c2VycylcclxuXHRcdFx0KVxyXG5cdFx0KVxyXG5cclxuXHRcdG9yZ191c2VyX2lkcyA9IF8udW5pcShvcmdfdXNlcl9pZHMpXHJcblx0XHRuZXdfb3JnX3VzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2gob3JnX3VzZXJfaWRzLCAob3JnX3VzZXJfaWQpIC0+XHJcblx0XHRcdHNwYWNlX3VzZXJfaW5mb19jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IG9yZ191c2VyX2lkIH0pLmNvdW50KClcclxuXHRcdFx0aWYgc3BhY2VfdXNlcl9pbmZvX2NvdW50ID4gMFxyXG5cdFx0XHRcdG5ld19vcmdfdXNlcl9pZHMucHVzaChvcmdfdXNlcl9pZClcclxuXHRcdClcclxuXHJcblx0XHRyZXR1cm4gbmV3X29yZ191c2VyX2lkc1xyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeVVzZXJcIlxyXG5cdFx0IyAxMi4qKioqKioqKioqKuaMh+WumueahOS6uuWRmCoqKioqKioqKioqXHJcblx0XHRhcHByb3Zlcl91c2VyX2lkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2Vyc1xyXG5cdFx0YXBwcm92ZXJfdXNlcl9pZHMgPSBfLnVuaXEoYXBwcm92ZXJfdXNlcl9pZHMpXHJcblx0XHRuZXdfYXBwcm92ZXJfdXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaChhcHByb3Zlcl91c2VyX2lkcywgKGFwcHJvdmVyX3VzZXJfaWQpIC0+XHJcblx0XHRcdHNwYWNlX3VzZXJfaW5mb19jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcHJvdmVyX3VzZXJfaWQgfSkuY291bnQoKVxyXG5cdFx0XHRpZiBzcGFjZV91c2VyX2luZm9fY291bnQgPiAwXHJcblx0XHRcdFx0bmV3X2FwcHJvdmVyX3VzZXJfaWRzLnB1c2goYXBwcm92ZXJfdXNlcl9pZClcclxuXHRcdClcclxuXHJcblx0XHRyZXR1cm4gbmV3X2FwcHJvdmVyX3VzZXJfaWRzXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJwaWNrdXBBdFJ1bnRpbWVcIlxyXG5cdFx0IyAxMy4qKioqKioqKioqKuWuoeaJueaXtuaMh+WumioqKioqKioqKioqXHJcblx0XHRuZXh0X3N0ZXBfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIChfdHIpIC0+XHJcblx0XHRcdHJldHVybiBfdHIuaXNfZmluaXNoZWQgaXMgZmFsc2VcclxuXHRcdClcclxuXHRcdF9hcHByb3ZlID0gXy5maW5kKF90cmFjZS5hcHByb3ZlcywgKF9hcHApIC0+XHJcblx0XHRcdHJldHVybiBfYXBwLmlzX2ZpbmlzaGVkIGlzIGZhbHNlIGFuZCBfYXBwLnR5cGUgaXNudCAnY2MnXHJcblx0XHQpXHJcblxyXG5cdFx0aWYgX2FwcHJvdmUubmV4dF9zdGVwc1xyXG5cdFx0XHRpZiBfYXBwcm92ZS5uZXh0X3N0ZXBzWzBdW1widXNlcnNcIl1cclxuXHRcdFx0XHRuZXh0X3N0ZXBfdXNlcnMgPSBfYXBwcm92ZS5uZXh0X3N0ZXBzWzBdW1widXNlcnNcIl1cclxuXHJcblx0XHRyZXR1cm4gbmV4dF9zdGVwX3VzZXJzXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJhcHBsaWNhbnRTdXBlcmlvclwiXHJcblx0XHQjIDE0LioqKioqKioqKioq55Sz6K+35Lq65LiK57qn5Li7566hKioqKioqKioqKipcclxuXHRcdGFwcGxpY2FudFN1cGVyaW9ycyA9IG5ldyBBcnJheVxyXG5cdFx0X3NwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBpbnN0YW5jZS5hcHBsaWNhbnQgfSwgeyBmaWVsZHM6IHsgbWFuYWdlcjogMSB9IH0pXHJcblx0XHRpZiBfc3BhY2VfdXNlci5tYW5hZ2VyXHJcblx0XHRcdGFwcGxpY2FudFN1cGVyaW9ycy5wdXNoKF9zcGFjZV91c2VyLm1hbmFnZXIpXHJcblxyXG5cdFx0cmV0dXJuIGFwcGxpY2FudFN1cGVyaW9ycyIsIiAgICAgICAgICAgICAgICAgICAgICAgXG5cbmdldEhhbmRsZXJzTWFuYWdlciA9IHt9O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMgPSBmdW5jdGlvbih1c2VyX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciBhcHByb3ZlX3VzZXJzO1xuICBhcHByb3ZlX3VzZXJzID0gbmV3IEFycmF5O1xuICBfLmVhY2godXNlcl9pZHMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgaWYgKGRiLnVzZXJzLmZpbmQoe1xuICAgICAgX2lkOiB1c2VyX2lkXG4gICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXModXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKTtcbiAgICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBhcHByb3ZlX3VzZXJzID0gYXBwcm92ZV91c2Vycy5jb25jYXQodXNlcnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInVzZXJfaWTkuI3lkIjms5XkuI3lkIjms5VcIik7XG4gICAgfVxuICB9KTtcbiAgYXBwcm92ZV91c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKTtcbiAgcmV0dXJuIGFwcHJvdmVfdXNlcnM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyA9IGZ1bmN0aW9uKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgdXNlcl9pZHM7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gocm9sZV9pZHMsIGZ1bmN0aW9uKHJvbGVfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgaWYgKGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICBfaWQ6IHJvbGVfaWRcbiAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKTtcbiAgICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwicm9sZV9pZOW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICB9XG4gIH0pO1xuICBpZiAodXNlcl9pZHMubGVuZ3RoID4gMCkge1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmoLnmja51c2VyX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIik7XG4gIH1cbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUgPSBmdW5jdGlvbih1c2VyX2lkLCByb2xlX2lkLCBzcGFjZV9pZCkge1xuICB2YXIgb3JncywgdXNlcl9pZHM7XG4gIG9yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICB1c2VyczogdXNlcl9pZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDFcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gob3JncywgZnVuY3Rpb24ob3JnKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlKG9yZy5faWQsIHJvbGVfaWQsIHNwYWNlX2lkKTtcbiAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICB9XG4gIH0pO1xuICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIHJldHVybiB1c2VyX2lkcztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzID0gZnVuY3Rpb24ob3JnX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciB1c2VyX2lkcztcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKTtcbiAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICB9XG4gIH0pO1xuICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIHJldHVybiB1c2VyX2lkcztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMgPSBmdW5jdGlvbihvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgdXNlcl9pZHM7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gocm9sZV9pZHMsIGZ1bmN0aW9uKHJvbGVfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnX2lkLCByb2xlX2lkLCBzcGFjZV9pZCk7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgfVxuICB9KTtcbiAgaWYgKHVzZXJfaWRzLmxlbmd0aCA+IDApIHtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2ub3JnX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIik7XG4gIH1cbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZSA9IGZ1bmN0aW9uKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIHtcbiAgdmFyIG9yZywgcGFyZW50cywgcG9zaXRpb25zLCB1c2VyX2lkcztcbiAgb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICBfaWQ6IG9yZ19pZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBwYXJlbnRzOiAxXG4gICAgfVxuICB9KTtcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICBvcmc6IG9yZ19pZCxcbiAgICByb2xlOiByb2xlX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHVzZXJzOiAxXG4gICAgfVxuICB9KS5mZXRjaCgpO1xuICBfLmVhY2gocG9zaXRpb25zLCBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2Vycyk7XG4gIH0pO1xuICBpZiAodXNlcl9pZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcGFyZW50cyA9IG9yZy5wYXJlbnRzO1xuICAgIF8uZWFjaChwYXJlbnRzLCBmdW5jdGlvbihwYXJlbnRfaWQpIHtcbiAgICAgIHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIG9yZzogcGFyZW50X2lkLFxuICAgICAgICByb2xlOiByb2xlX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAocG9zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIF8uZWFjaChwb3NpdGlvbnMsIGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICByZXR1cm4gdXNlcl9pZHM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMgPSBmdW5jdGlvbihpbnN0YW5jZV9pZCwgc3RlcF9pZCkge1xuICB2YXIgX2FwcHJvdmUsIF9zcGFjZV91c2VyLCBfdHJhY2UsIGFwcGxpY2FudCwgYXBwbGljYW50U3VwZXJpb3JzLCBhcHByb3ZlSHJSb2xlSWRzLCBhcHByb3ZlX3VzZXJzLCBhcHByb3Zlcl9vcmdfZmllbGQsIGFwcHJvdmVyX29yZ19pZHMsIGFwcHJvdmVyX3N0ZXAsIGFwcHJvdmVyX3VzZXJfZmllbGQsIGFwcHJvdmVyX3VzZXJfaWRzLCBjdXJyZW50LCBjdXJyZW50X2Zsb3csIGN1cnJlbnRfZmxvd192ZXJzaW9uLCBjdXJyZW50X2Zvcm0sIGN1cnJlbnRfc3RlcCwgY3VycmVudF9zdGVwcywgZGVhbF90eXBlLCBmaWVsZF9jb2RlLCBmaW5pc2hlZF90cmFjZXMsIGZsb3dfaWQsIGZsb3dfcmV2LCBmb3JtLCBmb3JtX2ZpZWxkcywgZm9ybV9pZCwgZm9ybV9yZXYsIGhhbmRsZXJzLCBpbnN0YW5jZSwgbWF4X3N0YXJ0RGF0ZV90cmFjZSwgbmV3X2FwcHJvdmVyX3VzZXJfaWRzLCBuZXdfb3JnX3VzZXJfaWRzLCBuZXdlc3RfdmFsdWVzLCBuZXh0X3N0ZXBfdXNlcnMsIG9yZ19pZHMsIG9yZ19pZHNfbmFtZXMsIG9yZ191c2VyX2lkcywgc3BhY2VfaWQsIHNwYWNlX3VzZXJfY291bnQsIHN1Ym1pdHRlciwgc3VibWl0dGVyX3VzZXJfY291bnQsIHVuZmluaXNoZWRfdHJhY2UsIHVzZXJfaWRzLCB1c2VyX2lkc19uYW1lcywgdXNlcnMsIHZhbGlkX2FwcHJvdmVyX29yZ19pZHM7XG4gIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xuICBpZiAoaW5zdGFuY2Uuc3RlcF9hcHByb3ZlICYmIGluc3RhbmNlLnN0ZXBfYXBwcm92ZVtzdGVwX2lkXSkge1xuICAgIHJldHVybiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbc3RlcF9pZF07XG4gIH1cbiAgYXBwcm92ZV91c2VycyA9IG5ldyBBcnJheTtcbiAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgZmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XG4gIGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICBjdXJyZW50X2Zsb3cgPSBkYi5mbG93cy5maW5kT25lKGZsb3dfaWQpO1xuICBjdXJyZW50X3N0ZXAgPSBudWxsO1xuICBjdXJyZW50X3N0ZXBzID0gbmV3IEFycmF5O1xuICBpZiAoY3VycmVudF9mbG93LmN1cnJlbnQuX2lkID09PSBmbG93X3Jldikge1xuICAgIGN1cnJlbnRfc3RlcHMgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5zdGVwcztcbiAgfSBlbHNlIHtcbiAgICBjdXJyZW50ID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oaGlzdG9yeSkge1xuICAgICAgcmV0dXJuIGhpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICB9KTtcbiAgICBjdXJyZW50X3N0ZXBzID0gY3VycmVudC5zdGVwcztcbiAgfVxuICBjdXJyZW50X3N0ZXAgPSBfLmZpbmQoY3VycmVudF9zdGVwcywgZnVuY3Rpb24oc3RlcCkge1xuICAgIHJldHVybiBzdGVwLl9pZCA9PT0gc3RlcF9pZDtcbiAgfSk7XG4gIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09PSBcImNvbmRpdGlvblwiKSB7XG4gICAgdW5maW5pc2hlZF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICByZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgPT09IGZhbHNlO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgQXJyYXkodW5maW5pc2hlZF90cmFjZS5hcHByb3Zlc1swXS51c2VyKTtcbiAgfVxuICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJzdGFydFwiKSB7XG4gICAgaGFuZGxlcnMgPSBuZXcgQXJyYXk7XG4gICAgaGFuZGxlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuICAgIGhhbmRsZXJzLnB1c2goaW5zdGFuY2Uuc3VibWl0dGVyKTtcbiAgICBoYW5kbGVycyA9IF8udW5pcShoYW5kbGVycyk7XG4gICAgcmV0dXJuIGhhbmRsZXJzO1xuICB9XG4gIGRlYWxfdHlwZSA9IGN1cnJlbnRfc3RlcC5kZWFsX3R5cGU7XG4gIHVzZXJzID0gbmV3IEFycmF5O1xuICBpZiAoZGVhbF90eXBlID09PSBcImFwcGxpY2FudFJvbGVcIikge1xuICAgIGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudDtcbiAgICBpZiAoYXBwbGljYW50KSB7XG4gICAgICBzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwbGljYW50XG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHNwYWNlX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKGFwcGxpY2FudCwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJJbnN0YW5jZeeahOaPkOS6pOS6uuS4uuepulwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcImhyUm9sZVwiKSB7XG4gICAgYXBwcm92ZUhyUm9sZUlkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9ocl9yb2xlcztcbiAgICBpZiAoYXBwcm92ZUhyUm9sZUlkcykge1xuICAgICAgcmV0dXJuIF8ucGx1Y2soV29ya2Zsb3dNYW5hZ2VyLmdldEhyUm9sZXNVc2VycyhzcGFjZV9pZCwgYXBwcm92ZUhyUm9sZUlkcyksICd1c2VyJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6KeS6Imy5pyq5oyH5a6aXCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwiYXBwbGljYW50XCIpIHtcbiAgICBhcHBsaWNhbnQgPSBpbnN0YW5jZS5hcHBsaWNhbnQ7XG4gICAgc3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogYXBwbGljYW50XG4gICAgfSkuY291bnQoKTtcbiAgICBpZiAoc3BhY2VfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBBcnJheShhcHBsaWNhbnQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwib3JnRmllbGRSb2xlXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkO1xuICAgIGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkcztcbiAgICBmaWVsZF9jb2RlID0gbnVsbDtcbiAgICBfLmVhY2goZm9ybV9maWVsZHMsIGZ1bmN0aW9uKGZvcm1fZmllbGQpIHtcbiAgICAgIGlmIChmb3JtX2ZpZWxkLl9pZCA9PT0gYXBwcm92ZXJfb3JnX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIG9yZ19pZHMgPSBuZXcgQXJyYXk7XG4gICAgb3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheTtcbiAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSkge1xuICAgICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXy5lYWNoKG9yZ19pZHNfbmFtZXMsIGZ1bmN0aW9uKG9yZykge1xuICAgICAgdmFyIGNoZWNrX29yZ19jb3VudDtcbiAgICAgIGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDogb3JnW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfb3JnX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHSUTkuI3lkIjms5VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKTtcbiAgICB9KTtcbiAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzICYmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzKG9yZ19pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcIm9yZ0ZpZWxkXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkO1xuICAgIGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkcztcbiAgICBmaWVsZF9jb2RlID0gbnVsbDtcbiAgICBfLmVhY2goZm9ybV9maWVsZHMsIGZ1bmN0aW9uKGZvcm1fZmllbGQpIHtcbiAgICAgIGlmIChmb3JtX2ZpZWxkLl9pZCA9PT0gYXBwcm92ZXJfb3JnX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIG9yZ19pZHMgPSBuZXcgQXJyYXk7XG4gICAgb3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheTtcbiAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSkge1xuICAgICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXy5lYWNoKG9yZ19pZHNfbmFtZXMsIGZ1bmN0aW9uKG9yZykge1xuICAgICAgdmFyIGNoZWNrX29yZ19jb3VudDtcbiAgICAgIGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDogb3JnW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfb3JnX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHSUTkuI3lkIjms5VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKTtcbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgICB2YXIgY2hlY2tfb3Jncywgb3JnLCBvcmdfY2hpbGRyZW4sIG9yZ191c2VycztcbiAgICAgIG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb3JnX2NoaWxkcmVuID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICBwYXJlbnRzOiBvcmdfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIG9yZ19jaGlsZHJlbi51bnNoaWZ0KG9yZyk7XG4gICAgICBjaGVja19vcmdzID0gb3JnX2NoaWxkcmVuO1xuICAgICAgb3JnX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgXy5lYWNoKGNoZWNrX29yZ3MsIGZ1bmN0aW9uKGNoZWNrX29yZ191c2VyKSB7XG4gICAgICAgIGlmIChjaGVja19vcmdfdXNlci51c2Vycykge1xuICAgICAgICAgIF8uZWFjaChjaGVja19vcmdfdXNlci51c2VycywgZnVuY3Rpb24ob3JnX3VzZXIpIHtcbiAgICAgICAgICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAgICAgICB1c2VyOiBvcmdfdXNlclxuICAgICAgICAgICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInNwYWNl5LiL5LiN5a2Y5Zyo5q2kdXNlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2Vycyk7XG4gICAgICAgIHJldHVybiBvcmdfdXNlcnMgPSBvcmdfdXNlcnMuY29uY2F0KGNoZWNrX29yZ191c2VyLnVzZXJzKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKG9yZ191c2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dcIiArIG9yZ19pZCArIFwi5LiN5a2Y5Zyo5aSE55CG5Lq6XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInVzZXJGaWVsZFJvbGVcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX3VzZXJfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgdXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHVzZXJfaWRzX25hbWVzLCBmdW5jdGlvbih1c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfdXNlcl9jb3VudDtcbiAgICAgIGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiB1c2VyW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKTtcbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXModXNlcl9pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInVzZXJGaWVsZFwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfdXNlcl9maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VyX2ZpZWxkO1xuICAgIGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkcztcbiAgICBmaWVsZF9jb2RlID0gbnVsbDtcbiAgICBfLmVhY2goZm9ybV9maWVsZHMsIGZ1bmN0aW9uKGZvcm1fZmllbGQpIHtcbiAgICAgIGlmIChmb3JtX2ZpZWxkLl9pZCA9PT0gYXBwcm92ZXJfdXNlcl9maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICB1c2VyX2lkc19uYW1lcyA9IG5ldyBBcnJheTtcbiAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSkge1xuICAgICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB1c2VyX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1c2VyX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godXNlcl9pZHNfbmFtZXMsIGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgIHZhciBjaGVja191c2VyX2NvdW50O1xuICAgICAgY2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IHVzZXJbXCJpZFwiXVxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChjaGVja191c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5Lq65ZGYSUTkuI3lkIjms5VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pO1xuICAgIH0pO1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlTdGVwUm9sZVwiKSB7XG4gICAgYXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwO1xuICAgIGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgaWYgKHRyYWNlLnN0ZXAgPT09IGFwcHJvdmVyX3N0ZXApIHtcbiAgICAgICAgcmV0dXJuIGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICByZXR1cm4gdC5zdGFydF9kYXRlO1xuICAgIH0pO1xuICAgIGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzKSB7XG4gICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIF8uZWFjaChhcHByb3ZlX3VzZXJzLCBmdW5jdGlvbihhcHByb3ZlX3VzZXIpIHtcbiAgICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHByb3ZlX3VzZXJcbiAgICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmjIflrprmraXpqqTnmoTlpITnkIbkurrlt7Lnu4/lj5jmm7RcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyhhcHByb3ZlX3VzZXJzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKTtcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3BlY2lmeVN0ZXBVc2VyXCIpIHtcbiAgICBhcHByb3Zlcl9zdGVwID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3N0ZXA7XG4gICAgZmluaXNoZWRfdHJhY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICBpZiAodHJhY2Uuc3RlcCA9PT0gYXBwcm92ZXJfc3RlcCkge1xuICAgICAgICByZXR1cm4gZmluaXNoZWRfdHJhY2VzLnB1c2godHJhY2UpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1heF9zdGFydERhdGVfdHJhY2UgPSBfLm1heChmaW5pc2hlZF90cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHJldHVybiB0LnN0YXJ0X2RhdGU7XG4gICAgfSk7XG4gICAgYXBwcm92ZV91c2VycyA9IF8ucGx1Y2sobWF4X3N0YXJ0RGF0ZV90cmFjZS5hcHByb3ZlcywgXCJ1c2VyXCIpO1xuICAgIF8uZWFjaChhcHByb3ZlX3VzZXJzLCBmdW5jdGlvbihhcHByb3ZlX3VzZXIpIHtcbiAgICAgIHZhciBjaGVja19hcHByb3ZlX3VzZXJfY291bnQ7XG4gICAgICBjaGVja19hcHByb3ZlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHByb3ZlX3VzZXJcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2Vycyk7XG4gICAgcmV0dXJuIGFwcHJvdmVfdXNlcnM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInN1Ym1pdHRlclJvbGVcIikge1xuICAgIHN1Ym1pdHRlciA9IGluc3RhbmNlLnN1Ym1pdHRlcjtcbiAgICBpZiAoIXN1Ym1pdHRlcikge1xuICAgICAgc3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBzdWJtaXR0ZXJcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoc3VibWl0dGVyX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzICYmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhzdWJtaXR0ZXIsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V55qE5o+Q5Lqk5Lq65Li656m6XCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3VibWl0dGVyXCIpIHtcbiAgICBzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXI7XG4gICAgc3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IHN1Ym1pdHRlclxuICAgIH0pLmNvdW50KCk7XG4gICAgaWYgKHN1Ym1pdHRlcl91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBBcnJheShzdWJtaXR0ZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3BlY2lmeU9yZ1wiKSB7XG4gICAgYXBwcm92ZXJfb3JnX2lkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdzO1xuICAgIGlmICghYXBwcm92ZXJfb3JnX2lkcyB8fCBhcHByb3Zlcl9vcmdfaWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrlrprkuYnnlKjkuo7mn6Xmib7kuIvkuIDmraXlpITnkIbkurrnmoTpg6jpl6jvvIzor7fogZTns7vnrqHnkIblkZjosIPmn6XmtYHnqIvlm77nmoTphY3nva7mmK/lkKbmraPnoa5cIik7XG4gICAgfVxuICAgIHZhbGlkX2FwcHJvdmVyX29yZ19pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGFwcHJvdmVyX29yZ19pZHMsIGZ1bmN0aW9uKGFwcHJvdmVyX29yZ19pZCkge1xuICAgICAgaWYgKGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDogYXBwcm92ZXJfb3JnX2lkXG4gICAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgICByZXR1cm4gdmFsaWRfYXBwcm92ZXJfb3JnX2lkcy51bnNoaWZ0KGFwcHJvdmVyX29yZ19pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgb3JnX3VzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaCh2YWxpZF9hcHByb3Zlcl9vcmdfaWRzLCBmdW5jdGlvbih2YWxpZF9hcHByb3Zlcl9vcmdfaWQpIHtcbiAgICAgIHZhciBjaGlsZF9vcmdzLCB2YWxpZF9hcHByb3Zlcl9vcmc7XG4gICAgICB2YWxpZF9hcHByb3Zlcl9vcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHZhbGlkX2FwcHJvdmVyX29yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICh2YWxpZF9hcHByb3Zlcl9vcmcudXNlcnMpIHtcbiAgICAgICAgb3JnX3VzZXJfaWRzID0gb3JnX3VzZXJfaWRzLmNvbmNhdCh2YWxpZF9hcHByb3Zlcl9vcmcudXNlcnMpO1xuICAgICAgfVxuICAgICAgY2hpbGRfb3JncyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgcGFyZW50czogdmFsaWRfYXBwcm92ZXJfb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICByZXR1cm4gXy5lYWNoKGNoaWxkX29yZ3MsIGZ1bmN0aW9uKGNoaWxkX29yZykge1xuICAgICAgICBpZiAoY2hpbGRfb3JnLnVzZXJzKSB7XG4gICAgICAgICAgcmV0dXJuIG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQoY2hpbGRfb3JnLnVzZXJzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgb3JnX3VzZXJfaWRzID0gXy51bmlxKG9yZ191c2VyX2lkcyk7XG4gICAgbmV3X29yZ191c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2gob3JnX3VzZXJfaWRzLCBmdW5jdGlvbihvcmdfdXNlcl9pZCkge1xuICAgICAgdmFyIHNwYWNlX3VzZXJfaW5mb19jb3VudDtcbiAgICAgIHNwYWNlX3VzZXJfaW5mb19jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IG9yZ191c2VyX2lkXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG5ld19vcmdfdXNlcl9pZHMucHVzaChvcmdfdXNlcl9pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld19vcmdfdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlVc2VyXCIpIHtcbiAgICBhcHByb3Zlcl91c2VyX2lkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VycztcbiAgICBhcHByb3Zlcl91c2VyX2lkcyA9IF8udW5pcShhcHByb3Zlcl91c2VyX2lkcyk7XG4gICAgbmV3X2FwcHJvdmVyX3VzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChhcHByb3Zlcl91c2VyX2lkcywgZnVuY3Rpb24oYXBwcm92ZXJfdXNlcl9pZCkge1xuICAgICAgdmFyIHNwYWNlX3VzZXJfaW5mb19jb3VudDtcbiAgICAgIHNwYWNlX3VzZXJfaW5mb19jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcHJvdmVyX3VzZXJfaWRcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoc3BhY2VfdXNlcl9pbmZvX2NvdW50ID4gMCkge1xuICAgICAgICByZXR1cm4gbmV3X2FwcHJvdmVyX3VzZXJfaWRzLnB1c2goYXBwcm92ZXJfdXNlcl9pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld19hcHByb3Zlcl91c2VyX2lkcztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwicGlja3VwQXRSdW50aW1lXCIpIHtcbiAgICBuZXh0X3N0ZXBfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24oX3RyKSB7XG4gICAgICByZXR1cm4gX3RyLmlzX2ZpbmlzaGVkID09PSBmYWxzZTtcbiAgICB9KTtcbiAgICBfYXBwcm92ZSA9IF8uZmluZChfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKF9hcHApIHtcbiAgICAgIHJldHVybiBfYXBwLmlzX2ZpbmlzaGVkID09PSBmYWxzZSAmJiBfYXBwLnR5cGUgIT09ICdjYyc7XG4gICAgfSk7XG4gICAgaWYgKF9hcHByb3ZlLm5leHRfc3RlcHMpIHtcbiAgICAgIGlmIChfYXBwcm92ZS5uZXh0X3N0ZXBzWzBdW1widXNlcnNcIl0pIHtcbiAgICAgICAgbmV4dF9zdGVwX3VzZXJzID0gX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV4dF9zdGVwX3VzZXJzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJhcHBsaWNhbnRTdXBlcmlvclwiKSB7XG4gICAgYXBwbGljYW50U3VwZXJpb3JzID0gbmV3IEFycmF5O1xuICAgIF9zcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBpbnN0YW5jZS5hcHBsaWNhbnRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbWFuYWdlcjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChfc3BhY2VfdXNlci5tYW5hZ2VyKSB7XG4gICAgICBhcHBsaWNhbnRTdXBlcmlvcnMucHVzaChfc3BhY2VfdXNlci5tYW5hZ2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGxpY2FudFN1cGVyaW9ycztcbiAgfVxufTtcbiIsInBlcm1pc3Npb25NYW5hZ2VyID0ge31cclxuXHJcbnBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyA9IChmbG93X2lkLCB1c2VyX2lkKSAtPlxyXG5cdCMg5qC55o2uOmZsb3dfaWTmn6XliLDlr7nlupTnmoRmbG93XHJcblx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93X2lkKVxyXG5cdHNwYWNlX2lkID0gZmxvdy5zcGFjZVxyXG5cdCMg5qC55o2uc3BhY2VfaWTlkow6dXNlcl9pZOWIsG9yZ2FuaXphdGlvbnPooajkuK3mn6XliLDnlKjmiLfmiYDlsZ7miYDmnInnmoRvcmdfaWTvvIjljIXmi6zkuIrnuqfnu4RJRO+8iVxyXG5cdG9yZ19pZHMgPSBuZXcgQXJyYXlcclxuXHRvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcclxuXHRcdHNwYWNlOiBzcGFjZV9pZCwgdXNlcnM6IHVzZXJfaWQgfSwgeyBmaWVsZHM6IHsgcGFyZW50czogMSB9IH0pLmZldGNoKClcclxuXHRfLmVhY2gob3JnYW5pemF0aW9ucywgKG9yZykgLT5cclxuXHRcdG9yZ19pZHMucHVzaChvcmcuX2lkKVxyXG5cdFx0aWYgb3JnLnBhcmVudHNcclxuXHRcdFx0Xy5lYWNoKG9yZy5wYXJlbnRzLCAocGFyZW50X2lkKSAtPlxyXG5cdFx0XHRcdG9yZ19pZHMucHVzaChwYXJlbnRfaWQpXHJcblx0XHRcdClcclxuXHQpXHJcblx0b3JnX2lkcyA9IF8udW5pcShvcmdfaWRzKVxyXG5cdG15X3Blcm1pc3Npb25zID0gbmV3IEFycmF5XHJcblx0aWYgZmxvdy5wZXJtc1xyXG5cdFx0IyDliKTmlq1mbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbuS4reaYr+WQpuWMheWQq+W9k+WJjeeUqOaIt++8jFxyXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZOaYr+WQpuWMheWQqzTmraXlvpfliLDnmoRvcmdfaWTmlbDnu4TkuK3nmoTku7vkvZXkuIDkuKrvvIxcclxuXHRcdCMg6Iul5piv77yM5YiZ5Zyo6L+U5Zue55qE5pWw57uE5Lit5Yqg5LiKYWRkXHJcblx0XHRpZiBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZGRcclxuXHRcdFx0dXNlcnNfY2FuX2FkZCA9IGZsb3cucGVybXMudXNlcnNfY2FuX2FkZFxyXG5cdFx0XHRpZiB1c2Vyc19jYW5fYWRkLmluY2x1ZGVzKHVzZXJfaWQpXHJcblx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcImFkZFwiKVxyXG5cclxuXHRcdGlmIGZsb3cucGVybXMub3Jnc19jYW5fYWRkXHJcblx0XHRcdG9yZ3NfY2FuX2FkZCA9IGZsb3cucGVybXMub3Jnc19jYW5fYWRkXHJcblx0XHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxyXG5cdFx0XHRcdGlmIG9yZ3NfY2FuX2FkZC5pbmNsdWRlcyhvcmdfaWQpXHJcblx0XHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpXHJcblx0XHRcdClcclxuXHRcdCMg5Yik5patZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvcuS4reaYr+WQpuWMheWQq+W9k+WJjeeUqOaIt++8jFxyXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3LmmK/lkKbljIXlkKs05q2l5b6X5Yiw55qEb3JnX2lk5pWw57uE5Lit55qE5Lu75L2V5LiA5Liq77yMXHJcblx0XHQjIOiLpeaYr++8jOWImeWcqOi/lOWbnueahOaVsOe7hOS4reWKoOS4im1vbml0b3JcclxuXHRcdGlmIGZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3JcclxuXHRcdFx0dXNlcnNfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yXHJcblx0XHRcdGlmIHVzZXJzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKHVzZXJfaWQpXHJcblx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcIm1vbml0b3JcIilcclxuXHJcblx0XHRpZiBmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3JcclxuXHRcdFx0b3Jnc19jYW5fbW9uaXRvciA9IGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvclxyXG5cdFx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cclxuXHRcdFx0XHRpZiBvcmdzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKG9yZ19pZClcclxuXHRcdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpXHJcblx0XHRcdClcclxuXHRcdCMg5Yik5patZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW7kuK3mmK/lkKbljIXlkKvlvZPliY3nlKjmiLfvvIxcclxuXHRcdCMg5oiW6ICFZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pbuaYr+WQpuWMheWQqzTmraXlvpfliLDnmoRvcmdfaWTmlbDnu4TkuK3nmoTku7vkvZXkuIDkuKrvvIxcclxuXHRcdCMg6Iul5piv77yM5YiZ5Zyo6L+U5Zue55qE5pWw57uE5Lit5Yqg5LiKYWRtaW5cclxuXHRcdGlmIGZsb3cucGVybXMudXNlcnNfY2FuX2FkbWluXHJcblx0XHRcdHVzZXJzX2Nhbl9hZG1pbiA9IGZsb3cucGVybXMudXNlcnNfY2FuX2FkbWluXHJcblx0XHRcdGlmIHVzZXJzX2Nhbl9hZG1pbi5pbmNsdWRlcyh1c2VyX2lkKVxyXG5cdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKVxyXG5cclxuXHRcdGlmIGZsb3cucGVybXMub3Jnc19jYW5fYWRtaW5cclxuXHRcdFx0b3Jnc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWluXHJcblx0XHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxyXG5cdFx0XHRcdGlmIG9yZ3NfY2FuX2FkbWluLmluY2x1ZGVzKG9yZ19pZClcclxuXHRcdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKVxyXG5cdFx0XHQpXHJcblxyXG5cdG15X3Blcm1pc3Npb25zID0gXy51bmlxKG15X3Blcm1pc3Npb25zKVxyXG5cdHJldHVybiBteV9wZXJtaXNzaW9ucyIsIiAgICAgICAgICAgICAgICAgICAgICBcblxucGVybWlzc2lvbk1hbmFnZXIgPSB7fTtcblxucGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zID0gZnVuY3Rpb24oZmxvd19pZCwgdXNlcl9pZCkge1xuICB2YXIgZmxvdywgbXlfcGVybWlzc2lvbnMsIG9yZ19pZHMsIG9yZ2FuaXphdGlvbnMsIG9yZ3NfY2FuX2FkZCwgb3Jnc19jYW5fYWRtaW4sIG9yZ3NfY2FuX21vbml0b3IsIHNwYWNlX2lkLCB1c2Vyc19jYW5fYWRkLCB1c2Vyc19jYW5fYWRtaW4sIHVzZXJzX2Nhbl9tb25pdG9yO1xuICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGZsb3dfaWQpO1xuICBzcGFjZV9pZCA9IGZsb3cuc3BhY2U7XG4gIG9yZ19pZHMgPSBuZXcgQXJyYXk7XG4gIG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICB1c2VyczogdXNlcl9pZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBwYXJlbnRzOiAxXG4gICAgfVxuICB9KS5mZXRjaCgpO1xuICBfLmVhY2gob3JnYW5pemF0aW9ucywgZnVuY3Rpb24ob3JnKSB7XG4gICAgb3JnX2lkcy5wdXNoKG9yZy5faWQpO1xuICAgIGlmIChvcmcucGFyZW50cykge1xuICAgICAgcmV0dXJuIF8uZWFjaChvcmcucGFyZW50cywgZnVuY3Rpb24ocGFyZW50X2lkKSB7XG4gICAgICAgIHJldHVybiBvcmdfaWRzLnB1c2gocGFyZW50X2lkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIG9yZ19pZHMgPSBfLnVuaXEob3JnX2lkcyk7XG4gIG15X3Blcm1pc3Npb25zID0gbmV3IEFycmF5O1xuICBpZiAoZmxvdy5wZXJtcykge1xuICAgIGlmIChmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZGQpIHtcbiAgICAgIHVzZXJzX2Nhbl9hZGQgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZGQ7XG4gICAgICBpZiAodXNlcnNfY2FuX2FkZC5pbmNsdWRlcyh1c2VyX2lkKSkge1xuICAgICAgICBteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGQpIHtcbiAgICAgIG9yZ3NfY2FuX2FkZCA9IGZsb3cucGVybXMub3Jnc19jYW5fYWRkO1xuICAgICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgICBpZiAob3Jnc19jYW5fYWRkLmluY2x1ZGVzKG9yZ19pZCkpIHtcbiAgICAgICAgICByZXR1cm4gbXlfcGVybWlzc2lvbnMucHVzaChcImFkZFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yKSB7XG4gICAgICB1c2Vyc19jYW5fbW9uaXRvciA9IGZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3I7XG4gICAgICBpZiAodXNlcnNfY2FuX21vbml0b3IuaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgICAgbXlfcGVybWlzc2lvbnMucHVzaChcIm1vbml0b3JcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3IpIHtcbiAgICAgIG9yZ3NfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3I7XG4gICAgICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgICAgIGlmIChvcmdzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKG9yZ19pZCkpIHtcbiAgICAgICAgICByZXR1cm4gbXlfcGVybWlzc2lvbnMucHVzaChcIm1vbml0b3JcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW4pIHtcbiAgICAgIHVzZXJzX2Nhbl9hZG1pbiA9IGZsb3cucGVybXMudXNlcnNfY2FuX2FkbWluO1xuICAgICAgaWYgKHVzZXJzX2Nhbl9hZG1pbi5pbmNsdWRlcyh1c2VyX2lkKSkge1xuICAgICAgICBteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWluKSB7XG4gICAgICBvcmdzX2Nhbl9hZG1pbiA9IGZsb3cucGVybXMub3Jnc19jYW5fYWRtaW47XG4gICAgICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgICAgIGlmIChvcmdzX2Nhbl9hZG1pbi5pbmNsdWRlcyhvcmdfaWQpKSB7XG4gICAgICAgICAgcmV0dXJuIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIG15X3Blcm1pc3Npb25zID0gXy51bmlxKG15X3Blcm1pc3Npb25zKTtcbiAgcmV0dXJuIG15X3Blcm1pc3Npb25zO1xufTtcbiIsImFwcHJvdmVNYW5hZ2VyID0ge31cclxuXHJcblxyXG4jIyNcclxuICAgIOWvueavlGFwcHJvdmVfdmFsdWVz5LiObGFzdF92YWx1ZXMg5a+56LGh77yMIOi/lOWbnmFwcHJvdmVfdmFsdWVz5q+UbGFzdF92YWx1ZXPlpJrlh7rnmoTmiJbogIXmlLnlj5jnmoTpg6jliIZcclxuIyMjXHJcbmFwcHJvdmVNYW5hZ2VyLmdldENoYW5nZVZhbHVlcyA9IChsYXN0X3ZhbHVlcyxhcHByb3ZlX3ZhbHVlcykgLT5cclxuXHJcblx0Y2hhbmdlVmFsdWVzID0ge31cclxuXHJcblx0bGFzdF92YWx1ZXNfa2V5cyA9IF8ua2V5cyhsYXN0X3ZhbHVlcylcclxuXHJcblx0YXBwcm92ZV92YWx1ZXNfa2V5cyA9IF8ua2V5cyhhcHByb3ZlX3ZhbHVlcylcclxuXHJcbiNcdGNvbnNvbGUubG9nKFwibGFzdF92YWx1ZXNfa2V5c1wiLCBsYXN0X3ZhbHVlc19rZXlzKVxyXG4jXHJcbiNcdGNvbnNvbGUubG9nKFwiYXBwcm92ZV92YWx1ZXNfa2V5c1wiLCBhcHByb3ZlX3ZhbHVlc19rZXlzKVxyXG5cclxuXHRhcHByb3ZlX3ZhbHVlc19rZXlzLmZvckVhY2ggKGtleSktPlxyXG5cdFx0aWYgXy5jb250YWlucyhsYXN0X3ZhbHVlc19rZXlzLCBrZXkpXHJcblx0XHRcdGlmICFfLmlzRXF1YWwobGFzdF92YWx1ZXNba2V5XSwgYXBwcm92ZV92YWx1ZXNba2V5XSlcclxuXHRcdFx0XHRjaGFuZ2VWYWx1ZXNba2V5XSA9IGFwcHJvdmVfdmFsdWVzW2tleV1cclxuXHRcdGVsc2VcclxuXHRcdFx0aWYgYXBwcm92ZV92YWx1ZXNba2V5XSAhPSAnJ1xyXG4jXHRcdFx0XHRjb25zb2xlLmxvZyhrZXksYXBwcm92ZV92YWx1ZXNba2V5XSlcclxuXHRcdFx0XHRjaGFuZ2VWYWx1ZXNba2V5XSA9IGFwcHJvdmVfdmFsdWVzW2tleV1cclxuXHJcblx0cmV0dXJuIGNoYW5nZVZhbHVlc1xyXG4iLCIgICAgICAgICAgICAgICAgICAgXG5cbmFwcHJvdmVNYW5hZ2VyID0ge307XG5cblxuLypcbiAgICDlr7nmr5RhcHByb3ZlX3ZhbHVlc+S4jmxhc3RfdmFsdWVzIOWvueixoe+8jCDov5Tlm55hcHByb3ZlX3ZhbHVlc+avlGxhc3RfdmFsdWVz5aSa5Ye655qE5oiW6ICF5pS55Y+Y55qE6YOo5YiGXG4gKi9cblxuYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzID0gZnVuY3Rpb24obGFzdF92YWx1ZXMsIGFwcHJvdmVfdmFsdWVzKSB7XG4gIHZhciBhcHByb3ZlX3ZhbHVlc19rZXlzLCBjaGFuZ2VWYWx1ZXMsIGxhc3RfdmFsdWVzX2tleXM7XG4gIGNoYW5nZVZhbHVlcyA9IHt9O1xuICBsYXN0X3ZhbHVlc19rZXlzID0gXy5rZXlzKGxhc3RfdmFsdWVzKTtcbiAgYXBwcm92ZV92YWx1ZXNfa2V5cyA9IF8ua2V5cyhhcHByb3ZlX3ZhbHVlcyk7XG4gIGFwcHJvdmVfdmFsdWVzX2tleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoXy5jb250YWlucyhsYXN0X3ZhbHVlc19rZXlzLCBrZXkpKSB7XG4gICAgICBpZiAoIV8uaXNFcXVhbChsYXN0X3ZhbHVlc1trZXldLCBhcHByb3ZlX3ZhbHVlc1trZXldKSkge1xuICAgICAgICByZXR1cm4gY2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYXBwcm92ZV92YWx1ZXNba2V5XSAhPT0gJycpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2hhbmdlVmFsdWVzO1xufTtcbiIsImZsb3dNYW5hZ2VyID0ge31cclxuXHJcbmZsb3dNYW5hZ2VyLmdldENhdGVnb3JpZXNGbG93cyA9IChzcGFjZUlkLCBjYXRlZ29yaWVJZCwgZmllbGRzKS0+XHJcblxyXG5cdGNhdGVnb3JpZXNGb3JtcyA9IGZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyhzcGFjZUlkLCBjYXRlZ29yaWVJZCwge19pZDogMX0pLmZldGNoKClcclxuXHJcblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe2Zvcm06IHskaW4gOiBjYXRlZ29yaWVzRm9ybXMuZ2V0UHJvcGVydHkoXCJfaWRcIil9fSlcclxuXHJcbmZsb3dNYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zsb3dzID0gKHNwYWNlSWQsIGZpZWxkcyktPlxyXG5cclxuXHR1bkNhdGVnb3JpZXNGb3JtcyA9IGZvcm1NYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zvcm1zKHNwYWNlSWQsIHtfaWQ6IDF9KS5mZXRjaCgpXHJcblxyXG5cdHJldHVybiBkYi5mbG93cy5maW5kKHtmb3JtOiB7JGluIDogdW5DYXRlZ29yaWVzRm9ybXMuZ2V0UHJvcGVydHkoXCJfaWRcIil9fSlcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiIsImZvcm1NYW5hZ2VyID0ge31cclxuXHJcbmZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyA9IChzcGFjZUlkLCBjYXRlZ29yaWVJZCwgZmllbGRzKS0+XHJcblx0aWYgZmllbGRzXHJcblx0XHRfZmllbGRzID0ge2ZpZWxkczogZmllbGRzfVxyXG5cclxuXHRyZXR1cm4gZGIuZm9ybXMuZmluZCh7c3BhY2U6IHNwYWNlSWQsIGNhdGVnb3J5OiBjYXRlZ29yaWVJZCwgc3RhdGU6IFwiZW5hYmxlZFwifSwgX2ZpZWxkcylcclxuXHJcbmZvcm1NYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zvcm1zID0gKHNwYWNlSWQsIGZpZWxkcykgLT5cclxuXHRpZiBmaWVsZHNcclxuXHRcdF9maWVsZHMgPSB7ZmllbGRzOiBmaWVsZHN9XHJcblx0cmV0dXJuIGRiLmZvcm1zLmZpbmQoe3NwYWNlOiBzcGFjZUlkLCBjYXRlZ29yeTogeyRpbjogW251bGwsIFwiXCJdfSwgc3RhdGU6IFwiZW5hYmxlZFwifSwgX2ZpZWxkcylcclxuIiwiICAgICAgICAgICAgICAgIFxuXG5mb3JtTWFuYWdlciA9IHt9O1xuXG5mb3JtTWFuYWdlci5nZXRDYXRlZ29yaWVzRm9ybXMgPSBmdW5jdGlvbihzcGFjZUlkLCBjYXRlZ29yaWVJZCwgZmllbGRzKSB7XG4gIHZhciBfZmllbGRzO1xuICBpZiAoZmllbGRzKSB7XG4gICAgX2ZpZWxkcyA9IHtcbiAgICAgIGZpZWxkczogZmllbGRzXG4gICAgfTtcbiAgfVxuICByZXR1cm4gZGIuZm9ybXMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgY2F0ZWdvcnk6IGNhdGVnb3JpZUlkLFxuICAgIHN0YXRlOiBcImVuYWJsZWRcIlxuICB9LCBfZmllbGRzKTtcbn07XG5cbmZvcm1NYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zvcm1zID0gZnVuY3Rpb24oc3BhY2VJZCwgZmllbGRzKSB7XG4gIHZhciBfZmllbGRzO1xuICBpZiAoZmllbGRzKSB7XG4gICAgX2ZpZWxkcyA9IHtcbiAgICAgIGZpZWxkczogZmllbGRzXG4gICAgfTtcbiAgfVxuICByZXR1cm4gZGIuZm9ybXMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgY2F0ZWdvcnk6IHtcbiAgICAgICRpbjogW251bGwsIFwiXCJdXG4gICAgfSxcbiAgICBzdGF0ZTogXCJlbmFibGVkXCJcbiAgfSwgX2ZpZWxkcyk7XG59O1xuIiwic3RlcE1hbmFnZXIgPSB7fVxyXG5cclxuc3RlcE1hbmFnZXIuYWxsb3dCYXRjaCA9IChzdGVwKS0+XHJcblx0cmV0dXJuIHN0ZXAuc3RlcF90eXBlID09ICdjb3VudGVyU2lnbicgJiYgc3RlcC5hbGxvd0JhdGNoXHJcblxyXG5zdGVwTWFuYWdlci5nZXRTdGVwID0gKGluc3RhbmNlLCBmbG93LCBzdGVwX2lkKS0+XHJcblx0Zmxvd19yZXYgPSBpbnN0YW5jZS5mbG93X3ZlcnNpb25cclxuXHRpc0V4aXN0U3RlcCA9IG51bGxcclxuXHRpZiBmbG93LmN1cnJlbnQuX2lkIGlzIGZsb3dfcmV2XHJcblx0XHRpc0V4aXN0U3RlcCA9IF8uZmluZChmbG93LmN1cnJlbnQuc3RlcHMsIChzdGVwKS0+XHJcblx0XHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXHJcblx0XHQpXHJcblx0ZWxzZVxyXG5cdFx0Xy5lYWNoKGZsb3cuaGlzdG9yeXMsIChoaXN0b3J5KS0+XHJcblx0XHRcdGlmIGhpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XHJcblx0XHRcdFx0aXNFeGlzdFN0ZXAgPSBfLmZpbmQoaGlzdG9yeS5zdGVwcywgKHN0ZXApLT5cclxuXHRcdFx0XHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXHJcblx0XHRcdFx0KVxyXG5cdFx0KVxyXG5cclxuXHRpZiBub3QgaXNFeGlzdFN0ZXBcclxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN6IO96I635Y+Wc3RlcFwiKVxyXG5cclxuXHRyZXR1cm4gaXNFeGlzdFN0ZXAiLCIgICAgICAgICAgICAgICAgXG5cbnN0ZXBNYW5hZ2VyID0ge307XG5cbnN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2ggPSBmdW5jdGlvbihzdGVwKSB7XG4gIHJldHVybiBzdGVwLnN0ZXBfdHlwZSA9PT0gJ2NvdW50ZXJTaWduJyAmJiBzdGVwLmFsbG93QmF0Y2g7XG59O1xuXG5zdGVwTWFuYWdlci5nZXRTdGVwID0gZnVuY3Rpb24oaW5zdGFuY2UsIGZsb3csIHN0ZXBfaWQpIHtcbiAgdmFyIGZsb3dfcmV2LCBpc0V4aXN0U3RlcDtcbiAgZmxvd19yZXYgPSBpbnN0YW5jZS5mbG93X3ZlcnNpb247XG4gIGlzRXhpc3RTdGVwID0gbnVsbDtcbiAgaWYgKGZsb3cuY3VycmVudC5faWQgPT09IGZsb3dfcmV2KSB7XG4gICAgaXNFeGlzdFN0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbihzdGVwKSB7XG4gICAgICByZXR1cm4gc3RlcC5faWQgPT09IHN0ZXBfaWQ7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgXy5lYWNoKGZsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGhpc3RvcnkpIHtcbiAgICAgIGlmIChoaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXYpIHtcbiAgICAgICAgcmV0dXJuIGlzRXhpc3RTdGVwID0gXy5maW5kKGhpc3Rvcnkuc3RlcHMsIGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICByZXR1cm4gc3RlcC5faWQgPT09IHN0ZXBfaWQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmICghaXNFeGlzdFN0ZXApIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeiDveiOt+WPlnN0ZXBcIik7XG4gIH1cbiAgcmV0dXJuIGlzRXhpc3RTdGVwO1xufTtcbiIsIl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpXHJcblxyXG5JbnN0YW5jZU1hbmFnZXIgPSB7fVxyXG5cclxubG9nZ2VyID0gbmV3IExvZ2dlciAnV29ya2Zsb3cgLT4gSW5zdGFuY2VNYW5hZ2VyJ1xyXG5cclxuSW5zdGFuY2VNYW5hZ2VyLmhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXAgPSAoaW5zLCBmaWVsZF9tYXApIC0+XHJcblx0cmVzID0gaW5zXHJcblx0aWYgaW5zXHJcblx0XHRpZiAhZmllbGRfbWFwXHJcblxyXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogaW5zLmZsb3cgfSwgeyBmaWVsZHM6IHsgZmllbGRfbWFwOiAxIH0gfSlcclxuXHJcblx0XHRcdGlmIGZsb3c/LmZpZWxkX21hcFxyXG5cdFx0XHRcdGZpZWxkX21hcCA9IGZsb3cuZmllbGRfbWFwXHJcblxyXG5cdFx0aWYgZmllbGRfbWFwXHJcblx0XHRcdGNvbnRleHQgPSBfLmNsb25lKGlucylcclxuXHJcblx0XHRcdGNvbnRleHQuXyA9IF9cclxuXHJcblx0XHRcdHNjcmlwdCA9IFwidmFyIGluc3RhbmNlcyA9ICN7ZmllbGRfbWFwfTsgZXhwb3J0cy5pbnN0YW5jZXMgPSBpbnN0YW5jZXNcIlxyXG5cdFx0XHR0cnlcclxuXHRcdFx0XHRyZXMgPSBfZXZhbChzY3JpcHQsIFwiaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcFwiLCBjb250ZXh0LCBmYWxzZSkuaW5zdGFuY2VzXHJcblx0XHRcdGNhdGNoIGVcclxuXHRcdFx0XHRyZXMgPSB7IF9lcnJvcjogZSB9XHJcblx0XHRcdFx0bG9nZ2VyLmVycm9yIGVcclxuXHRyZXR1cm4gcmVzXHJcblxyXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUgPSAoaW5zdGFuY2UsIGhhbmRsZXIpLT5cclxuXHJcblx0aWYgIWluc3RhbmNlIG9yICFpbnN0YW5jZS50cmFjZXMgb3IgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDFcclxuXHRcdHJldHVyblxyXG5cclxuXHRjdXJyZW50VHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKVxyXG5cclxuXHRpZiBjdXJyZW50VHJhY2VzLmxlbmd0aFxyXG5cdFx0Y3VycmVudEFwcHJvdmVzID0gY3VycmVudFRyYWNlc1swXS5hcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eSgnaXNfZmluaXNoZWQnLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoJ2hhbmRsZXInLCBoYW5kbGVyKVxyXG5cdFx0Y3VycmVudEFwcHJvdmUgPSBpZiBjdXJyZW50QXBwcm92ZXMubGVuZ3RoID4gMCB0aGVuIGN1cnJlbnRBcHByb3Zlc1swXSBlbHNlIG51bGxcclxuXHJcblx0I+S8oOmYheeahGFwcHJvdmXov5Tlm57mnIDmlrDkuIDmnaFcclxuXHRpZiAhY3VycmVudEFwcHJvdmUgb3IgY3VycmVudEFwcHJvdmUudHlwZSA9PSAnY2MnXHJcblx0XHQjIOW9k+WJjeaYr+S8oOmYhVxyXG5cdFx0Xy5lYWNoIGluc3RhbmNlLnRyYWNlcywgKHQpIC0+XHJcblx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cclxuXHRcdFx0XHRpZiBhLnR5cGUgPT0gJ2NjJyBhbmQgYS51c2VyID09IGhhbmRsZXIgYW5kIGEuaXNfZmluaXNoZWQgPT0gZmFsc2VcclxuXHRcdFx0XHRcdGN1cnJlbnRBcHByb3ZlID0gYVxyXG5cdFx0XHRcdHJldHVyblxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0aWYgIWN1cnJlbnRBcHByb3ZlXHJcblx0XHRyZXR1cm5cclxuXHJcblx0cmV0dXJuIGN1cnJlbnRBcHByb3ZlXHJcblxyXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlID0gKGluc3RhbmNlLCB0cmFjZUlkKS0+XHJcblx0cmV0dXJuIGluc3RhbmNlLnRyYWNlcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlSWQpXHJcblxyXG5JbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlID0gKGluc3RhbmNlSWQsIHVzZXJJZCktPlxyXG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pXHJcblxyXG5cdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcclxuXHJcblx0bXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZShpbnN0YW5jZSwgdXNlcklkKVxyXG5cclxuXHRpZiBteV9hcHByb3ZlXHJcblxyXG4jXHRcdGxhbmcgPSBTdGVlZG9zLmxvY2FsZSh0aGF0LnVzZXJJZCwgdHJ1ZSlcclxuXHJcblx0XHR0cmFjZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UoaW5zdGFuY2UsIG15X2FwcHJvdmUudHJhY2UpXHJcblxyXG5cdFx0c3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgdHJhY2Uuc3RlcClcclxuXHJcblx0XHRuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwgXCJcIilcclxuXHJcblx0XHRpZiBuZXh0U3RlcHMubGVuZ3RoID09IDFcclxuXHRcdFx0bmV4dF91c2VyX2lkcyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyhpbnN0YW5jZS5faWQgLCBuZXh0U3RlcHNbMF0pXHJcblx0XHRcdGlmIG5leHRfdXNlcl9pZHMubGVuZ3RoID09IDFcclxuXHRcdFx0XHRteV9hcHByb3ZlLm5leHRfc3RlcHMgPSBbe3N0ZXA6IG5leHRTdGVwc1swXSwgdXNlcnM6IG5leHRfdXNlcl9pZHN9XVxyXG5cdFx0XHRcdHJldHVybiBteV9hcHByb3ZlXHJcbiNcdFx0XHRlbHNlXHJcbiNcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFRBUGkxOG4uX18oJ3dvcmtmbG93X2Vycm9yX211bHRpcGxlX25leHRfc3RlcF91c2VycycsIHtpbnNuYW1lOiBpbnN0YW5jZS5uYW1lfSwgbGFuZykpXHJcbiNcdFx0ZWxzZVxyXG4jXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgVEFQaTE4bi5fXygnd29ya2Zsb3dfZXJyb3JfbXVsdGlwbGVfbmV4dF9zdGVwJywge2luc25hbWU6IGluc3RhbmNlLm5hbWV9LCBsYW5nKSlcclxuXHJcblx0cmV0dXJuXHJcblxyXG5cclxuSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzID0gKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCBpbmJveF91c2VyKS0+XHJcblx0X2JhdGNoX2luc3RhbmNlcyA9IG5ldyBBcnJheSgpXHJcblxyXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZSwgaW5ib3hfdXNlcnM6IGluYm94X3VzZXJ9XHJcblxyXG5cdEZJRUxEUyA9IHtuYW1lOiAxLCBhcHBsaWNhbnRfbmFtZTogMSwgc3VibWl0X2RhdGU6IDEsIGZsb3dfdmVyc2lvbjogMSwgXCJ0cmFjZXMuc3RlcFwiOiAxLCBmbG93OiAxfVxyXG5cclxuXHRpZiBjYXRlZ29yeUlkXHJcblxyXG5cdFx0aWYgY2F0ZWdvcnlJZCA9PSAnLTEnXHJcblx0XHRcdHVuQ2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCB7X2lkOiAxfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKVxyXG5cdFx0XHRxdWVyeS5mbG93ID0geyRpbjogdW5DYXRlZ29yeUZsb3dzfVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCBjYXRlZ29yeUlkLCB7X2lkOiAxfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKVxyXG5cdFx0XHRxdWVyeS5mbG93ID0geyRpbjogY2F0ZWdvcnlGbG93c31cclxuXHJcblx0aWYgZmxvd0lkc1xyXG5cdFx0cXVlcnkuZmxvdyA9IHskaW46IGZsb3dJZHN9XHJcblxyXG4jXHRjb25zb2xlLmxvZyhcInF1ZXJ5XCIsIEpTT04uc3RyaW5naWZ5KHF1ZXJ5KSlcclxuXHJcblx0aW5ib3hfaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtmaWVsZHM6IEZJRUxEUywgc2tpcDogMCwgbGltaXQ6IDEwMH0pXHJcblxyXG5cdGluYm94X2luc3RhbmNlcy5mb3JFYWNoIChpbnMpLT5cclxuXHRcdGN1cnJlbnRTdGVwSWQgPSBfLmxhc3QoaW5zLnRyYWNlcykuc3RlcCAjVE9ETyDmraTku6PnoIHkuI3pgILnlKjkvKDpmIXmibnlpITnkIZcclxuXHJcblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBpbnMuZmxvd30pXHJcblxyXG5cdFx0Y3VycmVudFN0ZXAgPSBzdGVwTWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgY3VycmVudFN0ZXBJZClcclxuXHJcblx0XHRpZiBzdGVwTWFuYWdlci5hbGxvd0JhdGNoKGN1cnJlbnRTdGVwKSAmJiBJbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlKGlucy5faWQsIGluYm94X3VzZXIpXHJcblxyXG5cdFx0XHRkZWxldGUgaW5zLmZsb3dfdmVyc2lvblxyXG5cclxuXHRcdFx0ZGVsZXRlIGlucy50cmFjZXNcclxuXHJcblx0XHRcdGRlbGV0ZSBpbnMuZmxvd1xyXG5cclxuXHRcdFx0X2JhdGNoX2luc3RhbmNlcy5wdXNoKGlucylcclxuI1x0XHRlbHNlXHJcbiNcdFx0XHRjb25zb2xlLmxvZyhcIuaJuemHj+WuoeaJuS3lvILluLjmlbDmja5cIiwgaW5zLl9pZClcclxuXHJcblx0cmV0dXJuIF9iYXRjaF9pbnN0YW5jZXNcclxuIiwidmFyIF9ldmFsLCBsb2dnZXI7ICAgICAgICAgICAgICAgICBcblxuX2V2YWwgPSByZXF1aXJlKCdldmFsJyk7XG5cbkluc3RhbmNlTWFuYWdlciA9IHt9O1xuXG5sb2dnZXIgPSBuZXcgTG9nZ2VyKCdXb3JrZmxvdyAtPiBJbnN0YW5jZU1hbmFnZXInKTtcblxuSW5zdGFuY2VNYW5hZ2VyLmhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXAgPSBmdW5jdGlvbihpbnMsIGZpZWxkX21hcCkge1xuICB2YXIgY29udGV4dCwgZSwgZmxvdywgcmVzLCBzY3JpcHQ7XG4gIHJlcyA9IGlucztcbiAgaWYgKGlucykge1xuICAgIGlmICghZmllbGRfbWFwKSB7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zLmZsb3dcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZmllbGRfbWFwOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cuZmllbGRfbWFwIDogdm9pZCAwKSB7XG4gICAgICAgIGZpZWxkX21hcCA9IGZsb3cuZmllbGRfbWFwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmllbGRfbWFwKSB7XG4gICAgICBjb250ZXh0ID0gXy5jbG9uZShpbnMpO1xuICAgICAgY29udGV4dC5fID0gXztcbiAgICAgIHNjcmlwdCA9IFwidmFyIGluc3RhbmNlcyA9IFwiICsgZmllbGRfbWFwICsgXCI7IGV4cG9ydHMuaW5zdGFuY2VzID0gaW5zdGFuY2VzXCI7XG4gICAgICB0cnkge1xuICAgICAgICByZXMgPSBfZXZhbChzY3JpcHQsIFwiaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcFwiLCBjb250ZXh0LCBmYWxzZSkuaW5zdGFuY2VzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICByZXMgPSB7XG4gICAgICAgICAgX2Vycm9yOiBlXG4gICAgICAgIH07XG4gICAgICAgIGxvZ2dlci5lcnJvcihlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCBoYW5kbGVyKSB7XG4gIHZhciBjdXJyZW50QXBwcm92ZSwgY3VycmVudEFwcHJvdmVzLCBjdXJyZW50VHJhY2VzO1xuICBpZiAoIWluc3RhbmNlIHx8ICFpbnN0YW5jZS50cmFjZXMgfHwgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDEpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY3VycmVudFRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcy5maWx0ZXJQcm9wZXJ0eSgnaXNfZmluaXNoZWQnLCBmYWxzZSk7XG4gIGlmIChjdXJyZW50VHJhY2VzLmxlbmd0aCkge1xuICAgIGN1cnJlbnRBcHByb3ZlcyA9IGN1cnJlbnRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpLmZpbHRlclByb3BlcnR5KCdoYW5kbGVyJywgaGFuZGxlcik7XG4gICAgY3VycmVudEFwcHJvdmUgPSBjdXJyZW50QXBwcm92ZXMubGVuZ3RoID4gMCA/IGN1cnJlbnRBcHByb3Zlc1swXSA6IG51bGw7XG4gIH1cbiAgaWYgKCFjdXJyZW50QXBwcm92ZSB8fCBjdXJyZW50QXBwcm92ZS50eXBlID09PSAnY2MnKSB7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgaWYgKGEudHlwZSA9PT0gJ2NjJyAmJiBhLnVzZXIgPT09IGhhbmRsZXIgJiYgYS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBjdXJyZW50QXBwcm92ZSA9IGE7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGlmICghY3VycmVudEFwcHJvdmUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnRBcHByb3ZlO1xufTtcblxuSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRUcmFjZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCB0cmFjZUlkKSB7XG4gIHJldHVybiBpbnN0YW5jZS50cmFjZXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZUlkKTtcbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUgPSBmdW5jdGlvbihpbnN0YW5jZUlkLCB1c2VySWQpIHtcbiAgdmFyIGZsb3csIGluc3RhbmNlLCBteV9hcHByb3ZlLCBuZXh0U3RlcHMsIG5leHRfdXNlcl9pZHMsIHN0ZXAsIHRyYWNlO1xuICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSk7XG4gIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gIG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoaW5zdGFuY2UsIHVzZXJJZCk7XG4gIGlmIChteV9hcHByb3ZlKSB7XG4gICAgdHJhY2UgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlKGluc3RhbmNlLCBteV9hcHByb3ZlLnRyYWNlKTtcbiAgICBzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCB0cmFjZS5zdGVwKTtcbiAgICBuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwgXCJcIik7XG4gICAgaWYgKG5leHRTdGVwcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zdGFuY2UuX2lkLCBuZXh0U3RlcHNbMF0pO1xuICAgICAgaWYgKG5leHRfdXNlcl9pZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIG15X2FwcHJvdmUubmV4dF9zdGVwcyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdGVwOiBuZXh0U3RlcHNbMF0sXG4gICAgICAgICAgICB1c2VyczogbmV4dF91c2VyX2lkc1xuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIG15X2FwcHJvdmU7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMgPSBmdW5jdGlvbihzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgaW5ib3hfdXNlcikge1xuICB2YXIgRklFTERTLCBfYmF0Y2hfaW5zdGFuY2VzLCBjYXRlZ29yeUZsb3dzLCBpbmJveF9pbnN0YW5jZXMsIHF1ZXJ5LCB1bkNhdGVnb3J5Rmxvd3M7XG4gIF9iYXRjaF9pbnN0YW5jZXMgPSBuZXcgQXJyYXkoKTtcbiAgcXVlcnkgPSB7XG4gICAgc3BhY2U6IHNwYWNlLFxuICAgIGluYm94X3VzZXJzOiBpbmJveF91c2VyXG4gIH07XG4gIEZJRUxEUyA9IHtcbiAgICBuYW1lOiAxLFxuICAgIGFwcGxpY2FudF9uYW1lOiAxLFxuICAgIHN1Ym1pdF9kYXRlOiAxLFxuICAgIGZsb3dfdmVyc2lvbjogMSxcbiAgICBcInRyYWNlcy5zdGVwXCI6IDEsXG4gICAgZmxvdzogMVxuICB9O1xuICBpZiAoY2F0ZWdvcnlJZCkge1xuICAgIGlmIChjYXRlZ29yeUlkID09PSAnLTEnKSB7XG4gICAgICB1bkNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGbG93cyhzcGFjZSwge1xuICAgICAgICBfaWQ6IDFcbiAgICAgIH0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgICAkaW46IHVuQ2F0ZWdvcnlGbG93c1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldENhdGVnb3JpZXNGbG93cyhzcGFjZSwgY2F0ZWdvcnlJZCwge1xuICAgICAgICBfaWQ6IDFcbiAgICAgIH0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgICAkaW46IGNhdGVnb3J5Rmxvd3NcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGlmIChmbG93SWRzKSB7XG4gICAgcXVlcnkuZmxvdyA9IHtcbiAgICAgICRpbjogZmxvd0lkc1xuICAgIH07XG4gIH1cbiAgaW5ib3hfaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IEZJRUxEUyxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiAxMDBcbiAgfSk7XG4gIGluYm94X2luc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGlucykge1xuICAgIHZhciBjdXJyZW50U3RlcCwgY3VycmVudFN0ZXBJZCwgZmxvdztcbiAgICBjdXJyZW50U3RlcElkID0gXy5sYXN0KGlucy50cmFjZXMpLnN0ZXA7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnMuZmxvd1xuICAgIH0pO1xuICAgIGN1cnJlbnRTdGVwID0gc3RlcE1hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGN1cnJlbnRTdGVwSWQpO1xuICAgIGlmIChzdGVwTWFuYWdlci5hbGxvd0JhdGNoKGN1cnJlbnRTdGVwKSAmJiBJbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlKGlucy5faWQsIGluYm94X3VzZXIpKSB7XG4gICAgICBkZWxldGUgaW5zLmZsb3dfdmVyc2lvbjtcbiAgICAgIGRlbGV0ZSBpbnMudHJhY2VzO1xuICAgICAgZGVsZXRlIGlucy5mbG93O1xuICAgICAgcmV0dXJuIF9iYXRjaF9pbnN0YW5jZXMucHVzaChpbnMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzO1xufTtcbiIsIk1ldGVvci5wdWJsaXNoICdjYXRlZ29yaWVzJywgKHNwYWNlSWQpIC0+XHJcblx0Y2hlY2sgc3BhY2VJZCwgU3RyaW5nXHJcblxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHJcblx0cmV0dXJuIGRiLmNhdGVnb3JpZXMuZmluZCh7IHNwYWNlOiBzcGFjZUlkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsIHNwYWNlOiAxLCBzb3J0X25vOiAxLCBhcHA6IDEgfSB9KSIsIk1ldGVvci5wdWJsaXNoKCdjYXRlZ29yaWVzJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIHNvcnRfbm86IDEsXG4gICAgICBhcHA6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJcclxuTWV0ZW9yLnB1Ymxpc2ggJ2Nmc19pbnN0YW5jZXMnLCAoaW5zdGFuY2VJZHMpLT5cclxuXHRjaGVjayhpbnN0YW5jZUlkcywgQXJyYXkpXHJcblxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgaW5zdGFuY2VJZHNcclxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRyZXR1cm4gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiB7JGluOiBpbnN0YW5jZUlkc30gLCAkb3I6IFt7J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB7JG5lOiB0cnVlfX0seydtZXRhZGF0YS5pc19wcml2YXRlJzogdHJ1ZSwgXCJtZXRhZGF0YS5vd25lclwiOiB0aGlzLnVzZXJJZH1dfSlcclxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Nmc19pbnN0YW5jZXMnLCBmdW5jdGlvbihpbnN0YW5jZUlkcykge1xuICBjaGVjayhpbnN0YW5jZUlkcywgQXJyYXkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG4gICAgICAkaW46IGluc3RhbmNlSWRzXG4gICAgfSxcbiAgICAkb3I6IFtcbiAgICAgIHtcbiAgICAgICAgJ21ldGFkYXRhLmlzX3ByaXZhdGUnOiB7XG4gICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJ21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLFxuICAgICAgICBcIm1ldGFkYXRhLm93bmVyXCI6IHRoaXMudXNlcklkXG4gICAgICB9XG4gICAgXVxuICB9KTtcbn0pO1xuIiwiXHJcblxyXG5NZXRlb3IucHVibGlzaCAnZmxvd19wb3NpdGlvbnMnLCAoc3BhY2VJZCktPlxyXG5cdFxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cdFxyXG5cdHVubGVzcyBzcGFjZUlkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtyb2xlOjEsIHVzZXJzOiAxLCBvcmc6IDF9fSk7XHJcbiIsIk1ldGVvci5wdWJsaXNoKCdmbG93X3Bvc2l0aW9ucycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcm9sZTogMSxcbiAgICAgIHVzZXJzOiAxLFxuICAgICAgb3JnOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgJ2Zsb3dfcG9zaXRpb25zX3RhYnVsYXInLCAodGFibGVOYW1lLCBpZHMsIGZpZWxkcyktPlxyXG5cdGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcclxuXHRjaGVjayhpZHMsIEFycmF5KTtcclxuXHRjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xyXG5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dGhpcy51bmJsb2NrKClcclxuXHJcblx0ZmluZDogLT5cclxuXHRcdHRoaXMudW5ibG9jaygpXHJcblx0XHRkYi5mbG93X3Bvc2l0aW9ucy5maW5kIHtfaWQ6IHskaW46IGlkc319LCBmaWVsZHM6IGZpZWxkc1xyXG5cclxuXHRjaGlsZHJlbjogW1xyXG5cdFx0e1xyXG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XHJcblx0XHRcdFx0QHVuYmxvY2soKVxyXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCBmbG93X3JvbGVzXHJcblx0XHRcdFx0ZGIuZmxvd19yb2xlcy5maW5kIHsgX2lkOiBwb3NpdGlvbi5yb2xlIH0sIGZpZWxkczogbmFtZTogMVxyXG5cdFx0fVxyXG5cdFx0e1xyXG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XHJcblx0XHRcdFx0QHVuYmxvY2soKVxyXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCBvcmdhbml6YXRpb25zXHJcblx0XHRcdFx0ZGIub3JnYW5pemF0aW9ucy5maW5kIHsgX2lkOiBwb3NpdGlvbi5vcmcgfSwgZmllbGRzOiBmdWxsbmFtZTogMVxyXG5cdFx0fVxyXG5cdFx0e1xyXG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XHJcblx0XHRcdFx0QHVuYmxvY2soKVxyXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCB1c2VyXHJcblx0XHRcdFx0ZGIuc3BhY2VfdXNlcnMuZmluZCB7XHJcblx0XHRcdFx0XHRzcGFjZTogcG9zaXRpb24uc3BhY2VcclxuXHRcdFx0XHRcdHVzZXI6ICRpbjogcG9zaXRpb24udXNlcnNcclxuXHRcdFx0XHR9LCBmaWVsZHM6XHJcblx0XHRcdFx0XHRzcGFjZTogMVxyXG5cdFx0XHRcdFx0dXNlcjogMVxyXG5cdFx0XHRcdFx0bmFtZTogMVxyXG5cdFx0fVxyXG5cdF0iLCJNZXRlb3IucHVibGlzaENvbXBvc2l0ZSgnZmxvd19wb3NpdGlvbnNfdGFidWxhcicsIGZ1bmN0aW9uKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpIHtcbiAgY2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuICBjaGVjayhpZHMsIEFycmF5KTtcbiAgY2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgdGhpcy51bmJsb2NrKCk7XG4gIHJldHVybiB7XG4gICAgZmluZDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgIHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBpZHNcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IGZpZWxkc1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgICAgX2lkOiBwb3NpdGlvbi5yb2xlXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICAgICAgX2lkOiBwb3NpdGlvbi5vcmdcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBwb3NpdGlvbi5zcGFjZSxcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgJGluOiBwb3NpdGlvbi51c2Vyc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICAgICAgdXNlcjogMSxcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXVxuICB9O1xufSk7XG4iLCJcclxuXHJcblx0TWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfcm9sZXMnLCAoc3BhY2VJZCktPlxyXG5cdFx0XHJcblx0XHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cdFx0XHJcblx0XHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cclxuXHRcdHJldHVybiBkYi5mbG93X3JvbGVzLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge25hbWU6MX19KTtcclxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfcm9sZXMnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMVxuICAgIH1cbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdmbG93cycsIChzcGFjZUlkKS0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBzcGFjZUlkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdCMg56ys5LiA5qyh6K6i6ZiF5pe25Yid5aeL5YyW5bel5L2c5Yy6XHJcblx0aWYgZGIuZmxvd3MuZmluZCh7c3BhY2U6IHNwYWNlSWR9KS5jb3VudCgpID09IDBcclxuXHRcdGRiLnNwYWNlcy5jcmVhdGVUZW1wbGF0ZUZvcm1BbmRGbG93KHNwYWNlSWQpXHJcblxyXG5cdHJldHVybiBkYi5mbG93cy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtcclxuXHRcdGZpZWxkczoge1xyXG5cdFx0XHRuYW1lOiAxLFxyXG5cdFx0XHRmb3JtOiAxLFxyXG5cdFx0XHRzdGF0ZTogMSxcclxuXHRcdFx0cGVybXM6IDEsXHJcblx0XHRcdHNwYWNlOiAxLFxyXG5cdFx0XHRjb21wYW55X2lkOiAxLFxyXG5cdFx0XHRzb3J0X25vOiAxXHJcblx0XHR9XHJcblx0fSlcclxuXHJcblxyXG5NZXRlb3IucHVibGlzaCAnZmxvd192ZXJzaW9uJywgKHNwYWNlSWQsIGZsb3dJZCwgdmVyc2lvbklkKSAtPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgZmxvd0lkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyB2ZXJzaW9uSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblxyXG5cdHNlbGYgPSB0aGlzO1xyXG5cclxuXHRnZXRGbG93VmVyc2lvbiA9IChpZCAsIHZlcnNpb25JZCktPlxyXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZCA6IGlkfSk7XHJcblx0XHRpZiBmbG93XHJcblx0XHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudFxyXG5cdFx0XHRmbG93X3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZVxyXG5cclxuXHRcdFx0aWYgZmxvd192ZXJzaW9uLl9pZCAhPSB2ZXJzaW9uSWRcclxuXHRcdFx0XHRmbG93X3ZlcnNpb24gPSBmbG93Lmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKVxyXG5cdFx0XHRcdGZsb3dfdmVyc2lvbi5sYXRlc3QgPSBmYWxzZVxyXG5cclxuXHRcdFx0cmV0dXJuIGZsb3dfdmVyc2lvblxyXG5cdGhhbmRsZSA9IGRiLmZsb3dzLmZpbmQoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge19pZDogMSwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDF9fSkub2JzZXJ2ZUNoYW5nZXMge1xyXG5cdFx0Y2hhbmdlZDogKGlkKS0+XHJcblx0XHRcdHNlbGYuY2hhbmdlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XHJcblx0fVxyXG5cclxuXHJcblx0c2VsZi5hZGRlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihmbG93SWQsIHZlcnNpb25JZCkpO1xyXG5cdHNlbGYucmVhZHkoKTtcclxuXHRzZWxmLm9uU3RvcCAoKS0+XHJcblx0XHRoYW5kbGUuc3RvcCgpXHJcblxyXG5NZXRlb3IucHVibGlzaCAnZGlzdHJpYnV0ZV9vcHRpb25hbF9mbG93cycsIChmbG93X2lkcyktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgZmxvd19pZHNcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe19pZDogeyRpbjogZmxvd19pZHN9fSwge1xyXG5cdFx0ZmllbGRzOiB7XHJcblx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdGZvcm06IDEsXHJcblx0XHRcdHN0YXRlOiAxLFxyXG5cdFx0XHRwZXJtczogMSxcclxuXHRcdFx0c3BhY2U6IDEsXHJcblx0XHRcdGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXHJcblx0XHRcdGRpc3RyaWJ1dGVfdG9fc2VsZjogMSxcclxuXHRcdFx0ZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxyXG5cdFx0XHRjb21wYW55X2lkOiAxXHJcblx0XHR9XHJcblx0fSlcclxuXHJcbk1ldGVvci5wdWJsaXNoICdmbG93JywgKHNwYWNlSWQsIGZsb3dJZCktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgZmxvd0lkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cclxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7X2lkOiBmbG93SWQsIHNwYWNlOiBzcGFjZUlkfSwge1xyXG5cdFx0ZmllbGRzOiB7XHJcblx0XHRcdHByaW50X3RlbXBsYXRlOiAxLFxyXG5cdFx0XHRpbnN0YW5jZV90ZW1wbGF0ZTogMSxcclxuXHRcdFx0ZXZlbnRzOiAxLFxyXG5cdFx0XHRkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxyXG5cdFx0XHRkaXN0cmlidXRlX3RvX3NlbGY6IDEsXHJcblx0XHRcdHVwbG9hZF9hZnRlcl9iZWluZ19kaXN0cmlidXRlZDogMSxcclxuXHRcdFx0ZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxyXG5cdFx0XHRjb21wYW55X2lkOiAxLFxyXG5cdFx0XHRhbGxvd19zZWxlY3Rfc3RlcDogMVxyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSAnZmxvd3NfdGFidWxhcicsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XHJcblx0Y2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xyXG5cdGNoZWNrKGlkcywgQXJyYXkpO1xyXG5cdGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XHJcblxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR0aGlzLnVuYmxvY2soKVxyXG5cclxuXHRmaW5kOiAtPlxyXG5cdFx0dGhpcy51bmJsb2NrKClcclxuXHRcdGRiLmZsb3dzLmZpbmQge19pZDogeyRpbjogaWRzfX0sIGZpZWxkczogZmllbGRzXHJcblxyXG5cdGNoaWxkcmVuOiBbXHJcblx0XHR7XHJcblx0XHRcdGZpbmQ6IChmbG93KSAtPlxyXG5cdFx0XHRcdEB1bmJsb2NrKClcclxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxyXG5cdFx0XHRcdGRiLnNwYWNlX3VzZXJzLmZpbmQge1xyXG5cdFx0XHRcdFx0c3BhY2U6IGZsb3cuc3BhY2UsXHJcblx0XHRcdFx0XHR1c2VyOiBmbG93LmN1cnJlbnQubW9kaWZpZWRfYnlcclxuXHRcdFx0XHR9LCBmaWVsZHM6XHJcblx0XHRcdFx0XHRzcGFjZTogMVxyXG5cdFx0XHRcdFx0dXNlcjogMVxyXG5cdFx0XHRcdFx0bmFtZTogMVxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0ZmluZDogKGZsb3cpIC0+XHJcblx0XHRcdFx0QHVuYmxvY2soKVxyXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCB1c2VyXHJcblx0XHRcdFx0ZGIuZm9ybXMuZmluZCB7XHJcblx0XHRcdFx0XHRzcGFjZTogZmxvdy5zcGFjZSxcclxuXHRcdFx0XHRcdF9pZDogZmxvdy5mb3JtXHJcblx0XHRcdFx0fSwgZmllbGRzOlxyXG5cdFx0XHRcdFx0c3BhY2U6IDFcclxuXHRcdFx0XHRcdF9pZDogMVxyXG5cdFx0XHRcdFx0bmFtZTogMSxcclxuXHRcdFx0XHRcdGNhdGVnb3J5OiAxXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHRmaW5kOiAoZmxvdykgLT5cclxuXHRcdFx0XHRAdW5ibG9jaygpXHJcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcclxuXHRcdFx0XHRkYi5jYXRlZ29yaWVzLmZpbmQge1xyXG5cdFx0XHRcdFx0c3BhY2U6IGZsb3cuc3BhY2VcclxuXHRcdFx0XHR9LCBmaWVsZHM6XHJcblx0XHRcdFx0XHRzcGFjZTogMVxyXG5cdFx0XHRcdFx0X2lkOiAxXHJcblx0XHRcdFx0XHRuYW1lOiAxXHJcblx0XHR9XHJcblx0XSIsIk1ldGVvci5wdWJsaXNoKCdmbG93cycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoZGIuZmxvd3MuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgIGRiLnNwYWNlcy5jcmVhdGVUZW1wbGF0ZUZvcm1BbmRGbG93KHNwYWNlSWQpO1xuICB9XG4gIHJldHVybiBkYi5mbG93cy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgZm9ybTogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgcGVybXM6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIGNvbXBhbnlfaWQ6IDEsXG4gICAgICBzb3J0X25vOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZmxvd192ZXJzaW9uJywgZnVuY3Rpb24oc3BhY2VJZCwgZmxvd0lkLCB2ZXJzaW9uSWQpIHtcbiAgdmFyIGdldEZsb3dWZXJzaW9uLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmbG93SWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghdmVyc2lvbklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0Rmxvd1ZlcnNpb24gPSBmdW5jdGlvbihpZCwgdmVyc2lvbklkKSB7XG4gICAgdmFyIGZsb3csIGZsb3dfdmVyc2lvbjtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlkXG4gICAgfSk7XG4gICAgaWYgKGZsb3cpIHtcbiAgICAgIGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudDtcbiAgICAgIGZsb3dfdmVyc2lvbi5sYXRlc3QgPSB0cnVlO1xuICAgICAgaWYgKGZsb3dfdmVyc2lvbi5faWQgIT09IHZlcnNpb25JZCkge1xuICAgICAgICBmbG93X3ZlcnNpb24gPSBmbG93Lmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKTtcbiAgICAgICAgZmxvd192ZXJzaW9uLmxhdGVzdCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZsb3dfdmVyc2lvbjtcbiAgICB9XG4gIH07XG4gIGhhbmRsZSA9IGRiLmZsb3dzLmZpbmQoe1xuICAgIF9pZDogZmxvd0lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiAxXG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJmbG93X3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rmxvd1ZlcnNpb24oaWQsIHZlcnNpb25JZCkpO1xuICAgIH1cbiAgfSk7XG4gIHNlbGYuYWRkZWQoXCJmbG93X3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rmxvd1ZlcnNpb24oZmxvd0lkLCB2ZXJzaW9uSWQpKTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdkaXN0cmlidXRlX29wdGlvbmFsX2Zsb3dzJywgZnVuY3Rpb24oZmxvd19pZHMpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmbG93X2lkcykge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgIF9pZDoge1xuICAgICAgJGluOiBmbG93X2lkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGZvcm06IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHBlcm1zOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuICAgICAgZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxuICAgICAgZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxuICAgICAgY29tcGFueV9pZDogMVxuICAgIH1cbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Zsb3cnLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgIF9pZDogZmxvd0lkLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHByaW50X3RlbXBsYXRlOiAxLFxuICAgICAgaW5zdGFuY2VfdGVtcGxhdGU6IDEsXG4gICAgICBldmVudHM6IDEsXG4gICAgICBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuICAgICAgZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxuICAgICAgdXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkOiAxLFxuICAgICAgZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxuICAgICAgY29tcGFueV9pZDogMSxcbiAgICAgIGFsbG93X3NlbGVjdF9zdGVwOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSgnZmxvd3NfdGFidWxhcicsIGZ1bmN0aW9uKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpIHtcbiAgY2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuICBjaGVjayhpZHMsIEFycmF5KTtcbiAgY2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgdGhpcy51bmJsb2NrKCk7XG4gIHJldHVybiB7XG4gICAgZmluZDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgIHJldHVybiBkYi5mbG93cy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBpZHNcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IGZpZWxkc1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihmbG93KSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IGZsb3cuc3BhY2UsXG4gICAgICAgICAgICB1c2VyOiBmbG93LmN1cnJlbnQubW9kaWZpZWRfYnlcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIHVzZXI6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihmbG93KSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IGZsb3cuc3BhY2UsXG4gICAgICAgICAgICBfaWQ6IGZsb3cuZm9ybVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICAgICAgX2lkOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgICBjYXRlZ29yeTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICBfaWQ6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Zvcm1zJywgKHNwYWNlSWQpLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblxyXG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtuYW1lOiAxLCBjYXRlZ29yeTogMSwgc3RhdGU6IDEsIGRlc2NyaXB0aW9uOiAxLCBpbnN0YW5jZV9zdHlsZTogMX19KVxyXG5cclxuXHJcbk1ldGVvci5wdWJsaXNoICdmb3JtX3ZlcnNpb24nLCAoc3BhY2VJZCwgZm9ybUlkLCB2ZXJzaW9uSWQpIC0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBzcGFjZUlkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBmb3JtSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIHZlcnNpb25JZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHJcblx0c2VsZiA9IHRoaXM7XHJcblxyXG5cdGdldEZvcm1WZXJzaW9uID0gKGlkICwgdmVyc2lvbklkKS0+XHJcblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkIDogaWR9KTtcclxuXHRcdGlmICFmb3JtXHJcblx0XHRcdHJldHVybiB7fVxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50XHJcblx0XHRmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZVxyXG5cdFx0aWYgZm9ybV92ZXJzaW9uLl9pZCAhPSB2ZXJzaW9uSWRcclxuXHRcdFx0Zm9ybV92ZXJzaW9uID0gZm9ybS5oaXN0b3J5cy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHZlcnNpb25JZClcclxuXHRcdFx0Zm9ybV92ZXJzaW9uLmxhdGVzdCA9IGZhbHNlXHJcblx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uXHJcblxyXG5cdGhhbmRsZSA9IGRiLmZvcm1zLmZpbmQoe19pZDogZm9ybUlkfSwge2ZpZWxkczoge19pZDogMSwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDF9fSkub2JzZXJ2ZUNoYW5nZXMge1xyXG5cdFx0Y2hhbmdlZDogKGlkKS0+XHJcblx0XHRcdHNlbGYuY2hhbmdlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XHJcblx0fVxyXG5cclxuXHRzZWxmLmFkZGVkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGZvcm1JZCwgdmVyc2lvbklkKSk7XHJcblx0c2VsZi5yZWFkeSgpO1xyXG5cdHNlbGYub25TdG9wICgpLT5cclxuXHRcdGhhbmRsZS5zdG9wKCkiLCJNZXRlb3IucHVibGlzaCgnZm9ybXMnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBjYXRlZ29yeTogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgZGVzY3JpcHRpb246IDEsXG4gICAgICBpbnN0YW5jZV9zdHlsZTogMVxuICAgIH1cbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Zvcm1fdmVyc2lvbicsIGZ1bmN0aW9uKHNwYWNlSWQsIGZvcm1JZCwgdmVyc2lvbklkKSB7XG4gIHZhciBnZXRGb3JtVmVyc2lvbiwgaGFuZGxlLCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZm9ybUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXZlcnNpb25JZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIGdldEZvcm1WZXJzaW9uID0gZnVuY3Rpb24oaWQsIHZlcnNpb25JZCkge1xuICAgIHZhciBmb3JtLCBmb3JtX3ZlcnNpb247XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpZFxuICAgIH0pO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnQ7XG4gICAgZm9ybV92ZXJzaW9uLmxhdGVzdCA9IHRydWU7XG4gICAgaWYgKGZvcm1fdmVyc2lvbi5faWQgIT09IHZlcnNpb25JZCkge1xuICAgICAgZm9ybV92ZXJzaW9uID0gZm9ybS5oaXN0b3J5cy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHZlcnNpb25JZCk7XG4gICAgICBmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBmb3JtX3ZlcnNpb247XG4gIH07XG4gIGhhbmRsZSA9IGRiLmZvcm1zLmZpbmQoe1xuICAgIF9pZDogZm9ybUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiAxXG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oaWQsIHZlcnNpb25JZCkpO1xuICAgIH1cbiAgfSk7XG4gIHNlbGYuYWRkZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oZm9ybUlkLCB2ZXJzaW9uSWQpKTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnaW5zdGFuY2VfZGF0YScsIChpbnN0YW5jZUlkLCBib3gpLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIGluc3RhbmNlSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0c2VsZiA9IHRoaXM7XHJcblxyXG5cdG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLFxyXG5cdFx0J2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJywgJ2F1dG9fc3VibWl0dGVkJ11cclxuXHJcblx0dHJpZ2dlckNoYW5nZUZpZWxkcyA9IFsnZm9ybV92ZXJzaW9uJywgJ2Zsb3dfdmVyc2lvbicsICdyZWxhdGVkX2luc3RhbmNlcycsICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ11cclxuXHJcblx0dHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlcyA9IHt9XHJcblxyXG5cdGluc3RhbmNlX2ZpZWxkc18wID0ge1xyXG5cdFx0XCJyZWNvcmRfc3luY2VkXCI6IDAsXHJcblxyXG4jXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvblwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuY29zdF90aW1lXCI6IDAsXHJcbiNcdFx0XCJ0cmFjZXMuYXBwcm92ZXMucmVhZF9kYXRlXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5pc19lcnJvclwiOiAwLFxyXG5cdFx0IyBcInRyYWNlcy5hcHByb3Zlcy51c2VyX25hbWVcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmRlYWRsaW5lXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRfZGF0ZVwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kZWRfY291bnRcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkX2J5XCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZFwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZ2VvbG9jYXRpb25cIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmNjX3VzZXJzXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5mcm9tX2FwcHJvdmVfaWRcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLnZhbHVlc19oaXN0b3J5XCI6IDBcclxuXHR9XHJcblxyXG5cdGdldE15YXBwcm92ZU1vZGlmaWVkID0gKHRyYWNlcyktPlxyXG5cdFx0bXlBcHByb3ZlTW9kaWZpZWRzID0gbmV3IEFycmF5KClcclxuXHJcblx0XHR0cmFjZXM/LmZvckVhY2ggKHRyYWNlKS0+XHJcblx0XHRcdHRyYWNlPy5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSktPlxyXG5cdFx0XHRcdGlmIChhcHByb3ZlLnVzZXIgPT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09IHNlbGYudXNlcklkKVxyXG5cdFx0XHRcdCMgJiYgIWFwcHJvdmUuaXNfZmluaXNoZWRcclxuI1x0XHRcdFx0XHRjb25zb2xlLmxvZyhcImFwcHJvdmVcIiwgYXBwcm92ZS5faWQsIGFwcHJvdmUucmVhZF9kYXRlKVxyXG5cclxuXHRcdFx0XHRcdG15QXBwcm92ZU1vZGlmaWVkcy5wdXNoKGFwcHJvdmUucmVhZF9kYXRlKVxyXG5cclxuXHRcdHJldHVybiBteUFwcHJvdmVNb2RpZmllZHNcclxuXHJcblxyXG5cdGdldE1pbmlJbnN0YW5jZSA9IChfaW5zdGFuY2VJZCktPlxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBfaW5zdGFuY2VJZH0sIHtmaWVsZHM6IGluc3RhbmNlX2ZpZWxkc18wfSlcclxuXHJcblx0XHRpZiBpbnN0YW5jZVxyXG5cclxuXHRcdFx0dHJpZ2dlckNoYW5nZUZpZWxkcy5mb3JFYWNoIChrZXkpLT5cclxuXHRcdFx0XHRpZiBrZXkgPT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXHJcblx0XHRcdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBnZXRNeWFwcHJvdmVNb2RpZmllZChpbnN0YW5jZS50cmFjZXMpXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldID0gaW5zdGFuY2Vba2V5XVxyXG5cclxuI1x0XHRcdGhhc09waW5pb25GaWVsZCA9IEluc3RhbmNlU2lnblRleHQuaW5jbHVkZXNPcGluaW9uRmllbGQoaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxyXG5cclxuXHRcdFx0c2hvd19tb2RhbF90cmFjZXNfbGlzdCA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoeyBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCIgfSwgeyBmaWVsZHM6IHsgdmFsdWVzOiAxIH0gfSk/LnZhbHVlcyB8fCBmYWxzZVxyXG5cclxuXHRcdFx0aWYgc2hvd19tb2RhbF90cmFjZXNfbGlzdFxyXG5cclxuXHRcdFx0XHR0cmFjZXMgPSBuZXcgQXJyYXkoKTtcclxuXHJcblx0XHRcdFx0aW5zdGFuY2U/LnRyYWNlcz8uZm9yRWFjaCAodHJhY2UpLT5cclxuXHRcdFx0XHRcdF90cmFjZSA9IF8uY2xvbmUodHJhY2UpXHJcblxyXG5cdFx0XHRcdFx0YXBwcm92ZXMgPSBuZXcgQXJyYXkoKVxyXG5cclxuXHRcdFx0XHRcdHRyYWNlPy5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSktPlxyXG5cdFx0XHRcdFx0XHRpZiBhcHByb3ZlLnR5cGUgIT0gJ2NjJyB8fCBhcHByb3ZlLnVzZXIgPT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09IHNlbGYudXNlcklkIHx8ICghXy5pc0VtcHR5KGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSlcclxuXHRcdFx0XHRcdFx0XHRhcHByb3Zlcy5wdXNoKGFwcHJvdmUpXHJcblxyXG5cdFx0XHRcdFx0X3RyYWNlLmFwcHJvdmVzID0gYXBwcm92ZXNcclxuXHJcblx0XHRcdFx0XHR0cmFjZXMucHVzaChfdHJhY2UpXHJcblxyXG5cdFx0XHRcdGluc3RhbmNlLnRyYWNlcyA9IHRyYWNlcztcclxuXHJcblx0XHRyZXR1cm4gaW5zdGFuY2VcclxuXHJcblxyXG5cdG5lZWRDaGFuZ2UgPSAoY2hhbmdlRmllbGRzKS0+XHJcblx0XHRpZiBjaGFuZ2VGaWVsZHNcclxuXHJcblx0XHRcdF9jaGFuZ2UgPSBmYWxzZVxyXG5cclxuXHRcdFx0X3JldiA9IF8uZmluZCB0cmlnZ2VyQ2hhbmdlRmllbGRzLCAoa2V5KS0+XHJcblx0XHRcdFx0X2tleSA9IGtleVxyXG5cclxuXHRcdFx0XHRpZiBrZXkgPT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXHJcblx0XHRcdFx0XHRfa2V5ID0gJ3RyYWNlcydcclxuXHJcblx0XHRcdFx0aWYgXy5oYXMoY2hhbmdlRmllbGRzLCBfa2V5KVxyXG5cclxuXHRcdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcclxuXHJcblx0XHRcdFx0XHRcdF9teV9hcHByb3ZlX21vZGlmaWVkcyA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGNoYW5nZUZpZWxkcy50cmFjZXMpXHJcblxyXG4jXHRcdFx0XHRcdFx0Y29uc29sZS5sb2codHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBfbXlfYXBwcm92ZV9tb2RpZmllZHMpXHJcblxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIF9teV9hcHByb3ZlX21vZGlmaWVkcylcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0cmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBjaGFuZ2VGaWVsZHNba2V5XSlcclxuXHJcblx0XHRcdGlmIF9yZXZcclxuXHRcdFx0XHRfY2hhbmdlID0gdHJ1ZVxyXG5cclxuI1x0XHRcdGNvbnNvbGUubG9nKF9yZXYsIF9jaGFuZ2UpXHJcblxyXG5cdFx0XHRyZXR1cm4gX2NoYW5nZVxyXG5cclxuXHRcdHJldHVybiB0cnVlXHJcblx0I+atpOWkhOS4jeiDvea3u+WKoGZpZWxkc+mZkOWItu+8jOWQpuWImeS8muWvvOiHtOaVsOaNruS4jeWunuaXtlxyXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IGluc3RhbmNlSWR9KS5vYnNlcnZlQ2hhbmdlcyB7XHJcblx0XHRjaGFuZ2VkOiAoaWQsIGZpZWxkcyktPlxyXG5cdFx0XHRpZihib3ggIT0gJ2luYm94JyB8fCBuZWVkQ2hhbmdlKGZpZWxkcykpXHJcblx0XHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBnZXRNaW5pSW5zdGFuY2UoaWQpKTtcclxuXHRcdHJlbW92ZWQ6IChpZCktPlxyXG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xyXG5cdH1cclxuXHJcblx0aW5zdGFuY2UgPSBnZXRNaW5pSW5zdGFuY2UoaW5zdGFuY2VJZClcclxuXHJcblx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpbnN0YW5jZT8uX2lkLCBpbnN0YW5jZSk7XHJcblxyXG5cdHNlbGYucmVhZHkoKTtcclxuXHJcblx0c2VsZi5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKVxyXG5cclxuXHJcbk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZV90cmFjZXMnLCAoaW5zdGFuY2VJZCktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgaW5zdGFuY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRzZWxmID0gdGhpc1xyXG5cclxuXHRnZXRJbnN0YW5jZVRyYWNlcyA9IChfaW5zSWQpLT5cclxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBfaW5zSWR9LCB7ZmllbGRzOiB7X2lkOiAxLCB0cmFjZXM6IDF9fSlcclxuXHJcblxyXG5cdGhhbmRsZSA9ICBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiBpbnN0YW5jZUlkfSkub2JzZXJ2ZUNoYW5nZXMge1xyXG5cdFx0Y2hhbmdlZDogKGlkKS0+XHJcblx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlX3RyYWNlc1wiLCBpbnN0YW5jZUlkLCBnZXRJbnN0YW5jZVRyYWNlcyhpbnN0YW5jZUlkKSk7XHJcblx0fVxyXG5cclxuXHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcclxuXHJcblx0c2VsZi5yZWFkeSgpO1xyXG5cdHNlbGYub25TdG9wICgpLT5cclxuXHRcdGhhbmRsZS5zdG9wKCkiLCJNZXRlb3IucHVibGlzaCgnaW5zdGFuY2VfZGF0YScsIGZ1bmN0aW9uKGluc3RhbmNlSWQsIGJveCkge1xuICB2YXIgZ2V0TWluaUluc3RhbmNlLCBnZXRNeWFwcHJvdmVNb2RpZmllZCwgaGFuZGxlLCBpbnN0YW5jZSwgaW5zdGFuY2VfZmllbGRzXzAsIG1pbmlBcHByb3ZlRmllbGRzLCBuZWVkQ2hhbmdlLCBzZWxmLCB0cmlnZ2VyQ2hhbmdlRmllbGRzLCB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJywgJ2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJywgJ2F1dG9fc3VibWl0dGVkJ107XG4gIHRyaWdnZXJDaGFuZ2VGaWVsZHMgPSBbJ2Zvcm1fdmVyc2lvbicsICdmbG93X3ZlcnNpb24nLCAncmVsYXRlZF9pbnN0YW5jZXMnLCAnX215X2FwcHJvdmVfcmVhZF9kYXRlcyddO1xuICB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzID0ge307XG4gIGluc3RhbmNlX2ZpZWxkc18wID0ge1xuICAgIFwicmVjb3JkX3N5bmNlZFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvblwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmNvc3RfdGltZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX2Vycm9yXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuZGVhZGxpbmVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRfZGF0ZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZGVkX2NvdW50XCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRfYnlcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmdlb2xvY2F0aW9uXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuY2NfdXNlcnNcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5mcm9tX2FwcHJvdmVfaWRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy52YWx1ZXNfaGlzdG9yeVwiOiAwXG4gIH07XG4gIGdldE15YXBwcm92ZU1vZGlmaWVkID0gZnVuY3Rpb24odHJhY2VzKSB7XG4gICAgdmFyIG15QXBwcm92ZU1vZGlmaWVkcztcbiAgICBteUFwcHJvdmVNb2RpZmllZHMgPSBuZXcgQXJyYXkoKTtcbiAgICBpZiAodHJhY2VzICE9IG51bGwpIHtcbiAgICAgIHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgIHZhciByZWY7XG4gICAgICAgIHJldHVybiB0cmFjZSAhPSBudWxsID8gKHJlZiA9IHRyYWNlLmFwcHJvdmVzKSAhPSBudWxsID8gcmVmLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgIGlmIChhcHByb3ZlLnVzZXIgPT09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PT0gc2VsZi51c2VySWQpIHtcbiAgICAgICAgICAgIHJldHVybiBteUFwcHJvdmVNb2RpZmllZHMucHVzaChhcHByb3ZlLnJlYWRfZGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbXlBcHByb3ZlTW9kaWZpZWRzO1xuICB9O1xuICBnZXRNaW5pSW5zdGFuY2UgPSBmdW5jdGlvbihfaW5zdGFuY2VJZCkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCByZWYxLCBzaG93X21vZGFsX3RyYWNlc19saXN0LCB0cmFjZXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IF9pbnN0YW5jZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiBpbnN0YW5jZV9maWVsZHNfMFxuICAgIH0pO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgdHJpZ2dlckNoYW5nZUZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycpIHtcbiAgICAgICAgICByZXR1cm4gdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoaW5zdGFuY2UudHJhY2VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldID0gaW5zdGFuY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzaG93X21vZGFsX3RyYWNlc19saXN0ID0gKChyZWYgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHtcbiAgICAgICAgc3BhY2U6IGluc3RhbmNlLnNwYWNlLFxuICAgICAgICBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwiXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHZhbHVlczogMVxuICAgICAgICB9XG4gICAgICB9KSkgIT0gbnVsbCA/IHJlZi52YWx1ZXMgOiB2b2lkIDApIHx8IGZhbHNlO1xuICAgICAgaWYgKHNob3dfbW9kYWxfdHJhY2VzX2xpc3QpIHtcbiAgICAgICAgdHJhY2VzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGlmIChpbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKChyZWYxID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZWYxLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgICAgICAgdmFyIF90cmFjZSwgYXBwcm92ZXMsIHJlZjI7XG4gICAgICAgICAgICAgIF90cmFjZSA9IF8uY2xvbmUodHJhY2UpO1xuICAgICAgICAgICAgICBhcHByb3ZlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgICBpZiAodHJhY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICgocmVmMiA9IHRyYWNlLmFwcHJvdmVzKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICByZWYyLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXBwcm92ZS50eXBlICE9PSAnY2MnIHx8IGFwcHJvdmUudXNlciA9PT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09PSBzZWxmLnVzZXJJZCB8fCAoIV8uaXNFbXB0eShhcHByb3ZlLnNpZ25fZmllbGRfY29kZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcHJvdmVzLnB1c2goYXBwcm92ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfdHJhY2UuYXBwcm92ZXMgPSBhcHByb3ZlcztcbiAgICAgICAgICAgICAgcmV0dXJuIHRyYWNlcy5wdXNoKF90cmFjZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UudHJhY2VzID0gdHJhY2VzO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG4gIG5lZWRDaGFuZ2UgPSBmdW5jdGlvbihjaGFuZ2VGaWVsZHMpIHtcbiAgICB2YXIgX2NoYW5nZSwgX3JldjtcbiAgICBpZiAoY2hhbmdlRmllbGRzKSB7XG4gICAgICBfY2hhbmdlID0gZmFsc2U7XG4gICAgICBfcmV2ID0gXy5maW5kKHRyaWdnZXJDaGFuZ2VGaWVsZHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICB2YXIgX2tleSwgX215X2FwcHJvdmVfbW9kaWZpZWRzO1xuICAgICAgICBfa2V5ID0ga2V5O1xuICAgICAgICBpZiAoa2V5ID09PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycpIHtcbiAgICAgICAgICBfa2V5ID0gJ3RyYWNlcyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8uaGFzKGNoYW5nZUZpZWxkcywgX2tleSkpIHtcbiAgICAgICAgICBpZiAoa2V5ID09PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycpIHtcbiAgICAgICAgICAgIF9teV9hcHByb3ZlX21vZGlmaWVkcyA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGNoYW5nZUZpZWxkcy50cmFjZXMpO1xuICAgICAgICAgICAgcmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBfbXlfYXBwcm92ZV9tb2RpZmllZHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIGNoYW5nZUZpZWxkc1trZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKF9yZXYpIHtcbiAgICAgICAgX2NoYW5nZSA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2NoYW5nZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkLCBmaWVsZHMpIHtcbiAgICAgIGlmIChib3ggIT09ICdpbmJveCcgfHwgbmVlZENoYW5nZShmaWVsZHMpKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGdldE1pbmlJbnN0YW5jZShpZCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuICAgIH1cbiAgfSk7XG4gIGluc3RhbmNlID0gZ2V0TWluaUluc3RhbmNlKGluc3RhbmNlSWQpO1xuICBzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGluc3RhbmNlICE9IG51bGwgPyBpbnN0YW5jZS5faWQgOiB2b2lkIDAsIGluc3RhbmNlKTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZV90cmFjZXMnLCBmdW5jdGlvbihpbnN0YW5jZUlkKSB7XG4gIHZhciBnZXRJbnN0YW5jZVRyYWNlcywgaGFuZGxlLCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRJbnN0YW5jZVRyYWNlcyA9IGZ1bmN0aW9uKF9pbnNJZCkge1xuICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IF9pbnNJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBfaWQ6IDEsXG4gICAgICAgIHRyYWNlczogMVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImluc3RhbmNlX3RyYWNlc1wiLCBpbnN0YW5jZUlkLCBnZXRJbnN0YW5jZVRyYWNlcyhpbnN0YW5jZUlkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImluc3RhbmNlX3RyYWNlc1wiLCBpbnN0YW5jZUlkLCBnZXRJbnN0YW5jZVRyYWNlcyhpbnN0YW5jZUlkKSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiXHJcblx0TWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlc19saXN0JywgKHNwYWNlSWQsIGJveCwgZmxvd0lkKS0+XHJcblxyXG5cdFx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHRcdFxyXG5cdFx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRcdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxyXG5cdFx0aWYgYm94ID09IFwiaW5ib3hcIlxyXG5cdFx0XHRxdWVyeS5pbmJveF91c2VycyA9IHRoaXMudXNlcklkO1xyXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJvdXRib3hcIlxyXG5cdFx0XHRxdWVyeS5vdXRib3hfdXNlcnMgPSB0aGlzLnVzZXJJZDtcclxuXHRcdGVsc2UgaWYgYm94ID09IFwiZHJhZnRcIlxyXG5cdFx0XHRxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcclxuXHRcdFx0cXVlcnkuc3RhdGUgPSBcImRyYWZ0XCJcclxuXHRcdGVsc2UgaWYgYm94ID09IFwicGVuZGluZ1wiXHJcblx0XHRcdHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xyXG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwicGVuZGluZ1wiXHJcblx0XHRlbHNlIGlmIGJveCA9PSBcImNvbXBsZXRlZFwiXHJcblx0XHRcdHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xyXG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCJcclxuXHRcdGVsc2UgaWYgYm94ID09IFwibW9uaXRvclwiXHJcblx0XHRcdHF1ZXJ5LmZsb3cgPSBmbG93SWQ7XHJcblx0XHRcdHF1ZXJ5LnN0YXRlID0geyRpbjogW1wicGVuZGluZ1wiLFwiY29tcGxldGVkXCJdfTtcclxuXHRcdGVsc2VcclxuXHRcdFx0cXVlcnkuc3RhdGUgPSBcIm5vbmVcIlxyXG5cclxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczoge25hbWU6MSwgY3JlYXRlZDoxLCBmb3JtOjEsIGZsb3c6IDEsIHNwYWNlOjEsIG1vZGlmaWVkOjEsIGFwcGxpY2FudDogMSwgaXNfYXJjaGl2ZWQ6MSwgZm9ybV92ZXJzaW9uOiAxLCBmbG93X3ZlcnNpb246IDF9fSlcclxuXHJcbiIsIk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZXNfbGlzdCcsIGZ1bmN0aW9uKHNwYWNlSWQsIGJveCwgZmxvd0lkKSB7XG4gIHZhciBxdWVyeTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBxdWVyeSA9IHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9O1xuICBpZiAoYm94ID09PSBcImluYm94XCIpIHtcbiAgICBxdWVyeS5pbmJveF91c2VycyA9IHRoaXMudXNlcklkO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJvdXRib3hcIikge1xuICAgIHF1ZXJ5Lm91dGJveF91c2VycyA9IHRoaXMudXNlcklkO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJkcmFmdFwiKSB7XG4gICAgcXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG4gICAgcXVlcnkuc3RhdGUgPSBcImRyYWZ0XCI7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcInBlbmRpbmdcIikge1xuICAgIHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgcXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG4gICAgcXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJtb25pdG9yXCIpIHtcbiAgICBxdWVyeS5mbG93ID0gZmxvd0lkO1xuICAgIHF1ZXJ5LnN0YXRlID0ge1xuICAgICAgJGluOiBbXCJwZW5kaW5nXCIsIFwiY29tcGxldGVkXCJdXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBxdWVyeS5zdGF0ZSA9IFwibm9uZVwiO1xuICB9XG4gIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGNyZWF0ZWQ6IDEsXG4gICAgICBmb3JtOiAxLFxuICAgICAgZmxvdzogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgbW9kaWZpZWQ6IDEsXG4gICAgICBhcHBsaWNhbnQ6IDEsXG4gICAgICBpc19hcmNoaXZlZDogMSxcbiAgICAgIGZvcm1fdmVyc2lvbjogMSxcbiAgICAgIGZsb3dfdmVyc2lvbjogMVxuICAgIH1cbiAgfSk7XG59KTtcbiIsImxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUgPSAoaW5zdGFuY2VpZCwgdXNlcklkLCBkYXRhTWFwLCBjYWxsYmFjayktPlxyXG5cdG9wZXJhdGlvbiA9IFt7XHJcblx0XHRcIiRtYXRjaFwiOiB7XHJcblx0XHRcdFwiX2lkXCI6IGluc3RhbmNlaWRcclxuXHRcdH1cclxuXHR9LCB7XCIkcHJvamVjdFwiOiB7XCJuYW1lXCI6IDEsIFwiX2FwcHJvdmVcIjogXCIkdHJhY2VzLmFwcHJvdmVzXCJ9fSwge1wiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwifSwge1wiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwifSxcclxuXHRcdHtcIiRtYXRjaFwiOiB7XCJfYXBwcm92ZS5pc19maW5pc2hlZFwiOiB0cnVlLCAkb3I6W3tcIl9hcHByb3ZlLmhhbmRsZXJcIjogdXNlcklkfSx7XCJfYXBwcm92ZS51c2VyXCI6IHVzZXJJZH1dfX0sXHJcblx0XHR7XCIkZ3JvdXBcIjoge1wiX2lkXCI6IFwiJF9pZFwiLCBcImZpbmlzaF9kYXRlXCI6IHtcIiRsYXN0XCI6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJ9fX1cclxuXHRdXHJcblxyXG5cdGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKG9wZXJhdGlvbikudG9BcnJheSAoZXJyLCBkYXRhKS0+XHJcblx0XHRpZiBlcnJcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcclxuXHJcblx0XHRkYXRhLmZvckVhY2ggKGRvYykgLT5cclxuXHRcdFx0ZGF0YU1hcC5wdXNoIGRvY1xyXG5cclxuXHRcdGlmIGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaylcclxuXHRcdFx0Y2FsbGJhY2soKVxyXG5cdFx0cmV0dXJuXHJcblxyXG5hc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUgPSBNZXRlb3Iud3JhcEFzeW5jKGxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUpXHJcblxyXG5NZXRlb3IucHVibGlzaCBcImluc3RhbmNlX3RhYnVsYXJcIiwgKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0Y2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xyXG5cclxuXHRjaGVjayhpZHMsIEFycmF5KTtcclxuXHJcblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKVxyXG5cclxuXHRmaWVsZHMuY2NfdXNlcnMgPSAxXHJcblxyXG5cdHNlbGYgPSB0aGlzO1xyXG5cclxuXHRnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUgPSAodXNlcklkLCBpbnN0YW5jZUlkKS0+XHJcblx0XHRkYXRhID0gW11cclxuXHRcdGFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZShpbnN0YW5jZUlkLCB1c2VySWQsIGRhdGEpXHJcblx0XHRpZiBkYXRhLmxlbmd0aCA+IDBcclxuXHRcdFx0cmV0dXJuIGRhdGFbMF1cclxuXHJcblxyXG5cdGdldE15QXBwcm92ZSA9ICh1c2VySWQsIGluc3RhbmNlSWQpLT5cclxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0sIHtmaWVsZHM6IHt0cmFjZXM6IDF9fSlcclxuXHRcdG15QXBwcm92ZSA9IG51bGxcclxuXHJcblx0XHRpZiAhaW5zdGFuY2VcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0aWYgIWluc3RhbmNlLnRyYWNlcyB8fCBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMVxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRub3RGaW5pc2hlZFRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcy5maWx0ZXJQcm9wZXJ0eShcImlzX2ZpbmlzaGVkXCIsIGZhbHNlKVxyXG5cclxuXHRcdGlmIG5vdEZpbmlzaGVkVHJhY2VzLmxlbmd0aCA+IDBcclxuXHRcdFx0YXBwcm92ZXMgPSBub3RGaW5pc2hlZFRyYWNlc1swXS5hcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcImlzX2ZpbmlzaGVkXCIsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eShcImhhbmRsZXJcIiwgdXNlcklkKTtcclxuXHJcblx0XHRcdGlmIGFwcHJvdmVzLmxlbmd0aCA+IDBcclxuXHRcdFx0XHRhcHByb3ZlID0gYXBwcm92ZXNbMF1cclxuXHRcdFx0XHRteUFwcHJvdmUgPSB7XHJcblx0XHRcdFx0XHRpZDogYXBwcm92ZS5faWQsXHJcblx0XHRcdFx0XHRpbnN0YW5jZTogYXBwcm92ZS5pbnN0YW5jZSxcclxuXHRcdFx0XHRcdHRyYWNlOiBhcHByb3ZlLnRyYWNlLFxyXG5cdFx0XHRcdFx0aXNfcmVhZDogYXBwcm92ZS5pc19yZWFkLFxyXG5cdFx0XHRcdFx0c3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlXHJcblx0XHRcdFx0XHRhZ2VudDogYXBwcm92ZS5hZ2VudFxyXG5cdFx0XHRcdFx0dXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRpZiAhbXlBcHByb3ZlXHJcblx0XHRcdGlzX3JlYWQgPSBmYWxzZVxyXG5cdFx0XHRpbnN0YW5jZS50cmFjZXMuZm9yRWFjaCAodHJhY2UpIC0+XHJcblx0XHRcdFx0dHJhY2U/LmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKSAtPlxyXG5cdFx0XHRcdFx0aWYgYXBwcm92ZS50eXBlID09ICdjYycgYW5kIGFwcHJvdmUudXNlciA9PSB1c2VySWQgYW5kIGFwcHJvdmUuaXNfZmluaXNoZWQgPT0gZmFsc2VcclxuXHRcdFx0XHRcdFx0aWYgYXBwcm92ZS5pc19yZWFkXHJcblx0XHRcdFx0XHRcdFx0aXNfcmVhZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0bXlBcHByb3ZlID0ge2lkOiBhcHByb3ZlLl9pZCwgaXNfcmVhZDogaXNfcmVhZCwgc3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlLCBhZ2VudDogYXBwcm92ZS5hZ2VudCwgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZX1cclxuXHJcblx0XHRyZXR1cm4gbXlBcHByb3ZlXHJcblxyXG5cdGdldFN0ZXBDdXJyZW50TmFtZSA9IChpbnN0YW5jZUlkKSAtPlxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZUlkfSwge2ZpZWxkczoge1widHJhY2VzLm5hbWVcIjogMSwgXCJ0cmFjZXNcIjogeyRzbGljZTogLTF9fX0pXHJcblx0XHRpZiBpbnN0YW5jZVxyXG5cdFx0XHRzdGVwQ3VycmVudE5hbWUgPSBpbnN0YW5jZS50cmFjZXM/WzBdPy5uYW1lXHJcblxyXG5cdFx0cmV0dXJuIHN0ZXBDdXJyZW50TmFtZVxyXG5cclxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpZHN9fSwge2ZpZWxkczoge3RyYWNlczogMH19KS5vYnNlcnZlQ2hhbmdlcyB7XHJcblx0XHRjaGFuZ2VkOiAoaWQpLT5cclxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXHJcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2VcclxuXHRcdFx0bXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcclxuXHRcdFx0bXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcclxuXHRcdFx0aWYgbXlBcHByb3ZlXHJcblx0XHRcdFx0aW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkXHJcblx0XHRcdFx0aW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlXHJcblx0XHRcdFx0aWYgbXlBcHByb3ZlLmFnZW50XHJcblx0XHRcdFx0XHRpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZVxyXG5cclxuXHRcdFx0aWYgbXlMYXN0RmluaXNoZWRBcHByb3ZlXHJcblx0XHRcdFx0aW5zdGFuY2UubXlfZmluaXNoX2RhdGUgPSBteUxhc3RGaW5pc2hlZEFwcHJvdmUuZmluaXNoX2RhdGVcclxuXHJcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxyXG5cdFx0XHRpbnN0YW5jZS5jY19jb3VudCA9IGluc3RhbmNlLmNjX3VzZXJzPy5sZW5ndGggfHwgMFxyXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcclxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XHJcblx0XHRyZW1vdmVkOiAoaWQpLT5cclxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcclxuXHR9XHJcblxyXG5cdGlkcy5mb3JFYWNoIChpZCktPlxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXHJcblx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXHJcblx0XHRteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxyXG5cdFx0bXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcclxuXHRcdGlmIG15QXBwcm92ZVxyXG5cdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWRcclxuXHRcdFx0aW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlXHJcblx0XHRcdGlmIG15QXBwcm92ZS5hZ2VudFxyXG5cdFx0XHRcdFx0aW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZVxyXG5cclxuXHRcdGlmIG15TGFzdEZpbmlzaGVkQXBwcm92ZVxyXG5cdFx0XHRpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZVxyXG5cclxuXHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxyXG5cdFx0aW5zdGFuY2UuY2NfY291bnQgPSBpbnN0YW5jZS5jY191c2Vycz8ubGVuZ3RoIHx8IDBcclxuXHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xyXG5cdFx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xyXG5cclxuXHRzZWxmLnJlYWR5KCk7XHJcblx0c2VsZi5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKSIsInZhciBhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUsIGxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGU7XG5cbmxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUgPSBmdW5jdGlvbihpbnN0YW5jZWlkLCB1c2VySWQsIGRhdGFNYXAsIGNhbGxiYWNrKSB7XG4gIHZhciBvcGVyYXRpb247XG4gIG9wZXJhdGlvbiA9IFtcbiAgICB7XG4gICAgICBcIiRtYXRjaFwiOiB7XG4gICAgICAgIFwiX2lkXCI6IGluc3RhbmNlaWRcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiRwcm9qZWN0XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IDEsXG4gICAgICAgIFwiX2FwcHJvdmVcIjogXCIkdHJhY2VzLmFwcHJvdmVzXCJcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIlxuICAgIH0sIHtcbiAgICAgIFwiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwiXG4gICAgfSwge1xuICAgICAgXCIkbWF0Y2hcIjoge1xuICAgICAgICBcIl9hcHByb3ZlLmlzX2ZpbmlzaGVkXCI6IHRydWUsXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiX2FwcHJvdmUuaGFuZGxlclwiOiB1c2VySWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBcIl9hcHByb3ZlLnVzZXJcIjogdXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgXCIkZ3JvdXBcIjoge1xuICAgICAgICBcIl9pZFwiOiBcIiRfaWRcIixcbiAgICAgICAgXCJmaW5pc2hfZGF0ZVwiOiB7XG4gICAgICAgICAgXCIkbGFzdFwiOiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIF07XG4gIHJldHVybiBkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShvcGVyYXRpb24pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBkYXRhTWFwLnB1c2goZG9jKTtcbiAgICB9KTtcbiAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xufTtcblxuYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlID0gTWV0ZW9yLndyYXBBc3luYyhsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlKTtcblxuTWV0ZW9yLnB1Ymxpc2goXCJpbnN0YW5jZV90YWJ1bGFyXCIsIGZ1bmN0aW9uKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpIHtcbiAgdmFyIGdldE15QXBwcm92ZSwgZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlLCBnZXRTdGVwQ3VycmVudE5hbWUsIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgY2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuICBjaGVjayhpZHMsIEFycmF5KTtcbiAgY2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcbiAgZmllbGRzLmNjX3VzZXJzID0gMTtcbiAgc2VsZiA9IHRoaXM7XG4gIGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGZ1bmN0aW9uKHVzZXJJZCwgaW5zdGFuY2VJZCkge1xuICAgIHZhciBkYXRhO1xuICAgIGRhdGEgPSBbXTtcbiAgICBhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUoaW5zdGFuY2VJZCwgdXNlcklkLCBkYXRhKTtcbiAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZGF0YVswXTtcbiAgICB9XG4gIH07XG4gIGdldE15QXBwcm92ZSA9IGZ1bmN0aW9uKHVzZXJJZCwgaW5zdGFuY2VJZCkge1xuICAgIHZhciBhcHByb3ZlLCBhcHByb3ZlcywgaW5zdGFuY2UsIGlzX3JlYWQsIG15QXBwcm92ZSwgbm90RmluaXNoZWRUcmFjZXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgbXlBcHByb3ZlID0gbnVsbDtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5vdEZpbmlzaGVkVHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpO1xuICAgIGlmIChub3RGaW5pc2hlZFRyYWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBhcHByb3ZlcyA9IG5vdEZpbmlzaGVkVHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCB1c2VySWQpO1xuICAgICAgaWYgKGFwcHJvdmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXBwcm92ZSA9IGFwcHJvdmVzWzBdO1xuICAgICAgICBteUFwcHJvdmUgPSB7XG4gICAgICAgICAgaWQ6IGFwcHJvdmUuX2lkLFxuICAgICAgICAgIGluc3RhbmNlOiBhcHByb3ZlLmluc3RhbmNlLFxuICAgICAgICAgIHRyYWNlOiBhcHByb3ZlLnRyYWNlLFxuICAgICAgICAgIGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcbiAgICAgICAgICBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsXG4gICAgICAgICAgYWdlbnQ6IGFwcHJvdmUuYWdlbnQsXG4gICAgICAgICAgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW15QXBwcm92ZSkge1xuICAgICAgaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgaW5zdGFuY2UudHJhY2VzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgcmV0dXJuIHRyYWNlICE9IG51bGwgPyAocmVmID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gJ2NjJyAmJiBhcHByb3ZlLnVzZXIgPT09IHVzZXJJZCAmJiBhcHByb3ZlLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKGFwcHJvdmUuaXNfcmVhZCkge1xuICAgICAgICAgICAgICBpc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBteUFwcHJvdmUgPSB7XG4gICAgICAgICAgICAgIGlkOiBhcHByb3ZlLl9pZCxcbiAgICAgICAgICAgICAgaXNfcmVhZDogaXNfcmVhZCxcbiAgICAgICAgICAgICAgc3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlLFxuICAgICAgICAgICAgICBhZ2VudDogYXBwcm92ZS5hZ2VudCxcbiAgICAgICAgICAgICAgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBteUFwcHJvdmU7XG4gIH07XG4gIGdldFN0ZXBDdXJyZW50TmFtZSA9IGZ1bmN0aW9uKGluc3RhbmNlSWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgcmVmMSwgc3RlcEN1cnJlbnROYW1lO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLm5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXNcIjoge1xuICAgICAgICAgICRzbGljZTogLTFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgc3RlcEN1cnJlbnROYW1lID0gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IChyZWYxID0gcmVmWzBdKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gc3RlcEN1cnJlbnROYW1lO1xuICB9O1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGlkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgdHJhY2VzOiAwXG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBpbnN0YW5jZSwgbXlBcHByb3ZlLCBteUxhc3RGaW5pc2hlZEFwcHJvdmUsIHJlZiwgcmVmMTtcbiAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGlkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgICBteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICAgIGlmIChteUFwcHJvdmUpIHtcbiAgICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkO1xuICAgICAgICBpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICAgIGlmIChteUFwcHJvdmUuYWdlbnQpIHtcbiAgICAgICAgICBpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChteUxhc3RGaW5pc2hlZEFwcHJvdmUpIHtcbiAgICAgICAgaW5zdGFuY2UubXlfZmluaXNoX2RhdGUgPSBteUxhc3RGaW5pc2hlZEFwcHJvdmUuZmluaXNoX2RhdGU7XG4gICAgICB9XG4gICAgICBpbnN0YW5jZS5pc19jYyA9ICgocmVmID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoc2VsZi51c2VySWQpIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICAgIGluc3RhbmNlLmNjX2NvdW50ID0gKChyZWYxID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYxLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5jY191c2VycztcbiAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcbiAgICB9LFxuICAgIHJlbW92ZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcbiAgICB9XG4gIH0pO1xuICBpZHMuZm9yRWFjaChmdW5jdGlvbihpZCkge1xuICAgIHZhciBpbnN0YW5jZSwgbXlBcHByb3ZlLCBteUxhc3RGaW5pc2hlZEFwcHJvdmUsIHJlZiwgcmVmMTtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IGZpZWxkc1xuICAgIH0pO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgbXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgaWYgKG15QXBwcm92ZSkge1xuICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkO1xuICAgICAgaW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgaWYgKG15QXBwcm92ZS5hZ2VudCkge1xuICAgICAgICBpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG15TGFzdEZpbmlzaGVkQXBwcm92ZSkge1xuICAgICAgaW5zdGFuY2UubXlfZmluaXNoX2RhdGUgPSBteUxhc3RGaW5pc2hlZEFwcHJvdmUuZmluaXNoX2RhdGU7XG4gICAgfVxuICAgIGluc3RhbmNlLmlzX2NjID0gKChyZWYgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgOiB2b2lkIDApIHx8IGZhbHNlO1xuICAgIGluc3RhbmNlLmNjX2NvdW50ID0gKChyZWYxID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYxLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgICBkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnM7XG4gICAgcmV0dXJuIHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcbiAgfSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlc19kcmFmdCcsIChzcGFjZUlkKSAtPlxyXG5cdGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xyXG5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dXNlcklkID0gdGhpcy51c2VySWRcclxuXHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe3N0YXRlOlwiZHJhZnRcIixzcGFjZTpzcGFjZUlkLHN1Ym1pdHRlcjp1c2VySWQsJG9yOlt7aW5ib3hfdXNlcnM6IHskZXhpc3RzOmZhbHNlfX0sIHtpbmJveF91c2VyczogW119XX0sIHtmaWVsZHM6IHtfaWQ6IDEsIHN0YXRlOiAxLCBzcGFjZTogMSwgc3VibWl0dGVyOiAxLCBpbmJveF91c2VyczogMSwgbW9kaWZpZWQ6IDEsIG5hbWU6IDF9LCBzb3J0Onttb2RpZmllZDogLTF9fSkiLCJNZXRlb3IucHVibGlzaCgnaW5zdGFuY2VzX2RyYWZ0JywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICB2YXIgdXNlcklkO1xuICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICB1c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBzdGF0ZTogXCJkcmFmdFwiLFxuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgIHN1Ym1pdHRlcjogdXNlcklkLFxuICAgICRvcjogW1xuICAgICAge1xuICAgICAgICBpbmJveF91c2Vyczoge1xuICAgICAgICAgICRleGlzdHM6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgaW5ib3hfdXNlcnM6IFtdXG4gICAgICB9XG4gICAgXVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgc3VibWl0dGVyOiAxLFxuICAgICAgaW5ib3hfdXNlcnM6IDEsXG4gICAgICBtb2RpZmllZDogMSxcbiAgICAgIG5hbWU6IDFcbiAgICB9LFxuICAgIHNvcnQ6IHtcbiAgICAgIG1vZGlmaWVkOiAtMVxuICAgIH1cbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdkaXN0cmlidXRlZF9pbnN0YW5jZXNfc3RhdGVfYnlfaWRzJywgKGluc3RhbmNlX2lkcyktPlxyXG5cdGNoZWNrKGluc3RhbmNlX2lkcywgQXJyYXkpXHJcblxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cdFxyXG5cdHVubGVzcyBpbnN0YW5jZV9pZHNcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0aWYgXy5pc0VtcHR5KGluc3RhbmNlX2lkcylcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0c2VsZiA9IHRoaXNcclxuXHJcblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaW5zdGFuY2VfaWRzfX0sIHtmaWVsZHM6IHtzdGF0ZTogMSwgdHJhY2VzOnskc2xpY2U6IDF9IH0gfSkub2JzZXJ2ZUNoYW5nZXMge1xyXG5cdFx0YWRkZWQ6IChpZCwgZmllbGRzKS0+XHJcblx0XHRcdHNlbGYuYWRkZWQoJ2luc3RhbmNlcycsIGlkLCB7c3RhdGU6IGZpZWxkcy5zdGF0ZSwgaXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkfSlcclxuXHJcblx0XHRjaGFuZ2VkOiAoaWQsIGZpZWxkcyktPlxyXG5cdFx0XHRpZiBmaWVsZHMuc3RhdGVcclxuXHRcdFx0XHRzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7c3RhdGU6IGZpZWxkcy5zdGF0ZX0pXHJcblx0XHRcdGlmIGZpZWxkcy50cmFjZXNcclxuXHRcdFx0XHRzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7aXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkfSlcclxuXHR9XHJcblxyXG5cdHRoaXMucmVhZHkoKVxyXG5cdHRoaXMub25TdG9wICgpLT5cclxuXHRcdGhhbmRsZS5zdG9wKClcclxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Rpc3RyaWJ1dGVkX2luc3RhbmNlc19zdGF0ZV9ieV9pZHMnLCBmdW5jdGlvbihpbnN0YW5jZV9pZHMpIHtcbiAgdmFyIGhhbmRsZSwgc2VsZjtcbiAgY2hlY2soaW5zdGFuY2VfaWRzLCBBcnJheSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VfaWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoXy5pc0VtcHR5KGluc3RhbmNlX2lkcykpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGluc3RhbmNlX2lkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgc3RhdGU6IDEsXG4gICAgICB0cmFjZXM6IHtcbiAgICAgICAgJHNsaWNlOiAxXG4gICAgICB9XG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgYWRkZWQ6IGZ1bmN0aW9uKGlkLCBmaWVsZHMpIHtcbiAgICAgIHJldHVybiBzZWxmLmFkZGVkKCdpbnN0YW5jZXMnLCBpZCwge1xuICAgICAgICBzdGF0ZTogZmllbGRzLnN0YXRlLFxuICAgICAgICBpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQsIGZpZWxkcykge1xuICAgICAgaWYgKGZpZWxkcy5zdGF0ZSkge1xuICAgICAgICBzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7XG4gICAgICAgICAgc3RhdGU6IGZpZWxkcy5zdGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChmaWVsZHMudHJhY2VzKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7XG4gICAgICAgICAgaXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHRoaXMucmVhZHkoKTtcbiAgcmV0dXJuIHRoaXMub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ3JlbGF0ZWRfaW5zdGFjZXMnLCAoaW5zdGFuY2VJZCwgcmVsYXRlZF9pbnN0YW5jZXMpLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIGluc3RhbmNlSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0cmVsYXRlZF9pbnN0YW5jZV9pZHMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZUlkLHtmaWVsZHM6IHtyZWxhdGVkX2luc3RhbmNlczogMX19KT8ucmVsYXRlZF9pbnN0YW5jZXNcclxuXHJcblx0aWYgcmVsYXRlZF9pbnN0YW5jZV9pZHMgJiYgXy5pc0FycmF5KHJlbGF0ZWRfaW5zdGFuY2VfaWRzKVxyXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW4gOiByZWxhdGVkX2luc3RhbmNlX2lkc319LCB7ZmllbGRzOiB7X2lkOiAxLCBuYW1lOiAxLCBzcGFjZTogMX19KVxyXG5cdGVsc2VcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KCkiLCJNZXRlb3IucHVibGlzaCgncmVsYXRlZF9pbnN0YWNlcycsIGZ1bmN0aW9uKGluc3RhbmNlSWQsIHJlbGF0ZWRfaW5zdGFuY2VzKSB7XG4gIHZhciByZWYsIHJlbGF0ZWRfaW5zdGFuY2VfaWRzO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJlbGF0ZWRfaW5zdGFuY2VfaWRzID0gKHJlZiA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlSWQsIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHJlbGF0ZWRfaW5zdGFuY2VzOiAxXG4gICAgfVxuICB9KSkgIT0gbnVsbCA/IHJlZi5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMDtcbiAgaWYgKHJlbGF0ZWRfaW5zdGFuY2VfaWRzICYmIF8uaXNBcnJheShyZWxhdGVkX2luc3RhbmNlX2lkcykpIHtcbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgX2lkOiB7XG4gICAgICAgICRpbjogcmVsYXRlZF9pbnN0YW5jZV9pZHNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICBuYW1lOiAxLFxuICAgICAgICBzcGFjZTogMVxuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbn0pO1xuIiwiaWYgTWV0ZW9yLmlzU2VydmVyXHJcbiAgICBNZXRlb3IucHVibGlzaCAnc3BhY2VfdXNlcl9zaWducycsIChzcGFjZUlkKSAtPlxyXG4gICAgICAgIGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xyXG5cclxuICAgICAgICB1bmxlc3MgdGhpcy51c2VySWRcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuICAgICAgICByZXR1cm4gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kKHsgc3BhY2U6IHNwYWNlSWQgfSwge2ZpZWxkczoge2NyZWF0ZWRfYnk6IDAsIGNyZWF0ZWQ6IDAsIG1vZGlmaWVkX2J5OiAwfX0pXHJcbiIsImlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgTWV0ZW9yLnB1Ymxpc2goJ3NwYWNlX3VzZXJfc2lnbnMnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gICAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICAgIH1cbiAgICByZXR1cm4gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGNyZWF0ZWRfYnk6IDAsXG4gICAgICAgIGNyZWF0ZWQ6IDAsXG4gICAgICAgIG1vZGlmaWVkX2J5OiAwXG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuIiwiIyMjXHJcbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlIFwidXNlcl9pbmJveF9pbnN0YW5jZVwiLCAoKS0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xyXG5cdFx0dXNlcjogdGhpcy51c2VySWQsXHJcblx0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXHJcblx0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xyXG5cdHF1ZXJ5ID0ge3NwYWNlOiB7JGluOiB1c2VyU3BhY2VJZHN9fVxyXG5cclxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxyXG5cclxuXHRmaW5kOiAtPlxyXG5cdFx0ZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0c3BhY2U6IDEsXHJcblx0XHRcdFx0YXBwbGljYW50X25hbWU6IDEsXHJcblx0XHRcdFx0ZmxvdzogMSxcclxuXHRcdFx0XHRpbmJveF91c2VyczogMSxcclxuXHRcdFx0XHRjY191c2VyczogMSxcclxuXHRcdFx0XHRzdGF0ZTogMSxcclxuXHRcdFx0XHRuYW1lOiAxLFxyXG5cdFx0XHRcdG1vZGlmaWVkOiAxLFxyXG5cdFx0XHRcdGZvcm06IDFcclxuXHRcdFx0fSwgc29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiAyMDBcclxuXHRcdH0pO1xyXG5cdGNoaWxkcmVuOiBbXHJcblx0XHR7XHJcblx0XHRcdGZpbmQ6IChpbnN0YW5jZSwgcG9zdCktPlxyXG5cdFx0XHRcdGRiLmZsb3dzLmZpbmQoe19pZDogaW5zdGFuY2UuZmxvd30sIHtmaWVsZHM6IHtuYW1lOiAxLCBzcGFjZTogMX19KTtcclxuXHRcdH1cclxuXHRdXHJcbiMjI1xyXG5cclxuIyMjXHJcbk1ldGVvci5wdWJsaXNoICdteV9pbmJveF9pbnN0YW5jZXMnLCAoc3BhY2VJZCktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRzZWxmID0gdGhpcztcclxuXHJcblx0I1x0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XHJcblx0I1x0XHR1c2VyOiB0aGlzLnVzZXJJZCxcclxuXHQjXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcclxuXHQjXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XHJcblxyXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxyXG5cclxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxyXG5cclxuXHRmaWVsZHMgPSB7XHJcblx0XHRzcGFjZTogMSxcclxuI1x0XHRhcHBsaWNhbnRfbmFtZTogMSxcclxuXHRcdGZsb3c6IDEsXHJcblx0XHRpbmJveF91c2VyczogMSxcclxuXHRcdGNjX3VzZXJzOiAxLFxyXG5cdFx0c3RhdGU6IDEsXHJcbiNcdFx0bmFtZTogMSxcclxuI1x0XHRtb2RpZmllZDogMSxcclxuXHRcdGZvcm06IDFcclxuXHR9XHJcblxyXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7c29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5vYnNlcnZlQ2hhbmdlcyB7XHJcblx0XHRhZGRlZDogKGlkKS0+XHJcblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxyXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXHJcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxyXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcclxuXHRcdFx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpXHJcblx0XHRjaGFuZ2VkOiAoaWQpLT5cclxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXHJcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2VcclxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXHJcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xyXG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcclxuXHRcdHJlbW92ZWQ6IChpZCktPlxyXG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xyXG5cdH1cclxuXHJcblx0c2VsZi5yZWFkeSgpO1xyXG5cdHNlbGYub25TdG9wICgpLT5cclxuXHRcdGhhbmRsZS5zdG9wKClcclxuIyMjXHJcblxyXG5fZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IChzcGFjZUlkLCB1c2VySWQsIF9pdGVtcywgY2FsbGJhY2spLT5cclxuXHRkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShbXHJcblx0XHR7XHJcblx0XHRcdCRtYXRjaDoge1xyXG5cdFx0XHRcdHNwYWNlOiBzcGFjZUlkLFxyXG5cdFx0XHRcdCRvcjogW3tpbmJveF91c2VyczogdXNlcklkfSwge2NjX3VzZXJzOiB1c2VySWR9XVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHQkZ3JvdXA6IHtcclxuXHRcdFx0XHRfaWQ6IHtmbG93OiBcIiRmbG93XCIsIGNhdGVnb3J5OiBcIiRjYXRlZ29yeVwifSwgY291bnQ6IHskc3VtOiAxfVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XSkudG9BcnJheSAoZXJyLCBkYXRhKS0+XHJcblx0XHRpZiBlcnJcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcclxuXHJcblx0XHRkYXRhLmZvckVhY2ggKGRvYykgLT5cclxuXHRcdFx0X2l0ZW1zLnB1c2ggZG9jXHJcblxyXG5cdFx0aWYgY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKVxyXG5cdFx0XHRjYWxsYmFjaygpXHJcblx0XHRyZXR1cm5cclxuXHJcbl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSlcclxuXHJcbk1ldGVvci5wdWJsaXNoICdteV9pbmJveF9mbG93X2luc3RhbmNlc19jb3VudCcsIChzcGFjZUlkKS0+XHJcblxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRzZWxmID0gdGhpcztcclxuXHJcblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XHJcblxyXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXHJcblxyXG5cdGRhdGEgPSBbXSAgI+aVsOaNruagvOW8j++8mlt7X2lkOmZsb3dJZCwgY291bnQ6IOW+heWKnuaVsOmHj30sIHtfaWQ6Zmxvd0lkMiwgY291bnQ6IOW+heWKnuaVsOmHjzJ9XVxyXG5cdF9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKHNwYWNlSWQsIHNlbGYudXNlcklkLCBkYXRhKVxyXG5cclxuXHRfZmxvd3NEYXRhID0gW11cclxuXHJcblx0Xy5lYWNoIGRhdGEsIChkYXRhSXRlbSktPlxyXG5cdFx0X2Zsb3dzRGF0YS5wdXNoKHtfaWQ6IGRhdGFJdGVtLl9pZC5mbG93LCBjYXRlZ29yeTogZGF0YUl0ZW0uX2lkLmNhdGVnb3J5LCBjb3VudDogZGF0YUl0ZW0uY291bnR9KVxyXG5cclxuXHRzZWxmLmFkZGVkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge2Zsb3dzOiBfZmxvd3NEYXRhfSk7XHJcblxyXG5cdF9jaGFuZ2VEYXRhID0gKGRvYywgYWN0aW9uKS0+XHJcblx0XHRmbG93X2luc3RhbmNlID0gXy5maW5kIF9mbG93c0RhdGEsIChmKS0+XHJcblx0XHRcdHJldHVybiBmLl9pZCA9PSBkb2MuZmxvd1xyXG5cdFx0aWYgZmxvd19pbnN0YW5jZVxyXG5cdFx0XHRpZiBhY3Rpb24gPT0gXCJhZGRlZFwiXHJcblx0XHRcdFx0Zmxvd19pbnN0YW5jZS5jb3VudCsrXHJcblx0XHRcdGVsc2UgaWYgYWN0aW9uID09IFwicmVtb3ZlZFwiXHJcblx0XHRcdFx0Zmxvd19pbnN0YW5jZS5jb3VudC0tXHJcblx0XHRlbHNlIGlmIGFjdGlvbiA9PSBcImFkZGVkXCJcclxuXHRcdFx0X2Zsb3dzRGF0YS5wdXNoIHtfaWQ6IGRvYy5mbG93LCBjYXRlZ29yeTogZG9jLmNhdGVnb3J5LCBjb3VudDogMX1cclxuXHJcblx0XHRzZWxmLmNoYW5nZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7Zmxvd3M6IF9mbG93c0RhdGF9KTtcclxuXHJcblx0X2luaXQgPSB0cnVlXHJcblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtmaWVsZHM6IHtfaWQ6IDEsIGluYm94X3VzZXJzOiAxLCBjY191c2VyczogMSwgZmxvdzogMSwgY2F0ZWdvcnk6IDF9fSkub2JzZXJ2ZSB7XHJcblx0XHRhZGRlZDogKGRvYyktPlxyXG5cdFx0XHRpZiAhX2luaXRcclxuXHRcdFx0XHRfY2hhbmdlRGF0YShkb2MsIFwiYWRkZWRcIilcclxuXHRcdHJlbW92ZWQ6IChkb2MpLT5cclxuXHRcdFx0aWYgIV9pbml0XHJcblx0XHRcdFx0X2NoYW5nZURhdGEoZG9jLCBcInJlbW92ZWRcIilcclxuXHR9XHJcblx0X2luaXQgPSBmYWxzZVxyXG5cclxuXHRzZWxmLnJlYWR5KCk7XHJcblx0c2VsZi5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKSIsIlxuLypcbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlIFwidXNlcl9pbmJveF9pbnN0YW5jZVwiLCAoKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcblx0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcblx0cXVlcnkgPSB7c3BhY2U6IHskaW46IHVzZXJTcGFjZUlkc319XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRmaW5kOiAtPlxuXHRcdGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRcdGFwcGxpY2FudF9uYW1lOiAxLFxuXHRcdFx0XHRmbG93OiAxLFxuXHRcdFx0XHRpbmJveF91c2VyczogMSxcblx0XHRcdFx0Y2NfdXNlcnM6IDEsXG5cdFx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRtb2RpZmllZDogMSxcblx0XHRcdFx0Zm9ybTogMVxuXHRcdFx0fSwgc29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiAyMDBcblx0XHR9KTtcblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAoaW5zdGFuY2UsIHBvc3QpLT5cblx0XHRcdFx0ZGIuZmxvd3MuZmluZCh7X2lkOiBpbnN0YW5jZS5mbG93fSwge2ZpZWxkczoge25hbWU6IDEsIHNwYWNlOiAxfX0pO1xuXHRcdH1cblx0XVxuICovXG5cbi8qXG5NZXRlb3IucHVibGlzaCAnbXlfaW5ib3hfaW5zdGFuY2VzJywgKHNwYWNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdCAqXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcblx0ICpcdFx0dXNlcjogdGhpcy51c2VySWQsXG5cdCAqXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcblx0ICpcdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcblxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGZpZWxkcyA9IHtcblx0XHRzcGFjZTogMSxcbiAqXHRcdGFwcGxpY2FudF9uYW1lOiAxLFxuXHRcdGZsb3c6IDEsXG5cdFx0aW5ib3hfdXNlcnM6IDEsXG5cdFx0Y2NfdXNlcnM6IDEsXG5cdFx0c3RhdGU6IDEsXG4gKlx0XHRuYW1lOiAxLFxuICpcdFx0bW9kaWZpZWQ6IDEsXG5cdFx0Zm9ybTogMVxuXHR9XG5cblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDUwMH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRhZGRlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSlcblx0XHRjaGFuZ2VkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuXHRcdHJlbW92ZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcblx0fVxuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcbiAqL1xudmFyIF9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlLCBfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZTtcblxuX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSBmdW5jdGlvbihzcGFjZUlkLCB1c2VySWQsIF9pdGVtcywgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKFtcbiAgICB7XG4gICAgICAkbWF0Y2g6IHtcbiAgICAgICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjY191c2VyczogdXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgJGdyb3VwOiB7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgIGZsb3c6IFwiJGZsb3dcIixcbiAgICAgICAgICBjYXRlZ29yeTogXCIkY2F0ZWdvcnlcIlxuICAgICAgICB9LFxuICAgICAgICBjb3VudDoge1xuICAgICAgICAgICRzdW06IDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXSkudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICB9XG4gICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIF9pdGVtcy5wdXNoKGRvYyk7XG4gICAgfSk7XG4gICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSk7XG5cbk1ldGVvci5wdWJsaXNoKCdteV9pbmJveF9mbG93X2luc3RhbmNlc19jb3VudCcsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgdmFyIF9jaGFuZ2VEYXRhLCBfZmxvd3NEYXRhLCBfaW5pdCwgZGF0YSwgaGFuZGxlLCBxdWVyeSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIHF1ZXJ5ID0ge1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIHF1ZXJ5LiRvciA9IFtcbiAgICB7XG4gICAgICBpbmJveF91c2VyczogdGhpcy51c2VySWRcbiAgICB9LCB7XG4gICAgICBjY191c2VyczogdGhpcy51c2VySWRcbiAgICB9XG4gIF07XG4gIGRhdGEgPSBbXTtcbiAgX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUoc3BhY2VJZCwgc2VsZi51c2VySWQsIGRhdGEpO1xuICBfZmxvd3NEYXRhID0gW107XG4gIF8uZWFjaChkYXRhLCBmdW5jdGlvbihkYXRhSXRlbSkge1xuICAgIHJldHVybiBfZmxvd3NEYXRhLnB1c2goe1xuICAgICAgX2lkOiBkYXRhSXRlbS5faWQuZmxvdyxcbiAgICAgIGNhdGVnb3J5OiBkYXRhSXRlbS5faWQuY2F0ZWdvcnksXG4gICAgICBjb3VudDogZGF0YUl0ZW0uY291bnRcbiAgICB9KTtcbiAgfSk7XG4gIHNlbGYuYWRkZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7XG4gICAgZmxvd3M6IF9mbG93c0RhdGFcbiAgfSk7XG4gIF9jaGFuZ2VEYXRhID0gZnVuY3Rpb24oZG9jLCBhY3Rpb24pIHtcbiAgICB2YXIgZmxvd19pbnN0YW5jZTtcbiAgICBmbG93X2luc3RhbmNlID0gXy5maW5kKF9mbG93c0RhdGEsIGZ1bmN0aW9uKGYpIHtcbiAgICAgIHJldHVybiBmLl9pZCA9PT0gZG9jLmZsb3c7XG4gICAgfSk7XG4gICAgaWYgKGZsb3dfaW5zdGFuY2UpIHtcbiAgICAgIGlmIChhY3Rpb24gPT09IFwiYWRkZWRcIikge1xuICAgICAgICBmbG93X2luc3RhbmNlLmNvdW50Kys7XG4gICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJyZW1vdmVkXCIpIHtcbiAgICAgICAgZmxvd19pbnN0YW5jZS5jb3VudC0tO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcImFkZGVkXCIpIHtcbiAgICAgIF9mbG93c0RhdGEucHVzaCh7XG4gICAgICAgIF9pZDogZG9jLmZsb3csXG4gICAgICAgIGNhdGVnb3J5OiBkb2MuY2F0ZWdvcnksXG4gICAgICAgIGNvdW50OiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtcbiAgICAgIGZsb3dzOiBfZmxvd3NEYXRhXG4gICAgfSk7XG4gIH07XG4gIF9pbml0ID0gdHJ1ZTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIGluYm94X3VzZXJzOiAxLFxuICAgICAgY2NfdXNlcnM6IDEsXG4gICAgICBmbG93OiAxLFxuICAgICAgY2F0ZWdvcnk6IDFcbiAgICB9XG4gIH0pLm9ic2VydmUoe1xuICAgIGFkZGVkOiBmdW5jdGlvbihkb2MpIHtcbiAgICAgIGlmICghX2luaXQpIHtcbiAgICAgICAgcmV0dXJuIF9jaGFuZ2VEYXRhKGRvYywgXCJhZGRlZFwiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZWQ6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgaWYgKCFfaW5pdCkge1xuICAgICAgICByZXR1cm4gX2NoYW5nZURhdGEoZG9jLCBcInJlbW92ZWRcIik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgX2luaXQgPSBmYWxzZTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJcclxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfbWFpbl9hdHRhY2hfdGVtcGxhdGUnLCAoc3BhY2VJZCwgZmxvd0lkKS0+XHJcblx0Y2hlY2soc3BhY2VJZCwgU3RyaW5nKVxyXG5cdGNoZWNrKGZsb3dJZCwgU3RyaW5nKVxyXG5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIHNwYWNlSWQgJiYgZmxvd0lkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHJldHVybiBDcmVhdG9yLmdldENvbGxlY3Rpb24oJ2Ntc19maWxlcycpLmZpbmQoeyBzcGFjZTogc3BhY2VJZCwgJ3BhcmVudC5vJzogJ2Zsb3dzJywgJ3BhcmVudC5pZHMnOiBmbG93SWQsICBuYW1lOiAn5q2j5paHLmRvY3gnIH0pXHJcbiIsIk1ldGVvci5wdWJsaXNoKCdmbG93X21haW5fYXR0YWNoX3RlbXBsYXRlJywgZnVuY3Rpb24oc3BhY2VJZCwgZmxvd0lkKSB7XG4gIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG4gIGNoZWNrKGZsb3dJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCEoc3BhY2VJZCAmJiBmbG93SWQpKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gQ3JlYXRvci5nZXRDb2xsZWN0aW9uKCdjbXNfZmlsZXMnKS5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAncGFyZW50Lm8nOiAnZmxvd3MnLFxuICAgICdwYXJlbnQuaWRzJzogZmxvd0lkLFxuICAgIG5hbWU6ICfmraPmlocuZG9jeCdcbiAgfSk7XG59KTtcbiIsIndvcmtmbG93VGVtcGxhdGUgPSB7fVxyXG5cclxuI+WPr+eUqOatpOiEmuacrOS7juaooeadv+W3peS9nOWMuuWBmuaJuemHj+WvvOWHuu+8mlxyXG4j5L2/55So566h55CG5ZGY6LSm5oi355m75b2V5ZCO77yM6L+b5YWlRmxvd01vZHVsZXPvvIzlnKjmjqfliLblj7DmiafooYzku6XkuIvohJrmnKzljbPlj69cclxuI2RiLmZvcm1zLmZpbmQoe3N0YXRlOlwiZW5hYmxlZFwifSkuZm9yRWFjaChmdW5jdGlvbihmb3JtKXt3aW5kb3cub3BlbihNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvd29ya2Zsb3cvZXhwb3J0L2Zvcm0/Zm9ybT1cIitmb3JtLl9pZCkpfSlcclxud29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdID1bXVxyXG5cclxuI+WPr+eUqOatpOiEmuacrOS7juaooeadv+W3peS9nOWMuuWBmuaJuemHj+WvvOWHuu+8mlxyXG4j5L2/55So566h55CG5ZGY6LSm5oi355m75b2V5ZCO77yM6L+b5YWl5qih5p2/5LiT5Yy677yM5Zyo5o6n5Yi25Y+w5omn6KGM5Lul5LiL6ISa5pys5Y2z5Y+vXHJcbiNkYi5mb3Jtcy5maW5kKHtzdGF0ZTpcImVuYWJsZWRcIn0pLmZvckVhY2goZnVuY3Rpb24oZm9ybSl7d2luZG93Lm9wZW4oTWV0ZW9yLmFic29sdXRlVXJsKFwiYXBpL3dvcmtmbG93L2V4cG9ydC9mb3JtP2Zvcm09XCIrZm9ybS5faWQpKX0pXHJcbndvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXSA9W11cclxuXHJcbk1ldGVvci5zdGFydHVwICgpLT5cclxuXHRmcyA9IHJlcXVpcmUoJ2ZzJylcclxuXHRwYXRoID0gcmVxdWlyZSgncGF0aCcpXHJcblx0bWltZSA9IHJlcXVpcmUoJ21pbWUnKVxyXG5cdHJlYWRGaWxlTGlzdCA9IChwYXRoRGlyLCBmaWxlc0xpc3QpLT5cclxuXHRcdGZpbGVzID0gZnMucmVhZGRpclN5bmMocGF0aERpcilcclxuXHRcdGZpbGVzLmZvckVhY2ggKG5hbWUsIGluZGV4KS0+XHJcblx0XHRcdHN0YXQgPSBmcy5zdGF0U3luYyhwYXRoLmpvaW4ocGF0aERpciwgbmFtZSkpXHJcblx0XHRcdGlmIHN0YXQuaXNEaXJlY3RvcnkoKVxyXG5cdFx0XHRcdCMg6YCS5b2S6K+75Y+W5paH5Lu2XHJcblx0XHRcdFx0cmVhZEZpbGVMaXN0KHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSwgZmlsZXNMaXN0KVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0b2JqID0ge31cclxuXHRcdFx0XHRvYmoucGF0aCA9IHBhdGhEaXJcclxuXHRcdFx0XHRvYmoubmFtZSA9IG5hbWVcclxuXHRcdFx0XHRmaWxlc0xpc3QucHVzaChvYmopXHJcblxyXG5cdCPojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlxyXG5cdGZpbGVzTGlzdF9jbiA9IFtdXHJcblx0cGF0aF9jbiA9IE1ldGVvci5zZXR0aW5ncy53b3JrZmxvd1RlbXBsYXRlcz8ucGF0aF9jblxyXG5cdGlmIHBhdGhfY25cclxuXHRcdGFic29sdXRlX3BhdGhfY24gPSBwYXRoLnJlc29sdmUocGF0aF9jbilcclxuXHRcdGNvbnNvbGUubG9nIFwiYWJzb2x1dGVfcGF0aF9jblwiLCBhYnNvbHV0ZV9wYXRoX2NuXHJcblx0XHRpZiBmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfY24pXHJcblx0XHRcdHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX2NuLCBmaWxlc0xpc3RfY24pXHJcblx0XHRcdGZpbGVzTGlzdF9jbi5mb3JFYWNoIChmaWxlKS0+XHJcblx0XHRcdFx0dHJ5XHJcblx0XHRcdFx0XHRpZiBtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSBpcyBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG5cdFx0XHRcdFx0XHRkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4JylcclxuXHRcdFx0XHRcdFx0d29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSlcclxuXHRcdFx0XHRjYXRjaCBlXHJcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIFwi6I635Y+WemgtY27mlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKVxyXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblxyXG5cdCPojrflj5Zlbi11c+aWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlxyXG5cdGZpbGVzTGlzdF91cyA9IFtdXHJcblx0cGF0aF91cyA9IE1ldGVvci5zZXR0aW5ncy53b3JrZmxvd1RlbXBsYXRlcz8ucGF0aF91c1xyXG5cdGlmIHBhdGhfdXNcclxuXHRcdGFic29sdXRlX3BhdGhfdXMgPSBwYXRoLnJlc29sdmUocGF0aF91cylcclxuXHRcdGNvbnNvbGUubG9nIFwiYWJzb2x1dGVfcGF0aF91c1wiLCBhYnNvbHV0ZV9wYXRoX3VzXHJcblx0XHRpZiBmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfdXMpXHJcblx0XHRcdHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX3VzLCBmaWxlc0xpc3RfdXMpXHJcblx0XHRcdGZpbGVzTGlzdF91cy5mb3JFYWNoIChmaWxlKS0+XHJcblx0XHRcdFx0dHJ5XHJcblx0XHRcdFx0XHRpZiBtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSBpcyBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG5cdFx0XHRcdFx0XHRkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4JylcclxuXHRcdFx0XHRcdFx0d29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSlcclxuXHRcdFx0XHRjYXRjaCBlXHJcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIFwi6I635Y+WZW4tdXPmlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKVxyXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRcdFx0XHJcblx0XHRcdFx0XHRcclxuXHJcblxyXG4iLCIgICAgICAgICAgICAgICAgICAgICBcblxud29ya2Zsb3dUZW1wbGF0ZSA9IHt9O1xuXG53b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0gPSBbXTtcblxud29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdID0gW107XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICB2YXIgYWJzb2x1dGVfcGF0aF9jbiwgYWJzb2x1dGVfcGF0aF91cywgZmlsZXNMaXN0X2NuLCBmaWxlc0xpc3RfdXMsIGZzLCBtaW1lLCBwYXRoLCBwYXRoX2NuLCBwYXRoX3VzLCByZWFkRmlsZUxpc3QsIHJlZiwgcmVmMTtcbiAgZnMgPSByZXF1aXJlKCdmcycpO1xuICBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuICBtaW1lID0gcmVxdWlyZSgnbWltZScpO1xuICByZWFkRmlsZUxpc3QgPSBmdW5jdGlvbihwYXRoRGlyLCBmaWxlc0xpc3QpIHtcbiAgICB2YXIgZmlsZXM7XG4gICAgZmlsZXMgPSBmcy5yZWFkZGlyU3luYyhwYXRoRGlyKTtcbiAgICByZXR1cm4gZmlsZXMuZm9yRWFjaChmdW5jdGlvbihuYW1lLCBpbmRleCkge1xuICAgICAgdmFyIG9iaiwgc3RhdDtcbiAgICAgIHN0YXQgPSBmcy5zdGF0U3luYyhwYXRoLmpvaW4ocGF0aERpciwgbmFtZSkpO1xuICAgICAgaWYgKHN0YXQuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICByZXR1cm4gcmVhZEZpbGVMaXN0KHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSwgZmlsZXNMaXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iaiA9IHt9O1xuICAgICAgICBvYmoucGF0aCA9IHBhdGhEaXI7XG4gICAgICAgIG9iai5uYW1lID0gbmFtZTtcbiAgICAgICAgcmV0dXJuIGZpbGVzTGlzdC5wdXNoKG9iaik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGZpbGVzTGlzdF9jbiA9IFtdO1xuICBwYXRoX2NuID0gKHJlZiA9IE1ldGVvci5zZXR0aW5ncy53b3JrZmxvd1RlbXBsYXRlcykgIT0gbnVsbCA/IHJlZi5wYXRoX2NuIDogdm9pZCAwO1xuICBpZiAocGF0aF9jbikge1xuICAgIGFic29sdXRlX3BhdGhfY24gPSBwYXRoLnJlc29sdmUocGF0aF9jbik7XG4gICAgY29uc29sZS5sb2coXCJhYnNvbHV0ZV9wYXRoX2NuXCIsIGFic29sdXRlX3BhdGhfY24pO1xuICAgIGlmIChmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfY24pKSB7XG4gICAgICByZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF9jbiwgZmlsZXNMaXN0X2NuKTtcbiAgICAgIGZpbGVzTGlzdF9jbi5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgdmFyIGRhdGEsIGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgICAgICAgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpO1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuiOt+WPlnpoLWNu5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSkpO1xuICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZmlsZXNMaXN0X3VzID0gW107XG4gIHBhdGhfdXMgPSAocmVmMSA9IE1ldGVvci5zZXR0aW5ncy53b3JrZmxvd1RlbXBsYXRlcykgIT0gbnVsbCA/IHJlZjEucGF0aF91cyA6IHZvaWQgMDtcbiAgaWYgKHBhdGhfdXMpIHtcbiAgICBhYnNvbHV0ZV9wYXRoX3VzID0gcGF0aC5yZXNvbHZlKHBhdGhfdXMpO1xuICAgIGNvbnNvbGUubG9nKFwiYWJzb2x1dGVfcGF0aF91c1wiLCBhYnNvbHV0ZV9wYXRoX3VzKTtcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX3VzKSkge1xuICAgICAgcmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfdXMsIGZpbGVzTGlzdF91cyk7XG4gICAgICByZXR1cm4gZmlsZXNMaXN0X3VzLmZvckVhY2goZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICB2YXIgZGF0YSwgZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAobWltZS5nZXRUeXBlKGZpbGUubmFtZSkgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICAgICAgICBkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4Jyk7XG4gICAgICAgICAgICByZXR1cm4gd29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi6I635Y+WZW4tdXPmlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSk7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSk7XG4iLCIjIyNcclxuKiAgICAqICAgICogICAgKiAgICAqICAgICpcclxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcclxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XHJcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXHJcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcclxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxyXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXHJcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXHJcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXHJcbiMjI1xyXG5NZXRlb3Iuc3RhcnR1cCAtPlxyXG5cdGlmIE1ldGVvci5zZXR0aW5ncy5jcm9uPy5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb25cclxuXHRcdHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpXHJcblx0XHQjIOWumuaXtuaJp+ihjOWQjOatpVxyXG5cdFx0cnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvblxyXG5cdFx0Z29fbmV4dCA9IHRydWVcclxuXHRcdHNjaGVkdWxlLnNjaGVkdWxlSm9iIHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQgKCktPlxyXG5cdFx0XHR0cnlcclxuXHRcdFx0XHRpZiAhZ29fbmV4dFxyXG5cdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0Z29fbmV4dCA9IGZhbHNlXHJcblx0XHRcdFx0Y29uc29sZS50aW1lICdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nXHJcblxyXG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXHJcblxyXG5cdFx0XHRcdCMg5bCG5aeU5omY6KeE5YiZ6K6+572u5Li65LiN5Y+v55SoXHJcblx0XHRcdFx0ZGIucHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzLnVwZGF0ZSh7IGVuYWJsZWQ6IHRydWUsIGVuZF90aW1lOiB7ICRsdGU6IG5vdyB9IH0sIHsgJHNldDogeyBlbmFibGVkOiBmYWxzZSB9IH0sIHsgbXVsdGkgOnRydWUgfSlcclxuXHJcblx0XHRcdFx0Y29uc29sZS50aW1lRW5kICdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nXHJcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcclxuXHJcblx0XHRcdGNhdGNoIGVcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yIFwiQVVUTyBBVVRPX0ZJTklTSF9QUk9DRVNTX0RFTEVHQVRJT04gRVJST1I6IFwiXHJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcclxuXHJcblx0XHQsICgpLT5cclxuXHRcdFx0Y29uc29sZS5sb2cgJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50J1xyXG4iLCJcbi8qXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxuICovXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgdmFyIGdvX25leHQsIHJlZiwgcnVsZSwgc2NoZWR1bGU7XG4gIGlmICgocmVmID0gTWV0ZW9yLnNldHRpbmdzLmNyb24pICE9IG51bGwgPyByZWYuYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uIDogdm9pZCAwKSB7XG4gICAgc2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJyk7XG4gICAgcnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbjtcbiAgICBnb19uZXh0ID0gdHJ1ZTtcbiAgICByZXR1cm4gc2NoZWR1bGUuc2NoZWR1bGVKb2IocnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlLCBub3c7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIWdvX25leHQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ29fbmV4dCA9IGZhbHNlO1xuICAgICAgICBjb25zb2xlLnRpbWUoJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbicpO1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgZGIucHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzLnVwZGF0ZSh7XG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICBlbmRfdGltZToge1xuICAgICAgICAgICAgJGx0ZTogbm93XG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBtdWx0aTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS50aW1lRW5kKCdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQVVUTyBBVVRPX0ZJTklTSF9QUk9DRVNTX0RFTEVHQVRJT04gRVJST1I6IFwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudCcpO1xuICAgIH0pKTtcbiAgfVxufSk7XG4iLCIjIyNcclxuKiAgICAqICAgICogICAgKiAgICAqICAgICpcclxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcclxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XHJcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXHJcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcclxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxyXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXHJcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXHJcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXHJcbiMjI1xyXG5NZXRlb3Iuc3RhcnR1cCAtPlxyXG5cdGlmIE1ldGVvci5zZXR0aW5ncy5jcm9uPy50aW1lb3V0X2F1dG9fc3VibWl0XHJcblx0XHRzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKVxyXG5cdFx0IyDlrprml7bmiafooYzlkIzmraVcclxuXHRcdHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi50aW1lb3V0X2F1dG9fc3VibWl0XHJcblx0XHRnb19uZXh0ID0gdHJ1ZVxyXG5cdFx0c2NoZWR1bGUuc2NoZWR1bGVKb2IgcnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCAoKS0+XHJcblx0XHRcdHRyeVxyXG5cdFx0XHRcdGlmICFnb19uZXh0XHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRnb19uZXh0ID0gZmFsc2VcclxuXHRcdFx0XHRjb25zb2xlLnRpbWUgJ3RpbWVvdXRfYXV0b19zdWJtaXQnXHJcblxyXG5cdFx0XHRcdHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoKVxyXG5cclxuXHRcdFx0XHRjb25zb2xlLnRpbWVFbmQgJ3RpbWVvdXRfYXV0b19zdWJtaXQnXHJcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcclxuXHJcblx0XHRcdGNhdGNoIGVcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yIFwiQVVUTyBUSU1FT1VUX0FVVE9fU1VCTUlUIEVSUk9SOiBcIlxyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXHJcblxyXG5cdFx0LCAoKS0+XHJcblx0XHRcdGNvbnNvbGUubG9nICdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudCdcclxuXHJcbk1ldGVvci5tZXRob2RzXHJcblx0dGltZW91dF9hdXRvX3N1Ym1pdDogKGluc19pZCktPlxyXG5cdFx0dXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdChpbnNfaWQpXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHJcbiIsIlxuLypcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4gKi9cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICB2YXIgZ29fbmV4dCwgcmVmLCBydWxlLCBzY2hlZHVsZTtcbiAgaWYgKChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MuY3JvbikgIT0gbnVsbCA/IHJlZi50aW1lb3V0X2F1dG9fc3VibWl0IDogdm9pZCAwKSB7XG4gICAgc2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJyk7XG4gICAgcnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLnRpbWVvdXRfYXV0b19zdWJtaXQ7XG4gICAgZ29fbmV4dCA9IHRydWU7XG4gICAgcmV0dXJuIHNjaGVkdWxlLnNjaGVkdWxlSm9iKHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghZ29fbmV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnb19uZXh0ID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUudGltZSgndGltZW91dF9hdXRvX3N1Ym1pdCcpO1xuICAgICAgICB1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KCk7XG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgndGltZW91dF9hdXRvX3N1Ym1pdCcpO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBVVRPIFRJTUVPVVRfQVVUT19TVUJNSVQgRVJST1I6IFwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudCcpO1xuICAgIH0pKTtcbiAgfVxufSk7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgdGltZW91dF9hdXRvX3N1Ym1pdDogZnVuY3Rpb24oaW5zX2lkKSB7XG4gICAgdXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdChpbnNfaWQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvbmV4dFN0ZXBVc2Vyc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xyXG5cdHZhclxyXG5cdFx0ZGVhbF90eXBlID0gcmVxLnF1ZXJ5LmRlYWxfdHlwZSxcclxuXHRcdHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcclxuXHRcdGVycm9yID0gXCJcIjtcclxuXHJcblx0aWYgKCFkZWFsX3R5cGUgfHwgIXNwYWNlSWQpIHtcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0dmFyXHJcblx0XHRib2R5ID0gcmVxLmJvZHksXHJcblx0XHRuZXh0U3RlcFVzZXJzID0gW107XHJcblxyXG5cclxuXHRzd2l0Y2ggKGRlYWxfdHlwZSkge1xyXG5cdFx0Y2FzZSAnc3BlY2lmeVVzZXInOlxyXG5cdFx0XHR2YXIgc3BlY2lmeVVzZXJJZHMgPSBib2R5LnNwZWNpZnlVc2VySWRzO1xyXG5cclxuXHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCBzcGVjaWZ5VXNlcklkcyk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnYXBwbGljYW50Um9sZSc6XHJcblx0XHRcdHZhclxyXG5cdFx0XHRcdGFwcGxpY2FudElkID0gYm9keS5hcHBsaWNhbnRJZCxcclxuXHRcdFx0XHRhcHByb3ZlUm9sZUlkcyA9IGJvZHkuYXBwcm92ZVJvbGVJZHM7XHJcblx0XHRcdHZhciBhcHBsaWNhbnQgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcihzcGFjZUlkLCBhcHBsaWNhbnRJZCk7XHJcblxyXG5cdFx0XHRpZiAoYXBwbGljYW50KVxyXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlPcmdzQW5kUm9sZXMoc3BhY2VJZCwgYXBwbGljYW50Lm9yZ2FuaXphdGlvbnMsIGFwcHJvdmVSb2xlSWRzKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdoclJvbGUnOlxyXG5cdFx0XHR2YXIgYXBwcm92ZUhyUm9sZUlkcyA9IGJvZHkuYXBwcm92ZUhyUm9sZUlkcztcclxuXHRcdFx0aWYgKGFwcHJvdmVIclJvbGVJZHMpXHJcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRIclJvbGVzVXNlcnMoc3BhY2VJZCwgYXBwcm92ZUhyUm9sZUlkcyk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnYXBwbGljYW50U3VwZXJpb3InOlxyXG5cdFx0XHR2YXIgYXBwbGljYW50SWQgPSBib2R5LmFwcGxpY2FudElkO1xyXG5cdFx0XHR2YXIgYXBwbGljYW50ID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXIoc3BhY2VJZCwgYXBwbGljYW50SWQpO1xyXG5cdFx0XHRpZiAoYXBwbGljYW50Lm1hbmFnZXIpIHtcclxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIGFwcGxpY2FudC5tYW5hZ2VyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ2FwcGxpY2FudCc6XHJcblx0XHRcdHZhciBhcHBsaWNhbnRJZCA9IGJvZHkuYXBwbGljYW50SWQ7XHJcblx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgYXBwbGljYW50SWQpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ3VzZXJGaWVsZCc6XHJcblx0XHRcdHZhclxyXG5cdFx0XHRcdHVzZXJGaWVsZCA9IGJvZHkudXNlckZpZWxkLFxyXG5cdFx0XHRcdHVzZXJGaWVsZFZhbHVlID0gYm9keS51c2VyRmllbGRWYWx1ZTtcclxuXHRcdFx0aWYgKHVzZXJGaWVsZC5pc19tdWx0aXNlbGVjdCkgeyAvL+WmguaenOWkmumAie+8jOS7pXVzZXJGaWVsZFZhbHVl5YC85Li6QXJyYXlcclxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIHVzZXJGaWVsZFZhbHVlKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzLnB1c2goV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXIoc3BhY2VJZCwgdXNlckZpZWxkVmFsdWUpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ29yZ0ZpZWxkJzpcclxuXHRcdFx0dmFyXHJcblx0XHRcdFx0b3JncyxcclxuXHRcdFx0XHRvcmdDaGlsZHJlbnMsXHJcblx0XHRcdFx0b3JnRmllbGQgPSBib2R5Lm9yZ0ZpZWxkLFxyXG5cdFx0XHRcdG9yZ0ZpZWxkVmFsdWUgPSBib2R5Lm9yZ0ZpZWxkVmFsdWU7XHJcblx0XHRcdGlmIChvcmdGaWVsZFZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKG9yZ0ZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5Lulb3JnRmllbGRWYWx1ZeWAvOS4ukFycmF5XHJcblx0XHRcdFx0XHRvcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnMob3JnRmllbGRWYWx1ZSk7XHJcblx0XHRcdFx0XHRvcmdDaGlsZHJlbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc0NoaWxkcmVucyhzcGFjZUlkLCBvcmdGaWVsZFZhbHVlKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0b3JncyA9IFtXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uKG9yZ0ZpZWxkVmFsdWUpXTtcclxuXHRcdFx0XHRcdG9yZ0NoaWxkcmVucyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25DaGlsZHJlbnMoc3BhY2VJZCwgb3JnRmllbGRWYWx1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc1VzZXJzKHNwYWNlSWQsIG9yZ0NoaWxkcmVucyk7XHJcblxyXG5cdFx0XHRcdG9yZ0ZpZWxkVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc1VzZXJzKHNwYWNlSWQsIG9yZ3MpO1xyXG5cclxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gbmV4dFN0ZXBVc2Vycy5jb25jYXQob3JnRmllbGRVc2Vycyk7XHJcblxyXG5cdFx0XHRcdGlmICghbmV4dFN0ZXBVc2VycyB8fCBuZXh0U3RlcFVzZXJzLmxlbmd0aCA8IDEpIHtcclxuXHRcdFx0XHRcdGVycm9yID0gXCJPUkdfTk9fTUVNQkVSU1wiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRlcnJvciA9IFwiRklFTERfVkFMVUVfRU1QVFlcIjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdzcGVjaWZ5T3JnJzpcclxuXHRcdFx0dmFyIHNwZWNpZnlPcmdJZHMgPSBib2R5LnNwZWNpZnlPcmdJZHM7XHJcblx0XHRcdHZhciBzcGVjaWZ5T3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zKHNwZWNpZnlPcmdJZHMpO1xyXG5cdFx0XHR2YXIgc3BlY2lmeU9yZ0NoaWxkcmVucyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zQ2hpbGRyZW5zKHNwYWNlSWQsIHNwZWNpZnlPcmdJZHMpO1xyXG5cclxuXHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgc3BlY2lmeU9yZ3MpO1xyXG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gbmV4dFN0ZXBVc2Vycy5jb25jYXQoV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBzcGVjaWZ5T3JnQ2hpbGRyZW5zKSk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAndXNlckZpZWxkUm9sZSc6XHJcblx0XHRcdHZhclxyXG5cdFx0XHRcdHVzZXJGaWVsZCA9IGJvZHkudXNlckZpZWxkLFxyXG5cdFx0XHRcdHVzZXJGaWVsZFZhbHVlID0gYm9keS51c2VyRmllbGRWYWx1ZSxcclxuXHRcdFx0XHRhcHByb3ZlclJvbGVJZHMgPSBib2R5LmFwcHJvdmVyUm9sZUlkcztcclxuXHRcdFx0aWYgKHVzZXJGaWVsZFZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKHVzZXJGaWVsZC5pc19tdWx0aXNlbGVjdCkgeyAvL+WmguaenOWkmumAie+8jOS7pXVzZXJGaWVsZFZhbHVl5YC85Li6QXJyYXlcclxuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzKHNwYWNlSWQsIHVzZXJGaWVsZFZhbHVlLCBhcHByb3ZlclJvbGVJZHMpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5VXNlcnNBbmRSb2xlcyhzcGFjZUlkLCBbdXNlckZpZWxkVmFsdWVdLCBhcHByb3ZlclJvbGVJZHMpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKCFuZXh0U3RlcFVzZXJzIHx8IG5leHRTdGVwVXNlcnMubGVuZ3RoIDwgMSkge1xyXG5cdFx0XHRcdFx0ZXJyb3IgPSBcIlJPTEVfTk9fTUVNQkVSU1wiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRlcnJvciA9IFwiRklFTERfVkFMVUVfRU1QVFlcIjtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnb3JnRmllbGRSb2xlJzpcclxuXHRcdFx0dmFyXHJcblx0XHRcdFx0b3JnRmllbGQgPSBib2R5Lm9yZ0ZpZWxkLFxyXG5cdFx0XHRcdG9yZ0ZpZWxkVmFsdWUgPSBib2R5Lm9yZ0ZpZWxkVmFsdWUsXHJcblx0XHRcdFx0YXBwcm92ZXJSb2xlSWRzID0gYm9keS5hcHByb3ZlclJvbGVJZHM7XHJcblxyXG5cdFx0XHRpZiAob3JnRmllbGRWYWx1ZSkge1xyXG5cdFx0XHRcdGlmIChvcmdGaWVsZC5pc19tdWx0aXNlbGVjdCkgeyAvL+WmguaenOWkmumAie+8jOS7pW9yZ0ZpZWxkVmFsdWXlgLzkuLpBcnJheVxyXG5cdFx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeU9yZ3NBbmRSb2xlcyhzcGFjZUlkLCBvcmdGaWVsZFZhbHVlLCBhcHByb3ZlclJvbGVJZHMpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzKHNwYWNlSWQsIFtvcmdGaWVsZFZhbHVlXSwgYXBwcm92ZXJSb2xlSWRzKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICghbmV4dFN0ZXBVc2VycyB8fCBuZXh0U3RlcFVzZXJzLmxlbmd0aCA8IDEpIHtcclxuXHRcdFx0XHRcdGVycm9yID0gXCJST0xFX05PX01FTUJFUlNcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZXJyb3IgPSBcIkZJRUxEX1ZBTFVFX0VNUFRZXCI7XHJcblx0XHRcdH1cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcblxyXG5cdHZhciByZXN1bHQgPSBbXTtcclxuXHJcblx0bmV4dFN0ZXBVc2Vycy5mb3JFYWNoKGZ1bmN0aW9uKHN1KSB7XHJcblx0XHR2YXIgbyA9IHtcclxuXHRcdFx0aWQ6IHN1LmlkLFxyXG5cdFx0XHRuYW1lOiBzdS5uYW1lXHJcblx0XHR9O1xyXG5cdFx0cmVzdWx0LnB1c2gobyk7XHJcblx0fSlcclxuXHJcblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0Y29kZTogMjAwLFxyXG5cdFx0ZGF0YToge1xyXG5cdFx0XHQnbmV4dFN0ZXBVc2Vycyc6IFdvcmtmbG93TWFuYWdlci51bmlxVXNlcnMocmVzdWx0KSxcclxuXHRcdFx0J2Vycm9yJzogZXJyb3JcclxuXHRcdH1cclxuXHR9KTtcclxufSkiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldFNwYWNlVXNlcnNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgdmFyXHJcbiAgICB1c2VySWRzID0gcmVxLmJvZHkudXNlcklkcyxcclxuICAgIHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcclxuICAgIHNwYWNlVXNlcnMgPSBbXVxyXG4gIDtcclxuXHJcbiAgaWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKSB7XHJcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNwYWNlVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgdXNlcklkcyk7XHJcblxyXG4gIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuICAgIGNvZGU6IDIwMCxcclxuICAgIGRhdGE6IHtcclxuICAgICAgJ3NwYWNlVXNlcnMnOiBzcGFjZVVzZXJzXHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG5cclxuICBcclxuICAiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldEZvcm11bGFVc2VyT2JqZWN0c1wiLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcclxuICB2YXJcclxuICAgIHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzLFxyXG4gICAgc3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxyXG4gICAgc3BhY2VVc2VycyA9IFtdXHJcbiAgO1xyXG5cclxuICBpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpIHtcclxuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdmFyIHVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0KHNwYWNlSWQsIHVzZXJJZHMpO1xyXG5cclxuICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcbiAgICBjb2RlOiAyMDAsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgICdzcGFjZVVzZXJzJzogdXNlcnNcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcblxyXG4gIFxyXG4gICIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5pdF9mb3JtdWxhX3ZhbHVlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xyXG5cdHZhclxyXG5cdFx0ZmllbGRzID0gcmVxLmJvZHkuZmllbGRzLFxyXG5cdFx0YXV0b0Zvcm1Eb2MgPSByZXEuYm9keS5hdXRvRm9ybURvYyxcclxuXHRcdGFwcHJvdmVyID0gcmVxLmJvZHkuYXBwcm92ZXIsXHJcblx0XHRhcHBsaWNhbnQgPSByZXEuYm9keS5hcHBsaWNhbnQsXHJcblxyXG5cdFx0c3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxyXG5cclxuXHRcdHNwYWNlVXNlcnMgPSBbXTtcclxuXHJcblx0aWYgKCFmaWVsZHMgfHwgIXNwYWNlSWQgfHwgIWF1dG9Gb3JtRG9jIHx8ICFhcHByb3ZlciB8fCAhYXBwbGljYW50KSB7XHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGZvcm11bGFfdmFsdWVzID0gRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXMoZmllbGRzLCBhdXRvRm9ybURvYywgYXBwcm92ZXIsIGFwcGxpY2FudCwgc3BhY2VJZCk7XHJcblxyXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdGNvZGU6IDIwMCxcclxuXHRcdGRhdGE6IHtcclxuXHRcdFx0J2Zvcm11bGFfdmFsdWVzJzogZm9ybXVsYV92YWx1ZXNcclxuXHRcdH1cclxuXHR9KTtcclxufSlcclxuIiwiSnNvblJvdXRlcy5hZGQgXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXROYW1lRm9yVXNlclwiLCAgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0dXNlcklkID0gcmVxLmJvZHkudXNlcklkXHJcblxyXG5cdFx0aWYgbm90IHVzZXJJZCBcclxuXHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywgXHJcblx0XHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHR1c2VyID0gV29ya2Zsb3dNYW5hZ2VyLmdldE5hbWVGb3JVc2VyKHVzZXJJZClcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCBcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7dXNlcjogdXNlcn1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cclxuXHRcclxuXHRcdFxyXG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldE5hbWVGb3JVc2VyXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBlLCB1c2VyLCB1c2VySWQ7XG4gIHRyeSB7XG4gICAgdXNlcklkID0gcmVxLmJvZHkudXNlcklkO1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgdXNlciA9IFdvcmtmbG93TWFuYWdlci5nZXROYW1lRm9yVXNlcih1c2VySWQpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXI6IHVzZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS9kZXNpZ25lci9zdGFydHVwJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0Y29tcGFueUlkID0gcmVxLnF1ZXJ5Py5jb21wYW55SWQgfHwgJydcclxuXHJcblx0XHRzcGFjZXNRdWVyeSA9IHsgYWRtaW5zOiBjdXJyZW50X3VzZXIgfVxyXG5cclxuXHRcdGlmIGNvbXBhbnlJZFxyXG5cdFx0XHRvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY29tcGFueUlkLCB7IGZpZWxkczogeyBzcGFjZToxIH0gfSlcclxuXHRcdFx0aWYgbm90IG9yZ1xyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NvbXBhbnlJZCBpcyBpbnZhbGlkJylcclxuXHJcblx0XHRcdHNwYWNlc1F1ZXJ5ID0geyBfaWQ6IG9yZy5zcGFjZSB9XHJcblxyXG5cdFx0c3BhY2VzID0gZGIuc3BhY2VzLmZpbmQoc3BhY2VzUXVlcnkpLmZldGNoKClcclxuXHJcblx0XHRzcGFjZUlkcyA9IF8ucGx1Y2sgc3BhY2VzLCAnX2lkJ1xyXG5cclxuXHRcdHF1ZXJ5ID0geyBzcGFjZTogeyAkaW46IHNwYWNlSWRzIH0gfVxyXG5cdFx0aWYgY29tcGFueUlkXHJcblx0XHRcdHF1ZXJ5LmNvbXBhbnlfaWQgPSBjb21wYW55SWRcclxuXHJcblx0XHRzcGFjZVVzZXJzID0gZGIuc3BhY2VfdXNlcnMuZmluZChxdWVyeSkuZmV0Y2goKVxyXG5cclxuXHRcdGZvcm1zID0gZGIuZm9ybXMuZmluZChxdWVyeSwgeyBmaWVsZHM6IHsgbmFtZToxLCBzdGF0ZToxLCBpc19kZWxldGVkOjEsIGlzX3ZhbGlkOjEsIHNwYWNlOjEsIGRlc2NyaXB0aW9uOjEsIGhlbHBfdGV4dDoxLFxyXG5cdFx0Y3JlYXRlZDoxLCBjcmVhdGVkX2J5OjEsIGN1cnJlbnQ6MSwgY2F0ZWdvcnk6MSwgaW5zdGFuY2Vfc3R5bGU6MSwgY29tcGFueV9pZDoxIH0gfSkuZmV0Y2goKVxyXG5cclxuXHRcdGZsb3dzID0gZGIuZmxvd3MuZmluZChxdWVyeSwgeyBmaWVsZHM6IHsgbmFtZToxLCBuYW1lX2Zvcm11bGE6MSwgY29kZV9mb3JtdWxhOjEsIHNwYWNlOjEsIGRlc2NyaXB0aW9uOjEsIGlzX3ZhbGlkOjEsIGZvcm06MSxcclxuXHRcdGZsb3d0eXBlOjEsIHN0YXRlOjEsIGlzX2RlbGV0ZWQ6MSwgY3JlYXRlZDoxLCBjcmVhdGVkX2J5OjEsIGhlbHBfdGV4dDoxLCBjdXJyZW50X25vOjEsIGN1cnJlbnQ6MSwgcGVybXM6MSwgZXJyb3JfbWVzc2FnZToxLCBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOjEsIGNvbXBhbnlfaWQ6MSB9IH0pLmZldGNoKClcclxuXHJcblx0XHRyb2xlcyA9IGRiLmZsb3dfcm9sZXMuZmluZChxdWVyeSkuZmV0Y2goKVxyXG5cclxuXHRcdG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQocXVlcnkpLmZldGNoKClcclxuXHJcblx0XHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpXHJcblxyXG5cdFx0Y2F0ZWdvcmllcyA9IGRiLmNhdGVnb3JpZXMuZmluZCh7IHNwYWNlOiB7ICRpbjogc3BhY2VJZHMgfSB9KS5mZXRjaCgpXHJcblxyXG5cdFx0dXNlcklkcyA9IF8ucGx1Y2sgc3BhY2VVc2VycywgJ3VzZXInXHJcblx0XHR1c2VycyA9IGRiLnVzZXJzLmZpbmQoeyBfaWQ6IHsgJGluOiB1c2VySWRzIH0gfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pLmZldGNoKClcclxuXHJcblx0XHRyZXN1bHQgPSB7fVxyXG5cdFx0cmVzdWx0LlNwYWNlVXNlcnMgPSBzcGFjZVVzZXJzXHJcblx0XHRyZXN1bHQuVXNlcnMgPSB1c2Vyc1xyXG5cdFx0cmVzdWx0LkZvcm1zID0gZm9ybXNcclxuXHRcdHJlc3VsdC5GbG93cyA9IGZsb3dzXHJcblx0XHRyZXN1bHQuT3JnYW5pemF0aW9ucyA9IG9yZ2FuaXphdGlvbnNcclxuXHRcdHJlc3VsdC5Qb3NpdGlvbnMgPSBwb3NpdGlvbnNcclxuXHRcdHJlc3VsdC5Sb2xlcyA9IHJvbGVzXHJcblx0XHRyZXN1bHQuQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXNcclxuXHRcdHJlc3VsdC5TcGFjZXMgPSBzcGFjZXNcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdGRhdGE6IHJlc3VsdFxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxyXG5cclxuIiwiSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL2Rlc2lnbmVyL3N0YXJ0dXAnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY2F0ZWdvcmllcywgY29tcGFueUlkLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93cywgZm9ybXMsIG9yZywgb3JnYW5pemF0aW9ucywgcG9zaXRpb25zLCBxdWVyeSwgcmVmLCByZXN1bHQsIHJvbGVzLCBzcGFjZUlkcywgc3BhY2VVc2Vycywgc3BhY2VzLCBzcGFjZXNRdWVyeSwgdXNlcklkcywgdXNlcnM7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgY29tcGFueUlkID0gKChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuY29tcGFueUlkIDogdm9pZCAwKSB8fCAnJztcbiAgICBzcGFjZXNRdWVyeSA9IHtcbiAgICAgIGFkbWluczogY3VycmVudF91c2VyXG4gICAgfTtcbiAgICBpZiAoY29tcGFueUlkKSB7XG4gICAgICBvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY29tcGFueUlkLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFvcmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY29tcGFueUlkIGlzIGludmFsaWQnKTtcbiAgICAgIH1cbiAgICAgIHNwYWNlc1F1ZXJ5ID0ge1xuICAgICAgICBfaWQ6IG9yZy5zcGFjZVxuICAgICAgfTtcbiAgICB9XG4gICAgc3BhY2VzID0gZGIuc3BhY2VzLmZpbmQoc3BhY2VzUXVlcnkpLmZldGNoKCk7XG4gICAgc3BhY2VJZHMgPSBfLnBsdWNrKHNwYWNlcywgJ19pZCcpO1xuICAgIHF1ZXJ5ID0ge1xuICAgICAgc3BhY2U6IHtcbiAgICAgICAgJGluOiBzcGFjZUlkc1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGNvbXBhbnlJZCkge1xuICAgICAgcXVlcnkuY29tcGFueV9pZCA9IGNvbXBhbnlJZDtcbiAgICB9XG4gICAgc3BhY2VVc2VycyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgZm9ybXMgPSBkYi5mb3Jtcy5maW5kKHF1ZXJ5LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogMSxcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX2RlbGV0ZWQ6IDEsXG4gICAgICAgIGlzX3ZhbGlkOiAxLFxuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgZGVzY3JpcHRpb246IDEsXG4gICAgICAgIGhlbHBfdGV4dDogMSxcbiAgICAgICAgY3JlYXRlZDogMSxcbiAgICAgICAgY3JlYXRlZF9ieTogMSxcbiAgICAgICAgY3VycmVudDogMSxcbiAgICAgICAgY2F0ZWdvcnk6IDEsXG4gICAgICAgIGluc3RhbmNlX3N0eWxlOiAxLFxuICAgICAgICBjb21wYW55X2lkOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICBmbG93cyA9IGRiLmZsb3dzLmZpbmQocXVlcnksIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxLFxuICAgICAgICBuYW1lX2Zvcm11bGE6IDEsXG4gICAgICAgIGNvZGVfZm9ybXVsYTogMSxcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAxLFxuICAgICAgICBpc192YWxpZDogMSxcbiAgICAgICAgZm9ybTogMSxcbiAgICAgICAgZmxvd3R5cGU6IDEsXG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19kZWxldGVkOiAxLFxuICAgICAgICBjcmVhdGVkOiAxLFxuICAgICAgICBjcmVhdGVkX2J5OiAxLFxuICAgICAgICBoZWxwX3RleHQ6IDEsXG4gICAgICAgIGN1cnJlbnRfbm86IDEsXG4gICAgICAgIGN1cnJlbnQ6IDEsXG4gICAgICAgIHBlcm1zOiAxLFxuICAgICAgICBlcnJvcl9tZXNzYWdlOiAxLFxuICAgICAgICBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuICAgICAgICBjb21wYW55X2lkOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByb2xlcyA9IGRiLmZsb3dfcm9sZXMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgY2F0ZWdvcmllcyA9IGRiLmNhdGVnb3JpZXMuZmluZCh7XG4gICAgICBzcGFjZToge1xuICAgICAgICAkaW46IHNwYWNlSWRzXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICB1c2VySWRzID0gXy5wbHVjayhzcGFjZVVzZXJzLCAndXNlcicpO1xuICAgIHVzZXJzID0gZGIudXNlcnMuZmluZCh7XG4gICAgICBfaWQ6IHtcbiAgICAgICAgJGluOiB1c2VySWRzXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJlc3VsdCA9IHt9O1xuICAgIHJlc3VsdC5TcGFjZVVzZXJzID0gc3BhY2VVc2VycztcbiAgICByZXN1bHQuVXNlcnMgPSB1c2VycztcbiAgICByZXN1bHQuRm9ybXMgPSBmb3JtcztcbiAgICByZXN1bHQuRmxvd3MgPSBmbG93cztcbiAgICByZXN1bHQuT3JnYW5pemF0aW9ucyA9IG9yZ2FuaXphdGlvbnM7XG4gICAgcmVzdWx0LlBvc2l0aW9ucyA9IHBvc2l0aW9ucztcbiAgICByZXN1bHQuUm9sZXMgPSByb2xlcztcbiAgICByZXN1bHQuQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7XG4gICAgcmVzdWx0LlNwYWNlcyA9IHNwYWNlcztcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L2VuZ2luZScsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHJcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0FwcHJvdmFscyddLCAoYXBwcm92ZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0dXVmbG93TWFuYWdlci53b3JrZmxvd19lbmdpbmUoYXBwcm92ZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8sIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YToge31cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2VuZ2luZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnQXBwcm92YWxzJ10sIGZ1bmN0aW9uKGFwcHJvdmVfZnJvbV9jbGllbnQpIHtcbiAgICAgIHJldHVybiB1dWZsb3dNYW5hZ2VyLndvcmtmbG93X2VuZ2luZShhcHByb3ZlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbywgY3VycmVudF91c2VyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZHJhZnRzJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cclxuXHRcdGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheVxyXG5cclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0bmV3X2luc19pZCA9IHV1Zmxvd01hbmFnZXIuY3JlYXRlX2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbylcclxuXHJcblx0XHRcdG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogbmV3X2luc19pZCB9LCB7IGZpZWxkczogeyBzcGFjZTogMSwgZmxvdzogMSwgZmxvd192ZXJzaW9uOiAxLCBmb3JtOiAxLCBmb3JtX3ZlcnNpb246IDEgfSB9KVxyXG5cclxuXHRcdFx0aW5zZXJ0ZWRfaW5zdGFuY2VzLnB1c2gobmV3X2lucylcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlcyB9XHJcblx0XHR9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxyXG5cdFx0fVxyXG5cclxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9kcmFmdHMnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGEsIGluc2VydGVkX2luc3RhbmNlcztcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIG5ld19pbnMsIG5ld19pbnNfaWQ7XG4gICAgICBuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogbmV3X2luc19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICBmbG93OiAxLFxuICAgICAgICAgIGZsb3dfdmVyc2lvbjogMSxcbiAgICAgICAgICBmb3JtOiAxLFxuICAgICAgICAgIGZvcm1fdmVyc2lvbjogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbnNlcnRlZF9pbnN0YW5jZXMucHVzaChuZXdfaW5zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVtb3ZlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cclxuXHRcdGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheVxyXG5cclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0IyDojrflj5bkuIDkuKppbnN0YW5jZVxyXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXHJcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2VcclxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZVxyXG5cdFx0XHRzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2XkuIvnmoTkuIDkuKp1c2VyXHJcblx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZmxvd30pXHJcblxyXG5cdFx0XHRzcGFjZVVzZXJPcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcclxuXHRcdFx0XHRfaWQ6IHtcclxuXHRcdFx0XHRcdCRpbjogc3BhY2VfdXNlci5vcmdhbml6YXRpb25zXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5mZXRjaCgpO1xyXG5cclxuXHRcdFx0IyDliKTmlq3kuIDkuKrnlKjmiLfmmK/lkKbmmK/kuIDkuKppbnN0YW5jZeeahOaPkOS6pOiAheaIluiAheeUs+ivt+S6uiDmiJZTcGFjZUFkbWluXHJcblx0XHRcdGlmIChpbnN0YW5jZS5zdWJtaXR0ZXIgaXNudCBjdXJyZW50X3VzZXIpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyBjdXJyZW50X3VzZXIpIGFuZCAhV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsb3csIHNwYWNlX3VzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpXHJcblx0XHRcdFx0dGhyb3cgbmV3ICBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oKo5LiN6IO95Yig6Zmk5q2k55Sz6K+35Y2V44CCXCIpXHJcblxyXG5cdFx0XHRkZWxldGVfb2JqID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXHJcblx0XHRcdGRlbGV0ZV9vYmouZGVsZXRlZCA9IG5ldyBEYXRlXHJcblx0XHRcdGRlbGV0ZV9vYmouZGVsZXRlZF9ieSA9IGN1cnJlbnRfdXNlclxyXG5cclxuXHRcdFx0ZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGRlbGV0ZV9vYmopXHJcblxyXG5cdFx0XHQjIOWIoOmZpGluc3RhbmNlXHJcblx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXHJcblxyXG5cdFx0XHRpZiBkZWxldGVfb2JqLnN0YXRlIGlzbnQgXCJkcmFmdFwiXHJcblx0XHRcdFx0I+WPkemAgee7meW+heWkhOeQhuS6uiwgI+WPkemAgee7meiiq+S8oOmYheS6ulxyXG5cdFx0XHRcdGluYm94X3VzZXJzID0gaWYgZGVsZXRlX29iai5pbmJveF91c2VycyB0aGVuIGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgZWxzZSBbXVxyXG5cdFx0XHRcdGNjX3VzZXJzID0gaWYgZGVsZXRlX29iai5jY191c2VycyB0aGVuIGRlbGV0ZV9vYmouY2NfdXNlcnMgZWxzZSBbXVxyXG5cdFx0XHRcdHVzZXJfaWRzID0gXy51bmlxKGluYm94X3VzZXJzLmNvbmNhdChjY191c2VycykpXHJcblx0XHRcdFx0Xy5lYWNoIHVzZXJfaWRzLCAodV9pZCktPlxyXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwidGVybWluYXRlX2FwcHJvdmFsXCIsIHVfaWQpXHJcblxyXG5cdFx0XHRcdCMg5Y+R6YCB5Yig6Zmk6YCa55+l6YKu5Lu257uZ6YCa6L+H5qCh6aqM55qE55Sz6K+35Lq6L+Whq+WNleS6uu+8jOWvueeUs+ivt+S6ui/loavljZXkurrlkITnlJ/miJDkuIDmnaFzbXRwIG1lc3NhZ2VcclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcIm1vbml0b3JfZGVsZXRlX2FwcGxpY2FudFwiLCBkZWxldGVfb2JqLCBcIlwiLCBjdXJyZW50X3VzZXJfaW5mbylcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXN9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cclxuXHRcclxuXHRcdCIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVtb3ZlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhLCBpbnNlcnRlZF9pbnN0YW5jZXM7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBpbnNlcnRlZF9pbnN0YW5jZXMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBjY191c2VycywgZGVsZXRlX29iaiwgZmxvdywgaW5ib3hfdXNlcnMsIGluc3RhbmNlLCBzcGFjZSwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucywgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHVzZXJfaWRzO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlLmZsb3dcbiAgICAgIH0pO1xuICAgICAgc3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogc3BhY2VfdXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAoKGluc3RhbmNlLnN1Ym1pdHRlciAhPT0gY3VycmVudF91c2VyKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSAmJiAhV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsb3csIHNwYWNlX3VzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oKo5LiN6IO95Yig6Zmk5q2k55Sz6K+35Y2V44CCXCIpO1xuICAgICAgfVxuICAgICAgZGVsZXRlX29iaiA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIGRlbGV0ZV9vYmouZGVsZXRlZCA9IG5ldyBEYXRlO1xuICAgICAgZGVsZXRlX29iai5kZWxldGVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGRlbGV0ZV9vYmopO1xuICAgICAgZGIuaW5zdGFuY2VzLnJlbW92ZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBpZiAoZGVsZXRlX29iai5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICAgIGluYm94X3VzZXJzID0gZGVsZXRlX29iai5pbmJveF91c2VycyA/IGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgOiBbXTtcbiAgICAgICAgY2NfdXNlcnMgPSBkZWxldGVfb2JqLmNjX3VzZXJzID8gZGVsZXRlX29iai5jY191c2VycyA6IFtdO1xuICAgICAgICB1c2VyX2lkcyA9IF8udW5pcShpbmJveF91c2Vycy5jb25jYXQoY2NfdXNlcnMpKTtcbiAgICAgICAgXy5lYWNoKHVzZXJfaWRzLCBmdW5jdGlvbih1X2lkKSB7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1X2lkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcIm1vbml0b3JfZGVsZXRlX2FwcGxpY2FudFwiLCBkZWxldGVfb2JqLCBcIlwiLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaW5zZXJ0czogaW5zZXJ0ZWRfaW5zdGFuY2VzXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3N1Ym1pdCcsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHRcdHJlc3VsdCA9IFtdXHJcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XHJcblx0XHRcdHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pXHJcblx0XHRcdGlmIHIuYWxlcnRzXHJcblx0XHRcdFx0cmVzdWx0LnB1c2gocilcclxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eShpbnN0YW5jZV9mcm9tX2NsaWVudFsnaW5ib3hfdXNlcnMnXSlcclxuXHRcdFx0XHQjIOWmguaenOaYr+i9rOWPkeWwsemcgOimgee7meW9k+WJjeeUqOaIt+WPkemAgXB1c2gg6YeN5paw6K6h566XYmFkZ2VcclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyKTtcclxuXHJcblx0XHRcdGlmIF8uaXNFbXB0eShyLmFsZXJ0cylcclxuXHRcdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2Zyb21fY2xpZW50Ll9pZClcclxuXHRcdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvd1xyXG5cdFx0XHRcdGN1cnJlbnRfYXBwcm92ZSA9IGluc3RhbmNlX2Zyb21fY2xpZW50LnRyYWNlc1swXS5hcHByb3Zlc1swXVxyXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBjdXJyZW50X2FwcHJvdmUsICdkcmFmdF9zdWJtaXQnLCBjdXJyZW50X3VzZXIsIGluc3RhbmNlLmluYm94X3VzZXJzKVxyXG5cclxuXHRcdFx0IyDliKTmlq3nlLPor7fljZXmmK/lkKbliIblj5HvvIzliIblj5Hmlofku7bnu5PmnZ/mj5DphpLlj5HotbfkurpcclxuXHRcdFx0dXVmbG93TWFuYWdlci5kaXN0cmlidXRlZEluc3RhbmNlc1JlbWluZChpbnN0YW5jZV9mcm9tX2NsaWVudClcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdGRhdGE6IHsgcmVzdWx0OiByZXN1bHQgfVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxyXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3N1Ym1pdCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YSwgcmVzdWx0O1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgcmVzdWx0ID0gW107XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBjdXJyZW50X2FwcHJvdmUsIGZsb3dfaWQsIGluc3RhbmNlLCByO1xuICAgICAgciA9IHV1Zmxvd01hbmFnZXIuc3VibWl0X2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICBpZiAoci5hbGVydHMpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocik7XG4gICAgICB9XG4gICAgICBpZiAoIV8uaXNFbXB0eShpbnN0YW5jZV9mcm9tX2NsaWVudFsnaW5ib3hfdXNlcnMnXSkpIHtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcik7XG4gICAgICB9XG4gICAgICBpZiAoXy5pc0VtcHR5KHIuYWxlcnRzKSkge1xuICAgICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2Zyb21fY2xpZW50Ll9pZCk7XG4gICAgICAgIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuICAgICAgICBjdXJyZW50X2FwcHJvdmUgPSBpbnN0YW5jZV9mcm9tX2NsaWVudC50cmFjZXNbMF0uYXBwcm92ZXNbMF07XG4gICAgICAgIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBjdXJyZW50X2FwcHJvdmUsICdkcmFmdF9zdWJtaXQnLCBjdXJyZW50X3VzZXIsIGluc3RhbmNlLmluYm94X3VzZXJzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1dWZsb3dNYW5hZ2VyLmRpc3RyaWJ1dGVkSW5zdGFuY2VzUmVtaW5kKGluc3RhbmNlX2Zyb21fY2xpZW50KTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICByZXN1bHQ6IHJlc3VsdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy90ZXJtaW5hdGUnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XHJcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XHJcblx0XHRcdHRlcm1pbmF0ZV9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRlcm1pbmF0ZV9yZWFzb25cIl1cclxuXHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXVxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qmluc3RhbmNlXHJcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcclxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxyXG5cdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvd1xyXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNlXHJcblx0XHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdFx0IyDojrflj5bkuIDkuKpmbG93XHJcblx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZClcclxuXHRcdFx0IyDliKTmlq3kuIDkuKppbnN0YW5jZeaYr+WQpuS4uuWuoeaguOS4reeKtuaAgVxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKVxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNl5LiL55qE5LiA5LiqdXNlclxyXG5cdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0IyDojrflj5ZzcGFjZV91c2Vy5omA5Zyo55qE6YOo6Zeo5L+h5oGvXHJcblx0XHRcdHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcilcclxuXHRcdFx0IyDojrflj5bnu5PmnZ/oioLngrlcclxuXHRcdFx0aW5zdGFuY2VfZmxvd192ZXIgPSBudWxsXHJcblx0XHRcdGZsb3dfdmVyX2VuZF9zdGVwID0gbnVsbFxyXG5cdFx0XHRmbG93X3ZlcnMgPSBuZXcgQXJyYXlcclxuXHRcdFx0Zmxvd192ZXJzLnB1c2goZmxvdy5jdXJyZW50KVxyXG5cdFx0XHRmbG93X3ZlcnMgPSBmbG93X3ZlcnMuY29uY2F0KGZsb3cuaGlzdG9yeXMpXHJcblx0XHRcdGluc3RhbmNlX2Zsb3dfdmVyID0gXy5maW5kKGZsb3dfdmVycywgKGZfdmVyKS0+XHJcblx0XHRcdFx0cmV0dXJuIGZfdmVyLl9pZCBpcyBpbnN0YW5jZS5mbG93X3ZlcnNpb25cclxuXHRcdFx0KVxyXG5cdFx0XHRpZiBub3QgaW5zdGFuY2VfZmxvd192ZXJcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOeUs+ivt+WNleWvueW6lOa1geeoi+eJiOacrFwiKVxyXG5cdFx0XHRmbG93X3Zlcl9lbmRfc3RlcCA9IF8uZmluZChpbnN0YW5jZV9mbG93X3Zlci5zdGVwcywgKGZfc3RlcCktPlxyXG5cdFx0XHRcdHJldHVybiBmX3N0ZXAuc3RlcF90eXBlIGlzIFwiZW5kXCJcclxuXHRcdFx0KVxyXG5cdFx0XHQjIOiwg+eUqGdldEZsb3dQZXJtaXNzaW9uc+aWueazle+8jOeci+i/lOWbnueahOe7k+aenOS4reaYr+WQpuaciWFkbWluXHJcblx0XHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dfaWQsIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0XHQjIHNwYWNl55qEYWRtaW4sIOWhq+WNleS6uiDnlLPor7fkurog5pyJ5p2D6ZmQIOWPlua2iOeUs+ivt1xyXG5cdFx0XHRpZiBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpIG9yIHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpIG9yIGluc3RhbmNlLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXIgb3IgaW5zdGFuY2UuYXBwbGljYW50IGlzIGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdGlmIG5vdCB0ZXJtaW5hdGVfcmVhc29uXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLFwi6L+Y5pyq5aGr5YaZ5by65Yi257uT5p2f55Sz6K+35Y2V55qE55CG55Sx77yM5pON5L2c5aSx6LSlXCIpXHJcblxyXG5cdFx0XHRcdGluc3RhbmNlX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKS0+XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgaXMgZmFsc2VcclxuXHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlc1xyXG5cdFx0XHRcdGkgPSAwXHJcblx0XHRcdFx0d2hpbGUgaSA8IHRyYWNlcy5sZW5ndGhcclxuXHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5pc19maW5pc2hlZCBpcyBmYWxzZVxyXG5cdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXHJcblx0XHRcdFx0XHRcdHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdGggPSAwXHJcblx0XHRcdFx0XHRcdHdoaWxlIGggPCB0cmFjZXNbaV0uYXBwcm92ZXMubGVuZ3RoXHJcblx0XHRcdFx0XHRcdFx0aWYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNlLmFwcHJvdmXorrDlvZVcclxuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmp1ZGdlID0gbnVsbFxyXG5cdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmRlc2NyaXB0aW9uID0gbnVsbFxyXG5cdFx0XHRcdFx0XHRcdGgrK1xyXG5cdFx0XHRcdFx0XHQjIOaPkuWFpeW9k+WJjVRyYWNlIHRyYWNlLmFwcHJvdmXorrDlvZXvvJrlvZN0cmFjZS50eXBl5Li65Y+W5Zue44CB5by65Yi257uT5p2f5pe277yMaXNfcmVhZD10cnVl5LiUcmVhZF9kYXRl5Li65b2T5YmN5pe26Ze044CCXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS50cmFjZSA9IGluc3RhbmNlX3RyYWNlLl9pZFxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBpbnN0YW5jZV90cmFjZS5kdWVfZGF0ZVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnJlYWRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmRlc2NyaXB0aW9uID0gdGVybWluYXRlX3JlYXNvblxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuY29zdF90aW1lID0gbmV3QXBwcm92ZS5maW5pc2hfZGF0ZSAtIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxyXG5cdFx0XHRcdFx0aSsrXHJcblxyXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcclxuXHRcdFx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtpbnN0YW5jZV90cmFjZS5faWRdXHJcblx0XHRcdFx0IyB0eXBlLS0t5YGc55SoXHJcblx0XHRcdFx0IyBuZXdUcmFjZS50eXBlID0gXCJ0ZXJtaW5hdGVkXCJcclxuXHRcdFx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gZmxvd192ZXJfZW5kX3N0ZXAuX2lkXHJcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWVcclxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0bmV3VHJhY2UuZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRuZXdUcmFjZS5qdWRnZSA9IFwidGVybWluYXRlZFwiXHJcblxyXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwiY29tcGxldGVkXCJcclxuXHRcdFx0XHRzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIlxyXG5cdFx0XHRcdG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXHJcblx0XHRcdFx0b2xkX2NjX3VzZXJzID0gaW5zdGFuY2UuY2NfdXNlcnNcclxuXHRcdFx0XHRvbGRfb3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzXHJcblx0XHRcdFx0dGVtcFVzZXJzID0gbmV3IEFycmF5XHJcblx0XHRcdFx0Xy5lYWNoKGluc3RhbmNlX3RyYWNlLmFwcHJvdmVzLCAobmZ0X2FwcHJvdmUpLT5cclxuXHRcdFx0XHRcdHRlbXBVc2Vycy5wdXNoKG5mdF9hcHByb3ZlLnVzZXIpXHJcblx0XHRcdFx0XHR0ZW1wVXNlcnMucHVzaChuZnRfYXBwcm92ZS5oYW5kbGVyKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQodGVtcFVzZXJzKSlcclxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdFx0XHRzZXRPYmouY2NfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcclxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHR0cmFjZXMucHVzaChuZXdUcmFjZSlcclxuXHRcdFx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzXHJcblxyXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWVcclxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2VcclxuXHJcblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcclxuXHRcdFx0XHRpZiByXHJcblx0XHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRcdFx0I+mAmuefpeWhq+WNleS6uuOAgeeUs+ivt+S6ulxyXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJzdWJtaXRfdGVybWluYXRlX2FwcGxpY2FudFwiLCBpbnMsIHRlcm1pbmF0ZV9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cclxuXHRcdFx0XHRcdCPlj5HpgIHnu5nlvoXlpITnkIbkurog6KKr5Lyg6ZiF5Lq6XHJcblx0XHRcdFx0XHRpZiBvbGRfaW5ib3hfdXNlcnNcclxuXHRcdFx0XHRcdFx0Xy5lYWNoKF8udW5pcShvbGRfaW5ib3hfdXNlcnMuY29uY2F0KG9sZF9jY191c2VycykpLCAodXNlcl9pZCktPlxyXG5cdFx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1c2VyX2lkKVxyXG5cdFx0XHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3Rlcm1pbmF0ZScsIGN1cnJlbnRfdXNlciwgW10pXHJcblxyXG5cdFx0I+WPkemAgea2iOaBr+e7meW9k+WJjeeUqOaIt1xyXG5cdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdFx0ZGF0YToge31cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cclxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy90ZXJtaW5hdGUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGZsb3csIGZsb3dfaWQsIGZsb3dfdmVyX2VuZF9zdGVwLCBmbG93X3ZlcnMsIGgsIGksIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2Zsb3dfdmVyLCBpbnN0YW5jZV9pZCwgaW5zdGFuY2VfdHJhY2UsIG5ld0FwcHJvdmUsIG5ld1RyYWNlLCBub3csIG9sZF9jY191c2Vycywgb2xkX2luYm94X3VzZXJzLCBvbGRfb3V0Ym94X3VzZXJzLCBwZXJtaXNzaW9ucywgciwgc2V0T2JqLCBzcGFjZSwgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHNwYWNlX3VzZXJfb3JnX2luZm8sIHRlbXBVc2VycywgdGVybWluYXRlX3JlYXNvbiwgdHJhY2VzO1xuICAgICAgdGVybWluYXRlX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1widGVybWluYXRlX3JlYXNvblwiXTtcbiAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl07XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuICAgICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZCk7XG4gICAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKTtcbiAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcik7XG4gICAgICBpbnN0YW5jZV9mbG93X3ZlciA9IG51bGw7XG4gICAgICBmbG93X3Zlcl9lbmRfc3RlcCA9IG51bGw7XG4gICAgICBmbG93X3ZlcnMgPSBuZXcgQXJyYXk7XG4gICAgICBmbG93X3ZlcnMucHVzaChmbG93LmN1cnJlbnQpO1xuICAgICAgZmxvd192ZXJzID0gZmxvd192ZXJzLmNvbmNhdChmbG93Lmhpc3RvcnlzKTtcbiAgICAgIGluc3RhbmNlX2Zsb3dfdmVyID0gXy5maW5kKGZsb3dfdmVycywgZnVuY3Rpb24oZl92ZXIpIHtcbiAgICAgICAgcmV0dXJuIGZfdmVyLl9pZCA9PT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICAgICAgfSk7XG4gICAgICBpZiAoIWluc3RhbmNlX2Zsb3dfdmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2V5a+55bqU5rWB56iL54mI5pysXCIpO1xuICAgICAgfVxuICAgICAgZmxvd192ZXJfZW5kX3N0ZXAgPSBfLmZpbmQoaW5zdGFuY2VfZmxvd192ZXIuc3RlcHMsIGZ1bmN0aW9uKGZfc3RlcCkge1xuICAgICAgICByZXR1cm4gZl9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJlbmRcIjtcbiAgICAgIH0pO1xuICAgICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd19pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIGlmIChwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpIHx8IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpIHx8IGluc3RhbmNlLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyIHx8IGluc3RhbmNlLmFwcGxpY2FudCA9PT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgIGlmICghdGVybWluYXRlX3JlYXNvbikge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6L+Y5pyq5aGr5YaZ5by65Yi257uT5p2f55Sz6K+35Y2V55qE55CG55Sx77yM5pON5L2c5aSx6LSlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgICByZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgPT09IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0cmFjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRyYWNlc1tpXS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICB0cmFjZXNbaV0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBoID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChoIDwgdHJhY2VzW2ldLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpZiAodHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmRlc2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudHJhY2UgPSBpbnN0YW5jZV90cmFjZS5faWQ7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5kdWVfZGF0ZSA9IGluc3RhbmNlX3RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5kZXNjcmlwdGlvbiA9IHRlcm1pbmF0ZV9yZWFzb247XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmNvc3RfdGltZSA9IG5ld0FwcHJvdmUuZmluaXNoX2RhdGUgLSBuZXdBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2luc3RhbmNlX3RyYWNlLl9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IGZsb3dfdmVyX2VuZF9zdGVwLl9pZDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWU7XG4gICAgICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICAgICAgICBzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgb2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICAgIG9sZF9jY191c2VycyA9IGluc3RhbmNlLmNjX3VzZXJzO1xuICAgICAgICBvbGRfb3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzO1xuICAgICAgICB0ZW1wVXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIF8uZWFjaChpbnN0YW5jZV90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24obmZ0X2FwcHJvdmUpIHtcbiAgICAgICAgICB0ZW1wVXNlcnMucHVzaChuZnRfYXBwcm92ZS51c2VyKTtcbiAgICAgICAgICByZXR1cm4gdGVtcFVzZXJzLnB1c2gobmZ0X2FwcHJvdmUuaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQodGVtcFVzZXJzKSk7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgc2V0T2JqLmNjX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgdHJhY2VzLnB1c2gobmV3VHJhY2UpO1xuICAgICAgICBzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBmbG93X3Zlcl9lbmRfc3RlcC5uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2U7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJzdWJtaXRfdGVybWluYXRlX2FwcGxpY2FudFwiLCBpbnMsIHRlcm1pbmF0ZV9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgICBpZiAob2xkX2luYm94X3VzZXJzKSB7XG4gICAgICAgICAgICBfLmVhY2goXy51bmlxKG9sZF9pbmJveF91c2Vycy5jb25jYXQob2xkX2NjX3VzZXJzKSksIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1c2VyX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICd0ZXJtaW5hdGUnLCBjdXJyZW50X3VzZXIsIFtdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWFzc2lnbicsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFsnX2lkJ11cclxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXHJcblx0XHRcdCMg6aqM6K+BaW5zdGFuY2XkuLrlrqHmoLjkuK3nirbmgIFcclxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSlcclxuXHRcdFx0IyDpqozor4HlvZPliY3miafooYzovaznrb7moLjnmoR0cmFjZeacque7k+adn1xyXG5cdFx0XHRsYXN0X3RyYWNlX2Zyb21fY2xpZW50ID0gXy5sYXN0KGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdKVxyXG5cdFx0XHRsYXN0X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKHQpIC0+XHJcblx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIGxhc3RfdHJhY2VfZnJvbV9jbGllbnRbXCJfaWRcIl1cclxuXHRcdFx0KVxyXG5cdFx0XHRpZiBsYXN0X3RyYWNlLmlzX2ZpbmlzaGVkIGlzIHRydWVcclxuXHRcdFx0XHRyZXR1cm5cclxuXHJcblx0XHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxyXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IHNwYWNlX2lkIH0sIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXHJcblx0XHRcdGlmIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIilcclxuXHJcblx0XHRcdGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcclxuXHRcdFx0aW5ib3hfdXNlcnNfZnJvbV9jbGllbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdXHJcblx0XHRcdHJlYXNzaWduX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVhc3NpZ25fcmVhc29uXCJdXHJcblx0XHRcdG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQpXHJcblx0XHRcdG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2Vyc19mcm9tX2NsaWVudCwgaW5ib3hfdXNlcnMpXHJcblx0XHRcdCMg6IulYXNzaWduZWU95Y6faW5ib3hfdXNlcnPvvIzor7TmmI7kuI3pnIDopoHmiafooYzovaznrb7moLjvvIzns7vnu5/ku4DkuYjpg73kuI3lgZpcclxuXHRcdFx0cmV0dXJuIGlmIG5vdF9pbl9pbmJveF91c2Vycy5sZW5ndGggaXMgMCBhbmQgbmV3X2luYm94X3VzZXJzLmxlbmd0aCBpcyAwXHJcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3RcclxuXHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHRcdFx0aSA9IDBcclxuXHRcdFx0YXBwcm92ZV91c2Vyc19oYW5kbGVycyA9IFtdXHJcblx0XHRcdHdoaWxlIGkgPCBsYXN0X3RyYWNlLmFwcHJvdmVzLmxlbmd0aFxyXG5cdFx0XHRcdGlmIG5vdF9pbl9pbmJveF91c2Vycy5pbmNsdWRlcyhsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpXHJcblx0XHRcdFx0XHRpZiBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkIGlzIGZhbHNlIGFuZCBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgaXNudCBcImNjXCIgYW5kIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSBpc250IFwiZGlzdHJpYnV0ZVwiXHJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5qdWRnZSA9IFwidGVybWluYXRlZFwiXHJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZGVzY3JpcHRpb24gPSBcIlwiXHJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uY29zdF90aW1lID0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSAtIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0XHRhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS51c2VyKVxyXG5cdFx0XHRcdFx0XHRhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5oYW5kbGVyKVxyXG5cdFx0XHRcdGkrK1xyXG5cdFx0XHQjIOWcqOWQjOS4gHRyYWNl5LiL5o+S5YWl6L2s562+5qC45pON5L2c6ICF55qEYXBwcm92ZeiusOW9lVxyXG5cdFx0XHRjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cdFx0XHRjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsIGZ1bGxuYW1lOiAxIH0gfSlcclxuXHRcdFx0YXNzaWduZWVfYXBwciA9IG5ldyBPYmplY3RcclxuXHRcdFx0YXNzaWduZWVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZFxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0YXNzaWduZWVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cclxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIucmVhZF9kYXRlID0gbm93XHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuanVkZ2UgPSBcInJlYXNzaWduZWRcIlxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmlzX3JlYWQgPSB0cnVlXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuZGVzY3JpcHRpb24gPSByZWFzc2lnbl9yZWFzb25cclxuXHRcdFx0YXNzaWduZWVfYXBwci5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmNvc3RfdGltZSA9IGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgLSBhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGVcclxuXHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKGFzc2lnbmVlX2FwcHIpXHJcblx0XHRcdCMg5a+55paw5aKe55qE5q+P5L2N5b6F5a6h5qC45Lq677yM5ZCE5aKe5Yqg5LiA5p2h5paw55qEYXBwcm92ZVxyXG5cdFx0XHRfLmVhY2gobmV3X2luYm94X3VzZXJzLCAodXNlcl9pZCkgLT5cclxuXHRcdFx0XHRuZXdfdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcl9pZCwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCB1c2VyX2lkKVxyXG5cdFx0XHRcdHVzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHNwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7IGZpZWxkczogeyBuYW1lOiAxLCBmdWxsbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0bmV3X2FwcHIgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0bmV3X2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdG5ld19hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZVxyXG5cdFx0XHRcdG5ld19hcHByLnRyYWNlID0gbGFzdF90cmFjZS5faWRcclxuXHRcdFx0XHRuZXdfYXBwci5pc19maW5pc2hlZCA9IGZhbHNlXHJcblx0XHRcdFx0bmV3X2FwcHIudXNlciA9IHVzZXJfaWRcclxuXHRcdFx0XHRuZXdfYXBwci51c2VyX25hbWUgPSBuZXdfdXNlci5uYW1lXHJcblxyXG5cdFx0XHRcdGhhbmRsZXJfaWQgPSB1c2VyX2lkXHJcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gbmV3X3VzZXJcclxuXHRcdFx0XHRhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJfaWQpXHJcblx0XHRcdFx0aWYgYWdlbnRcclxuXHRcdFx0XHRcdGluYm94X3VzZXJzX2Zyb21fY2xpZW50W2luYm94X3VzZXJzX2Zyb21fY2xpZW50LmluZGV4T2YodXNlcl9pZCldID0gYWdlbnRcclxuXHRcdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudFxyXG5cdFx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYWdlbnQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0XHRuZXdfYXBwci5hZ2VudCA9IGFnZW50XHJcblxyXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXIgPSBoYW5kbGVyX2lkXHJcblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uXHJcblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLm5hbWVcclxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXHJcblx0XHRcdFx0bmV3X2FwcHIuZnJvbV91c2VyID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0bmV3X2FwcHIuZnJvbV91c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0bmV3X2FwcHIudHlwZSA9IFwicmVhc3NpZ25cIlxyXG5cdFx0XHRcdG5ld19hcHByLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRuZXdfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGVcclxuXHRcdFx0XHRuZXdfYXBwci5pc19yZWFkID0gZmFsc2VcclxuXHRcdFx0XHRuZXdfYXBwci5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdFx0bmV3X2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld19hcHByKVxyXG5cdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChuZXdfYXBwcilcclxuXHRcdFx0KVxyXG5cclxuXHRcdFx0aW5zdGFuY2Uub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxyXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMpXHJcblx0XHRcdHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKVxyXG5cdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBpbmJveF91c2Vyc19mcm9tX2NsaWVudFxyXG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcclxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXHJcblx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gbGFzdF90cmFjZS5hcHByb3Zlc1xyXG5cdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7IF9pZDogaW5zdGFuY2VfaWQsIFwidHJhY2VzLl9pZFwiOiBsYXN0X3RyYWNlLl9pZCB9LCB7ICRzZXQ6IHNldE9iaiB9KVxyXG5cdFx0XHRpZiByXHJcblx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcclxuXHRcdFx0XHQjIOe7meiiq+WIoOmZpOeahGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXHJcblx0XHRcdFx0Xy5lYWNoKG5vdF9pbl9pbmJveF91c2VycywgKHVzZXJfaWQpIC0+XHJcblx0XHRcdFx0XHRpZiB1c2VyX2lkIGlzbnQgY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHQjIOaPkOWPlmluc3RhbmNlcy5vdXRib3hfdXNlcnPmlbDnu4TlkozloavljZXkurrjgIHnlLPor7fkurpcclxuXHRcdFx0XHRfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KVxyXG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpXHJcblx0XHRcdFx0X3VzZXJzID0gXy51bmlxKF91c2Vycy5jb25jYXQoaW5zLm91dGJveF91c2VycykpXHJcblx0XHRcdFx0Xy5lYWNoKF91c2VycywgKHVzZXJfaWQpIC0+XHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcclxuXHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdCMg57uZ5paw5Yqg5YWl55qEaW5ib3hfdXNlcnPlj5HpgIFwdXNoIG1lc3NhZ2VcclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJlYXNzaWduX25ld19pbmJveF91c2Vyc1wiLCBpbnMsIHJlYXNzaWduX3JlYXNvbiwgY3VycmVudF91c2VyX2luZm8pXHJcblxyXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmVhc3NpZ24nLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2VycylcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7fVxyXG5cdFx0fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5tZXNzYWdlIH1dIH1cclxuXHRcdH1cclxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWFzc2lnbicsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgX3VzZXJzLCBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLCBhc3NpZ25lZV9hcHByLCBjdXJyZW50X3NwYWNlX3VzZXIsIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24sIGksIGluYm94X3VzZXJzLCBpbmJveF91c2Vyc19mcm9tX2NsaWVudCwgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIGxhc3RfdHJhY2UsIGxhc3RfdHJhY2VfZnJvbV9jbGllbnQsIG5ld19pbmJveF91c2Vycywgbm90X2luX2luYm94X3VzZXJzLCBub3csIHBlcm1pc3Npb25zLCByLCByZWFzc2lnbl9yZWFzb24sIHNldE9iaiwgc3BhY2UsIHNwYWNlX2lkO1xuICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFsnX2lkJ107XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpO1xuICAgICAgbGFzdF90cmFjZV9mcm9tX2NsaWVudCA9IF8ubGFzdChpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSk7XG4gICAgICBsYXN0X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdC5faWQgPT09IGxhc3RfdHJhY2VfZnJvbV9jbGllbnRbXCJfaWRcIl07XG4gICAgICB9KTtcbiAgICAgIGlmIChsYXN0X3RyYWNlLmlzX2ZpbmlzaGVkID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcik7XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBzcGFjZV9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBhZG1pbnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKTtcbiAgICAgIH1cbiAgICAgIGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICBpbmJveF91c2Vyc19mcm9tX2NsaWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl07XG4gICAgICByZWFzc2lnbl9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlYXNzaWduX3JlYXNvblwiXTtcbiAgICAgIG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQpO1xuICAgICAgbmV3X2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzX2Zyb21fY2xpZW50LCBpbmJveF91c2Vycyk7XG4gICAgICBpZiAobm90X2luX2luYm94X3VzZXJzLmxlbmd0aCA9PT0gMCAmJiBuZXdfaW5ib3hfdXNlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIGkgPSAwO1xuICAgICAgYXBwcm92ZV91c2Vyc19oYW5kbGVycyA9IFtdO1xuICAgICAgd2hpbGUgKGkgPCBsYXN0X3RyYWNlLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICBpZiAobm90X2luX2luYm94X3VzZXJzLmluY2x1ZGVzKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcikpIHtcbiAgICAgICAgICBpZiAobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS50eXBlICE9PSBcImNjXCIgJiYgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS50eXBlICE9PSBcImRpc3RyaWJ1dGVcIikge1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5kZXNjcmlwdGlvbiA9IFwiXCI7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmNvc3RfdGltZSA9IGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZmluaXNoX2RhdGUgLSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS51c2VyKTtcbiAgICAgICAgICAgIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMucHVzaChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFzc2lnbmVlX2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgYXNzaWduZWVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgYXNzaWduZWVfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2U7XG4gICAgICBhc3NpZ25lZV9hcHByLnRyYWNlID0gbGFzdF90cmFjZS5faWQ7XG4gICAgICBhc3NpZ25lZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIGFzc2lnbmVlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICBhc3NpZ25lZV9hcHByLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgYXNzaWduZWVfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGU7XG4gICAgICBhc3NpZ25lZV9hcHByLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgIGFzc2lnbmVlX2FwcHIuanVkZ2UgPSBcInJlYXNzaWduZWRcIjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmRlc2NyaXB0aW9uID0gcmVhc3NpZ25fcmVhc29uO1xuICAgICAgYXNzaWduZWVfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgYXNzaWduZWVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgYXNzaWduZWVfYXBwci5jb3N0X3RpbWUgPSBhc3NpZ25lZV9hcHByLmZpbmlzaF9kYXRlIC0gYXNzaWduZWVfYXBwci5zdGFydF9kYXRlO1xuICAgICAgbGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKGFzc2lnbmVlX2FwcHIpO1xuICAgICAgXy5lYWNoKG5ld19pbmJveF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICB2YXIgYWdlbnQsIGhhbmRsZXJfaWQsIGhhbmRsZXJfaW5mbywgbmV3X2FwcHIsIG5ld191c2VyLCBzcGFjZV91c2VyLCB1c2VyX29yZ2FuaXphdGlvbjtcbiAgICAgICAgbmV3X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHVzZXJfaWQsIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIHVzZXJfaWQpO1xuICAgICAgICB1c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShzcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3X2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2U7XG4gICAgICAgIG5ld19hcHByLnRyYWNlID0gbGFzdF90cmFjZS5faWQ7XG4gICAgICAgIG5ld19hcHByLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld19hcHByLnVzZXIgPSB1c2VyX2lkO1xuICAgICAgICBuZXdfYXBwci51c2VyX25hbWUgPSBuZXdfdXNlci5uYW1lO1xuICAgICAgICBoYW5kbGVyX2lkID0gdXNlcl9pZDtcbiAgICAgICAgaGFuZGxlcl9pbmZvID0gbmV3X3VzZXI7XG4gICAgICAgIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgdXNlcl9pZCk7XG4gICAgICAgIGlmIChhZ2VudCkge1xuICAgICAgICAgIGluYm94X3VzZXJzX2Zyb21fY2xpZW50W2luYm94X3VzZXJzX2Zyb21fY2xpZW50LmluZGV4T2YodXNlcl9pZCldID0gYWdlbnQ7XG4gICAgICAgICAgaGFuZGxlcl9pZCA9IGFnZW50O1xuICAgICAgICAgIGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgICAgX2lkOiBhZ2VudFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbmV3X2FwcHIuYWdlbnQgPSBhZ2VudDtcbiAgICAgICAgfVxuICAgICAgICBuZXdfYXBwci5oYW5kbGVyID0gaGFuZGxlcl9pZDtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5uYW1lO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgICBuZXdfYXBwci5mcm9tX3VzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIG5ld19hcHByLmZyb21fdXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgbmV3X2FwcHIudHlwZSA9IFwicmVhc3NpZ25cIjtcbiAgICAgICAgbmV3X2FwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3X2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICBuZXdfYXBwci5pc19yZWFkID0gZmFsc2U7XG4gICAgICAgIG5ld19hcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgIG5ld19hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld19hcHByKTtcbiAgICAgICAgcmV0dXJuIGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChuZXdfYXBwcik7XG4gICAgICB9KTtcbiAgICAgIGluc3RhbmNlLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcik7XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMpO1xuICAgICAgc2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpO1xuICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQ7XG4gICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlc1wiXSA9IGxhc3RfdHJhY2UuYXBwcm92ZXM7XG4gICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiBsYXN0X3RyYWNlLl9pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgIH0pO1xuICAgICAgaWYgKHIpIHtcbiAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICBfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgaWYgKHVzZXJfaWQgIT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5hcHBsaWNhbnQpO1xuICAgICAgICBfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKTtcbiAgICAgICAgX3VzZXJzID0gXy51bmlxKF91c2Vycy5jb25jYXQoaW5zLm91dGJveF91c2VycykpO1xuICAgICAgICBfLmVhY2goX3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmVhc3NpZ25fbmV3X2luYm94X3VzZXJzXCIsIGlucywgcmVhc3NpZ25fcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlYXNzaWduJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWxvY2F0ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxyXG5cclxuXHRcdFx0bGFzdF90cmFjZSA9IF8ubGFzdChpbnN0YW5jZS50cmFjZXMpXHJcblxyXG5cdFx0XHQjIOmqjOivgWxvZ2luIHVzZXJfaWTlr7nor6XmtYHnqIvmnInnrqHnkIbnlLPor7fljZXnmoTmnYPpmZBcclxuXHRcdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKVxyXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGluc3RhbmNlLnNwYWNlLCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxyXG5cdFx0XHRpZiAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpXHJcblxyXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXHJcblx0XHRcdGluc3RhbmNlX2lkID0gbGFzdF90cmFjZS5pbnN0YW5jZVxyXG5cdFx0XHRpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXHJcblx0XHRcdHJlbG9jYXRlX2luYm94X3VzZXJzID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9pbmJveF91c2Vyc1wiXVxyXG5cdFx0XHRyZWxvY2F0ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9jb21tZW50XCJdXHJcblx0XHRcdHJlbG9jYXRlX25leHRfc3RlcCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfbmV4dF9zdGVwXCJdXHJcblx0XHRcdG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgcmVsb2NhdGVfaW5ib3hfdXNlcnMpXHJcblx0XHRcdG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShyZWxvY2F0ZV9pbmJveF91c2VycywgaW5ib3hfdXNlcnMpXHJcblxyXG5cdFx0XHRhcHByb3ZlX3VzZXJzID0gW11cclxuXHJcblx0XHRcdCMg6I635Y+W5LiA5LiqZmxvd1xyXG5cdFx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXHJcblx0XHRcdG5leHRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcmVsb2NhdGVfbmV4dF9zdGVwKVxyXG5cdFx0XHRuZXh0X3N0ZXBfdHlwZSA9IG5leHRfc3RlcC5zdGVwX3R5cGVcclxuXHRcdFx0bmV4dF9zdGVwX25hbWUgPSBuZXh0X3N0ZXAubmFtZVxyXG5cdFx0XHRjdXJyZW50X3NldHAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcClcclxuXHRcdFx0Y3VycmVudF9zZXRwX3R5cGUgPSBjdXJyZW50X3NldHAuc3RlcF90eXBlXHJcblxyXG5cdFx0XHR0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXNcclxuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0XHQjIOmHjeWumuS9jeeahOaXtuWAmeS9v+eUqGFwcHJvdmUudmFsdWVz5ZCI5bm2IGluc3RhbmNlLnZhbHVlc+eUn+aIkOaWsOeahGluc3RhbmNlLnZhbHVlcyAjMTMyOFxyXG5cdFx0XHRzZXRPYmoudmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxyXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxyXG5cdFx0XHRpID0gMFxyXG5cdFx0XHR3aGlsZSBpIDwgdHJhY2VzLmxlbmd0aFxyXG5cdFx0XHRcdGlmIHRyYWNlc1tpXS5faWQgaXMgbGFzdF90cmFjZS5faWRcclxuXHRcdFx0XHRcdGlmIG5vdCB0cmFjZXNbaV0uYXBwcm92ZXNcclxuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzID0gbmV3IEFycmF5XHJcblx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNlLmFwcHJvdmXorrDlvZVcclxuXHRcdFx0XHRcdGggPSAwXHJcblx0XHRcdFx0XHR3aGlsZSBoIDwgdHJhY2VzW2ldLmFwcHJvdmVzLmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgaXMgZmFsc2UgYW5kIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlIGlzbnQgXCJjY1wiIGFuZCB0cmFjZXNbaV0uYXBwcm92ZXNbaF0udHlwZSBpc250IFwiZGlzdHJpYnV0ZVwiXHJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0ucmVhZF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfcmVhZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uY29zdF90aW1lID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlIC0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdFx0XHRhcHByb3ZlX3VzZXJzLnB1c2godHJhY2VzW2ldLmFwcHJvdmVzW2hdLnVzZXIpXHJcblxyXG5cdFx0XHRcdFx0XHRcdCMgYmVnaW4g6KKr6YeN5a6a5L2N57uZQe+8jOWGjeiiq+mHjeWumuS9jei1sO+8jOS5i+WJjUHnmoTmhI/op4HlnKjmhI/op4HmoI/kuK3mmL7npLrkuI3lh7rmnaXkuobjgIIgIzE5MjFcclxuXHRcdFx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc2lnbl9zaG93ID09IHRydWVcclxuXHRcdFx0XHRcdFx0XHRcdHRhID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdXHJcblx0XHRcdFx0XHRcdFx0XHRzYW1lVHJhY2VzID0gXy5maWx0ZXIgdHJhY2VzLCAodCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdC5zdGVwID09IHRyYWNlc1tpXS5zdGVwXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0bCA9IHNhbWVUcmFjZXMubGVuZ3RoIC0gMVxyXG5cdFx0XHRcdFx0XHRcdFx0c2lnblNob3dBcHByb3ZlSWQgPSBudWxsXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgbCA+IC0xXHJcblx0XHRcdFx0XHRcdFx0XHRcdF8uZWFjaCBzYW1lVHJhY2VzW2xdLmFwcHJvdmVzLCAoYSktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIGEudXNlciA9PSB0YS51c2VyICYmIGEuanVkZ2UgIT0gXCJ0ZXJtaW5hdGVkXCIgJiYgYS5kZXNjcmlwdGlvbiAmJiAhc2lnblNob3dBcHByb3ZlSWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNpZ25TaG93QXBwcm92ZUlkID0gYS5faWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0bC0tXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgc2lnblNob3dBcHByb3ZlSWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGkgPSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlIHRpIDwgdHJhY2VzLmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFoID0gMFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlIGFoIDwgdHJhY2VzW3RpXS5hcHByb3Zlcy5sZW5ndGhcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIHRyYWNlc1t0aV0uYXBwcm92ZXNbYWhdLl9pZCA9PSBzaWduU2hvd0FwcHJvdmVJZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbdGldLmFwcHJvdmVzW2FoXS5zaWduX3Nob3cgPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWgrK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRpKytcclxuXHRcdFx0XHRcdFx0XHQjIGVuZCDooqvph43lrprkvY3nu5lB77yM5YaN6KKr6YeN5a6a5L2N6LWw77yM5LmL5YmNQeeahOaEj+ingeWcqOaEj+ingeagj+S4reaYvuekuuS4jeWHuuadpeS6huOAgiAjMTkyMVxyXG5cclxuXHRcdFx0XHRcdFx0aCsrXHJcblxyXG5cdFx0XHRcdFx0IyDlnKjlkIzkuIB0cmFjZeS4i+aPkuWFpemHjeWumuS9jeaTjeS9nOiAheeahGFwcHJvdmXorrDlvZVcclxuXHRcdFx0XHRcdGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdFx0XHRjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHsgZmllbGRzOiB7IG5hbWU6IDEgLCBmdWxsbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIudHJhY2UgPSB0cmFjZXNbaV0uX2lkXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci51c2VyID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvblxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmR1ZV9kYXRlID0gdHJhY2VzW2ldLmR1ZV9kYXRlXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnJlYWRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5qdWRnZSA9IFwicmVsb2NhdGVkXCJcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaXNfcmVhZCA9IHRydWVcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuZGVzY3JpcHRpb24gPSByZWxvY2F0ZV9jb21tZW50XHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5jb3N0X3RpbWUgPSByZWxvY2F0ZV9hcHByLmZpbmlzaF9kYXRlIC0gcmVsb2NhdGVfYXBwci5zdGFydF9kYXRlXHJcblx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChyZWxvY2F0ZV9hcHByKVxyXG5cclxuXHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2XorrDlvZVcclxuXHRcdFx0XHRcdHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdHRyYWNlc1tpXS5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0dHJhY2VzW2ldLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIlxyXG5cclxuXHRcdFx0XHRpKytcclxuXHJcblx0XHRcdGlmIG5leHRfc3RlcF90eXBlIGlzIFwiZW5kXCJcclxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXHJcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdXHJcblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0bmV3VHJhY2Uuc3RlcCA9IHJlbG9jYXRlX25leHRfc3RlcFxyXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZVxyXG5cdFx0XHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cclxuXHRcdFx0XHQjIOabtOaWsGluc3RhbmNl6K6w5b2VXHJcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIlxyXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IFtdXHJcblx0XHRcdFx0c2V0T2JqLmZpbmFsX2RlY2lzaW9uID0gXCJ0ZXJtaW5hdGVkXCJcclxuXHRcdFx0XHRzZXRPYmouZmluaXNoX2RhdGUgPSBuZXcgRGF0ZVxyXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lXHJcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IGZhbHNlXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXHJcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdXHJcblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXBcclxuXHRcdFx0XHRuZXdUcmFjZS5uYW1lID0gbmV4dF9zdGVwX25hbWVcclxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0bmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUobmV4dF9zdGVwLnRpbWVvdXRfaG91cnMpXHJcblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMgPSBbXVxyXG5cdFx0XHRcdF8uZWFjaChyZWxvY2F0ZV9pbmJveF91c2VycywgKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpLT5cclxuXHRcdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2UuYXBwcm92ZeiusOW9lVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2VcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkXHJcblxyXG5cdFx0XHRcdFx0dXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lXHJcblxyXG5cdFx0XHRcdFx0aGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkXHJcblx0XHRcdFx0XHRoYW5kbGVyX2luZm8gPSB1c2VyX2luZm9cclxuXHRcdFx0XHRcdGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpXHJcblx0XHRcdFx0XHRpZiBhZ2VudFxyXG5cdFx0XHRcdFx0XHRyZWxvY2F0ZV9pbmJveF91c2Vyc1tpZHhdID0gYWdlbnRcclxuXHRcdFx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50XHJcblx0XHRcdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFnZW50IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnRcclxuXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXHJcblxyXG5cdFx0XHRcdFx0bmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZClcclxuXHRcdFx0XHRcdCMg6I635Y+WbmV4dF9zdGVwX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cclxuXHRcdFx0XHRcdG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cclxuXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBuZXdUcmFjZS5kdWVfZGF0ZVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2VcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKVxyXG5cdFx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSByZWxvY2F0ZV9pbmJveF91c2Vyc1xyXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiXHJcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWVcclxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBuZXh0X3N0ZXAubGluZXMpXHJcblxyXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXHJcblx0XHRcdGluc3RhbmNlLm91dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQoaW5ib3hfdXNlcnMpLmNvbmNhdChhcHByb3ZlX3VzZXJzKVxyXG5cdFx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2VycylcclxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XHJcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZVxyXG5cdFx0XHR0cmFjZXMucHVzaChuZXdUcmFjZSlcclxuXHRcdFx0c2V0T2JqLnRyYWNlcyA9IHRyYWNlc1xyXG5cclxuXHRcdFx0aWYgc2V0T2JqLnN0YXRlID09ICdjb21wbGV0ZWQnXHJcblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9iaiwgJHVuc2V0OiB7ZmluaXNoX2RhdGU6IDF9fSlcclxuXHJcblx0XHRcdGlmIHJcclxuXHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRcdCMg57uZ6KKr5Yig6Zmk55qEaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXHJcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcclxuXHRcdFx0XHRfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCAodXNlcl9pZCktPlxyXG5cdFx0XHRcdFx0aWYgdXNlcl9pZCBpc250IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcclxuXHRcdFx0XHQpXHJcblx0XHRcdFx0IyDmj5Dlj5ZpbnN0YW5jZXMub3V0Ym94X3VzZXJz5pWw57uE5ZKM5aGr5Y2V5Lq644CB55Sz6K+35Lq6XHJcblx0XHRcdFx0X3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRcdFx0X3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudClcclxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKVxyXG5cdFx0XHRcdF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKVxyXG5cdFx0XHRcdF8uZWFjaChfdXNlcnMsICh1c2VyX2lkKS0+XHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcclxuXHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdCMg57uZ5paw5Yqg5YWl55qEaW5ib3hfdXNlcnPlj5HpgIFwdXNoIG1lc3NhZ2VcclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJlYXNzaWduX25ld19pbmJveF91c2Vyc1wiLCBpbnMsIHJlbG9jYXRlX2NvbW1lbnQsIGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cclxuXHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5FcclxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlbG9jYXRlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHt9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YToge2Vycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbG9jYXRlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBfdXNlcnMsIGFoLCBhcHByb3ZlX3VzZXJzLCBjdXJyZW50X3NldHAsIGN1cnJlbnRfc2V0cF90eXBlLCBjdXJyZW50X3NwYWNlX3VzZXIsIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24sIGZsb3csIGgsIGksIGluYm94X3VzZXJzLCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbCwgbGFzdF90cmFjZSwgbmV3VHJhY2UsIG5ld19pbmJveF91c2VycywgbmV4dF9zdGVwLCBuZXh0X3N0ZXBfbmFtZSwgbmV4dF9zdGVwX3R5cGUsIG5vdF9pbl9pbmJveF91c2Vycywgbm93LCBwZXJtaXNzaW9ucywgciwgcmVsb2NhdGVfYXBwciwgcmVsb2NhdGVfY29tbWVudCwgcmVsb2NhdGVfaW5ib3hfdXNlcnMsIHJlbG9jYXRlX25leHRfc3RlcCwgc2FtZVRyYWNlcywgc2V0T2JqLCBzaWduU2hvd0FwcHJvdmVJZCwgc3BhY2UsIHNwYWNlX2lkLCB0YSwgdGksIHRyYWNlcztcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBsYXN0X3RyYWNlID0gXy5sYXN0KGluc3RhbmNlLnRyYWNlcyk7XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpO1xuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShpbnN0YW5jZS5zcGFjZSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBhZG1pbnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKTtcbiAgICAgIH1cbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBpbnN0YW5jZV9pZCA9IGxhc3RfdHJhY2UuaW5zdGFuY2U7XG4gICAgICBpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgcmVsb2NhdGVfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX2luYm94X3VzZXJzXCJdO1xuICAgICAgcmVsb2NhdGVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfY29tbWVudFwiXTtcbiAgICAgIHJlbG9jYXRlX25leHRfc3RlcCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfbmV4dF9zdGVwXCJdO1xuICAgICAgbm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCByZWxvY2F0ZV9pbmJveF91c2Vycyk7XG4gICAgICBuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UocmVsb2NhdGVfaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzKTtcbiAgICAgIGFwcHJvdmVfdXNlcnMgPSBbXTtcbiAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgICBuZXh0X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHJlbG9jYXRlX25leHRfc3RlcCk7XG4gICAgICBuZXh0X3N0ZXBfdHlwZSA9IG5leHRfc3RlcC5zdGVwX3R5cGU7XG4gICAgICBuZXh0X3N0ZXBfbmFtZSA9IG5leHRfc3RlcC5uYW1lO1xuICAgICAgY3VycmVudF9zZXRwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBsYXN0X3RyYWNlLnN0ZXApO1xuICAgICAgY3VycmVudF9zZXRwX3R5cGUgPSBjdXJyZW50X3NldHAuc3RlcF90eXBlO1xuICAgICAgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldE9iai52YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgdHJhY2VzLmxlbmd0aCkge1xuICAgICAgICBpZiAodHJhY2VzW2ldLl9pZCA9PT0gbGFzdF90cmFjZS5faWQpIHtcbiAgICAgICAgICBpZiAoIXRyYWNlc1tpXS5hcHByb3Zlcykge1xuICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzID0gbmV3IEFycmF5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBoID0gMDtcbiAgICAgICAgICB3aGlsZSAoaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlICE9PSBcImNjXCIgJiYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnR5cGUgIT09IFwiZGlzdHJpYnV0ZVwiKSB7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uY29zdF90aW1lID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlIC0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgIGFwcHJvdmVfdXNlcnMucHVzaCh0cmFjZXNbaV0uYXBwcm92ZXNbaF0udXNlcik7XG4gICAgICAgICAgICAgIGlmICh0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc2lnbl9zaG93ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGEgPSB0cmFjZXNbaV0uYXBwcm92ZXNbaF07XG4gICAgICAgICAgICAgICAgc2FtZVRyYWNlcyA9IF8uZmlsdGVyKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuc3RlcCA9PT0gdHJhY2VzW2ldLnN0ZXA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbCA9IHNhbWVUcmFjZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBzaWduU2hvd0FwcHJvdmVJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGwgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgXy5lYWNoKHNhbWVUcmFjZXNbbF0uYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEudXNlciA9PT0gdGEudXNlciAmJiBhLmp1ZGdlICE9PSBcInRlcm1pbmF0ZWRcIiAmJiBhLmRlc2NyaXB0aW9uICYmICFzaWduU2hvd0FwcHJvdmVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWduU2hvd0FwcHJvdmVJZCA9IGEuX2lkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGwtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNpZ25TaG93QXBwcm92ZUlkKSB7XG4gICAgICAgICAgICAgICAgICB0aSA9IDA7XG4gICAgICAgICAgICAgICAgICB3aGlsZSAodGkgPCB0cmFjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGFoIDwgdHJhY2VzW3RpXS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uX2lkID09PSBzaWduU2hvd0FwcHJvdmVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uc2lnbl9zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYWgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aSsrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgICAgICBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci50cmFjZSA9IHRyYWNlc1tpXS5faWQ7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmR1ZV9kYXRlID0gdHJhY2VzW2ldLmR1ZV9kYXRlO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuanVkZ2UgPSBcInJlbG9jYXRlZFwiO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5kZXNjcmlwdGlvbiA9IHJlbG9jYXRlX2NvbW1lbnQ7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmNvc3RfdGltZSA9IHJlbG9jYXRlX2FwcHIuZmluaXNoX2RhdGUgLSByZWxvY2F0ZV9hcHByLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gocmVsb2NhdGVfYXBwcik7XG4gICAgICAgICAgdHJhY2VzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICB0cmFjZXNbaV0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgdHJhY2VzW2ldLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIjtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBpZiAobmV4dF9zdGVwX3R5cGUgPT09IFwiZW5kXCIpIHtcbiAgICAgICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdO1xuICAgICAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXA7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmFwcHJvdmVzID0gW107XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IFtdO1xuICAgICAgICBzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgc2V0T2JqLmZpbmlzaF9kYXRlID0gbmV3IERhdGU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXA7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUobmV4dF9zdGVwLnRpbWVvdXRfaG91cnMpO1xuICAgICAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgICAgICBfLmVhY2gocmVsb2NhdGVfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpIHtcbiAgICAgICAgICB2YXIgYWdlbnQsIGhhbmRsZXJfaWQsIGhhbmRsZXJfaW5mbywgbmV3QXBwcm92ZSwgbmV4dF9zdGVwX3NwYWNlX3VzZXIsIG5leHRfc3RlcF91c2VyX29yZ19pbmZvLCB1c2VyX2luZm87XG4gICAgICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICBuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgICAgICB1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKG5leHRfc3RlcF91c2VyX2lkLCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgaGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgICAgIGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mbztcbiAgICAgICAgICBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIG5leHRfc3RlcF91c2VyX2lkKTtcbiAgICAgICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgICAgIHJlbG9jYXRlX2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudDtcbiAgICAgICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgICAgIGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICBfaWQ6IGFnZW50XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGhhbmRsZXJfaWQ7XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgICBuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKTtcbiAgICAgICAgICBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhuZXh0X3N0ZXBfc3BhY2VfdXNlcik7XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICBuZXdBcHByb3ZlLmR1ZV9kYXRlID0gbmV3VHJhY2UuZHVlX2RhdGU7XG4gICAgICAgICAgbmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2U7XG4gICAgICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKTtcbiAgICAgICAgICByZXR1cm4gbmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IHJlbG9jYXRlX2luYm94X3VzZXJzO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSB1dWZsb3dNYW5hZ2VyLmdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdChmbG93LnRpbWVvdXRfYXV0b19zdWJtaXQsIG5leHRfc3RlcC5saW5lcyk7XG4gICAgICB9XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChpbmJveF91c2VycykuY29uY2F0KGFwcHJvdmVfdXNlcnMpO1xuICAgICAgc2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpO1xuICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgc2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG4gICAgICB0cmFjZXMucHVzaChuZXdUcmFjZSk7XG4gICAgICBzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuICAgICAgaWYgKHNldE9iai5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmosXG4gICAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICBmaW5pc2hfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocikge1xuICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIF8uZWFjaChub3RfaW5faW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICBpZiAodXNlcl9pZCAhPT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF91c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudCk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpO1xuICAgICAgICBfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSk7XG4gICAgICAgIF8uZWFjaChfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWxvY2F0ZV9jb21tZW50LCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlbG9jYXRlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9hcmNoaXZlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxyXG5cdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdXHJcblx0XHRcdCMg6I635Y+W5LiA5LiqaW5zdGFuY2VcclxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXHJcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2VcclxuXHRcdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0XHQjIOWIpOaWreS4gOS4qmluc3RhbmNl5piv5ZCm5Li65a6M5oiQ5bm25LiU5pyq5b2S5qGj54q25oCBXHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZUZpbmlzaGVkQW5kTm90QXJjaGlldmVkKGluc3RhbmNlKVxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNl5LiL55qE5LiA5LiqdXNlclxyXG5cdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0IyDliKTmlq3kuIDkuKrnlKjmiLfmmK/lkKbmmK/kuIDkuKppbnN0YW5jZeeahOaPkOS6pOiAhSDmiJbogIVzcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VTdWJtaXR0ZXJPckFwcGxpY2FudE9yU3BhY2VBZG1pbihpbnN0YW5jZSwgY3VycmVudF91c2VyLCBzcGFjZSlcclxuXHRcdFx0XHJcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3RcclxuXHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gdHJ1ZVxyXG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZVxyXG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcclxuXHJcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdGRhdGE6IHt9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XHJcblx0XHJcblx0XHQiLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2FyY2hpdmUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgc2V0T2JqLCBzcGFjZSwgc3BhY2VfaWQsIHNwYWNlX3VzZXI7XG4gICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlRmluaXNoZWRBbmROb3RBcmNoaWV2ZWQoaW5zdGFuY2UpO1xuICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4oaW5zdGFuY2UsIGN1cnJlbnRfdXNlciwgc3BhY2UpO1xuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IHRydWU7XG4gICAgICBzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZTtcbiAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLnN0YXJ0dXAgLT5cclxuXHRXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSBcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L2luc3RhbmNlc1wiLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0XHR0cnlcclxuXHRcdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cclxuXHRcdFx0cXVlcnkgPSByZXEucXVlcnlcclxuXHRcdFx0c3BhY2VfaWQgPSBxdWVyeS5zcGFjZV9pZFxyXG5cdFx0XHRmbG93X2lkID0gcXVlcnkuZmxvd19pZFxyXG5cdFx0XHR0eXBlID0gcGFyc2VJbnQocXVlcnkudHlwZSlcclxuXHRcdFx0dGltZXpvbmVvZmZzZXQgPSBwYXJzZUludChxdWVyeS50aW1lem9uZW9mZnNldClcclxuXHJcblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBmbG93X2lkIH0sIHsgZmllbGRzOiB7IGZvcm06IDEgfSB9KVxyXG5cdFx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZmxvdy5mb3JtIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KVxyXG5cclxuXHRcdFx0Zm9ybV9uYW1lID0gZm9ybS5uYW1lXHJcblx0XHRcdGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHNcclxuXHRcdFx0dGFibGVfZmllbGRzID0gbmV3IEFycmF5XHJcblx0XHRcdF8uZWFjaCBmb3JtLmN1cnJlbnQuZmllbGRzLCAoZmllbGQpIC0+XHJcblx0XHRcdFx0aWYgZmllbGQudHlwZSBpcyBcInRhYmxlXCJcclxuXHRcdFx0XHRcdHRhYmxlX2ZpZWxkcy5wdXNoKGZpZWxkKVxyXG5cclxuXHRcdFx0aW5zX3RvX3hscyA9IG5ldyBBcnJheVxyXG5cdFx0XHRzdGFydF9kYXRlID0gbnVsbFxyXG5cdFx0XHRlbmRfZGF0ZSA9IG51bGxcclxuXHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHRcdFx0IyAwLeacrOaciFxyXG5cdFx0XHRpZiB0eXBlIGlzIDBcclxuXHRcdFx0XHRzdGFydF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKVxyXG5cdFx0XHRcdGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXHJcblx0XHRcdFx0XHRmbG93OiBmbG93X2lkLFxyXG5cdFx0XHRcdFx0c3RhdGU6IHsgJG5lOiBcImRyYWZ0XCIgfSxcclxuXHRcdFx0XHRcdHN1Ym1pdF9kYXRlOiB7ICRndGU6IHN0YXJ0X2RhdGUgfVxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdHNvcnQ6IHsgc3VibWl0X2RhdGU6IDEgfVxyXG5cdFx0XHRcdH0pLmZldGNoKClcclxuXHRcdFx0IyAxLeS4iuaciFxyXG5cdFx0XHRlbHNlIGlmIHR5cGUgaXMgMVxyXG5cdFx0XHRcdGxhc3RfbW9udGhfZGF0ZSA9IG5ldyBEYXRlKG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSkgLSAxMDAwICogNjAgKiA2MCAqIDI0KVxyXG5cdFx0XHRcdHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShsYXN0X21vbnRoX2RhdGUuZ2V0RnVsbFllYXIoKSwgbGFzdF9tb250aF9kYXRlLmdldE1vbnRoKCksIDEpXHJcblx0XHRcdFx0ZW5kX2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpXHJcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcclxuXHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHRcdGZsb3c6IGZsb3dfaWQsXHJcblx0XHRcdFx0XHRzdGF0ZTogeyAkbmU6IFwiZHJhZnRcIiB9LFxyXG5cdFx0XHRcdFx0JGFuZDogW3sgc3VibWl0X2RhdGU6IHsgJGd0ZTogc3RhcnRfZGF0ZSB9IH0sIHsgc3VibWl0X2RhdGU6IHsgJGx0ZTogZW5kX2RhdGUgfSB9XVxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdHNvcnQ6IHsgc3VibWl0X2RhdGU6IDEgfVxyXG5cdFx0XHRcdH0pLmZldGNoKClcclxuXHRcdFx0IyAyLeaVtOS4quW5tOW6plxyXG5cdFx0XHRlbHNlIGlmIHR5cGUgaXMgMlxyXG5cdFx0XHRcdHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgMCwgMSlcclxuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xyXG5cdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxyXG5cdFx0XHRcdFx0ZmxvdzogZmxvd19pZCxcclxuXHRcdFx0XHRcdHN0YXRlOiB7ICRuZTogXCJkcmFmdFwiIH0sXHJcblx0XHRcdFx0XHRzdWJtaXRfZGF0ZTogeyAkZ3RlOiBzdGFydF9kYXRlIH1cclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cclxuXHRcdFx0XHR9KS5mZXRjaCgpXHJcblx0XHRcdCMgMy3miYDmnIlcclxuXHRcdFx0ZWxzZSBpZiB0eXBlIGlzIDNcclxuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xyXG5cdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxyXG5cdFx0XHRcdFx0ZmxvdzogZmxvd19pZCxcclxuXHRcdFx0XHRcdHN0YXRlOiB7ICRuZTogXCJkcmFmdFwiIH1cclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cclxuXHRcdFx0XHR9KS5mZXRjaCgpXHJcblxyXG5cdFx0XHRlanMgPSByZXF1aXJlKCdlanMnKVxyXG5cdFx0XHRzdHIgPSBBc3NldHMuZ2V0VGV4dCgnc2VydmVyL2Vqcy9leHBvcnRfaW5zdGFuY2VzLmVqcycpXHJcblxyXG5cdFx0XHQjIOajgOa1i+aYr+WQpuacieivreazlemUmeivr1xyXG5cdFx0XHRlanNMaW50ID0gcmVxdWlyZSgnZWpzLWxpbnQnKVxyXG5cdFx0XHRlcnJvcl9vYmogPSBlanNMaW50LmxpbnQoc3RyLCB7fSlcclxuXHRcdFx0aWYgZXJyb3Jfb2JqXHJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBcIj09PS9hcGkvd29ya2Zsb3cvZXhwb3J0OlwiXHJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBlcnJvcl9vYmpcclxuXHJcblx0XHRcdHRlbXBsYXRlID0gZWpzLmNvbXBpbGUoc3RyKVxyXG5cclxuXHRcdFx0bGFuZyA9ICdlbidcclxuXHRcdFx0aWYgY3VycmVudF91c2VyX2luZm8ubG9jYWxlIGlzICd6aC1jbidcclxuXHRcdFx0XHRsYW5nID0gJ3poLUNOJ1xyXG5cclxuXHRcdFx0cmV0ID0gdGVtcGxhdGUoe1xyXG5cdFx0XHRcdGxhbmc6IGxhbmcsXHJcblx0XHRcdFx0dGltZXpvbmVvZmZzZXQ6IHRpbWV6b25lb2Zmc2V0LFxyXG5cdFx0XHRcdGZvcm1fbmFtZTogZm9ybV9uYW1lLFxyXG5cdFx0XHRcdGZpZWxkczogZmllbGRzLFxyXG5cdFx0XHRcdHRhYmxlX2ZpZWxkczogdGFibGVfZmllbGRzLFxyXG5cdFx0XHRcdGluc190b194bHM6IGluc190b194bHNcclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdGZpbGVOYW1lID0gXCJTdGVlZE9TV29ya2Zsb3dfXCIgKyBtb21lbnQoKS5mb3JtYXQoJ1lZWVlNTURESEhtbScpICsgXCIueGxzXCJcclxuXHRcdFx0cmVzLnNldEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKVxyXG5cdFx0XHRyZXMuc2V0SGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiLCBcImF0dGFjaG1lbnQ7ZmlsZW5hbWU9XCIgKyBlbmNvZGVVUkkoZmlsZU5hbWUpKVxyXG5cdFx0XHRyZXMuZW5kKHJldClcclxuXHRcdGNhdGNoIGVcclxuXHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRcdHJlcy5lbmQoZS5tZXNzYWdlKSIsIk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoXCIvYXBpL3dvcmtmbG93L2V4cG9ydC9pbnN0YW5jZXNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICB2YXIgY3VycmVudF91c2VyX2luZm8sIGUsIGVqcywgZWpzTGludCwgZW5kX2RhdGUsIGVycm9yX29iaiwgZmllbGRzLCBmaWxlTmFtZSwgZmxvdywgZmxvd19pZCwgZm9ybSwgZm9ybV9uYW1lLCBpbnNfdG9feGxzLCBsYW5nLCBsYXN0X21vbnRoX2RhdGUsIG5vdywgcXVlcnksIHJldCwgc3BhY2VfaWQsIHN0YXJ0X2RhdGUsIHN0ciwgdGFibGVfZmllbGRzLCB0ZW1wbGF0ZSwgdGltZXpvbmVvZmZzZXQsIHR5cGU7XG4gICAgdHJ5IHtcbiAgICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgICBxdWVyeSA9IHJlcS5xdWVyeTtcbiAgICAgIHNwYWNlX2lkID0gcXVlcnkuc3BhY2VfaWQ7XG4gICAgICBmbG93X2lkID0gcXVlcnkuZmxvd19pZDtcbiAgICAgIHR5cGUgPSBwYXJzZUludChxdWVyeS50eXBlKTtcbiAgICAgIHRpbWV6b25lb2Zmc2V0ID0gcGFyc2VJbnQocXVlcnkudGltZXpvbmVvZmZzZXQpO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3dfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZm9ybTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93LmZvcm1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAnY3VycmVudC5maWVsZHMnOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZm9ybV9uYW1lID0gZm9ybS5uYW1lO1xuICAgICAgZmllbGRzID0gZm9ybS5jdXJyZW50LmZpZWxkcztcbiAgICAgIHRhYmxlX2ZpZWxkcyA9IG5ldyBBcnJheTtcbiAgICAgIF8uZWFjaChmb3JtLmN1cnJlbnQuZmllbGRzLCBmdW5jdGlvbihmaWVsZCkge1xuICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gXCJ0YWJsZVwiKSB7XG4gICAgICAgICAgcmV0dXJuIHRhYmxlX2ZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpbnNfdG9feGxzID0gbmV3IEFycmF5O1xuICAgICAgc3RhcnRfZGF0ZSA9IG51bGw7XG4gICAgICBlbmRfZGF0ZSA9IG51bGw7XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIGlmICh0eXBlID09PSAwKSB7XG4gICAgICAgIHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpO1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICBmbG93OiBmbG93X2lkLFxuICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAkbmU6IFwiZHJhZnRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VibWl0X2RhdGU6IHtcbiAgICAgICAgICAgICRndGU6IHN0YXJ0X2RhdGVcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMSkge1xuICAgICAgICBsYXN0X21vbnRoX2RhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpIC0gMTAwMCAqIDYwICogNjAgKiAyNCk7XG4gICAgICAgIHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShsYXN0X21vbnRoX2RhdGUuZ2V0RnVsbFllYXIoKSwgbGFzdF9tb250aF9kYXRlLmdldE1vbnRoKCksIDEpO1xuICAgICAgICBlbmRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSk7XG4gICAgICAgIGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAgIGZsb3c6IGZsb3dfaWQsXG4gICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICRuZTogXCJkcmFmdFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICAkYW5kOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiB7XG4gICAgICAgICAgICAgICAgJGd0ZTogc3RhcnRfZGF0ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiB7XG4gICAgICAgICAgICAgICAgJGx0ZTogZW5kX2RhdGVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAyKSB7XG4gICAgICAgIHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgMCwgMSk7XG4gICAgICAgIGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAgIGZsb3c6IGZsb3dfaWQsXG4gICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICRuZTogXCJkcmFmdFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWJtaXRfZGF0ZToge1xuICAgICAgICAgICAgJGd0ZTogc3RhcnRfZGF0ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAzKSB7XG4gICAgICAgIGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAgIGZsb3c6IGZsb3dfaWQsXG4gICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICRuZTogXCJkcmFmdFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9XG4gICAgICBlanMgPSByZXF1aXJlKCdlanMnKTtcbiAgICAgIHN0ciA9IEFzc2V0cy5nZXRUZXh0KCdzZXJ2ZXIvZWpzL2V4cG9ydF9pbnN0YW5jZXMuZWpzJyk7XG4gICAgICBlanNMaW50ID0gcmVxdWlyZSgnZWpzLWxpbnQnKTtcbiAgICAgIGVycm9yX29iaiA9IGVqc0xpbnQubGludChzdHIsIHt9KTtcbiAgICAgIGlmIChlcnJvcl9vYmopIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIj09PS9hcGkvd29ya2Zsb3cvZXhwb3J0OlwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcl9vYmopO1xuICAgICAgfVxuICAgICAgdGVtcGxhdGUgPSBlanMuY29tcGlsZShzdHIpO1xuICAgICAgbGFuZyA9ICdlbic7XG4gICAgICBpZiAoY3VycmVudF91c2VyX2luZm8ubG9jYWxlID09PSAnemgtY24nKSB7XG4gICAgICAgIGxhbmcgPSAnemgtQ04nO1xuICAgICAgfVxuICAgICAgcmV0ID0gdGVtcGxhdGUoe1xuICAgICAgICBsYW5nOiBsYW5nLFxuICAgICAgICB0aW1lem9uZW9mZnNldDogdGltZXpvbmVvZmZzZXQsXG4gICAgICAgIGZvcm1fbmFtZTogZm9ybV9uYW1lLFxuICAgICAgICBmaWVsZHM6IGZpZWxkcyxcbiAgICAgICAgdGFibGVfZmllbGRzOiB0YWJsZV9maWVsZHMsXG4gICAgICAgIGluc190b194bHM6IGluc190b194bHNcbiAgICAgIH0pO1xuICAgICAgZmlsZU5hbWUgPSBcIlN0ZWVkT1NXb3JrZmxvd19cIiArIG1vbWVudCgpLmZvcm1hdCgnWVlZWU1NRERISG1tJykgKyBcIi54bHNcIjtcbiAgICAgIHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIik7XG4gICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiLCBcImF0dGFjaG1lbnQ7ZmlsZW5hbWU9XCIgKyBlbmNvZGVVUkkoZmlsZU5hbWUpKTtcbiAgICAgIHJldHVybiByZXMuZW5kKHJldCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGUgPSBlcnJvcjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICByZXR1cm4gcmVzLmVuZChlLm1lc3NhZ2UpO1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL3VmL3NwYWNlL2NoYW5nZXNldCcsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdHF1ZXJ5ID0gcmVxLnF1ZXJ5XHJcblx0XHRhdXRoX3Rva2VuID0gZGIuYXV0aF90b2tlbnMuZmluZE9uZSh7YXV0aF90b2tlbjogcXVlcnkuYXV0aF90b2tlbn0pXHJcblxyXG5cdFx0aWYgKG5vdCBhdXRoX3Rva2VuKSBvciAobm90IGF1dGhfdG9rZW4uZW5hYmxlZClcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvciA0MDEsICdVbmF1dGhvcml6ZWQnXHJcblxyXG5cdFx0c3luY190b2tlbiA9IHF1ZXJ5W1wic3luY190b2tlblwiXVxyXG5cdFx0Zm9ybWlkcyA9IHF1ZXJ5W1wiZm9ybWlkc1wiXSAjIOmAl+WPt+malOW8gOWtl+espuS4slxyXG5cdFx0aXNfYWRtaW4gPSBxdWVyeVtcImlzX2FkbWluXCJdXHJcblxyXG5cdFx0ZGF0YSA9IHV1Zmxvd01hbmFnZXIuZ2V0X1NwYWNlQ2hhbmdlU2V0KGZvcm1pZHMsIGlzX2FkbWluLCBzeW5jX3Rva2VuKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdFx0ZGF0YTogZGF0YVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfSIsIkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL3VmL3NwYWNlL2NoYW5nZXNldCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdXRoX3Rva2VuLCBkYXRhLCBlLCBmb3JtaWRzLCBpc19hZG1pbiwgcXVlcnksIHN5bmNfdG9rZW47XG4gIHRyeSB7XG4gICAgcXVlcnkgPSByZXEucXVlcnk7XG4gICAgYXV0aF90b2tlbiA9IGRiLmF1dGhfdG9rZW5zLmZpbmRPbmUoe1xuICAgICAgYXV0aF90b2tlbjogcXVlcnkuYXV0aF90b2tlblxuICAgIH0pO1xuICAgIGlmICgoIWF1dGhfdG9rZW4pIHx8ICghYXV0aF90b2tlbi5lbmFibGVkKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig0MDEsICdVbmF1dGhvcml6ZWQnKTtcbiAgICB9XG4gICAgc3luY190b2tlbiA9IHF1ZXJ5W1wic3luY190b2tlblwiXTtcbiAgICBmb3JtaWRzID0gcXVlcnlbXCJmb3JtaWRzXCJdO1xuICAgIGlzX2FkbWluID0gcXVlcnlbXCJpc19hZG1pblwiXTtcbiAgICBkYXRhID0gdXVmbG93TWFuYWdlci5nZXRfU3BhY2VDaGFuZ2VTZXQoZm9ybWlkcywgaXNfYWRtaW4sIHN5bmNfdG9rZW4pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3JldHJpZXZlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxyXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXHJcblx0XHRcdHJldHJpZXZlX2NvbW1lbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFsncmV0cmlldmVfY29tbWVudCddXHJcblxyXG5cdFx0XHQjIOmqjOivgWluc3RhbmNl5Li65a6h5qC45Lit54q25oCBXHJcblx0XHRcdCMgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSlcclxuXHRcdFx0IyDmoKHpqoznlLPor7fljZXmmK/lvZPliY3nlKjmiLflt7LlrqHmoLjov4fnmoTljZXlrZDmiJbogIXlvZPliY3nlKjmiLfmmK/mj5DkuqTkurrmiJbnlLPor7fkurpcclxuXHRcdFx0aWYgKG5vdCBpbnN0YW5jZS5vdXRib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgYW5kIChpbnN0YW5jZS5zdWJtaXR0ZXIgaXNudCBjdXJyZW50X3VzZXIgYW5kIGluc3RhbmNlLmFwcGxpY2FudCBpc250IGN1cnJlbnRfdXNlcilcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICflvZPliY3nlKjmiLfkuI3nrKblkIjlj5blm57mnaHku7YnKVxyXG5cclxuXHRcdFx0cmV0cmlldmVfdHlwZSA9IFwiXCJcclxuXHJcblx0XHRcdHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlc1xyXG5cclxuXHRcdFx0I+iOt+WPluacgOaWsOeahHRyYWNl77yMIOWNs+WPluWbnuatpemqpFxyXG5cdFx0XHRsYXN0X3RyYWNlID0gXy5sYXN0KHRyYWNlcylcclxuXHRcdFx0bGFzdF90cmFjZV9pZCA9IGxhc3RfdHJhY2UuX2lkXHJcblx0XHRcdHByZXZpb3VzX3RyYWNlX2lkID0gbGFzdF90cmFjZS5wcmV2aW91c190cmFjZV9pZHNbMF07XHJcblx0XHRcdHByZXZpb3VzX3RyYWNlID0gXy5maW5kKHRyYWNlcywgKHQpLT5cclxuXHRcdFx0XHRyZXR1cm4gdC5faWQgaXMgcHJldmlvdXNfdHJhY2VfaWRcclxuXHRcdFx0KVxyXG5cdFx0XHRwcmV2aW91c190cmFjZV9zdGVwX2lkID0gcHJldmlvdXNfdHJhY2Uuc3RlcFxyXG5cdFx0XHRwcmV2aW91c190cmFjZV9uYW1lID0gcHJldmlvdXNfdHJhY2UubmFtZVxyXG5cdFx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXHJcblx0XHRcdHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpXHJcblx0XHRcdGlmIHByZXZpb3VzX3N0ZXAuc3RlcF90eXBlIGlzIFwiY291bnRlclNpZ25cIlxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuS4jeiDveWPluWbnicpXHJcblxyXG5cdFx0XHQjIOWPluWbnuatpemqpOeahOWJjeS4gOS4quatpemqpOWkhOeQhuS6uuWUr+S4gO+8iOWNs+aOkumZpOaOieS8oOmYheWSjOi9rOWPkeeahGFwcHJvdmXlkI7vvIzliankvZnnmoRhcHByb3Zl5Y+q5pyJ5LiA5Liq77yJ5bm25LiU5piv5b2T5YmN55So5oi3XHJcblx0XHRcdHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzID0gXy5maWx0ZXIgcHJldmlvdXNfdHJhY2UuYXBwcm92ZXMsIChhKS0+XHJcblx0XHRcdFx0cmV0dXJuIGEudHlwZSBpc250ICdjYycgYW5kIGEudHlwZSBpc250ICdkaXN0cmlidXRlJyBhbmQgYS50eXBlIGlzbnQgJ2ZvcndhcmQnIGFuZCBbJ2FwcHJvdmVkJywnc3VibWl0dGVkJywncmVqZWN0ZWQnXS5pbmNsdWRlcyhhLmp1ZGdlKVxyXG5cclxuXHRcdFx0aWYgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXMubGVuZ3RoIGlzIDEgYW5kIChwcmV2aW91c190cmFjZV9hcHByb3Zlc1swXS51c2VyIGlzIGN1cnJlbnRfdXNlciBvciBwcmV2aW91c190cmFjZV9hcHByb3Zlc1swXS5oYW5kbGVyIGlzIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0XHRyZXRyaWV2ZV90eXBlID0gJ25vcm1hbCcgIyDnlLPor7fljZXmraPluLjmtYHovaznmoTlj5blm57vvIzljbPpnZ7kvKDpmIXlj5blm55cclxuXHJcblx0XHRcdGkgPSB0cmFjZXMubGVuZ3RoXHJcblx0XHRcdHJldHJpZXZlX2FwcHJvdmUgPSB7fVxyXG5cdFx0XHR3aGlsZSBpID4gMFxyXG5cdFx0XHRcdF8uZWFjaCB0cmFjZXNbaS0xXS5hcHByb3ZlcywgKGEpLT5cclxuXHRcdFx0XHRcdGlmIGEudHlwZSBpcyAnY2MnIGFuZCBhLmlzX2ZpbmlzaGVkIGlzIHRydWUgYW5kIGEudXNlciBpcyBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfdHlwZSA9ICdjYydcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwcm92ZSA9IGFcclxuXHJcblx0XHRcdFx0aWYgcmV0cmlldmVfdHlwZSBpcyAnY2MnXHJcblx0XHRcdFx0XHRicmVha1xyXG5cclxuXHRcdFx0XHRpLS1cclxuXHJcblxyXG5cdFx0XHRpZiByZXRyaWV2ZV90eXBlIGlzICdub3JtYWwnXHJcblx0XHRcdFx0IyDojrflj5bkuIDkuKpmbG93XHJcblx0XHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxyXG5cdFx0XHRcdHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpXHJcblx0XHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxyXG5cdFx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2UuX2lkXHJcblx0XHRcdFx0b2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcclxuXHRcdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHRcdFx0XHRfLmVhY2ggdHJhY2VzLCAodCktPlxyXG5cdFx0XHRcdFx0aWYgdC5faWQgaXMgbGFzdF90cmFjZV9pZFxyXG5cdFx0XHRcdFx0XHRpZiBub3QgdC5hcHByb3Zlc1xyXG5cdFx0XHRcdFx0XHRcdHQuYXBwcm92ZXMgPSBuZXcgQXJyYXlcclxuXHRcdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZS5hcHByb3Zl6K6w5b2VXHJcblx0XHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXBwciktPlxyXG5cdFx0XHRcdFx0XHRcdGlmIGFwcHIuaXNfZmluaXNoZWQgPT0gZmFsc2UgYW5kIGFwcHIudHlwZSBpc250IFwiY2NcIlxyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdFx0XHRhcHByLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdFx0XHRhcHByLnJlYWRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRhcHByLmlzX3JlYWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0XHRhcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5qdWRnZSA9IFwidGVybWluYXRlZFwiXHJcblx0XHRcdFx0XHRcdFx0XHRhcHByLmNvc3RfdGltZSA9IGFwcHIuZmluaXNoX2RhdGUgLSBhcHByLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdFx0IyDlnKjlkIzkuIB0cmFjZeS4i+aPkuWFpeWPluWbnuaTjeS9nOiAheeahGFwcHJvdmXorrDlvZVcclxuXHRcdFx0XHRcdFx0Y3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0XHRcdFx0Y3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7IGZpZWxkczogeyBuYW1lOiAxLCBmdWxsbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci50cmFjZSA9IHQuX2lkXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvblxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWVcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWVcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5kdWVfZGF0ZSA9IHQuZHVlX2RhdGVcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5yZWFkX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5qdWRnZSA9IFwicmV0cmlldmVkXCJcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pc19yZWFkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmRlc2NyaXB0aW9uID0gcmV0cmlldmVfY29tbWVudFxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuY29zdF90aW1lID0gcmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSAtIHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0XHR0LmFwcHJvdmVzLnB1c2gocmV0cmlldmVfYXBwcilcclxuXHJcblx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2XorrDlvZVcclxuXHRcdFx0XHRcdFx0dC5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0dC5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHR0Lmp1ZGdlID0gXCJyZXRyaWV2ZWRcIlxyXG5cclxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXHJcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZV9pZF1cclxuXHRcdFx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlXHJcblx0XHRcdFx0bmV3VHJhY2Uuc3RlcCA9IHByZXZpb3VzX3RyYWNlX3N0ZXBfaWRcclxuXHRcdFx0XHRuZXdUcmFjZS5uYW1lID0gcHJldmlvdXNfdHJhY2VfbmFtZVxyXG5cdFx0XHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShwcmV2aW91c19zdGVwLnRpbWVvdXRfaG91cnMpXHJcblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMgPSBbXVxyXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2UuYXBwcm92ZeiusOW9lVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0bmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdFx0bmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZFxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlclxyXG5cclxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlciwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcclxuXHJcblx0XHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdFx0IyDojrflj5ZuZXh0X3N0ZXBfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xyXG5cdFx0XHRcdG9yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxyXG5cclxuXHRcdFx0XHRuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmR1ZV9kYXRlID0gbmV3VHJhY2UuZHVlX2RhdGVcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cclxuXHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKVxyXG5cclxuXHRcdFx0XHRuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpXHJcblx0XHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gW2N1cnJlbnRfdXNlcl1cclxuXHJcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XHJcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0dHJhY2VzLnB1c2gobmV3VHJhY2UpXHJcblx0XHRcdFx0c2V0T2JqLnRyYWNlcyA9IHRyYWNlc1xyXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiXHJcblx0XHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2VcclxuXHJcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJldmlvdXNfdHJhY2VfbmFtZVxyXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSB1dWZsb3dNYW5hZ2VyLmdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdChmbG93LnRpbWVvdXRfYXV0b19zdWJtaXQsIHByZXZpb3VzX3N0ZXAubGluZXMpXHJcblxyXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9ian0pXHJcblx0XHRcdFx0aWYgclxyXG5cdFx0XHRcdFx0IyDnu5nooqvliKDpmaTnmoRpbmJveF91c2VycyDlkowg5b2T5YmN55So5oi3IOWPkemAgXB1c2hcclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXHJcblx0XHRcdFx0XHRfLmVhY2gob2xkX2luYm94X3VzZXJzLCAodXNlcl9pZCktPlxyXG5cdFx0XHRcdFx0XHRpZiB1c2VyX2lkIGlzbnQgY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXHJcblx0XHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcclxuXHRcdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxyXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKVxyXG5cclxuXHRcdFx0ZWxzZSBpZiByZXRyaWV2ZV90eXBlIGlzICdjYydcclxuXHRcdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHRcdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZFxyXG5cdFx0XHRcdHRoZV90cmFjZSA9IF8uZmluZCB0cmFjZXMsICh0KS0+XHJcblx0XHRcdFx0XHRyZXR1cm4gdC5faWQgaXMgcmV0cmlldmVfYXBwcm92ZS50cmFjZVxyXG5cclxuXHRcdFx0XHRfLmVhY2ggdGhlX3RyYWNlLmFwcHJvdmVzLCAoYSktPlxyXG5cdFx0XHRcdFx0aWYgYS5faWQgaXMgcmV0cmlldmVfYXBwcm92ZS5faWRcclxuXHRcdFx0XHRcdFx0YS5pc19maW5pc2hlZCA9IGZhbHNlXHJcblx0XHRcdFx0XHRcdGEuZmluaXNoX2RhdGUgPSB1bmRlZmluZWRcclxuXHRcdFx0XHRcdFx0YS5qdWRnZSA9IHVuZGVmaW5lZFxyXG5cdFx0XHRcdFx0XHRhLmNvc3RfdGltZSA9IHVuZGVmaW5lZFxyXG5cclxuXHRcdFx0XHRjY191c2VycyA9IGluc3RhbmNlLmNjX3VzZXJzXHJcblx0XHRcdFx0Y2NfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xyXG5cdFx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiXHJcblx0XHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2VcclxuXHRcdFx0XHRzZXRPYmouY2NfdXNlcnMgPSBjY191c2Vyc1xyXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMnXSA9IHRoZV90cmFjZS5hcHByb3Zlc1xyXG5cclxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZCwgJ3RyYWNlcy5faWQnOiByZXRyaWV2ZV9hcHByb3ZlLnRyYWNlfSwgeyRzZXQ6IHNldE9ian0pXHJcblx0XHRcdFx0aWYgclxyXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcclxuXHJcblx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcclxuXHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5FcclxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JldHJpZXZlJywgY3VycmVudF91c2VyLCBbY3VycmVudF91c2VyXSlcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YToge31cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7ZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmV0cmlldmUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGNjX3VzZXJzLCBmbG93LCBoYW5kbGVyX2luZm8sIGksIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsYXN0X3RyYWNlLCBsYXN0X3RyYWNlX2lkLCBuZXdBcHByb3ZlLCBuZXdUcmFjZSwgbm93LCBvbGRfaW5ib3hfdXNlcnMsIG9yZ19pbmZvLCBwcmV2aW91c19zdGVwLCBwcmV2aW91c190cmFjZSwgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXMsIHByZXZpb3VzX3RyYWNlX2lkLCBwcmV2aW91c190cmFjZV9uYW1lLCBwcmV2aW91c190cmFjZV9zdGVwX2lkLCByLCByZXRyaWV2ZV9hcHByb3ZlLCByZXRyaWV2ZV9jb21tZW50LCByZXRyaWV2ZV90eXBlLCBzZXRPYmosIHNwYWNlX2lkLCBzcGFjZV91c2VyLCB0aGVfdHJhY2UsIHRyYWNlcztcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICByZXRyaWV2ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ3JldHJpZXZlX2NvbW1lbnQnXTtcbiAgICAgIGlmICgoIWluc3RhbmNlLm91dGJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSAmJiAoaW5zdGFuY2Uuc3VibWl0dGVyICE9PSBjdXJyZW50X3VzZXIgJiYgaW5zdGFuY2UuYXBwbGljYW50ICE9PSBjdXJyZW50X3VzZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+W9k+WJjeeUqOaIt+S4jeespuWQiOWPluWbnuadoeS7ticpO1xuICAgICAgfVxuICAgICAgcmV0cmlldmVfdHlwZSA9IFwiXCI7XG4gICAgICB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG4gICAgICBsYXN0X3RyYWNlID0gXy5sYXN0KHRyYWNlcyk7XG4gICAgICBsYXN0X3RyYWNlX2lkID0gbGFzdF90cmFjZS5faWQ7XG4gICAgICBwcmV2aW91c190cmFjZV9pZCA9IGxhc3RfdHJhY2UucHJldmlvdXNfdHJhY2VfaWRzWzBdO1xuICAgICAgcHJldmlvdXNfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9PT0gcHJldmlvdXNfdHJhY2VfaWQ7XG4gICAgICB9KTtcbiAgICAgIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQgPSBwcmV2aW91c190cmFjZS5zdGVwO1xuICAgICAgcHJldmlvdXNfdHJhY2VfbmFtZSA9IHByZXZpb3VzX3RyYWNlLm5hbWU7XG4gICAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgICAgcHJldmlvdXNfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCk7XG4gICAgICBpZiAocHJldmlvdXNfc3RlcC5zdGVwX3R5cGUgPT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7kuI3og73lj5blm54nKTtcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzID0gXy5maWx0ZXIocHJldmlvdXNfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgcmV0dXJuIGEudHlwZSAhPT0gJ2NjJyAmJiBhLnR5cGUgIT09ICdkaXN0cmlidXRlJyAmJiBhLnR5cGUgIT09ICdmb3J3YXJkJyAmJiBbJ2FwcHJvdmVkJywgJ3N1Ym1pdHRlZCcsICdyZWplY3RlZCddLmluY2x1ZGVzKGEuanVkZ2UpO1xuICAgICAgfSk7XG4gICAgICBpZiAocHJldmlvdXNfdHJhY2VfYXBwcm92ZXMubGVuZ3RoID09PSAxICYmIChwcmV2aW91c190cmFjZV9hcHByb3Zlc1swXS51c2VyID09PSBjdXJyZW50X3VzZXIgfHwgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0uaGFuZGxlciA9PT0gY3VycmVudF91c2VyKSkge1xuICAgICAgICByZXRyaWV2ZV90eXBlID0gJ25vcm1hbCc7XG4gICAgICB9XG4gICAgICBpID0gdHJhY2VzLmxlbmd0aDtcbiAgICAgIHJldHJpZXZlX2FwcHJvdmUgPSB7fTtcbiAgICAgIHdoaWxlIChpID4gMCkge1xuICAgICAgICBfLmVhY2godHJhY2VzW2kgLSAxXS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgIGlmIChhLnR5cGUgPT09ICdjYycgJiYgYS5pc19maW5pc2hlZCA9PT0gdHJ1ZSAmJiBhLnVzZXIgPT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgcmV0cmlldmVfdHlwZSA9ICdjYyc7XG4gICAgICAgICAgICByZXR1cm4gcmV0cmlldmVfYXBwcm92ZSA9IGE7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJldHJpZXZlX3R5cGUgPT09ICdjYycpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpLS07XG4gICAgICB9XG4gICAgICBpZiAocmV0cmlldmVfdHlwZSA9PT0gJ25vcm1hbCcpIHtcbiAgICAgICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICAgICAgcHJldmlvdXNfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCk7XG4gICAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2UuX2lkO1xuICAgICAgICBvbGRfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2VycztcbiAgICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIF8uZWFjaCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICB2YXIgY3VycmVudF9zcGFjZV91c2VyLCBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLCByZXRyaWV2ZV9hcHByO1xuICAgICAgICAgIGlmICh0Ll9pZCA9PT0gbGFzdF90cmFjZV9pZCkge1xuICAgICAgICAgICAgaWYgKCF0LmFwcHJvdmVzKSB7XG4gICAgICAgICAgICAgIHQuYXBwcm92ZXMgPSBuZXcgQXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXBwcikge1xuICAgICAgICAgICAgICBpZiAoYXBwci5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgYXBwci50eXBlICE9PSBcImNjXCIpIHtcbiAgICAgICAgICAgICAgICBhcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgICBhcHByLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgICBhcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYXBwci5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhcHByLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcHIuY29zdF90aW1lID0gYXBwci5maW5pc2hfZGF0ZSAtIGFwcHIuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgICAgICAgIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwge1xuICAgICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwciA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnRyYWNlID0gdC5faWQ7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5kdWVfZGF0ZSA9IHQuZHVlX2RhdGU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuanVkZ2UgPSBcInJldHJpZXZlZFwiO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuZGVzY3JpcHRpb24gPSByZXRyaWV2ZV9jb21tZW50O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5jb3N0X3RpbWUgPSByZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlIC0gcmV0cmlldmVfYXBwci5zdGFydF9kYXRlO1xuICAgICAgICAgICAgdC5hcHByb3Zlcy5wdXNoKHJldHJpZXZlX2FwcHIpO1xuICAgICAgICAgICAgdC5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICB0LmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0dXJuIHQuanVkZ2UgPSBcInJldHJpZXZlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2VfaWRdO1xuICAgICAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBuZXdUcmFjZS5zdGVwID0gcHJldmlvdXNfdHJhY2Vfc3RlcF9pZDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWU7XG4gICAgICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZXZpb3VzX3N0ZXAudGltZW91dF9ob3Vycyk7XG4gICAgICAgIG5ld1RyYWNlLmFwcHJvdmVzID0gW107XG4gICAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZDtcbiAgICAgICAgbmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyLCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3QXBwcm92ZS51c2VyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICAgIG9yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl07XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgICAgbmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdBcHByb3ZlLmR1ZV9kYXRlID0gbmV3VHJhY2UuZHVlX2RhdGU7XG4gICAgICAgIG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgICBuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgdXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSk7XG4gICAgICAgIG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSk7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IFtjdXJyZW50X3VzZXJdO1xuICAgICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgdHJhY2VzLnB1c2gobmV3VHJhY2UpO1xuICAgICAgICBzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgc2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSB1dWZsb3dNYW5hZ2VyLmdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdChmbG93LnRpbWVvdXRfYXV0b19zdWJtaXQsIHByZXZpb3VzX3N0ZXAubGluZXMpO1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICAgIF8uZWFjaChvbGRfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICAgIGlmICh1c2VyX2lkICE9PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChyZXRyaWV2ZV90eXBlID09PSAnY2MnKSB7XG4gICAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZDtcbiAgICAgICAgdGhlX3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHJldHVybiB0Ll9pZCA9PT0gcmV0cmlldmVfYXBwcm92ZS50cmFjZTtcbiAgICAgICAgfSk7XG4gICAgICAgIF8uZWFjaCh0aGVfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICBpZiAoYS5faWQgPT09IHJldHJpZXZlX2FwcHJvdmUuX2lkKSB7XG4gICAgICAgICAgICBhLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgICAgICBhLmZpbmlzaF9kYXRlID0gdm9pZCAwO1xuICAgICAgICAgICAgYS5qdWRnZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiBhLmNvc3RfdGltZSA9IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjY191c2VycyA9IGluc3RhbmNlLmNjX3VzZXJzO1xuICAgICAgICBjY191c2Vycy5wdXNoKGN1cnJlbnRfdXNlcik7XG4gICAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgc2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG4gICAgICAgIHNldE9iai5jY191c2VycyA9IGNjX3VzZXJzO1xuICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzJ10gPSB0aGVfdHJhY2UuYXBwcm92ZXM7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgICAgICd0cmFjZXMuX2lkJzogcmV0cmlldmVfYXBwcm92ZS50cmFjZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICB9XG4gICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgW2N1cnJlbnRfdXNlcl0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9mb3J3YXJkJywgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XHJcblx0dHJ5IHtcclxuXHRcdHZhciBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xyXG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcclxuXHJcblx0XHR2YXIgaGFzaERhdGEgPSByZXEuYm9keTtcclxuXHRcdHZhciBpbnN0YW5jZV9pZCA9IGhhc2hEYXRhLmluc3RhbmNlX2lkO1xyXG5cdFx0dmFyIHNwYWNlX2lkID0gaGFzaERhdGEuc3BhY2VfaWQ7XHJcblx0XHR2YXIgZmxvd19pZCA9IGhhc2hEYXRhLmZsb3dfaWQ7XHJcblx0XHR2YXIgaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50ID0gaGFzaERhdGEuaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50O1xyXG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gaGFzaERhdGEuZGVzY3JpcHRpb247XHJcblx0XHR2YXIgaXNGb3J3YXJkQXR0YWNobWVudHMgPSBoYXNoRGF0YS5pc0ZvcndhcmRBdHRhY2htZW50cztcclxuXHRcdHZhciBzZWxlY3RlZFVzZXJzID0gaGFzaERhdGEuc2VsZWN0ZWRVc2VycztcclxuXHRcdHZhciBhY3Rpb25fdHlwZSA9IGhhc2hEYXRhLmFjdGlvbl90eXBlO1xyXG5cdFx0dmFyIHJlbGF0ZWQgPSBoYXNoRGF0YS5yZWxhdGVkO1xyXG5cdFx0dmFyIGZyb21fYXBwcm92ZV9pZCA9IGhhc2hEYXRhLmZyb21fYXBwcm92ZV9pZDtcclxuXHJcblx0XHRjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKTtcclxuXHRcdGNoZWNrKHNwYWNlX2lkLCBTdHJpbmcpO1xyXG5cdFx0Y2hlY2soZmxvd19pZCwgU3RyaW5nKTtcclxuXHRcdGNoZWNrKGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCwgQm9vbGVhbik7XHJcblx0XHRjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKTtcclxuXHRcdGNoZWNrKGlzRm9yd2FyZEF0dGFjaG1lbnRzLCBCb29sZWFuKTtcclxuXHRcdGNoZWNrKHNlbGVjdGVkVXNlcnMsIEFycmF5KTtcclxuXHRcdGNoZWNrKGFjdGlvbl90eXBlLCBNYXRjaC5PbmVPZignZm9yd2FyZCcsICdkaXN0cmlidXRlJykpO1xyXG5cclxuXHRcdGlmIChhY3Rpb25fdHlwZSA9PSBcImRpc3RyaWJ1dGVcIilcclxuXHRcdFx0Y2hlY2soZnJvbV9hcHByb3ZlX2lkLCBTdHJpbmcpO1xyXG5cclxuXHRcdHZhciBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XHJcblx0XHR2YXIgb2xkX3NwYWNlX2lkID0gaW5zLnNwYWNlO1xyXG5cclxuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkKTtcclxuXHJcblx0XHR2YXIgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZV9pZCk7XHJcblxyXG5cdFx0aWYgKCFpbnMgfHwgIWZsb3cgfHwgIXNwYWNlKSB7XHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3BhcmFtcyBlcnJvciEnLCAncmVjb3JkIG5vdCBleGlzdHMhJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGZvcndhcmRfdXNlcnMgPSBuZXcgQXJyYXk7XHJcblx0XHRpZiAoXy5pc0VtcHR5KHNlbGVjdGVkVXNlcnMpKSB7XHJcblx0XHRcdGZvcndhcmRfdXNlcnMgPSBbY3VycmVudF91c2VyX2lkXTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGZvcndhcmRfdXNlcnMgPSBzZWxlY3RlZFVzZXJzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIOagoemqjOWIhuWPkeWvueixoeaYr+WQpuacieWIhuWPkea1geeoi+eahOaPkOS6pOadg+mZkFxyXG5cdFx0dmFyIG5vX3Blcm1pc3Npb25fdXNlcl9pZHMgPSBuZXcgQXJyYXkoKTtcclxuXHRcdF8uZWFjaChmb3J3YXJkX3VzZXJzLCBmdW5jdGlvbiAodWlkKSB7XHJcblx0XHRcdHZhciBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93X2lkLCB1aWQpO1xyXG5cdFx0XHRpZiAoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRkXCIpKSB7XHJcblx0XHRcdFx0Ly8gdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLor6XnlLPor7fkurrmsqHmnInmj5DkuqTmraTnlLPor7fljZXnmoTmnYPpmZDjgIJcIilcclxuXHRcdFx0XHRub19wZXJtaXNzaW9uX3VzZXJfaWRzLnB1c2godWlkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHRcdGlmICghXy5pc0VtcHR5KG5vX3Blcm1pc3Npb25fdXNlcl9pZHMpKSB7XHJcblx0XHRcdHZhciBub19wZXJtaXNzaW9uX3VzZXJzX25hbWUgPSBuZXcgQXJyYXkoKTtcclxuXHRcdFx0ZGIudXNlcnMuZmluZCh7XHJcblx0XHRcdFx0X2lkOiB7XHJcblx0XHRcdFx0XHQkaW46IG5vX3Blcm1pc3Npb25fdXNlcl9pZHNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG5hbWU6IDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmZvckVhY2goZnVuY3Rpb24gKHUpIHtcclxuXHRcdFx0XHRub19wZXJtaXNzaW9uX3VzZXJzX25hbWUucHVzaCh1Lm5hbWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm9fcGVybWlzc2lvbicsIFwi6K+l5o+Q5Lqk5Lq65rKh5pyJ5o+Q5Lqk5q2k55Sz6K+35Y2V55qE5p2D6ZmQ44CCXCIsIG5vX3Blcm1pc3Npb25fdXNlcnNfbmFtZS5qb2luKCcsJykpXHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIG5ld19pbnNfaWRzID0gbmV3IEFycmF5O1xyXG5cclxuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gbnVsbDtcclxuXHRcdGlmIChhY3Rpb25fdHlwZSA9PSBcImRpc3RyaWJ1dGVcIikge1xyXG5cdFx0XHRfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0XHRpZiAoIWN1cnJlbnRfdHJhY2UpIHtcclxuXHRcdFx0XHRcdF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbiAoYSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIWN1cnJlbnRfdHJhY2UpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoYS5faWQgPT0gZnJvbV9hcHByb3ZlX2lkKVxyXG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudF90cmFjZSA9IHQ7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y3VycmVudF90cmFjZSA9IF8ubGFzdChpbnMudHJhY2VzKTtcclxuXHRcdH1cclxuXHRcdHZhciBjdXJyZW50X3RyYWNlX2lkID0gY3VycmVudF90cmFjZS5faWQ7XHJcblx0XHR2YXIgZm9yd2FyZF9hcHByb3ZlcyA9IFtdO1xyXG5cdFx0dmFyIGZyb21fdXNlcl9uYW1lID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQsIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0bmFtZTogMVxyXG5cdFx0XHR9XHJcblx0XHR9KS5uYW1lXHJcblx0XHR2YXIgc2V0X29iaiA9IG5ldyBPYmplY3Q7XHJcblxyXG5cdFx0Ly8g6K6h566XdmFsdWVzXHJcblx0XHR2YXIgb2xkX3ZhbHVlcyA9IGlucy52YWx1ZXMsXHJcblx0XHRcdG5ld192YWx1ZXMgPSB7fTtcclxuXHRcdHZhciBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmbG93LmZvcm0pO1xyXG5cdFx0dmFyIGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHMgfHwgW107XHJcblxyXG5cdFx0dmFyIG9sZF9mb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnMuZm9ybSk7XHJcblx0XHR2YXIgb2xkX2Zvcm1fdmVyc2lvbiA9IGlucy5mb3JtX3ZlcnNpb24sXHJcblx0XHRcdG9sZF9maWVsZHMgPSBbXSxcclxuXHRcdFx0Y29tbW9uX2ZpZWxkcyA9IFtdO1xyXG5cclxuXHRcdHZhciBzZWxlY3RfdG9faW5wdXRfZmllbGRzID0gW107XHJcblxyXG5cdFx0aWYgKG9sZF9mb3JtLmN1cnJlbnQuX2lkID09IG9sZF9mb3JtX3ZlcnNpb24pIHtcclxuXHRcdFx0b2xkX2ZpZWxkcyA9IG9sZF9mb3JtLmN1cnJlbnQuZmllbGRzO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKG9sZF9mb3JtLmhpc3RvcnlzKSB7XHJcblx0XHRcdFx0b2xkX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbiAoaCkge1xyXG5cdFx0XHRcdFx0aWYgKGguX2lkID09IG9sZF9mb3JtX3ZlcnNpb24pXHJcblx0XHRcdFx0XHRcdG9sZF9maWVsZHMgPSBoLmZpZWxkcztcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdHZhciBleGlzdHNfZmllbGQgPSBfLmZpbmQob2xkX2ZpZWxkcywgZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHRyZXR1cm4gZi50eXBlID09IGZpZWxkLnR5cGUgJiYgZi5jb2RlID09IGZpZWxkLmNvZGU7XHJcblx0XHRcdH0pXHJcblx0XHRcdGlmIChleGlzdHNfZmllbGQpXHJcblx0XHRcdFx0Y29tbW9uX2ZpZWxkcy5wdXNoKGZpZWxkKTtcclxuXHRcdFx0dmFyIHNlbGVjdF9pbnB1dF9maWVsZCA9IF8uZmluZChvbGRfZmllbGRzLCBmdW5jdGlvbiAoZikge1xyXG5cdFx0XHRcdHJldHVybiBmLnR5cGUgPT0gJ3NlbGVjdCcgJiYgZmllbGQudHlwZSA9PSAnaW5wdXQnICYmIGYuY29kZSA9PSBmaWVsZC5jb2RlO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHRpZiAoc2VsZWN0X2lucHV0X2ZpZWxkKVxyXG5cdFx0XHRcdHNlbGVjdF90b19pbnB1dF9maWVsZHMucHVzaChzZWxlY3RfaW5wdXRfZmllbGQpO1xyXG5cdFx0fSlcclxuXHJcblx0XHRzZWxlY3RfdG9faW5wdXRfZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdGlmIChvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdKSB7XHJcblx0XHRcdFx0bmV3X3ZhbHVlc1tmaWVsZC5jb2RlXSA9IG9sZF92YWx1ZXNbZmllbGQuY29kZV07XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblxyXG5cdFx0Y29tbW9uX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRpZiAoZmllbGQudHlwZSA9PSAnc2VjdGlvbicpIHtcclxuXHRcdFx0XHRpZiAoZmllbGQuZmllbGRzKSB7XHJcblx0XHRcdFx0XHRmaWVsZC5maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xyXG5cdFx0XHRcdFx0XHQvLyDot6jlt6XkvZzljLrovazlj5HkuI3lpI3liLbpgInkurrpgInnu4RcclxuXHRcdFx0XHRcdFx0aWYgKFsnZ3JvdXAnLCAndXNlciddLmluY2x1ZGVzKGYudHlwZSkgJiYgb2xkX3NwYWNlX2lkICE9IHNwYWNlX2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHZhciBrZXkgPSBmLmNvZGU7XHJcblx0XHRcdFx0XHRcdHZhciBvbGRfdiA9IG9sZF92YWx1ZXNba2V5XTtcclxuXHRcdFx0XHRcdFx0aWYgKG9sZF92KSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8g5qCh6aqMIOWNlemAie+8jOWkmumAie+8jOS4i+aLieahhiDlrZfmrrXlgLzmmK/lkKblnKjmlrDooajljZXlr7nlupTlrZfmrrXnmoTlj6/pgInlgLzojIPlm7TlhoVcclxuXHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdzZWxlY3QnIHx8IGYudHlwZSA9PSAncmFkaW8nKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGYub3B0aW9ucy5zcGxpdCgnXFxuJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaW5jbHVkZXMob2xkX3YpKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdtdWx0aVNlbGVjdCcpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZi5vcHRpb25zLnNwbGl0KCdcXG4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciBvbGRfbXVsdGlTZWxlY3RlZCA9IG9sZF92LnNwbGl0KCcsJyk7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgbmV3X211bHRpU2VsZWN0ZWQgPSBfLmludGVyc2VjdGlvbihvcHRpb25zLCBvbGRfbXVsdGlTZWxlY3RlZCk7XHJcblx0XHRcdFx0XHRcdFx0XHRvbGRfdiA9IG5ld19tdWx0aVNlbGVjdGVkLmpvaW4oJywnKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdG5ld192YWx1ZXNba2V5XSA9IG9sZF92O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmIChmaWVsZC50eXBlID09ICd0YWJsZScpIHtcclxuXHRcdFx0XHRpZiAoIV8uaXNFbXB0eShvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdKSkge1xyXG5cdFx0XHRcdFx0bmV3X3ZhbHVlc1tmaWVsZC5jb2RlXSA9IG5ldyBBcnJheTtcclxuXHRcdFx0XHRcdG9sZF92YWx1ZXNbZmllbGQuY29kZV0uZm9yRWFjaChmdW5jdGlvbiAob2xkX3RhYmxlX3Jvd192YWx1ZXMpIHtcclxuXHRcdFx0XHRcdFx0dmFyIG5ld190YWJsZV9yb3dfdmFsdWVzID0ge307XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIV8uaXNFbXB0eShmaWVsZC5maWVsZHMpKSB7XHJcblx0XHRcdFx0XHRcdFx0ZmllbGQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIOi3qOW3peS9nOWMuui9rOWPkeS4jeWkjeWItumAieS6uumAiee7hFxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKFsnZ3JvdXAnLCAndXNlciddLmluY2x1ZGVzKGYudHlwZSkgJiYgb2xkX3NwYWNlX2lkICE9IHNwYWNlX2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdHZhciBrZXkgPSBmLmNvZGU7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgb2xkX3YgPSBvbGRfdGFibGVfcm93X3ZhbHVlc1trZXldO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKG9sZF92KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIOagoemqjCDljZXpgInvvIzlpJrpgInvvIzkuIvmi4nmoYYg5a2X5q615YC85piv5ZCm5Zyo5paw6KGo5Y2V5a+55bqU5a2X5q6155qE5Y+v6YCJ5YC86IyD5Zu05YaFXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ3NlbGVjdCcgfHwgZi50eXBlID09ICdyYWRpbycpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGYub3B0aW9ucy5zcGxpdCgnXFxuJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmluY2x1ZGVzKG9sZF92KSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnbXVsdGlTZWxlY3QnKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBvbGRfbXVsdGlTZWxlY3RlZCA9IG9sZF92LnNwbGl0KCcsJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG5ld19tdWx0aVNlbGVjdGVkID0gXy5pbnRlcnNlY3Rpb24ob3B0aW9ucywgb2xkX211bHRpU2VsZWN0ZWQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9sZF92ID0gbmV3X211bHRpU2VsZWN0ZWQuam9pbignLCcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdfdGFibGVfcm93X3ZhbHVlc1trZXldID0gb2xkX3Y7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCFfLmlzRW1wdHkobmV3X3RhYmxlX3Jvd192YWx1ZXMpKSB7XHJcblx0XHRcdFx0XHRcdFx0bmV3X3ZhbHVlc1tmaWVsZC5jb2RlXS5wdXNoKG5ld190YWJsZV9yb3dfdmFsdWVzKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXHJcblx0XHRcdFx0aWYgKFsnZ3JvdXAnLCAndXNlciddLmluY2x1ZGVzKGZpZWxkLnR5cGUpICYmIG9sZF9zcGFjZV9pZCAhPSBzcGFjZV9pZCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR2YXIga2V5ID0gZmllbGQuY29kZTtcclxuXHRcdFx0XHR2YXIgb2xkX3YgPSBvbGRfdmFsdWVzW2tleV07XHJcblx0XHRcdFx0aWYgKG9sZF92KSB7XHJcblx0XHRcdFx0XHQvLyDmoKHpqowg5Y2V6YCJ77yM5aSa6YCJ77yM5LiL5ouJ5qGGIOWtl+auteWAvOaYr+WQpuWcqOaWsOihqOWNleWvueW6lOWtl+auteeahOWPr+mAieWAvOiMg+WbtOWGhVxyXG5cdFx0XHRcdFx0aWYgKGZpZWxkLnR5cGUgPT0gJ3NlbGVjdCcgfHwgZmllbGQudHlwZSA9PSAncmFkaW8nKSB7XHJcblx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZmllbGQub3B0aW9ucy5zcGxpdCgnXFxuJyk7XHJcblx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pbmNsdWRlcyhvbGRfdikpXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmIChmaWVsZC50eXBlID09ICdtdWx0aVNlbGVjdCcpIHtcclxuXHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmaWVsZC5vcHRpb25zLnNwbGl0KCdcXG4nKTtcclxuXHRcdFx0XHRcdFx0dmFyIG9sZF9tdWx0aVNlbGVjdGVkID0gb2xkX3Yuc3BsaXQoJywnKTtcclxuXHRcdFx0XHRcdFx0dmFyIG5ld19tdWx0aVNlbGVjdGVkID0gXy5pbnRlcnNlY3Rpb24ob3B0aW9ucywgb2xkX211bHRpU2VsZWN0ZWQpO1xyXG5cdFx0XHRcdFx0XHRvbGRfdiA9IG5ld19tdWx0aVNlbGVjdGVkLmpvaW4oJywnKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRuZXdfdmFsdWVzW2tleV0gPSBvbGRfdjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHR9KVxyXG5cclxuXHRcdC8v5aaC5p6c5piv5YiG5Y+R77yM5YiZdmFsdWXkuK3nmoRyZWNvcmRfbmVlZOOAgUZPTkRTSUTkuI3pnIDopoHliIblj5HliLDmlrDnlLPor7fljZXkuK1cclxuXHRcdGlmIChhY3Rpb25fdHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnKSB7XHJcblx0XHRcdGRlbGV0ZSBuZXdfdmFsdWVzLnJlY29yZF9uZWVkO1xyXG5cdFx0XHRkZWxldGUgbmV3X3ZhbHVlcy5GT05EU0lEO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIOiuoeeul+eUs+ivt+WNleagh+mimFxyXG5cdFx0dmFyIGluc3RhbmNlX25hbWUgPSBcIlwiO1xyXG5cdFx0dmFyIG5hbWVfZm9ydW1sYSA9IGZvcm0uY3VycmVudC5uYW1lX2ZvcnVtbGE7XHJcblx0XHRpZiAobmFtZV9mb3J1bWxhKSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0dmFyIGlzY3JpcHQgPSBuYW1lX2ZvcnVtbGEucmVwbGFjZSgvXFx7L2csIFwiKG5ld192YWx1ZXNbJ1wiKS5yZXBsYWNlKC9cXH0vZywgXCInXSB8fCAnJylcIik7XHJcblx0XHRcdFx0dmFyIHJldiA9IGV2YWwoaXNjcmlwdCk7XHJcblx0XHRcdFx0aW5zdGFuY2VfbmFtZSA9IHJldiB8fCBmbG93Lm5hbWU7XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignY2FjdWxhdGVfaW5zdGFuY2VfbmFtZScsIFwi6K6h566X55Sz6K+35Y2V5qCH6aKY5Ye66ZSZ6K+35qOA5p+l6KGo5Y2V5qCH6aKY6ISa5pys44CCXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbnN0YW5jZV9uYW1lID0gZmxvdy5uYW1lO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGluc3RhbmNl5Lit6K6w5b2V5b2T5YmN5q2l6aqk5ZCN56ewICMxMzE0XHJcblx0XHR2YXIgc3RhcnRfc3RlcCA9IF8uZmluZChmbG93LmN1cnJlbnQuc3RlcHMsIGZ1bmN0aW9uIChzdGVwKSB7XHJcblx0XHRcdHJldHVybiBzdGVwLnN0ZXBfdHlwZSA9PSAnc3RhcnQnO1xyXG5cdFx0fSlcclxuXHJcblx0XHQvLyDmlrDlu7rnlLPor7fljZXml7bvvIxpbnN0YW5jZXPorrDlvZXmtYHnqIvlkI3np7DjgIHmtYHnqIvliIbnsbvlkI3np7AgIzEzMTNcclxuXHRcdHZhciBjYXRlZ29yeV9uYW1lID0gXCJcIjtcclxuXHRcdGlmIChmb3JtLmNhdGVnb3J5KSB7XHJcblx0XHRcdHZhciBjYXRlZ29yeSA9IHV1Zmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcnkoZm9ybS5jYXRlZ29yeSk7XHJcblx0XHRcdGlmIChjYXRlZ29yeSlcclxuXHRcdFx0XHRjYXRlZ29yeV9uYW1lID0gY2F0ZWdvcnkubmFtZTtcclxuXHRcdH1cclxuXHJcblx0XHRfLmVhY2goZm9yd2FyZF91c2VycywgZnVuY3Rpb24gKHVzZXJfaWQpIHtcclxuXHJcblx0XHRcdHZhciB1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHVzZXJfaWQpO1xyXG5cclxuXHRcdFx0dmFyIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcclxuXHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXHJcblx0XHRcdFx0dXNlcjogdXNlcl9pZFxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XHRvcmdhbml6YXRpb246IDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YXIgc3BhY2VfdXNlcl9vcmdfaW5mbyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XHJcblx0XHRcdFx0X2lkOiBzcGFjZV91c2VyLm9yZ2FuaXphdGlvblxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XHRuYW1lOiAxLFxyXG5cdFx0XHRcdFx0ZnVsbG5hbWU6IDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dmFyIG5vdyA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdHZhciBpbnNfb2JqID0ge307XHJcblxyXG5cdFx0XHR2YXIgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VyX2lkKTtcclxuXHRcdFx0dmFyIGhhbmRsZXJfaWQgPSB1c2VyX2lkO1xyXG5cdFx0XHR2YXIgaGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvO1xyXG5cdFx0XHR2YXIgaGFuZGxlcl9zcGFjZV91c2VyID0gc3BhY2VfdXNlcjtcclxuXHRcdFx0dmFyIGhhbmRsZXJfb3JnX2luZm8gPSBzcGFjZV91c2VyX29yZ19pbmZvO1xyXG5cdFx0XHRpZiAoYWdlbnQpIHtcclxuXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnQ7XHJcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShhZ2VudCk7XHJcblx0XHRcdFx0aGFuZGxlcl9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGFnZW50KTtcclxuXHRcdFx0XHRoYW5kbGVyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKGhhbmRsZXJfc3BhY2VfdXNlcik7XHJcblx0XHRcdH1cclxuXHRcdFx0aW5zX29iai5faWQgPSBkYi5pbnN0YW5jZXMuX21ha2VOZXdJRCgpO1xyXG5cdFx0XHRpbnNfb2JqLnNwYWNlID0gc3BhY2VfaWQ7XHJcblx0XHRcdGluc19vYmouZmxvdyA9IGZsb3dfaWQ7XHJcblx0XHRcdGluc19vYmouZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50Ll9pZDtcclxuXHRcdFx0aW5zX29iai5mb3JtID0gZmxvdy5mb3JtO1xyXG5cdFx0XHRpbnNfb2JqLmZvcm1fdmVyc2lvbiA9IGZsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XHJcblx0XHRcdGluc19vYmoubmFtZSA9IGluc3RhbmNlX25hbWU7XHJcblx0XHRcdGluc19vYmouc3VibWl0dGVyID0gaGFuZGxlcl9pZDtcclxuXHRcdFx0aW5zX29iai5zdWJtaXR0ZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xyXG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudCA9IHVzZXJfaWQ7XHJcblx0XHRcdGluc19vYmouYXBwbGljYW50X25hbWUgPSB1c2VyX2luZm8ubmFtZTtcclxuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlci5vcmdhbml6YXRpb247XHJcblx0XHRcdGluc19vYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mby5uYW1lO1xyXG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvLmZ1bGxuYW1lO1xyXG5cdFx0XHRpbnNfb2JqLnN0YXRlID0gXCJkcmFmdFwiO1xyXG5cdFx0XHRpbnNfb2JqLmNvZGUgPSBcIlwiO1xyXG5cdFx0XHRpbnNfb2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XHJcblx0XHRcdGluc19vYmouaXNfZGVsZXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRpbnNfb2JqLmNyZWF0ZWQgPSBub3c7XHJcblx0XHRcdGluc19vYmouY3JlYXRlZF9ieSA9IGN1cnJlbnRfdXNlcl9pZDtcclxuXHRcdFx0aW5zX29iai5tb2RpZmllZCA9IG5vdztcclxuXHRcdFx0aW5zX29iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcl9pZDtcclxuXHRcdFx0aW5zX29iai5pbmJveF91c2VycyA9IFtoYW5kbGVyX2lkXTtcclxuXHRcdFx0aW5zX29iai52YWx1ZXMgPSBuZXdfdmFsdWVzO1xyXG5cdFx0XHRpZiAoYWN0aW9uX3R5cGUgPT0gJ2Rpc3RyaWJ1dGUnKSB7XHJcblx0XHRcdFx0Ly8g6Kej5Yaz5aSa5qyh5YiG5Y+R55yL5LiN5Yiw5q2j5paH44CB6ZmE5Lu26Zeu6aKYXHJcblx0XHRcdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcclxuXHRcdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlID0gaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XHJcblx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzLnB1c2goaW5zdGFuY2VfaWQpO1xyXG5cclxuXHRcdFx0XHRpZiAocmVsYXRlZCkge1xyXG5cdFx0XHRcdFx0aW5zX29iai5yZWxhdGVkX2luc3RhbmNlcyA9IFtpbnN0YW5jZV9pZF1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9IGVsc2UgaWYgKGFjdGlvbl90eXBlID09ICdmb3J3YXJkJykge1xyXG5cdFx0XHRcdGluc19vYmouZm9yd2FyZF9mcm9tX2luc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8g5paw5bu6VHJhY2VcclxuXHRcdFx0dmFyIHRyYWNlX29iaiA9IHt9O1xyXG5cdFx0XHR0cmFjZV9vYmouX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcclxuXHRcdFx0dHJhY2Vfb2JqLmluc3RhbmNlID0gaW5zX29iai5faWQ7XHJcblx0XHRcdHRyYWNlX29iai5pc19maW5pc2hlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0Ly8g5b2T5YmN5pyA5paw54mIZmxvd+S4reW8gOWni+iKgueCueeahHN0ZXBfaWRcclxuXHRcdFx0dmFyIHN0ZXBfaWQsIHN0ZXBfbmFtZSwgY2FuX2VkaXRfbWFpbl9hdHRhY2gsIGNhbl9lZGl0X25vcm1hbF9hdHRhY2g7XHJcblx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGVwKSB7XHJcblx0XHRcdFx0aWYgKHN0ZXAuc3RlcF90eXBlID09IFwic3RhcnRcIikge1xyXG5cdFx0XHRcdFx0c3RlcF9pZCA9IHN0ZXAuX2lkO1xyXG5cdFx0XHRcdFx0c3RlcF9uYW1lID0gc3RlcC5uYW1lO1xyXG5cdFx0XHRcdFx0Y2FuX2VkaXRfbWFpbl9hdHRhY2ggPSBzdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoO1xyXG5cdFx0XHRcdFx0Y2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9IHN0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdHRyYWNlX29iai5zdGVwID0gc3RlcF9pZDtcclxuXHRcdFx0dHJhY2Vfb2JqLnN0YXJ0X2RhdGUgPSBub3c7XHJcblx0XHRcdHRyYWNlX29iai5uYW1lID0gc3RlcF9uYW1lO1xyXG5cclxuXHRcdFx0Ly8g5paw5bu6QXBwcm92ZVxyXG5cdFx0XHR2YXIgYXBwcl9vYmogPSB7fTtcclxuXHRcdFx0YXBwcl9vYmouX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcclxuXHRcdFx0YXBwcl9vYmouaW5zdGFuY2UgPSBpbnNfb2JqLl9pZDtcclxuXHRcdFx0YXBwcl9vYmoudHJhY2UgPSB0cmFjZV9vYmouX2lkO1xyXG5cdFx0XHRhcHByX29iai5pc19maW5pc2hlZCA9IGZhbHNlO1xyXG5cdFx0XHRhcHByX29iai51c2VyID0gdXNlcl9pZDtcclxuXHRcdFx0YXBwcl9vYmoudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWU7XHJcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xyXG5cdFx0XHRhcHByX29iai5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcclxuXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9vcmdhbml6YXRpb24gPSBoYW5kbGVyX3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xyXG5cdFx0XHRhcHByX29iai5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gaGFuZGxlcl9vcmdfaW5mby5uYW1lO1xyXG5cdFx0XHRhcHByX29iai5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGhhbmRsZXJfb3JnX2luZm8uZnVsbG5hbWU7XHJcblx0XHRcdGFwcHJfb2JqLnR5cGUgPSBcImRyYWZ0XCI7XHJcblx0XHRcdGFwcHJfb2JqLnN0YXJ0X2RhdGUgPSBub3c7XHJcblx0XHRcdGFwcHJfb2JqLnJlYWRfZGF0ZSA9IG5vdztcclxuXHRcdFx0YXBwcl9vYmouaXNfcmVhZCA9IGZhbHNlO1xyXG5cdFx0XHRhcHByX29iai5pc19lcnJvciA9IGZhbHNlO1xyXG5cclxuXHRcdFx0YXBwcl9vYmoudmFsdWVzID0gbmV3X3ZhbHVlcztcclxuXHJcblx0XHRcdGlmIChhZ2VudCkge1xyXG5cdFx0XHRcdGFwcHJfb2JqLmFnZW50ID0gYWdlbnQ7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRyYWNlX29iai5hcHByb3ZlcyA9IFthcHByX29ial07XHJcblx0XHRcdGluc19vYmoudHJhY2VzID0gW3RyYWNlX29ial07XHJcblxyXG5cdFx0XHRpZiAoZmxvdy5hdXRvX3JlbWluZCA9PSB0cnVlKVxyXG5cdFx0XHRcdGluc19vYmouYXV0b19yZW1pbmQgPSB0cnVlO1xyXG5cclxuXHRcdFx0aW5zX29iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHN0YXJ0X3N0ZXAubmFtZTtcclxuXHJcblx0XHRcdGluc19vYmouZmxvd19uYW1lID0gZmxvdy5uYW1lO1xyXG5cdFx0XHRpZiAoY2F0ZWdvcnlfbmFtZSkge1xyXG5cdFx0XHRcdGluc19vYmouY2F0ZWdvcnlfbmFtZSA9IGNhdGVnb3J5Lm5hbWU7XHJcblx0XHRcdFx0aW5zX29iai5jYXRlZ29yeSA9IGNhdGVnb3J5Ll9pZDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bmV3X2luc19pZCA9IGRiLmluc3RhbmNlcy5pbnNlcnQoaW5zX29iaik7XHJcblxyXG5cdFx0XHQvLyDlpI3liLbpmYTku7ZcclxuXHRcdFx0dmFyIGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzO1xyXG5cclxuXHRcdFx0Ly/lsIbljp/ooajljZXlhoXlrrnlrZjlgqjkuLrnrKzkuIDkuKrpmYTku7ZcclxuXHRcdFx0aWYgKGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCkge1xyXG5cdFx0XHRcdC8vIHRyeSB7XHJcblxyXG5cdFx0XHRcdGluc3RhbmNlSHRtbCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwodXNlcl9pbmZvLCBzcGFjZV9pZCwgaW5zLCB7XHJcblx0XHRcdFx0XHRhYnNvbHV0ZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0dmFyIGluc3RhbmNlRmlsZSA9IG5ldyBGUy5GaWxlKCk7XHJcblx0XHRcdFx0aW5zdGFuY2VGaWxlLmF0dGFjaERhdGEoQnVmZmVyLmZyb20oaW5zdGFuY2VIdG1sLCBcInV0Zi04XCIpLCB7XHJcblx0XHRcdFx0XHR0eXBlOiBcInRleHQvaHRtbFwiXHJcblx0XHRcdFx0fSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcblx0XHRcdFx0XHRpZiAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcihlcnJvci5lcnJvciwgZXJyb3IucmVhc29uKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpbnN0YW5jZUZpbGUubmFtZShpbnMubmFtZSArIFwiLmh0bWxcIik7XHJcblx0XHRcdFx0XHRpbnN0YW5jZUZpbGUuc2l6ZShpbnN0YW5jZUh0bWwubGVuZ3RoKTtcclxuXHJcblx0XHRcdFx0XHR2YXIgbWV0YWRhdGEgPSB7XHJcblx0XHRcdFx0XHRcdG93bmVyOiB1c2VyX2lkLFxyXG5cdFx0XHRcdFx0XHRvd25lcl9uYW1lOiB1c2VyX2luZm8ubmFtZSxcclxuXHRcdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxyXG5cdFx0XHRcdFx0XHRpbnN0YW5jZTogbmV3X2luc19pZCxcclxuXHRcdFx0XHRcdFx0YXBwcm92ZTogYXBwcl9vYmouX2lkLFxyXG5cdFx0XHRcdFx0XHRjdXJyZW50OiB0cnVlXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0aW5zdGFuY2VGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XHJcblx0XHRcdFx0XHR2YXIgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KGluc3RhbmNlRmlsZSk7XHJcblx0XHRcdFx0XHRmaWxlT2JqLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRcdCRzZXQ6IHtcclxuXHRcdFx0XHRcdFx0XHQnbWV0YWRhdGEucGFyZW50JzogZmlsZU9iai5faWRcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHQvLyB9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0Ly8gICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcblx0XHRcdFx0Ly8gfVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoaXNGb3J3YXJkQXR0YWNobWVudHMgJiYgYWN0aW9uX3R5cGUgPT0gJ2ZvcndhcmQnKSB7XHJcblx0XHRcdFx0dmFyIGZpbGVzID0gY29sbGVjdGlvbi5maW5kKHtcclxuXHRcdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlX2lkLFxyXG5cdFx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0ZmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xyXG5cdFx0XHRcdFx0Ly8g5Yik5pat5paw55qE5rWB56iL5byA5aeL6IqC54K55piv5ZCm5pyJ57yW6L6R5q2j5paH5ZKM57yW6L6R6ZmE5Lu25p2D6ZmQXHJcblx0XHRcdFx0XHRpZiAoZi5tZXRhZGF0YS5tYWluID09IHRydWUpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGNhbl9lZGl0X21haW5fYXR0YWNoICE9IHRydWUgJiYgY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCAhPSB0cnVlKVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGlmIChjYW5fZWRpdF9ub3JtYWxfYXR0YWNoICE9IHRydWUpXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHZhciBuZXdGaWxlID0gbmV3IEZTLkZpbGUoKTtcclxuXHRcdFx0XHRcdG5ld0ZpbGUuYXR0YWNoRGF0YShmLmNyZWF0ZVJlYWRTdHJlYW0oJ2luc3RhbmNlcycpLCB7XHJcblx0XHRcdFx0XHRcdHR5cGU6IGYub3JpZ2luYWwudHlwZVxyXG5cdFx0XHRcdFx0fSwgZnVuY3Rpb24gKGVycikge1xyXG5cdFx0XHRcdFx0XHRpZiAoZXJyKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcihlcnIuZXJyb3IsIGVyci5yZWFzb24pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdG5ld0ZpbGUubmFtZShmLm5hbWUoKSk7XHJcblx0XHRcdFx0XHRcdG5ld0ZpbGUuc2l6ZShmLnNpemUoKSk7XHJcblx0XHRcdFx0XHRcdHZhciBtZXRhZGF0YSA9IHtcclxuXHRcdFx0XHRcdFx0XHRvd25lcjogdXNlcl9pZCxcclxuXHRcdFx0XHRcdFx0XHRvd25lcl9uYW1lOiB1c2VyX2luZm8ubmFtZSxcclxuXHRcdFx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXHJcblx0XHRcdFx0XHRcdFx0aW5zdGFuY2U6IG5ld19pbnNfaWQsXHJcblx0XHRcdFx0XHRcdFx0YXBwcm92ZTogYXBwcl9vYmouX2lkLFxyXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnQ6IHRydWVcclxuXHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0aWYgKGYubWV0YWRhdGEubWFpbiA9PSB0cnVlICYmIGNhbl9lZGl0X21haW5fYXR0YWNoID09IHRydWUpIHtcclxuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5tYWluID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XHJcblx0XHRcdFx0XHRcdHZhciBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQobmV3RmlsZSk7XHJcblx0XHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHtcclxuXHRcdFx0XHRcdFx0XHQkc2V0OiB7XHJcblx0XHRcdFx0XHRcdFx0XHQnbWV0YWRhdGEucGFyZW50JzogZmlsZU9iai5faWRcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyDnu5nlvZPliY3nmoTnlLPor7fljZXlop7liqDovazlj5HorrDlvZVcclxuXHRcdFx0dmFyIGFwcHIgPSB7XHJcblx0XHRcdFx0J19pZCc6IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHIsXHJcblx0XHRcdFx0J2luc3RhbmNlJzogaW5zdGFuY2VfaWQsXHJcblx0XHRcdFx0J3RyYWNlJzogY3VycmVudF90cmFjZV9pZCxcclxuXHRcdFx0XHQnaXNfZmluaXNoZWQnOiB0cnVlLFxyXG5cdFx0XHRcdCd1c2VyJzogdXNlcl9pZCxcclxuXHRcdFx0XHQndXNlcl9uYW1lJzogdXNlcl9pbmZvLm5hbWUsXHJcblx0XHRcdFx0J2hhbmRsZXInOiB1c2VyX2lkLFxyXG5cdFx0XHRcdCdoYW5kbGVyX25hbWUnOiB1c2VyX2luZm8ubmFtZSxcclxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb24nOiBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbixcclxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSc6IHNwYWNlX3VzZXJfb3JnX2luZm8ubmFtZSxcclxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUnOiBzcGFjZV91c2VyX29yZ19pbmZvLmZ1bGxuYW1lLFxyXG5cdFx0XHRcdCd0eXBlJzogYWN0aW9uX3R5cGUsXHJcblx0XHRcdFx0J3N0YXJ0X2RhdGUnOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdCdmaW5pc2hfZGF0ZSc6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0J2lzX3JlYWQnOiBmYWxzZSxcclxuXHRcdFx0XHQnanVkZ2UnOiAnc3VibWl0dGVkJyxcclxuXHRcdFx0XHQnZnJvbV91c2VyJzogY3VycmVudF91c2VyX2lkLFxyXG5cdFx0XHRcdCdmcm9tX3VzZXJfbmFtZSc6IGZyb21fdXNlcl9uYW1lLFxyXG5cdFx0XHRcdCdmb3J3YXJkX3NwYWNlJzogc3BhY2VfaWQsXHJcblx0XHRcdFx0J2ZvcndhcmRfaW5zdGFuY2UnOiBuZXdfaW5zX2lkLFxyXG5cdFx0XHRcdCdkZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uLFxyXG5cdFx0XHRcdCdmcm9tX2FwcHJvdmVfaWQnOiBmcm9tX2FwcHJvdmVfaWRcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGZvcndhcmRfYXBwcm92ZXMucHVzaChhcHByKTtcclxuXHJcblx0XHRcdG5ld19pbnNfaWRzLnB1c2gobmV3X2luc19pZCk7XHJcblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcclxuXHRcdH0pXHJcblxyXG5cdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xyXG5cdFx0dmFyIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcclxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IGN1cnJlbnRfdHJhY2VfaWRcclxuXHRcdH0sIHtcclxuXHRcdFx0JHNldDogc2V0X29iaixcclxuXHRcdFx0JGFkZFRvU2V0OiB7XHJcblx0XHRcdFx0J3RyYWNlcy4kLmFwcHJvdmVzJzoge1xyXG5cdFx0XHRcdFx0JGVhY2g6IGZvcndhcmRfYXBwcm92ZXNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmIChyKSB7XHJcblx0XHRcdF8uZWFjaChjdXJyZW50X3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdFx0aWYgKGEuX2lkID09IGZyb21fYXBwcm92ZV9pZCkge1xyXG5cdFx0XHRcdFx0dmFyIHVwZGF0ZV9yZWFkID0ge307XHJcblx0XHRcdFx0XHR1cGRhdGVfcmVhZFtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcclxuXHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxyXG5cdFx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogY3VycmVudF90cmFjZV9pZFxyXG5cdFx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0XHQkc2V0OiB1cGRhdGVfcmVhZFxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YTogeyBuZXdfaW5zX2lkczogbmV3X2luc19pZHMgfVxyXG5cdFx0fSlcclxuXHR9IGNhdGNoIChlKSB7XHJcblx0XHRjb25zb2xlLmVycm9yKGUuc3RhY2spXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdGVycm9yczogW2VdXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0fVxyXG5cclxufSkiLCJKc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvd29ya2Zsb3cvaW5zdGFuY2UvOmluc3RhbmNlSWQnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEsIHJlcylcclxuXHRcdGN1cnJlbnRfdXNlcl9pZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cdFx0cmVxX2FzeW5jID0gXy5oYXMocmVxLnF1ZXJ5LCAnYXN5bmMnKTtcclxuXHRcdGluc0lkID0gcmVxLnBhcmFtcy5pbnN0YW5jZUlkXHJcblxyXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHsgZmllbGRzOiB7IHNwYWNlOiAxLCBmbG93OiAxLCBzdGF0ZTogMSwgaW5ib3hfdXNlcnM6IDEsIGNjX3VzZXJzOiAxLCBvdXRib3hfdXNlcnM6IDEsIHN1Ym1pdHRlcjogMSwgYXBwbGljYW50OiAxIH0gfSlcclxuXHJcblx0XHRpZiBub3QgaW5zXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlSWQgaXMgd3Jvbmcgb3IgaW5zdGFuY2Ugbm90IGV4aXN0cy4nKVxyXG5cclxuXHRcdHNwYWNlSWQgPSBpbnMuc3BhY2VcclxuXHRcdGZsb3dJZCA9IGlucy5mbG93XHJcblxyXG5cdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZUlkLCB1c2VyOiBjdXJyZW50X3VzZXJfaWQgfSkuY291bnQoKSBpcyAwXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ3VzZXIgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlLicpXHJcblxyXG5cdFx0Ym94ID0gJydcclxuXHJcblx0XHRpZiAoaW5zLmluYm94X3VzZXJzPy5pbmNsdWRlcyBjdXJyZW50X3VzZXJfaWQpIG9yIChpbnMuY2NfdXNlcnM/LmluY2x1ZGVzIGN1cnJlbnRfdXNlcl9pZClcclxuXHRcdFx0Ym94ID0gJ2luYm94J1xyXG5cdFx0ZWxzZSBpZiBpbnMub3V0Ym94X3VzZXJzPy5pbmNsdWRlcyBjdXJyZW50X3VzZXJfaWRcclxuXHRcdFx0Ym94ID0gJ291dGJveCdcclxuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdkcmFmdCcgYW5kIGlucy5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyX2lkXHJcblx0XHRcdGJveCA9ICdkcmFmdCdcclxuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdwZW5kaW5nJyBhbmQgKGlucy5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyX2lkIG9yIGlucy5hcHBsaWNhbnQgaXMgY3VycmVudF91c2VyX2lkKVxyXG5cdFx0XHRib3ggPSAncGVuZGluZydcclxuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdjb21wbGV0ZWQnIGFuZCBpbnMuc3VibWl0dGVyIGlzIGN1cnJlbnRfdXNlcl9pZFxyXG5cdFx0XHRib3ggPSAnY29tcGxldGVkJ1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHQjIOmqjOivgWxvZ2luIHVzZXJfaWTlr7nor6XmtYHnqIvmnInnrqHnkIbnlLPor7fljZXnmoTmnYPpmZBcclxuXHRcdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd0lkLCBjdXJyZW50X3VzZXJfaWQpXHJcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZCwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcclxuXHRcdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSlcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwibm8gcGVybWlzc2lvbi5cIilcclxuXHRcdFx0Ym94ID0gJ21vbml0b3InXHJcblxyXG5cdFx0cmVkaXJlY3RUbyA9IFwid29ya2Zsb3cvc3BhY2UvI3tzcGFjZUlkfS8je2JveH0vI3tpbnNJZH1cIlxyXG5cdFx0cmVkaXJlY3RUb1VybCA9IE1ldGVvci5hYnNvbHV0ZVVybChyZWRpcmVjdFRvKVxyXG5cdFx0aWYgcmVxX2FzeW5jICMgfHwgcmVxLmdldChcIlgtUmVxdWVzdGVkLVdpdGhcIikgPT09ICdYTUxIdHRwUmVxdWVzdCdcclxuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcclxuXHRcdFx0XHRcInN0YXR1c1wiOiAzMDIsXHJcblx0XHRcdFx0XCJyZWRpcmVjdFwiOiByZWRpcmVjdFRvXHJcblx0XHRcdH0pO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXMuc2V0SGVhZGVyIFwiTG9jYXRpb25cIiwgcmVkaXJlY3RUb1VybFxyXG5cdFx0XHRyZXMud3JpdGVIZWFkIDMwMlxyXG5cdFx0XHRyZXMuZW5kKClcclxuXHRcdFx0cmV0dXJuXHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XHJcbiIsIkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS93b3JrZmxvdy9pbnN0YW5jZS86aW5zdGFuY2VJZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBib3gsIGN1cnJlbnRfdXNlcl9pZCwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3dJZCwgaW5zLCBpbnNJZCwgcGVybWlzc2lvbnMsIHJlZGlyZWN0VG8sIHJlZGlyZWN0VG9VcmwsIHJlZiwgcmVmMSwgcmVmMiwgcmVxX2FzeW5jLCBzcGFjZSwgc3BhY2VJZDtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEsIHJlcyk7XG4gICAgY3VycmVudF91c2VyX2lkID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIHJlcV9hc3luYyA9IF8uaGFzKHJlcS5xdWVyeSwgJ2FzeW5jJyk7XG4gICAgaW5zSWQgPSByZXEucGFyYW1zLmluc3RhbmNlSWQ7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgZmxvdzogMSxcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGluYm94X3VzZXJzOiAxLFxuICAgICAgICBjY191c2VyczogMSxcbiAgICAgICAgb3V0Ym94X3VzZXJzOiAxLFxuICAgICAgICBzdWJtaXR0ZXI6IDEsXG4gICAgICAgIGFwcGxpY2FudDogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdpbnN0YW5jZUlkIGlzIHdyb25nIG9yIGluc3RhbmNlIG5vdCBleGlzdHMuJyk7XG4gICAgfVxuICAgIHNwYWNlSWQgPSBpbnMuc3BhY2U7XG4gICAgZmxvd0lkID0gaW5zLmZsb3c7XG4gICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgICB1c2VyOiBjdXJyZW50X3VzZXJfaWRcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICd1c2VyIGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZS4nKTtcbiAgICB9XG4gICAgYm94ID0gJyc7XG4gICAgaWYgKCgocmVmID0gaW5zLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkgOiB2b2lkIDApIHx8ICgocmVmMSA9IGlucy5jY191c2VycykgIT0gbnVsbCA/IHJlZjEuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSA6IHZvaWQgMCkpIHtcbiAgICAgIGJveCA9ICdpbmJveCc7XG4gICAgfSBlbHNlIGlmICgocmVmMiA9IGlucy5vdXRib3hfdXNlcnMpICE9IG51bGwgPyByZWYyLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkgOiB2b2lkIDApIHtcbiAgICAgIGJveCA9ICdvdXRib3gnO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAnZHJhZnQnICYmIGlucy5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlcl9pZCkge1xuICAgICAgYm94ID0gJ2RyYWZ0JztcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ3BlbmRpbmcnICYmIChpbnMuc3VibWl0dGVyID09PSBjdXJyZW50X3VzZXJfaWQgfHwgaW5zLmFwcGxpY2FudCA9PT0gY3VycmVudF91c2VyX2lkKSkge1xuICAgICAgYm94ID0gJ3BlbmRpbmcnO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAnY29tcGxldGVkJyAmJiBpbnMuc3VibWl0dGVyID09PSBjdXJyZW50X3VzZXJfaWQpIHtcbiAgICAgIGJveCA9ICdjb21wbGV0ZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93SWQsIGN1cnJlbnRfdXNlcl9pZCk7XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlSWQsIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgYWRtaW5zOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcIm5vIHBlcm1pc3Npb24uXCIpO1xuICAgICAgfVxuICAgICAgYm94ID0gJ21vbml0b3InO1xuICAgIH1cbiAgICByZWRpcmVjdFRvID0gXCJ3b3JrZmxvdy9zcGFjZS9cIiArIHNwYWNlSWQgKyBcIi9cIiArIGJveCArIFwiL1wiICsgaW5zSWQ7XG4gICAgcmVkaXJlY3RUb1VybCA9IE1ldGVvci5hYnNvbHV0ZVVybChyZWRpcmVjdFRvKTtcbiAgICBpZiAocmVxX2FzeW5jKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1xuICAgICAgICBcInN0YXR1c1wiOiAzMDIsXG4gICAgICAgIFwicmVkaXJlY3RcIjogcmVkaXJlY3RUb1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zZXRIZWFkZXIoXCJMb2NhdGlvblwiLCByZWRpcmVjdFRvVXJsKTtcbiAgICAgIHJlcy53cml0ZUhlYWQoMzAyKTtcbiAgICAgIHJlcy5lbmQoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcclxuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZyDojrflj5blvoXlip7mlofku7ZcclxuXHJcbkBhcGlEZXNjcmlwdGlvbiDojrflj5blvZPliY3nlKjmiLfnmoTlvoXlip7kuovpobnliJfooahcclxuXHJcbkBhcGlOYW1lIGdldEluYm94XHJcblxyXG5AYXBpR3JvdXAgV29ya2Zsb3dcclxuXHJcbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cclxuXHJcbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcclxuXHJcbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcclxuXHR7XHJcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXHJcblx0fVxyXG5cclxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxyXG5cdHtcclxuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG5cdFx0XCJkYXRhXCI6IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdFwiaWRcIjogXCJnN3dva1hOa1I5eXhIdkE0RFwiLFxyXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxyXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paH5rWB56iLXCIsXHJcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXHJcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paH5rWB56iLIDFcIixcclxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IG51bGwsXHJcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcclxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNy0yNVQwNjozNjo0OC40OTJaXCIsXHJcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcclxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcclxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXHJcblx0XHRcdFx0XCJpc19yZWFkXCI6IGZhbHNlLFxyXG5cdFx0XHRcdFwidmFsdWVzXCI6IHt9XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRcImlkXCI6IFwiV3FLU3JXUW95d2dKYU1wOWtcIixcclxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMFpcIixcclxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh1xcblwiLFxyXG5cdFx0XHRcdFwic3BhY2VfbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxyXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh1xcbiAxXCIsXHJcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBcIuaut+S6rui+iVwiLFxyXG5cdFx0XHRcdFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCI6IFwi5a6h5om5546LXCIsXHJcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDYtMjdUMTA6MjY6MTkuNDY4WlwiLFxyXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXHJcblx0XHRcdFx0XCJzcGFjZV9pZFwiOiBcImtmRHNNdjdnQmV3bUdYR0VMXCIsXHJcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIxWlwiLFxyXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiB0cnVlLFxyXG5cdFx0XHRcdFwidmFsdWVzXCI6IHt9XHJcblx0XHRcdH1cclxuXHRcdF1cclxuXHR9XHJcbiMjI1xyXG5Kc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cclxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXSB8fCByZXEucXVlcnk/LnNwYWNlSWRcclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBzcGFjZV9pZCcpXHJcblxyXG5cdFx0dXNlcl9pZCA9IHJlcS51c2VySWRcclxuXHJcblx0XHRpZiAhdXNlcl9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdOb3QgbG9nZ2VkIGluJylcclxuXHJcblx0XHRpZiBkYi51c2Vycy5maW5kKHsgX2lkOiB1c2VyX2lkIH0pLmNvdW50KCkgaXMgMFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXHJcblxyXG5cdFx0bGltaXQgPSByZXEucXVlcnk/LmxpbWl0IHx8IDUwMFxyXG5cclxuXHRcdGxpbWl0ID0gcGFyc2VJbnQobGltaXQpXHJcblxyXG5cdFx0dXNlcm5hbWUgPSByZXEucXVlcnk/LnVzZXJuYW1lXHJcblxyXG5cdFx0dXNlcmlkID0gcmVxLnF1ZXJ5Py51c2VyaWRcclxuXHJcblx0XHRhdHRhY2ggPSByZXEucXVlcnk/LmF0dGFjaFxyXG5cclxuXHRcdHdvcmtmbG93X2NhdGVnb3JpZXMgPSByZXEucXVlcnk/LndvcmtmbG93X2NhdGVnb3JpZXNcclxuXHJcblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXHJcblx0XHRzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblxyXG5cdFx0IyDlpoLmnpzlvZPliY3nlKjmiLfmmK/lt6XkvZzljLrnrqHnkIblkZjvvIzliJnpgJrov4fmn6XnnIt1cmzkuIrmmK/lkKbmnIl1c2VybmFtZVxcdXNlcmlkIO+8jFxyXG5cdFx0IyDlpoLmnpzmnInvvIzliJnov5Tlm551c2VybmFtZVxcdXNlcmlk5a+55bqU55qE55So5oi377yM5ZCm5YiZ6L+U5Zue5b2T5YmN55So5oi35b6F5Yqe44CCXHJcblx0XHQjIHVzZXJuYW1lXFx1c2VyaWTpg73lrZjlnKjml7bvvIx1c2VyaWTkvJjlhYhcclxuXHRcdHNwZWNpYWxfdXNlcl9pZFxyXG5cdFx0aWYgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJfaWQpXHJcblx0XHRcdGlmIHVzZXJpZFxyXG5cdFx0XHRcdGlmIGRiLnVzZXJzLmZpbmQoeyBfaWQ6IHVzZXJpZCB9KS5jb3VudCgpIDwgMVxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJpZDogI3t1c2VyaWR9XCIpXHJcblxyXG5cdFx0XHRcdHNwZWNpYWxfdXNlcl9pZCA9IHVzZXJpZFxyXG5cdFx0XHRlbHNlIGlmIHVzZXJuYW1lXHJcblx0XHRcdFx0dSA9IGRiLnVzZXJzLmZpbmRPbmUoeyB1c2VybmFtZTogdXNlcm5hbWUgfSwgeyBmaWVsZHM6IHsgX2lkOiAxIH0gfSlcclxuXHRcdFx0XHRpZiBfLmlzRW1wdHkodSlcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJjYW4gbm90IGZpbmQgdXNlciBieSB1c2VybmFtZTogI3t1c2VybmFtZX1cIilcclxuXHJcblx0XHRcdFx0c3BlY2lhbF91c2VyX2lkID0gdS5faWRcclxuXHJcblx0XHRyZXN1bHRfaW5zdGFuY2VzID0gbmV3IEFycmF5XHJcblxyXG5cdFx0aXNfcmVhZCA9IGZhbHNlXHJcblx0XHRzdGFydF9kYXRlID0gJydcclxuXHRcdHVpZCA9IHVzZXJfaWRcclxuXHRcdHF1ZXJ5ID0ge1xyXG5cdFx0XHQkb3I6IFt7IGluYm94X3VzZXJzOiB1c2VyX2lkIH0sIHsgY2NfdXNlcnM6IHVzZXJfaWQgfV1cclxuXHRcdH1cclxuXHJcblx0XHRpZiBzcGVjaWFsX3VzZXJfaWRcclxuXHRcdFx0dWlkID0gc3BlY2lhbF91c2VyX2lkXHJcblx0XHRcdHF1ZXJ5ID0ge1xyXG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHQkb3I6IFt7IGluYm94X3VzZXJzOiBzcGVjaWFsX3VzZXJfaWQgfSwgeyBjY191c2Vyczogc3BlY2lhbF91c2VyX2lkIH1dXHJcblx0XHRcdH1cclxuXHJcblx0XHRpZiB3b3JrZmxvd19jYXRlZ29yaWVzXHJcblx0XHRcdHF1ZXJ5LmNhdGVnb3J5ID0geyAkaW46IHdvcmtmbG93X2NhdGVnb3JpZXMuc3BsaXQoJywnKSB9XHJcblxyXG5cdFx0c3BhY2VfbmFtZXMgPSB7fVxyXG5cdFx0c3BhY2VfbmFtZXNbc3BhY2UuX2lkXSA9IHNwYWNlLm5hbWVcclxuXHJcblx0XHRpZiBsaW1pdCA+IDBcclxuXHRcdFx0ZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHsgc29ydDogeyBtb2RpZmllZDogLTEgfSwgbGltaXQ6IGxpbWl0IH0pLmZvckVhY2ggKGkpIC0+XHJcblxyXG5cdFx0XHRcdGlmIGkuaW5ib3hfdXNlcnM/LmluY2x1ZGVzKHVpZClcclxuXHRcdFx0XHRcdF8uZWFjaCBpLnRyYWNlcywgKHQpIC0+XHJcblx0XHRcdFx0XHRcdGlmIHQuaXNfZmluaXNoZWQgaXMgZmFsc2VcclxuXHRcdFx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGEpIC0+XHJcblx0XHRcdFx0XHRcdFx0XHRpZiBhLnVzZXIgaXMgdWlkIGFuZCBhLnR5cGUgaXNudCAnY2MnIGFuZCBub3QgYS5pc19maW5pc2hlZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpc19yZWFkID0gYS5pc19yZWFkXHJcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRfLmVhY2ggaS50cmFjZXMsICh0KSAtPlxyXG5cdFx0XHRcdFx0XHRpZiBub3Qgc3RhcnRfZGF0ZSBhbmQgdC5hcHByb3Zlc1xyXG5cdFx0XHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cclxuXHRcdFx0XHRcdFx0XHRcdGlmIG5vdCBzdGFydF9kYXRlIGFuZCBhLnVzZXIgaXMgdWlkIGFuZCBhLnR5cGUgaXMgJ2NjJyBhbmQgbm90IGEuaXNfZmluaXNoZWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNfcmVhZCA9IGEuaXNfcmVhZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlXHJcblxyXG5cdFx0XHRcdGlmIG5vdCBzcGFjZV9uYW1lc1tpLnNwYWNlXVxyXG5cdFx0XHRcdFx0c3BhY2VfbmFtZXNbaS5zcGFjZV0gPSBkYi5zcGFjZXMuZmluZE9uZShpLnNwYWNlLCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSk/Lm5hbWVcclxuXHJcblx0XHRcdFx0aCA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRoW1wiaWRcIl0gPSBpW1wiX2lkXCJdXHJcblx0XHRcdFx0aFtcInN0YXJ0X2RhdGVcIl0gPSBzdGFydF9kYXRlXHJcblx0XHRcdFx0aFtcImZsb3dfbmFtZVwiXSA9IGkuZmxvd19uYW1lXHJcblx0XHRcdFx0aFtcInNwYWNlX25hbWVcIl0gPSBzcGFjZV9uYW1lc1tpLnNwYWNlXVxyXG5cdFx0XHRcdGhbXCJuYW1lXCJdID0gaVtcIm5hbWVcIl1cclxuXHRcdFx0XHRoW1wiYXBwbGljYW50X25hbWVcIl0gPSBpW1wiYXBwbGljYW50X25hbWVcIl1cclxuXHRcdFx0XHRoW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdID0gaVtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXVxyXG5cdFx0XHRcdGhbXCJzdWJtaXRfZGF0ZVwiXSA9IGlbXCJzdWJtaXRfZGF0ZVwiXVxyXG5cdFx0XHRcdGhbXCJzdGVwX25hbWVcIl0gPSBpLmN1cnJlbnRfc3RlcF9uYW1lXHJcblx0XHRcdFx0aFtcInNwYWNlX2lkXCJdID0gaS5zcGFjZVxyXG5cdFx0XHRcdGhbXCJtb2RpZmllZFwiXSA9IGlbXCJtb2RpZmllZFwiXVxyXG5cdFx0XHRcdGhbXCJpc19yZWFkXCJdID0gaXNfcmVhZFxyXG5cdFx0XHRcdGhbXCJ2YWx1ZXNcIl0gPSBpW1widmFsdWVzXCJdXHJcblxyXG5cdFx0XHRcdGlmIGF0dGFjaCBpcyAndHJ1ZSdcclxuXHRcdFx0XHRcdGguYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeyAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpLl9pZCwgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyAkbmU6IHRydWUgfSB9LCB7IGZpZWxkczogeyBjb3BpZXM6IDAgfSB9KS5mZXRjaCgpXHJcblxyXG5cdFx0XHRcdHJlc3VsdF9pbnN0YW5jZXMucHVzaChoKVxyXG5cclxuXHRcdG5vX2xpbWl0X2NvdW50ID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnkpLmNvdW50KClcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdF9pbnN0YW5jZXMsIGNvdW50OiBub19saW1pdF9jb3VudCB9XHJcblx0XHR9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLnJlYXNvbiB9XSB9XHJcblx0XHR9XHJcblxyXG4iLCJcbi8qXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nIOiOt+WPluW+heWKnuaWh+S7tlxuXG5AYXBpRGVzY3JpcHRpb24g6I635Y+W5b2T5YmN55So5oi355qE5b6F5Yqe5LqL6aG55YiX6KGoXG5cbkBhcGlOYW1lIGdldEluYm94XG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuXHR7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcblx0e1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwiaWRcIjogXCJnN3dva1hOa1I5eXhIdkE0RFwiLFxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlofmtYHnqItcIixcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh+a1geeoiyAxXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogbnVsbCxcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDctMjVUMDY6MzY6NDguNDkyWlwiLFxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxuXHRcdFx0XHRcImlzX3JlYWRcIjogZmFsc2UsXG5cdFx0XHRcdFwidmFsdWVzXCI6IHt9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcImlkXCI6IFwiV3FLU3JXUW95d2dKYU1wOWtcIixcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjBaXCIsXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paHXFxuXCIsXG5cdFx0XHRcdFwic3BhY2VfbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlodcXG4gMVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IFwi5q635Lqu6L6JXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA2LTI3VDEwOjI2OjE5LjQ2OFpcIixcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcblx0XHRcdFx0XCJzcGFjZV9pZFwiOiBcImtmRHNNdjdnQmV3bUdYR0VMXCIsXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMVpcIixcblx0XHRcdFx0XCJpc19yZWFkXCI6IHRydWUsXG5cdFx0XHRcdFwidmFsdWVzXCI6IHt9XG5cdFx0XHR9XG5cdFx0XVxuXHR9XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXR0YWNoLCBlLCBpc19yZWFkLCBsaW1pdCwgbm9fbGltaXRfY291bnQsIHF1ZXJ5LCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlc3VsdF9pbnN0YW5jZXMsIHNwYWNlLCBzcGFjZV9pZCwgc3BhY2VfbmFtZXMsIHNwZWNpYWxfdXNlcl9pZCwgc3RhcnRfZGF0ZSwgdSwgdWlkLCB1c2VyX2lkLCB1c2VyaWQsIHVzZXJuYW1lLCB3b3JrZmxvd19jYXRlZ29yaWVzO1xuICB0cnkge1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ10gfHwgKChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuc3BhY2VJZCA6IHZvaWQgMCk7XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBzcGFjZV9pZCcpO1xuICAgIH1cbiAgICB1c2VyX2lkID0gcmVxLnVzZXJJZDtcbiAgICBpZiAoIXVzZXJfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ05vdCBsb2dnZWQgaW4nKTtcbiAgICB9XG4gICAgaWYgKGRiLnVzZXJzLmZpbmQoe1xuICAgICAgX2lkOiB1c2VyX2lkXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgbGltaXQgPSAoKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmxpbWl0IDogdm9pZCAwKSB8fCA1MDA7XG4gICAgbGltaXQgPSBwYXJzZUludChsaW1pdCk7XG4gICAgdXNlcm5hbWUgPSAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIudXNlcm5hbWUgOiB2b2lkIDA7XG4gICAgdXNlcmlkID0gKHJlZjMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYzLnVzZXJpZCA6IHZvaWQgMDtcbiAgICBhdHRhY2ggPSAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQuYXR0YWNoIDogdm9pZCAwO1xuICAgIHdvcmtmbG93X2NhdGVnb3JpZXMgPSAocmVmNSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjUud29ya2Zsb3dfY2F0ZWdvcmllcyA6IHZvaWQgMDtcbiAgICBzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHNwZWNpYWxfdXNlcl9pZDtcbiAgICBpZiAoc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICBpZiAodXNlcmlkKSB7XG4gICAgICAgIGlmIChkYi51c2Vycy5maW5kKHtcbiAgICAgICAgICBfaWQ6IHVzZXJpZFxuICAgICAgICB9KS5jb3VudCgpIDwgMSkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJjYW4gbm90IGZpbmQgdXNlciBieSB1c2VyaWQ6IFwiICsgdXNlcmlkKTtcbiAgICAgICAgfVxuICAgICAgICBzcGVjaWFsX3VzZXJfaWQgPSB1c2VyaWQ7XG4gICAgICB9IGVsc2UgaWYgKHVzZXJuYW1lKSB7XG4gICAgICAgIHUgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgX2lkOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKF8uaXNFbXB0eSh1KSkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJjYW4gbm90IGZpbmQgdXNlciBieSB1c2VybmFtZTogXCIgKyB1c2VybmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3BlY2lhbF91c2VyX2lkID0gdS5faWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdF9pbnN0YW5jZXMgPSBuZXcgQXJyYXk7XG4gICAgaXNfcmVhZCA9IGZhbHNlO1xuICAgIHN0YXJ0X2RhdGUgPSAnJztcbiAgICB1aWQgPSB1c2VyX2lkO1xuICAgIHF1ZXJ5ID0ge1xuICAgICAgJG9yOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpbmJveF91c2VyczogdXNlcl9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2NfdXNlcnM6IHVzZXJfaWRcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gICAgaWYgKHNwZWNpYWxfdXNlcl9pZCkge1xuICAgICAgdWlkID0gc3BlY2lhbF91c2VyX2lkO1xuICAgICAgcXVlcnkgPSB7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNjX3VzZXJzOiBzcGVjaWFsX3VzZXJfaWRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH07XG4gICAgfVxuICAgIGlmICh3b3JrZmxvd19jYXRlZ29yaWVzKSB7XG4gICAgICBxdWVyeS5jYXRlZ29yeSA9IHtcbiAgICAgICAgJGluOiB3b3JrZmxvd19jYXRlZ29yaWVzLnNwbGl0KCcsJylcbiAgICAgIH07XG4gICAgfVxuICAgIHNwYWNlX25hbWVzID0ge307XG4gICAgc3BhY2VfbmFtZXNbc3BhY2UuX2lkXSA9IHNwYWNlLm5hbWU7XG4gICAgaWYgKGxpbWl0ID4gMCkge1xuICAgICAgZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICAgICAgc29ydDoge1xuICAgICAgICAgIG1vZGlmaWVkOiAtMVxuICAgICAgICB9LFxuICAgICAgICBsaW1pdDogbGltaXRcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICB2YXIgaCwgcmVmNiwgcmVmNztcbiAgICAgICAgaWYgKChyZWY2ID0gaS5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZjYuaW5jbHVkZXModWlkKSA6IHZvaWQgMCkge1xuICAgICAgICAgIF8uZWFjaChpLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgaWYgKHQuaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgIGlmIChhLnVzZXIgPT09IHVpZCAmJiBhLnR5cGUgIT09ICdjYycgJiYgIWEuaXNfZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgIGlzX3JlYWQgPSBhLmlzX3JlYWQ7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF8uZWFjaChpLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgaWYgKCFzdGFydF9kYXRlICYmIHQuYXBwcm92ZXMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGFydF9kYXRlICYmIGEudXNlciA9PT0gdWlkICYmIGEudHlwZSA9PT0gJ2NjJyAmJiAhYS5pc19maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgaXNfcmVhZCA9IGEuaXNfcmVhZDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzcGFjZV9uYW1lc1tpLnNwYWNlXSkge1xuICAgICAgICAgIHNwYWNlX25hbWVzW2kuc3BhY2VdID0gKHJlZjcgPSBkYi5zcGFjZXMuZmluZE9uZShpLnNwYWNlLCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSAhPSBudWxsID8gcmVmNy5uYW1lIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGggPSBuZXcgT2JqZWN0O1xuICAgICAgICBoW1wiaWRcIl0gPSBpW1wiX2lkXCJdO1xuICAgICAgICBoW1wic3RhcnRfZGF0ZVwiXSA9IHN0YXJ0X2RhdGU7XG4gICAgICAgIGhbXCJmbG93X25hbWVcIl0gPSBpLmZsb3dfbmFtZTtcbiAgICAgICAgaFtcInNwYWNlX25hbWVcIl0gPSBzcGFjZV9uYW1lc1tpLnNwYWNlXTtcbiAgICAgICAgaFtcIm5hbWVcIl0gPSBpW1wibmFtZVwiXTtcbiAgICAgICAgaFtcImFwcGxpY2FudF9uYW1lXCJdID0gaVtcImFwcGxpY2FudF9uYW1lXCJdO1xuICAgICAgICBoW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdID0gaVtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgICAgaFtcInN1Ym1pdF9kYXRlXCJdID0gaVtcInN1Ym1pdF9kYXRlXCJdO1xuICAgICAgICBoW1wic3RlcF9uYW1lXCJdID0gaS5jdXJyZW50X3N0ZXBfbmFtZTtcbiAgICAgICAgaFtcInNwYWNlX2lkXCJdID0gaS5zcGFjZTtcbiAgICAgICAgaFtcIm1vZGlmaWVkXCJdID0gaVtcIm1vZGlmaWVkXCJdO1xuICAgICAgICBoW1wiaXNfcmVhZFwiXSA9IGlzX3JlYWQ7XG4gICAgICAgIGhbXCJ2YWx1ZXNcIl0gPSBpW1widmFsdWVzXCJdO1xuICAgICAgICBpZiAoYXR0YWNoID09PSAndHJ1ZScpIHtcbiAgICAgICAgICBoLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGkuX2lkLFxuICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIGNvcGllczogMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmZldGNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdF9pbnN0YW5jZXMucHVzaChoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBub19saW1pdF9jb3VudCA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5KS5jb3VudCgpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IHJlc3VsdF9pbnN0YW5jZXMsXG4gICAgICAgIGNvdW50OiBub19saW1pdF9jb3VudFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5yZWFzb25cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJDb29raWVzID0gcmVxdWlyZShcImNvb2tpZXNcIilcclxuXHJcbk1ldGVvci5zdGFydHVwIC0+XHJcblx0V2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UgXCIvYXBpL3dvcmtmbG93L2V4cG9ydC90YWxiZV90ZW1wbGF0ZVwiLCAocmVxLCByZXMsIG5leHQpLT5cclxuXHRcdGNvb2tpZXMgPSBuZXcgQ29va2llcyggcmVxLCByZXMgKTtcclxuXHRcdCMgZmlyc3QgY2hlY2sgcmVxdWVzdCBib2R5XHJcblx0XHRpZiByZXEuYm9keVxyXG5cdFx0XHR1c2VySWQgPSByZXEuYm9keVtcIlgtVXNlci1JZFwiXVxyXG5cdFx0XHRhdXRoVG9rZW4gPSByZXEuYm9keVtcIlgtQXV0aC1Ub2tlblwiXVxyXG5cclxuXHRcdCMgdGhlbiBjaGVjayBjb29raWVcclxuXHRcdGlmICF1c2VySWQgb3IgIWF1dGhUb2tlblxyXG5cdFx0XHR1c2VySWQgPSBjb29raWVzLmdldChcIlgtVXNlci1JZFwiKVxyXG5cdFx0XHRhdXRoVG9rZW4gPSBjb29raWVzLmdldChcIlgtQXV0aC1Ub2tlblwiKVxyXG5cclxuXHRcdGlmICEodXNlcklkIGFuZCBhdXRoVG9rZW4pXHJcblx0XHRcdHJlcy53cml0ZUhlYWQoNDAxKTtcclxuXHRcdFx0cmVzLmVuZCBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW5cIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdFx0fSlcclxuXHRcdFx0cmV0dXJuIDtcclxuXHJcblx0XHRmbG93SWQgPSByZXEucXVlcnk/LmZsb3c7XHJcblxyXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge3NwYWNlOiAxLCBmb3JtOiAxLCBuYW1lOiAxfX0pXHJcblxyXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogZmxvdy5mb3JtfSwge2ZpZWxkczoge3NwYWNlOiAxLCBcImN1cnJlbnQuX2lkXCI6IDF9fSlcclxuXHJcblx0XHRpZiBfLmlzRW1wdHkoZmxvdylcclxuXHRcdFx0cmVzLndyaXRlSGVhZCg0MDEpO1xyXG5cdFx0XHRyZXMuZW5kIEpTT04uc3RyaW5naWZ5KHtcclxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBJbnZhbGlkIGZvcm1JZFwiLFxyXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRyZXR1cm4gO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpZiAhU3RlZWRvcy5pc1NwYWNlQWRtaW4oZmxvdy5zcGFjZSwgdXNlcklkKVxyXG5cdFx0XHRcdHJlcy53cml0ZUhlYWQoNDAxKTtcclxuXHRcdFx0XHRyZXMuZW5kIEpTT04uc3RyaW5naWZ5KHtcclxuXHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb25cIixcclxuXHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShmbG93LnNwYWNlLCB7IGZpZWxkczogeyBpc19wYWlkOiAxIH0gfSlcclxuXHRcdFx0aWYgIXNwYWNlPy5pc19wYWlkXHJcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRcdGNvZGU6IDQwNCxcclxuXHRcdFx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vbi1wYWlkIHNwYWNlLlwiLFxyXG5cdFx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0ZGF0YSA9IFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKHtmb3JtOiBmbG93LmZvcm0sIGZvcm1fdmVyc2lvbjogZm9ybT8uY3VycmVudD8uX2lkfSwgdHJ1ZSk7XHJcblxyXG5cdFx0ZmlsZU5hbWUgPSBmbG93Lm5hbWVcclxuXHJcblx0XHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XHJcblx0XHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JytlbmNvZGVVUkkoZmlsZU5hbWUpKycuaHRtbCcpO1xyXG5cdFx0cmVzLmVuZChkYXRhKSIsInZhciBDb29raWVzO1xuXG5Db29raWVzID0gcmVxdWlyZShcImNvb2tpZXNcIik7XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoXCIvYXBpL3dvcmtmbG93L2V4cG9ydC90YWxiZV90ZW1wbGF0ZVwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHZhciBhdXRoVG9rZW4sIGNvb2tpZXMsIGRhdGEsIGZpbGVOYW1lLCBmbG93LCBmbG93SWQsIGZvcm0sIHJlZiwgcmVmMSwgc3BhY2UsIHVzZXJJZDtcbiAgICBjb29raWVzID0gbmV3IENvb2tpZXMocmVxLCByZXMpO1xuICAgIGlmIChyZXEuYm9keSkge1xuICAgICAgdXNlcklkID0gcmVxLmJvZHlbXCJYLVVzZXItSWRcIl07XG4gICAgICBhdXRoVG9rZW4gPSByZXEuYm9keVtcIlgtQXV0aC1Ub2tlblwiXTtcbiAgICB9XG4gICAgaWYgKCF1c2VySWQgfHwgIWF1dGhUb2tlbikge1xuICAgICAgdXNlcklkID0gY29va2llcy5nZXQoXCJYLVVzZXItSWRcIik7XG4gICAgICBhdXRoVG9rZW4gPSBjb29raWVzLmdldChcIlgtQXV0aC1Ub2tlblwiKTtcbiAgICB9XG4gICAgaWYgKCEodXNlcklkICYmIGF1dGhUb2tlbikpIHtcbiAgICAgIHJlcy53cml0ZUhlYWQoNDAxKTtcbiAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtQXV0aC1Ub2tlblwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmxvd0lkID0gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5mbG93IDogdm9pZCAwO1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvd0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBmb3JtOiAxLFxuICAgICAgICBuYW1lOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93LmZvcm1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIFwiY3VycmVudC5faWRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChfLmlzRW1wdHkoZmxvdykpIHtcbiAgICAgIHJlcy53cml0ZUhlYWQoNDAxKTtcbiAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBJbnZhbGlkIGZvcm1JZFwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFTdGVlZG9zLmlzU3BhY2VBZG1pbihmbG93LnNwYWNlLCB1c2VySWQpKSB7XG4gICAgICAgIHJlcy53cml0ZUhlYWQoNDAxKTtcbiAgICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvblwiLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoZmxvdy5zcGFjZSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBpc19wYWlkOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCEoc3BhY2UgIT0gbnVsbCA/IHNwYWNlLmlzX3BhaWQgOiB2b2lkIDApKSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiA0MDQsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm9uLXBhaWQgc3BhY2UuXCIsXG4gICAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGRhdGEgPSBUZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSh7XG4gICAgICBmb3JtOiBmbG93LmZvcm0sXG4gICAgICBmb3JtX3ZlcnNpb246IGZvcm0gIT0gbnVsbCA/IChyZWYxID0gZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMS5faWQgOiB2b2lkIDAgOiB2b2lkIDBcbiAgICB9LCB0cnVlKTtcbiAgICBmaWxlTmFtZSA9IGZsb3cubmFtZTtcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsICdhdHRhY2htZW50O2ZpbGVuYW1lPScgKyBlbmNvZGVVUkkoZmlsZU5hbWUpICsgJy5odG1sJyk7XG4gICAgcmV0dXJuIHJlcy5lbmQoZGF0YSk7XG4gIH0pO1xufSk7XG4iLCIjIyNcclxuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2RyYWZ0cyDmlrDlu7rnlLPor7fljZVcclxuXHJcbkBhcGlOYW1lIGNyZWF0ZUluc3RhbmNlXHJcblxyXG5AYXBpR3JvdXAgV29ya2Zsb3dcclxuXHJcbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxyXG5cclxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxyXG5cclxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxyXG5cclxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxyXG57XHJcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxyXG59XHJcblxyXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XHJcbntcclxuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcclxuICAgIFwiYXBwbGljYW50XCI6IOeUs+ivt+S6uklkLFxyXG4gICAgXCJ2YWx1ZXNcIjoge1xyXG4gICAgICAgIFwiZmllbGRzMVwiIDog5a2X5q615YC8LFxyXG4gICAgICAgIFwiZmllbGRzMlwiIDog5a2X5q615YC8LFxyXG4gICAgICAgIC4uLlxyXG4gICAgfVxyXG59XHJcblxyXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XHJcbntcclxuICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cclxufVxyXG5cclxuQGFwaUVycm9yRXhhbXBsZSB7anNvbn0gZXJyb3ItUmVzcG9uc2U6XHJcbntcclxuICAgIFwic3RhdHVzXCI6IFwiZXJyb3JcIixcclxuICAgIFwiZGF0YVwiOiB7Li4ufVxyXG59XHJcbiMjI1xyXG5Kc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cclxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdHVzZXJfaWQgPSByZXEudXNlcklkXHJcblxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiB1c2VyX2lkIH0pXHJcblxyXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXHJcblxyXG5cdFx0aWYgbm90IHNwYWNlX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIHhfc3BhY2VfaWQnKVxyXG5cclxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcclxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyX2luZm8uX2lkKVxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHJcblx0XHRpZiBub3QgaGFzaERhdGFbXCJmbG93XCJdXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbnVsbCcpXHJcblxyXG5cdFx0Zmxvd19pZCAgICAgID0gaGFzaERhdGFbXCJmbG93XCJdXHJcblx0XHRhcHBsaWNhbnRfaWQgPSBoYXNoRGF0YVtcImFwcGxpY2FudFwiXVxyXG5cdFx0YXBwbGljYW50X3VzZXJuYW1lID0gaGFzaERhdGFbXCJhcHBsaWNhbnRfdXNlcm5hbWVcIl1cclxuXHJcblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudCA9IG5ldyBPYmplY3RcclxuXHJcblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd19pZCB9LCB7IGZpZWxkczogeyBzcGFjZTogMSwgJ2N1cnJlbnQuX2lkJzogMSB9IH0pXHJcblx0XHRpZiBub3QgZmxvd1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBleGlzdHMnKVxyXG5cclxuXHRcdGlmIHNwYWNlX2lkIGlzbnQgZmxvdy5zcGFjZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpXHJcblxyXG5cdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogY3VycmVudF91c2VyX2luZm8uX2lkIH0pLmNvdW50KCkgaXMgMFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJylcclxuXHJcblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcInNwYWNlXCJdID0gc3BhY2VfaWRcclxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd1wiXSA9IGZsb3dfaWRcclxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd192ZXJzaW9uXCJdID0gZmxvdy5jdXJyZW50Ll9pZFxyXG5cclxuXHRcdGFwcGxpY2FudCA9IG51bGxcclxuXHRcdGlmIGFwcGxpY2FudF9pZCBvciBhcHBsaWNhbnRfdXNlcm5hbWVcclxuXHJcblx0XHRcdGlmIGFwcGxpY2FudF9pZFxyXG5cdFx0XHRcdGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFwcGxpY2FudF9pZCB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcclxuXHRcdFx0XHRpZiBub3QgYXBwbGljYW50XHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgd3JvbmcnKVxyXG5cclxuXHRcdFx0ZWxzZSBpZiBhcHBsaWNhbnRfdXNlcm5hbWVcclxuXHRcdFx0XHRhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHsgdXNlcm5hbWU6IGFwcGxpY2FudF91c2VybmFtZSB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcclxuXHRcdFx0XHRpZiBub3QgYXBwbGljYW50XHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnRfdXNlcm5hbWUgaXMgd3JvbmcnKVxyXG5cclxuXHRcdFx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcGxpY2FudC5faWQgfSlcclxuXHRcdFx0aWYgbm90IHNwYWNlX3VzZXJcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKVxyXG5cclxuXHRcdFx0aWYgc3BhY2VfdXNlci51c2VyX2FjY2VwdGVkIGlzbnQgdHJ1ZVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBkaXNhYmxlZCBpbiB0aGlzIHNwYWNlJylcclxuXHJcblx0XHRcdHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcilcclxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRcIl0gPSBhcHBsaWNhbnQuX2lkXHJcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X25hbWVcIl0gPSBhcHBsaWNhbnQubmFtZVxyXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25cIl0gPSAgc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxyXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXHJcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXHJcblxyXG5cdFx0YXBwbGljYW50SW5mbyA9IGFwcGxpY2FudCB8fCBjdXJyZW50X3VzZXJfaW5mb1xyXG5cclxuXHRcdHRyYWNlcyA9IFtdXHJcblx0XHR0cmFjZSA9IG5ldyBPYmplY3RcclxuXHRcdGFwcHJvdmVzID0gW11cclxuXHRcdGFwcHJvdmUgPSBuZXcgT2JqZWN0XHJcblx0XHRhcHByb3ZlW1widmFsdWVzXCJdID0gaGFzaERhdGFbXCJ2YWx1ZXNcIl1cclxuXHRcdGFwcHJvdmVzLnB1c2goYXBwcm92ZSlcclxuXHRcdHRyYWNlW1wiYXBwcm92ZXNcIl0gPSBhcHByb3Zlc1xyXG5cdFx0dHJhY2VzLnB1c2godHJhY2UpXHJcblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSA9IHRyYWNlc1xyXG5cclxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl0gPSBbYXBwbGljYW50SW5mby5faWRdXHJcblxyXG5cdFx0bmV3X2luc19pZCA9IHV1Zmxvd01hbmFnZXIuY3JlYXRlX2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBhcHBsaWNhbnRJbmZvKVxyXG5cclxuXHRcdG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShuZXdfaW5zX2lkKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogbmV3X2lucyB9XHJcblx0XHR9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxyXG5cdFx0fVxyXG4iLCJcbi8qXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzIOaWsOW7uueUs+ivt+WNlVxuXG5AYXBpTmFtZSBjcmVhdGVJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxue1xuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcbiAgICBcImFwcGxpY2FudFwiOiDnlLPor7fkurpJZCxcbiAgICBcInZhbHVlc1wiOiB7XG4gICAgICAgIFwiZmllbGRzMVwiIDog5a2X5q615YC8LFxuICAgICAgICBcImZpZWxkczJcIiA6IOWtl+auteWAvCxcbiAgICAgICAgLi4uXG4gICAgfVxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cblxuQGFwaUVycm9yRXhhbXBsZSB7anNvbn0gZXJyb3ItUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJlcnJvclwiLFxuICAgIFwiZGF0YVwiOiB7Li4ufVxufVxuICovXG5Kc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFwcGxpY2FudCwgYXBwbGljYW50SW5mbywgYXBwbGljYW50X2lkLCBhcHBsaWNhbnRfdXNlcm5hbWUsIGFwcHJvdmUsIGFwcHJvdmVzLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgZmxvd19pZCwgaGFzaERhdGEsIGluc3RhbmNlX2Zyb21fY2xpZW50LCBuZXdfaW5zLCBuZXdfaW5zX2lkLCBzcGFjZV9pZCwgc3BhY2VfdXNlciwgc3BhY2VfdXNlcl9vcmdfaW5mbywgdHJhY2UsIHRyYWNlcywgdXNlcl9pZDtcbiAgdHJ5IHtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgIF9pZDogdXNlcl9pZFxuICAgIH0pO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciB4X3NwYWNlX2lkJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXJfaW5mby5faWQpO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgaWYgKCFoYXNoRGF0YVtcImZsb3dcIl0pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbnVsbCcpO1xuICAgIH1cbiAgICBmbG93X2lkID0gaGFzaERhdGFbXCJmbG93XCJdO1xuICAgIGFwcGxpY2FudF9pZCA9IGhhc2hEYXRhW1wiYXBwbGljYW50XCJdO1xuICAgIGFwcGxpY2FudF91c2VybmFtZSA9IGhhc2hEYXRhW1wiYXBwbGljYW50X3VzZXJuYW1lXCJdO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50ID0gbmV3IE9iamVjdDtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3dfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICdjdXJyZW50Ll9pZCc6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWZsb3cpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGV4aXN0cycpO1xuICAgIH1cbiAgICBpZiAoc3BhY2VfaWQgIT09IGZsb3cuc3BhY2UpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJyk7XG4gICAgfVxuICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKTtcbiAgICB9XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJzcGFjZVwiXSA9IHNwYWNlX2lkO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd1wiXSA9IGZsb3dfaWQ7XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93X3ZlcnNpb25cIl0gPSBmbG93LmN1cnJlbnQuX2lkO1xuICAgIGFwcGxpY2FudCA9IG51bGw7XG4gICAgaWYgKGFwcGxpY2FudF9pZCB8fCBhcHBsaWNhbnRfdXNlcm5hbWUpIHtcbiAgICAgIGlmIChhcHBsaWNhbnRfaWQpIHtcbiAgICAgICAgYXBwbGljYW50ID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBhcHBsaWNhbnRfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghYXBwbGljYW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIHdyb25nJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXBwbGljYW50X3VzZXJuYW1lKSB7XG4gICAgICAgIGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIHVzZXJuYW1lOiBhcHBsaWNhbnRfdXNlcm5hbWVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghYXBwbGljYW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50X3VzZXJuYW1lIGlzIHdyb25nJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHBsaWNhbnQuX2lkXG4gICAgICB9KTtcbiAgICAgIGlmICghc3BhY2VfdXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKTtcbiAgICAgIH1cbiAgICAgIGlmIChzcGFjZV91c2VyLnVzZXJfYWNjZXB0ZWQgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIGRpc2FibGVkIGluIHRoaXMgc3BhY2UnKTtcbiAgICAgIH1cbiAgICAgIHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcik7XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudFwiXSA9IGFwcGxpY2FudC5faWQ7XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9uYW1lXCJdID0gYXBwbGljYW50Lm5hbWU7XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25cIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgIH1cbiAgICBhcHBsaWNhbnRJbmZvID0gYXBwbGljYW50IHx8IGN1cnJlbnRfdXNlcl9pbmZvO1xuICAgIHRyYWNlcyA9IFtdO1xuICAgIHRyYWNlID0gbmV3IE9iamVjdDtcbiAgICBhcHByb3ZlcyA9IFtdO1xuICAgIGFwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgIGFwcHJvdmVbXCJ2YWx1ZXNcIl0gPSBoYXNoRGF0YVtcInZhbHVlc1wiXTtcbiAgICBhcHByb3Zlcy5wdXNoKGFwcHJvdmUpO1xuICAgIHRyYWNlW1wiYXBwcm92ZXNcIl0gPSBhcHByb3ZlcztcbiAgICB0cmFjZXMucHVzaCh0cmFjZSk7XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0gPSB0cmFjZXM7XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXSA9IFthcHBsaWNhbnRJbmZvLl9pZF07XG4gICAgbmV3X2luc19pZCA9IHV1Zmxvd01hbmFnZXIuY3JlYXRlX2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBhcHBsaWNhbnRJbmZvKTtcbiAgICBuZXdfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUobmV3X2luc19pZCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogbmV3X2luc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXHJcbkBhcGkge2dldH0gL2FwaS93b3JrZmxvdy9vcGVuL2dldC86aW5zX2lkIOafpeeci+eUs+ivt+WNleivpuaDhVxyXG5cclxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VcclxuXHJcbkBhcGlHcm91cCBXb3JrZmxvd1xyXG5cclxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy655qE566h55CG5ZGYXHJcblxyXG5AYXBpUGFyYW0ge1N0cmluZ30gaW5zX2lkIOeUs+ivt+WNlUlkXHJcbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cclxuXHJcbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcclxuXHJcbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcclxue1xyXG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcclxufVxyXG5cclxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxyXG57XHJcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcclxuICAgIFwiZGF0YVwiOiB7aW5zdGFuY2V9XHJcbn1cclxuIyMjXHJcbkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2dldC86aW5zX2lkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcclxuXHJcblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXHJcblxyXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXHJcblxyXG5cdFx0aWYgbm90IHNwYWNlX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxyXG5cclxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcclxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKVxyXG5cdFx0aWYgbm90IGluc3RhbmNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBpbnN0YW5jZScpXHJcblxyXG5cdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBpbnN0YW5jZS5zcGFjZSwgdXNlcjogY3VycmVudF91c2VyIH0pLmNvdW50KCkgaXMgMFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIHdyb25nJylcclxuXHJcblx0XHQjIOadg+mZkO+8muS7heS7peS4i+S6uuWRmOWPr+S7peafpeeci+eUs+ivt+WNleivpuaDhe+8muaPkOS6pOiAheOAgeeUs+ivt+iAheOAgee7j+aJi+iAheOAgeacrOa1geeoi+eahOeuoeeQhuWRmOOAgeacrOa1geeoi+eahOinguWvn+WRmOOAgeacrOW3peS9nOWMuueahOeuoeeQhuWRmOOAgeacrOW3peS9nOWMuueahOaJgOacieiAheOAglxyXG5cdFx0cGVybV91c2VycyA9IG5ldyBBcnJheVxyXG5cdFx0cGVybV91c2Vycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcilcclxuXHRcdHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpXHJcblx0XHRpZiBpbnN0YW5jZS5vdXRib3hfdXNlcnNcclxuXHRcdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLm91dGJveF91c2VycylcclxuXHRcdGlmIGluc3RhbmNlLmluYm94X3VzZXJzXHJcblx0XHRcdHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChpbnN0YW5jZS5pbmJveF91c2VycylcclxuXHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlLnNwYWNlIH0sIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXHJcblx0XHRwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoc3BhY2UuYWRtaW5zKVxyXG5cclxuXHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRpZiAobm90IHBlcm1fdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgYW5kIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJtb25pdG9yXCIpKSBhbmQgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdubyBwZXJtaXNzaW9uJylcclxuXHJcblx0XHRpbnN0YW5jZS5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHskbmU6IHRydWV9fSwge2ZpZWxkczoge2NvcGllczogMH19KS5mZXRjaCgpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiBpbnN0YW5jZSB9XHJcblx0XHR9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxyXG5cdFx0fVxyXG5cclxuIiwiXG4vKlxuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQg5p+l55yL55Sz6K+35Y2V6K+m5oOFXG5cbkBhcGlOYW1lIGdldEluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnmoTnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGluc19pZCDnlLPor7fljZVJZFxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBlLCBpbnNfaWQsIGluc3RhbmNlLCBwZXJtX3VzZXJzLCBwZXJtaXNzaW9ucywgc3BhY2UsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgaW5zdGFuY2UnKTtcbiAgICB9XG4gICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IGluc3RhbmNlLnNwYWNlLFxuICAgICAgdXNlcjogY3VycmVudF91c2VyXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXV0aF90b2tlbiBpcyB3cm9uZycpO1xuICAgIH1cbiAgICBwZXJtX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpO1xuICAgIHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuICAgIGlmIChpbnN0YW5jZS5vdXRib3hfdXNlcnMpIHtcbiAgICAgIHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChpbnN0YW5jZS5vdXRib3hfdXNlcnMpO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UuaW5ib3hfdXNlcnMpIHtcbiAgICAgIHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChpbnN0YW5jZS5pbmJveF91c2Vycyk7XG4gICAgfVxuICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZS5zcGFjZVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBhZG1pbnM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoc3BhY2UuYWRtaW5zKTtcbiAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpO1xuICAgIGlmICgoIXBlcm1fdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgJiYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcIm1vbml0b3JcIikpICYmICghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25vIHBlcm1pc3Npb24nKTtcbiAgICB9XG4gICAgaW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLFxuICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgJG5lOiB0cnVlXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGNvcGllczogMFxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogaW5zdGFuY2VcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xyXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCDmj5DkuqTnlLPor7fljZVcclxuXHJcbkBhcGlEZXNjcmlwdGlvbiDmmoLkuI3mlK/mjIHlvIDlp4voioLngrnkuIvkuIDoioLngrnkuLrmnaHku7bnmoTmg4XlhrVcclxuXHJcbkBhcGlOYW1lIHN1Ym1pdEluc3RhbmNlXHJcblxyXG5AYXBpR3JvdXAgV29ya2Zsb3dcclxuXHJcbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxyXG5cclxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxyXG5cclxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxyXG5cclxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxyXG4gICAge1xyXG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxyXG5cdH1cclxuXHJcbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcclxuICAgIHtcclxuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cclxuXHR9XHJcbiMjI1xyXG5cclxuSnNvblJvdXRlcy5hZGQgJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxyXG5cclxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRcdHJldHVybiA7XHJcblxyXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxyXG5cclxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxyXG5cclxuXHRcdGlmIG5vdCBzcGFjZV9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcclxuXHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcclxuXHJcblx0XHQjIOagoemqjOeUs+ivt+WNleeKtuaAgeS4uuiNieeov1xyXG5cdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlRHJhZnQoaW5zdGFuY2UpXHJcblxyXG5cdFx0aWYgc3BhY2VfaWQgaXNudCBpbnN0YW5jZVtcInNwYWNlXCJdXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlIGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpXHJcblxyXG5cdFx0IyDmoKHpqoznlLPor7fljZXlv4XloavlrZfmrrXmmK/lkKbmnInlgLxcclxuXHRcdHZhbHVlcyA9IGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF0udmFsdWVzXHJcblxyXG5cdFx0Zm9ybSA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybShpbnN0YW5jZS5mb3JtKVxyXG5cclxuXHRcdHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tWYWx1ZUZpZWxkc1JlcXVpcmUodmFsdWVzLCBmb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXHJcblxyXG5cdFx0aWYgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDBcclxuXHRcdFx0aWYgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDFcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmaWVsZHMgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBhcmUgcmVxdWlyZWQnKVxyXG5cdFx0XHRlbHNlIGlmIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPSAxXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGQgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBpcyByZXF1aXJlZCcpXHJcblxyXG5cdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxyXG5cclxuXHRcdHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGluc3RhbmNlW1widHJhY2VzXCJdWzBdLnN0ZXApXHJcblxyXG5cdFx0IyDorqHnrpfkuIvkuIDmraXpqqTpgInpoblcclxuXHRcdG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBcInN1Ym1pdHRlZFwiKVxyXG5cclxuXHRcdGlmIG5leHRTdGVwcy5sZW5ndGggPCAxXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBuZXh0IHN0ZXBzJylcclxuXHJcblx0XHRpZiBuZXh0U3RlcHMubGVuZ3RoID4gMVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZXh0IHN0ZXAgbm90IHVuaXEnKVxyXG5cclxuXHRcdG5leHRfc3RlcF9pZCA9IG5leHRTdGVwc1swXVxyXG5cclxuXHRcdCMg6K6h566X5LiL5LiA5q2l5aSE55CG5Lq66YCJ6aG5XHJcblx0XHRuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc19pZCwgbmV4dF9zdGVwX2lkKSB8fCBbXVxyXG5cclxuXHRcdGlmIG5leHRfdXNlcl9pZHMubGVuZ3RoID4gMVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZXh0IHN0ZXAgaGFuZGxlciBub3QgdW5pcScpXHJcblxyXG5cdFx0aW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXVtcIm5leHRfc3RlcHNcIl0gPSBbeydzdGVwJzogbmV4dF9zdGVwX2lkLCAndXNlcnMnOiBuZXh0X3VzZXJfaWRzfV1cclxuXHJcblx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XHJcblxyXG5cdFx0c3VibWl0dGVyID0gZGIudXNlcnMuZmluZE9uZShpbnN0YW5jZS5zdWJtaXR0ZXIpXHJcblxyXG5cdFx0aWYgbm90IHN1Ym1pdHRlclxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgc3VibWl0dGVyJylcclxuXHJcblx0XHRyID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2UsIHN1Ym1pdHRlcilcclxuXHJcblx0XHRpZiByLmFsZXJ0c1xyXG5cdFx0XHRyZXN1bHQgPSByXHJcblx0XHRlbHNlXHJcblx0XHRcdHJlc3VsdCA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZClcclxuXHRcdFx0aWYgcmVzdWx0XHJcblx0XHRcdFx0cmVzdWx0LmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHR9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cclxuIiwiXG4vKlxuQGFwaSB7cHV0fSAvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQg5o+Q5Lqk55Sz6K+35Y2VXG5cbkBhcGlEZXNjcmlwdGlvbiDmmoLkuI3mlK/mjIHlvIDlp4voioLngrnkuIvkuIDoioLngrnkuLrmnaHku7bnmoTmg4XlhrVcblxuQGFwaU5hbWUgc3VibWl0SW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuICAgIHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuICAgIHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxuXHR9XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwdXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3N1Ym1pdC86aW5zX2lkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGZvcm0sIGluc19pZCwgaW5zdGFuY2UsIG5leHRTdGVwcywgbmV4dF9zdGVwX2lkLCBuZXh0X3VzZXJfaWRzLCByLCByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMsIHJlc3VsdCwgc3BhY2VfaWQsIHN0ZXAsIHN1Ym1pdHRlciwgdmFsdWVzO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZURyYWZ0KGluc3RhbmNlKTtcbiAgICBpZiAoc3BhY2VfaWQgIT09IGluc3RhbmNlW1wic3BhY2VcIl0pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlIGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpO1xuICAgIH1cbiAgICB2YWx1ZXMgPSBpbnN0YW5jZVtcInRyYWNlc1wiXVswXVtcImFwcHJvdmVzXCJdWzBdLnZhbHVlcztcbiAgICBmb3JtID0gdXVmbG93TWFuYWdlci5nZXRGb3JtKGluc3RhbmNlLmZvcm0pO1xuICAgIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tWYWx1ZUZpZWxkc1JlcXVpcmUodmFsdWVzLCBmb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuICAgIGlmIChyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkcyA8JyArIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5qb2luKFwiLFwiKSArICc+IGFyZSByZXF1aXJlZCcpO1xuICAgICAgfSBlbHNlIGlmIChyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmaWVsZCA8JyArIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5qb2luKFwiLFwiKSArICc+IGlzIHJlcXVpcmVkJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF0uc3RlcCk7XG4gICAgbmV4dFN0ZXBzID0gdXVmbG93TWFuYWdlci5nZXROZXh0U3RlcHMoaW5zdGFuY2UsIGZsb3csIHN0ZXAsIFwic3VibWl0dGVkXCIpO1xuICAgIGlmIChuZXh0U3RlcHMubGVuZ3RoIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIG5leHQgc3RlcHMnKTtcbiAgICB9XG4gICAgaWYgKG5leHRTdGVwcy5sZW5ndGggPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZXh0IHN0ZXAgbm90IHVuaXEnKTtcbiAgICB9XG4gICAgbmV4dF9zdGVwX2lkID0gbmV4dFN0ZXBzWzBdO1xuICAgIG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zX2lkLCBuZXh0X3N0ZXBfaWQpIHx8IFtdO1xuICAgIGlmIChuZXh0X3VzZXJfaWRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBoYW5kbGVyIG5vdCB1bmlxJyk7XG4gICAgfVxuICAgIGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF1bXCJuZXh0X3N0ZXBzXCJdID0gW1xuICAgICAge1xuICAgICAgICAnc3RlcCc6IG5leHRfc3RlcF9pZCxcbiAgICAgICAgJ3VzZXJzJzogbmV4dF91c2VyX2lkc1xuICAgICAgfVxuICAgIF07XG4gICAgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICBzdWJtaXR0ZXIgPSBkYi51c2Vycy5maW5kT25lKGluc3RhbmNlLnN1Ym1pdHRlcik7XG4gICAgaWYgKCFzdWJtaXR0ZXIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBzdWJtaXR0ZXInKTtcbiAgICB9XG4gICAgciA9IHV1Zmxvd01hbmFnZXIuc3VibWl0X2luc3RhbmNlKGluc3RhbmNlLCBzdWJtaXR0ZXIpO1xuICAgIGlmIChyLmFsZXJ0cykge1xuICAgICAgcmVzdWx0ID0gcjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWQsXG4gICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIGNvcGllczogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcclxuQGFwaSB7cHV0fSAvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkIOaaguWtmOeUs+ivt+WNlVxyXG5cclxuQGFwaU5hbWUgc2F2ZUluc3RhbmNlc1xyXG5cclxuQGFwaUdyb3VwIFdvcmtmbG93XHJcblxyXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcclxuXHJcbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cclxuXHJcbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcclxuXHJcbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcclxuICAgIHtcclxuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcclxuXHR9XHJcblxyXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XHJcbiAgICB7XHJcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcclxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XHJcblx0fVxyXG4jIyNcclxuSnNvblJvdXRlcy5hZGQgJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcclxuXHJcblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0XHRyZXR1cm4gO1xyXG5cclxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXHJcblxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxyXG5cclxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcclxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdHZhbHVlcyA9IHJlcS5ib2R5XHJcblxyXG5cdFx0aWYgbm90IHZhbHVlc1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHZhbHVlcycpXHJcblxyXG5cdFx0Y3VycmVudF90cmFjZSA9IG51bGxcclxuXHRcdHNldE9iaiA9IG5ldyBPYmplY3RcclxuXHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpXHJcblx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXHJcblxyXG5cdFx0Xy5lYWNoIGluc3RhbmNlLnRyYWNlcywgKHQpLT5cclxuXHRcdFx0aWYgdC5pc19maW5pc2hlZCBpc250IHRydWVcclxuXHRcdFx0XHRjdXJyZW50X3RyYWNlID0gdFxyXG5cclxuXHRcdGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgY3VycmVudF90cmFjZS5zdGVwKVxyXG5cclxuXHRcdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb3VudGVyU2lnblwiXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuatpemqpOS4jeiDveS/ruaUueihqOWNleWAvCcpXHJcblxyXG5cdFx0Xy5lYWNoIGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIChhKS0+XHJcblx0XHRcdGlmIGEuaXNfZmluaXNoZWQgaXNudCB0cnVlIGFuZCBhLnR5cGUgaXNudCBcImNjXCJcclxuXHRcdFx0XHRhLnZhbHVlcyA9IHZhbHVlc1xyXG5cclxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlXHJcblx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlc1wiXSA9IGN1cnJlbnRfdHJhY2UuYXBwcm92ZXNcclxuXHJcblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlIHtcclxuXHRcdFx0X2lkOiBpbnNfaWRcclxuXHRcdFx0J3RyYWNlcy5faWQnOiBjdXJyZW50X3RyYWNlLl9pZFxyXG5cdFx0fSwgJHNldDogc2V0T2JqXHJcblxyXG5cdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG4iLCJcbi8qXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQg5pqC5a2Y55Sz6K+35Y2VXG5cbkBhcGlOYW1lIHNhdmVJbnN0YW5jZXNcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuICAgIHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuICAgIHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxuXHR9XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwdXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3N0ZXAsIGN1cnJlbnRfdHJhY2UsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGluc19pZCwgaW5zdGFuY2UsIHJlc3VsdCwgc2V0T2JqLCBzcGFjZV9pZCwgdmFsdWVzO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIHZhbHVlcyA9IHJlcS5ib2R5O1xuICAgIGlmICghdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHZhbHVlcycpO1xuICAgIH1cbiAgICBjdXJyZW50X3RyYWNlID0gbnVsbDtcbiAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgaWYgKHQuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfdHJhY2UgPSB0O1xuICAgICAgfVxuICAgIH0pO1xuICAgIGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgY3VycmVudF90cmFjZS5zdGVwKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7mraXpqqTkuI3og73kv67mlLnooajljZXlgLwnKTtcbiAgICB9XG4gICAgXy5lYWNoKGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIGlmIChhLmlzX2ZpbmlzaGVkICE9PSB0cnVlICYmIGEudHlwZSAhPT0gXCJjY1wiKSB7XG4gICAgICAgIHJldHVybiBhLnZhbHVlcyA9IHZhbHVlcztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZTtcbiAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlc1wiXSA9IGN1cnJlbnRfdHJhY2UuYXBwcm92ZXM7XG4gICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc19pZCxcbiAgICAgICd0cmFjZXMuX2lkJzogY3VycmVudF90cmFjZS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiBzZXRPYmpcbiAgICB9KTtcbiAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXHJcbkBhcGkge3Bvc3R9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lIOagueaNruatpemqpOWQjeensOiOt+WPlueUs+ivt+WNlVxyXG5cclxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VCeVN0ZXBOYW1lXHJcblxyXG5AYXBpR3JvdXAgV29ya2Zsb3dcclxuXHJcbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxyXG5cclxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxyXG5cclxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxyXG5cclxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxyXG57XHJcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxyXG59XHJcblxyXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XHJcbntcclxuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcclxuICAgIFwic3RlcG5hbWVcIjog5q2l6aqk5ZCN56ewXHJcbn1cclxuXHJcbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcclxue1xyXG5cdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG5cdFwiZGF0YVwiOiBbXHJcblx0XHR7XHJcblx0XHRcdGluc3RhbmNlXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHRpbnN0YW5jZVxyXG5cdFx0fVxyXG5cdF1cclxufVxyXG4jIyNcclxuSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuIDtcclxuXHJcblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXHJcblxyXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXHJcblxyXG5cdFx0aWYgbm90IHNwYWNlX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxyXG5cclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcclxuXHJcblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XHJcblx0XHRzdGVwbmFtZSA9IGhhc2hEYXRhW1wic3RlcG5hbWVcIl1cclxuXHRcdGZsb3cgPSBoYXNoRGF0YVtcImZsb3dcIl1cclxuXHJcblx0XHRpZiBub3Qgc3RlcG5hbWVcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBzdGVwbmFtZScpXHJcblxyXG5cdFx0aWYgbm90IGZsb3dcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBmbG93JylcclxuXHJcblx0XHQjIOWOu+aOiXtmaWVsZHM6IHtpbmJveF91ZXJzOiAwLCBjY191c2VyczogMCwgb3V0Ym94X3VzZXJzOiAwLCB0cmFjZXM6IDAsIGF0dGFjaG1lbnRzOiAwfVxyXG5cdFx0aW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQoe3NwYWNlOiBzcGFjZV9pZCwgZmxvdzogZmxvdywgc3RhdGU6J3BlbmRpbmcnLCB0cmFjZXM6eyRlbGVtTWF0Y2g6IHtpc19maW5pc2hlZDogZmFsc2UsIG5hbWU6IHN0ZXBuYW1lfX19LCB7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgYXR0YWNobWVudHM6IDAsIHRyYWNlczogMH19KS5mZXRjaCgpXHJcblxyXG5cdFx0aW5zdGFuY2VzLmZvckVhY2ggKGluc3RhbmNlKS0+XHJcblx0XHRcdGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiBpbnN0YW5jZXN9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cclxuIiwiXG4vKlxuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUg5qC55o2u5q2l6aqk5ZCN56ew6I635Y+W55Sz6K+35Y2VXG5cbkBhcGlOYW1lIGdldEluc3RhbmNlQnlTdGVwTmFtZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxue1xuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcbiAgICBcInN0ZXBuYW1lXCI6IOatpemqpOWQjeensFxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG5cdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcImRhdGFcIjogW1xuXHRcdHtcblx0XHRcdGluc3RhbmNlXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRpbnN0YW5jZVxuXHRcdH1cblx0XVxufVxuICovXG5Kc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBoYXNoRGF0YSwgaW5zdGFuY2VzLCBzcGFjZV9pZCwgc3RlcG5hbWU7XG4gIHRyeSB7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBzdGVwbmFtZSA9IGhhc2hEYXRhW1wic3RlcG5hbWVcIl07XG4gICAgZmxvdyA9IGhhc2hEYXRhW1wiZmxvd1wiXTtcbiAgICBpZiAoIXN0ZXBuYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHN0ZXBuYW1lJyk7XG4gICAgfVxuICAgIGlmICghZmxvdykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBmbG93Jyk7XG4gICAgfVxuICAgIGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIGZsb3c6IGZsb3csXG4gICAgICBzdGF0ZTogJ3BlbmRpbmcnLFxuICAgICAgdHJhY2VzOiB7XG4gICAgICAgICRlbGVtTWF0Y2g6IHtcbiAgICAgICAgICBpc19maW5pc2hlZDogZmFsc2UsXG4gICAgICAgICAgbmFtZTogc3RlcG5hbWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBpbmJveF91ZXJzOiAwLFxuICAgICAgICBjY191c2VyczogMCxcbiAgICAgICAgb3V0Ym94X3VzZXJzOiAwLFxuICAgICAgICBhdHRhY2htZW50czogMCxcbiAgICAgICAgdHJhY2VzOiAwXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICBpbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLFxuICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgY29waWVzOiAwXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogaW5zdGFuY2VzXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcclxuQ29udGVudC1UeXBl77yaYXBwbGljYXRpb24vanNvblxyXG5mb3JtLWRhdGEg5qC85byPOlxyXG5mZCA9IG5ldyBGb3JtRGF0YTtcclxuZmQuYXBwZW5kKFwiZmlsZVwiLCBmaWxlKTtcclxuXHJcbmZkLmFwcGVuZChcImlzX3ByaXZhdGVcIiwgZmFsc2UpO1xyXG5cclxuaWYgKGlzQWRkVmVyc2lvbikge1xyXG5cdGZkLmFwcGVuZChcImlzQWRkVmVyc2lvblwiLCBpc0FkZFZlcnNpb24pO1xyXG5cdGZkLmFwcGVuZChcInBhcmVudFwiLCBhdHRhY2hfcGFyZW50X2lkKTtcclxufVxyXG5cclxuaWYgKGlzTWFpbkF0dGFjaCkge1xyXG5cdGZkLmFwcGVuZChcIm1haW5cIiwgdHJ1ZSk7XHJcbn1cclxuIyMjXHJcblxyXG5Kc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxyXG5cclxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRcdHJldHVybiA7XHJcblxyXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxyXG5cclxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxyXG5cclxuXHRcdGlmIG5vdCBzcGFjZV9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcclxuXHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXHJcblxyXG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcclxuXHJcblx0XHRpZiBpbnN0YW5jZS5zdGF0ZSBpc250IFwiZHJhZnRcIlxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73kuIrkvKAnKVxyXG5cclxuXHRcdGFwcHJvdmVfaWQgPSBpbnN0YW5jZS50cmFjZXNbMF0uYXBwcm92ZXNbMF0uX2lkXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5wYXJzZUZpbGVzIHJlcSwgcmVzLCAoKS0+XHJcblx0XHRcdGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzXHJcblxyXG5cdFx0XHRpZiByZXEuZmlsZXMgYW5kIHJlcS5maWxlc1swXVxyXG5cdFx0XHRcdCMg6ZmE5Lu25LiK5Lyg5o6l5Y+j77yM6ZmQ5Yi26ZmE5Lu25aSn5bCP77yM5pyA5aSn5Li6MTAwTVxyXG5cdFx0XHRcdGlmIHJlcS5maWxlc1swXS5kYXRhLmxlbmd0aCA+ICgxMDAqMTAyNCoxMDI0KVxyXG5cdFx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdFx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogXCLotoXov4fkuIrkvKDpmYTku7blpKflsI/pmZDliLYoMTAwTSlcIn1dfVxyXG5cdFx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0XHRcdG5ld0ZpbGUgPSBuZXcgRlMuRmlsZSgpO1xyXG5cdFx0XHRcdG5ld0ZpbGUuYXR0YWNoRGF0YSByZXEuZmlsZXNbMF0uZGF0YSwge3R5cGU6IHJlcS5maWxlc1swXS5taW1lVHlwZX0sIChlcnIpIC0+XHJcblx0XHRcdFx0XHRmaWxlbmFtZSA9IHJlcS5maWxlc1swXS5maWxlbmFtZVxyXG5cclxuXHRcdFx0XHRcdGlmIFtcImltYWdlLmpwZ1wiLCBcImltYWdlLmdpZlwiLCBcImltYWdlLmpwZWdcIiwgXCJpbWFnZS5wbmdcIl0uaW5jbHVkZXMoZmlsZW5hbWUudG9Mb3dlckNhc2UoKSlcclxuXHRcdFx0XHRcdFx0ZmlsZW5hbWUgPSBcImltYWdlLVwiICsgbW9tZW50KG5ldyBEYXRlKCkpLmZvcm1hdCgnWVlZWU1NRERISG1tc3MnKSArIFwiLlwiICsgZmlsZW5hbWUuc3BsaXQoJy4nKS5wb3AoKVxyXG5cclxuXHRcdFx0XHRcdGJvZHkgPSByZXEuYm9keVxyXG5cclxuXHRcdFx0XHRcdGJvZHlbJ293bmVyJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXJcclxuXHRcdFx0XHRcdGJvZHlbJ293bmVyX25hbWUnXSA9IGluc3RhbmNlLnN1Ym1pdHRlcl9uYW1lXHJcblx0XHRcdFx0XHRib2R5WydzcGFjZSddID0gc3BhY2VfaWRcclxuXHRcdFx0XHRcdGJvZHlbJ2luc3RhbmNlJ10gPSBpbnNfaWRcclxuXHRcdFx0XHRcdGJvZHlbJ2FwcHJvdmUnXSA9IGFwcHJvdmVfaWRcclxuXHJcblx0XHRcdFx0XHR0cnlcclxuXHRcdFx0XHRcdFx0aWYgYm9keSAmJiAoYm9keVsndXBsb2FkX2Zyb20nXSBpcyBcIklFXCIgb3IgYm9keVsndXBsb2FkX2Zyb20nXSBpcyBcIm5vZGVcIilcclxuXHRcdFx0XHRcdFx0XHRmaWxlbmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChmaWxlbmFtZSlcclxuXHRcdFx0XHRcdGNhdGNoIGVcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihmaWxlbmFtZSlcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvciBlXHJcblx0XHRcdFx0XHRcdGZpbGVuYW1lID0gZmlsZW5hbWUucmVwbGFjZSgvJS9nLCBcIi1cIilcclxuXHJcblx0XHRcdFx0XHRuZXdGaWxlLm5hbWUoZmlsZW5hbWUpXHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGlmIGJvZHkgJiYgYm9keVsnb3duZXInXSAmJiBib2R5Wydvd25lcl9uYW1lJ10gJiYgYm9keVsnc3BhY2UnXSAmJiBib2R5WydpbnN0YW5jZSddICAmJiBib2R5WydhcHByb3ZlJ11cclxuXHRcdFx0XHRcdFx0cGFyZW50ID0gJydcclxuXHRcdFx0XHRcdFx0bWV0YWRhdGEgPSB7b3duZXI6Ym9keVsnb3duZXInXSwgb3duZXJfbmFtZTpib2R5Wydvd25lcl9uYW1lJ10sIHNwYWNlOmJvZHlbJ3NwYWNlJ10sIGluc3RhbmNlOmJvZHlbJ2luc3RhbmNlJ10sIGFwcHJvdmU6IGJvZHlbJ2FwcHJvdmUnXSwgY3VycmVudDogdHJ1ZX1cclxuXHJcblx0XHRcdFx0XHRcdGlmIGJvZHlbXCJpc19wcml2YXRlXCJdICYmIGJvZHlbXCJpc19wcml2YXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gXCJ0cnVlXCJcclxuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5pc19wcml2YXRlID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEuaXNfcHJpdmF0ZSA9IGZhbHNlXHJcblxyXG5cdFx0XHRcdFx0XHRpZiBib2R5WydtYWluJ10gPT0gXCJ0cnVlXCJcclxuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5tYWluID0gdHJ1ZVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgYm9keVsnaXNBZGRWZXJzaW9uJ10gJiYgYm9keVsncGFyZW50J11cclxuXHRcdFx0XHRcdFx0XHRwYXJlbnQgPSBib2R5WydwYXJlbnQnXVxyXG5cdFx0XHRcdFx0XHQjIGVsc2VcclxuXHRcdFx0XHRcdFx0IyAgIGNvbGxlY3Rpb24uZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogYm9keVsnaW5zdGFuY2UnXSwgJ21ldGFkYXRhLmN1cnJlbnQnIDogdHJ1ZX0pLmZvckVhY2ggKGMpIC0+XHJcblx0XHRcdFx0XHRcdCMgICAgIGlmIGMubmFtZSgpID09IGZpbGVuYW1lXHJcblx0XHRcdFx0XHRcdCMgICAgICAgcGFyZW50ID0gYy5tZXRhZGF0YS5wYXJlbnRcclxuXHJcblx0XHRcdFx0XHRcdGlmIHBhcmVudFxyXG5cdFx0XHRcdFx0XHRcdHIgPSBjb2xsZWN0aW9uLnVwZGF0ZSh7J21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCwgJ21ldGFkYXRhLmN1cnJlbnQnIDogdHJ1ZX0sIHskdW5zZXQgOiB7J21ldGFkYXRhLmN1cnJlbnQnIDogJyd9fSlcclxuXHRcdFx0XHRcdFx0XHRpZiByXHJcblx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5wYXJlbnQgPSBwYXJlbnRcclxuXHRcdFx0XHRcdFx0XHRcdGlmIGJvZHlbJ2xvY2tlZF9ieSddICYmIGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ11cclxuXHRcdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGEubG9ja2VkX2J5ID0gYm9keVsnbG9ja2VkX2J5J11cclxuXHRcdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGEubG9ja2VkX2J5X25hbWUgPSBib2R5Wydsb2NrZWRfYnlfbmFtZSddXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0bmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhXHJcblx0XHRcdFx0XHRcdFx0XHRmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQgbmV3RmlsZVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdCMg5Yig6Zmk5ZCM5LiA5Liq55Sz6K+35Y2V5ZCM5LiA5Liq5q2l6aqk5ZCM5LiA5Liq5Lq65LiK5Lyg55qE6YeN5aSN55qE5paH5Lu2XHJcblx0XHRcdFx0XHRcdFx0XHRpZiBib2R5W1wib3ZlcndyaXRlXCJdICYmIGJvZHlbXCJvdmVyd3JpdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSBcInRydWVcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9uLnJlbW92ZSh7J21ldGFkYXRhLmluc3RhbmNlJzogYm9keVsnaW5zdGFuY2UnXSwgJ21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCwgJ21ldGFkYXRhLm93bmVyJzogYm9keVsnb3duZXInXSwgJ21ldGFkYXRhLmFwcHJvdmUnOiBib2R5WydhcHByb3ZlJ10sICdtZXRhZGF0YS5jdXJyZW50JzogeyRuZTogdHJ1ZX19KVxyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0bmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhXHJcblx0XHRcdFx0XHRcdFx0ZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0IG5ld0ZpbGVcclxuXHRcdFx0XHRcdFx0XHRmaWxlT2JqLnVwZGF0ZSh7JHNldDogeydtZXRhZGF0YS5wYXJlbnQnIDogZmlsZU9iai5faWR9fSlcclxuXHJcblx0XHRcdFx0XHQjIOWFvOWuueiAgeeJiOacrFxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQgbmV3RmlsZVxyXG5cclxuXHRcdFx0XHRcdHNpemUgPSBmaWxlT2JqLm9yaWdpbmFsLnNpemVcclxuXHRcdFx0XHRcdGlmICFzaXplXHJcblx0XHRcdFx0XHRcdHNpemUgPSAxMDI0XHJcblxyXG5cdFx0XHRcdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0cmVzdWx0ID1cclxuXHRcdFx0XHRcdFx0YXR0YWNoX2lkOiBmaWxlT2JqLl9pZCxcclxuXHRcdFx0XHRcdFx0c2l6ZTogc2l6ZVxyXG5cclxuXHRcdFx0XHRcdHJlcy5zZXRIZWFkZXIoXCJ4LWFtei12ZXJzaW9uLWlkXCIsZmlsZU9iai5faWQpO1xyXG5cclxuXHRcdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogXCJuZWVkIGZpbGVcIn1dfVxyXG5cdFx0XHRcdHJldHVyblxyXG5cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG5cclxuSnNvblJvdXRlcy5hZGQgXCJkZWxldGVcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWRcIiwgIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuIDtcclxuXHJcblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXHJcblxyXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXHJcblxyXG5cdFx0aWYgbm90IHNwYWNlX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxyXG5cclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcclxuXHJcblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxyXG5cclxuXHRcdGlmIGluc3RhbmNlLnN0YXRlIGlzbnQgXCJkcmFmdFwiXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveWIoOmZpOmZhOS7ticpXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keSB8fCB7fVxyXG5cdFx0YXR0YWNoX2lkID0gaGFzaERhdGFbXCJhdHRhY2hfaWRcIl1cclxuXHJcblx0XHRpZiBub3QgYXR0YWNoX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBhdHRhY2hfaWQnKVxyXG5cclxuXHRcdGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzXHJcblxyXG5cdFx0ZmlsZSA9IGNvbGxlY3Rpb24uZmluZE9uZSh7IF9pZDogYXR0YWNoX2lkLCAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWR9KVxyXG5cdFx0aWYgZmlsZVxyXG5cdFx0XHRmaWxlLnJlbW92ZSgpXHJcblx0XHRlbHNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+atpOmZhOS7tuS4jeWxnuS6juatpOeUs+ivt+WNle+8jOaIluW3suiiq+WIoOmZpCcpXHJcblxyXG5cdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcblxyXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmF0dGFjaF9pZFwiLCAgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0YXR0YWNoX2lkID0gcmVxLnBhcmFtcy5hdHRhY2hfaWRcclxuXHJcblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0XHRyZXR1cm4gO1xyXG5cclxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXHJcblxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxyXG5cclxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcclxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdHJlcy5zdGF0dXNDb2RlID0gMzAyXHJcblx0XHRyZXMuc2V0SGVhZGVyIFwiTG9jYXRpb25cIiwgU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9pbnN0YW5jZXMvXCIpICsgYXR0YWNoX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiXHJcblx0XHRyZXMuZW5kKClcclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG4iLCJcbi8qXG5Db250ZW50LVR5cGXvvJphcHBsaWNhdGlvbi9qc29uXG5mb3JtLWRhdGEg5qC85byPOlxuZmQgPSBuZXcgRm9ybURhdGE7XG5mZC5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xuXG5mZC5hcHBlbmQoXCJpc19wcml2YXRlXCIsIGZhbHNlKTtcblxuaWYgKGlzQWRkVmVyc2lvbikge1xuXHRmZC5hcHBlbmQoXCJpc0FkZFZlcnNpb25cIiwgaXNBZGRWZXJzaW9uKTtcblx0ZmQuYXBwZW5kKFwicGFyZW50XCIsIGF0dGFjaF9wYXJlbnRfaWQpO1xufVxuXG5pZiAoaXNNYWluQXR0YWNoKSB7XG5cdGZkLmFwcGVuZChcIm1haW5cIiwgdHJ1ZSk7XG59XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhcHByb3ZlX2lkLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBpbnNfaWQsIGluc3RhbmNlLCBzcGFjZV9pZDtcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95LiK5LygJyk7XG4gICAgfVxuICAgIGFwcHJvdmVfaWQgPSBpbnN0YW5jZS50cmFjZXNbMF0uYXBwcm92ZXNbMF0uX2lkO1xuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnBhcnNlRmlsZXMocmVxLCByZXMsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNvbGxlY3Rpb24sIG5ld0ZpbGU7XG4gICAgICBjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlcztcbiAgICAgIGlmIChyZXEuZmlsZXMgJiYgcmVxLmZpbGVzWzBdKSB7XG4gICAgICAgIGlmIChyZXEuZmlsZXNbMF0uZGF0YS5sZW5ndGggPiAoMTAwICogMTAyNCAqIDEwMjQpKSB7XG4gICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IFwi6LaF6L+H5LiK5Lyg6ZmE5Lu25aSn5bCP6ZmQ5Yi2KDEwME0pXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbmV3RmlsZSA9IG5ldyBGUy5GaWxlKCk7XG4gICAgICAgIHJldHVybiBuZXdGaWxlLmF0dGFjaERhdGEocmVxLmZpbGVzWzBdLmRhdGEsIHtcbiAgICAgICAgICB0eXBlOiByZXEuZmlsZXNbMF0ubWltZVR5cGVcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgdmFyIGJvZHksIGUsIGZpbGVPYmosIGZpbGVuYW1lLCBtZXRhZGF0YSwgcGFyZW50LCByLCByZXN1bHQsIHNpemU7XG4gICAgICAgICAgZmlsZW5hbWUgPSByZXEuZmlsZXNbMF0uZmlsZW5hbWU7XG4gICAgICAgICAgaWYgKFtcImltYWdlLmpwZ1wiLCBcImltYWdlLmdpZlwiLCBcImltYWdlLmpwZWdcIiwgXCJpbWFnZS5wbmdcIl0uaW5jbHVkZXMoZmlsZW5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIGZpbGVuYW1lID0gXCJpbWFnZS1cIiArIG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoJ1lZWVlNTURESEhtbXNzJykgKyBcIi5cIiArIGZpbGVuYW1lLnNwbGl0KCcuJykucG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJvZHkgPSByZXEuYm9keTtcbiAgICAgICAgICBib2R5Wydvd25lciddID0gaW5zdGFuY2Uuc3VibWl0dGVyO1xuICAgICAgICAgIGJvZHlbJ293bmVyX25hbWUnXSA9IGluc3RhbmNlLnN1Ym1pdHRlcl9uYW1lO1xuICAgICAgICAgIGJvZHlbJ3NwYWNlJ10gPSBzcGFjZV9pZDtcbiAgICAgICAgICBib2R5WydpbnN0YW5jZSddID0gaW5zX2lkO1xuICAgICAgICAgIGJvZHlbJ2FwcHJvdmUnXSA9IGFwcHJvdmVfaWQ7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChib2R5ICYmIChib2R5Wyd1cGxvYWRfZnJvbSddID09PSBcIklFXCIgfHwgYm9keVsndXBsb2FkX2Zyb20nXSA9PT0gXCJub2RlXCIpKSB7XG4gICAgICAgICAgICAgIGZpbGVuYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihmaWxlbmFtZSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKC8lL2csIFwiLVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3RmlsZS5uYW1lKGZpbGVuYW1lKTtcbiAgICAgICAgICBpZiAoYm9keSAmJiBib2R5Wydvd25lciddICYmIGJvZHlbJ293bmVyX25hbWUnXSAmJiBib2R5WydzcGFjZSddICYmIGJvZHlbJ2luc3RhbmNlJ10gJiYgYm9keVsnYXBwcm92ZSddKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSAnJztcbiAgICAgICAgICAgIG1ldGFkYXRhID0ge1xuICAgICAgICAgICAgICBvd25lcjogYm9keVsnb3duZXInXSxcbiAgICAgICAgICAgICAgb3duZXJfbmFtZTogYm9keVsnb3duZXJfbmFtZSddLFxuICAgICAgICAgICAgICBzcGFjZTogYm9keVsnc3BhY2UnXSxcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IGJvZHlbJ2luc3RhbmNlJ10sXG4gICAgICAgICAgICAgIGFwcHJvdmU6IGJvZHlbJ2FwcHJvdmUnXSxcbiAgICAgICAgICAgICAgY3VycmVudDogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChib2R5W1wiaXNfcHJpdmF0ZVwiXSAmJiBib2R5W1wiaXNfcHJpdmF0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICBtZXRhZGF0YS5pc19wcml2YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1ldGFkYXRhLmlzX3ByaXZhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib2R5WydtYWluJ10gPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgIG1ldGFkYXRhLm1haW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvZHlbJ2lzQWRkVmVyc2lvbiddICYmIGJvZHlbJ3BhcmVudCddKSB7XG4gICAgICAgICAgICAgIHBhcmVudCA9IGJvZHlbJ3BhcmVudCddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICByID0gY29sbGVjdGlvbi51cGRhdGUoe1xuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAkdW5zZXQ6IHtcbiAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICBpZiAoYm9keVsnbG9ja2VkX2J5J10gJiYgYm9keVsnbG9ja2VkX2J5X25hbWUnXSkge1xuICAgICAgICAgICAgICAgICAgbWV0YWRhdGEubG9ja2VkX2J5ID0gYm9keVsnbG9ja2VkX2J5J107XG4gICAgICAgICAgICAgICAgICBtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSA9IGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgICAgICBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQobmV3RmlsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGJvZHlbXCJvdmVyd3JpdGVcIl0gJiYgYm9keVtcIm92ZXJ3cml0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5yZW1vdmUoe1xuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBib2R5WydpbnN0YW5jZSddLFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEub3duZXInOiBib2R5Wydvd25lciddLFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuYXBwcm92ZSc6IGJvZHlbJ2FwcHJvdmUnXSxcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgICBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQobmV3RmlsZSk7XG4gICAgICAgICAgICAgIGZpbGVPYmoudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICAgICAnbWV0YWRhdGEucGFyZW50JzogZmlsZU9iai5faWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQobmV3RmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNpemUgPSBmaWxlT2JqLm9yaWdpbmFsLnNpemU7XG4gICAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICBzaXplID0gMTAyNDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICBhdHRhY2hfaWQ6IGZpbGVPYmouX2lkLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZVxuICAgICAgICAgIH07XG4gICAgICAgICAgcmVzLnNldEhlYWRlcihcIngtYW16LXZlcnNpb24taWRcIiwgZmlsZU9iai5faWQpO1xuICAgICAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IFwibmVlZCBmaWxlXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZGVsZXRlXCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdHRhY2hfaWQsIGNvbGxlY3Rpb24sIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZpbGUsIGhhc2hEYXRhLCBpbnNfaWQsIGluc3RhbmNlLCByZXN1bHQsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73liKDpmaTpmYTku7YnKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keSB8fCB7fTtcbiAgICBhdHRhY2hfaWQgPSBoYXNoRGF0YVtcImF0dGFjaF9pZFwiXTtcbiAgICBpZiAoIWF0dGFjaF9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGF0dGFjaF9pZCcpO1xuICAgIH1cbiAgICBjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlcztcbiAgICBmaWxlID0gY29sbGVjdGlvbi5maW5kT25lKHtcbiAgICAgIF9pZDogYXR0YWNoX2lkLFxuICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zX2lkXG4gICAgfSk7XG4gICAgaWYgKGZpbGUpIHtcbiAgICAgIGZpbGUucmVtb3ZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+atpOmZhOS7tuS4jeWxnuS6juatpOeUs+ivt+WNle+8jOaIluW3suiiq+WIoOmZpCcpO1xuICAgIH1cbiAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmF0dGFjaF9pZFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXR0YWNoX2lkLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBzcGFjZV9pZDtcbiAgdHJ5IHtcbiAgICBhdHRhY2hfaWQgPSByZXEucGFyYW1zLmF0dGFjaF9pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICByZXMuc3RhdHVzQ29kZSA9IDMwMjtcbiAgICByZXMuc2V0SGVhZGVyKFwiTG9jYXRpb25cIiwgU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9pbnN0YW5jZXMvXCIpICsgYXR0YWNoX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiKTtcbiAgICByZXR1cm4gcmVzLmVuZCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9mb3J3YXJkX3JlZmlsbFwiLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3lm57loavlrZDooag9PT09PT09PT09XCJcclxuXHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIscmVxPy5xdWVyeT8uc3ViVGFibGVcclxuXHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWIhuWPkeWbnuWhq+eahOWIlz09PT09PT09PT1cIlxyXG5cdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uY29sdW1uXCIscmVxPy5xdWVyeT8uY29sdW1uXHJcblxyXG5cdGNvbHVtbnMgPSByZXE/LnF1ZXJ5Py5jb2x1bW4uc3BsaXQoJzsnKVxyXG5cdGNvbnNvbGUubG9nIFwiY29sdW1uc1wiLGNvbHVtbnNcclxuXHJcblxyXG5cdCMg5YiG5Y+R55qE55Sz6K+35Y2VXHJcblx0Zm9yd2FyZF9pbnMgPSByZXE/LmJvZHk/Lmluc3RhbmNlXHJcblxyXG5cdHN1YlRhYmxlID0gcmVxPy5xdWVyeT8uc3ViVGFibGVcclxuXHJcblx0aWYgZm9yd2FyZF9pbnM/LnN0YXRlID09IFwiY29tcGxldGVkXCIgJiYgZm9yd2FyZF9pbnM/LmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXM/Lmxlbmd0aD4wICYmIHN1YlRhYmxlICYmIGNvbHVtbnNcclxuXHRcdFxyXG5cdFx0IyDliIblj5Hlm57mnaXnmoTlgLxcclxuXHRcdGZvcndhcmRfaW5zX3ZhbHVlcyA9IGZvcndhcmRfaW5zPy52YWx1ZXNcclxuXHJcblx0XHQjICMg5Y6f55Sz6K+35Y2V5a2X5q61XHJcblx0XHRvcmlnaW5hbF9pbnNfaWQgPSBfLmxhc3QgZm9yd2FyZF9pbnM/LmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcclxuXHRcdG9yaWdpbmFsX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9yaWdpbmFsX2luc19pZClcclxuXHRcdG9yaWdpbmFsX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvcmlnaW5hbF9pbnM/LmZvcm0pXHJcblxyXG5cdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcyA9IFtdXHJcblx0XHRvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBbXVxyXG5cclxuXHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFwiLG9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcclxuXHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb25cIixvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvblxyXG5cclxuXHRcdCMg5p+l55yL5Y6f55Sz6K+35Y2V5piv5ZCm5pyJ5a+55bqU55qE5a2Q6KGoXHJcblx0XHRpZiBvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXHJcblx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMgPSBvcmlnaW5hbF9pbnNfZm9ybS5jdXJyZW50Py5maWVsZHNcclxuXHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoIChvcmlnaW5hbF9pbnNfZmllbGQpLT5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyBcIm9yaWdpbmFsX2luc19maWVsZFwiLG9yaWdpbmFsX2luc19maWVsZD8uY29kZVxyXG5cdFx0XHRcdGlmIG9yaWdpbmFsX2luc19maWVsZD8uY29kZSA9PSBzdWJUYWJsZSAmJiBvcmlnaW5hbF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRcdFx0b3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkPy5maWVsZHNcclxuXHRcdGVsc2VcclxuXHRcdFx0aWYgb3JpZ2luYWxfaW5zX2Zvcm0/Lmhpc3RvcnlzPy5sZW5ndGggPiAwXHJcblx0XHRcdFx0b3JpZ2luYWxfaW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaCAob2gpLT5cclxuXHRcdFx0XHRcdGlmIG9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uID09IG9oLl9pZFxyXG5cdFx0XHRcdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzID0gb2g/LmZpZWxkc1xyXG5cdFx0XHRcdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2ggKG9yaWdpbmFsX2luc19maWVsZCktPlxyXG5cdFx0XHRcdFx0XHRcdGlmIG9yaWdpbmFsX2luc19maWVsZD8uY29kZSA9PSBzdWJUYWJsZSAmJiBvcmlnaW5hbF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkPy5maWVsZHNcclxuXHJcblx0XHRjb25zb2xlLmxvZyBcIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkc1wiLG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcz8ubGVuZ3RoXHJcblxyXG5cdFx0aWYgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzXHJcblx0XHRcdCMgIyDmm7TmlrDmraXpqqTnmoTlgLxcclxuXHRcdFx0IyAxLuaJvuWIsOW9k+WJjeeahOatpemqpFxyXG5cdFx0XHQjIDIu5b2T5YmN5q2l6aqk5LitYXBwcm92ZXPkuK3nmoR2YWx1ZXNcclxuXHRcdFx0IyAzLuWcqHZhbHVlc+S4reaJvuWIsOihqOagvFxyXG5cdFx0XHQjIDQu5qC55o2u6KGo5qC855qEZmllbGRz5bGe5oCn77yM5LiA5Liq5Liq55qE6LWL5YC8XHJcblx0XHRcdCMgNS7miorlpI3liLbnmoRwdXNo5Yiw6KGo5qC85pWw57uE55qE5ZCO6Z2iXHJcblx0XHRcdHRyYWNlcyA9IG9yaWdpbmFsX2lucz8udHJhY2VzXHJcblxyXG5cdFx0XHR0cmFjZSA9IHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdXHJcblxyXG5cdFx0XHRhcHByb3ZlID0gdHJhY2U/LmFwcHJvdmVzWzBdXHJcblxyXG5cdFx0XHR0YWJsZV9kYXRhID0gYXBwcm92ZT8udmFsdWVzW3N1YlRhYmxlXSB8fCBbXVxyXG5cclxuXHRcdFx0cm93X2RhdGEgPSB7fVxyXG5cclxuXHRcdFx0Y29sdW1ucy5mb3JFYWNoIChjb2x1bW4pLT5cclxuXHRcdFx0XHRyb3dfZGF0YVtjb2x1bW5dID0gZm9yd2FyZF9pbnNfdmFsdWVzW2NvbHVtbl0gfHwgXCJcIlxyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHRcdGlmIHJvd19kYXRhICYmIHJvd19kYXRhICE9IHt9XHJcblx0XHRcdFx0dGFibGVfZGF0YS5wdXNoIHJvd19kYXRhXHJcblx0XHRcdFx0dHJhY2VzW3RyYWNlcy5sZW5ndGgtMV0uYXBwcm92ZXNbMF0udmFsdWVzW3N1YlRhYmxlXSA9IHRhYmxlX2RhdGFcclxuXHJcblx0XHRcdFx0Y29uc29sZS5sb2cgdHJhY2VzW3RyYWNlcy5sZW5ndGgtMV0uYXBwcm92ZXNbMF0udmFsdWVzW3N1YlRhYmxlXVxyXG5cclxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKG9yaWdpbmFsX2luc19pZCx7XHJcblx0XHRcdFx0XHQkc2V0OntcclxuXHRcdFx0XHRcdFx0J3RyYWNlcyc6dHJhY2VzXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdFx0XHQnc3VjY2Vzcyc6ICflm57loavmiJDlip8nXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdFx0XHQnaW5mbyc6ICflm57loavmlbDmja7kuLrnqbonXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdGVsc2VcclxuXHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0XHQnZXJyb3InOiAn5Y6f55Sz6K+35Y2V5peg55u45YWz5a2Q6KGoJ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdGVsc2VcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0J3N1Y2Nlc3MnOiAn55Sz6K+35Y2V5pyq57uT5p2fJ1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfcmVmaWxsXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhcHByb3ZlLCBjb2x1bW5zLCBmb3J3YXJkX2lucywgZm9yd2FyZF9pbnNfdmFsdWVzLCBvcmlnaW5hbF9pbnMsIG9yaWdpbmFsX2luc19maWVsZHMsIG9yaWdpbmFsX2luc19mb3JtLCBvcmlnaW5hbF9pbnNfaWQsIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcywgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCByZWY1LCByZWY2LCByZWY3LCByZWY4LCByZWY5LCByb3dfZGF0YSwgc3ViVGFibGUsIHRhYmxlX2RhdGEsIHRyYWNlLCB0cmFjZXM7XG4gIGNvbnNvbGUubG9nKFwiPT09PT09PT095Zue5aGr5a2Q6KGoPT09PT09PT09PVwiKTtcbiAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zdWJUYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWIhuWPkeWbnuWhq+eahOWIlz09PT09PT09PT1cIik7XG4gIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uY29sdW1uXCIsIHJlcSAhPSBudWxsID8gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmNvbHVtbiA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIGNvbHVtbnMgPSByZXEgIT0gbnVsbCA/IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi5jb2x1bW4uc3BsaXQoJzsnKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgY29uc29sZS5sb2coXCJjb2x1bW5zXCIsIGNvbHVtbnMpO1xuICBmb3J3YXJkX2lucyA9IHJlcSAhPSBudWxsID8gKHJlZjMgPSByZXEuYm9keSkgIT0gbnVsbCA/IHJlZjMuaW5zdGFuY2UgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIHN1YlRhYmxlID0gcmVxICE9IG51bGwgPyAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIGlmICgoZm9yd2FyZF9pbnMgIT0gbnVsbCA/IGZvcndhcmRfaW5zLnN0YXRlIDogdm9pZCAwKSA9PT0gXCJjb21wbGV0ZWRcIiAmJiAoZm9yd2FyZF9pbnMgIT0gbnVsbCA/IChyZWY1ID0gZm9yd2FyZF9pbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgIT0gbnVsbCA/IHJlZjUubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDAgJiYgc3ViVGFibGUgJiYgY29sdW1ucykge1xuICAgIGZvcndhcmRfaW5zX3ZhbHVlcyA9IGZvcndhcmRfaW5zICE9IG51bGwgPyBmb3J3YXJkX2lucy52YWx1ZXMgOiB2b2lkIDA7XG4gICAgb3JpZ2luYWxfaW5zX2lkID0gXy5sYXN0KGZvcndhcmRfaW5zICE9IG51bGwgPyBmb3J3YXJkX2lucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIDogdm9pZCAwKTtcbiAgICBvcmlnaW5hbF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvcmlnaW5hbF9pbnNfaWQpO1xuICAgIG9yaWdpbmFsX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtIDogdm9pZCAwKTtcbiAgICBvcmlnaW5hbF9pbnNfZmllbGRzID0gW107XG4gICAgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gW107XG4gICAgY29uc29sZS5sb2coXCJvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXCIsIG9yaWdpbmFsX2luc19mb3JtICE9IG51bGwgPyAocmVmNiA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWY2Ll9pZCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCJvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvblwiLCBvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApO1xuICAgIGlmICgob3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gKG9yaWdpbmFsX2luc19mb3JtICE9IG51bGwgPyAocmVmNyA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWY3Ll9pZCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgIG9yaWdpbmFsX2luc19maWVsZHMgPSAocmVmOCA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWY4LmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgIG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvcmlnaW5hbF9pbnNfZmllbGQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJvcmlnaW5hbF9pbnNfZmllbGRcIiwgb3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCk7XG4gICAgICAgIGlmICgob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IHN1YlRhYmxlICYmIChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgIHJldHVybiBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoKG9yaWdpbmFsX2luc19mb3JtICE9IG51bGwgPyAocmVmOSA9IG9yaWdpbmFsX2luc19mb3JtLmhpc3RvcnlzKSAhPSBudWxsID8gcmVmOS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICBvcmlnaW5hbF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uKG9oKSB7XG4gICAgICAgICAgaWYgKChvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSBvaC5faWQpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsX2luc19maWVsZHMgPSBvaCAhPSBudWxsID8gb2guZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvcmlnaW5hbF9pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgaWYgKChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gc3ViVGFibGUgJiYgKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHNcIiwgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzICE9IG51bGwgPyBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMubGVuZ3RoIDogdm9pZCAwKTtcbiAgICBpZiAob3JpZ2luYWxfc3VidGFibGVfZmllbGRzKSB7XG4gICAgICB0cmFjZXMgPSBvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy50cmFjZXMgOiB2b2lkIDA7XG4gICAgICB0cmFjZSA9IHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV07XG4gICAgICBhcHByb3ZlID0gdHJhY2UgIT0gbnVsbCA/IHRyYWNlLmFwcHJvdmVzWzBdIDogdm9pZCAwO1xuICAgICAgdGFibGVfZGF0YSA9IChhcHByb3ZlICE9IG51bGwgPyBhcHByb3ZlLnZhbHVlc1tzdWJUYWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgcm93X2RhdGEgPSB7fTtcbiAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHJvd19kYXRhW2NvbHVtbl0gPSBmb3J3YXJkX2luc192YWx1ZXNbY29sdW1uXSB8fCBcIlwiO1xuICAgICAgfSk7XG4gICAgICBpZiAocm93X2RhdGEgJiYgcm93X2RhdGEgIT09IHt9KSB7XG4gICAgICAgIHRhYmxlX2RhdGEucHVzaChyb3dfZGF0YSk7XG4gICAgICAgIHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV0uYXBwcm92ZXNbMF0udmFsdWVzW3N1YlRhYmxlXSA9IHRhYmxlX2RhdGE7XG4gICAgICAgIGNvbnNvbGUubG9nKHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV0uYXBwcm92ZXNbMF0udmFsdWVzW3N1YlRhYmxlXSk7XG4gICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUob3JpZ2luYWxfaW5zX2lkLCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgJ3RyYWNlcyc6IHRyYWNlc1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgJ2luZm8nOiAn5Zue5aGr5pWw5o2u5Li656m6J1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICdlcnJvcic6ICfljp/nlLPor7fljZXml6Dnm7jlhbPlrZDooagnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnc3VjY2Vzcyc6ICfnlLPor7fljZXmnKrnu5PmnZ8nXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9mb3J3YXJkX3RhYmxlX3JlZmlsbFwiLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWOn+ihqOWtkOihqD09PT09PT09PT1cIlxyXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5vVGFibGVcIixyZXE/LnF1ZXJ5Py5vVGFibGVcclxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT09546w6KGo5a2Q6KGoPT09PT09PT09PVwiXHJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LmRUYWJsZVwiLHJlcT8ucXVlcnk/LmRUYWJsZVxyXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3ljp/ooajljZXnmoTlrZDooajljLnphY3liJc9PT09PT09PT09XCJcclxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8ub01hdGNoQ29sXCIscmVxPy5xdWVyeT8ub01hdGNoQ29sXHJcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeeOsOihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIlxyXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcIixyZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcclxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT096ZyA6KaB5Zue5aGr55qE5YiXPT09PT09PT09PVwiXHRcclxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8ucmVmaWxsQ29sXCIscmVxPy5xdWVyeT8ucmVmaWxsQ29sXHJcblxyXG5cdFx0IyDliIblj5HnmoTnlLPor7fljZVcclxuXHRcdGRfaW5zID0gcmVxPy5ib2R5Py5pbnN0YW5jZVxyXG5cclxuXHRcdFxyXG5cdFx0aWYgZF9pbnM/LnN0YXRlID09IFwiY29tcGxldGVkXCJcclxuXHRcdFx0aWYgcmVxPy5xdWVyeT8ub1RhYmxlXHJcblx0XHRcdFx0b190YWJsZSA9IHJlcT8ucXVlcnk/Lm9UYWJsZVxyXG5cdFx0XHRcdGlmIHJlcT8ucXVlcnk/LmRUYWJsZVxyXG5cdFx0XHRcdFx0ZF90YWJsZSA9IHJlcT8ucXVlcnk/LmRUYWJsZVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGRfdGFibGUgPSBvX3RhYmxlXHJcblx0XHRcdFx0aWYgcmVxPy5xdWVyeT8uYVRhYmxlXHJcblx0XHRcdFx0XHRhX3RhYmxlID0gcmVxPy5xdWVyeT8uYVRhYmxlXHJcblx0XHRcdFx0aWYgcmVxPy5xdWVyeT8ub01hdGNoQ29sXHJcblx0XHRcdFx0XHRvX21hdGNoX2NvbCA9IHJlcT8ucXVlcnk/Lm9NYXRjaENvbFxyXG5cdFx0XHRcdFx0aWYgcmVxPy5xdWVyeT8uZE1hdGNoQ29sXHJcblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sID0gcmVxPy5xdWVyeT8uZE1hdGNoQ29sXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sID0gb19tYXRjaF9jb2xcclxuXHRcdFx0XHRcdGNvbHVtbnMgPSByZXE/LnF1ZXJ5Py5yZWZpbGxDb2wuc3BsaXQoJzsnKSB8fCBbXVxyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2cgXCJjb2x1bW5zXCIsY29sdW1uc1x0XHRcdFx0XHRcclxuXHJcblx0XHRcdFx0XHRpZiBjb2x1bW5zIHx8IGNvbHVtbnMubGVuZ3RoPDFcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT09PT09PT09PT09PT09XCJcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2cgZF90YWJsZSwgb19tYXRjaF9jb2wsIGNvbHVtbnNcclxuXHJcblx0XHRcdFx0XHRcdCMg5YiG5Y+R5Zue5p2l55qE5YC8XHJcblx0XHRcdFx0XHRcdGRfaW5zX3ZhbHVlcyA9IGRfaW5zPy52YWx1ZXNcclxuXHJcblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2VIGZvcm0g6KGo5a2X5q61XHJcblx0XHRcdFx0XHRcdG9faW5zX2lkID0gXy5sYXN0IGRfaW5zPy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXHJcblx0XHRcdFx0XHRcdG9faW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob19pbnNfaWQpXHJcblx0XHRcdFx0XHRcdG9faW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9faW5zPy5mb3JtKVxyXG5cclxuXHRcdFx0XHRcdFx0ZF9pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZF9pbnM/LmZvcm0pXHJcblxyXG5cdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNleeahCBmaWVsZHNcclxuXHRcdFx0XHRcdFx0b19pbnNfZmllbGRzID0gW11cclxuXHJcblx0XHRcdFx0XHRcdCMg5Y6f5a2Q6KGo5a2X5q61XHJcblx0XHRcdFx0XHRcdG9fc3VidGFibGVfZmllbGRzID0gW11cclxuXHJcblx0XHRcdFx0XHRcdCMg5YiG5Y+R55Sz6K+35Y2V55qEIGZpZWxkc1xyXG5cdFx0XHRcdFx0XHRkX2luc19maWVsZHMgPSBbXVxyXG5cdFx0XHRcdFx0XHQjIOeOsOeUs+ivt+WNleWtl+ihqOWtl+autVxyXG5cdFx0XHRcdFx0XHRkX3N1YnRhYmxlX2ZpZWxkcyA9IFtdXHJcblxyXG5cdFx0XHRcdFx0XHQjIOi1i+WAvOWvueW6lOeahOWtl+autVxyXG5cdFx0XHRcdFx0XHRjb2x1bW5fbGlzdCA9IFtdXHJcblxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0IyDliIblj5HlkI7nlLPor7fljZXnmoQg5a2Q6KGo5YC8XHJcblx0XHRcdFx0XHRcdGRfdGFibGVfdmFsdWVzID0gW11cclxuXHJcblx0XHRcdFx0XHRcdCMg5p+l55yL5Y6f55Sz6K+35Y2V5piv5ZCm5pyJ5a+55bqU55qE5a2Q6KGoXHJcblx0XHRcdFx0XHRcdGlmIG9faW5zPy5mb3JtX3ZlcnNpb24gPT0gb19pbnNfZm9ybT8uY3VycmVudD8uX2lkXHJcblx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzID0gb19pbnNfZm9ybT8uY3VycmVudD8uZmllbGRzXHJcblx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzLmZvckVhY2ggKG9faW5zX2ZpZWxkKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRpZiBvX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIG9faW5zX2ZpZWxkPy5jb2RlID09IG9fdGFibGVcclxuXHRcdFx0XHRcdFx0XHRcdFx0b19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZD8uZmllbGRzXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRpZiBvX2luc19mb3JtPy5oaXN0b3J5cz8ubGVuZ3RoID4gMFxyXG5cdFx0XHRcdFx0XHRcdFx0b19pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoIChvaCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBvX2lucz8uZm9ybV92ZXJzaW9uID09IG9oLl9pZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcyA9IG9oPy5maWVsZHNcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMuZm9yRWFjaCAob19pbnNfZmllbGQpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIG9faW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgb19pbnNfZmllbGQ/LmNvZGUgPT0gb190YWJsZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkPy5maWVsZHNcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdCMg5p+l55yL5YiG5Y+R55qE55Sz6K+35Y2V5piv5ZCm5pyJ5a+55bqU55qE5a2X6KGoXHJcblx0XHRcdFx0XHRcdGlmIGRfaW5zPy5mb3JtX3ZlcnNpb24gPT0gZF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXHJcblx0XHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzID0gZF9pbnNfZm9ybT8uY3VycmVudD8uZmllbGRzXHJcblx0XHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzLmZvckVhY2ggKGRfaW5zX2ZpZWxkKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRpZigoZF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBkX2luc19maWVsZD8uY29kZSA9PSBkX3RhYmxlKXx8KGFfdGFibGUgJiYgZF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBkX2luc19maWVsZD8uY29kZSA9PSBhX3RhYmxlKSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQgZF9pbnNfZmllbGQ/LmZpZWxkc1xyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0aWYgZF9pbnNfZm9ybT8uaGlzdG9yeXM/Lmxlbmd0aCA+IDBcclxuXHRcdFx0XHRcdFx0XHRcdGRfaW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaCAoZGgpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgZF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBkaC5faWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMgPSBkaD8uZmllbGRzXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzLmZvckVhY2ggKGRfaW5zX2ZpZWxkKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZigoZF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBkX2luc19maWVsZD8uY29kZSA9PSBkX3RhYmxlKXx8KGFfdGFibGUgJiYgZF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBkX2luc19maWVsZD8uY29kZSA9PSBhX3RhYmxlKSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQgZF9pbnNfZmllbGQ/LmZpZWxkc1xyXG5cdFx0XHRcdFx0XHRcclxuXHJcblx0XHRcdFx0XHRcdFxyXG5cclxuXHRcdFx0XHRcdFx0aWYgb19zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09IDBcclxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyBcIm9fc3VidGFibGVfZmllbGRzXCIsb19zdWJ0YWJsZV9maWVsZHNcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRpZiBkX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT0gMFxyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcclxuXHJcblx0XHRcdFx0XHRcdGRfdGFibGVfdmFsdWVzID0gZF9pbnM/LnZhbHVlc1tkX3RhYmxlXSB8fCBbXVxyXG5cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGlmIGFfdGFibGVcclxuXHRcdFx0XHRcdFx0XHRhX3RhYmxlX3ZhbHVlcyA9ICBkX2lucz8udmFsdWVzW2FfdGFibGVdIHx8IFtdXHJcblx0XHRcdFx0XHRcdFx0aWYgYV90YWJsZV92YWx1ZXMgJiYgYV90YWJsZV92YWx1ZXM/Lmxlbmd0aD09ZF90YWJsZV92YWx1ZXM/Lmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRcdFx0YV90YWJsZV92YWx1ZXMuZm9yRWFjaCAoYV9yb3csaW5kZXgpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXNbaW5kZXhdW2tleV0gPSB2YWx1ZSBmb3Iga2V5LHZhbHVlIG9mIGFfcm93XHJcblxyXG5cdFx0XHRcdFx0XHRpZiBkX3RhYmxlX3ZhbHVlcy5sZW5ndGggPT0gMFxyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajmlbDmja7kuLrnqbonKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdG9fbWF0Y2hfY29sX2ZpZWxkcyA9IG9fc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PW9fbWF0Y2hfY29sKVxyXG5cdFx0XHRcdFx0XHRkX21hdGNoX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1kX21hdGNoX2NvbClcclxuXHJcblx0XHRcdFx0XHRcdCMg5Yy56YWN5YiX5Yik5patXHJcblx0XHRcdFx0XHRcdGlmIG9fbWF0Y2hfY29sX2ZpZWxkcy5sZW5ndGggPT0gMFxyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTljLnphY3liJcnKTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIGRfbWF0Y2hfY29sX2ZpZWxkcy5sZW5ndGggPT0gMFxyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajml6Dlr7nlupTljLnphY3liJcnKTtcclxuXHJcblx0XHRcdFx0XHRcdCMg5Yik5pat5Yy56YWN5YiX5a2X5q6155qE5YC857G75Z6L5piv5ZCm5LiA6Ie0XHJcblx0XHRcdFx0XHRcdG9fbWF0Y2hfY29sX2ZpZWxkID0gb19tYXRjaF9jb2xfZmllbGRzWzBdXHJcblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sX2ZpZWxkID0gZF9tYXRjaF9jb2xfZmllbGRzWzBdXHJcblxyXG5cdFx0XHRcdFx0XHRpZiBvX21hdGNoX2NvbF9maWVsZD8udHlwZSAhPSBkX21hdGNoX2NvbF9maWVsZD8udHlwZVxyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlkozljp/nlLPor7fljZXlrZDooajnmoTljLnphY3liJflrZfmrrXkuI3kuIDoh7QnKTtcclxuXHJcblx0XHRcdFx0XHRcdCMg5Zue5aGr5YiX5Yik5patXHJcblx0XHRcdFx0XHRcdGNvbHVtbnMuZm9yRWFjaCAoY29sdW1uKS0+XHJcblx0XHRcdFx0XHRcdFx0Y29scyA9IGNvbHVtbi5zcGxpdCgnLScpIHx8IFtdXHJcblx0XHRcdFx0XHRcdFx0aWYgY29scy5sZW5ndGggPT0gMlxyXG5cdFx0XHRcdFx0XHRcdFx0b19jb2wgPSBjb2xzWzBdXHJcblx0XHRcdFx0XHRcdFx0XHRkX2NvbCA9IGNvbHNbMV1cclxuXHRcdFx0XHRcdFx0XHRcdG9fY29sX2ZpZWxkcyA9IG9fc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PW9fY29sKVxyXG5cdFx0XHRcdFx0XHRcdFx0ZF9jb2xfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09ZF9jb2wpXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0IyDliKTmlq3mmK/lkKbmnInlr7nlupTnmoTlm57loavliJdcclxuXHRcdFx0XHRcdFx0XHRcdGlmIG9fY29sX2ZpZWxkcy5sZW5ndGggPT0gMFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Zue5aGr5YiXJyk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgZF9jb2xfZmllbGRzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQjIOWIpOaWreWMuemFjeWIl+Wtl+auteeahOWAvOexu+Wei+aYr+WQpuS4gOiHtFxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgb19jb2xfZmllbGRzPy50eXBlICE9IGRfY29sX2ZpZWxkcz8udHlwZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Zue5aGr5YiX5a2X5q6157G75Z6L5LiN5LiA6Ie0Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdGNvbCA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0b19jb2w6IG9fY29sLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRkX2NvbDogZF9jb2xcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdGNvbHVtbl9saXN0LnB1c2ggY29sXHJcblxyXG5cdFx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJfkuI3ljLnphY0nKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdCMg6LWL5YC8XHJcblx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgICc9PT09PT1jb2x1bW5fbGlzdD09PT09PT0nLGNvbHVtbl9saXN0XHJcblxyXG5cdFx0XHRcdFx0XHR0cmFjZXMgPSBvX2lucz8udHJhY2VzXHJcblxyXG5cdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNleeahCBzdGVwIFxyXG5cdFx0XHRcdFx0XHR0cmFjZSA9IHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdXHJcblxyXG5cdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNleeahOW9k+WJjeatpemqpFxyXG5cdFx0XHRcdFx0XHRhcHByb3ZlID0gdHJhY2U/LmFwcHJvdmVzWzBdXHJcblxyXG5cdFx0XHRcdFx0XHQjIOWFg+eUs+ivt+WNleeahOW9k+WJjSB2YWx1ZSDnmoQg5a2Q6KGoXHJcblx0XHRcdFx0XHRcdHRhYmxlX2RhdGEgPSBhcHByb3ZlPy52YWx1ZXNbb190YWJsZV0gfHwgW11cclxuXHJcblxyXG5cdFx0XHRcdFx0XHQjIOagueaNriBjb2x1bW5fbGlzdCDotYvlgLzlr7nlupTlrZfmrrXov5vooYzotYvlgLxcclxuXHRcdFx0XHRcdFx0IyDlvqrnjq/liIblj5HnlLPor7fljZXnmoTmr4/ooYxcclxuXHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXMuZm9yRWFjaCAoZF9yb3cpLT5cclxuXHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiZF9yb3dcIixkX3Jvd1xyXG5cdFx0XHRcdFx0XHRcdCMg5p+l5om+5Yy56YWN55qE5YiX5piv5ZCm5LiO5b2T5YmN55qE5Yy56YWN5YiX5LiA6Ie0XHJcblx0XHRcdFx0XHRcdFx0aGFzX29iaiA9IGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0Y291bnQgPSAtMVxyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdCMg55yL5Y6f5a2Q6KGo5piv5ZCm5pyJ6K+l5Yy56YWN5YiXXHJcblx0XHRcdFx0XHRcdFx0dGFibGVfZGF0YS5mb3JFYWNoIChvX3JvdywgaW5kZXgpLT5cclxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJvX3Jvd1wiLCBvX3Jvd1xyXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImluZGV4XCIsaW5kZXhcclxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJvX3Jvd1tvX21hdGNoX2NvbF1cIixvX3Jvd1tvX21hdGNoX2NvbF1cclxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJkX3Jvd1tkX21hdGNoX2NvbF1cIixkX3Jvd1tkX21hdGNoX2NvbF1cclxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJvX3Jvd1tvX21hdGNoX2NvbF0gPT0gZF9yb3dbZF9tYXRjaF9jb2xdXCIsb19yb3dbb19tYXRjaF9jb2xdID09IGRfcm93W2RfbWF0Y2hfY29sXVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGlmIG9fcm93W29fbWF0Y2hfY29sXSA9PSBkX3Jvd1tkX21hdGNoX2NvbF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0aGFzX29iaiA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y291bnQgPSBpbmRleFxyXG5cclxuXHRcdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNleeahOWMuemFjeWtl+auteacieWAvFxyXG5cdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJoYXNfb2JqXCIsaGFzX29ialxyXG5cdFx0XHRcdFx0XHRcdGlmIGhhc19vYmo9PXRydWVcclxuXHRcdFx0XHRcdFx0XHRcdGNvbHVtbl9saXN0LmZvckVhY2ggKGNvbCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0YWJsZV9kYXRhW2NvdW50XVtjb2w/Lm9fY29sXSA9IGRfcm93W2NvbD8uZF9jb2xdXHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0cm93X2RhdGEgPSB7fVxyXG5cdFx0XHRcdFx0XHRcdFx0cm93X2RhdGFbb19tYXRjaF9jb2xdID0gZF9yb3dbZF9tYXRjaF9jb2xdXHJcblx0XHRcdFx0XHRcdFx0XHRjb2x1bW5fbGlzdC5mb3JFYWNoIChjb2wpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0cm93X2RhdGFbY29sPy5vX2NvbF0gPSBkX3Jvd1tjb2w/LmRfY29sXVxyXG5cdFx0XHRcdFx0XHRcdFx0dGFibGVfZGF0YS5wdXNoIHJvd19kYXRhXHJcblxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0dHJhY2VzW3RyYWNlcy5sZW5ndGgtMV0uYXBwcm92ZXNbMF0udmFsdWVzID0gb19pbnM/LnZhbHVlc1xyXG5cdFx0XHRcdFx0XHR0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXNbb190YWJsZV0gPSB0YWJsZV9kYXRhXHJcblxyXG5cdFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKG9faW5zX2lkLHtcclxuXHRcdFx0XHRcdFx0XHQkc2V0OntcclxuXHRcdFx0XHRcdFx0XHRcdCd0cmFjZXMnOnRyYWNlc1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblxyXG5cdFx0XHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdFx0XHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRcdFx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRcdFx0XHRcdCdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5a2Q6KGo5Zue5aGr5YiX5a2X5q61IGNvbHVtbnMg5YC8Jyk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljLnphY3liJflrZfmrrUgb01hdGNoQ29sIOWAvCcpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljp/ooajljZXlrZDooaggb1RhYmxlIOWAvCcpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn55Sz6K+35Y2V5pyq57uT5p2fJyk7XHJcblx0Y2F0Y2ggZVxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRlcnJvcnM6IFtlXVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfdGFibGVfcmVmaWxsXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhX3RhYmxlLCBhX3RhYmxlX3ZhbHVlcywgYXBwcm92ZSwgY29sdW1uX2xpc3QsIGNvbHVtbnMsIGRfaW5zLCBkX2luc19maWVsZHMsIGRfaW5zX2Zvcm0sIGRfaW5zX3ZhbHVlcywgZF9tYXRjaF9jb2wsIGRfbWF0Y2hfY29sX2ZpZWxkLCBkX21hdGNoX2NvbF9maWVsZHMsIGRfc3VidGFibGVfZmllbGRzLCBkX3RhYmxlLCBkX3RhYmxlX3ZhbHVlcywgZSwgb19pbnMsIG9faW5zX2ZpZWxkcywgb19pbnNfZm9ybSwgb19pbnNfaWQsIG9fbWF0Y2hfY29sLCBvX21hdGNoX2NvbF9maWVsZCwgb19tYXRjaF9jb2xfZmllbGRzLCBvX3N1YnRhYmxlX2ZpZWxkcywgb190YWJsZSwgcmVmLCByZWYxLCByZWYxMCwgcmVmMTEsIHJlZjEyLCByZWYxMywgcmVmMTQsIHJlZjE1LCByZWYxNiwgcmVmMTcsIHJlZjE4LCByZWYxOSwgcmVmMiwgcmVmMjAsIHJlZjIxLCByZWYyMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVmNiwgcmVmNywgcmVmOCwgcmVmOSwgdGFibGVfZGF0YSwgdHJhY2UsIHRyYWNlcztcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWOn+ihqOWtkOihqD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5vVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLm9UYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3njrDooajlrZDooag9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uZFRhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmRUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3ljp/ooajljZXnmoTlrZDooajljLnphY3liJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8ub01hdGNoQ29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLm9NYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3njrDooajljZXnmoTlrZDooajljLnphY3liJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uZE1hdGNoQ29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYzLmRNYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3pnIDopoHlm57loavnmoTliJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8ucmVmaWxsQ29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY0LnJlZmlsbENvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgZF9pbnMgPSByZXEgIT0gbnVsbCA/IChyZWY1ID0gcmVxLmJvZHkpICE9IG51bGwgPyByZWY1Lmluc3RhbmNlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICgoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnN0YXRlIDogdm9pZCAwKSA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY2Lm9UYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICBvX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmNyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjcub1RhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmOCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjguZFRhYmxlIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgICAgZF90YWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjkgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY5LmRUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkX3RhYmxlID0gb190YWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmMTAgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMC5hVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICBhX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmMTEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMS5hVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjEyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTIub01hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgICAgb19tYXRjaF9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWYxMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEzLm9NYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmMTQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxNC5kTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sID0gcmVxICE9IG51bGwgPyAocmVmMTUgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxNS5kTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sID0gb19tYXRjaF9jb2w7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbHVtbnMgPSAocmVxICE9IG51bGwgPyAocmVmMTYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxNi5yZWZpbGxDb2wuc3BsaXQoJzsnKSA6IHZvaWQgMCA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgY29uc29sZS5sb2coXCJjb2x1bW5zXCIsIGNvbHVtbnMpO1xuICAgICAgICAgIGlmIChjb2x1bW5zIHx8IGNvbHVtbnMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT09PT09PT09XCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZF90YWJsZSwgb19tYXRjaF9jb2wsIGNvbHVtbnMpO1xuICAgICAgICAgICAgZF9pbnNfdmFsdWVzID0gZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnZhbHVlcyA6IHZvaWQgMDtcbiAgICAgICAgICAgIG9faW5zX2lkID0gXy5sYXN0KGRfaW5zICE9IG51bGwgPyBkX2lucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIDogdm9pZCAwKTtcbiAgICAgICAgICAgIG9faW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob19pbnNfaWQpO1xuICAgICAgICAgICAgb19pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob19pbnMgIT0gbnVsbCA/IG9faW5zLmZvcm0gOiB2b2lkIDApO1xuICAgICAgICAgICAgZF9pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmZvcm0gOiB2b2lkIDApO1xuICAgICAgICAgICAgb19pbnNfZmllbGRzID0gW107XG4gICAgICAgICAgICBvX3N1YnRhYmxlX2ZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgZF9pbnNfZmllbGRzID0gW107XG4gICAgICAgICAgICBkX3N1YnRhYmxlX2ZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgY29sdW1uX2xpc3QgPSBbXTtcbiAgICAgICAgICAgIGRfdGFibGVfdmFsdWVzID0gW107XG4gICAgICAgICAgICBpZiAoKG9faW5zICE9IG51bGwgPyBvX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSAob19pbnNfZm9ybSAhPSBudWxsID8gKHJlZjE3ID0gb19pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMTcuX2lkIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICBvX2luc19maWVsZHMgPSBvX2luc19mb3JtICE9IG51bGwgPyAocmVmMTggPSBvX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYxOC5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIG9faW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9faW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgaWYgKChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gb190YWJsZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKChvX2luc19mb3JtICE9IG51bGwgPyAocmVmMTkgPSBvX2luc19mb3JtLmhpc3RvcnlzKSAhPSBudWxsID8gcmVmMTkubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICAgICAgICBvX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24ob2gpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgob19pbnMgIT0gbnVsbCA/IG9faW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IG9oLl9pZCkge1xuICAgICAgICAgICAgICAgICAgICBvX2luc19maWVsZHMgPSBvaCAhPSBudWxsID8gb2guZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb19pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob19pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBvX3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IChkX2luc19mb3JtICE9IG51bGwgPyAocmVmMjAgPSBkX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYyMC5faWQgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgIGRfaW5zX2ZpZWxkcyA9IGRfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYyMSA9IGRfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjIxLmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgZF9pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZF9pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gZF90YWJsZSkgfHwgKGFfdGFibGUgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBhX3RhYmxlKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRfc3VidGFibGVfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuY29uY2F0KGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoKGRfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYyMiA9IGRfaW5zX2Zvcm0uaGlzdG9yeXMpICE9IG51bGwgPyByZWYyMi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgICAgICAgIGRfaW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbihkaCkge1xuICAgICAgICAgICAgICAgICAgaWYgKChkX2lucyAhPSBudWxsID8gZF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gZGguX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRfaW5zX2ZpZWxkcyA9IGRoICE9IG51bGwgPyBkaC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihkX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICgoKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBkX3RhYmxlKSB8fCAoYV90YWJsZSAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGFfdGFibGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9fc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm9fc3VidGFibGVfZmllbGRzXCIsIG9fc3VidGFibGVfZmllbGRzKTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRfc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkX3RhYmxlX3ZhbHVlcyA9IChkX2lucyAhPSBudWxsID8gZF9pbnMudmFsdWVzW2RfdGFibGVdIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICAgIGlmIChhX3RhYmxlKSB7XG4gICAgICAgICAgICAgIGFfdGFibGVfdmFsdWVzID0gKGRfaW5zICE9IG51bGwgPyBkX2lucy52YWx1ZXNbYV90YWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgICAgICBpZiAoYV90YWJsZV92YWx1ZXMgJiYgKGFfdGFibGVfdmFsdWVzICE9IG51bGwgPyBhX3RhYmxlX3ZhbHVlcy5sZW5ndGggOiB2b2lkIDApID09PSAoZF90YWJsZV92YWx1ZXMgIT0gbnVsbCA/IGRfdGFibGVfdmFsdWVzLmxlbmd0aCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgICBhX3RhYmxlX3ZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGFfcm93LCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGtleSwgcmVzdWx0cywgdmFsdWU7XG4gICAgICAgICAgICAgICAgICByZXN1bHRzID0gW107XG4gICAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiBhX3Jvdykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFfcm93W2tleV07XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChkX3RhYmxlX3ZhbHVlc1tpbmRleF1ba2V5XSA9IHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZF90YWJsZV92YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajmlbDmja7kuLrnqbonKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9fbWF0Y2hfY29sX2ZpZWxkcyA9IG9fc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IG9fbWF0Y2hfY29sO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkX21hdGNoX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBkX21hdGNoX2NvbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKG9fbWF0Y2hfY29sX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRfbWF0Y2hfY29sX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb19tYXRjaF9jb2xfZmllbGQgPSBvX21hdGNoX2NvbF9maWVsZHNbMF07XG4gICAgICAgICAgICBkX21hdGNoX2NvbF9maWVsZCA9IGRfbWF0Y2hfY29sX2ZpZWxkc1swXTtcbiAgICAgICAgICAgIGlmICgob19tYXRjaF9jb2xfZmllbGQgIT0gbnVsbCA/IG9fbWF0Y2hfY29sX2ZpZWxkLnR5cGUgOiB2b2lkIDApICE9PSAoZF9tYXRjaF9jb2xfZmllbGQgIT0gbnVsbCA/IGRfbWF0Y2hfY29sX2ZpZWxkLnR5cGUgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlkozljp/nlLPor7fljZXlrZDooajnmoTljLnphY3liJflrZfmrrXkuI3kuIDoh7QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgICAgICAgdmFyIGNvbCwgY29scywgZF9jb2wsIGRfY29sX2ZpZWxkcywgb19jb2wsIG9fY29sX2ZpZWxkcztcbiAgICAgICAgICAgICAgY29scyA9IGNvbHVtbi5zcGxpdCgnLScpIHx8IFtdO1xuICAgICAgICAgICAgICBpZiAoY29scy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICBvX2NvbCA9IGNvbHNbMF07XG4gICAgICAgICAgICAgICAgZF9jb2wgPSBjb2xzWzFdO1xuICAgICAgICAgICAgICAgIG9fY29sX2ZpZWxkcyA9IG9fc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBvX2NvbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gZF9jb2w7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG9fY29sX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRfY29sX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChvX2NvbF9maWVsZHMgIT0gbnVsbCA/IG9fY29sX2ZpZWxkcy50eXBlIDogdm9pZCAwKSAhPT0gKGRfY29sX2ZpZWxkcyAhPSBudWxsID8gZF9jb2xfZmllbGRzLnR5cGUgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Zue5aGr5YiX5a2X5q6157G75Z6L5LiN5LiA6Ie0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbCA9IHtcbiAgICAgICAgICAgICAgICAgIG9fY29sOiBvX2NvbCxcbiAgICAgICAgICAgICAgICAgIGRfY29sOiBkX2NvbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbl9saXN0LnB1c2goY29sKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Zue5aGr5YiX5LiN5Yy56YWNJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhY2VzID0gb19pbnMgIT0gbnVsbCA/IG9faW5zLnRyYWNlcyA6IHZvaWQgMDtcbiAgICAgICAgICAgIHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGFwcHJvdmUgPSB0cmFjZSAhPSBudWxsID8gdHJhY2UuYXBwcm92ZXNbMF0gOiB2b2lkIDA7XG4gICAgICAgICAgICB0YWJsZV9kYXRhID0gKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUudmFsdWVzW29fdGFibGVdIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICAgIGRfdGFibGVfdmFsdWVzLmZvckVhY2goZnVuY3Rpb24oZF9yb3cpIHtcbiAgICAgICAgICAgICAgdmFyIGNvdW50LCBoYXNfb2JqLCByb3dfZGF0YTtcbiAgICAgICAgICAgICAgaGFzX29iaiA9IGZhbHNlO1xuICAgICAgICAgICAgICBjb3VudCA9IC0xO1xuICAgICAgICAgICAgICB0YWJsZV9kYXRhLmZvckVhY2goZnVuY3Rpb24ob19yb3csIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKG9fcm93W29fbWF0Y2hfY29sXSA9PT0gZF9yb3dbZF9tYXRjaF9jb2xdKSB7XG4gICAgICAgICAgICAgICAgICBoYXNfb2JqID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjb3VudCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmIChoYXNfb2JqID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbl9saXN0LmZvckVhY2goZnVuY3Rpb24oY29sKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVfZGF0YVtjb3VudF1bY29sICE9IG51bGwgPyBjb2wub19jb2wgOiB2b2lkIDBdID0gZF9yb3dbY29sICE9IG51bGwgPyBjb2wuZF9jb2wgOiB2b2lkIDBdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvd19kYXRhID0ge307XG4gICAgICAgICAgICAgICAgcm93X2RhdGFbb19tYXRjaF9jb2xdID0gZF9yb3dbZF9tYXRjaF9jb2xdO1xuICAgICAgICAgICAgICAgIGNvbHVtbl9saXN0LmZvckVhY2goZnVuY3Rpb24oY29sKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcm93X2RhdGFbY29sICE9IG51bGwgPyBjb2wub19jb2wgOiB2b2lkIDBdID0gZF9yb3dbY29sICE9IG51bGwgPyBjb2wuZF9jb2wgOiB2b2lkIDBdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZV9kYXRhLnB1c2gocm93X2RhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV0uYXBwcm92ZXNbMF0udmFsdWVzID0gb19pbnMgIT0gbnVsbCA/IG9faW5zLnZhbHVlcyA6IHZvaWQgMDtcbiAgICAgICAgICAgIHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV0uYXBwcm92ZXNbMF0udmFsdWVzW29fdGFibGVdID0gdGFibGVfZGF0YTtcbiAgICAgICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUob19pbnNfaWQsIHtcbiAgICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAgICd0cmFjZXMnOiB0cmFjZXNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5a2Q6KGo5Zue5aGr5YiX5a2X5q61IGNvbHVtbnMg5YC8Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5Yy56YWN5YiX5a2X5q61IG9NYXRjaENvbCDlgLwnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljp/ooajljZXlrZDooaggb1RhYmxlIOWAvCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn55Sz6K+35Y2V5pyq57uT5p2fJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtlXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvc3ViX3RhYmxlX3NvcnRcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG4gICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT09PT095a2Q6KGoPT09PT09PT09PVwiXHJcbiAgICAgICAgY29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zdWJUYWJsZVwiLHJlcT8ucXVlcnk/LnN1YlRhYmxlXHJcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooajmgLvliIbliJc9PT09PT09PT09XCJcclxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnN1bUNvbFwiLHJlcT8ucXVlcnk/LnN1bUNvbFxyXG4gICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT09PT095a2Q6KGo5o6S5bqP5YiXPT09PT09PT09PVwiXHJcbiAgICAgICAgY29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zb3J0Q29sXCIscmVxPy5xdWVyeT8uc29ydENvbFxyXG4gICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT09PT095a2Q6KGo5Y2V5YiX6ZyA6KaB6K6h566X55qE5ZKMPT09PT09PT09PVwiXHJcbiAgICAgICAgY29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXCIscmVxPy5xdWVyeT8uc2luZ2xlQ29sc1xyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIHN1Yl90YWJsZSA9IHJlcT8ucXVlcnk/LnN1YlRhYmxlXHJcbiAgICAgICAgaWYgIXN1Yl90YWJsZVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09c3ViX3RhYmxlPT09PT09XCJcclxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3ViVGFibGUg5a2X5q61JyApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHN1bV9jb2wgPSByZXE/LnF1ZXJ5Py5zdW1Db2xcclxuICAgICAgICBpZiAhc3VtX2NvbFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09c3VtX2NvbD09PT09PVwiXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHN1bUNvbCDlrZfmrrUnICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc29ydF9jb2wgPSByZXE/LnF1ZXJ5Py5zb3J0Q29sXHJcbiAgICAgICAgaWYgIXNvcnRfY29sXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zb3J0X2NvbD09PT09PVwiXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHNvcnRDb2wg5a2X5q61JyApO1xyXG4gICAgICAgIFxyXG4gICAgICAgICMgc2luZ2xlX2NvbHMgPSByZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXHJcbiAgICAgICAgIyBpZiAhc2luZ2xlX2NvbHNcclxuICAgICAgICAjICAgICBjb25zb2xlLmxvZyBcIj09PT09c2luZ2xlX2NvbHM9PT09PT1cIlxyXG5cclxuICAgICAgICAjICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzaW5nbGVDb2xzIOWtl+autScgKTtcclxuICAgICAgICBcclxuICAgICAgICBpbnMgPSByZXE/LmJvZHk/Lmluc3RhbmNlXHJcbiAgICAgICAgXHJcbiAgICAgICAgc3ViX3RhYmxlX3ZhbHVlcyA9IGlucy52YWx1ZXNbc3ViX3RhYmxlXVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIHN1Yl90YWJsZV92YWx1ZXM/Lmxlbmd0aCA+IDAgXHJcbiAgICAgICAgICAgICMgIyDmoLnmja4gc3ViX3RhYmxlX3ZhbHVlcyDov5vooYzmjpLluo9cclxuICAgICAgICAgICAgIyA9PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgICAgICMg5o6S5bqP5a2X5q6177yM5YWz6ZSu5a2X77yM5q2j5bqPKHRydWUpL+WAkuW6jyhmYWxzZSlcclxuICAgICAgICAgICAgYGZ1bmN0aW9uIEpzb25Tb3J0KGpzb25BcnIsIGtleSwgYXNjKXtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaj0xLGpsPWpzb25BcnIubGVuZ3RoO2ogPCBqbDtqKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0ganNvbkFycltqXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsICA9IE51bWJlcih0ZW1wW2tleV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpICAgID0gai0xO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGFzYz09dHJ1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPnZhbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGktMTsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk8dmFsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb25BcnI7XHJcbiAgICAgICAgICAgIH1gXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBuZXdfdGFibGVfdmFsdWVzID0gSnNvblNvcnQoc3ViX3RhYmxlX3ZhbHVlcyxzdW1fY29sLGZhbHNlKVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCJuZXdfdGFibGVfdmFsdWVzXCIsbmV3X3RhYmxlX3ZhbHVlc1xyXG5cclxuICAgICAgICAgICAgbmV3X3RhYmxlX3ZhbHVlcy5mb3JFYWNoIChvYmosIGluZGV4KS0+XHJcbiAgICAgICAgICAgICAgICBpZiBzb3J0X2NvbCBhbmQgb2JqW3N1bV9jb2xdXHJcbiAgICAgICAgICAgICAgICAgICAgb2JqW3NvcnRfY29sXSA9IChpbmRleCsxKS50b1N0cmluZygpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIm5ld190YWJsZV92YWx1ZXNcIixuZXdfdGFibGVfdmFsdWVzXHJcblxyXG4gICAgICAgICAgICBpbnMudmFsdWVzW3N1Yl90YWJsZV0gPSBuZXdfdGFibGVfdmFsdWVzXHJcblxyXG4gICAgICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKGlucy5faWQse1xyXG4gICAgICAgICAgICAgICAgJHNldDp7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlcyc6aW5zLnZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcInN1Y2Nlc3NcIlxyXG4gICAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiAn6K6h566X5o6S5bqP5oiQ5YqfJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICflrZDooajmlbDmja7kuLrnqbonKTtcclxuICAgIGNhdGNoIGVcclxuICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyb3JzOiBbZV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvc3ViX3RhYmxlX3NvcnRcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGUsIGlucywgbmV3X3RhYmxlX3ZhbHVlcywgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCByZWY1LCByZWY2LCByZWY3LCBzb3J0X2NvbCwgc3ViX3RhYmxlLCBzdWJfdGFibGVfdmFsdWVzLCBzdW1fY29sO1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGoPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooajmgLvliIbliJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc3VtQ29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLnN1bUNvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooajmjpLluo/liJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc29ydENvbFwiLCByZXEgIT0gbnVsbCA/IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi5zb3J0Q29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqOWNleWIl+mcgOimgeiuoeeul+eahOWSjD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXCIsIHJlcSAhPSBudWxsID8gKHJlZjMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYzLnNpbmdsZUNvbHMgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIHN1Yl90YWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY0LnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICghc3ViX3RhYmxlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIj09PT09c3ViX3RhYmxlPT09PT09XCIpO1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3ViVGFibGUg5a2X5q61Jyk7XG4gICAgfVxuICAgIHN1bV9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWY1ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNS5zdW1Db2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKCFzdW1fY29sKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIj09PT09c3VtX2NvbD09PT09PVwiKTtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHN1bUNvbCDlrZfmrrUnKTtcbiAgICB9XG4gICAgc29ydF9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWY2ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNi5zb3J0Q29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICghc29ydF9jb2wpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiPT09PT1zb3J0X2NvbD09PT09PVwiKTtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHNvcnRDb2wg5a2X5q61Jyk7XG4gICAgfVxuICAgIGlucyA9IHJlcSAhPSBudWxsID8gKHJlZjcgPSByZXEuYm9keSkgIT0gbnVsbCA/IHJlZjcuaW5zdGFuY2UgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgc3ViX3RhYmxlX3ZhbHVlcyA9IGlucy52YWx1ZXNbc3ViX3RhYmxlXTtcbiAgICBpZiAoKHN1Yl90YWJsZV92YWx1ZXMgIT0gbnVsbCA/IHN1Yl90YWJsZV92YWx1ZXMubGVuZ3RoIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIGZ1bmN0aW9uIEpzb25Tb3J0KGpzb25BcnIsIGtleSwgYXNjKXtcbiAgICAgICAgICAgICAgICBmb3IodmFyIGo9MSxqbD1qc29uQXJyLmxlbmd0aDtqIDwgamw7aisrKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBqc29uQXJyW2pdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsICA9IE51bWJlcih0ZW1wW2tleV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaSAgICA9IGotMTtcbiAgICAgICAgICAgICAgICAgICAgaWYoYXNjPT10cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPnZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKTx2YWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGktMTsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0gdGVtcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb25BcnI7XG4gICAgICAgICAgICB9O1xuICAgICAgbmV3X3RhYmxlX3ZhbHVlcyA9IEpzb25Tb3J0KHN1Yl90YWJsZV92YWx1ZXMsIHN1bV9jb2wsIGZhbHNlKTtcbiAgICAgIGNvbnNvbGUubG9nKFwibmV3X3RhYmxlX3ZhbHVlc1wiLCBuZXdfdGFibGVfdmFsdWVzKTtcbiAgICAgIG5ld190YWJsZV92YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihvYmosIGluZGV4KSB7XG4gICAgICAgIGlmIChzb3J0X2NvbCAmJiBvYmpbc3VtX2NvbF0pIHtcbiAgICAgICAgICByZXR1cm4gb2JqW3NvcnRfY29sXSA9IChpbmRleCArIDEpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coXCJuZXdfdGFibGVfdmFsdWVzXCIsIG5ld190YWJsZV92YWx1ZXMpO1xuICAgICAgaW5zLnZhbHVlc1tzdWJfdGFibGVdID0gbmV3X3RhYmxlX3ZhbHVlcztcbiAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoaW5zLl9pZCwge1xuICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgJ3ZhbHVlcyc6IGlucy52YWx1ZXNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIik7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAnc3VjY2Vzcyc6ICforqHnrpfmjpLluo/miJDlip8nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICflrZDooajmlbDmja7kuLrnqbonKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW2VdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiaWYgTWV0ZW9yLmlzRGV2ZWxvcG1lbnRcclxuICAgIEpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy90ZXN0L3dlYmhvb2snLCAocmVxLCByZXMsIG5leHQpIC0+XHJcbiAgICAgICAgdHJ5XHJcblxyXG4gICAgICAgICAgICBoYXNoRGF0YSA9IHJlcS5ib2R5XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nICdhY3Rpb246ICcsIGhhc2hEYXRhLmFjdGlvblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyAnZnJvbV91c2VyOiAnLCBoYXNoRGF0YS5mcm9tX3VzZXJcclxuICAgICAgICAgICAgY29uc29sZS5sb2cgJ3RvX3VzZXJzOiAnLCBoYXNoRGF0YS50b191c2Vyc1xyXG5cclxuXHJcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge31cclxuICAgICAgICBjYXRjaCBlXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG4gICAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG4gICAgICAgICAgICAgICAgY29kZTogMjAwXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH0iLCJpZiAoTWV0ZW9yLmlzRGV2ZWxvcG1lbnQpIHtcbiAgSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL3Rlc3Qvd2ViaG9vaycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIGUsIGhhc2hEYXRhO1xuICAgIHRyeSB7XG4gICAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgICAgY29uc29sZS5sb2coJ2FjdGlvbjogJywgaGFzaERhdGEuYWN0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCdmcm9tX3VzZXI6ICcsIGhhc2hEYXRhLmZyb21fdXNlcik7XG4gICAgICBjb25zb2xlLmxvZygndG9fdXNlcnM6ICcsIGhhc2hEYXRhLnRvX3VzZXJzKTtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge31cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL3VzZXJzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHJcblx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHR1c2VySWRzID0gcmVxLmJvZHkudXNlcklkc1xyXG5cdHNwYWNlSWQgPSByZXEuYm9keS5zcGFjZUlkXHJcblx0c3BhY2VVc2VycyA9IFtdO1xyXG5cclxuXHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7dXNlcjogY3VycmVudF91c2VyLCBzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtfaWQ6IDF9fSlcclxuXHRpZiAhc3BhY2VfdXNlclxyXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0J2Vycm9ycyc6ICfml6DmnYPpmZAnXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpXHJcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0c3BhY2VVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdHMoc3BhY2VJZCwgdXNlcklkcylcclxuXHJcblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0Y29kZTogMjAwLFxyXG5cdFx0ZGF0YToge1xyXG5cdFx0XHQnc3BhY2VVc2Vycyc6IHNwYWNlVXNlcnNcclxuXHRcdH1cclxuXHR9XHJcbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvdXNlcnNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIHNwYWNlSWQsIHNwYWNlVXNlcnMsIHNwYWNlX3VzZXIsIHVzZXJJZHM7XG4gIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgdXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHM7XG4gIHNwYWNlSWQgPSByZXEuYm9keS5zcGFjZUlkO1xuICBzcGFjZVVzZXJzID0gW107XG4gIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICB1c2VyOiBjdXJyZW50X3VzZXIsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxXG4gICAgfVxuICB9KTtcbiAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfml6DmnYPpmZAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgc3BhY2VVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdHMoc3BhY2VJZCwgdXNlcklkcyk7XG4gIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgICdzcGFjZVVzZXJzJzogc3BhY2VVc2Vyc1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS9vcmdzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblx0b3JnSWRzID0gcmVxLmJvZHkub3JnSWRzXHJcblx0c3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWRcclxuXHJcblx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe3VzZXI6IGN1cnJlbnRfdXNlciwgc3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7X2lkOiAxfX0pXHJcblx0aWYgIXNwYWNlX3VzZXJcclxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdCdlcnJvcnMnOiAn5peg5p2D6ZmQJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0aWYgKCFvcmdJZHMgfHwgIXNwYWNlSWQpXHJcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdG9yZ3MgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYU9yZ09iamVjdHMob3JnSWRzKVxyXG5cclxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRjb2RlOiAyMDAsXHJcblx0XHRkYXRhOiB7XHJcblx0XHRcdCdvcmdzJzogb3Jnc1xyXG5cdFx0fVxyXG5cdH0pO1xyXG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL29yZ3NcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIG9yZ0lkcywgb3Jncywgc3BhY2VJZCwgc3BhY2VfdXNlcjtcbiAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICBvcmdJZHMgPSByZXEuYm9keS5vcmdJZHM7XG4gIHNwYWNlSWQgPSByZXEuYm9keS5zcGFjZUlkO1xuICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgdXNlcjogY3VycmVudF91c2VyLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMVxuICAgIH1cbiAgfSk7XG4gIGlmICghc3BhY2VfdXNlcikge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn5peg5p2D6ZmQJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmICghb3JnSWRzIHx8ICFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgb3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhT3JnT2JqZWN0cyhvcmdJZHMpO1xuICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICAnb3Jncyc6IG9yZ3NcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3Iuc3RhcnR1cCAoKS0+XHJcblx0VGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyID0gbmV3IFRhYnVsYXIuVGFibGVcclxuXHRcdG5hbWU6IFwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhclwiXHJcblx0XHRjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXNcclxuXHRcdGNvbHVtbnM6IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiX2lkXCIsXHJcblx0XHRcdFx0dGl0bGU6ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInJldmVyc2VcIiBpZD1cInJldmVyc2VcIj4nLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2UsXHJcblx0XHRcdFx0d2lkdGg6ICcxcHgnLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0aW5wdXQgPSAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwicmVsYXRlZC1pbnN0YW5jZXMtbGlzdC1jaGVja2JveFwiIG5hbWU9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiBpZD1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIHZhbHVlPVwiJyArIGRvYy5faWQgKyAnXCInXHJcblxyXG5cdFx0XHRcdFx0aWYgVGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLnJlbGF0ZWRfaW5zdGFuY2VzPy5pbmNsdWRlcyhkb2MuX2lkKVxyXG5cdFx0XHRcdFx0XHRpbnB1dCArPSBcIiBjaGVja2VkIFwiXHJcblxyXG5cdFx0XHRcdFx0aW5wdXQgKz0gXCI+XCJcclxuXHRcdFx0XHRcdHJldHVybiBpbnB1dFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJuYW1lXCIsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZSxcclxuXHRcdFx0XHR3aWR0aDogJzQ1JScsXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRocmVmID0gJyc7XHJcblx0XHRcdFx0XHRpZiBNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKVxyXG5cdFx0XHRcdFx0XHRocmVmID0gJydcclxuXHJcblx0XHRcdFx0XHRhYnNvbHV0ZSA9IGZhbHNlXHJcblxyXG5cdFx0XHRcdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdFx0XHRcdGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZVxyXG5cdFx0XHRcdFx0aWYgYWJzb2x1dGVcclxuXHRcdFx0XHRcdFx0aHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2RvYy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGhyZWYgPSBTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIrZG9jLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcclxuXHRcdFx0XHRcdHJldHVybiBcIjxhIGRhdGEtaWQ9JyN7ZG9jLl9pZH0nIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIitocmVmK1wiJz5cIiArIGRvYy5uYW1lICsgXCI8L2E+XCJcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImZsb3dfbmFtZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRpZiBkb2Muc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxyXG5cdFx0XHRcdFx0XHRqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCJcclxuXHJcblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJ1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlcC1jdXJyZW50LXN0YXRlICN7anVkZ2V9XCI+I3tzdGVwX2N1cnJlbnRfbmFtZX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XCJcIlwiXHJcblx0XHRcdH1cclxuXHRcdF1cclxuXHJcblx0XHRkb206IFwidHBcIixcclxuXHRcdGxlbmd0aENoYW5nZTogZmFsc2UsXHJcblx0XHRleHRyYUZpZWxkczogW1wic3RhdGVcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcInNwYWNlXCIsIFwia2V5d29yZHNcIl0sXHJcblx0XHRwYWdlTGVuZ3RoOiAxMCxcclxuXHRcdGluZm86IGZhbHNlLFxyXG5cdFx0c2VhcmNoaW5nOiB0cnVlLFxyXG5cdFx0cmVzcG9uc2l2ZTpcclxuXHRcdFx0ZGV0YWlsczogZmFsc2VcclxuXHRcdGF1dG9XaWR0aDogZmFsc2UsXHJcblx0XHRjaGFuZ2VTZWxlY3RvcjogKHNlbGVjdG9yLCB1c2VySWQpIC0+XHJcblx0XHRcdHVubGVzcyB1c2VySWRcclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XHJcblxyXG5cdFx0XHRzcGFjZUlkID0gc2VsZWN0b3Iuc3BhY2VcclxuXHRcdFx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdFx0XHRpZiBzZWxlY3Rvcj8uJGFuZD8ubGVuZ3RoID4gMFxyXG5cdFx0XHRcdFx0c3BhY2VJZCA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF1cclxuXHRcdFx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XHJcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZClcclxuXHRcdFx0aWYgIXNwYWNlXHJcblx0XHRcdFx0c2VsZWN0b3Iuc3RhdGUgPSBcIm5vbmVcIlxyXG5cdFx0XHRpZiAhc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZClcclxuXHJcblx0XHRcdFx0Zmxvd19pZHMgPSBbXVxyXG5cdFx0XHRcdGN1clNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xyXG5cdFx0XHRcdFx0c3BhY2U6IHNwYWNlSWQsXHJcblx0XHRcdFx0XHQndXNlcic6IHVzZXJJZFxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0aWYgY3VyU3BhY2VVc2VyXHJcblx0XHRcdFx0XHRvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcclxuXHRcdFx0XHRcdFx0X2lkOiB7XHJcblx0XHRcdFx0XHRcdFx0JGluOiBjdXJTcGFjZVVzZXIub3JnYW5pemF0aW9uc1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KS5mZXRjaCgpXHJcblx0XHRcdFx0XHRmbG93cyA9IGRiLmZsb3dzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9KVxyXG5cdFx0XHRcdFx0Zmxvd3MuZm9yRWFjaCAoZmwpLT5cclxuXHRcdFx0XHRcdFx0aWYgV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucykgfHwgV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpXHJcblx0XHRcdFx0XHRcdFx0Zmxvd19pZHMucHVzaChmbC5faWQpXHJcblxyXG5cdFx0XHRcdGlmIHNlbGVjdG9yPy4kYW5kPy5sZW5ndGggPiAwXHJcblx0XHRcdFx0XHRzZWxlY3Rvci4kYW5kWzBdLiRvciA9IFt7c3VibWl0dGVyOiB1c2VySWR9LCB7YXBwbGljYW50OiB1c2VySWR9LCB7aW5ib3hfdXNlcnM6IHVzZXJJZH0sIHtvdXRib3hfdXNlcnM6IHVzZXJJZH0sXHJcblx0XHRcdFx0XHRcdFx0e2NjX3VzZXJzOiB1c2VySWR9LCB7IGZsb3c6IHsgJGluOiBmbG93X2lkcyB9IH1dXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0Xy5leHRlbmQgc2VsZWN0b3IsIHtcclxuXHRcdFx0XHRcdFx0JG9yOiBbe3N1Ym1pdHRlcjogdXNlcklkfSwge2FwcGxpY2FudDogdXNlcklkfSwge2luYm94X3VzZXJzOiB1c2VySWR9LCB7b3V0Ym94X3VzZXJzOiB1c2VySWR9LFxyXG5cdFx0XHRcdFx0XHRcdHtjY191c2VyczogdXNlcklkfSwgeyBmbG93OiB7ICRpbjogZmxvd19pZHMgfSB9XVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHNlbGVjdG9yIiwiTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIgPSBuZXcgVGFidWxhci5UYWJsZSh7XG4gICAgbmFtZTogXCJyZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyXCIsXG4gICAgY29sbGVjdGlvbjogZGIuaW5zdGFuY2VzLFxuICAgIGNvbHVtbnM6IFtcbiAgICAgIHtcbiAgICAgICAgZGF0YTogXCJfaWRcIixcbiAgICAgICAgdGl0bGU6ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInJldmVyc2VcIiBpZD1cInJldmVyc2VcIj4nLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICB3aWR0aDogJzFweCcsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgaW5wdXQsIHJlZjtcbiAgICAgICAgICBpbnB1dCA9ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJyZWxhdGVkLWluc3RhbmNlcy1saXN0LWNoZWNrYm94XCIgbmFtZT1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIGlkPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgdmFsdWU9XCInICsgZG9jLl9pZCArICdcIic7XG4gICAgICAgICAgaWYgKChyZWYgPSBUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIucmVsYXRlZF9pbnN0YW5jZXMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoZG9jLl9pZCkgOiB2b2lkIDApIHtcbiAgICAgICAgICAgIGlucHV0ICs9IFwiIGNoZWNrZWQgXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlucHV0ICs9IFwiPlwiO1xuICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm5hbWVcIixcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6ICc0NSUnLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFic29sdXRlLCBocmVmO1xuICAgICAgICAgIGhyZWYgPSAnJztcbiAgICAgICAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSkpIHtcbiAgICAgICAgICAgIGhyZWYgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgICAgYWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICAgICAgICBhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICAgICAgaHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZG9jLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHJlZiA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGRvYy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoXCI8YSBkYXRhLWlkPSdcIiArIGRvYy5faWQgKyBcIicgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiKSArIGhyZWYgKyBcIic+XCIgKyBkb2MubmFtZSArIFwiPC9hPlwiO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJmbG93X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIganVkZ2UsIHN0ZXBfY3VycmVudF9uYW1lO1xuICAgICAgICAgIGlmIChkb2Muc3RhdGUgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgICAgICAgIGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJyc7XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwic3RlcC1jdXJyZW50LXN0YXRlIFwiICsganVkZ2UgKyBcIlxcXCI+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZSArIFwiPC9kaXY+XCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdLFxuICAgIGRvbTogXCJ0cFwiLFxuICAgIGxlbmd0aENoYW5nZTogZmFsc2UsXG4gICAgZXh0cmFGaWVsZHM6IFtcInN0YXRlXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJzcGFjZVwiLCBcImtleXdvcmRzXCJdLFxuICAgIHBhZ2VMZW5ndGg6IDEwLFxuICAgIGluZm86IGZhbHNlLFxuICAgIHNlYXJjaGluZzogdHJ1ZSxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICBkZXRhaWxzOiBmYWxzZVxuICAgIH0sXG4gICAgYXV0b1dpZHRoOiBmYWxzZSxcbiAgICBjaGFuZ2VTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IsIHVzZXJJZCkge1xuICAgICAgdmFyIGN1clNwYWNlVXNlciwgZmxvd19pZHMsIGZsb3dzLCBvcmdhbml6YXRpb25zLCByZWYsIHJlZjEsIHNwYWNlLCBzcGFjZUlkO1xuICAgICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZUlkID0gc2VsZWN0b3Iuc3BhY2U7XG4gICAgICBpZiAoIXNwYWNlSWQpIHtcbiAgICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsID8gKHJlZiA9IHNlbGVjdG9yLiRhbmQpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICBzcGFjZUlkID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZUlkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkKTtcbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgc2VsZWN0b3Iuc3RhdGUgPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICAgIGlmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZCkpIHtcbiAgICAgICAgZmxvd19pZHMgPSBbXTtcbiAgICAgICAgY3VyU3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgICAgICAgJ3VzZXInOiB1c2VySWRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjdXJTcGFjZVVzZXIpIHtcbiAgICAgICAgICBvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgICAgIF9pZDoge1xuICAgICAgICAgICAgICAkaW46IGN1clNwYWNlVXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgICAgICBmbG93cyA9IGRiLmZsb3dzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IHNwYWNlSWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmbG93cy5mb3JFYWNoKGZ1bmN0aW9uKGZsKSB7XG4gICAgICAgICAgICBpZiAoV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucykgfHwgV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmbG93X2lkcy5wdXNoKGZsLl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsID8gKHJlZjEgPSBzZWxlY3Rvci4kYW5kKSAhPSBudWxsID8gcmVmMS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgIHNlbGVjdG9yLiRhbmRbMF0uJG9yID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdWJtaXR0ZXI6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBhcHBsaWNhbnQ6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBpbmJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIG91dGJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGNjX3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgZmxvdzoge1xuICAgICAgICAgICAgICAgICRpbjogZmxvd19pZHNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgXy5leHRlbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICAgICRvcjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VibWl0dGVyOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGFwcGxpY2FudDogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBpbmJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBvdXRib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgY2NfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZmxvdzoge1xuICAgICAgICAgICAgICAgICAgJGluOiBmbG93X2lkc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgfVxuICB9KTtcbn0pO1xuIiwiU3RlZWRvcy5zdWJzW1wiSW5zdGFuY2VUYWJ1bGFyXCJdID0gbmV3IFN1YnNNYW5hZ2VyKClcclxuXHJcblxyXG5faGFuZGxlTGlzdEZpZWxkcyA9IChmaWVsZHMpIC0+XHJcblx0aW5zX2ZpZWxkcyA9IG5ldyBBcnJheSgpO1xyXG5cclxuXHRmaWVsZHM/LmZvckVhY2ggKGYpLT5cclxuXHRcdGlmIGYudHlwZSA9PSAndGFibGUnXHJcblx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcclxuXHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xyXG5cdFx0XHRmPy5maWVsZHM/LmZvckVhY2ggKGYxKS0+XHJcblx0XHRcdFx0aW5zX2ZpZWxkcy5wdXNoIGYxXHJcblx0XHRlbHNlXHJcblx0XHRcdGluc19maWVsZHMucHVzaCBmXHJcblxyXG5cdHJldHVybiBpbnNfZmllbGRzXHJcblxyXG5cclxudXBkYXRlVGFidWxhclRpdGxlID0gKCktPlxyXG5cclxuIyDlpoLmnpxjb2x1bW5z5pyJ5Yqg5YeP77yM6K+35L+u5pS5VGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zIOWHveaVsFxyXG5pbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyID0gKGZsb3dJZCwgZmllbGRzKS0+XHJcblx0b3B0aW9ucyA9IHtcclxuXHRcdG5hbWU6IFwiaW5zdGFuY2VzXCIsXHJcblx0XHRjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXMsXHJcblx0XHRwdWI6IFwiaW5zdGFuY2VfdGFidWxhclwiLFxyXG5cdFx0b25VbmxvYWQ6ICgpLT5cclxuXHRcdFx0TWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApXHJcblxyXG5cdFx0ZHJhd0NhbGxiYWNrOiAoc2V0dGluZ3MpLT5cclxuXHRcdFx0ZW1wdHlUZCA9ICQoXCIuZGF0YVRhYmxlc19lbXB0eVwiKVxyXG5cdFx0XHRpZiBlbXB0eVRkLmxlbmd0aFxyXG5cdFx0XHRcdGVtcHR5VGRbMF0uY29sU3BhbiA9IFwiNlwiXHJcblx0XHRcdGlmICFTdGVlZG9zLmlzTW9iaWxlKCkgJiYgIVN0ZWVkb3MuaXNQYWQoKVxyXG5cdFx0XHRcdE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKVxyXG5cdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMCkucmVhZHkgLT5cclxuXHRcdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5wZXJmZWN0U2Nyb2xsYmFyKFwidXBkYXRlXCIpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHQkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApXHJcblxyXG5cdFx0XHR0aXRsZSA9IHQgXCJwYWdlcl9pbnB1dF9oaW50XCJcclxuXHRcdFx0ZWxsaXBzaXNMaW5rID0gc2V0dGluZ3Mub0luc3RhbmNlLnBhcmVudCgpLmZpbmQoJy5wYWdpbmdfbnVtYmVycyAucGFnaW5hdGlvbiAuZGlzYWJsZWQgYScpXHJcblx0XHRcdGVsbGlwc2lzTGluay5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmNzcyhcImN1cnNvclwiLCBcInBvaW50ZXJcIikuY2xpY2sgLT5cclxuXHRcdFx0XHRpZiAhJCh0aGlzKS5maW5kKCdpbnB1dCcpLmxlbmd0aFxyXG5cdFx0XHRcdFx0aW5wdXQgPSAkKCc8aW5wdXQgY2xhc3M9XCJwYWdpbmF0ZV9pbnB1dCBmb3JtLWNvbnRyb2wgaW5wdXQtc21cIiB0eXBlPVwidGV4dFwiIHN0eWxlPVwiYm9yZGVyOiBub25lOyBwYWRkaW5nOjAgMnB4O1wiLz4nKVxyXG5cdFx0XHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXHJcblx0XHRcdFx0XHRcdGlucHV0LmNzcyh7XHJcblx0XHRcdFx0XHRcdFx0d2lkdGg6XCI1MnB4XCJcclxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMjBweFwiXHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGlucHV0LmNzcyh7XHJcblx0XHRcdFx0XHRcdFx0d2lkdGg6XCI1MnB4XCJcclxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMTZweFwiXHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRpbnB1dC5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCB0aXRsZSlcclxuXHRcdFx0XHRcdCQodGhpcykuZW1wdHkoKS5hcHBlbmQgaW5wdXRcclxuXHRcdFx0XHRcdGdvUGFnZSA9IChpbmRleCktPlxyXG5cdFx0XHRcdFx0XHRpZiBpbmRleCA+IDBcclxuXHRcdFx0XHRcdFx0XHRwYWdlcyA9IE1hdGguY2VpbChzZXR0aW5ncy5mblJlY29yZHNEaXNwbGF5KCkgLyBzZXR0aW5ncy5faURpc3BsYXlMZW5ndGgpXHJcblx0XHRcdFx0XHRcdFx0aWYgaW5kZXggPiBwYWdlc1xyXG5cdFx0XHRcdFx0XHRcdFx0IyDpobXnoIHotoXlh7rntKLlvJXml7bot7PovazliLDmnIDlkI7kuIDpobVcclxuXHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gcGFnZXNcclxuXHRcdFx0XHRcdFx0XHRpbmRleC0tXHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Mub0luc3RhbmNlLkRhdGFUYWJsZSgpLnBhZ2UoaW5kZXgpLmRyYXcoJ3BhZ2UnKVxyXG5cdFx0XHRcdFx0aW5wdXQuYmx1ciAoZSktPlxyXG5cdFx0XHRcdFx0XHRjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKClcclxuXHRcdFx0XHRcdFx0Z29QYWdlIGN1cnJlbnRQYWdlXHJcblx0XHRcdFx0XHRcdCQodGhpcykucGFyZW50KCkuaHRtbCAnLi4uJ1xyXG5cdFx0XHRcdFx0aW5wdXQua2V5ZG93biAoZSktPlxyXG5cdFx0XHRcdFx0XHRpZihlLmtleUNvZGUudG9TdHJpbmcoKSA9PSBcIjEzXCIpXHJcblx0XHRcdFx0XHRcdFx0Y3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpXHJcblx0XHRcdFx0XHRcdFx0Z29QYWdlIGN1cnJlbnRQYWdlXHJcblxyXG5cdFx0Y3JlYXRlZFJvdzogKHJvdywgZGF0YSwgZGF0YUluZGV4KSAtPlxyXG5cdFx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0XHRpZiBkYXRhLl9pZCA9PSBGbG93Um91dGVyLmN1cnJlbnQoKS5wYXJhbXMuaW5zdGFuY2VJZFxyXG5cdFx0XHRcdFx0cm93LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic2VsZWN0ZWRcIilcclxuXHRcdGNvbHVtbnM6IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiX2lkXCIsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0bW9kaWZpZWRTdHJpbmcgPSBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcclxuXHJcblx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5tb2RpZmllZFxyXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94JyAmJiBkb2Muc3RhdGUgIT0gJ2RyYWZ0J1xyXG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5zdGFydF9kYXRlIHx8IGRvYy5tb2RpZmllZFxyXG5cclxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdvdXRib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdtb25pdG9yJ1xyXG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5zdWJtaXRfZGF0ZSB8fCBkb2Muc3VibWl0X2RhdGVcclxuXHJcblx0XHRcdFx0XHRtb2RpZmllZEZyb21Ob3cgPSBTdGVlZG9zLm1vbWVudFJlYWN0aXZlRnJvbU5vdyhtb2RpZmllZCk7XHJcblx0XHRcdFx0XHRmbG93X25hbWUgPSBkb2MuZmxvd19uYW1lXHJcblx0XHRcdFx0XHRjY192aWV3ID0gXCJcIjtcclxuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xyXG5cdFx0XHRcdFx0IyDlvZPliY3nlKjmiLflnKhjYyB1c2Vy5Lit77yM5L2G5piv5LiN5ZyoaW5ib3ggdXNlcnPml7bmiY3mmL7npLon5Lyg6ZiFJ+aWh+Wtl1xyXG5cdFx0XHRcdFx0aWYgZG9jLmlzX2NjICYmICFkb2MuaW5ib3hfdXNlcnM/LmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xyXG5cdFx0XHRcdFx0XHRjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIlxyXG5cdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTxzcGFuPigje2RvYy5jdXJyZW50X3N0ZXBfbmFtZX0pPC9zcGFuPjwvZGl2PlwiXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9ICdkcmFmdCcgJiYgZG9jLmN1cnJlbnRfc3RlcF9uYW1lXHJcblx0XHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08c3Bhbj4oI3tkb2MuY3VycmVudF9zdGVwX25hbWV9KTwvc3Bhbj48L2Rpdj5cIlxyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08L2Rpdj5cIlxyXG5cclxuXHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIlwiO1xyXG5cdFx0XHRcdFx0aWYgZG9jLmFnZW50X3VzZXJfbmFtZSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXHJcblx0XHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZX0pICsgXCIpPC9sYWJlbD5cIlxyXG5cclxuXHRcdFx0XHRcdHVucmVhZCA9ICcnXHJcblxyXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PSBmYWxzZVxyXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+J1xyXG5cdFx0XHRcdFx0ZWxzZSBpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PSB0cnVlXHJcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+J1xyXG5cclxuXHRcdFx0XHRcdHByaW9yaXR5SWNvbiA9IFwiXCJcclxuXHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIlxyXG5cdFx0XHRcdFx0cHJpb3JpdHlWYWx1ZSA9IGRvYy52YWx1ZXM/LnByaW9yaXR5XHJcblx0XHRcdFx0XHRzd2l0Y2ggcHJpb3JpdHlWYWx1ZVxyXG5cdFx0XHRcdFx0XHR3aGVuIFwi54m55oClXCJcclxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCJcclxuXHRcdFx0XHRcdFx0d2hlbiBcIue0p+aApVwiXHJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIlxyXG5cdFx0XHRcdFx0XHR3aGVuIFwi5Yqe5paHXCJcclxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIlxyXG5cdFx0XHRcdFx0aWYgcHJpb3JpdHlJY29uQ2xhc3NcclxuXHRcdFx0XHRcdFx0aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktI3twcmlvcml0eUljb25DbGFzc31cIlxyXG5cclxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz4je3VucmVhZH08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgI3tpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzfSc+I3tkb2MubmFtZX0je2NjX3ZpZXd9I3thZ2VudF92aWV3fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3Bhbj4je2RvYy5hcHBsaWNhbnRfbmFtZX08L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLWRldGFpbCc+I3tzdGVwX2N1cnJlbnRfbmFtZV92aWV3fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz0naW5zdGFuY2UtbW9kaWZpZWQnIHRpdGxlPScje21vZGlmaWVkU3RyaW5nfSc+I3ttb2RpZmllZEZyb21Ob3d9PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XCJcIlwiXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiKSxcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwibmFtZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX25hbWVcIiksXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRjY192aWV3ID0gXCJcIjtcclxuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xyXG5cdFx0XHRcdFx0IyDlvZPliY3nlKjmiLflnKhjYyB1c2Vy5Lit77yM5L2G5piv5LiN5ZyoaW5ib3ggdXNlcnPml7bmiY3mmL7npLon5Lyg6ZiFJ+aWh+Wtl1xyXG5cdFx0XHRcdFx0aWYgZG9jLmlzX2NjICYmICFkb2MuaW5ib3hfdXNlcnM/LmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xyXG5cdFx0XHRcdFx0XHRjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIlxyXG5cclxuXHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIlwiO1xyXG5cdFx0XHRcdFx0aWYgZG9jLmFnZW50X3VzZXJfbmFtZVxyXG5cdFx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7dXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWV9KSArIFwiKTwvbGFiZWw+XCJcclxuXHJcblx0XHRcdFx0XHR1bnJlYWQgPSAnJ1xyXG5cclxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT0gZmFsc2VcclxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPidcclxuXHRcdFx0XHRcdGVsc2UgaWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPidcclxuXHJcblx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiXCJcclxuXHRcdFx0XHRcdHByaW9yaXR5VmFsdWUgPSBkb2MudmFsdWVzPy5wcmlvcml0eVxyXG5cdFx0XHRcdFx0c3dpdGNoIHByaW9yaXR5VmFsdWVcclxuXHRcdFx0XHRcdFx0d2hlbiBcIueJueaApVwiXHJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiXHJcblx0XHRcdFx0XHRcdHdoZW4gXCLntKfmgKVcIlxyXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCJcclxuXHRcdFx0XHRcdFx0d2hlbiBcIuWKnuaWh1wiXHJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCJcclxuXHRcdFx0XHRcdGlmIHByaW9yaXR5SWNvbkNsYXNzXHJcblx0XHRcdFx0XHRcdGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LSN7cHJpb3JpdHlJY29uQ2xhc3N9XCJcclxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1yZWFkLWJhcic+I3t1bnJlYWR9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSAje2luc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3N9Jz4je2RvYy5uYW1lfSN7Y2Nfdmlld30je2FnZW50X3ZpZXd9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFwiXCJcIlxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2VcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcInN1Ym1pdF9kYXRlXCIsXHJcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfc3VibWl0X2RhdGVcIiksXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRpZiBkb2Muc3VibWl0X2RhdGVcclxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2Muc3VibWl0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xyXG5cdFx0XHRcdCxcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiZmxvd19uYW1lXCIsXHJcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXHJcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RlcF9jdXJyZW50X25hbWVcIiksXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRpZiBkb2Muc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxyXG5cdFx0XHRcdFx0XHRqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCJcclxuXHJcblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJ1xyXG5cclxuXHRcdFx0XHRcdGNjX3RhZyA9ICcnXHJcblxyXG5cdFx0XHRcdFx0aWYgZG9jLmNjX2NvdW50ID4gMFxyXG5cdFx0XHRcdFx0XHRjY190YWcgPSBUQVBpMThuLl9fKCdjY190YWcnKVxyXG5cclxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZXAtY3VycmVudC1zdGF0ZSAje2p1ZGdlfVwiPiN7c3RlcF9jdXJyZW50X25hbWV9I3tjY190YWd9PC9kaXY+XHJcblx0XHRcdFx0XHRcIlwiXCJcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcIm1vZGlmaWVkXCIsXHJcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfbW9kaWZpZWRcIiksXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XHJcblx0XHRcdFx0LFxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJzdGFydF9kYXRlXCIsXHJcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RhcnRfZGF0ZVwiKSxcclxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHRcdFx0XHRcdGlmIGRvYy5zdGFydF9kYXRlXHJcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLnN0YXJ0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xyXG5cdFx0XHRcdCxcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwibXlfZmluaXNoX2RhdGVcIixcclxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHRcdFx0XHRcdGlmIGRvYy5teV9maW5pc2hfZGF0ZVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5teV9maW5pc2hfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XHJcblx0XHRcdFx0LFxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJtb2RpZmllZFwiLFxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImtleXdvcmRzXCIsXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2VcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiaXNfYXJjaGl2ZWRcIixcclxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHRcdFx0XHRcdGlmIGRvYz8udmFsdWVzPy5yZWNvcmRfbmVlZCAmJiBkb2MudmFsdWVzLnJlY29yZF9uZWVkID09IFwidHJ1ZVwiXHJcblx0XHRcdFx0XHRcdGlmIGRvYz8uaXNfYXJjaGl2ZWRcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdChcIllFU1wiKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdChcIk5PXCIpXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2VcclxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXHJcblx0XHRcdH1cclxuXHRcdF0sXHJcblx0XHRkb206IGRvIC0+XHJcblx0XHRcdCMg5omL5py65LiK5LiN5pi+56S65LiA6aG15pi+56S65aSa5bCR5p2h6K6w5b2V6YCJ6aG5XHJcblx0XHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxyXG5cdFx0XHRcdCd0cCdcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdCd0cGwnXHJcblx0XHRvcmRlcjogW1s0LCBcImRlc2NcIl1dLFxyXG5cdFx0ZXh0cmFGaWVsZHM6IFtcImZvcm1cIiwgXCJmbG93XCIsIFwiaW5ib3hfdXNlcnNcIiwgXCJzdGF0ZVwiLCBcInNwYWNlXCIsIFwiYXBwbGljYW50XCIsIFwiZm9ybV92ZXJzaW9uXCIsXHJcblx0XHRcdFwiZmxvd192ZXJzaW9uXCIsIFwiaXNfY2NcIiwgXCJjY19jb3VudFwiLCBcImlzX3JlYWRcIiwgXCJjdXJyZW50X3N0ZXBfbmFtZVwiLCBcInZhbHVlc1wiLCBcImtleXdvcmRzXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJmbG93X25hbWVcIiwgXCJpc19oaWRkZW5cIiwgXCJhZ2VudF91c2VyX25hbWVcIl0sXHJcblx0XHRsZW5ndGhDaGFuZ2U6IHRydWUsXHJcblx0XHRsZW5ndGhNZW51OiBbMTAsMTUsMjAsMjUsNTAsMTAwXSxcclxuXHRcdHBhZ2VMZW5ndGg6IDEwLFxyXG5cdFx0aW5mbzogZmFsc2UsXHJcblx0XHRzZWFyY2hpbmc6IHRydWUsXHJcblx0XHRyZXNwb25zaXZlOlxyXG5cdFx0XHRkZXRhaWxzOiBmYWxzZVxyXG5cdFx0YXV0b1dpZHRoOiBmYWxzZSxcclxuXHRcdGNoYW5nZVNlbGVjdG9yOiAoc2VsZWN0b3IsIHVzZXJJZCkgLT5cclxuXHRcdFx0dW5sZXNzIHVzZXJJZFxyXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cclxuXHRcdFx0c3BhY2UgPSBzZWxlY3Rvci5zcGFjZVxyXG5cdFx0XHR1bmxlc3Mgc3BhY2VcclxuXHRcdFx0XHRpZiBzZWxlY3Rvcj8uJGFuZD8ubGVuZ3RoID4gMFxyXG5cdFx0XHRcdFx0c3BhY2UgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdXHJcblx0XHRcdHVubGVzcyBzcGFjZVxyXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cclxuXHRcdFx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe3VzZXI6IHVzZXJJZCwgc3BhY2U6IHNwYWNlfSwge2ZpZWxkczoge19pZDogMX19KVxyXG5cdFx0XHR1bmxlc3Mgc3BhY2VfdXNlclxyXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cclxuXHRcdFx0cmV0dXJuIHNlbGVjdG9yXHJcblx0XHRwYWdpbmdUeXBlOiBcIm51bWJlcnNcIlxyXG5cclxuXHR9XHJcblxyXG5cdGlmIGZsb3dJZFxyXG5cdFx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGZsb3dJZFxyXG5cclxuXHRcdG9wdGlvbnMubmFtZSA9IGtleVxyXG5cclxuXHRcdFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkcyA9IGZpZWxkc1xyXG5cclxuXHRcdGluc19maWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyBUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHNcclxuXHJcblx0XHRpbnNfZmllbGRzLmZvckVhY2ggKGYpLT5cclxuXHRcdFx0aWYgZi50eXBlICE9ICd0YWJsZScgJiYgZi5pc19saXN0X2Rpc3BsYXlcclxuXHRcdFx0XHRvcHRpb25zLmNvbHVtbnMucHVzaFxyXG5cdFx0XHRcdFx0ZGF0YTogKGYubmFtZSB8fCBmLmNvZGUpLFxyXG5cdFx0XHRcdFx0dGl0bGU6IHQoZi5uYW1lIHx8IGYuY29kZSksXHJcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0XHRcdG9yZGVyYWJsZTogZmFsc2VcclxuXHRcdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cclxuXHRcdFx0XHRcdFx0dmFsdWVzID0gZG9jLnZhbHVlcyB8fCB7fVxyXG5cclxuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZXNbZi5jb2RlXVxyXG5cclxuXHRcdFx0XHRcdFx0c3dpdGNoIGYudHlwZVxyXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ3VzZXInXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5uYW1lXHJcblx0XHRcdFx0XHRcdFx0d2hlbiAnZ3JvdXAnXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5mdWxsbmFtZVxyXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2RhdGUnXHJcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREJylcclxuXHRcdFx0XHRcdFx0XHR3aGVuICdkYXRlVGltZSdcclxuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKVxyXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2NoZWNrYm94J1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWUgPT0gdHJ1ZSB8fCB2YWx1ZSA9PSAndHJ1ZSdcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIik7XHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIik7XHJcblx0XHRcdFx0XHRcdFx0d2hlbiAnb2RhdGEnXHJcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBfLmlzQXJyYXkodmFsdWUpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBfLnBsdWNrKHZhbHVlLCAnQGxhYmVsJykudG9TdHJpbmcoKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZVsnQGxhYmVsJ11cclxuXHJcblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZVxyXG5cclxuXHJcblx0cmV0dXJuIG9wdGlvbnM7XHJcblxyXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XHJcblx0VGFidWxhclRhYmxlcy5pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKClcclxuXHJcblxyXG5HZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyA9IChib3gsIGZsb3dJZCwgZmllbGRzKS0+XHJcblx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZFxyXG5cdGlmIGJveCA9PSBcImluYm94XCJcclxuXHRcdG9wdGlvbnMgPSBfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpXHJcblx0ZWxzZSBpZiBib3ggPT0gXCJvdXRib3hcIlxyXG5cdFx0b3B0aW9ucyA9IF9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpXHJcblx0ZWxzZVxyXG5cdFx0b3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXHJcblx0XHRpZiAhZmxvd0lkXHJcblx0XHRcdG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCJcclxuXHRpZiBmbG93SWRcclxuXHRcdG9wdGlvbnMubmFtZSA9IGtleVxyXG5cdHJldHVybiBvcHRpb25zXHJcblxyXG5cclxuXHJcbl9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IChmbG93SWQsIGZpZWxkcyktPlxyXG5cdG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKVxyXG5cclxuXHRpZiAhZmxvd0lkXHJcblx0XHRvcHRpb25zLm5hbWUgPSBcImluYm94X2luc3RhbmNlc1wiXHJcblxyXG5cdG9wdGlvbnMub3JkZXIgPSBbWzgsIFwiZGVzY1wiXV1cclxuXHRvcHRpb25zLmZpbHRlcmVkUmVjb3JkSWRzID0gKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucyktPlxyXG5cdFx0YWdncmVnYXRlX29wZXJhdGlvbiA9IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCRtYXRjaDogc2VsZWN0b3JcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCRwcm9qZWN0OiB7XHJcblx0XHRcdFx0XHRuYW1lOiAxLFxyXG5cdFx0XHRcdFx0XCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3ZlcydcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkdW53aW5kOiBcIiRfYXBwcm92ZVwiXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkdW53aW5kOiBcIiRfYXBwcm92ZVwiXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkbWF0Y2g6IHtcclxuXHRcdFx0XHRcdCdfYXBwcm92ZS5pc19maW5pc2hlZCc6IGZhbHNlXHJcblx0XHRcdFx0XHQnX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZCxcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdF1cclxuXHRcdGlmIHNvcnQgYW5kIHNvcnQubGVuZ3RoID4gMFxyXG5cdFx0XHRzMSA9IHNvcnRbMF1cclxuXHRcdFx0czFfMCA9IHMxWzBdXHJcblx0XHRcdHMxXzEgPSBzMVsxXVxyXG5cdFx0XHRpZiBzMV8wID09ICdzdGFydF9kYXRlJ1xyXG5cclxuXHRcdFx0XHRmaW5kT3B0aW9ucy5zb3J0ID0gW1snbW9kaWZpZWQnLCBzMV8xXV1cclxuXHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRncm91cDoge19pZDogXCIkX2lkXCIsIFwiYXBwcm92ZV9zdGFydF9kYXRlXCI6IHskZmlyc3Q6IFwiJF9hcHByb3ZlLnN0YXJ0X2RhdGVcIn19XHJcblxyXG5cdFx0XHRcdGFnX3NvcnQgPSAnYXBwcm92ZV9zdGFydF9kYXRlJzogaWYgczFfMSA9PSAnYXNjJyB0aGVuIDEgZWxzZSAtMVxyXG5cclxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJHNvcnQ6IGFnX3NvcnRcclxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJHNraXA6IHNraXBcclxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJGxpbWl0OiBsaW1pdFxyXG5cdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KClcclxuXHJcblx0XHRcdFx0YWdncmVnYXRlID0gKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIC0+XHJcblx0XHRcdFx0XHR0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheSAoZXJyLCBkYXRhKSAtPlxyXG5cdFx0XHRcdFx0XHRpZiBlcnJcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxyXG5cdFx0XHRcdFx0XHRkYXRhLmZvckVhY2ggKGRvYykgLT5cclxuXHRcdFx0XHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcy5wdXNoIGRvYy5faWRcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdFx0aWYgY2JcclxuXHRcdFx0XHRcdFx0XHRjYigpXHJcblx0XHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKVxyXG5cclxuXHRcdFx0XHRhc3luY19hZ2dyZWdhdGUgdGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzXHJcblxyXG5cdFx0XHRcdHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHNcclxuXHJcblx0cmV0dXJuIG9wdGlvbnNcclxuXHJcbk1ldGVvci5zdGFydHVwICgpLT5cclxuXHRUYWJ1bGFyVGFibGVzLmluYm94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwiaW5ib3hcIilcclxuXHJcblxyXG5fZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zID0gKGZsb3dJZCwgZmllbGRzKS0+XHJcblx0b3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXHJcblxyXG5cdGlmICFmbG93SWRcclxuXHRcdG9wdGlvbnMubmFtZSA9IFwib3V0Ym94X2luc3RhbmNlc1wiXHJcblxyXG5cdG9wdGlvbnMub3JkZXIgPSBbWzksIFwiZGVzY1wiXV1cclxuXHRvcHRpb25zLmZpbHRlcmVkUmVjb3JkSWRzID0gKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucyktPlxyXG5cdFx0YWdncmVnYXRlX29wZXJhdGlvbiA9IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCRtYXRjaDogc2VsZWN0b3JcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCRwcm9qZWN0OiB7XHJcblx0XHRcdFx0XHRuYW1lOiAxLFxyXG5cdFx0XHRcdFx0XCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3ZlcydcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkdW53aW5kOiBcIiRfYXBwcm92ZVwiXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkdW53aW5kOiBcIiRfYXBwcm92ZVwiXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkbWF0Y2g6IHtcclxuXHRcdFx0XHRcdCdfYXBwcm92ZS5pc19maW5pc2hlZCc6IHRydWVcclxuXHRcdFx0XHRcdCRvcjogW3snX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZH0seydfYXBwcm92ZS51c2VyJzogdXNlcklkfV1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdF1cclxuXHRcdGlmIHNvcnQgYW5kIHNvcnQubGVuZ3RoID4gMFxyXG5cdFx0XHRzMSA9IHNvcnRbMF1cclxuXHRcdFx0czFfMCA9IHMxWzBdXHJcblx0XHRcdHMxXzEgPSBzMVsxXVxyXG5cdFx0XHRpZiBzMV8wID09ICdteV9maW5pc2hfZGF0ZSdcclxuXHJcblx0XHRcdFx0ZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dXHJcblxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkZ3JvdXA6IHtfaWQ6IFwiJF9pZFwiLCBcImFwcHJvdmVfZmluaXNoX2RhdGVcIjogeyRsYXN0OiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwifX1cclxuXHJcblx0XHRcdFx0YWdfc29ydCA9ICdhcHByb3ZlX2ZpbmlzaF9kYXRlJzogaWYgczFfMSA9PSAnYXNjJyB0aGVuIDEgZWxzZSAtMVxyXG5cclxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJHNvcnQ6IGFnX3NvcnRcclxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJHNraXA6IHNraXBcclxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJGxpbWl0OiBsaW1pdFxyXG5cdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KClcclxuXHJcblx0XHRcdFx0YWdncmVnYXRlID0gKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIC0+XHJcblx0XHRcdFx0XHR0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheSAoZXJyLCBkYXRhKSAtPlxyXG5cdFx0XHRcdFx0XHRpZiBlcnJcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxyXG5cdFx0XHRcdFx0XHRkYXRhLmZvckVhY2ggKGRvYykgLT5cclxuXHRcdFx0XHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcy5wdXNoIGRvYy5faWRcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdFx0aWYgY2JcclxuXHRcdFx0XHRcdFx0XHRjYigpXHJcblx0XHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKVxyXG5cclxuXHRcdFx0XHRhc3luY19hZ2dyZWdhdGUgdGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzXHJcblxyXG5cdFx0XHRcdHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHNcclxuXHJcblx0cmV0dXJuIG9wdGlvbnNcclxuXHJcbk1ldGVvci5zdGFydHVwICgpLT5cclxuXHRUYWJ1bGFyVGFibGVzLm91dGJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcIm91dGJveFwiKVxyXG5cclxuaWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0VGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzID0gbmV3IFJlYWN0aXZlVmFyKClcclxuXHJcbk1ldGVvci5zdGFydHVwICgpLT5cclxuXHRUcmFja2VyLmF1dG9ydW4gKGMpIC0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnQgJiYgIVN0ZWVkb3MuaXNNb2JpbGUoKVxyXG5cdFx0XHRpZiBTZXNzaW9uLmdldChcImZsb3dJZFwiKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSAhPSAnZHJhZnQnXHJcblx0XHRcdFx0TWV0ZW9yLmNhbGwgXCJuZXdJbnN0YW5jZXNMaXN0VGFidWxhclwiLCBTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIChlcnJvciwgcmVzdWx0KSAtPlxyXG5cdFx0XHRcdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCByZXN1bHRcclxuXHRcdFx0XHRcdFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX2NoYW5nZU9yZGVyKClcclxuXHJcblxyXG5uZXdJbnN0YW5jZXNMaXN0VGFidWxhciA9IChib3gsIGZsb3dJZCwgZmllbGRzKS0+XHJcblx0aWYgIWZpZWxkc1xyXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge2Zvcm06IDF9fSlcclxuXHRcdGZpZWxkcyA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3c/LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuZmllbGRzJzogMSB9IH0pPy5jdXJyZW50Py5maWVsZHNcclxuXHJcblx0ZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMgZmllbGRzXHJcblxyXG5cdGlmIGZpZWxkcz8uZmlsdGVyUHJvcGVydHkoXCJpc19saXN0X2Rpc3BsYXlcIiwgdHJ1ZSk/Lmxlbmd0aCA+IDBcclxuXHRcdGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWRcclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMuc2V0KG5ldyBUYWJ1bGFyLlRhYmxlIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKGJveCwgZmxvd0lkLCBmaWVsZHMpKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKVxyXG5cdFx0Y29uc29sZS5sb2cgXCJuZXcgVGFidWxhclRhYmxlcyBcIiwga2V5XHJcblxyXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRNZXRlb3IubWV0aG9kc1xyXG5cdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXI6IChib3gsIGZsb3dJZCktPlxyXG5cdFx0XHRuZXdJbnN0YW5jZXNMaXN0VGFidWxhcihib3gsIGZsb3dJZClcclxuXHJcblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGZsb3dJZH0sIHtmaWVsZHM6IHtmb3JtOiAxfX0pXHJcblx0XHRcdGZpZWxkcyA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3c/LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuZmllbGRzJzogMSB9IH0pPy5jdXJyZW50Py5maWVsZHNcclxuXHRcdFx0cmV0dXJuIGZpZWxkc1xyXG5cclxuXHJcbiIsInZhciBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucywgX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zLCBfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zLCBfaGFuZGxlTGlzdEZpZWxkcywgaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciwgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIsIHVwZGF0ZVRhYnVsYXJUaXRsZTtcblxuU3RlZWRvcy5zdWJzW1wiSW5zdGFuY2VUYWJ1bGFyXCJdID0gbmV3IFN1YnNNYW5hZ2VyKCk7XG5cbl9oYW5kbGVMaXN0RmllbGRzID0gZnVuY3Rpb24oZmllbGRzKSB7XG4gIHZhciBpbnNfZmllbGRzO1xuICBpbnNfZmllbGRzID0gbmV3IEFycmF5KCk7XG4gIGlmIChmaWVsZHMgIT0gbnVsbCkge1xuICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgIHZhciByZWY7XG4gICAgICBpZiAoZi50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnKTtcbiAgICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGYgIT0gbnVsbCA/IChyZWYgPSBmLmZpZWxkcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGYxKSB7XG4gICAgICAgICAgcmV0dXJuIGluc19maWVsZHMucHVzaChmMSk7XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGluc19maWVsZHMucHVzaChmKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaW5zX2ZpZWxkcztcbn07XG5cbnVwZGF0ZVRhYnVsYXJUaXRsZSA9IGZ1bmN0aW9uKCkge307XG5cbmluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIgPSBmdW5jdGlvbihmbG93SWQsIGZpZWxkcykge1xuICB2YXIgaW5zX2ZpZWxkcywga2V5LCBvcHRpb25zO1xuICBvcHRpb25zID0ge1xuICAgIG5hbWU6IFwiaW5zdGFuY2VzXCIsXG4gICAgY29sbGVjdGlvbjogZGIuaW5zdGFuY2VzLFxuICAgIHB1YjogXCJpbnN0YW5jZV90YWJ1bGFyXCIsXG4gICAgb25VbmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKTtcbiAgICB9LFxuICAgIGRyYXdDYWxsYmFjazogZnVuY3Rpb24oc2V0dGluZ3MpIHtcbiAgICAgIHZhciBlbGxpcHNpc0xpbmssIGVtcHR5VGQsIHRpdGxlO1xuICAgICAgZW1wdHlUZCA9ICQoXCIuZGF0YVRhYmxlc19lbXB0eVwiKTtcbiAgICAgIGlmIChlbXB0eVRkLmxlbmd0aCkge1xuICAgICAgICBlbXB0eVRkWzBdLmNvbFNwYW4gPSBcIjZcIjtcbiAgICAgIH1cbiAgICAgIGlmICghU3RlZWRvcy5pc01vYmlsZSgpICYmICFTdGVlZG9zLmlzUGFkKCkpIHtcbiAgICAgICAgTWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApO1xuICAgICAgICAkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKFwiLmluc3RhbmNlLWxpc3RcIikucGVyZmVjdFNjcm9sbGJhcihcInVwZGF0ZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApO1xuICAgICAgfVxuICAgICAgdGl0bGUgPSB0KFwicGFnZXJfaW5wdXRfaGludFwiKTtcbiAgICAgIGVsbGlwc2lzTGluayA9IHNldHRpbmdzLm9JbnN0YW5jZS5wYXJlbnQoKS5maW5kKCcucGFnaW5nX251bWJlcnMgLnBhZ2luYXRpb24gLmRpc2FibGVkIGEnKTtcbiAgICAgIHJldHVybiBlbGxpcHNpc0xpbmsuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5jc3MoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZ29QYWdlLCBpbnB1dDtcbiAgICAgICAgaWYgKCEkKHRoaXMpLmZpbmQoJ2lucHV0JykubGVuZ3RoKSB7XG4gICAgICAgICAgaW5wdXQgPSAkKCc8aW5wdXQgY2xhc3M9XCJwYWdpbmF0ZV9pbnB1dCBmb3JtLWNvbnRyb2wgaW5wdXQtc21cIiB0eXBlPVwidGV4dFwiIHN0eWxlPVwiYm9yZGVyOiBub25lOyBwYWRkaW5nOjAgMnB4O1wiLz4nKTtcbiAgICAgICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICBpbnB1dC5jc3Moe1xuICAgICAgICAgICAgICB3aWR0aDogXCI1MnB4XCIsXG4gICAgICAgICAgICAgIGhlaWdodDogXCIyMHB4XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dC5jc3Moe1xuICAgICAgICAgICAgICB3aWR0aDogXCI1MnB4XCIsXG4gICAgICAgICAgICAgIGhlaWdodDogXCIxNnB4XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnB1dC5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCB0aXRsZSk7XG4gICAgICAgICAgJCh0aGlzKS5lbXB0eSgpLmFwcGVuZChpbnB1dCk7XG4gICAgICAgICAgZ29QYWdlID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBwYWdlcztcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgcGFnZXMgPSBNYXRoLmNlaWwoc2V0dGluZ3MuZm5SZWNvcmRzRGlzcGxheSgpIC8gc2V0dGluZ3MuX2lEaXNwbGF5TGVuZ3RoKTtcbiAgICAgICAgICAgICAgaWYgKGluZGV4ID4gcGFnZXMpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IHBhZ2VzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5vSW5zdGFuY2UuRGF0YVRhYmxlKCkucGFnZShpbmRleCkuZHJhdygncGFnZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgaW5wdXQuYmx1cihmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFBhZ2U7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICBnb1BhZ2UoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuICQodGhpcykucGFyZW50KCkuaHRtbCgnLi4uJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGlucHV0LmtleWRvd24oZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZS50b1N0cmluZygpID09PSBcIjEzXCIpIHtcbiAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICByZXR1cm4gZ29QYWdlKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjcmVhdGVkUm93OiBmdW5jdGlvbihyb3csIGRhdGEsIGRhdGFJbmRleCkge1xuICAgICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgICBpZiAoZGF0YS5faWQgPT09IEZsb3dSb3V0ZXIuY3VycmVudCgpLnBhcmFtcy5pbnN0YW5jZUlkKSB7XG4gICAgICAgICAgcmV0dXJuIHJvdy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNlbGVjdGVkXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjb2x1bW5zOiBbXG4gICAgICB7XG4gICAgICAgIGRhdGE6IFwiX2lkXCIsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgYWdlbnRfdmlldywgY2NfdmlldywgZmxvd19uYW1lLCBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzLCBtb2RpZmllZCwgbW9kaWZpZWRGcm9tTm93LCBtb2RpZmllZFN0cmluZywgcHJpb3JpdHlJY29uLCBwcmlvcml0eUljb25DbGFzcywgcHJpb3JpdHlWYWx1ZSwgcmVmLCByZWYxLCBzdGVwX2N1cnJlbnRfbmFtZV92aWV3LCB1bnJlYWQ7XG4gICAgICAgICAgbW9kaWZpZWRTdHJpbmcgPSBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgICBtb2RpZmllZCA9IGRvYy5tb2RpZmllZDtcbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgJiYgZG9jLnN0YXRlICE9PSAnZHJhZnQnKSB7XG4gICAgICAgICAgICBtb2RpZmllZCA9IGRvYy5zdGFydF9kYXRlIHx8IGRvYy5tb2RpZmllZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnb3V0Ym94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InKSB7XG4gICAgICAgICAgICBtb2RpZmllZCA9IGRvYy5zdWJtaXRfZGF0ZSB8fCBkb2Muc3VibWl0X2RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vZGlmaWVkRnJvbU5vdyA9IFN0ZWVkb3MubW9tZW50UmVhY3RpdmVGcm9tTm93KG1vZGlmaWVkKTtcbiAgICAgICAgICBmbG93X25hbWUgPSBkb2MuZmxvd19uYW1lO1xuICAgICAgICAgIGNjX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuaXNfY2MgJiYgISgocmVmID0gZG9jLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDApICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIjtcbiAgICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+XCIgKyBmbG93X25hbWUgKyBcIjxzcGFuPihcIiArIGRvYy5jdXJyZW50X3N0ZXBfbmFtZSArIFwiKTwvc3Bhbj48L2Rpdj5cIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpICE9PSAnZHJhZnQnICYmIGRvYy5jdXJyZW50X3N0ZXBfbmFtZSkge1xuICAgICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8c3Bhbj4oXCIgKyBkb2MuY3VycmVudF9zdGVwX25hbWUgKyBcIik8L3NwYW4+PC9kaXY+XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYWdlbnRfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5hZ2VudF91c2VyX25hbWUgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgdXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWVcbiAgICAgICAgICAgIH0pICsgXCIpPC9sYWJlbD5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5yZWFkID0gJyc7XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPic7XG4gICAgICAgICAgfSBlbHNlIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JpdHlJY29uID0gXCJcIjtcbiAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiXCI7XG4gICAgICAgICAgcHJpb3JpdHlWYWx1ZSA9IChyZWYxID0gZG9jLnZhbHVlcykgIT0gbnVsbCA/IHJlZjEucHJpb3JpdHkgOiB2b2lkIDA7XG4gICAgICAgICAgc3dpdGNoIChwcmlvcml0eVZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFwi54m55oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi57Sn5oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIuWKnuaWh1wiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByaW9yaXR5SWNvbkNsYXNzKSB7XG4gICAgICAgICAgICBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS1cIiArIHByaW9yaXR5SWNvbkNsYXNzO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS1yZWFkLWJhcic+XCIgKyB1bnJlYWQgKyBcIjwvZGl2PlxcbjxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgXCIgKyBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzICsgXCInPlwiICsgZG9jLm5hbWUgKyBjY192aWV3ICsgYWdlbnRfdmlldyArIFwiXFxuXHQ8c3Bhbj5cIiArIGRvYy5hcHBsaWNhbnRfbmFtZSArIFwiPC9zcGFuPlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9J2luc3RhbmNlLWRldGFpbCc+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ICsgXCJcXG5cdDxzcGFuIGNsYXNzPSdpbnN0YW5jZS1tb2RpZmllZCcgdGl0bGU9J1wiICsgbW9kaWZpZWRTdHJpbmcgKyBcIic+XCIgKyBtb2RpZmllZEZyb21Ob3cgKyBcIjwvc3Bhbj5cXG48L2Rpdj5cIjtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIiksXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19uYW1lXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFnZW50X3ZpZXcsIGNjX3ZpZXcsIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MsIHByaW9yaXR5SWNvbkNsYXNzLCBwcmlvcml0eVZhbHVlLCByZWYsIHJlZjEsIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcsIHVucmVhZDtcbiAgICAgICAgICBjY192aWV3ID0gXCJcIjtcbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmlzX2NjICYmICEoKHJlZiA9IGRvYy5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpIDogdm9pZCAwKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICAgICAgY2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuYWdlbnRfdXNlcl9uYW1lKSB7XG4gICAgICAgICAgICBhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICAgICAgICAgIHVzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lXG4gICAgICAgICAgICB9KSArIFwiKTwvbGFiZWw+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVucmVhZCA9ICcnO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIjtcbiAgICAgICAgICBwcmlvcml0eVZhbHVlID0gKHJlZjEgPSBkb2MudmFsdWVzKSAhPSBudWxsID8gcmVmMS5wcmlvcml0eSA6IHZvaWQgMDtcbiAgICAgICAgICBzd2l0Y2ggKHByaW9yaXR5VmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCLnibnmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLntKfmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi5Yqe5paHXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJpb3JpdHlJY29uQ2xhc3MpIHtcbiAgICAgICAgICAgIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LVwiICsgcHJpb3JpdHlJY29uQ2xhc3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz5cIiArIHVucmVhZCArIFwiPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSBcIiArIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgKyBcIic+XCIgKyBkb2MubmFtZSArIGNjX3ZpZXcgKyBhZ2VudF92aWV3ICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJzdWJtaXRfZGF0ZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdWJtaXRfZGF0ZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIGlmIChkb2Muc3VibWl0X2RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLnN1Ym1pdF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJmbG93X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdGVwX2N1cnJlbnRfbmFtZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBjY190YWcsIGp1ZGdlLCBzdGVwX2N1cnJlbnRfbmFtZTtcbiAgICAgICAgICBpZiAoZG9jLnN0YXRlID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgICAgICAgICBqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLmN1cnJlbnRfc3RlcF9uYW1lIHx8ICcnO1xuICAgICAgICAgIGNjX3RhZyA9ICcnO1xuICAgICAgICAgIGlmIChkb2MuY2NfY291bnQgPiAwKSB7XG4gICAgICAgICAgICBjY190YWcgPSBUQVBpMThuLl9fKCdjY190YWcnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwic3RlcC1jdXJyZW50LXN0YXRlIFwiICsganVkZ2UgKyBcIlxcXCI+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZSArIGNjX3RhZyArIFwiPC9kaXY+XCI7XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibW9kaWZpZWRcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfbW9kaWZpZWRcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJzdGFydF9kYXRlXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0YXJ0X2RhdGVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLnN0YXJ0X2RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLnN0YXJ0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm15X2ZpbmlzaF9kYXRlXCIsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLm15X2ZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5teV9maW5pc2hfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibW9kaWZpZWRcIixcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJrZXl3b3Jkc1wiLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImlzX2FyY2hpdmVkXCIsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgcmVmO1xuICAgICAgICAgIGlmICgoZG9jICE9IG51bGwgPyAocmVmID0gZG9jLnZhbHVlcykgIT0gbnVsbCA/IHJlZi5yZWNvcmRfbmVlZCA6IHZvaWQgMCA6IHZvaWQgMCkgJiYgZG9jLnZhbHVlcy5yZWNvcmRfbmVlZCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgIGlmIChkb2MgIT0gbnVsbCA/IGRvYy5pc19hcmNoaXZlZCA6IHZvaWQgMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdChcIllFU1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0KFwiTk9cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfVxuICAgIF0sXG4gICAgZG9tOiAoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgIHJldHVybiAndHAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICd0cGwnO1xuICAgICAgfVxuICAgIH0pKCksXG4gICAgb3JkZXI6IFtbNCwgXCJkZXNjXCJdXSxcbiAgICBleHRyYUZpZWxkczogW1wiZm9ybVwiLCBcImZsb3dcIiwgXCJpbmJveF91c2Vyc1wiLCBcInN0YXRlXCIsIFwic3BhY2VcIiwgXCJhcHBsaWNhbnRcIiwgXCJmb3JtX3ZlcnNpb25cIiwgXCJmbG93X3ZlcnNpb25cIiwgXCJpc19jY1wiLCBcImNjX2NvdW50XCIsIFwiaXNfcmVhZFwiLCBcImN1cnJlbnRfc3RlcF9uYW1lXCIsIFwidmFsdWVzXCIsIFwia2V5d29yZHNcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcImZsb3dfbmFtZVwiLCBcImlzX2hpZGRlblwiLCBcImFnZW50X3VzZXJfbmFtZVwiXSxcbiAgICBsZW5ndGhDaGFuZ2U6IHRydWUsXG4gICAgbGVuZ3RoTWVudTogWzEwLCAxNSwgMjAsIDI1LCA1MCwgMTAwXSxcbiAgICBwYWdlTGVuZ3RoOiAxMCxcbiAgICBpbmZvOiBmYWxzZSxcbiAgICBzZWFyY2hpbmc6IHRydWUsXG4gICAgcmVzcG9uc2l2ZToge1xuICAgICAgZGV0YWlsczogZmFsc2VcbiAgICB9LFxuICAgIGF1dG9XaWR0aDogZmFsc2UsXG4gICAgY2hhbmdlU2VsZWN0b3I6IGZ1bmN0aW9uKHNlbGVjdG9yLCB1c2VySWQpIHtcbiAgICAgIHZhciByZWYsIHNwYWNlLCBzcGFjZV91c2VyO1xuICAgICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZSA9IHNlbGVjdG9yLnNwYWNlO1xuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICBpZiAoKHNlbGVjdG9yICE9IG51bGwgPyAocmVmID0gc2VsZWN0b3IuJGFuZCkgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgIHNwYWNlID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgICAgdXNlcjogdXNlcklkLFxuICAgICAgICBzcGFjZTogc3BhY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgX2lkOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgIH0sXG4gICAgcGFnaW5nVHlwZTogXCJudW1iZXJzXCJcbiAgfTtcbiAgaWYgKGZsb3dJZCkge1xuICAgIGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBmbG93SWQ7XG4gICAgb3B0aW9ucy5uYW1lID0ga2V5O1xuICAgIFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkcyA9IGZpZWxkcztcbiAgICBpbnNfZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMoVGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzKTtcbiAgICBpbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgaWYgKGYudHlwZSAhPT0gJ3RhYmxlJyAmJiBmLmlzX2xpc3RfZGlzcGxheSkge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5jb2x1bW5zLnB1c2goe1xuICAgICAgICAgIGRhdGE6IGYubmFtZSB8fCBmLmNvZGUsXG4gICAgICAgICAgdGl0bGU6IHQoZi5uYW1lIHx8IGYuY29kZSksXG4gICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUsIHZhbHVlcztcbiAgICAgICAgICAgIHZhbHVlcyA9IGRvYy52YWx1ZXMgfHwge307XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlc1tmLmNvZGVdO1xuICAgICAgICAgICAgc3dpdGNoIChmLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAndXNlcic6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUubmFtZSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmZ1bGxuYW1lIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdvZGF0YSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoXy5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF8ucGx1Y2sodmFsdWUsICdAbGFiZWwnKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZVsnQGxhYmVsJ107XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUoaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcigpKTtcbn0pO1xuXG5HZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyA9IGZ1bmN0aW9uKGJveCwgZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGtleSwgb3B0aW9ucztcbiAga2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZDtcbiAgaWYgKGJveCA9PT0gXCJpbmJveFwiKSB7XG4gICAgb3B0aW9ucyA9IF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcyk7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm91dGJveFwiKSB7XG4gICAgb3B0aW9ucyA9IF9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpO1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKTtcbiAgICBpZiAoIWZsb3dJZCkge1xuICAgICAgb3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIjtcbiAgICB9XG4gIH1cbiAgaWYgKGZsb3dJZCkge1xuICAgIG9wdGlvbnMubmFtZSA9IGtleTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbl9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IGZ1bmN0aW9uKGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBvcHRpb25zO1xuICBvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcyk7XG4gIGlmICghZmxvd0lkKSB7XG4gICAgb3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIjtcbiAgfVxuICBvcHRpb25zLm9yZGVyID0gW1s4LCBcImRlc2NcIl1dO1xuICBvcHRpb25zLmZpbHRlcmVkUmVjb3JkSWRzID0gZnVuY3Rpb24odGFibGUsIHNlbGVjdG9yLCBzb3J0LCBza2lwLCBsaW1pdCwgb2xkX2ZpbHRlcmVkUmVjb3JkSWRzLCB1c2VySWQsIGZpbmRPcHRpb25zKSB7XG4gICAgdmFyIGFnX3NvcnQsIGFnZ3JlZ2F0ZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgYXN5bmNfYWdncmVnYXRlLCBmaWx0ZXJlZFJlY29yZElkcywgczEsIHMxXzAsIHMxXzE7XG4gICAgYWdncmVnYXRlX29wZXJhdGlvbiA9IFtcbiAgICAgIHtcbiAgICAgICAgJG1hdGNoOiBzZWxlY3RvclxuICAgICAgfSwge1xuICAgICAgICAkcHJvamVjdDoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgXCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3ZlcydcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgJG1hdGNoOiB7XG4gICAgICAgICAgJ19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogZmFsc2UsXG4gICAgICAgICAgJ19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gICAgaWYgKHNvcnQgJiYgc29ydC5sZW5ndGggPiAwKSB7XG4gICAgICBzMSA9IHNvcnRbMF07XG4gICAgICBzMV8wID0gczFbMF07XG4gICAgICBzMV8xID0gczFbMV07XG4gICAgICBpZiAoczFfMCA9PT0gJ3N0YXJ0X2RhdGUnKSB7XG4gICAgICAgIGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkZ3JvdXA6IHtcbiAgICAgICAgICAgIF9pZDogXCIkX2lkXCIsXG4gICAgICAgICAgICBcImFwcHJvdmVfc3RhcnRfZGF0ZVwiOiB7XG4gICAgICAgICAgICAgICRmaXJzdDogXCIkX2FwcHJvdmUuc3RhcnRfZGF0ZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYWdfc29ydCA9IHtcbiAgICAgICAgICAnYXBwcm92ZV9zdGFydF9kYXRlJzogczFfMSA9PT0gJ2FzYycgPyAxIDogLTFcbiAgICAgICAgfTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkc29ydDogYWdfc29ydFxuICAgICAgICB9KTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkc2tpcDogc2tpcFxuICAgICAgICB9KTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkbGltaXQ6IGxpbWl0XG4gICAgICAgIH0pO1xuICAgICAgICBmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBhZ2dyZWdhdGUgPSBmdW5jdGlvbih0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSB7XG4gICAgICAgICAgdGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgICAgICAgICBmaWx0ZXJlZFJlY29yZElkcy5wdXNoKGRvYy5faWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhhZ2dyZWdhdGUpO1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUodGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkUmVjb3JkSWRzLnVuaXEoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHM7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGFidWxhclRhYmxlcy5pbmJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcImluYm94XCIpKTtcbn0pO1xuXG5fZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zID0gZnVuY3Rpb24oZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIG9wdGlvbnM7XG4gIG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKTtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBvcHRpb25zLm5hbWUgPSBcIm91dGJveF9pbnN0YW5jZXNcIjtcbiAgfVxuICBvcHRpb25zLm9yZGVyID0gW1s5LCBcImRlc2NcIl1dO1xuICBvcHRpb25zLmZpbHRlcmVkUmVjb3JkSWRzID0gZnVuY3Rpb24odGFibGUsIHNlbGVjdG9yLCBzb3J0LCBza2lwLCBsaW1pdCwgb2xkX2ZpbHRlcmVkUmVjb3JkSWRzLCB1c2VySWQsIGZpbmRPcHRpb25zKSB7XG4gICAgdmFyIGFnX3NvcnQsIGFnZ3JlZ2F0ZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgYXN5bmNfYWdncmVnYXRlLCBmaWx0ZXJlZFJlY29yZElkcywgczEsIHMxXzAsIHMxXzE7XG4gICAgYWdncmVnYXRlX29wZXJhdGlvbiA9IFtcbiAgICAgIHtcbiAgICAgICAgJG1hdGNoOiBzZWxlY3RvclxuICAgICAgfSwge1xuICAgICAgICAkcHJvamVjdDoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgXCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3ZlcydcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgJG1hdGNoOiB7XG4gICAgICAgICAgJ19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogdHJ1ZSxcbiAgICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgJ19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgJ19hcHByb3ZlLnVzZXInOiB1c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICAgIGlmIChzb3J0ICYmIHNvcnQubGVuZ3RoID4gMCkge1xuICAgICAgczEgPSBzb3J0WzBdO1xuICAgICAgczFfMCA9IHMxWzBdO1xuICAgICAgczFfMSA9IHMxWzFdO1xuICAgICAgaWYgKHMxXzAgPT09ICdteV9maW5pc2hfZGF0ZScpIHtcbiAgICAgICAgZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRncm91cDoge1xuICAgICAgICAgICAgX2lkOiBcIiRfaWRcIixcbiAgICAgICAgICAgIFwiYXBwcm92ZV9maW5pc2hfZGF0ZVwiOiB7XG4gICAgICAgICAgICAgICRsYXN0OiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYWdfc29ydCA9IHtcbiAgICAgICAgICAnYXBwcm92ZV9maW5pc2hfZGF0ZSc6IHMxXzEgPT09ICdhc2MnID8gMSA6IC0xXG4gICAgICAgIH07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNvcnQ6IGFnX3NvcnRcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNraXA6IHNraXBcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGxpbWl0OiBsaW1pdFxuICAgICAgICB9KTtcbiAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgYWdncmVnYXRlID0gZnVuY3Rpb24odGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikge1xuICAgICAgICAgIHRhYmxlLmNvbGxlY3Rpb24ucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVfb3BlcmF0aW9uKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMucHVzaChkb2MuX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcyk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMub3V0Ym94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwib3V0Ym94XCIpKTtcbn0pO1xuXG5pZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gIFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcyA9IG5ldyBSZWFjdGl2ZVZhcigpO1xufVxuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRyYWNrZXIuYXV0b3J1bihmdW5jdGlvbihjKSB7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCAmJiAhU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJmbG93SWRcIikgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT09ICdkcmFmdCcpIHtcbiAgICAgICAgcmV0dXJuIE1ldGVvci5jYWxsKFwibmV3SW5zdGFuY2VzTGlzdFRhYnVsYXJcIiwgU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCBmdW5jdGlvbihlcnJvciwgcmVzdWx0KSB7XG4gICAgICAgICAgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIoU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCByZXN1bHQpO1xuICAgICAgICAgIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll9jaGFuZ2VPcmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSk7XG5cbm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyID0gZnVuY3Rpb24oYm94LCBmbG93SWQsIGZpZWxkcykge1xuICB2YXIgZmxvdywga2V5LCByZWYsIHJlZjEsIHJlZjI7XG4gIGlmICghZmllbGRzKSB7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93SWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgZm9ybTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGZpZWxkcyA9IChyZWYgPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvdyAhPSBudWxsID8gZmxvdy5mb3JtIDogdm9pZCAwXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgICdjdXJyZW50LmZpZWxkcyc6IDFcbiAgICAgIH1cbiAgICB9KSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmN1cnJlbnQpICE9IG51bGwgPyByZWYxLmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgfVxuICBmaWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyhmaWVsZHMpO1xuICBpZiAoKGZpZWxkcyAhPSBudWxsID8gKHJlZjIgPSBmaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc19saXN0X2Rpc3BsYXlcIiwgdHJ1ZSkpICE9IG51bGwgPyByZWYyLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAga2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZDtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMuc2V0KG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKGJveCwgZmxvd0lkLCBmaWVsZHMpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKGJveCwgZmxvd0lkLCBmaWVsZHMpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnNvbGUubG9nKFwibmV3IFRhYnVsYXJUYWJsZXMgXCIsIGtleSk7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgTWV0ZW9yLm1ldGhvZHMoe1xuICAgIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyOiBmdW5jdGlvbihib3gsIGZsb3dJZCkge1xuICAgICAgdmFyIGZpZWxkcywgZmxvdywgcmVmLCByZWYxO1xuICAgICAgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIoYm94LCBmbG93SWQpO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3dJZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZmllbGRzID0gKHJlZiA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3cgIT0gbnVsbCA/IGZsb3cuZm9ybSA6IHZvaWQgMFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAnY3VycmVudC5maWVsZHMnOiAxXG4gICAgICAgIH1cbiAgICAgIH0pKSAhPSBudWxsID8gKHJlZjEgPSByZWYuY3VycmVudCkgIT0gbnVsbCA/IHJlZjEuZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGZpZWxkcztcbiAgICB9XG4gIH0pO1xufVxuIl19
