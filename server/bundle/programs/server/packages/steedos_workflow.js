(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;
var global = Package.meteor.global;
var meteorEnv = Package.meteor.meteorEnv;
var ReactiveVar = Package['reactive-var'].ReactiveVar;
var ReactiveDict = Package['reactive-dict'].ReactiveDict;
var ECMAScript = Package.ecmascript.ECMAScript;
var Random = Package.random.Random;
var DDP = Package['ddp-client'].DDP;
var DDPServer = Package['ddp-server'].DDPServer;
var check = Package.check.check;
var Match = Package.check.Match;
var DDPRateLimiter = Package['ddp-rate-limiter'].DDPRateLimiter;
var _ = Package.underscore._;
var Tracker = Package.tracker.Tracker;
var Deps = Package.tracker.Deps;
var Blaze = Package.blaze.Blaze;
var UI = Package.blaze.UI;
var Handlebars = Package.blaze.Handlebars;
var JsonRoutes = Package['simple:json-routes'].JsonRoutes;
var RestMiddleware = Package['simple:json-routes'].RestMiddleware;
var Restivus = Package['nimble:restivus'].Restivus;
var SimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;
var MongoObject = Package['aldeed:simple-schema'].MongoObject;
var Tabular = Package['aldeed:tabular'].Tabular;
var CollectionHooks = Package['matb33:collection-hooks'].CollectionHooks;
var BlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;
var FlowRouter = Package['kadira:flow-router'].FlowRouter;
var WorkflowManager = Package['steedos:app-workflow'].WorkflowManager;
var uuflowManager = Package['steedos:app-workflow'].uuflowManager;
var pushManager = Package['steedos:app-workflow'].pushManager;
var steedosExport = Package['steedos:app-workflow'].steedosExport;
var steedosImport = Package['steedos:app-workflow'].steedosImport;
var Template = Package['meteorhacks:ssr'].Template;
var SSR = Package['meteorhacks:ssr'].SSR;
var SubsManager = Package['meteorhacks:subs-manager'].SubsManager;
var WebApp = Package.webapp.WebApp;
var WebAppInternals = Package.webapp.WebAppInternals;
var main = Package.webapp.main;
var moment = Package['momentjs:moment'].moment;
var CFDataManager = Package['steedos:autoform'].CFDataManager;
var ServerSession = Package['steedos:base'].ServerSession;
var Selector = Package['steedos:base'].Selector;
var Steedos = Package['steedos:base'].Steedos;
var AjaxCollection = Package['steedos:base'].AjaxCollection;
var SteedosDataManager = Package['steedos:base'].SteedosDataManager;
var SteedosOffice = Package['steedos:base'].SteedosOffice;
var billingManager = Package['steedos:base'].billingManager;
var MailQueue = Package['steedos:mailqueue'].MailQueue;
var WebhookQueue = Package['steedos:webhookqueue'].WebhookQueue;
var _i18n = Package['universe:i18n']._i18n;
var i18n = Package['universe:i18n'].i18n;
var meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;
var Promise = Package.promise.Promise;
var meteorInstall = Package.modules.meteorInstall;
var HTML = Package.htmljs.HTML;
var Collection2 = Package['aldeed:collection2-core'].Collection2;
var FS = Package['steedos:cfs-base-package'].FS;
var MongoInternals = Package.mongo.MongoInternals;
var Mongo = Package.mongo.Mongo;

/* Package-scope variables */
var __coffeescriptShare, Workflow, InstanceReadOnlyTemplate, TemplateManager, SteedosTable, year, month, date, hours, seconds, locale, utcOffset, str, addItemTr, values_history, current_user_info, flow_id, userId, orgFieldUsers, formula_values, new_ins_id, instanceHtml, Form_formula, getHandlersManager, permissionManager, approveManager, flowManager, formManager, stepManager, workflowTemplate, InstanceManager, WorkflowManager_format, CoreForm, InstanceNumberRules;

var require = meteorInstall({"node_modules":{"meteor":{"steedos:workflow":{"i18n":{"en.i18n.json.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/i18n/en.i18n.json.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Package['universe:i18n'].i18n.addTranslations('en','',{"Steedos Workflow":"Workflow","inbox":"Inbox","outbox":"Outbox","draft":"Draft","pending":"In Progress","completed":"Finished","monitor":"Monitor","FlowName":"Workflow Name","Search":"Search","My Approval":"My Approval","My Applications":"My Applications","Submit":"Submit","steedos_desktop":"Steedos Desktop","menu_navigation":"Navigation","Workflow":"Workflow","form_new":"New","instances":"Request","instances_name":"Title","instances_applicant_name":"Applicant","instances_modified":"Modified","instances_applicant_organization_name":"Organization","instances_submit_date":"Submit Date","instances_flow":"Workflow","instances_step_current_name":"Current step","instances_flow_name":"Workflow","instances_current_step_name":"Current step","instance_approve":"Approve","instance_reject":"Reject","instance_readed":"Read","instance_next_step":"Next Step","instance_next_step_users":"Next Step User(s)","instance_initiator":"Initiator","instance_approval_history":"Approval History","instance_in_progress":"In Progress","instance_submit":"Submit","instance_save":"Save","instance_delete":"Delete","instance_attachment":"Attachments","instance_cancel":"Cancel Request","instance_reassign":"Reassign","instance_relocate":"Relocate","instance_print":"Print","flow_roles":"Workflow Positions","flow_roles_name":"Position Name","flow_positions":"Positions Users","flow_positions_role":"Position","flow_positions_org":"Organization","flow_positions_users":"Users","flow_positions_role_name()":"Position","flow_positions_org_name()":"Organization","flow_positions_users_name()":"Users","workflow_table_confirm":"OK","workflow_table_delete":"Delete","Attachment deleted successfully":"Attachment deleted successfully!","Attachment was added successfully":"Attachment was added successfully!","Saved successfully":"Saved successfully!","Added successfully":"Added successfully!","Deleted successfully":"Deleted successfully!","Submitted successfully":"Submitted successfully!","Canceled successfully":"Canceled successfully!","Reassigned successfully":"Reassigned successfully!","Relocated successfully":"Relocated successfully!","Attachments":"Attachments","Versions":"Versions","Current Version":"（Current Version）","workflow_attachment_free_size_limit":"Sorry, Attachment larger than 1M is not accepted for free version.","workflow_attachment_paid_size_limit":"Failed to upload, because attachment size is over ","workflow_attachment_download":"Download","workflow_attachment_view":"View","workflow_attachment_isReadOnly":"ReadOnly-","workflow_attachment_versions":"Versions","workflow_attachment_uploading":"Uploading ","workflow_attachment_downloading":"Downloading %s...","workflow_attachment_creating":"Creating a new file: %s...","workflow_attachment_officeOnline":"Edit","workflow_attachment_save":"Save","workflow_attachment_close":"Close","workflow_attachment_delete":"Delete","workflow_attachment_convert_to_pdf":"Converting '%s' to pdf format...","workflow_attachment_wordToPdf":"Convert To Pdf","workflow_attachment_wordToPdf_failed":"Convert to PDF failed!","workflow_attachment_locked_tip":"Unlock the file, then submit","Instance State approved":"Approved","Instance State rejected":"Rejected","Instance State terminated":"Cancelled","Instance State finished":"Completed","Instance State pending":"In Progress","Instance State reassigned":"Reassigned","Instance State relocated":"Relocated","Instance Relocate Hint":"Enter your comments here.","Instance Relocate Title":"Relocate","Instance Relocate Reason":"Comments are required.","Instance Relocate NewInboxUsers":"Please select a user.","Instance Relocate Ok":"Relocated successfully.","Instance Relocate CurStep":"Current Step: ","instance_reassign_title":"Reassign","instance_reassign_curstep":"Current Step: ","instance_reassign_reason":"Enter your comments here.","instance_reassign_ok":"Reassigned successfully.","instance_reassign_user":"Select User(s)","instance_cancel_title":"Cancel Request","instance_cancel_reason":"Enter your comments here","instance_reassign_error_reason_required":"Comments are required.","instance_reassign_error_users_required":"Please select a user.","instance_cancel_error_reason_required":"Comments are required.","instance_select_next_step":"Please select next step","instance_multi_next_step_tips":"Multi next steps，please select next step，and send the request by click the bottom Send button","instance_next_step_user":"Please select next step user(s)","instance_reasons_reject":"Reasons necessary when reject the application","instance_field":"The field","instance_is_required":"is required","instance_email_format_error":"Format error of the email address","node_office_edit_online":"Edit Online","node_office_message":"You are editing document, please save and exit Office software when done.","node_office_warning":"The file has been modified, do you want to save it as a new version?","node_office_upload":"Upload ","node_office_confirm":"Confirm","node_office_cancel":"Cancel","node_office_uploaded":"The attachment has been uploaded","node_office_filePath":"File: ","node_office_exists_message":"File already exists, replace it?","node_office_workflow":"Workflow","node_pdf_error":"Pdf signature failed, please re-sign!","node_pdf_sign_online":"Sign Online","node_pdf_message":"You are signing pdf file.","node_pdf_filePath":"File: ","workflow_export_thismonth":"Export requests this month","workflow_export_lastmonth":"Export requests last month","workflow_export_thisyear":"Export requests this year","workflow_export_all":"Export all requests","workflow_export_filter":"Filter by process","workflow_export_search":"Search for requests according to the workflow","workflow_export_data":"Export to Excel","spaces_isarrearageSpace":"your space is arrearage","cc_help":"https://www.steedos.com/us/help/workflow/instance_carboncopy.html","relocate_help":"https://www.steedos.com/us/help/workflow/instance_relocate.html","reassign_help":"https://www.steedos.com/us/help/workflow/instance_reassign.html","forward_help":"https://www.steedos.com/us/help/workflow/instance_forward.html","export_filter_help":"https://www.steedos.com/us/help/workflow/instance_search.html","new_help":"https://www.steedos.com/us/help/workflow/instance_add.html","Inbox Suggestion NextSteps Label":"Next step: ","Inbox Suggestion NextSteps Handler Label":"Assignee: ","Workflow Designer":"Workflow Designer","User Management":"User Management","All flows":"All workflows","Select a flow":"Select a workflow","Fill in form":"New Request","Flow upgraded":"The workflow has been upgraded. Please make sure this request meet the requirements of the new version.","Are you sure?":"Are you sure?","Select placeholder":"Please select","workflow_no_category":"No category","space_users_error_space_required":"Space required","flow_roles_error_positions_exists":"Users exised in the role","workflow_left_parenthesis":"(","workflow_right_parenthesis":")","instance_cc_description":"Carbon Description","instance_cc_from":"Carbon Form","instance_cc_title":"Carbon Copy","instance_cc_done":"Carbon copied!","instance_curstep":"Current Step: ","instance_cc_user":"Carbon Copy To","instance_cc_error_users_required":"Please select user.","workflow_form_edit":"Workflow List","flows_template":"Request Template","flows_name":"Workflow Name","flows_print_template":"Print Template","flows_instance_template":"Form Template","flows_description":"Flow Description","workflow_attach_unlock":"Unlock","workflow_attach_locked_by":"%s is editing","workflow_attach_confirm_delete":"Are you sure?","workflow_attach_confirm_delete_messages":"You will not be able to recover this imaginary file!","workflow_attach_confirm":"Delete","workflow_attach_cancel":"Cancel","workflow_attach_to_pdf":"Convert to PDF","workflow_attach_to_pdf_message":"Convert '%s' to pdf format?","workflow_attach_upload":"Upload","workflow_attach_new":"New","workflow_attachment_signature":"Signature","workflow_select_an_app":"Steedos Apps","workflow_suggestion_placeholder":"Please fill in comments.","instance_opinion_title":"Opinions","instance_opinion_btn":"Opinions","instance_opinion_input":"Add a opinion","instance_opinion_add_success":"Add successfully!","instance_opinion_remove_success":"Remove successfully!","instance_opinion_error":"Error","instance_opinion_exists":"Opinion exists","instance_opinion_add_tip":"You have not set up common comments yet.","instance_forward_title":"Request Forward","form_field_checkbox_yes":"YES","form_field_checkbox_no":"NO","flows_events":"Events","flows_events_error":"Workflow Script Error: ","instance_search_advanced_search":"Advanced search","instance_search_flow":"Workflow","instance_search_name":"Request Title","instance_search_file":"Request Title","instance_search_applicant_name":"Applicant Name","instance_search_applicant_organization_name":"Applicant Organization","instance_search_submit_date":"Submit Date","instance_search_start":"Start","instance_search_end":"End","instance_search_result_tip":"Filtered Result","instance_search_state":"Request State","instance_search_state_options":{"pending":"Pending","completed":"Completed"},"instance":{"formatter":{"date":{"simple_date":"bb DD, YYYY","simple_datetime":"bb DD, YYYY HH:MM","export_date":"YYYY-MM-DD","export_datetime":"YYYY-MM-DD HH:MM"},"checkbox":{"checked":"YES","unchecked":"NO"}},"instance_view":"<br/><br/>Following are the contents of the request:<br/>Space : {$space_name};<br/>Initiator : {$applicant_name};<br/>Submit Date : {$submit_date};","push":{"final_decision_approved":"Approved","final_decision_rejected":"Rejected","final_decision_nil":"","title":{"first_submit_applicant":"{$from_username}","first_submit_inbox":"{$from_username}","submit_pending_rejected_applicant_inbox":"{$from_username}","submit_pending_rejected_applicant":"{$from_username}","submit_pending_rejected_approve":"{$from_username}","submit_pending_rejected_inbox":"{$from_username}","submit_pending_inbox":"{$from_username}","submit_terminate_applicant":"{$from_username}","submit_terminate_approve":"{$from_username}","monitor_delete_applicant":"{$applicant_name}","submit_completed_applicant":"{$applicant_name}","submit_completed_approve":"{$from_username}","approved_completed_applicant":"{$applicant_name}","approved_completed_approve":"{$from_username}","rejected_completed_applicant":"{$applicant_name}","rejected_completed_approve":"{$from_username}","reassign_new_inbox_users":"{$from_username}","trace_approve_cc":"{$from_username}","trace_approve_cc_submit":"{$from_username}","auto_submit_pending_inbox":"{$from_username}","return_pending_inbox":"{$from_username}"},"body":{"input":"input","approval":"approval","first_submit_applicant":"I have submitted a {$instance_name} request for you","first_submit_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_rejected_applicant_inbox":"Request for {$instance_name} has been rejected","submit_pending_rejected_applicant":"Request for {$instance_name} has been rejected to {$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_inbox":"My {$instance_name} request needs your {$approve_type}","submit_terminate_applicant":"Request for {$instance_name} has been cancelled","submit_terminate_approve":"","monitor_delete_applicant":"Request for {$instance_name} has been deleted","submit_completed_applicant":"Request for {$instance_name} has been approved","submit_completed_approve":"","approved_completed_applicant":"Request for {$instance_name} has been approved","approved_completed_approve":"","rejected_completed_applicant":"Request for {$instance_name} has been rejected","rejected_completed_approve":"","reassign_new_inbox_users":"My {$instance_name} request needs your {$approve_type}","trace_approve_cc":"My {$instance_name} request needs your {$approve_type}","remind":"Remind：{$instance_name}, Deadline：{$deadline}","trace_approve_cc_submit":"I have submitted a cc {$instance_name}","distribute_remind":"My {$instance_name} has been end","auto_submit_pending_inbox":"Your {$instance_name} auto submitted to {$current_step_name}","return_pending_inbox":"Request for {$instance_name} has been returned"}},"email":{"final_decision_approved":"Approved","final_decision_rejected":"Rejected","final_decision_nil":"","inscribed":"<br/><br/>Sincerely,<br/>","footnote":"This is an automatically generated email, please do not reply to it.","title":{"input":"input","approval":"approval","first_submit_applicant":"I have submitted a {$instance_name} request for you","first_submit_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_rejected_applicant_inbox":"Request for {$instance_name} has been rejected","submit_pending_rejected_applicant":"Request for {$instance_name} has been rejected to {$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_inbox":"My {$instance_name} request needs your {$approve_type}","submit_terminate_applicant":"Request for {$instance_name} has been cancelled","submit_terminate_approve":"","monitor_delete_applicant":"{$instance_name} has been deleted","submit_completed_applicant":"I have approved your request for {$instance_name}","submit_completed_approve":"","approved_completed_applicant":"I have approved your request for {$instance_name}","approved_completed_approve":"","rejected_completed_applicant":"I have rejected your request for {$instance_name}","rejected_completed_approve":"","reassign_new_inbox_users":"My {$instance_name} request needs your {$approve_type}","trace_approve_cc":"My {$instance_name} request needs your {$approve_type}","auto_submit_pending_inbox":"Your {$instance_name} has been submitted automatically","return_pending_inbox":"I have returned your request for {$instance_name}"},"body":{"url_input":"input","url_approval":"approval","input":"input","approval":"approval","judge_approved":"approved","judge_submitted":"provided his input for","email_description":"Comments : {$description}.","first_submit_applicant":"Hi {$to_username},<br/><br/>I have submitted a {$instance_name} request on behalf of you.<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>I have submitted a {$instance_name} request on behalf of you, and attached the following comments with the request.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_inbox":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}.<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_inbox_beApproveDescription":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. He / she has attached the following comments with the request.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_applicant_inbox":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been rejected by {$lastApprove_usersname} with the following comments.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been rejected by {$lastApprove_usersname}.He / She has attached the following comments with the request, and has sent it to {$nextApprove_usersname}<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"Hi {$to_username},<br/><br/>{$applicant_name}'s request for {$instance_name} needs your {$approve_type}, which has been rejected by {$lastApprove_usersname} with the following comments.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has {$last_approve_judge} this request.<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox_beApproveDescription":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has {$last_approve_judge} this request with the following comments.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox_beApproveDescription_counterSign":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has provided their input for this request with the following comments.<br/>Comments : <br/>","submit_terminate_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been cancelled by {$current_username}.He / She has attached the following comments with the request.<br/>Comments : {$description}.","submit_terminate_approve":"","monitor_delete_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been deleted.","submit_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}.<br/><a href = {$href}>Please click here to view this request.</a>","submit_completed_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}. He / she has attached the following comments with the request. <br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_completed_applicant_beApproveDescription_counterSign":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}. They has attached the following comments with the request. <br/>Comments :<br/>","submit_completed_approve":"","approved_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final approved by {$lastApprove_usersname}.<br/><a href = {$href}>Please click here to view this request.</a>","approved_completed_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final approved by {$lastApprove_usersname}. He / she has attached the following comments with the request. <br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","approved_completed_approve":"","rejected_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final rejected by {$lastApprove_usersname}. He / She has attached the following comments with the request.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","rejected_completed_approve":"","reassign_new_inbox_users":"Hi {$to_username},<br/><br/>{$current_user_name} has transferred {$applicant_name}'s {$instance_name} to you with the following comments. <br/>Comments : {$description}<br/><a href = {$href}>Please click here to view this request.</a>。","trace_approve_cc":"Hi {$to_username},<br/><br/>{$applicant_name} has cc a {$instance_name} request, which needs your {$approve_type}.<br/><a href = {$href}>Please click here to view this request.</a>","auto_submit_pending_inbox":"Hi {$to_username},<br/><br/>Your {$instance_name} has been submitted to {$current_step_name} automatically.","return_pending_inbox":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been returned by {$current_username}.He / She has attached the following comments with the request.<br/>Comments : {$description}."}},"remindMessage":{"update_failed":"Requested action not taken, because this request has been updated.","has_deleted":"This report has been deleted."},"judge":{"approved":"approved","rejected":"rejected"}},"flow":{"point_upgraded":"The workflow has been upgraded. Please make sure this request meet the requirements of the new version.","print_select_template_alert":"Please upgraded to Professional Version.","print_select_title":"Select Template","print_default_print_title":"Default","print_custom_print_title":"Custom","print_button_title":"Print","print_html_title":"SteedOS"},"help":{"href":"<a href = {$href}>Please click here to view this request.</a>","approves":"Approval History","initiator":"Initiator : ","attachment":"Attachment"},"export":{"code":"Code","name":"Name","initiator":"Initiator","initiator_org":"Initiator's Organization","submit_date":"Submit Time","status":"Status","current_step_name":"Current Step Name","current_step_start_date":"Current Step Start Time","state":{"pending":"In Progress","approved":"Approved","rejected":"Rejected","terminated":"Cancelled","finished":"Completed","reassigned":"Reassigned","inhand":"In Progress","relocated":"Relocated"}},"steedos":"Steedos","cc":"cc","saveInstanceToAttachment":"Save request form as an attachment.","forwardFlowText":"Forward description","instanceForwardNote":"Forward the currently selected request to a new workflow and proceed with the approval process.","button_preview":"Preview","remove_cc_approve":"Deleted success","forward_instance_success":"Forward success","isForwardAttachments":"Is forward attachments.","instance_retrieve":"Retrieve","instance_retrieve_reason":"Remarks","instance_retrieve_rules_title":"Retrieve failed","instance_retrieve_rules_content":"You can not retrive a request if user in next step has read the request, or you are in a concurrent signed step.","Retrieved successfully":"Retrieved successfully!","Instance State retrieved":"Retrieved","instance_chrome_print_warning":"Please use the Chrome browser to print.","instance_sign":"Sign","instance_default_opinion":"Already read","instance_submit_date":"Submit date","instance_opinion_edit":"Edit the opinion","instance_opinion_edit_success":"Edit successfully!","instance_opinion_field":"Sign field","instance_cc_error_opinion_field_required":"Please select the sign field","instance_suggestion_toggle":"Sign","instance_approve_read":"Read","instance_approve_from_user_name_label":"cc from","instance_approve_status_text_label":"status","instance_approve_description_label":"suggestion","instance_approve_start_date_label":"start date","instance_approve_finish_date_label":"finish date","instance_approve_read_yes":"yes","instance_approve_read_no":"no","instance_approve_cc_remove":"cancel cc","instance_approve_close_modal":"close","instance_approve_title_label":"Handler:","instance_forward_users":"Forward To","instance_forward_error_users_required":"Users required!","instance_approve_from_user_name_label_forward":"Forward from","instance_approve_forward_remove":"Cancel forward","instance_approve_forward_remove_success":"Request cancelled successfully!","instance_forward_instance_look":"Look the forwarded request","instance_forward_cannot_cancel":"Can not cancel!","instance_forward_instance_state_changed":"Request state has hanged, can not cancel.","webhooks":"Webhooks","webhooks_flow":"Workflow","webhooks_payload_url":"URL","webhooks_content_type":"Content type","webhooks_active":"Active","webhooks_flow_name()":"Workflow","webhooks_description":"Description","workflow_list":"Workflow List","workflow_import_flow":"Import Workflow","workflow_import_flow_success":"Import success","workflow_import_flow_error":"Import failed","workflow_import_flow_info":"Please select the workflow you want to import","flows":"Workflow","instance_readonly_view_url_copy":"Copy Link","instance_readonly_view_url_copy_success":"Tableau Web Data Connector copy successful","instance_related_instances":"Related requests","instance_related_instances_title":"Linked requests","instance_related_instances_placeholder":"Please enter the file name to search for the associated file","workflow_install_desktop":"Install Desktop","workflow_chart":"Workflow Chart","instance_return":"Return","instance_return_success":"Return successfully","instance_return_confirm":"Return the request to {$step_name}({$handlers_name})?","Instance State returned":"Returned","instance_main_attachment":"Main attach","flows_field_map":"Field Map","Instance State readed":"Read","instance_distribute_title":"Distribute","instance_distribute_users":"Users","instance_distribute_error_users_required":"Users required!","instance_distribute_approve_from_user_name_label":"Distribute from","instance_distribute_approve_remove":"Cancel distribute","instance_distribute_instance_look":"Look the distributed request","instance_distribute_note":"Distribute the currently selected request to a new workflow and proceed with the approval process.","instance_distribute_attachments":"Is distribute attachments.","instance_distribute_success":"Distribute success","instance_no_add_permission":"{$actiontype} failed, users no create permission: {$usernames}","instance_workflow_chart_ie_warning":"Do not support viewing the workflow chart in IE, please do this on client software or chrome.","instance_remind_title":"Remind","instance_remind_select_users":"Users","instance_remind_count":"Mode","instance_remind_deadline":"Deadline","instance_remind_success":"Remind successfully","instance_remind_need_remind_users":"Need users","instance_remind_need_remind_count":"Need mode","instance_remind_need_remind_deadline":"Need deadline","instance_remind_count_options":{"single":"single","multi":"multi"},"instance_opinion_title_select":"Select opinions","categories":"Workflow categories","categories_name":"Name","categories_sort_no":"Sort no","not_found_user":"Not Found User","next_step_users_not_found":{"aplicant_superior":"The applicant's superior is not configured, please contact the Administrator.","applicant_role":"The <{$role_name}> you are looking for have not configured,Please contact the administrator.","field_value_empty":"Please enter the value of the <{$field_name}>field","org_no_members":"The next step need <{$org_name}> processing,Please contact the administrator."},"instanc_admin_role_text":"<a href='%s' target='_blank'> configuration in position</a>","instanc_user_role_text":" configuration in position","instanc_set_applicant_role_text":"set positions users","instance_sign_read":"Read","instance_sign_done":"Done","instance_sign_agree":"Agree","instance_sign_period":"。","instance_cc_alert":"Please confirm whether it need to circulate","instance_cc_must_finished":"The cc users：{$not_finished_users_name} had not deal with this request, so you can not submitt this instance to next step","instance_number_rules":"Request number rules","instance_number_rules_name":"Name","instance_number_rules_year":"Year","instance_number_rules_first_number":"Start sequence","instance_number_rules_number":"Sequence","instance_number_rules_rules":"Rules","instance_number_rules_number_builder_error_title":"Builder number error","instance_number_rules_number_builder_error_not_exist":"The number rule does not exist: ","ConfirmDeletion?":"Are you sure?","instance_number_rules_name_only":"The name can not be repeated","flows_btn_export_title":"Export Flow","flows_btn_copylink_title":"Copy Link","instance_distribute_related_instances_title":"Automatically create associated requests","instance_next_step_users_placeholder":"Please select the approver","instance_distribute_to_self":"Also distributed to yourself","my_instances":"My Requests","workflow_import_export_flows":"Workflow import or export","workflow_history_approve_counts":"Show %s history descriptions","workflow_history_approve_description":"History description","instances_start_date":"Receiving time","instances_is_archived":"Archived","instances_archive":"Archive","instances_archived":"Archived","instances_not_archived":"Not archived","workflow_more_inbox":"More Inbox","instance_back":"Back","steedos_tableau_statistical_analysis":"Statistical analysis","steedos_tableau_copy_link":"Copy link","tableau_introduction_modal_close":"Close","ERROR":"Error","steedos_table_add_item":"Add item","approved_description":"Approved","rejected_description":"Rejected","copy":"Copy and Create","from":"From","admin_flow_roles_create":"Create","flow_roles_delete_success":"Delete successfully","add_positions":"Add","save_role":"Save","delete_role":"Delete","flow_roles_update_success":"Update successfully","flow_roles_necessary":"Please fill in role's name","flow_positions_add_suceess":"Add successfully","flow_positions_add_failed":"Be failed to add","flow_positions_update_suceess":"Update successfully","flow_positions_update_failed":"Be failed to update","flow_positions_delete_suceess":"Delete successfully","instance_role_set_is_complete":"Role set up?","instance_set_is_complete":"set up?","flow_roles_help":"Help","set_org_members":"Set department members","set_applicant_manager":"Set the applicant supervisor","instance_permissions_error":"You do not have permission to view this request","start_flows":"Start flows","chart_traces":"Chart Traces","cc_tag":"(Carbon Copying)","workflow_batch_approval":"Batch approval","workflow_batch_approval_btn":"Batch<br/>approval","workflow_batch_approval_processing":"Processing","workflow_batch_approval_message":"This processing file %s","workflow_error_multiple_next_step_users":"'{$insname}' the next person can not handle more than one","workflow_error_multiple_next_step":"'{$insname}' can not have more than one next step","workflow_batch_instances_empty":"There is no data for batch approval","workflow_sign_opinion_to_completed_instance":"This document is over and the signed opinion will not be displayed on the application","workflow_copy_flow":"Copy flow","workflow_copy_flow_text":"Please fill in the new flow name","workflow_copy_flow_success":"The copy flow is successful","workflow_copy_flow_error_reason_required":"Comments are required.","workflow_enabled":"Enabled","workflow_disabled":"Disabled","flows_state":"State","flows_current_modified":"Modified","flows_modified_by_name()":"Editor","flows_category_name()":"Categories","flow_list_title_set_template":"Set Template","flow_list_title_set_script":"Set Script","flow_list_title_set_fieldsMap":"Set Archive relationship","distribute_edit_flow_select_users":"users options","distribute_edit_flow_select_flows":"flows options","flow_list_title_set_distribute":"Set Distribute","distribute_to_self":"can distribute to self","distribute_end_notification":"notificate user after distributed end","instance_deleted":"Deleted","workflow_flow_state_disabled":"The state of flow({$name}) is disabled, Administrator can enable flow.","flow_roles_error_flows_used":"Role has been used by flows: {$names}","instance_approve_not_yet_handled":"Not yet handled","instance_approve_distribute_date_label":"Distribute date","flows_auto_remind":"Auto remind","flows_upload_after_being_distributed":"Allow upload after being distributed","instances_my_finish_date":"Modified","pager_input_hint":"Click and input page number, then press Enter to jump to the specified page","instance_hide_title":"Hide","instance_hide_success":"Hide Success","instance_reopen_title":"Unhide","instance_reopen_success":"Unhide Success","workflow_design_flow":"Design flow","process_delegation_rules":"Process Delegation","process_delegation_rules_from":"From","process_delegation_rules_to":"To","process_delegation_rules_enabled":"Enabled","process_delegation_rules_start_time":"Strat Time","process_delegation_rules_end_time":"End Time","process_delegation_rules_from_name":"From","process_delegation_rules_to_name":"To","process_delegation_rules_start_must_lt_end":"Strat time must less than end time","process_delegation_rules_description":"{$userName} delegated","instance_handler_name":"Handler","instance_handler_organization_fullname":"Organization","url_invalid":"Invalid link","instance_approve_timeout_auto_submitted":"Timeout auto submitted"});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"zh-CN.i18n.json.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/i18n/zh-CN.i18n.json.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Package['universe:i18n'].i18n.addTranslations('zh-CN','',{"Steedos Workflow":"审批","inbox":"待审核","outbox":"已审核","draft":"草稿","pending":"进行中","completed":"已完成","monitor":"监控箱","FlowName":"名称","Search":"搜索","My Approval":"审核","My Applications":"我的申请单","Submit":"提交","steedos_desktop":"华炎云","menu_navigation":"导航","Workflow":"审批","form_new":"新建表单","instances":"审批","instances_name":"标题","instances_applicant_name":"提交人","instances_modified":"处理时间","instances_applicant_organization_name":"部门","instances_submit_date":"提交时间","instances_flow":"流程","instances_step_current_name":"当前步骤","instances_flow_name":"流程","instances_current_step_name":"当前步骤","instance_approve":"核准","instance_reject":"驳回","instance_readed":"已阅","instance_next_step":"下一步","instance_next_step_users":"处理人","instance_initiator":"提交人","instance_approval_history":"签核历程","instance_in_progress":"处理中","instance_submit":"提交","instance_save":"保存","instance_delete":"删除","instance_attachment":"附件","instance_cancel":"取消申请","instance_reassign":"转签核","instance_relocate":"重定位","instance_print":"打印","flow_roles":"审批岗位","flow_roles_name":"岗位名称","flow_positions":"岗位成员","flow_positions_role":"岗位","flow_positions_org":"审批范围","flow_positions_users":"岗位成员","flow_positions_role_name()":"岗位","flow_positions_org_name()":"审批范围","flow_positions_users_name()":"岗位成员","workflow_table_confirm":"确认","workflow_table_delete":"删除","Attachment deleted successfully":"文件删除成功!","Attachment was added successfully":"文件添加成功!","Saved successfully":"申请单已暂存.","Added successfully":"创建成功!","Deleted successfully":"删除成功!","Submitted successfully":"提交成功!","Canceled successfully":"取消申请成功!","Reasigned successfully":"转签核成功!","Relocated successfully":"重定位成功!","Attachments":"附件","Versions":"版本","Current Version":"（最新版本）","workflow_attachment_free_size_limit":"抱歉，免费版工作区只能上传1M以内的文件。","workflow_attachment_paid_size_limit":"您上传的文件大小不得超过","workflow_attachment_download":"下载","workflow_attachment_view":"查看","workflow_attachment_isReadOnly":"只读-","workflow_attachment_versions":"历史版本","workflow_attachment_uploading":"正在上传 ","workflow_attachment_downloading":"正在下载 %s...","workflow_attachment_creating":"正在新建word文档 %s...","workflow_attachment_officeOnline":"编辑","workflow_attachment_save":"保存","workflow_attachment_close":"关闭","workflow_attachment_delete":"删除","workflow_attachment_convert_to_pdf":"正在将 '%s' 转换为pdf格式文件...","workflow_attachment_wordToPdf":"转为pdf","workflow_attachment_wordToPdf_failed":"未转换成功，请重新尝试！","workflow_attachment_locked_tip":"您有文件正在编辑，请解锁后提交","Instance State approved":"已核准","Instance State rejected":"已驳回","Instance State terminated":"被取回","Instance State finished":"已完成","Instance State pending":"审核中","Instance State reassigned":"转签核","Instance State relocated":"重定位","Instance Relocate Hint":"请填写重定位的理由。","Instance Relocate Title":"重定位","Instance Relocate Reason":"请填写重定位的理由。","Instance Relocate NewInboxUsers":"请选择重定位审核人。","Instance Relocate Ok":"重定位提交成功。","Instance Relocate CurStep":"当前步骤: ","instance_reassign_title":"转签核","instance_reassign_curstep":"当前步骤: ","instance_reassign_reason":"请填写转签核的理由。","instance_reassign_ok":"转签核提交成功。","instance_reassign_user":"变更处理人","instance_cancel_title":"取消申请","instance_cancel_reason":"请填写取消申请的理由","instance_reassign_error_reason_required":"请填写转签核的理由。","instance_reassign_error_users_required":"请指定处理人。","instance_cancel_error_reason_required":"请填写取消申请的理由。","instance_select_next_step":"请选择下一步步骤","instance_multi_next_step_tips":"步骤选项有多个，请选择下一步步骤，并使用底部发送按钮提交文件","instance_next_step_user":"请选择下一步处理人","instance_reasons_reject":"驳回时必须填写意见","instance_field":"字段","instance_is_required":"为必填","instance_email_format_error":"邮件地址格式错误","node_office_edit_online":"在线编辑","node_office_message":"您正在使用在线编辑功能，编辑完成后请关闭Office软件。","node_office_warning":"文件已修改，请确认是否保存为新版本？","node_office_upload":"上传 ","node_office_confirm":"确定","node_office_cancel":"取消","node_office_uploaded":"文件已上传","node_office_filePath":"文件：","node_office_exists_message":"文件已存在，是否替换？","node_office_workflow":"审批王","node_pdf_error":"pdf签章失败，请重新进行签章！","node_pdf_sign_online":"在线签章","node_pdf_message":"您正在使用在线签章功能。","node_pdf_filePath":"文件：","workflow_export_thismonth":"导出当月申请单","workflow_export_lastmonth":"导出上月申请单","workflow_export_thisyear":"导出当年申请单","workflow_export_all":"导出所有申请单","workflow_export_filter":"按流程过滤","workflow_export_search":"按流程查看申请单","workflow_export_data":"导出申请单","spaces_isarrearageSpace":"您的工作区已欠费","cc_help":"https://www.steedos.com/cn/help/workflow/instance_carboncopy.html","relocate_help":"https://www.steedos.com/cn/help/workflow/instance_relocate.html","reassign_help":"https://www.steedos.com/cn/help/workflow/instance_reassign.html","forward_help":"https://www.steedos.com/cn/help/workflow/instance_forward.html","export_filter_help":"https://www.steedos.com/cn/help/workflow/instance_search.html","new_help":"https://www.steedos.com/cn/help/workflow/instance_add.html","Inbox Suggestion NextSteps Label":"下一步骤: ","Inbox Suggestion NextSteps Handler Label":"处理人: ","Workflow Designer":"流程设计器","User Management":"用户管理","All flows":"所有流程","Select a flow":"请点击流程分类选择相应流程","Fill in form":"填写表单","Flow upgraded":"流程已升级，请检查您填写的内容是否符合修改后的要求。","Are you sure?":"确认删除吗？","Select placeholder":"请选择","workflow_no_category":"未分类","space_users_error_space_required":"工作区必填","flow_roles_error_positions_exists":"已有用户担任该角色","workflow_left_parenthesis":"（","workflow_right_parenthesis":"）","instance_cc_description":"传阅说明","instance_cc_from":"传阅自","instance_cc_title":"传阅","instance_cc_done":"已传阅","instance_curstep":"当前步骤: ","instance_cc_user":"传阅对象","instance_cc_error_users_required":"请选择传阅对象。","workflow_form_edit":"流程列表","flows_template":"申请单模板","flows_name":"流程名称","flows_print_template":"打印模板","flows_instance_template":"表单模板","flows_description":"流程描述","workflow_attach_unlock":"解锁","workflow_attach_locked_by":"%s 正在编辑","workflow_attach_confirm_delete":"确认删除","workflow_attach_confirm_delete_messages":"你确定删除'%s'吗？","workflow_attach_confirm":"删除","workflow_attach_cancel":"取消","workflow_attach_to_pdf":"转为pdf","workflow_attach_to_pdf_message":"是否将'%s'转为pdf格式文件？","workflow_attach_upload":"上传","workflow_attach_new":"新建","workflow_attachment_signature":"签章","workflow_select_an_app":"应用","workflow_suggestion_placeholder":"请填写意见。","instance_opinion_title":"常用意见","instance_opinion_btn":"常用</br>意见","instance_opinion_input":"请输入常用意见","instance_opinion_add_success":"添加成功!","instance_opinion_remove_success":"移除成功!","instance_opinion_error":"出错了","instance_opinion_exists":"常用意见已存在","instance_opinion_add_tip":"您还没有设置常用意见。","instance_forward_title":"转发","form_field_checkbox_yes":"是","form_field_checkbox_no":"否","flows_events":"自定义脚本","flows_events_error":"自定义脚本错误: ","instance_search_advanced_search":"高级搜索","instance_search_flow":"流程","instance_search_name":"申请单标题","instance_search_file":"文件标题","instance_search_applicant_name":"提交人姓名","instance_search_applicant_organization_name":"提交人所属部门名称","instance_search_submit_date":"提交日期","instance_search_start":"起","instance_search_end":"至","instance_search_result_tip":"过滤的结果","instance_search_state":"申请单状态","instance_search_state_options":{"pending":"流转中","completed":"已结束"},"instance":{"formatter":{"date":{"simple_date":"YYYY年MM月DD日","simple_datetime":"YYYY年MM月DD日 HH:mm","export_date":"YYYY-MM-DD","export_datetime":"YYYY-MM-DD HH:mm"},"checkbox":{"checked":"是","unchecked":"否"}},"instance_view":"<br/><br/>申请单内容摘要如下:<br/>工作区 : {$space_name};<br/>提交 : {$applicant_name};<br/>提交日期 : {$submit_date};","push":{"final_decision_approved":"被核准，","final_decision_rejected":"被驳回，","final_decision_nil":"","title":{"first_submit_applicant":"{$from_username}","first_submit_inbox":"{$from_username}","submit_pending_rejected_applicant_inbox":"{$from_username}","submit_pending_rejected_applicant":"{$from_username}","submit_pending_rejected_approve":"{$from_username}","submit_pending_rejected_inbox":"{$from_username}","submit_pending_inbox":"{$from_username}","submit_terminate_applicant":"{$from_username}","submit_terminate_approve":"{$from_username}","monitor_delete_applicant":"{$applicant_name}","submit_completed_applicant":"{$applicant_name}","submit_completed_approve":"{$from_username}","approved_completed_applicant":"{$applicant_name}","approved_completed_approve":"{$from_username}","rejected_completed_applicant":"{$applicant_name}","rejected_completed_approve":"{$from_username}","reassign_new_inbox_users":"{$from_username}","trace_approve_cc":"{$from_username}","trace_approve_cc_submit":"{$from_username}","auto_submit_pending_inbox":"{$from_username}","return_pending_inbox":"{$from_username}"},"body":{"input":"确认","approval":"审批","first_submit_applicant":"请确认:我已代您提交了{$instance_name}","first_submit_inbox":"{$instance_name}","submit_pending_rejected_applicant_inbox":"请修改:{$instance_name}","submit_pending_rejected_applicant":"您的{$instance_name}已驳回给{$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"{$instance_name}","submit_pending_inbox":"{$instance_name}","submit_terminate_applicant":"{$instance_name}被我取消申请了","submit_terminate_approve":"","monitor_delete_applicant":"您的{$instance_name}已被删除","submit_completed_applicant":"您的{$instance_name}已被确认","submit_completed_approve":"","approved_completed_applicant":"您的{$instance_name}已被核准","approved_completed_approve":"","rejected_completed_applicant":"您的{$instance_name}已被驳回","rejected_completed_approve":"","reassign_new_inbox_users":"{$instance_name}","trace_approve_cc":"{$instance_name}","remind":"催办通知：{$instance_name}，办结时限：{$deadline}。","trace_approve_cc_submit":"我已提交了传阅的申请单{$instance_name}","distribute_remind":"您分发的{$instance_name}申请单已结束。","auto_submit_pending_inbox":"您的申请单{$instance_name}处理已超时，现已自动发送至{$current_step_name}","return_pending_inbox":"您的{$instance_name}已被退回"}},"email":{"final_decision_approved":"被核准，","final_decision_rejected":"被驳回，","final_decision_nil":"","inscribed":"<br/><br/>","footnote":"这是由审批王自动发送的邮件, 请不要直接回复。","title":{"input":"确认","approval":"审批","first_submit_applicant":"{$from_username}代您提交了{$instance_name}","first_submit_inbox":"请{$approve_type}:{$instance_name}","submit_pending_rejected_applicant_inbox":"请修改:{$instance_name}","submit_pending_rejected_applicant":"您的{$instance_name}已驳回给{$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"请重新{$approve_type}:{$instance_name}","submit_pending_inbox":"请{$approve_type}:{$instance_name}","submit_terminate_applicant":"{$instance_name}被我取消申请了","submit_terminate_approve":"","monitor_delete_applicant":"删除了您的{$instance_name}","submit_completed_applicant":"确认了您的{$instance_name}","submit_completed_approve":"","approved_completed_applicant":"核准了您的{$instance_name}","approved_completed_approve":"","rejected_completed_applicant":"驳回了您的{$instance_name}","rejected_completed_approve":"","reassign_new_inbox_users":"请{$approve_type}:{$instance_name}","trace_approve_cc":"请{$approve_type}:{$instance_name}","auto_submit_pending_inbox":"您的{$instance_name}已超时自动流转","return_pending_inbox":"退回了您的{$instance_name}"},"body":{"url_input":"查看并确认","url_approval":"进行审批","input":"确认","approval":"审批","judge_approved":"核准","judge_submitted":"确认","email_description":"驳回理由是:{$description} 。","first_submit_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>我已代您提交了{$instance_name}。<br/><a href = {$href}>请点击查看</a>。","first_submit_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>我已代您提交了{$instance_name}。<br/>备注是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","first_submit_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}提交了{$instance_name}。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","first_submit_inbox_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}提交了{$instance_name}。<br/>备注是 : {$approves_description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_rejected_applicant_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>您的申请单被{$lastApprove_usersname}驳回，请确认是否要修改。<br/>{$description}<br/><a href = {$href}>请点击查看</a>。","submit_pending_rejected_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被{$lastApprove_usersname}驳回, 目前{$nextApprove_usersname}正在处理中。<br/>{$description} <br/><a href = {$href}>请点击查看</a>。","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>请重新{$approve_type} : {$applicant_name}的{$instance_name}, 此申请单被{$lastApprove_usersname}驳回。<br/>{$description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已{$last_approve_judge}此申请单。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已{$last_approve_judge}此申请单。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox_beApproveDescription_counterSign":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已确认此申请单。<br/>他/她们的意见是 : <br/>","submit_terminate_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被取消申请。<br/>取消申请的理由是：{$description}。","submit_terminate_approve":"","monitor_delete_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被删除。","submit_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/><a href = {$href}>请点击查看</a>。","submit_completed_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","submit_completed_applicant_beApproveDescription_counterSign":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/>他/她们的意见是 :<br/> ","submit_completed_approve":"","approved_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}核准, 完成审核。<br/><a href = {$href}>请点击查看</a>。","approved_completed_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}核准, 完成审核。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","approved_completed_approve":"","rejected_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}驳回。<br/>{$description}<br/><a href = {$href}>请点击查看</a>。","rejected_completed_approve":"","reassign_new_inbox_users":"{$to_username}:<br/><br/>您好！<br/><br/>{$current_user_name}将{$applicant_name}的{$instance_name}转发给您{$approve_type}。<br/>转发的理由是：{$description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","trace_approve_cc":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}传阅了{$instance_name}。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","auto_submit_pending_inbox":"您的申请单{$instance_name}处理已超时，现已自动发送至{$current_step_name}","return_pending_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被退回。<br/>退回的理由是：{$description}。"}},"remindMessage":{"update_failed":"申请单状态已更新，您的操作未能执行。","has_deleted":"申请单已删除。"},"judge":{"approved":"核准","rejected":"驳回"}},"flow":{"point_upgraded":"流程已升级，请检查您填写的内容是否符合修改后的要求。","print_select_template_alert":"只有专业版才有自定义模板功能，如有需要请升级到专业版或联系客服","print_select_title":"打印样式","print_default_print_title":"默认","print_custom_print_title":"自定义","print_button_title":"打印","print_html_title":"审批王"},"help":{"href":"<a href = {$href}>请点击查看</a>。","approves":"签核历程","initiator":"提交人 : ","attachment":"附件"},"export":{"code":"编号","name":"名称","initiator":"提交人","initiator_org":"提交人所属部门","submit_date":"提交日期","status":"状态","current_step_name":"当前步骤","current_step_start_date":"当前步骤开始日期","state":{"pending":"审核中","approved":"已核准","rejected":"已驳回","terminated":"被取回","finished":"已完成","reassigned":"转签核","inhand":"处理中","relocated":"重定位"}},"steedos":"华炎云","cc":"传阅","saveInstanceToAttachment":"将原表单存储为附件","forwardFlowText":"备注","instanceForwardNote":"将当前选中的文件转发到新的流程，继续执行审批操作","isForwardAttachments":"同时转发原表单附件","button_preview":"预览","remove_cc_approve":"传阅删除成功","forward_instance_success":"文件转发成功","instance_retrieve":"取回","instance_retrieve_reason":"备注","instance_retrieve_rules_title":"无法取回","instance_retrieve_rules_content":"下一步处理人已读无法取回；会签节点无法取回。","Retrieved successfully":"取回成功!","Instance State retrieved":"取回","instance_chrome_print_warning":"请使用Chrome浏览器进行打印","instance_sign":"签批","instance_default_opinion":"已阅","instance_submit_date":"提交日期","instance_opinion_edit":"请修改常用意见","instance_opinion_edit_success":"修改成功","instance_opinion_field":"签批字段","instance_cc_error_opinion_field_required":"请选择签批字段","instance_suggestion_toggle":"签批","instance_approve_read":"已读","instance_approve_from_user_name_label":"传阅自","instance_approve_status_text_label":"操作","instance_approve_description_label":"处理意见","instance_approve_start_date_label":"开始时间","instance_approve_finish_date_label":"结束时间","instance_approve_read_yes":"是","instance_approve_read_no":"否","instance_approve_cc_remove":"取消传阅","instance_approve_close_modal":"关闭","instance_approve_title_label":"处理人：","instance_forward_users":"转发对象","instance_forward_error_users_required":"请选择对象!","instance_approve_from_user_name_label_forward":"转发自","instance_approve_forward_remove":"取消转发","instance_approve_forward_remove_success":"取消成功","instance_forward_instance_look":"查看转发后申请单","instance_forward_cannot_cancel":"不符合取消条件！","instance_forward_instance_state_changed":"申请单状态已更新，不能取消！","instance_approve_modal_modification":"修改","instance_approve_modal_save":"保存","instance_approve_moda_back":"取消","instance_approve_modal_modificationsave":"您的修改保存成功","webhooks":"Webhooks","webhooks_flow":"流程","webhooks_payload_url":"URL","webhooks_active":"激活","webhooks_content_type":"传输数据类型","edit":"编辑","flow_list":"流程列表","import_flow":"导入流程","import_flow_success":"导入成功","import_flow_error":"导入失败","import_flow_info":"请选择需要导入的流程","webhooks_flow_name()":"流程","webhooks_description":"描述","workflow_list":"流程列表","workflow_import_flow":"导入流程","workflow_import_flow_success":"导入成功","workflow_import_flow_error":"导入失败","workflow_import_flow_info":"请选择需要导入的流程","flows":"流程","instance_readonly_view_url_copy":"复制链接","instance_readonly_view_url_copy_success":"Tableau Web 数据连接器已复制","instance_related_instances":"相关文件","instance_related_instances_title":"关联文件","instance_related_instances_placeholder":"请输入文件名称搜索关联文件","workflow_install_desktop":"安装客户端","workflow_chart":"流程图","instance_return":"退回","instance_return_success":"退回成功","instance_return_confirm":"确认退回至{$step_name}({$handlers_name})?","Instance State returned":"已退回","instance_main_attachment":"正文","flows_field_map":"归档关系","Instance State readed":"已阅","instance_distribute_title":"分发","instance_distribute_users":"分发对象","instance_distribute_error_users_required":"请选择分发对象!","instance_distribute_approve_from_user_name_label":"分发自","instance_distribute_approve_remove":"取消分发","instance_distribute_instance_look":"查看分发后申请单","instance_distribute_note":"将当前选中的文件分发到新的流程，继续执行审批操作","instance_distribute_attachments":"同时分发原表单附件","instance_distribute_success":"文件分发成功","instance_no_add_permission":"{$actiontype}未成功。以下用户没有新建此申请单的权限：{$usernames}","instance_workflow_chart_ie_warning":"暂不支持在IE中查看流程图，请在客户端软件或chrome上执行该操作。","instance_remind_title":"催办","instance_remind_select_users":"催办对象","instance_remind_count":"催办方式","instance_remind_deadline":"办结时限","instance_remind_success":"催办成功","instance_remind_need_remind_users":"缺少催办对象","instance_remind_need_remind_count":"缺少催办方式","instance_remind_need_remind_deadline":"缺少办结时限","instance_remind_count_options":{"single":"单次提醒","multi":"多次提醒"},"instance_opinion_title_select":"其他常用意见","categories":"流程分类","categories_name":"名称","categories_sort_no":"排序号","not_found_user":"未找到处理人","next_step_users_not_found":{"aplicant_superior":"申请人上级未配置，请联系管理员。","applicant_role":"您要找的「{$role_name}」还未配置，请联系管理员。","field_value_empty":"获取处理人，请先填写「{$field_name}」。","org_no_members":"下一步需「{$org_name}」处理，请联系管理员。"},"instanc_admin_role_text":"<a href='%s' target='_blank'>岗位中进行配置。</a>","instanc_user_role_text":"岗位中进行配置","instanc_set_applicant_role_text":"设置","instance_sign_read":"已阅","instance_sign_done":"已办","instance_sign_agree":"同意","instance_sign_period":"。","instance_cc_alert":"还需传阅给其他人员吗？","instance_cc_must_finished":"当前步骤被传阅人员：{$not_finished_users_name} 还未处理，故不能提交至下一步","instance_number_rules":"流程编号规则","instance_number_rules_name":"名称","instance_number_rules_year":"年份","instance_number_rules_first_number":"起始序号","instance_number_rules_number":"序号","instance_number_rules_rules":"编号规则","instance_number_rules_number_builder_error_title":"文件编号生成失败","instance_number_rules_number_builder_error_not_exist":"流程编号规则不存在: ","ConfirmDeletion?":"确认删除?","instance_number_rules_name_only":"名称已存在","flows_btn_export_title":"导出流程","flows_btn_copylink_title":"复制链接","instance_distribute_related_instances_title":"自动创建关联文件","instance_next_step_users_placeholder":"请选择下一步处理人","instance_distribute_to_self":"同时分发给自己","my_instances":"我的文件","workflow_import_export_flows":"流程导入导出","workflow_history_approve_counts":"已显示%s条历史意见","workflow_history_approve_description":"历史意见","instances_start_date":"接收时间","instances_is_archived":"已归档","instances_archive":"归档","instances_archived":"已归档","instances_not_archived":"未归档","workflow_more_inbox":"更多待审核","instance_back":"返回","steedos_tableau_statistical_analysis":"统计分析","steedos_tableau_copy_link":"复制链接","tableau_introduction_modal_close":"关闭","ERROR":"错误","steedos_table_add_item":"新增一行","approved_description":"同意","rejected_description":"不同意","copy":"复制并新建","from":"来自","admin_flow_roles_create":"新建","flow_roles_delete_success":"删除成功","add_positions":"新增","save_role":"保存","delete_role":"删除","flow_roles_update_success":"更新成功","flow_roles_necessary":"请填写岗位名称","flow_positions_add_suceess":"添加成功","flow_positions_add_failed":"添加失败","flow_positions_update_suceess":"更新成功","flow_positions_update_failed":"更新失败","flow_positions_delete_suceess":"删除成功","instance_role_set_is_complete":"岗位设置完成？","instance_set_is_complete":"设置完成？","flow_roles_help":"帮助","set_org_members":"设置部门成员","set_applicant_manager":"设置申请人上级主管","instance_permissions_error":"您没有权限查看此申请单","start_flows":"星标流程","chart_traces":"图形化历程","cc_tag":"（传阅中）","workflow_batch_approval":"批量审批","workflow_batch_approval_btn":"批量<br/>审批","workflow_batch_approval_processing":"处理中","workflow_batch_approval_message":"本次处理文件%s份","workflow_error_multiple_next_step_users":"「{$insname}」的下一步处理人有多个","workflow_error_multiple_next_step":"「{$insname}」的下一步步骤有多个","workflow_batch_instances_empty":"没有可批量审批的数据","workflow_sign_opinion_to_completed_instance":"此文件已结束，签署的意见不会显示在申请单上","workflow_copy_flow":"复制流程","workflow_copy_flow_text":"请填写新流程名称","workflow_copy_flow_success":"复制流程成功","workflow_copy_flow_error_reason_required":"请填写新流程名称","workflow_enabled":"启用","workflow_disabled":"停用","flows_state":"状态","flows_current_modified":"修改时间","flows_modified_by_name()":"修改者","flows_category_name()":"流程分类","flow_list_title_set_template":"设置模版","flow_list_title_set_script":"设置脚本","flow_list_title_set_fieldsMap":"设置归档关系","distribute_edit_flow_select_users":"流程被分发时分发对象选择范围","distribute_edit_flow_select_flows":"搜索此步骤可分发流程","flow_list_title_set_distribute":"设置分发","distribute_to_self":"分发时可分发给自己","distribute_end_notification":"分发结束后提醒发起人","instance_deleted":"已删除","workflow_flow_state_disabled":"此申请单对应流程\"{$name}\"已被禁用，如想正常修改及提交请联系管理员启用流程","flow_roles_error_flows_used":"已有以下流程使用此角色：{$names}","instance_approve_not_yet_handled":"未处理","instance_approve_distribute_date_label":"分发时间","flows_auto_remind":"自动催办","flows_upload_after_being_distributed":"被分发后是否允许上传附件","instances_my_finish_date":"处理时间","pager_input_hint":"点击输入页码，然后按回车可跳转到指定页","instance_hide_title":"隐藏","instance_hide_success":"隐藏成功","instance_reopen_title":"取消隐藏","instance_reopen_success":"取消隐藏成功","workflow_design_flow":"设计流程","process_delegation_rules":"流程委托","process_delegation_rules_from":"委托人","process_delegation_rules_to":"被委托人","process_delegation_rules_enabled":"启用","process_delegation_rules_start_time":"委托开始","process_delegation_rules_end_time":"委托结束","process_delegation_rules_from_name":"委托人","process_delegation_rules_to_name":"被委托人","process_delegation_rules_start_must_lt_end":"开始时间应小于结束时间","process_delegation_rules_description":"{$userName}委托","instance_handler_name":"处理人","instance_handler_organization_fullname":"部门","url_invalid":"无效的链接","instance_approve_timeout_auto_submitted":"超时通过"});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"checkNpm.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/checkNpm.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let checkNpmVersions;
module.link("meteor/tmeasday:check-npm-versions", {
  checkNpmVersions(v) {
    checkNpmVersions = v;
  }

}, 0);
checkNpmVersions({
  "node-schedule": "^1.3.1",
  cookies: "^0.6.2",
  "xml2js": "^0.4.19",
  mkdirp: "^0.3.5",
  "sprintf-js": "^1.0.3"
}, 'steedos:workflow');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"lib":{"collection_helpers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/collection_helpers.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tapi18n.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/tapi18n.coffee                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"core.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/core.coffee                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Workflow = {};
this.ImageSign = {};
this.TracesTemplate = {};
this.InstanceformTemplate = {};
this.InstanceAttachmentTemplate = {};
this.InstanceSignText = {};
this.RelatedInstances = {};
this.RelatedRecords = {};
this.InstanceMacro = {
  context: {}
};
this.TracesManager = {};

if (Meteor.isClient) {
  Meteor.startup(function () {
    var workflow_three_columns;
    workflow_three_columns = localStorage.getItem("workflow_three_columns");

    if (workflow_three_columns && workflow_three_columns === "off") {
      return $("body").removeClass("three-columns");
    } else {
      return $("body").addClass("three-columns");
    }
  });
}

InstanceSignText.isOpinionField_from_string = function (field_formula) {
  return (field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{yijianlan:") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{\"yijianlan\":") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{'yijianlan':") : void 0) > -1;
};

InstanceSignText.includesOpinionField = function (form, form_version) {
  var _form_version, field_formulas, fields;

  field_formulas = new Array();
  _form_version = {};

  if (Meteor.isServer) {
    _form_version = uuflowManager.getFormVersion(db.forms.findOne({
      _id: form
    }), form_version);
  } else {
    _form_version = db.form_versions.findOne({
      _id: form_version,
      form: form
    });
  }

  fields = (_form_version != null ? _form_version.fields : void 0) || [];
  fields.forEach(function (f) {
    var ref;

    if (f.type === 'table') {
      return console.log('ignore opinion field in table');
    } else if (f.type === 'section') {
      return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
        return field_formulas.push(f1.formula);
      }) : void 0 : void 0;
    } else {
      return field_formulas.push(f.formula);
    }
  });
  return _.some(field_formulas, function (field_formula) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"models":{"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/forms.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flows.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_roles.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_positions.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/instances.coffee                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/categories.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"spaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/spaces.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"deleted_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/deleted_instances.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"auth_tokens.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/auth_tokens.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
db.auth_tokens = new Meteor.Collection('auth_tokens');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webhooks.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/webhooks.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_user_signs.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_users.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cfs":{"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/cfs/instances.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"admin.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/admin.coffee                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"client":{"lib":{"instance_readonly_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/instance_readonly_template.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _getLocale, _getRequiredFields, _getStartStepEditableFields, _getStartStepRequiredFields, _getTemplateData, _getViewHtml, getLinkText;

InstanceReadOnlyTemplate = {};
InstanceReadOnlyTemplate.instance_attachment = "<tr>\n	<td class=\"ins-attach-view\">\n		<a href=\"{{ins_attach_download_url _id absolute}}\" class=\"ins_attach_href\" target=\"_parent\" data-name=\"{{this.name}}\" data-type=\"{{this.original.type}}\" data-id=\"{{_id}}\">{{this.name}}</a>\n	</td>\n</tr>";
InstanceReadOnlyTemplate.afSelectUserRead = "<div class='selectUser form-control ins_applicant'>{{value}}</div>";
InstanceReadOnlyTemplate.afFormGroupRead = "<div class='form-group'>\n	{{#with getField this.name}}\n		{{#if equals type 'section'}}\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if showLabel}}\n					<label>{{getLabel code}}</label>\n				{{/if}}\n				<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n			{{/if}}\n		{{/if}}\n	{{/with}}\n</div>";
InstanceReadOnlyTemplate.afFormGroup = "\n{{#with getField this.name}}\n		{{#if equals type 'section'}}\n			<div class=\"form-group\">\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n  				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if equals type 'input'}}\n					<div class=\"form-group\" data-required=\"{{#if is_required}}true{{/if}}\">\n						<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n						<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n					</div>\n				{{else}}\n					{{#if equals type 'number'}}\n						<div class=\"form-group\">\n							<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n							<input type=\"number\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						</div>\n					{{else}}\n						{{#if equals type 'date'}}\n							<div class=\"form-group\">\n								<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n								<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type=\"date\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n							</div>\n						{{else}}\n							{{#if equals type 'dateTime'}}\n								<div class=\"form-group\">\n									<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n									<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type='datetime' data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n								</div>\n							{{else}}\n								{{#if equals type 'password'}}\n									<div class=\"form-group\">\n										<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n										<input type=\"password\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n									</div>\n								{{else}}\n									{{#if equals type 'select'}}\n										<div class=\"form-group\">\n											<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n											<select name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n												{{#each options this}}\n													<option value=\"{{value}}\">{{label}}</option>\n												{{/each}}\n											</select>\n										</div>\n									{{else}}\n										{{#if equals type 'radio'}}\n											<div class=\"form-group\">\n												<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n												<div class=\"af-radio-group\" data-schema-key=\"{{getLabel code}}\">\n													{{#each options this}}\n        												<label class=\"radio-inline fix-indent\"><input type=\"radio\" value=\"{{value}}\" name=\"{{../code}}\" class=\"radio-inline fix-indent\"> {{label}}</label>\n    													{{/each}}\n    												</div>\n											</div>\n										{{else}}\n											{{#if equals type 'multiSelect'}}\n												<div class=\"form-group\">\n													<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n													<div class=\"af-checkbox-group\" data-schema-key=\"{{getLabel code}}\">\n														{{#each options this}}\n														<label class=\"checkbox-inline fix-indent\"><input type=\"checkbox\" value=\"{{value}}\" name=\"{{../code}}\" class=\"checkbox-inline fix-indent\"> {{label}}</label>\n														{{/each}}\n													</div>\n												</div>\n											{{else}}\n												{{#if equals type 'url'}}\n													<div class=\"form-group\">\n														<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n														<input type=\"url\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n													</div>\n												{{else}}\n													{{#if equals type 'email'}}\n														<div class=\"form-group\">\n															<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n															<input type=\"email\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n														</div>\n													{{else}}\n														{{#if equals type 'checkbox'}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class=\"checkbox\" data-schema-key=\"{{getLabel code}}\">\n																	<label style=\"width: 100%;\"><input type=\"checkbox\" value=\"true\" name=\"{{code}}\" class=\"checkbox-inline fix-indent\"></label>\n																</div>\n															</div>\n														{{else}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n															</div>\n														{{/if}}\n													{{/if}}\n												{{/if}}\n											{{/if}}\n										{{/if}}\n									{{/if}}\n								{{/if}}\n							{{/if}}\n						{{/if}}\n					{{/if}}\n				{{/if}}\n			{{/if}}\n		{{/if}}\n	{{/with}}";

InstanceReadOnlyTemplate.create = function (tempalteName, steedosData) {
  var template, templateCompiled, templateRenderFunction;
  template = InstanceReadOnlyTemplate[tempalteName];
  templateCompiled = SpacebarsCompiler.compile(template, {
    isBody: true
  });
  templateRenderFunction = eval(templateCompiled);
  Template[tempalteName] = new Blaze.Template(tempalteName, templateRenderFunction);
  Template[tempalteName].steedosData = steedosData;
  return Template[tempalteName].helpers(InstanceformTemplate.helpers);
};

InstanceReadOnlyTemplate.createInstanceSignText = function (steedosData) {
  var instanceSignTextCompiled, instanceSignTextHtml, instanceSignTextRenderFunction;
  instanceSignTextHtml = _getViewHtml('client/views/instance/instance_sign_text.html');
  instanceSignTextCompiled = SpacebarsCompiler.compile(instanceSignTextHtml, {
    isBody: true
  });
  instanceSignTextRenderFunction = eval(instanceSignTextCompiled);
  Template.instanceSignText = new Blaze.Template("instanceSignText", instanceSignTextRenderFunction);
  Template.instanceSignText.steedosData = steedosData;
  return Template.instanceSignText.helpers(InstanceSignText.helpers);
};

InstanceReadOnlyTemplate.createImageSign = function (steedosData) {
  var imageSignCompiled, imageSignHtml, imageSignRenderFunction;
  imageSignHtml = _getViewHtml('client/views/instance/image_sign.html');
  imageSignCompiled = SpacebarsCompiler.compile(imageSignHtml, {
    isBody: true
  });
  imageSignRenderFunction = eval(imageSignCompiled);
  Template.imageSign = new Blaze.Template("imageSign", imageSignRenderFunction);
  Template.imageSign.steedosData = steedosData;
  return Template.imageSign.helpers(ImageSign.helpers);
};

InstanceReadOnlyTemplate.init = function (steedosData) {
  InstanceReadOnlyTemplate.create("afSelectUserRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("afFormGroup", steedosData);
  }

  InstanceReadOnlyTemplate.create("afFormGroupRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("instance_attachment", {
      absolute: steedosData.absolute
    });
    InstanceReadOnlyTemplate.createImageSign(steedosData);
    return InstanceReadOnlyTemplate.createInstanceSignText(steedosData);
  }
};

getLinkText = function (item, label, detail_url) {
  if (detail_url) {
    detail_url = detail_url.replace("{_id}", item._id);
    return '<a href="' + detail_url + '" target="_blank">' + label + '</a>';
  } else {
    return label;
  }
};

InstanceReadOnlyTemplate.getValue = function (value, field, locale, utcOffset) {
  var date, detail_url, e, hours, month, seconds, t, t0, t1, year;

  if (!value && value !== false) {
    return '';
  }

  switch (field.type) {
    case 'email':
      value = value ? '<a href=\'mailto:' + value + '\'>' + value + '</a>' : '';
      break;

    case 'url':
      if (value) {
        if (value.indexOf("http") === 0) {
          try {
            value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
          } catch (error) {
            e = error;
            value = "<a href='' target='_blank'>" + value + "</a>";
          }
        } else {
          value = "<a href='http://" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
        }
      } else {
        value = '';
      }

      break;

    case 'group':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("fullname").toString() : void 0;
      } else {
        value = value != null ? value.fullname : void 0;
      }

      break;

    case 'user':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("name").toString() : void 0;
      } else {
        value = value != null ? value.name : void 0;
      }

      break;

    case 'password':
      value = '******';
      break;

    case 'checkbox':
      if (value && value !== 'false') {
        value = TAPi18n.__("form_field_checkbox_yes", {}, locale);
      } else {
        value = TAPi18n.__("form_field_checkbox_no", {}, locale);
      }

      break;

    case 'dateTime':
      if (value && value.length === 16) {
        t = value.split("T");
        t0 = t[0].split("-");
        t1 = t[1].split(":");
        year = t0[0];
        month = t0[1];
        date = t0[2];
        hours = t1[0];
        seconds = t1[1];
        value = new Date(year, month - 1, date, hours, seconds);
      } else {
        value = new Date(value);
      }

      value = InstanceReadOnlyTemplate.formatDate(value, utcOffset);
      break;

    case 'input':
      if (field.is_textarea) {
        value = Spacebars.SafeString(Markdown(value));
      }

      break;

    case 'number':
      if (value || value === 0) {
        if (typeof value === 'string') {
          value = parseFloat(value);
        }

        value = value.toFixed(field.digits);
        value = Steedos.numberToString(value, locale);
      }

      break;

    case 'odata':
      detail_url = field.detail_url;

      if (field.is_multiselect) {
        value = _.map(value, function (item) {
          return getLinkText(item, item['@label'], detail_url);
        });
      } else {
        value = getLinkText(value, value['@label'], detail_url);
      }

  }

  return value;
};

InstanceReadOnlyTemplate.getLabel = function (fields, code) {
  var field;
  field = fields.findPropertyByPK("code", code);

  if (field) {
    if (field.name) {
      return field.name;
    } else {
      return field.code;
    }
  }
};

InstanceReadOnlyTemplate.getInstanceFormVersion = function (instance) {
  var form, form_fields, form_version;
  form = db.forms.findOne(instance.form);
  form_version = {};
  form_fields = [];

  if (form.current._id === instance.form_version) {
    form_version = form.current;
  } else {
    form_version = _.where(form.historys, {
      _id: instance.form_version
    })[0];
  }

  form_version.fields.forEach(function (field) {
    if (field.type === 'section') {
      form_fields.push(field);

      if (field.fields) {
        return field.fields.forEach(function (f) {
          return form_fields.push(f);
        });
      }
    } else if (field.type === 'table') {
      field['sfields'] = field['fields'];
      delete field['fields'];
      return form_fields.push(field);
    } else {
      return form_fields.push(field);
    }
  });
  form_version.fields = form_fields;
  return form_version;
};

InstanceReadOnlyTemplate.getFlowVersion = function (instance) {
  var flow, flow_version;
  flow = db.flows.findOne(instance.flow);
  flow_version = {};

  if (flow.current._id === instance.flow_version) {
    flow_version = flow.current;
  } else {
    flow_version = _.where(flow.historys, {
      _id: instance.flow_version
    })[0];
  }

  return flow_version;
};

_getViewHtml = function (path) {
  var viewHtml;
  viewHtml = Assets.getText(path);

  if (viewHtml) {
    viewHtml = viewHtml.replace(/<template[\w\s\"\=']+>/i, "").replace(/<\/template>/i, "");
  }

  return viewHtml;
};

_getLocale = function (user) {
  var locale, ref, ref1;

  if ((user != null ? (ref = user.locale) != null ? ref.toLocaleLowerCase() : void 0 : void 0) === 'zh-cn') {
    locale = "zh-CN";
  } else if ((user != null ? (ref1 = user.locale) != null ? ref1.toLocaleLowerCase() : void 0 : void 0) === 'en-us') {
    locale = "en";
  } else {
    locale = "zh-CN";
  }

  return locale;
};

_getRequiredFields = function (fields, rev) {
  if (!rev) {
    rev = [];
  }

  fields.forEach(function (field) {
    if (field.type === 'section') {
      return _getRequiredFields(field.fields, rev);
    } else if (field.type === 'table') {} else {
      if (field.is_required) {
        return rev.push(field.code);
      }
    }
  });
  return rev;
};

_getStartStepEditableFields = function (fields, steps) {
  var editableCode, startStep;
  startStep = steps.findPropertyByPK("step_type", "start");
  editableCode = [];

  _.keys(startStep.permissions).forEach(function (key) {
    if (startStep.permissions[key] === 'editable') {
      return editableCode.push(key);
    }
  });

  return editableCode;
};

_getStartStepRequiredFields = function (fields, steps) {
  var editableCode, requiredFields;
  requiredFields = _getRequiredFields(fields);
  editableCode = _getStartStepEditableFields(fields, steps);
  return _.intersection(requiredFields, editableCode);
};

_getTemplateData = function (user, space, instance, options) {
  var flow, form, form_version, locale, steedosData;

  if (Meteor.isServer) {
    form_version = InstanceReadOnlyTemplate.getInstanceFormVersion(instance);
  } else {
    form_version = WorkflowManager.getInstanceFormVersion(instance);
  }

  locale = _getLocale(user);
  steedosData = {};

  if (Meteor.isClient) {
    steedosData = _.clone(WorkflowManager_format.getAutoformSchemaValues());
    steedosData.insname = instance.name;
    steedosData.ins_state = instance.state;
    steedosData.ins_final_decision = instance.ins_final_decision;
    steedosData.ins_code = instance.code;
    steedosData.ins_is_archived = instance.is_archived;
    steedosData.ins_is_deleted = instance.ins_is_deleted;
    steedosData.applicant_name = instance.applicant_name;
    steedosData.applicantContext = instance.applicant_name;
  }

  steedosData.instance = instance;
  steedosData.form_version = form_version;
  steedosData.locale = locale;
  steedosData.utcOffset = user.utcOffset;
  steedosData.space = instance.space;
  steedosData.sessionUserId = user._id;

  if (Meteor.isServer) {
    if (options != null ? options.editable : void 0) {
      form = db.forms.findOne({
        _id: instance.form
      });
      flow = db.flows.findOne({
        _id: instance.flow
      });
      steedosData.startStepEditableFields = _getStartStepEditableFields(form.current.fields, flow.current.steps);
    }
  }

  return steedosData;
};

InstanceReadOnlyTemplate.formatDate = function (date, utcOffset) {
  var passing;

  if (Meteor.isServer) {
    passing = false;
  } else {
    passing = true;
  }

  if (!utcOffset && utcOffset !== 0) {
    utcOffset = 8;
  }

  return moment(date).utcOffset(utcOffset, passing).format("YYYY-MM-DD HH:mm");
};

InstanceReadOnlyTemplate.getInstanceView = function (user, space, instance, options) {
  var body, instanceCompiled, instanceRenderFunction, instanceTemplate, steedosData;
  steedosData = _getTemplateData(user, space, instance, options);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  instanceTemplate = TemplateManager.getTemplate(instance, options != null ? options.templateName : void 0);
  instanceTemplate = instanceTemplate.replace(/afSelectUser/g, "afSelectUserRead");

  if (!(options != null ? options.editable : void 0)) {
    instanceTemplate = instanceTemplate.replace(/afFormGroup/g, "afFormGroupRead");
  }

  instanceCompiled = SpacebarsCompiler.compile(instanceTemplate, {
    isBody: true
  });
  instanceRenderFunction = eval(instanceCompiled);
  Template.instance_readonly_view = new Blaze.Template("instance_readonly_view", instanceRenderFunction);
  Template.instance_readonly_view.steedosData = steedosData;
  Template.instance_readonly_view.helpers(InstanceformTemplate.helpers);
  InstanceReadOnlyTemplate.init(steedosData);
  body = Blaze.toHTMLWithData(Template.instance_readonly_view, steedosData);
  return "<div id='instanceform' >\n	" + body + "\n</div>";
};

InstanceReadOnlyTemplate.getTracesView = function (user, space, instance, options) {
  var body, form, steedosData, traceCompiled, traceRenderFunction, tracesHtml;
  steedosData = _getTemplateData(user, space, instance);
  form = db.forms.findOne(instance.form);

  if (form.instance_style === "table" || (options != null ? options.templateName : void 0) === "table") {
    tracesHtml = _getViewHtml('client/views/instance/traces_table.html');
  } else {
    tracesHtml = _getViewHtml('client/views/instance/traces.html');
  }

  traceCompiled = SpacebarsCompiler.compile(tracesHtml, {
    isBody: true
  });
  traceRenderFunction = eval(traceCompiled);
  Template.trace_readonly_view = new Blaze.Template("trace_readonly_view", traceRenderFunction);
  Template.trace_readonly_view.steedosData = steedosData;
  Template.trace_readonly_view.helpers(TracesTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.trace_readonly_view, instance.traces);
  return body;
};

InstanceReadOnlyTemplate.getAttachmentView = function (user, space, instance) {
  var attachmentCompiled, attachmentHtml, attachmentRenderFunction, body, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  attachmentHtml = _getViewHtml('client/views/instance/instance_attachments.html');
  attachmentCompiled = SpacebarsCompiler.compile(attachmentHtml, {
    isBody: true
  });
  attachmentRenderFunction = eval(attachmentCompiled);
  Template.attachments_readonly_view = new Blaze.Template("attachments_readonly_view", attachmentRenderFunction);
  Template.attachments_readonly_view.steedosData = steedosData;
  Template.attachments_readonly_view.helpers(InstanceAttachmentTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.attachments_readonly_view);
  return body;
};

InstanceReadOnlyTemplate.getRelatedInstancesView = function (user, space, instance, options) {
  var body, relatedInstancesCompiled, relatedInstancesHtml, relatedInstancesRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedInstancesHtml = _getViewHtml('client/views/instance/related_instances.html');
  relatedInstancesCompiled = SpacebarsCompiler.compile(relatedInstancesHtml, {
    isBody: true
  });
  relatedInstancesRenderFunction = eval(relatedInstancesCompiled);
  Template.related_instances_view = new Blaze.Template("related_instances_view", relatedInstancesRenderFunction);
  Template.related_instances_view.steedosData = steedosData;
  Template.related_instances_view.helpers(RelatedInstances.helpers);
  body = Blaze.toHTMLWithData(Template.related_instances_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getRelatedRecordsView = function (user, space, instance, options) {
  var body, relatedRecordsCompiled, relatedRecordsHtml, relatedRecordsRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedRecordsHtml = _getViewHtml('client/views/instance/related_records.html');
  relatedRecordsCompiled = SpacebarsCompiler.compile(relatedRecordsHtml, {
    isBody: true
  });
  relatedRecordsRenderFunction = eval(relatedRecordsCompiled);
  Template.related_records_view = new Blaze.Template("related_records_view", relatedRecordsRenderFunction);
  Template.related_records_view.steedosData = steedosData;
  Template.related_records_view.helpers(RelatedRecords.helpers);
  body = Blaze.toHTMLWithData(Template.related_records_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getOnLoadScript = function (instance) {
  var form_script, form_version;
  form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
  form_script = form_version.form_script;

  if (form_script && form_script.replace(/\n/g, "").replace(/\s/g, "").length > 0) {
    form_script = "CoreForm = {};CoreForm.instanceform = {};" + form_script;
    return form_script += ";if(CoreForm.form_OnLoad){window.onload = CoreForm.form_OnLoad();}";
  } else {
    return form_script = "";
  }
};

InstanceReadOnlyTemplate.getInstanceHtml = function (user, space, instance, options) {
  var absoluteUrl, allCssLink, attachment, body, creatorService, cssHref, form, formDescription, formDescriptionHtml, html, ins_record_ids, instanceBoxStyle, instance_style, onLoadScript, openFileScript, ref, ref1, related_instances, related_records, showTracesBtn, showTracesScript, trace, traceCheck, width;
  body = InstanceReadOnlyTemplate.getInstanceView(user, space, instance, options);
  onLoadScript = InstanceReadOnlyTemplate.getOnLoadScript(instance);
  creatorService = (ref = Meteor.settings["public"].webservices) != null ? (ref1 = ref.creator) != null ? ref1.url : void 0 : void 0;
  ins_record_ids = instance.record_ids;
  openFileScript = "if(window.isNode && isNode()){\n	attachs = document.getElementsByClassName(\"ins_attach_href\");\n	for(var i = 0; i < attachs.length; i++){\n		attach = attachs[i];\n		attach.addEventListener(\"click\", function(e){\n			if(isImage(this.dataset.type) || isHtml(this.dataset.type)){\n				e.preventDefault();\n				openWindow(\"/api/files/instances/\" + this.dataset.id);\n			}else if(nw_core.canOpenFile(this.dataset.name)){\n				e.preventDefault();\n				nw_core.openFile(this.href, this.dataset.name)\n			}\n		});\n	}\n}\n\nvar flow = \"" + instance.flow + "\";\nvar space = \"" + instance.space + "\";\n\nfunction getCookie(name){\n	let pattern = RegExp(name + \"=.[^;]*\")\n	let matched = document.cookie.match(pattern)\n	if(matched){\n		let cookie = matched[0].split('=')\n		return cookie[1]\n	}\n	return ''\n}\n\nvar records = document.getElementsByClassName(\"ins-related-records\");\nfor(var i = 0; i < records.length; i++){\n		var record = records[i];\n		record.addEventListener(\"click\", function(e){\n			var creatorService = \"" + creatorService + "\"\n			var ins_record_ids = " + JSON.stringify(ins_record_ids) + "\n			if(creatorService && ins_record_ids && ins_record_ids.length > 0){\n				var objcetName = ins_record_ids[0].o\n				var id = ins_record_ids[0].ids[0]\n				var uobj = {};\n				uobj[\"X-User-Id\"] = getCookie(\"X-User-Id\");\n				uobj[\"X-Auth-Token\"] = getCookie(\"X-Auth-Token\");\n				redirectUrl = creatorService + \"app/-/\" + objcetName + \"/view/\" + id + \"?\" + $.param(uobj);\n				openWindow(redirectUrl);\n			}\n		});\n	}\n";

  if (!Steedos.isMobile()) {
    form = db.forms.findOne(instance.form);

    if ((form != null ? form.instance_style : void 0) === 'table') {
      instance_style = "instance-table";
    }
  }

  if ((options != null ? options.templateName : void 0) === 'table') {
    instance_style = "instance-table";
  }

  if (options != null ? options.instance_style : void 0) {
    instance_style = options.instance_style;
  }

  if (!options || options.showTrace === true) {
    trace = InstanceReadOnlyTemplate.getTracesView(user, space, instance);
  } else {
    trace = "";
  }

  instanceBoxStyle = "";

  if (instance && instance.final_decision) {
    if (instance.final_decision === "approved") {
      instanceBoxStyle = "box-success";
    } else if (instance.final_decision === "rejected") {
      instanceBoxStyle = "box-danger";
    }
  }

  if (!options || options.showAttachments === true) {
    attachment = InstanceReadOnlyTemplate.getAttachmentView(user, space, instance);
    related_instances = InstanceReadOnlyTemplate.getRelatedInstancesView(user, space, instance, options);
    related_records = InstanceReadOnlyTemplate.getRelatedRecordsView(user, space, instance, options);
  } else {
    attachment = "";
    related_instances = "";
    related_records = "";
  }

  absoluteUrl = Meteor.absoluteUrl();
  width = "960px";

  if (options != null ? options.width : void 0) {
    width = "";
  }

  cssHref = Meteor.absoluteUrl("steedos-css");
  allCssLink = "<link rel=\"stylesheet\" type=\"text/css\" class=\"__meteor-css__\" href=\"" + cssHref + "\">";
  traceCheck = "";

  if (!_.isEmpty(trace)) {
    traceCheck = "checked";
  }

  if ((options != null ? options.tagger : void 0) === 'email') {
    showTracesBtn = "";
  } else {
    showTracesBtn = "<div class=\"navigation-bar btn-group no-print\" style=\"min-width: 600px; z-index: 999\">\n	<div class=\"print-tool\">\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-attachments\" id=\"cbx-print-attachments\" checked=\"checked\"><span>附件</span></label>\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-traces\" id=\"cbx-print-traces\" checked=\"" + traceCheck + "\"><span>" + t('instance_approval_history') + "</span></label>\n	</div>\n</div>";
  }

  showTracesScript = "$( document ).ready(function(){\n	var b = document.getElementById('cbx-print-traces');\n	var t = document.getElementsByClassName('instance-traces')[0];\n	if (b.checked){\n		t.style = 'display: block;'\n	} else {\n		t.style = 'display: none;'\n	}\n	b.addEventListener('change', function(e){\n		if (e.target.checked){\n			t.style = 'display: block;'\n		} else {\n			t.style = 'display: none;'\n		}\n	});\n\n	var attachmentsCheckbox = document.getElementById('cbx-print-attachments');\n	var attachmentsView = document.getElementsByClassName('attachments-section')[0];\n	if (attachmentsCheckbox.checked){\n		attachmentsView.style = 'display: block;'\n	} else {\n		attachmentsView.style = 'display: none;'\n	}\n	attachmentsCheckbox.addEventListener('change', function(e){\n		if (e.target.checked){\n			attachmentsView.style = 'display: block;'\n		} else {\n			attachmentsView.style = 'display: none;'\n		}\n	});\n});\n";

  if (options != null ? options.styles : void 0) {
    allCssLink = "";
  }

  form = db.forms.findOne({
    _id: instance.form
  });
  formDescriptionHtml = "";

  if (form) {
    formDescription = form.description;

    if (formDescription) {
      formDescription = formDescription.replace(/\n/g, "<br/>");
      formDescriptionHtml = "<div class=\"box-header  with-border instance-header\">\n	<div>\n		" + formDescription + "\n	</div>\n</div>";
    }
  }

  html = "<!DOCTYPE html>\n<html>\n	<head>\n		<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n		" + allCssLink + "\n		<script src=\"https://www.steedos.com/website/libs/jquery.min.js\" type=\"text/javascript\"></script>\n		<script src=\"/js/nw_core.js\" type=\"text/javascript\"></script>\n		" + (options.plugins || "") + "\n\n		<style>\n			.steedos{\n				width: " + width + ";\n				margin-left: auto;\n				margin-right: auto;\n			}\n\n			.instance-view .instance-name{\n				display: inline !important\n			}\n			.box-tools{\n				display: none;\n			}\n			.box.collapsed-box .box-body,.box.collapsed-box .box-footer {\n			  display: block;\n			}\n\n			body{\n				background: azure !important;\n			}\n\n			.instance-view .instance-traces{\n				padding-left: 15px;\n				padding-right: 15px;\n			}\n\n			" + ((options != null ? options.styles : void 0) || "") + "\n		</style>\n	</head>\n	<body>\n		<div class=\"steedos workflow instance-print\">\n			<div class=\"skin-green skin-admin-lte\">\n				<div class=\"wrapper\">\n					<div class=\"content-wrapper\">\n						" + showTracesBtn + "\n						<div class=\"instance-print\">\n							<div class=\"instance " + instance_style + "\">\n								<form name=\"instanceForm\">\n									<div class=\"instance-form box " + instanceBoxStyle + "\">\n										" + formDescriptionHtml + "\n										<div class=\"box-body\">\n											<div class=\"col-md-12\">\n												<div class='attachments-section'>\n													" + attachment + "\n													" + related_instances + "\n													" + related_records + "\n												</div>\n												" + body + "\n											</div>\n										</div>\n									</div>\n								</form>\n								" + trace + "\n							</div>\n\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</body>\n	<script>" + openFileScript + ";" + onLoadScript + ";" + showTracesScript + "</script>\n</html>";
  return html;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/template_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var formId;
TemplateManager = {};
formId = 'instanceform';

TemplateManager.instance_title = function () {
  var pageTitle, pageTitleTrClass, val;
  pageTitle = "{{instance.name}}";
  pageTitleTrClass = "instance-name";

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) {
    pageTitle = "{{> afFormGroup name=\"" + CoreForm.pageTitleFieldName + "\" label=false}}";
    pageTitleTrClass = "";
  }

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitle : void 0) {
    pageTitle = "" + CoreForm.pageTitle;
    pageTitleTrClass = "";
  }

  val = {
    pageTitle: pageTitle,
    pageTitleTrClass: pageTitleTrClass
  };
  return val;
};

TemplateManager.handleTableTemplate = function (instance, _export) {
  var table_fields, template;
  template = "<div class='instance-template'>\n	<table class=\"table-page-title form-table no-border text-align-center\" style=\"width: 100%;display: inline-table;\">\n		<tr class=\"" + this.instance_title().pageTitleTrClass + "\">\n			<td class=\"instance-table-name-td page-title\">\n				" + this.instance_title().pageTitle + "\n			</td>\n		</tr>\n\n	</table>\n	<table class=\"table-page-body form-table\">\n			<tr style=\"height:0px\">\n				<th style='width: 16%'></th>\n				<th></th>\n				<th style='width: 16%'></th>\n				<th></th>\n			</tr>";
  table_fields = InstanceformTemplate.helpers.table_fields(instance);
  table_fields.forEach(function (table_field) {
    var field_permission, pureCode, required, title_permission;
    required = "";

    if (!(typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) || (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) !== table_field.code) {
      if (table_field.is_required) {
        required = "is-required";
      }

      if (_export) {
        required = "";
      }

      pureCode = Steedos.removeSpecialCharacter(table_field.code);

      if (InstanceformTemplate.helpers.isOpinionField(table_field)) {
        template += table_field.tr_start;
        template += "<td class=\"td-title " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field opinion-field opinion-field-" + pureCode + " automatic\" colspan = \"" + table_field.td_colspan + "\">\n	{{> instanceSignText name=\"" + table_field.code + "\"}}\n</td>";
        return template += table_field.tr_end;
      } else {
        if (InstanceformTemplate.helpers.includes(table_field.type, 'section,table')) {
          template += table_field.tr_start;
          template += "<td class=\"td-childfield td-childfield-" + pureCode + "\" colspan = \"" + table_field.td_colspan + "\">\n   {{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        } else {
          template += table_field.tr_start;

          if (_export) {
            title_permission = "";
            field_permission = "";
          } else {
            title_permission = "title-" + table_field.permission;
            field_permission = "field-" + table_field.permission;
          }

          template += "<td class=\"td-title td-title-" + pureCode + " " + title_permission + " " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field td-field-" + pureCode + " " + field_permission + "\" colspan = \"" + table_field.td_colspan + "\">\n	{{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        }
      }
    }
  });
  template += "	</table>\n\n	<table class=\"table-page-footer form-table no-border\">\n		<tr class=\"applicant-wrapper\">\n			<td class=\"nowrap\">\n				<div class='inline-left'>\n					<label class=\"control-label\">{{_t \"instance_initiator\"}}：</label>\n				</div>\n				<div class='instance-table-wrapper-td inline-left'>\n					{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n				</div>\n			</td>\n			<td class=\"nowrap\">\n				<div class='pull-left'>\n					<div class='inline-left'>\n						<label>{{_t \"instance_submit_date\"}}：</label>\n					</div>\n					<div class='inline-right'>\n						<div class=\"form-group\">\n							{{formatDate instance.submit_date '{\"format\":\"YYYY-MM-DD\"}'}}\n						</div>\n					</div>\n				</div>\n			</td>\n		</tr>\n	</table>\n</div>";
  return template;
};

TemplateManager._template = {
  "default": function (instance) {
    var template;
    template = "<div class=\"with-border col-md-12\">\n	<div class=\"instance-name\">\n		<h3 class=\"box-title\">" + TemplateManager.instance_title().pageTitle + "</h3>\n		<span class=\"help-block\"></span>\n	</div>\n	<span class=\"help-block\"></span>\n</div>\n{{#each steedos_form.fields}}\n	{{#if isOpinionField this}}\n		<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			<div class=\"form-group automatic opinion-field-{{this.code}}\">\n				<label class=\"control-label\">{{afFieldLabelText name=this.code}}</label>\n\n				{{> instanceSignText name=this.code}}\n			</div>\n		</div>\n	{{else}}\n		{{#if includes this.type 'section,table'}}\n			<div class=\"col-md-12 field-{{this.code}}\">\n				{{> afFormGroup name=this.code label=false}}\n			</div>\n		{{else}}\n			<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			{{> afFormGroup name=this.code}}\n			</div>\n		{{/if}}\n	{{/if}}\n{{/each}}\n<div class=\"col-md-12\">\n	<div class=\"applicant-wrapper form-group form-horizontal\">\n	<div class=\"input-group\">\n		<div class=\"input-group-addon\">\n		  {{_t \"instance_initiator\"}}&nbsp;:\n		</div>\n		{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n	  </div>\n	</div>\n</div>";
    return template;
  },
  table: function (instance) {
    return TemplateManager.handleTableTemplate(instance);
  }
};
TemplateManager._templateHelps = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control',
        style: 'padding:6px 12px;width:140px;display:inline'
      }
    };
    data.atts.disabled = true;
    return data;
  }
};
({
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = formId;
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  }
});

TemplateManager.getTemplate = function (instance, templateName) {
  var flow, form;
  flow = db.flows.findOne(instance.flow);
  form = db.forms.findOne(instance.form);

  if (templateName) {
    if (templateName === 'table') {
      return TemplateManager._template.table(instance);
    }

    return TemplateManager._template["default"](instance);
  }

  if (typeof Session !== "undefined" && Session !== null ? Session.get("instancePrint") : void 0) {
    if (flow != null ? flow.print_template : void 0) {
      return "<div class='instance-template'>" + flow.print_template + "</div>";
    } else {
      if (flow != null ? flow.instance_template : void 0) {
        return "<div class='instance-template'>" + flow.instance_template + "</div>";
      } else {
        return TemplateManager._template.table(instance);
      }
    }
  } else {
    if (Steedos.isMobile()) {
      return TemplateManager._template["default"](instance);
    }

    if (flow != null ? flow.instance_template : void 0) {
      return "<div class='instance-template'>" + flow.instance_template + "</div>";
    }

    if (form != null ? form.instance_style : void 0) {
      if (form.instance_style === 'table') {
        return TemplateManager._template.table(instance);
      }

      return TemplateManager._template["default"](instance);
    } else {
      return TemplateManager._template["default"](instance);
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"coreform":{"inputTypes":{"coreform-table":{"steedos-table.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/coreform/inputTypes/coreform-table/steedos-table.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
SteedosTable = {};
SteedosTable.formId = "instanceform";

SteedosTable.checkItem = function (field, item_index) {
  var fieldObj = SteedosTable.getField(field);
  var fieldVal = SteedosTable.getItemModalValue(field, item_index);
  var sf_name = '';
  var rev = true;
  fieldObj.sfields.forEach(function (sf) {
    if (sf.permission == 'editable') {
      sf_name = fieldObj.code + "." + sf.code;

      if (!InstanceManager.checkFormFieldValue($("[name='" + sf_name + "']")[0])) {
        rev = false;
      }
    }
  });
  return rev;
};

SteedosTable.setTableItemValue = function (field, item_index, item_value) {
  var tableValue = SteedosTable.getTableValue(field);
  tableValue[item_index] = item_value;
};

SteedosTable.getTableItemValue = function (field, item_index) {
  return SteedosTable.getTableValue(field)[item_index];
};

SteedosTable.removeTableItem = function (field, item_index) {
  var item_value = SteedosTable.getTableItemValue(field, item_index);
  item_value.removed = true;
};

SteedosTable.setTableValue = function (field, value) {
  $("table[name='" + field + "']").val({
    val: value
  });
};

SteedosTable.getTableValue = function (field) {
  return $("table[name='" + field + "']").val().val;
};

SteedosTable.getValidValue = function (field) {
  var value = SteedosTable.getTableValue(field);

  if (!value) {
    return;
  }

  var validValue = [];
  value.forEach(function (v) {
    if (!v.removed) {
      validValue.push(v);
    }
  });
  return validValue;
};

SteedosTable.handleData = function (field, values) {
  if (!values || !(values instanceof Array)) {
    return values;
  }

  var fieldObj = SteedosTable.getField(field);
  values.forEach(function (v) {
    fieldObj.sfields.forEach(function (f) {
      if (f.type == 'user' || f.type == 'group') {
        var value = v[f.code];

        if (f.is_multiselect) {
          if (value && value.length > 0 && typeof value[0] == 'object') {
            v[f.code] = v[f.code].getProperty("id");
          }
        } else {
          if (value && typeof value == 'object') {
            v[f.code] = v[f.code].id;
          }
        }
      } else if (f.type == 'dateTime') {
        var value = v[f.code];

        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
            v[f.code] = value;
          }
        }
      }
    });
  });
  return values;
};

SteedosTable.getField = function (field) {
  var instanceFields = WorkflowManager.getInstanceFields();
  if (!instanceFields) return;
  var fieldObj = instanceFields.findPropertyByPK("code", field);
  return fieldObj;
};

SteedosTable.getModalData = function (field, index) {
  var data = {};
  var fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return;
  }

  data.field = fieldObj;
  data.field.formula = Form_formula.getFormulaFieldVariable("Form_formula.field_values", fieldObj.sfields);
  data.value = {};
  data.value[field] = SteedosTable.getTableItemValue(field, index);
  data.index = index;
  return data;
};

SteedosTable.getItemModalValue = function (field, item_index) {
  if (!AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index)) {
    return {};
  }

  var item_value = AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index).insertDoc[field];
  return item_value;
};

SteedosTable.addItem = function (field, index, _item_value) {
  var keys = SteedosTable.getKeys(field);

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  $("tbody[name='" + field + "Tbody']").append(SteedosTable.getTr(keys, item_value, index, field, true));
};

SteedosTable.updateItem = function (field, index, _item_value) {
  var item = $("tr[name='" + field + "_item_" + index + "']");

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  if (item && item.length > 0) {
    var keys = SteedosTable.getKeys(field);
    var tds = SteedosTable.getRemoveTd(field, index);
    var sfields = SteedosTable.getField(field).sfields;
    keys.forEach(function (key) {
      var sfield = sfields.findPropertyByPK("code", key);
      var value = item_value[key];
      tds = tds + SteedosTable.getTd(sfield, index, value);
    });
    item.empty();
    item.append(tds);
  } else {
    SteedosTable.addItem(field, index);
  }

  if (SteedosTable.getTableValue(field)) {
    SteedosTable.setTableItemValue(field, index, item_value); //SteedosTable.valueHash[field][index] = item_value;
  } else {
    //SteedosTable.valueHash[field] = [item_value];
    SteedosTable.setTableValue(field, [item_value]);
  } //执行主表公式计算


  InstanceManager.runFormula(field);
};

SteedosTable.removeItem = function (field, index) {
  $("tr[name='" + field + "_item_" + index + "']").hide();
  SteedosTable.removeTableItem(field, index);
  InstanceManager.runFormula(field);
};

SteedosTable.showModal = function (field, index, method) {
  var modalData = SteedosTable.getModalData(field, index);
  modalData.method = method;
  Modal.show("steedosTableModal", modalData);
};

SteedosTable.getKeys = function (field) {
  if (!AutoForm.getCurrentDataForForm(SteedosTable.formId)) {
    return [];
  }

  var ss = AutoForm.getFormSchema(SteedosTable.formId);
  var keys = [];

  if (ss.schema(field + ".$").type === Object) {
    keys = ss.objectKeys(SimpleSchema._makeGeneric(field) + '.$');
  }

  return keys;
};

SteedosTable.getThead = function (field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return '';
  }

  var thead = '',
      trs = '',
      label = '',
      width = 100;

  if (editable) {
    // trs = "<th class='removed'></th>"
    trs = "";
  }

  var sfields = fieldObj.sfields;

  if (!sfields) {
    return thead;
  }

  var sf_length = sfields.length;

  if (sf_length > 0) {
    var wide_fields = sfields.filterProperty("is_wide", true);
    width = 100 / (sf_length + wide_fields.length);
  }

  sfields.forEach(function (sf, index) {
    label = sf.name != null && sf.name.length > 0 ? sf.name : sf.code;
    trs = trs + "<td "; // nowrap='nowrap'

    trs = trs + " class='title " + sf.type + "'";

    if (index != sf_length - 1) {
      if (sf.is_wide) {
        trs = trs + "style='width:" + width * 2 + "%'";
      } else {
        trs = trs + "style='width:" + width + "%'";
      }
    }

    trs = trs + ">" + label + "</td>";
  });
  thead = '<tr>' + trs + '</tr>';
  return thead;
};

SteedosTable.getTbody = function (keys, field, values, editable) {
  var tbody = "";

  if (values instanceof Array) {
    values.forEach(function (value, index) {
      tbody = tbody + SteedosTable.getTr(keys, value, index, field, editable);
    });
  }

  return tbody;
};

SteedosTable.getTr = function (keys, item_value, index, field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);
  var tr = "<tr id='" + fieldObj.code + "_item_" + index + "' name='" + fieldObj.code + "_item_" + index + "' data-index='" + index + "'";

  if (editable) {
    tr = tr + "' class='item edit'";
  } else {
    if (Steedos.isMobile()) {
      tr = tr + " class='item item-readonly'";
    } else {
      tr = tr + " class='item '";
    }
  }

  if (item_value.removed) {
    tr = tr + " style='display:none' ";
  }

  tr = tr + "'>";
  var tds = "";

  if (editable) {
    tds = SteedosTable.getRemoveTd(fieldObj.code, index);
  }

  var sfields = fieldObj.sfields;
  keys.forEach(function (key) {
    var sfield = sfields.findPropertyByPK("code", key);
    var value = item_value[key];
    tds = tds + SteedosTable.getTd(sfield, index, value);
  });
  tr = tr + tds + "</tr>";
  return tr;
};

SteedosTable.getRemoveTd = function (field, index) {
  // return "<td class='steedosTable-item-remove removed' data-index='" + index + "'><i class='fa fa-times' aria-hidden='true'></td>";
  return "";
};

SteedosTable.getTd = function (field, index, value) {
  var td = "<td ";
  td = td + " class='steedosTable-item-field " + field.type + "' ";
  var td_value = "";

  if (Meteor.isClient) {
    td_value = SteedosTable.getTDValue(field, value);
  } else {
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    td_value = InstanceReadOnlyTemplate.getValue(value, field, locale, utcOffset);
  }

  td = td + " data-index='" + index + "'>" + td_value + "</td>";
  return td;
};

SteedosTable.getTDValue = function (field, value) {
  var td_value = "";

  if (!field) {
    return td_value;
  }

  try {
    switch (field.type) {
      case 'user':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaSpaceUsers(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var u = CFDataManager.getFormulaSpaceUsers(value);
              td_value = u ? u.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'group':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaOrganizations(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var o = CFDataManager.getFormulaOrganization(value);
              td_value = o ? o.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'checkbox':
        if (value === true || value == 'true') {
          td_value = TAPi18n.__("form_field_checkbox_yes");
        } else {
          td_value = TAPi18n.__("form_field_checkbox_no");
        }

        break;

      case 'email':
        td_value = value ? "<a href='mailto:" + value + "'>" + value + "</a>" : "";
        break;

      case 'url':
        if (value) {
          if (value.indexOf("http") == 0) {
            try {
              td_value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
            } catch (e) {
              td_value = "<a href='' target='_blank'>" + value + "</a>";
            }
          } else {
            td_value = "<a href='http://" + encodeURI(value) + "' target='_blank'>http://" + value + "</a>";
          }
        } else {
          td_value = "";
        }

        break;

      case 'password':
        td_value = '******';
        break;

      case 'date':
        if (value) {
          if (value.length == 10) {
            var t = value.split("-");
            year = t[0];
            month = t[1];
            date = t[2];
            value = new Date(year, month - 1, date);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd');
        }

        break;

      case 'dateTime':
        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd HH:mm');
        }

        break;

      case 'number':
        if (value || value == 0) {
          if (typeof value == 'string') {
            value = parseFloat(value);
          }

          td_value = value.toFixed(field.digits);
          td_value = Steedos.numberToString(td_value);
        }

        break;

      case 'odata':
        if (value) {
          if (field.is_multiselect) {
            td_value = _.pluck(value, '@label').toString();
          } else {
            td_value = value['@label'];
          }
        }

        break;

      default:
        td_value = value ? value : '';
        break;
    }
  } catch (e) {
    e;
    return '';
  }

  return td_value;
};

if (Meteor.isClient) {
  AutoForm.addInputType("table", {
    template: "afTable",
    valueOut: function () {
      var name = this.data("schemaKey");
      return SteedosTable.getValidValue(name);
    },
    valueConverters: {
      "stringArray": AutoForm.valueConverters.stringToStringArray,
      "number": AutoForm.valueConverters.stringToNumber,
      "numerArray": AutoForm.valueConverters.stringToNumberArray,
      "boolean": AutoForm.valueConverters.stringToBoolean,
      "booleanArray": AutoForm.valueConverters.stringToBooleanArray,
      "date": AutoForm.valueConverters.stringToDate,
      "dateArray": AutoForm.valueConverters.stringToDateArray
    },
    contextAdjust: function (context) {
      if (typeof context.atts.maxlength === 'undefined' && typeof context.max === 'number') {
        context.atts.maxlength = context.max;
      }

      return context;
    }
  });
  Template.afTable.events({
    'tap .steedos-table .steedosTable-item-add,.add-item-tr': function (event, template) {
      var name = template.data.name;
      var tableValue = SteedosTable.getTableValue(name);
      var new_item_index = tableValue ? tableValue.length : 0;
      SteedosTable.showModal(name, new_item_index, "add");
    },
    'tap .steedos-table .steedosTable-item-field': function (event, template) {
      if (template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "edit");
      }
    },
    'tap .steedos-table .steedosTable-item-remove': function (event, template) {
      var field = template.data.name;
      var item_index = event.currentTarget.dataset.index;
      Session.set("instance_change", true);
      SteedosTable.removeItem(field, item_index);
    },
    'tap .steedos-table .item-readonly': function (event, template) {
      if (!template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "read");
      }
    }
  });

  Template.afTable.rendered = function () {
    var field = this.data.name;
    var keys = SteedosTable.getKeys(field);
    var validValue = SteedosTable.handleData(field, this.data.value);
    SteedosTable.setTableValue(field, validValue);
    $("thead[name='" + field + "Thead']").html(SteedosTable.getThead(field, this.data.atts.editable));
    $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), this.data.atts.editable));
    str = t("steedos_table_add_item");
    addItemTr = "<tr class='add-item-tr'><td colspan='" + keys.length + "'><i class='ion ion-plus-round'></i>" + str + "</td></tr>";

    if (this.data.atts.editable) {
      $("tfoot[name='" + field + "Tfoot']").append(addItemTr);
    }
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"views":{"instance":{"_image_sign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_image_sign.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
ImageSign.helpers = {
  spaceUserSign: function (userId) {
    var space, spaceUserSign;
    space = "";

    if (Meteor.isServer) {
      space = Template.instance().view.template.steedosData.space;
    } else {
      space = Session.get("spaceId");
    }

    spaceUserSign = db.space_user_signs.findOne({
      space: space,
      user: userId
    });
    return spaceUserSign;
  },
  imageURL: function (userId) {
    var absolute, spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(userId);
    absolute = false;

    if (Meteor.isServer) {
      absolute = Template.instance().view.template.steedosData.absolute;
    }

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      if (absolute) {
        return Meteor.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      } else {
        return Steedos.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_form.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_form.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceformTemplate.helpers = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: steedos_instance.applicant_name
    };

    if (!steedos_instance || steedos_instance.state !== "draft") {
      data.atts.disabled = true;
    }

    return data;
  },
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = "instanceform";
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  empty: function (val) {
    if (val) {
      return false;
    } else {
      return true;
    }
  },
  unempty: function (val) {
    if (val) {
      return true;
    } else {
      return false;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  unequals: function (a, b) {
    return !(a === b);
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  include: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  formatDate: function (date, options) {
    if (!date) {
      return "";
    }

    if (options && typeof options === 'string') {
      options = JSON.parse(options);
    }

    if (!options.format) {
      options = {
        format: "YYYY-MM-DD HH:mm"
      };
    }

    return moment(date).format(options.format);
  },
  traces: function () {
    var flow, instance, locale, ref, ref1, ref2, ref3, steedosData, steps, traces;

    if (Meteor.isServer) {
      steedosData = (ref = Template.instance()) != null ? (ref1 = ref.view) != null ? (ref2 = ref1.template) != null ? ref2.steedosData : void 0 : void 0 : void 0;
      instance = steedosData != null ? steedosData.instance : void 0;
      flow = InstanceReadOnlyTemplate.getFlowVersion(instance);
      locale = steedosData != null ? steedosData.locale : void 0;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      instance = WorkflowManager.getInstance();
      flow = WorkflowManager.getInstanceFlowVersion();
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (!instance || !flow) {
      return {};
    }

    steps = flow.steps;
    traces = {};

    if ((ref3 = instance.traces) != null) {
      ref3.forEach(function (trace) {
        var approves, ref4, step;
        step = steps.findPropertyByPK("_id", trace.step);
        approves = [];

        if ((ref4 = trace.approves) != null) {
          ref4.forEach(function (approve) {
            var judge_name;

            if (trace.is_finished === true) {
              if (approve.judge === 'approved') {
                judge_name = TAPi18n.__("Instance State approved", {}, locale);
              } else if (approve.judge === 'rejected') {
                judge_name = TAPi18n.__("Instance State rejected", {}, locale);
              } else if (approve.judge === 'terminated') {
                judge_name = TAPi18n.__("Instance State terminated", {}, locale);
              } else if (approve.judge === 'reassigned') {
                judge_name = TAPi18n.__("Instance State reassigned", {}, locale);
              } else if (approve.judge === 'relocated') {
                judge_name = TAPi18n.__("Instance State relocated", {}, locale);
              } else if (approve.judge === '') {
                judge_name = "";
              } else {
                judge_name = "";
              }
            } else {
              judge_name = TAPi18n.__("Instance State pending", {}, locale);
            }

            return approves.push({
              _id: approve._id,
              handler: approve.user,
              handler_name: approve.handler_name,
              handler_organization_name: approve.handler_organization_name,
              handler_organization_fullname: approve.handler_organization_fullname,
              finish_date: approve.finish_date,
              judge: approve.judge,
              judge_name: judge_name,
              description: approve.description,
              is_finished: approve.is_finished,
              type: approve.type,
              opinion_fields_code: approve.opinion_fields_code,
              sign_field_code: approve.sign_field_code,
              is_read: approve.is_read,
              sign_show: approve.sign_show
            });
          });
        }

        if (step) {
          if (step.name in traces) {
            return traces[step.name] = traces[step.name].concat(approves);
          } else {
            return traces[step.name] = approves;
          }
        }
      });
    }

    return traces;
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  },
  table_fields: function (instance) {
    var fields, form_version;

    if (Meteor.isClient) {
      form_version = WorkflowManager.getInstanceFormVersion();
    } else {
      form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
    }

    if (form_version) {
      fields = _.clone(form_version.fields);
      fields.forEach(function (field, index) {
        var after_field, before_field, pre_fields, pre_wide_fields, td_colspan, tr_end, tr_start;
        field.tr_start = "";
        field.tr_end = "";
        td_colspan = 1;

        if ((typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) === field.code) {
          field.is_wide = true;
        }

        if (field.formula && field.type !== 'odata') {
          field.permission = "readonly";
        }

        if (Steedos.isMobile()) {
          if (field.type === 'section' || field.type === 'table') {
            field.td_colspan = 4;
          } else {
            field.td_colspan = 3;
          }

          if (index !== 0) {
            field.tr_start = "<tr>";
            return field.tr_end = "</tr>";
          }
        } else {
          pre_fields = fields.slice(0, index);
          pre_wide_fields = pre_fields.filterProperty("is_wide", true);
          tr_start = "";
          tr_end = "";
          before_field = null;
          after_field = null;

          if (index > 0) {
            before_field = fields[index - 1];
          }

          if (index < fields.length - 1) {
            after_field = fields[index + 1];
          }

          if (field.type === 'section' || field.type === 'table') {
            td_colspan = 4;
          } else if (field.is_wide) {
            td_colspan = 3;
          } else {
            if (before_field && after_field && before_field.is_wide && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field === null) {
              field.is_wide = true;
              td_colspan = 3;
            }
          }

          field.td_colspan = td_colspan;

          if (index === 0) {
            tr_start = "<tr>";
          } else {
            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 || field.is_wide) {
              if (field.type === 'table') {
                tr_start = "<tr class = \"tr-child-table\">";
              } else {
                tr_start = "<tr>";
              }
            }
          }

          field.tr_start = tr_start;

          if (index + 1 === fields.length || field.type === 'section' || field.type === 'table' || field.is_wide) {
            tr_end = "</tr>";
          }

          if ((pre_fields.length + pre_wide_fields.length) % 2 !== 0) {
            tr_end = "</tr>";
          }

          return field.tr_end = tr_end;
        }
      });
      return fields;
    }
  },
  sort_approve: function (approves, order) {
    if (!approves) {
      return [];
    }

    if (!approves instanceof Array) {
      return [];
    } else {
      if (order === 'desc') {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p2 - _p1;
        });
      } else {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p1 - _p2;
        });
      }
    }

    return approves;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  getField: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;

    if (form_version) {
      return form_version.fields.findPropertyByPK("code", code);
    }
  },
  getValue: function (code) {
    var form_version, instance, locale, utcOffset, values;
    instance = Template.instance().view.template.steedosData.instance;
    form_version = Template.instance().view.template.steedosData.form_version;
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    values = instance.values || {};

    if (Meteor.isClient) {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    return InstanceReadOnlyTemplate.getValue(values[code], form_version.fields.findPropertyByPK("code", code), locale, utcOffset);
  },
  getLabel: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, code);
  },
  getCfClass: function (field) {
    if ((field != null ? field.type : void 0) === "input" && (field != null ? field.is_textarea : void 0)) {
      return "cfTextarea";
    }
  },
  getTableThead: function (field) {
    return SteedosTable.getThead(field, false);
  },
  getTableBody: function (field) {
    var instance, tableValue, values;

    if (Meteor.isServer) {
      instance = Template.instance().view.template.steedosData.instance;
      values = instance.values || {};
    } else {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    tableValue = values[field.code];
    return SteedosTable.getTbody(field.sfields.getProperty("code"), field, tableValue, false);
  },
  showLabel: function (field) {
    var templateData;
    templateData = Template.instance().data;

    if (templateData.label === false) {
      return false;
    }

    return true;
  },
  isOpinionField: function (field) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field.formula);
  },
  isOpinionField_from_string: function (field_formula) {
    return InstanceSignText.isOpinionField_from_string(field_formula);
  },
  includesOpinionField: function (form, form_version) {
    var field_formulas, fields, ref;
    field_formulas = new Array();
    fields = ((ref = db.form_versions.findOne({
      _id: form_version,
      form: form
    })) != null ? ref.fields : void 0) || [];
    fields.forEach(function (f) {
      var ref1;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref1 = f.fields) != null ? ref1.forEach(function (f1) {
          return field_formulas.push(f1.formula);
        }) : void 0 : void 0;
      } else {
        return field_formulas.push(f.formula);
      }
    });
    return _.some(field_formulas, function (field_formula) {
      return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
    });
  },
  getOpinionFieldStepsName: function (field_formula, top_keywords) {
    var foo1, opinionFields;
    opinionFields = new Array();

    if (InstanceformTemplate.helpers.isOpinionField_from_string(field_formula)) {
      if (field_formula) {
        foo1 = field_formula.split(";");
        foo1.forEach(function (foo) {
          var json_formula, ref, ref1, s1, sf;
          json_formula = {};

          try {
            json_formula = eval("(" + foo + ")");
          } catch (error1) {
            json_formula = {};
          }

          if (json_formula != null ? json_formula.yijianlan : void 0) {
            sf = {};
            sf.stepName = json_formula.yijianlan.step;
            sf.image_sign = json_formula.yijianlan.image_sign || false;
            sf.only_cc_opinion = json_formula.yijianlan.only_cc || false;
            sf.default_description = json_formula.yijianlan["default"];
            sf.only_handler = json_formula.yijianlan.only_handler;
            sf.top_keywords = json_formula.yijianlan.top_keywords || top_keywords;
            return opinionFields.push(sf);
          } else if ((field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1) {
            sf = {
              only_cc_opinion: false,
              image_sign: false,
              top_keywords: top_keywords
            };

            if (foo.indexOf("{signature.") > -1) {
              sf.image_sign = true;
              foo = foo.replace("{signature.", "");
            }

            s1 = foo.replace("{", "").replace("}", "");

            if (s1.split(".").length > 1) {
              sf.stepName = s1.split(".")[1];

              if (opinionFields.filterProperty("stepName", sf.stepName).length > 0) {
                if ((ref = opinionFields.findPropertyByPK("stepName", sf.stepName)) != null) {
                  ref.only_cc_opinion = true;
                }
              } else {
                if (s1.split(".").length > 2) {
                  if (((ref1 = s1.split(".")[2]) != null ? ref1.toLocaleLowerCase() : void 0) === 'cc') {
                    sf.only_cc_opinion = true;
                  }
                }
              }
            }

            return opinionFields.push(sf);
          }
        });
      }
    }

    return opinionFields;
  },
  showCCOpinion: function (field) {
    var ref, ref1, ref2, s1;

    if (((ref = field.formula) != null ? ref.indexOf("{traces.") : void 0) > -1 || ((ref1 = field.formula) != null ? ref1.indexOf("{signature.traces.") : void 0) > -1) {
      s1 = field.formula.replace("{signature.", "").replace("{", "").replace("}", "");

      if (s1.split(".").length > 2) {
        if (((ref2 = s1.split(".")[2]) != null ? ref2.toLocaleLowerCase() : void 0) === 'cc') {
          return true;
        }
      }
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  f_label: function (that) {
    return that.name || that.code;
  }
};

if (Meteor.isServer) {
  InstanceformTemplate.helpers.steedos_form = function () {
    return this.form_version;
  };

  InstanceformTemplate.helpers.isSection = function (code) {
    var form_version;
    form_version = this.form_version;
    return form_version.fields.findPropertyByPK("code", code).type === 'section';
  };

  InstanceformTemplate.helpers.doc_values = function () {
    var instance;
    instance = this.instance;
    return instance.values;
  };

  InstanceformTemplate.helpers.applicantContext = function () {
    var data, instance;
    instance = this.instance;
    return data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: instance.applicant_name
    };
  };

  InstanceformTemplate.helpers.instance = function () {
    return this.instance;
  };

  InstanceformTemplate.helpers.fields = function () {
    var form_version;
    form_version = this.form_version;

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  };

  InstanceformTemplate.helpers.form_types = function () {
    return "disabled";
  };

  Template.registerHelper("afFieldLabelText", function (op) {
    var form_version, ref;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, op != null ? (ref = op.hash) != null ? ref.name : void 0 : void 0);
  });

  InstanceformTemplate.helpers._t = function (key) {
    var locale;
    locale = this.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceformTemplate.helpers.ins_attach_download_url = function (_id, absolute) {
    if (absolute) {
      return Meteor.absoluteUrl("/api/files/instances/" + _id + "?download=true");
    } else {
      return "/api/files/instances/" + _id + "?download=true";
    }
  };

  InstanceformTemplate.helpers.options = function (field) {
    var options, ref, rev;
    options = field != null ? (ref = field.options) != null ? ref.split("\n") : void 0 : void 0;
    rev = [];

    if (options != null) {
      options.forEach(function (item) {
        return rev.push({
          label: item,
          value: item
        });
      });
    }

    return rev;
  };

  InstanceformTemplate.helpers.getPermissions = function (code) {
    var ref;

    if (!((ref = Template.instance().view.template.steedosData.startStepEditableFields) != null ? ref.includes(code) : void 0)) {
      return "readonly disabled";
    }

    return "";
  };
}

InstanceformTemplate.events = {
  'change .form-control,.checkbox input,.af-radio-group input,.af-checkbox-group input': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'typeahead:change .form-control': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'click .cfTextarea a': function (event) {
    event.preventDefault();
    return Steedos.openWindow(event.target.href);
  }
};

InstanceformTemplate.onCreated = function () {
  var compiled, e, instance, instanceCustomTemplate, instanceView, renderFunction, template;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  template = TemplateManager.getTemplate(instance);

  try {
    compiled = SpacebarsCompiler.compile(template, {
      isBody: true
    });
  } catch (error1) {
    e = error1;
    console.log("Instance Template Error", e);
    compiled = SpacebarsCompiler.compile("", {
      isBody: true
    });
  }

  renderFunction = eval(compiled);
  instanceView = new Blaze.View("custom_instance_template", renderFunction);
  instanceCustomTemplate = new Blaze.Template(instanceView.name, renderFunction);
  Template.instance_custom_template = instanceCustomTemplate;
  return Template.instance_custom_template.helpers(InstanceformTemplate.helpers);
};

InstanceformTemplate.onRendered = function () {
  var currentApprove, currentStep, form_version, formula_fields, instance, instanceNumberFields, judge, ref;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  if ((ref = $("input[name='ins_applicant']")[0]) != null) {
    ref.dataset.values = instance.applicant;
  }

  $("input[name='ins_applicant']").val(instance.applicant_name);
  ApproveManager.error = {
    nextSteps: '',
    nextStepUsers: ''
  };

  if (Session.get("box") === 'inbox' || Session.get("box") === 'draft') {
    InstanceEvent.initEvents(instance.flow);
  }

  if (!ApproveManager.isReadOnly()) {
    currentApprove = InstanceManager.getCurrentApprove();
    instanceNumberFields = $("[data-formula]", $("#instanceform"));
    instanceNumberFields.each(function () {
      var element, schemaKey;
      schemaKey = this.dataset.schemaKey;
      element = $(this);

      if (!$(this).val() && schemaKey && Session.get("instanceId")) {
        return Meteor.call('getInstanceValues', Session.get("instanceId"), function (error, result) {
          var key, ref1;

          if (error) {
            toastr.error(error.reason);
          }

          if (!result[schemaKey]) {
            key = (ref1 = element.data("formula")) != null ? ref1.replace("auto_number(", "").replace(")", "") : void 0;
            key = key.replace(/\"/g, "").replace(/\'/g, "");

            if (key.indexOf("{") > -1) {
              key = key.replace("{", "").replace("}", "");
              key = key.trim();
              key = AutoForm.getFieldValue(key, 'instanceform');
            }

            return InstanceNumberRules.instanceNumberBuilder(element, key);
          } else {
            return element != null ? element.val(result[schemaKey]).trigger("change") : void 0;
          }
        });
      }
    });
    judge = currentApprove.judge;
    currentStep = InstanceManager.getCurrentStep();
    form_version = WorkflowManager.getInstanceFormVersion();
    formula_fields = Form_formula.getFormulaFieldVariable("Form_formula.field_values", form_version.fields);
    Form_formula.run("", "", formula_fields, AutoForm.getFormValues("instanceform").insertDoc, form_version.fields);
    return Session.set("instance_form_values", {
      instanceId: instance._id,
      values: AutoForm.getFormValues("instanceform").insertDoc
    });
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_attachments.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_attachments.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
InstanceAttachmentTemplate.helpers = {
  showMainTitle: function () {
    return Template.instance().workflowMainAttachTitle.get();
  },
  enabled_add_main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    var current_step = InstanceManager.getCurrentStep();
    if (!current_step) return false; // 分发的正文或者附件不显示转为pdf按钮
    // 如果有正文权限则为正文，否则分发为附件
    // 分发的附件不允许修改 删除 新增版本

    var main_attach_count = cfs.instances.find({
      'metadata.instance': ins._id,
      'metadata.current': true,
      'metadata.main': true
    }).count();
    var distribute_main_attach_count = 0;

    if (ins.distribute_from_instance) {
      var start_step = InstanceManager.getStartStep();

      if (start_step.can_edit_main_attach) {
        var distribute_main_attach_count = cfs.instances.find({
          'metadata.instance': ins.distribute_from_instance,
          'metadata.current': true,
          'metadata.main': true
        }).count();
      }
    }

    if (current_step.can_edit_main_attach == true && main_attach_count < 1 && distribute_main_attach_count < 1) {
      return true;
    } // 正文最多只能有一个


    if (main_attach_count >= 1 || distribute_main_attach_count >= 1) {
      return false;
    } // 开始节点并且设置了可以上传正文才显示上传正文的按钮


    var current_step = InstanceManager.getCurrentStep();
    if (current_step && current_step.step_type == "start" && current_step.can_edit_main_attach == true) return true;
    return false;
  },
  enabled_edit_normal_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;
    var flow = WorkflowManager.getFlow(ins.flow);
    if (!flow) return false; // 分发后的 附件，不可以编辑/删除，也不让上传新的附件, 流程列表：添加属性 ‘被分发后是否允许上传附件’ #1837

    if (ins.distribute_from_instance && !flow.upload_after_being_distributed) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    if (InstanceManager.isCC(ins)) {
      var step = InstanceManager.getCCStep();
      if (step && (step.can_edit_normal_attach == true || step.can_edit_normal_attach == undefined)) return true;
    } else {
      var current_step = InstanceManager.getCurrentStep();
      if (current_step && (current_step.can_edit_normal_attach == true || current_step.can_edit_normal_attach == undefined)) return true;
    }

    return false;
  },
  main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var start_step = InstanceManager.getStartStep(); // 如果是被分发的申请单并且有修改正文的权限，则优先显示原申请单文件

    var main_attach = null;

    if (ins.distribute_from_instance && start_step.can_edit_main_attach == true) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins.distribute_from_instance,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    if (!main_attach) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins._id,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    return main_attach;
  },
  normal_attachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var selector = {
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      }
    };
    var atts = new Array();

    if (ins.distribute_from_instance) {
      // 如果是被分发的申请单，则显示原申请单文件, 如果选择了将原表单存储为附件也要显示, 同时也要显示新上传的附件
      var dfis = _.clone(ins.distribute_from_instances) || [];
      dfis.push(ins._id);
      selector['metadata.instance'] = {
        $in: dfis
      };
      selector["$or"] = [{
        "metadata.instance": ins._id
      }, {
        "metadata.instance": {
          $in: ins.distribute_from_instances
        },
        "metadata.is_private": {
          $ne: true
        }
      }]; // 如果原申请单有正文但是分发后没有正文权限，则原申请单正文显示在附件栏

      var start_step = InstanceManager.getStartStep();

      if (start_step && start_step.can_edit_main_attach != true) {
        var distribute_main = cfs.instances.findOne({
          'metadata.instance': {
            $in: ins.distribute_from_instances
          },
          'metadata.current': true,
          'metadata.main': true
        });

        if (distribute_main) {
          var firstVersionMain = cfs.instances.findOne(distribute_main.metadata.parent);
          distribute_main.attachmentUploadedAt = firstVersionMain ? firstVersionMain.uploadedAt : distribute_main.uploadedAt;
          atts.push(distribute_main);
        }
      }
    } else {
      selector['metadata.instance'] = ins._id;
    }

    cfs.instances.find(selector).forEach(function (c) {
      var firstVersion = cfs.instances.findOne(c.metadata.parent);
      c.attachmentUploadedAt = firstVersion ? firstVersion.uploadedAt : c.uploadedAt;
      atts.push(c);
    });
    return _.sortBy(atts, 'attachmentUploadedAt');
  },
  showAttachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false; // 如果是被分发的申请单，则显示原申请单文件 和分发后申请单文件

    var instanceIds = _.clone(ins.distribute_from_instances) || [];
    instanceIds.push(ins._id);
    var attachments_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).count();
    if (Session && Session.get("instancePrint") && attachments_count < 1) return false;
    if (Session.get("box") == "draft" || Session.get("box") == "inbox" || attachments_count > 0) return true;else return false;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  _: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  }
};

if (Meteor.isServer) {
  InstanceAttachmentTemplate.helpers._t = function (key) {
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceAttachmentTemplate.helpers.enabled_add_main_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.enabled_edit_normal_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.main_attachment = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var attachment = cfs.instances.findOne({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    });
    return attachment;
  };

  InstanceAttachmentTemplate.helpers.normal_attachments = function () {
    var steedosData = Template.instance().view.template.steedosData;
    var instance = steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      },
      $or: [{
        'metadata.is_private': {
          $ne: true
        }
      }, {
        'metadata.is_private': true,
        "metadata.owner": steedosData.userId
      }]
    }).fetch();
    return attachments;
  };

  InstanceAttachmentTemplate.helpers.showAttachments = function () {
    var instance = Template.instance().view.template.steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).fetch();

    if (attachments && attachments.length > 0) {
      return true;
    }

    return false;
  };

  InstanceAttachmentTemplate.helpers.showMainTitle = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var main_attach_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    }).count();
    return main_attach_count > 0;
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_sign_text.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_sign_text.coffee                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceSignText.helpers = {
  show: function (stepName) {
    var instance, myApprove, myTrace, ref;

    if (Meteor.isClient) {
      if (Session.get('instancePrint')) {
        return false;
      }

      if (InstanceManager.isInbox()) {
        myApprove = InstanceManager.getCurrentApprove();

        if (myApprove) {
          instance = WorkflowManager.getInstance();
          myTrace = instance != null ? (ref = instance.traces) != null ? ref.findPropertyByPK("_id", myApprove.trace) : void 0 : void 0;
          return (myTrace != null ? myTrace.name : void 0) === stepName;
        }
      }
    }

    return false;
  },
  defaultDescription: function () {
    return Template.instance().data.default_description;
  },
  traces: function () {
    return InstanceformTemplate.helpers.traces();
  },
  trace: function (stepName, only_cc_opinion, image_sign, top_keywords) {
    var approve_sort, approves, approvesGroup, approves_sorted, completed_date, hasNext, haveDescriptionApprove, instance, is_completed, ref, ref1, ref2, traces;
    instance = InstanceformTemplate.helpers.instance();
    is_completed = (instance != null ? instance.state : void 0) === "completed";
    completed_date = is_completed ? (ref = _.last(instance.traces)) != null ? (ref1 = ref.finish_date) != null ? ref1.getTime() : void 0 : void 0 : 0;

    if (is_completed && instance.finish_date) {
      completed_date = (ref2 = instance.finish_date) != null ? ref2.getTime() : void 0;
    }

    traces = InstanceformTemplate.helpers.traces();
    approves = _.clone(traces[stepName]);

    approve_sort = function (approves, top_keywords) {
      var approves_sorted, top_approves;
      approves_sorted = _.sortBy(approves, function (approve) {
        return -(approve.finish_date || new Date()).getTime();
      });

      if (top_keywords) {
        top_approves = new Array();
        top_keywords.split(",").forEach(function (key) {
          return top_approves = _.union(top_approves, _.filter(approves_sorted, function (approve) {
            var ref3;
            return (approve != null ? (ref3 = approve.handler_name) != null ? ref3.indexOf(key) : void 0 : void 0) > -1;
          }));
        });
        top_approves = _.sortBy(top_approves, function (top_approve) {
          return -(top_approve.finish_date || new Date()).getTime();
        });
        approves_sorted = _.union(top_approves, approves_sorted);
      }

      return approves_sorted || [];
    };

    approves = _.filter(approves, function (a) {
      return a.type !== "forward" && a.type !== "distribute" && a.type !== "terminated";
    });

    if (only_cc_opinion) {
      approves = approves != null ? approves.filterProperty("type", "cc") : void 0;
    }

    approves_sorted = approve_sort(approves, top_keywords);
    approvesGroup = _.groupBy(approves, "handler");

    hasNext = function (approve, approvesGroup) {
      var handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      return _.indexOf(handlerApproves, approve) + 1 < handlerApproves.length;
    };

    haveDescriptionApprove = function (approve, approvesGroup) {
      var descriptionApproves, handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      descriptionApproves = _.filter(handlerApproves, function (a) {
        if (a.description) {
          return true;
        }

        return false;
      });

      if (descriptionApproves.length === 0) {
        return false;
      }

      return true;
    };

    approves_sorted.forEach(function (approve) {
      if (approve.sign_show !== false && (approve.description || !approve.description && !hasNext(approve, approvesGroup))) {
        if (approve.judge !== 'terminated') {
          return approve._display = true;
        }
      }
    });
    approves_sorted = _.filter(approves_sorted, function (a) {
      var ref3;

      if (is_completed) {
        return a._display === true && a.is_finished && ((ref3 = a.finish_date) != null ? ref3.getTime() : void 0) <= completed_date;
      } else {
        return a._display === true;
      }
    });
    return approves_sorted;
  },
  include: function (a, b) {
    return InstanceformTemplate.helpers.include(a, b);
  },
  unempty: function (val) {
    return InstanceformTemplate.helpers.unempty(val);
  },
  formatDate: function (date, options) {
    if (!options) {
      options = {
        "format": "YYYY-MM-DD"
      };
    }

    return InstanceformTemplate.helpers.formatDate(date, options);
  },
  isMyApprove: function (approve, only_cc_opinion) {
    var currentApprove, ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
      currentApprove = InstanceManager.getCurrentApprove();

      if (!(approve != null ? approve._id : void 0)) {
        approve = currentApprove;
      }

      if (approve._id === (currentApprove != null ? currentApprove._id : void 0) && (currentApprove != null ? currentApprove.type : void 0) === 'cc' && Template.instance().data.name) {
        if (_.indexOf(currentApprove != null ? currentApprove.opinion_fields_code : void 0, Template.instance().data.name) > -1) {
          return true;
        } else {
          return false;
        }
      }

      if (!((currentApprove != null ? currentApprove.type : void 0) === 'cc') && only_cc_opinion) {
        return false;
      }

      if (currentApprove && approve._id === currentApprove._id) {
        return true;
      }
    }

    return false;
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1, ref2, ref3;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!myApprove.sign_field_code || myApprove.sign_field_code === ((ref2 = Template.instance()) != null ? (ref3 = ref2.data) != null ? ref3.name : void 0 : void 0)) {
            if (!Session.get("instance_my_approve_description")) {
              return (myApprove != null ? myApprove.description : void 0) || "";
            }

            return Session.get("instance_my_approve_description");
          }
        }
      }
    }
  },
  now: function () {
    return new Date();
  },
  isReadOnly: function () {
    if (Meteor.isClient) {
      return ApproveManager.isReadOnly();
    }

    return false;
  },
  isOpinionOfField: function (approve) {
    if (approve.type === "cc" && Template.instance().data.name) {
      if (Template.instance().data.name === approve.sign_field_code) {
        return true;
      } else {
        return false;
      }
    } else {
      return true;
    }
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  steps: function (field_formula, step, only_cc_opinion, image_sign) {
    var ref, ref1, ref2, steps;
    steps = [];

    if (!step) {
      if (!field_formula) {
        field_formula = (ref = WorkflowManager.getInstanceFormVersion()) != null ? (ref1 = ref.fields) != null ? ref1.findPropertyByPK("code", this.name).formula : void 0 : void 0;
      }

      steps = InstanceformTemplate.helpers.getOpinionFieldStepsName(field_formula, (ref2 = Template.instance()) != null ? ref2.data.top_keywords : void 0);
    } else {
      steps = [{
        stepName: step,
        only_cc_opinion: only_cc_opinion,
        image_sign: image_sign
      }];
    }

    return steps;
  },
  imageSignData: function (handler) {
    return {
      user: handler
    };
  },
  showSignImage: function (handler, image_sign) {
    var spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if ((spaceUserSign != null ? spaceUserSign.sign : void 0) && image_sign) {
      return true;
    } else {
      return false;
    }
  },
  getLastSignApprove: function () {
    var ins;
    ins = WorkflowManager.getInstance();
    return _.last(TracesManager.getHandlerSignShowApproves(ins, Meteor.userId()));
  },
  lastMyApproveDescription: function () {
    var approves, currentStep, ref, traces;
    traces = InstanceformTemplate.helpers.traces();
    currentStep = InstanceManager.getCurrentStep();
    approves = _.clone(traces[currentStep.name]);
    approves = approves.filterProperty("handler", Meteor.userId());

    if (approves.length > 1) {
      return (ref = approves[approves.length - 2]) != null ? ref.description : void 0;
    }

    return "";
  },
  showApprove: function (approve) {
    var ref, ref1;

    if (!approve.sign_field_code || approve.sign_field_code === ((ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0)) {
      if (approve != null ? approve.is_read : void 0) {
        if (approve.is_finished) {
          return ["approved", "rejected", "submitted", "readed"].includes(approve.judge);
        } else {
          return true;
        }
      }
    }

    return false;
  },
  judge_description: function (judge) {
    return t(judge + "_description");
  },
  is_approved: function (judge) {
    return "approved" === judge;
  },
  is_rejected: function (judge) {
    return "rejected" === judge;
  },
  is_readed: function (judge) {
    return ["approved", "rejected", "submitted", "readed"].includes(judge);
  },
  addClass: function () {
    var name, ref, ref1;
    name = (ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0;
    setTimeout(function () {
      var e, element;

      try {
        element = $(".automatic.opinion-field-" + name);

        if (element.length > 0) {
          if (element != null ? element.is("td") : void 0) {
            return element.addClass('field-editable');
          } else {
            return $(".instance-sign", element).addClass('field-editable');
          }
        }
      } catch (error) {
        e = error;
        return console.log(e);
      }
    }, 1);
    return '';
  }
};

if (Meteor.isServer) {
  InstanceSignText.helpers.defaultDescription = function () {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return Template.instance().data.default_description || TAPi18n.__("instance_default_opinion", {}, locale);
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_help.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_help.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesTemplate.helpers = {
  equals: function (a, b) {
    return a === b;
  },
  empty: function (a) {
    if (a) {
      return a.toString().trim().length < 1;
    } else {
      return true;
    }
  },
  unempty: function (a) {
    if (a) {
      return a.toString().trim().length > 0;
    } else {
      return false;
    }
  },
  append: function (a, b) {
    return a + b;
  },
  dateFormat: function (date) {
    if (Steedos.isMobile() && (date != null ? date.getFullYear() : void 0) === new Date().getFullYear()) {
      return $.format.date(new Date(date), "MM-dd HH:mm");
    } else {
      return $.format.date(new Date(date), "yyyy-MM-dd HH:mm");
    }
  },
  getStepName: function (stepId) {
    var step;
    step = WorkflowManager.getInstanceStep(stepId);

    if (step) {
      return step.name;
    }

    return null;
  },
  showDeleteButton: function (approved) {
    if (approved && approved.type === 'cc' && approved.from_user === Meteor.userId() && approved.is_finished !== true && !Session.get("instancePrint")) {
      return true;
    }

    return false;
  },
  isShowModificationButton: function (approved) {
    var approve_admins, isShow, ref, ref1, ref2;
    approve_admins = (ref = Meteor.settings) != null ? (ref1 = ref["public"]) != null ? (ref2 = ref1.workflow) != null ? ref2.approve_admins : void 0 : void 0 : void 0;

    if (approve_admins != null ? approve_admins.length : void 0) {
      isShow = approve_admins != null ? approve_admins.contains(Meteor.userId()) : void 0;
    }

    if (!isShow) {
      return false;
    }

    return approved.handler === Meteor.userId();
  },
  isEditing: function () {
    var ref;
    return (ref = Template.instance().is_editing) != null ? ref.get() : void 0;
  },
  isShowDescription: function (approved) {
    var ref;

    if (TracesTemplate.helpers.isShowModificationButton(approved)) {
      return true;
    }

    return ((ref = approved.description) != null ? ref.toString().trim().length : void 0) > 0;
  },
  isCC: function (approved) {
    if (approved && approved.type === 'cc') {
      return true;
    }

    return false;
  },
  getApproveStatusIcon: function (approveJudge) {
    var approveStatusIcon;
    approveStatusIcon = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusIcon = 'ion ion-checkmark-round';
        break;

      case 'rejected':
        approveStatusIcon = 'ion ion-close-round';
        break;

      case 'terminated':
        approveStatusIcon = 'fa fa-ban';
        break;

      case 'reassigned':
        approveStatusIcon = 'ion ion-android-contact';
        break;

      case 'relocated':
        approveStatusIcon = 'ion ion-arrow-shrink';
        break;

      case 'retrieved':
        approveStatusIcon = 'fa fa-undo';
        break;

      default:
        approveStatusIcon = '';
        break;
    }

    return approveStatusIcon;
  },
  getApproveStatusText: function (approveJudge) {
    var approveStatusText, locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    approveStatusText = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusText = TAPi18n.__('Instance State approved', {}, locale);
        break;

      case 'rejected':
        approveStatusText = TAPi18n.__('Instance State rejected', {}, locale);
        break;

      case 'terminated':
        approveStatusText = TAPi18n.__('Instance State terminated', {}, locale);
        break;

      case 'reassigned':
        approveStatusText = TAPi18n.__('Instance State reassigned', {}, locale);
        break;

      case 'relocated':
        approveStatusText = TAPi18n.__('Instance State relocated', {}, locale);
        break;

      case 'retrieved':
        approveStatusText = TAPi18n.__('Instance State retrieved', {}, locale);
        break;

      case 'returned':
        approveStatusText = TAPi18n.__('Instance State returned', {}, locale);
        break;

      case 'readed':
        approveStatusText = TAPi18n.__('Instance State readed', {}, locale);
        break;

      default:
        approveStatusText = '';
        break;
    }

    return approveStatusText;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!Session.get("instance_my_approve_description")) {
            return (myApprove != null ? myApprove.description : void 0) || "";
          }

          return Session.get("instance_my_approve_description");
        }
      }
    }
  },
  isForward: function (approved) {
    if (approved && approved.type === 'forward') {
      return true;
    }

    return false;
  },
  showForwardDeleteButton: function (approve) {
    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'forward' && approve.from_user === Meteor.userId() && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      return true;
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  isDistribute: function (approve) {
    if (approve && approve.type === 'distribute') {
      return true;
    }

    return false;
  },
  showDistributeDeleteButton: function (approve) {
    var ins;

    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'distribute' && !Session.get("instancePrint") && approve.judge !== 'terminated' && Steedos.isLegalVersion('', "workflow.enterprise")) {
      ins = db.instances.findOne({
        _id: approve.instance
      }, {
        fields: {
          flow: 1,
          space: 1
        }
      });

      if (ins && ins.flow && ins.space) {
        if (WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, Meteor.userId())) {
          return true;
        }
      }

      if (approve.from_user === Meteor.userId()) {
        return true;
      }
    }

    return false;
  },
  finishDateSchema: function () {
    if (Steedos.isAndroidOrIOS()) {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "datetime-local"
          },
          optional: false,
          type: Date
        }
      });
    } else {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "bootstrap-datetimepicker",
            readonly: true,
            dateTimePickerOptions: {
              format: "YYYY-MM-DD HH:mm",
              ignoreReadonly: true,
              locale: Session.get("TAPi18n::loaded_lang"),
              widgetPositioning: {
                horizontal: 'right'
              }
            }
          },
          optional: false,
          type: Date
        }
      });
    }
  },
  finishDateValues: function () {
    return {
      finish_date: this.finish_date
    };
  },
  /*
     	此函数用于控制是否显示traces view
     	true: 显示traces view,签核历程按钮点击后是直接定位到traces view
     	false: 不显示traces view，签核历程按钮点击后,以Modal 方式显示traces view
   */showTracesView: function (form, form_version) {
    var ref, show_modal_traces_list;
    show_modal_traces_list = ((ref = db.space_settings.findOne({
      space: Session.get("spaceId"),
      key: "show_modal_traces_list"
    })) != null ? ref.values : void 0) || false;
    return !show_modal_traces_list;
  },
  getInstanceStateText: function (instance_id) {
    var ins, locale, text;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return TAPi18n.__('instance_deleted', {}, locale);
    }

    text = '';

    if (ins.state === 'completed') {
      text = TAPi18n.__('completed', {}, locale);
    } else if (ins.state === 'pending') {
      text = TAPi18n.__('pending', {}, locale);
    } else if (ins.state === 'draft') {
      if (ins.is_read) {
        text = TAPi18n.__('instance_approve_read', {}, locale);
      } else {
        text = TAPi18n.__('instance_approve_not_yet_handled', {}, locale);
      }
    }

    return text;
  },
  getInstanceStateColor: function (instance_id) {
    var cla, ins;
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return "";
    }

    cla = '';

    if (ins.state === 'draft') {
      if (ins.is_read) {
        cla = 'blue';
      } else {
        cla = 'red';
      }
    }

    return cla;
  },
  firstTrace: function (index) {
    return index === 0;
  },
  last_distribute_from: function (instance_id) {
    var dis_info, ins, user;
    ins = db.instances.findOne({
      _id: instance_id,
      distribute_from_instance: {
        $exists: true
      }
    }, {
      fields: {
        created: 1,
        created_by: 1
      }
    });

    if (ins) {
      dis_info = {};
      user = {};

      if (Meteor.isClient) {
        user = UUflow_api.getNameForUser(ins.created_by);
      } else if (Meteor.isServer) {
        user = db.users.findOne({
          _id: ins.created_by
        }, {
          fields: {
            name: 1
          }
        });
      }

      if (user.name) {
        dis_info.from_user_name = user.name;
        dis_info.created = ins.created;
      }

      if (!_.isEmpty(dis_info)) {
        return dis_info;
      }
    }
  },
  isCCOrDistributeOrForwardTerminated: function (approve) {
    if ((approve.type === 'cc' || approve.type === 'distribute' || approve.type === 'forward') && approve.judge === 'terminated') {
      return true;
    }

    return false;
  },
  judgeTerminated: function (judge) {
    return judge === 'terminated';
  },
  instanceExists: function (instance_id) {
    return !!db.instances.find(instance_id).count();
  },
  agentDescription: function (userName) {
    var locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    return TAPi18n.__('process_delegation_rules_description', {
      userName: userName
    }, locale);
  },
  traceName: function (instance_id, traceId) {
    var ref, ref1;
    return (ref = _.find((ref1 = db.instances.findOne(instance_id, {
      fields: {
        traces: 1
      }
    })) != null ? ref1.traces : void 0, function (trace) {
      return trace._id === traceId;
    })) != null ? ref.name : void 0;
  }
};

if (Meteor.isServer) {
  TracesTemplate.helpers.dateFormat = function (date) {
    var utcOffset;

    if (date) {
      utcOffset = Template.instance().view.template.steedosData.utcOffset;
      return InstanceReadOnlyTemplate.formatDate(date, utcOffset);
    }
  };

  TracesTemplate.helpers._t = function (key) {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  TracesTemplate.helpers.showDeleteButton = function (approved) {
    return false;
  };
}

TracesTemplate.events = {
  'click .cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    event.stopPropagation();

    if (event.currentTarget.dataset.calling * 1 !== 1) {
      event.currentTarget.dataset.calling = 1;
      $("i", event.currentTarget).addClass("fa-spin");
      instanceId = Session.get('instanceId');
      approveId = event.target.dataset.approve;
      $("body").addClass("loading");
      Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
        $("body").removeClass("loading");

        if (err) {
          toastr.error(err);
          event.currentTarget.dataset.calling = 0;
          $("i", event.currentTarget).removeClass("fa-spin");
        }

        if (result === true) {
          toastr.success(TAPi18n.__("remove_cc_approve"));

          if ($(".instance-trace-detail-modal").length) {
            Modal.hide("instance_trace_detail_modal");
          }
        }
      });
    }
  },
  'click .instance-trace-detail-modal .btn-cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    $("body").addClass("loading");
    Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(err);
      }

      if (result === true) {
        toastr.success(TAPi18n.__("remove_cc_approve"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .approve-item,.approve-description': function (event, template) {
    return Modal.show("instance_trace_detail_modal", this);
  },
  'taphold .approve-item,.approve-description': function (event, template) {
    return Modal.show("instance_trace_detail_modal", this);
  },
  'tapend .approve-item,.approve-description': function (event, template) {
    event.stopPropagation();
    event.preventDefault();
    return false;
  },
  'click .instance-trace-detail-modal .btn-forward-approve-remove': function (event, template) {
    var approveId, instanceId, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    $("body").addClass("loading");
    Meteor.call('forward_remove', instanceId, traceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(TAPi18n.__("instance_approve_forward_remove_success"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-forward-instance-look': function (event, template) {
    var forward_instance, forward_space;
    forward_space = event.target.dataset.forwardspace;
    forward_instance = event.target.dataset.forwardinstance;
    return Steedos.openWindow(Steedos.absoluteUrl("workflow/space/" + forward_space + "/view/readonly/" + forward_instance));
  },
  'click .btn-modification': function (event, template) {
    template.is_editing.set(!template.is_editing.get());

    if (!Steedos.isAndroidOrIOS()) {
      return Tracker.afterFlush(function () {
        return $("#instance_trace_detail_modal #finish_input").on("dp.show", function () {
          return $(".modal-body").scrollTop(100);
        });
      });
    }
  },
  'click .btn-cancelBut': function (event, template) {
    return template.is_editing.set(!template.is_editing.get());
  },
  'click .btn-saveBut': function (event, template) {
    var approveId, finish_input, instanceId, opinion_input, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    opinion_input = $('#opinion_input').val();
    finish_input = AutoForm.getFieldValue("finish_date", "finishDateAutoForm");
    $("body").addClass("loading");
    return Meteor.call('change_approve_info', instanceId, traceId, approveId, opinion_input, finish_input, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(t("instance_approve_modal_modificationsave"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-distribute-approve-remove': function (event, template) {
    Modal.allowMultiple = true;
    return Modal.show('cancel_distribute_modal');
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_instances.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedInstances.helpers = {
  showRelatedInstaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      if (db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).count() > 0) {
        return true;
      }

      return false;
    } else {
      return false;
    }
  },
  related_instaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      return db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).fetch();
    }
  },
  related_instace_url: function (ins) {
    var absolute;

    if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
      return '';
    }

    absolute = false;

    if (Meteor.isServer) {
      absolute = this.absolute;
    }

    if (absolute) {
      return Meteor.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    } else {
      return Steedos.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    }
  },
  _t: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  show_delete: function () {
    var current_step;

    if (!Meteor.isClient) {
      return false;
    } else {
      if (Session.get("box") === "draft" || Session.get("box") === 'inbox') {
        current_step = InstanceManager.getCurrentStep();

        if (current_step) {
          if (current_step.can_edit_main_attach || current_step.can_edit_normal_attach === true || current_step.can_edit_normal_attach === void 0) {
            return true;
          }
        }
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_records.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_records.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedRecords.helpers = {
  showRelatedRecords: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if (!ins) {
      return false;
    }

    return !_.isEmpty(ins.record_ids);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"server":{"methods":{"set_instance_step_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/set_instance_step_approve.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_instance_step_approve: function (ins_id, step_approve) {
    var ins;

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        state: 1
      }
    });

    if (ins.state !== 'draft') {
      return;
    }

    return db.instances.update({
      _id: ins_id
    }, {
      $set: {
        step_approve: step_approve
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_instance_data.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/get_instance_data.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  get_instance_data: function (instance_id, formCached, flowCached) {
    check(instance_id, String);
    check(formCached, Boolean);
    check(flowCached, Boolean);
    var instance = db.instances.findOne(instance_id);
    if (!instance) return {
      instance: null
    };
    if (formCached && flowCached) return {
      instance: instance
    };

    if (!formCached) {
      var form = db.forms.findOne(instance.form);
      var form_version = {};

      if (form.current._id == instance.form_version) {
        form_version = form.current;
      } else {
        form_version = _.where(form.historys, {
          _id: instance.form_version
        })[0];
      }
    }

    if (!flowCached) {
      var flow = db.flows.findOne(instance.flow);
      var flow_version = {};

      if (flow.current._id == instance.flow_version) {
        flow_version = flow.current;
      } else {
        flow_version = _.where(flow.historys, {
          _id: instance.flow_version
        })[0];
      }
    }

    return {
      instance: instance,
      form_version: form_version,
      flow_version: flow_version
    };
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"save_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/save_instance.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  draft_save_instance: function (ins) {
    if (!this.userId) return;
    var result = true;
    var setObj = {};
    var index = 0;
    var ins_id = ins._id;
    var trace_id = ins.traces[0]._id;
    var approve_id = ins.traces[0].approves[0]._id;
    var description = ins.traces[0].approves[0].description;
    var next_steps = ins.traces[0].approves[0].next_steps;
    var values = ins.traces[0].approves[0].values || {};
    var applicant_id = ins.applicant;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        applicant: 1,
        state: 1,
        submitter: 1,
        traces: 1,
        form: 1,
        flow_version: 1,
        space: 1,
        flow: 1
      }
    });
    var space_id = instance.space;
    var flow_id = instance.flow;
    var form_id = instance.form;
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.'; // 判断一个instance是否为拟稿状态

    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';
    uuflowManager.isInstanceDraft(instance, lang); // 判断一个用户是否是一个instance的提交者

    uuflowManager.isInstanceSubmitter(instance, this.userId);
    var flow = db.flows.findOne(flow_id, {
      fields: {
        "current._id": 1,
        "current.form_version": 1,
        "name": 1,
        "current.steps": 1
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (flow.current._id != instance.flow_version) {
      result = "upgraded";

      var start_step = _.find(flow.current.steps, function (s) {
        return s.step_type == "start";
      }); // 流程已升级


      setObj.flow_version = flow.current._id;
      setObj.form_version = flow.current.form_version; // 存入当前最新版flow中开始节点的step_id

      setObj["traces.$.step"] = start_step._id;
      setObj["traces.$.name"] = start_step.name;
    }

    if (instance.applicant != applicant_id) {
      // 申请人已变换
      var user = db.users.findOne(applicant_id, {
        fields: {
          name: 1
        }
      });
      var applicant = db.space_users.find({
        space: space_id,
        user: applicant_id
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = applicant.fetch()[0].organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      setObj.applicant = applicant_id;
      setObj.applicant_name = user.name;
      setObj.applicant_organization = org_id;
      setObj.applicant_organization_name = organization.name;
      setObj.applicant_organization_fullname = organization.fullname;
      setObj[key_str + 'user'] = applicant_id;
      setObj[key_str + 'user_name'] = user.name;
    }

    setObj[key_str + 'values'] = values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'judge'] = 'submitted';
    setObj[key_str + 'read_date'] = new Date();

    if (result != "upgraded" && next_steps) {
      setObj[key_str + 'next_steps'] = next_steps;
    } // 计算申请单标题


    var form = db.forms.findOne({
      _id: form_id
    }, {
      fields: {
        "current.name_forumla": 1
      }
    });
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      // var iscript = name_forumla.replace(/\{/g, "(values['").replace(/\}/g, "'] || '')");
      // var rev = eval(iscript);
      setObj.name = uuflowManager.getInstanceName(ins, values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return result;
  },
  inbox_save_instance: function (approve) {
    if (!this.userId) return;
    var setObj = {};
    var index = 0;
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve.id;
    var values = approve.values;
    var next_steps = approve.next_steps;
    var description = approve.description;
    var judge = approve.judge;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        flow_version: 1,
        flow: 1,
        state: 1,
        form: 1,
        form_version: 1,
        values: 1,
        code: 1
      }
    });
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    var current_approve = _.find(current_trace.approves, function (a) {
      return a._id == approve_id;
    }); // 判断一个instance是否为审核中状态


    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';

    try {
      uuflowManager.isInstancePending(instance, lang); // 判断一个trace是否为未完成状态

      uuflowManager.isTraceNotFinished(current_trace); // 判断一个approve是否为未完成状态

      uuflowManager.isApproveNotFinished(current_approve); // 判断当前用户是否approve 对应的处理人或代理人

      uuflowManager.isHandlerOrAgent(current_approve, this.userId);
    } catch (e) {
      console.log(e.stack);
      return true;
    }

    var flow_version = instance.flow_version;
    var flow_id = instance.flow;
    var step_id = "";
    step_id = current_trace.step;
    var flow = db.flows.findOne(flow_id, {
      fields: {
        current: 1,
        historys: 1
      }
    });
    var step = null;

    if (flow.current._id == flow_version) {
      flow.current.steps.forEach(function (s) {
        if (s._id == step_id) step = s;
      });
    } else {
      flow.historys.forEach(function (h) {
        h.steps.forEach(function (s) {
          if (s._id == step_id) step = s;
        });
      });
    }

    if (!step) return false;
    var step_type = step.step_type;
    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.';
    var permissions_values = uuflowManager.getApproveValues(approve.values, step.permissions, instance.form, instance.form_version);
    var change_values = approveManager.getChangeValues(instance.values, permissions_values);
    setObj.values = _.extend(instance.values || {}, permissions_values);

    if (!_.isEmpty(change_values)) {
      values_history = current_approve.values_history || [];
      values_history.push({
        values: change_values,
        create: new Date()
      });
      setObj[key_str + 'values_history'] = values_history;
    }

    setObj[key_str + 'is_read'] = true;
    setObj[key_str + 'read_date'] = new Date();
    setObj[key_str + 'values'] = setObj.values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'next_steps'] = next_steps;

    if (step_type == "submit" || step_type == "start") {
      setObj[key_str + 'judge'] = "submitted";
    } else {
      setObj[key_str + 'judge'] = judge;
    }

    setObj.modified = new Date();
    setObj.modified_by = this.userId; // 计算申请单标题

    var form = db.forms.findOne(instance.form);
    var form_v = uuflowManager.getFormVersion(form, instance.form_version);
    var name_forumla = form_v.name_forumla;

    if (name_forumla) {
      setObj.name = uuflowManager.getInstanceName(instance, setObj.values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"trace_approve_cc.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/trace_approve_cc.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // ??? 能否传阅给当前步骤处理人 如果当前步骤是会签。
  cc_do: function (approve, cc_user_ids, description) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve._id;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        space: 1,
        traces: 1,
        cc_users: 1,
        values: 1
      }
    });
    var current_user_id = this.userId;
    var space_id = instance.space;
    var new_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    cc_user_ids.forEach(function (userId, idx) {
      var user = db.users.findOne(userId, {
        fields: {
          name: 1
        }
      });
      var space_user = db.space_users.findOne({
        space: space_id,
        user: userId
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = space_user.organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var agent = uuflowManager.getAgent(space_id, userId);
      var handler_id = userId;
      var handler_info = user;
      var handler_space_user = space_user;
      var handler_org_info = organization;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent, {
          fileds: {
            name: 1
          }
        });
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
        cc_user_ids[idx] = agent;
      }

      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': ins_id,
        'trace': trace_id,
        'is_finished': false,
        'user': userId,
        'user_name': user.name,
        'handler': handler_id,
        'handler_name': handler_info.name,
        'handler_organization': handler_space_user.organization,
        'handler_organization_name': handler_org_info.name,
        'handler_organization_fullname': handler_org_info.fullname,
        'type': 'cc',
        'start_date': new Date(),
        'is_read': false,
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'opinion_fields_code': approve.opinion_fields_code,
        'sign_field_code': approve.opinion_fields_code && approve.opinion_fields_code.length == 1 ? approve.opinion_fields_code[0] : "",
        'from_approve_id': approve_id,
        'cc_description': description
      };

      if (agent) {
        appr.agent = agent;
      }

      uuflowManager.setRemindInfo(instance.values, appr);
      new_approves.push(appr);
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj,
      $addToSet: {
        'traces.$.approves': {
          $each: new_approves
        }
      },
      $push: {
        cc_users: {
          $each: cc_user_ids
        }
      }
    });
    instance = db.instances.findOne(ins_id);
    current_user_info = db.users.findOne(current_user_id);
    pushManager.send_instance_notification("trace_approve_cc", instance, "", current_user_info, cc_user_ids);
    flow_id = instance.flow;
    approve.cc_user_ids = cc_user_ids; // 记录下本次传阅的人员ID作为hook接口中的参数
    // 如果已经配置webhook并已激活则触发

    pushManager.triggerWebhook(flow_id, instance, approve, 'cc_do', current_user_id, cc_user_ids);
    return true;
  },
  cc_read: function (approve) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var current_user_id = this.userId;

    var current_trace = _.find(instance.traces, function (t) {
      return t._id == trace_id;
    });

    var index = 0;
    current_trace.approves.forEach(function (a, idx) {
      if (a.type == 'cc' && a.handler == current_user_id && !a.is_read) {
        index = idx;
      }
    });
    setObj['traces.$.approves.' + index + '.is_read'] = true;
    setObj['traces.$.approves.' + index + '.read_date'] = new Date();
    setObj.traces = traces;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj
    });
    return true;
  },
  cc_submit: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        cc_users: 1,
        outbox_users: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.type == 'cc' && a.handler == current_user_id && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.is_finished'] = true;
            upobj['traces.$.approves.' + idx + '.is_read'] = true;
            upobj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.cost_time'] = new Date() - a.start_date;
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });

    if (current_approve) {
      var index = 0; //设置意见，意见只添加到最后一条approve中

      traces.forEach(function (t) {
        if (current_approve && t._id === current_approve.trace) {
          if (t.approves) {
            t.approves.forEach(function (a, idx) {
              if (a._id === current_approve._id) {
                a.description = description;
                index = idx;
              }
            });
          }
        }
      });
      setObj.modified = new Date();
      setObj.modified_by = this.userId;
      setObj['traces.$.approves.' + index + '.description'] = description;
      db.instances.update({
        _id: ins_id,
        'traces._id': current_approve.trace
      }, {
        $set: setObj,
        $pull: {
          cc_users: current_user_id
        },
        $addToSet: {
          outbox_users: {
            $each: [current_user_id, current_approve.user]
          }
        }
      });
      instance = db.instances.findOne(ins_id);
      current_user_info = db.users.findOne(current_user_id); //传阅提交不通知传阅者

      if (false && description && current_approve && current_approve.from_user) {
        pushManager.send_instance_notification("trace_approve_cc_submit", instance, "", current_user_info, [current_approve.from_user]);
      }

      pushManager.send_message_to_specifyUser("current_user", current_user_id);
      flow_id = instance.flow; // 如果已经配置webhook并已激活则触发

      pushManager.triggerWebhook(flow_id, instance, current_approve, 'cc_submit', current_user_id, []);
    }

    return true;
  },
  cc_remove: function (instanceId, approveId) {
    var setObj = {};
    var instance = db.instances.findOne(instanceId, {
      fields: {
        traces: 1,
        cc_users: 1
      }
    });
    var traces = instance.traces;
    var trace_id,
        remove_user_id,
        multi = false;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a._id == approveId) {
            trace_id = a.trace;
            remove_user_id = a.handler;
            setObj['traces.$.approves.' + idx + '.judge'] = 'terminated';
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.read_date'] = new Date();
          }
        });
      }
    });
    if (!trace_id || !remove_user_id) return;
    var multi = 0;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a) {
          if (a.handler == remove_user_id && a.type == 'cc' && a.is_finished == false) {
            multi++;
          }
        });
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (multi > 1) {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj
      });
    } else {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj,
        $pull: {
          cc_users: remove_user_id
        }
      });
    }

    pushManager.send_message_to_specifyUser("current_user", remove_user_id);
    return true;
  },
  cc_save: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.handler == current_user_id && a.type == 'cc' && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.read_date'] = new Date();
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });
    var index = 0; //设置意见，意见只添加到最后一条approve中

    traces.forEach(function (t) {
      if (current_approve && t._id === current_approve.trace) {
        if (t.approves) {
          t.approves.forEach(function (a, idx) {
            if (a._id === current_approve._id) {
              index = idx;
            }
          });
        }
      }
    });
    setObj['traces.$.approves.' + index + '.description'] = description;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_approve.trace
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forward_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/forward_instance.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // 改为通过api调用
  forward_instance: function (instance_id, space_id, flow_id, hasSaveInstanceToAttachment, description, isForwardAttachments, selectedUsers, action_type, related, from_approve_id) {
    if (!this.userId) throw new Meteor.Error('not-authorized');
    return;
  },
  forward_remove: function (instance_id, trace_id, approve_id) {
    check(instance_id, String);
    check(trace_id, String);
    check(approve_id, String);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var trace = _.find(ins.traces, function (t) {
      return t._id == trace_id;
    });

    var approve = _.find(trace.approves, function (appr) {
      return appr._id == approve_id;
    });

    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, this.userId);

    if (!approve || !['forward', 'distribute'].includes(approve.type) || !approve.forward_instance) {
      if (!hasAdminPermission) {
        if (approve.from_user != this.userId) throw new Meteor.Error('error!', 'instance_forward_cannot_cancel');
      }
    }

    var forward_instance_id = approve.forward_instance;
    var forward_instance = db.instances.findOne(forward_instance_id);

    if (forward_instance) {
      if (forward_instance.state != "draft") {
        if (!hasAdminPermission) throw new Meteor.Error('error!', 'instance_forward_instance_state_changed');
      }

      var inbox_users = forward_instance.inbox_users || [];
      forward_instance.deleted = new Date();
      forward_instance.deleted_by = this.userId;
      var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

      if (deleted_forward_instance_id) {
        db.instances.remove({
          _id: forward_instance_id
        }); // 删除申请单后重新计算inbox_users的badge

        _.each(inbox_users, function (u_id) {
          pushManager.send_message_to_specifyUser("current_user", u_id);
        });
      }
    }

    var set_obj = new Object();
    set_obj.modified = new Date();
    set_obj.modified_by = this.userId;

    _.each(trace.approves, function (appr, idx) {
      if (appr._id == approve_id) {
        set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
        set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
        set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
        set_obj['traces.$.approves.' + idx + '.is_read'] = true;
        set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
      }
    });

    db.instances.update({
      _id: instance_id,
      "traces._id": trace_id
    }, {
      $set: set_obj
    });
    return true;
  },
  cancelDistribute: function (instance_id, approve_ids) {
    check(instance_id, String);
    check(approve_ids, Array);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    userId = this.userId;
    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, userId);

    _.each(ins.traces, function (t) {
      if (t.approves) {
        var exists = false;
        var set_obj = new Object();

        _.each(t.approves, function (a, idx) {
          if (approve_ids.includes(a._id) && (a.from_user == userId || hasAdminPermission) && 'distribute' == a.type && a.forward_instance) {
            var forward_instance_id = a.forward_instance;
            var forward_instance = db.instances.findOne(forward_instance_id);

            if (forward_instance) {
              if (forward_instance.state != "draft") {
                return;
              }

              var inbox_users = forward_instance.inbox_users || [];
              forward_instance.deleted = new Date();
              forward_instance.deleted_by = userId;
              var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

              if (deleted_forward_instance_id) {
                db.instances.remove({
                  _id: forward_instance_id
                }); // 删除申请单后重新计算inbox_users的badge

                _.each(inbox_users, function (u_id) {
                  pushManager.send_message_to_specifyUser("current_user", u_id);
                });
              }

              set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
              set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
              set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
              set_obj['traces.$.approves.' + idx + '.is_read'] = true;
              set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
            }

            exists = true;
          }
        });

        if (!exists) return;
        set_obj.modified = new Date();
        set_obj.modified_by = userId;
        db.instances.update({
          _id: instance_id,
          "traces._id": t._id
        }, {
          $set: set_obj
        });
      }
    });

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.js":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/cfs_instances.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cfs_instances_remove: function (file_id) {
    check(file_id, String);
    cfs.instances.remove(file_id);
    return true;
  },
  cfs_instances_set_current: function (file_id) {
    check(file_id, String);
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.current': true
      }
    });
    return true;
  },
  cfs_instances_lock: function (file_id, user_id, user_name) {
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.locked_by': user_id,
        'metadata.locked_by_name': user_name,
        'metadata.locked_time': new Date()
      }
    });
    return true;
  },
  cfs_instances_unlock: function (file_id) {
    cfs.instances.update({
      _id: file_id
    }, {
      $unset: {
        'metadata.locked_by': '',
        'metadata.locked_by_name': '',
        'metadata.locked_time': ''
      }
    });
    return true;
  },
  download_space_instance_attachments_to_disk: function (spaceId, cfsRecordIds) {
    if (!this.userId) return "不符合执行条件";
    if (Meteor.users.find({
      _id: this.userId,
      is_cloudadmin: true
    }).count() < 1) return "不符合执行条件";
    check(spaceId, String);
    var store = "instances";

    var fs = require('fs');

    var path = require('path');

    var mkdirp = require('mkdirp');

    var pathname = path.join(__meteor_bootstrap__.serverDir, '../../../cfs/spaceInstanceAttachments'); // Set absolute path

    var absolutePath = path.resolve(pathname); // Ensure the path exists

    mkdirp.sync(absolutePath);
    console.log('absolutePath: ', absolutePath);
    console.time('download_space_instance_attachments_to_disk');
    var query = {
      'metadata.space': spaceId
    };

    if (cfsRecordIds) {
      query._id = {
        $in: cfsRecordIds
      };
    }

    var downloadFailedRecordIds = [];
    cfs.instances.find(query).forEach(function (c) {
      try {
        var fileName = store + '-' + c._id + '-' + c.name();
        var filePath = path.join(absolutePath, fileName);
        Meteor.wrapAsync(function (callback) {
          try {
            var writer = fs.createWriteStream(filePath);
            writer.on('finish', function () {
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            var reader = c.createReadStream(store);
            reader.on('error', function (error) {
              downloadFailedRecordIds.push(c._id);
              console.error('download_space_instance_attachments_to_disk: ', c._id);
              console.error(error.stack);
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            reader.pipe(writer);
          } catch (error) {
            console.error('download_space_instance_attachments_to_disk: ', c._id);
            console.error(error.stack);
            if (callback && _.isFunction(callback)) callback();
            return;
          }
        })();
      } catch (error) {
        console.error('download_space_instance_attachments_to_disk: ', c._id);
        console.error(error.stack);
      }
    });

    if (downloadFailedRecordIds.length > 0) {
      console.error('downloadFailedRecordIds: ');
      console.error(downloadFailedRecordIds);
    }

    console.timeEnd('download_space_instance_attachments_to_disk');
    return downloadFailedRecordIds;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_approve.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_approve_have_read: function (instanceId, traceId, approveId) {
    var instance, ref, self, setObj, trace;

    if (!this.userId) {
      return;
    }

    self = this;
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {
        modified: new Date(),
        modified_by: self.userId
      };
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId && !approve.is_read) {
          setObj["traces.$.approves." + idx + ".is_read"] = true;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  change_approve_info: function (instanceId, traceId, approveId, description, finish_date) {
    var instance, ref, setObj, trace;

    if (!this.userId) {
      return;
    }

    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(description, String);
    check(finish_date, Date);
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          setObj["traces.$.approves." + idx + ".description"] = description;
          setObj["traces.$.approves." + idx + ".finish_date"] = finish_date;
          setObj["traces.$.approves." + idx + ".cost_time"] = new Date() - approve.start_date;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  update_approve_sign: function (instanceId, traceId, approveId, sign_field_code, description, sign_type, lastSignApprove) {
    var instance, lastTrace, ref, session_userId, setObj, trace, upObj;
    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(sign_field_code, String);
    check(description, String);

    if (!this.userId) {
      return;
    }

    session_userId = this.userId;

    if (lastSignApprove) {
      if (lastSignApprove.custom_sign_show) {
        return;
      }

      instance = db.instances.findOne({
        _id: instanceId,
        "traces._id": lastSignApprove.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });
      lastTrace = _.find(instance != null ? instance.traces : void 0, function (t) {
        return t._id = lastSignApprove.trace;
      });

      if (lastTrace) {
        setObj = {};

        if (lastTrace != null) {
          lastTrace.approves.forEach(function (a, idx) {
            if (a._id === lastSignApprove._id) {
              if (sign_type === "update") {
                setObj["traces.$.approves." + idx + ".sign_show"] = false;
                setObj["traces.$.approves." + idx + ".modified"] = new Date();
                return setObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
              }
            }
          });
        }

        if (!_.isEmpty(setObj)) {
          db.instances.update({
            _id: instanceId,
            "traces._id": lastTrace._id
          }, {
            $set: setObj
          });
        }
      }
    }

    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      upObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          if (sign_field_code) {
            upObj["traces.$.approves." + idx + ".sign_field_code"] = sign_field_code;
          }

          upObj["traces.$.approves." + idx + ".description"] = description;
          upObj["traces.$.approves." + idx + ".sign_show"] = true;
          upObj["traces.$.approves." + idx + ".modified"] = new Date();
          upObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
          return upObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(upObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: upObj
        });
      }

      return true;
    }
  },
  update_sign_show: function (objs, myApprove_id) {
    objs.forEach(function (obj, index) {
      var instance, ref, setObj, trace;
      instance = db.instances.findOne({
        _id: obj.instance,
        "traces._id": obj.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });

      if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
        trace = instance.traces[0];
        setObj = {};
        trace.approves.forEach(function (approve, idx) {
          if (approve._id === obj._id) {
            setObj["traces.$.approves." + idx + ".sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".custom_sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }

          if (approve._id === myApprove_id) {
            return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }
        });

        if (!_.isEmpty(setObj)) {
          return db.instances.update({
            _id: obj.instance,
            "traces._id": obj.trace
          }, {
            $set: setObj
          });
        }
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_return.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_return.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_return: function (approve, reason) {
    var approve_values, b, current_step, current_user, current_user_info, flow, ins, instance, instance_id, last_trace, newTrace, new_inbox_users, now, pre_step, pre_trace, r, rest_counter_users, setObj, space_id, traces;
    check(approve, Object);
    current_user = this.userId;
    instance_id = approve.instance;
    ins = uuflowManager.getInstance(instance_id);
    space_id = ins.space;

    if (ins.state !== "pending" || !ins.inbox_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.type === "cc" && ins.cc_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (ins.traces.length < 2) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    flow = uuflowManager.getFlow(ins.flow);
    pre_trace = ins.traces[ins.traces.length - 2];
    pre_step = uuflowManager.getStep(ins, flow, pre_trace.step);

    if (pre_step.step_type === "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    last_trace = _.last(ins.traces);
    current_step = uuflowManager.getStep(ins, flow, last_trace.step);

    if (current_step.step_type !== "submit" && current_step.step_type !== "sign" && current_step.step_type !== "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.trace !== last_trace._id) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    new_inbox_users = new Array();

    _.each(pre_trace.approves, function (a) {
      if ((!a.type || a.type === "draft" || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected")) {
        return new_inbox_users.push(a.user);
      }
    });

    if (_.isEmpty(new_inbox_users)) {
      throw new Meteor.Error('error!', "未找到下一步处理人，退回失败");
    }

    traces = ins.traces;
    approve_values = uuflowManager.getApproveValues(approve.values || {}, current_step.permissions, ins.form, ins.form_version);
    setObj = new Object();
    now = new Date();
    rest_counter_users = new Array();

    _.each(traces, function (t) {
      if (t._id === last_trace._id) {
        if (!t.approves) {
          t.approves = new Array();
        }

        _.each(t.approves, function (a, idx) {
          if ((!a.type || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected" || a.judge === "readed") && a.is_finished !== true) {
            setObj['traces.$.approves.' + idx + '.finish_date'] = now;
            setObj['traces.$.approves.' + idx + '.read_date'] = now;
            setObj['traces.$.approves.' + idx + '.is_error'] = false;
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.cost_time'] = now - a.start_date;
            setObj['traces.$.approves.' + idx + '.values'] = approve_values;

            if (a.handler === current_user) {
              setObj['traces.$.approves.' + idx + '.judge'] = "returned";
              return setObj['traces.$.approves.' + idx + '.description'] = reason;
            } else {
              return rest_counter_users.push(a.handler);
            }
          }
        });

        setObj['traces.$.is_finished'] = true;
        setObj['traces.$.finish_date'] = true;
        return setObj['traces.$.judge'] = "returned";
      }
    });

    ins.values = _.extend(ins.values || {}, approve_values);
    newTrace = new Object();
    newTrace._id = new Mongo.ObjectID()._str;
    newTrace.instance = instance_id;
    newTrace.previous_trace_ids = [last_trace._id];
    newTrace.is_finished = false;
    newTrace.step = pre_trace.step;
    newTrace.name = pre_trace.name;
    newTrace.start_date = now;
    newTrace.due_date = uuflowManager.getDueDate(pre_step.timeout_hours);
    newTrace.approves = [];

    _.each(new_inbox_users, function (next_step_user_id, idx) {
      var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
      newApprove = new Object();
      newApprove._id = new Mongo.ObjectID()._str;
      newApprove.instance = instance_id;
      newApprove.trace = newTrace._id;
      newApprove.is_finished = false;
      newApprove.user = next_step_user_id;
      user_info = db.users.findOne(next_step_user_id, {
        fields: {
          name: 1
        }
      });
      newApprove.user_name = user_info.name;
      handler_id = next_step_user_id;
      handler_info = user_info;
      agent = uuflowManager.getAgent(space_id, next_step_user_id);

      if (agent) {
        new_inbox_users[idx] = agent;
        handler_id = agent;
        handler_info = db.users.findOne({
          _id: agent
        }, {
          fields: {
            name: 1
          }
        });
        newApprove.agent = agent;
      }

      newApprove.handler = handler_id;
      newApprove.handler_name = handler_info.name;
      next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
      next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
      newApprove.handler_organization = next_step_user_org_info["organization"];
      newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
      newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
      newApprove.start_date = now;
      newApprove.is_read = false;
      newApprove.is_error = false;
      newApprove.values = new Object();
      uuflowManager.setRemindInfo(ins.values, newApprove);
      return newTrace.approves.push(newApprove);
    });

    setObj.inbox_users = new_inbox_users;
    setObj.state = "pending";
    ins.outbox_users.push(current_user);
    setObj.outbox_users = _.uniq(ins.outbox_users);
    setObj.modified = now;
    setObj.modified_by = current_user;
    setObj.values = ins.values;
    setObj.current_step_name = pre_trace.name;
    r = db.instances.update({
      _id: instance_id,
      'traces._id': last_trace._id
    }, {
      $set: setObj
    });
    b = db.instances.update({
      _id: instance_id
    }, {
      $push: {
        traces: newTrace
      }
    });

    if (r && b) {
      pushManager.send_message_to_specifyUser("current_user", current_user);
      instance = uuflowManager.getInstance(instance_id);
      current_user_info = db.users.findOne(current_user);
      pushManager.send_instance_notification("return_pending_inbox", instance, reason, current_user_info);

      _.each(rest_counter_users, function (user_id) {
        return pushManager.send_message_to_specifyUser("current_user", user_id);
      });
    }

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_remind.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_remind.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_remind: function (remind_users, remind_count, remind_deadline, instance_id, action_types, trace_id) {
    var current_user_id, ins, last_remind_users, now, priority, trace;
    check(remind_users, Array);
    check(remind_count, Match.OneOf('single', 'multi'));
    check(remind_deadline, Date);
    check(instance_id, String);
    check(action_types, Array);
    check(trace_id, String);
    current_user_id = this.userId;
    last_remind_users = new Array();
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        name: 1,
        traces: 1,
        values: 1,
        space: 1
      }
    });

    if (action_types.includes('admin')) {
      if (remind_count === 'single') {
        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              return last_remind_users.push(ap.user);
            }
          });
        });
      } else if (remind_count === 'multi') {
        now = new Date();
        priority = ins.values.priority;

        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            var caculate_date;

            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              last_remind_users.push(ap.user);
              ap.manual_deadline = remind_deadline;

              if (priority === "普通" || !priority) {} else if (priority === "办文") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "紧急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "特急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              }
            }
          });
        });

        if (!_.isEmpty(last_remind_users)) {
          db.instances.update({
            _id: instance_id
          }, {
            $set: {
              'traces': ins.traces
            }
          });
        }
      }
    } else if (action_types.includes('applicant')) {
      trace = _.find(ins.traces, function (t) {
        return t._id === trace_id;
      });

      _.each(trace.approves, function (ap) {
        if (remind_users.includes(ap.user) && ap.is_finished !== true) {
          return last_remind_users.push(ap.user);
        }
      });
    } else if (action_types.includes('cc')) {
      _.each(ins.traces, function (t) {
        return _.each(t.approves, function (ap) {
          if (remind_users.includes(ap.user) && ap.is_finished !== true && ap.type === 'cc' && ap.from_user === current_user_id) {
            return last_remind_users.push(ap.user);
          }
        });
      });
    }

    uuflowManager.sendRemindSMS(ins.name, remind_deadline, last_remind_users, ins.space, ins._id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"next_step_users_not_found.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/next_step_users_not_found.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  next_step_users_not_found: function (deal_type, step_name, params) {
    var approver_roles, lang, roles, roles_name, str, user;
    check(deal_type, String);
    check(step_name, String);
    check(params, Object);
    str = "";
    user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    lang = 'en';

    if (user.locale === 'zh-cn') {
      lang = 'zh-CN';
    }

    if (deal_type === 'applicantRole') {
      approver_roles = params.approver_roles;
      roles = db.flow_roles.find({
        _id: {
          $in: approver_roles
        }
      }, {
        fields: {
          name: 1
        }
      }).fetch();
      roles_name = _.pluck(roles, 'name').toString();
      str = TAPi18n.__('next_step_users_not_found.applicant_role', {
        step_name: step_name,
        role_name: roles_name
      }, lang);
    }

    return str;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_number_rules.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_number_rules.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval;

_eval = require('eval');
Meteor.methods({
  instanceNumberBuilder: function (spaceId, name) {
    var _NUMBER, _YYYY, context, date, e, numberRules, res, rules, script;

    numberRules = db.instance_number_rules.findOne({
      space: spaceId,
      name: name
    });

    if (!numberRules) {
      throw new Meteor.Error('error!', "" + name);
    }

    date = new Date();
    context = {};
    context._ = _;
    _YYYY = date.getFullYear();
    _NUMBER = (numberRules.number || 0) + 1;
    context.YYYY = _.clone(_YYYY);
    context.MM = date.getMonth() + 1;
    context.mm = date.getMonth() + 1;

    if (context.MM < 10) {
      context.MM = "0" + context.MM;
    }

    context.DD = date.getDate();
    context.dd = date.getDate();

    if (context.DD < 10) {
      context.DD = "0" + context.DD;
    }

    if (context.YYYY !== numberRules.year) {
      _NUMBER = numberRules.first_number || 1;
    }

    context.NUMBER = _.clone(_NUMBER);
    rules = numberRules.rules.replace("{YYYY}", "' + YYYY + '").replace("{MM}", "' + MM + '").replace("{NUMBER}", "' + NUMBER + '");
    script = "var newNo = '" + rules + "'; exports.newNo = newNo";

    try {
      res = _eval(script, "newNo", context, false).newNo;
      db.instance_number_rules.update({
        _id: numberRules._id
      }, {
        $set: {
          year: _YYYY,
          number: _NUMBER
        }
      });
      console.log(this.userId, res);
    } catch (error) {
      e = error;
      res = {
        _error: e
      };
    }

    return res;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"check_main_attach.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/check_main_attach.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  check_main_attach: function (ins_id, name) {
    check(ins_id, String);
    uuflowManager.checkMainAttach(ins_id, name);
    return 'success';
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/related_instances.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  remove_related: function (ins_id, re_ins_id) {
    var index, ins, res, set_obj;
    check(ins_id, String);
    check(re_ins_id, String);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        related_instances: 1
      }
    });

    if (ins) {
      res = ins.related_instances || [];
      index = res.indexOf(re_ins_id);

      if (index > -1) {
        res.remove(index);
      }

      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = res;
      return db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }
  },
  update_instance_related: function (ins_id, related_instances) {
    var ins, set_obj;
    check(ins_id, String);
    check(related_instances, Array);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id,
      $or: [{
        submitter: this.userId
      }, {
        applicant: this.userId
      }, {
        inbox_users: this.userId
      }, {
        cc_users: this.userId
      }]
    }, {
      fields: {
        state: 1
      }
    });

    if (ins) {
      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = related_instances;
      db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }

    return db.instances.find({
      _id: {
        $in: related_instances
      }
    }, {
      fields: {
        _id: 1,
        values: 1
      }
    }).fetch();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"edit_flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/edit_flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  updateFlowPosition: function (data) {
    return db.flow_positions.update({
      _id: data._id
    }, {
      $set: {
        role: data.role,
        users: data.users,
        org: data.org
      }
    });
  },
  updateFlowRole: function (data) {
    console.log(data._id);
    console.log(data.name);
    return db.flow_roles.update({
      _id: data._id
    }, {
      $set: {
        name: data.name
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"start_flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/start_flow.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  start_flow: function (space, flowId, start) {
    var keyValue, start_flows;
    keyValue = db.steedos_keyvalues.findOne({
      space: space,
      user: this.userId,
      key: 'start_flows'
    }, {
      fields: {
        value: 1
      }
    });
    start_flows = (keyValue != null ? keyValue.value : void 0) || [];

    if (start) {
      start_flows.push(flowId);
      start_flows = _.uniq(start_flows);
    } else {
      start_flows.remove(start_flows.indexOf(flowId));
    }

    if (keyValue) {
      return db.steedos_keyvalues.update({
        _id: keyValue._id
      }, {
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    } else {
      return db.steedos_keyvalues.insert({
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_traces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_traces.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  get_instance_traces: function (ins_id) {
    var ins, miniApproveFields;

    if (!this.userId) {
      return;
    }

    miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description'];
    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        "traces._id": 1,
        "traces.is_finished": 1,
        "traces.step": 1,
        "traces.start_date": 1,
        "traces.name": 1,
        "traces.finish_date": 1,
        "traces.judge": 1,
        "traces.approves._id": 1,
        "traces.approves.is_finished": 1,
        "traces.approves.user": 1,
        "traces.approves.handler": 1,
        "traces.approves.handler_name": 1,
        "traces.approves.handler_organization_fullname": 1,
        "traces.approves.type": 1,
        "traces.approves.start_date": 1,
        "traces.approves.description": 1,
        "traces.approves.is_read": 1,
        "traces.approves.judge": 1,
        "traces.approves.finish_date": 1,
        "traces.approves.from_user_name": 1,
        "traces.approves.from_user": 1,
        "traces.approves.cc_description": 1,
        "traces.approves.trace": 1,
        "traces.approves.forward_space": 1,
        "traces.approves.forward_instance": 1
      }
    });

    if (!ins) {
      return;
    }

    return ins != null ? ins.traces : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_batch.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_batch.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  'get_batch_instances': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return _batch_instances;
  },
  'get_batch_instances_count': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return (_batch_instances != null ? _batch_instances.length : void 0) || 0;
  },
  'get_my_approves': function (instanceIds) {
    var myApproves, that;
    that = this;

    if (!that.userId) {
      return;
    }

    myApproves = new Array();
    instanceIds.forEach(function (insId) {
      var my_approve;
      my_approve = InstanceManager.getMyApprove(insId, that.userId);

      if (my_approve) {
        return myApproves.push(my_approve);
      }
    });
    return myApproves;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/flow.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  change_flow_state: function (flows) {
    var _userId;

    check(flows, Array);
    _userId = this.userId;

    if (!_userId) {
      return;
    }

    return flows.forEach(function (flow) {
      var _flows, _flows_state, flowId, form, formId, form_current_fields_code, now, spaceId, state;

      spaceId = flow.space;
      formId = flow.form;
      flowId = flow.id;
      state = flow.state;

      if (!Steedos.isSpaceAdmin(spaceId, _userId)) {
        throw Meteor.Error(401, "No permission");
      }

      form = db.forms.findOne({
        _id: formId
      }, {
        fields: {
          historys: 0
        }
      });
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          historys: 0
        }
      });

      if (state !== 'enabled' && state !== 'disabled') {
        throw new Meteor.Error(500, "state无效");
      }

      if (!form) {
        throw new Meteor.Error(500, "form无效");
      }

      if (!flow) {
        throw new Meteor.Error(500, "flow无效");
      }

      if (!form.is_valid) {
        throw new Meteor.Error(500, "流程引用的表单[" + form.name + "]验证未通过，请打开流程设计器检查表单设置");
      }

      if (!flow.is_valid) {
        throw new Meteor.Error(500, "流程验证未通过，请打开流程设计器检查流程设置");
      }

      if (!['new', 'modify', 'delete'].includes(flow.flowtype)) {
        throw new Meteor.Error(500, "流程验证未通过，flowtype值必须是new、modify、delete其中之一");
      }

      if (!_.isArray(flow.current.steps)) {
        throw new Meteor.Error(500, "流程验证未通过，流程的步骤不能为空");
      }

      if (_.uniq(flow.current.steps, 'name').length !== flow.current.steps.length) {
        throw new Meteor.Error(500, "流程验证未通过，同一个流程下的步骤的名称不能重复");
      }

      now = new Date();

      if (state === 'enabled') {
        flow.current.steps.forEach(function (step) {
          var specifyStep;

          if (['specifyStepUser', 'specifyStepRole'].includes(step.deal_type)) {
            if (!step.approver_step) {
              throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
            } else {
              specifyStep = _.find(flow.current.steps, function (_step) {
                return step.approver_step === _step._id;
              });

              if (!specifyStep) {
                throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
              }
            }
          }
        });
        form_current_fields_code = form.current.fields.getProperty("code");
        flow.current.steps.forEach(function (step) {
          return step.fields_modifiable = _.intersection(step.fields_modifiable, form_current_fields_code);
        });

        if (form.state === 'disabled') {
          db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "enabled",
              "current.start_date": now,
              "current.modified": now,
              "current.modified_by": _userId
            }
          });
        }

        flow.current.modified = now;
        flow.current.start_date = now;
        flow.current.modified_by = _userId;
        return db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "enabled",
            "current": flow.current
          }
        });
      } else {
        db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "disabled",
            "current.modified": now,
            "current.start_date": now,
            "current.modified_by": _userId
          }
        });
        _flows = db.flows.find({
          form: form._id
        }, {
          fields: {
            _id: 1,
            state: 1
          }
        }).fetch();
        _flows_state = _flows.getProperty("state");

        if (!_flows_state.includes('enabled')) {
          return db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "disabled",
              "current.modified": now,
              "current.start_date": now,
              "current.modified_by": _userId
            }
          });
        }
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distribute.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/distribute.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"hide_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/hide_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  hide_instance: function (insId, is_hidden) {
    var instance, permissions, space, userId;

    if (!this.userId) {
      return;
    }

    check(insId, String);
    check(is_hidden, Boolean);
    userId = this.userId;
    instance = db.instances.findOne(insId, {
      fields: {
        state: 1,
        flow: 1,
        space: 1
      }
    });

    if (!instance) {
      throw new Meteor.Error('error!', "未找到申请单");
    }

    if (instance.state !== 'completed') {
      throw new Meteor.Error('error!', "申请单状态不是已结束");
    }

    permissions = permissionManager.getFlowPermissions(instance.flow, userId);
    space = db.spaces.findOne(instance.space, {
      fields: {
        admins: 1
      }
    });

    if (!permissions.includes("admin") && !space.admins.includes(userId)) {
      throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
    }

    db.instances.update(insId, {
      $set: {
        is_hidden: is_hidden
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_value.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_value.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  getInstanceValues: function (insId) {
    var ref;

    if (!this.userId) {
      return;
    }

    return (ref = db.instances.findOne({
      _id: insId
    }, {
      fields: {
        values: 1
      }
    })) != null ? ref.values : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"routes":{"instance.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies, getInstanceReadOnly;
Cookies = require("cookies");

getInstanceReadOnly = function (req, res, next, options) {
  var _hasPermission, _locale, _parent_instances, dataBuf, error, hide_traces, html, instance, instanceId, ref, ref1, space, spaceId, spaceUserCount, user, userId;

  user = Steedos.getAPILoginUser(req, res);

  if (req != null ? (ref = req.query) != null ? ref.access_token : void 0 : void 0) {
    userId = Steedos.getUserIdFromAccessToken(req.query.access_token);

    if (userId) {
      user = Meteor.users.findOne({
        _id: userId
      });
    }
  }

  spaceId = req.params.space;
  instanceId = req.params.instance_id;
  instance = db.instances.findOne({
    _id: instanceId
  });
  space = db.spaces.findOne({
    _id: spaceId
  });
  hide_traces = (ref1 = req.query) != null ? ref1.hide_traces : void 0;

  if (!options) {
    options = {
      showTrace: true
    };
  } else {
    options.showTrace = true;
  }

  if (hide_traces === "1") {
    if (options) {
      options.showTrace = false;
    } else {
      options = {
        showTrace: false
      };
    }
  }

  if (!options.showAttachments) {
    options.showAttachments = true;
  }

  if (!space) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space",
        "success": false
      }
    });
    return;
  }

  if (!instance) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing instance",
        "success": false
      }
    });
    return;
  }

  if (!user) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Auth-Token,X-User-Id",
        "success": false
      }
    });
    return;
  }

  if (instance.space !== spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space or instance",
        "success": false
      }
    });
    return;
  }

  spaceUserCount = db.space_users.find({
    user: user._id,
    space: spaceId
  }).count();

  if (spaceUserCount === 0) {
    if (!space) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- Missing sapceUser",
          "success": false
        }
      });
      return;
    }
  }

  _hasPermission = WorkflowManager.hasInstancePermissions(user, instance);

  if (!_hasPermission && instance.distribute_from_instance) {
    _parent_instances = _.union([instance.distribute_from_instance], instance.distribute_from_instances || []);
    _hasPermission = _.find(_parent_instances, function (_parent_id) {
      var _parent_ins;

      _parent_ins = db.instances.findOne({
        _id: _parent_id
      }, {
        fields: {
          traces: 0
        }
      });
      return WorkflowManager.hasInstancePermissions(user, _parent_ins);
    });
  }

  if (!_hasPermission) {
    _locale = Steedos.locale(user._id, true);
    error = TAPi18n.__("instance_permissions_error", {}, _locale);
    res.charset = "utf-8";
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": error,
        "success": false
      }
    });
    return;
  }

  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
};

JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id", getInstanceReadOnly);
JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id/:instance_name", function (req, res, next) {
  var options;
  res.setHeader('Content-type', 'application/x-msdownload');
  res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(req.params.instance_name));
  res.setHeader('Transfer-Encoding', '');
  options = {
    absolute: true
  };
  return getInstanceReadOnly(req, res, next, options);
}); /*
    	获取申请单列表：
        final_decision：审批结果
        state: 申请单状态
     */
JsonRoutes.add("get", "/api/workflow/instances", function (req, res, next) {
  var f, flowId, flowIds, flows, i, instances, query, ref, ref1, ref2, ref3, ret_sync_token, spaceId, spaceUser, spaceUserOrganizations, sync_token, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  spaceId = req.headers["x-space-id"];

  if (!spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Space-Id",
        "success": false
      }
    });
    return;
  }

  flowId = (ref = req.query) != null ? ref.flowId : void 0;

  if (!flowId) {
    JsonRoutes.sendResult(res, {
      code: 400,
      data: {
        "error": "Validate Request -- Missing flowId",
        "success": false
      }
    });
    return;
  }

  query = {};
  ret_sync_token = new Date().getTime();
  flowIds = flowId.split(",");
  flows = db.flows.find({
    _id: {
      $in: flowIds
    }
  }).fetch();
  i = 0;

  while (i < flows.length) {
    f = flows[i];
    spaceUser = db.space_users.findOne({
      space: f.space,
      user: user_id
    });

    if (!spaceUser) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- No permission, flow is " + f._id,
          "success": false
        }
      });
      return;
    } else {}

    if (!Steedos.isSpaceAdmin(spaceId, user_id)) {
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: spaceUser.organizations
        }
      }).fetch();

      if (!WorkflowManager.canMonitor(f, spaceUser, spaceUserOrganizations) && !WorkflowManager.canAdmin(f, spaceUser, spaceUserOrganizations)) {
        JsonRoutes.sendResult(res, {
          code: 401,
          data: {
            "error": "Validate Request -- No permission, flow is " + f._id,
            "success": false
          }
        });
        return;
      }
    }

    i++;
  }

  query.flow = {
    $in: flowIds
  };
  query.space = spaceId;

  if ((ref1 = req.query) != null ? ref1.sync_token : void 0) {
    sync_token = new Date(Number(req.query.sync_token));
    query.modified = {
      $gt: sync_token
    };
  }

  if ((ref2 = req.query) != null ? ref2.final_decision : void 0) {
    query.final_decision = {
      $in: req.query.final_decision.split(",")
    };
  } else {
    query.final_decision = {
      $nin: ["terminated", "rejected"]
    };
  }

  if ((ref3 = req.query) != null ? ref3.state : void 0) {
    query.state = {
      $in: req.query.state.split(",")
    };
  } else {
    query.state = "completed";
  }

  instances = db.instances.find(query, {
    fields: {
      inbox_uers: 0,
      cc_users: 0,
      outbox_users: 0,
      traces: 0,
      attachments: 0
    },
    skip: 0,
    limit: 500
  }).fetch();
  instances.forEach(function (instance) {
    var attachments;
    attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return instance.attachments = attachments;
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      "status": "success",
      "sync_token": ret_sync_token,
      "data": instances
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steedos_css.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/steedos_css.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/steedos-css", function (req, res, next) {
  var allCss, allCssLink;
  allCss = WebApp.getRefreshableAssets();
  allCssLink = "";
  allCss.forEach(function (css) {
    var cssHref, rootUrl;

    if (__meteor_runtime_config__.ROOT_URL_PATH_PREFIX) {
      rootUrl = __meteor_runtime_config__.ROOT_URL;

      if (rootUrl.endsWith("/")) {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX + "/", "") + css.url;
      } else {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX, "") + css.url;
      }
    } else {
      cssHref = Meteor.absoluteUrl(css.url);
    }

    return allCssLink += "@import url(" + cssHref + ");";
  });
  res.statusCode = 200;
  return res.end(allCssLink);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft_view.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance_draft_view.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/api/workflow/space/:space/view/draft/:flow", function (req, res, next) {
  var dataBuf, flow, flowId, form, html, instance, options, space, spaceId, user, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  user = db.users.findOne({
    _id: user_id
  });
  spaceId = req.params.space;
  flowId = req.params.flow;
  space = db.spaces.findOne({
    _id: spaceId
  });
  flow = db.flows.findOne({
    _id: flowId
  }, {
    fields: {
      name: 1,
      'current._id': 1,
      form: 1
    }
  });
  form = db.forms.findOne({
    _id: flow.form
  }, {
    fields: {
      'current._id': 1
    }
  });
  options = {
    showTrace: false,
    showAttachments: false,
    templateName: "default",
    editable: true,
    width: "100%",
    instance_style: "instance-default",
    plugins: "\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n<title>" + flow.name + "</title>\n<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />\n<meta name=\"viewport\" content=\"width=device-width\" />\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css\">\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js\" type=\"text/javascript\"></script>\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js\" type=\"text/javascript\" charset=\"UTF-8\"></script>\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/toastr/toastr.min.css\">\n<script src=\"/plugins/toastr/toastr.min.js\" type=\"text/javascript\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/workflow_client.css\">\n<script src=\"/js/workflow_client.js\" type=\"text/javascript\"></script>"
  };
  instance = {
    flow: flow._id,
    flow_version: flow.current._id,
    form: form._id,
    form_version: form.current._id,
    values: {},
    name: flow.name,
    space: spaceId
  };
  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"lib":{"1_form_formula.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/1_form_formula.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Array.prototype.filterProperty = function (h, l) {
  var g = [];
  this.forEach(function (t) {
    var m = t ? t[h] : null;
    var d = false;

    if (m instanceof Array) {
      d = m.includes(l);
    } else {
      d = l === undefined ? false : m == l;
    }

    if (d) {
      g.push(t);
    }
  });
  return g;
};

Array.prototype.getProperty = function (k) {
  var v = new Array();
  this.forEach(function (t) {
    var m = t ? t[k] : null;
    v.push(m);
  });
  return v;
};

Array.prototype.getEach = function (code) {
  var rev = [];

  for (var i = 0; i < this.length; i++) {
    rev.push(this[i][code]);
  }

  return rev;
};

Array.prototype.uniq = function () {
  var a = [];
  this.forEach(function (b) {
    if (a.indexOf(b) < 0) {
      a[a.length] = b;
    }
  });
  return a;
};

Form_formula = {};

Form_formula.mixin = function (dest, src) {
  for (var key in src) {
    dest[key] = src[key];
  }

  return dest;
};

Form_formula.handerUserObject = function (u) {
  if (u instanceof Array) {
    var user = {};
    user.name = u.getProperty("name");
    user.organization = {};
    user.organization.name = u.getProperty("organization").getProperty("name");
    user.organization.fullname = u.getProperty("organization").getProperty("fullname");
    user.hr = u.getProperty("hr");
    user.sort_no = u.getProperty("sort_no");
    user.mobile = u.getProperty("mobile");
    user.work_phone = u.getProperty("work_phone");
    user.position = u.getProperty("position");
    var userRoles = u.getProperty("roles");
    var roles = new Array();
    userRoles.forEach(function (i) {
      roles = roles.concat(i);
    });
    roles.uniq();
    user.roles = roles;
    return user;
  } else {
    return u;
  }
};

Form_formula.handerOrgObject = function (o) {
  if (o instanceof Array) {
    var org = {};
    org.id = o.getProperty("_id");
    org.name = o.getProperty("name");
    org.fullname = o.getProperty("fullname");
    return org;
  } else {
    return o;
  }
};
/**
    * 获得公式需要用到的初始值
    * 输入：fields, values, applicant
    * 输出：__values
**/


Form_formula.init_formula_values = function (fields, autoFormDoc, approver, applicant, spaceId) {
  var __values = {}; //申请单中填的值处理

  if (fields && fields.length && autoFormDoc) {
    //debugger;
    fields.forEach(function (field) {
      var type = field.type;

      if (type) {
        if (type === 'table') {
          /*
          * 将表格字段的值进行转换后传入__values中
          * values中表格的值格式为
          * [{"a":1,"b":4},{"a":2,"b":5},{"a":3,"b":6}]
          * __values需要转化为下面格式且和主表的值一样放到第一层
          * {"a":[1,2,3],"b":[4,5,6]}
          **/
          var tableFields = field.sfields,
              tableValues = autoFormDoc[field.code],
              formulaTableValues = [],
              __tableValues = {}; //按公式的格式转换值为__tableValues

          if (tableFields && tableFields.length && tableValues && tableValues instanceof Array) {
            tableValues.forEach(function (tableValue) {
              formulaTableValues.push(Form_formula.init_formula_values(tableFields, tableValue));
            }, this); //按主表的格式转换__tableValues加到

            tableFields.forEach(function (tablefield) {
              __tableValues[tablefield.code] = formulaTableValues.getEach(tablefield.code);
            });
            __values = Form_formula.mixin(__values, __tableValues);
          }
        } else if (type == 'user') {
          __values[field.code] = Form_formula.handerUserObject(WorkflowManager.getFormulaUserObjects(spaceId, autoFormDoc[field.code]));
        } else if (type == 'group') {
          __values[field.code] = Form_formula.handerOrgObject(WorkflowManager.getFormulaOrgObjects(autoFormDoc[field.code]));
        } else if (type == 'odata') {
          __values[field.code] = autoFormDoc[field.code] || {};
        } else {
          //此处传spaceId给选人控件的旧数据计算roles和organization
          __values[field.code] = autoFormDoc[field.code];
        }
      }
    }, this);
  } //当前处理人


  __values["approver"] = WorkflowManager.getFormulaUserObject(spaceId, approver); //申请人

  __values["applicant"] = WorkflowManager.getFormulaUserObject(spaceId, applicant);
  return __values;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_handlers_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/get_handlers_manager.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
getHandlersManager = {};

getHandlersManager.getHandlersByUsersAndRoles = function (user_ids, role_ids, space_id) {
  var approve_users;
  approve_users = new Array();

  _.each(user_ids, function (user_id) {
    var users;

    if (db.users.find({
      _id: user_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRoles(user_id, role_ids, space_id);

      if (users.length > 0) {
        return approve_users = approve_users.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "user_id不合法不合法");
    }
  });

  approve_users = _.uniq(approve_users);
  return approve_users;
};

getHandlersManager.getHandlersByUserAndRoles = function (user_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;

    if (db.flow_roles.find({
      _id: role_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRole(user_id, role_id, space_id);

      if (users.length > 0) {
        return user_ids = user_ids.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "role_id已经被删除");
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据user_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByUserAndRole = function (user_id, role_id, space_id) {
  var orgs, user_ids;
  orgs = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      _id: 1
    }
  }).fetch();
  user_ids = new Array();

  _.each(orgs, function (org) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org._id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgsAndRoles = function (org_ids, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(org_ids, function (org_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRoles(org_id, role_ids, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgAndRoles = function (org_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org_id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据org_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByOrgAndRole = function (org_id, role_id, space_id) {
  var org, parents, positions, user_ids;
  org = db.organizations.findOne({
    _id: org_id
  }, {
    fields: {
      parents: 1
    }
  });
  user_ids = new Array();
  positions = db.flow_positions.find({
    space: space_id,
    org: org_id,
    role: role_id
  }, {
    fields: {
      users: 1
    }
  }).fetch();

  _.each(positions, function (position) {
    return user_ids = user_ids.concat(position.users);
  });

  if (user_ids.length === 0) {
    parents = org.parents;

    _.each(parents, function (parent_id) {
      positions = db.flow_positions.find({
        space: space_id,
        org: parent_id,
        role: role_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();

      if (positions.length > 0) {
        return _.each(positions, function (position) {
          return user_ids = user_ids.concat(position.users);
        });
      }
    });
  }

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlers = function (instance_id, step_id) {
  var _approve, _space_user, _trace, applicant, applicantSuperiors, approve_users, approver_org_field, approver_org_ids, approver_step, approver_user_field, approver_user_ids, current, current_flow, current_flow_version, current_form, current_step, current_steps, deal_type, field_code, finished_traces, flow_id, flow_rev, form, form_fields, form_id, form_rev, handlers, instance, max_startDate_trace, new_approver_user_ids, new_org_user_ids, newest_values, next_step_users, org_ids, org_ids_names, org_user_ids, space_id, space_user_count, submitter, submitter_user_count, unfinished_trace, user_ids, user_ids_names, users, valid_approver_org_ids;

  instance = db.instances.findOne(instance_id);

  if (instance.step_approve && instance.step_approve[step_id]) {
    return instance.step_approve[step_id];
  }

  approve_users = new Array();
  space_id = instance.space;
  flow_id = instance.flow;
  flow_rev = instance.flow_version;
  current_flow = db.flows.findOne(flow_id);
  current_step = null;
  current_steps = new Array();

  if (current_flow.current._id === flow_rev) {
    current_steps = current_flow.current.steps;
  } else {
    current = _.find(current_flow.historys, function (history) {
      return history._id === flow_rev;
    });
    current_steps = current.steps;
  }

  current_step = _.find(current_steps, function (step) {
    return step._id === step_id;
  });

  if (current_step.step_type === "condition") {
    unfinished_trace = _.find(instance.traces, function (trace) {
      return trace.is_finished === false;
    });
    return new Array(unfinished_trace.approves[0].user);
  }

  if (current_step.step_type === "start") {
    handlers = new Array();
    handlers.push(instance.applicant);
    handlers.push(instance.submitter);
    handlers = _.uniq(handlers);
    return handlers;
  }

  deal_type = current_step.deal_type;
  users = new Array();

  if (deal_type === "applicantRole") {
    applicant = instance.applicant;

    if (applicant) {
      space_user_count = db.space_users.find({
        space: space_id,
        user: applicant
      }).count();

      if (space_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
      }

      if (current_step.approver_roles && current_step.approver_roles.length > 0) {
        _.each(current_step.approver_roles, function (approver_role) {
          var role_count;
          role_count = db.flow_roles.find({
            _id: approver_role
          }).count();

          if (role_count === 0) {
            throw new Meteor.Error('error!', "角色已经被删除");
          }
        });

        return getHandlersManager.getHandlersByUserAndRoles(applicant, current_step.approver_roles, space_id);
      } else {
        throw new Meteor.Error('error!', "审批岗位未指定");
      }
    } else {
      throw new Meteor.Error('error!', "Instance的提交人为空");
    }
  } else if (deal_type === "applicant") {
    applicant = instance.applicant;
    space_user_count = db.space_users.find({
      space: space_id,
      user: applicant
    }).count();

    if (space_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
    } else {
      return new Array(applicant);
    }
  } else if (deal_type === "orgFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByOrgsAndRoles(org_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "orgField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    user_ids = new Array();

    _.each(org_ids, function (org_id) {
      var check_orgs, org, org_children, org_users;
      org = db.organizations.findOne({
        _id: org_id
      }, {
        fields: {
          users: 1
        }
      });
      org_children = db.organizations.find({
        space: space_id,
        parents: org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      org_children.unshift(org);
      check_orgs = org_children;
      org_users = new Array();

      _.each(check_orgs, function (check_org_user) {
        if (check_org_user.users) {
          _.each(check_org_user.users, function (org_user) {
            if (db.space_users.find({
              space: space_id,
              user: org_user
            }).count() === 0) {
              throw new Meteor.Error('error!', "space下不存在此user");
            }
          });
        }

        user_ids = user_ids.concat(check_org_user.users);
        return org_users = org_users.concat(check_org_user.users);
      });

      if (org_users.length === 0) {
        throw new Meteor.Error('error!', "组织" + org_id + "不存在处理人");
      }
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "userFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByUsersAndRoles(user_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "userField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "specifyStepRole") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    if (current_step.approver_roles) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', "角色已经被删除");
        }
      });
    }

    _.each(approve_users, function (approve_user) {
      if (db.space_users.find({
        space: space_id,
        user: approve_user
      }).count() === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    return getHandlersManager.getHandlersByUsersAndRoles(approve_users, current_step.approver_roles, space_id);
  } else if (deal_type === "specifyStepUser") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    _.each(approve_users, function (approve_user) {
      var check_approve_user_count;
      check_approve_user_count = db.space_users.find({
        space: space_id,
        user: approve_user
      }).count();

      if (check_approve_user_count === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    approve_users = _.uniq(approve_users);
    return approve_users;
  } else if (deal_type === "submitterRole") {
    submitter = instance.submitter;

    if (!submitter) {
      submitter_user_count = db.space_users.find({
        space: space_id,
        user: submitter
      }).count();

      if (submitter_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
      } else {
        if (current_step.approver_roles && current_step.approver_roles.length > 0) {
          _.each(current_step.approver_roles, function (approver_role) {
            var role_count;
            role_count = db.flow_roles.find({
              _id: approver_role
            }).count();

            if (role_count === 0) {
              throw new Meteor.Error('error!', approver_role + "已经被删除");
            }
          });

          return getHandlersManager.getHandlersByUserAndRoles(submitter, current_step.approver_roles, space_id);
        } else {
          throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
        }
      }
    } else {
      throw new Meteor.Error('error!', "申请单的提交人为空");
    }
  } else if (deal_type === "submitter") {
    submitter = instance.submitter;
    submitter_user_count = db.space_users.find({
      space: space_id,
      user: submitter
    }).count();

    if (submitter_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
    } else {
      return new Array(submitter);
    }
  } else if (deal_type === "specifyOrg") {
    approver_org_ids = current_step.approver_orgs;

    if (!approver_org_ids || approver_org_ids.length === 0) {
      throw new Meteor.Error('error!', "未定义用于查找下一步处理人的部门，请联系管理员调查流程图的配置是否正确");
    }

    valid_approver_org_ids = new Array();

    _.each(approver_org_ids, function (approver_org_id) {
      if (db.organizations.find({
        _id: approver_org_id
      }).count() > 0) {
        return valid_approver_org_ids.unshift(approver_org_id);
      }
    });

    org_user_ids = new Array();

    _.each(valid_approver_org_ids, function (valid_approver_org_id) {
      var child_orgs, valid_approver_org;
      valid_approver_org = db.organizations.findOne({
        _id: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      });

      if (valid_approver_org.users) {
        org_user_ids = org_user_ids.concat(valid_approver_org.users);
      }

      child_orgs = db.organizations.find({
        space: space_id,
        parents: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      return _.each(child_orgs, function (child_org) {
        if (child_org.users) {
          return org_user_ids = org_user_ids.concat(child_org.users);
        }
      });
    });

    org_user_ids = _.uniq(org_user_ids);
    new_org_user_ids = new Array();

    _.each(org_user_ids, function (org_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: org_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_org_user_ids.push(org_user_id);
      }
    });

    return new_org_user_ids;
  } else if (deal_type === "specifyUser") {
    approver_user_ids = current_step.approver_users;
    approver_user_ids = _.uniq(approver_user_ids);
    new_approver_user_ids = new Array();

    _.each(approver_user_ids, function (approver_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: approver_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_approver_user_ids.push(approver_user_id);
      }
    });

    return new_approver_user_ids;
  } else if (deal_type === "pickupAtRuntime") {
    next_step_users = new Array();
    _trace = _.find(instance.traces, function (_tr) {
      return _tr.is_finished === false;
    });
    _approve = _.find(_trace.approves, function (_app) {
      return _app.is_finished === false && _app.type !== 'cc';
    });

    if (_approve.next_steps) {
      if (_approve.next_steps[0]["users"]) {
        next_step_users = _approve.next_steps[0]["users"];
      }
    }

    return next_step_users;
  } else if (deal_type === "applicantSuperior") {
    applicantSuperiors = new Array();
    _space_user = db.space_users.findOne({
      space: space_id,
      user: instance.applicant
    }, {
      fields: {
        manager: 1
      }
    });

    if (_space_user.manager) {
      applicantSuperiors.push(_space_user.manager);
    }

    return applicantSuperiors;
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"permission_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/permission_manager.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
permissionManager = {};

permissionManager.getFlowPermissions = function (flow_id, user_id) {
  var flow, my_permissions, org_ids, organizations, orgs_can_add, orgs_can_admin, orgs_can_monitor, space_id, users_can_add, users_can_admin, users_can_monitor;
  flow = uuflowManager.getFlow(flow_id);
  space_id = flow.space;
  org_ids = new Array();
  organizations = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      parents: 1
    }
  }).fetch();

  _.each(organizations, function (org) {
    org_ids.push(org._id);

    if (org.parents) {
      return _.each(org.parents, function (parent_id) {
        return org_ids.push(parent_id);
      });
    }
  });

  org_ids = _.uniq(org_ids);
  my_permissions = new Array();

  if (flow.perms) {
    if (flow.perms.users_can_add) {
      users_can_add = flow.perms.users_can_add;

      if (users_can_add.includes(user_id)) {
        my_permissions.push("add");
      }
    }

    if (flow.perms.orgs_can_add) {
      orgs_can_add = flow.perms.orgs_can_add;

      _.each(org_ids, function (org_id) {
        if (orgs_can_add.includes(org_id)) {
          return my_permissions.push("add");
        }
      });
    }

    if (flow.perms.users_can_monitor) {
      users_can_monitor = flow.perms.users_can_monitor;

      if (users_can_monitor.includes(user_id)) {
        my_permissions.push("monitor");
      }
    }

    if (flow.perms.orgs_can_monitor) {
      orgs_can_monitor = flow.perms.orgs_can_monitor;

      _.each(org_ids, function (org_id) {
        if (orgs_can_monitor.includes(org_id)) {
          return my_permissions.push("monitor");
        }
      });
    }

    if (flow.perms.users_can_admin) {
      users_can_admin = flow.perms.users_can_admin;

      if (users_can_admin.includes(user_id)) {
        my_permissions.push("admin");
      }
    }

    if (flow.perms.orgs_can_admin) {
      orgs_can_admin = flow.perms.orgs_can_admin;

      _.each(org_ids, function (org_id) {
        if (orgs_can_admin.includes(org_id)) {
          return my_permissions.push("admin");
        }
      });
    }
  }

  my_permissions = _.uniq(my_permissions);
  return my_permissions;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"approve_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/approve_manager.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
approveManager = {}; /*
                         对比approve_values与last_values 对象， 返回approve_values比last_values多出的或者改变的部分
                      */

approveManager.getChangeValues = function (last_values, approve_values) {
  var approve_values_keys, changeValues, last_values_keys;
  changeValues = {};
  last_values_keys = _.keys(last_values);
  approve_values_keys = _.keys(approve_values);
  approve_values_keys.forEach(function (key) {
    if (_.contains(last_values_keys, key)) {
      if (!_.isEqual(last_values[key], approve_values[key])) {
        return changeValues[key] = approve_values[key];
      }
    } else {
      if (approve_values[key] !== '') {
        return changeValues[key] = approve_values[key];
      }
    }
  });
  return changeValues;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/flow_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
flowManager = {};

flowManager.getCategoriesFlows = function (spaceId, categorieId, fields) {
  var categoriesForms;
  categoriesForms = formManager.getCategoriesForms(spaceId, categorieId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: categoriesForms.getProperty("_id")
    }
  });
};

flowManager.getUnCategoriesFlows = function (spaceId, fields) {
  var unCategoriesForms;
  unCategoriesForms = formManager.getUnCategoriesForms(spaceId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: unCategoriesForms.getProperty("_id")
    }
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"form_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/form_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
formManager = {};

formManager.getCategoriesForms = function (spaceId, categorieId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: categorieId,
    state: "enabled"
  }, _fields);
};

formManager.getUnCategoriesForms = function (spaceId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: {
      $in: [null, ""]
    },
    state: "enabled"
  }, _fields);
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/step_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
stepManager = {};

stepManager.allowBatch = function (step) {
  return step.step_type === 'counterSign' && step.allowBatch;
};

stepManager.getStep = function (instance, flow, step_id) {
  var flow_rev, isExistStep;
  flow_rev = instance.flow_version;
  isExistStep = null;

  if (flow.current._id === flow_rev) {
    isExistStep = _.find(flow.current.steps, function (step) {
      return step._id === step_id;
    });
  } else {
    _.each(flow.historys, function (history) {
      if (history._id === flow_rev) {
        return isExistStep = _.find(history.steps, function (step) {
          return step._id === step_id;
        });
      }
    });
  }

  if (!isExistStep) {
    throw new Meteor.Error('error!', "不能获取step");
  }

  return isExistStep;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_manager.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/instance_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval, logger;

_eval = require('eval');
InstanceManager = {};
logger = new Logger('Workflow -> InstanceManager');

InstanceManager.handlerInstanceByFieldMap = function (ins, field_map) {
  var context, e, flow, res, script;
  res = ins;

  if (ins) {
    if (!field_map) {
      flow = db.flows.findOne({
        _id: ins.flow
      }, {
        fields: {
          field_map: 1
        }
      });

      if (flow != null ? flow.field_map : void 0) {
        field_map = flow.field_map;
      }
    }

    if (field_map) {
      context = _.clone(ins);
      context._ = _;
      script = "var instances = " + field_map + "; exports.instances = instances";

      try {
        res = _eval(script, "handlerInstanceByFieldMap", context, false).instances;
      } catch (error) {
        e = error;
        res = {
          _error: e
        };
        logger.error(e);
      }
    }
  }

  return res;
};

InstanceManager.getCurrentApprove = function (instance, handler) {
  var currentApprove, currentApproves, currentTraces;

  if (!instance || !instance.traces || instance.traces.length < 1) {
    return;
  }

  currentTraces = instance.traces.filterProperty('is_finished', false);

  if (currentTraces.length) {
    currentApproves = currentTraces[0].approves.filterProperty('is_finished', false).filterProperty('handler', handler);
    currentApprove = currentApproves.length > 0 ? currentApproves[0] : null;
  }

  if (!currentApprove || currentApprove.type === 'cc') {
    _.each(instance.traces, function (t) {
      _.each(t.approves, function (a) {
        if (a.type === 'cc' && a.user === handler && a.is_finished === false) {
          currentApprove = a;
        }
      });
    });
  }

  if (!currentApprove) {
    return;
  }

  return currentApprove;
};

InstanceManager.getCurrentTrace = function (instance, traceId) {
  return instance.traces.findPropertyByPK("_id", traceId);
};

InstanceManager.getMyApprove = function (instanceId, userId) {
  var flow, instance, my_approve, nextSteps, next_user_ids, step, trace;
  instance = db.instances.findOne({
    _id: instanceId
  });
  flow = uuflowManager.getFlow(instance.flow);
  my_approve = InstanceManager.getCurrentApprove(instance, userId);

  if (my_approve) {
    trace = InstanceManager.getCurrentTrace(instance, my_approve.trace);
    step = uuflowManager.getStep(instance, flow, trace.step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "");

    if (nextSteps.length === 1) {
      next_user_ids = getHandlersManager.getHandlers(instance._id, nextSteps[0]);

      if (next_user_ids.length === 1) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: next_user_ids
        }];
        return my_approve;
      }
    }
  }
};

InstanceManager.getBatchInstances = function (space, categoryId, flowIds, inbox_user) {
  var FIELDS, _batch_instances, categoryFlows, inbox_instances, query, unCategoryFlows;

  _batch_instances = new Array();
  query = {
    space: space,
    inbox_users: inbox_user
  };
  FIELDS = {
    name: 1,
    applicant_name: 1,
    submit_date: 1,
    flow_version: 1,
    "traces.step": 1,
    flow: 1
  };

  if (categoryId) {
    if (categoryId === '-1') {
      unCategoryFlows = flowManager.getUnCategoriesFlows(space, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: unCategoryFlows
      };
    } else {
      categoryFlows = flowManager.getCategoriesFlows(space, categoryId, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: categoryFlows
      };
    }
  }

  if (flowIds) {
    query.flow = {
      $in: flowIds
    };
  }

  inbox_instances = db.instances.find(query, {
    fields: FIELDS,
    skip: 0,
    limit: 100
  });
  inbox_instances.forEach(function (ins) {
    var currentStep, currentStepId, flow;
    currentStepId = _.last(ins.traces).step;
    flow = db.flows.findOne({
      _id: ins.flow
    });
    currentStep = stepManager.getStep(ins, flow, currentStepId);

    if (stepManager.allowBatch(currentStep) && InstanceManager.getMyApprove(ins._id, inbox_user)) {
      delete ins.flow_version;
      delete ins.traces;
      delete ins.flow;
      return _batch_instances.push(ins);
    }
  });
  return _batch_instances;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"publications":{"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/categories.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('categories', function (spaceId) {
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.categories.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      space: 1,
      sort_no: 1,
      app: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/cfs_instances.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('cfs_instances', function (instanceIds) {
  check(instanceIds, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceIds) {
    return this.ready();
  }

  return cfs.instances.find({
    'metadata.instance': {
      $in: instanceIds
    },
    $or: [{
      'metadata.is_private': {
        $ne: true
      }
    }, {
      'metadata.is_private': true,
      "metadata.owner": this.userId
    }]
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_positions', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_positions.find({
    space: spaceId
  }, {
    fields: {
      role: 1,
      users: 1,
      org: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions_tabular.coffee                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publishComposite('flow_positions_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flow_positions.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (position) {
        this.unblock();
        return db.flow_roles.find({
          _id: position.role
        }, {
          fields: {
            name: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.organizations.find({
          _id: position.org
        }, {
          fields: {
            fullname: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.space_users.find({
          space: position.space,
          user: {
            $in: position.users
          }
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_roles.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_roles', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_roles.find({
    space: spaceId
  }, {
    fields: {
      name: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flows.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flows', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (db.flows.find({
    space: spaceId
  }).count() === 0) {
    db.spaces.createTemplateFormAndFlow(spaceId);
  }

  return db.flows.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      company_id: 1,
      sort_no: 1
    }
  });
});
Meteor.publish('flow_version', function (spaceId, flowId, versionId) {
  var getFlowVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFlowVersion = function (id, versionId) {
    var flow, flow_version;
    flow = db.flows.findOne({
      _id: id
    });

    if (flow) {
      flow_version = flow.current;
      flow_version.latest = true;

      if (flow_version._id !== versionId) {
        flow_version = flow.historys.findPropertyByPK("_id", versionId);
        flow_version.latest = false;
      }

      return flow_version;
    }
  };

  handle = db.flows.find({
    _id: flowId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("flow_versions", versionId, getFlowVersion(id, versionId));
    }
  });
  self.added("flow_versions", versionId, getFlowVersion(flowId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('distribute_optional_flows', function (flow_ids) {
  if (!this.userId) {
    return this.ready();
  }

  if (!flow_ids) {
    return this.ready();
  }

  return db.flows.find({
    _id: {
      $in: flow_ids
    }
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publish('flow', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return db.flows.find({
    _id: flowId,
    space: spaceId
  }, {
    fields: {
      print_template: 1,
      instance_template: 1,
      events: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      upload_after_being_distributed: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publishComposite('flows_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flows.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (flow) {
        this.unblock();
        return db.space_users.find({
          space: flow.space,
          user: flow.current.modified_by
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.forms.find({
          space: flow.space,
          _id: flow.form
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1,
            category: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.categories.find({
          space: flow.space
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/forms.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('forms', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.forms.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      category: 1,
      state: 1,
      description: 1,
      instance_style: 1
    }
  });
});
Meteor.publish('form_version', function (spaceId, formId, versionId) {
  var getFormVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!formId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFormVersion = function (id, versionId) {
    var form, form_version;
    form = db.forms.findOne({
      _id: id
    });

    if (!form) {
      return {};
    }

    form_version = form.current;
    form_version.latest = true;

    if (form_version._id !== versionId) {
      form_version = form.historys.findPropertyByPK("_id", versionId);
      form_version.latest = false;
    }

    return form_version;
  };

  handle = db.forms.find({
    _id: formId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("form_versions", versionId, getFormVersion(id, versionId));
    }
  });
  self.added("form_versions", versionId, getFormVersion(formId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_data.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_data.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instance_data', function (instanceId, box) {
  var getMiniInstance, getMyapproveModified, handle, instance, instance_fields_0, miniApproveFields, needChange, self, triggerChangeFields, triggerChangeFieldsValues;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;
  miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description', 'auto_submitted'];
  triggerChangeFields = ['form_version', 'flow_version', 'related_instances', '_my_approve_read_dates'];
  triggerChangeFieldsValues = {};
  instance_fields_0 = {
    "record_synced": 0,
    "traces.approves.handler_organization_name": 0,
    "traces.approves.handler_organization": 0,
    "traces.approves.cost_time": 0,
    "traces.approves.is_error": 0,
    "traces.approves.deadline": 0,
    "traces.approves.remind_date": 0,
    "traces.approves.reminded_count": 0,
    "traces.approves.modified_by": 0,
    "traces.approves.modified": 0,
    "traces.approves.geolocation": 0,
    "traces.approves.cc_users": 0,
    "traces.approves.from_approve_id": 0,
    "traces.approves.values_history": 0
  };

  getMyapproveModified = function (traces) {
    var myApproveModifieds;
    myApproveModifieds = new Array();

    if (traces != null) {
      traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.user === self.userId || approve.handler === self.userId) {
            return myApproveModifieds.push(approve.read_date);
          }
        }) : void 0 : void 0;
      });
    }

    return myApproveModifieds;
  };

  getMiniInstance = function (_instanceId) {
    var instance, ref, ref1, show_modal_traces_list, traces;
    instance = db.instances.findOne({
      _id: _instanceId
    }, {
      fields: instance_fields_0
    });

    if (instance) {
      triggerChangeFields.forEach(function (key) {
        if (key === '_my_approve_read_dates') {
          return triggerChangeFieldsValues[key] = getMyapproveModified(instance.traces);
        } else {
          return triggerChangeFieldsValues[key] = instance[key];
        }
      });
      show_modal_traces_list = ((ref = db.space_settings.findOne({
        space: instance.space,
        key: "show_modal_traces_list"
      }, {
        fields: {
          values: 1
        }
      })) != null ? ref.values : void 0) || false;

      if (show_modal_traces_list) {
        traces = new Array();

        if (instance != null) {
          if ((ref1 = instance.traces) != null) {
            ref1.forEach(function (trace) {
              var _trace, approves, ref2;

              _trace = _.clone(trace);
              approves = new Array();

              if (trace != null) {
                if ((ref2 = trace.approves) != null) {
                  ref2.forEach(function (approve) {
                    if (approve.type !== 'cc' || approve.user === self.userId || approve.handler === self.userId || !_.isEmpty(approve.sign_field_code)) {
                      return approves.push(approve);
                    }
                  });
                }
              }

              _trace.approves = approves;
              return traces.push(_trace);
            });
          }
        }

        instance.traces = traces;
      }
    }

    return instance;
  };

  needChange = function (changeFields) {
    var _change, _rev;

    if (changeFields) {
      _change = false;
      _rev = _.find(triggerChangeFields, function (key) {
        var _key, _my_approve_modifieds;

        _key = key;

        if (key === '_my_approve_read_dates') {
          _key = 'traces';
        }

        if (_.has(changeFields, _key)) {
          if (key === '_my_approve_read_dates') {
            _my_approve_modifieds = getMyapproveModified(changeFields.traces);
            return !_.isEqual(triggerChangeFieldsValues[key], _my_approve_modifieds);
          } else {
            return !_.isEqual(triggerChangeFieldsValues[key], changeFields[key]);
          }
        }
      });

      if (_rev) {
        _change = true;
      }

      return _change;
    }

    return true;
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id, fields) {
      if (box !== 'inbox' || needChange(fields)) {
        return self.changed("instances", id, getMiniInstance(id));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  instance = getMiniInstance(instanceId);
  self.added("instances", instance != null ? instance._id : void 0, instance);
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('instance_traces', function (instanceId) {
  var getInstanceTraces, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;

  getInstanceTraces = function (_insId) {
    return db.instances.findOne({
      _id: _insId
    }, {
      fields: {
        _id: 1,
        traces: 1
      }
    });
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id) {
      return self.changed("instance_traces", instanceId, getInstanceTraces(instanceId));
    }
  });
  self.added("instance_traces", instanceId, getInstanceTraces(instanceId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_list.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_list.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_list', function (spaceId, box, flowId) {
  var query;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  query = {
    space: spaceId
  };

  if (box === "inbox") {
    query.inbox_users = this.userId;
  } else if (box === "outbox") {
    query.outbox_users = this.userId;
  } else if (box === "draft") {
    query.submitter = this.userId;
    query.state = "draft";
  } else if (box === "pending") {
    query.submitter = this.userId;
    query.state = "pending";
  } else if (box === "completed") {
    query.submitter = this.userId;
    query.state = "completed";
  } else if (box === "monitor") {
    query.flow = flowId;
    query.state = {
      $in: ["pending", "completed"]
    };
  } else {
    query.state = "none";
  }

  return db.instances.find(query, {
    fields: {
      name: 1,
      created: 1,
      form: 1,
      flow: 1,
      space: 1,
      modified: 1,
      applicant: 1,
      is_archived: 1,
      form_version: 1,
      flow_version: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_tabular.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var asyncLastFinishedApprove, lastFinishedApproveAggregate;

lastFinishedApproveAggregate = function (instanceid, userId, dataMap, callback) {
  var operation;
  operation = [{
    "$match": {
      "_id": instanceid
    }
  }, {
    "$project": {
      "name": 1,
      "_approve": "$traces.approves"
    }
  }, {
    "$unwind": "$_approve"
  }, {
    "$unwind": "$_approve"
  }, {
    "$match": {
      "_approve.is_finished": true,
      $or: [{
        "_approve.handler": userId
      }, {
        "_approve.user": userId
      }]
    }
  }, {
    "$group": {
      "_id": "$_id",
      "finish_date": {
        "$last": "$_approve.finish_date"
      }
    }
  }];
  return db.instances.rawCollection().aggregate(operation).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return dataMap.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

asyncLastFinishedApprove = Meteor.wrapAsync(lastFinishedApproveAggregate);
Meteor.publish("instance_tabular", function (tableName, ids, fields) {
  var getMyApprove, getMyLastFinishedApprove, getStepCurrentName, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  fields.cc_users = 1;
  self = this;

  getMyLastFinishedApprove = function (userId, instanceId) {
    var data;
    data = [];
    asyncLastFinishedApprove(instanceId, userId, data);

    if (data.length > 0) {
      return data[0];
    }
  };

  getMyApprove = function (userId, instanceId) {
    var approve, approves, instance, is_read, myApprove, notFinishedTraces;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        traces: 1
      }
    });
    myApprove = null;

    if (!instance) {
      return;
    }

    if (!instance.traces || instance.traces.length < 1) {
      return;
    }

    notFinishedTraces = instance.traces.filterProperty("is_finished", false);

    if (notFinishedTraces.length > 0) {
      approves = notFinishedTraces[0].approves.filterProperty("is_finished", false).filterProperty("handler", userId);

      if (approves.length > 0) {
        approve = approves[0];
        myApprove = {
          id: approve._id,
          instance: approve.instance,
          trace: approve.trace,
          is_read: approve.is_read,
          start_date: approve.start_date,
          agent: approve.agent,
          user_name: approve.user_name
        };
      }
    }

    if (!myApprove) {
      is_read = false;
      instance.traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.type === 'cc' && approve.user === userId && approve.is_finished === false) {
            if (approve.is_read) {
              is_read = true;
            }

            return myApprove = {
              id: approve._id,
              is_read: is_read,
              start_date: approve.start_date,
              agent: approve.agent,
              user_name: approve.user_name
            };
          }
        }) : void 0 : void 0;
      });
    }

    return myApprove;
  };

  getStepCurrentName = function (instanceId) {
    var instance, ref, ref1, stepCurrentName;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        "traces.name": 1,
        "traces": {
          $slice: -1
        }
      }
    });

    if (instance) {
      stepCurrentName = (ref = instance.traces) != null ? (ref1 = ref[0]) != null ? ref1.name : void 0 : void 0;
    }

    return stepCurrentName;
  };

  handle = db.instances.find({
    _id: {
      $in: ids
    }
  }, {
    fields: {
      traces: 0
    }
  }).observeChanges({
    changed: function (id) {
      var instance, myApprove, myLastFinishedApprove, ref, ref1;
      instance = db.instances.findOne({
        _id: id
      }, {
        fields: fields
      });

      if (!instance) {
        return;
      }

      myApprove = getMyApprove(self.userId, id);
      myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

      if (myApprove) {
        instance.is_read = myApprove.is_read;
        instance.start_date = myApprove.start_date;

        if (myApprove.agent) {
          instance.agent_user_name = myApprove.user_name;
        }
      } else {
        instance.is_read = true;
      }

      if (myLastFinishedApprove) {
        instance.my_finish_date = myLastFinishedApprove.finish_date;
      }

      instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
      instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
      delete instance.cc_users;
      return self.changed("instances", id, instance);
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  ids.forEach(function (id) {
    var instance, myApprove, myLastFinishedApprove, ref, ref1;
    instance = db.instances.findOne({
      _id: id
    }, {
      fields: fields
    });

    if (!instance) {
      return;
    }

    myApprove = getMyApprove(self.userId, id);
    myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

    if (myApprove) {
      instance.is_read = myApprove.is_read;
      instance.start_date = myApprove.start_date;

      if (myApprove.agent) {
        instance.agent_user_name = myApprove.user_name;
      }
    } else {
      instance.is_read = true;
    }

    if (myLastFinishedApprove) {
      instance.my_finish_date = myLastFinishedApprove.finish_date;
    }

    instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
    instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
    delete instance.cc_users;
    return self.added("instances", id, instance);
  });
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_draft.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_draft', function (spaceId) {
  var userId;
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  userId = this.userId;
  return db.instances.find({
    state: "draft",
    space: spaceId,
    submitter: userId,
    $or: [{
      inbox_users: {
        $exists: false
      }
    }, {
      inbox_users: []
    }]
  }, {
    fields: {
      _id: 1,
      state: 1,
      space: 1,
      submitter: 1,
      inbox_users: 1,
      modified: 1,
      name: 1
    },
    sort: {
      modified: -1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distributed_instances_state_by_ids.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/distributed_instances_state_by_ids.coffee                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('distributed_instances_state_by_ids', function (instance_ids) {
  var handle, self;
  check(instance_ids, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instance_ids) {
    return this.ready();
  }

  if (_.isEmpty(instance_ids)) {
    return this.ready();
  }

  self = this;
  handle = db.instances.find({
    _id: {
      $in: instance_ids
    }
  }, {
    fields: {
      state: 1,
      traces: {
        $slice: 1
      }
    }
  }).observeChanges({
    added: function (id, fields) {
      return self.added('instances', id, {
        state: fields.state,
        is_read: fields.traces[0].approves[0].is_read
      });
    },
    changed: function (id, fields) {
      if (fields.state) {
        self.changed('instances', id, {
          state: fields.state
        });
      }

      if (fields.traces) {
        return self.changed('instances', id, {
          is_read: fields.traces[0].approves[0].is_read
        });
      }
    }
  });
  this.ready();
  return this.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/related_instaces.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('related_instaces', function (instanceId, related_instances) {
  var ref, related_instance_ids;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  related_instance_ids = (ref = db.instances.findOne(instanceId, {
    fields: {
      related_instances: 1
    }
  })) != null ? ref.related_instances : void 0;

  if (related_instance_ids && _.isArray(related_instance_ids)) {
    return db.instances.find({
      _id: {
        $in: related_instance_ids
      }
    }, {
      fields: {
        _id: 1,
        name: 1,
        space: 1
      }
    });
  } else {
    return this.ready();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/space_user_signs.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isServer) {
  Meteor.publish('space_user_signs', function (spaceId) {
    check(spaceId, String);

    if (!this.userId) {
      return this.ready();
    }

    return db.space_user_signs.find({
      space: spaceId
    }, {
      fields: {
        created_by: 0,
        created: 0,
        modified_by: 0
      }
    });
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"user_inbox_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/user_inbox_instance.coffee                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Meteor.publishComposite "user_inbox_instance", ()->
	unless this.userId
		return this.ready()

	userSpaceIds = db.space_users.find({
		user: this.userId,
		user_accepted: true
	}, {fields: {space: 1}}).fetch().getEach("space");
	query = {space: {$in: userSpaceIds}}

	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]

	find: ->
		db.instances.find(query, {
			fields: {
				space: 1,
				applicant_name: 1,
				flow: 1,
				inbox_users: 1,
				cc_users: 1,
				state: 1,
				name: 1,
				modified: 1,
				form: 1
			}, sort: {modified: -1}, skip: 0, limit: 200
		});
	children: [
		{
			find: (instance, post)->
				db.flows.find({_id: instance.flow}, {fields: {name: 1, space: 1}});
		}
	]
 */ /*
    Meteor.publish 'my_inbox_instances', (spaceId)->
    	unless this.userId
    		return this.ready()
    
    	self = this;
    
    	 *	userSpaceIds = db.space_users.find({
    	 *		user: this.userId,
    	 *		user_accepted: true
    	 *	}, {fields: {space: 1}}).fetch().getEach("space");
    
    	query = {space: spaceId}
    
    	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]
    
    	fields = {
    		space: 1,
     *		applicant_name: 1,
    		flow: 1,
    		inbox_users: 1,
    		cc_users: 1,
    		state: 1,
     *		name: 1,
     *		modified: 1,
    		form: 1
    	}
    
    	handle = db.instances.find(query, {sort: {modified: -1}, skip: 0, limit: 500}).observeChanges {
    		added: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.added("instances", id, instance)
    		changed: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.changed("instances", id, instance);
    		removed: (id)->
    			self.removed("instances", id);
    	}
    
    	self.ready();
    	self.onStop ()->
    		handle.stop()
     */var _async_get_flow_instances_aggregate, _get_flow_instances_aggregate;

_get_flow_instances_aggregate = function (spaceId, userId, _items, callback) {
  return db.instances.rawCollection().aggregate([{
    $match: {
      space: spaceId,
      $or: [{
        inbox_users: userId
      }, {
        cc_users: userId
      }]
    }
  }, {
    $group: {
      _id: {
        flow: "$flow",
        category: "$category"
      },
      count: {
        $sum: 1
      }
    }
  }]).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return _items.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

_async_get_flow_instances_aggregate = Meteor.wrapAsync(_get_flow_instances_aggregate);
Meteor.publish('my_inbox_flow_instances_count', function (spaceId) {
  var _changeData, _flowsData, _init, data, handle, query, self;

  if (!this.userId) {
    return this.ready();
  }

  self = this;
  query = {
    space: spaceId
  };
  query.$or = [{
    inbox_users: this.userId
  }, {
    cc_users: this.userId
  }];
  data = [];

  _async_get_flow_instances_aggregate(spaceId, self.userId, data);

  _flowsData = [];

  _.each(data, function (dataItem) {
    return _flowsData.push({
      _id: dataItem._id.flow,
      category: dataItem._id.category,
      count: dataItem.count
    });
  });

  self.added("flow_instances", spaceId, {
    flows: _flowsData
  });

  _changeData = function (doc, action) {
    var flow_instance;
    flow_instance = _.find(_flowsData, function (f) {
      return f._id === doc.flow;
    });

    if (flow_instance) {
      if (action === "added") {
        flow_instance.count++;
      } else if (action === "removed") {
        flow_instance.count--;
      }
    } else if (action === "added") {
      _flowsData.push({
        _id: doc.flow,
        category: doc.category,
        count: 1
      });
    }

    return self.changed("flow_instances", spaceId, {
      flows: _flowsData
    });
  };

  _init = true;
  handle = db.instances.find(query, {
    fields: {
      _id: 1,
      inbox_users: 1,
      cc_users: 1,
      flow: 1,
      category: 1
    }
  }).observe({
    added: function (doc) {
      if (!_init) {
        return _changeData(doc, "added");
      }
    },
    removed: function (doc) {
      if (!_init) {
        return _changeData(doc, "removed");
      }
    }
  });
  _init = false;
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_main_attach_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_main_attach_template.coffee                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_main_attach_template', function (spaceId, flowId) {
  check(spaceId, String);
  check(flowId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!(spaceId && flowId)) {
    return this.ready();
  }

  return Creator.getCollection('cms_files').find({
    space: spaceId,
    'parent.o': 'flows',
    'parent.ids': flowId,
    name: '正文.docx'
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"flow-template":{"workflow_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/flow-template/workflow_template.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
workflowTemplate = {};
workflowTemplate["en"] = [];
workflowTemplate["zh-CN"] = [];
Meteor.startup(function () {
  var absolute_path_cn, absolute_path_us, filesList_cn, filesList_us, fs, mime, path, path_cn, path_us, readFileList, ref, ref1;
  fs = require('fs');
  path = require('path');
  mime = require('mime');

  readFileList = function (pathDir, filesList) {
    var files;
    files = fs.readdirSync(pathDir);
    return files.forEach(function (name, index) {
      var obj, stat;
      stat = fs.statSync(path.join(pathDir, name));

      if (stat.isDirectory()) {
        return readFileList(path.join(pathDir, name), filesList);
      } else {
        obj = {};
        obj.path = pathDir;
        obj.name = name;
        return filesList.push(obj);
      }
    });
  };

  filesList_cn = [];
  path_cn = (ref = Meteor.settings.workflowTemplates) != null ? ref.path_cn : void 0;

  if (path_cn) {
    absolute_path_cn = path.resolve(path_cn);
    console.log("absolute_path_cn", absolute_path_cn);

    if (fs.existsSync(absolute_path_cn)) {
      readFileList(absolute_path_cn, filesList_cn);
      filesList_cn.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["zh-CN"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取zh-cn文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }

  filesList_us = [];
  path_us = (ref1 = Meteor.settings.workflowTemplates) != null ? ref1.path_us : void 0;

  if (path_us) {
    absolute_path_us = path.resolve(path_us);
    console.log("absolute_path_us", absolute_path_us);

    if (fs.existsSync(absolute_path_us)) {
      readFileList(absolute_path_us, filesList_us);
      return filesList_us.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["en"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取en-us文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/startup.coffee                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"schedule":{"auto_finish_process_delegation.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/auto_finish_process_delegation.coffee                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.auto_finish_process_delegation : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.auto_finish_process_delegation;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e, now;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('auto_finish_process_delegation');
        now = new Date();
        db.process_delegation_rules.update({
          enabled: true,
          end_time: {
            $lte: now
          }
        }, {
          $set: {
            enabled: false
          }
        }, {
          multi: true
        });
        console.timeEnd('auto_finish_process_delegation');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO AUTO_FINISH_PROCESS_DELEGATION ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function () {
      return console.log('Failed to bind environment');
    }));
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeout_auto_submit.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/timeout_auto_submit.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.timeout_auto_submit : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.timeout_auto_submit;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('timeout_auto_submit');
        uuflowManager.timeoutAutoSubmit();
        console.timeEnd('timeout_auto_submit');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO TIMEOUT_AUTO_SUBMIT ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function () {
      return console.log('Failed to bind environment');
    }));
  }
});
Meteor.methods({
  timeout_auto_submit: function (ins_id) {
    uuflowManager.timeoutAutoSubmit(ins_id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"routes":{"nextStepUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/nextStepUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/nextStepUsers", function (req, res, next) {
  var deal_type = req.query.deal_type,
      spaceId = req.query.spaceId,
      error = "";

  if (!deal_type || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var body = req.body,
      nextStepUsers = [];

  switch (deal_type) {
    case 'specifyUser':
      var specifyUserIds = body.specifyUserIds;
      nextStepUsers = WorkflowManager.getUsers(spaceId, specifyUserIds);
      break;

    case 'applicantRole':
      var applicantId = body.applicantId,
          approveRoleIds = body.approveRoleIds;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);
      if (applicant) nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, applicant.organizations, approveRoleIds);
      break;

    case 'applicantSuperior':
      var applicantId = body.applicantId;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);

      if (applicant.manager) {
        nextStepUsers = WorkflowManager.getUsers(spaceId, applicant.manager);
      }

      break;

    case 'applicant':
      var applicantId = body.applicantId;
      nextStepUsers = WorkflowManager.getUsers(spaceId, applicantId);
      break;

    case 'userField':
      var userField = body.userField,
          userFieldValue = body.userFieldValue;

      if (userField.is_multiselect) {
        //如果多选，以userFieldValue值为Array
        nextStepUsers = WorkflowManager.getUsers(spaceId, userFieldValue);
      } else {
        nextStepUsers.push(WorkflowManager.getUser(spaceId, userFieldValue));
      }

      break;

    case 'orgField':
      var orgs,
          orgChildrens,
          orgField = body.orgField,
          orgFieldValue = body.orgFieldValue;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          orgs = WorkflowManager.getOrganizations(orgFieldValue);
          orgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, orgFieldValue);
        } else {
          orgs = [WorkflowManager.getOrganization(orgFieldValue)];
          orgChildrens = WorkflowManager.getOrganizationChildrens(spaceId, orgFieldValue);
        }

        nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgChildrens);
        orgFieldUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgs);
        nextStepUsers = nextStepUsers.concat(orgFieldUsers);

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ORG_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'specifyOrg':
      var specifyOrgIds = body.specifyOrgIds;
      var specifyOrgs = WorkflowManager.getOrganizations(specifyOrgIds);
      var specifyOrgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, specifyOrgIds);
      nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgs);
      nextStepUsers = nextStepUsers.concat(WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgChildrens));
      break;

    case 'userFieldRole':
      var userField = body.userField,
          userFieldValue = body.userFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (userFieldValue) {
        if (userField.is_multiselect) {
          //如果多选，以userFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, userFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, [userFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'orgFieldRole':
      var orgField = body.orgField,
          orgFieldValue = body.orgFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, orgFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, [orgFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    default:
      break;
  }

  var result = [];
  nextStepUsers.forEach(function (su) {
    var o = {
      id: su.id,
      name: su.name
    };
    result.push(o);
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'nextStepUsers': WorkflowManager.uniqUsers(result),
      'error': error
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getSpaceUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getSpaceUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getSpaceUsers", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getUsers(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getFormulaUserObjects.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getFormulaUserObjects.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getFormulaUserObjects", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var users = WorkflowManager.getFormulaUserObject(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': users
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"init_formula_values.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/init_formula_values.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/init_formula_values", function (req, res, next) {
  var fields = req.body.fields,
      autoFormDoc = req.body.autoFormDoc,
      approver = req.body.approver,
      applicant = req.body.applicant,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!fields || !spaceId || !autoFormDoc || !approver || !applicant) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
    return;
  }

  formula_values = Form_formula.init_formula_values(fields, autoFormDoc, approver, applicant, spaceId);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'formula_values': formula_values
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getNameForUser.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getNameForUser.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/getNameForUser", function (req, res, next) {
  var e, user, userId;

  try {
    userId = req.body.userId;

    if (!userId) {
      JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'errors': '缺少参数'
        }
      });
    }

    user = WorkflowManager.getNameForUser(userId);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        user: user
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_designer_startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_designer_startup.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/designer/startup', function (req, res, next) {
  var categories, companyId, current_user, current_user_info, e, flows, forms, org, organizations, positions, query, ref, result, roles, spaceIds, spaceUsers, spaces, spacesQuery, userIds, users;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    companyId = ((ref = req.query) != null ? ref.companyId : void 0) || '';
    spacesQuery = {
      admins: current_user
    };

    if (companyId) {
      org = db.organizations.findOne(companyId, {
        fields: {
          space: 1
        }
      });

      if (!org) {
        throw new Meteor.Error('error', 'companyId is invalid');
      }

      spacesQuery = {
        _id: org.space
      };
    }

    spaces = db.spaces.find(spacesQuery).fetch();
    spaceIds = _.pluck(spaces, '_id');
    query = {
      space: {
        $in: spaceIds
      }
    };

    if (companyId) {
      query.company_id = companyId;
    }

    spaceUsers = db.space_users.find(query).fetch();
    forms = db.forms.find(query, {
      fields: {
        name: 1,
        state: 1,
        is_deleted: 1,
        is_valid: 1,
        space: 1,
        description: 1,
        help_text: 1,
        created: 1,
        created_by: 1,
        current: 1,
        category: 1,
        instance_style: 1,
        company_id: 1
      }
    }).fetch();
    flows = db.flows.find(query, {
      fields: {
        name: 1,
        name_formula: 1,
        code_formula: 1,
        space: 1,
        description: 1,
        is_valid: 1,
        form: 1,
        flowtype: 1,
        state: 1,
        is_deleted: 1,
        created: 1,
        created_by: 1,
        help_text: 1,
        current_no: 1,
        current: 1,
        perms: 1,
        error_message: 1,
        distribute_optional_users: 1,
        company_id: 1
      }
    }).fetch();
    roles = db.flow_roles.find(query).fetch();
    organizations = db.organizations.find(query).fetch();
    positions = db.flow_positions.find(query).fetch();
    categories = db.categories.find({
      space: {
        $in: spaceIds
      }
    }).fetch();
    userIds = _.pluck(spaceUsers, 'user');
    users = db.users.find({
      _id: {
        $in: userIds
      }
    }, {
      fields: {
        name: 1
      }
    }).fetch();
    result = {};
    result.SpaceUsers = spaceUsers;
    result.Users = users;
    result.Forms = forms;
    result.Flows = flows;
    result.Organizations = organizations;
    result.Positions = positions;
    result.Roles = roles;
    result.Categories = categories;
    result.Spaces = spaces;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: result
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_engine.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_engine.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/engine', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Approvals'], function (approve_from_client) {
      return uuflowManager.workflow_engine(approve_from_client, current_user_info, current_user);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_drafts.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/drafts', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var new_ins, new_ins_id;
      new_ins_id = uuflowManager.create_instance(instance_from_client, current_user_info);
      new_ins = db.instances.findOne({
        _id: new_ins_id
      }, {
        fields: {
          space: 1,
          flow: 1,
          flow_version: 1,
          form: 1,
          form_version: 1
        }
      });
      return inserted_instances.push(new_ins);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_remove.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_remove.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/remove', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, delete_obj, flow, inbox_users, instance, space, spaceUserOrganizations, space_id, space_user, user_ids;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      flow = db.flows.findOne({
        _id: instance.flow
      });
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: space_user.organizations
        }
      }).fetch();

      if (instance.submitter !== current_user && !space.admins.includes(current_user) && !WorkflowManager.canAdmin(flow, space_user, spaceUserOrganizations)) {
        throw new Meteor.Error('error!', "您不能删除此申请单。");
      }

      delete_obj = db.instances.findOne(instance_from_client["_id"]);
      delete_obj.deleted = new Date();
      delete_obj.deleted_by = current_user;
      db.deleted_instances.insert(delete_obj);
      db.instances.remove(instance_from_client["_id"]);

      if (delete_obj.state !== "draft") {
        inbox_users = delete_obj.inbox_users ? delete_obj.inbox_users : [];
        cc_users = delete_obj.cc_users ? delete_obj.cc_users : [];
        user_ids = _.uniq(inbox_users.concat(cc_users));

        _.each(user_ids, function (u_id) {
          return pushManager.send_message_to_specifyUser("terminate_approval", u_id);
        });

        return pushManager.send_instance_notification("monitor_delete_applicant", delete_obj, "", current_user_info);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_submit.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/submit', function (req, res, next) {
  var current_user, current_user_info, e, hashData, result;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    result = [];

    _.each(hashData['Instances'], function (instance_from_client) {
      var current_approve, flow_id, instance, r;
      r = uuflowManager.submit_instance(instance_from_client, current_user_info);

      if (r.alerts) {
        result.push(r);
      }

      if (!_.isEmpty(instance_from_client['inbox_users'])) {
        pushManager.send_message_to_specifyUser("current_user", current_user);
      }

      if (_.isEmpty(r.alerts)) {
        instance = db.instances.findOne(instance_from_client._id);
        flow_id = instance.flow;
        current_approve = instance_from_client.traces[0].approves[0];
        pushManager.triggerWebhook(flow_id, instance, current_approve, 'draft_submit', current_user, instance.inbox_users);
      }

      return uuflowManager.distributedInstancesRemind(instance_from_client);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        result: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_terminate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_terminate.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/terminate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var flow, flow_id, flow_ver_end_step, flow_vers, h, i, ins, instance, instance_flow_ver, instance_id, instance_trace, newApprove, newTrace, now, old_cc_users, old_inbox_users, old_outbox_users, permissions, r, setObj, space, space_id, space_user, space_user_org_info, tempUsers, terminate_reason, traces;
      terminate_reason = instance_from_client["terminate_reason"];
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      flow_id = instance.flow;
      space = uuflowManager.getSpace(space_id);
      flow = uuflowManager.getFlow(flow_id);
      uuflowManager.isInstancePending(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_flow_ver = null;
      flow_ver_end_step = null;
      flow_vers = new Array();
      flow_vers.push(flow.current);
      flow_vers = flow_vers.concat(flow.historys);
      instance_flow_ver = _.find(flow_vers, function (f_ver) {
        return f_ver._id === instance.flow_version;
      });

      if (!instance_flow_ver) {
        throw new Meteor.Error('error!', "未找到申请单对应流程版本");
      }

      flow_ver_end_step = _.find(instance_flow_ver.steps, function (f_step) {
        return f_step.step_type === "end";
      });
      permissions = permissionManager.getFlowPermissions(flow_id, current_user);
      now = new Date();
      setObj = new Object();

      if (permissions.includes("admin") || space.admins.includes(current_user) || instance.submitter === current_user || instance.applicant === current_user) {
        if (!terminate_reason) {
          throw new Meteor.Error('error!', "还未填写强制结束申请单的理由，操作失败");
        }

        instance_trace = _.find(instance.traces, function (trace) {
          return trace.is_finished === false;
        });
        traces = instance.traces;
        i = 0;

        while (i < traces.length) {
          if (traces[i].is_finished === false) {
            traces[i].is_finished = true;
            traces[i].finish_date = now;
            h = 0;

            while (h < traces[i].approves.length) {
              if (traces[i].approves[h].is_finished === false) {
                traces[i].approves[h].is_finished = true;
                traces[i].approves[h].finish_date = now;
                traces[i].approves[h].judge = null;
                traces[i].approves[h].description = null;
              }

              h++;
            }

            newApprove = new Object();
            newApprove._id = new Mongo.ObjectID()._str;
            newApprove.instance = instance_id;
            newApprove.trace = instance_trace._id;
            newApprove.is_finished = true;
            newApprove.user = current_user;
            newApprove.user_name = current_user_info.name;
            newApprove.handler = current_user;
            newApprove.handler_name = current_user_info.name;
            newApprove.handler_organization = space_user_org_info["organization"];
            newApprove.handler_organization_name = space_user_org_info["organization_name"];
            newApprove.handler_organization_fullname = space_user_org_info["organization_fullname"];
            newApprove.start_date = now;
            newApprove.finish_date = now;
            newApprove.due_date = instance_trace.due_date;
            newApprove.read_date = now;
            newApprove.judge = "terminated";
            newApprove.is_read = true;
            newApprove.description = terminate_reason;
            newApprove.is_error = false;
            newApprove.values = new Object();
            newApprove.cost_time = newApprove.finish_date - newApprove.start_date;
            traces[i].approves.push(newApprove);
          }

          i++;
        }

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [instance_trace._id];
        newTrace.is_finished = true;
        newTrace.step = flow_ver_end_step._id;
        newTrace.name = flow_ver_end_step.name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.judge = "terminated";
        setObj.state = "completed";
        setObj.final_decision = "terminated";
        old_inbox_users = instance.inbox_users;
        old_cc_users = instance.cc_users;
        old_outbox_users = instance.outbox_users;
        tempUsers = new Array();

        _.each(instance_trace.approves, function (nft_approve) {
          tempUsers.push(nft_approve.user);
          return tempUsers.push(nft_approve.handler);
        });

        setObj.outbox_users = _.uniq(instance.outbox_users.concat(tempUsers));
        setObj.inbox_users = new Array();
        setObj.cc_users = new Array();
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.current_step_name = flow_ver_end_step.name;
        setObj.current_step_auto_submit = false;
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          ins = uuflowManager.getInstance(instance_id);
          pushManager.send_instance_notification("submit_terminate_applicant", ins, terminate_reason, current_user_info);

          if (old_inbox_users) {
            _.each(_.uniq(old_inbox_users.concat(old_cc_users)), function (user_id) {
              return pushManager.send_message_to_specifyUser("terminate_approval", user_id);
            });
          }

          return pushManager.triggerWebhook(ins.flow, ins, {}, 'terminate', current_user, []);
        }
      }
    });

    pushManager.send_message_current_user(current_user_info);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_reassign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_reassign.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/reassign', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, approve_users_handlers, assignee_appr, current_space_user, current_user_organization, i, inbox_users, inbox_users_from_client, ins, instance, instance_id, last_trace, last_trace_from_client, new_inbox_users, not_in_inbox_users, now, permissions, r, reassign_reason, setObj, space, space_id;

      instance_id = instance_from_client['_id'];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      uuflowManager.isInstancePending(instance);
      last_trace_from_client = _.last(instance_from_client["traces"]);
      last_trace = _.find(instance.traces, function (t) {
        return t._id === last_trace_from_client["_id"];
      });

      if (last_trace.is_finished === true) {
        return;
      }

      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne({
        _id: space_id
      }, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      inbox_users = instance.inbox_users;
      inbox_users_from_client = instance_from_client["inbox_users"];
      reassign_reason = instance_from_client["reassign_reason"];
      not_in_inbox_users = _.difference(inbox_users, inbox_users_from_client);
      new_inbox_users = _.difference(inbox_users_from_client, inbox_users);

      if (not_in_inbox_users.length === 0 && new_inbox_users.length === 0) {
        return;
      }

      setObj = new Object();
      now = new Date();
      i = 0;
      approve_users_handlers = [];

      while (i < last_trace.approves.length) {
        if (not_in_inbox_users.includes(last_trace.approves[i].handler)) {
          if (last_trace.approves[i].is_finished === false && last_trace.approves[i].type !== "cc" && last_trace.approves[i].type !== "distribute") {
            last_trace.approves[i].is_finished = true;
            last_trace.approves[i].finish_date = now;
            last_trace.approves[i].judge = "terminated";
            last_trace.approves[i].description = "";
            last_trace.approves[i].cost_time = last_trace.approves[i].finish_date - last_trace.approves[i].start_date;
            approve_users_handlers.push(last_trace.approves[i].user);
            approve_users_handlers.push(last_trace.approves[i].handler);
          }
        }

        i++;
      }

      current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
      current_user_organization = db.organizations.findOne({
        _id: current_space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      assignee_appr = new Object();
      assignee_appr._id = new Mongo.ObjectID()._str;
      assignee_appr.instance = last_trace.instance;
      assignee_appr.trace = last_trace._id;
      assignee_appr.is_finished = true;
      assignee_appr.user = current_user;
      assignee_appr.user_name = current_user_info.name;
      assignee_appr.handler = current_user;
      assignee_appr.handler_name = current_user_info.name;
      assignee_appr.handler_organization = current_space_user.organization;
      assignee_appr.handler_organization_name = current_user_organization.name;
      assignee_appr.handler_organization_fullname = current_user_organization.fullname;
      assignee_appr.start_date = now;
      assignee_appr.finish_date = now;
      assignee_appr.due_date = last_trace.due_date;
      assignee_appr.read_date = now;
      assignee_appr.judge = "reassigned";
      assignee_appr.is_read = true;
      assignee_appr.description = reassign_reason;
      assignee_appr.is_error = false;
      assignee_appr.values = new Object();
      assignee_appr.cost_time = assignee_appr.finish_date - assignee_appr.start_date;
      last_trace.approves.push(assignee_appr);

      _.each(new_inbox_users, function (user_id) {
        var agent, handler_id, handler_info, new_appr, new_user, space_user, user_organization;
        new_user = db.users.findOne(user_id, {
          fields: {
            name: 1
          }
        });
        space_user = uuflowManager.getSpaceUser(space_id, user_id);
        user_organization = db.organizations.findOne(space_user.organization, {
          fields: {
            name: 1,
            fullname: 1
          }
        });
        new_appr = new Object();
        new_appr._id = new Mongo.ObjectID()._str;
        new_appr.instance = last_trace.instance;
        new_appr.trace = last_trace._id;
        new_appr.is_finished = false;
        new_appr.user = user_id;
        new_appr.user_name = new_user.name;
        handler_id = user_id;
        handler_info = new_user;
        agent = uuflowManager.getAgent(space_id, user_id);

        if (agent) {
          inbox_users_from_client[inbox_users_from_client.indexOf(user_id)] = agent;
          handler_id = agent;
          handler_info = db.users.findOne({
            _id: agent
          }, {
            fields: {
              name: 1
            }
          });
          new_appr.agent = agent;
        }

        new_appr.handler = handler_id;
        new_appr.handler_name = handler_info.name;
        new_appr.handler_organization = space_user.organization;
        new_appr.handler_organization_name = user_organization.name;
        new_appr.handler_organization_fullname = user_organization.fullname;
        new_appr.from_user = current_user;
        new_appr.from_user_name = current_user_info.name;
        new_appr.type = "reassign";
        new_appr.start_date = now;
        new_appr.due_date = last_trace.due_date;
        new_appr.is_read = false;
        new_appr.is_error = false;
        new_appr.values = new Object();
        uuflowManager.setRemindInfo(instance.values, new_appr);
        return last_trace.approves.push(new_appr);
      });

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(approve_users_handlers);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.inbox_users = inbox_users_from_client;
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj["traces.$.approves"] = last_trace.approves;
      r = db.instances.update({
        _id: instance_id,
        "traces._id": last_trace._id
      }, {
        $set: setObj
      });

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, reassign_reason, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'reassign', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_relocate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_relocate.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/relocate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, ah, approve_users, current_setp, current_setp_type, current_space_user, current_user_organization, flow, h, i, inbox_users, ins, instance, instance_id, l, last_trace, newTrace, new_inbox_users, next_step, next_step_name, next_step_type, not_in_inbox_users, now, permissions, r, relocate_appr, relocate_comment, relocate_inbox_users, relocate_next_step, sameTraces, setObj, signShowApproveId, space, space_id, ta, ti, traces;

      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      last_trace = _.last(instance.traces);
      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne(instance.space, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      space_id = instance.space;
      instance_id = last_trace.instance;
      inbox_users = instance.inbox_users;
      relocate_inbox_users = instance_from_client["relocate_inbox_users"];
      relocate_comment = instance_from_client["relocate_comment"];
      relocate_next_step = instance_from_client["relocate_next_step"];
      not_in_inbox_users = _.difference(inbox_users, relocate_inbox_users);
      new_inbox_users = _.difference(relocate_inbox_users, inbox_users);
      approve_users = [];
      flow = uuflowManager.getFlow(instance.flow);
      next_step = uuflowManager.getStep(instance, flow, relocate_next_step);
      next_step_type = next_step.step_type;
      next_step_name = next_step.name;
      current_setp = uuflowManager.getStep(instance, flow, last_trace.step);
      current_setp_type = current_setp.step_type;
      traces = instance.traces;
      setObj = new Object();
      setObj.values = uuflowManager.getUpdatedValues(instance);
      now = new Date();
      i = 0;

      while (i < traces.length) {
        if (traces[i]._id === last_trace._id) {
          if (!traces[i].approves) {
            traces[i].approves = new Array();
          }

          h = 0;

          while (h < traces[i].approves.length) {
            if (traces[i].approves[h].is_finished === false && traces[i].approves[h].type !== "cc" && traces[i].approves[h].type !== "distribute") {
              traces[i].approves[h].start_date = now;
              traces[i].approves[h].finish_date = now;
              traces[i].approves[h].read_date = now;
              traces[i].approves[h].is_error = false;
              traces[i].approves[h].is_read = true;
              traces[i].approves[h].is_finished = true;
              traces[i].approves[h].judge = "terminated";
              traces[i].approves[h].cost_time = traces[i].approves[h].finish_date - traces[i].approves[h].start_date;
              approve_users.push(traces[i].approves[h].user);

              if (traces[i].approves[h].sign_show === true) {
                ta = traces[i].approves[h];
                sameTraces = _.filter(traces, function (t) {
                  return t.step === traces[i].step;
                });
                l = sameTraces.length - 1;
                signShowApproveId = null;

                while (l > -1) {
                  _.each(sameTraces[l].approves, function (a) {
                    if (a.user === ta.user && a.judge !== "terminated" && a.description && !signShowApproveId) {
                      return signShowApproveId = a._id;
                    }
                  });

                  l--;
                }

                if (signShowApproveId) {
                  ti = 0;

                  while (ti < traces.length) {
                    ah = 0;

                    while (ah < traces[ti].approves.length) {
                      if (traces[ti].approves[ah]._id === signShowApproveId) {
                        traces[ti].approves[ah].sign_show = true;
                        traces[i].approves[h].sign_show = false;
                      }

                      ah++;
                    }

                    ti++;
                  }
                }
              }
            }

            h++;
          }

          current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
          current_user_organization = db.organizations.findOne(current_space_user.organization, {
            fields: {
              name: 1,
              fullname: 1
            }
          });
          relocate_appr = new Object();
          relocate_appr._id = new Mongo.ObjectID()._str;
          relocate_appr.instance = instance_id;
          relocate_appr.trace = traces[i]._id;
          relocate_appr.is_finished = true;
          relocate_appr.user = current_user;
          relocate_appr.user_name = current_user_info.name;
          relocate_appr.handler = current_user;
          relocate_appr.handler_name = current_user_info.name;
          relocate_appr.handler_organization = current_space_user.organization;
          relocate_appr.handler_organization_name = current_user_organization.name;
          relocate_appr.handler_organization_fullname = current_user_organization.fullname;
          relocate_appr.start_date = now;
          relocate_appr.finish_date = now;
          relocate_appr.due_date = traces[i].due_date;
          relocate_appr.read_date = now;
          relocate_appr.judge = "relocated";
          relocate_appr.is_read = true;
          relocate_appr.description = relocate_comment;
          relocate_appr.is_error = false;
          relocate_appr.values = new Object();
          relocate_appr.cost_time = relocate_appr.finish_date - relocate_appr.start_date;
          traces[i].approves.push(relocate_appr);
          traces[i].is_finished = true;
          traces[i].finish_date = now;
          traces[i].judge = "relocated";
        }

        i++;
      }

      if (next_step_type === "end") {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = true;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.approves = [];
        setObj.state = "completed";
        setObj.inbox_users = [];
        setObj.final_decision = "terminated";
        setObj.finish_date = new Date();
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = false;
      } else {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = false;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(next_step.timeout_hours);
        newTrace.approves = [];

        _.each(relocate_inbox_users, function (next_step_user_id, idx) {
          var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
          newApprove = new Object();
          newApprove._id = new Mongo.ObjectID()._str;
          newApprove.instance = instance_id;
          newApprove.trace = newTrace._id;
          newApprove.is_finished = false;
          newApprove.user = next_step_user_id;
          user_info = db.users.findOne(next_step_user_id, {
            fields: {
              name: 1
            }
          });
          newApprove.user_name = user_info.name;
          handler_id = next_step_user_id;
          handler_info = user_info;
          agent = uuflowManager.getAgent(space_id, next_step_user_id);

          if (agent) {
            relocate_inbox_users[idx] = agent;
            handler_id = agent;
            handler_info = db.users.findOne({
              _id: agent
            }, {
              fields: {
                name: 1
              }
            });
            newApprove.agent = agent;
          }

          newApprove.handler = handler_id;
          newApprove.handler_name = handler_info.name;
          next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
          next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
          newApprove.handler_organization = next_step_user_org_info["organization"];
          newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
          newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
          newApprove.start_date = now;
          newApprove.due_date = newTrace.due_date;
          newApprove.is_read = false;
          newApprove.is_error = false;
          newApprove.values = new Object();
          uuflowManager.setRemindInfo(instance.values, newApprove);
          return newTrace.approves.push(newApprove);
        });

        setObj.inbox_users = relocate_inbox_users;
        setObj.state = "pending";
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, next_step.lines);
      }

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(inbox_users).concat(approve_users);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj.is_archived = false;
      traces.push(newTrace);
      setObj.traces = traces;

      if (setObj.state === 'completed') {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });
      } else {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj,
          $unset: {
            finish_date: 1
          }
        });
      }

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, relocate_comment, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'relocate', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_archive.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_archive.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/archive', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var instance, instance_id, setObj, space, space_id, space_user;
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      uuflowManager.isInstanceFinishedAndNotArchieved(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      uuflowManager.isInstanceSubmitterOrApplicantOrSpaceAdmin(instance, current_user, space);
      setObj = new Object();
      setObj.is_archived = true;
      setObj.modified = new Date();
      setObj.modified_by = current_user;
      return db.instances.update({
        _id: instance_id
      }, {
        $set: setObj
      });
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_export.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_export.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/instances", function (req, res, next) {
    var current_user_info, e, ejs, ejsLint, end_date, error_obj, fields, fileName, flow, flow_id, form, form_name, ins_to_xls, lang, last_month_date, now, query, ret, space_id, start_date, str, table_fields, template, timezoneoffset, type;

    try {
      current_user_info = uuflowManager.check_authorization(req);
      query = req.query;
      space_id = query.space_id;
      flow_id = query.flow_id;
      type = parseInt(query.type);
      timezoneoffset = parseInt(query.timezoneoffset);
      flow = db.flows.findOne({
        _id: flow_id
      }, {
        fields: {
          form: 1
        }
      });
      form = db.forms.findOne({
        _id: flow.form
      }, {
        fields: {
          name: 1,
          'current.fields': 1
        }
      });
      form_name = form.name;
      fields = form.current.fields;
      table_fields = new Array();

      _.each(form.current.fields, function (field) {
        if (field.type === "table") {
          return table_fields.push(field);
        }
      });

      ins_to_xls = new Array();
      start_date = null;
      end_date = null;
      now = new Date();

      if (type === 0) {
        start_date = new Date(now.getFullYear(), now.getMonth(), 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          submit_date: {
            $gte: start_date
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 1) {
        last_month_date = new Date(new Date(now.getFullYear(), now.getMonth(), 1) - 1000 * 60 * 60 * 24);
        start_date = new Date(last_month_date.getFullYear(), last_month_date.getMonth(), 1);
        end_date = new Date(now.getFullYear(), now.getMonth(), 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          $and: [{
            submit_date: {
              $gte: start_date
            }
          }, {
            submit_date: {
              $lte: end_date
            }
          }]
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 2) {
        start_date = new Date(now.getFullYear(), 0, 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          submit_date: {
            $gte: start_date
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 3) {
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      }

      ejs = require('ejs');
      str = Assets.getText('server/ejs/export_instances.ejs');
      ejsLint = require('ejs-lint');
      error_obj = ejsLint.lint(str, {});

      if (error_obj) {
        console.error("===/api/workflow/export:");
        console.error(error_obj);
      }

      template = ejs.compile(str);
      lang = 'en';

      if (current_user_info.locale === 'zh-cn') {
        lang = 'zh-CN';
      }

      ret = template({
        lang: lang,
        timezoneoffset: timezoneoffset,
        form_name: form_name,
        fields: fields,
        table_fields: table_fields,
        ins_to_xls: ins_to_xls
      });
      fileName = "SteedOSWorkflow_" + moment().format('YYYYMMDDHHmm') + ".xls";
      res.setHeader("Content-type", "application/octet-stream");
      res.setHeader("Content-Disposition", "attachment;filename=" + encodeURI(fileName));
      return res.end(ret);
    } catch (error) {
      e = error;
      console.error(e.stack);
      return res.end(e.message);
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_space_changeset.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_space_changeset.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/uf/space/changeset', function (req, res, next) {
  var auth_token, data, e, formids, is_admin, query, sync_token;

  try {
    query = req.query;
    auth_token = db.auth_tokens.findOne({
      auth_token: query.auth_token
    });

    if (!auth_token || !auth_token.enabled) {
      throw new Meteor.Error(401, 'Unauthorized');
    }

    sync_token = query["sync_token"];
    formids = query["formids"];
    is_admin = query["is_admin"];
    data = uuflowManager.get_SpaceChangeSet(formids, is_admin, sync_token);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: data
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_retrieve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_retrieve.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/retrieve', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, flow, handler_info, i, ins, instance, instance_id, last_trace, last_trace_id, newApprove, newTrace, now, old_inbox_users, org_info, previous_step, previous_trace, previous_trace_approves, previous_trace_id, previous_trace_name, previous_trace_step_id, r, retrieve_approve, retrieve_comment, retrieve_type, setObj, space_id, space_user, the_trace, traces;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      retrieve_comment = instance_from_client['retrieve_comment'];

      if (!instance.outbox_users.includes(current_user) && instance.submitter !== current_user && instance.applicant !== current_user) {
        throw new Meteor.Error('error', '当前用户不符合取回条件');
      }

      retrieve_type = "";
      traces = instance.traces;
      last_trace = _.last(traces);
      last_trace_id = last_trace._id;
      previous_trace_id = last_trace.previous_trace_ids[0];
      previous_trace = _.find(traces, function (t) {
        return t._id === previous_trace_id;
      });
      previous_trace_step_id = previous_trace.step;
      previous_trace_name = previous_trace.name;
      flow = uuflowManager.getFlow(instance.flow);
      previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);

      if (previous_step.step_type === "counterSign") {
        throw new Meteor.Error('error', '会签不能取回');
      }

      previous_trace_approves = _.filter(previous_trace.approves, function (a) {
        return a.type !== 'cc' && a.type !== 'distribute' && a.type !== 'forward' && ['approved', 'submitted', 'rejected'].includes(a.judge);
      });

      if (previous_trace_approves.length === 1 && (previous_trace_approves[0].user === current_user || previous_trace_approves[0].handler === current_user)) {
        retrieve_type = 'normal';
      }

      i = traces.length;
      retrieve_approve = {};

      while (i > 0) {
        _.each(traces[i - 1].approves, function (a) {
          if (a.type === 'cc' && a.is_finished === true && a.user === current_user) {
            retrieve_type = 'cc';
            return retrieve_approve = a;
          }
        });

        if (retrieve_type === 'cc') {
          break;
        }

        i--;
      }

      if (retrieve_type === 'normal') {
        flow = uuflowManager.getFlow(instance.flow);
        previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);
        space_id = instance.space;
        instance_id = instance._id;
        old_inbox_users = instance.inbox_users;
        setObj = new Object();
        now = new Date();

        _.each(traces, function (t) {
          var current_space_user, current_user_organization, retrieve_appr;

          if (t._id === last_trace_id) {
            if (!t.approves) {
              t.approves = new Array();
            }

            _.each(t.approves, function (appr) {
              if (appr.is_finished === false && appr.type !== "cc") {
                appr.start_date = now;
                appr.finish_date = now;
                appr.read_date = now;
                appr.is_error = false;
                appr.is_read = true;
                appr.is_finished = true;
                appr.judge = "terminated";
                return appr.cost_time = appr.finish_date - appr.start_date;
              }
            });

            current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
            current_user_organization = db.organizations.findOne(current_space_user.organization, {
              fields: {
                name: 1,
                fullname: 1
              }
            });
            retrieve_appr = new Object();
            retrieve_appr._id = new Mongo.ObjectID()._str;
            retrieve_appr.instance = instance_id;
            retrieve_appr.trace = t._id;
            retrieve_appr.is_finished = true;
            retrieve_appr.user = current_user;
            retrieve_appr.user_name = current_user_info.name;
            retrieve_appr.handler = current_user;
            retrieve_appr.handler_name = current_user_info.name;
            retrieve_appr.handler_organization = current_space_user.organization;
            retrieve_appr.handler_organization_name = current_user_organization.name;
            retrieve_appr.handler_organization_fullname = current_user_organization.fullname;
            retrieve_appr.start_date = now;
            retrieve_appr.finish_date = now;
            retrieve_appr.due_date = t.due_date;
            retrieve_appr.read_date = now;
            retrieve_appr.judge = "retrieved";
            retrieve_appr.is_read = true;
            retrieve_appr.description = retrieve_comment;
            retrieve_appr.is_error = false;
            retrieve_appr.values = new Object();
            retrieve_appr.cost_time = retrieve_appr.finish_date - retrieve_appr.start_date;
            t.approves.push(retrieve_appr);
            t.is_finished = true;
            t.finish_date = now;
            return t.judge = "retrieved";
          }
        });

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace_id];
        newTrace.is_finished = false;
        newTrace.step = previous_trace_step_id;
        newTrace.name = previous_trace_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(previous_step.timeout_hours);
        newTrace.approves = [];
        newApprove = new Object();
        newApprove._id = new Mongo.ObjectID()._str;
        newApprove.instance = instance_id;
        newApprove.trace = newTrace._id;
        newApprove.is_finished = false;
        newApprove.user = current_user;
        handler_info = db.users.findOne(current_user, {
          fields: {
            name: 1
          }
        });
        newApprove.user_name = handler_info.name;
        newApprove.handler = current_user;
        newApprove.handler_name = handler_info.name;
        space_user = uuflowManager.getSpaceUser(space_id, current_user);
        org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
        newApprove.handler_organization = org_info["organization"];
        newApprove.handler_organization_name = org_info["organization_name"];
        newApprove.handler_organization_fullname = org_info["organization_fullname"];
        newApprove.start_date = now;
        newApprove.due_date = newTrace.due_date;
        newApprove.is_read = false;
        newApprove.is_error = false;
        newApprove.values = new Object();
        uuflowManager.setRemindInfo(instance.values, newApprove);
        newTrace.approves.push(newApprove);
        setObj.inbox_users = [current_user];
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.current_step_name = previous_trace_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, previous_step.lines);
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);

          _.each(old_inbox_users, function (user_id) {
            if (user_id !== current_user) {
              return pushManager.send_message_to_specifyUser("current_user", user_id);
            }
          });

          ins = uuflowManager.getInstance(instance_id);
          return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, ins.inbox_users);
        }
      } else if (retrieve_type === 'cc') {
        setObj = new Object();
        now = new Date();
        instance_id = instance._id;
        the_trace = _.find(traces, function (t) {
          return t._id === retrieve_approve.trace;
        });

        _.each(the_trace.approves, function (a) {
          if (a._id === retrieve_approve._id) {
            a.is_finished = false;
            a.finish_date = void 0;
            a.judge = void 0;
            return a.cost_time = void 0;
          }
        });

        cc_users = instance.cc_users;
        cc_users.push(current_user);
        setObj.modified = now;
        setObj.modified_by = current_user;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.cc_users = cc_users;
        setObj['traces.$.approves'] = the_trace.approves;
        r = db.instances.update({
          _id: instance_id,
          'traces._id': retrieve_approve.trace
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);
        }

        ins = uuflowManager.getInstance(instance_id);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, [current_user]);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add('post', '/api/workflow/forward', function (req, res, next) {
  try {
    var current_user_info = uuflowManager.check_authorization(req);
    var current_user_id = current_user_info._id;
    var hashData = req.body;
    var instance_id = hashData.instance_id;
    var space_id = hashData.space_id;
    var flow_id = hashData.flow_id;
    var hasSaveInstanceToAttachment = hashData.hasSaveInstanceToAttachment;
    var description = hashData.description;
    var isForwardAttachments = hashData.isForwardAttachments;
    var selectedUsers = hashData.selectedUsers;
    var action_type = hashData.action_type;
    var related = hashData.related;
    var from_approve_id = hashData.from_approve_id;
    check(instance_id, String);
    check(space_id, String);
    check(flow_id, String);
    check(hasSaveInstanceToAttachment, Boolean);
    check(description, String);
    check(isForwardAttachments, Boolean);
    check(selectedUsers, Array);
    check(action_type, Match.OneOf('forward', 'distribute'));
    if (action_type == "distribute") check(from_approve_id, String);
    var ins = db.instances.findOne(instance_id);
    var old_space_id = ins.space;
    var flow = db.flows.findOne(flow_id);
    var space = db.spaces.findOne(space_id);

    if (!ins || !flow || !space) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var forward_users = new Array();

    if (_.isEmpty(selectedUsers)) {
      forward_users = [current_user_id];
    } else {
      forward_users = selectedUsers;
    } // 校验分发对象是否有分发流程的提交权限


    var no_permission_user_ids = new Array();

    _.each(forward_users, function (uid) {
      var permissions = permissionManager.getFlowPermissions(flow_id, uid);

      if (!permissions.includes("add")) {
        // throw new Meteor.Error('error!', "该申请人没有提交此申请单的权限。")
        no_permission_user_ids.push(uid);
      }
    });

    if (!_.isEmpty(no_permission_user_ids)) {
      var no_permission_users_name = new Array();
      db.users.find({
        _id: {
          $in: no_permission_user_ids
        }
      }, {
        fields: {
          name: 1
        }
      }).forEach(function (u) {
        no_permission_users_name.push(u.name);
      });
      throw new Meteor.Error('no_permission', "该提交人没有提交此申请单的权限。", no_permission_users_name.join(','));
    }

    var new_ins_ids = new Array();
    var current_trace = null;

    if (action_type == "distribute") {
      _.each(ins.traces, function (t) {
        if (!current_trace) {
          _.each(t.approves, function (a) {
            if (!current_trace) {
              if (a._id == from_approve_id) current_trace = t;
            }
          });
        }
      });
    } else {
      current_trace = _.last(ins.traces);
    }

    var current_trace_id = current_trace._id;
    var forward_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    var set_obj = new Object(); // 计算values

    var old_values = ins.values,
        new_values = {};
    var form = db.forms.findOne(flow.form);
    var fields = form.current.fields || [];
    var old_form = db.forms.findOne(ins.form);
    var old_form_version = ins.form_version,
        old_fields = [],
        common_fields = [];
    var select_to_input_fields = [];

    if (old_form.current._id == old_form_version) {
      old_fields = old_form.current.fields;
    } else {
      if (old_form.historys) {
        old_form.historys.forEach(function (h) {
          if (h._id == old_form_version) old_fields = h.fields;
        });
      }
    }

    fields.forEach(function (field) {
      var exists_field = _.find(old_fields, function (f) {
        return f.type == field.type && f.code == field.code;
      });

      if (exists_field) common_fields.push(field);

      var select_input_field = _.find(old_fields, function (f) {
        return f.type == 'select' && field.type == 'input' && f.code == field.code;
      });

      if (select_input_field) select_to_input_fields.push(select_input_field);
    });
    select_to_input_fields.forEach(function (field) {
      if (old_values[field.code]) {
        new_values[field.code] = old_values[field.code];
      }
    });
    common_fields.forEach(function (field) {
      if (field.type == 'section') {
        if (field.fields) {
          field.fields.forEach(function (f) {
            // 跨工作区转发不复制选人选组
            if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
              return;
            }

            var key = f.code;
            var old_v = old_values[key];

            if (old_v) {
              // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
              if (f.type == 'select' || f.type == 'radio') {
                var options = f.options.split('\n');
                if (!options.includes(old_v)) return;
              }

              if (f.type == 'multiSelect') {
                var options = f.options.split('\n');
                var old_multiSelected = old_v.split(',');

                var new_multiSelected = _.intersection(options, old_multiSelected);

                old_v = new_multiSelected.join(',');
              }

              new_values[key] = old_v;
            }
          });
        }
      } else if (field.type == 'table') {
        if (!_.isEmpty(old_values[field.code])) {
          new_values[field.code] = new Array();
          old_values[field.code].forEach(function (old_table_row_values) {
            var new_table_row_values = {};

            if (!_.isEmpty(field.fields)) {
              field.fields.forEach(function (f) {
                // 跨工作区转发不复制选人选组
                if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
                  return;
                }

                var key = f.code;
                var old_v = old_table_row_values[key];

                if (old_v) {
                  // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
                  if (f.type == 'select' || f.type == 'radio') {
                    var options = f.options.split('\n');
                    if (!options.includes(old_v)) return;
                  }

                  if (f.type == 'multiSelect') {
                    var options = f.options.split('\n');
                    var old_multiSelected = old_v.split(',');

                    var new_multiSelected = _.intersection(options, old_multiSelected);

                    old_v = new_multiSelected.join(',');
                  }

                  new_table_row_values[key] = old_v;
                }
              });
            }

            if (!_.isEmpty(new_table_row_values)) {
              new_values[field.code].push(new_table_row_values);
            }
          });
        }
      } else {
        // 跨工作区转发不复制选人选组
        if (['group', 'user'].includes(field.type) && old_space_id != space_id) {
          return;
        }

        var key = field.code;
        var old_v = old_values[key];

        if (old_v) {
          // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
          if (field.type == 'select' || field.type == 'radio') {
            var options = field.options.split('\n');
            if (!options.includes(old_v)) return;
          }

          if (field.type == 'multiSelect') {
            var options = field.options.split('\n');
            var old_multiSelected = old_v.split(',');

            var new_multiSelected = _.intersection(options, old_multiSelected);

            old_v = new_multiSelected.join(',');
          }

          new_values[key] = old_v;
        }
      }
    }); //如果是分发，则value中的record_need、FONDSID不需要分发到新申请单中

    if (action_type === 'distribute') {
      delete new_values.record_need;
      delete new_values.FONDSID;
    } // 计算申请单标题


    var instance_name = "";
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      var iscript = name_forumla.replace(/\{/g, "(new_values['").replace(/\}/g, "'] || '')");
      var rev = eval(iscript);
      instance_name = rev || flow.name;
    } else {
      instance_name = flow.name;
    } // instance中记录当前步骤名称 #1314


    var start_step = _.find(flow.current.steps, function (step) {
      return step.step_type == 'start';
    }); // 新建申请单时，instances记录流程名称、流程分类名称 #1313


    var category_name = "";

    if (form.category) {
      var category = uuflowManager.getCategory(form.category);
      if (category) category_name = category.name;
    }

    _.each(forward_users, function (user_id) {
      var user_info = db.users.findOne(user_id);
      var space_user = db.space_users.findOne({
        space: space_id,
        user: user_id
      }, {
        fields: {
          organization: 1
        }
      });
      var space_user_org_info = db.organizations.findOne({
        _id: space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var now = new Date();
      var ins_obj = {};
      var agent = uuflowManager.getAgent(space_id, user_id);
      var handler_id = user_id;
      var handler_info = user_info;
      var handler_space_user = space_user;
      var handler_org_info = space_user_org_info;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent);
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
      }

      ins_obj._id = db.instances._makeNewID();
      ins_obj.space = space_id;
      ins_obj.flow = flow_id;
      ins_obj.flow_version = flow.current._id;
      ins_obj.form = flow.form;
      ins_obj.form_version = flow.current.form_version;
      ins_obj.name = instance_name;
      ins_obj.submitter = handler_id;
      ins_obj.submitter_name = handler_info.name;
      ins_obj.applicant = user_id;
      ins_obj.applicant_name = user_info.name;
      ins_obj.applicant_organization = space_user.organization;
      ins_obj.applicant_organization_name = space_user_org_info.name;
      ins_obj.applicant_organization_fullname = space_user_org_info.fullname;
      ins_obj.state = "draft";
      ins_obj.code = "";
      ins_obj.is_archived = false;
      ins_obj.is_deleted = false;
      ins_obj.created = now;
      ins_obj.created_by = current_user_id;
      ins_obj.modified = now;
      ins_obj.modified_by = current_user_id;
      ins_obj.inbox_users = [handler_id];
      ins_obj.values = new_values;

      if (action_type == 'distribute') {
        // 解决多次分发看不到正文、附件问题
        if (ins.distribute_from_instance) {
          ins_obj.distribute_from_instance = ins.distribute_from_instance;
        } else {
          ins_obj.distribute_from_instance = instance_id;
        }

        ins_obj.distribute_from_instances = _.clone(ins.distribute_from_instances) || [];
        ins_obj.distribute_from_instances.push(instance_id);

        if (related) {
          ins_obj.related_instances = [instance_id];
        }
      } else if (action_type == 'forward') {
        ins_obj.forward_from_instance = instance_id;
      } // 新建Trace


      var trace_obj = {};
      trace_obj._id = new Mongo.ObjectID()._str;
      trace_obj.instance = ins_obj._id;
      trace_obj.is_finished = false; // 当前最新版flow中开始节点的step_id

      var step_id, step_name, can_edit_main_attach, can_edit_normal_attach;
      flow.current.steps.forEach(function (step) {
        if (step.step_type == "start") {
          step_id = step._id;
          step_name = step.name;
          can_edit_main_attach = step.can_edit_main_attach;
          can_edit_normal_attach = step.can_edit_normal_attach;
        }
      });
      trace_obj.step = step_id;
      trace_obj.start_date = now;
      trace_obj.name = step_name; // 新建Approve

      var appr_obj = {};
      appr_obj._id = new Mongo.ObjectID()._str;
      appr_obj.instance = ins_obj._id;
      appr_obj.trace = trace_obj._id;
      appr_obj.is_finished = false;
      appr_obj.user = user_id;
      appr_obj.user_name = user_info.name;
      appr_obj.handler = handler_id;
      appr_obj.handler_name = handler_info.name;
      appr_obj.handler_organization = handler_space_user.organization;
      appr_obj.handler_organization_name = handler_org_info.name;
      appr_obj.handler_organization_fullname = handler_org_info.fullname;
      appr_obj.type = "draft";
      appr_obj.start_date = now;
      appr_obj.read_date = now;
      appr_obj.is_read = false;
      appr_obj.is_error = false;
      appr_obj.values = new_values;

      if (agent) {
        appr_obj.agent = agent;
      }

      trace_obj.approves = [appr_obj];
      ins_obj.traces = [trace_obj];
      if (flow.auto_remind == true) ins_obj.auto_remind = true;
      ins_obj.current_step_name = start_step.name;
      ins_obj.flow_name = flow.name;
      if (category_name) ins_obj.category_name = category.name;
      ins_obj.category = category._id;
      new_ins_id = db.instances.insert(ins_obj); // 复制附件

      var collection = cfs.instances; //将原表单内容存储为第一个附件

      if (hasSaveInstanceToAttachment) {
        // try {
        instanceHtml = InstanceReadOnlyTemplate.getInstanceHtml(user_info, space_id, ins, {
          absolute: true
        });
        var instanceFile = new FS.File();
        instanceFile.attachData(Buffer.from(instanceHtml, "utf-8"), {
          type: "text/html"
        }, function (error) {
          if (error) {
            throw new Meteor.Error(error.error, error.reason);
          }

          instanceFile.name(ins.name + ".html");
          instanceFile.size(instanceHtml.length);
          var metadata = {
            owner: user_id,
            owner_name: user_info.name,
            space: space_id,
            instance: new_ins_id,
            approve: appr_obj._id,
            current: true
          };
          instanceFile.metadata = metadata;
          var fileObj = collection.insert(instanceFile);
          fileObj.update({
            $set: {
              'metadata.parent': fileObj._id
            }
          });
        }); // } catch (e) {
        //     console.error(e);
        // }
      }

      if (isForwardAttachments && action_type == 'forward') {
        var files = collection.find({
          'metadata.instance': instance_id,
          'metadata.current': true
        });
        files.forEach(function (f) {
          // 判断新的流程开始节点是否有编辑正文和编辑附件权限
          if (f.metadata.main == true) {
            if (can_edit_main_attach != true && can_edit_normal_attach != true) return;
          } else {
            if (can_edit_normal_attach != true) return;
          }

          var newFile = new FS.File();
          newFile.attachData(f.createReadStream('instances'), {
            type: f.original.type
          }, function (err) {
            if (err) {
              throw new Meteor.Error(err.error, err.reason);
            }

            newFile.name(f.name());
            newFile.size(f.size());
            var metadata = {
              owner: user_id,
              owner_name: user_info.name,
              space: space_id,
              instance: new_ins_id,
              approve: appr_obj._id,
              current: true
            };

            if (f.metadata.main == true && can_edit_main_attach == true) {
              metadata.main = true;
            }

            newFile.metadata = metadata;
            var fileObj = collection.insert(newFile);
            fileObj.update({
              $set: {
                'metadata.parent': fileObj._id
              }
            });
          });
        });
      } // 给当前的申请单增加转发记录


      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': instance_id,
        'trace': current_trace_id,
        'is_finished': true,
        'user': user_id,
        'user_name': user_info.name,
        'handler': user_id,
        'handler_name': user_info.name,
        'handler_organization': space_user.organization,
        'handler_organization_name': space_user_org_info.name,
        'handler_organization_fullname': space_user_org_info.fullname,
        'type': action_type,
        'start_date': new Date(),
        'finish_date': new Date(),
        'is_read': false,
        'judge': 'submitted',
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'forward_space': space_id,
        'forward_instance': new_ins_id,
        'description': description,
        'from_approve_id': from_approve_id
      };
      forward_approves.push(appr);
      new_ins_ids.push(new_ins_id);
      pushManager.send_message_to_specifyUser("current_user", user_id);
    });

    set_obj.modified = new Date();
    set_obj.modified_by = current_user_id;
    var r = db.instances.update({
      _id: instance_id,
      "traces._id": current_trace_id
    }, {
      $set: set_obj,
      $addToSet: {
        'traces.$.approves': {
          $each: forward_approves
        }
      }
    });

    if (r) {
      _.each(current_trace.approves, function (a, idx) {
        if (a._id == from_approve_id) {
          var update_read = {};
          update_read["traces.$.approves." + idx + ".read_date"] = new Date();
          db.instances.update({
            _id: instance_id,
            "traces._id": current_trace_id
          }, {
            $set: update_read
          });
        }
      });
    }

    JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (e) {
    console.error(e.stack);
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/workflow/instance/:instanceId', function (req, res, next) {
  var box, current_user_id, current_user_info, e, flowId, ins, insId, permissions, redirectTo, ref, ref1, ref2, space, spaceId;

  try {
    current_user_info = uuflowManager.check_authorization(req, res);
    current_user_id = current_user_info._id;
    insId = req.params.instanceId;
    ins = db.instances.findOne(insId, {
      fields: {
        space: 1,
        flow: 1,
        state: 1,
        inbox_users: 1,
        cc_users: 1,
        outbox_users: 1,
        submitter: 1,
        applicant: 1
      }
    });

    if (!ins) {
      throw new Meteor.Error('error', 'instanceId is wrong or instance not exists.');
    }

    spaceId = ins.space;
    flowId = ins.flow;

    if (db.space_users.find({
      space: spaceId,
      user: current_user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'user is not belong to this space.');
    }

    box = '';

    if (((ref = ins.inbox_users) != null ? ref.includes(current_user_id) : void 0) || ((ref1 = ins.cc_users) != null ? ref1.includes(current_user_id) : void 0)) {
      box = 'inbox';
    } else if ((ref2 = ins.outbox_users) != null ? ref2.includes(current_user_id) : void 0) {
      box = 'outbox';
    } else if (ins.state === 'draft' && ins.submitter === current_user_id) {
      box = 'draft';
    } else if (ins.state === 'pending' && (ins.submitter === current_user_id || ins.applicant === current_user_id)) {
      box = 'pending';
    } else if (ins.state === 'completed' && ins.submitter === current_user_id) {
      box = 'completed';
    } else {
      permissions = permissionManager.getFlowPermissions(flowId, current_user_id);
      space = db.spaces.findOne(spaceId, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user_id)) {
        throw new Meteor.Error('error', "no permission.");
      }

      box = 'monitor';
    }

    redirectTo = Meteor.absoluteUrl("workflow/space/" + spaceId + "/" + box + "/" + insId);
    res.setHeader("Location", redirectTo);
    res.writeHead(302);
    res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_pending.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_pending.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/pending 获取待办文件

@apiDescription 获取当前用户的待办事项列表

@apiName getInbox

@apiGroup Workflow

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
	{
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
	{
		"status": "success",
		"data": [
			{
				"id": "g7wokXNkR9yxHvA4D",
				"start_date": "2017-11-23T02:28:53.164Z",
				"flow_name": "正文流程",
				"space_name": "审批王",
				"name": "正文流程 1",
				"applicant_name": null,
				"applicant_organization_name": "审批王",
				"submit_date": "2017-07-25T06:36:48.492Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-11-23T02:28:53.164Z",
				"is_read": false,
				"values": {}
			},
			{
				"id": "WqKSrWQoywgJaMp9k",
				"start_date": "2017-08-17T07:38:35.420Z",
				"flow_name": "正文\n",
				"space_name": "审批王",
				"name": "正文\n 1",
				"applicant_name": "殷亮辉",
				"applicant_organization_name": "审批王",
				"submit_date": "2017-06-27T10:26:19.468Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-08-17T07:38:35.421Z",
				"is_read": true,
				"values": {}
			}
		]
	}
 */JsonRoutes.add('get', '/api/workflow/open/pending', function (req, res, next) {
  var attach, e, is_read, limit, no_limit_count, query, ref, ref1, ref2, ref3, ref4, ref5, result_instances, space, space_id, space_names, special_user_id, start_date, u, uid, user_id, userid, username, workflow_categories;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    space_id = req.headers['x-space-id'] || ((ref = req.query) != null ? ref.spaceId : void 0);

    if (!space_id) {
      throw new Meteor.Error('error', 'need space_id');
    }

    user_id = req.userId;

    if (!user_id) {
      throw new Meteor.Error('error', 'Not logged in');
    }

    if (db.users.find({
      _id: user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'can not find user');
    }

    limit = ((ref1 = req.query) != null ? ref1.limit : void 0) || 500;
    limit = parseInt(limit);
    username = (ref2 = req.query) != null ? ref2.username : void 0;
    userid = (ref3 = req.query) != null ? ref3.userid : void 0;
    attach = (ref4 = req.query) != null ? ref4.attach : void 0;
    workflow_categories = (ref5 = req.query) != null ? ref5.workflow_categories : void 0;
    space = uuflowManager.getSpace(space_id);
    special_user_id;

    if (space.admins.includes(user_id)) {
      if (userid) {
        if (db.users.find({
          _id: userid
        }).count() < 1) {
          throw new Meteor.Error('error', "can not find user by userid: " + userid);
        }

        special_user_id = userid;
      } else if (username) {
        u = db.users.findOne({
          username: username
        }, {
          fields: {
            _id: 1
          }
        });

        if (_.isEmpty(u)) {
          throw new Meteor.Error('error', "can not find user by username: " + username);
        }

        special_user_id = u._id;
      }
    }

    result_instances = new Array();
    is_read = false;
    start_date = '';
    uid = user_id;
    query = {
      $or: [{
        inbox_users: user_id
      }, {
        cc_users: user_id
      }]
    };

    if (special_user_id) {
      uid = special_user_id;
      query = {
        space: space_id,
        $or: [{
          inbox_users: special_user_id
        }, {
          cc_users: special_user_id
        }]
      };
    }

    if (workflow_categories) {
      query.category = {
        $in: workflow_categories.split(',')
      };
    }

    space_names = {};
    space_names[space._id] = space.name;

    if (limit > 0) {
      db.instances.find(query, {
        sort: {
          modified: -1
        },
        limit: limit
      }).forEach(function (i) {
        var h, ref6, ref7;

        if ((ref6 = i.inbox_users) != null ? ref6.includes(uid) : void 0) {
          _.each(i.traces, function (t) {
            if (t.is_finished === false) {
              return _.each(t.approves, function (a) {
                if (a.user === uid && a.type !== 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        } else {
          _.each(i.traces, function (t) {
            if (!start_date && t.approves) {
              return _.each(t.approves, function (a) {
                if (!start_date && a.user === uid && a.type === 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        }

        if (!space_names[i.space]) {
          space_names[i.space] = (ref7 = db.spaces.findOne(i.space, {
            fields: {
              name: 1
            }
          })) != null ? ref7.name : void 0;
        }

        h = new Object();
        h["id"] = i["_id"];
        h["start_date"] = start_date;
        h["flow_name"] = i.flow_name;
        h["space_name"] = space_names[i.space];
        h["name"] = i["name"];
        h["applicant_name"] = i["applicant_name"];
        h["applicant_organization_name"] = i["applicant_organization_name"];
        h["submit_date"] = i["submit_date"];
        h["step_name"] = i.current_step_name;
        h["space_id"] = i.space;
        h["modified"] = i["modified"];
        h["is_read"] = is_read;
        h["values"] = i["values"];

        if (attach === 'true') {
          h.attachments = cfs.instances.find({
            'metadata.instance': i._id,
            'metadata.current': true,
            "metadata.is_private": {
              $ne: true
            }
          }, {
            fields: {
              copies: 0
            }
          }).fetch();
        }

        return result_instances.push(h);
      });
    }

    no_limit_count = db.instances.find(query).count();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result_instances,
        count: no_limit_count
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.reason
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"export_table_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/export_table_template.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies;
Cookies = require("cookies");
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/talbe_template", function (req, res, next) {
    var authToken, cookies, data, fileName, flow, flowId, form, ref, ref1, space, userId;
    cookies = new Cookies(req, res);

    if (req.body) {
      userId = req.body["X-User-Id"];
      authToken = req.body["X-Auth-Token"];
    }

    if (!userId || !authToken) {
      userId = cookies.get("X-User-Id");
      authToken = cookies.get("X-Auth-Token");
    }

    if (!(userId && authToken)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Missing X-Auth-Token",
        "success": false
      }));
      return;
    }

    flowId = (ref = req.query) != null ? ref.flow : void 0;
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        space: 1,
        form: 1,
        name: 1
      }
    });
    form = db.forms.findOne({
      _id: flow.form
    }, {
      fields: {
        space: 1,
        "current._id": 1
      }
    });

    if (_.isEmpty(flow)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Invalid formId",
        "success": false
      }));
      return;
    } else {
      if (!Steedos.isSpaceAdmin(flow.space, userId)) {
        res.writeHead(401);
        res.end(JSON.stringify({
          "error": "Validate Request -- No permission",
          "success": false
        }));
        return;
      }

      space = db.spaces.findOne(flow.space, {
        fields: {
          is_paid: 1
        }
      });

      if (!(space != null ? space.is_paid : void 0)) {
        JsonRoutes.sendResult(res, {
          code: 404,
          data: {
            "error": "Validate Request -- Non-paid space.",
            "success": false
          }
        });
        return;
      }
    }

    data = TemplateManager.handleTableTemplate({
      form: flow.form,
      form_version: form != null ? (ref1 = form.current) != null ? ref1._id : void 0 : void 0
    }, true);
    fileName = flow.name;
    res.setHeader('Content-type', 'application/x-msdownload');
    res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(fileName) + '.html');
    return res.end(data);
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_drafts.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/drafts 新建申请单

@apiName createInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "applicant": 申请人Id,
    "values": {
        "fields1" : 字段值,
        "fields2" : 字段值,
        ...
    }
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}

@apiErrorExample {json} error-Response:
{
    "status": "error",
    "data": {...}
}
 */JsonRoutes.add('post', '/api/workflow/open/drafts', function (req, res, next) {
  var applicant, applicantInfo, applicant_id, applicant_username, approve, approves, current_user_info, e, flow, flow_id, hashData, instance_from_client, new_ins, new_ins_id, space_id, space_user, space_user_org_info, trace, traces, user_id;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    user_id = req.userId;
    current_user_info = db.users.findOne({
      _id: user_id
    });
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header x_space_id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user_info._id);
    hashData = req.body;

    if (!hashData["flow"]) {
      throw new Meteor.Error('error', 'flow is null');
    }

    flow_id = hashData["flow"];
    applicant_id = hashData["applicant"];
    applicant_username = hashData["applicant_username"];
    instance_from_client = new Object();
    flow = db.flows.findOne({
      _id: flow_id
    }, {
      fields: {
        space: 1,
        'current._id': 1
      }
    });

    if (!flow) {
      throw new Meteor.Error('error', 'flow is not exists');
    }

    if (space_id !== flow.space) {
      throw new Meteor.Error('error', 'flow is not belong to this space');
    }

    if (db.space_users.find({
      space: space_id,
      user: current_user_info._id
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is not a member of this space');
    }

    instance_from_client["space"] = space_id;
    instance_from_client["flow"] = flow_id;
    instance_from_client["flow_version"] = flow.current._id;
    applicant = null;

    if (applicant_id || applicant_username) {
      if (applicant_id) {
        applicant = db.users.findOne({
          _id: applicant_id
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant is wrong');
        }
      } else if (applicant_username) {
        applicant = db.users.findOne({
          username: applicant_username
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant_username is wrong');
        }
      }

      space_user = db.space_users.findOne({
        space: space_id,
        user: applicant._id
      });

      if (!space_user) {
        throw new Meteor.Error('error', 'applicant is not a member of this space');
      }

      if (space_user.user_accepted !== true) {
        throw new Meteor.Error('error', 'applicant is disabled in this space');
      }

      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_from_client["applicant"] = applicant._id;
      instance_from_client["applicant_name"] = applicant.name;
      instance_from_client["applicant_organization"] = space_user_org_info["organization"];
      instance_from_client["applicant_organization_fullname"] = space_user_org_info["organization_fullname"];
      instance_from_client["applicant_organization_name"] = space_user_org_info["organization_name"];
    }

    applicantInfo = applicant || current_user_info;
    traces = [];
    trace = new Object();
    approves = [];
    approve = new Object();
    approve["values"] = hashData["values"];
    approves.push(approve);
    trace["approves"] = approves;
    traces.push(trace);
    instance_from_client["traces"] = traces;
    instance_from_client["inbox_users"] = [applicantInfo._id];
    new_ins_id = uuflowManager.create_instance(instance_from_client, applicantInfo);
    new_ins = db.instances.findOne(new_ins_id);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: new_ins
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/get/:ins_id 查看申请单详情

@apiName getInstance

@apiGroup Workflow

@apiPermission 工作区的管理员

@apiParam {String} ins_id 申请单Id
@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}
 */JsonRoutes.add('get', '/api/workflow/open/get/:ins_id', function (req, res, next) {
  var current_user, e, ins_id, instance, perm_users, permissions, space, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = db.instances.findOne(ins_id);

    if (!instance) {
      throw new Meteor.Error('error', 'can not find instance');
    }

    if (db.space_users.find({
      space: instance.space,
      user: current_user
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is wrong');
    }

    perm_users = new Array();
    perm_users.push(instance.submitter);
    perm_users.push(instance.applicant);

    if (instance.outbox_users) {
      perm_users = perm_users.concat(instance.outbox_users);
    }

    if (instance.inbox_users) {
      perm_users = perm_users.concat(instance.inbox_users);
    }

    space = db.spaces.findOne({
      _id: instance.space
    }, {
      fields: {
        admins: 1
      }
    });
    perm_users = perm_users.concat(space.admins);
    permissions = permissionManager.getFlowPermissions(instance.flow, current_user);

    if (!perm_users.includes(current_user) && !permissions.includes("monitor") && !permissions.includes("admin")) {
      throw new Meteor.Error('error', 'no permission');
    }

    instance.attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instance
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_submit.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/submit/:ins_id 提交申请单

@apiDescription 暂不支持开始节点下一节点为条件的情况

@apiName submitInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/submit/:ins_id', function (req, res, next) {
  var current_user, current_user_info, e, flow, form, ins_id, instance, nextSteps, next_step_id, next_user_ids, r, require_but_empty_fields, result, space_id, step, submitter, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = uuflowManager.getInstance(ins_id);
    uuflowManager.isInstanceDraft(instance);

    if (space_id !== instance["space"]) {
      throw new Meteor.Error('error', 'instance is not belong to this space');
    }

    values = instance["traces"][0]["approves"][0].values;
    form = uuflowManager.getForm(instance.form);
    require_but_empty_fields = uuflowManager.checkValueFieldsRequire(values, form, instance.form_version);

    if (require_but_empty_fields.length > 0) {
      if (require_but_empty_fields.length > 1) {
        throw new Meteor.Error('error', 'fields <' + require_but_empty_fields.join(",") + '> are required');
      } else if (require_but_empty_fields.length = 1) {
        throw new Meteor.Error('error', 'field <' + require_but_empty_fields.join(",") + '> is required');
      }
    }

    flow = uuflowManager.getFlow(instance.flow);
    step = uuflowManager.getStep(instance, flow, instance["traces"][0].step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "submitted");

    if (nextSteps.length < 1) {
      throw new Meteor.Error('error', 'can not find next steps');
    }

    if (nextSteps.length > 1) {
      throw new Meteor.Error('error', 'next step not uniq');
    }

    next_step_id = nextSteps[0];
    next_user_ids = getHandlersManager.getHandlers(ins_id, next_step_id) || [];

    if (next_user_ids.length > 1) {
      throw new Meteor.Error('error', 'next step handler not uniq');
    }

    instance["traces"][0]["approves"][0]["next_steps"] = [{
      'step': next_step_id,
      'users': next_user_ids
    }];
    result = new Object();
    submitter = db.users.findOne(instance.submitter);

    if (!submitter) {
      throw new Meteor.Error('error', 'can not find submitter');
    }

    r = uuflowManager.submit_instance(instance, submitter);

    if (r.alerts) {
      result = r;
    } else {
      result = db.instances.findOne(ins_id);

      if (result) {
        result.attachments = cfs.instances.find({
          'metadata.instance': ins_id,
          'metadata.current': true,
          "metadata.is_private": {
            $ne: true
          }
        }, {
          fields: {
            copies: 0
          }
        }).fetch();
      }
    }

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_save.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_save.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/save/:ins_id 暂存申请单

@apiName saveInstances

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/save/:ins_id', function (req, res, next) {
  var current_step, current_trace, current_user, current_user_info, e, flow, ins_id, instance, result, setObj, space_id, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    values = req.body;

    if (!values) {
      throw new Meteor.Error('error', 'need values');
    }

    current_trace = null;
    setObj = new Object();
    instance = uuflowManager.getInstance(ins_id);
    flow = uuflowManager.getFlow(instance.flow);

    _.each(instance.traces, function (t) {
      if (t.is_finished !== true) {
        return current_trace = t;
      }
    });

    current_step = uuflowManager.getStep(instance, flow, current_trace.step);

    if (current_step.step_type === "counterSign") {
      throw new Meteor.Error('error', '会签步骤不能修改表单值');
    }

    _.each(current_trace.approves, function (a) {
      if (a.is_finished !== true && a.type !== "cc") {
        return a.values = values;
      }
    });

    setObj.modified = new Date();
    setObj["traces.$.approves"] = current_trace.approves;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_trace._id
    }, {
      $set: setObj
    });
    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get_by_stepname.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get_by_stepname.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/getbystepname 根据步骤名称获取申请单

@apiName getInstanceByStepName

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "stepname": 步骤名称
}

@apiSuccessExample {json} Success-Response:
{
	"status": "success",
	"data": [
		{
			instance
		},
		{
			instance
		}
	]
}
 */JsonRoutes.add('post', '/api/workflow/open/getbystepname', function (req, res, next) {
  var current_user, current_user_info, e, flow, hashData, instances, space_id, stepname;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body;
    stepname = hashData["stepname"];
    flow = hashData["flow"];

    if (!stepname) {
      throw new Meteor.Error('error', 'need stepname');
    }

    if (!flow) {
      throw new Meteor.Error('error', 'need flow');
    }

    instances = db.instances.find({
      space: space_id,
      flow: flow,
      state: 'pending',
      traces: {
        $elemMatch: {
          is_finished: false,
          name: stepname
        }
      }
    }, {
      fields: {
        inbox_uers: 0,
        cc_users: 0,
        outbox_users: 0,
        attachments: 0,
        traces: 0
      }
    }).fetch();
    instances.forEach(function (instance) {
      return instance.attachments = cfs.instances.find({
        'metadata.instance': instance._id,
        'metadata.current': true,
        "metadata.is_private": {
          $ne: true
        }
      }, {
        fields: {
          copies: 0
        }
      }).fetch();
    });
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_cfs.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_cfs.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Content-Type：application/json
form-data 格式:
fd = new FormData;
fd.append("file", file);

fd.append("is_private", false);

if (isAddVersion) {
	fd.append("isAddVersion", isAddVersion);
	fd.append("parent", attach_parent_id);
}

if (isMainAttach) {
	fd.append("main", true);
}
 */var Busboy, Fiber;
Busboy = require('busboy');
Fiber = require('fibers');

JsonRoutes.parseFiles = function (req, res, next) {
  var busboy, files, image;
  files = [];
  image = {};

  if (req.method === "POST") {
    busboy = new Busboy({
      headers: req.headers
    });
    busboy.on("file", function (fieldname, file, filename, encoding, mimetype) {
      var buffers;
      image.mimeType = mimetype;
      image.encoding = encoding;
      image.filename = filename;
      buffers = [];
      file.on('data', function (data) {
        return buffers.push(data);
      });
      return file.on('end', function () {
        image.data = Buffer.concat(buffers);
        return files.push(image);
      });
    });
    busboy.on("field", function (fieldname, value) {
      return req.body[fieldname] = value;
    });
    busboy.on("finish", function () {
      req.files = files;
      return Fiber(function () {
        return next();
      }).run();
    });
    return req.pipe(busboy);
  } else {
    return next();
  }
};

JsonRoutes.add('post', '/api/workflow/open/cfs/:ins_id', function (req, res, next) {
  var approve_id, current_user, current_user_info, e, ins_id, instance, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能上传');
    }

    approve_id = instance.traces[0].approves[0]._id;
    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    return JsonRoutes.parseFiles(req, res, function () {
      var collection, newFile;
      collection = cfs.instances;

      if (req.files && req.files[0]) {
        if (req.files[0].data.length > 100 * 1024 * 1024) {
          JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              errors: [{
                errorMessage: "超过上传附件大小限制(100M)"
              }]
            }
          });
          return;
        }

        newFile = new FS.File();
        return newFile.attachData(req.files[0].data, {
          type: req.files[0].mimeType
        }, function (err) {
          var body, e, fileObj, filename, metadata, parent, r, result, size;
          filename = req.files[0].filename;

          if (["image.jpg", "image.gif", "image.jpeg", "image.png"].includes(filename.toLowerCase())) {
            filename = "image-" + moment(new Date()).format('YYYYMMDDHHmmss') + "." + filename.split('.').pop();
          }

          body = req.body;
          body['owner'] = instance.submitter;
          body['owner_name'] = instance.submitter_name;
          body['space'] = space_id;
          body['instance'] = ins_id;
          body['approve'] = approve_id;

          try {
            if (body && (body['upload_from'] === "IE" || body['upload_from'] === "node")) {
              filename = decodeURIComponent(filename);
            }
          } catch (error) {
            e = error;
            console.error(filename);
            console.error(e);
            filename = filename.replace(/%/g, "-");
          }

          newFile.name(filename);

          if (body && body['owner'] && body['owner_name'] && body['space'] && body['instance'] && body['approve']) {
            parent = '';
            metadata = {
              owner: body['owner'],
              owner_name: body['owner_name'],
              space: body['space'],
              instance: body['instance'],
              approve: body['approve'],
              current: true
            };

            if (body["is_private"] && body["is_private"].toLocaleLowerCase() === "true") {
              metadata.is_private = true;
            } else {
              metadata.is_private = false;
            }

            if (body['main'] === "true") {
              metadata.main = true;
            }

            if (body['isAddVersion'] && body['parent']) {
              parent = body['parent'];
            }

            if (parent) {
              r = collection.update({
                'metadata.parent': parent,
                'metadata.current': true
              }, {
                $unset: {
                  'metadata.current': ''
                }
              });

              if (r) {
                metadata.parent = parent;

                if (body['locked_by'] && body['locked_by_name']) {
                  metadata.locked_by = body['locked_by'];
                  metadata.locked_by_name = body['locked_by_name'];
                }

                newFile.metadata = metadata;
                fileObj = collection.insert(newFile);

                if (body["overwrite"] && body["overwrite"].toLocaleLowerCase() === "true") {
                  collection.remove({
                    'metadata.instance': body['instance'],
                    'metadata.parent': parent,
                    'metadata.owner': body['owner'],
                    'metadata.approve': body['approve'],
                    'metadata.current': {
                      $ne: true
                    }
                  });
                }
              }
            } else {
              newFile.metadata = metadata;
              fileObj = collection.insert(newFile);
              fileObj.update({
                $set: {
                  'metadata.parent': fileObj._id
                }
              });
            }
          } else {
            fileObj = collection.insert(newFile);
          }

          size = fileObj.original.size;

          if (!size) {
            size = 1024;
          }

          result = new Object();
          result = {
            attach_id: fileObj._id,
            size: size
          };
          res.setHeader("x-amz-version-id", fileObj._id);
          return JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              status: "success",
              data: result
            }
          });
        });
      } else {
        JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            errors: [{
              errorMessage: "need file"
            }]
          }
        });
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("delete", "/api/workflow/open/cfs/:ins_id", function (req, res, next) {
  var attach_id, collection, current_user, current_user_info, e, file, hashData, ins_id, instance, result, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能删除附件');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body || {};
    attach_id = hashData["attach_id"];

    if (!attach_id) {
      throw new Meteor.Error('error', 'can not find attach_id');
    }

    collection = cfs.instances;
    file = collection.findOne({
      _id: attach_id,
      'metadata.instance': ins_id
    });

    if (file) {
      file.remove();
    } else {
      throw new Meteor.Error('error', '此附件不属于此申请单，或已被删除');
    }

    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("get", "/api/workflow/open/cfs/:attach_id", function (req, res, next) {
  var attach_id, current_user, current_user_info, e, space_id;

  try {
    attach_id = req.params.attach_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    res.statusCode = 302;
    res.setHeader("Location", Steedos.absoluteUrl("api/files/instances/") + attach_id + "?download=true");
    return res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_refill.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_refill", function (req, res, next) {
  var approve, columns, forward_ins, forward_ins_values, original_ins, original_ins_fields, original_ins_form, original_ins_id, original_subtable_fields, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, row_data, subTable, table_data, trace, traces;
  console.log("=========回填子表==========");
  console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
  console.log("=========分发回填的列==========");
  console.log("req?.query?.column", req != null ? (ref1 = req.query) != null ? ref1.column : void 0 : void 0);
  columns = req != null ? (ref2 = req.query) != null ? ref2.column.split(';') : void 0 : void 0;
  console.log("columns", columns);
  forward_ins = req != null ? (ref3 = req.body) != null ? ref3.instance : void 0 : void 0;
  subTable = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

  if ((forward_ins != null ? forward_ins.state : void 0) === "completed" && (forward_ins != null ? (ref5 = forward_ins.distribute_from_instances) != null ? ref5.length : void 0 : void 0) > 0 && subTable && columns) {
    forward_ins_values = forward_ins != null ? forward_ins.values : void 0;
    original_ins_id = _.last(forward_ins != null ? forward_ins.distribute_from_instances : void 0);
    original_ins = db.instances.findOne(original_ins_id);
    original_ins_form = db.forms.findOne(original_ins != null ? original_ins.form : void 0);
    original_ins_fields = [];
    original_subtable_fields = [];
    console.log("original_ins_form?.current?._id", original_ins_form != null ? (ref6 = original_ins_form.current) != null ? ref6._id : void 0 : void 0);
    console.log("original_ins?.form_version", original_ins != null ? original_ins.form_version : void 0);

    if ((original_ins != null ? original_ins.form_version : void 0) === (original_ins_form != null ? (ref7 = original_ins_form.current) != null ? ref7._id : void 0 : void 0)) {
      original_ins_fields = (ref8 = original_ins_form.current) != null ? ref8.fields : void 0;
      original_ins_fields.forEach(function (original_ins_field) {
        console.log("original_ins_field", original_ins_field != null ? original_ins_field.code : void 0);

        if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
          return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
        }
      });
    } else {
      if ((original_ins_form != null ? (ref9 = original_ins_form.historys) != null ? ref9.length : void 0 : void 0) > 0) {
        original_ins_form.historys.forEach(function (oh) {
          if ((original_ins != null ? original_ins.form_version : void 0) === oh._id) {
            original_ins_fields = oh != null ? oh.fields : void 0;
            return original_ins_fields.forEach(function (original_ins_field) {
              if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
                return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
              }
            });
          }
        });
      }
    }

    console.log("original_subtable_fields", original_subtable_fields != null ? original_subtable_fields.length : void 0);

    if (original_subtable_fields) {
      traces = original_ins != null ? original_ins.traces : void 0;
      trace = traces[traces.length - 1];
      approve = trace != null ? trace.approves[0] : void 0;
      table_data = (approve != null ? approve.values[subTable] : void 0) || [];
      row_data = {};
      columns.forEach(function (column) {
        return row_data[column] = forward_ins_values[column] || "";
      });

      if (row_data && row_data !== {}) {
        table_data.push(row_data);
        traces[traces.length - 1].approves[0].values[subTable] = table_data;
        console.log(traces[traces.length - 1].approves[0].values[subTable]);
        db.instances.update(original_ins_id, {
          $set: {
            'traces': traces
          }
        });
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'success': '回填成功'
          }
        });
      } else {
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'info': '回填数据为空'
          }
        });
      }
    } else {
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'error': '原申请单无相关子表'
        }
      });
    }
  } else {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'success': '申请单未结束'
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_table_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_table_refill.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_table_refill", function (req, res, next) {
  var a_table, a_table_values, approve, column_list, columns, d_ins, d_ins_fields, d_ins_form, d_ins_values, d_match_col, d_match_col_field, d_match_col_fields, d_subtable_fields, d_table, d_table_values, e, o_ins, o_ins_fields, o_ins_form, o_ins_id, o_match_col, o_match_col_field, o_match_col_fields, o_subtable_fields, o_table, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref22, ref3, ref4, ref5, ref6, ref7, ref8, ref9, table_data, trace, traces;

  try {
    console.log("=========原表子表==========");
    console.log("req?.query?.oTable", req != null ? (ref = req.query) != null ? ref.oTable : void 0 : void 0);
    console.log("=========现表子表==========");
    console.log("req?.query?.dTable", req != null ? (ref1 = req.query) != null ? ref1.dTable : void 0 : void 0);
    console.log("=========原表单的子表匹配列==========");
    console.log("req?.query?.oMatchCol", req != null ? (ref2 = req.query) != null ? ref2.oMatchCol : void 0 : void 0);
    console.log("=========现表单的子表匹配列==========");
    console.log("req?.query?.dMatchCol", req != null ? (ref3 = req.query) != null ? ref3.dMatchCol : void 0 : void 0);
    console.log("=========需要回填的列==========");
    console.log("req?.query?.refillCol", req != null ? (ref4 = req.query) != null ? ref4.refillCol : void 0 : void 0);
    d_ins = req != null ? (ref5 = req.body) != null ? ref5.instance : void 0 : void 0;

    if ((d_ins != null ? d_ins.state : void 0) === "completed") {
      if (req != null ? (ref6 = req.query) != null ? ref6.oTable : void 0 : void 0) {
        o_table = req != null ? (ref7 = req.query) != null ? ref7.oTable : void 0 : void 0;

        if (req != null ? (ref8 = req.query) != null ? ref8.dTable : void 0 : void 0) {
          d_table = req != null ? (ref9 = req.query) != null ? ref9.dTable : void 0 : void 0;
        } else {
          d_table = o_table;
        }

        if (req != null ? (ref10 = req.query) != null ? ref10.aTable : void 0 : void 0) {
          a_table = req != null ? (ref11 = req.query) != null ? ref11.aTable : void 0 : void 0;
        }

        if (req != null ? (ref12 = req.query) != null ? ref12.oMatchCol : void 0 : void 0) {
          o_match_col = req != null ? (ref13 = req.query) != null ? ref13.oMatchCol : void 0 : void 0;

          if (req != null ? (ref14 = req.query) != null ? ref14.dMatchCol : void 0 : void 0) {
            d_match_col = req != null ? (ref15 = req.query) != null ? ref15.dMatchCol : void 0 : void 0;
          } else {
            d_match_col = o_match_col;
          }

          columns = (req != null ? (ref16 = req.query) != null ? ref16.refillCol.split(';') : void 0 : void 0) || [];
          console.log("columns", columns);

          if (columns || columns.length < 1) {
            console.log("======================");
            console.log(d_table, o_match_col, columns);
            d_ins_values = d_ins != null ? d_ins.values : void 0;
            o_ins_id = _.last(d_ins != null ? d_ins.distribute_from_instances : void 0);
            o_ins = db.instances.findOne(o_ins_id);
            o_ins_form = db.forms.findOne(o_ins != null ? o_ins.form : void 0);
            d_ins_form = db.forms.findOne(d_ins != null ? d_ins.form : void 0);
            o_ins_fields = [];
            o_subtable_fields = [];
            d_ins_fields = [];
            d_subtable_fields = [];
            column_list = [];
            d_table_values = [];

            if ((o_ins != null ? o_ins.form_version : void 0) === (o_ins_form != null ? (ref17 = o_ins_form.current) != null ? ref17._id : void 0 : void 0)) {
              o_ins_fields = o_ins_form != null ? (ref18 = o_ins_form.current) != null ? ref18.fields : void 0 : void 0;
              o_ins_fields.forEach(function (o_ins_field) {
                if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                  return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                }
              });
            } else {
              if ((o_ins_form != null ? (ref19 = o_ins_form.historys) != null ? ref19.length : void 0 : void 0) > 0) {
                o_ins_form.historys.forEach(function (oh) {
                  if ((o_ins != null ? o_ins.form_version : void 0) === oh._id) {
                    o_ins_fields = oh != null ? oh.fields : void 0;
                    return o_ins_fields.forEach(function (o_ins_field) {
                      if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                        return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                      }
                    });
                  }
                });
              }
            }

            if ((d_ins != null ? d_ins.form_version : void 0) === (d_ins_form != null ? (ref20 = d_ins_form.current) != null ? ref20._id : void 0 : void 0)) {
              d_ins_fields = d_ins_form != null ? (ref21 = d_ins_form.current) != null ? ref21.fields : void 0 : void 0;
              d_ins_fields.forEach(function (d_ins_field) {
                if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                  return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                }
              });
            } else {
              if ((d_ins_form != null ? (ref22 = d_ins_form.historys) != null ? ref22.length : void 0 : void 0) > 0) {
                d_ins_form.historys.forEach(function (dh) {
                  if ((d_ins != null ? d_ins.form_version : void 0) === dh._id) {
                    d_ins_fields = dh != null ? dh.fields : void 0;
                    return d_ins_fields.forEach(function (d_ins_field) {
                      if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                        return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                      }
                    });
                  }
                });
              }
            }

            if (o_subtable_fields.length === 0) {
              console.log("o_subtable_fields", o_subtable_fields);
              throw new Meteor.Error('forward table refill error!', '原申请单无对应子表');
            }

            if (d_subtable_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单无对应子表');
            }

            d_table_values = (d_ins != null ? d_ins.values[d_table] : void 0) || [];

            if (a_table) {
              a_table_values = (d_ins != null ? d_ins.values[a_table] : void 0) || [];

              if (a_table_values && (a_table_values != null ? a_table_values.length : void 0) === (d_table_values != null ? d_table_values.length : void 0)) {
                a_table_values.forEach(function (a_row, index) {
                  var key, results, value;
                  results = [];

                  for (key in meteorBabelHelpers.sanitizeForInObject(a_row)) {
                    value = a_row[key];
                    results.push(d_table_values[index][key] = value);
                  }

                  return results;
                });
              }
            }

            if (d_table_values.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表数据为空');
            }

            o_match_col_fields = o_subtable_fields.filter(function (m) {
              return m.code === o_match_col;
            });
            d_match_col_fields = d_subtable_fields.filter(function (m) {
              return m.code === d_match_col;
            });

            if (o_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '原申请单子表无对应匹配列');
            }

            if (d_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应匹配列');
            }

            o_match_col_field = o_match_col_fields[0];
            d_match_col_field = d_match_col_fields[0];

            if ((o_match_col_field != null ? o_match_col_field.type : void 0) !== (d_match_col_field != null ? d_match_col_field.type : void 0)) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单和原申请单子表的匹配列字段不一致');
            }

            columns.forEach(function (column) {
              var col, cols, d_col, d_col_fields, o_col, o_col_fields;
              cols = column.split('-') || [];

              if (cols.length === 2) {
                o_col = cols[0];
                d_col = cols[1];
                o_col_fields = o_subtable_fields.filter(function (m) {
                  return m.code === o_col;
                });
                d_col_fields = d_subtable_fields.filter(function (m) {
                  return m.code === d_col;
                });

                if (o_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '原申请单子表无对应回填列');
                }

                if (d_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应回填列');
                }

                if ((o_col_fields != null ? o_col_fields.type : void 0) !== (d_col_fields != null ? d_col_fields.type : void 0)) {
                  throw new Meteor.Error('forward table refill error!', '回填列字段类型不一致');
                }

                col = {
                  o_col: o_col,
                  d_col: d_col
                };
                return column_list.push(col);
              } else {
                throw new Meteor.Error('forward table refill error!', '回填列不匹配');
              }
            });
            traces = o_ins != null ? o_ins.traces : void 0;
            trace = traces[traces.length - 1];
            approve = trace != null ? trace.approves[0] : void 0;
            table_data = (approve != null ? approve.values[o_table] : void 0) || [];
            d_table_values.forEach(function (d_row) {
              var count, has_obj, row_data;
              has_obj = false;
              count = -1;
              table_data.forEach(function (o_row, index) {
                if (o_row[o_match_col] === d_row[d_match_col]) {
                  has_obj = true;
                  return count = index;
                }
              });

              if (has_obj === true) {
                return column_list.forEach(function (col) {
                  return table_data[count][col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
              } else {
                row_data = {};
                row_data[o_match_col] = d_row[d_match_col];
                column_list.forEach(function (col) {
                  return row_data[col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
                return table_data.push(row_data);
              }
            });
            traces[traces.length - 1].approves[0].values = o_ins != null ? o_ins.values : void 0;
            traces[traces.length - 1].approves[0].values[o_table] = table_data;
            db.instances.update(o_ins_id, {
              $set: {
                'traces': traces
              }
            });
            JsonRoutes.sendResult(res, {
              code: 200,
              data: {
                'success': '回填成功'
              }
            });
          } else {
            throw new Meteor.Error('forward table refill error!', 'webhook未配置子表回填列字段 columns 值');
          }
        } else {
          throw new Meteor.Error('forward table refill error!', 'webhook未配置匹配列字段 oMatchCol 值');
        }
      } else {
        throw new Meteor.Error('forward table refill error!', 'webhook未配置原表单子表 oTable 值');
      }
    } else {
      throw new Meteor.Error('forward table refill error!', '申请单未结束');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_sub_table_sort.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_sub_table_sort.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/sub_table_sort", function (req, res, next) {
  var e, ins, new_table_values, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, sort_col, sub_table, sub_table_values, sum_col;

  try {
    console.log("=========子表==========");
    console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
    console.log("=========子表总分列==========");
    console.log("req?.query?.sumCol", req != null ? (ref1 = req.query) != null ? ref1.sumCol : void 0 : void 0);
    console.log("=========子表排序列==========");
    console.log("req?.query?.sortCol", req != null ? (ref2 = req.query) != null ? ref2.sortCol : void 0 : void 0);
    console.log("=========子表单列需要计算的和==========");
    console.log("req?.query?.singleCols", req != null ? (ref3 = req.query) != null ? ref3.singleCols : void 0 : void 0);
    sub_table = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

    if (!sub_table) {
      console.log("=====sub_table======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 subTable 字段');
    }

    sum_col = req != null ? (ref5 = req.query) != null ? ref5.sumCol : void 0 : void 0;

    if (!sum_col) {
      console.log("=====sum_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sumCol 字段');
    }

    sort_col = req != null ? (ref6 = req.query) != null ? ref6.sortCol : void 0 : void 0;

    if (!sort_col) {
      console.log("=====sort_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sortCol 字段');
    }

    ins = req != null ? (ref7 = req.body) != null ? ref7.instance : void 0 : void 0;
    sub_table_values = ins.values[sub_table];

    if ((sub_table_values != null ? sub_table_values.length : void 0) > 0) {
      var JsonSort = function (jsonArr, key, asc) {
        for (var j = 1, jl = jsonArr.length; j < jl; j++) {
          var temp = jsonArr[j],
              val = Number(temp[key]),
              i = j - 1;

          if (asc == true) {
            while (i >= 0 && Number(jsonArr[i][key]) > val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          } else {
            while (i >= 0 && Number(jsonArr[i][key]) < val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          }

          jsonArr[i + 1] = temp;
        }

        return jsonArr;
      };

      ;
      new_table_values = JsonSort(sub_table_values, sum_col, false);
      console.log("new_table_values", new_table_values);
      new_table_values.forEach(function (obj, index) {
        if (sort_col && obj[sum_col]) {
          return obj[sort_col] = (index + 1).toString();
        }
      });
      console.log("new_table_values", new_table_values);
      ins.values[sub_table] = new_table_values;
      db.instances.update(ins._id, {
        $set: {
          'values': ins.values
        }
      });
      console.log("success");
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'success': '计算排序成功'
        }
      });
    } else {
      throw new Meteor.Error('table sort error!', '子表数据为空');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"test_webhook.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/test_webhook.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isDevelopment) {
  JsonRoutes.add('post', '/test/webhook', function (req, res, next) {
    var e, hashData;

    try {
      hashData = req.body;
      console.log('action: ', hashData.action);
      console.log('from_user: ', hashData.from_user);
      console.log('to_users: ', hashData.to_users);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {}
      });
    } catch (error) {
      e = error;
      console.error(e.stack);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          errors: [{
            errorMessage: e.message
          }]
        }
      });
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_users.coffee                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/users", function (req, res, next) {
  var current_user, current_user_info, spaceId, spaceUsers, space_user, userIds;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  userIds = req.body.userIds;
  spaceId = req.body.spaceId;
  spaceUsers = [];
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!userIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getFormulaUserObjects(spaceId, userIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_organizations.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_organizations.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/orgs", function (req, res, next) {
  var current_user, current_user_info, orgIds, orgs, spaceId, space_user;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  orgIds = req.body.orgIds;
  spaceId = req.body.spaceId;
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!orgIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  orgs = WorkflowManager.getFormulaOrgObjects(orgIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'orgs': orgs
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"related_instances_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/related_instances_tabular.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return TabularTables.related_instances_tabular = new Tabular.Table({
    name: "related_instances_tabular",
    collection: db.instances,
    columns: [{
      data: "_id",
      title: '<input type="checkbox" name="reverse" id="reverse">',
      orderable: false,
      width: '1px',
      render: function (val, type, doc) {
        var input, ref;
        input = '<input type="checkbox" class="related-instances-list-checkbox" name="related_instances_ids" id="related_instances_ids" value="' + doc._id + '"';

        if ((ref = TabularTables.related_instances_tabular.related_instances) != null ? ref.includes(doc._id) : void 0) {
          input += " checked ";
        }

        input += ">";
        return input;
      }
    }, {
      data: "name",
      orderable: false,
      width: '45%',
      render: function (val, type, doc) {
        var absolute, href;
        href = '';

        if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
          href = '';
        }

        absolute = false;

        if (Meteor.isServer) {
          absolute = this.absolute;
        }

        if (absolute) {
          href = Meteor.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        } else {
          href = Steedos.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        }

        return "<a data-id='" + doc._id + "' target='_blank' href='" + href + "'>" + doc.name + "</a>";
      }
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      orderable: false
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_flow"),
      render: function (val, type, doc) {
        var judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + "</div>";
      }
    }],
    dom: "tp",
    lengthChange: false,
    extraFields: ["state", "final_decision", "space", "keywords"],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var curSpaceUser, flow_ids, flows, organizations, ref, ref1, space, spaceId;

      if (!userId) {
        return {
          _id: -1
        };
      }

      spaceId = selector.space;

      if (!spaceId) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          spaceId = selector.$and.getProperty('space')[0];
        }
      }

      if (!spaceId) {
        return {
          _id: -1
        };
      }

      space = db.spaces.findOne(spaceId);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(userId)) {
        flow_ids = [];
        curSpaceUser = db.space_users.findOne({
          space: spaceId,
          'user': userId
        });

        if (curSpaceUser) {
          organizations = db.organizations.find({
            _id: {
              $in: curSpaceUser.organizations
            }
          }).fetch();
          flows = db.flows.find({
            space: spaceId
          });
          flows.forEach(function (fl) {
            if (WorkflowManager.canMonitor(fl, curSpaceUser, organizations) || WorkflowManager.canAdmin(fl, curSpaceUser, organizations)) {
              return flow_ids.push(fl._id);
            }
          });
        }

        if ((selector != null ? (ref1 = selector.$and) != null ? ref1.length : void 0 : void 0) > 0) {
          selector.$and[0].$or = [{
            submitter: userId
          }, {
            applicant: userId
          }, {
            inbox_users: userId
          }, {
            outbox_users: userId
          }, {
            cc_users: userId
          }, {
            flow: {
              $in: flow_ids
            }
          }];
        } else {
          _.extend(selector, {
            $or: [{
              submitter: userId
            }, {
              applicant: userId
            }, {
              inbox_users: userId
            }, {
              outbox_users: userId
            }, {
              cc_users: userId
            }, {
              flow: {
                $in: flow_ids
              }
            }]
          });
        }
      }

      return selector;
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/tabular.coffee                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var GetBoxInstancesTabularOptions, _get_inbox_instances_tabular_options, _get_outbox_instances_tabular_options, _handleListFields, instancesListTableTabular, newInstancesListTabular, updateTabularTitle;

Steedos.subs["InstanceTabular"] = new SubsManager();

_handleListFields = function (fields) {
  var ins_fields;
  ins_fields = new Array();

  if (fields != null) {
    fields.forEach(function (f) {
      var ref;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
          return ins_fields.push(f1);
        }) : void 0 : void 0;
      } else {
        return ins_fields.push(f);
      }
    });
  }

  return ins_fields;
};

updateTabularTitle = function () {};

instancesListTableTabular = function (flowId, fields) {
  var ins_fields, key, options;
  options = {
    name: "instances",
    collection: db.instances,
    pub: "instance_tabular",
    onUnload: function () {
      return Meteor.setTimeout(Template.instance_list._tableColumns, 150);
    },
    drawCallback: function (settings) {
      var ellipsisLink, emptyTd, title;
      emptyTd = $(".dataTables_empty");

      if (emptyTd.length) {
        emptyTd[0].colSpan = "6";
      }

      if (!Steedos.isMobile() && !Steedos.isPad()) {
        Meteor.setTimeout(Template.instance_list._tableColumns, 150);
        $(".instance-list").scrollTop(0).ready(function () {
          return $(".instance-list").perfectScrollbar("update");
        });
      } else {
        $(".instance-list").scrollTop(0);
      }

      title = t("pager_input_hint");
      ellipsisLink = settings.oInstance.parent().find('.paging_numbers .pagination .disabled a');
      return ellipsisLink.attr("title", title).css("cursor", "pointer").click(function () {
        var goPage, input;

        if (!$(this).find('input').length) {
          input = $('<input class="paginate_input form-control input-sm" type="text" style="border: none; padding:0 2px;"/>');

          if (Steedos.isMobile()) {
            input.css({
              width: "52px",
              height: "20px"
            });
          } else {
            input.css({
              width: "52px",
              height: "16px"
            });
          }

          input.attr("title", title).attr("placeholder", title);
          $(this).empty().append(input);

          goPage = function (index) {
            var pages;

            if (index > 0) {
              pages = Math.ceil(settings.fnRecordsDisplay() / settings._iDisplayLength);

              if (index > pages) {
                index = pages;
              }

              index--;
              return settings.oInstance.DataTable().page(index).draw('page');
            }
          };

          input.blur(function (e) {
            var currentPage;
            currentPage = $(this).val();
            goPage(currentPage);
            return $(this).parent().html('...');
          });
          return input.keydown(function (e) {
            var currentPage;

            if (e.keyCode.toString() === "13") {
              currentPage = $(this).val();
              return goPage(currentPage);
            }
          });
        }
      });
    },
    createdRow: function (row, data, dataIndex) {
      if (Meteor.isClient) {
        if (data._id === FlowRouter.current().params.instanceId) {
          return row.setAttribute("class", "selected");
        }
      }
    },
    columns: [{
      data: "_id",
      orderable: false,
      render: function (val, type, doc) {
        var agent_view, cc_view, flow_name, instanceNamePriorityClass, modified, modifiedFromNow, modifiedString, priorityIcon, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        modifiedString = moment(doc.modified).format('YYYY-MM-DD');
        modified = doc.modified;

        if (Session.get("box") === 'inbox' && doc.state !== 'draft') {
          modified = doc.start_date || doc.modified;
        }

        if (Session.get("box") === 'outbox' || Session.get("box") === 'monitor') {
          modified = doc.submit_date || doc.submit_date;
        }

        modifiedFromNow = Steedos.momentReactiveFromNow(modified);
        flow_name = doc.flow_name;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
          step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
        } else {
          if (Session.get("box") !== 'draft' && doc.current_step_name) {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
          } else {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "</div>";
          }
        }

        agent_view = "";

        if (doc.agent_user_name && Session.get("box") === 'inbox') {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIcon = "";
        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "\n	<span>" + doc.applicant_name + "</span>\n</div>\n<div class='instance-detail'>" + step_current_name_view + "\n	<span class='instance-modified' title='" + modifiedString + "'>" + modifiedFromNow + "</span>\n</div>";
      }
    }, {
      data: "applicant_organization_name",
      title: t("instances_applicant_organization_name"),
      visible: false
    }, {
      data: "name",
      title: t("instances_name"),
      render: function (val, type, doc) {
        var agent_view, cc_view, instanceNamePriorityClass, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
        }

        agent_view = "";

        if (doc.agent_user_name) {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      visible: false,
      orderable: false
    }, {
      data: "submit_date",
      title: t("instances_submit_date"),
      render: function (val, type, doc) {
        if (doc.submit_date) {
          return moment(doc.submit_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      visible: false,
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_step_current_name"),
      render: function (val, type, doc) {
        var cc_tag, judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        cc_tag = '';

        if (doc.cc_count > 0) {
          cc_tag = TAPi18n.__('cc_tag');
        }

        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + cc_tag + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "modified",
      title: t("instances_modified"),
      render: function (val, type, doc) {
        return moment(doc.modified).format('YYYY-MM-DD HH:mm');
      },
      visible: false,
      orderable: true
    }, {
      data: "start_date",
      title: t("instances_start_date"),
      render: function (val, type, doc) {
        if (doc.start_date) {
          return moment(doc.start_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "my_finish_date",
      render: function (val, type, doc) {
        if (doc.my_finish_date) {
          return moment(doc.my_finish_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "modified",
      visible: false
    }, {
      data: "keywords",
      visible: false
    }, {
      data: "is_archived",
      render: function (val, type, doc) {
        var ref;

        if ((doc != null ? (ref = doc.values) != null ? ref.record_need : void 0 : void 0) && doc.values.record_need === "true") {
          if (doc != null ? doc.is_archived : void 0) {
            return t("YES");
          }

          return t("NO");
        }
      },
      visible: false,
      orderable: false
    }],
    dom: function () {
      if (Steedos.isMobile()) {
        return 'tp';
      } else {
        return 'tpl';
      }
    }(),
    order: [[4, "desc"]],
    extraFields: ["form", "flow", "inbox_users", "state", "space", "applicant", "form_version", "flow_version", "is_cc", "cc_count", "is_read", "current_step_name", "values", "keywords", "final_decision", "flow_name", "is_hidden", "agent_user_name"],
    lengthChange: true,
    lengthMenu: [10, 15, 20, 25, 50, 100],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var ref, space, space_user;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;

      if (!space) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          space = selector.$and.getProperty('space')[0];
        }
      }

      if (!space) {
        return {
          _id: -1
        };
      }

      space_user = db.space_users.findOne({
        user: userId,
        space: space
      }, {
        fields: {
          _id: 1
        }
      });

      if (!space_user) {
        return {
          _id: -1
        };
      }

      return selector;
    },
    pagingType: "numbers"
  };

  if (flowId) {
    key = "instanceFlow" + flowId;
    options.name = key;
    TabularTables.instances.fields = fields;
    ins_fields = _handleListFields(TabularTables.instances.fields);
    ins_fields.forEach(function (f) {
      if (f.type !== 'table' && f.is_list_display) {
        return options.columns.push({
          data: f.name || f.code,
          title: t(f.name || f.code),
          visible: false,
          orderable: false,
          render: function (val, type, doc) {
            var value, values;
            values = doc.values || {};
            value = values[f.code];

            switch (f.type) {
              case 'user':
                value = value != null ? value.name : void 0;
                break;

              case 'group':
                value = value != null ? value.fullname : void 0;
                break;

              case 'date':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD');
                }

                break;

              case 'dateTime':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD HH:mm');
                }

                break;

              case 'checkbox':
                if (value === true || value === 'true') {
                  value = TAPi18n.__("form_field_checkbox_yes");
                } else {
                  value = TAPi18n.__("form_field_checkbox_no");
                }

                break;

              case 'odata':
                if (value) {
                  if (_.isArray(value)) {
                    value = _.pluck(value, '@label').toString();
                  } else {
                    value = value['@label'];
                  }
                }

            }

            return value;
          }
        });
      }
    });
  }

  return options;
};

Meteor.startup(function () {
  return TabularTables.instances = new Tabular.Table(instancesListTableTabular());
});

GetBoxInstancesTabularOptions = function (box, flowId, fields) {
  var key, options;
  key = "instanceFlow" + box + flowId;

  if (box === "inbox") {
    options = _get_inbox_instances_tabular_options(flowId, fields);
  } else if (box === "outbox") {
    options = _get_outbox_instances_tabular_options(flowId, fields);
  } else {
    options = instancesListTableTabular(flowId, fields);

    if (!flowId) {
      options.name = "inbox_instances";
    }
  }

  if (flowId) {
    options.name = key;
  }

  return options;
};

_get_inbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "inbox_instances";
  }

  options.order = [[8, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': false,
        '_approve.handler': userId
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'start_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_start_date": {
              $first: "$_approve.start_date"
            }
          }
        });
        ag_sort = {
          'approve_start_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.inbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("inbox"));
});

_get_outbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "outbox_instances";
  }

  options.order = [[9, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': true,
        $or: [{
          '_approve.handler': userId
        }, {
          '_approve.user': userId
        }]
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'my_finish_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_finish_date": {
              $last: "$_approve.finish_date"
            }
          }
        });
        ag_sort = {
          'approve_finish_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.outbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("outbox"));
});

if (Meteor.isClient) {
  TabularTables.flowInstances = new ReactiveVar();
}

Meteor.startup(function () {
  return Tracker.autorun(function (c) {
    if (Meteor.isClient && !Steedos.isMobile()) {
      if (Session.get("flowId") && Session.get("box") !== 'draft') {
        return Meteor.call("newInstancesListTabular", Session.get("box"), Session.get("flowId"), function (error, result) {
          newInstancesListTabular(Session.get("box"), Session.get("flowId"), result);
          return Template.instance_list._changeOrder();
        });
      }
    }
  });
});

newInstancesListTabular = function (box, flowId, fields) {
  var flow, key, ref, ref1, ref2;

  if (!fields) {
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        form: 1
      }
    });
    fields = (ref = db.forms.findOne({
      _id: flow != null ? flow.form : void 0
    }, {
      fields: {
        'current.fields': 1
      }
    })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
  }

  fields = _handleListFields(fields);

  if ((fields != null ? (ref2 = fields.filterProperty("is_list_display", true)) != null ? ref2.length : void 0 : void 0) > 0) {
    key = "instanceFlow" + box + flowId;

    if (Meteor.isClient) {
      TabularTables.flowInstances.set(new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields)));
    } else {
      new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields));
    }

    return console.log("new TabularTables ", key);
  }
};

if (Meteor.isServer) {
  Meteor.methods({
    newInstancesListTabular: function (box, flowId) {
      var fields, flow, ref, ref1;
      newInstancesListTabular(box, flowId);
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          form: 1
        }
      });
      fields = (ref = db.forms.findOne({
        _id: flow != null ? flow.form : void 0
      }, {
        fields: {
          'current.fields': 1
        }
      })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
      return fields;
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}}},{
  "extensions": [
    ".js",
    ".json",
    ".i18n.json",
    ".coffee"
  ]
});

require("/node_modules/meteor/steedos:workflow/i18n/en.i18n.json.js");
require("/node_modules/meteor/steedos:workflow/i18n/zh-CN.i18n.json.js");
require("/node_modules/meteor/steedos:workflow/checkNpm.js");
require("/node_modules/meteor/steedos:workflow/lib/collection_helpers.js");
require("/node_modules/meteor/steedos:workflow/lib/tapi18n.coffee");
require("/node_modules/meteor/steedos:workflow/lib/core.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/forms.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flows.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/categories.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/spaces.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/deleted_instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/auth_tokens.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/webhooks.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_users.coffee");
require("/node_modules/meteor/steedos:workflow/lib/cfs/instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/instance_readonly_template.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/template_manager.coffee");
require("/node_modules/meteor/steedos:workflow/client/coreform/inputTypes/coreform-table/steedos-table.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_image_sign.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_form.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_attachments.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_sign_text.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_help.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_records.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/set_instance_step_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/get_instance_data.js");
require("/node_modules/meteor/steedos:workflow/server/methods/save_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/trace_approve_cc.js");
require("/node_modules/meteor/steedos:workflow/server/methods/forward_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/cfs_instances.js");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_return.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_remind.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/next_step_users_not_found.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_number_rules.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/check_main_attach.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/edit_flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/start_flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_traces.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_batch.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/distribute.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/hide_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_value.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/steedos_css.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance_draft_view.coffee");
require("/node_modules/meteor/steedos:workflow/routes/nextStepUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getSpaceUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getFormulaUserObjects.js");
require("/node_modules/meteor/steedos:workflow/routes/init_formula_values.js");
require("/node_modules/meteor/steedos:workflow/routes/getNameForUser.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_designer_startup.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_engine.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_remove.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_terminate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_reassign.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_relocate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_archive.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_export.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_space_changeset.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_retrieve.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward.js");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_instance.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_pending.coffee");
require("/node_modules/meteor/steedos:workflow/routes/export_table_template.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_save.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get_by_stepname.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_cfs.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_table_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_sub_table_sort.coffee");
require("/node_modules/meteor/steedos:workflow/routes/test_webhook.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/1_form_formula.js");
require("/node_modules/meteor/steedos:workflow/server/lib/get_handlers_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/permission_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/approve_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/flow_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/form_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/step_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/categories.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/cfs_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flows.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/forms.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_data.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_list.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_draft.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/distributed_instances_state_by_ids.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/related_instaces.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/user_inbox_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_main_attach_template.coffee");
require("/node_modules/meteor/steedos:workflow/lib/admin.coffee");
require("/node_modules/meteor/steedos:workflow/related_instances_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/tabular.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_users.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_organizations.coffee");
require("/node_modules/meteor/steedos:workflow/server/flow-template/workflow_template.coffee");
require("/node_modules/meteor/steedos:workflow/server/startup.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/instance_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/auto_finish_process_delegation.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/timeout_auto_submit.coffee");

/* Exports */
Package._define("steedos:workflow", {
  InstanceManager: InstanceManager,
  WorkflowManager_format: WorkflowManager_format,
  Workflow: Workflow,
  SteedosTable: SteedosTable,
  InstanceReadOnlyTemplate: InstanceReadOnlyTemplate,
  TemplateManager: TemplateManager,
  CoreForm: CoreForm,
  InstanceNumberRules: InstanceNumberRules,
  getHandlersManager: getHandlersManager,
  permissionManager: permissionManager,
  workflowTemplate: workflowTemplate,
  approveManager: approveManager,
  stepManager: stepManager,
  flowManager: flowManager,
  formManager: formManager
});

})();

//# sourceURL=meteor://💻app/packages/steedos_workflow.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jaGVja05wbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9saWIvY29yZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL2xpYi9jb3JlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9saWIvbW9kZWxzL2F1dGhfdG9rZW5zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvbGliL2luc3RhbmNlX3JlYWRvbmx5X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L2xpYi9pbnN0YW5jZV9yZWFkb25seV90ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L2xpYi90ZW1wbGF0ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L2xpYi90ZW1wbGF0ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvY29yZWZvcm0vaW5wdXRUeXBlcy9jb3JlZm9ybS10YWJsZS9zdGVlZG9zLXRhYmxlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW1hZ2Vfc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW1hZ2Vfc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX2luc3RhbmNlX2F0dGFjaG1lbnRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW5zdGFuY2Vfc2lnbl90ZXh0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9zaWduX3RleHQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9fdHJhY2VzX2hlbHAuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oZWxwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX3JlY29yZHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfcmVjb3Jkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvc2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL3NldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2dldF9pbnN0YW5jZV9kYXRhLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL3NhdmVfaW5zdGFuY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvdHJhY2VfYXBwcm92ZV9jYy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9mb3J3YXJkX2luc3RhbmNlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2Nmc19pbnN0YW5jZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9uZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9jaGVja19tYWluX2F0dGFjaC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvcmVsYXRlZF9pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvZWRpdF9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2VkaXRfZmxvd19wb3NpdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL3N0YXJ0X2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9zdGFydF9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2JhdGNoLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYmF0Y2guY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9oaWRlX2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaGlkZV9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfdmFsdWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV92YWx1ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3JvdXRlcy9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9yb3V0ZXMvaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9yb3V0ZXMvc3RlZWRvc19jc3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL3N0ZWVkb3NfY3NzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9saWIvMV9mb3JtX2Zvcm11bGEuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL2xpYi9nZXRfaGFuZGxlcnNfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZ2V0X2hhbmRsZXJzX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvcGVybWlzc2lvbl9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9wZXJtaXNzaW9uX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvYXBwcm92ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9hcHByb3ZlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvZmxvd19tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2Zvcm1fbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZm9ybV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL3N0ZXBfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvc3RlcF9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zvcm1zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mb3Jtcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kcmFmdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfZHJhZnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvZmxvdy10ZW1wbGF0ZS93b3JrZmxvd190ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9mbG93LXRlbXBsYXRlL3dvcmtmbG93X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvc2NoZWR1bGUvYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3NjaGVkdWxlL2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3NjaGVkdWxlL3RpbWVvdXRfYXV0b19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvc2NoZWR1bGUvdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL25leHRTdGVwVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldFNwYWNlVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldEZvcm11bGFVc2VyT2JqZWN0cy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvaW5pdF9mb3JtdWxhX3ZhbHVlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvZ2V0TmFtZUZvclVzZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvZ2V0TmFtZUZvclVzZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZGVzaWduZXJfc3RhcnR1cC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfZGVzaWduZXJfc3RhcnR1cC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19lbmdpbmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2VuZ2luZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19kcmFmdHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZW1vdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbW92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd190ZXJtaW5hdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3Rlcm1pbmF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZWFzc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVhc3NpZ24uY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVsb2NhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbG9jYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2FyY2hpdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2FyY2hpdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZXhwb3J0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19leHBvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfc3BhY2VfY2hhbmdlc2V0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19zcGFjZV9jaGFuZ2VzZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfcmV0cmlldmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JldHJpZXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9wZW5kaW5nLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3BlbmRpbmcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9leHBvcnRfdGFibGVfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvZXhwb3J0X3RhYmxlX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9nZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc3VibWl0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc2F2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zYXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0X2J5X3N0ZXBuYW1lLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldF9ieV9zdGVwbmFtZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2Nmcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9jZnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfdGFibGVfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19mb3J3YXJkX3RhYmxlX3JlZmlsbC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9zdWJfdGFibGVfc29ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfc3ViX3RhYmxlX3NvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy90ZXN0X3dlYmhvb2suY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvdGVzdF93ZWJob29rLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX2Zvcm11bGFfdXNlcnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX2Zvcm11bGFfdXNlcnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZm9ybXVsYV9vcmdhbml6YXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9mb3JtdWxhX29yZ2FuaXphdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy90YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvdGFidWxhci5jb2ZmZWUiXSwibmFtZXMiOlsiY2hlY2tOcG1WZXJzaW9ucyIsIm1vZHVsZSIsImxpbmsiLCJ2IiwiY29va2llcyIsIm1rZGlycCIsIldvcmtmbG93IiwiSW1hZ2VTaWduIiwiVHJhY2VzVGVtcGxhdGUiLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZSIsIkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlIiwiSW5zdGFuY2VTaWduVGV4dCIsIlJlbGF0ZWRJbnN0YW5jZXMiLCJSZWxhdGVkUmVjb3JkcyIsIkluc3RhbmNlTWFjcm8iLCJjb250ZXh0IiwiVHJhY2VzTWFuYWdlciIsIk1ldGVvciIsImlzQ2xpZW50Iiwic3RhcnR1cCIsIndvcmtmbG93X3RocmVlX2NvbHVtbnMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiJCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyIsImZpZWxkX2Zvcm11bGEiLCJpbmRleE9mIiwiaW5jbHVkZXNPcGluaW9uRmllbGQiLCJmb3JtIiwiZm9ybV92ZXJzaW9uIiwiX2Zvcm1fdmVyc2lvbiIsImZpZWxkX2Zvcm11bGFzIiwiZmllbGRzIiwiQXJyYXkiLCJpc1NlcnZlciIsInV1Zmxvd01hbmFnZXIiLCJnZXRGb3JtVmVyc2lvbiIsImRiIiwiZm9ybXMiLCJmaW5kT25lIiwiX2lkIiwiZm9ybV92ZXJzaW9ucyIsImZvckVhY2giLCJmIiwicmVmIiwidHlwZSIsImNvbnNvbGUiLCJsb2ciLCJmMSIsInB1c2giLCJmb3JtdWxhIiwiXyIsInNvbWUiLCJoZWxwZXJzIiwiYXV0aF90b2tlbnMiLCJDb2xsZWN0aW9uIiwiX2dldExvY2FsZSIsIl9nZXRSZXF1aXJlZEZpZWxkcyIsIl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyIsIl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyIsIl9nZXRUZW1wbGF0ZURhdGEiLCJfZ2V0Vmlld0h0bWwiLCJnZXRMaW5rVGV4dCIsIkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSIsImluc3RhbmNlX2F0dGFjaG1lbnQiLCJhZlNlbGVjdFVzZXJSZWFkIiwiYWZGb3JtR3JvdXBSZWFkIiwiYWZGb3JtR3JvdXAiLCJjcmVhdGUiLCJ0ZW1wYWx0ZU5hbWUiLCJzdGVlZG9zRGF0YSIsInRlbXBsYXRlIiwidGVtcGxhdGVDb21waWxlZCIsInRlbXBsYXRlUmVuZGVyRnVuY3Rpb24iLCJTcGFjZWJhcnNDb21waWxlciIsImNvbXBpbGUiLCJpc0JvZHkiLCJldmFsIiwiVGVtcGxhdGUiLCJCbGF6ZSIsImNyZWF0ZUluc3RhbmNlU2lnblRleHQiLCJpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQiLCJpbnN0YW5jZVNpZ25UZXh0SHRtbCIsImluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiIsImluc3RhbmNlU2lnblRleHQiLCJjcmVhdGVJbWFnZVNpZ24iLCJpbWFnZVNpZ25Db21waWxlZCIsImltYWdlU2lnbkh0bWwiLCJpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiIsImltYWdlU2lnbiIsImluaXQiLCJhYnNvbHV0ZSIsIml0ZW0iLCJsYWJlbCIsImRldGFpbF91cmwiLCJyZXBsYWNlIiwiZ2V0VmFsdWUiLCJ2YWx1ZSIsImZpZWxkIiwibG9jYWxlIiwidXRjT2Zmc2V0IiwiZGF0ZSIsImUiLCJob3VycyIsIm1vbnRoIiwic2Vjb25kcyIsInQiLCJ0MCIsInQxIiwieWVhciIsImVuY29kZVVSSSIsImVycm9yIiwiaXNfbXVsdGlzZWxlY3QiLCJnZXRQcm9wZXJ0eSIsInRvU3RyaW5nIiwiZnVsbG5hbWUiLCJuYW1lIiwiVEFQaTE4biIsIl9fIiwibGVuZ3RoIiwic3BsaXQiLCJEYXRlIiwiZm9ybWF0RGF0ZSIsImlzX3RleHRhcmVhIiwiU3BhY2ViYXJzIiwiU2FmZVN0cmluZyIsIk1hcmtkb3duIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJkaWdpdHMiLCJTdGVlZG9zIiwibnVtYmVyVG9TdHJpbmciLCJtYXAiLCJnZXRMYWJlbCIsImNvZGUiLCJmaW5kUHJvcGVydHlCeVBLIiwiZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbiIsImluc3RhbmNlIiwiZm9ybV9maWVsZHMiLCJjdXJyZW50Iiwid2hlcmUiLCJoaXN0b3J5cyIsImdldEZsb3dWZXJzaW9uIiwiZmxvdyIsImZsb3dfdmVyc2lvbiIsImZsb3dzIiwicGF0aCIsInZpZXdIdG1sIiwiQXNzZXRzIiwiZ2V0VGV4dCIsInVzZXIiLCJyZWYxIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJyZXYiLCJpc19yZXF1aXJlZCIsInN0ZXBzIiwiZWRpdGFibGVDb2RlIiwic3RhcnRTdGVwIiwia2V5cyIsInBlcm1pc3Npb25zIiwia2V5IiwicmVxdWlyZWRGaWVsZHMiLCJpbnRlcnNlY3Rpb24iLCJzcGFjZSIsIm9wdGlvbnMiLCJXb3JrZmxvd01hbmFnZXIiLCJjbG9uZSIsIldvcmtmbG93TWFuYWdlcl9mb3JtYXQiLCJnZXRBdXRvZm9ybVNjaGVtYVZhbHVlcyIsImluc25hbWUiLCJpbnNfc3RhdGUiLCJzdGF0ZSIsImluc19maW5hbF9kZWNpc2lvbiIsImluc19jb2RlIiwiaW5zX2lzX2FyY2hpdmVkIiwiaXNfYXJjaGl2ZWQiLCJpbnNfaXNfZGVsZXRlZCIsImFwcGxpY2FudF9uYW1lIiwiYXBwbGljYW50Q29udGV4dCIsInNlc3Npb25Vc2VySWQiLCJlZGl0YWJsZSIsInN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzIiwicGFzc2luZyIsIm1vbWVudCIsImZvcm1hdCIsImdldEluc3RhbmNlVmlldyIsImJvZHkiLCJpbnN0YW5jZUNvbXBpbGVkIiwiaW5zdGFuY2VSZW5kZXJGdW5jdGlvbiIsImluc3RhbmNlVGVtcGxhdGUiLCJUZW1wbGF0ZU1hbmFnZXIiLCJnZXRUZW1wbGF0ZSIsInRlbXBsYXRlTmFtZSIsImluc3RhbmNlX3JlYWRvbmx5X3ZpZXciLCJ0b0hUTUxXaXRoRGF0YSIsImdldFRyYWNlc1ZpZXciLCJ0cmFjZUNvbXBpbGVkIiwidHJhY2VSZW5kZXJGdW5jdGlvbiIsInRyYWNlc0h0bWwiLCJpbnN0YW5jZV9zdHlsZSIsInRyYWNlX3JlYWRvbmx5X3ZpZXciLCJ0cmFjZXMiLCJnZXRBdHRhY2htZW50VmlldyIsImF0dGFjaG1lbnRDb21waWxlZCIsImF0dGFjaG1lbnRIdG1sIiwiYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uIiwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyIsImdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3IiwicmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkIiwicmVsYXRlZEluc3RhbmNlc0h0bWwiLCJyZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24iLCJyZWxhdGVkX2luc3RhbmNlc192aWV3IiwiZ2V0UmVsYXRlZFJlY29yZHNWaWV3IiwicmVsYXRlZFJlY29yZHNDb21waWxlZCIsInJlbGF0ZWRSZWNvcmRzSHRtbCIsInJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24iLCJyZWxhdGVkX3JlY29yZHNfdmlldyIsImdldE9uTG9hZFNjcmlwdCIsImZvcm1fc2NyaXB0IiwiZ2V0SW5zdGFuY2VIdG1sIiwiYWJzb2x1dGVVcmwiLCJhbGxDc3NMaW5rIiwiYXR0YWNobWVudCIsImNyZWF0b3JTZXJ2aWNlIiwiY3NzSHJlZiIsImZvcm1EZXNjcmlwdGlvbiIsImZvcm1EZXNjcmlwdGlvbkh0bWwiLCJodG1sIiwiaW5zX3JlY29yZF9pZHMiLCJpbnN0YW5jZUJveFN0eWxlIiwib25Mb2FkU2NyaXB0Iiwib3BlbkZpbGVTY3JpcHQiLCJyZWxhdGVkX2luc3RhbmNlcyIsInJlbGF0ZWRfcmVjb3JkcyIsInNob3dUcmFjZXNCdG4iLCJzaG93VHJhY2VzU2NyaXB0IiwidHJhY2UiLCJ0cmFjZUNoZWNrIiwid2lkdGgiLCJzZXR0aW5ncyIsIndlYnNlcnZpY2VzIiwiY3JlYXRvciIsInVybCIsInJlY29yZF9pZHMiLCJKU09OIiwic3RyaW5naWZ5IiwiaXNNb2JpbGUiLCJzaG93VHJhY2UiLCJmaW5hbF9kZWNpc2lvbiIsInNob3dBdHRhY2htZW50cyIsImlzRW1wdHkiLCJ0YWdnZXIiLCJzdHlsZXMiLCJkZXNjcmlwdGlvbiIsInBsdWdpbnMiLCJmb3JtSWQiLCJpbnN0YW5jZV90aXRsZSIsInBhZ2VUaXRsZSIsInBhZ2VUaXRsZVRyQ2xhc3MiLCJ2YWwiLCJDb3JlRm9ybSIsInBhZ2VUaXRsZUZpZWxkTmFtZSIsImhhbmRsZVRhYmxlVGVtcGxhdGUiLCJfZXhwb3J0IiwidGFibGVfZmllbGRzIiwidGFibGVfZmllbGQiLCJmaWVsZF9wZXJtaXNzaW9uIiwicHVyZUNvZGUiLCJyZXF1aXJlZCIsInRpdGxlX3Blcm1pc3Npb24iLCJyZW1vdmVTcGVjaWFsQ2hhcmFjdGVyIiwiaXNPcGluaW9uRmllbGQiLCJ0cl9zdGFydCIsInRkX2NvbHNwYW4iLCJ0cl9lbmQiLCJpbmNsdWRlcyIsInBlcm1pc3Npb24iLCJfdGVtcGxhdGUiLCJ0YWJsZSIsIl90ZW1wbGF0ZUhlbHBzIiwiZGF0YSIsInN0ZWVkb3NfaW5zdGFuY2UiLCJnZXRJbnN0YW5jZSIsImF0dHMiLCJpZCIsInN0eWxlIiwiZGlzYWJsZWQiLCJpbnN0YW5jZUlkIiwiZm9ybV90eXBlcyIsIkFwcHJvdmVNYW5hZ2VyIiwiaXNSZWFkT25seSIsInN0ZWVkb3NfZm9ybSIsImlubmVyc3ViZm9ybUNvbnRleHQiLCJvYmoiLCJkb2NfdmFsdWVzIiwiU2Vzc2lvbiIsImdldCIsImVxdWFscyIsImEiLCJiIiwiU2ltcGxlU2NoZW1hIiwiZ2V0QXV0b2Zvcm1TY2hlbWEiLCJpbnN0YW5jZV9ib3hfc3R5bGUiLCJib3giLCJpbnMiLCJqdWRnZSIsInByaW50X3RlbXBsYXRlIiwiaW5zdGFuY2VfdGVtcGxhdGUiLCJTdGVlZG9zVGFibGUiLCJjaGVja0l0ZW0iLCJpdGVtX2luZGV4IiwiZmllbGRPYmoiLCJnZXRGaWVsZCIsImZpZWxkVmFsIiwiZ2V0SXRlbU1vZGFsVmFsdWUiLCJzZl9uYW1lIiwic2ZpZWxkcyIsInNmIiwiSW5zdGFuY2VNYW5hZ2VyIiwiY2hlY2tGb3JtRmllbGRWYWx1ZSIsInNldFRhYmxlSXRlbVZhbHVlIiwiaXRlbV92YWx1ZSIsInRhYmxlVmFsdWUiLCJnZXRUYWJsZVZhbHVlIiwiZ2V0VGFibGVJdGVtVmFsdWUiLCJyZW1vdmVUYWJsZUl0ZW0iLCJyZW1vdmVkIiwic2V0VGFibGVWYWx1ZSIsImdldFZhbGlkVmFsdWUiLCJ2YWxpZFZhbHVlIiwiaGFuZGxlRGF0YSIsInZhbHVlcyIsImluc3RhbmNlRmllbGRzIiwiZ2V0SW5zdGFuY2VGaWVsZHMiLCJnZXRNb2RhbERhdGEiLCJpbmRleCIsIkZvcm1fZm9ybXVsYSIsImdldEZvcm11bGFGaWVsZFZhcmlhYmxlIiwiQXV0b0Zvcm0iLCJnZXRGb3JtVmFsdWVzIiwiaW5zZXJ0RG9jIiwiYWRkSXRlbSIsIl9pdGVtX3ZhbHVlIiwiZ2V0S2V5cyIsImFwcGVuZCIsImdldFRyIiwidXBkYXRlSXRlbSIsInRkcyIsImdldFJlbW92ZVRkIiwic2ZpZWxkIiwiZ2V0VGQiLCJlbXB0eSIsInJ1bkZvcm11bGEiLCJyZW1vdmVJdGVtIiwiaGlkZSIsInNob3dNb2RhbCIsIm1ldGhvZCIsIm1vZGFsRGF0YSIsIk1vZGFsIiwic2hvdyIsImdldEN1cnJlbnREYXRhRm9yRm9ybSIsInNzIiwiZ2V0Rm9ybVNjaGVtYSIsInNjaGVtYSIsIk9iamVjdCIsIm9iamVjdEtleXMiLCJfbWFrZUdlbmVyaWMiLCJnZXRUaGVhZCIsImlzT2JqZWN0IiwidGhlYWQiLCJ0cnMiLCJzZl9sZW5ndGgiLCJ3aWRlX2ZpZWxkcyIsImZpbHRlclByb3BlcnR5IiwiaXNfd2lkZSIsImdldFRib2R5IiwidGJvZHkiLCJ0ciIsInRkIiwidGRfdmFsdWUiLCJnZXRURFZhbHVlIiwidmlldyIsIkNGRGF0YU1hbmFnZXIiLCJnZXRGb3JtdWxhU3BhY2VVc2VycyIsInUiLCJnZXRGb3JtdWxhT3JnYW5pemF0aW9ucyIsIm8iLCJnZXRGb3JtdWxhT3JnYW5pemF0aW9uIiwicGx1Y2siLCJhZGRJbnB1dFR5cGUiLCJ2YWx1ZU91dCIsInZhbHVlQ29udmVydGVycyIsInN0cmluZ1RvU3RyaW5nQXJyYXkiLCJzdHJpbmdUb051bWJlciIsInN0cmluZ1RvTnVtYmVyQXJyYXkiLCJzdHJpbmdUb0Jvb2xlYW4iLCJzdHJpbmdUb0Jvb2xlYW5BcnJheSIsInN0cmluZ1RvRGF0ZSIsInN0cmluZ1RvRGF0ZUFycmF5IiwiY29udGV4dEFkanVzdCIsIm1heGxlbmd0aCIsIm1heCIsImFmVGFibGUiLCJldmVudHMiLCJldmVudCIsIm5ld19pdGVtX2luZGV4IiwiY3VycmVudFRhcmdldCIsImRhdGFzZXQiLCJzZXQiLCJyZW5kZXJlZCIsInN0ciIsImFkZEl0ZW1UciIsInNwYWNlVXNlclNpZ24iLCJ1c2VySWQiLCJzcGFjZV91c2VyX3NpZ25zIiwiaW1hZ2VVUkwiLCJzaWduIiwidW5lbXB0eSIsInVuZXF1YWxzIiwiaW5jbHVkZSIsInBhcnNlIiwicmVmMiIsInJlZjMiLCJnZXRJbnN0YW5jZUZsb3dWZXJzaW9uIiwiYXBwcm92ZXMiLCJyZWY0Iiwic3RlcCIsImFwcHJvdmUiLCJqdWRnZV9uYW1lIiwiaXNfZmluaXNoZWQiLCJoYW5kbGVyIiwiaGFuZGxlcl9uYW1lIiwiaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSIsImhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lIiwiZmluaXNoX2RhdGUiLCJvcGluaW9uX2ZpZWxkc19jb2RlIiwic2lnbl9maWVsZF9jb2RlIiwiaXNfcmVhZCIsInNpZ25fc2hvdyIsImNvbmNhdCIsImFmdGVyX2ZpZWxkIiwiYmVmb3JlX2ZpZWxkIiwicHJlX2ZpZWxkcyIsInByZV93aWRlX2ZpZWxkcyIsInNsaWNlIiwic29ydF9hcHByb3ZlIiwib3JkZXIiLCJzb3J0IiwicDEiLCJwMiIsIl9wMSIsIl9wMiIsImdldFRpbWUiLCJfdCIsImdldENmQ2xhc3MiLCJnZXRUYWJsZVRoZWFkIiwiZ2V0VGFibGVCb2R5Iiwic2hvd0xhYmVsIiwidGVtcGxhdGVEYXRhIiwiZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lIiwidG9wX2tleXdvcmRzIiwiZm9vMSIsIm9waW5pb25GaWVsZHMiLCJmb28iLCJqc29uX2Zvcm11bGEiLCJzMSIsImVycm9yMSIsInlpamlhbmxhbiIsInN0ZXBOYW1lIiwiaW1hZ2Vfc2lnbiIsIm9ubHlfY2Nfb3BpbmlvbiIsIm9ubHlfY2MiLCJkZWZhdWx0X2Rlc2NyaXB0aW9uIiwib25seV9oYW5kbGVyIiwic2hvd0NDT3BpbmlvbiIsIm1hcmtEb3duVG9IdG1sIiwibWFya0Rvd25TdHJpbmciLCJyZW5kZXJlciIsIlJlbmRlcmVyIiwiaHJlZiIsInRpdGxlIiwidGV4dCIsImZfbGFiZWwiLCJ0aGF0IiwiaXNTZWN0aW9uIiwicmVnaXN0ZXJIZWxwZXIiLCJvcCIsImhhc2giLCJpbnNfYXR0YWNoX2Rvd25sb2FkX3VybCIsImdldFBlcm1pc3Npb25zIiwiaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIm9wZW5XaW5kb3ciLCJ0YXJnZXQiLCJvbkNyZWF0ZWQiLCJjb21waWxlZCIsImluc3RhbmNlQ3VzdG9tVGVtcGxhdGUiLCJpbnN0YW5jZVZpZXciLCJyZW5kZXJGdW5jdGlvbiIsIlZpZXciLCJpbnN0YW5jZV9jdXN0b21fdGVtcGxhdGUiLCJvblJlbmRlcmVkIiwiY3VycmVudEFwcHJvdmUiLCJjdXJyZW50U3RlcCIsImZvcm11bGFfZmllbGRzIiwiaW5zdGFuY2VOdW1iZXJGaWVsZHMiLCJhcHBsaWNhbnQiLCJuZXh0U3RlcHMiLCJuZXh0U3RlcFVzZXJzIiwiSW5zdGFuY2VFdmVudCIsImluaXRFdmVudHMiLCJnZXRDdXJyZW50QXBwcm92ZSIsImVhY2giLCJlbGVtZW50Iiwic2NoZW1hS2V5IiwiY2FsbCIsInJlc3VsdCIsInRvYXN0ciIsInJlYXNvbiIsInRyaW0iLCJnZXRGaWVsZFZhbHVlIiwiSW5zdGFuY2VOdW1iZXJSdWxlcyIsImluc3RhbmNlTnVtYmVyQnVpbGRlciIsInRyaWdnZXIiLCJnZXRDdXJyZW50U3RlcCIsInJ1biIsInNob3dNYWluVGl0bGUiLCJ3b3JrZmxvd01haW5BdHRhY2hUaXRsZSIsImVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudCIsImN1cnJlbnRfc3RlcCIsIm1haW5fYXR0YWNoX2NvdW50IiwiY2ZzIiwiaW5zdGFuY2VzIiwiZmluZCIsImNvdW50IiwiZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCIsImRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSIsInN0YXJ0X3N0ZXAiLCJnZXRTdGFydFN0ZXAiLCJjYW5fZWRpdF9tYWluX2F0dGFjaCIsInN0ZXBfdHlwZSIsImVuYWJsZWRfZWRpdF9ub3JtYWxfYXR0YWNobWVudCIsImdldEZsb3ciLCJ1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQiLCJpc0NDIiwiZ2V0Q0NTdGVwIiwiY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCIsInVuZGVmaW5lZCIsIm1haW5fYXR0YWNobWVudCIsIm1haW5fYXR0YWNoIiwibm9ybWFsX2F0dGFjaG1lbnRzIiwic2VsZWN0b3IiLCIkbmUiLCJkZmlzIiwiZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyIsIiRpbiIsImRpc3RyaWJ1dGVfbWFpbiIsImZpcnN0VmVyc2lvbk1haW4iLCJtZXRhZGF0YSIsInBhcmVudCIsImF0dGFjaG1lbnRVcGxvYWRlZEF0IiwidXBsb2FkZWRBdCIsImMiLCJmaXJzdFZlcnNpb24iLCJzb3J0QnkiLCJpbnN0YW5jZUlkcyIsImF0dGFjaG1lbnRzX2NvdW50IiwiY29tcGFjdCIsImF0dGFjaG1lbnRzIiwiJG9yIiwiZmV0Y2giLCJteUFwcHJvdmUiLCJteVRyYWNlIiwiaXNJbmJveCIsImRlZmF1bHREZXNjcmlwdGlvbiIsImFwcHJvdmVfc29ydCIsImFwcHJvdmVzR3JvdXAiLCJhcHByb3Zlc19zb3J0ZWQiLCJjb21wbGV0ZWRfZGF0ZSIsImhhc05leHQiLCJoYXZlRGVzY3JpcHRpb25BcHByb3ZlIiwiaXNfY29tcGxldGVkIiwibGFzdCIsInRvcF9hcHByb3ZlcyIsInVuaW9uIiwiZmlsdGVyIiwidG9wX2FwcHJvdmUiLCJncm91cEJ5IiwiaGFuZGxlckFwcHJvdmVzIiwiZGVzY3JpcHRpb25BcHByb3ZlcyIsIl9kaXNwbGF5IiwiaXNNeUFwcHJvdmUiLCJteUFwcHJvdmVEZXNjcmlwdGlvbiIsImFwcHJvdmVJZCIsIm5vdyIsImlzT3Bpbmlvbk9mRmllbGQiLCJpbWFnZVNpZ25EYXRhIiwic2hvd1NpZ25JbWFnZSIsImdldExhc3RTaWduQXBwcm92ZSIsImdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzIiwibGFzdE15QXBwcm92ZURlc2NyaXB0aW9uIiwic2hvd0FwcHJvdmUiLCJqdWRnZV9kZXNjcmlwdGlvbiIsImlzX2FwcHJvdmVkIiwiaXNfcmVqZWN0ZWQiLCJpc19yZWFkZWQiLCJzZXRUaW1lb3V0IiwiaXMiLCJkYXRlRm9ybWF0IiwiZ2V0RnVsbFllYXIiLCJnZXRTdGVwTmFtZSIsInN0ZXBJZCIsImdldEluc3RhbmNlU3RlcCIsInNob3dEZWxldGVCdXR0b24iLCJhcHByb3ZlZCIsImZyb21fdXNlciIsImlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbiIsImFwcHJvdmVfYWRtaW5zIiwiaXNTaG93Iiwid29ya2Zsb3ciLCJjb250YWlucyIsImlzRWRpdGluZyIsImlzX2VkaXRpbmciLCJpc1Nob3dEZXNjcmlwdGlvbiIsImdldEFwcHJvdmVTdGF0dXNJY29uIiwiYXBwcm92ZUp1ZGdlIiwiYXBwcm92ZVN0YXR1c0ljb24iLCJnZXRBcHByb3ZlU3RhdHVzVGV4dCIsImFwcHJvdmVTdGF0dXNUZXh0IiwiaXNGb3J3YXJkIiwic2hvd0ZvcndhcmREZWxldGVCdXR0b24iLCJmb3J3YXJkX2luc3RhbmNlIiwiaXNEaXN0cmlidXRlIiwic2hvd0Rpc3RyaWJ1dGVEZWxldGVCdXR0b24iLCJpc0xlZ2FsVmVyc2lvbiIsImhhc0Zsb3dBZG1pblBlcm1pc3Npb24iLCJmaW5pc2hEYXRlU2NoZW1hIiwiaXNBbmRyb2lkT3JJT1MiLCJhdXRvZm9ybSIsIm9wdGlvbmFsIiwicmVhZG9ubHkiLCJkYXRlVGltZVBpY2tlck9wdGlvbnMiLCJpZ25vcmVSZWFkb25seSIsIndpZGdldFBvc2l0aW9uaW5nIiwiaG9yaXpvbnRhbCIsImZpbmlzaERhdGVWYWx1ZXMiLCJzaG93VHJhY2VzVmlldyIsInNob3dfbW9kYWxfdHJhY2VzX2xpc3QiLCJzcGFjZV9zZXR0aW5ncyIsImdldEluc3RhbmNlU3RhdGVUZXh0IiwiaW5zdGFuY2VfaWQiLCJnZXRJbnN0YW5jZVN0YXRlQ29sb3IiLCJjbGEiLCJmaXJzdFRyYWNlIiwibGFzdF9kaXN0cmlidXRlX2Zyb20iLCJkaXNfaW5mbyIsIiRleGlzdHMiLCJjcmVhdGVkIiwiY3JlYXRlZF9ieSIsIlVVZmxvd19hcGkiLCJnZXROYW1lRm9yVXNlciIsInVzZXJzIiwiZnJvbV91c2VyX25hbWUiLCJpc0NDT3JEaXN0cmlidXRlT3JGb3J3YXJkVGVybWluYXRlZCIsImp1ZGdlVGVybWluYXRlZCIsImluc3RhbmNlRXhpc3RzIiwiYWdlbnREZXNjcmlwdGlvbiIsInVzZXJOYW1lIiwidHJhY2VOYW1lIiwidHJhY2VJZCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbGxpbmciLCJlcnIiLCJzdWNjZXNzIiwiZm9yd2FyZF9zcGFjZSIsImZvcndhcmRzcGFjZSIsImZvcndhcmRpbnN0YW5jZSIsIlRyYWNrZXIiLCJhZnRlckZsdXNoIiwib24iLCJzY3JvbGxUb3AiLCJmaW5pc2hfaW5wdXQiLCJvcGluaW9uX2lucHV0IiwiYWxsb3dNdWx0aXBsZSIsInNob3dSZWxhdGVkSW5zdGFjZXMiLCJpc0FycmF5IiwicmVsYXRlZF9pbnN0YWNlcyIsInJlbGF0ZWRfaW5zdGFjZV91cmwiLCJpc0NvcmRvdmEiLCJzaG93X2RlbGV0ZSIsInNob3dSZWxhdGVkUmVjb3JkcyIsIm1ldGhvZHMiLCJzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlIiwiaW5zX2lkIiwic3RlcF9hcHByb3ZlIiwidXBkYXRlIiwiJHNldCIsImdldF9pbnN0YW5jZV9kYXRhIiwiZm9ybUNhY2hlZCIsImZsb3dDYWNoZWQiLCJjaGVjayIsIlN0cmluZyIsIkJvb2xlYW4iLCJkcmFmdF9zYXZlX2luc3RhbmNlIiwic2V0T2JqIiwidHJhY2VfaWQiLCJhcHByb3ZlX2lkIiwibmV4dF9zdGVwcyIsImFwcGxpY2FudF9pZCIsInN1Ym1pdHRlciIsInNwYWNlX2lkIiwiZmxvd19pZCIsImZvcm1faWQiLCJjdXJyZW50X3RyYWNlIiwiaWR4Iiwia2V5X3N0ciIsImN1cnJlbnRfdXNlciIsImxhbmciLCJpc0luc3RhbmNlRHJhZnQiLCJpc0luc3RhbmNlU3VibWl0dGVyIiwibW9kaWZpZWQiLCJtb2RpZmllZF9ieSIsInMiLCJzcGFjZV91c2VycyIsIm9yZ2FuaXphdGlvbiIsIm9yZ19pZCIsIm9yZ2FuaXphdGlvbnMiLCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uIiwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lIiwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZSIsIm5hbWVfZm9ydW1sYSIsImdldEluc3RhbmNlTmFtZSIsImluYm94X3NhdmVfaW5zdGFuY2UiLCJjdXJyZW50X2FwcHJvdmUiLCJpc0luc3RhbmNlUGVuZGluZyIsImlzVHJhY2VOb3RGaW5pc2hlZCIsImlzQXBwcm92ZU5vdEZpbmlzaGVkIiwiaXNIYW5kbGVyT3JBZ2VudCIsInN0YWNrIiwic3RlcF9pZCIsImgiLCJwZXJtaXNzaW9uc192YWx1ZXMiLCJnZXRBcHByb3ZlVmFsdWVzIiwiY2hhbmdlX3ZhbHVlcyIsImFwcHJvdmVNYW5hZ2VyIiwiZ2V0Q2hhbmdlVmFsdWVzIiwiZXh0ZW5kIiwidmFsdWVzX2hpc3RvcnkiLCJmb3JtX3YiLCJjY19kbyIsImNjX3VzZXJfaWRzIiwiY2NfdXNlcnMiLCJjdXJyZW50X3VzZXJfaWQiLCJuZXdfYXBwcm92ZXMiLCJzcGFjZV91c2VyIiwiYWdlbnQiLCJnZXRBZ2VudCIsImhhbmRsZXJfaWQiLCJoYW5kbGVyX2luZm8iLCJoYW5kbGVyX3NwYWNlX3VzZXIiLCJoYW5kbGVyX29yZ19pbmZvIiwiZmlsZWRzIiwiZ2V0U3BhY2VVc2VyIiwiZ2V0U3BhY2VVc2VyT3JnSW5mbyIsImFwcHIiLCJNb25nbyIsIk9iamVjdElEIiwiX3N0ciIsInNldFJlbWluZEluZm8iLCIkYWRkVG9TZXQiLCIkZWFjaCIsIiRwdXNoIiwiY3VycmVudF91c2VyX2luZm8iLCJwdXNoTWFuYWdlciIsInNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uIiwidHJpZ2dlcldlYmhvb2siLCJjY19yZWFkIiwiY2Nfc3VibWl0Iiwib3V0Ym94X3VzZXJzIiwidXBvYmoiLCJzdGFydF9kYXRlIiwiJHB1bGwiLCJzZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIiLCJjY19yZW1vdmUiLCJyZW1vdmVfdXNlcl9pZCIsIm11bHRpIiwiY2Nfc2F2ZSIsImhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCIsImlzRm9yd2FyZEF0dGFjaG1lbnRzIiwic2VsZWN0ZWRVc2VycyIsImFjdGlvbl90eXBlIiwicmVsYXRlZCIsImZyb21fYXBwcm92ZV9pZCIsIkVycm9yIiwiZm9yd2FyZF9yZW1vdmUiLCJoYXNBZG1pblBlcm1pc3Npb24iLCJmb3J3YXJkX2luc3RhbmNlX2lkIiwiaW5ib3hfdXNlcnMiLCJkZWxldGVkIiwiZGVsZXRlZF9ieSIsImRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCIsImRlbGV0ZWRfaW5zdGFuY2VzIiwiaW5zZXJ0IiwicmVtb3ZlIiwidV9pZCIsInNldF9vYmoiLCJjYW5jZWxEaXN0cmlidXRlIiwiYXBwcm92ZV9pZHMiLCJleGlzdHMiLCJjZnNfaW5zdGFuY2VzX3JlbW92ZSIsImZpbGVfaWQiLCJjZnNfaW5zdGFuY2VzX3NldF9jdXJyZW50IiwiY2ZzX2luc3RhbmNlc19sb2NrIiwidXNlcl9pZCIsInVzZXJfbmFtZSIsImNmc19pbnN0YW5jZXNfdW5sb2NrIiwiJHVuc2V0IiwiZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzayIsInNwYWNlSWQiLCJjZnNSZWNvcmRJZHMiLCJpc19jbG91ZGFkbWluIiwic3RvcmUiLCJmcyIsInJlcXVpcmUiLCJwYXRobmFtZSIsImpvaW4iLCJfX21ldGVvcl9ib290c3RyYXBfXyIsInNlcnZlckRpciIsImFic29sdXRlUGF0aCIsInJlc29sdmUiLCJzeW5jIiwidGltZSIsInF1ZXJ5IiwiZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMiLCJmaWxlTmFtZSIsImZpbGVQYXRoIiwid3JhcEFzeW5jIiwiY2FsbGJhY2siLCJ3cml0ZXIiLCJjcmVhdGVXcml0ZVN0cmVhbSIsImlzRnVuY3Rpb24iLCJyZWFkZXIiLCJjcmVhdGVSZWFkU3RyZWFtIiwicGlwZSIsInRpbWVFbmQiLCJzZXRfYXBwcm92ZV9oYXZlX3JlYWQiLCJzZWxmIiwiY2hhbmdlX2FwcHJvdmVfaW5mbyIsInVwZGF0ZV9hcHByb3ZlX3NpZ24iLCJzaWduX3R5cGUiLCJsYXN0U2lnbkFwcHJvdmUiLCJsYXN0VHJhY2UiLCJzZXNzaW9uX3VzZXJJZCIsInVwT2JqIiwiY3VzdG9tX3NpZ25fc2hvdyIsInVwZGF0ZV9zaWduX3Nob3ciLCJvYmpzIiwibXlBcHByb3ZlX2lkIiwiaW5zdGFuY2VfcmV0dXJuIiwiYXBwcm92ZV92YWx1ZXMiLCJsYXN0X3RyYWNlIiwibmV3VHJhY2UiLCJuZXdfaW5ib3hfdXNlcnMiLCJwcmVfc3RlcCIsInByZV90cmFjZSIsInIiLCJyZXN0X2NvdW50ZXJfdXNlcnMiLCJnZXRTdGVwIiwicHJldmlvdXNfdHJhY2VfaWRzIiwiZHVlX2RhdGUiLCJnZXREdWVEYXRlIiwidGltZW91dF9ob3VycyIsIm5leHRfc3RlcF91c2VyX2lkIiwibmV3QXBwcm92ZSIsIm5leHRfc3RlcF9zcGFjZV91c2VyIiwibmV4dF9zdGVwX3VzZXJfb3JnX2luZm8iLCJ1c2VyX2luZm8iLCJoYW5kbGVyX29yZ2FuaXphdGlvbiIsImlzX2Vycm9yIiwidW5pcSIsImN1cnJlbnRfc3RlcF9uYW1lIiwiaW5zdGFuY2VfcmVtaW5kIiwicmVtaW5kX3VzZXJzIiwicmVtaW5kX2NvdW50IiwicmVtaW5kX2RlYWRsaW5lIiwiYWN0aW9uX3R5cGVzIiwibGFzdF9yZW1pbmRfdXNlcnMiLCJwcmlvcml0eSIsIk1hdGNoIiwiT25lT2YiLCJhcCIsImNhY3VsYXRlX2RhdGUiLCJtYW51YWxfZGVhZGxpbmUiLCJjYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheSIsInJlbWluZF9kYXRlIiwiY2FjdWxhdGVXb3JraW5nVGltZSIsImJhc2VfZGF0ZSIsInBsdXNfaGFsZmRheV9kYXRlIiwic2VuZFJlbWluZFNNUyIsIm5leHRfc3RlcF91c2Vyc19ub3RfZm91bmQiLCJkZWFsX3R5cGUiLCJzdGVwX25hbWUiLCJwYXJhbXMiLCJhcHByb3Zlcl9yb2xlcyIsInJvbGVzIiwicm9sZXNfbmFtZSIsImZsb3dfcm9sZXMiLCJyb2xlX25hbWUiLCJfZXZhbCIsIl9OVU1CRVIiLCJfWVlZWSIsIm51bWJlclJ1bGVzIiwicmVzIiwicnVsZXMiLCJzY3JpcHQiLCJpbnN0YW5jZV9udW1iZXJfcnVsZXMiLCJudW1iZXIiLCJZWVlZIiwiTU0iLCJnZXRNb250aCIsIm1tIiwiREQiLCJnZXREYXRlIiwiZGQiLCJmaXJzdF9udW1iZXIiLCJOVU1CRVIiLCJuZXdObyIsIl9lcnJvciIsImNoZWNrX21haW5fYXR0YWNoIiwiY2hlY2tNYWluQXR0YWNoIiwicmVtb3ZlX3JlbGF0ZWQiLCJyZV9pbnNfaWQiLCJ1cGRhdGVfaW5zdGFuY2VfcmVsYXRlZCIsInVwZGF0ZUZsb3dQb3NpdGlvbiIsImZsb3dfcG9zaXRpb25zIiwicm9sZSIsIm9yZyIsInVwZGF0ZUZsb3dSb2xlIiwic3RhcnRfZmxvdyIsImZsb3dJZCIsInN0YXJ0Iiwia2V5VmFsdWUiLCJzdGFydF9mbG93cyIsInN0ZWVkb3Nfa2V5dmFsdWVzIiwiZ2V0X2luc3RhbmNlX3RyYWNlcyIsIm1pbmlBcHByb3ZlRmllbGRzIiwiY2F0ZWdvcnlJZCIsImZsb3dJZHMiLCJfYmF0Y2hfaW5zdGFuY2VzIiwiZ2V0QmF0Y2hJbnN0YW5jZXMiLCJteUFwcHJvdmVzIiwiaW5zSWQiLCJteV9hcHByb3ZlIiwiZ2V0TXlBcHByb3ZlIiwiY2hhbmdlX2Zsb3dfc3RhdGUiLCJfdXNlcklkIiwiX2Zsb3dzIiwiX2Zsb3dzX3N0YXRlIiwiZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlIiwiaXNTcGFjZUFkbWluIiwiaXNfdmFsaWQiLCJmbG93dHlwZSIsInNwZWNpZnlTdGVwIiwiYXBwcm92ZXJfc3RlcCIsIl9zdGVwIiwiZmllbGRzX21vZGlmaWFibGUiLCJoaWRlX2luc3RhbmNlIiwiaXNfaGlkZGVuIiwicGVybWlzc2lvbk1hbmFnZXIiLCJnZXRGbG93UGVybWlzc2lvbnMiLCJzcGFjZXMiLCJhZG1pbnMiLCJnZXRJbnN0YW5jZVZhbHVlcyIsIkNvb2tpZXMiLCJnZXRJbnN0YW5jZVJlYWRPbmx5IiwicmVxIiwibmV4dCIsIl9oYXNQZXJtaXNzaW9uIiwiX2xvY2FsZSIsIl9wYXJlbnRfaW5zdGFuY2VzIiwiZGF0YUJ1ZiIsImhpZGVfdHJhY2VzIiwic3BhY2VVc2VyQ291bnQiLCJnZXRBUElMb2dpblVzZXIiLCJhY2Nlc3NfdG9rZW4iLCJnZXRVc2VySWRGcm9tQWNjZXNzVG9rZW4iLCJKc29uUm91dGVzIiwic2VuZFJlc3VsdCIsImhhc0luc3RhbmNlUGVybWlzc2lvbnMiLCJfcGFyZW50X2lkIiwiX3BhcmVudF9pbnMiLCJjaGFyc2V0IiwiQnVmZmVyIiwic2V0SGVhZGVyIiwic3RhdHVzQ29kZSIsImVuZCIsImFkZCIsImluc3RhbmNlX25hbWUiLCJpIiwicmV0X3N5bmNfdG9rZW4iLCJzcGFjZVVzZXIiLCJzcGFjZVVzZXJPcmdhbml6YXRpb25zIiwic3luY190b2tlbiIsIkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2siLCJoZWFkZXJzIiwiY2FuTW9uaXRvciIsImNhbkFkbWluIiwiTnVtYmVyIiwiJGd0IiwiJG5pbiIsImluYm94X3VlcnMiLCJza2lwIiwibGltaXQiLCJjb3BpZXMiLCJhbGxDc3MiLCJXZWJBcHAiLCJnZXRSZWZyZXNoYWJsZUFzc2V0cyIsImNzcyIsInJvb3RVcmwiLCJfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fIiwiUk9PVF9VUkxfUEFUSF9QUkVGSVgiLCJST09UX1VSTCIsImVuZHNXaXRoIiwicHJvdG90eXBlIiwibCIsImciLCJtIiwiZCIsImsiLCJnZXRFYWNoIiwibWl4aW4iLCJkZXN0Iiwic3JjIiwiaGFuZGVyVXNlck9iamVjdCIsImhyIiwic29ydF9ubyIsIm1vYmlsZSIsIndvcmtfcGhvbmUiLCJwb3NpdGlvbiIsInVzZXJSb2xlcyIsImhhbmRlck9yZ09iamVjdCIsImluaXRfZm9ybXVsYV92YWx1ZXMiLCJhdXRvRm9ybURvYyIsImFwcHJvdmVyIiwiX192YWx1ZXMiLCJ0YWJsZUZpZWxkcyIsInRhYmxlVmFsdWVzIiwiZm9ybXVsYVRhYmxlVmFsdWVzIiwiX190YWJsZVZhbHVlcyIsInRhYmxlZmllbGQiLCJnZXRGb3JtdWxhVXNlck9iamVjdHMiLCJnZXRGb3JtdWxhT3JnT2JqZWN0cyIsImdldEZvcm11bGFVc2VyT2JqZWN0IiwiZ2V0SGFuZGxlcnNNYW5hZ2VyIiwiZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMiLCJ1c2VyX2lkcyIsInJvbGVfaWRzIiwiYXBwcm92ZV91c2VycyIsImdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMiLCJyb2xlX2lkIiwiZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlIiwib3JncyIsImdldEhhbmRsZXJzQnlPcmdBbmRSb2xlIiwiZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyIsIm9yZ19pZHMiLCJnZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMiLCJwYXJlbnRzIiwicG9zaXRpb25zIiwicGFyZW50X2lkIiwiZ2V0SGFuZGxlcnMiLCJfYXBwcm92ZSIsIl9zcGFjZV91c2VyIiwiX3RyYWNlIiwiYXBwbGljYW50U3VwZXJpb3JzIiwiYXBwcm92ZXJfb3JnX2ZpZWxkIiwiYXBwcm92ZXJfb3JnX2lkcyIsImFwcHJvdmVyX3VzZXJfZmllbGQiLCJhcHByb3Zlcl91c2VyX2lkcyIsImN1cnJlbnRfZmxvdyIsImN1cnJlbnRfZmxvd192ZXJzaW9uIiwiY3VycmVudF9mb3JtIiwiY3VycmVudF9zdGVwcyIsImZpZWxkX2NvZGUiLCJmaW5pc2hlZF90cmFjZXMiLCJmbG93X3JldiIsImZvcm1fcmV2IiwiaGFuZGxlcnMiLCJtYXhfc3RhcnREYXRlX3RyYWNlIiwibmV3X2FwcHJvdmVyX3VzZXJfaWRzIiwibmV3X29yZ191c2VyX2lkcyIsIm5ld2VzdF92YWx1ZXMiLCJuZXh0X3N0ZXBfdXNlcnMiLCJvcmdfaWRzX25hbWVzIiwib3JnX3VzZXJfaWRzIiwic3BhY2VfdXNlcl9jb3VudCIsInN1Ym1pdHRlcl91c2VyX2NvdW50IiwidW5maW5pc2hlZF90cmFjZSIsInVzZXJfaWRzX25hbWVzIiwidmFsaWRfYXBwcm92ZXJfb3JnX2lkcyIsImhpc3RvcnkiLCJhcHByb3Zlcl9yb2xlIiwicm9sZV9jb3VudCIsImN1cnJlbnRfZmxvd19oaXN0b3J5IiwiZm9ybV9oaXN0b3J5IiwiZm9ybV9maWVsZCIsImdldFVwZGF0ZWRWYWx1ZXMiLCJjaGVja19vcmdfY291bnQiLCJjaGVja19vcmdzIiwib3JnX2NoaWxkcmVuIiwib3JnX3VzZXJzIiwidW5zaGlmdCIsImNoZWNrX29yZ191c2VyIiwib3JnX3VzZXIiLCJjaGVja191c2VyX2NvdW50IiwiYXBwcm92ZV91c2VyIiwiY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50IiwiYXBwcm92ZXJfb3JncyIsImFwcHJvdmVyX29yZ19pZCIsInZhbGlkX2FwcHJvdmVyX29yZ19pZCIsImNoaWxkX29yZ3MiLCJ2YWxpZF9hcHByb3Zlcl9vcmciLCJjaGlsZF9vcmciLCJvcmdfdXNlcl9pZCIsInNwYWNlX3VzZXJfaW5mb19jb3VudCIsImFwcHJvdmVyX3VzZXJzIiwiYXBwcm92ZXJfdXNlcl9pZCIsIl90ciIsIl9hcHAiLCJtYW5hZ2VyIiwibXlfcGVybWlzc2lvbnMiLCJvcmdzX2Nhbl9hZGQiLCJvcmdzX2Nhbl9hZG1pbiIsIm9yZ3NfY2FuX21vbml0b3IiLCJ1c2Vyc19jYW5fYWRkIiwidXNlcnNfY2FuX2FkbWluIiwidXNlcnNfY2FuX21vbml0b3IiLCJwZXJtcyIsImxhc3RfdmFsdWVzIiwiYXBwcm92ZV92YWx1ZXNfa2V5cyIsImNoYW5nZVZhbHVlcyIsImxhc3RfdmFsdWVzX2tleXMiLCJpc0VxdWFsIiwiZmxvd01hbmFnZXIiLCJnZXRDYXRlZ29yaWVzRmxvd3MiLCJjYXRlZ29yaWVJZCIsImNhdGVnb3JpZXNGb3JtcyIsImZvcm1NYW5hZ2VyIiwiZ2V0Q2F0ZWdvcmllc0Zvcm1zIiwiZ2V0VW5DYXRlZ29yaWVzRmxvd3MiLCJ1bkNhdGVnb3JpZXNGb3JtcyIsImdldFVuQ2F0ZWdvcmllc0Zvcm1zIiwiX2ZpZWxkcyIsImNhdGVnb3J5Iiwic3RlcE1hbmFnZXIiLCJhbGxvd0JhdGNoIiwiaXNFeGlzdFN0ZXAiLCJsb2dnZXIiLCJMb2dnZXIiLCJoYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwIiwiZmllbGRfbWFwIiwiY3VycmVudEFwcHJvdmVzIiwiY3VycmVudFRyYWNlcyIsImdldEN1cnJlbnRUcmFjZSIsIm5leHRfdXNlcl9pZHMiLCJnZXROZXh0U3RlcHMiLCJpbmJveF91c2VyIiwiRklFTERTIiwiY2F0ZWdvcnlGbG93cyIsImluYm94X2luc3RhbmNlcyIsInVuQ2F0ZWdvcnlGbG93cyIsInN1Ym1pdF9kYXRlIiwiY3VycmVudFN0ZXBJZCIsInB1Ymxpc2giLCJyZWFkeSIsImNhdGVnb3JpZXMiLCJhcHAiLCJwdWJsaXNoQ29tcG9zaXRlIiwidGFibGVOYW1lIiwiaWRzIiwiT3B0aW9uYWwiLCJ1bmJsb2NrIiwiY2hpbGRyZW4iLCJjcmVhdGVUZW1wbGF0ZUZvcm1BbmRGbG93IiwiY29tcGFueV9pZCIsInZlcnNpb25JZCIsImhhbmRsZSIsImxhdGVzdCIsIm9ic2VydmVDaGFuZ2VzIiwiY2hhbmdlZCIsImFkZGVkIiwib25TdG9wIiwic3RvcCIsImZsb3dfaWRzIiwiZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VycyIsImRpc3RyaWJ1dGVfdG9fc2VsZiIsImRpc3RyaWJ1dGVfZW5kX25vdGlmaWNhdGlvbiIsImdldE1pbmlJbnN0YW5jZSIsImdldE15YXBwcm92ZU1vZGlmaWVkIiwiaW5zdGFuY2VfZmllbGRzXzAiLCJuZWVkQ2hhbmdlIiwidHJpZ2dlckNoYW5nZUZpZWxkcyIsInRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMiLCJteUFwcHJvdmVNb2RpZmllZHMiLCJyZWFkX2RhdGUiLCJfaW5zdGFuY2VJZCIsImNoYW5nZUZpZWxkcyIsIl9jaGFuZ2UiLCJfcmV2IiwiX2tleSIsIl9teV9hcHByb3ZlX21vZGlmaWVkcyIsImhhcyIsImdldEluc3RhbmNlVHJhY2VzIiwiX2luc0lkIiwiYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlIiwibGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSIsImluc3RhbmNlaWQiLCJkYXRhTWFwIiwib3BlcmF0aW9uIiwicmF3Q29sbGVjdGlvbiIsImFnZ3JlZ2F0ZSIsInRvQXJyYXkiLCJkb2MiLCJnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUiLCJnZXRTdGVwQ3VycmVudE5hbWUiLCJub3RGaW5pc2hlZFRyYWNlcyIsInN0ZXBDdXJyZW50TmFtZSIsIiRzbGljZSIsIm15TGFzdEZpbmlzaGVkQXBwcm92ZSIsImFnZW50X3VzZXJfbmFtZSIsIm15X2ZpbmlzaF9kYXRlIiwiaXNfY2MiLCJjY19jb3VudCIsImluc3RhbmNlX2lkcyIsInJlbGF0ZWRfaW5zdGFuY2VfaWRzIiwiX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUiLCJfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSIsIl9pdGVtcyIsIiRtYXRjaCIsIiRncm91cCIsIiRzdW0iLCJfY2hhbmdlRGF0YSIsIl9mbG93c0RhdGEiLCJfaW5pdCIsImRhdGFJdGVtIiwiYWN0aW9uIiwiZmxvd19pbnN0YW5jZSIsIm9ic2VydmUiLCJDcmVhdG9yIiwiZ2V0Q29sbGVjdGlvbiIsIndvcmtmbG93VGVtcGxhdGUiLCJhYnNvbHV0ZV9wYXRoX2NuIiwiYWJzb2x1dGVfcGF0aF91cyIsImZpbGVzTGlzdF9jbiIsImZpbGVzTGlzdF91cyIsIm1pbWUiLCJwYXRoX2NuIiwicGF0aF91cyIsInJlYWRGaWxlTGlzdCIsInBhdGhEaXIiLCJmaWxlc0xpc3QiLCJmaWxlcyIsInJlYWRkaXJTeW5jIiwic3RhdCIsInN0YXRTeW5jIiwiaXNEaXJlY3RvcnkiLCJ3b3JrZmxvd1RlbXBsYXRlcyIsImV4aXN0c1N5bmMiLCJmaWxlIiwiZ2V0VHlwZSIsInJlYWRGaWxlU3luYyIsImdvX25leHQiLCJydWxlIiwic2NoZWR1bGUiLCJjcm9uIiwiYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uIiwic2NoZWR1bGVKb2IiLCJiaW5kRW52aXJvbm1lbnQiLCJwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMiLCJlbmFibGVkIiwiZW5kX3RpbWUiLCIkbHRlIiwidGltZW91dF9hdXRvX3N1Ym1pdCIsInRpbWVvdXRBdXRvU3VibWl0Iiwic3BlY2lmeVVzZXJJZHMiLCJnZXRVc2VycyIsImFwcGxpY2FudElkIiwiYXBwcm92ZVJvbGVJZHMiLCJnZXRVc2VyIiwiZ2V0Um9sZVVzZXJzQnlPcmdzQW5kUm9sZXMiLCJ1c2VyRmllbGQiLCJ1c2VyRmllbGRWYWx1ZSIsIm9yZ0NoaWxkcmVucyIsIm9yZ0ZpZWxkIiwib3JnRmllbGRWYWx1ZSIsImdldE9yZ2FuaXphdGlvbnMiLCJnZXRPcmdhbml6YXRpb25zQ2hpbGRyZW5zIiwiZ2V0T3JnYW5pemF0aW9uIiwiZ2V0T3JnYW5pemF0aW9uQ2hpbGRyZW5zIiwiZ2V0T3JnYW5pemF0aW9uc1VzZXJzIiwib3JnRmllbGRVc2VycyIsInNwZWNpZnlPcmdJZHMiLCJzcGVjaWZ5T3JncyIsInNwZWNpZnlPcmdDaGlsZHJlbnMiLCJhcHByb3ZlclJvbGVJZHMiLCJnZXRSb2xlVXNlcnNCeVVzZXJzQW5kUm9sZXMiLCJzdSIsInVuaXFVc2VycyIsInVzZXJJZHMiLCJzcGFjZVVzZXJzIiwiZm9ybXVsYV92YWx1ZXMiLCJlcnJvcnMiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwiY29tcGFueUlkIiwic3BhY2VJZHMiLCJzcGFjZXNRdWVyeSIsImNoZWNrX2F1dGhvcml6YXRpb24iLCJpc19kZWxldGVkIiwiaGVscF90ZXh0IiwibmFtZV9mb3JtdWxhIiwiY29kZV9mb3JtdWxhIiwiY3VycmVudF9ubyIsImVycm9yX21lc3NhZ2UiLCJTcGFjZVVzZXJzIiwiVXNlcnMiLCJGb3JtcyIsIkZsb3dzIiwiT3JnYW5pemF0aW9ucyIsIlBvc2l0aW9ucyIsIlJvbGVzIiwiQ2F0ZWdvcmllcyIsIlNwYWNlcyIsImhhc2hEYXRhIiwiYXBwcm92ZV9mcm9tX2NsaWVudCIsIndvcmtmbG93X2VuZ2luZSIsImluc2VydGVkX2luc3RhbmNlcyIsImluc3RhbmNlX2Zyb21fY2xpZW50IiwibmV3X2lucyIsIm5ld19pbnNfaWQiLCJjcmVhdGVfaW5zdGFuY2UiLCJpbnNlcnRzIiwiZGVsZXRlX29iaiIsImdldFNwYWNlIiwic3VibWl0X2luc3RhbmNlIiwiYWxlcnRzIiwiZGlzdHJpYnV0ZWRJbnN0YW5jZXNSZW1pbmQiLCJmbG93X3Zlcl9lbmRfc3RlcCIsImZsb3dfdmVycyIsImluc3RhbmNlX2Zsb3dfdmVyIiwiaW5zdGFuY2VfdHJhY2UiLCJvbGRfY2NfdXNlcnMiLCJvbGRfaW5ib3hfdXNlcnMiLCJvbGRfb3V0Ym94X3VzZXJzIiwic3BhY2VfdXNlcl9vcmdfaW5mbyIsInRlbXBVc2VycyIsInRlcm1pbmF0ZV9yZWFzb24iLCJmX3ZlciIsImZfc3RlcCIsImNvc3RfdGltZSIsIm5mdF9hcHByb3ZlIiwiY3VycmVudF9zdGVwX2F1dG9fc3VibWl0Iiwic2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlciIsIl91c2VycyIsImFwcHJvdmVfdXNlcnNfaGFuZGxlcnMiLCJhc3NpZ25lZV9hcHByIiwiY3VycmVudF9zcGFjZV91c2VyIiwiY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiIsImluYm94X3VzZXJzX2Zyb21fY2xpZW50IiwibGFzdF90cmFjZV9mcm9tX2NsaWVudCIsIm5vdF9pbl9pbmJveF91c2VycyIsInJlYXNzaWduX3JlYXNvbiIsImRpZmZlcmVuY2UiLCJuZXdfYXBwciIsIm5ld191c2VyIiwidXNlcl9vcmdhbml6YXRpb24iLCJhaCIsImN1cnJlbnRfc2V0cCIsImN1cnJlbnRfc2V0cF90eXBlIiwibmV4dF9zdGVwIiwibmV4dF9zdGVwX25hbWUiLCJuZXh0X3N0ZXBfdHlwZSIsInJlbG9jYXRlX2FwcHIiLCJyZWxvY2F0ZV9jb21tZW50IiwicmVsb2NhdGVfaW5ib3hfdXNlcnMiLCJyZWxvY2F0ZV9uZXh0X3N0ZXAiLCJzYW1lVHJhY2VzIiwic2lnblNob3dBcHByb3ZlSWQiLCJ0YSIsInRpIiwiZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0IiwibGluZXMiLCJpc0luc3RhbmNlRmluaXNoZWRBbmROb3RBcmNoaWV2ZWQiLCJpc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4iLCJjb25uZWN0SGFuZGxlcnMiLCJ1c2UiLCJlanMiLCJlanNMaW50IiwiZW5kX2RhdGUiLCJlcnJvcl9vYmoiLCJmb3JtX25hbWUiLCJpbnNfdG9feGxzIiwibGFzdF9tb250aF9kYXRlIiwicmV0IiwidGltZXpvbmVvZmZzZXQiLCJwYXJzZUludCIsIiRndGUiLCIkYW5kIiwibGludCIsImF1dGhfdG9rZW4iLCJmb3JtaWRzIiwiaXNfYWRtaW4iLCJnZXRfU3BhY2VDaGFuZ2VTZXQiLCJsYXN0X3RyYWNlX2lkIiwib3JnX2luZm8iLCJwcmV2aW91c19zdGVwIiwicHJldmlvdXNfdHJhY2UiLCJwcmV2aW91c190cmFjZV9hcHByb3ZlcyIsInByZXZpb3VzX3RyYWNlX2lkIiwicHJldmlvdXNfdHJhY2VfbmFtZSIsInByZXZpb3VzX3RyYWNlX3N0ZXBfaWQiLCJyZXRyaWV2ZV9hcHByb3ZlIiwicmV0cmlldmVfY29tbWVudCIsInJldHJpZXZlX3R5cGUiLCJ0aGVfdHJhY2UiLCJyZXRyaWV2ZV9hcHByIiwib2xkX3NwYWNlX2lkIiwiZm9yd2FyZF91c2VycyIsIm5vX3Blcm1pc3Npb25fdXNlcl9pZHMiLCJ1aWQiLCJub19wZXJtaXNzaW9uX3VzZXJzX25hbWUiLCJuZXdfaW5zX2lkcyIsImN1cnJlbnRfdHJhY2VfaWQiLCJmb3J3YXJkX2FwcHJvdmVzIiwib2xkX3ZhbHVlcyIsIm5ld192YWx1ZXMiLCJvbGRfZm9ybSIsIm9sZF9mb3JtX3ZlcnNpb24iLCJvbGRfZmllbGRzIiwiY29tbW9uX2ZpZWxkcyIsInNlbGVjdF90b19pbnB1dF9maWVsZHMiLCJleGlzdHNfZmllbGQiLCJzZWxlY3RfaW5wdXRfZmllbGQiLCJvbGRfdiIsIm9sZF9tdWx0aVNlbGVjdGVkIiwibmV3X211bHRpU2VsZWN0ZWQiLCJvbGRfdGFibGVfcm93X3ZhbHVlcyIsIm5ld190YWJsZV9yb3dfdmFsdWVzIiwicmVjb3JkX25lZWQiLCJGT05EU0lEIiwiaXNjcmlwdCIsImNhdGVnb3J5X25hbWUiLCJnZXRDYXRlZ29yeSIsImluc19vYmoiLCJfbWFrZU5ld0lEIiwic3VibWl0dGVyX25hbWUiLCJmb3J3YXJkX2Zyb21faW5zdGFuY2UiLCJ0cmFjZV9vYmoiLCJhcHByX29iaiIsImF1dG9fcmVtaW5kIiwiZmxvd19uYW1lIiwiY29sbGVjdGlvbiIsImluc3RhbmNlSHRtbCIsImluc3RhbmNlRmlsZSIsIkZTIiwiRmlsZSIsImF0dGFjaERhdGEiLCJmcm9tIiwic2l6ZSIsIm93bmVyIiwib3duZXJfbmFtZSIsImZpbGVPYmoiLCJtYWluIiwibmV3RmlsZSIsIm9yaWdpbmFsIiwidXBkYXRlX3JlYWQiLCJyZWRpcmVjdFRvIiwid3JpdGVIZWFkIiwiYXR0YWNoIiwibm9fbGltaXRfY291bnQiLCJyZWY1IiwicmVzdWx0X2luc3RhbmNlcyIsInNwYWNlX25hbWVzIiwic3BlY2lhbF91c2VyX2lkIiwidXNlcmlkIiwidXNlcm5hbWUiLCJ3b3JrZmxvd19jYXRlZ29yaWVzIiwicmVmNiIsInJlZjciLCJzdGF0dXMiLCJhdXRoVG9rZW4iLCJpc19wYWlkIiwiYXBwbGljYW50SW5mbyIsImFwcGxpY2FudF91c2VybmFtZSIsInVzZXJfYWNjZXB0ZWQiLCJwZXJtX3VzZXJzIiwibmV4dF9zdGVwX2lkIiwicmVxdWlyZV9idXRfZW1wdHlfZmllbGRzIiwiZ2V0Rm9ybSIsImNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlIiwic3RlcG5hbWUiLCIkZWxlbU1hdGNoIiwiQnVzYm95IiwiRmliZXIiLCJwYXJzZUZpbGVzIiwiYnVzYm95IiwiaW1hZ2UiLCJmaWVsZG5hbWUiLCJmaWxlbmFtZSIsImVuY29kaW5nIiwibWltZXR5cGUiLCJidWZmZXJzIiwibWltZVR5cGUiLCJ0b0xvd2VyQ2FzZSIsInBvcCIsImRlY29kZVVSSUNvbXBvbmVudCIsImlzX3ByaXZhdGUiLCJsb2NrZWRfYnkiLCJsb2NrZWRfYnlfbmFtZSIsImF0dGFjaF9pZCIsImNvbHVtbnMiLCJmb3J3YXJkX2lucyIsImZvcndhcmRfaW5zX3ZhbHVlcyIsIm9yaWdpbmFsX2lucyIsIm9yaWdpbmFsX2luc19maWVsZHMiLCJvcmlnaW5hbF9pbnNfZm9ybSIsIm9yaWdpbmFsX2luc19pZCIsIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyIsInJlZjgiLCJyZWY5Iiwicm93X2RhdGEiLCJzdWJUYWJsZSIsInRhYmxlX2RhdGEiLCJjb2x1bW4iLCJvcmlnaW5hbF9pbnNfZmllbGQiLCJvaCIsImFfdGFibGUiLCJhX3RhYmxlX3ZhbHVlcyIsImNvbHVtbl9saXN0IiwiZF9pbnMiLCJkX2luc19maWVsZHMiLCJkX2luc19mb3JtIiwiZF9pbnNfdmFsdWVzIiwiZF9tYXRjaF9jb2wiLCJkX21hdGNoX2NvbF9maWVsZCIsImRfbWF0Y2hfY29sX2ZpZWxkcyIsImRfc3VidGFibGVfZmllbGRzIiwiZF90YWJsZSIsImRfdGFibGVfdmFsdWVzIiwib19pbnMiLCJvX2luc19maWVsZHMiLCJvX2luc19mb3JtIiwib19pbnNfaWQiLCJvX21hdGNoX2NvbCIsIm9fbWF0Y2hfY29sX2ZpZWxkIiwib19tYXRjaF9jb2xfZmllbGRzIiwib19zdWJ0YWJsZV9maWVsZHMiLCJvX3RhYmxlIiwicmVmMTAiLCJyZWYxMSIsInJlZjEyIiwicmVmMTMiLCJyZWYxNCIsInJlZjE1IiwicmVmMTYiLCJyZWYxNyIsInJlZjE4IiwicmVmMTkiLCJyZWYyMCIsInJlZjIxIiwicmVmMjIiLCJvVGFibGUiLCJkVGFibGUiLCJvTWF0Y2hDb2wiLCJkTWF0Y2hDb2wiLCJyZWZpbGxDb2wiLCJhVGFibGUiLCJvX2luc19maWVsZCIsImRfaW5zX2ZpZWxkIiwiZGgiLCJhX3JvdyIsInJlc3VsdHMiLCJjb2wiLCJjb2xzIiwiZF9jb2wiLCJkX2NvbF9maWVsZHMiLCJvX2NvbCIsIm9fY29sX2ZpZWxkcyIsImRfcm93IiwiaGFzX29iaiIsIm9fcm93IiwibmV3X3RhYmxlX3ZhbHVlcyIsInNvcnRfY29sIiwic3ViX3RhYmxlIiwic3ViX3RhYmxlX3ZhbHVlcyIsInN1bV9jb2wiLCJzdW1Db2wiLCJzb3J0Q29sIiwic2luZ2xlQ29scyIsIkpzb25Tb3J0IiwianNvbkFyciIsImFzYyIsImoiLCJqbCIsInRlbXAiLCJpc0RldmVsb3BtZW50IiwidG9fdXNlcnMiLCJvcmdJZHMiLCJUYWJ1bGFyVGFibGVzIiwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciIsIlRhYnVsYXIiLCJUYWJsZSIsIm9yZGVyYWJsZSIsInJlbmRlciIsImlucHV0Iiwic3RlcF9jdXJyZW50X25hbWUiLCJkb20iLCJsZW5ndGhDaGFuZ2UiLCJleHRyYUZpZWxkcyIsInBhZ2VMZW5ndGgiLCJpbmZvIiwic2VhcmNoaW5nIiwicmVzcG9uc2l2ZSIsImRldGFpbHMiLCJhdXRvV2lkdGgiLCJjaGFuZ2VTZWxlY3RvciIsImN1clNwYWNlVXNlciIsImZsIiwiR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMiLCJfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMiLCJfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zIiwiX2hhbmRsZUxpc3RGaWVsZHMiLCJpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyIiwibmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIiLCJ1cGRhdGVUYWJ1bGFyVGl0bGUiLCJzdWJzIiwiU3Vic01hbmFnZXIiLCJpbnNfZmllbGRzIiwicHViIiwib25VbmxvYWQiLCJpbnN0YW5jZV9saXN0IiwiX3RhYmxlQ29sdW1ucyIsImRyYXdDYWxsYmFjayIsImVsbGlwc2lzTGluayIsImVtcHR5VGQiLCJjb2xTcGFuIiwiaXNQYWQiLCJwZXJmZWN0U2Nyb2xsYmFyIiwib0luc3RhbmNlIiwiYXR0ciIsImNsaWNrIiwiZ29QYWdlIiwiaGVpZ2h0IiwicGFnZXMiLCJNYXRoIiwiY2VpbCIsImZuUmVjb3Jkc0Rpc3BsYXkiLCJfaURpc3BsYXlMZW5ndGgiLCJEYXRhVGFibGUiLCJwYWdlIiwiZHJhdyIsImJsdXIiLCJjdXJyZW50UGFnZSIsImtleWRvd24iLCJrZXlDb2RlIiwiY3JlYXRlZFJvdyIsInJvdyIsImRhdGFJbmRleCIsIkZsb3dSb3V0ZXIiLCJzZXRBdHRyaWJ1dGUiLCJhZ2VudF92aWV3IiwiY2NfdmlldyIsImluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MiLCJtb2RpZmllZEZyb21Ob3ciLCJtb2RpZmllZFN0cmluZyIsInByaW9yaXR5SWNvbiIsInByaW9yaXR5SWNvbkNsYXNzIiwicHJpb3JpdHlWYWx1ZSIsInN0ZXBfY3VycmVudF9uYW1lX3ZpZXciLCJ1bnJlYWQiLCJtb21lbnRSZWFjdGl2ZUZyb21Ob3ciLCJ2aXNpYmxlIiwiY2NfdGFnIiwibGVuZ3RoTWVudSIsInBhZ2luZ1R5cGUiLCJpc19saXN0X2Rpc3BsYXkiLCJmaWx0ZXJlZFJlY29yZElkcyIsIm9sZF9maWx0ZXJlZFJlY29yZElkcyIsImZpbmRPcHRpb25zIiwiYWdfc29ydCIsImFnZ3JlZ2F0ZV9vcGVyYXRpb24iLCJhc3luY19hZ2dyZWdhdGUiLCJzMV8wIiwiczFfMSIsIiRwcm9qZWN0IiwiJHVud2luZCIsIiRmaXJzdCIsIiRzb3J0IiwiJHNraXAiLCIkbGltaXQiLCJjYiIsIiRsYXN0Iiwib3V0Ym94X2luc3RhbmNlcyIsImZsb3dJbnN0YW5jZXMiLCJSZWFjdGl2ZVZhciIsImF1dG9ydW4iLCJfY2hhbmdlT3JkZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLGdCQUFKO0FBQXFCQyxNQUFNLENBQUNDLElBQVAsQ0FBWSxvQ0FBWixFQUFpRDtBQUFDRixrQkFBZ0IsQ0FBQ0csQ0FBRCxFQUFHO0FBQUNILG9CQUFnQixHQUFDRyxDQUFqQjtBQUFtQjs7QUFBeEMsQ0FBakQsRUFBMkYsQ0FBM0Y7QUFDckJILGdCQUFnQixDQUFDO0FBQ2hCLG1CQUFpQixRQUREO0FBRWhCSSxTQUFPLEVBQUUsUUFGTztBQUdoQixZQUFVLFNBSE07QUFJaEJDLFFBQU0sRUFBRSxRQUpRO0FBS2hCLGdCQUFjO0FBTEUsQ0FBRCxFQU1iLGtCQU5hLENBQWhCLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNEQUMsV0FBVyxFQUFYO0FBRUEsS0FBQ0MsU0FBRCxHQUFhLEVBQWI7QUFFQSxLQUFDQyxjQUFELEdBQWtCLEVBQWxCO0FBRUEsS0FBQ0Msb0JBQUQsR0FBd0IsRUFBeEI7QUFFQSxLQUFDQywwQkFBRCxHQUE4QixFQUE5QjtBQUVBLEtBQUNDLGdCQUFELEdBQW9CLEVBQXBCO0FBRUEsS0FBQ0MsZ0JBQUQsR0FBb0IsRUFBcEI7QUFFQSxLQUFDQyxjQUFELEdBQWtCLEVBQWxCO0FBRUEsS0FBQ0MsYUFBRCxHQUFpQjtBQUFDQyxXQUFTO0FBQVYsQ0FBakI7QUFFQSxLQUFDQyxhQUFELEdBQWlCLEVBQWpCOztBQUVBLElBQUdDLE9BQU9DLFFBQVY7QUFDQ0QsU0FBT0UsT0FBUCxDQUFlO0FBQ2QsUUFBQUMsc0JBQUE7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R0FBbEMsQ0MwRkU7QUFDRDtBRHhHdUIsQ0FBMUI7O0FBZUEsSUFBR2pKLE9BQU9tQixRQUFWO0FBQ0NuQixTQUFPb3FCLE9BQVAsQ0FDQztBQUFBNjZCLDZCQUF5QixVQUFDanpDLEdBQUQsRUFBTTRuQixNQUFOO0FBQ3hCLFVBQUEzNEIsTUFBQSxFQUFBK0csSUFBQSxFQUFBbkcsR0FBQSxFQUFBMkcsSUFBQTtBQUFBeThDLDhCQUF3Qmp6QyxHQUF4QixFQUE2QjRuQixNQUE3QjtBQUVBNXhCLGFBQU8xRyxHQUFHNEcsS0FBSCxDQUFTMUcsT0FBVCxDQUFpQjtBQUFDQyxhQUFLbTRCO0FBQU4sT0FBakIsRUFBZ0M7QUFBQzM0QixnQkFBUTtBQUFDSixnQkFBTTtBQUFQO0FBQVQsT0FBaEMsQ0FBUDtBQUNBSSxlQUFBLENBQUFZLE1BQUFQLEdBQUFDLEtBQUEsQ0FBQUMsT0FBQTtBQ21HS0MsYUFBS3VHLFFBQVEsSUFBUixHQUFlQSxLQUFLbkgsSUFBcEIsR0FBMkIsS0FBSztBRG5HMUMsU0NvR007QUFDREksZ0JBQVE7QUFDTiw0QkFBa0I7QUFEWjtBQURQLE9EcEdOLE1Dd0dVLElEeEdWLEdDd0dpQixDQUFDdUgsT0FBTzNHLElBQUkrRixPQUFaLEtBQXdCLElBQXhCLEdBQStCWSxLRHhHOEN2SCxNQ3dHN0UsR0R4RzZFLE1BQTlGLEdBQThGLE1BQTlGO0FBQ0EsYUFBT0EsTUFBUDtBQUxEO0FBQUEsR0FERDtBQ2lIQSxDIiwiZmlsZSI6Ii9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2hlY2tOcG1WZXJzaW9ucyB9IGZyb20gJ21ldGVvci90bWVhc2RheTpjaGVjay1ucG0tdmVyc2lvbnMnO1xuY2hlY2tOcG1WZXJzaW9ucyh7XG5cdFwibm9kZS1zY2hlZHVsZVwiOiBcIl4xLjMuMVwiLFxuXHRjb29raWVzOiBcIl4wLjYuMlwiLFxuXHRcInhtbDJqc1wiOiBcIl4wLjQuMTlcIixcblx0bWtkaXJwOiBcIl4wLjMuNVwiLFxuXHRcInNwcmludGYtanNcIjogXCJeMS4wLjNcIixcbn0sICdzdGVlZG9zOndvcmtmbG93Jyk7IiwiV29ya2Zsb3cgPSB7fVxuXG5ASW1hZ2VTaWduID0ge307XG5cbkBUcmFjZXNUZW1wbGF0ZSA9IHt9O1xuXG5ASW5zdGFuY2Vmb3JtVGVtcGxhdGUgPSB7fTtcblxuQEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlID0ge307XG5cbkBJbnN0YW5jZVNpZ25UZXh0ID0ge31cblxuQFJlbGF0ZWRJbnN0YW5jZXMgPSB7fVxuXG5AUmVsYXRlZFJlY29yZHMgPSB7fVxuXG5ASW5zdGFuY2VNYWNybyA9IHtjb250ZXh0OiB7fX1cblxuQFRyYWNlc01hbmFnZXIgPSB7fTtcblxuaWYgTWV0ZW9yLmlzQ2xpZW50XG5cdE1ldGVvci5zdGFydHVwIC0+XG5cdFx0d29ya2Zsb3dfdGhyZWVfY29sdW1ucyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwid29ya2Zsb3dfdGhyZWVfY29sdW1uc1wiKVxuXHRcdGlmIHdvcmtmbG93X3RocmVlX2NvbHVtbnMgYW5kIHdvcmtmbG93X3RocmVlX2NvbHVtbnMgPT0gXCJvZmZcIlxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpXG5cdFx0ZWxzZVxuXHRcdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpXG5cblxuSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyA9IChmaWVsZF9mb3JtdWxhKS0+XG5cdHJldHVybiAoZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt0cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7eWlqaWFubGFuOlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7XFxcInlpamlhbmxhblxcXCI6XCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInsneWlqaWFubGFuJzpcIikgPiAtMSlcblxuSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZCA9IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cblx0ZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcblxuXHRfZm9ybV92ZXJzaW9uID0ge31cblxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRfZm9ybV92ZXJzaW9uID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGZvcm19KSwgZm9ybV92ZXJzaW9uKVxuXHRlbHNlXG5cdFx0X2Zvcm1fdmVyc2lvbiA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7X2lkOiBmb3JtX3ZlcnNpb24sIGZvcm06IGZvcm19KVxuXG5cdGZpZWxkcyA9IF9mb3JtX3ZlcnNpb24/LmZpZWxkcyB8fCBbXVxuXG5cdGZpZWxkcy5mb3JFYWNoIChmKS0+XG5cdFx0aWYgZi50eXBlID09ICd0YWJsZSdcblx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcblx0XHRlbHNlIGlmIGYudHlwZSA9PSAnc2VjdGlvbidcblx0XHRcdGY/LmZpZWxkcz8uZm9yRWFjaCAoZjEpLT5cblx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmMS5mb3JtdWxhXG5cdFx0ZWxzZVxuXHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmLmZvcm11bGFcblxuXHRfLnNvbWUgZmllbGRfZm9ybXVsYXMsIChmaWVsZF9mb3JtdWxhKS0+XG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcblxuIiwiICAgICAgICAgICAgIFxuXG5Xb3JrZmxvdyA9IHt9O1xuXG50aGlzLkltYWdlU2lnbiA9IHt9O1xuXG50aGlzLlRyYWNlc1RlbXBsYXRlID0ge307XG5cbnRoaXMuSW5zdGFuY2Vmb3JtVGVtcGxhdGUgPSB7fTtcblxudGhpcy5JbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZSA9IHt9O1xuXG50aGlzLkluc3RhbmNlU2lnblRleHQgPSB7fTtcblxudGhpcy5SZWxhdGVkSW5zdGFuY2VzID0ge307XG5cbnRoaXMuUmVsYXRlZFJlY29yZHMgPSB7fTtcblxudGhpcy5JbnN0YW5jZU1hY3JvID0ge1xuICBjb250ZXh0OiB7fVxufTtcblxudGhpcy5UcmFjZXNNYW5hZ2VyID0ge307XG5cbmlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHdvcmtmbG93X3RocmVlX2NvbHVtbnM7XG4gICAgd29ya2Zsb3dfdGhyZWVfY29sdW1ucyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwid29ya2Zsb3dfdGhyZWVfY29sdW1uc1wiKTtcbiAgICBpZiAod29ya2Zsb3dfdGhyZWVfY29sdW1ucyAmJiB3b3JrZmxvd190aHJlZV9jb2x1bW5zID09PSBcIm9mZlwiKSB7XG4gICAgICByZXR1cm4gJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJChcImJvZHlcIikuYWRkQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpO1xuICAgIH1cbiAgfSk7XG59XG5cbkluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcgPSBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gIHJldHVybiAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3lpamlhbmxhbjpcIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntcXFwieWlqaWFubGFuXFxcIjpcIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInsneWlqaWFubGFuJzpcIikgOiB2b2lkIDApID4gLTE7XG59O1xuXG5JbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkID0gZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gIHZhciBfZm9ybV92ZXJzaW9uLCBmaWVsZF9mb3JtdWxhcywgZmllbGRzO1xuICBmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuICBfZm9ybV92ZXJzaW9uID0ge307XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBfZm9ybV92ZXJzaW9uID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybVxuICAgIH0pLCBmb3JtX3ZlcnNpb24pO1xuICB9IGVsc2Uge1xuICAgIF9mb3JtX3ZlcnNpb24gPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmb3JtX3ZlcnNpb24sXG4gICAgICBmb3JtOiBmb3JtXG4gICAgfSk7XG4gIH1cbiAgZmllbGRzID0gKF9mb3JtX3ZlcnNpb24gIT0gbnVsbCA/IF9mb3JtX3ZlcnNpb24uZmllbGRzIDogdm9pZCAwKSB8fCBbXTtcbiAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgIHZhciByZWY7XG4gICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZScpO1xuICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmMS5mb3JtdWxhKTtcbiAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmLmZvcm11bGEpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfLnNvbWUoZmllbGRfZm9ybXVsYXMsIGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgfSk7XG59O1xuIiwiZGIuYXV0aF90b2tlbnMgPSBuZXcgTWV0ZW9yLkNvbGxlY3Rpb24oJ2F1dGhfdG9rZW5zJykiLCJJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUgPSB7fTtcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiXCJcIlxuXHQ8dHI+XG5cdFx0PHRkIGNsYXNzPVwiaW5zLWF0dGFjaC12aWV3XCI+XG5cdFx0XHQ8YSBocmVmPVwie3tpbnNfYXR0YWNoX2Rvd25sb2FkX3VybCBfaWQgYWJzb2x1dGV9fVwiIGNsYXNzPVwiaW5zX2F0dGFjaF9ocmVmXCIgdGFyZ2V0PVwiX3BhcmVudFwiIGRhdGEtbmFtZT1cInt7dGhpcy5uYW1lfX1cIiBkYXRhLXR5cGU9XCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XCIgZGF0YS1pZD1cInt7X2lkfX1cIj57e3RoaXMubmFtZX19PC9hPlxuXHRcdDwvdGQ+XG5cdDwvdHI+XG5cIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmU2VsZWN0VXNlclJlYWQgPSBcIlwiXCJcblx0PGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XG5cIlwiXCJcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXBSZWFkID0gXCJcIlwiXG5cdDxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxuXHRcdHt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd0YWJsZSd9fVxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCIgc3R5bGU9XCJwYWRkaW5nOjBweDtcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiA+XG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInJlYWRvbmx5LXRhYmxlXCIgc3R5bGU9XCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cInt7dGhpcy5jb2RlfX1UYWJsZVwiIG5hbWU9XCJ7e3RoaXMuY29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3t0aGlzLm5hbWV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XCJ7e3RoaXMubmFtZX19VGhlYWRcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRoZWFkXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cInt7dGhpcy5uYW1lfX1UYm9keVwiIG5hbWU9XCJ7e3RoaXMubmFtZX19VGJvZHlcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5PlxuXHRcdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxuXHRcdFx0XHRcdFx0PGxhYmVsPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svaWZ9fVxuXHRcdHt7L3dpdGh9fVxuXHQ8L2Rpdj5cblwiXCJcIlxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlwiXCJcblxuXHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XG5cdFx0XHRcdFx0PC9kaXY+XG4gIFx0XHRcdFx0PC9kaXY+XG5cdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiIHN0eWxlPVwicGFkZGluZzowcHg7XCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgPlxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGVzY3JpcHRpb25cIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJyZWFkb25seS10YWJsZVwiIHN0eWxlPVwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1wiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XCJ7e3RoaXMuY29kZX19VGFibGVcIiBuYW1lPVwie3t0aGlzLmNvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7dGhpcy5uYW1lfX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVwie3t0aGlzLm5hbWV9fVRoZWFkXCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UaGVhZFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XCJ7e3RoaXMubmFtZX19VGJvZHlcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRib2R5XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2lucHV0J319XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiIGRhdGEtcmVxdWlyZWQ9XCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cIj5cblx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIge3tnZXRQZXJtaXNzaW9ucyBjb2RlfX0gZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdudW1iZXInfX1cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJudW1iZXJcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlJ319XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXR5cGU9XCJkYXRlXCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlVGltZSd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS10eXBlPSdkYXRldGltZScgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdwYXNzd29yZCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VsZWN0J319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzZWxlY3QgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cInt7dmFsdWV9fVwiPnt7bGFiZWx9fTwvb3B0aW9uPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvc2VsZWN0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdyYWRpbyd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWYtcmFkaW8tZ3JvdXBcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cbiAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgdmFsdWU9XCJ7e3ZhbHVlfX1cIiBuYW1lPVwie3suLi9jb2RlfX1cIiBjbGFzcz1cInJhZGlvLWlubGluZSBmaXgtaW5kZW50XCI+IHt7bGFiZWx9fTwvbGFiZWw+XG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbXVsdGlTZWxlY3QnfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFmLWNoZWNrYm94LWdyb3VwXCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwie3t2YWx1ZX19XCIgbmFtZT1cInt7Li4vY29kZX19XCIgY2xhc3M9XCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFwiPiB7e2xhYmVsfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3VybCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInVybFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2VtYWlsJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiZW1haWxcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdjaGVja2JveCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2hlY2tib3hcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwidHJ1ZVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGNsYXNzPVwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcIj48L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J3t7Z2V0Q2ZDbGFzcyB0aGlzfX0gZm9ybS1jb250cm9sJyByZWFkb25seSBkaXNhYmxlZD57e3tnZXRWYWx1ZSBjb2RlfX19PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svaWZ9fVxuXHRcdHt7L3dpdGh9fVxuXCJcIlwiXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUgPSAodGVtcGFsdGVOYW1lLCBzdGVlZG9zRGF0YSkgLT5cblx0dGVtcGxhdGUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGVbdGVtcGFsdGVOYW1lXVxuXG5cdHRlbXBsYXRlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0dGVtcGxhdGVSZW5kZXJGdW5jdGlvbiA9IGV2YWwodGVtcGxhdGVDb21waWxlZCk7XG5cblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZSh0ZW1wYWx0ZU5hbWUsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24pO1xuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUluc3RhbmNlU2lnblRleHQgPSAoc3RlZWRvc0RhdGEpLT5cblx0aW5zdGFuY2VTaWduVGV4dEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9zaWduX3RleHQuaHRtbCcpXG5cblx0aW5zdGFuY2VTaWduVGV4dENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVNpZ25UZXh0SHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VTaWduVGV4dFwiLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24pO1xuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzIEluc3RhbmNlU2lnblRleHQuaGVscGVyc1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduID0gKHN0ZWVkb3NEYXRhKSAtPlxuXHRpbWFnZVNpZ25IdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW1hZ2Vfc2lnbi5odG1sJylcblx0aW1hZ2VTaWduQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGltYWdlU2lnbkh0bWwsIHtpc0JvZHk6IHRydWV9KTtcblx0aW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24gPSBldmFsKGltYWdlU2lnbkNvbXBpbGVkKTtcblx0VGVtcGxhdGUuaW1hZ2VTaWduID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW1hZ2VTaWduXCIsIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uKTtcblx0VGVtcGxhdGUuaW1hZ2VTaWduLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGUuaW1hZ2VTaWduLmhlbHBlcnMgSW1hZ2VTaWduLmhlbHBlcnNcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdCA9IChzdGVlZG9zRGF0YSkgLT5cblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmU2VsZWN0VXNlclJlYWRcIiwgc3RlZWRvc0RhdGEpO1xuXG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFwiLCBzdGVlZG9zRGF0YSk7XG5cblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJpbnN0YW5jZV9hdHRhY2htZW50XCIsIHthYnNvbHV0ZTogc3RlZWRvc0RhdGEuYWJzb2x1dGV9KTtcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduKHN0ZWVkb3NEYXRhKVxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0KHN0ZWVkb3NEYXRhKVxuXG5nZXRMaW5rVGV4dCA9IChpdGVtLCBsYWJlbCwgZGV0YWlsX3VybCktPlxuXHRpZiBkZXRhaWxfdXJsXG5cdFx0ZGV0YWlsX3VybCA9IGRldGFpbF91cmwucmVwbGFjZShcIntfaWR9XCIsIGl0ZW0uX2lkKVxuXHRcdHJldHVybiAnPGEgaHJlZj1cIicrZGV0YWlsX3VybCsnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JytsYWJlbCsnPC9hPic7XG5cdGVsc2Vcblx0XHRyZXR1cm4gbGFiZWxcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlID0gKHZhbHVlLCBmaWVsZCwgbG9jYWxlLCB1dGNPZmZzZXQpIC0+XG5cdGlmICF2YWx1ZSAmJiB2YWx1ZSAhPSBmYWxzZVxuXHRcdHJldHVybiAnJ1xuXHRzd2l0Y2ggZmllbGQudHlwZVxuXHRcdHdoZW4gJ2VtYWlsJ1xuXHRcdFx0dmFsdWUgPSBpZiB2YWx1ZSB0aGVuICc8YSBocmVmPVxcJ21haWx0bzonICsgdmFsdWUgKyAnXFwnPicgKyB2YWx1ZSArICc8L2E+JyBlbHNlICcnXG5cdFx0d2hlbiAndXJsJ1xuXHRcdFx0aWYgdmFsdWVcblx0XHRcdFx0aWYgdmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT0gMFxuXHRcdFx0XHRcdHRyeVxuXHRcdFx0XHRcdFx0dmFsdWUgPSBcIjxhIGhyZWY9J1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuXHRcdFx0XHRcdGNhdGNoIGVcblx0XHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG5cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gJydcblx0XHR3aGVuICdncm91cCdcblx0XHRcdGlmIGZpZWxkLmlzX211bHRpc2VsZWN0XG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/LmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIikudG9TdHJpbmcoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5mdWxsbmFtZVxuXHRcdHdoZW4gJ3VzZXInXG5cdFx0XHRpZiBmaWVsZC5pc19tdWx0aXNlbGVjdFxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5uYW1lXG5cdFx0d2hlbiAncGFzc3dvcmQnXG5cdFx0XHR2YWx1ZSA9ICcqKioqKionXG5cdFx0d2hlbiAnY2hlY2tib3gnXG5cdFx0XHRpZiB2YWx1ZSAmJiB2YWx1ZSAhPSAnZmFsc2UnXG5cdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIiwge30sIGxvY2FsZSlcblx0XHR3aGVuICdkYXRlVGltZSdcblx0XHRcdGlmIHZhbHVlICYmIHZhbHVlLmxlbmd0aCA9PSAxNlxuXHRcdFx0XHR0ID0gdmFsdWUuc3BsaXQoXCJUXCIpXG5cdFx0XHRcdHQwID0gdFswXS5zcGxpdChcIi1cIik7XG5cdFx0XHRcdHQxID0gdFsxXS5zcGxpdChcIjpcIik7XG5cblx0XHRcdFx0eWVhciA9IHQwWzBdO1xuXHRcdFx0XHRtb250aCA9IHQwWzFdO1xuXHRcdFx0XHRkYXRlID0gdDBbMl07XG5cdFx0XHRcdGhvdXJzID0gdDFbMF07XG5cdFx0XHRcdHNlY29uZHMgPSB0MVsxXTtcblxuXHRcdFx0XHR2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gbmV3IERhdGUodmFsdWUpXG5cblx0XHRcdHZhbHVlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUodmFsdWUsIHV0Y09mZnNldCk7XG5cdFx0d2hlbiAnaW5wdXQnXG5cdFx0XHRpZiBmaWVsZC5pc190ZXh0YXJlYVxuXHRcdFx0XHR2YWx1ZSA9IFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKHZhbHVlKSlcblx0XHR3aGVuICdudW1iZXInXG5cdFx0XHRpZiB2YWx1ZSBvciB2YWx1ZSA9PSAwXG5cdFx0XHRcdGlmIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJ1xuXHRcdFx0XHRcdHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSlcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZS50b0ZpeGVkKGZpZWxkLmRpZ2l0cylcblx0XHRcdFx0dmFsdWUgPSBTdGVlZG9zLm51bWJlclRvU3RyaW5nIHZhbHVlLCBsb2NhbGVcblx0XHR3aGVuICdvZGF0YSdcblx0XHRcdGRldGFpbF91cmwgPSBmaWVsZC5kZXRhaWxfdXJsXG5cdFx0XHRpZiBmaWVsZC5pc19tdWx0aXNlbGVjdFxuXHRcdFx0XHR2YWx1ZSA9IF8ubWFwIHZhbHVlLCAoaXRlbSktPlxuXHRcdFx0XHRcdHJldHVybiBnZXRMaW5rVGV4dChpdGVtLCBpdGVtWydAbGFiZWwnXSwgZGV0YWlsX3VybClcblx0XHRcdGVsc2Vcblx0XHRcdFx0dmFsdWUgPSBnZXRMaW5rVGV4dCh2YWx1ZSwgdmFsdWVbJ0BsYWJlbCddLCBkZXRhaWxfdXJsKVxuXG5cdHJldHVybiB2YWx1ZTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsID0gKGZpZWxkcywgY29kZSkgLT5cblx0ZmllbGQgPSBmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSlcblx0aWYgZmllbGRcblx0XHRpZiBmaWVsZC5uYW1lXG5cdFx0XHRyZXR1cm4gZmllbGQubmFtZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmaWVsZC5jb2RlXG5cblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24gPSAoaW5zdGFuY2UpLT5cblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cblx0Zm9ybV92ZXJzaW9uID0ge31cblxuXHRmb3JtX2ZpZWxkcyA9IFtdO1xuXG5cdGlmIGZvcm0uY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZm9ybV92ZXJzaW9uXG5cdFx0Zm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50XG5cdGVsc2Vcblx0XHRmb3JtX3ZlcnNpb24gPSBfLndoZXJlKGZvcm0uaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZvcm1fdmVyc2lvbn0pWzBdXG5cblx0Zm9ybV92ZXJzaW9uLmZpZWxkcy5mb3JFYWNoIChmaWVsZCktPlxuXHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nXG5cdFx0XHRmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcblx0XHRcdGlmIGZpZWxkLmZpZWxkc1xuXHRcdFx0XHRmaWVsZC5maWVsZHMuZm9yRWFjaCAoZikgLT5cblx0XHRcdFx0XHRmb3JtX2ZpZWxkcy5wdXNoKGYpO1xuXHRcdGVsc2UgaWYgZmllbGQudHlwZSA9PSAndGFibGUnXG5cdFx0XHRmaWVsZFsnc2ZpZWxkcyddID0gZmllbGRbJ2ZpZWxkcyddXG5cdFx0XHRkZWxldGUgZmllbGRbJ2ZpZWxkcyddXG5cdFx0XHRmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcblx0XHRlbHNlXG5cdFx0XHRmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcblxuXHRmb3JtX3ZlcnNpb24uZmllbGRzID0gZm9ybV9maWVsZHM7XG5cblx0cmV0dXJuIGZvcm1fdmVyc2lvbjtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEZsb3dWZXJzaW9uID0gKGluc3RhbmNlKS0+XG5cdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xuXHRmbG93X3ZlcnNpb24gPSB7fVxuXHRpZiBmbG93LmN1cnJlbnQuX2lkID09IGluc3RhbmNlLmZsb3dfdmVyc2lvblxuXHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudFxuXHRlbHNlXG5cdFx0Zmxvd192ZXJzaW9uID0gXy53aGVyZShmbG93Lmhpc3RvcnlzLCB7X2lkOiBpbnN0YW5jZS5mbG93X3ZlcnNpb259KVswXVxuXG5cdHJldHVybiBmbG93X3ZlcnNpb247XG5cblxuX2dldFZpZXdIdG1sID0gKHBhdGgpIC0+XG5cdHZpZXdIdG1sID0gQXNzZXRzLmdldFRleHQocGF0aClcblxuXHRpZiB2aWV3SHRtbFxuXHRcdHZpZXdIdG1sID0gdmlld0h0bWwucmVwbGFjZSgvPHRlbXBsYXRlW1xcd1xcc1xcXCJcXD0nXSs+L2ksXCJcIikucmVwbGFjZSgvPFxcL3RlbXBsYXRlPi9pLFwiXCIpXG5cblx0cmV0dXJuIHZpZXdIdG1sO1xuXG5fZ2V0TG9jYWxlID0gKHVzZXIpLT5cblx0aWYgdXNlcj8ubG9jYWxlPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcblx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0ZWxzZSBpZiB1c2VyPy5sb2NhbGU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ2VuLXVzJ1xuXHRcdGxvY2FsZSA9IFwiZW5cIlxuXHRlbHNlXG5cdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdHJldHVybiBsb2NhbGVcblxuXG5fZ2V0UmVxdWlyZWRGaWVsZHMgPSAoZmllbGRzLCByZXYpLT5cblx0aWYgIXJldlxuXHRcdHJldiA9IFtdO1xuXG5cdGZpZWxkcy5mb3JFYWNoIChmaWVsZCktPlxuXHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nXG5cdFx0XHRfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGQuZmllbGRzLCByZXYpXG5cdFx0ZWxzZSBpZiBmaWVsZC50eXBlID09ICd0YWJsZSdcblxuXHRcdGVsc2Vcblx0XHRcdGlmIGZpZWxkLmlzX3JlcXVpcmVkXG5cdFx0XHRcdHJldi5wdXNoIGZpZWxkLmNvZGVcblx0cmV0dXJuIHJldjtcblxuX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gKGZpZWxkcywgc3RlcHMpLT5cblx0c3RhcnRTdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBfdHlwZVwiLFwic3RhcnRcIilcblxuXHRlZGl0YWJsZUNvZGUgPSBbXVxuXG5cdF8ua2V5cyhzdGFydFN0ZXAucGVybWlzc2lvbnMpLmZvckVhY2ggKGtleSktPlxuXHRcdGlmIHN0YXJ0U3RlcC5wZXJtaXNzaW9uc1trZXldID09ICdlZGl0YWJsZSdcblx0XHRcdGVkaXRhYmxlQ29kZS5wdXNoIGtleVxuXG5cdHJldHVybiBlZGl0YWJsZUNvZGVcblxuX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzID0gKGZpZWxkcywgc3RlcHMpLT5cblx0cmVxdWlyZWRGaWVsZHMgPSBfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGRzKVxuXG5cdGVkaXRhYmxlQ29kZSA9IF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyhmaWVsZHMsIHN0ZXBzKVxuXG5cdHJldHVybiBfLmludGVyc2VjdGlvbihyZXF1aXJlZEZpZWxkcywgZWRpdGFibGVDb2RlKVxuXG5fZ2V0VGVtcGxhdGVEYXRhID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRmb3JtX3ZlcnNpb24gPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSlcblx0ZWxzZVxuXHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKVxuXG5cdGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcilcblxuXHRzdGVlZG9zRGF0YSA9IHt9XG5cblx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0c3RlZWRvc0RhdGEgPSBfLmNsb25lKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKSlcblx0XHRzdGVlZG9zRGF0YS5pbnNuYW1lID0gaW5zdGFuY2UubmFtZVxuXHRcdHN0ZWVkb3NEYXRhLmluc19zdGF0ZSA9IGluc3RhbmNlLnN0YXRlXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2ZpbmFsX2RlY2lzaW9uID0gaW5zdGFuY2UuaW5zX2ZpbmFsX2RlY2lzaW9uXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2NvZGUgPSBpbnN0YW5jZS5jb2RlXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2lzX2FyY2hpdmVkID0gaW5zdGFuY2UuaXNfYXJjaGl2ZWRcblx0XHRzdGVlZG9zRGF0YS5pbnNfaXNfZGVsZXRlZCA9IGluc3RhbmNlLmluc19pc19kZWxldGVkXG5cdFx0c3RlZWRvc0RhdGEuYXBwbGljYW50X25hbWUgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxuXHRcdHN0ZWVkb3NEYXRhLmFwcGxpY2FudENvbnRleHQgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxuXG5cdHN0ZWVkb3NEYXRhLmluc3RhbmNlID0gaW5zdGFuY2Vcblx0c3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uID0gZm9ybV92ZXJzaW9uXG5cdHN0ZWVkb3NEYXRhLmxvY2FsZSA9IGxvY2FsZVxuXHRzdGVlZG9zRGF0YS51dGNPZmZzZXQgPSB1c2VyLnV0Y09mZnNldFxuXHRzdGVlZG9zRGF0YS5zcGFjZSA9IGluc3RhbmNlLnNwYWNlXG5cdHN0ZWVkb3NEYXRhLnNlc3Npb25Vc2VySWQgPSB1c2VyLl9pZFxuXG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdGlmIG9wdGlvbnM/LmVkaXRhYmxlXG5cdFx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mb3JtfSlcblxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZmxvd30pXG5cblx0XHRcdHN0ZWVkb3NEYXRhLnN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZvcm0uY3VycmVudC5maWVsZHMsIGZsb3cuY3VycmVudC5zdGVwcyk7XG5cblx0cmV0dXJuIHN0ZWVkb3NEYXRhO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSA9IChkYXRlLCB1dGNPZmZzZXQpLT5cblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0cGFzc2luZyA9IGZhbHNlO1xuXHRlbHNlXG5cdFx0cGFzc2luZyA9IHRydWU7XG5cblx0aWYgIXV0Y09mZnNldCAmJiB1dGNPZmZzZXQgIT0wXG5cdFx0dXRjT2Zmc2V0ID0gOFxuXG5cdHJldHVybiBtb21lbnQoZGF0ZSkudXRjT2Zmc2V0KHV0Y09mZnNldCwgcGFzc2luZykuZm9ybWF0KFwiWVlZWS1NTS1ERCBISDptbVwiKTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxuXG5cdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG5cblx0aWYgb3B0aW9ucz8uYWJzb2x1dGVcblx0XHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG5cblx0aW5zdGFuY2VUZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSwgb3B0aW9ucz8udGVtcGxhdGVOYW1lKTtcblxuXHRpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZlNlbGVjdFVzZXIvZyxcImFmU2VsZWN0VXNlclJlYWRcIilcblxuXHRpZiAhb3B0aW9ucz8uZWRpdGFibGVcblx0XHRpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZkZvcm1Hcm91cC9nLFwiYWZGb3JtR3JvdXBSZWFkXCIpXG5cblx0aW5zdGFuY2VDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW5zdGFuY2VUZW1wbGF0ZSwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdGluc3RhbmNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlQ29tcGlsZWQpO1xuXG5cdFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZV9yZWFkb25seV92aWV3XCIsIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXG5cdFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzXG5cblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQoc3RlZWRvc0RhdGEpO1xuXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LCBzdGVlZG9zRGF0YSlcblxuXHRyZXR1cm4gXCJcIlwiXG5cdFx0PGRpdiBpZD0naW5zdGFuY2Vmb3JtJyA+XG5cdFx0XHQje2JvZHl9XG5cdFx0PC9kaXY+XG5cdFwiXCJcIlxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxuXG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuXHRpZiBmb3JtLmluc3RhbmNlX3N0eWxlID09IFwidGFibGVcIiB8fCBvcHRpb25zPy50ZW1wbGF0ZU5hbWUgPT0gXCJ0YWJsZVwiXG5cdFx0dHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlc190YWJsZS5odG1sJylcblx0ZWxzZVxuXHRcdHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXMuaHRtbCcpXG5cblx0dHJhY2VDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodHJhY2VzSHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdHRyYWNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRyYWNlQ29tcGlsZWQpO1xuXG5cdFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJ0cmFjZV9yZWFkb25seV92aWV3XCIsIHRyYWNlUmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXG5cdFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzXG5cblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcsIGluc3RhbmNlLnRyYWNlcylcblxuXHRyZXR1cm4gYm9keTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSktPlxuXG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cblx0YXR0YWNobWVudEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9hdHRhY2htZW50cy5odG1sJylcblxuXHRhdHRhY2htZW50Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGF0dGFjaG1lbnRIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0YXR0YWNobWVudFJlbmRlckZ1bmN0aW9uID0gZXZhbChhdHRhY2htZW50Q29tcGlsZWQpO1xuXG5cdFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJhdHRhY2htZW50c19yZWFkb25seV92aWV3XCIsIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXG5cblx0VGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5oZWxwZXJzIEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnNcblxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldylcblxuXHRyZXR1cm4gYm9keTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxuXG5cdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG5cblx0aWYgb3B0aW9ucz8uYWJzb2x1dGVcblx0XHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG5cblx0cmVsYXRlZEluc3RhbmNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX2luc3RhbmNlcy5odG1sJylcblxuXHRyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRJbnN0YW5jZXNIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0cmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQpO1xuXG5cdFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX2luc3RhbmNlc192aWV3XCIsIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXG5cblx0VGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5oZWxwZXJzIFJlbGF0ZWRJbnN0YW5jZXMuaGVscGVyc1xuXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LCBzdGVlZG9zRGF0YSlcblxuXHRyZXR1cm4gYm9keTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuXG5cdGlmIG9wdGlvbnM/LmFic29sdXRlXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuXG5cdHJlbGF0ZWRSZWNvcmRzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfcmVjb3Jkcy5odG1sJylcblxuXHRyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkUmVjb3Jkc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcblxuXHRyZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfcmVjb3Jkc192aWV3XCIsIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5oZWxwZXJzIFJlbGF0ZWRSZWNvcmRzLmhlbHBlcnNcblxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcsIHN0ZWVkb3NEYXRhKVxuXG5cdHJldHVybiBib2R5O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0ID0gKGluc3RhbmNlKS0+XG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXG5cblx0Zm9ybV9zY3JpcHQgPSBmb3JtX3ZlcnNpb24uZm9ybV9zY3JpcHQ7XG5cblx0aWYgZm9ybV9zY3JpcHQgJiYgZm9ybV9zY3JpcHQucmVwbGFjZSgvXFxuL2csXCJcIikucmVwbGFjZSgvXFxzL2csXCJcIikubGVuZ3RoID4gMFxuXHRcdGZvcm1fc2NyaXB0ID0gXCJDb3JlRm9ybSA9IHt9O0NvcmVGb3JtLmluc3RhbmNlZm9ybSA9IHt9O1wiICsgZm9ybV9zY3JpcHRcblx0XHRmb3JtX3NjcmlwdCArPSBcIjtpZihDb3JlRm9ybS5mb3JtX09uTG9hZCl7d2luZG93Lm9ubG9hZCA9IENvcmVGb3JtLmZvcm1fT25Mb2FkKCk7fVwiXG5cdGVsc2Vcblx0XHRmb3JtX3NjcmlwdCA9IFwiXCJcblxuXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cblx0Ym9keSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcblxuXHRvbkxvYWRTY3JpcHQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0KGluc3RhbmNlKTtcblxuXHRjcmVhdG9yU2VydmljZSA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMud2Vic2VydmljZXM/LmNyZWF0b3I/LnVybFxuXHRpbnNfcmVjb3JkX2lkcyA9IGluc3RhbmNlLnJlY29yZF9pZHNcblxuXHRvcGVuRmlsZVNjcmlwdCA9IFwiXCJcIlxuXHRcdFx0aWYod2luZG93LmlzTm9kZSAmJiBpc05vZGUoKSl7XG5cdFx0XHRcdGF0dGFjaHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5zX2F0dGFjaF9ocmVmXCIpO1xuXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYXR0YWNocy5sZW5ndGg7IGkrKyl7XG5cdFx0XHRcdFx0YXR0YWNoID0gYXR0YWNoc1tpXTtcblx0XHRcdFx0XHRhdHRhY2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRcdFx0aWYoaXNJbWFnZSh0aGlzLmRhdGFzZXQudHlwZSkgfHwgaXNIdG1sKHRoaXMuZGF0YXNldC50eXBlKSl7XG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0b3BlbldpbmRvdyhcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgdGhpcy5kYXRhc2V0LmlkKTtcblx0XHRcdFx0XHRcdH1lbHNlIGlmKG53X2NvcmUuY2FuT3BlbkZpbGUodGhpcy5kYXRhc2V0Lm5hbWUpKXtcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRud19jb3JlLm9wZW5GaWxlKHRoaXMuaHJlZiwgdGhpcy5kYXRhc2V0Lm5hbWUpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dmFyIGZsb3cgPSBcIiN7aW5zdGFuY2UuZmxvd31cIjtcblx0XHRcdHZhciBzcGFjZSA9IFwiI3tpbnN0YW5jZS5zcGFjZX1cIjtcblxuXHRcdFx0ZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpe1xuXHRcdFx0XHRsZXQgcGF0dGVybiA9IFJlZ0V4cChuYW1lICsgXCI9LlteO10qXCIpXG5cdFx0XHRcdGxldCBtYXRjaGVkID0gZG9jdW1lbnQuY29va2llLm1hdGNoKHBhdHRlcm4pXG5cdFx0XHRcdGlmKG1hdGNoZWQpe1xuXHRcdFx0XHRcdGxldCBjb29raWUgPSBtYXRjaGVkWzBdLnNwbGl0KCc9Jylcblx0XHRcdFx0XHRyZXR1cm4gY29va2llWzFdXG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuICcnXG5cdFx0XHR9XG5cblx0XHRcdHZhciByZWNvcmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlucy1yZWxhdGVkLXJlY29yZHNcIik7XG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgcmVjb3Jkcy5sZW5ndGg7IGkrKyl7XG5cdFx0XHRcdFx0dmFyIHJlY29yZCA9IHJlY29yZHNbaV07XG5cdFx0XHRcdFx0cmVjb3JkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0XHRcdHZhciBjcmVhdG9yU2VydmljZSA9IFwiI3tjcmVhdG9yU2VydmljZX1cIlxuXHRcdFx0XHRcdFx0dmFyIGluc19yZWNvcmRfaWRzID0gI3tKU09OLnN0cmluZ2lmeShpbnNfcmVjb3JkX2lkcyl9XG5cdFx0XHRcdFx0XHRpZihjcmVhdG9yU2VydmljZSAmJiBpbnNfcmVjb3JkX2lkcyAmJiBpbnNfcmVjb3JkX2lkcy5sZW5ndGggPiAwKXtcblx0XHRcdFx0XHRcdFx0dmFyIG9iamNldE5hbWUgPSBpbnNfcmVjb3JkX2lkc1swXS5vXG5cdFx0XHRcdFx0XHRcdHZhciBpZCA9IGluc19yZWNvcmRfaWRzWzBdLmlkc1swXVxuXHRcdFx0XHRcdFx0XHR2YXIgdW9iaiA9IHt9O1xuXHRcdFx0XHRcdFx0XHR1b2JqW1wiWC1Vc2VyLUlkXCJdID0gZ2V0Q29va2llKFwiWC1Vc2VyLUlkXCIpO1xuXHRcdFx0XHRcdFx0XHR1b2JqW1wiWC1BdXRoLVRva2VuXCJdID0gZ2V0Q29va2llKFwiWC1BdXRoLVRva2VuXCIpO1xuXHRcdFx0XHRcdFx0XHRyZWRpcmVjdFVybCA9IGNyZWF0b3JTZXJ2aWNlICsgXCJhcHAvLS9cIiArIG9iamNldE5hbWUgKyBcIi92aWV3L1wiICsgaWQgKyBcIj9cIiArICQucGFyYW0odW9iaik7XG5cdFx0XHRcdFx0XHRcdG9wZW5XaW5kb3cocmVkaXJlY3RVcmwpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XCJcIlwiO1xuXG5cblx0aWYgIVN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuXHRcdGlmIGZvcm0/Lmluc3RhbmNlX3N0eWxlID09ICd0YWJsZSdcblx0XHRcdGluc3RhbmNlX3N0eWxlID0gXCJpbnN0YW5jZS10YWJsZVwiXG5cblx0aWYgb3B0aW9ucz8udGVtcGxhdGVOYW1lID09ICd0YWJsZSdcblx0XHRpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIlxuXG5cdGlmIG9wdGlvbnM/Lmluc3RhbmNlX3N0eWxlXG5cdFx0aW5zdGFuY2Vfc3R5bGUgPSBvcHRpb25zLmluc3RhbmNlX3N0eWxlXG5cblx0aWYgIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93VHJhY2UgPT0gdHJ1ZVxuXHRcdHRyYWNlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFRyYWNlc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlKVxuXHRlbHNlXG5cdFx0dHJhY2UgPSBcIlwiXG5cblx0aW5zdGFuY2VCb3hTdHlsZSA9IFwiXCI7XG5cblx0aWYgaW5zdGFuY2UgJiYgaW5zdGFuY2UuZmluYWxfZGVjaXNpb25cblx0XHRpZiBpbnN0YW5jZS5maW5hbF9kZWNpc2lvbiA9PSBcImFwcHJvdmVkXCJcblx0XHRcdGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1zdWNjZXNzXCJcblx0XHRlbHNlIGlmIChpbnN0YW5jZS5maW5hbF9kZWNpc2lvbiA9PSBcInJlamVjdGVkXCIpXG5cdFx0XHRpbnN0YW5jZUJveFN0eWxlID0gXCJib3gtZGFuZ2VyXCJcblx0aWYgIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPT0gdHJ1ZVxuXHRcdGF0dGFjaG1lbnQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlKVxuXHRcdHJlbGF0ZWRfaW5zdGFuY2VzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblx0XHRyZWxhdGVkX3JlY29yZHMgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZFJlY29yZHNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblx0ZWxzZVxuXHRcdGF0dGFjaG1lbnQgPSBcIlwiXG5cdFx0cmVsYXRlZF9pbnN0YW5jZXMgPSBcIlwiXG5cdFx0cmVsYXRlZF9yZWNvcmRzID0gXCJcIlxuXG5cdGFic29sdXRlVXJsID0gTWV0ZW9yLmFic29sdXRlVXJsKClcblxuXHR3aWR0aCA9IFwiOTYwcHhcIlxuXHQjXHTlpoLmnpznu5l0YWJsZeeahHBhcmVudOiuvue9rndpZHRo77yM5YiZ5Lya5a+86Ie06Zi/6YeM5LqR6YKu566x5pi+56S6dGFibGUg5byC5bi4XG5cdGlmIG9wdGlvbnM/LndpZHRoXG5cdFx0d2lkdGggPSBcIlwiXG5cblx0Y3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcInN0ZWVkb3MtY3NzXCIpXG5cblx0YWxsQ3NzTGluayA9IFwiXCJcIjxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBjbGFzcz1cIl9fbWV0ZW9yLWNzc19fXCIgaHJlZj1cIiN7Y3NzSHJlZn1cIj5cIlwiXCJcblxuXHR0cmFjZUNoZWNrID0gXCJcIlxuXHRpZiAhXy5pc0VtcHR5KHRyYWNlKVxuXHRcdHRyYWNlQ2hlY2sgPSBcImNoZWNrZWRcIlxuXHRpZiBvcHRpb25zPy50YWdnZXIgPT0gJ2VtYWlsJ1xuXHRcdHNob3dUcmFjZXNCdG4gPSBcIlwiXG5cdGVsc2Vcblx0XHRzaG93VHJhY2VzQnRuID0gXCJcIlwiXG5cdFx0XHQ8ZGl2IGNsYXNzPVwibmF2aWdhdGlvbi1iYXIgYnRuLWdyb3VwIG5vLXByaW50XCIgc3R5bGU9XCJtaW4td2lkdGg6IDYwMHB4OyB6LWluZGV4OiA5OTlcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInByaW50LXRvb2xcIj5cblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjYngtbGFiZWxcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJjYngtcHJpbnQgY2J4LXByaW50LWF0dGFjaG1lbnRzXCIgaWQ9XCJjYngtcHJpbnQtYXR0YWNobWVudHNcIiBjaGVja2VkPVwiY2hlY2tlZFwiPjxzcGFuPumZhOS7tjwvc3Bhbj48L2xhYmVsPlxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNieC1sYWJlbFwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImNieC1wcmludCBjYngtcHJpbnQtdHJhY2VzXCIgaWQ9XCJjYngtcHJpbnQtdHJhY2VzXCIgY2hlY2tlZD1cIiN7dHJhY2VDaGVja31cIj48c3Bhbj4je3QoJ2luc3RhbmNlX2FwcHJvdmFsX2hpc3RvcnknKX08L3NwYW4+PC9sYWJlbD5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdFwiXCJcIlxuXG5cdHNob3dUcmFjZXNTY3JpcHQgPSBcIlwiXCJcblx0XHQkKCBkb2N1bWVudCApLnJlYWR5KGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtdHJhY2VzJyk7XG5cdFx0XHR2YXIgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc3RhbmNlLXRyYWNlcycpWzBdO1xuXHRcdFx0aWYgKGIuY2hlY2tlZCl7XG5cdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcblx0XHRcdH1cblx0XHRcdGIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSl7XG5cdFx0XHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcblx0XHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0dmFyIGF0dGFjaG1lbnRzQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LWF0dGFjaG1lbnRzJyk7XG5cdFx0XHR2YXIgYXR0YWNobWVudHNWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYXR0YWNobWVudHMtc2VjdGlvbicpWzBdO1xuXHRcdFx0aWYgKGF0dGFjaG1lbnRzQ2hlY2tib3guY2hlY2tlZCl7XG5cdFx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXG5cdFx0XHR9XG5cdFx0XHRhdHRhY2htZW50c0NoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XG5cdFx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFwiXCJcIlxuXG5cdGlmIG9wdGlvbnM/LnN0eWxlc1xuXHRcdGFsbENzc0xpbmsgPSBcIlwiXG5cblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZm9ybX0pO1xuXHRmb3JtRGVzY3JpcHRpb25IdG1sID0gXCJcIlxuXHRpZiBmb3JtXG5cdFx0Zm9ybURlc2NyaXB0aW9uID0gZm9ybS5kZXNjcmlwdGlvblxuXHRcdGlmIGZvcm1EZXNjcmlwdGlvblxuXHRcdFx0Zm9ybURlc2NyaXB0aW9uID0gZm9ybURlc2NyaXB0aW9uLnJlcGxhY2UoL1xcbi9nLFwiPGJyLz5cIilcblx0XHRcdGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiXCJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImJveC1oZWFkZXIgIHdpdGgtYm9yZGVyIGluc3RhbmNlLWhlYWRlclwiPlxuXHRcdFx0XHRcdDxkaXY+XG5cdFx0XHRcdFx0XHQje2Zvcm1EZXNjcmlwdGlvbn1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFwiXCJcIlxuXG5cdGh0bWwgPSBcIlwiXCJcblx0XHQ8IURPQ1RZUEUgaHRtbD5cblx0XHQ8aHRtbD5cblx0XHRcdDxoZWFkPlxuXHRcdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwiQ29udGVudC1UeXBlXCIgY29udGVudD1cInRleHQvaHRtbDsgY2hhcnNldD1VVEYtOFwiLz5cblx0XHRcdFx0I3thbGxDc3NMaW5rfVxuXHRcdFx0XHQ8c2NyaXB0IHNyYz1cImh0dHBzOi8vd3d3LnN0ZWVkb3MuY29tL3dlYnNpdGUvbGlicy9qcXVlcnkubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXHRcdFx0XHQ8c2NyaXB0IHNyYz1cIi9qcy9ud19jb3JlLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXHRcdFx0XHQje29wdGlvbnMucGx1Z2lucyB8fCBcIlwifVxuXG5cdFx0XHRcdDxzdHlsZT5cblx0XHRcdFx0XHQuc3RlZWRvc3tcblx0XHRcdFx0XHRcdHdpZHRoOiAje3dpZHRofTtcblx0XHRcdFx0XHRcdG1hcmdpbi1sZWZ0OiBhdXRvO1xuXHRcdFx0XHRcdFx0bWFyZ2luLXJpZ2h0OiBhdXRvO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS1uYW1le1xuXHRcdFx0XHRcdFx0ZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnRcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LmJveC10b29sc3tcblx0XHRcdFx0XHRcdGRpc3BsYXk6IG5vbmU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC5ib3guY29sbGFwc2VkLWJveCAuYm94LWJvZHksLmJveC5jb2xsYXBzZWQtYm94IC5ib3gtZm9vdGVyIHtcblx0XHRcdFx0XHQgIGRpc3BsYXk6IGJsb2NrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJvZHl7XG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBhenVyZSAhaW1wb3J0YW50O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS10cmFjZXN7XG5cdFx0XHRcdFx0XHRwYWRkaW5nLWxlZnQ6IDE1cHg7XG5cdFx0XHRcdFx0XHRwYWRkaW5nLXJpZ2h0OiAxNXB4O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCN7b3B0aW9ucz8uc3R5bGVzIHx8IFwiXCJ9XG5cdFx0XHRcdDwvc3R5bGU+XG5cdFx0XHQ8L2hlYWQ+XG5cdFx0XHQ8Ym9keT5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZWVkb3Mgd29ya2Zsb3cgaW5zdGFuY2UtcHJpbnRcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic2tpbi1ncmVlbiBza2luLWFkbWluLWx0ZVwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIndyYXBwZXJcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnQtd3JhcHBlclwiPlxuXHRcdFx0XHRcdFx0XHRcdCN7c2hvd1RyYWNlc0J0bn1cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UtcHJpbnRcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZSAje2luc3RhbmNlX3N0eWxlfVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8Zm9ybSBuYW1lPVwiaW5zdGFuY2VGb3JtXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLWZvcm0gYm94ICN7aW5zdGFuY2VCb3hTdHlsZX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7Zm9ybURlc2NyaXB0aW9uSHRtbH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJib3gtYm9keVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sLW1kLTEyXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0nYXR0YWNobWVudHMtc2VjdGlvbic+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje2F0dGFjaG1lbnR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje3JlbGF0ZWRfaW5zdGFuY2VzfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tyZWxhdGVkX3JlY29yZHN9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tib2R5fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Zvcm0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCN7dHJhY2V9XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvYm9keT5cblx0XHRcdDxzY3JpcHQ+I3tvcGVuRmlsZVNjcmlwdH07I3tvbkxvYWRTY3JpcHR9OyN7c2hvd1RyYWNlc1NjcmlwdH08L3NjcmlwdD5cblx0XHQ8L2h0bWw+XG5cdFwiXCJcIlxuXG5cdHJldHVybiBodG1sIiwidmFyIF9nZXRMb2NhbGUsIF9nZXRSZXF1aXJlZEZpZWxkcywgX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzLCBfZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMsIF9nZXRUZW1wbGF0ZURhdGEsIF9nZXRWaWV3SHRtbCwgZ2V0TGlua1RleHQ7ICAgICAgICAgICAgICAgICAgICAgICAgICBcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlID0ge307XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbnN0YW5jZV9hdHRhY2htZW50ID0gXCI8dHI+XFxuXHQ8dGQgY2xhc3M9XFxcImlucy1hdHRhY2gtdmlld1xcXCI+XFxuXHRcdDxhIGhyZWY9XFxcInt7aW5zX2F0dGFjaF9kb3dubG9hZF91cmwgX2lkIGFic29sdXRlfX1cXFwiIGNsYXNzPVxcXCJpbnNfYXR0YWNoX2hyZWZcXFwiIHRhcmdldD1cXFwiX3BhcmVudFxcXCIgZGF0YS1uYW1lPVxcXCJ7e3RoaXMubmFtZX19XFxcIiBkYXRhLXR5cGU9XFxcInt7dGhpcy5vcmlnaW5hbC50eXBlfX1cXFwiIGRhdGEtaWQ9XFxcInt7X2lkfX1cXFwiPnt7dGhpcy5uYW1lfX08L2E+XFxuXHQ8L3RkPlxcbjwvdHI+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZlNlbGVjdFVzZXJSZWFkID0gXCI8ZGl2IGNsYXNzPSdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50Jz57e3ZhbHVlfX08L2Rpdj5cIjtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmRm9ybUdyb3VwUmVhZCA9IFwiPGRpdiBjbGFzcz0nZm9ybS1ncm91cCc+XFxuXHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XFxuXHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdzZWN0aW9uIGNhbGxvdXQgY2FsbG91dC1kZWZhdWx0Jz5cXG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2ZfbGFiZWwgdGhpc319PC9sYWJlbD5cXG5cdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtcXFwiPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiID5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJyZWFkb25seS10YWJsZVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcXFwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XFxcInt7dGhpcy5jb2RlfX1UYWJsZVxcXCIgbmFtZT1cXFwie3t0aGlzLmNvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e3RoaXMubmFtZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XFxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdHt7I2lmIHNob3dMYWJlbH19XFxuXHRcdFx0XHRcdDxsYWJlbD57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSd7e2dldENmQ2xhc3MgdGhpc319IGZvcm0tY29udHJvbCcgcmVhZG9ubHkgZGlzYWJsZWQ+e3t7Z2V0VmFsdWUgY29kZX19fTwvZGl2Plxcblx0XHRcdHt7L2lmfX1cXG5cdFx0e3svaWZ9fVxcblx0e3svd2l0aH19XFxuPC9kaXY+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cCA9IFwiXFxue3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxcblx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxcblx0XHRcdFx0PC9kaXY+XFxuICBcdFx0XHRcdDwvZGl2Plxcblx0XHR7e2Vsc2V9fVxcblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd0YWJsZSd9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXFxcIj5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O1xcXCI+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwtaGVhZGluZ1xcXCIgPlxcblx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cXFwiZGVzY3JpcHRpb25cXFwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInJlYWRvbmx5LXRhYmxlXFxcIiBzdHlsZT1cXFwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1xcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDx0YWJsZSB0eXBlPSd0YWJsZScgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVxcXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cXFwie3t0aGlzLmNvZGV9fVRhYmxlXFxcIiBuYW1lPVxcXCJ7e3RoaXMuY29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7dGhpcy5uYW1lfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDx0aGVhZCBpZD1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIiBuYW1lPVxcXCJ7e3RoaXMubmFtZX19VGhlYWRcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC90aGVhZD5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRib2R5XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlQm9keSB0aGlzfX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cXG5cdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2lucHV0J319XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIGRhdGEtcmVxdWlyZWQ9XFxcInt7I2lmIGlzX3JlcXVpcmVkfX10cnVle3svaWZ9fVxcXCI+XFxuXHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIHt7Z2V0UGVybWlzc2lvbnMgY29kZX19IGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdudW1iZXInfX1cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGUnfX1cXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtdHlwZT1cXFwiZGF0ZVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGVUaW1lJ319XFxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXR5cGU9J2RhdGV0aW1lJyBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAncGFzc3dvcmQnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInBhc3N3b3JkXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VsZWN0J319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzZWxlY3QgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxvcHRpb24gdmFsdWU9XFxcInt7dmFsdWV9fVxcXCI+e3tsYWJlbH19PC9vcHRpb24+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvc2VsZWN0Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdyYWRpbyd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJhZi1yYWRpby1ncm91cFxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XFxuICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcInJhZGlvLWlubGluZSBmaXgtaW5kZW50XFxcIj48aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIHZhbHVlPVxcXCJ7e3ZhbHVlfX1cXFwiIG5hbWU9XFxcInt7Li4vY29kZX19XFxcIiBjbGFzcz1cXFwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcXFwiPiB7e2xhYmVsfX08L2xhYmVsPlxcbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxcbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbXVsdGlTZWxlY3QnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiYWYtY2hlY2tib3gtZ3JvdXBcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgdmFsdWU9XFxcInt7dmFsdWV9fVxcXCIgbmFtZT1cXFwie3suLi9jb2RlfX1cXFwiIGNsYXNzPVxcXCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFxcXCI+IHt7bGFiZWx9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3VybCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidXJsXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZW1haWwnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcImVtYWlsXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnY2hlY2tib3gnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiY2hlY2tib3hcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgc3R5bGU9XFxcIndpZHRoOiAxMDAlO1xcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiB2YWx1ZT1cXFwidHJ1ZVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGNsYXNzPVxcXCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFxcXCI+PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSd7e2dldENmQ2xhc3MgdGhpc319IGZvcm0tY29udHJvbCcgcmVhZG9ubHkgZGlzYWJsZWQ+e3t7Z2V0VmFsdWUgY29kZX19fTwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0e3svaWZ9fVxcblx0XHR7ey9pZn19XFxuXHR7ey93aXRofX1cIjtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZSA9IGZ1bmN0aW9uKHRlbXBhbHRlTmFtZSwgc3RlZWRvc0RhdGEpIHtcbiAgdmFyIHRlbXBsYXRlLCB0ZW1wbGF0ZUNvbXBpbGVkLCB0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uO1xuICB0ZW1wbGF0ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdO1xuICB0ZW1wbGF0ZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0ZW1wbGF0ZSwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbiA9IGV2YWwodGVtcGxhdGVDb21waWxlZCk7XG4gIFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0gPSBuZXcgQmxhemUuVGVtcGxhdGUodGVtcGFsdGVOYW1lLCB0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUluc3RhbmNlU2lnblRleHQgPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICB2YXIgaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkLCBpbnN0YW5jZVNpZ25UZXh0SHRtbCwgaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uO1xuICBpbnN0YW5jZVNpZ25UZXh0SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX3NpZ25fdGV4dC5odG1sJyk7XG4gIGluc3RhbmNlU2lnblRleHRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW5zdGFuY2VTaWduVGV4dEh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dCA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlU2lnblRleHRcIiwgaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dC5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzKEluc3RhbmNlU2lnblRleHQuaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduID0gZnVuY3Rpb24oc3RlZWRvc0RhdGEpIHtcbiAgdmFyIGltYWdlU2lnbkNvbXBpbGVkLCBpbWFnZVNpZ25IdG1sLCBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbjtcbiAgaW1hZ2VTaWduSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2ltYWdlX3NpZ24uaHRtbCcpO1xuICBpbWFnZVNpZ25Db21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW1hZ2VTaWduSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24gPSBldmFsKGltYWdlU2lnbkNvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW1hZ2VTaWduID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW1hZ2VTaWduXCIsIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW1hZ2VTaWduLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIHJldHVybiBUZW1wbGF0ZS5pbWFnZVNpZ24uaGVscGVycyhJbWFnZVNpZ24uaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdCA9IGZ1bmN0aW9uKHN0ZWVkb3NEYXRhKSB7XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZlNlbGVjdFVzZXJSZWFkXCIsIHN0ZWVkb3NEYXRhKTtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFwiLCBzdGVlZG9zRGF0YSk7XG4gIH1cbiAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiaW5zdGFuY2VfYXR0YWNobWVudFwiLCB7XG4gICAgICBhYnNvbHV0ZTogc3RlZWRvc0RhdGEuYWJzb2x1dGVcbiAgICB9KTtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduKHN0ZWVkb3NEYXRhKTtcbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUluc3RhbmNlU2lnblRleHQoc3RlZWRvc0RhdGEpO1xuICB9XG59O1xuXG5nZXRMaW5rVGV4dCA9IGZ1bmN0aW9uKGl0ZW0sIGxhYmVsLCBkZXRhaWxfdXJsKSB7XG4gIGlmIChkZXRhaWxfdXJsKSB7XG4gICAgZGV0YWlsX3VybCA9IGRldGFpbF91cmwucmVwbGFjZShcIntfaWR9XCIsIGl0ZW0uX2lkKTtcbiAgICByZXR1cm4gJzxhIGhyZWY9XCInICsgZGV0YWlsX3VybCArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nICsgbGFiZWwgKyAnPC9hPic7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxhYmVsO1xuICB9XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KSB7XG4gIHZhciBkYXRlLCBkZXRhaWxfdXJsLCBlLCBob3VycywgbW9udGgsIHNlY29uZHMsIHQsIHQwLCB0MSwgeWVhcjtcbiAgaWYgKCF2YWx1ZSAmJiB2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgY2FzZSAnZW1haWwnOlxuICAgICAgdmFsdWUgPSB2YWx1ZSA/ICc8YSBocmVmPVxcJ21haWx0bzonICsgdmFsdWUgKyAnXFwnPicgKyB2YWx1ZSArICc8L2E+JyA6ICcnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndXJsJzpcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT09IDApIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9J1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgICB2YWx1ZSA9IFwiPGEgaHJlZj0nJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IFwiPGEgaHJlZj0naHR0cDovL1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIikudG9TdHJpbmcoKSA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmZ1bGxuYW1lIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndXNlcic6XG4gICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKCkgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5uYW1lIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncGFzc3dvcmQnOlxuICAgICAgdmFsdWUgPSAnKioqKioqJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSAhPT0gJ2ZhbHNlJykge1xuICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiLCB7fSwgbG9jYWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIiwge30sIGxvY2FsZSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdkYXRlVGltZSc6XG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUubGVuZ3RoID09PSAxNikge1xuICAgICAgICB0ID0gdmFsdWUuc3BsaXQoXCJUXCIpO1xuICAgICAgICB0MCA9IHRbMF0uc3BsaXQoXCItXCIpO1xuICAgICAgICB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuICAgICAgICB5ZWFyID0gdDBbMF07XG4gICAgICAgIG1vbnRoID0gdDBbMV07XG4gICAgICAgIGRhdGUgPSB0MFsyXTtcbiAgICAgICAgaG91cnMgPSB0MVswXTtcbiAgICAgICAgc2Vjb25kcyA9IHQxWzFdO1xuICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlKHZhbHVlLCB1dGNPZmZzZXQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW5wdXQnOlxuICAgICAgaWYgKGZpZWxkLmlzX3RleHRhcmVhKSB7XG4gICAgICAgIHZhbHVlID0gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24odmFsdWUpKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT09IDApIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9GaXhlZChmaWVsZC5kaWdpdHMpO1xuICAgICAgICB2YWx1ZSA9IFN0ZWVkb3MubnVtYmVyVG9TdHJpbmcodmFsdWUsIGxvY2FsZSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdvZGF0YSc6XG4gICAgICBkZXRhaWxfdXJsID0gZmllbGQuZGV0YWlsX3VybDtcbiAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICB2YWx1ZSA9IF8ubWFwKHZhbHVlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGdldExpbmtUZXh0KGl0ZW0sIGl0ZW1bJ0BsYWJlbCddLCBkZXRhaWxfdXJsKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGdldExpbmtUZXh0KHZhbHVlLCB2YWx1ZVsnQGxhYmVsJ10sIGRldGFpbF91cmwpO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCA9IGZ1bmN0aW9uKGZpZWxkcywgY29kZSkge1xuICB2YXIgZmllbGQ7XG4gIGZpZWxkID0gZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpO1xuICBpZiAoZmllbGQpIHtcbiAgICBpZiAoZmllbGQubmFtZSkge1xuICAgICAgcmV0dXJuIGZpZWxkLm5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaWVsZC5jb2RlO1xuICAgIH1cbiAgfVxufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24gPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICB2YXIgZm9ybSwgZm9ybV9maWVsZHMsIGZvcm1fdmVyc2lvbjtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gIGZvcm1fdmVyc2lvbiA9IHt9O1xuICBmb3JtX2ZpZWxkcyA9IFtdO1xuICBpZiAoZm9ybS5jdXJyZW50Ll9pZCA9PT0gaW5zdGFuY2UuZm9ybV92ZXJzaW9uKSB7XG4gICAgZm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50O1xuICB9IGVsc2Uge1xuICAgIGZvcm1fdmVyc2lvbiA9IF8ud2hlcmUoZm9ybS5oaXN0b3J5cywge1xuICAgICAgX2lkOiBpbnN0YW5jZS5mb3JtX3ZlcnNpb25cbiAgICB9KVswXTtcbiAgfVxuICBmb3JtX3ZlcnNpb24uZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICBmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgIGlmIChmaWVsZC5maWVsZHMpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICByZXR1cm4gZm9ybV9maWVsZHMucHVzaChmKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICBmaWVsZFsnc2ZpZWxkcyddID0gZmllbGRbJ2ZpZWxkcyddO1xuICAgICAgZGVsZXRlIGZpZWxkWydmaWVsZHMnXTtcbiAgICAgIHJldHVybiBmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuICAgIH1cbiAgfSk7XG4gIGZvcm1fdmVyc2lvbi5maWVsZHMgPSBmb3JtX2ZpZWxkcztcbiAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbiA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIHZhciBmbG93LCBmbG93X3ZlcnNpb247XG4gIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xuICBmbG93X3ZlcnNpb24gPSB7fTtcbiAgaWYgKGZsb3cuY3VycmVudC5faWQgPT09IGluc3RhbmNlLmZsb3dfdmVyc2lvbikge1xuICAgIGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudDtcbiAgfSBlbHNlIHtcbiAgICBmbG93X3ZlcnNpb24gPSBfLndoZXJlKGZsb3cuaGlzdG9yeXMsIHtcbiAgICAgIF9pZDogaW5zdGFuY2UuZmxvd192ZXJzaW9uXG4gICAgfSlbMF07XG4gIH1cbiAgcmV0dXJuIGZsb3dfdmVyc2lvbjtcbn07XG5cbl9nZXRWaWV3SHRtbCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIHZpZXdIdG1sO1xuICB2aWV3SHRtbCA9IEFzc2V0cy5nZXRUZXh0KHBhdGgpO1xuICBpZiAodmlld0h0bWwpIHtcbiAgICB2aWV3SHRtbCA9IHZpZXdIdG1sLnJlcGxhY2UoLzx0ZW1wbGF0ZVtcXHdcXHNcXFwiXFw9J10rPi9pLCBcIlwiKS5yZXBsYWNlKC88XFwvdGVtcGxhdGU+L2ksIFwiXCIpO1xuICB9XG4gIHJldHVybiB2aWV3SHRtbDtcbn07XG5cbl9nZXRMb2NhbGUgPSBmdW5jdGlvbih1c2VyKSB7XG4gIHZhciBsb2NhbGUsIHJlZiwgcmVmMTtcbiAgaWYgKCh1c2VyICE9IG51bGwgPyAocmVmID0gdXNlci5sb2NhbGUpICE9IG51bGwgPyByZWYudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCA6IHZvaWQgMCkgPT09ICd6aC1jbicpIHtcbiAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gIH0gZWxzZSBpZiAoKHVzZXIgIT0gbnVsbCA/IChyZWYxID0gdXNlci5sb2NhbGUpICE9IG51bGwgPyByZWYxLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDAgOiB2b2lkIDApID09PSAnZW4tdXMnKSB7XG4gICAgbG9jYWxlID0gXCJlblwiO1xuICB9IGVsc2Uge1xuICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgfVxuICByZXR1cm4gbG9jYWxlO1xufTtcblxuX2dldFJlcXVpcmVkRmllbGRzID0gZnVuY3Rpb24oZmllbGRzLCByZXYpIHtcbiAgaWYgKCFyZXYpIHtcbiAgICByZXYgPSBbXTtcbiAgfVxuICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xuICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIHJldHVybiBfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGQuZmllbGRzLCByZXYpO1xuICAgIH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmaWVsZC5pc19yZXF1aXJlZCkge1xuICAgICAgICByZXR1cm4gcmV2LnB1c2goZmllbGQuY29kZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldjtcbn07XG5cbl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcywgc3RlcHMpIHtcbiAgdmFyIGVkaXRhYmxlQ29kZSwgc3RhcnRTdGVwO1xuICBzdGFydFN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcF90eXBlXCIsIFwic3RhcnRcIik7XG4gIGVkaXRhYmxlQ29kZSA9IFtdO1xuICBfLmtleXMoc3RhcnRTdGVwLnBlcm1pc3Npb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChzdGFydFN0ZXAucGVybWlzc2lvbnNba2V5XSA9PT0gJ2VkaXRhYmxlJykge1xuICAgICAgcmV0dXJuIGVkaXRhYmxlQ29kZS5wdXNoKGtleSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGVkaXRhYmxlQ29kZTtcbn07XG5cbl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcywgc3RlcHMpIHtcbiAgdmFyIGVkaXRhYmxlQ29kZSwgcmVxdWlyZWRGaWVsZHM7XG4gIHJlcXVpcmVkRmllbGRzID0gX2dldFJlcXVpcmVkRmllbGRzKGZpZWxkcyk7XG4gIGVkaXRhYmxlQ29kZSA9IF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyhmaWVsZHMsIHN0ZXBzKTtcbiAgcmV0dXJuIF8uaW50ZXJzZWN0aW9uKHJlcXVpcmVkRmllbGRzLCBlZGl0YWJsZUNvZGUpO1xufTtcblxuX2dldFRlbXBsYXRlRGF0YSA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgZmxvdywgZm9ybSwgZm9ybV92ZXJzaW9uLCBsb2NhbGUsIHN0ZWVkb3NEYXRhO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgZm9ybV92ZXJzaW9uID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKTtcbiAgfVxuICBsb2NhbGUgPSBfZ2V0TG9jYWxlKHVzZXIpO1xuICBzdGVlZG9zRGF0YSA9IHt9O1xuICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgc3RlZWRvc0RhdGEgPSBfLmNsb25lKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKSk7XG4gICAgc3RlZWRvc0RhdGEuaW5zbmFtZSA9IGluc3RhbmNlLm5hbWU7XG4gICAgc3RlZWRvc0RhdGEuaW5zX3N0YXRlID0gaW5zdGFuY2Uuc3RhdGU7XG4gICAgc3RlZWRvc0RhdGEuaW5zX2ZpbmFsX2RlY2lzaW9uID0gaW5zdGFuY2UuaW5zX2ZpbmFsX2RlY2lzaW9uO1xuICAgIHN0ZWVkb3NEYXRhLmluc19jb2RlID0gaW5zdGFuY2UuY29kZTtcbiAgICBzdGVlZG9zRGF0YS5pbnNfaXNfYXJjaGl2ZWQgPSBpbnN0YW5jZS5pc19hcmNoaXZlZDtcbiAgICBzdGVlZG9zRGF0YS5pbnNfaXNfZGVsZXRlZCA9IGluc3RhbmNlLmluc19pc19kZWxldGVkO1xuICAgIHN0ZWVkb3NEYXRhLmFwcGxpY2FudF9uYW1lID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWU7XG4gICAgc3RlZWRvc0RhdGEuYXBwbGljYW50Q29udGV4dCA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lO1xuICB9XG4gIHN0ZWVkb3NEYXRhLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gIHN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbiA9IGZvcm1fdmVyc2lvbjtcbiAgc3RlZWRvc0RhdGEubG9jYWxlID0gbG9jYWxlO1xuICBzdGVlZG9zRGF0YS51dGNPZmZzZXQgPSB1c2VyLnV0Y09mZnNldDtcbiAgc3RlZWRvc0RhdGEuc3BhY2UgPSBpbnN0YW5jZS5zcGFjZTtcbiAgc3RlZWRvc0RhdGEuc2Vzc2lvblVzZXJJZCA9IHVzZXIuX2lkO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuZWRpdGFibGUgOiB2b2lkIDApIHtcbiAgICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZS5mb3JtXG4gICAgICB9KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZS5mbG93XG4gICAgICB9KTtcbiAgICAgIHN0ZWVkb3NEYXRhLnN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZvcm0uY3VycmVudC5maWVsZHMsIGZsb3cuY3VycmVudC5zdGVwcyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGVlZG9zRGF0YTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlID0gZnVuY3Rpb24oZGF0ZSwgdXRjT2Zmc2V0KSB7XG4gIHZhciBwYXNzaW5nO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgcGFzc2luZyA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHBhc3NpbmcgPSB0cnVlO1xuICB9XG4gIGlmICghdXRjT2Zmc2V0ICYmIHV0Y09mZnNldCAhPT0gMCkge1xuICAgIHV0Y09mZnNldCA9IDg7XG4gIH1cbiAgcmV0dXJuIG1vbWVudChkYXRlKS51dGNPZmZzZXQodXRjT2Zmc2V0LCBwYXNzaW5nKS5mb3JtYXQoXCJZWVlZLU1NLUREIEhIOm1tXCIpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlVmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYm9keSwgaW5zdGFuY2VDb21waWxlZCwgaW5zdGFuY2VSZW5kZXJGdW5jdGlvbiwgaW5zdGFuY2VUZW1wbGF0ZSwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5hYnNvbHV0ZSA6IHZvaWQgMCkge1xuICAgIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcbiAgfVxuICBpbnN0YW5jZVRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlLCBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRlbXBsYXRlTmFtZSA6IHZvaWQgMCk7XG4gIGluc3RhbmNlVGVtcGxhdGUgPSBpbnN0YW5jZVRlbXBsYXRlLnJlcGxhY2UoL2FmU2VsZWN0VXNlci9nLCBcImFmU2VsZWN0VXNlclJlYWRcIik7XG4gIGlmICghKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuZWRpdGFibGUgOiB2b2lkIDApKSB7XG4gICAgaW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZGb3JtR3JvdXAvZywgXCJhZkZvcm1Hcm91cFJlYWRcIik7XG4gIH1cbiAgaW5zdGFuY2VDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW5zdGFuY2VUZW1wbGF0ZSwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgaW5zdGFuY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VDb21waWxlZCk7XG4gIFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZV9yZWFkb25seV92aWV3XCIsIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyhJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzKTtcbiAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQoc3RlZWRvc0RhdGEpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldywgc3RlZWRvc0RhdGEpO1xuICByZXR1cm4gXCI8ZGl2IGlkPSdpbnN0YW5jZWZvcm0nID5cXG5cdFwiICsgYm9keSArIFwiXFxuPC9kaXY+XCI7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYm9keSwgZm9ybSwgc3RlZWRvc0RhdGEsIHRyYWNlQ29tcGlsZWQsIHRyYWNlUmVuZGVyRnVuY3Rpb24sIHRyYWNlc0h0bWw7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgaWYgKGZvcm0uaW5zdGFuY2Vfc3R5bGUgPT09IFwidGFibGVcIiB8fCAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgOiB2b2lkIDApID09PSBcInRhYmxlXCIpIHtcbiAgICB0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzX3RhYmxlLmh0bWwnKTtcbiAgfSBlbHNlIHtcbiAgICB0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzLmh0bWwnKTtcbiAgfVxuICB0cmFjZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0cmFjZXNIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICB0cmFjZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0cmFjZUNvbXBpbGVkKTtcbiAgVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInRyYWNlX3JlYWRvbmx5X3ZpZXdcIiwgdHJhY2VSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzKFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldywgaW5zdGFuY2UudHJhY2VzKTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UpIHtcbiAgdmFyIGF0dGFjaG1lbnRDb21waWxlZCwgYXR0YWNobWVudEh0bWwsIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiwgYm9keSwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBhdHRhY2htZW50SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX2F0dGFjaG1lbnRzLmh0bWwnKTtcbiAgYXR0YWNobWVudENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShhdHRhY2htZW50SHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uID0gZXZhbChhdHRhY2htZW50Q29tcGlsZWQpO1xuICBUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlld1wiLCBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuaGVscGVycyhJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYm9keSwgcmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkLCByZWxhdGVkSW5zdGFuY2VzSHRtbCwgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uLCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmFic29sdXRlIDogdm9pZCAwKSB7XG4gICAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuICB9XG4gIHJlbGF0ZWRJbnN0YW5jZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9pbnN0YW5jZXMuaHRtbCcpO1xuICByZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRJbnN0YW5jZXNIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24gPSBldmFsKHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCk7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX2luc3RhbmNlc192aWV3XCIsIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5oZWxwZXJzKFJlbGF0ZWRJbnN0YW5jZXMuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LCBzdGVlZG9zRGF0YSk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYm9keSwgcmVsYXRlZFJlY29yZHNDb21waWxlZCwgcmVsYXRlZFJlY29yZHNIdG1sLCByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uLCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmFic29sdXRlIDogdm9pZCAwKSB7XG4gICAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuICB9XG4gIHJlbGF0ZWRSZWNvcmRzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfcmVjb3Jkcy5odG1sJyk7XG4gIHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRSZWNvcmRzSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZFJlY29yZHNDb21waWxlZCk7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9yZWNvcmRzX3ZpZXdcIiwgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LmhlbHBlcnMoUmVsYXRlZFJlY29yZHMuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldywgc3RlZWRvc0RhdGEpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRPbkxvYWRTY3JpcHQgPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICB2YXIgZm9ybV9zY3JpcHQsIGZvcm1fdmVyc2lvbjtcbiAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XG4gIGZvcm1fc2NyaXB0ID0gZm9ybV92ZXJzaW9uLmZvcm1fc2NyaXB0O1xuICBpZiAoZm9ybV9zY3JpcHQgJiYgZm9ybV9zY3JpcHQucmVwbGFjZSgvXFxuL2csIFwiXCIpLnJlcGxhY2UoL1xccy9nLCBcIlwiKS5sZW5ndGggPiAwKSB7XG4gICAgZm9ybV9zY3JpcHQgPSBcIkNvcmVGb3JtID0ge307Q29yZUZvcm0uaW5zdGFuY2Vmb3JtID0ge307XCIgKyBmb3JtX3NjcmlwdDtcbiAgICByZXR1cm4gZm9ybV9zY3JpcHQgKz0gXCI7aWYoQ29yZUZvcm0uZm9ybV9PbkxvYWQpe3dpbmRvdy5vbmxvYWQgPSBDb3JlRm9ybS5mb3JtX09uTG9hZCgpO31cIjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZm9ybV9zY3JpcHQgPSBcIlwiO1xuICB9XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBhYnNvbHV0ZVVybCwgYWxsQ3NzTGluaywgYXR0YWNobWVudCwgYm9keSwgY3JlYXRvclNlcnZpY2UsIGNzc0hyZWYsIGZvcm0sIGZvcm1EZXNjcmlwdGlvbiwgZm9ybURlc2NyaXB0aW9uSHRtbCwgaHRtbCwgaW5zX3JlY29yZF9pZHMsIGluc3RhbmNlQm94U3R5bGUsIGluc3RhbmNlX3N0eWxlLCBvbkxvYWRTY3JpcHQsIG9wZW5GaWxlU2NyaXB0LCByZWYsIHJlZjEsIHJlbGF0ZWRfaW5zdGFuY2VzLCByZWxhdGVkX3JlY29yZHMsIHNob3dUcmFjZXNCdG4sIHNob3dUcmFjZXNTY3JpcHQsIHRyYWNlLCB0cmFjZUNoZWNrLCB3aWR0aDtcbiAgYm9keSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgb25Mb2FkU2NyaXB0ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdChpbnN0YW5jZSk7XG4gIGNyZWF0b3JTZXJ2aWNlID0gKHJlZiA9IE1ldGVvci5zZXR0aW5nc1tcInB1YmxpY1wiXS53ZWJzZXJ2aWNlcykgIT0gbnVsbCA/IChyZWYxID0gcmVmLmNyZWF0b3IpICE9IG51bGwgPyByZWYxLnVybCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgaW5zX3JlY29yZF9pZHMgPSBpbnN0YW5jZS5yZWNvcmRfaWRzO1xuICBvcGVuRmlsZVNjcmlwdCA9IFwiaWYod2luZG93LmlzTm9kZSAmJiBpc05vZGUoKSl7XFxuXHRhdHRhY2hzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcXFwiaW5zX2F0dGFjaF9ocmVmXFxcIik7XFxuXHRmb3IodmFyIGkgPSAwOyBpIDwgYXR0YWNocy5sZW5ndGg7IGkrKyl7XFxuXHRcdGF0dGFjaCA9IGF0dGFjaHNbaV07XFxuXHRcdGF0dGFjaC5hZGRFdmVudExpc3RlbmVyKFxcXCJjbGlja1xcXCIsIGZ1bmN0aW9uKGUpe1xcblx0XHRcdGlmKGlzSW1hZ2UodGhpcy5kYXRhc2V0LnR5cGUpIHx8IGlzSHRtbCh0aGlzLmRhdGFzZXQudHlwZSkpe1xcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xcblx0XHRcdFx0b3BlbldpbmRvdyhcXFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXFxcIiArIHRoaXMuZGF0YXNldC5pZCk7XFxuXHRcdFx0fWVsc2UgaWYobndfY29yZS5jYW5PcGVuRmlsZSh0aGlzLmRhdGFzZXQubmFtZSkpe1xcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xcblx0XHRcdFx0bndfY29yZS5vcGVuRmlsZSh0aGlzLmhyZWYsIHRoaXMuZGF0YXNldC5uYW1lKVxcblx0XHRcdH1cXG5cdFx0fSk7XFxuXHR9XFxufVxcblxcbnZhciBmbG93ID0gXFxcIlwiICsgaW5zdGFuY2UuZmxvdyArIFwiXFxcIjtcXG52YXIgc3BhY2UgPSBcXFwiXCIgKyBpbnN0YW5jZS5zcGFjZSArIFwiXFxcIjtcXG5cXG5mdW5jdGlvbiBnZXRDb29raWUobmFtZSl7XFxuXHRsZXQgcGF0dGVybiA9IFJlZ0V4cChuYW1lICsgXFxcIj0uW147XSpcXFwiKVxcblx0bGV0IG1hdGNoZWQgPSBkb2N1bWVudC5jb29raWUubWF0Y2gocGF0dGVybilcXG5cdGlmKG1hdGNoZWQpe1xcblx0XHRsZXQgY29va2llID0gbWF0Y2hlZFswXS5zcGxpdCgnPScpXFxuXHRcdHJldHVybiBjb29raWVbMV1cXG5cdH1cXG5cdHJldHVybiAnJ1xcbn1cXG5cXG52YXIgcmVjb3JkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXFxcImlucy1yZWxhdGVkLXJlY29yZHNcXFwiKTtcXG5mb3IodmFyIGkgPSAwOyBpIDwgcmVjb3Jkcy5sZW5ndGg7IGkrKyl7XFxuXHRcdHZhciByZWNvcmQgPSByZWNvcmRzW2ldO1xcblx0XHRyZWNvcmQuYWRkRXZlbnRMaXN0ZW5lcihcXFwiY2xpY2tcXFwiLCBmdW5jdGlvbihlKXtcXG5cdFx0XHR2YXIgY3JlYXRvclNlcnZpY2UgPSBcXFwiXCIgKyBjcmVhdG9yU2VydmljZSArIFwiXFxcIlxcblx0XHRcdHZhciBpbnNfcmVjb3JkX2lkcyA9IFwiICsgKEpTT04uc3RyaW5naWZ5KGluc19yZWNvcmRfaWRzKSkgKyBcIlxcblx0XHRcdGlmKGNyZWF0b3JTZXJ2aWNlICYmIGluc19yZWNvcmRfaWRzICYmIGluc19yZWNvcmRfaWRzLmxlbmd0aCA+IDApe1xcblx0XHRcdFx0dmFyIG9iamNldE5hbWUgPSBpbnNfcmVjb3JkX2lkc1swXS5vXFxuXHRcdFx0XHR2YXIgaWQgPSBpbnNfcmVjb3JkX2lkc1swXS5pZHNbMF1cXG5cdFx0XHRcdHZhciB1b2JqID0ge307XFxuXHRcdFx0XHR1b2JqW1xcXCJYLVVzZXItSWRcXFwiXSA9IGdldENvb2tpZShcXFwiWC1Vc2VyLUlkXFxcIik7XFxuXHRcdFx0XHR1b2JqW1xcXCJYLUF1dGgtVG9rZW5cXFwiXSA9IGdldENvb2tpZShcXFwiWC1BdXRoLVRva2VuXFxcIik7XFxuXHRcdFx0XHRyZWRpcmVjdFVybCA9IGNyZWF0b3JTZXJ2aWNlICsgXFxcImFwcC8tL1xcXCIgKyBvYmpjZXROYW1lICsgXFxcIi92aWV3L1xcXCIgKyBpZCArIFxcXCI/XFxcIiArICQucGFyYW0odW9iaik7XFxuXHRcdFx0XHRvcGVuV2luZG93KHJlZGlyZWN0VXJsKTtcXG5cdFx0XHR9XFxuXHRcdH0pO1xcblx0fVxcblwiO1xuICBpZiAoIVN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICAgIGlmICgoZm9ybSAhPSBudWxsID8gZm9ybS5pbnN0YW5jZV9zdHlsZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICAgIGluc3RhbmNlX3N0eWxlID0gXCJpbnN0YW5jZS10YWJsZVwiO1xuICAgIH1cbiAgfVxuICBpZiAoKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGVtcGxhdGVOYW1lIDogdm9pZCAwKSA9PT0gJ3RhYmxlJykge1xuICAgIGluc3RhbmNlX3N0eWxlID0gXCJpbnN0YW5jZS10YWJsZVwiO1xuICB9XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmluc3RhbmNlX3N0eWxlIDogdm9pZCAwKSB7XG4gICAgaW5zdGFuY2Vfc3R5bGUgPSBvcHRpb25zLmluc3RhbmNlX3N0eWxlO1xuICB9XG4gIGlmICghb3B0aW9ucyB8fCBvcHRpb25zLnNob3dUcmFjZSA9PT0gdHJ1ZSkge1xuICAgIHRyYWNlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFRyYWNlc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgfSBlbHNlIHtcbiAgICB0cmFjZSA9IFwiXCI7XG4gIH1cbiAgaW5zdGFuY2VCb3hTdHlsZSA9IFwiXCI7XG4gIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5maW5hbF9kZWNpc2lvbikge1xuICAgIGlmIChpbnN0YW5jZS5maW5hbF9kZWNpc2lvbiA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICBpbnN0YW5jZUJveFN0eWxlID0gXCJib3gtc3VjY2Vzc1wiO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgaW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LWRhbmdlclwiO1xuICAgIH1cbiAgfVxuICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPT09IHRydWUpIHtcbiAgICBhdHRhY2htZW50ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gICAgcmVsYXRlZF9pbnN0YW5jZXMgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgICByZWxhdGVkX3JlY29yZHMgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZFJlY29yZHNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgYXR0YWNobWVudCA9IFwiXCI7XG4gICAgcmVsYXRlZF9pbnN0YW5jZXMgPSBcIlwiO1xuICAgIHJlbGF0ZWRfcmVjb3JkcyA9IFwiXCI7XG4gIH1cbiAgYWJzb2x1dGVVcmwgPSBNZXRlb3IuYWJzb2x1dGVVcmwoKTtcbiAgd2lkdGggPSBcIjk2MHB4XCI7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLndpZHRoIDogdm9pZCAwKSB7XG4gICAgd2lkdGggPSBcIlwiO1xuICB9XG4gIGNzc0hyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoXCJzdGVlZG9zLWNzc1wiKTtcbiAgYWxsQ3NzTGluayA9IFwiPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgY2xhc3M9XFxcIl9fbWV0ZW9yLWNzc19fXFxcIiBocmVmPVxcXCJcIiArIGNzc0hyZWYgKyBcIlxcXCI+XCI7XG4gIHRyYWNlQ2hlY2sgPSBcIlwiO1xuICBpZiAoIV8uaXNFbXB0eSh0cmFjZSkpIHtcbiAgICB0cmFjZUNoZWNrID0gXCJjaGVja2VkXCI7XG4gIH1cbiAgaWYgKChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRhZ2dlciA6IHZvaWQgMCkgPT09ICdlbWFpbCcpIHtcbiAgICBzaG93VHJhY2VzQnRuID0gXCJcIjtcbiAgfSBlbHNlIHtcbiAgICBzaG93VHJhY2VzQnRuID0gXCI8ZGl2IGNsYXNzPVxcXCJuYXZpZ2F0aW9uLWJhciBidG4tZ3JvdXAgbm8tcHJpbnRcXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6IDYwMHB4OyB6LWluZGV4OiA5OTlcXFwiPlxcblx0PGRpdiBjbGFzcz1cXFwicHJpbnQtdG9vbFxcXCI+XFxuXHRcdDxsYWJlbCBjbGFzcz1cXFwiY2J4LWxhYmVsXFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGNsYXNzPVxcXCJjYngtcHJpbnQgY2J4LXByaW50LWF0dGFjaG1lbnRzXFxcIiBpZD1cXFwiY2J4LXByaW50LWF0dGFjaG1lbnRzXFxcIiBjaGVja2VkPVxcXCJjaGVja2VkXFxcIj48c3Bhbj7pmYTku7Y8L3NwYW4+PC9sYWJlbD5cXG5cdFx0PGxhYmVsIGNsYXNzPVxcXCJjYngtbGFiZWxcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcImNieC1wcmludCBjYngtcHJpbnQtdHJhY2VzXFxcIiBpZD1cXFwiY2J4LXByaW50LXRyYWNlc1xcXCIgY2hlY2tlZD1cXFwiXCIgKyB0cmFjZUNoZWNrICsgXCJcXFwiPjxzcGFuPlwiICsgKHQoJ2luc3RhbmNlX2FwcHJvdmFsX2hpc3RvcnknKSkgKyBcIjwvc3Bhbj48L2xhYmVsPlxcblx0PC9kaXY+XFxuPC9kaXY+XCI7XG4gIH1cbiAgc2hvd1RyYWNlc1NjcmlwdCA9IFwiJCggZG9jdW1lbnQgKS5yZWFkeShmdW5jdGlvbigpe1xcblx0dmFyIGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LXRyYWNlcycpO1xcblx0dmFyIHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnN0YW5jZS10cmFjZXMnKVswXTtcXG5cdGlmIChiLmNoZWNrZWQpe1xcblx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdH0gZWxzZSB7XFxuXHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHR9XFxuXHRiLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xcblx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XFxuXHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHRcdH0gZWxzZSB7XFxuXHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcXG5cdFx0fVxcblx0fSk7XFxuXFxuXHR2YXIgYXR0YWNobWVudHNDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtYXR0YWNobWVudHMnKTtcXG5cdHZhciBhdHRhY2htZW50c1ZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhdHRhY2htZW50cy1zZWN0aW9uJylbMF07XFxuXHRpZiAoYXR0YWNobWVudHNDaGVja2JveC5jaGVja2VkKXtcXG5cdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdH0gZWxzZSB7XFxuXHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcXG5cdH1cXG5cdGF0dGFjaG1lbnRzQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSl7XFxuXHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcXG5cdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0XHR9IGVsc2Uge1xcblx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcXG5cdFx0fVxcblx0fSk7XFxufSk7XFxuXCI7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnN0eWxlcyA6IHZvaWQgMCkge1xuICAgIGFsbENzc0xpbmsgPSBcIlwiO1xuICB9XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICBfaWQ6IGluc3RhbmNlLmZvcm1cbiAgfSk7XG4gIGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiO1xuICBpZiAoZm9ybSkge1xuICAgIGZvcm1EZXNjcmlwdGlvbiA9IGZvcm0uZGVzY3JpcHRpb247XG4gICAgaWYgKGZvcm1EZXNjcmlwdGlvbikge1xuICAgICAgZm9ybURlc2NyaXB0aW9uID0gZm9ybURlc2NyaXB0aW9uLnJlcGxhY2UoL1xcbi9nLCBcIjxici8+XCIpO1xuICAgICAgZm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiPGRpdiBjbGFzcz1cXFwiYm94LWhlYWRlciAgd2l0aC1ib3JkZXIgaW5zdGFuY2UtaGVhZGVyXFxcIj5cXG5cdDxkaXY+XFxuXHRcdFwiICsgZm9ybURlc2NyaXB0aW9uICsgXCJcXG5cdDwvZGl2PlxcbjwvZGl2PlwiO1xuICAgIH1cbiAgfVxuICBodG1sID0gXCI8IURPQ1RZUEUgaHRtbD5cXG48aHRtbD5cXG5cdDxoZWFkPlxcblx0XHQ8bWV0YSBodHRwLWVxdWl2PVxcXCJDb250ZW50LVR5cGVcXFwiIGNvbnRlbnQ9XFxcInRleHQvaHRtbDsgY2hhcnNldD1VVEYtOFxcXCIvPlxcblx0XHRcIiArIGFsbENzc0xpbmsgKyBcIlxcblx0XHQ8c2NyaXB0IHNyYz1cXFwiaHR0cHM6Ly93d3cuc3RlZWRvcy5jb20vd2Vic2l0ZS9saWJzL2pxdWVyeS5taW4uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuXHRcdDxzY3JpcHQgc3JjPVxcXCIvanMvbndfY29yZS5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG5cdFx0XCIgKyAob3B0aW9ucy5wbHVnaW5zIHx8IFwiXCIpICsgXCJcXG5cXG5cdFx0PHN0eWxlPlxcblx0XHRcdC5zdGVlZG9ze1xcblx0XHRcdFx0d2lkdGg6IFwiICsgd2lkdGggKyBcIjtcXG5cdFx0XHRcdG1hcmdpbi1sZWZ0OiBhdXRvO1xcblx0XHRcdFx0bWFyZ2luLXJpZ2h0OiBhdXRvO1xcblx0XHRcdH1cXG5cXG5cdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtbmFtZXtcXG5cdFx0XHRcdGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50XFxuXHRcdFx0fVxcblx0XHRcdC5ib3gtdG9vbHN7XFxuXHRcdFx0XHRkaXNwbGF5OiBub25lO1xcblx0XHRcdH1cXG5cdFx0XHQuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1ib2R5LC5ib3guY29sbGFwc2VkLWJveCAuYm94LWZvb3RlciB7XFxuXHRcdFx0ICBkaXNwbGF5OiBibG9jaztcXG5cdFx0XHR9XFxuXFxuXHRcdFx0Ym9keXtcXG5cdFx0XHRcdGJhY2tncm91bmQ6IGF6dXJlICFpbXBvcnRhbnQ7XFxuXHRcdFx0fVxcblxcblx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS10cmFjZXN7XFxuXHRcdFx0XHRwYWRkaW5nLWxlZnQ6IDE1cHg7XFxuXHRcdFx0XHRwYWRkaW5nLXJpZ2h0OiAxNXB4O1xcblx0XHRcdH1cXG5cXG5cdFx0XHRcIiArICgob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5zdHlsZXMgOiB2b2lkIDApIHx8IFwiXCIpICsgXCJcXG5cdFx0PC9zdHlsZT5cXG5cdDwvaGVhZD5cXG5cdDxib2R5Plxcblx0XHQ8ZGl2IGNsYXNzPVxcXCJzdGVlZG9zIHdvcmtmbG93IGluc3RhbmNlLXByaW50XFxcIj5cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJza2luLWdyZWVuIHNraW4tYWRtaW4tbHRlXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcIndyYXBwZXJcXFwiPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjb250ZW50LXdyYXBwZXJcXFwiPlxcblx0XHRcdFx0XHRcdFwiICsgc2hvd1RyYWNlc0J0biArIFwiXFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UtcHJpbnRcXFwiPlxcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UgXCIgKyBpbnN0YW5jZV9zdHlsZSArIFwiXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PGZvcm0gbmFtZT1cXFwiaW5zdGFuY2VGb3JtXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1mb3JtIGJveCBcIiArIGluc3RhbmNlQm94U3R5bGUgKyBcIlxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIGZvcm1EZXNjcmlwdGlvbkh0bWwgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiYm94LWJvZHlcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2F0dGFjaG1lbnRzLXNlY3Rpb24nPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyBhdHRhY2htZW50ICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgcmVsYXRlZF9pbnN0YW5jZXMgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyByZWxhdGVkX3JlY29yZHMgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgYm9keSArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdDwvZm9ybT5cXG5cdFx0XHRcdFx0XHRcdFx0XCIgKyB0cmFjZSArIFwiXFxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0PC9kaXY+XFxuXHQ8L2JvZHk+XFxuXHQ8c2NyaXB0PlwiICsgb3BlbkZpbGVTY3JpcHQgKyBcIjtcIiArIG9uTG9hZFNjcmlwdCArIFwiO1wiICsgc2hvd1RyYWNlc1NjcmlwdCArIFwiPC9zY3JpcHQ+XFxuPC9odG1sPlwiO1xuICByZXR1cm4gaHRtbDtcbn07XG4iLCJUZW1wbGF0ZU1hbmFnZXIgPSB7fTtcblxuZm9ybUlkID0gJ2luc3RhbmNlZm9ybSc7XG5cblxuVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlID0gKCktPlxuXHRwYWdlVGl0bGUgPSBcIlwiXCJcblx0XHR7e2luc3RhbmNlLm5hbWV9fVxuXHRcIlwiXCJcblxuXHRwYWdlVGl0bGVUckNsYXNzID0gXCJpbnN0YW5jZS1uYW1lXCJcblxuXHRpZiBDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lXG5cdFx0cGFnZVRpdGxlID0gXCJcIlwiXG5cdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3tDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWV9XCIgbGFiZWw9ZmFsc2V9fVxuXHRcdFwiXCJcIlxuXHRcdHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiXG5cblx0aWYgQ29yZUZvcm0/LnBhZ2VUaXRsZVxuXHRcdHBhZ2VUaXRsZSA9IFwiXCJcIlxuXHRcdFx0I3tDb3JlRm9ybS5wYWdlVGl0bGV9XG5cdFx0XCJcIlwiXG5cdFx0cGFnZVRpdGxlVHJDbGFzcyA9IFwiXCJcblxuXHR2YWwgPVxuXHRcdHBhZ2VUaXRsZTogcGFnZVRpdGxlXG5cdFx0cGFnZVRpdGxlVHJDbGFzczogcGFnZVRpdGxlVHJDbGFzc1xuXG5cdHJldHVybiB2YWxcblxuVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUgPSAoaW5zdGFuY2UsIF9leHBvcnQpIC0+XG5cblx0dGVtcGxhdGUgPSBcIlwiXCJcblx0PGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlxuXHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlLXBhZ2UtdGl0bGUgZm9ybS10YWJsZSBuby1ib3JkZXIgdGV4dC1hbGlnbi1jZW50ZXJcIiBzdHlsZT1cIndpZHRoOiAxMDAlO2Rpc3BsYXk6IGlubGluZS10YWJsZTtcIj5cblx0XHRcdDx0ciBjbGFzcz1cIiN7dGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZVRyQ2xhc3N9XCI+XG5cdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLW5hbWUtdGQgcGFnZS10aXRsZVwiPlxuXHRcdFx0XHRcdCN7dGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZX1cblx0XHRcdFx0PC90ZD5cblx0XHRcdDwvdHI+XG5cblx0XHQ8L3RhYmxlPlxuXHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlLXBhZ2UtYm9keSBmb3JtLXRhYmxlXCI+XG5cdFx0XHRcdDx0ciBzdHlsZT1cImhlaWdodDowcHhcIj5cblx0XHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XG5cdFx0XHRcdFx0PHRoPjwvdGg+XG5cdFx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxuXHRcdFx0XHRcdDx0aD48L3RoPlxuXHRcdFx0XHQ8L3RyPlxuXHRcIlwiXCI7XG5cblx0dGFibGVfZmllbGRzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50YWJsZV9maWVsZHMoaW5zdGFuY2UpXG5cblx0dGFibGVfZmllbGRzLmZvckVhY2ggKHRhYmxlX2ZpZWxkKS0+XG5cblx0XHRyZXF1aXJlZCA9IFwiXCJcblx0XHRpZiAhQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZSB8fCBDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lICE9IHRhYmxlX2ZpZWxkLmNvZGVcblx0XHRcdGlmIHRhYmxlX2ZpZWxkLmlzX3JlcXVpcmVkXG5cdFx0XHRcdHJlcXVpcmVkID0gXCJpcy1yZXF1aXJlZFwiXG5cblx0XHRcdGlmIF9leHBvcnRcblx0XHRcdFx0cmVxdWlyZWQgPSBcIlwiO1xuXG5cdFx0XHRwdXJlQ29kZSA9IFN0ZWVkb3MucmVtb3ZlU3BlY2lhbENoYXJhY3Rlcih0YWJsZV9maWVsZC5jb2RlKTtcblxuXHRcdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZCh0YWJsZV9maWVsZClcblx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcblx0XHRcdFx0dGVtcGxhdGUgKz0gXCJcIlwiXG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUgI3tyZXF1aXJlZH1cIj5cblx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwifX1cblx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIG9waW5pb24tZmllbGQgb3Bpbmlvbi1maWVsZC0je3B1cmVDb2RlfSBhdXRvbWF0aWNcIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XG5cdFx0XHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwifX1cblx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGlmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZXModGFibGVfZmllbGQudHlwZSwgJ3NlY3Rpb24sdGFibGUnKVxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0XG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gXCJcIlwiXG5cdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1jaGlsZGZpZWxkIHRkLWNoaWxkZmllbGQtI3twdXJlQ29kZX1cIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XG5cdFx0XHRcdFx0XHQgICB7ez4gYWZGb3JtR3JvdXAgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIiBsYWJlbD1mYWxzZX19XG5cdFx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZFxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcblxuXHRcdFx0XHRcdGlmIF9leHBvcnRcblx0XHRcdFx0XHRcdHRpdGxlX3Blcm1pc3Npb24gPSBcIlwiXG5cdFx0XHRcdFx0XHRmaWVsZF9wZXJtaXNzaW9uID0gXCJcIlxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdHRpdGxlX3Blcm1pc3Npb24gPSBcInRpdGxlLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvblxuXHRcdFx0XHRcdFx0ZmllbGRfcGVybWlzc2lvbiA9IFwiZmllbGQtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uXG5cblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSBcIlwiXCJcblx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLXRpdGxlIHRkLXRpdGxlLSN7cHVyZUNvZGV9ICN7dGl0bGVfcGVybWlzc2lvbn0gI3tyZXF1aXJlZH1cIj5cblx0XHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxuXHRcdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIHRkLWZpZWxkLSN7cHVyZUNvZGV9ICN7ZmllbGRfcGVybWlzc2lvbn1cIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XG5cdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwiIGxhYmVsPWZhbHNlfX1cblx0XHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXG5cblx0dGVtcGxhdGUgKz0gXCJcIlwiXG5cdFx0PC90YWJsZT5cblxuXHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlLXBhZ2UtZm9vdGVyIGZvcm0tdGFibGUgbm8tYm9yZGVyXCI+XG5cdFx0XHQ8dHIgY2xhc3M9XCJhcHBsaWNhbnQtd3JhcHBlclwiPlxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJub3dyYXBcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX3vvJo8L2xhYmVsPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXRhYmxlLXdyYXBwZXItdGQgaW5saW5lLWxlZnQnPlxuXHRcdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJub3dyYXBcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdwdWxsLWxlZnQnPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxuXHRcdFx0XHRcdFx0XHQ8bGFiZWw+e3tfdCBcImluc3RhbmNlX3N1Ym1pdF9kYXRlXCJ9fe+8mjwvbGFiZWw+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1yaWdodCc+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0e3tmb3JtYXREYXRlIGluc3RhbmNlLnN1Ym1pdF9kYXRlICd7XCJmb3JtYXRcIjpcIllZWVktTU0tRERcIn0nfX1cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC90ZD5cblx0XHRcdDwvdHI+XG5cdFx0PC90YWJsZT5cblx0PC9kaXY+XG5cdFwiXCJcIlxuXHRyZXR1cm4gdGVtcGxhdGVcblxuI+atpOWkhOaooeadv+WFrOeUqOS4ju+8mmluc3RhbmNlIOe8lui+keOAgeafpeeci+OAgeaJk+WNsOOAgei9rOWPkeaXtueUn+aIkOmZhOS7tuOAgeWPkemAgemCruS7tmJvZHnpg6jliIYodGFibGUg5qih5p2/KVxuI+WmguaenOacieS/ruaUue+8jOivt+a1i+ivleehruiupOWFtuS7luWKn+iDveaYr+WQpuato+W4uOOAglxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZSA9XG5cdGRlZmF1bHQ6IChpbnN0YW5jZSktPlxuXG5cdFx0dGVtcGxhdGUgPSBcIlwiXCJcblx0XHRcdDxkaXYgY2xhc3M9XCJ3aXRoLWJvcmRlciBjb2wtbWQtMTJcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLW5hbWVcIj5cblx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJib3gtdGl0bGVcIj4je1RlbXBsYXRlTWFuYWdlci5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZX08L2gzPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaGVscC1ibG9ja1wiPjwvc3Bhbj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxzcGFuIGNsYXNzPVwiaGVscC1ibG9ja1wiPjwvc3Bhbj5cblx0XHRcdDwvZGl2PlxuXHRcdFx0e3sjZWFjaCBzdGVlZG9zX2Zvcm0uZmllbGRzfX1cblx0XHRcdFx0e3sjaWYgaXNPcGluaW9uRmllbGQgdGhpc319XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgYXV0b21hdGljIG9waW5pb24tZmllbGQte3t0aGlzLmNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9dGhpcy5jb2RlfX08L2xhYmVsPlxuXG5cdFx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9dGhpcy5jb2RlfX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdHt7I2lmIGluY2x1ZGVzIHRoaXMudHlwZSAnc2VjdGlvbix0YWJsZSd9fVxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMiBmaWVsZC17e3RoaXMuY29kZX19XCI+XG5cdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlfX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svZWFjaH19XG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY29sLW1kLTEyXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJhcHBsaWNhbnQtd3JhcHBlciBmb3JtLWdyb3VwIGZvcm0taG9yaXpvbnRhbFwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYWRkb25cIj5cblx0XHRcdFx0XHQgIHt7X3QgXCJpbnN0YW5jZV9pbml0aWF0b3JcIn19Jm5ic3A7OlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cblx0XHRcdFx0ICA8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcIlwiXCJcblx0XHRyZXR1cm4gdGVtcGxhdGVcblxuXHR0YWJsZTogKGluc3RhbmNlKS0+XG5cdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKGluc3RhbmNlKVxuI1x0dGFibGU6ICcnJ1xuI1x0XHQ8dGFibGUgY2xhc3M9XCJib3gtaGVhZGVyICB3aXRoLWJvcmRlclwiIHN0eWxlPVwid2lkdGg6IDEwMCU7ZGlzcGxheTogaW5saW5lLXRhYmxlO1wiPlxuI1x0XHRcdDx0ciBjbGFzcz1cImluc3RhbmNlLW5hbWVcIj5cbiNcdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLW5hbWUtdGRcIj5cbiNcdFx0XHRcdFx0PGgzIGNsYXNzPVwiYm94LXRpdGxlXCI+e3tpbnN0YW5jZS5uYW1lfX08L2gzPlxuI1x0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImhlbHAtYmxvY2tcIj48L3NwYW4+XG4jXHRcdFx0XHQ8L3RkPlxuI1x0XHRcdDwvdHI+XG4jICAgICAgICAgICAgPHRyIGNsYXNzPVwiYXBwbGljYW50LXdyYXBwZXJcIj5cbiNcdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLXdyYXBwZXItdGRcIj5cbiNcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7X3QgXCJpbnN0YW5jZV9pbml0aWF0b3JcIn19Jm5ic3A7OjwvbGFiZWw+XG4jXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cbiNcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0PC90cj5cbiMgICAgICAgIDwvdGFibGU+XG4jXHRcdDx0YWJsZSBjbGFzcz1cImZvcm0tdGFibGVcIj5cbiNcdFx0ICAgIHt7I2VhY2ggdGFibGVfZmllbGRzfX1cbiNcdFx0XHRcdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxuI1x0XHRcdFx0XHR7e3t0cl9zdGFydH19fVxuI1x0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLXRpdGxlIHt7I2lmIGlzX3JlcXVpcmVkfX1pcy1yZXF1aXJlZHt7L2lmfX1cIj5cbiNcdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19XG4jXHRcdFx0XHRcdFx0PC90ZD5cbiNcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1maWVsZCBvcGluaW9uLWZpZWxkXCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XG4jXHRcdFx0XHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBzdGVwPShnZXRPcGluaW9uRmllbGRTdGVwTmFtZSB0aGlzKSBkZWZhdWx0PScnfX1cbiNcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHR7e3t0cl9lbmR9fX1cbiNcdFx0XHRcdHt7ZWxzZX19XG4jXHRcdFx0XHRcdHt7I2lmIGluY2x1ZGVzIHRoaXMudHlwZSAnc2VjdGlvbix0YWJsZSd9fVxuI1x0XHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XG4jXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1jaGlsZGZpZWxkXCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XG4jXHRcdFx0XHRcdFx0XHQgICB7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGUgbGFiZWw9ZmFsc2V9fVxuI1x0XHRcdFx0XHRcdFx0PC90ZD5cbiNcdFx0XHRcdFx0XHR7e3t0cl9lbmR9fX1cbiNcdFx0XHRcdFx0e3tlbHNlfX1cbiNcdFx0XHRcdFx0XHR7e3t0cl9zdGFydH19fVxuI1x0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUge3sjaWYgaXNfcmVxdWlyZWR9fWlzLXJlcXVpcmVke3svaWZ9fVwiPlxuI1x0XHRcdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fVxuI1x0XHRcdFx0XHRcdFx0PC90ZD5cbiNcdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIHt7cGVybWlzc2lvbn19XCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XG4jXHRcdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHRcdHt7e3RyX2VuZH19fVxuI1x0XHRcdFx0XHR7ey9pZn19XG4jXHRcdFx0XHR7ey9pZn19XG4jXG4jXHRcdCAgICB7ey9lYWNofX1cbiNcdFx0PC90YWJsZT5cbiNcdCcnJ1xuXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlSGVscHMgPVxuXHRhcHBsaWNhbnRDb250ZXh0OiAtPlxuXHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRkYXRhID0ge1xuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxuXHRcdFx0YXR0czoge1xuXHRcdFx0XHRuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRcdGlkOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRcdGNsYXNzOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wnLFxuXHRcdFx0XHRzdHlsZTogJ3BhZGRpbmc6NnB4IDEycHg7d2lkdGg6MTQwcHg7ZGlzcGxheTppbmxpbmUnXG5cdFx0XHR9XG5cdFx0fVxuI1x0XHRpZiBub3Qgc3RlZWRvc19pbnN0YW5jZSB8fCBzdGVlZG9zX2luc3RhbmNlLnN0YXRlICE9IFwiZHJhZnRcIlxuXHRcdGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWVcblx0XHRyZXR1cm4gZGF0YTtcblxuaW5zdGFuY2VJZDogLT5cblx0cmV0dXJuICdpbnN0YW5jZWZvcm0nOyNcImluc3RhbmNlX1wiICsgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpO1xuXG5mb3JtX3R5cGVzOiAtPlxuXHRpZiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcblx0XHRyZXR1cm4gJ2Rpc2FibGVkJztcblx0ZWxzZVxuXHRcdHJldHVybiAnbWV0aG9kJztcblxuc3RlZWRvc19mb3JtOiAtPlxuXHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXHRpZiBmb3JtX3ZlcnNpb25cblx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uXG5cbmlubmVyc3ViZm9ybUNvbnRleHQ6IChvYmopLT5cblx0ZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcblx0b2JqW1widGFibGVWYWx1ZXNcIl0gPSBpZiBkb2NfdmFsdWVzIHRoZW4gZG9jX3ZhbHVlc1tvYmouY29kZV0gZWxzZSBbXVxuXHRvYmpbXCJmb3JtSWRcIl0gPSBmb3JtSWQ7XG5cdHJldHVybiBvYmo7XG5cbmluc3RhbmNlOiAtPlxuXHRTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpXG5cdGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpXG5cdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuXG5lcXVhbHM6IChhLCBiKSAtPlxuXHRyZXR1cm4gKGEgPT0gYilcblxuaW5jbHVkZXM6IChhLCBiKSAtPlxuXHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuXG5maWVsZHM6IC0+XG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdGlmIGZvcm1fdmVyc2lvblxuXHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG5cbmRvY192YWx1ZXM6IC0+XG5cdFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcblxuaW5zdGFuY2VfYm94X3N0eWxlOiAtPlxuXHRib3ggPSBTZXNzaW9uLmdldChcImJveFwiKVxuXHRpZiBib3ggPT0gXCJpbmJveFwiIHx8IGJveCA9PSBcImRyYWZ0XCJcblx0XHRqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIilcblx0XHRpZiBqdWRnZVxuXHRcdFx0aWYgKGp1ZGdlID09IFwiYXBwcm92ZWRcIilcblx0XHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxuXHRcdFx0ZWxzZSBpZiAoanVkZ2UgPT0gXCJyZWplY3RlZFwiKVxuXHRcdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcblx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdGlmIGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb25cblx0XHRpZiBpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXG5cdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXG5cdFx0ZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09IFwicmVqZWN0ZWRcIilcblx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxuXG5cblRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZSA9IChpbnN0YW5jZSwgdGVtcGxhdGVOYW1lKSAtPlxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cblx0aWYgdGVtcGxhdGVOYW1lXG5cdFx0aWYgdGVtcGxhdGVOYW1lID09ICd0YWJsZSdcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxuXHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXG5cblx0aWYgU2Vzc2lvbj8uZ2V0KFwiaW5zdGFuY2VQcmludFwiKVxuXHRcdGlmIGZsb3c/LnByaW50X3RlbXBsYXRlXG5cdFx0XHRyZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93LnByaW50X3RlbXBsYXRlICsgXCI8L2Rpdj5cIlxuXHRcdGVsc2Vcblx0XHRcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXG5cdFx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxuXHRlbHNlXG5cdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS5kZWZhdWx0KGluc3RhbmNlKVxuXG5cdFx0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcblx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXG5cblx0XHRpZiBmb3JtPy5pbnN0YW5jZV9zdHlsZVxuXHRcdFx0aWYgZm9ybS5pbnN0YW5jZV9zdHlsZSA9PSAndGFibGUnXG5cdFx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxuXHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS5kZWZhdWx0KGluc3RhbmNlKVxuXG4jVGVtcGxhdGVNYW5hZ2VyLmV4cG9ydFRlbXBsYXRlID0gKGZsb3dJZCkgLT5cbiNcdHRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGZsb3dJZCk7XG4jXG4jXHRmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZsb3coZmxvd0lkKTtcbiNcbiNcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXG4jXHRcdHJldHVybiB0ZW1wbGF0ZTtcbiNcbiNcdHJldHVybiB0ZW1wbGF0ZTtcblxuIiwidmFyIGZvcm1JZDsgICAgICAgICAgICAgICAgIFxuXG5UZW1wbGF0ZU1hbmFnZXIgPSB7fTtcblxuZm9ybUlkID0gJ2luc3RhbmNlZm9ybSc7XG5cblRlbXBsYXRlTWFuYWdlci5pbnN0YW5jZV90aXRsZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGFnZVRpdGxlLCBwYWdlVGl0bGVUckNsYXNzLCB2YWw7XG4gIHBhZ2VUaXRsZSA9IFwie3tpbnN0YW5jZS5uYW1lfX1cIjtcbiAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiaW5zdGFuY2UtbmFtZVwiO1xuICBpZiAodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lIDogdm9pZCAwKSB7XG4gICAgcGFnZVRpdGxlID0gXCJ7ez4gYWZGb3JtR3JvdXAgbmFtZT1cXFwiXCIgKyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVwiO1xuICAgIHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiO1xuICB9XG4gIGlmICh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGUgOiB2b2lkIDApIHtcbiAgICBwYWdlVGl0bGUgPSBcIlwiICsgQ29yZUZvcm0ucGFnZVRpdGxlO1xuICAgIHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiO1xuICB9XG4gIHZhbCA9IHtcbiAgICBwYWdlVGl0bGU6IHBhZ2VUaXRsZSxcbiAgICBwYWdlVGl0bGVUckNsYXNzOiBwYWdlVGl0bGVUckNsYXNzXG4gIH07XG4gIHJldHVybiB2YWw7XG59O1xuXG5UZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCBfZXhwb3J0KSB7XG4gIHZhciB0YWJsZV9maWVsZHMsIHRlbXBsYXRlO1xuICB0ZW1wbGF0ZSA9IFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLXRpdGxlIGZvcm0tdGFibGUgbm8tYm9yZGVyIHRleHQtYWxpZ24tY2VudGVyXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEwMCU7ZGlzcGxheTogaW5saW5lLXRhYmxlO1xcXCI+XFxuXHRcdDx0ciBjbGFzcz1cXFwiXCIgKyAodGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZVRyQ2xhc3MpICsgXCJcXFwiPlxcblx0XHRcdDx0ZCBjbGFzcz1cXFwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZCBwYWdlLXRpdGxlXFxcIj5cXG5cdFx0XHRcdFwiICsgKHRoaXMuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGUpICsgXCJcXG5cdFx0XHQ8L3RkPlxcblx0XHQ8L3RyPlxcblxcblx0PC90YWJsZT5cXG5cdDx0YWJsZSBjbGFzcz1cXFwidGFibGUtcGFnZS1ib2R5IGZvcm0tdGFibGVcXFwiPlxcblx0XHRcdDx0ciBzdHlsZT1cXFwiaGVpZ2h0OjBweFxcXCI+XFxuXHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XFxuXHRcdFx0XHQ8dGg+PC90aD5cXG5cdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cXG5cdFx0XHRcdDx0aD48L3RoPlxcblx0XHRcdDwvdHI+XCI7XG4gIHRhYmxlX2ZpZWxkcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudGFibGVfZmllbGRzKGluc3RhbmNlKTtcbiAgdGFibGVfZmllbGRzLmZvckVhY2goZnVuY3Rpb24odGFibGVfZmllbGQpIHtcbiAgICB2YXIgZmllbGRfcGVybWlzc2lvbiwgcHVyZUNvZGUsIHJlcXVpcmVkLCB0aXRsZV9wZXJtaXNzaW9uO1xuICAgIHJlcXVpcmVkID0gXCJcIjtcbiAgICBpZiAoISh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApIHx8ICh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApICE9PSB0YWJsZV9maWVsZC5jb2RlKSB7XG4gICAgICBpZiAodGFibGVfZmllbGQuaXNfcmVxdWlyZWQpIHtcbiAgICAgICAgcmVxdWlyZWQgPSBcImlzLXJlcXVpcmVkXCI7XG4gICAgICB9XG4gICAgICBpZiAoX2V4cG9ydCkge1xuICAgICAgICByZXF1aXJlZCA9IFwiXCI7XG4gICAgICB9XG4gICAgICBwdXJlQ29kZSA9IFN0ZWVkb3MucmVtb3ZlU3BlY2lhbENoYXJhY3Rlcih0YWJsZV9maWVsZC5jb2RlKTtcbiAgICAgIGlmIChJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkKHRhYmxlX2ZpZWxkKSkge1xuICAgICAgICB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydDtcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9XFxcInRkLXRpdGxlIFwiICsgcmVxdWlyZWQgKyBcIlxcXCI+XFxuXHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwifX1cXG48L3RkPlxcbjx0ZCBjbGFzcz1cXFwidGQtZmllbGQgb3Bpbmlvbi1maWVsZCBvcGluaW9uLWZpZWxkLVwiICsgcHVyZUNvZGUgKyBcIiBhdXRvbWF0aWNcXFwiIGNvbHNwYW4gPSBcXFwiXCIgKyB0YWJsZV9maWVsZC50ZF9jb2xzcGFuICsgXCJcXFwiPlxcblx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwifX1cXG48L3RkPlwiO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZXModGFibGVfZmllbGQudHlwZSwgJ3NlY3Rpb24sdGFibGUnKSkge1xuICAgICAgICAgIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0O1xuICAgICAgICAgIHRlbXBsYXRlICs9IFwiPHRkIGNsYXNzPVxcXCJ0ZC1jaGlsZGZpZWxkIHRkLWNoaWxkZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiXFxcIiBjb2xzcGFuID0gXFxcIlwiICsgdGFibGVfZmllbGQudGRfY29sc3BhbiArIFwiXFxcIj5cXG4gICB7ez4gYWZGb3JtR3JvdXAgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwiIGxhYmVsPWZhbHNlfX1cXG48L3RkPlwiO1xuICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnQ7XG4gICAgICAgICAgaWYgKF9leHBvcnQpIHtcbiAgICAgICAgICAgIHRpdGxlX3Blcm1pc3Npb24gPSBcIlwiO1xuICAgICAgICAgICAgZmllbGRfcGVybWlzc2lvbiA9IFwiXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpdGxlX3Blcm1pc3Npb24gPSBcInRpdGxlLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvbjtcbiAgICAgICAgICAgIGZpZWxkX3Blcm1pc3Npb24gPSBcImZpZWxkLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9XFxcInRkLXRpdGxlIHRkLXRpdGxlLVwiICsgcHVyZUNvZGUgKyBcIiBcIiArIHRpdGxlX3Blcm1pc3Npb24gKyBcIiBcIiArIHJlcXVpcmVkICsgXCJcXFwiPlxcblx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIn19XFxuPC90ZD5cXG48dGQgY2xhc3M9XFxcInRkLWZpZWxkIHRkLWZpZWxkLVwiICsgcHVyZUNvZGUgKyBcIiBcIiArIGZpZWxkX3Blcm1pc3Npb24gKyBcIlxcXCIgY29sc3BhbiA9IFxcXCJcIiArIHRhYmxlX2ZpZWxkLnRkX2NvbHNwYW4gKyBcIlxcXCI+XFxuXHR7ez4gYWZGb3JtR3JvdXAgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwiIGxhYmVsPWZhbHNlfX1cXG48L3RkPlwiO1xuICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB0ZW1wbGF0ZSArPSBcIlx0PC90YWJsZT5cXG5cXG5cdDx0YWJsZSBjbGFzcz1cXFwidGFibGUtcGFnZS1mb290ZXIgZm9ybS10YWJsZSBuby1ib3JkZXJcXFwiPlxcblx0XHQ8dHIgY2xhc3M9XFxcImFwcGxpY2FudC13cmFwcGVyXFxcIj5cXG5cdFx0XHQ8dGQgY2xhc3M9XFxcIm5vd3JhcFxcXCI+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tfdCBcXFwiaW5zdGFuY2VfaW5pdGlhdG9yXFxcIn1977yaPC9sYWJlbD5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZCBpbmxpbmUtbGVmdCc+XFxuXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVxcXCJhZlNlbGVjdFVzZXJcXFwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHQ8L3RkPlxcblx0XHRcdDx0ZCBjbGFzcz1cXFwibm93cmFwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J3B1bGwtbGVmdCc+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0XHQ8bGFiZWw+e3tfdCBcXFwiaW5zdGFuY2Vfc3VibWl0X2RhdGVcXFwifX3vvJo8L2xhYmVsPlxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLXJpZ2h0Jz5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdHt7Zm9ybWF0RGF0ZSBpbnN0YW5jZS5zdWJtaXRfZGF0ZSAne1xcXCJmb3JtYXRcXFwiOlxcXCJZWVlZLU1NLUREXFxcIn0nfX1cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHQ8L3RkPlxcblx0XHQ8L3RyPlxcblx0PC90YWJsZT5cXG48L2Rpdj5cIjtcbiAgcmV0dXJuIHRlbXBsYXRlO1xufTtcblxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZSA9IHtcbiAgXCJkZWZhdWx0XCI6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIHRlbXBsYXRlO1xuICAgIHRlbXBsYXRlID0gXCI8ZGl2IGNsYXNzPVxcXCJ3aXRoLWJvcmRlciBjb2wtbWQtMTJcXFwiPlxcblx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UtbmFtZVxcXCI+XFxuXHRcdDxoMyBjbGFzcz1cXFwiYm94LXRpdGxlXFxcIj5cIiArIChUZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGUpICsgXCI8L2gzPlxcblx0XHQ8c3BhbiBjbGFzcz1cXFwiaGVscC1ibG9ja1xcXCI+PC9zcGFuPlxcblx0PC9kaXY+XFxuXHQ8c3BhbiBjbGFzcz1cXFwiaGVscC1ibG9ja1xcXCI+PC9zcGFuPlxcbjwvZGl2Plxcbnt7I2VhY2ggc3RlZWRvc19mb3JtLmZpZWxkc319XFxuXHR7eyNpZiBpc09waW5pb25GaWVsZCB0aGlzfX1cXG5cdFx0PGRpdiBjbGFzcz1cXFwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fSBmaWVsZC17e3RoaXMuY29kZX19XFxcIj5cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGF1dG9tYXRpYyBvcGluaW9uLWZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fTwvbGFiZWw+XFxuXFxuXHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPXRoaXMuY29kZX19XFxuXHRcdFx0PC9kaXY+XFxuXHRcdDwvZGl2Plxcblx0e3tlbHNlfX1cXG5cdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyIGZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19IGZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZX19XFxuXHRcdFx0PC9kaXY+XFxuXHRcdHt7L2lmfX1cXG5cdHt7L2lmfX1cXG57ey9lYWNofX1cXG48ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcblx0PGRpdiBjbGFzcz1cXFwiYXBwbGljYW50LXdyYXBwZXIgZm9ybS1ncm91cCBmb3JtLWhvcml6b250YWxcXFwiPlxcblx0PGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcblx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cC1hZGRvblxcXCI+XFxuXHRcdCAge3tfdCBcXFwiaW5zdGFuY2VfaW5pdGlhdG9yXFxcIn19Jm5ic3A7Olxcblx0XHQ8L2Rpdj5cXG5cdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XFxcImFmU2VsZWN0VXNlclxcXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cXG5cdCAgPC9kaXY+XFxuXHQ8L2Rpdj5cXG48L2Rpdj5cIjtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH0sXG4gIHRhYmxlOiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZShpbnN0YW5jZSk7XG4gIH1cbn07XG5cblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVIZWxwcyA9IHtcbiAgYXBwbGljYW50Q29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGEsIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGRhdGEgPSB7XG4gICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICBhdHRzOiB7XG4gICAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgaWQ6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgXCJjbGFzc1wiOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wnLFxuICAgICAgICBzdHlsZTogJ3BhZGRpbmc6NnB4IDEycHg7d2lkdGg6MTQwcHg7ZGlzcGxheTppbmxpbmUnXG4gICAgICB9XG4gICAgfTtcbiAgICBkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHJldHVybiBkYXRhO1xuICB9XG59O1xuXG4oe1xuICBpbnN0YW5jZUlkOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ2luc3RhbmNlZm9ybSc7XG4gIH0sXG4gIGZvcm1fdHlwZXM6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCkpIHtcbiAgICAgIHJldHVybiAnZGlzYWJsZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ21ldGhvZCc7XG4gICAgfVxuICB9LFxuICBzdGVlZG9zX2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gZm9ybV92ZXJzaW9uO1xuICAgIH1cbiAgfSxcbiAgaW5uZXJzdWJmb3JtQ29udGV4dDogZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGRvY192YWx1ZXM7XG4gICAgZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICBvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGRvY192YWx1ZXMgPyBkb2NfdmFsdWVzW29iai5jb2RlXSA6IFtdO1xuICAgIG9ialtcImZvcm1JZFwiXSA9IGZvcm1JZDtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBpbnN0YW5jZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgU2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKTtcbiAgICBpZiAoU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKSB7XG4gICAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICByZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcbiAgICB9XG4gIH0sXG4gIGVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9LFxuICBpbmNsdWRlczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG4gIH0sXG4gIGZpZWxkczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG4gICAgfVxuICB9LFxuICBkb2NfdmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICB9LFxuICBpbnN0YW5jZV9ib3hfc3R5bGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBib3gsIGlucywganVkZ2U7XG4gICAgYm94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIik7XG4gICAgaWYgKGJveCA9PT0gXCJpbmJveFwiIHx8IGJveCA9PT0gXCJkcmFmdFwiKSB7XG4gICAgICBqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIik7XG4gICAgICBpZiAoanVkZ2UpIHtcbiAgICAgICAgaWYgKGp1ZGdlID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJib3gtc3VjY2Vzc1wiO1xuICAgICAgICB9IGVsc2UgaWYgKGp1ZGdlID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJib3gtZGFuZ2VyXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgaWYgKGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb24pIHtcbiAgICAgIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICByZXR1cm4gXCJib3gtc3VjY2Vzc1wiO1xuICAgICAgfSBlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICByZXR1cm4gXCJib3gtZGFuZ2VyXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxuVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlID0gZnVuY3Rpb24oaW5zdGFuY2UsIHRlbXBsYXRlTmFtZSkge1xuICB2YXIgZmxvdywgZm9ybTtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICBpZiAodGVtcGxhdGVOYW1lKSB7XG4gICAgaWYgKHRlbXBsYXRlTmFtZSA9PT0gJ3RhYmxlJykge1xuICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICB9XG4gIGlmICh0eXBlb2YgU2Vzc2lvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTZXNzaW9uICE9PSBudWxsID8gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpIDogdm9pZCAwKSB7XG4gICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cucHJpbnRfdGVtcGxhdGUgOiB2b2lkIDApIHtcbiAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cucHJpbnRfdGVtcGxhdGUgKyBcIjwvZGl2PlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlICsgXCI8L2Rpdj5cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVbXCJkZWZhdWx0XCJdKGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgOiB2b2lkIDApIHtcbiAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiO1xuICAgIH1cbiAgICBpZiAoZm9ybSAhPSBudWxsID8gZm9ybS5pbnN0YW5jZV9zdHlsZSA6IHZvaWQgMCkge1xuICAgICAgaWYgKGZvcm0uaW5zdGFuY2Vfc3R5bGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVbXCJkZWZhdWx0XCJdKGluc3RhbmNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVbXCJkZWZhdWx0XCJdKGluc3RhbmNlKTtcbiAgICB9XG4gIH1cbn07XG4iLCJTdGVlZG9zVGFibGUgPSB7fTtcblxuU3RlZWRvc1RhYmxlLmZvcm1JZCA9IFwiaW5zdGFuY2Vmb3JtXCI7XG5cblN0ZWVkb3NUYWJsZS5jaGVja0l0ZW0gPSBmdW5jdGlvbihmaWVsZCwgaXRlbV9pbmRleCkge1xuICAgIHZhciBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XG5cbiAgICB2YXIgZmllbGRWYWwgPSBTdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUoZmllbGQsIGl0ZW1faW5kZXgpO1xuXG4gICAgdmFyIHNmX25hbWUgPSAnJztcbiAgICB2YXIgcmV2ID0gdHJ1ZTtcbiAgICBmaWVsZE9iai5zZmllbGRzLmZvckVhY2goZnVuY3Rpb24oc2YpIHtcbiAgICAgICAgaWYgKHNmLnBlcm1pc3Npb24gPT0gJ2VkaXRhYmxlJykge1xuICAgICAgICAgICAgc2ZfbmFtZSA9IGZpZWxkT2JqLmNvZGUgKyBcIi5cIiArIHNmLmNvZGU7XG4gICAgICAgICAgICBpZiAoIUluc3RhbmNlTWFuYWdlci5jaGVja0Zvcm1GaWVsZFZhbHVlKCQoXCJbbmFtZT0nXCIgKyBzZl9uYW1lICsgXCInXVwiKVswXSkpIHtcbiAgICAgICAgICAgICAgICByZXYgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldjtcbn1cblxuU3RlZWRvc1RhYmxlLnNldFRhYmxlSXRlbVZhbHVlID0gZnVuY3Rpb24oZmllbGQsIGl0ZW1faW5kZXgsIGl0ZW1fdmFsdWUpIHtcblxuICAgIHZhciB0YWJsZVZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpO1xuICAgIHRhYmxlVmFsdWVbaXRlbV9pbmRleF0gPSBpdGVtX3ZhbHVlO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0VGFibGVJdGVtVmFsdWUgPSBmdW5jdGlvbihmaWVsZCwgaXRlbV9pbmRleCkge1xuICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZClbaXRlbV9pbmRleF07XG59XG5cblN0ZWVkb3NUYWJsZS5yZW1vdmVUYWJsZUl0ZW0gPSBmdW5jdGlvbihmaWVsZCwgaXRlbV9pbmRleCkge1xuICAgIHZhciBpdGVtX3ZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpdGVtX2luZGV4KTtcbiAgICBpdGVtX3ZhbHVlLnJlbW92ZWQgPSB0cnVlO1xufVxuXG5TdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZSkge1xuICAgICQoXCJ0YWJsZVtuYW1lPSdcIiArIGZpZWxkICsgXCInXVwiKS52YWwoe1xuICAgICAgICB2YWw6IHZhbHVlXG4gICAgfSk7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlID0gZnVuY3Rpb24oZmllbGQpIHtcbiAgICByZXR1cm4gJChcInRhYmxlW25hbWU9J1wiICsgZmllbGQgKyBcIiddXCIpLnZhbCgpLnZhbDtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFZhbGlkVmFsdWUgPSBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciB2YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKTtcblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHZhbGlkVmFsdWUgPSBbXTtcblxuICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24odikge1xuICAgICAgICBpZiAoIXYucmVtb3ZlZCkge1xuICAgICAgICAgICAgdmFsaWRWYWx1ZS5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbGlkVmFsdWU7XG59XG5cblxuU3RlZWRvc1RhYmxlLmhhbmRsZURhdGEgPSBmdW5jdGlvbihmaWVsZCwgdmFsdWVzKSB7XG5cbiAgICBpZiAoIXZhbHVlcyB8fCAhKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIHZhciBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XG5cbiAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih2KSB7XG4gICAgICAgIGZpZWxkT2JqLnNmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICBpZiAoZi50eXBlID09ICd1c2VyJyB8fCBmLnR5cGUgPT0gJ2dyb3VwJykge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZbZi5jb2RlXVxuICAgICAgICAgICAgICAgIGlmIChmLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiAwICYmIHR5cGVvZih2YWx1ZVswXSkgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbZi5jb2RlXSA9IHZbZi5jb2RlXS5nZXRQcm9wZXJ0eShcImlkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZih2YWx1ZSkgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbZi5jb2RlXSA9IHZbZi5jb2RlXS5pZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZi50eXBlID09ICdkYXRlVGltZScpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2W2YuY29kZV1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdDBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHQwWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSB0MVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0MVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2W2YuY29kZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWVzO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0RmllbGQgPSBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciBpbnN0YW5jZUZpZWxkcyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZpZWxkcygpO1xuICAgIGlmICghaW5zdGFuY2VGaWVsZHMpXG4gICAgICAgIHJldHVybjtcblxuICAgIHZhciBmaWVsZE9iaiA9IGluc3RhbmNlRmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGZpZWxkKTtcblxuICAgIHJldHVybiBmaWVsZE9iajtcbn1cblxuXG5TdGVlZG9zVGFibGUuZ2V0TW9kYWxEYXRhID0gZnVuY3Rpb24oZmllbGQsIGluZGV4KSB7XG5cbiAgICB2YXIgZGF0YSA9IHt9O1xuXG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIGlmICghZmllbGRPYmopIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRhdGEuZmllbGQgPSBmaWVsZE9iajtcblxuICAgIGRhdGEuZmllbGQuZm9ybXVsYSA9IEZvcm1fZm9ybXVsYS5nZXRGb3JtdWxhRmllbGRWYXJpYWJsZShcIkZvcm1fZm9ybXVsYS5maWVsZF92YWx1ZXNcIiwgZmllbGRPYmouc2ZpZWxkcyk7XG5cbiAgICBkYXRhLnZhbHVlID0ge307XG5cbiAgICBkYXRhLnZhbHVlW2ZpZWxkXSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZUl0ZW1WYWx1ZShmaWVsZCwgaW5kZXgpO1xuXG4gICAgZGF0YS5pbmRleCA9IGluZGV4O1xuXG4gICAgcmV0dXJuIGRhdGE7XG59XG5cblxuXG5TdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUgPSBmdW5jdGlvbihmaWVsZCwgaXRlbV9pbmRleCkge1xuXG4gICAgaWYgKCFBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwic3RlZWRvc190YWJsZV9tb2RhbF9cIiArIGZpZWxkICsgXCJfXCIgKyBpdGVtX2luZGV4KSkge1xuICAgICAgICByZXR1cm4ge31cbiAgICB9XG5cbiAgICB2YXIgaXRlbV92YWx1ZSA9IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJzdGVlZG9zX3RhYmxlX21vZGFsX1wiICsgZmllbGQgKyBcIl9cIiArIGl0ZW1faW5kZXgpLmluc2VydERvY1tmaWVsZF07XG4gICAgcmV0dXJuIGl0ZW1fdmFsdWU7XG59XG5cblxuU3RlZWRvc1RhYmxlLmFkZEl0ZW0gPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgsIF9pdGVtX3ZhbHVlKSB7XG4gICAgdmFyIGtleXMgPSBTdGVlZG9zVGFibGUuZ2V0S2V5cyhmaWVsZCk7XG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBfaXRlbV92YWx1ZSB8fCBTdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUoZmllbGQsIGluZGV4KTtcbiAgICAkKFwidGJvZHlbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGJvZHknXVwiKS5hcHBlbmQoU3RlZWRvc1RhYmxlLmdldFRyKGtleXMsIGl0ZW1fdmFsdWUsIGluZGV4LCBmaWVsZCwgdHJ1ZSkpXG5cbn1cblxuU3RlZWRvc1RhYmxlLnVwZGF0ZUl0ZW0gPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgsIF9pdGVtX3ZhbHVlKSB7XG5cbiAgICB2YXIgaXRlbSA9ICQoXCJ0cltuYW1lPSdcIiArIGZpZWxkICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInXVwiKTtcblxuICAgIHZhciBpdGVtX3ZhbHVlID0gX2l0ZW1fdmFsdWUgfHwgU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlKGZpZWxkLCBpbmRleCk7XG5cbiAgICBpZiAoaXRlbSAmJiBpdGVtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBTdGVlZG9zVGFibGUuZ2V0S2V5cyhmaWVsZCk7XG4gICAgICAgIHZhciB0ZHMgPSBTdGVlZG9zVGFibGUuZ2V0UmVtb3ZlVGQoZmllbGQsIGluZGV4KTtcblxuICAgICAgICB2YXIgc2ZpZWxkcyA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCkuc2ZpZWxkcztcblxuICAgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICB2YXIgc2ZpZWxkID0gc2ZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBrZXkpO1xuXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpdGVtX3ZhbHVlW2tleV07XG5cbiAgICAgICAgICAgIHRkcyA9IHRkcyArIFN0ZWVkb3NUYWJsZS5nZXRUZChzZmllbGQsIGluZGV4LCB2YWx1ZSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5lbXB0eSgpO1xuXG4gICAgICAgIGl0ZW0uYXBwZW5kKHRkcyk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5hZGRJdGVtKGZpZWxkLCBpbmRleCk7XG4gICAgfVxuXG4gICAgaWYgKFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKSkge1xuXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZUl0ZW1WYWx1ZShmaWVsZCwgaW5kZXgsIGl0ZW1fdmFsdWUpO1xuXG4gICAgICAgIC8vU3RlZWRvc1RhYmxlLnZhbHVlSGFzaFtmaWVsZF1baW5kZXhdID0gaXRlbV92YWx1ZTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vU3RlZWRvc1RhYmxlLnZhbHVlSGFzaFtmaWVsZF0gPSBbaXRlbV92YWx1ZV07XG5cbiAgICAgICAgU3RlZWRvc1RhYmxlLnNldFRhYmxlVmFsdWUoZmllbGQsIFtpdGVtX3ZhbHVlXSlcblxuICAgIH1cblxuICAgIC8v5omn6KGM5Li76KGo5YWs5byP6K6h566XXG4gICAgSW5zdGFuY2VNYW5hZ2VyLnJ1bkZvcm11bGEoZmllbGQpO1xuXG59XG5cblN0ZWVkb3NUYWJsZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24oZmllbGQsIGluZGV4KSB7XG5cbiAgICAkKFwidHJbbmFtZT0nXCIgKyBmaWVsZCArIFwiX2l0ZW1fXCIgKyBpbmRleCArIFwiJ11cIikuaGlkZSgpO1xuXG4gICAgU3RlZWRvc1RhYmxlLnJlbW92ZVRhYmxlSXRlbShmaWVsZCwgaW5kZXgpO1xuXG4gICAgSW5zdGFuY2VNYW5hZ2VyLnJ1bkZvcm11bGEoZmllbGQpO1xufVxuXG5TdGVlZG9zVGFibGUuc2hvd01vZGFsID0gZnVuY3Rpb24oZmllbGQsIGluZGV4LCBtZXRob2QpIHtcblxuXG4gICAgdmFyIG1vZGFsRGF0YSA9IFN0ZWVkb3NUYWJsZS5nZXRNb2RhbERhdGEoZmllbGQsIGluZGV4KTtcblxuICAgIG1vZGFsRGF0YS5tZXRob2QgPSBtZXRob2Q7XG5cbiAgICBNb2RhbC5zaG93KFwic3RlZWRvc1RhYmxlTW9kYWxcIiwgbW9kYWxEYXRhKTtcblxufVxuXG5TdGVlZG9zVGFibGUuZ2V0S2V5cyA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgaWYgKCFBdXRvRm9ybS5nZXRDdXJyZW50RGF0YUZvckZvcm0oU3RlZWRvc1RhYmxlLmZvcm1JZCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHZhciBzcyA9IEF1dG9Gb3JtLmdldEZvcm1TY2hlbWEoU3RlZWRvc1RhYmxlLmZvcm1JZCk7XG5cbiAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgaWYgKHNzLnNjaGVtYShmaWVsZCArIFwiLiRcIikudHlwZSA9PT0gT2JqZWN0KSB7XG4gICAgICAgIGtleXMgPSBzcy5vYmplY3RLZXlzKFNpbXBsZVNjaGVtYS5fbWFrZUdlbmVyaWMoZmllbGQpICsgJy4kJylcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5cztcblxufVxuXG5TdGVlZG9zVGFibGUuZ2V0VGhlYWQgPSBmdW5jdGlvbihmaWVsZCwgZWRpdGFibGUpIHtcblxuICAgIHZhciBmaWVsZE9iaiA9IGZpZWxkO1xuICAgIGlmICghXy5pc09iamVjdChmaWVsZCkpXG4gICAgICAgIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIGlmICghZmllbGRPYmopIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHZhciB0aGVhZCA9ICcnLFxuICAgICAgICB0cnMgPSAnJyxcbiAgICAgICAgbGFiZWwgPSAnJyxcbiAgICAgICAgd2lkdGggPSAxMDA7XG5cbiAgICBpZiAoZWRpdGFibGUpIHtcbiAgICAgICAgLy8gdHJzID0gXCI8dGggY2xhc3M9J3JlbW92ZWQnPjwvdGg+XCJcblx0XHR0cnMgPSBcIlwiXG4gICAgfVxuXG4gICAgdmFyIHNmaWVsZHMgPSBmaWVsZE9iai5zZmllbGRzO1xuXG4gICAgaWYoIXNmaWVsZHMpe1xuICAgIFx0cmV0dXJuIHRoZWFkO1xuXHR9XG5cbiAgICB2YXIgc2ZfbGVuZ3RoID0gc2ZpZWxkcy5sZW5ndGg7XG5cbiAgICBpZiAoc2ZfbGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgd2lkZV9maWVsZHMgPSBzZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfd2lkZVwiLCB0cnVlKTtcblxuICAgICAgICB3aWR0aCA9IDEwMCAvIChzZl9sZW5ndGggKyB3aWRlX2ZpZWxkcy5sZW5ndGgpO1xuICAgIH1cblxuICAgIHNmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihzZiwgaW5kZXgpIHtcblxuICAgICAgICBsYWJlbCA9IChzZi5uYW1lICE9IG51bGwgJiYgc2YubmFtZS5sZW5ndGggPiAwKSA/IHNmLm5hbWUgOiBzZi5jb2RlO1xuXG4gICAgICAgIHRycyA9IHRycyArIFwiPHRkIFwiOyAvLyBub3dyYXA9J25vd3JhcCdcblxuICAgICAgICB0cnMgPSB0cnMgKyBcIiBjbGFzcz0ndGl0bGUgXCIgKyBzZi50eXBlICsgXCInXCI7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IChzZl9sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgaWYgKHNmLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgICB0cnMgPSB0cnMgKyBcInN0eWxlPSd3aWR0aDpcIiArIHdpZHRoICogMiArIFwiJSdcIlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnMgPSB0cnMgKyBcInN0eWxlPSd3aWR0aDpcIiArIHdpZHRoICsgXCIlJ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0cnMgPSB0cnMgKyBcIj5cIiArIGxhYmVsICsgXCI8L3RkPlwiXG4gICAgfSk7XG5cbiAgICB0aGVhZCA9ICc8dHI+JyArIHRycyArICc8L3RyPic7XG5cbiAgICByZXR1cm4gdGhlYWQ7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUYm9keSA9IGZ1bmN0aW9uKGtleXMsIGZpZWxkLCB2YWx1ZXMsIGVkaXRhYmxlKSB7XG4gICAgdmFyIHRib2R5ID0gXCJcIjtcblxuICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHRib2R5ID0gdGJvZHkgKyBTdGVlZG9zVGFibGUuZ2V0VHIoa2V5cywgdmFsdWUsIGluZGV4LCBmaWVsZCwgZWRpdGFibGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGJvZHk7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUciA9IGZ1bmN0aW9uKGtleXMsIGl0ZW1fdmFsdWUsIGluZGV4LCBmaWVsZCwgZWRpdGFibGUpIHtcblxuICAgIHZhciBmaWVsZE9iaiA9IGZpZWxkO1xuICAgIGlmICghXy5pc09iamVjdChmaWVsZCkpXG4gICAgICAgIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIHZhciB0ciA9IFwiPHRyIGlkPSdcIiArIGZpZWxkT2JqLmNvZGUgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIicgbmFtZT0nXCIgKyBmaWVsZE9iai5jb2RlICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInIGRhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIidcIlxuXG4gICAgaWYgKGVkaXRhYmxlKSB7XG4gICAgICAgIHRyID0gdHIgKyBcIicgY2xhc3M9J2l0ZW0gZWRpdCdcIlxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmKFN0ZWVkb3MuaXNNb2JpbGUoKSl7XG5cdFx0XHR0ciA9IHRyICsgXCIgY2xhc3M9J2l0ZW0gaXRlbS1yZWFkb25seSdcIlxuICAgICAgICB9ZWxzZXtcblx0XHRcdHRyID0gdHIgKyBcIiBjbGFzcz0naXRlbSAnXCJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpdGVtX3ZhbHVlLnJlbW92ZWQpIHtcbiAgICAgICAgdHIgPSB0ciArIFwiIHN0eWxlPSdkaXNwbGF5Om5vbmUnIFwiO1xuICAgIH1cblxuICAgIHRyID0gdHIgKyBcIic+XCI7XG5cbiAgICB2YXIgdGRzID0gXCJcIjtcblxuICAgIGlmIChlZGl0YWJsZSkge1xuICAgICAgICB0ZHMgPSBTdGVlZG9zVGFibGUuZ2V0UmVtb3ZlVGQoZmllbGRPYmouY29kZSwgaW5kZXgpO1xuICAgIH1cblxuICAgIHZhciBzZmllbGRzID0gZmllbGRPYmouc2ZpZWxkcztcblxuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgdmFyIHNmaWVsZCA9IHNmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwga2V5KTtcblxuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtX3ZhbHVlW2tleV07XG5cbiAgICAgICAgdGRzID0gdGRzICsgU3RlZWRvc1RhYmxlLmdldFRkKHNmaWVsZCwgaW5kZXgsIHZhbHVlKTtcblxuICAgIH0pO1xuXG4gICAgdHIgPSB0ciArIHRkcyArIFwiPC90cj5cIjtcbiAgICByZXR1cm4gdHI7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZCA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCkge1xuICAgIC8vIHJldHVybiBcIjx0ZCBjbGFzcz0nc3RlZWRvc1RhYmxlLWl0ZW0tcmVtb3ZlIHJlbW92ZWQnIGRhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIic+PGkgY2xhc3M9J2ZhIGZhLXRpbWVzJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC90ZD5cIjtcblx0cmV0dXJuIFwiXCJcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRkID0gZnVuY3Rpb24oZmllbGQsIGluZGV4LCB2YWx1ZSkge1xuICAgIHZhciB0ZCA9IFwiPHRkIFwiO1xuXG4gICAgdGQgPSB0ZCArIFwiIGNsYXNzPSdzdGVlZG9zVGFibGUtaXRlbS1maWVsZCBcIiArIGZpZWxkLnR5cGUgKyBcIicgXCI7XG5cbiAgICB2YXIgdGRfdmFsdWUgPSBcIlwiO1xuXG4gICAgaWYoTWV0ZW9yLmlzQ2xpZW50KXtcbiAgICAgICAgdGRfdmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VERWYWx1ZShmaWVsZCwgdmFsdWUpXG4gICAgfWVsc2V7XG4gICAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblxuICAgICAgICB1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0XG5cbiAgICAgICAgdGRfdmFsdWUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUodmFsdWUsIGZpZWxkLCBsb2NhbGUsIHV0Y09mZnNldClcbiAgICB9XG5cbiAgICB0ZCA9IHRkICsgXCIgZGF0YS1pbmRleD0nXCIgKyBpbmRleCArIFwiJz5cIiArIHRkX3ZhbHVlICsgXCI8L3RkPlwiXG5cbiAgICByZXR1cm4gdGQ7XG59XG5cblxuU3RlZWRvc1RhYmxlLmdldFREVmFsdWUgPSBmdW5jdGlvbihmaWVsZCwgdmFsdWUpIHtcbiAgICB2YXIgdGRfdmFsdWUgPSBcIlwiO1xuICAgIGlmICghZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIHRkX3ZhbHVlXG4gICAgfVxuICAgIHRyeSB7XG5cbiAgICAgICAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICd1c2VyJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZih2YWx1ZVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFTcGFjZVVzZXJzKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYVNwYWNlVXNlcnModmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdSA/IHUubmFtZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdncm91cCc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YodmFsdWVbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gQ0ZEYXRhTWFuYWdlci5nZXRGb3JtdWxhT3JnYW5pemF0aW9ucyh2YWx1ZSkuZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb24odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gbyA/IG8ubmFtZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlID8gXCI8YSBocmVmPSdtYWlsdG86XCIgKyB2YWx1ZSArIFwiJz5cIiArIHZhbHVlICsgXCI8L2E+XCIgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndXJsJzpcbiAgICAgICAgICAgICAgICBpZih2YWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlLmluZGV4T2YoXCJodHRwXCIpID09IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFwiPGEgaHJlZj0nXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIjxhIGhyZWY9JycgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5odHRwOi8vXCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwYXNzd29yZCc6XG4gICAgICAgICAgICAgICAgdGRfdmFsdWUgPSAnKioqKioqJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHZhbHVlLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgPSB0WzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHRbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJC5mb3JtYXQuZGF0ZSh2YWx1ZSwgJ3l5eXktTU0tZGQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXRlVGltZSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCJUXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQwID0gdFswXS5zcGxpdChcIi1cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDEgPSB0WzFdLnNwbGl0KFwiOlwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHQwWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSB0MFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSB0MFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJzID0gdDFbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzID0gdDFbMV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICQuZm9ybWF0LmRhdGUodmFsdWUsICd5eXl5LU1NLWRkIEhIOm1tJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHZhbHVlKSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUudG9GaXhlZChmaWVsZC5kaWdpdHMpO1xuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFN0ZWVkb3MubnVtYmVyVG9TdHJpbmcodGRfdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ29kYXRhJzpcbiAgICAgICAgICAgICAgICBpZih2YWx1ZSl7XG5cdFx0XHRcdFx0aWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KXtcblx0XHRcdFx0XHRcdHRkX3ZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKClcblx0XHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRcdHRkX3ZhbHVlID0gdmFsdWVbJ0BsYWJlbCddXG5cdFx0XHRcdFx0fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZSA/IHZhbHVlIDogJyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGU7XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gdGRfdmFsdWU7XG59O1xuXG5pZihNZXRlb3IuaXNDbGllbnQpe1xuICAgIEF1dG9Gb3JtLmFkZElucHV0VHlwZShcInRhYmxlXCIsIHtcbiAgICAgICAgdGVtcGxhdGU6IFwiYWZUYWJsZVwiLFxuICAgICAgICB2YWx1ZU91dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHRoaXMuZGF0YShcInNjaGVtYUtleVwiKTtcbiAgICAgICAgICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VmFsaWRWYWx1ZShuYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWVDb252ZXJ0ZXJzOiB7XG4gICAgICAgICAgICBcInN0cmluZ0FycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb1N0cmluZ0FycmF5LFxuICAgICAgICAgICAgXCJudW1iZXJcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvTnVtYmVyLFxuICAgICAgICAgICAgXCJudW1lckFycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb051bWJlckFycmF5LFxuICAgICAgICAgICAgXCJib29sZWFuXCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0Jvb2xlYW4sXG4gICAgICAgICAgICBcImJvb2xlYW5BcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9Cb29sZWFuQXJyYXksXG4gICAgICAgICAgICBcImRhdGVcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvRGF0ZSxcbiAgICAgICAgICAgIFwiZGF0ZUFycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0RhdGVBcnJheVxuICAgICAgICB9LFxuICAgICAgICBjb250ZXh0QWRqdXN0OiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQuYXR0cy5tYXhsZW5ndGggPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb250ZXh0Lm1heCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmF0dHMubWF4bGVuZ3RoID0gY29udGV4dC5tYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuYWZUYWJsZS5ldmVudHMoe1xuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5zdGVlZG9zVGFibGUtaXRlbS1hZGQsLmFkZC1pdGVtLXRyJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHRlbXBsYXRlLmRhdGEubmFtZTtcblxuICAgICAgICAgICAgdmFyIHRhYmxlVmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShuYW1lKTtcblxuICAgICAgICAgICAgdmFyIG5ld19pdGVtX2luZGV4ID0gdGFibGVWYWx1ZSA/IHRhYmxlVmFsdWUubGVuZ3RoIDogMDtcblxuICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnNob3dNb2RhbChuYW1lLCBuZXdfaXRlbV9pbmRleCwgXCJhZGRcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tZmllbGQnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZS5kYXRhLmF0dHMuZWRpdGFibGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xuICAgICAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5zaG93TW9kYWwoZmllbGQsIGluZGV4LCBcImVkaXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XG4gICAgICAgICAgICB2YXIgaXRlbV9pbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcbiAgICAgICAgICAgIFNlc3Npb24uc2V0KFwiaW5zdGFuY2VfY2hhbmdlXCIsIHRydWUpO1xuICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnJlbW92ZUl0ZW0oZmllbGQsIGl0ZW1faW5kZXgpO1xuICAgICAgICB9LFxuXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLml0ZW0tcmVhZG9ubHknOiBmdW5jdGlvbiAoZXZlbnQsIHRlbXBsYXRlKSB7XG5cdFx0XHRpZiAoIXRlbXBsYXRlLmRhdGEuYXR0cy5lZGl0YWJsZSkge1xuXHRcdFx0XHR2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XG5cdFx0XHRcdHZhciBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcblx0XHRcdFx0U3RlZWRvc1RhYmxlLnNob3dNb2RhbChmaWVsZCwgaW5kZXgsIFwicmVhZFwiKTtcblx0XHRcdH1cblx0XHR9XG4gICAgfSk7XG5cblxuXG4gICAgVGVtcGxhdGUuYWZUYWJsZS5yZW5kZXJlZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZGF0YS5uYW1lO1xuXG4gICAgICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xuICAgICAgICB2YXIgdmFsaWRWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5oYW5kbGVEYXRhKGZpZWxkLCB0aGlzLmRhdGEudmFsdWUpO1xuICAgICAgICBTdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZShmaWVsZCwgdmFsaWRWYWx1ZSk7XG5cbiAgICAgICAgJChcInRoZWFkW25hbWU9J1wiICsgZmllbGQgKyBcIlRoZWFkJ11cIikuaHRtbChTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIHRoaXMuZGF0YS5hdHRzLmVkaXRhYmxlKSk7XG5cbiAgICAgICAgJChcInRib2R5W25hbWU9J1wiICsgZmllbGQgKyBcIlRib2R5J11cIikuaHRtbChTdGVlZG9zVGFibGUuZ2V0VGJvZHkoa2V5cywgZmllbGQsIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKSwgdGhpcy5kYXRhLmF0dHMuZWRpdGFibGUpKTtcbiAgICAgICAgXG4gICAgICAgIHN0ciA9IHQoXCJzdGVlZG9zX3RhYmxlX2FkZF9pdGVtXCIpO1xuICAgICAgICBhZGRJdGVtVHIgPSBcIjx0ciBjbGFzcz0nYWRkLWl0ZW0tdHInPjx0ZCBjb2xzcGFuPSdcIitrZXlzLmxlbmd0aCtcIic+PGkgY2xhc3M9J2lvbiBpb24tcGx1cy1yb3VuZCc+PC9pPlwiK3N0citcIjwvdGQ+PC90cj5cIjtcblxuICAgICAgICBpZiAodGhpcy5kYXRhLmF0dHMuZWRpdGFibGUpIHtcbiAgICAgICAgICAgJChcInRmb290W25hbWU9J1wiICsgZmllbGQgKyBcIlRmb290J11cIikuYXBwZW5kKGFkZEl0ZW1Ucik7XG4gICAgICAgIH1cbiAgICB9O1xufSIsIkltYWdlU2lnbi5oZWxwZXJzID1cblx0c3BhY2VVc2VyU2lnbjogKHVzZXJJZCktPlxuXHRcdHNwYWNlID0gXCJcIlxuXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRzcGFjZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5zcGFjZVxuXHRcdGVsc2Vcblx0XHRcdHNwYWNlID0gU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpXG5cblx0XHRzcGFjZVVzZXJTaWduID0gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kT25lKHtzcGFjZTogc3BhY2UsIHVzZXI6IHVzZXJJZH0pO1xuXHRcdHJldHVybiBzcGFjZVVzZXJTaWduXG5cblx0aW1hZ2VVUkw6ICh1c2VySWQpLT5cblxuXHRcdHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKHVzZXJJZCk7XG5cblx0XHRhYnNvbHV0ZSA9IGZhbHNlXG5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGFic29sdXRlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmFic29sdXRlXG5cblx0XHRpZiBzcGFjZVVzZXJTaWduPy5zaWduXG5cdFx0XHRpZiBhYnNvbHV0ZVxuXHRcdFx0XHRyZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcbiIsIkltYWdlU2lnbi5oZWxwZXJzID0ge1xuICBzcGFjZVVzZXJTaWduOiBmdW5jdGlvbih1c2VySWQpIHtcbiAgICB2YXIgc3BhY2UsIHNwYWNlVXNlclNpZ247XG4gICAgc3BhY2UgPSBcIlwiO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIHNwYWNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnNwYWNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGFjZSA9IFNlc3Npb24uZ2V0KFwic3BhY2VJZFwiKTtcbiAgICB9XG4gICAgc3BhY2VVc2VyU2lnbiA9IGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2UsXG4gICAgICB1c2VyOiB1c2VySWRcbiAgICB9KTtcbiAgICByZXR1cm4gc3BhY2VVc2VyU2lnbjtcbiAgfSxcbiAgaW1hZ2VVUkw6IGZ1bmN0aW9uKHVzZXJJZCkge1xuICAgIHZhciBhYnNvbHV0ZSwgc3BhY2VVc2VyU2lnbjtcbiAgICBzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbih1c2VySWQpO1xuICAgIGFic29sdXRlID0gZmFsc2U7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgYWJzb2x1dGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuYWJzb2x1dGU7XG4gICAgfVxuICAgIGlmIChzcGFjZVVzZXJTaWduICE9IG51bGwgPyBzcGFjZVVzZXJTaWduLnNpZ24gOiB2b2lkIDApIHtcbiAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICByZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuIiwiSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyA9XG5cdGFwcGxpY2FudENvbnRleHQ6IC0+XG5cdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGRhdGEgPSB7XG5cdFx0XHRuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRhdHRzOiB7bmFtZTogJ2luc19hcHBsaWNhbnQnLCBpZDogJ2luc19hcHBsaWNhbnQnLCBjbGFzczogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnfSxcblx0XHRcdHZhbHVlOiBzdGVlZG9zX2luc3RhbmNlLmFwcGxpY2FudF9uYW1lXG5cdFx0fVxuXHRcdGlmIG5vdCBzdGVlZG9zX2luc3RhbmNlIHx8IHN0ZWVkb3NfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiXG5cdFx0XHRkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlXG5cdFx0cmV0dXJuIGRhdGE7XG5cblx0aW5zdGFuY2VJZDogLT5cblx0XHRyZXR1cm4gJ2luc3RhbmNlZm9ybSc7I1wiaW5zdGFuY2VfXCIgKyBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIik7XG5cblx0Zm9ybV90eXBlczogLT5cblx0XHRpZiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcblx0XHRcdHJldHVybiAnZGlzYWJsZWQnO1xuXHRcdGVsc2Vcblx0XHRcdHJldHVybiAnbWV0aG9kJztcblxuXHRzdGVlZG9zX2Zvcm06IC0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdHJldHVybiBmb3JtX3ZlcnNpb25cblxuXHRpbm5lcnN1YmZvcm1Db250ZXh0OiAob2JqKS0+XG5cdFx0ZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcblx0XHRvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGlmIGRvY192YWx1ZXMgdGhlbiBkb2NfdmFsdWVzW29iai5jb2RlXSBlbHNlIFtdXG5cdFx0b2JqW1wiZm9ybUlkXCJdID0gXCJpbnN0YW5jZWZvcm1cIjtcblx0XHRyZXR1cm4gb2JqO1xuXG5cdGluc3RhbmNlOiAtPlxuXHRcdFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIilcblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKVxuXHRcdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdFx0cmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG5cblx0ZW1wdHk6ICh2YWwpIC0+XG5cdFx0aWYgdmFsXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR1bmVtcHR5OiAodmFsKSAtPlxuXHRcdGlmIHZhbFxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdGVxdWFsczogKGEsIGIpIC0+XG5cdFx0cmV0dXJuIChhID09IGIpXG5cblx0dW5lcXVhbHM6IChhLCBiKSAtPlxuXHRcdHJldHVybiAhKGEgPT0gYilcblxuXHRpbmNsdWRlczogKGEsIGIpIC0+XG5cdFx0cmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcblxuXHRpbmNsdWRlOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuXG5cdGZpZWxkczogLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXHRcdGlmIGZvcm1fdmVyc2lvblxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcblxuXHRmb3JtYXREYXRlOiAoZGF0ZSwgb3B0aW9ucyktPlxuXHRcdGlmICFkYXRlXG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHRpZiBvcHRpb25zICYmIHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJ1xuXHRcdFx0b3B0aW9ucyA9IEpTT04ucGFyc2Uob3B0aW9ucyk7XG5cblx0XHRpZiAhb3B0aW9ucy5mb3JtYXRcblx0XHRcdG9wdGlvbnMgPSB7Zm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIn1cblxuXHRcdHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KG9wdGlvbnMuZm9ybWF0KTtcblxuXHR0cmFjZXM6IC0+XG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRzdGVlZG9zRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCk/LnZpZXc/LnRlbXBsYXRlPy5zdGVlZG9zRGF0YVxuXHRcdFx0aW5zdGFuY2UgPSBzdGVlZG9zRGF0YT8uaW5zdGFuY2Vcblx0XHRcdGZsb3cgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24oaW5zdGFuY2UpO1xuXHRcdFx0bG9jYWxlID0gc3RlZWRvc0RhdGE/LmxvY2FsZVxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0XHRlbHNlXG5cdFx0XHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG5cdFx0XHRmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRmxvd1ZlcnNpb24oKVxuXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXG5cblx0XHRpZiAhaW5zdGFuY2UgfHwgIWZsb3dcblx0XHRcdHJldHVybiB7fTtcblxuXHRcdHN0ZXBzID0gZmxvdy5zdGVwcztcblxuXHRcdHRyYWNlcyA9IHt9O1xuXG5cdFx0aW5zdGFuY2UudHJhY2VzPy5mb3JFYWNoICh0cmFjZSktPlxuXHRcdFx0c3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdHJhY2Uuc3RlcClcblxuXHRcdFx0YXBwcm92ZXMgPSBbXVxuXG5cdFx0XHR0cmFjZS5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSkgLT5cblx0XHRcdFx0aWYgdHJhY2UuaXNfZmluaXNoZWQgPT0gdHJ1ZVxuIyDlt7Lnu5PmnZ/nmoTmmL7npLrkuLrmoLjlh4Yv6amz5ZueL+WPlua2iOeUs+ivt1xuXHRcdFx0XHRcdGlmIGFwcHJvdmUuanVkZ2UgPT0gJ2FwcHJvdmVkJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZFwiLCB7fSwgbG9jYWxlKVxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAncmVqZWN0ZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlamVjdGVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSB0ZXJtaW5hdGVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWFzc2lnbmVkJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWxvY2F0ZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlbG9jYXRlZFwiLCB7fSwgbG9jYWxlKVxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAnJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFwiXCJcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gXCJcIlxuXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHBlbmRpbmdcIiwge30sIGxvY2FsZSlcblxuXHRcdFx0XHRhcHByb3Zlcy5wdXNoXG5cdFx0XHRcdFx0X2lkOiBhcHByb3ZlLl9pZFxuXHRcdFx0XHRcdGhhbmRsZXI6IGFwcHJvdmUudXNlclxuXHRcdFx0XHRcdGhhbmRsZXJfbmFtZTogYXBwcm92ZS5oYW5kbGVyX25hbWVcblx0XHRcdFx0XHRoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWVcblx0XHRcdFx0XHRoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZVxuXHRcdFx0XHRcdGZpbmlzaF9kYXRlOiBhcHByb3ZlLmZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0anVkZ2U6IGFwcHJvdmUuanVkZ2Vcblx0XHRcdFx0XHRqdWRnZV9uYW1lOiBqdWRnZV9uYW1lXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246IGFwcHJvdmUuZGVzY3JpcHRpb25cblx0XHRcdFx0XHRpc19maW5pc2hlZDogYXBwcm92ZS5pc19maW5pc2hlZFxuXHRcdFx0XHRcdHR5cGU6IGFwcHJvdmUudHlwZVxuXHRcdFx0XHRcdG9waW5pb25fZmllbGRzX2NvZGU6IGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZVxuXHRcdFx0XHRcdHNpZ25fZmllbGRfY29kZTogYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGVcblx0XHRcdFx0XHRpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWRcblx0XHRcdFx0XHRzaWduX3Nob3c6IGFwcHJvdmUuc2lnbl9zaG93XG5cblxuXHRcdFx0aWYgc3RlcFxuXHRcdFx0XHRpZiBzdGVwLm5hbWUgb2YgdHJhY2VzXG5cdFx0XHRcdFx0dHJhY2VzW3N0ZXAubmFtZV0gPSB0cmFjZXNbc3RlcC5uYW1lXS5jb25jYXQoYXBwcm92ZXMpXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0cmFjZXNbc3RlcC5uYW1lXSA9IGFwcHJvdmVzXG5cblx0XHRyZXR1cm4gdHJhY2VzO1xuXG5cblxuXHRkb2NfdmFsdWVzOiAtPlxuXHRcdFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcblxuXHRpbnN0YW5jZV9ib3hfc3R5bGU6IC0+XG5cdFx0Ym94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIilcblx0XHRpZiBib3ggPT0gXCJpbmJveFwiIHx8IGJveCA9PSBcImRyYWZ0XCJcblx0XHRcdGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKVxuXHRcdFx0aWYganVkZ2Vcblx0XHRcdFx0aWYgKGp1ZGdlID09IFwiYXBwcm92ZWRcIilcblx0XHRcdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXG5cdFx0XHRcdGVsc2UgaWYgKGp1ZGdlID09IFwicmVqZWN0ZWRcIilcblx0XHRcdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcblx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiBpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uXG5cdFx0XHRpZiBpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXG5cdFx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcblx0XHRcdGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PSBcInJlamVjdGVkXCIpXG5cdFx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxuXG4jaXNfZGlzYWJsZWQ6IC0+XG4jICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuIyAgICBpZiAhaW5zXG4jICAgICAgICByZXR1cm47XG4jICAgIGlmIGlucy5zdGF0ZSE9XCJkcmFmdFwiXG4jICAgICAgICByZXR1cm4gXCJkaXNhYmxlZFwiO1xuIyAgICByZXR1cm47XG5cblx0dGFibGVfZmllbGRzOiAoaW5zdGFuY2UpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdFx0ZWxzZVxuXHRcdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdGZpZWxkcyA9IF8uY2xvbmUoZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG5cblx0XHRcdGZpZWxkcy5mb3JFYWNoIChmaWVsZCwgaW5kZXgpIC0+XG5cdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gXCJcIjtcblx0XHRcdFx0ZmllbGQudHJfZW5kID0gXCJcIjtcblx0XHRcdFx0dGRfY29sc3BhbiA9IDE7XG4jXHRcdFx0XHTlvLrliLborr7nva7moIflpLTlrZfmrrXkuLrlrr3lrZfmrrVcblx0XHRcdFx0aWYgQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZSA9PSBmaWVsZC5jb2RlXG5cdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWVcblxuXHRcdFx0XHRpZiBmaWVsZC5mb3JtdWxhICYmIGZpZWxkLnR5cGUgIT0gJ29kYXRhJ1xuXHRcdFx0XHRcdGZpZWxkLnBlcm1pc3Npb24gPSBcInJlYWRvbmx5XCI7XG5cblx0XHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG4jIOWmguaenOW9k+WJjeWtl+auteaYr+WIhue7hOOAgeihqOagvOOAgeWuveWtl+autVxuXHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdFx0ZmllbGQudGRfY29sc3BhbiA9IDQ7XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0ZmllbGQudGRfY29sc3BhbiA9IDM7XG5cblx0XHRcdFx0XHRpZiBpbmRleCAhPSAwXG5cdFx0XHRcdFx0XHRmaWVsZC50cl9zdGFydCA9IFwiPHRyPlwiO1xuXHRcdFx0XHRcdFx0ZmllbGQudHJfZW5kID0gXCI8L3RyPlwiO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0cHJlX2ZpZWxkcyA9IGZpZWxkcy5zbGljZSgwLCBpbmRleCk7XG5cblx0XHRcdFx0XHRwcmVfd2lkZV9maWVsZHMgPSBwcmVfZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfd2lkZVwiLCB0cnVlKTtcblxuXHRcdFx0XHRcdHRyX3N0YXJ0ID0gXCJcIjtcblxuXHRcdFx0XHRcdHRyX2VuZCA9IFwiXCI7XG5cblx0XHRcdFx0XHQjIOWFiOiuoeeul+W9k+WJjeWtl+auteaYr+WQpuS4uuWuveWtl+autVxuXHRcdFx0XHRcdGJlZm9yZV9maWVsZCA9IG51bGw7XG5cdFx0XHRcdFx0YWZ0ZXJfZmllbGQgPSBudWxsO1xuXG5cdFx0XHRcdFx0aWYgaW5kZXggPiAwXG5cdFx0XHRcdFx0XHRiZWZvcmVfZmllbGQgPSBmaWVsZHNbaW5kZXggLSAxXVxuXG5cdFx0XHRcdFx0aWYgaW5kZXggPCBmaWVsZHMubGVuZ3RoIC0gMVxuXHRcdFx0XHRcdFx0YWZ0ZXJfZmllbGQgPSBmaWVsZHNbaW5kZXggKyAxXVxuXG5cdFx0XHRcdFx0IyDlpoLmnpzlvZPliY3lrZfmrrXmmK/liIbnu4TjgIHooajmoLzjgIHlrr3lrZfmrrVcblx0XHRcdFx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09ICd0YWJsZSdcblx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSA0O1xuXHRcdFx0XHRcdGVsc2UgaWYgZmllbGQuaXNfd2lkZVxuXHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XG5cdFx0XHRcdFx0ZWxzZVxuIyDliY3lkI7pg73mmK/lrr3lrZfmrrVcblx0XHRcdFx0XHRcdGlmIGJlZm9yZV9maWVsZCAmJiBhZnRlcl9maWVsZCAmJiBiZWZvcmVfZmllbGQuaXNfd2lkZSAmJiBhZnRlcl9maWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcblxuXHRcdFx0XHRcdFx0IyDlvZPliY3mmK90ciDkuIvnmoQg56ys5LiA5LiqdGQgJiDlkI7ovrnnmoTlrZfmrrXmmK/lrr3lrZfmrrVcblx0XHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PSAwICYmIGFmdGVyX2ZpZWxkICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xuXG5cdFx0XHRcdFx0XHQjIOW9k+WJjeaYr3RyIOS4i+eahCDnrKzkuIDkuKp0ZCAmIOW9k+WJjeWtl+auteaYr+acgOWQjuS4gOS4quWtl+autVxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgJiYgYWZ0ZXJfZmllbGQgPT0gbnVsbFxuXHRcdFx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XG5cblx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gdGRfY29sc3BhbjtcblxuXG5cdFx0XHRcdFx0aWYgaW5kZXggPT0gMFxuIyB0cl9zdGFydCA9IFwiPHRyPlwiOyDnlLHkuo5UZW1wbGF0ZeeahOe8luivkWJ1Z++8jOWvvOiHtOavj+asoee7meS4gOS4qnRy5byA5aeL5pe277yM5Lya6Ieq5Yqo6KGl5aS05oiW6KGl5bC+44CC5Zug5q2k5Zyo56ys5LiA6KGM6L+U5Zue5LiA5Liq56m65a2X56ym5LiyLlxuXHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0cj5cIjtcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT0gMCB8fCBmaWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdFx0XHRcdHRyX3N0YXJ0ID0gXCI8dHIgY2xhc3MgPSBcXFwidHItY2hpbGQtdGFibGVcXFwiPlwiO1xuXHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0cj5cIjtcblxuXHRcdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gdHJfc3RhcnQ7XG5cblxuXHRcdFx0XHRcdGlmIGluZGV4ICsgMSA9PSBmaWVsZHMubGVuZ3RoIHx8IGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT0gJ3RhYmxlJyB8fCBmaWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHR0cl9lbmQgPSBcIjwvdHI+XCI7XG5cblx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgIT0gMFxuXHRcdFx0XHRcdFx0dHJfZW5kID0gXCI8L3RyPlwiO1xuXG5cdFx0XHRcdFx0ZmllbGQudHJfZW5kID0gdHJfZW5kO1xuXG5cdFx0XHRyZXR1cm4gZmllbGRzO1xuXG5cdHNvcnRfYXBwcm92ZTogKGFwcHJvdmVzLCBvcmRlciktPlxuXHRcdGlmICFhcHByb3Zlc1xuXHRcdFx0cmV0dXJuIFtdXG5cblx0XHRpZiAhYXBwcm92ZXMgaW5zdGFuY2VvZiBBcnJheVxuXHRcdFx0cmV0dXJuIFtdXG5cdFx0ZWxzZVxuXHRcdFx0aWYgb3JkZXIgPT0gJ2Rlc2MnXG5cdFx0XHRcdGFwcHJvdmVzLnNvcnQgKHAxLCBwMikgLT5cblx0XHRcdFx0XHRfcDEgPSAwXG5cdFx0XHRcdFx0X3AyID0gMFxuXG5cdFx0XHRcdFx0aWYgcDEuZmluaXNoX2RhdGVcblx0XHRcdFx0XHRcdF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKVxuXG5cdFx0XHRcdFx0aWYgcDIuZmluaXNoX2RhdGVcblx0XHRcdFx0XHRcdF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcblxuXHRcdFx0XHRcdHJldHVybiBfcDIgLSBfcDFcblx0XHRcdGVsc2Vcblx0XHRcdFx0YXBwcm92ZXMuc29ydCAocDEsIHAyKSAtPlxuXHRcdFx0XHRcdF9wMSA9IDBcblx0XHRcdFx0XHRfcDIgPSAwXG5cblx0XHRcdFx0XHRpZiBwMS5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0X3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpXG5cblx0XHRcdFx0XHRpZiBwMi5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0X3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIF9wMSAtIF9wMlxuXHRcdHJldHVybiBhcHByb3Zlc1xuXG5cdF90OiAoa2V5KS0+XG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxuXHRnZXRGaWVsZDogKGNvZGUpLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG5cdFx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKVxuXG5cdGdldFZhbHVlOiAoY29kZSktPlxuXHRcdGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlXG5cblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG5cblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cblx0XHR1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0XG5cblx0XHR2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge31cblxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0dmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpXG5cblx0XHRyZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlIHZhbHVlc1tjb2RlXSwgZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKSwgbG9jYWxlLCB1dGNPZmZzZXRcblxuXHRnZXRMYWJlbDogKGNvZGUpLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsIGZvcm1fdmVyc2lvbi5maWVsZHMsIGNvZGVcblxuXHRnZXRDZkNsYXNzOiAoZmllbGQpLT5cblx0XHRpZiBmaWVsZD8udHlwZSA9PSBcImlucHV0XCIgJiYgZmllbGQ/LmlzX3RleHRhcmVhXG5cdFx0XHRyZXR1cm4gXCJjZlRleHRhcmVhXCJcblxuXHRnZXRUYWJsZVRoZWFkOiAoZmllbGQpLT5cblx0XHRyZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRoZWFkKGZpZWxkLCBmYWxzZSlcblxuXHRnZXRUYWJsZUJvZHk6IChmaWVsZCktPlxuXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZVxuXHRcdFx0dmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9XG5cdFx0ZWxzZVxuXHRcdFx0dmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpXG5cblx0XHR0YWJsZVZhbHVlID0gdmFsdWVzW2ZpZWxkLmNvZGVdO1xuXHRcdHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGJvZHkoZmllbGQuc2ZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIiksIGZpZWxkLCB0YWJsZVZhbHVlLCBmYWxzZSlcblxuXHRzaG93TGFiZWw6IChmaWVsZCktPlxuXHRcdHRlbXBsYXRlRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YVxuXHRcdGlmIHRlbXBsYXRlRGF0YS5sYWJlbCA9PSBmYWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0cmV0dXJuIHRydWVcblxuI1x0YWZGaWVsZExhYmVsVGV4dDogKG9wKS0+XG4jXHRcdGlmICFUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGFcbiNcdFx0XHRyZXR1cm4gQXV0b0Zvcm0uZ2V0TGFiZWxGb3JGaWVsZChvcC5uYW1lKVxuI1x0XHRlbHNlXG4jXHRcdFx0Zm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvblxuI1x0XHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCBmb3JtX3ZlcnNpb24uZmllbGRzLCBvcD8uaGFzaD8ubmFtZVxuXG5cdGlzT3BpbmlvbkZpZWxkOiAoZmllbGQpLT5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZC5mb3JtdWxhKVxuXG5cdGlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nOiAoZmllbGRfZm9ybXVsYSktPlxuXHRcdHJldHVybiBJbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXG5cblx0aW5jbHVkZXNPcGluaW9uRmllbGQ6IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cblxuXHRcdGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XG5cblx0XHRmaWVsZHMgPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe19pZDogZm9ybV92ZXJzaW9uLCBmb3JtOiBmb3JtfSk/LmZpZWxkcyB8fCBbXVxuXG5cdFx0ZmllbGRzLmZvckVhY2ggKGYpLT5cblx0XHRcdGlmIGYudHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcblx0XHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0XHRmPy5maWVsZHM/LmZvckVhY2ggKGYxKS0+XG5cdFx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmMS5mb3JtdWxhXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGZpZWxkX2Zvcm11bGFzLnB1c2ggZi5mb3JtdWxhXG5cblx0XHRfLnNvbWUgZmllbGRfZm9ybXVsYXMsIChmaWVsZF9mb3JtdWxhKS0+XG5cdFx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxuXG5cdGdldE9waW5pb25GaWVsZFN0ZXBzTmFtZTogKGZpZWxkX2Zvcm11bGEsIHRvcF9rZXl3b3JkcyktPlxuXG5cdFx0b3BpbmlvbkZpZWxkcyA9IG5ldyBBcnJheSgpO1xuI1x0XHRjb25zb2xlLmxvZyhcImZpZWxkX2Zvcm11bGFcIiwgZmllbGRfZm9ybXVsYSlcblx0XHRpZiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXG5cdFx0XHRpZiBmaWVsZF9mb3JtdWxhXG5cbiNcdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiLFwiKVxuXHRcdFx0XHRmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIjtcIilcblxuI1x0XHRcdFx0aWYgdG9wX2tleXdvcmRzXG4jXHRcdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKVxuXG5cdFx0XHRcdGZvbzEuZm9yRWFjaCAoZm9vKS0+XG5cdFx0XHRcdFx0anNvbl9mb3JtdWxhID0ge31cblxuXHRcdFx0XHRcdHRyeVxuXHRcdFx0XHRcdFx0anNvbl9mb3JtdWxhID0gZXZhbChcIihcIiArIGZvbyArIFwiKVwiKVxuXHRcdFx0XHRcdGNhdGNoXG5cdFx0XHRcdFx0XHRqc29uX2Zvcm11bGEgPSB7fVxuXG5cdFx0XHRcdFx0aWYganNvbl9mb3JtdWxhPy55aWppYW5sYW5cblx0XHRcdFx0XHRcdHNmID0ge31cblxuXHRcdFx0XHRcdFx0c2Yuc3RlcE5hbWUgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnN0ZXBcblxuXHRcdFx0XHRcdFx0c2YuaW1hZ2Vfc2lnbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uaW1hZ2Vfc2lnbiB8fCBmYWxzZVxuXG5cdFx0XHRcdFx0XHRzZi5vbmx5X2NjX29waW5pb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfY2MgfHwgZmFsc2VcblxuXHRcdFx0XHRcdFx0c2YuZGVmYXVsdF9kZXNjcmlwdGlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uZGVmYXVsdFxuXG5cdFx0XHRcdFx0XHRzZi5vbmx5X2hhbmRsZXIgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfaGFuZGxlclxuXG5cdFx0XHRcdFx0XHRzZi50b3Bfa2V5d29yZHMgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnRvcF9rZXl3b3JkcyB8fCB0b3Bfa2V5d29yZHNcblxuXHRcdFx0XHRcdFx0b3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcblxuXHRcdFx0XHRcdGVsc2UgaWYoZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt0cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA+IC0xKVxuXG5cdFx0XHRcdFx0XHRzZiA9IHtvbmx5X2NjX29waW5pb246IGZhbHNlLCBpbWFnZV9zaWduOiBmYWxzZSwgdG9wX2tleXdvcmRzOiB0b3Bfa2V5d29yZHN9XG5cblx0XHRcdFx0XHRcdGlmIGZvby5pbmRleE9mKFwie3NpZ25hdHVyZS5cIikgPiAtMVxuXHRcdFx0XHRcdFx0XHRzZi5pbWFnZV9zaWduID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRmb28gPSBmb28ucmVwbGFjZShcIntzaWduYXR1cmUuXCIsXCJcIik7XG5cblx0XHRcdFx0XHRcdHMxID0gZm9vLnJlcGxhY2UoXCJ7XCIsXCJcIikucmVwbGFjZShcIn1cIixcIlwiKVxuXHRcdFx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDFcblx0XHRcdFx0XHRcdFx0c2Yuc3RlcE5hbWUgPSBzMS5zcGxpdChcIi5cIilbMV1cblx0XHRcdFx0XHRcdFx0aWYgb3BpbmlvbkZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcInN0ZXBOYW1lXCIsc2Yuc3RlcE5hbWUpLmxlbmd0aCA+IDBcblx0XHRcdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwTmFtZVwiLCBzZi5zdGVwTmFtZSk/Lm9ubHlfY2Nfb3BpbmlvbiA9IHRydWVcblx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIilbMl0/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ2NjJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZi5vbmx5X2NjX29waW5pb24gPSB0cnVlXG5cdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuXG5cdFx0cmV0dXJuIG9waW5pb25GaWVsZHNcblxuXHRzaG93Q0NPcGluaW9uOiAoZmllbGQpLT5cblx0XHRpZiBmaWVsZC5mb3JtdWxhPy5pbmRleE9mKFwie3RyYWNlcy5cIikgPiAtMSB8fCBmaWVsZC5mb3JtdWxhPy5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpID4gLTFcblx0XHRcdHMxID0gZmllbGQuZm9ybXVsYS5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIixcIlwiKS5yZXBsYWNlKFwie1wiLFwiXCIpLnJlcGxhY2UoXCJ9XCIsXCJcIilcblx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyXG5cdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKVsyXT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnY2MnXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcblx0XHRcdHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG5cdFx0XHRyZW5kZXJlci5saW5rID0gKCBocmVmLCB0aXRsZSwgdGV4dCApIC0+XG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcblx0XHRcdHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge3JlbmRlcmVyOnJlbmRlcmVyfSkpXG5cblx0Zl9sYWJlbDogKHRoYXQpLT5cblx0XHRyZXR1cm4gdGhhdC5uYW1lIHx8IHRoYXQuY29kZVxuXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5zdGVlZG9zX2Zvcm0gPSAtPlxuXHRcdHJldHVybiB0aGlzLmZvcm1fdmVyc2lvblxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNTZWN0aW9uID0gKGNvZGUpLT5cblx0XHRmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvblxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLnR5cGUgPT0gJ3NlY3Rpb24nXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5kb2NfdmFsdWVzID0gLT5cblx0XHRpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG5cdFx0cmV0dXJuIGluc3RhbmNlLnZhbHVlcztcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmFwcGxpY2FudENvbnRleHQgPSAtPlxuXHRcdGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcblx0XHRkYXRhID0ge1xuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxuXHRcdFx0YXR0czoge25hbWU6ICdpbnNfYXBwbGljYW50JywgaWQ6ICdpbnNfYXBwbGljYW50JywgY2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J30sXG5cdFx0XHR2YWx1ZTogaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblx0XHR9XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSA9IC0+XG5cdFx0cmV0dXJuIHRoaXMuaW5zdGFuY2VcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZpZWxkcyA9IC0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb25cblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtX3R5cGVzID0gLT5cblx0XHRyZXR1cm4gXCJkaXNhYmxlZFwiXG5cblx0VGVtcGxhdGUucmVnaXN0ZXJIZWxwZXIgXCJhZkZpZWxkTGFiZWxUZXh0XCIsIChvcCktPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgb3A/Lmhhc2g/Lm5hbWVcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLl90ID0gKGtleSktPlxuXHRcdGxvY2FsZSA9IHRoaXMubG9jYWxlXG5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnNfYXR0YWNoX2Rvd25sb2FkX3VybCA9IChfaWQsIGFic29sdXRlKS0+XG5cdFx0aWYgYWJzb2x1dGVcblx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiKTtcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiO1xuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMub3B0aW9ucyA9IChmaWVsZCktPlxuXHRcdG9wdGlvbnMgPSBmaWVsZD8ub3B0aW9ucz8uc3BsaXQoXCJcXG5cIilcblx0XHRyZXYgPSBbXVxuXHRcdG9wdGlvbnM/LmZvckVhY2ggKGl0ZW0pLT5cblx0XHRcdHJldi5wdXNoKHtsYWJlbDogaXRlbSwgdmFsdWU6IGl0ZW19KVxuXG5cdFx0cmV0dXJuIHJldlxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0UGVybWlzc2lvbnMgPSAoY29kZSktPlxuXHRcdGlmICFUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHM/LmluY2x1ZGVzKGNvZGUpXG5cdFx0XHRyZXR1cm4gXCJyZWFkb25seSBkaXNhYmxlZFwiXG5cdFx0cmV0dXJuIFwiXCJcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUuZXZlbnRzID1cblx0J2NoYW5nZSAuZm9ybS1jb250cm9sLC5jaGVja2JveCBpbnB1dCwuYWYtcmFkaW8tZ3JvdXAgaW5wdXQsLmFmLWNoZWNrYm94LWdyb3VwIGlucHV0JzogKGV2ZW50KS0+XG5cdFx0SW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KVxuXG5cdCd0eXBlYWhlYWQ6Y2hhbmdlIC5mb3JtLWNvbnRyb2wnOiAoZXZlbnQpIC0+XG5cdFx0SW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KVxuXG5cdCdjbGljayAuY2ZUZXh0YXJlYSBhJzogKGV2ZW50KS0+XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRTdGVlZG9zLm9wZW5XaW5kb3coZXZlbnQudGFyZ2V0LmhyZWYpO1xuXG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uQ3JlYXRlZCA9ICgpLT5cblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgIWluc3RhbmNlXG5cdFx0cmV0dXJuO1xuXG5cdHRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlKTtcblxuXHR0cnlcblx0XHRjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUubG9nIFwiSW5zdGFuY2UgVGVtcGxhdGUgRXJyb3JcIiwgZVxuXHRcdGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShcIlwiLCB7aXNCb2R5OiB0cnVlfSk7XG5cblxuXHRyZW5kZXJGdW5jdGlvbiA9IGV2YWwoY29tcGlsZWQpO1xuXG5cdGluc3RhbmNlVmlldyA9IG5ldyBCbGF6ZS5WaWV3KFwiY3VzdG9tX2luc3RhbmNlX3RlbXBsYXRlXCIsIHJlbmRlckZ1bmN0aW9uKTtcblxuXHRpbnN0YW5jZUN1c3RvbVRlbXBsYXRlID0gbmV3IEJsYXplLlRlbXBsYXRlKGluc3RhbmNlVmlldy5uYW1lLCByZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlID0gaW5zdGFuY2VDdXN0b21UZW1wbGF0ZVxuXG5cdFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcblxuXG5cblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25SZW5kZXJlZCA9ICgpLT5cblx0IyB0ID0gdGhpcztcblxuXHQjdC5zdWJzY3JpYmUgXCJpbnN0YW5jZV9kYXRhXCIsIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSwgLT5cblx0IyAgICBUcmFja2VyLmFmdGVyRmx1c2ggLT5cblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgIWluc3RhbmNlXG5cdFx0cmV0dXJuO1xuXG5cdCMkKFwiI2luc19hcHBsaWNhbnRcIikuc2VsZWN0MigpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHQjJChcIiNpbnNfYXBwbGljYW50XCIpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuXHQkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpWzBdPy5kYXRhc2V0LnZhbHVlcyA9IGluc3RhbmNlLmFwcGxpY2FudDtcblx0JChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKS52YWwoaW5zdGFuY2UuYXBwbGljYW50X25hbWUpXG5cblxuXHRBcHByb3ZlTWFuYWdlci5lcnJvciA9IHtuZXh0U3RlcHM6ICcnLCBuZXh0U3RlcFVzZXJzOiAnJ307XG5cblx0IyBpbnN0YW5jZSBmcm9t57uR5a6a5LqL5Lu2XG5cdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2RyYWZ0J1xuXHRcdEluc3RhbmNlRXZlbnQuaW5pdEV2ZW50cyhpbnN0YW5jZS5mbG93KTtcblxuXHRpZiAhQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXG5cblx0XHRjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuXG5cblx0XHRpbnN0YW5jZU51bWJlckZpZWxkcyA9ICQoXCJbZGF0YS1mb3JtdWxhXVwiLCAkKFwiI2luc3RhbmNlZm9ybVwiKSlcblxuXHRcdGluc3RhbmNlTnVtYmVyRmllbGRzLmVhY2ggKCktPlxuXHRcdFx0c2NoZW1hS2V5ID0gdGhpcy5kYXRhc2V0LnNjaGVtYUtleVxuXHRcdFx0ZWxlbWVudCA9ICQodGhpcylcblx0XHRcdGlmICEkKHRoaXMpLnZhbCgpICYmIHNjaGVtYUtleSAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIilcblx0XHRcdFx0TWV0ZW9yLmNhbGwgJ2dldEluc3RhbmNlVmFsdWVzJywgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpLCAoZXJyb3IsIHJlc3VsdCktPlxuXHRcdFx0XHRcdGlmIGVycm9yXG5cdFx0XHRcdFx0XHR0b2FzdHIuZXJyb3IoZXJyb3IucmVhc29uKVxuXG5cdFx0XHRcdFx0aWYgIXJlc3VsdFtzY2hlbWFLZXldXG5cdFx0XHRcdFx0XHRrZXkgPSBlbGVtZW50LmRhdGEoXCJmb3JtdWxhXCIpPy5yZXBsYWNlKFwiYXV0b19udW1iZXIoXCIsIFwiXCIpLnJlcGxhY2UoXCIpXCIsIFwiXCIpXG5cblx0XHRcdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFwiL2csIFwiXCIpLnJlcGxhY2UoL1xcJy9nLCBcIlwiKVxuXG5cdFx0XHRcdFx0XHRpZiBrZXkuaW5kZXhPZihcIntcIikgPiAtMVxuXHRcdFx0XHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXG5cdFx0XHRcdFx0XHRcdGtleSA9IGtleS50cmltKClcblx0XHRcdFx0XHRcdFx0a2V5ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShrZXksICdpbnN0YW5jZWZvcm0nKVxuXHRcdFx0XHRcdFx0SW5zdGFuY2VOdW1iZXJSdWxlcy5pbnN0YW5jZU51bWJlckJ1aWxkZXIgZWxlbWVudCwga2V5XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0ZWxlbWVudD8udmFsKHJlc3VsdFtzY2hlbWFLZXldKS50cmlnZ2VyKFwiY2hhbmdlXCIpXG5cblx0XHRqdWRnZSA9IGN1cnJlbnRBcHByb3ZlLmp1ZGdlXG5cdFx0Y3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXG5cdFx0Zm9ybXVsYV9maWVsZHMgPSBGb3JtX2Zvcm11bGEuZ2V0Rm9ybXVsYUZpZWxkVmFyaWFibGUoXCJGb3JtX2Zvcm11bGEuZmllbGRfdmFsdWVzXCIsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuXHRcdEZvcm1fZm9ybXVsYS5ydW4oXCJcIiwgXCJcIiwgZm9ybXVsYV9maWVsZHMsIEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcblx0XHQj5Zyo5q2k5aSE5Yid5aeL5YyWc2Vzc2lvbiDkuK3nmoQgZm9ybV92YWx1ZXMg5Y+Y6YeP77yM55So5LqO6Kem5Y+R5LiL5LiA5q2l5q2l6aqk6K6h566XXG5cdFx0U2Vzc2lvbi5zZXQoXCJpbnN0YW5jZV9mb3JtX3ZhbHVlc1wiLCB7aW5zdGFuY2VJZDogaW5zdGFuY2UuX2lkLCB2YWx1ZXM6IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jfSk7XG5cblxuXG4iLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzID0ge1xuICBhcHBsaWNhbnRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSwgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgZGF0YSA9IHtcbiAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgIGF0dHM6IHtcbiAgICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBpZDogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBcImNsYXNzXCI6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J1xuICAgICAgfSxcbiAgICAgIHZhbHVlOiBzdGVlZG9zX2luc3RhbmNlLmFwcGxpY2FudF9uYW1lXG4gICAgfTtcbiAgICBpZiAoIXN0ZWVkb3NfaW5zdGFuY2UgfHwgc3RlZWRvc19pbnN0YW5jZS5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICBkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfSxcbiAgaW5zdGFuY2VJZDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICdpbnN0YW5jZWZvcm0nO1xuICB9LFxuICBmb3JtX3R5cGVzOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpKSB7XG4gICAgICByZXR1cm4gJ2Rpc2FibGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdtZXRob2QnO1xuICAgIH1cbiAgfSxcbiAgc3RlZWRvc19mb3JtOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgICB9XG4gIH0sXG4gIGlubmVyc3ViZm9ybUNvbnRleHQ6IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBkb2NfdmFsdWVzO1xuICAgIGRvY192YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgb2JqW1widGFibGVWYWx1ZXNcIl0gPSBkb2NfdmFsdWVzID8gZG9jX3ZhbHVlc1tvYmouY29kZV0gOiBbXTtcbiAgICBvYmpbXCJmb3JtSWRcIl0gPSBcImluc3RhbmNlZm9ybVwiO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGluc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpO1xuICAgIGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuICAgIH1cbiAgfSxcbiAgZW1wdHk6IGZ1bmN0aW9uKHZhbCkge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICB1bmVtcHR5OiBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIHVuZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuICEoYSA9PT0gYik7XG4gIH0sXG4gIGluY2x1ZGVzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgaW5jbHVkZTogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG4gIH0sXG4gIGZpZWxkczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG4gICAgfVxuICB9LFxuICBmb3JtYXREYXRlOiBmdW5jdGlvbihkYXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFkYXRlKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRpb25zID0gSlNPTi5wYXJzZShvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmZvcm1hdCkge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgZm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQob3B0aW9ucy5mb3JtYXQpO1xuICB9LFxuICB0cmFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmbG93LCBpbnN0YW5jZSwgbG9jYWxlLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHN0ZWVkb3NEYXRhLCBzdGVwcywgdHJhY2VzO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIHN0ZWVkb3NEYXRhID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi52aWV3KSAhPSBudWxsID8gKHJlZjIgPSByZWYxLnRlbXBsYXRlKSAhPSBudWxsID8gcmVmMi5zdGVlZG9zRGF0YSA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIGluc3RhbmNlID0gc3RlZWRvc0RhdGEgIT0gbnVsbCA/IHN0ZWVkb3NEYXRhLmluc3RhbmNlIDogdm9pZCAwO1xuICAgICAgZmxvdyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbihpbnN0YW5jZSk7XG4gICAgICBsb2NhbGUgPSBzdGVlZG9zRGF0YSAhPSBudWxsID8gc3RlZWRvc0RhdGEubG9jYWxlIDogdm9pZCAwO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGbG93VmVyc2lvbigpO1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZSB8fCAhZmxvdykge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBzdGVwcyA9IGZsb3cuc3RlcHM7XG4gICAgdHJhY2VzID0ge307XG4gICAgaWYgKChyZWYzID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsKSB7XG4gICAgICByZWYzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIGFwcHJvdmVzLCByZWY0LCBzdGVwO1xuICAgICAgICBzdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZS5zdGVwKTtcbiAgICAgICAgYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgaWYgKChyZWY0ID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwpIHtcbiAgICAgICAgICByZWY0LmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgICAgdmFyIGp1ZGdlX25hbWU7XG4gICAgICAgICAgICBpZiAodHJhY2UuaXNfZmluaXNoZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdhcHByb3ZlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIGFwcHJvdmVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlamVjdGVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAncmVhc3NpZ25lZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlYXNzaWduZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3JlbG9jYXRlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlbG9jYXRlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAnJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHBlbmRpbmdcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXBwcm92ZXMucHVzaCh7XG4gICAgICAgICAgICAgIF9pZDogYXBwcm92ZS5faWQsXG4gICAgICAgICAgICAgIGhhbmRsZXI6IGFwcHJvdmUudXNlcixcbiAgICAgICAgICAgICAgaGFuZGxlcl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfbmFtZSxcbiAgICAgICAgICAgICAgaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lLFxuICAgICAgICAgICAgICBoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSxcbiAgICAgICAgICAgICAgZmluaXNoX2RhdGU6IGFwcHJvdmUuZmluaXNoX2RhdGUsXG4gICAgICAgICAgICAgIGp1ZGdlOiBhcHByb3ZlLmp1ZGdlLFxuICAgICAgICAgICAgICBqdWRnZV9uYW1lOiBqdWRnZV9uYW1lLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYXBwcm92ZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgaXNfZmluaXNoZWQ6IGFwcHJvdmUuaXNfZmluaXNoZWQsXG4gICAgICAgICAgICAgIHR5cGU6IGFwcHJvdmUudHlwZSxcbiAgICAgICAgICAgICAgb3Bpbmlvbl9maWVsZHNfY29kZTogYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlLFxuICAgICAgICAgICAgICBzaWduX2ZpZWxkX2NvZGU6IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlLFxuICAgICAgICAgICAgICBpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWQsXG4gICAgICAgICAgICAgIHNpZ25fc2hvdzogYXBwcm92ZS5zaWduX3Nob3dcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGVwKSB7XG4gICAgICAgICAgaWYgKHN0ZXAubmFtZSBpbiB0cmFjZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFjZXNbc3RlcC5uYW1lXSA9IHRyYWNlc1tzdGVwLm5hbWVdLmNvbmNhdChhcHByb3Zlcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFjZXNbc3RlcC5uYW1lXSA9IGFwcHJvdmVzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cmFjZXM7XG4gIH0sXG4gIGRvY192YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gIH0sXG4gIGluc3RhbmNlX2JveF9zdHlsZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJveCwgaW5zLCBqdWRnZTtcbiAgICBib3ggPSBTZXNzaW9uLmdldChcImJveFwiKTtcbiAgICBpZiAoYm94ID09PSBcImluYm94XCIgfHwgYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICAgIGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKTtcbiAgICAgIGlmIChqdWRnZSkge1xuICAgICAgICBpZiAoanVkZ2UgPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoanVkZ2UgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zICYmIGlucy5maW5hbF9kZWNpc2lvbikge1xuICAgICAgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICB9IGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHRhYmxlX2ZpZWxkczogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB2YXIgZmllbGRzLCBmb3JtX3ZlcnNpb247XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XG4gICAgfVxuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIGZpZWxkcyA9IF8uY2xvbmUoZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGFmdGVyX2ZpZWxkLCBiZWZvcmVfZmllbGQsIHByZV9maWVsZHMsIHByZV93aWRlX2ZpZWxkcywgdGRfY29sc3BhbiwgdHJfZW5kLCB0cl9zdGFydDtcbiAgICAgICAgZmllbGQudHJfc3RhcnQgPSBcIlwiO1xuICAgICAgICBmaWVsZC50cl9lbmQgPSBcIlwiO1xuICAgICAgICB0ZF9jb2xzcGFuID0gMTtcbiAgICAgICAgaWYgKCh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApID09PSBmaWVsZC5jb2RlKSB7XG4gICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkLmZvcm11bGEgJiYgZmllbGQudHlwZSAhPT0gJ29kYXRhJykge1xuICAgICAgICAgIGZpZWxkLnBlcm1pc3Npb24gPSBcInJlYWRvbmx5XCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgZmllbGQudGRfY29sc3BhbiA9IDQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpZWxkLnRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggIT09IDApIHtcbiAgICAgICAgICAgIGZpZWxkLnRyX3N0YXJ0ID0gXCI8dHI+XCI7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQudHJfZW5kID0gXCI8L3RyPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmVfZmllbGRzID0gZmllbGRzLnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgICBwcmVfd2lkZV9maWVsZHMgPSBwcmVfZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfd2lkZVwiLCB0cnVlKTtcbiAgICAgICAgICB0cl9zdGFydCA9IFwiXCI7XG4gICAgICAgICAgdHJfZW5kID0gXCJcIjtcbiAgICAgICAgICBiZWZvcmVfZmllbGQgPSBudWxsO1xuICAgICAgICAgIGFmdGVyX2ZpZWxkID0gbnVsbDtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICBiZWZvcmVfZmllbGQgPSBmaWVsZHNbaW5kZXggLSAxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGluZGV4IDwgZmllbGRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGFmdGVyX2ZpZWxkID0gZmllbGRzW2luZGV4ICsgMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgdGRfY29sc3BhbiA9IDQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChmaWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGJlZm9yZV9maWVsZCAmJiBhZnRlcl9maWVsZCAmJiBiZWZvcmVfZmllbGQuaXNfd2lkZSAmJiBhZnRlcl9maWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT09IDAgJiYgYWZ0ZXJfZmllbGQgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09PSAwICYmIGFmdGVyX2ZpZWxkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGQudGRfY29sc3BhbiA9IHRkX2NvbHNwYW47XG4gICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICB0cl9zdGFydCA9IFwiPHRyPlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09PSAwIHx8IGZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgICAgICB0cl9zdGFydCA9IFwiPHRyIGNsYXNzID0gXFxcInRyLWNoaWxkLXRhYmxlXFxcIj5cIjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cl9zdGFydCA9IFwiPHRyPlwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkLnRyX3N0YXJ0ID0gdHJfc3RhcnQ7XG4gICAgICAgICAgaWYgKGluZGV4ICsgMSA9PT0gZmllbGRzLmxlbmd0aCB8fCBmaWVsZC50eXBlID09PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PT0gJ3RhYmxlJyB8fCBmaWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICB0cl9lbmQgPSBcIjwvdHI+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIHRyX2VuZCA9IFwiPC90cj5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZpZWxkLnRyX2VuZCA9IHRyX2VuZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmllbGRzO1xuICAgIH1cbiAgfSxcbiAgc29ydF9hcHByb3ZlOiBmdW5jdGlvbihhcHByb3Zlcywgb3JkZXIpIHtcbiAgICBpZiAoIWFwcHJvdmVzKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICghYXBwcm92ZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3JkZXIgPT09ICdkZXNjJykge1xuICAgICAgICBhcHByb3Zlcy5zb3J0KGZ1bmN0aW9uKHAxLCBwMikge1xuICAgICAgICAgIHZhciBfcDEsIF9wMjtcbiAgICAgICAgICBfcDEgPSAwO1xuICAgICAgICAgIF9wMiA9IDA7XG4gICAgICAgICAgaWYgKHAxLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwMi5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3AyIC0gX3AxO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcHJvdmVzLnNvcnQoZnVuY3Rpb24ocDEsIHAyKSB7XG4gICAgICAgICAgdmFyIF9wMSwgX3AyO1xuICAgICAgICAgIF9wMSA9IDA7XG4gICAgICAgICAgX3AyID0gMDtcbiAgICAgICAgICBpZiAocDEuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHAyLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcDEgLSBfcDI7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZXM7XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuICB9LFxuICBnZXRGaWVsZDogZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKTtcbiAgICB9XG4gIH0sXG4gIGdldFZhbHVlOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbiwgaW5zdGFuY2UsIGxvY2FsZSwgdXRjT2Zmc2V0LCB2YWx1ZXM7XG4gICAgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgIHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXQ7XG4gICAgdmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9O1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICB9XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSh2YWx1ZXNbY29kZV0sIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSksIGxvY2FsZSwgdXRjT2Zmc2V0KTtcbiAgfSxcbiAgZ2V0TGFiZWw6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbChmb3JtX3ZlcnNpb24uZmllbGRzLCBjb2RlKTtcbiAgfSxcbiAgZ2V0Q2ZDbGFzczogZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoKGZpZWxkICE9IG51bGwgPyBmaWVsZC50eXBlIDogdm9pZCAwKSA9PT0gXCJpbnB1dFwiICYmIChmaWVsZCAhPSBudWxsID8gZmllbGQuaXNfdGV4dGFyZWEgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gXCJjZlRleHRhcmVhXCI7XG4gICAgfVxuICB9LFxuICBnZXRUYWJsZVRoZWFkOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIGZhbHNlKTtcbiAgfSxcbiAgZ2V0VGFibGVCb2R5OiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciBpbnN0YW5jZSwgdGFibGVWYWx1ZSwgdmFsdWVzO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuICAgICAgdmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgfVxuICAgIHRhYmxlVmFsdWUgPSB2YWx1ZXNbZmllbGQuY29kZV07XG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYm9keShmaWVsZC5zZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKSwgZmllbGQsIHRhYmxlVmFsdWUsIGZhbHNlKTtcbiAgfSxcbiAgc2hvd0xhYmVsOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciB0ZW1wbGF0ZURhdGE7XG4gICAgdGVtcGxhdGVEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhO1xuICAgIGlmICh0ZW1wbGF0ZURhdGEubGFiZWwgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBpc09waW5pb25GaWVsZDogZnVuY3Rpb24oZmllbGQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZC5mb3JtdWxhKTtcbiAgfSxcbiAgaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmc6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgfSxcbiAgaW5jbHVkZXNPcGluaW9uRmllbGQ6IGZ1bmN0aW9uKGZvcm0sIGZvcm1fdmVyc2lvbikge1xuICAgIHZhciBmaWVsZF9mb3JtdWxhcywgZmllbGRzLCByZWY7XG4gICAgZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcbiAgICBmaWVsZHMgPSAoKHJlZiA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZvcm1fdmVyc2lvbixcbiAgICAgIGZvcm06IGZvcm1cbiAgICB9KSkgIT0gbnVsbCA/IHJlZi5maWVsZHMgOiB2b2lkIDApIHx8IFtdO1xuICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgIHZhciByZWYxO1xuICAgICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJyk7XG4gICAgICB9IGVsc2UgaWYgKGYudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmMSA9IGYuZmllbGRzKSAhPSBudWxsID8gcmVmMS5mb3JFYWNoKGZ1bmN0aW9uKGYxKSB7XG4gICAgICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZjEuZm9ybXVsYSk7XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZi5mb3JtdWxhKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gXy5zb21lKGZpZWxkX2Zvcm11bGFzLCBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gICAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lOiBmdW5jdGlvbihmaWVsZF9mb3JtdWxhLCB0b3Bfa2V5d29yZHMpIHtcbiAgICB2YXIgZm9vMSwgb3BpbmlvbkZpZWxkcztcbiAgICBvcGluaW9uRmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgaWYgKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSkpIHtcbiAgICAgIGlmIChmaWVsZF9mb3JtdWxhKSB7XG4gICAgICAgIGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKTtcbiAgICAgICAgZm9vMS5mb3JFYWNoKGZ1bmN0aW9uKGZvbykge1xuICAgICAgICAgIHZhciBqc29uX2Zvcm11bGEsIHJlZiwgcmVmMSwgczEsIHNmO1xuICAgICAgICAgIGpzb25fZm9ybXVsYSA9IHt9O1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBqc29uX2Zvcm11bGEgPSBldmFsKFwiKFwiICsgZm9vICsgXCIpXCIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgICAgICAgICAganNvbl9mb3JtdWxhID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChqc29uX2Zvcm11bGEgIT0gbnVsbCA/IGpzb25fZm9ybXVsYS55aWppYW5sYW4gOiB2b2lkIDApIHtcbiAgICAgICAgICAgIHNmID0ge307XG4gICAgICAgICAgICBzZi5zdGVwTmFtZSA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uc3RlcDtcbiAgICAgICAgICAgIHNmLmltYWdlX3NpZ24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLmltYWdlX3NpZ24gfHwgZmFsc2U7XG4gICAgICAgICAgICBzZi5vbmx5X2NjX29waW5pb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfY2MgfHwgZmFsc2U7XG4gICAgICAgICAgICBzZi5kZWZhdWx0X2Rlc2NyaXB0aW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbltcImRlZmF1bHRcIl07XG4gICAgICAgICAgICBzZi5vbmx5X2hhbmRsZXIgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfaGFuZGxlcjtcbiAgICAgICAgICAgIHNmLnRvcF9rZXl3b3JkcyA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4udG9wX2tleXdvcmRzIHx8IHRvcF9rZXl3b3JkcztcbiAgICAgICAgICAgIHJldHVybiBvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInt0cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgOiB2b2lkIDApID4gLTEpIHtcbiAgICAgICAgICAgIHNmID0ge1xuICAgICAgICAgICAgICBvbmx5X2NjX29waW5pb246IGZhbHNlLFxuICAgICAgICAgICAgICBpbWFnZV9zaWduOiBmYWxzZSxcbiAgICAgICAgICAgICAgdG9wX2tleXdvcmRzOiB0b3Bfa2V5d29yZHNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZm9vLmluZGV4T2YoXCJ7c2lnbmF0dXJlLlwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgIHNmLmltYWdlX3NpZ24gPSB0cnVlO1xuICAgICAgICAgICAgICBmb28gPSBmb28ucmVwbGFjZShcIntzaWduYXR1cmUuXCIsIFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgczEgPSBmb28ucmVwbGFjZShcIntcIiwgXCJcIikucmVwbGFjZShcIn1cIiwgXCJcIik7XG4gICAgICAgICAgICBpZiAoczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgc2Yuc3RlcE5hbWUgPSBzMS5zcGxpdChcIi5cIilbMV07XG4gICAgICAgICAgICAgIGlmIChvcGluaW9uRmllbGRzLmZpbHRlclByb3BlcnR5KFwic3RlcE5hbWVcIiwgc2Yuc3RlcE5hbWUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoKHJlZiA9IG9waW5pb25GaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBOYW1lXCIsIHNmLnN0ZXBOYW1lKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgcmVmLm9ubHlfY2Nfb3BpbmlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgaWYgKCgocmVmMSA9IHMxLnNwbGl0KFwiLlwiKVsyXSkgIT0gbnVsbCA/IHJlZjEudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCkgPT09ICdjYycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Yub25seV9jY19vcGluaW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcGluaW9uRmllbGRzO1xuICB9LFxuICBzaG93Q0NPcGluaW9uOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciByZWYsIHJlZjEsIHJlZjIsIHMxO1xuICAgIGlmICgoKHJlZiA9IGZpZWxkLmZvcm11bGEpICE9IG51bGwgPyByZWYuaW5kZXhPZihcInt0cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8ICgocmVmMSA9IGZpZWxkLmZvcm11bGEpICE9IG51bGwgPyByZWYxLmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgOiB2b2lkIDApID4gLTEpIHtcbiAgICAgIHMxID0gZmllbGQuZm9ybXVsYS5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIiwgXCJcIikucmVwbGFjZShcIntcIiwgXCJcIikucmVwbGFjZShcIn1cIiwgXCJcIik7XG4gICAgICBpZiAoczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgaWYgKCgocmVmMiA9IHMxLnNwbGl0KFwiLlwiKVsyXSkgIT0gbnVsbCA/IHJlZjIudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCkgPT09ICdjYycpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIG1hcmtEb3duVG9IdG1sOiBmdW5jdGlvbihtYXJrRG93blN0cmluZykge1xuICAgIHZhciByZW5kZXJlcjtcbiAgICBpZiAobWFya0Rvd25TdHJpbmcpIHtcbiAgICAgIHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG4gICAgICByZW5kZXJlci5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgICAgcmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiICsgaHJlZiArIFwiJyB0aXRsZT0nXCIgKyB0aXRsZSArIFwiJz5cIiArIHRleHQgKyBcIjwvYT5cIjtcbiAgICAgIH07XG4gICAgICByZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtcbiAgICAgICAgcmVuZGVyZXI6IHJlbmRlcmVyXG4gICAgICB9KSk7XG4gICAgfVxuICB9LFxuICBmX2xhYmVsOiBmdW5jdGlvbih0aGF0KSB7XG4gICAgcmV0dXJuIHRoYXQubmFtZSB8fCB0aGF0LmNvZGU7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5zdGVlZG9zX2Zvcm0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtX3ZlcnNpb247XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNTZWN0aW9uID0gZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSkudHlwZSA9PT0gJ3NlY3Rpb24nO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmRvY192YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zdGFuY2U7XG4gICAgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xuICAgIHJldHVybiBpbnN0YW5jZS52YWx1ZXM7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuYXBwbGljYW50Q29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBpbnN0YW5jZTtcbiAgICBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG4gICAgcmV0dXJuIGRhdGEgPSB7XG4gICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICBhdHRzOiB7XG4gICAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgaWQ6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgXCJjbGFzc1wiOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCdcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogaW5zdGFuY2UuYXBwbGljYW50X25hbWVcbiAgICB9O1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZmllbGRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvbjtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuICAgIH1cbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtX3R5cGVzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiZGlzYWJsZWRcIjtcbiAgfTtcbiAgVGVtcGxhdGUucmVnaXN0ZXJIZWxwZXIoXCJhZkZpZWxkTGFiZWxUZXh0XCIsIGZ1bmN0aW9uKG9wKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbiwgcmVmO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbChmb3JtX3ZlcnNpb24uZmllbGRzLCBvcCAhPSBudWxsID8gKHJlZiA9IG9wLmhhc2gpICE9IG51bGwgPyByZWYubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIH0pO1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLl90ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSB0aGlzLmxvY2FsZTtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc19hdHRhY2hfZG93bmxvYWRfdXJsID0gZnVuY3Rpb24oX2lkLCBhYnNvbHV0ZSkge1xuICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgcmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXCIgKyBfaWQgKyBcIj9kb3dubG9hZD10cnVlXCI7XG4gICAgfVxuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLm9wdGlvbnMgPSBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciBvcHRpb25zLCByZWYsIHJldjtcbiAgICBvcHRpb25zID0gZmllbGQgIT0gbnVsbCA/IChyZWYgPSBmaWVsZC5vcHRpb25zKSAhPSBudWxsID8gcmVmLnNwbGl0KFwiXFxuXCIpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHJldiA9IFtdO1xuICAgIGlmIChvcHRpb25zICE9IG51bGwpIHtcbiAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiByZXYucHVzaCh7XG4gICAgICAgICAgbGFiZWw6IGl0ZW0sXG4gICAgICAgICAgdmFsdWU6IGl0ZW1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldjtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmICghKChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoY29kZSkgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gXCJyZWFkb25seSBkaXNhYmxlZFwiO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfTtcbn1cblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUuZXZlbnRzID0ge1xuICAnY2hhbmdlIC5mb3JtLWNvbnRyb2wsLmNoZWNrYm94IGlucHV0LC5hZi1yYWRpby1ncm91cCBpbnB1dCwuYWYtY2hlY2tib3gtZ3JvdXAgaW5wdXQnOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpO1xuICB9LFxuICAndHlwZWFoZWFkOmNoYW5nZSAuZm9ybS1jb250cm9sJzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KTtcbiAgfSxcbiAgJ2NsaWNrIC5jZlRleHRhcmVhIGEnOiBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIFN0ZWVkb3Mub3BlbldpbmRvdyhldmVudC50YXJnZXQuaHJlZik7XG4gIH1cbn07XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uQ3JlYXRlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29tcGlsZWQsIGUsIGluc3RhbmNlLCBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlLCBpbnN0YW5jZVZpZXcsIHJlbmRlckZ1bmN0aW9uLCB0ZW1wbGF0ZTtcbiAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0ZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSk7XG4gIHRyeSB7XG4gICAgY29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7XG4gICAgICBpc0JvZHk6IHRydWVcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgZSA9IGVycm9yMTtcbiAgICBjb25zb2xlLmxvZyhcIkluc3RhbmNlIFRlbXBsYXRlIEVycm9yXCIsIGUpO1xuICAgIGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShcIlwiLCB7XG4gICAgICBpc0JvZHk6IHRydWVcbiAgICB9KTtcbiAgfVxuICByZW5kZXJGdW5jdGlvbiA9IGV2YWwoY29tcGlsZWQpO1xuICBpbnN0YW5jZVZpZXcgPSBuZXcgQmxhemUuVmlldyhcImN1c3RvbV9pbnN0YW5jZV90ZW1wbGF0ZVwiLCByZW5kZXJGdW5jdGlvbik7XG4gIGluc3RhbmNlQ3VzdG9tVGVtcGxhdGUgPSBuZXcgQmxhemUuVGVtcGxhdGUoaW5zdGFuY2VWaWV3Lm5hbWUsIHJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlID0gaW5zdGFuY2VDdXN0b21UZW1wbGF0ZTtcbiAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25SZW5kZXJlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY3VycmVudEFwcHJvdmUsIGN1cnJlbnRTdGVwLCBmb3JtX3ZlcnNpb24sIGZvcm11bGFfZmllbGRzLCBpbnN0YW5jZSwgaW5zdGFuY2VOdW1iZXJGaWVsZHMsIGp1ZGdlLCByZWY7XG4gIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKChyZWYgPSAkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpWzBdKSAhPSBudWxsKSB7XG4gICAgcmVmLmRhdGFzZXQudmFsdWVzID0gaW5zdGFuY2UuYXBwbGljYW50O1xuICB9XG4gICQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIikudmFsKGluc3RhbmNlLmFwcGxpY2FudF9uYW1lKTtcbiAgQXBwcm92ZU1hbmFnZXIuZXJyb3IgPSB7XG4gICAgbmV4dFN0ZXBzOiAnJyxcbiAgICBuZXh0U3RlcFVzZXJzOiAnJ1xuICB9O1xuICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdkcmFmdCcpIHtcbiAgICBJbnN0YW5jZUV2ZW50LmluaXRFdmVudHMoaW5zdGFuY2UuZmxvdyk7XG4gIH1cbiAgaWYgKCFBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCkpIHtcbiAgICBjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuICAgIGluc3RhbmNlTnVtYmVyRmllbGRzID0gJChcIltkYXRhLWZvcm11bGFdXCIsICQoXCIjaW5zdGFuY2Vmb3JtXCIpKTtcbiAgICBpbnN0YW5jZU51bWJlckZpZWxkcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVsZW1lbnQsIHNjaGVtYUtleTtcbiAgICAgIHNjaGVtYUtleSA9IHRoaXMuZGF0YXNldC5zY2hlbWFLZXk7XG4gICAgICBlbGVtZW50ID0gJCh0aGlzKTtcbiAgICAgIGlmICghJCh0aGlzKS52YWwoKSAmJiBzY2hlbWFLZXkgJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuY2FsbCgnZ2V0SW5zdGFuY2VWYWx1ZXMnLCBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIiksIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpIHtcbiAgICAgICAgICB2YXIga2V5LCByZWYxO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yLnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcmVzdWx0W3NjaGVtYUtleV0pIHtcbiAgICAgICAgICAgIGtleSA9IChyZWYxID0gZWxlbWVudC5kYXRhKFwiZm9ybXVsYVwiKSkgIT0gbnVsbCA/IHJlZjEucmVwbGFjZShcImF1dG9fbnVtYmVyKFwiLCBcIlwiKS5yZXBsYWNlKFwiKVwiLCBcIlwiKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9cXFwiL2csIFwiXCIpLnJlcGxhY2UoL1xcJy9nLCBcIlwiKTtcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihcIntcIikgPiAtMSkge1xuICAgICAgICAgICAgICBrZXkgPSBrZXkucmVwbGFjZShcIntcIiwgXCJcIikucmVwbGFjZShcIn1cIiwgXCJcIik7XG4gICAgICAgICAgICAgIGtleSA9IGtleS50cmltKCk7XG4gICAgICAgICAgICAgIGtleSA9IEF1dG9Gb3JtLmdldEZpZWxkVmFsdWUoa2V5LCAnaW5zdGFuY2Vmb3JtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSW5zdGFuY2VOdW1iZXJSdWxlcy5pbnN0YW5jZU51bWJlckJ1aWxkZXIoZWxlbWVudCwga2V5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQgIT0gbnVsbCA/IGVsZW1lbnQudmFsKHJlc3VsdFtzY2hlbWFLZXldKS50cmlnZ2VyKFwiY2hhbmdlXCIpIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAganVkZ2UgPSBjdXJyZW50QXBwcm92ZS5qdWRnZTtcbiAgICBjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgZm9ybXVsYV9maWVsZHMgPSBGb3JtX2Zvcm11bGEuZ2V0Rm9ybXVsYUZpZWxkVmFyaWFibGUoXCJGb3JtX2Zvcm11bGEuZmllbGRfdmFsdWVzXCIsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuICAgIEZvcm1fZm9ybXVsYS5ydW4oXCJcIiwgXCJcIiwgZm9ybXVsYV9maWVsZHMsIEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcbiAgICByZXR1cm4gU2Vzc2lvbi5zZXQoXCJpbnN0YW5jZV9mb3JtX3ZhbHVlc1wiLCB7XG4gICAgICBpbnN0YW5jZUlkOiBpbnN0YW5jZS5faWQsXG4gICAgICB2YWx1ZXM6IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jXG4gICAgfSk7XG4gIH1cbn07XG4iLCJJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzID0ge1xuXG5cdHNob3dNYWluVGl0bGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLndvcmtmbG93TWFpbkF0dGFjaFRpdGxlLmdldCgpO1xuXHR9LFxuXHRlbmFibGVkX2FkZF9tYWluX2F0dGFjaG1lbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJkcmFmdFwiICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiaW5ib3hcIikge1xuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0fVxuXG5cdFx0Ly8g5bey57uP57uT5p2f55qE5Y2V5a2Q5LiN6IO95pS56ZmE5Lu2XG5cdFx0aWYgKGlucy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHR2YXIgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG5cblx0XHRpZiAoIWN1cnJlbnRfc3RlcClcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdC8vIOWIhuWPkeeahOato+aWh+aIluiAhemZhOS7tuS4jeaYvuekuui9rOS4unBkZuaMiemSrlxuXHRcdC8vIOWmguaenOacieato+aWh+adg+mZkOWImeS4uuato+aWh++8jOWQpuWImeWIhuWPkeS4uumZhOS7tlxuXHRcdC8vIOWIhuWPkeeahOmZhOS7tuS4jeWFgeiuuOS/ruaUuSDliKDpmaQg5paw5aKe54mI5pysXG5cdFx0dmFyIG1haW5fYXR0YWNoX2NvdW50ID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5faWQsXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcblx0XHR9KS5jb3VudCgpO1xuXG5cdFx0dmFyIGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPSAwO1xuXG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcblx0XHRcdHZhciBzdGFydF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldFN0YXJ0U3RlcCgpO1xuXHRcdFx0aWYgKHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2gpIHtcblx0XHRcdFx0dmFyIGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsXG5cdFx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdFx0XHR9KS5jb3VudCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSAmJiBtYWluX2F0dGFjaF9jb3VudCA8IDEgJiYgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA8IDEpIHtcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0fVxuXG5cdFx0Ly8g5q2j5paH5pyA5aSa5Y+q6IO95pyJ5LiA5LiqXG5cdFx0aWYgKG1haW5fYXR0YWNoX2NvdW50ID49IDEgfHwgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA+PSAxKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8g5byA5aeL6IqC54K55bm25LiU6K6+572u5LqG5Y+v5Lul5LiK5Lyg5q2j5paH5omN5pi+56S65LiK5Lyg5q2j5paH55qE5oyJ6ZKuXG5cdFx0dmFyIGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuXHRcdGlmIChjdXJyZW50X3N0ZXAgJiYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PSBcInN0YXJ0XCIgJiYgY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoID09IHRydWUpXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cdFx0cmV0dXJuIGZhbHNlXG5cdH0sXG5cblx0ZW5hYmxlZF9lZGl0X25vcm1hbF9hdHRhY2htZW50OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSlcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0dmFyIGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdyk7XG5cdFx0aWYgKCFmbG93KVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblxuXHRcdC8vIOWIhuWPkeWQjueahCDpmYTku7bvvIzkuI3lj6/ku6XnvJbovpEv5Yig6Zmk77yM5Lmf5LiN6K6p5LiK5Lyg5paw55qE6ZmE5Lu2LCDmtYHnqIvliJfooajvvJrmt7vliqDlsZ7mgKcg4oCY6KKr5YiG5Y+R5ZCO5piv5ZCm5YWB6K645LiK5Lyg6ZmE5Lu24oCZICMxODM3XG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgJiYgIWZsb3cudXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJkcmFmdFwiICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiaW5ib3hcIikge1xuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0fVxuXG5cdFx0Ly8g5bey57uP57uT5p2f55qE5Y2V5a2Q5LiN6IO95pS56ZmE5Lu2XG5cdFx0aWYgKGlucy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHRpZiAoSW5zdGFuY2VNYW5hZ2VyLmlzQ0MoaW5zKSkge1xuXHRcdFx0dmFyIHN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q0NTdGVwKCk7XG5cdFx0XHRpZiAoc3RlcCAmJiAoc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHRydWUgfHwgc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHVuZGVmaW5lZCkpXG5cdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblx0XHRcdGlmIChjdXJyZW50X3N0ZXAgJiYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHRydWUgfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdW5kZWZpbmVkKSlcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2Vcblx0fSxcblxuXHRtYWluX2F0dGFjaG1lbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0dmFyIHN0YXJ0X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0U3RhcnRTdGVwKCk7XG5cblx0XHQvLyDlpoLmnpzmmK/ooqvliIblj5HnmoTnlLPor7fljZXlubbkuJTmnInkv67mlLnmraPmlofnmoTmnYPpmZDvvIzliJnkvJjlhYjmmL7npLrljp/nlLPor7fljZXmlofku7Zcblx0XHR2YXIgbWFpbl9hdHRhY2ggPSBudWxsO1xuXHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlICYmIHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSkge1xuXHRcdFx0bWFpbl9hdHRhY2ggPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLFxuXHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKCFtYWluX2F0dGFjaCkge1xuXHRcdFx0bWFpbl9hdHRhY2ggPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuX2lkLFxuXHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1haW5fYXR0YWNoO1xuXHR9LFxuXG5cdG5vcm1hbF9hdHRhY2htZW50czogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHR2YXIgc2VsZWN0b3IgPSB7XG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHtcblx0XHRcdFx0JG5lOiB0cnVlXG5cdFx0XHR9LFxuXHRcdH07XG5cblx0XHR2YXIgYXR0cyA9IG5ldyBBcnJheSgpO1xuXG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcblx0XHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNle+8jOWImeaYvuekuuWOn+eUs+ivt+WNleaWh+S7tiwg5aaC5p6c6YCJ5oup5LqG5bCG5Y6f6KGo5Y2V5a2Y5YKo5Li66ZmE5Lu25Lmf6KaB5pi+56S6LCDlkIzml7bkuZ/opoHmmL7npLrmlrDkuIrkvKDnmoTpmYTku7Zcblx0XHRcdHZhciBkZmlzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG5cdFx0XHRkZmlzLnB1c2goaW5zLl9pZCk7XG5cdFx0XHRzZWxlY3RvclsnbWV0YWRhdGEuaW5zdGFuY2UnXSA9IHtcblx0XHRcdFx0JGluOiBkZmlzXG5cdFx0XHR9O1xuXG5cblx0XHRcdHNlbGVjdG9yW1wiJG9yXCJdID0gW3tcblx0XHRcdFx0XCJtZXRhZGF0YS5pbnN0YW5jZVwiOiBpbnMuX2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdFwibWV0YWRhdGEuaW5zdGFuY2VcIjoge1xuXHRcdFx0XHRcdCRpbjogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcblx0XHRcdFx0fSxcblx0XHRcdFx0XCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcblx0XHRcdFx0XHQkbmU6IHRydWVcblx0XHRcdFx0fVxuXHRcdFx0fV1cblxuXHRcdFx0Ly8g5aaC5p6c5Y6f55Sz6K+35Y2V5pyJ5q2j5paH5L2G5piv5YiG5Y+R5ZCO5rKh5pyJ5q2j5paH5p2D6ZmQ77yM5YiZ5Y6f55Sz6K+35Y2V5q2j5paH5pi+56S65Zyo6ZmE5Lu25qCPXG5cdFx0XHR2YXIgc3RhcnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRTdGFydFN0ZXAoKTtcblx0XHRcdGlmIChzdGFydF9zdGVwICYmIHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggIT0gdHJ1ZSkge1xuXHRcdFx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcblx0XHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdFx0XHQkaW46IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlLFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKGRpc3RyaWJ1dGVfbWFpbikge1xuXHRcdFx0XHRcdHZhciBmaXJzdFZlcnNpb25NYWluID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKGRpc3RyaWJ1dGVfbWFpbi5tZXRhZGF0YS5wYXJlbnQpO1xuXHRcdFx0XHRcdGRpc3RyaWJ1dGVfbWFpbi5hdHRhY2htZW50VXBsb2FkZWRBdCA9IGZpcnN0VmVyc2lvbk1haW4gPyBmaXJzdFZlcnNpb25NYWluLnVwbG9hZGVkQXQgOiBkaXN0cmlidXRlX21haW4udXBsb2FkZWRBdDtcblx0XHRcdFx0XHRhdHRzLnB1c2goZGlzdHJpYnV0ZV9tYWluKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZWxlY3RvclsnbWV0YWRhdGEuaW5zdGFuY2UnXSA9IGlucy5faWQ7XG5cdFx0fVxuXG5cdFx0Y2ZzLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcblx0XHRcdHZhciBmaXJzdFZlcnNpb24gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoYy5tZXRhZGF0YS5wYXJlbnQpO1xuXHRcdFx0Yy5hdHRhY2htZW50VXBsb2FkZWRBdCA9IGZpcnN0VmVyc2lvbiA/IGZpcnN0VmVyc2lvbi51cGxvYWRlZEF0IDogYy51cGxvYWRlZEF0O1xuXHRcdFx0YXR0cy5wdXNoKGMpO1xuXHRcdH0pXG5cblx0XHRyZXR1cm4gXy5zb3J0QnkoYXR0cywgJ2F0dGFjaG1lbnRVcGxvYWRlZEF0Jyk7XG5cdH0sXG5cblx0c2hvd0F0dGFjaG1lbnRzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHQvLyDlpoLmnpzmmK/ooqvliIblj5HnmoTnlLPor7fljZXvvIzliJnmmL7npLrljp/nlLPor7fljZXmlofku7Yg5ZKM5YiG5Y+R5ZCO55Sz6K+35Y2V5paH5Lu2XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG5cdFx0aW5zdGFuY2VJZHMucHVzaChpbnMuX2lkKTtcblx0XHR2YXIgYXR0YWNobWVudHNfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXG5cdFx0XHR9LFxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXG5cdFx0fSkuY291bnQoKTtcblxuXHRcdGlmIChTZXNzaW9uICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSAmJiBhdHRhY2htZW50c19jb3VudCA8IDEpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gXCJpbmJveFwiIHx8IGF0dGFjaG1lbnRzX2NvdW50ID4gMClcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfdDogZnVuY3Rpb24oa2V5KSB7XG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxuXHR9LFxuXG5cdF86IGZ1bmN0aW9uKGtleSkge1xuXHRcdHZhciBsb2NhbGU7XG5cdFx0aWYgKE1ldGVvci5pc0NsaWVudCkge1xuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSk7XG5cdFx0fVxuXHR9LFxuXG59XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5fdCA9IGZ1bmN0aW9uKGtleSkge1xuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cdH1cblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5lbmFibGVkX2FkZF9tYWluX2F0dGFjaG1lbnQgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZmFsc2Vcblx0fTtcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5lbmFibGVkX2VkaXRfbm9ybWFsX2F0dGFjaG1lbnQgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZmFsc2Vcblx0fTtcblxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLm1haW5fYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNvbXBhY3QoW2luc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSwgaW5zdGFuY2UuX2lkXSk7XG5cdFx0dmFyIGF0dGFjaG1lbnQgPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXG5cdFx0XHR9LFxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gYXR0YWNobWVudDtcblx0fTtcblxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLm5vcm1hbF9hdHRhY2htZW50cyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzdGVlZG9zRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YVxuXHRcdHZhciBpbnN0YW5jZSA9IHN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY2xvbmUoaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG5cdFx0aW5zdGFuY2VJZHMucHVzaChpbnN0YW5jZS5faWQpO1xuXHRcdHZhciBhdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHtcblx0XHRcdFx0JG5lOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0JG9yOiBbe1xuXHRcdFx0XHQnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHtcblx0XHRcdFx0XHQkbmU6IHRydWVcblx0XHRcdFx0fVxuXHRcdFx0fSwge1xuXHRcdFx0XHQnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHRydWUsXG5cdFx0XHRcdFwibWV0YWRhdGEub3duZXJcIjogc3RlZWRvc0RhdGEudXNlcklkXG5cdFx0XHR9XVxuXHRcdH0pLmZldGNoKCk7XG5cblx0XHRyZXR1cm4gYXR0YWNobWVudHM7XG5cdH07XG5cblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5zaG93QXR0YWNobWVudHMgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGluc3RhbmNlLl9pZCk7XG5cblx0XHR2YXIgYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXG5cdFx0XHR9LFxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXG5cdFx0fSkuZmV0Y2goKTtcblxuXHRcdGlmIChhdHRhY2htZW50cyAmJiBhdHRhY2htZW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5zaG93TWFpblRpdGxlID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY29tcGFjdChbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLCBpbnN0YW5jZS5faWRdKTtcblx0XHR2YXIgbWFpbl9hdHRhY2hfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXG5cdFx0XHR9LFxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0fSkuY291bnQoKTtcblxuXHRcdHJldHVybiBtYWluX2F0dGFjaF9jb3VudCA+IDBcblx0fVxufVxuIiwiSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzID1cblx0c2hvdzogKHN0ZXBOYW1lKS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpZiBTZXNzaW9uLmdldCgnaW5zdGFuY2VQcmludCcpXG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXHRcdFx0aWYgSW5zdGFuY2VNYW5hZ2VyLmlzSW5ib3goKVxuXHRcdFx0XHRteUFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKVxuXHRcdFx0XHRpZiBteUFwcHJvdmVcblx0XHRcdFx0XHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdFx0XHRcdG15VHJhY2UgPSBpbnN0YW5jZT8udHJhY2VzPy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIG15QXBwcm92ZS50cmFjZSlcblx0XHRcdFx0XHRyZXR1cm4gbXlUcmFjZT8ubmFtZSA9PSBzdGVwTmFtZVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdGRlZmF1bHREZXNjcmlwdGlvbjogKCktPlxuI1x0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb24gfHwgVEFQaTE4bi5fXyhcImluc3RhbmNlX2RlZmF1bHRfb3BpbmlvblwiKVxuXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvblxuXG5cdHRyYWNlczogKCktPlxuXHRcdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKClcblxuXHR0cmFjZTogKHN0ZXBOYW1lLCBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ24sIHRvcF9rZXl3b3JkcyktPlxuXHRcdGluc3RhbmNlID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSgpXG5cblx0XHRpc19jb21wbGV0ZWQgPSBpbnN0YW5jZT8uc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxuXG5cdFx0Y29tcGxldGVkX2RhdGUgPSBpZiBpc19jb21wbGV0ZWQgdGhlbiBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKT8uZmluaXNoX2RhdGU/LmdldFRpbWUoKSBlbHNlIDBcblxuXHRcdGlmIGlzX2NvbXBsZXRlZCAmJiBpbnN0YW5jZS5maW5pc2hfZGF0ZVxuXHRcdFx0Y29tcGxldGVkX2RhdGUgPSBpbnN0YW5jZS5maW5pc2hfZGF0ZT8uZ2V0VGltZSgpXG5cblx0XHR0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpXG5cblx0XHRhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW3N0ZXBOYW1lXSlcblxuXHRcdGFwcHJvdmVfc29ydCA9IChhcHByb3ZlcywgdG9wX2tleXdvcmRzKS0+XG5cbiPlr7lBcHByb3Zlc+aOkuW6j++8jCDmjInnhafmj5DkuqTml7bpl7TmjpLlgJLluo/vvIzlpoLmnpzmsqHmnInmj5DkuqTliJnmmL7npLrlnKjmnIDkuIrovrlcblx0XHRcdGFwcHJvdmVzX3NvcnRlZCA9IF8uc29ydEJ5IGFwcHJvdmVzLCAoYXBwcm92ZSktPlxuXHRcdFx0XHRyZXR1cm4gLShhcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKVxuXG5cdFx0XHQj6YCa6L+H5YWz6ZSu5a2X5o6S5bqPXG5cdFx0XHRpZiB0b3Bfa2V5d29yZHNcblx0XHRcdFx0dG9wX2FwcHJvdmVzID0gbmV3IEFycmF5KClcblxuXHRcdFx0XHR0b3Bfa2V5d29yZHMuc3BsaXQoXCIsXCIpLmZvckVhY2ggKGtleSkgLT5cblx0XHRcdFx0XHR0b3BfYXBwcm92ZXMgPSBfLnVuaW9uIHRvcF9hcHByb3ZlcywgXy5maWx0ZXIoYXBwcm92ZXNfc29ydGVkLCAoYXBwcm92ZSktPlxuXHRcdFx0XHRcdFx0cmV0dXJuIGFwcHJvdmU/LmhhbmRsZXJfbmFtZT8uaW5kZXhPZihrZXkpID4gLTFcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCMg5a+5572u6aG25oSP6KeB5oyJ54Wn5aSE55CG5LqL5Lu25o6S5YCS5bqPXG5cdFx0XHRcdHRvcF9hcHByb3ZlcyA9IF8uc29ydEJ5IHRvcF9hcHByb3ZlcywgKHRvcF9hcHByb3ZlKS0+XG5cdFx0XHRcdFx0cmV0dXJuIC0odG9wX2FwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpXG5cblx0XHRcdFx0YXBwcm92ZXNfc29ydGVkID0gXy51bmlvbiB0b3BfYXBwcm92ZXMsIGFwcHJvdmVzX3NvcnRlZFxuXHRcdFx0cmV0dXJuIGFwcHJvdmVzX3NvcnRlZCB8fCBbXVxuXG5cdFx0YXBwcm92ZXMgPSBfLmZpbHRlciBhcHByb3ZlcywgKGEpLT5cblx0XHRcdHJldHVybiBhLnR5cGUgaXNudCBcImZvcndhcmRcIiBhbmQgYS50eXBlIGlzbnQgXCJkaXN0cmlidXRlXCIgYW5kIGEudHlwZSBpc250IFwidGVybWluYXRlZFwiXG5cblx0XHRpZiBvbmx5X2NjX29waW5pb25cblx0XHRcdGFwcHJvdmVzID0gYXBwcm92ZXM/LmZpbHRlclByb3BlcnR5KFwidHlwZVwiLCBcImNjXCIpXG5cblx0XHRhcHByb3Zlc19zb3J0ZWQgPSBhcHByb3ZlX3NvcnQoYXBwcm92ZXMsIHRvcF9rZXl3b3JkcylcblxuXHRcdGFwcHJvdmVzR3JvdXAgPSBfLmdyb3VwQnkoYXBwcm92ZXMsIFwiaGFuZGxlclwiKTtcblxuXHRcdGhhc05leHQgPSAoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgLT5cblx0XHRcdGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXVxuXHRcdFx0cmV0dXJuIF8uaW5kZXhPZihoYW5kbGVyQXBwcm92ZXMsIGFwcHJvdmUpICsgMSA8IGhhbmRsZXJBcHByb3Zlcy5sZW5ndGhcblxuXHRcdGhhdmVEZXNjcmlwdGlvbkFwcHJvdmUgPSAoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgLT5cblx0XHRcdGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXVxuXG5cdFx0XHRkZXNjcmlwdGlvbkFwcHJvdmVzID0gXy5maWx0ZXIgaGFuZGxlckFwcHJvdmVzLCAoYSktPlxuXHRcdFx0XHRpZiBhLmRlc2NyaXB0aW9uXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRcdGlmIGRlc2NyaXB0aW9uQXBwcm92ZXMubGVuZ3RoID09IDBcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRcdHJldHVybiB0cnVlXG5cblxuXHRcdGFwcHJvdmVzX3NvcnRlZC5mb3JFYWNoIChhcHByb3ZlKSAtPlxuI1x0XHRcdOaciei+k+WFpeaEj+ingSDmiJYg5pyA5paw5LiA5p2h5bm25LiU55So5oi35rKh5pyJ6L6T5YWl6L+H5oSP6KeBXG4jXHRcdFx0aWYgIWFwcHJvdmUuaXNfZmluaXNoZWQgfHwgYXBwcm92ZS5kZXNjcmlwdGlvbiB8fCAoIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgJiYgIWhhdmVEZXNjcmlwdGlvbkFwcHJvdmUoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkpXG4jXHRcdFx0aWYgIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cClcblx0XHRcdGlmIGFwcHJvdmUuc2lnbl9zaG93ICE9IGZhbHNlICYmIChhcHByb3ZlLmRlc2NyaXB0aW9uIHx8ICghYXBwcm92ZS5kZXNjcmlwdGlvbiAmJiAhaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSkgKVxuXHRcdFx0XHRpZiBhcHByb3ZlLmp1ZGdlIGlzbnQgJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdFx0YXBwcm92ZS5fZGlzcGxheSA9IHRydWVcblxuXHRcdGFwcHJvdmVzX3NvcnRlZCA9IF8uZmlsdGVyIGFwcHJvdmVzX3NvcnRlZCwgKGEpIC0+XG5cdFx0XHRpZiBpc19jb21wbGV0ZWRcblx0XHRcdFx0cmV0dXJuIGEuX2Rpc3BsYXkgPT0gdHJ1ZSAmJiBhLmlzX2ZpbmlzaGVkICYmIGEuZmluaXNoX2RhdGU/LmdldFRpbWUoKSA8PSBjb21wbGV0ZWRfZGF0ZVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gYS5fZGlzcGxheSA9PSB0cnVlXG5cblx0XHRyZXR1cm4gYXBwcm92ZXNfc29ydGVkXG5cblx0aW5jbHVkZTogKGEsIGIpIC0+XG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZShhLCBiKVxuXG5cdHVuZW1wdHk6ICh2YWwpLT5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy51bmVtcHR5KHZhbClcblxuXHRmb3JtYXREYXRlOiAoZGF0ZSwgb3B0aW9ucyktPlxuXHRcdGlmICFvcHRpb25zXG5cdFx0XHRvcHRpb25zID0ge1wiZm9ybWF0XCI6IFwiWVlZWS1NTS1ERFwifVxuXG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybWF0RGF0ZShkYXRlLCBvcHRpb25zKVxuXG5cdGlzTXlBcHByb3ZlOiAoYXBwcm92ZSwgb25seV9jY19vcGluaW9uKSAtPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cblx0XHRcdGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKClcblxuXHRcdFx0aWYgIWFwcHJvdmU/Ll9pZFxuXHRcdFx0XHRhcHByb3ZlID0gY3VycmVudEFwcHJvdmVcblxuXHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gY3VycmVudEFwcHJvdmU/Ll9pZCAmJiBjdXJyZW50QXBwcm92ZT8udHlwZSA9PSAnY2MnICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lXG5cdFx0XHRcdGlmIF8uaW5kZXhPZihjdXJyZW50QXBwcm92ZT8ub3Bpbmlvbl9maWVsZHNfY29kZSwgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpID4gLTFcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRcdGlmICEoY3VycmVudEFwcHJvdmU/LnR5cGUgPT0gJ2NjJykgJiYgb25seV9jY19vcGluaW9uXG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0XHRpZiBjdXJyZW50QXBwcm92ZSAmJiBhcHByb3ZlLl9pZCA9PSBjdXJyZW50QXBwcm92ZS5faWRcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRteUFwcHJvdmVEZXNjcmlwdGlvbjogKGFwcHJvdmVJZCktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRteUFwcHJvdmUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5teUFwcHJvdmU/LmdldCgpXG5cdFx0XHRcdGlmIG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT0gYXBwcm92ZUlkXG5cdFx0XHRcdFx0aWYgIW15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgbXlBcHByb3ZlLnNpZ25fZmllbGRfY29kZSA9PSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhPy5uYW1lXG5cdFx0XHRcdFx0XHRpZiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXG5cdFx0XHRcdFx0XHRcdHJldHVybiBteUFwcHJvdmU/LmRlc2NyaXB0aW9uIHx8IFwiXCJcblx0XHRcdFx0XHRcdHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcblxuXHRub3c6ICgpLT5cblx0XHRyZXR1cm4gbmV3IERhdGUoKTtcblxuXHRpc1JlYWRPbmx5OiAoKS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRyZXR1cm4gQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXG5cdFx0cmV0dXJuIGZhbHNlXG5cblx0aXNPcGluaW9uT2ZGaWVsZDogKGFwcHJvdmUpLT5cblx0XHRpZiBhcHByb3ZlLnR5cGUgPT0gXCJjY1wiICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lXG5cdFx0XHRpZiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSA9PSBhcHByb3ZlLnNpZ25fZmllbGRfY29kZVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcblx0XHRcdHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG5cdFx0XHRyZW5kZXJlci5saW5rID0gKGhyZWYsIHRpdGxlLCB0ZXh0KSAtPlxuXHRcdFx0XHRyZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nI3tocmVmfScgdGl0bGU9JyN7dGl0bGV9Jz4je3RleHR9PC9hPlwiXG5cdFx0XHRyZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtyZW5kZXJlcjogcmVuZGVyZXJ9KSlcblxuXHRzdGVwczogKGZpZWxkX2Zvcm11bGEsIHN0ZXAsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiktPlxuXHRcdHN0ZXBzID0gW11cblx0XHRpZiAhc3RlcFxuXHRcdFx0aWYgIWZpZWxkX2Zvcm11bGFcblx0XHRcdFx0ZmllbGRfZm9ybXVsYSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk/LmZpZWxkcz8uZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgdGhpcy5uYW1lKS5mb3JtdWxhXG5cdFx0XHRzdGVwcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lKGZpZWxkX2Zvcm11bGEsIFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGEudG9wX2tleXdvcmRzKVxuXHRcdGVsc2Vcblx0XHRcdHN0ZXBzID0gW3tzdGVwTmFtZTogc3RlcCwgb25seV9jY19vcGluaW9uOiBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ246IGltYWdlX3NpZ259XVxuXHRcdHJldHVybiBzdGVwc1xuXG5cdGltYWdlU2lnbkRhdGE6IChoYW5kbGVyKSAtPlxuXHRcdHJldHVybiB7dXNlcjogaGFuZGxlcn1cblxuXHRzaG93U2lnbkltYWdlOiAoaGFuZGxlciwgaW1hZ2Vfc2lnbikgLT5cblx0XHRzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbihoYW5kbGVyKTtcblxuXHRcdGlmIHNwYWNlVXNlclNpZ24/LnNpZ24gJiYgaW1hZ2Vfc2lnblxuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRnZXRMYXN0U2lnbkFwcHJvdmU6ICgpLT5cblx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuXHRcdHJldHVybiBfLmxhc3QoVHJhY2VzTWFuYWdlci5nZXRIYW5kbGVyU2lnblNob3dBcHByb3ZlcyBpbnMsIE1ldGVvci51c2VySWQoKSlcblxuXG5cdGxhc3RNeUFwcHJvdmVEZXNjcmlwdGlvbjogKCktPlxuXHRcdHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKClcblx0XHRjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuXHRcdGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbY3VycmVudFN0ZXAubmFtZV0pXG5cblx0XHRhcHByb3ZlcyA9IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCBNZXRlb3IudXNlcklkKCkpXG5cblx0XHRpZiBhcHByb3Zlcy5sZW5ndGggPiAxXG5cdFx0XHRyZXR1cm4gYXBwcm92ZXNbYXBwcm92ZXMubGVuZ3RoIC0gMl0/LmRlc2NyaXB0aW9uXG5cblx0XHRyZXR1cm4gXCJcIjtcblxuXHRzaG93QXBwcm92ZTogKGFwcHJvdmUpLT5cblx0XHRpZiAhYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT0gVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YT8ubmFtZVxuXHRcdFx0aWYgYXBwcm92ZT8uaXNfcmVhZFxuXHRcdFx0XHRpZiBhcHByb3ZlLmlzX2ZpbmlzaGVkXG5cdFx0XHRcdFx0cmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoYXBwcm92ZS5qdWRnZSlcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdHJldHVybiBmYWxzZTtcblxuXHRqdWRnZV9kZXNjcmlwdGlvbjogKGp1ZGdlKS0+XG5cdFx0cmV0dXJuIHQoanVkZ2UgKyBcIl9kZXNjcmlwdGlvblwiKVxuXG5cdGlzX2FwcHJvdmVkOiAoanVkZ2UpLT5cblx0XHRyZXR1cm4gXCJhcHByb3ZlZFwiID09IGp1ZGdlXG5cblx0aXNfcmVqZWN0ZWQ6IChqdWRnZSktPlxuXHRcdHJldHVybiBcInJlamVjdGVkXCIgPT0ganVkZ2VcblxuXHRpc19yZWFkZWQ6IChqdWRnZSktPlxuXHRcdHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGp1ZGdlKVxuXG5cdGFkZENsYXNzOiAoKS0+XG5cdFx0bmFtZSA9IFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGE/Lm5hbWVcblx0XHRzZXRUaW1lb3V0ICgpIC0+XG5cdFx0XHR0cnlcblx0XHRcdFx0ZWxlbWVudCA9ICQoXCIuYXV0b21hdGljLm9waW5pb24tZmllbGQtXCIgKyBuYW1lKVxuXHRcdFx0XHRpZiBlbGVtZW50Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRpZiBlbGVtZW50Py5pcyhcInRkXCIpXG5cdFx0XHRcdFx0XHRlbGVtZW50LmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0JChcIi5pbnN0YW5jZS1zaWduXCIsIGVsZW1lbnQpLmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpXG5cdFx0XHRjYXRjaCBlXG5cdFx0XHRcdGNvbnNvbGUubG9nIGVcblx0XHQsIDFcblx0XHRyZXR1cm4gJydcblxuaWYgTWV0ZW9yLmlzU2VydmVyXG5cdEluc3RhbmNlU2lnblRleHQuaGVscGVycy5kZWZhdWx0RGVzY3JpcHRpb24gPSAtPlxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb24gfHwgVEFQaTE4bi5fXyhcImluc3RhbmNlX2RlZmF1bHRfb3BpbmlvblwiLCB7fSwgbG9jYWxlKSIsIkluc3RhbmNlU2lnblRleHQuaGVscGVycyA9IHtcbiAgc2hvdzogZnVuY3Rpb24oc3RlcE5hbWUpIHtcbiAgICB2YXIgaW5zdGFuY2UsIG15QXBwcm92ZSwgbXlUcmFjZSwgcmVmO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldCgnaW5zdGFuY2VQcmludCcpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChJbnN0YW5jZU1hbmFnZXIuaXNJbmJveCgpKSB7XG4gICAgICAgIG15QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuICAgICAgICBpZiAobXlBcHByb3ZlKSB7XG4gICAgICAgICAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICBteVRyYWNlID0gaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCBteUFwcHJvdmUudHJhY2UpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgIHJldHVybiAobXlUcmFjZSAhPSBudWxsID8gbXlUcmFjZS5uYW1lIDogdm9pZCAwKSA9PT0gc3RlcE5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBkZWZhdWx0RGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbjtcbiAgfSxcbiAgdHJhY2VzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKTtcbiAgfSxcbiAgdHJhY2U6IGZ1bmN0aW9uKHN0ZXBOYW1lLCBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ24sIHRvcF9rZXl3b3Jkcykge1xuICAgIHZhciBhcHByb3ZlX3NvcnQsIGFwcHJvdmVzLCBhcHByb3Zlc0dyb3VwLCBhcHByb3Zlc19zb3J0ZWQsIGNvbXBsZXRlZF9kYXRlLCBoYXNOZXh0LCBoYXZlRGVzY3JpcHRpb25BcHByb3ZlLCBpbnN0YW5jZSwgaXNfY29tcGxldGVkLCByZWYsIHJlZjEsIHJlZjIsIHRyYWNlcztcbiAgICBpbnN0YW5jZSA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zdGFuY2UoKTtcbiAgICBpc19jb21wbGV0ZWQgPSAoaW5zdGFuY2UgIT0gbnVsbCA/IGluc3RhbmNlLnN0YXRlIDogdm9pZCAwKSA9PT0gXCJjb21wbGV0ZWRcIjtcbiAgICBjb21wbGV0ZWRfZGF0ZSA9IGlzX2NvbXBsZXRlZCA/IChyZWYgPSBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmZpbmlzaF9kYXRlKSAhPSBudWxsID8gcmVmMS5nZXRUaW1lKCkgOiB2b2lkIDAgOiB2b2lkIDAgOiAwO1xuICAgIGlmIChpc19jb21wbGV0ZWQgJiYgaW5zdGFuY2UuZmluaXNoX2RhdGUpIHtcbiAgICAgIGNvbXBsZXRlZF9kYXRlID0gKHJlZjIgPSBpbnN0YW5jZS5maW5pc2hfZGF0ZSkgIT0gbnVsbCA/IHJlZjIuZ2V0VGltZSgpIDogdm9pZCAwO1xuICAgIH1cbiAgICB0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpO1xuICAgIGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbc3RlcE5hbWVdKTtcbiAgICBhcHByb3ZlX3NvcnQgPSBmdW5jdGlvbihhcHByb3ZlcywgdG9wX2tleXdvcmRzKSB7XG4gICAgICB2YXIgYXBwcm92ZXNfc29ydGVkLCB0b3BfYXBwcm92ZXM7XG4gICAgICBhcHByb3Zlc19zb3J0ZWQgPSBfLnNvcnRCeShhcHByb3ZlcywgZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICByZXR1cm4gLShhcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRvcF9rZXl3b3Jkcykge1xuICAgICAgICB0b3BfYXBwcm92ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdG9wX2tleXdvcmRzLnNwbGl0KFwiLFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHJldHVybiB0b3BfYXBwcm92ZXMgPSBfLnVuaW9uKHRvcF9hcHByb3ZlcywgXy5maWx0ZXIoYXBwcm92ZXNfc29ydGVkLCBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgICB2YXIgcmVmMztcbiAgICAgICAgICAgIHJldHVybiAoYXBwcm92ZSAhPSBudWxsID8gKHJlZjMgPSBhcHByb3ZlLmhhbmRsZXJfbmFtZSkgIT0gbnVsbCA/IHJlZjMuaW5kZXhPZihrZXkpIDogdm9pZCAwIDogdm9pZCAwKSA+IC0xO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRvcF9hcHByb3ZlcyA9IF8uc29ydEJ5KHRvcF9hcHByb3ZlcywgZnVuY3Rpb24odG9wX2FwcHJvdmUpIHtcbiAgICAgICAgICByZXR1cm4gLSh0b3BfYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBhcHByb3Zlc19zb3J0ZWQgPSBfLnVuaW9uKHRvcF9hcHByb3ZlcywgYXBwcm92ZXNfc29ydGVkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcHByb3Zlc19zb3J0ZWQgfHwgW107XG4gICAgfTtcbiAgICBhcHByb3ZlcyA9IF8uZmlsdGVyKGFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gYS50eXBlICE9PSBcImZvcndhcmRcIiAmJiBhLnR5cGUgIT09IFwiZGlzdHJpYnV0ZVwiICYmIGEudHlwZSAhPT0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgfSk7XG4gICAgaWYgKG9ubHlfY2Nfb3Bpbmlvbikge1xuICAgICAgYXBwcm92ZXMgPSBhcHByb3ZlcyAhPSBudWxsID8gYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJ0eXBlXCIsIFwiY2NcIikgOiB2b2lkIDA7XG4gICAgfVxuICAgIGFwcHJvdmVzX3NvcnRlZCA9IGFwcHJvdmVfc29ydChhcHByb3ZlcywgdG9wX2tleXdvcmRzKTtcbiAgICBhcHByb3Zlc0dyb3VwID0gXy5ncm91cEJ5KGFwcHJvdmVzLCBcImhhbmRsZXJcIik7XG4gICAgaGFzTmV4dCA9IGZ1bmN0aW9uKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIHtcbiAgICAgIHZhciBoYW5kbGVyQXBwcm92ZXM7XG4gICAgICBoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl07XG4gICAgICByZXR1cm4gXy5pbmRleE9mKGhhbmRsZXJBcHByb3ZlcywgYXBwcm92ZSkgKyAxIDwgaGFuZGxlckFwcHJvdmVzLmxlbmd0aDtcbiAgICB9O1xuICAgIGhhdmVEZXNjcmlwdGlvbkFwcHJvdmUgPSBmdW5jdGlvbihhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSB7XG4gICAgICB2YXIgZGVzY3JpcHRpb25BcHByb3ZlcywgaGFuZGxlckFwcHJvdmVzO1xuICAgICAgaGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdO1xuICAgICAgZGVzY3JpcHRpb25BcHByb3ZlcyA9IF8uZmlsdGVyKGhhbmRsZXJBcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICBpZiAoYS5kZXNjcmlwdGlvbikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGRlc2NyaXB0aW9uQXBwcm92ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgYXBwcm92ZXNfc29ydGVkLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgaWYgKGFwcHJvdmUuc2lnbl9zaG93ICE9PSBmYWxzZSAmJiAoYXBwcm92ZS5kZXNjcmlwdGlvbiB8fCAoIWFwcHJvdmUuZGVzY3JpcHRpb24gJiYgIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkpKSkge1xuICAgICAgICBpZiAoYXBwcm92ZS5qdWRnZSAhPT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICAgICAgcmV0dXJuIGFwcHJvdmUuX2Rpc3BsYXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwcm92ZXNfc29ydGVkID0gXy5maWx0ZXIoYXBwcm92ZXNfc29ydGVkLCBmdW5jdGlvbihhKSB7XG4gICAgICB2YXIgcmVmMztcbiAgICAgIGlmIChpc19jb21wbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGEuX2Rpc3BsYXkgPT09IHRydWUgJiYgYS5pc19maW5pc2hlZCAmJiAoKHJlZjMgPSBhLmZpbmlzaF9kYXRlKSAhPSBudWxsID8gcmVmMy5nZXRUaW1lKCkgOiB2b2lkIDApIDw9IGNvbXBsZXRlZF9kYXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEuX2Rpc3BsYXkgPT09IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGFwcHJvdmVzX3NvcnRlZDtcbiAgfSxcbiAgaW5jbHVkZTogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGUoYSwgYik7XG4gIH0sXG4gIHVuZW1wdHk6IGZ1bmN0aW9uKHZhbCkge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnVuZW1wdHkodmFsKTtcbiAgfSxcbiAgZm9ybWF0RGF0ZTogZnVuY3Rpb24oZGF0ZSwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgXCJmb3JtYXRcIjogXCJZWVlZLU1NLUREXCJcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZvcm1hdERhdGUoZGF0ZSwgb3B0aW9ucyk7XG4gIH0sXG4gIGlzTXlBcHByb3ZlOiBmdW5jdGlvbihhcHByb3ZlLCBvbmx5X2NjX29waW5pb24pIHtcbiAgICB2YXIgY3VycmVudEFwcHJvdmUsIGlucztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XG4gICAgICBpZiAoIShhcHByb3ZlICE9IG51bGwgPyBhcHByb3ZlLl9pZCA6IHZvaWQgMCkpIHtcbiAgICAgICAgYXBwcm92ZSA9IGN1cnJlbnRBcHByb3ZlO1xuICAgICAgfVxuICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSAoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLl9pZCA6IHZvaWQgMCkgJiYgKGN1cnJlbnRBcHByb3ZlICE9IG51bGwgPyBjdXJyZW50QXBwcm92ZS50eXBlIDogdm9pZCAwKSA9PT0gJ2NjJyAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkge1xuICAgICAgICBpZiAoXy5pbmRleE9mKGN1cnJlbnRBcHByb3ZlICE9IG51bGwgPyBjdXJyZW50QXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlIDogdm9pZCAwLCBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkgPiAtMSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCEoKGN1cnJlbnRBcHByb3ZlICE9IG51bGwgPyBjdXJyZW50QXBwcm92ZS50eXBlIDogdm9pZCAwKSA9PT0gJ2NjJykgJiYgb25seV9jY19vcGluaW9uKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50QXBwcm92ZSAmJiBhcHByb3ZlLl9pZCA9PT0gY3VycmVudEFwcHJvdmUuX2lkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIG15QXBwcm92ZURlc2NyaXB0aW9uOiBmdW5jdGlvbihhcHByb3ZlSWQpIHtcbiAgICB2YXIgbXlBcHByb3ZlLCByZWYsIHJlZjEsIHJlZjIsIHJlZjM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgIG15QXBwcm92ZSA9IChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjEgPSByZWYubXlBcHByb3ZlKSAhPSBudWxsID8gcmVmMS5nZXQoKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgaWYgKG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIGlmICghbXlBcHByb3ZlLnNpZ25fZmllbGRfY29kZSB8fCBteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09PSAoKHJlZjIgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjMgPSByZWYyLmRhdGEpICE9IG51bGwgPyByZWYzLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICBpZiAoIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKSkge1xuICAgICAgICAgICAgICByZXR1cm4gKG15QXBwcm92ZSAhPSBudWxsID8gbXlBcHByb3ZlLmRlc2NyaXB0aW9uIDogdm9pZCAwKSB8fCBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG5vdzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gIH0sXG4gIGlzUmVhZE9ubHk6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNPcGluaW9uT2ZGaWVsZDogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChhcHByb3ZlLnR5cGUgPT09IFwiY2NcIiAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkge1xuICAgICAgaWYgKFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lID09PSBhcHByb3ZlLnNpZ25fZmllbGRfY29kZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICBtYXJrRG93blRvSHRtbDogZnVuY3Rpb24obWFya0Rvd25TdHJpbmcpIHtcbiAgICB2YXIgcmVuZGVyZXI7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuICAgICAgcmVuZGVyZXIubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIiArIGhyZWYgKyBcIicgdGl0bGU9J1wiICsgdGl0bGUgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2E+XCI7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7XG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJlclxuICAgICAgfSkpO1xuICAgIH1cbiAgfSxcbiAgc3RlcHM6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEsIHN0ZXAsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbikge1xuICAgIHZhciByZWYsIHJlZjEsIHJlZjIsIHN0ZXBzO1xuICAgIHN0ZXBzID0gW107XG4gICAgaWYgKCFzdGVwKSB7XG4gICAgICBpZiAoIWZpZWxkX2Zvcm11bGEpIHtcbiAgICAgICAgZmllbGRfZm9ybXVsYSA9IChyZWYgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZmllbGRzKSAhPSBudWxsID8gcmVmMS5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCB0aGlzLm5hbWUpLmZvcm11bGEgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBzdGVwcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lKGZpZWxkX2Zvcm11bGEsIChyZWYyID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IHJlZjIuZGF0YS50b3Bfa2V5d29yZHMgOiB2b2lkIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGVwcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHN0ZXBOYW1lOiBzdGVwLFxuICAgICAgICAgIG9ubHlfY2Nfb3Bpbmlvbjogb25seV9jY19vcGluaW9uLFxuICAgICAgICAgIGltYWdlX3NpZ246IGltYWdlX3NpZ25cbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ZXBzO1xuICB9LFxuICBpbWFnZVNpZ25EYXRhOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXI6IGhhbmRsZXJcbiAgICB9O1xuICB9LFxuICBzaG93U2lnbkltYWdlOiBmdW5jdGlvbihoYW5kbGVyLCBpbWFnZV9zaWduKSB7XG4gICAgdmFyIHNwYWNlVXNlclNpZ247XG4gICAgc3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24oaGFuZGxlcik7XG4gICAgaWYgKChzcGFjZVVzZXJTaWduICE9IG51bGwgPyBzcGFjZVVzZXJTaWduLnNpZ24gOiB2b2lkIDApICYmIGltYWdlX3NpZ24pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBnZXRMYXN0U2lnbkFwcHJvdmU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuIF8ubGFzdChUcmFjZXNNYW5hZ2VyLmdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzKGlucywgTWV0ZW9yLnVzZXJJZCgpKSk7XG4gIH0sXG4gIGxhc3RNeUFwcHJvdmVEZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFwcHJvdmVzLCBjdXJyZW50U3RlcCwgcmVmLCB0cmFjZXM7XG4gICAgdHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKTtcbiAgICBjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuICAgIGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbY3VycmVudFN0ZXAubmFtZV0pO1xuICAgIGFwcHJvdmVzID0gYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIE1ldGVvci51c2VySWQoKSk7XG4gICAgaWYgKGFwcHJvdmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybiAocmVmID0gYXBwcm92ZXNbYXBwcm92ZXMubGVuZ3RoIC0gMl0pICE9IG51bGwgPyByZWYuZGVzY3JpcHRpb24gOiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9LFxuICBzaG93QXBwcm92ZTogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIHZhciByZWYsIHJlZjE7XG4gICAgaWYgKCFhcHByb3ZlLnNpZ25fZmllbGRfY29kZSB8fCBhcHByb3ZlLnNpZ25fZmllbGRfY29kZSA9PT0gKChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZGF0YSkgIT0gbnVsbCA/IHJlZjEubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgIGlmIChhcHByb3ZlICE9IG51bGwgPyBhcHByb3ZlLmlzX3JlYWQgOiB2b2lkIDApIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuaXNfZmluaXNoZWQpIHtcbiAgICAgICAgICByZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhhcHByb3ZlLmp1ZGdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGp1ZGdlX2Rlc2NyaXB0aW9uOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiB0KGp1ZGdlICsgXCJfZGVzY3JpcHRpb25cIik7XG4gIH0sXG4gIGlzX2FwcHJvdmVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBcImFwcHJvdmVkXCIgPT09IGp1ZGdlO1xuICB9LFxuICBpc19yZWplY3RlZDogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gXCJyZWplY3RlZFwiID09PSBqdWRnZTtcbiAgfSxcbiAgaXNfcmVhZGVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGp1ZGdlKTtcbiAgfSxcbiAgYWRkQ2xhc3M6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuYW1lLCByZWYsIHJlZjE7XG4gICAgbmFtZSA9IChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZGF0YSkgIT0gbnVsbCA/IHJlZjEubmFtZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGUsIGVsZW1lbnQ7XG4gICAgICB0cnkge1xuICAgICAgICBlbGVtZW50ID0gJChcIi5hdXRvbWF0aWMub3Bpbmlvbi1maWVsZC1cIiArIG5hbWUpO1xuICAgICAgICBpZiAoZWxlbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKGVsZW1lbnQgIT0gbnVsbCA/IGVsZW1lbnQuaXMoXCJ0ZFwiKSA6IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuYWRkQ2xhc3MoJ2ZpZWxkLWVkaXRhYmxlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAkKFwiLmluc3RhbmNlLXNpZ25cIiwgZWxlbWVudCkuYWRkQ2xhc3MoJ2ZpZWxkLWVkaXRhYmxlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTtcbiAgICAgIH1cbiAgICB9LCAxKTtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzLmRlZmF1bHREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb24gfHwgVEFQaTE4bi5fXyhcImluc3RhbmNlX2RlZmF1bHRfb3BpbmlvblwiLCB7fSwgbG9jYWxlKTtcbiAgfTtcbn1cbiIsIlRyYWNlc1RlbXBsYXRlLmhlbHBlcnMgPVxuXHRlcXVhbHM6IChhLCBiKSAtPlxuXHRcdGEgPT0gYlxuXHRlbXB0eTogKGEpIC0+XG5cdFx0aWYgYVxuXHRcdFx0YS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPCAxXG5cdFx0ZWxzZVxuXHRcdFx0dHJ1ZVxuXHR1bmVtcHR5OiAoYSkgLT5cblx0XHRpZiBhXG5cdFx0XHRhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA+IDBcblx0XHRlbHNlXG5cdFx0XHRmYWxzZVxuXG5cdGFwcGVuZDogKGEsIGIpIC0+XG5cdFx0YSArIGJcblxuXHRkYXRlRm9ybWF0OiAoZGF0ZSkgLT5cblx0XHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKSAmJiBkYXRlPy5nZXRGdWxsWWVhcigpID09IChuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKVxuXHRcdFx0XHRyZXR1cm4gJC5mb3JtYXQuZGF0ZSBuZXcgRGF0ZShkYXRlKSwgXCJNTS1kZCBISDptbVwiXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiAkLmZvcm1hdC5kYXRlIG5ldyBEYXRlKGRhdGUpLCBcInl5eXktTU0tZGQgSEg6bW1cIlxuXG5cdGdldFN0ZXBOYW1lOiAoc3RlcElkKSAtPlxuXHRcdHN0ZXAgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VTdGVwKHN0ZXBJZClcblx0XHRpZiBzdGVwXG5cdFx0XHRyZXR1cm4gc3RlcC5uYW1lXG5cdFx0bnVsbFxuXHRzaG93RGVsZXRlQnV0dG9uOiAoYXBwcm92ZWQpIC0+XG5cdFx0aWYgYXBwcm92ZWQgYW5kIGFwcHJvdmVkLnR5cGUgPT0gJ2NjJyBhbmQgYXBwcm92ZWQuZnJvbV91c2VyID09IE1ldGVvci51c2VySWQoKSBhbmQgYXBwcm92ZWQuaXNfZmluaXNoZWQgIT0gdHJ1ZSBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKVxuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRpc1Nob3dNb2RpZmljYXRpb25CdXR0b246IChhcHByb3ZlZCkgLT5cblx0XHRhcHByb3ZlX2FkbWlucyA9IE1ldGVvci5zZXR0aW5ncz8ucHVibGljPy53b3JrZmxvdz8uYXBwcm92ZV9hZG1pbnNcblx0XHRpZiBhcHByb3ZlX2FkbWlucz8ubGVuZ3RoXG5cdFx0XHRpc1Nob3cgPSBhcHByb3ZlX2FkbWlucz8uY29udGFpbnMgTWV0ZW9yLnVzZXJJZCgpXG5cdFx0dW5sZXNzIGlzU2hvd1xuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0cmV0dXJuIGFwcHJvdmVkLmhhbmRsZXIgPT0gTWV0ZW9yLnVzZXJJZCgpXG5cdGlzRWRpdGluZzogKCkgLT5cblx0XHQgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuaXNfZWRpdGluZz8uZ2V0KClcblx0aXNTaG93RGVzY3JpcHRpb246IChhcHByb3ZlZCktPlxuXHRcdCMgZGVidWdnZXJcblx0XHRpZiBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLmlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbiBhcHByb3ZlZFxuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRyZXR1cm4gYXBwcm92ZWQuZGVzY3JpcHRpb24/LnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA+IDBcblx0aXNDQzogKGFwcHJvdmVkKSAtPlxuXHRcdGlmIGFwcHJvdmVkIGFuZCBhcHByb3ZlZC50eXBlID09ICdjYydcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0ZmFsc2Vcblx0Z2V0QXBwcm92ZVN0YXR1c0ljb246IChhcHByb3ZlSnVkZ2UpIC0+XG5cdFx0I+W3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+377yM5bm25pi+56S65aSE55CG54q25oCB5Zu+5qCHXG5cdFx0YXBwcm92ZVN0YXR1c0ljb24gPSB1bmRlZmluZWRcblx0XHRzd2l0Y2ggYXBwcm92ZUp1ZGdlXG5cdFx0XHR3aGVuICdhcHByb3ZlZCdcblx0XHRcdFx0IyDlt7LmoLjlh4Zcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jaGVja21hcmstcm91bmQnXG5cdFx0XHR3aGVuICdyZWplY3RlZCdcblx0XHRcdFx0IyDlt7LpqbPlm55cblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jbG9zZS1yb3VuZCdcblx0XHRcdHdoZW4gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5raIXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLWJhbidcblx0XHRcdHdoZW4gJ3JlYXNzaWduZWQnXG5cdFx0XHRcdCMg6L2s562+5qC4XG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYW5kcm9pZC1jb250YWN0J1xuXHRcdFx0d2hlbiAncmVsb2NhdGVkJ1xuXHRcdFx0XHQjIOmHjeWumuS9jVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFycm93LXNocmluaydcblx0XHRcdHdoZW4gJ3JldHJpZXZlZCdcblx0XHRcdFx0IyDlt7Llj5blm55cblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtdW5kbydcblx0XHRcdGVsc2Vcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnJ1xuXHRcdFx0XHRicmVha1xuXHRcdGFwcHJvdmVTdGF0dXNJY29uXG5cdGdldEFwcHJvdmVTdGF0dXNUZXh0OiAoYXBwcm92ZUp1ZGdlKSAtPlxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0XHRlbHNlXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXG5cdFx0I+W3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+377yM5bm25pi+56S65aSE55CG54q25oCB5Zu+5qCHXG5cdFx0YXBwcm92ZVN0YXR1c1RleHQgPSB1bmRlZmluZWRcblx0XHRzd2l0Y2ggYXBwcm92ZUp1ZGdlXG5cdFx0XHR3aGVuICdhcHByb3ZlZCdcblx0XHRcdFx0IyDlt7LmoLjlh4Zcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZWplY3RlZCdcblx0XHRcdFx0IyDlt7LpqbPlm55cblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWplY3RlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICd0ZXJtaW5hdGVkJ1xuXHRcdFx0XHQjIOW3suWPlua2iFxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0d2hlbiAncmVhc3NpZ25lZCdcblx0XHRcdFx0IyDovaznrb7moLhcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JlbG9jYXRlZCdcblx0XHRcdFx0IyDph43lrprkvY1cblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWxvY2F0ZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0d2hlbiAncmV0cmlldmVkJ1xuXHRcdFx0XHQjIOW3suWPluWbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHJpZXZlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZXR1cm5lZCdcblx0XHRcdFx0IyDlt7LpgIDlm55cblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZXR1cm5lZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZWFkZWQnXG5cdFx0XHRcdCMg5bey6ZiFXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVhZGVkJywge30sIGxvY2FsZSlcblx0XHRcdGVsc2Vcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSAnJ1xuXHRcdFx0XHRicmVha1xuXHRcdGFwcHJvdmVTdGF0dXNUZXh0XG5cdF90OiAoa2V5KS0+XG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxuXG5cdG15QXBwcm92ZURlc2NyaXB0aW9uOiAoYXBwcm92ZUlkKS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXG5cdFx0XHRcdG15QXBwcm92ZSA9IFRlbXBsYXRlLmluc3RhbmNlKCk/Lm15QXBwcm92ZT8uZ2V0KClcblx0XHRcdFx0aWYgbXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PSBhcHByb3ZlSWRcblx0XHRcdFx0XHRpZiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXG5cdFx0XHRcdFx0XHRyZXR1cm4gbXlBcHByb3ZlPy5kZXNjcmlwdGlvbiB8fCBcIlwiXG5cdFx0XHRcdFx0cmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKVxuXHRpc0ZvcndhcmQ6IChhcHByb3ZlZCkgLT5cblx0XHRpZiBhcHByb3ZlZCBhbmQgYXBwcm92ZWQudHlwZSA9PSAnZm9yd2FyZCdcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0ZmFsc2Vcblx0c2hvd0ZvcndhcmREZWxldGVCdXR0b246IChhcHByb3ZlKSAtPlxuXHRcdGlmIGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSBpcyAwXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRpZiBhcHByb3ZlIGFuZCBhcHByb3ZlLnR5cGUgPT0gJ2ZvcndhcmQnIGFuZCBhcHByb3ZlLmZyb21fdXNlciA9PSBNZXRlb3IudXNlcklkKCkgYW5kICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgYW5kIGFwcHJvdmUuanVkZ2UgaXNudCAndGVybWluYXRlZCdcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0ZmFsc2Vcblx0bWFya0Rvd25Ub0h0bWw6IChtYXJrRG93blN0cmluZyktPlxuXHRcdGlmIG1hcmtEb3duU3RyaW5nXG5cdFx0XHRyZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuXHRcdFx0cmVuZGVyZXIubGluayA9ICggaHJlZiwgdGl0bGUsIHRleHQgKSAtPlxuXHRcdFx0XHRyZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nI3tocmVmfScgdGl0bGU9JyN7dGl0bGV9Jz4je3RleHR9PC9hPlwiXG5cdFx0XHRyZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtyZW5kZXJlcjpyZW5kZXJlcn0pKVxuXHRpc0Rpc3RyaWJ1dGU6IChhcHByb3ZlKSAtPlxuXHRcdGlmIGFwcHJvdmUgYW5kIGFwcHJvdmUudHlwZSA9PSAnZGlzdHJpYnV0ZSdcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0ZmFsc2Vcblx0c2hvd0Rpc3RyaWJ1dGVEZWxldGVCdXR0b246IChhcHByb3ZlKSAtPlxuXHRcdGlmIGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSBpcyAwXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIGFwcHJvdmUgYW5kIGFwcHJvdmUudHlwZSA9PSAnZGlzdHJpYnV0ZScgYW5kICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgYW5kIGFwcHJvdmUuanVkZ2UgaXNudCAndGVybWluYXRlZCcgYW5kIFN0ZWVkb3MuaXNMZWdhbFZlcnNpb24oJycsXCJ3b3JrZmxvdy5lbnRlcnByaXNlXCIpXG5cdFx0XHQjIOa1geeoi+euoeeQhuWRmOWSjOezu+e7n+euoeeQhuWRmO+8jOWPr+S7peaJp+ihjOS7u+S9leaDheWGteS4i+eahOaWh+S7tuWPlua2iOWIhuWPkVxuXHRcdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogYXBwcm92ZS5pbnN0YW5jZX0sIHtmaWVsZHM6IHtmbG93OiAxLCBzcGFjZTogMX19KVxuXHRcdFx0aWYgaW5zIGFuZCBpbnMuZmxvdyBhbmQgaW5zLnNwYWNlXG5cdFx0XHRcdGlmIFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIE1ldGVvci51c2VySWQoKSlcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cdFx0XHRpZiBhcHByb3ZlLmZyb21fdXNlciA9PSBNZXRlb3IudXNlcklkKClcblx0XHRcdFx0cmV0dXJuIHRydWVcblxuXHRcdGZhbHNlXG5cblx0ZmluaXNoRGF0ZVNjaGVtYTogKCkgLT5cblx0XHRpZiBTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKClcblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcblx0XHRcdFx0ZmluaXNoX2RhdGU6IHtcblx0XHRcdFx0XHRhdXRvZm9ybToge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJkYXRldGltZS1sb2NhbFwiXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRvcHRpb25hbDogZmFsc2UsXG5cdFx0XHRcdFx0dHlwZTogRGF0ZVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcblx0XHRcdFx0ZmluaXNoX2RhdGU6IHtcblx0XHRcdFx0XHRhdXRvZm9ybToge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJib290c3RyYXAtZGF0ZXRpbWVwaWNrZXJcIlxuXHRcdFx0XHRcdFx0cmVhZG9ubHk6IHRydWVcblx0XHRcdFx0XHRcdGRhdGVUaW1lUGlja2VyT3B0aW9uczp7XG5cdFx0XHRcdFx0XHRcdGZvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCIsXG5cdFx0XHRcdFx0XHRcdGlnbm9yZVJlYWRvbmx5OnRydWUsXG5cdFx0XHRcdFx0XHRcdGxvY2FsZTogU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKSxcblx0XHRcdFx0XHRcdFx0d2lkZ2V0UG9zaXRpb25pbmc6e1xuXHRcdFx0XHRcdFx0XHRcdGhvcml6b250YWw6ICdyaWdodCdcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0b3B0aW9uYWw6IGZhbHNlLFxuXHRcdFx0XHRcdHR5cGU6IERhdGVcblx0XHRcdFx0fVxuXHRcdFx0fSlcblxuXHRmaW5pc2hEYXRlVmFsdWVzOiAoKSAtPlxuXHRcdHJldHVybiB7XG5cdFx0XHRmaW5pc2hfZGF0ZTp0aGlzLmZpbmlzaF9kYXRlXG5cdFx0fTtcblxuXHQjIyNcbiAgICBcdOatpOWHveaVsOeUqOS6juaOp+WItuaYr+WQpuaYvuekunRyYWNlcyB2aWV3XG4gICAgXHR0cnVlOiDmmL7npLp0cmFjZXMgdmlldyznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI7mmK/nm7TmjqXlrprkvY3liLB0cmFjZXMgdmlld1xuICAgIFx0ZmFsc2U6IOS4jeaYvuekunRyYWNlcyB2aWV377yM562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCOLOS7pU1vZGFsIOaWueW8j+aYvuekunRyYWNlcyB2aWV3XG5cdCMjI1xuXHRzaG93VHJhY2VzVmlldzogKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxuI1x0XHRyZXR1cm4gIShJbnN0YW5jZU1hbmFnZXIuaXNUYWJsZVN0eWxlKGZvcm0pICYmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZXNPcGluaW9uRmllbGQoZm9ybSwgZm9ybV92ZXJzaW9uKSlcblxuXHRcdHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHtzcGFjZTogU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpLCBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwifSk/LnZhbHVlcyB8fCBmYWxzZVxuXG5cdFx0cmV0dXJuICFzaG93X21vZGFsX3RyYWNlc19saXN0XG5cblx0Z2V0SW5zdGFuY2VTdGF0ZVRleHQ6IChpbnN0YW5jZV9pZCktPlxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0XHRlbHNlXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHtmaWVsZHM6IHtzdGF0ZTogMSwgaXNfcmVhZDogMX19KVxuXHRcdGlmIG5vdCBpbnNcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKCdpbnN0YW5jZV9kZWxldGVkJywge30sIGxvY2FsZSlcblxuXHRcdHRleHQgPSAnJ1xuXHRcdGlmIGlucy5zdGF0ZSBpcyAnY29tcGxldGVkJ1xuXHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ2NvbXBsZXRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ3BlbmRpbmcnXG5cdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygncGVuZGluZycsIHt9LCBsb2NhbGUpXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ2RyYWZ0J1xuXHRcdFx0aWYgaW5zLmlzX3JlYWRcblx0XHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfcmVhZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX25vdF95ZXRfaGFuZGxlZCcsIHt9LCBsb2NhbGUpXG5cblx0XHRyZXR1cm4gdGV4dFxuXG5cdGdldEluc3RhbmNlU3RhdGVDb2xvcjogKGluc3RhbmNlX2lkKS0+XG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWR9LCB7ZmllbGRzOiB7c3RhdGU6IDEsIGlzX3JlYWQ6IDF9fSlcblx0XHRpZiBub3QgaW5zXG5cdFx0XHRyZXR1cm4gXCJcIlxuXG5cdFx0Y2xhID0gJydcblx0XHRpZiBpbnMuc3RhdGUgaXMgJ2RyYWZ0J1xuXHRcdFx0aWYgaW5zLmlzX3JlYWRcblx0XHRcdFx0Y2xhID0gJ2JsdWUnXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGNsYSA9ICdyZWQnXG5cdFx0cmV0dXJuIGNsYVxuXG5cdGZpcnN0VHJhY2U6IChpbmRleCktPlxuXHRcdHJldHVybiBpbmRleCBpcyAwXG5cblx0bGFzdF9kaXN0cmlidXRlX2Zyb206IChpbnN0YW5jZV9pZCktPlxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkLCBkaXN0cmlidXRlX2Zyb21faW5zdGFuY2U6IHskZXhpc3RzOiB0cnVlfX0se2ZpZWxkczp7Y3JlYXRlZDogMSwgY3JlYXRlZF9ieTogMX19KVxuXHRcdGlmIGluc1xuXHRcdFx0ZGlzX2luZm8gPSB7fVxuXHRcdFx0dXNlciA9IHt9XG5cdFx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdFx0dXNlciA9IFVVZmxvd19hcGkuZ2V0TmFtZUZvclVzZXIoaW5zLmNyZWF0ZWRfYnkpXG5cdFx0XHRlbHNlIGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0XHR1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7X2lkOiBpbnMuY3JlYXRlZF9ieX0sIHtmaWVsZHM6IHtuYW1lOiAxfX0pXG5cblx0XHRcdGlmIHVzZXIubmFtZVxuXHRcdFx0XHRkaXNfaW5mby5mcm9tX3VzZXJfbmFtZSA9IHVzZXIubmFtZVxuXHRcdFx0XHRkaXNfaW5mby5jcmVhdGVkID0gaW5zLmNyZWF0ZWRcblxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eShkaXNfaW5mbylcblx0XHRcdFx0cmV0dXJuIGRpc19pbmZvXG5cdFx0cmV0dXJuXG5cblx0aXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQ6IChhcHByb3ZlKS0+XG5cdFx0aWYgKGFwcHJvdmUudHlwZSBpcyAnY2MnIG9yIGFwcHJvdmUudHlwZSBpcyAnZGlzdHJpYnV0ZScgb3IgYXBwcm92ZS50eXBlIGlzICdmb3J3YXJkJykgYW5kIGFwcHJvdmUuanVkZ2UgaXMgJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdGp1ZGdlVGVybWluYXRlZDogKGp1ZGdlKS0+XG5cdFx0cmV0dXJuIGp1ZGdlIGlzICd0ZXJtaW5hdGVkJ1xuXG5cdGluc3RhbmNlRXhpc3RzOiAoaW5zdGFuY2VfaWQpLT5cblx0XHRyZXR1cm4gISFkYi5pbnN0YW5jZXMuZmluZChpbnN0YW5jZV9pZCkuY291bnQoKVxuXG5cdGFnZW50RGVzY3JpcHRpb246ICh1c2VyTmFtZSktPlxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0XHRlbHNlXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXG5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge3VzZXJOYW1lOiB1c2VyTmFtZX0sIGxvY2FsZSlcblx0dHJhY2VOYW1lOiAoaW5zdGFuY2VfaWQsIHRyYWNlSWQpLT5cblx0XHRyZXR1cm4gXy5maW5kKGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkLCB7ZmllbGRzOiB7dHJhY2VzOiAxfX0pPy50cmFjZXMsICh0cmFjZSktPlxuXHRcdFx0XHRcdHJldHVybiB0cmFjZS5faWQgPT0gIHRyYWNlSWRcblx0XHQpPy5uYW1lXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0VHJhY2VzVGVtcGxhdGUuaGVscGVycy5kYXRlRm9ybWF0ID0gKGRhdGUpLT5cblx0XHRpZiBkYXRlXG5cdFx0XHR1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0XG5cdFx0XHRyZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUoZGF0ZSwgdXRjT2Zmc2V0KTtcblxuXHRUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLl90ID0gKGtleSktPlxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cblx0VHJhY2VzVGVtcGxhdGUuaGVscGVycy5zaG93RGVsZXRlQnV0dG9uID0gKGFwcHJvdmVkKSAtPlxuXHRcdHJldHVybiBmYWxzZTtcblxuVHJhY2VzVGVtcGxhdGUuZXZlbnRzID1cblx0J2NsaWNrIC5jYy1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblx0XHRpZiBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyAqIDEgIT0gMVxuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAxXG5cdFx0XHQkKFwiaVwiLGV2ZW50LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwiZmEtc3BpblwiKVxuXHRcdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcblx0XHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcblx0XHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXG5cdFx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcblx0XHRcdE1ldGVvci5jYWxsICdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cblx0XHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0XHRcdGlmIGVyclxuXHRcdFx0XHRcdHRvYXN0ci5lcnJvciBlcnJcblx0XHRcdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDBcblx0XHRcdFx0XHQkKFwiaVwiLGV2ZW50LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKFwiZmEtc3BpblwiKVxuXHRcdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxuXHRcdFx0XHRcdHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJyZW1vdmVfY2NfYXBwcm92ZVwiKSk7XG5cdFx0XHRcdFx0aWYgJChcIi5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWxcIikubGVuZ3RoXG5cdFx0XHRcdFx0XHRNb2RhbC5oaWRlIFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCJcblx0XHRcdFx0cmV0dXJuXG5cdFx0XHRyZXR1cm5cblxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWNjLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHRpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKVxuXHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcblx0XHQjIENBTEwg5Yig6ZmkYXBwcm92ZeWHveaVsOOAglxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxuXHRcdE1ldGVvci5jYWxsICdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0aWYgZXJyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBlcnJcblx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJyZW1vdmVfY2NfYXBwcm92ZVwiKSk7XG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0cmV0dXJuXG5cdFx0cmV0dXJuXG5cblx0J2NsaWNrIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdE1vZGFsLnNob3cgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIiwgdGhpc1xuXG5cdCd0YXBob2xkIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdE1vZGFsLnNob3cgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIiwgdGhpc1xuXG5cdCd0YXBlbmQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0IyDkuIrov7Dplb/mjInmiZPlvIBhcHByb3Zl6K+m57uG56qX5Y+j55qE5LqL5Lu2dGFwaG9sZOS8muinpuWPkeaJk+W8gOeql+WPo+WQjueahHRvdWNoZW5k5LqL5Lu277yM6YCg5oiQ6ZW/5oyJ5omT5byA56qX5Y+j5ZCO5LiA5pS+5omL56qX5Y+j5bCx5Y+I5YWz5o6J5LqGXG5cdFx0IyDov5nph4zlj6rog73pgJrov4fpmLvmraJ0YXBlbmTkuovku7Yo5LiN5Y+v5Lul55SodG91Y2hlbmTkuovku7bvvIzlm6DkuLrkvJrlvbHlk410YXBob2xk5Yqf6IO977yM6YCg5oiQ5rKh5pyJ6ZW/5oyJ5pWI5p6c5pe25Lmf5Lya6Kem5Y+RdGFwaG9sZOS6i+S7tinlhpLms6HmnaXpgb/lhY3pl67popjjgIJcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KClcblx0XHRyZXR1cm4gZmFsc2VcblxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXG5cdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxuXHRcdHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZVxuXHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXG5cdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0TWV0ZW9yLmNhbGwgJ2ZvcndhcmRfcmVtb3ZlJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCAoZXJyLCByZXN1bHQpIC0+XG5cdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIilcblx0XHRcdGlmIGVyclxuXHRcdFx0XHR0b2FzdHIuZXJyb3IgVEFQaTE4bi5fXyhlcnIucmVhc29uKVxuXHRcdFx0aWYgcmVzdWx0ID09IHRydWVcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcImluc3RhbmNlX2FwcHJvdmVfZm9yd2FyZF9yZW1vdmVfc3VjY2Vzc1wiKSk7XG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0cmV0dXJuXG5cdFx0cmV0dXJuXG5cblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1mb3J3YXJkLWluc3RhbmNlLWxvb2snOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdGZvcndhcmRfc3BhY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkc3BhY2Vcblx0XHRmb3J3YXJkX2luc3RhbmNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZGluc3RhbmNlXG5cdFx0U3RlZWRvcy5vcGVuV2luZG93KFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGZvcndhcmRfc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZm9yd2FyZF9pbnN0YW5jZSkpXG5cblx0J2NsaWNrIC5idG4tbW9kaWZpY2F0aW9uJ1x0OiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcblx0XHR1bmxlc3MgU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpXG5cdFx0XHRUcmFja2VyLmFmdGVyRmx1c2ggLT5cblx0XHRcdFx0IyDmmL7npLrml6Xlv5fnmoTml7blgJnmiormu5rliqjmnaHlvoDkuIvnp7vngrnvvIzorqnml6XmnJ/mjqfku7bmmL7npLrlh7rkuIDpg6jliIbvvIzku6Xpgb/lhY3nlKjmiLfnnIvkuI3liLDml6XmnJ/mjqfku7Zcblx0XHRcdFx0JChcIiNpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWwgI2ZpbmlzaF9pbnB1dFwiKS5vbiBcImRwLnNob3dcIiwgKCkgLT5cblx0XHRcdFx0XHQkKFwiLm1vZGFsLWJvZHlcIikuc2Nyb2xsVG9wKDEwMClcblxuXHQnY2xpY2sgLmJ0bi1jYW5jZWxCdXQnIDogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblxuXHRcdHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcblxuXHQnY2xpY2sgLmJ0bi1zYXZlQnV0JyA6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0IyB0ZW1wbGF0ZS5pc19lZGl0aW5nLnNldCghdGVtcGxhdGUuaXNfZWRpdGluZy5nZXQoKSlcblxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXG5cdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxuXHRcdHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZVxuXHRcdG9waW5pb25faW5wdXQgPSAkKCcjb3Bpbmlvbl9pbnB1dCcpLnZhbCgpXG5cdFx0ZmluaXNoX2lucHV0ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShcImZpbmlzaF9kYXRlXCIsIFwiZmluaXNoRGF0ZUF1dG9Gb3JtXCIpXG5cblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcblx0XHRNZXRlb3IuY2FsbCAnY2hhbmdlX2FwcHJvdmVfaW5mbycsIGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgb3Bpbmlvbl9pbnB1dCwgZmluaXNoX2lucHV0LCAoZXJyLCByZXN1bHQpLT5cblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0aWYgZXJyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBUQVBpMThuLl9fKGVyci5yZWFzb24pXG5cdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxuXHRcdFx0XHR0b2FzdHIuc3VjY2Vzcyh0KFwiaW5zdGFuY2VfYXBwcm92ZV9tb2RhbF9tb2RpZmljYXRpb25zYXZlXCIpKVxuXHRcdFx0XHRNb2RhbC5oaWRlIFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCJcblx0XHRcdHJldHVyblxuXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZGlzdHJpYnV0ZS1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0TW9kYWwuYWxsb3dNdWx0aXBsZSA9IHRydWVcblx0XHRNb2RhbC5zaG93ICdjYW5jZWxfZGlzdHJpYnV0ZV9tb2RhbCdcbiIsIlRyYWNlc1RlbXBsYXRlLmhlbHBlcnMgPSB7XG4gIGVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9LFxuICBlbXB0eTogZnVuY3Rpb24oYSkge1xuICAgIGlmIChhKSB7XG4gICAgICByZXR1cm4gYS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPCAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVuZW1wdHk6IGZ1bmN0aW9uKGEpIHtcbiAgICBpZiAoYSkge1xuICAgICAgcmV0dXJuIGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgYXBwZW5kOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgKyBiO1xuICB9LFxuICBkYXRlRm9ybWF0OiBmdW5jdGlvbihkYXRlKSB7XG4gICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSAmJiAoZGF0ZSAhPSBudWxsID8gZGF0ZS5nZXRGdWxsWWVhcigpIDogdm9pZCAwKSA9PT0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpKSB7XG4gICAgICByZXR1cm4gJC5mb3JtYXQuZGF0ZShuZXcgRGF0ZShkYXRlKSwgXCJNTS1kZCBISDptbVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICQuZm9ybWF0LmRhdGUobmV3IERhdGUoZGF0ZSksIFwieXl5eS1NTS1kZCBISDptbVwiKTtcbiAgICB9XG4gIH0sXG4gIGdldFN0ZXBOYW1lOiBmdW5jdGlvbihzdGVwSWQpIHtcbiAgICB2YXIgc3RlcDtcbiAgICBzdGVwID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlU3RlcChzdGVwSWQpO1xuICAgIGlmIChzdGVwKSB7XG4gICAgICByZXR1cm4gc3RlcC5uYW1lO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgc2hvd0RlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICBpZiAoYXBwcm92ZWQgJiYgYXBwcm92ZWQudHlwZSA9PT0gJ2NjJyAmJiBhcHByb3ZlZC5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSAmJiBhcHByb3ZlZC5pc19maW5pc2hlZCAhPT0gdHJ1ZSAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc1Nob3dNb2RpZmljYXRpb25CdXR0b246IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgdmFyIGFwcHJvdmVfYWRtaW5zLCBpc1Nob3csIHJlZiwgcmVmMSwgcmVmMjtcbiAgICBhcHByb3ZlX2FkbWlucyA9IChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MpICE9IG51bGwgPyAocmVmMSA9IHJlZltcInB1YmxpY1wiXSkgIT0gbnVsbCA/IChyZWYyID0gcmVmMS53b3JrZmxvdykgIT0gbnVsbCA/IHJlZjIuYXBwcm92ZV9hZG1pbnMgOiB2b2lkIDAgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKGFwcHJvdmVfYWRtaW5zICE9IG51bGwgPyBhcHByb3ZlX2FkbWlucy5sZW5ndGggOiB2b2lkIDApIHtcbiAgICAgIGlzU2hvdyA9IGFwcHJvdmVfYWRtaW5zICE9IG51bGwgPyBhcHByb3ZlX2FkbWlucy5jb250YWlucyhNZXRlb3IudXNlcklkKCkpIDogdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoIWlzU2hvdykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZWQuaGFuZGxlciA9PT0gTWV0ZW9yLnVzZXJJZCgpO1xuICB9LFxuICBpc0VkaXRpbmc6IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZWY7XG4gICAgcmV0dXJuIChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLmlzX2VkaXRpbmcpICE9IG51bGwgPyByZWYuZ2V0KCkgOiB2b2lkIDA7XG4gIH0sXG4gIGlzU2hvd0Rlc2NyaXB0aW9uOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIHZhciByZWY7XG4gICAgaWYgKFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuaXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uKGFwcHJvdmVkKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAoKHJlZiA9IGFwcHJvdmVkLmRlc2NyaXB0aW9uKSAhPSBudWxsID8gcmVmLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA6IHZvaWQgMCkgPiAwO1xuICB9LFxuICBpc0NDOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnY2MnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBnZXRBcHByb3ZlU3RhdHVzSWNvbjogZnVuY3Rpb24oYXBwcm92ZUp1ZGdlKSB7XG4gICAgdmFyIGFwcHJvdmVTdGF0dXNJY29uO1xuICAgIGFwcHJvdmVTdGF0dXNJY29uID0gdm9pZCAwO1xuICAgIHN3aXRjaCAoYXBwcm92ZUp1ZGdlKSB7XG4gICAgICBjYXNlICdhcHByb3ZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tY2hlY2ttYXJrLXJvdW5kJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWplY3RlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tY2xvc2Utcm91bmQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Rlcm1pbmF0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdmYSBmYS1iYW4nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYXNzaWduZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFuZHJvaWQtY29udGFjdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVsb2NhdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1hcnJvdy1zaHJpbmsnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHJpZXZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLXVuZG8nO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZVN0YXR1c0ljb247XG4gIH0sXG4gIGdldEFwcHJvdmVTdGF0dXNUZXh0OiBmdW5jdGlvbihhcHByb3ZlSnVkZ2UpIHtcbiAgICB2YXIgYXBwcm92ZVN0YXR1c1RleHQsIGxvY2FsZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgYXBwcm92ZVN0YXR1c1RleHQgPSB2b2lkIDA7XG4gICAgc3dpdGNoIChhcHByb3ZlSnVkZ2UpIHtcbiAgICAgIGNhc2UgJ2FwcHJvdmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlamVjdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWplY3RlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Rlcm1pbmF0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWFzc2lnbmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVsb2NhdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWxvY2F0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZXRyaWV2ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHJpZXZlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHVybmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZXR1cm5lZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYWRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVhZGVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlU3RhdHVzVGV4dDtcbiAgfSxcbiAgX3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBUQVBpMThuLl9fKGtleSk7XG4gIH0sXG4gIG15QXBwcm92ZURlc2NyaXB0aW9uOiBmdW5jdGlvbihhcHByb3ZlSWQpIHtcbiAgICB2YXIgbXlBcHByb3ZlLCByZWYsIHJlZjE7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgIG15QXBwcm92ZSA9IChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjEgPSByZWYubXlBcHByb3ZlKSAhPSBudWxsID8gcmVmMS5nZXQoKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgaWYgKG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIGlmICghU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gKG15QXBwcm92ZSAhPSBudWxsID8gbXlBcHByb3ZlLmRlc2NyaXB0aW9uIDogdm9pZCAwKSB8fCBcIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBpc0ZvcndhcmQ6IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgaWYgKGFwcHJvdmVkICYmIGFwcHJvdmVkLnR5cGUgPT09ICdmb3J3YXJkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgc2hvd0ZvcndhcmREZWxldGVCdXR0b246IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICBpZiAoZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhcHByb3ZlICYmIGFwcHJvdmUudHlwZSA9PT0gJ2ZvcndhcmQnICYmIGFwcHJvdmUuZnJvbV91c2VyID09PSBNZXRlb3IudXNlcklkKCkgJiYgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSAmJiBhcHByb3ZlLmp1ZGdlICE9PSAndGVybWluYXRlZCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIG1hcmtEb3duVG9IdG1sOiBmdW5jdGlvbihtYXJrRG93blN0cmluZykge1xuICAgIHZhciByZW5kZXJlcjtcbiAgICBpZiAobWFya0Rvd25TdHJpbmcpIHtcbiAgICAgIHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG4gICAgICByZW5kZXJlci5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgICAgcmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiICsgaHJlZiArIFwiJyB0aXRsZT0nXCIgKyB0aXRsZSArIFwiJz5cIiArIHRleHQgKyBcIjwvYT5cIjtcbiAgICAgIH07XG4gICAgICByZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtcbiAgICAgICAgcmVuZGVyZXI6IHJlbmRlcmVyXG4gICAgICB9KSk7XG4gICAgfVxuICB9LFxuICBpc0Rpc3RyaWJ1dGU6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICBpZiAoYXBwcm92ZSAmJiBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgc2hvd0Rpc3RyaWJ1dGVEZWxldGVCdXR0b246IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUgJiYgYXBwcm92ZS50eXBlID09PSAnZGlzdHJpYnV0ZScgJiYgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSAmJiBhcHByb3ZlLmp1ZGdlICE9PSAndGVybWluYXRlZCcgJiYgU3RlZWRvcy5pc0xlZ2FsVmVyc2lvbignJywgXCJ3b3JrZmxvdy5lbnRlcnByaXNlXCIpKSB7XG4gICAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogYXBwcm92ZS5pbnN0YW5jZVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmbG93OiAxLFxuICAgICAgICAgIHNwYWNlOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGlucyAmJiBpbnMuZmxvdyAmJiBpbnMuc3BhY2UpIHtcbiAgICAgICAgaWYgKFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIE1ldGVvci51c2VySWQoKSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFwcHJvdmUuZnJvbV91c2VyID09PSBNZXRlb3IudXNlcklkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZmluaXNoRGF0ZVNjaGVtYTogZnVuY3Rpb24oKSB7XG4gICAgaWYgKFN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKSkge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xuICAgICAgICBmaW5pc2hfZGF0ZToge1xuICAgICAgICAgIGF1dG9mb3JtOiB7XG4gICAgICAgICAgICB0eXBlOiBcImRhdGV0aW1lLWxvY2FsXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgICB0eXBlOiBEYXRlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG4gICAgICAgIGZpbmlzaF9kYXRlOiB7XG4gICAgICAgICAgYXV0b2Zvcm06IHtcbiAgICAgICAgICAgIHR5cGU6IFwiYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyXCIsXG4gICAgICAgICAgICByZWFkb25seTogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGVUaW1lUGlja2VyT3B0aW9uczoge1xuICAgICAgICAgICAgICBmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwiLFxuICAgICAgICAgICAgICBpZ25vcmVSZWFkb25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgbG9jYWxlOiBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpLFxuICAgICAgICAgICAgICB3aWRnZXRQb3NpdGlvbmluZzoge1xuICAgICAgICAgICAgICAgIGhvcml6b250YWw6ICdyaWdodCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICAgIHR5cGU6IERhdGVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBmaW5pc2hEYXRlVmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmluaXNoX2RhdGU6IHRoaXMuZmluaXNoX2RhdGVcbiAgICB9O1xuICB9LFxuXG4gIC8qXG4gICAgIFx05q2k5Ye95pWw55So5LqO5o6n5Yi25piv5ZCm5pi+56S6dHJhY2VzIHZpZXdcbiAgICAgXHR0cnVlOiDmmL7npLp0cmFjZXMgdmlldyznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI7mmK/nm7TmjqXlrprkvY3liLB0cmFjZXMgdmlld1xuICAgICBcdGZhbHNlOiDkuI3mmL7npLp0cmFjZXMgdmlld++8jOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjizku6VNb2RhbCDmlrnlvI/mmL7npLp0cmFjZXMgdmlld1xuICAgKi9cbiAgc2hvd1RyYWNlc1ZpZXc6IGZ1bmN0aW9uKGZvcm0sIGZvcm1fdmVyc2lvbikge1xuICAgIHZhciByZWYsIHNob3dfbW9kYWxfdHJhY2VzX2xpc3Q7XG4gICAgc2hvd19tb2RhbF90cmFjZXNfbGlzdCA9ICgocmVmID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7XG4gICAgICBzcGFjZTogU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpLFxuICAgICAga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIlxuICAgIH0pKSAhPSBudWxsID8gcmVmLnZhbHVlcyA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgcmV0dXJuICFzaG93X21vZGFsX3RyYWNlc19saXN0O1xuICB9LFxuICBnZXRJbnN0YW5jZVN0YXRlVGV4dDogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICB2YXIgaW5zLCBsb2NhbGUsIHRleHQ7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICAgIGlmIChsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIik7XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX3JlYWQ6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuIFRBUGkxOG4uX18oJ2luc3RhbmNlX2RlbGV0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICB9XG4gICAgdGV4dCA9ICcnO1xuICAgIGlmIChpbnMuc3RhdGUgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICB0ZXh0ID0gVEFQaTE4bi5fXygnY29tcGxldGVkJywge30sIGxvY2FsZSk7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ3BlbmRpbmcnLCB7fSwgbG9jYWxlKTtcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ2RyYWZ0Jykge1xuICAgICAgaWYgKGlucy5pc19yZWFkKSB7XG4gICAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX3JlYWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX25vdF95ZXRfaGFuZGxlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfSxcbiAgZ2V0SW5zdGFuY2VTdGF0ZUNvbG9yOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBjbGEsIGlucztcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19yZWFkOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBjbGEgPSAnJztcbiAgICBpZiAoaW5zLnN0YXRlID09PSAnZHJhZnQnKSB7XG4gICAgICBpZiAoaW5zLmlzX3JlYWQpIHtcbiAgICAgICAgY2xhID0gJ2JsdWUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xhID0gJ3JlZCc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbGE7XG4gIH0sXG4gIGZpcnN0VHJhY2U6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4ID09PSAwO1xuICB9LFxuICBsYXN0X2Rpc3RyaWJ1dGVfZnJvbTogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICB2YXIgZGlzX2luZm8sIGlucywgdXNlcjtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlOiB7XG4gICAgICAgICRleGlzdHM6IHRydWVcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY3JlYXRlZDogMSxcbiAgICAgICAgY3JlYXRlZF9ieTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMpIHtcbiAgICAgIGRpc19pbmZvID0ge307XG4gICAgICB1c2VyID0ge307XG4gICAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICAgIHVzZXIgPSBVVWZsb3dfYXBpLmdldE5hbWVGb3JVc2VyKGlucy5jcmVhdGVkX2J5KTtcbiAgICAgIH0gZWxzZSBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICAgIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICBfaWQ6IGlucy5jcmVhdGVkX2J5XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHVzZXIubmFtZSkge1xuICAgICAgICBkaXNfaW5mby5mcm9tX3VzZXJfbmFtZSA9IHVzZXIubmFtZTtcbiAgICAgICAgZGlzX2luZm8uY3JlYXRlZCA9IGlucy5jcmVhdGVkO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzRW1wdHkoZGlzX2luZm8pKSB7XG4gICAgICAgIHJldHVybiBkaXNfaW5mbztcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGlzQ0NPckRpc3RyaWJ1dGVPckZvcndhcmRUZXJtaW5hdGVkOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKChhcHByb3ZlLnR5cGUgPT09ICdjYycgfHwgYXBwcm92ZS50eXBlID09PSAnZGlzdHJpYnV0ZScgfHwgYXBwcm92ZS50eXBlID09PSAnZm9yd2FyZCcpICYmIGFwcHJvdmUuanVkZ2UgPT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAganVkZ2VUZXJtaW5hdGVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBqdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnO1xuICB9LFxuICBpbnN0YW5jZUV4aXN0czogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICByZXR1cm4gISFkYi5pbnN0YW5jZXMuZmluZChpbnN0YW5jZV9pZCkuY291bnQoKTtcbiAgfSxcbiAgYWdlbnREZXNjcmlwdGlvbjogZnVuY3Rpb24odXNlck5hbWUpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICByZXR1cm4gVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge1xuICAgICAgdXNlck5hbWU6IHVzZXJOYW1lXG4gICAgfSwgbG9jYWxlKTtcbiAgfSxcbiAgdHJhY2VOYW1lOiBmdW5jdGlvbihpbnN0YW5jZV9pZCwgdHJhY2VJZCkge1xuICAgIHZhciByZWYsIHJlZjE7XG4gICAgcmV0dXJuIChyZWYgPSBfLmZpbmQoKHJlZjEgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHRyYWNlczogMVxuICAgICAgfVxuICAgIH0pKSAhPSBudWxsID8gcmVmMS50cmFjZXMgOiB2b2lkIDAsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICByZXR1cm4gdHJhY2UuX2lkID09PSB0cmFjZUlkO1xuICAgIH0pKSAhPSBudWxsID8gcmVmLm5hbWUgOiB2b2lkIDA7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5kYXRlRm9ybWF0ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHZhciB1dGNPZmZzZXQ7XG4gICAgaWYgKGRhdGUpIHtcbiAgICAgIHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXQ7XG4gICAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUoZGF0ZSwgdXRjT2Zmc2V0KTtcbiAgICB9XG4gIH07XG4gIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuX3QgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcbiAgfTtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5zaG93RGVsZXRlQnV0dG9uID0gZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG59XG5cblRyYWNlc1RlbXBsYXRlLmV2ZW50cyA9IHtcbiAgJ2NsaWNrIC5jYy1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHByb3ZlSWQsIGluc3RhbmNlSWQ7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nICogMSAhPT0gMSkge1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAxO1xuICAgICAgJChcImlcIiwgZXZlbnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJmYS1zcGluXCIpO1xuICAgICAgaW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJyk7XG4gICAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgTWV0ZW9yLmNhbGwoJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgdG9hc3RyLmVycm9yKGVycik7XG4gICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAwO1xuICAgICAgICAgICQoXCJpXCIsIGV2ZW50LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKFwiZmEtc3BpblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcbiAgICAgICAgICBpZiAoJChcIi5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWxcIikubGVuZ3RoKSB7XG4gICAgICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWNjLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZDtcbiAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICBNZXRlb3IuY2FsbCgnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0b2FzdHIuZXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcbiAgICAgICAgTW9kYWwuaGlkZShcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgJ2NsaWNrIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICByZXR1cm4gTW9kYWwuc2hvdyhcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzKTtcbiAgfSxcbiAgJ3RhcGhvbGQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHJldHVybiBNb2RhbC5zaG93KFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXMpO1xuICB9LFxuICAndGFwZW5kIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgJ2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1mb3J3YXJkLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZCwgdHJhY2VJZDtcbiAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgIHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZTtcbiAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgTWV0ZW9yLmNhbGwoJ2ZvcndhcmRfcmVtb3ZlJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0b2FzdHIuZXJyb3IoVEFQaTE4bi5fXyhlcnIucmVhc29uKSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJpbnN0YW5jZV9hcHByb3ZlX2ZvcndhcmRfcmVtb3ZlX3N1Y2Nlc3NcIikpO1xuICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtaW5zdGFuY2UtbG9vayc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBmb3J3YXJkX2luc3RhbmNlLCBmb3J3YXJkX3NwYWNlO1xuICAgIGZvcndhcmRfc3BhY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkc3BhY2U7XG4gICAgZm9yd2FyZF9pbnN0YW5jZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRpbnN0YW5jZTtcbiAgICByZXR1cm4gU3RlZWRvcy5vcGVuV2luZG93KFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGZvcndhcmRfc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZm9yd2FyZF9pbnN0YW5jZSkpO1xuICB9LFxuICAnY2xpY2sgLmJ0bi1tb2RpZmljYXRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB0ZW1wbGF0ZS5pc19lZGl0aW5nLnNldCghdGVtcGxhdGUuaXNfZWRpdGluZy5nZXQoKSk7XG4gICAgaWYgKCFTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKCkpIHtcbiAgICAgIHJldHVybiBUcmFja2VyLmFmdGVyRmx1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkKFwiI2luc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbCAjZmluaXNoX2lucHV0XCIpLm9uKFwiZHAuc2hvd1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChcIi5tb2RhbC1ib2R5XCIpLnNjcm9sbFRvcCgxMDApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgJ2NsaWNrIC5idG4tY2FuY2VsQnV0JzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcbiAgfSxcbiAgJ2NsaWNrIC5idG4tc2F2ZUJ1dCc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHByb3ZlSWQsIGZpbmlzaF9pbnB1dCwgaW5zdGFuY2VJZCwgb3Bpbmlvbl9pbnB1dCwgdHJhY2VJZDtcbiAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgIHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZTtcbiAgICBvcGluaW9uX2lucHV0ID0gJCgnI29waW5pb25faW5wdXQnKS52YWwoKTtcbiAgICBmaW5pc2hfaW5wdXQgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKFwiZmluaXNoX2RhdGVcIiwgXCJmaW5pc2hEYXRlQXV0b0Zvcm1cIik7XG4gICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgIHJldHVybiBNZXRlb3IuY2FsbCgnY2hhbmdlX2FwcHJvdmVfaW5mbycsIGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgb3Bpbmlvbl9pbnB1dCwgZmluaXNoX2lucHV0LCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0b2FzdHIuZXJyb3IoVEFQaTE4bi5fXyhlcnIucmVhc29uKSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKHQoXCJpbnN0YW5jZV9hcHByb3ZlX21vZGFsX21vZGlmaWNhdGlvbnNhdmVcIikpO1xuICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWRpc3RyaWJ1dGUtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICBNb2RhbC5hbGxvd011bHRpcGxlID0gdHJ1ZTtcbiAgICByZXR1cm4gTW9kYWwuc2hvdygnY2FuY2VsX2Rpc3RyaWJ1dGVfbW9kYWwnKTtcbiAgfVxufTtcbiIsIlJlbGF0ZWRJbnN0YW5jZXMuaGVscGVycyA9XG5cdHNob3dSZWxhdGVkSW5zdGFjZXM6IC0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRlbHNlXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXG5cdFx0aWYgaW5zPy5yZWxhdGVkX2luc3RhbmNlcyAmJiBfLmlzQXJyYXkoaW5zPy5yZWxhdGVkX2luc3RhbmNlcylcblx0XHRcdGlmIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7c3BhY2U6IDEsIG5hbWU6IDF9fSkuY291bnQoKSA+IDBcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdHJlbGF0ZWRfaW5zdGFjZXM6IC0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRlbHNlXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXG5cdFx0aWYgaW5zPy5yZWxhdGVkX2luc3RhbmNlcyAmJiBfLmlzQXJyYXkoaW5zPy5yZWxhdGVkX2luc3RhbmNlcylcblx0XHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXN9fSwge2ZpZWxkczoge3NwYWNlOiAxLCBuYW1lOiAxfX0pLmZldGNoKClcblxuXHRyZWxhdGVkX2luc3RhY2VfdXJsOiAoaW5zKSAtPlxuXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSlcblx0XHRcdHJldHVybiAnJ1xuXG5cdFx0YWJzb2x1dGUgPSBmYWxzZVxuXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGVcblx0XHRpZiBhYnNvbHV0ZVxuXHRcdFx0cmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2lucy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitpbnMuc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxuXG5cdF90OiAoa2V5KS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXG5cdFx0ZWxzZVxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxuXG5cdHNob3dfZGVsZXRlOiAoKS0+XG5cdFx0aWYgIU1ldGVvci5pc0NsaWVudFxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0ZWxzZVxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gXCJkcmFmdFwiIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0Y3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKClcblx0XHRcdFx0aWYgY3VycmVudF9zdGVwXG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB0cnVlIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHVuZGVmaW5lZClcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlIiwiUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzID0ge1xuICBzaG93UmVsYXRlZEluc3RhY2VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnMgPSB0aGlzLmluc3RhbmNlO1xuICAgIH1cbiAgICBpZiAoKGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSAmJiBfLmlzQXJyYXkoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApKSB7XG4gICAgICBpZiAoZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIHJlbGF0ZWRfaW5zdGFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IHRoaXMuaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICgoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApICYmIF8uaXNBcnJheShpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkpIHtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgIH1cbiAgfSxcbiAgcmVsYXRlZF9pbnN0YWNlX3VybDogZnVuY3Rpb24oaW5zKSB7XG4gICAgdmFyIGFic29sdXRlO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBhYnNvbHV0ZSA9IGZhbHNlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZTtcbiAgICB9XG4gICAgaWYgKGFic29sdXRlKSB7XG4gICAgICByZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBpbnMuc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgaW5zLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICB9XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgfSxcbiAgc2hvd19kZWxldGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdXJyZW50X3N0ZXA7XG4gICAgaWYgKCFNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgICAgIGlmIChjdXJyZW50X3N0ZXApIHtcbiAgICAgICAgICBpZiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09PSB0cnVlIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiIsIlJlbGF0ZWRSZWNvcmRzLmhlbHBlcnMgPVxuXHRzaG93UmVsYXRlZFJlY29yZHM6ICgpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGVsc2Vcblx0XHRcdGlucyA9IHRoaXMuaW5zdGFuY2Vcblx0XHRpZiAhaW5zXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRyZXR1cm4gIV8uaXNFbXB0eShpbnMucmVjb3JkX2lkcykiLCJSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzID0ge1xuICBzaG93UmVsYXRlZFJlY29yZHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IHRoaXMuaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhXy5pc0VtcHR5KGlucy5yZWNvcmRfaWRzKTtcbiAgfVxufTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdHNldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmU6IChpbnNfaWQsIHN0ZXBfYXBwcm92ZSktPlxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWR9LCB7ZmllbGRzOiB7c3RhdGU6IDF9fSlcblxuXHRcdGlmIGlucy5zdGF0ZSAhPSAnZHJhZnQnXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSB7X2lkOiBpbnNfaWR9LCB7JHNldDoge3N0ZXBfYXBwcm92ZTogc3RlcF9hcHByb3ZlfX0iLCJNZXRlb3IubWV0aG9kcyh7XG4gIHNldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmU6IGZ1bmN0aW9uKGluc19pZCwgc3RlcF9hcHByb3ZlKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucy5zdGF0ZSAhPT0gJ2RyYWZ0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgc3RlcF9hcHByb3ZlOiBzdGVwX2FwcHJvdmVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kcyh7XG5cblx0Z2V0X2luc3RhbmNlX2RhdGE6IGZ1bmN0aW9uIChpbnN0YW5jZV9pZCwgZm9ybUNhY2hlZCwgZmxvd0NhY2hlZCkge1xuXG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soZm9ybUNhY2hlZCwgQm9vbGVhbik7XG5cdFx0Y2hlY2soZmxvd0NhY2hlZCwgQm9vbGVhbik7XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XG5cblx0XHRpZiAoIWluc3RhbmNlKVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aW5zdGFuY2U6IG51bGxcblx0XHRcdH07XG5cblx0XHRpZiAoZm9ybUNhY2hlZCAmJiBmbG93Q2FjaGVkKVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aW5zdGFuY2U6IGluc3RhbmNlXG5cdFx0XHR9O1xuXG5cdFx0aWYgKCFmb3JtQ2FjaGVkKSB7XG5cdFx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cdFx0XHR2YXIgZm9ybV92ZXJzaW9uID0ge307XG5cdFx0XHRpZiAoZm9ybS5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pIHtcblx0XHRcdFx0Zm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGZvcm1fdmVyc2lvbiA9IF8ud2hlcmUoZm9ybS5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9ufSlbMF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cblx0XHRpZiAoIWZsb3dDYWNoZWQpIHtcblx0XHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcblx0XHRcdHZhciBmbG93X3ZlcnNpb24gPSB7fTtcblx0XHRcdGlmIChmbG93LmN1cnJlbnQuX2lkID09IGluc3RhbmNlLmZsb3dfdmVyc2lvbikge1xuXHRcdFx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Zmxvd192ZXJzaW9uID0gXy53aGVyZShmbG93Lmhpc3RvcnlzLCB7X2lkOiBpbnN0YW5jZS5mbG93X3ZlcnNpb259KVswXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aW5zdGFuY2U6IGluc3RhbmNlLFxuXHRcdFx0Zm9ybV92ZXJzaW9uOiBmb3JtX3ZlcnNpb24sXG5cdFx0XHRmbG93X3ZlcnNpb246IGZsb3dfdmVyc2lvblxuXHRcdH1cblxuXHR9XG5cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuXG5cdGRyYWZ0X3NhdmVfaW5zdGFuY2U6IGZ1bmN0aW9uIChpbnMpIHtcblx0XHRpZiAoIXRoaXMudXNlcklkKVxuXHRcdFx0cmV0dXJuO1xuXHRcdHZhciByZXN1bHQgPSB0cnVlO1xuXHRcdHZhciBzZXRPYmogPSB7fTtcblx0XHR2YXIgaW5kZXggPSAwO1xuXHRcdHZhciBpbnNfaWQgPSBpbnMuX2lkO1xuXHRcdHZhciB0cmFjZV9pZCA9IGlucy50cmFjZXNbMF0uX2lkO1xuXHRcdHZhciBhcHByb3ZlX2lkID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS5faWQ7XG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS5kZXNjcmlwdGlvbjtcblx0XHR2YXIgbmV4dF9zdGVwcyA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0ubmV4dF9zdGVwcztcblx0XHR2YXIgdmFsdWVzID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS52YWx1ZXMgfHwge307XG5cdFx0dmFyIGFwcGxpY2FudF9pZCA9IGlucy5hcHBsaWNhbnQ7XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRhcHBsaWNhbnQ6IDEsXG5cdFx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0XHRzdWJtaXR0ZXI6IDEsXG5cdFx0XHRcdHRyYWNlczogMSxcblx0XHRcdFx0Zm9ybTogMSxcblx0XHRcdFx0Zmxvd192ZXJzaW9uOiAxLFxuXHRcdFx0XHRzcGFjZTogMSxcblx0XHRcdFx0ZmxvdzogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dmFyIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG5cdFx0dmFyIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuXHRcdHZhciBmb3JtX2lkID0gaW5zdGFuY2UuZm9ybTtcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KTtcblx0XHRjdXJyZW50X3RyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0aWYgKGEuX2lkID09IGFwcHJvdmVfaWQpIHtcblx0XHRcdFx0aW5kZXggPSBpZHg7XG5cdFx0XHR9XG5cdFx0fSlcblx0XHR2YXIga2V5X3N0ciA9ICd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLic7XG5cblx0XHQvLyDliKTmlq3kuIDkuKppbnN0YW5jZeaYr+WQpuS4uuaLn+eov+eKtuaAgVxuXHRcdHZhciBjdXJyZW50X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcblx0XHRcdF9pZDogdGhpcy51c2VySWRcblx0XHR9LCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0bG9jYWxlOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIGxhbmcgPSBjdXJyZW50X3VzZXIubG9jYWxlID09ICd6aC1jbicgPyAnemgtQ04nIDogJ2VuJztcblx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VEcmFmdChpbnN0YW5jZSwgbGFuZyk7XG5cdFx0Ly8g5Yik5pat5LiA5Liq55So5oi35piv5ZCm5piv5LiA5LiqaW5zdGFuY2XnmoTmj5DkuqTogIVcblx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VTdWJtaXR0ZXIoaW5zdGFuY2UsIHRoaXMudXNlcklkKTtcblxuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XCJjdXJyZW50Ll9pZFwiOiAxLFxuXHRcdFx0XHRcImN1cnJlbnQuZm9ybV92ZXJzaW9uXCI6IDEsXG5cdFx0XHRcdFwibmFtZVwiOiAxLFxuXHRcdFx0XHRcImN1cnJlbnQuc3RlcHNcIjogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblxuXHRcdGlmIChmbG93LmN1cnJlbnQuX2lkICE9IGluc3RhbmNlLmZsb3dfdmVyc2lvbikge1xuXHRcdFx0cmVzdWx0ID0gXCJ1cGdyYWRlZFwiO1xuXHRcdFx0dmFyIHN0YXJ0X3N0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbiAocykge1xuXHRcdFx0XHRyZXR1cm4gcy5zdGVwX3R5cGUgPT0gXCJzdGFydFwiO1xuXHRcdFx0fSk7XG5cdFx0XHQvLyDmtYHnqIvlt7LljYfnuqdcblx0XHRcdHNldE9iai5mbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuX2lkO1xuXHRcdFx0c2V0T2JqLmZvcm1fdmVyc2lvbiA9IGZsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG5cdFx0XHQvLyDlrZjlhaXlvZPliY3mnIDmlrDniYhmbG935Lit5byA5aeL6IqC54K555qEc3RlcF9pZFxuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQuc3RlcFwiXSA9IHN0YXJ0X3N0ZXAuX2lkO1xuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQubmFtZVwiXSA9IHN0YXJ0X3N0ZXAubmFtZTtcblx0XHR9XG5cblx0XHRpZiAoaW5zdGFuY2UuYXBwbGljYW50ICE9IGFwcGxpY2FudF9pZCkge1xuXHRcdFx0Ly8g55Sz6K+35Lq65bey5Y+Y5o2iXG5cdFx0XHR2YXIgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoYXBwbGljYW50X2lkLCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG5hbWU6IDFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgYXBwbGljYW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0dXNlcjogYXBwbGljYW50X2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBvcmdfaWQgPSBhcHBsaWNhbnQuZmV0Y2goKVswXS5vcmdhbml6YXRpb247XG5cdFx0XHR2YXIgb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKG9yZ19pZCwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRcdGZ1bGxuYW1lOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRzZXRPYmouYXBwbGljYW50ID0gYXBwbGljYW50X2lkO1xuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9uYW1lID0gdXNlci5uYW1lO1xuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb24gPSBvcmdfaWQ7XG5cdFx0XHRzZXRPYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lID0gb3JnYW5pemF0aW9uLm5hbWU7XG5cdFx0XHRzZXRPYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG9yZ2FuaXphdGlvbi5mdWxsbmFtZTtcblxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndXNlciddID0gYXBwbGljYW50X2lkO1xuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndXNlcl9uYW1lJ10gPSB1c2VyLm5hbWU7XG5cdFx0fVxuXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzJ10gPSB2YWx1ZXM7XG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ2p1ZGdlJ10gPSAnc3VibWl0dGVkJztcblx0XHRzZXRPYmpba2V5X3N0ciArICdyZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0aWYgKHJlc3VsdCAhPSBcInVwZ3JhZGVkXCIgJiYgbmV4dF9zdGVwcykge1xuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAnbmV4dF9zdGVwcyddID0gbmV4dF9zdGVwcztcblx0XHR9XG5cblx0XHQvLyDorqHnrpfnlLPor7fljZXmoIfpophcblx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuXHRcdFx0X2lkOiBmb3JtX2lkXG5cdFx0fSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFwiY3VycmVudC5uYW1lX2ZvcnVtbGFcIjogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBuYW1lX2ZvcnVtbGEgPSBmb3JtLmN1cnJlbnQubmFtZV9mb3J1bWxhO1xuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcblx0XHRcdC8vIHZhciBpc2NyaXB0ID0gbmFtZV9mb3J1bWxhLnJlcGxhY2UoL1xcey9nLCBcIih2YWx1ZXNbJ1wiKS5yZXBsYWNlKC9cXH0vZywgXCInXSB8fCAnJylcIik7XG5cdFx0XHQvLyB2YXIgcmV2ID0gZXZhbChpc2NyaXB0KTtcblx0XHRcdHNldE9iai5uYW1lID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZU5hbWUoaW5zLCB2YWx1ZXMpO1xuXHRcdH1cblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmpcblx0XHR9KTtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdGluYm94X3NhdmVfaW5zdGFuY2U6IGZ1bmN0aW9uIChhcHByb3ZlKSB7XG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcblx0XHRcdHJldHVybjtcblxuXHRcdHZhciBzZXRPYmogPSB7fTtcblx0XHR2YXIgaW5kZXggPSAwO1xuXHRcdHZhciBpbnNfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xuXHRcdHZhciB0cmFjZV9pZCA9IGFwcHJvdmUudHJhY2U7XG5cdFx0dmFyIGFwcHJvdmVfaWQgPSBhcHByb3ZlLmlkO1xuXHRcdHZhciB2YWx1ZXMgPSBhcHByb3ZlLnZhbHVlcztcblx0XHR2YXIgbmV4dF9zdGVwcyA9IGFwcHJvdmUubmV4dF9zdGVwcztcblx0XHR2YXIgZGVzY3JpcHRpb24gPSBhcHByb3ZlLmRlc2NyaXB0aW9uO1xuXHRcdHZhciBqdWRnZSA9IGFwcHJvdmUuanVkZ2U7XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHR0cmFjZXM6IDEsXG5cdFx0XHRcdGZsb3dfdmVyc2lvbjogMSxcblx0XHRcdFx0ZmxvdzogMSxcblx0XHRcdFx0c3RhdGU6IDEsXG5cdFx0XHRcdGZvcm06IDEsXG5cdFx0XHRcdGZvcm1fdmVyc2lvbjogMSxcblx0XHRcdFx0dmFsdWVzOiAxLFxuXHRcdFx0XHRjb2RlOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuXG5cdFx0dmFyIGN1cnJlbnRfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbiAodCkge1xuXHRcdFx0cmV0dXJuIHQuX2lkID09IHRyYWNlX2lkO1xuXHRcdH0pO1xuXHRcdHZhciBjdXJyZW50X2FwcHJvdmUgPSBfLmZpbmQoY3VycmVudF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGEpIHtcblx0XHRcdHJldHVybiBhLl9pZCA9PSBhcHByb3ZlX2lkO1xuXHRcdH0pO1xuXG5cdFx0Ly8g5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrlrqHmoLjkuK3nirbmgIFcblx0XHR2YXIgY3VycmVudF91c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XG5cdFx0XHRfaWQ6IHRoaXMudXNlcklkXG5cdFx0fSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdGxvY2FsZTogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBsYW5nID0gY3VycmVudF91c2VyLmxvY2FsZSA9PSAnemgtY24nID8gJ3poLUNOJyA6ICdlbic7XG5cdFx0dHJ5IHtcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UsIGxhbmcpO1xuXHRcdFx0Ly8g5Yik5pat5LiA5LiqdHJhY2XmmK/lkKbkuLrmnKrlrozmiJDnirbmgIFcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNUcmFjZU5vdEZpbmlzaGVkKGN1cnJlbnRfdHJhY2UpO1xuXHRcdFx0Ly8g5Yik5pat5LiA5LiqYXBwcm92ZeaYr+WQpuS4uuacquWujOaIkOeKtuaAgVxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0FwcHJvdmVOb3RGaW5pc2hlZChjdXJyZW50X2FwcHJvdmUpO1xuXHRcdFx0Ly8g5Yik5pat5b2T5YmN55So5oi35piv5ZCmYXBwcm92ZSDlr7nlupTnmoTlpITnkIbkurrmiJbku6PnkIbkurpcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNIYW5kbGVyT3JBZ2VudChjdXJyZW50X2FwcHJvdmUsIHRoaXMudXNlcklkKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhlLnN0YWNrKVxuXHRcdFx0cmV0dXJuIHRydWVcblx0XHR9XG5cblxuXHRcdHZhciBmbG93X3ZlcnNpb24gPSBpbnN0YW5jZS5mbG93X3ZlcnNpb247XG5cdFx0dmFyIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuXHRcdHZhciBzdGVwX2lkID0gXCJcIjtcblx0XHRzdGVwX2lkID0gY3VycmVudF90cmFjZS5zdGVwO1xuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0Y3VycmVudDogMSxcblx0XHRcdFx0aGlzdG9yeXM6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgc3RlcCA9IG51bGw7XG5cdFx0aWYgKGZsb3cuY3VycmVudC5faWQgPT0gZmxvd192ZXJzaW9uKSB7XG5cdFx0XHRmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbiAocykge1xuXHRcdFx0XHRpZiAocy5faWQgPT0gc3RlcF9pZClcblx0XHRcdFx0XHRzdGVwID0gcztcblx0XHRcdH0pXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZsb3cuaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbiAoaCkge1xuXHRcdFx0XHRoLnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcblx0XHRcdFx0XHRpZiAocy5faWQgPT0gc3RlcF9pZClcblx0XHRcdFx0XHRcdHN0ZXAgPSBzO1xuXHRcdFx0XHR9KVxuXHRcdFx0fSlcblx0XHR9XG5cblx0XHRpZiAoIXN0ZXApXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0dmFyIHN0ZXBfdHlwZSA9IHN0ZXAuc3RlcF90eXBlO1xuXG5cdFx0Y3VycmVudF90cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlX2lkKSB7XG5cdFx0XHRcdGluZGV4ID0gaWR4O1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHR2YXIga2V5X3N0ciA9ICd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLic7XG5cblx0XHR2YXIgcGVybWlzc2lvbnNfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKGFwcHJvdmUudmFsdWVzLCBzdGVwLnBlcm1pc3Npb25zLCBpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuXG5cdFx0dmFyIGNoYW5nZV92YWx1ZXMgPSBhcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMoaW5zdGFuY2UudmFsdWVzLCBwZXJtaXNzaW9uc192YWx1ZXMpO1xuXG5cdFx0c2V0T2JqLnZhbHVlcyA9IF8uZXh0ZW5kKChpbnN0YW5jZS52YWx1ZXMgfHwge30pLCBwZXJtaXNzaW9uc192YWx1ZXMpO1xuXG5cdFx0aWYgKCFfLmlzRW1wdHkoY2hhbmdlX3ZhbHVlcykpIHtcblxuXHRcdFx0dmFsdWVzX2hpc3RvcnkgPSBjdXJyZW50X2FwcHJvdmUudmFsdWVzX2hpc3RvcnkgfHwgW11cblxuXHRcdFx0dmFsdWVzX2hpc3RvcnkucHVzaCh7XG5cdFx0XHRcdHZhbHVlczogY2hhbmdlX3ZhbHVlcyxcblx0XHRcdFx0Y3JlYXRlOiBuZXcgRGF0ZSgpXG5cdFx0XHR9KVxuXG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICd2YWx1ZXNfaGlzdG9yeSddID0gdmFsdWVzX2hpc3Rvcnlcblx0XHR9XG5cblx0XHRzZXRPYmpba2V5X3N0ciArICdpc19yZWFkJ10gPSB0cnVlO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ3JlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRzZXRPYmpba2V5X3N0ciArICd2YWx1ZXMnXSA9IHNldE9iai52YWx1ZXM7XG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ25leHRfc3RlcHMnXSA9IG5leHRfc3RlcHM7XG5cdFx0aWYgKHN0ZXBfdHlwZSA9PSBcInN1Ym1pdFwiIHx8IHN0ZXBfdHlwZSA9PSBcInN0YXJ0XCIpIHtcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ2p1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICdqdWRnZSddID0ganVkZ2U7XG5cdFx0fVxuXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblxuXHRcdC8vIOiuoeeul+eUs+ivt+WNleagh+mimFxuXHRcdHZhciBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblx0XHR2YXIgZm9ybV92ID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihmb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuXHRcdHZhciBuYW1lX2ZvcnVtbGEgPSBmb3JtX3YubmFtZV9mb3J1bWxhO1xuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcblx0XHRcdHNldE9iai5uYW1lID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZU5hbWUoaW5zdGFuY2UsIHNldE9iai52YWx1ZXMpO1xuXHRcdH1cblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmpcblx0XHR9KTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG59KSIsIk1ldGVvci5tZXRob2RzKHtcblx0Ly8gPz8/IOiDveWQpuS8oOmYhee7meW9k+WJjeatpemqpOWkhOeQhuS6uiDlpoLmnpzlvZPliY3mraXpqqTmmK/kvJrnrb7jgIJcblx0Y2NfZG86IGZ1bmN0aW9uIChhcHByb3ZlLCBjY191c2VyX2lkcywgZGVzY3JpcHRpb24pIHtcblxuXHRcdHZhciBzZXRPYmogPSB7fTtcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xuXHRcdHZhciBhcHByb3ZlX2lkID0gYXBwcm92ZS5faWQ7XG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRcdHRyYWNlczogMSxcblx0XHRcdFx0Y2NfdXNlcnM6IDEsXG5cdFx0XHRcdHZhbHVlczogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcblx0XHR2YXIgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcblx0XHR2YXIgbmV3X2FwcHJvdmVzID0gW107XG5cblx0XHR2YXIgZnJvbV91c2VyX25hbWUgPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcl9pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdG5hbWU6IDFcblx0XHRcdH1cblx0XHR9KS5uYW1lXG5cblx0XHRjY191c2VyX2lkcy5mb3JFYWNoKGZ1bmN0aW9uICh1c2VySWQsIGlkeCkge1xuXHRcdFx0dmFyIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHVzZXJJZCwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dmFyIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcblx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHR1c2VyOiB1c2VySWRcblx0XHRcdH0sIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0b3JnYW5pemF0aW9uOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dmFyIG9yZ19pZCA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuXHRcdFx0dmFyIG9yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShvcmdfaWQsIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJJZCk7XG5cdFx0XHR2YXIgaGFuZGxlcl9pZCA9IHVzZXJJZDtcblx0XHRcdHZhciBoYW5kbGVyX2luZm8gPSB1c2VyO1xuXHRcdFx0dmFyIGhhbmRsZXJfc3BhY2VfdXNlciA9IHNwYWNlX3VzZXI7XG5cdFx0XHR2YXIgaGFuZGxlcl9vcmdfaW5mbyA9IG9yZ2FuaXphdGlvbjtcblx0XHRcdGlmIChhZ2VudCkge1xuXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnQ7XG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoYWdlbnQsIHtcblx0XHRcdFx0XHRmaWxlZHM6IHtcblx0XHRcdFx0XHRcdG5hbWU6IDFcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRoYW5kbGVyX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgYWdlbnQpO1xuXHRcdFx0XHRoYW5kbGVyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKGhhbmRsZXJfc3BhY2VfdXNlcik7XG5cdFx0XHRcdGNjX3VzZXJfaWRzW2lkeF0gPSBhZ2VudDtcblx0XHRcdH1cblx0XHRcdHZhciBhcHByID0ge1xuXHRcdFx0XHQnX2lkJzogbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cixcblx0XHRcdFx0J2luc3RhbmNlJzogaW5zX2lkLFxuXHRcdFx0XHQndHJhY2UnOiB0cmFjZV9pZCxcblx0XHRcdFx0J2lzX2ZpbmlzaGVkJzogZmFsc2UsXG5cdFx0XHRcdCd1c2VyJzogdXNlcklkLFxuXHRcdFx0XHQndXNlcl9uYW1lJzogdXNlci5uYW1lLFxuXHRcdFx0XHQnaGFuZGxlcic6IGhhbmRsZXJfaWQsXG5cdFx0XHRcdCdoYW5kbGVyX25hbWUnOiBoYW5kbGVyX2luZm8ubmFtZSxcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uJzogaGFuZGxlcl9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbixcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUnOiBoYW5kbGVyX29yZ19pbmZvLm5hbWUsXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSc6IGhhbmRsZXJfb3JnX2luZm8uZnVsbG5hbWUsXG5cdFx0XHRcdCd0eXBlJzogJ2NjJyxcblx0XHRcdFx0J3N0YXJ0X2RhdGUnOiBuZXcgRGF0ZSgpLFxuXHRcdFx0XHQnaXNfcmVhZCc6IGZhbHNlLFxuXHRcdFx0XHQnZnJvbV91c2VyJzogY3VycmVudF91c2VyX2lkLFxuXHRcdFx0XHQnZnJvbV91c2VyX25hbWUnOiBmcm9tX3VzZXJfbmFtZSxcblx0XHRcdFx0J29waW5pb25fZmllbGRzX2NvZGUnOiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUsXG5cdFx0XHRcdCdzaWduX2ZpZWxkX2NvZGUnOiAoYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlICYmIGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZS5sZW5ndGggPT0gMSkgPyBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGVbMF0gOiBcIlwiLFxuXHRcdFx0XHQnZnJvbV9hcHByb3ZlX2lkJzogYXBwcm92ZV9pZCxcblx0XHRcdFx0J2NjX2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb25cblx0XHRcdH07XG5cdFx0XHRpZiAoYWdlbnQpIHtcblx0XHRcdFx0YXBwci5hZ2VudCA9IGFnZW50O1xuXHRcdFx0fVxuXHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgYXBwcilcblx0XHRcdG5ld19hcHByb3Zlcy5wdXNoKGFwcHIpO1xuXHRcdH0pXG5cblxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldE9iaixcblx0XHRcdCRhZGRUb1NldDoge1xuXHRcdFx0XHQndHJhY2VzLiQuYXBwcm92ZXMnOiB7XG5cdFx0XHRcdFx0JGVhY2g6IG5ld19hcHByb3Zlc1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0JHB1c2g6IHtcblx0XHRcdFx0Y2NfdXNlcnM6IHtcblx0XHRcdFx0XHQkZWFjaDogY2NfdXNlcl9pZHNcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQpO1xuXHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwidHJhY2VfYXBwcm92ZV9jY1wiLCBpbnN0YW5jZSwgXCJcIiwgY3VycmVudF91c2VyX2luZm8sIGNjX3VzZXJfaWRzKTtcblxuXHRcdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuXHRcdGFwcHJvdmUuY2NfdXNlcl9pZHMgPSBjY191c2VyX2lkczsgLy8g6K6w5b2V5LiL5pys5qyh5Lyg6ZiF55qE5Lq65ZGYSUTkvZzkuLpob29r5o6l5Y+j5Lit55qE5Y+C5pWwXG5cdFx0Ly8g5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBhcHByb3ZlLCAnY2NfZG8nLCBjdXJyZW50X3VzZXJfaWQsIGNjX3VzZXJfaWRzKVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGNjX3JlYWQ6IGZ1bmN0aW9uIChhcHByb3ZlKSB7XG5cdFx0dmFyIHNldE9iaiA9IHt9O1xuXHRcdHZhciBpbnNfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xuXHRcdHZhciB0cmFjZV9pZCA9IGFwcHJvdmUudHJhY2U7XG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KVxuXG5cdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRpZiAoYS50eXBlID09ICdjYycgJiYgYS5oYW5kbGVyID09IGN1cnJlbnRfdXNlcl9pZCAmJiAhYS5pc19yZWFkKSB7XG5cdFx0XHRcdGluZGV4ID0gaWR4O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG5cdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblxuXHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXM7XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdH0pO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGNjX3N1Ym1pdDogZnVuY3Rpb24gKGluc19pZCwgZGVzY3JpcHRpb24pIHtcblx0XHR2YXIgc2V0T2JqID0ge307XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHR0cmFjZXM6IDEsXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxuXHRcdFx0XHRvdXRib3hfdXNlcnM6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcblx0XHR2YXIgY3VycmVudF9hcHByb3ZlO1xuXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRcdFx0aWYgKGEudHlwZSA9PSAnY2MnICYmIGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0Y3VycmVudF9hcHByb3ZlID0gYTtcblx0XHRcdFx0XHRcdHZhciB1cG9iaiA9IHt9O1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9IFwic3VibWl0dGVkXCI7XG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuY29zdF90aW1lJ10gPSBuZXcgRGF0ZSgpIC0gYS5zdGFydF9kYXRlO1xuXHRcdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0XHRcdFx0XHQndHJhY2VzLl9pZCc6IHQuX2lkXG5cdFx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRcdCRzZXQ6IHVwb2JqXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRpZiAoY3VycmVudF9hcHByb3ZlKSB7XG5cdFx0XHR2YXIgaW5kZXggPSAwO1xuXG5cdFx0XHQvL+iuvue9ruaEj+inge+8jOaEj+ingeWPqua3u+WKoOWIsOacgOWQjuS4gOadoWFwcHJvdmXkuK1cblx0XHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRcdGlmIChjdXJyZW50X2FwcHJvdmUgJiYgdC5faWQgPT09IGN1cnJlbnRfYXBwcm92ZS50cmFjZSkge1xuXHRcdFx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoYS5faWQgPT09IGN1cnJlbnRfYXBwcm92ZS5faWQpIHtcblx0XHRcdFx0XHRcdFx0XHRhLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG5cdFx0XHRcdFx0XHRcdFx0aW5kZXggPSBpZHg7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5kZXNjcmlwdGlvbiddID0gZGVzY3JpcHRpb247XG5cblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdFx0J3RyYWNlcy5faWQnOiBjdXJyZW50X2FwcHJvdmUudHJhY2Vcblx0XHRcdH0sIHtcblx0XHRcdFx0JHNldDogc2V0T2JqLFxuXHRcdFx0XHQkcHVsbDoge1xuXHRcdFx0XHRcdGNjX3VzZXJzOiBjdXJyZW50X3VzZXJfaWRcblx0XHRcdFx0fSxcblx0XHRcdFx0JGFkZFRvU2V0OiB7XG5cdFx0XHRcdFx0b3V0Ym94X3VzZXJzOiB7XG5cdFx0XHRcdFx0XHQkZWFjaDogW2N1cnJlbnRfdXNlcl9pZCwgY3VycmVudF9hcHByb3ZlLnVzZXJdXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuXG5cdFx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkKTtcblx0XHRcdC8v5Lyg6ZiF5o+Q5Lqk5LiN6YCa55+l5Lyg6ZiF6ICFXG5cdFx0XHRpZiAoZmFsc2UgJiYgZGVzY3JpcHRpb24gJiYgY3VycmVudF9hcHByb3ZlICYmIGN1cnJlbnRfYXBwcm92ZS5mcm9tX3VzZXIpIHtcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJ0cmFjZV9hcHByb3ZlX2NjX3N1Ym1pdFwiLCBpbnN0YW5jZSwgXCJcIiwgY3VycmVudF91c2VyX2luZm8sIFtjdXJyZW50X2FwcHJvdmUuZnJvbV91c2VyXSk7XG5cdFx0XHR9XG5cblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXJfaWQpO1xuXG5cdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcblx0XHRcdC8vIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBjdXJyZW50X2FwcHJvdmUsICdjY19zdWJtaXQnLCBjdXJyZW50X3VzZXJfaWQsIFtdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRjY19yZW1vdmU6IGZ1bmN0aW9uIChpbnN0YW5jZUlkLCBhcHByb3ZlSWQpIHtcblx0XHR2YXIgc2V0T2JqID0ge307XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZUlkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxLFxuXHRcdFx0XHRjY191c2VyczogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG5cdFx0dmFyIHRyYWNlX2lkLCByZW1vdmVfdXNlcl9pZCwgbXVsdGkgPSBmYWxzZTtcblxuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlSWQpIHtcblx0XHRcdFx0XHRcdHRyYWNlX2lkID0gYS50cmFjZTtcblx0XHRcdFx0XHRcdHJlbW92ZV91c2VyX2lkID0gYS5oYW5kbGVyO1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gJ3Rlcm1pbmF0ZWQnO1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRpZiAoIXRyYWNlX2lkIHx8ICFyZW1vdmVfdXNlcl9pZClcblx0XHRcdHJldHVybjtcblxuXHRcdHZhciBtdWx0aSA9IDA7XG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuXHRcdFx0XHRcdGlmIChhLmhhbmRsZXIgPT0gcmVtb3ZlX3VzZXJfaWQgJiYgYS50eXBlID09ICdjYycgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0bXVsdGkrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuXG5cdFx0aWYgKG11bHRpID4gMSkge1xuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcblx0XHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxuXHRcdFx0fSwge1xuXHRcdFx0XHQkc2V0OiBzZXRPYmpcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxuXHRcdFx0XHQndHJhY2VzLl9pZCc6IHRyYWNlX2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdCRzZXQ6IHNldE9iaixcblx0XHRcdFx0JHB1bGw6IHtcblx0XHRcdFx0XHRjY191c2VyczogcmVtb3ZlX3VzZXJfaWRcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cblx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgcmVtb3ZlX3VzZXJfaWQpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGNjX3NhdmU6IGZ1bmN0aW9uIChpbnNfaWQsIGRlc2NyaXB0aW9uKSB7XG5cdFx0dmFyIHNldE9iaiA9IHt9O1xuXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG5cblx0XHR2YXIgY3VycmVudF9hcHByb3ZlO1xuXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRcdFx0aWYgKGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgYS50eXBlID09ICdjYycgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0Y3VycmVudF9hcHByb3ZlID0gYTtcblx0XHRcdFx0XHRcdHZhciB1cG9iaiA9IHt9O1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdFx0XHRcdFx0J3RyYWNlcy5faWQnOiB0Ll9pZFxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHQkc2V0OiB1cG9ialxuXHRcdFx0XHRcdFx0fSlcblxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdHZhciBpbmRleCA9IDA7XG5cblx0XHQvL+iuvue9ruaEj+inge+8jOaEj+ingeWPqua3u+WKoOWIsOacgOWQjuS4gOadoWFwcHJvdmXkuK1cblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuXHRcdFx0aWYgKGN1cnJlbnRfYXBwcm92ZSAmJiB0Ll9pZCA9PT0gY3VycmVudF9hcHByb3ZlLnRyYWNlKSB7XG5cdFx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdFx0XHRcdGlmIChhLl9pZCA9PT0gY3VycmVudF9hcHByb3ZlLl9pZCkge1xuXHRcdFx0XHRcdFx0XHRpbmRleCA9IGlkeDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLmRlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHQndHJhY2VzLl9pZCc6IGN1cnJlbnRfYXBwcm92ZS50cmFjZVxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn0pIiwiTWV0ZW9yLm1ldGhvZHMoe1xuXHQvLyDmlLnkuLrpgJrov4dhcGnosIPnlKhcblx0Zm9yd2FyZF9pbnN0YW5jZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBzcGFjZV9pZCwgZmxvd19pZCwgaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50LCBkZXNjcmlwdGlvbiwgaXNGb3J3YXJkQXR0YWNobWVudHMsIHNlbGVjdGVkVXNlcnMsIGFjdGlvbl90eXBlLCByZWxhdGVkLCBmcm9tX2FwcHJvdmVfaWQpIHtcblx0XHRpZiAoIXRoaXMudXNlcklkKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm90LWF1dGhvcml6ZWQnKTtcblxuXHRcdHJldHVybjtcblx0fSxcblxuXG5cdGZvcndhcmRfcmVtb3ZlOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIHRyYWNlX2lkLCBhcHByb3ZlX2lkKSB7XG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2sodHJhY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soYXBwcm92ZV9pZCwgU3RyaW5nKTtcblxuXHRcdHZhciBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XG5cblx0XHRpZiAoIWlucykge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcigncGFyYW1zIGVycm9yIScsICdyZWNvcmQgbm90IGV4aXN0cyEnKTtcblx0XHR9XG5cblx0XHR2YXIgdHJhY2UgPSBfLmZpbmQoaW5zLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KTtcblxuXHRcdHZhciBhcHByb3ZlID0gXy5maW5kKHRyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYXBwcikge1xuXHRcdFx0cmV0dXJuIGFwcHIuX2lkID09IGFwcHJvdmVfaWQ7XG5cdFx0fSlcblxuXHRcdHZhciBoYXNBZG1pblBlcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCB0aGlzLnVzZXJJZClcblxuXHRcdGlmICghYXBwcm92ZSB8fCAhWydmb3J3YXJkJywgJ2Rpc3RyaWJ1dGUnXS5pbmNsdWRlcyhhcHByb3ZlLnR5cGUpIHx8ICFhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpIHtcblx0XHRcdGlmICghaGFzQWRtaW5QZXJtaXNzaW9uKSB7XG5cdFx0XHRcdGlmIChhcHByb3ZlLmZyb21fdXNlciAhPSB0aGlzLnVzZXJJZClcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCAnaW5zdGFuY2VfZm9yd2FyZF9jYW5ub3RfY2FuY2VsJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIGZvcndhcmRfaW5zdGFuY2VfaWQgPSBhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2U7XG5cdFx0dmFyIGZvcndhcmRfaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShmb3J3YXJkX2luc3RhbmNlX2lkKTtcblx0XHRpZiAoZm9yd2FyZF9pbnN0YW5jZSkge1xuXHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiKSB7XG5cdFx0XHRcdGlmICghaGFzQWRtaW5QZXJtaXNzaW9uKVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsICdpbnN0YW5jZV9mb3J3YXJkX2luc3RhbmNlX3N0YXRlX2NoYW5nZWQnKTtcblx0XHRcdH1cblx0XHRcdHZhciBpbmJveF91c2VycyA9IGZvcndhcmRfaW5zdGFuY2UuaW5ib3hfdXNlcnMgfHwgW107XG5cblx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRmb3J3YXJkX2luc3RhbmNlLmRlbGV0ZWRfYnkgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHZhciBkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQgPSBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZm9yd2FyZF9pbnN0YW5jZSk7XG5cdFx0XHRpZiAoZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkKSB7XG5cdFx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoe1xuXHRcdFx0XHRcdF9pZDogZm9yd2FyZF9pbnN0YW5jZV9pZFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyDliKDpmaTnlLPor7fljZXlkI7ph43mlrDorqHnrpdpbmJveF91c2Vyc+eahGJhZGdlXG5cdFx0XHRcdF8uZWFjaChpbmJveF91c2VycywgZnVuY3Rpb24gKHVfaWQpIHtcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdV9pZCk7XG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblxuXHRcdF8uZWFjaCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGFwcHIsIGlkeCkge1xuXHRcdFx0aWYgKGFwcHIuX2lkID09IGFwcHJvdmVfaWQpIHtcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJztcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWU7XG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcblx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZV9pZFxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldF9vYmpcblx0XHR9KVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Y2FuY2VsRGlzdHJpYnV0ZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBhcHByb3ZlX2lkcykge1xuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpXG5cdFx0Y2hlY2soYXBwcm92ZV9pZHMsIEFycmF5KVxuXG5cdFx0dmFyIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKVxuXG5cdFx0aWYgKCFpbnMpIHtcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3BhcmFtcyBlcnJvciEnLCAncmVjb3JkIG5vdCBleGlzdHMhJylcblx0XHR9XG5cblx0XHR1c2VySWQgPSB0aGlzLnVzZXJJZFxuXG5cdFx0dmFyIGhhc0FkbWluUGVybWlzc2lvbiA9IFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIHVzZXJJZClcblxuXHRcdF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbiAodCkge1xuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcblx0XHRcdFx0dmFyIGV4aXN0cyA9IGZhbHNlXG5cdFx0XHRcdHZhciBzZXRfb2JqID0gbmV3IE9iamVjdFxuXHRcdFx0XHRfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdGlmIChhcHByb3ZlX2lkcy5pbmNsdWRlcyhhLl9pZCkgJiYgKGEuZnJvbV91c2VyID09IHVzZXJJZCB8fCBoYXNBZG1pblBlcm1pc3Npb24pICYmICdkaXN0cmlidXRlJyA9PSBhLnR5cGUgJiYgYS5mb3J3YXJkX2luc3RhbmNlKSB7XG5cdFx0XHRcdFx0XHR2YXIgZm9yd2FyZF9pbnN0YW5jZV9pZCA9IGEuZm9yd2FyZF9pbnN0YW5jZVxuXHRcdFx0XHRcdFx0dmFyIGZvcndhcmRfaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShmb3J3YXJkX2luc3RhbmNlX2lkKVxuXHRcdFx0XHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2UpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dmFyIGluYm94X3VzZXJzID0gZm9yd2FyZF9pbnN0YW5jZS5pbmJveF91c2VycyB8fCBbXVxuXG5cdFx0XHRcdFx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZCA9IG5ldyBEYXRlKClcblx0XHRcdFx0XHRcdFx0Zm9yd2FyZF9pbnN0YW5jZS5kZWxldGVkX2J5ID0gdXNlcklkXG5cdFx0XHRcdFx0XHRcdHZhciBkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQgPSBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZm9yd2FyZF9pbnN0YW5jZSlcblx0XHRcdFx0XHRcdFx0aWYgKGRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCkge1xuXHRcdFx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoe1xuXHRcdFx0XHRcdFx0XHRcdFx0X2lkOiBmb3J3YXJkX2luc3RhbmNlX2lkXG5cdFx0XHRcdFx0XHRcdFx0fSlcblxuXHRcdFx0XHRcdFx0XHRcdC8vIOWIoOmZpOeUs+ivt+WNleWQjumHjeaWsOiuoeeul2luYm94X3VzZXJz55qEYmFkZ2Vcblx0XHRcdFx0XHRcdFx0XHRfLmVhY2goaW5ib3hfdXNlcnMsIGZ1bmN0aW9uICh1X2lkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdV9pZClcblx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRleGlzdHMgPSB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXG5cdFx0XHRcdGlmICghZXhpc3RzKVxuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0XHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpXG5cdFx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB1c2VySWRcblxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxuXHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiB0Ll9pZFxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0JHNldDogc2V0X29ialxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRyZXR1cm4gdHJ1ZVxuXHR9XG5cblxufSkiLCJNZXRlb3IubWV0aG9kcyh7XG4gICAgY2ZzX2luc3RhbmNlc19yZW1vdmU6IGZ1bmN0aW9uIChmaWxlX2lkKSB7XG4gICAgICAgIGNoZWNrKGZpbGVfaWQsIFN0cmluZyk7XG4gICAgICAgIGNmcy5pbnN0YW5jZXMucmVtb3ZlKGZpbGVfaWQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgY2ZzX2luc3RhbmNlc19zZXRfY3VycmVudDogZnVuY3Rpb24gKGZpbGVfaWQpIHtcbiAgICAgICAgY2hlY2soZmlsZV9pZCwgU3RyaW5nKTtcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBjZnNfaW5zdGFuY2VzX2xvY2s6IGZ1bmN0aW9uIChmaWxlX2lkLCB1c2VyX2lkLCB1c2VyX25hbWUpIHtcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5JzogdXNlcl9pZCxcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5X25hbWUnOiB1c2VyX25hbWUsXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF90aW1lJzogbmV3IERhdGUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIGNmc19pbnN0YW5jZXNfdW5sb2NrOiBmdW5jdGlvbiAoZmlsZV9pZCkge1xuICAgICAgICBjZnMuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZpbGVfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF9ieSc6ICcnLFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSc6ICcnLFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfdGltZSc6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogZnVuY3Rpb24gKHNwYWNlSWQsIGNmc1JlY29yZElkcykge1xuICAgICAgICBpZiAoIXRoaXMudXNlcklkKVxuICAgICAgICAgICAgcmV0dXJuIFwi5LiN56ym5ZCI5omn6KGM5p2h5Lu2XCJcblxuICAgICAgICBpZiAoTWV0ZW9yLnVzZXJzLmZpbmQoe1xuICAgICAgICAgICAgICAgIF9pZDogdGhpcy51c2VySWQsXG4gICAgICAgICAgICAgICAgaXNfY2xvdWRhZG1pbjogdHJ1ZVxuICAgICAgICAgICAgfSkuY291bnQoKSA8IDEpXG4gICAgICAgICAgICByZXR1cm4gXCLkuI3nrKblkIjmiafooYzmnaHku7ZcIlxuXG4gICAgICAgIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0b3JlID0gXCJpbnN0YW5jZXNcIjtcbiAgICAgICAgdmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgICAgICAgdmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG4gICAgICAgIHZhciBta2RpcnAgPSByZXF1aXJlKCdta2RpcnAnKTtcbiAgICAgICAgdmFyIHBhdGhuYW1lID0gcGF0aC5qb2luKF9fbWV0ZW9yX2Jvb3RzdHJhcF9fLnNlcnZlckRpciwgJy4uLy4uLy4uL2Nmcy9zcGFjZUluc3RhbmNlQXR0YWNobWVudHMnKTtcbiAgICAgICAgLy8gU2V0IGFic29sdXRlIHBhdGhcbiAgICAgICAgdmFyIGFic29sdXRlUGF0aCA9IHBhdGgucmVzb2x2ZShwYXRobmFtZSk7XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgcGF0aCBleGlzdHNcbiAgICAgICAgbWtkaXJwLnN5bmMoYWJzb2x1dGVQYXRoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2Fic29sdXRlUGF0aDogJywgYWJzb2x1dGVQYXRoKTtcbiAgICAgICAgY29uc29sZS50aW1lKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrJyk7XG4gICAgICAgIHZhciBxdWVyeSA9IHtcbiAgICAgICAgICAgICdtZXRhZGF0YS5zcGFjZSc6IHNwYWNlSWRcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ZzUmVjb3JkSWRzKSB7XG4gICAgICAgICAgICBxdWVyeS5faWQgPSB7XG4gICAgICAgICAgICAgICAgJGluOiBjZnNSZWNvcmRJZHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzID0gW107XG4gICAgICAgIGNmcy5pbnN0YW5jZXMuZmluZChxdWVyeSkuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSBzdG9yZSArICctJyArIGMuX2lkICsgJy0nICsgYy5uYW1lKCk7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVQYXRoID0gcGF0aC5qb2luKGFic29sdXRlUGF0aCwgZmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgIE1ldGVvci53cmFwQXN5bmMoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd3JpdGVyID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oZmlsZVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLm9uKCdmaW5pc2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IGMuY3JlYXRlUmVhZFN0cmVhbShzdG9yZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMucHVzaChjLl9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogJywgYy5faWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5waXBlKHdyaXRlcik7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrOiAnLCBjLl9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkoKVxuXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6ICcsIGMuX2lkKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChkb3dubG9hZEZhaWxlZFJlY29yZElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZEZhaWxlZFJlY29yZElkczogJyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgnZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzaycpO1xuXG4gICAgICAgIHJldHVybiBkb3dubG9hZEZhaWxlZFJlY29yZElkcztcbiAgICB9XG59KSIsIk1ldGVvci5tZXRob2RzXG5cdHNldF9hcHByb3ZlX2hhdmVfcmVhZDogKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCkgLT5cblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0c2VsZiA9IHRoaXNcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlSWQsIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXG5cblx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXG5cdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxuXHRcdFx0c2V0T2JqID0ge1xuXHRcdFx0XHRtb2RpZmllZDogbmV3IERhdGUsXG5cdFx0XHRcdG1vZGlmaWVkX2J5OiBzZWxmLnVzZXJJZFxuXHRcdFx0fVxuXHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxuXHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBhcHByb3ZlSWQgJiYgIWFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5pc19yZWFkXCJdID0gdHJ1ZVxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0XHR9KVxuXHRcdFx0cmV0dXJuIHRydWVcblxuXHRjaGFuZ2VfYXBwcm92ZV9pbmZvOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBkZXNjcmlwdGlvbiwgZmluaXNoX2RhdGUpIC0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblx0XHRjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2sodHJhY2VJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpXG5cdFx0Y2hlY2soZmluaXNoX2RhdGUsIERhdGUpXG5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZUlkLCBcInRyYWNlcy5faWRcIjogdHJhY2VJZCB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxuXG5cdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cblx0XHRcdHNldE9iaiA9IHt9XG5cdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XG5cdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGFwcHJvdmVJZFxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmZpbmlzaF9kYXRlXCJdID0gZmluaXNoX2RhdGVcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uY29zdF90aW1lXCJdID0gbmV3IERhdGUoKSAtIGFwcHJvdmUuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0XHR9KVxuXHRcdFx0cmV0dXJuIHRydWVcblxuXHR1cGRhdGVfYXBwcm92ZV9zaWduOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBzaWduX2ZpZWxkX2NvZGUsIGRlc2NyaXB0aW9uLCBzaWduX3R5cGUsIGxhc3RTaWduQXBwcm92ZSktPlxuXHRcdGNoZWNrKGluc3RhbmNlSWQsIFN0cmluZylcblx0XHRjaGVjayh0cmFjZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2soc2lnbl9maWVsZF9jb2RlLCBTdHJpbmcpXG5cdFx0Y2hlY2soZGVzY3JpcHRpb24sIFN0cmluZylcblxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRzZXNzaW9uX3VzZXJJZCA9IHRoaXMudXNlcklkXG5cblx0XHRpZiBsYXN0U2lnbkFwcHJvdmVcblxuXHRcdFx0aWYgbGFzdFNpZ25BcHByb3ZlLmN1c3RvbV9zaWduX3Nob3dcblx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBsYXN0U2lnbkFwcHJvdmUudHJhY2Vcblx0XHRcdH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXG5cblx0XHRcdGxhc3RUcmFjZSA9IF8uZmluZCBpbnN0YW5jZT8udHJhY2VzLCAodCkgLT5cblx0XHRcdFx0cmV0dXJuIHQuX2lkID0gbGFzdFNpZ25BcHByb3ZlLnRyYWNlXG5cblx0XHRcdGlmIGxhc3RUcmFjZVxuXHRcdFx0XHRzZXRPYmogPSB7fVxuXHRcdFx0XHRsYXN0VHJhY2U/LmFwcHJvdmVzLmZvckVhY2ggKGEsIGlkeCkgLT5cblx0XHRcdFx0XHRpZiBhLl9pZCA9PSBsYXN0U2lnbkFwcHJvdmUuX2lkXG5cdFx0XHRcdFx0XHRpZiBzaWduX3R5cGUgPT0gXCJ1cGRhdGVcIlxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9zaG93XCJdID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZFxuXG5cdFx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxuXHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxuXHRcdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IGxhc3RUcmFjZS5faWRcblx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHQkc2V0OiBzZXRPYmpcblx0XHRcdFx0XHR9KVxuXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2VJZCwgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWQgfSwgeyBmaWVsZHM6IHsgXCJ0cmFjZXMuJFwiOiAxIH0gfSlcblxuXHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcblxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cblx0XHRcdHVwT2JqID0ge31cblx0XHRcdHRyYWNlLmFwcHJvdmVzLmZvckVhY2ggKGFwcHJvdmUsIGlkeCkgLT5cblx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gYXBwcm92ZUlkXG5cdFx0XHRcdFx0aWYgc2lnbl9maWVsZF9jb2RlXG5cdFx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5zaWduX2ZpZWxkX2NvZGVcIl0gPSBzaWduX2ZpZWxkX2NvZGVcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9zaG93XCJdID0gdHJ1ZVxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkX2J5XCJdID0gc2Vzc2lvbl91c2VySWRcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkodXBPYmopXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcblx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0JHNldDogdXBPYmpcblx0XHRcdFx0fSlcblx0XHRcdHJldHVybiB0cnVlXG5cblxuXHR1cGRhdGVfc2lnbl9zaG93OiAob2JqcywgbXlBcHByb3ZlX2lkKSAtPlxuXHRcdG9ianMuZm9yRWFjaCAob2JqLCBpbmRleCkgLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IG9iai5pbnN0YW5jZSwgXCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZSB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxuXHRcdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxuXHRcdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxuXHRcdFx0XHRzZXRPYmogPSB7fVxuXHRcdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XG5cdFx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gb2JqLl9pZFxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3dcblx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5jdXN0b21fc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvd1xuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcblxuXHRcdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IG15QXBwcm92ZV9pZFxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcblxuXHRcdFx0XHRpZiBub3QgXy5pc0VtcHR5KHNldE9iailcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRcdF9pZDogb2JqLmluc3RhbmNlLFxuXHRcdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZVxuXHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0XHRcdH0pXG5cblx0XHRyZXR1cm4gdHJ1ZVxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBzZXRfYXBwcm92ZV9oYXZlX3JlYWQ6IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCBzZWxmLCBzZXRPYmosIHRyYWNlO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2VsZiA9IHRoaXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgIHNldE9iaiA9IHtcbiAgICAgICAgbW9kaWZpZWQ6IG5ldyBEYXRlLFxuICAgICAgICBtb2RpZmllZF9ieTogc2VsZi51c2VySWRcbiAgICAgIH07XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCAmJiAhYXBwcm92ZS5pc19yZWFkKSB7XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5pc19yZWFkXCJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIGNoYW5nZV9hcHByb3ZlX2luZm86IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgZGVzY3JpcHRpb24sIGZpbmlzaF9kYXRlKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHNldE9iaiwgdHJhY2U7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHRyYWNlSWQsIFN0cmluZyk7XG4gICAgY2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpO1xuICAgIGNoZWNrKGZpbmlzaF9kYXRlLCBEYXRlKTtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgc2V0T2JqID0ge307XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmZpbmlzaF9kYXRlXCJdID0gZmluaXNoX2RhdGU7XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5jb3N0X3RpbWVcIl0gPSBuZXcgRGF0ZSgpIC0gYXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgICAgIHJldHVybiBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFfLmlzRW1wdHkoc2V0T2JqKSkge1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlX2FwcHJvdmVfc2lnbjogZnVuY3Rpb24oaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBzaWduX2ZpZWxkX2NvZGUsIGRlc2NyaXB0aW9uLCBzaWduX3R5cGUsIGxhc3RTaWduQXBwcm92ZSkge1xuICAgIHZhciBpbnN0YW5jZSwgbGFzdFRyYWNlLCByZWYsIHNlc3Npb25fdXNlcklkLCBzZXRPYmosIHRyYWNlLCB1cE9iajtcbiAgICBjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHRyYWNlSWQsIFN0cmluZyk7XG4gICAgY2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHNpZ25fZmllbGRfY29kZSwgU3RyaW5nKTtcbiAgICBjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNlc3Npb25fdXNlcklkID0gdGhpcy51c2VySWQ7XG4gICAgaWYgKGxhc3RTaWduQXBwcm92ZSkge1xuICAgICAgaWYgKGxhc3RTaWduQXBwcm92ZS5jdXN0b21fc2lnbl9zaG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiBsYXN0U2lnbkFwcHJvdmUudHJhY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbGFzdFRyYWNlID0gXy5maW5kKGluc3RhbmNlICE9IG51bGwgPyBpbnN0YW5jZS50cmFjZXMgOiB2b2lkIDAsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID0gbGFzdFNpZ25BcHByb3ZlLnRyYWNlO1xuICAgICAgfSk7XG4gICAgICBpZiAobGFzdFRyYWNlKSB7XG4gICAgICAgIHNldE9iaiA9IHt9O1xuICAgICAgICBpZiAobGFzdFRyYWNlICE9IG51bGwpIHtcbiAgICAgICAgICBsYXN0VHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhLCBpZHgpIHtcbiAgICAgICAgICAgIGlmIChhLl9pZCA9PT0gbGFzdFNpZ25BcHByb3ZlLl9pZCkge1xuICAgICAgICAgICAgICBpZiAoc2lnbl90eXBlID09PSBcInVwZGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5zaWduX3Nob3dcIl0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5tb2RpZmllZF9ieVwiXSA9IHNlc3Npb25fdXNlcklkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfLmlzRW1wdHkoc2V0T2JqKSkge1xuICAgICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IGxhc3RUcmFjZS5faWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgdXBPYmogPSB7fTtcbiAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKHNpZ25fZmllbGRfY29kZSkge1xuICAgICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fZmllbGRfY29kZVwiXSA9IHNpZ25fZmllbGRfY29kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fc2hvd1wiXSA9IHRydWU7XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZDtcbiAgICAgICAgICByZXR1cm4gdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFfLmlzRW1wdHkodXBPYmopKSB7XG4gICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogdXBPYmpcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZV9zaWduX3Nob3c6IGZ1bmN0aW9uKG9ianMsIG15QXBwcm92ZV9pZCkge1xuICAgIG9ianMuZm9yRWFjaChmdW5jdGlvbihvYmosIGluZGV4KSB7XG4gICAgICB2YXIgaW5zdGFuY2UsIHJlZiwgc2V0T2JqLCB0cmFjZTtcbiAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IG9iai5pbnN0YW5jZSxcbiAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgICBzZXRPYmogPSB7fTtcbiAgICAgICAgdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlLCBpZHgpIHtcbiAgICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IG9iai5faWQpIHtcbiAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvdztcbiAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuY3VzdG9tX3NpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3c7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gbXlBcHByb3ZlX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IG9iai5pbnN0YW5jZSxcbiAgICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2VcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdGluc3RhbmNlX3JldHVybjogKGFwcHJvdmUsIHJlYXNvbiktPlxuXHRcdGNoZWNrKGFwcHJvdmUsIE9iamVjdClcblxuXHRcdGN1cnJlbnRfdXNlciA9IHRoaXMudXNlcklkXG5cdFx0aW5zdGFuY2VfaWQgPSBhcHByb3ZlLmluc3RhbmNlXG5cblx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdHNwYWNlX2lkID0gaW5zLnNwYWNlXG5cblx0XHQjIC0g5b6F5a6h5qC4566xXG5cdFx0aWYgaW5zLnN0YXRlIGlzbnQgXCJwZW5kaW5nXCIgb3IgIWlucy5pbmJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxuXG5cdFx0IyAtIOaWh+S7tuS4jeaYr+S8oOmYhVxuXHRcdGlmIGFwcHJvdmUudHlwZSBpcyBcImNjXCIgYW5kIGlucy5jY191c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxuXG5cdFx0IyAtIOetvuaguOWOhueoi+S4reW9k+WJjeatpemqpOS4iuS4gOatpemqpOS4jeaYr+S8muetvlxuXHRcdGlmIGlucy50cmFjZXMubGVuZ3RoIDwgMlxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcblx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGlucy5mbG93KVxuXHRcdHByZV90cmFjZSA9IGlucy50cmFjZXNbaW5zLnRyYWNlcy5sZW5ndGggLSAyXVxuXHRcdHByZV9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgcHJlX3RyYWNlLnN0ZXApXG5cdFx0aWYgcHJlX3N0ZXAuc3RlcF90eXBlIGlzIFwiY291bnRlclNpZ25cIlxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcblxuXHRcdCMgLSDlvZPliY3mraXpqqTkuLrloavlhpnmiJbogIXlrqHmiblcblx0XHRsYXN0X3RyYWNlID0gXy5sYXN0KGlucy50cmFjZXMpXG5cdFx0Y3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgbGFzdF90cmFjZS5zdGVwKVxuXHRcdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXNudCBcInN1Ym1pdFwiIGFuZCBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJzaWduXCIgYW5kIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXNudCBcImNvdW50ZXJTaWduXCJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXG5cblx0XHQjIC0g5Y+C5pWwYXBwcm92ZeS4rXRyYWNl5LiO5b2T5YmN6I635Y+W55qEdHJhY2XmmK/lkKbljLnphY1cblx0XHRpZiBhcHByb3ZlLnRyYWNlIGlzbnQgbGFzdF90cmFjZS5faWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXG5cblx0XHRuZXdfaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2ggcHJlX3RyYWNlLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0aWYgKCFhLnR5cGUgb3IgYS50eXBlIGlzIFwiZHJhZnRcIiBvciBhLnR5cGUgaXMgXCJyZWFzc2lnblwiKSBhbmQgKCFhLmp1ZGdlIG9yIGEuanVkZ2UgaXMgXCJzdWJtaXR0ZWRcIiBvciBhLmp1ZGdlIGlzIFwiYXBwcm92ZWRcIiBvciBhLmp1ZGdlIGlzIFwicmVqZWN0ZWRcIilcblx0XHRcdFx0bmV3X2luYm94X3VzZXJzLnB1c2goYS51c2VyKVxuXG5cdFx0aWYgXy5pc0VtcHR5KG5ld19pbmJveF91c2Vycylcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw5LiL5LiA5q2l5aSE55CG5Lq677yM6YCA5Zue5aSx6LSlXCIpXG5cblx0XHR0cmFjZXMgPSBpbnMudHJhY2VzXG5cblx0XHRhcHByb3ZlX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhhcHByb3ZlLnZhbHVlcyB8fCB7fSwgY3VycmVudF9zdGVwLnBlcm1pc3Npb25zLCBpbnMuZm9ybSwgaW5zLmZvcm1fdmVyc2lvbilcblxuXHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdHJlc3RfY291bnRlcl91c2VycyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaCB0cmFjZXMsICh0KS0+XG5cdFx0XHRpZiB0Ll9pZCBpcyBsYXN0X3RyYWNlLl9pZFxuXHRcdFx0XHRpZiBub3QgdC5hcHByb3Zlc1xuXHRcdFx0XHRcdHQuYXBwcm92ZXMgPSBuZXcgQXJyYXlcblx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhLCBpZHgpLT5cblx0XHRcdFx0XHRpZiAoIWEudHlwZSBvciBhLnR5cGUgaXMgXCJyZWFzc2lnblwiKSBhbmQgKCFhLmp1ZGdlIG9yIGEuanVkZ2UgaXMgXCJzdWJtaXR0ZWRcIiBvciBhLmp1ZGdlIGlzIFwiYXBwcm92ZWRcIiBvciBhLmp1ZGdlIGlzIFwicmVqZWN0ZWRcIiBvciBhLmp1ZGdlIGlzIFwicmVhZGVkXCIpIGFuZCBhLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbm93XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbm93XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2Vycm9yJ10gPSBmYWxzZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmNvc3RfdGltZSddID0gbm93IC0gYS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnZhbHVlcyddID0gYXBwcm92ZV92YWx1ZXNcblx0XHRcdFx0XHRcdGlmIGEuaGFuZGxlciBpcyBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJyZXR1cm5lZFwiXG5cdFx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZGVzY3JpcHRpb24nXSA9IHJlYXNvblxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRyZXN0X2NvdW50ZXJfdXNlcnMucHVzaCBhLmhhbmRsZXJcblxuXHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuaXNfZmluaXNoZWQnXSA9IHRydWVcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5maW5pc2hfZGF0ZSddID0gdHJ1ZVxuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmp1ZGdlJ10gPSBcInJldHVybmVkXCJcblxuXHRcdGlucy52YWx1ZXMgPSBfLmV4dGVuZCgoaW5zLnZhbHVlcyB8fCB7fSksIGFwcHJvdmVfdmFsdWVzKVxuXG5cdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxuXHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxuXHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXVxuXHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRuZXdUcmFjZS5zdGVwID0gcHJlX3RyYWNlLnN0ZXBcblx0XHRuZXdUcmFjZS5uYW1lID0gcHJlX3RyYWNlLm5hbWVcblx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XG5cdFx0bmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJlX3N0ZXAudGltZW91dF9ob3Vycylcblx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXG5cdFx0Xy5lYWNoIG5ld19pbmJveF91c2VycywgKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpLT5cblx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2UuYXBwcm92ZeiusOW9lVxuXHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3Rcblx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0bmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkXG5cdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkXG5cblx0XHRcdHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUobmV4dF9zdGVwX3VzZXJfaWQsIHtmaWVsZHM6IHtuYW1lOiAxfX0pXG5cdFx0XHRuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lXG5cblx0XHRcdGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZFxuXHRcdFx0aGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvXG5cdFx0XHRhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIG5leHRfc3RlcF91c2VyX2lkKVxuXHRcdFx0aWYgYWdlbnRcblx0XHRcdFx0bmV3X2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudFxuXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnRcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYWdlbnQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdG5ld0FwcHJvdmUuYWdlbnQgPSBhZ2VudFxuXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXG5cblx0XHRcdG5leHRfc3RlcF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGhhbmRsZXJfaWQpXG5cdFx0XHQjIOiOt+WPlm5leHRfc3RlcF91c2Vy5omA5Zyo55qE6YOo6Zeo5L+h5oGvXG5cdFx0XHRuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhuZXh0X3N0ZXBfc3BhY2VfdXNlcilcblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXG5cblx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2Vcblx0XHRcdG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zLnZhbHVlcywgbmV3QXBwcm92ZSlcblx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSlcblxuXHRcdHNldE9iai5pbmJveF91c2VycyA9IG5ld19pbmJveF91c2Vyc1xuXHRcdHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiXG5cblx0XHRpbnMub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxuXHRcdHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zLm91dGJveF91c2Vycylcblx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblx0XHRzZXRPYmoudmFsdWVzID0gaW5zLnZhbHVlc1xuXG5cdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJlX3RyYWNlLm5hbWVcblxuXHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkLCAndHJhY2VzLl9pZCc6IGxhc3RfdHJhY2UuX2lkfSwgeyRzZXQ6IHNldE9ian0pXG5cdFx0YiA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHB1c2g6IHt0cmFjZXM6IG5ld1RyYWNlfX0pXG5cdFx0aWYgciAmJiBiXG5cdFx0XHQjIOaWsGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcilcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJldHVybl9wZW5kaW5nX2luYm94XCIsIGluc3RhbmNlLCByZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKVxuXHRcdFx0IyDlpoLmnpzmmK/kvJrnrb7liJnnu5nkvJrnrb7mnKrmj5DkuqTnmoTkurrlj5HpgIFwdXNoXG5cdFx0XHRfLmVhY2ggcmVzdF9jb3VudGVyX3VzZXJzLCAodXNlcl9pZCktPlxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRyZXR1cm4gdHJ1ZSIsIk1ldGVvci5tZXRob2RzKHtcbiAgaW5zdGFuY2VfcmV0dXJuOiBmdW5jdGlvbihhcHByb3ZlLCByZWFzb24pIHtcbiAgICB2YXIgYXBwcm92ZV92YWx1ZXMsIGIsIGN1cnJlbnRfc3RlcCwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZmxvdywgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIGxhc3RfdHJhY2UsIG5ld1RyYWNlLCBuZXdfaW5ib3hfdXNlcnMsIG5vdywgcHJlX3N0ZXAsIHByZV90cmFjZSwgciwgcmVzdF9jb3VudGVyX3VzZXJzLCBzZXRPYmosIHNwYWNlX2lkLCB0cmFjZXM7XG4gICAgY2hlY2soYXBwcm92ZSwgT2JqZWN0KTtcbiAgICBjdXJyZW50X3VzZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBpbnN0YW5jZV9pZCA9IGFwcHJvdmUuaW5zdGFuY2U7XG4gICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgc3BhY2VfaWQgPSBpbnMuc3BhY2U7XG4gICAgaWYgKGlucy5zdGF0ZSAhPT0gXCJwZW5kaW5nXCIgfHwgIWlucy5pbmJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gXCJjY1wiICYmIGlucy5jY191c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgaWYgKGlucy50cmFjZXMubGVuZ3RoIDwgMikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zLmZsb3cpO1xuICAgIHByZV90cmFjZSA9IGlucy50cmFjZXNbaW5zLnRyYWNlcy5sZW5ndGggLSAyXTtcbiAgICBwcmVfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIHByZV90cmFjZS5zdGVwKTtcbiAgICBpZiAocHJlX3N0ZXAuc3RlcF90eXBlID09PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBsYXN0X3RyYWNlID0gXy5sYXN0KGlucy50cmFjZXMpO1xuICAgIGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcCk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgIT09IFwic3VibWl0XCIgJiYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSAhPT0gXCJzaWduXCIgJiYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSAhPT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUudHJhY2UgIT09IGxhc3RfdHJhY2UuX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgbmV3X2luYm94X3VzZXJzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChwcmVfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIGlmICgoIWEudHlwZSB8fCBhLnR5cGUgPT09IFwiZHJhZnRcIiB8fCBhLnR5cGUgPT09IFwicmVhc3NpZ25cIikgJiYgKCFhLmp1ZGdlIHx8IGEuanVkZ2UgPT09IFwic3VibWl0dGVkXCIgfHwgYS5qdWRnZSA9PT0gXCJhcHByb3ZlZFwiIHx8IGEuanVkZ2UgPT09IFwicmVqZWN0ZWRcIikpIHtcbiAgICAgICAgcmV0dXJuIG5ld19pbmJveF91c2Vycy5wdXNoKGEudXNlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKF8uaXNFbXB0eShuZXdfaW5ib3hfdXNlcnMpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOS4i+S4gOatpeWkhOeQhuS6uu+8jOmAgOWbnuWksei0pVwiKTtcbiAgICB9XG4gICAgdHJhY2VzID0gaW5zLnRyYWNlcztcbiAgICBhcHByb3ZlX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhhcHByb3ZlLnZhbHVlcyB8fCB7fSwgY3VycmVudF9zdGVwLnBlcm1pc3Npb25zLCBpbnMuZm9ybSwgaW5zLmZvcm1fdmVyc2lvbik7XG4gICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICByZXN0X2NvdW50ZXJfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgaWYgKHQuX2lkID09PSBsYXN0X3RyYWNlLl9pZCkge1xuICAgICAgICBpZiAoIXQuYXBwcm92ZXMpIHtcbiAgICAgICAgICB0LmFwcHJvdmVzID0gbmV3IEFycmF5O1xuICAgICAgICB9XG4gICAgICAgIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhLCBpZHgpIHtcbiAgICAgICAgICBpZiAoKCFhLnR5cGUgfHwgYS50eXBlID09PSBcInJlYXNzaWduXCIpICYmICghYS5qdWRnZSB8fCBhLmp1ZGdlID09PSBcInN1Ym1pdHRlZFwiIHx8IGEuanVkZ2UgPT09IFwiYXBwcm92ZWRcIiB8fCBhLmp1ZGdlID09PSBcInJlamVjdGVkXCIgfHwgYS5qdWRnZSA9PT0gXCJyZWFkZWRcIikgJiYgYS5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbm93O1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5vdztcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZXJyb3InXSA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuY29zdF90aW1lJ10gPSBub3cgLSBhLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnZhbHVlcyddID0gYXBwcm92ZV92YWx1ZXM7XG4gICAgICAgICAgICBpZiAoYS5oYW5kbGVyID09PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJyZXR1cm5lZFwiO1xuICAgICAgICAgICAgICByZXR1cm4gc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5kZXNjcmlwdGlvbiddID0gcmVhc29uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3RfY291bnRlcl91c2Vycy5wdXNoKGEuaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5pc19maW5pc2hlZCddID0gdHJ1ZTtcbiAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5maW5pc2hfZGF0ZSddID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHNldE9ialsndHJhY2VzLiQuanVkZ2UnXSA9IFwicmV0dXJuZWRcIjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpbnMudmFsdWVzID0gXy5leHRlbmQoaW5zLnZhbHVlcyB8fCB7fSwgYXBwcm92ZV92YWx1ZXMpO1xuICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXTtcbiAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgIG5ld1RyYWNlLnN0ZXAgPSBwcmVfdHJhY2Uuc3RlcDtcbiAgICBuZXdUcmFjZS5uYW1lID0gcHJlX3RyYWNlLm5hbWU7XG4gICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICBuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShwcmVfc3RlcC50aW1lb3V0X2hvdXJzKTtcbiAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgIF8uZWFjaChuZXdfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpIHtcbiAgICAgIHZhciBhZ2VudCwgaGFuZGxlcl9pZCwgaGFuZGxlcl9pbmZvLCBuZXdBcHByb3ZlLCBuZXh0X3N0ZXBfc3BhY2VfdXNlciwgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8sIHVzZXJfaW5mbztcbiAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgbmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZDtcbiAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZTtcbiAgICAgIGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgIGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mbztcbiAgICAgIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpO1xuICAgICAgaWYgKGFnZW50KSB7XG4gICAgICAgIG5ld19pbmJveF91c2Vyc1tpZHhdID0gYWdlbnQ7XG4gICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBhZ2VudFxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50O1xuICAgICAgfVxuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZDtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICBuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKTtcbiAgICAgIG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnMudmFsdWVzLCBuZXdBcHByb3ZlKTtcbiAgICAgIHJldHVybiBuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgIH0pO1xuICAgIHNldE9iai5pbmJveF91c2VycyA9IG5ld19pbmJveF91c2VycztcbiAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICBpbnMub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGlucy5vdXRib3hfdXNlcnMpO1xuICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgc2V0T2JqLnZhbHVlcyA9IGlucy52YWx1ZXM7XG4gICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJlX3RyYWNlLm5hbWU7XG4gICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgICd0cmFjZXMuX2lkJzogbGFzdF90cmFjZS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiBzZXRPYmpcbiAgICB9KTtcbiAgICBiID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgJHB1c2g6IHtcbiAgICAgICAgdHJhY2VzOiBuZXdUcmFjZVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChyICYmIGIpIHtcbiAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZXR1cm5fcGVuZGluZ19pbmJveFwiLCBpbnN0YW5jZSwgcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICBfLmVhY2gocmVzdF9jb3VudGVyX3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0aW5zdGFuY2VfcmVtaW5kOiAocmVtaW5kX3VzZXJzLCByZW1pbmRfY291bnQsIHJlbWluZF9kZWFkbGluZSwgaW5zdGFuY2VfaWQsIGFjdGlvbl90eXBlcywgdHJhY2VfaWQpLT5cblx0XHRjaGVjayByZW1pbmRfdXNlcnMsIEFycmF5XG5cdFx0Y2hlY2sgcmVtaW5kX2NvdW50LCBNYXRjaC5PbmVPZignc2luZ2xlJywgJ211bHRpJylcblx0XHRjaGVjayByZW1pbmRfZGVhZGxpbmUsIERhdGVcblx0XHRjaGVjayBpbnN0YW5jZV9pZCwgU3RyaW5nXG5cdFx0Y2hlY2sgYWN0aW9uX3R5cGVzLCBBcnJheVxuXHRcdGNoZWNrIHRyYWNlX2lkLCBTdHJpbmdcblxuXHRcdGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkXG5cdFx0bGFzdF9yZW1pbmRfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHtmaWVsZHM6IHtuYW1lOiAxLCB0cmFjZXM6IDEsIHZhbHVlczogMSwgc3BhY2U6IDF9fSlcblx0XHRpZiBhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FkbWluJylcblx0XHRcdGlmIHJlbWluZF9jb3VudCBpcyAnc2luZ2xlJ1xuXHRcdFx0XHRfLmVhY2ggaW5zLnRyYWNlcywgKHQpLT5cblx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwKS0+XG5cdFx0XHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxuXHRcdFx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcblx0XHRcdGVsc2UgaWYgcmVtaW5kX2NvdW50IGlzICdtdWx0aSdcblx0XHRcdFx0bm93ID0gbmV3IERhdGVcblx0XHRcdFx0cHJpb3JpdHkgPSBpbnMudmFsdWVzLnByaW9yaXR5XG5cdFx0XHRcdF8uZWFjaCBpbnMudHJhY2VzLCAodCktPlxuXHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXApLT5cblx0XHRcdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXG5cdFx0XHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxuXHRcdFx0XHRcdFx0XHRhcC5tYW51YWxfZGVhZGxpbmUgPSByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0IyDvvIgx77yJ4oCc5pmu6YCa4oCd77ya5aaC5LiJ5Liq5bel5L2c5pel5YaF5pyq5aSE55CG77yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li65LqM5pel5YaF77ybXG5cdFx0XHRcdFx0XHRcdCMgIOWmguS6jOaXpeWQjuS7jeacquWkhOeQhu+8jOezu+e7n+avj+WkqeiHquWKqOWPkeefreS/oeaPkOmGku+8jOWKnue7k+aXtumZkOS4uuS4gOaXpeWGheOAglxuXHRcdFx0XHRcdFx0XHRpZiBwcmlvcml0eSBpcyBcIuaZrumAmlwiIG9yIG5vdCBwcmlvcml0eVxuXHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHQjIO+8iDLvvInigJzlip7mlofigJ3vvJrlpoLkuIDkuKrlt6XkvZzml6XlhoXmnKrlpITnkIbvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrooajljZXkuIrnmoTigJzlip7nu5Pml7bpmZDigJ3vvIjmlofkuablvZXlhaXnmoTml7bpl7TvvInvvJtcblx0XHRcdFx0XHRcdFx0IyAg5aaC5LiA5pel5ZCO5LuN5pyq5aSE55CG77yM57O757uf5q+P5aSp6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5LiN5Y+Y77ybXG5cdFx0XHRcdFx0XHRcdCMgIOi3neemu+WKnue7k+aXtumZkOS4uuWNiuaXpeaXtu+8jOWImeavj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIHByaW9yaXR5IGlzIFwi5Yqe5paHXCJcblx0XHRcdFx0XHRcdFx0XHRpZiBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUgIyDotoXov4fkuoblip7nu5Pml7bpmZDmiJbogIXot53nprvlip7nu5Pml7bpmZDljYrml6XlhoVcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZSA9IChiYXNlX2RhdGUpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgcGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXG5cblx0XHRcdFx0XHRcdFx0IyDvvIgz77yJ4oCc57Sn5oCl4oCd77ya5Zyo5Y+R6YCB55qE5ZCM5pe277yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li66KGo5Y2V5LiK55qE4oCc5Yqe57uT5pe26ZmQ4oCd77yI5paH5Lmm5b2V5YWl55qE5pe26Ze077yJ77ybXG5cdFx0XHRcdFx0XHRcdCMgIOWmguWNiuaXpeWGheS7jeacquWkhOeQhu+8jOezu+e7n+avj+WNiuWkqeiHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4jeWPmO+8m+i3neemu+WKnue7k+aXtumZkOS4uuWNiuaXpeaXtu+8jOavj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIHByaW9yaXR5IGlzIFwi57Sn5oClXCJcblx0XHRcdFx0XHRcdFx0XHRpZiBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUgIyDotoXov4fkuoblip7nu5Pml7bpmZDmiJbogIXot53nprvlip7nu5Pml7bpmZDljYrml6XlhoVcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZSA9IChiYXNlX2RhdGUpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgcGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXG5cblx0XHRcdFx0XHRcdFx0IyDvvIg077yJ4oCc54m55oCl4oCd77ya5Zyo5Y+R6YCB55qE5ZCM5pe277yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li66KGo5Y2V5LiK55qE4oCc5Yqe57uT5pe26ZmQ4oCd77yI5paH5Lmm5b2V5YWl55qE5pe26Ze077yJ77ybXG5cdFx0XHRcdFx0XHRcdCMgIOWmguWNiuaXpeWGheS7jeacquWkhOeQhu+8jOezu+e7n+avj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8muWKnue7k+aXtumZkOS4jeWPmO+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIHByaW9yaXR5IGlzIFwi54m55oClXCJcblx0XHRcdFx0XHRcdFx0XHRpZiBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUgIyDotoXov4fkuoblip7nu5Pml7bpmZDmiJbogIXot53nprvlip7nu5Pml7bpmZDljYrml6XlhoVcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZSA9IChiYXNlX2RhdGUpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgcGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXG5cblx0XHRcdFx0aWYgbm90IF8uaXNFbXB0eShsYXN0X3JlbWluZF91c2Vycylcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHsndHJhY2VzJzogaW5zLnRyYWNlc319KVxuXG5cdFx0ZWxzZSBpZiBhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FwcGxpY2FudCcpXG5cdFx0XHR0cmFjZSA9IF8uZmluZCBpbnMudHJhY2VzLCAodCktPlxuXHRcdFx0XHRyZXR1cm4gdC5faWQgaXMgdHJhY2VfaWRcblx0XHRcdF8uZWFjaCB0cmFjZS5hcHByb3ZlcywgKGFwKS0+XG5cdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXG5cdFx0XHRcdFx0bGFzdF9yZW1pbmRfdXNlcnMucHVzaCBhcC51c2VyXG5cblx0XHRlbHNlIGlmIGFjdGlvbl90eXBlcy5pbmNsdWRlcygnY2MnKVxuXHRcdFx0Xy5lYWNoIGlucy50cmFjZXMsICh0KS0+XG5cdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXApLT5cblx0XHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZSBhbmQgYXAudHlwZSBpcyAnY2MnIGFuZCBhcC5mcm9tX3VzZXIgaXMgY3VycmVudF91c2VyX2lkXG5cdFx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcblxuXHRcdHV1Zmxvd01hbmFnZXIuc2VuZFJlbWluZFNNUyBpbnMubmFtZSwgcmVtaW5kX2RlYWRsaW5lLCBsYXN0X3JlbWluZF91c2VycywgaW5zLnNwYWNlLCBpbnMuX2lkXG5cblx0XHRyZXR1cm4gdHJ1ZVxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZV9yZW1pbmQ6IGZ1bmN0aW9uKHJlbWluZF91c2VycywgcmVtaW5kX2NvdW50LCByZW1pbmRfZGVhZGxpbmUsIGluc3RhbmNlX2lkLCBhY3Rpb25fdHlwZXMsIHRyYWNlX2lkKSB7XG4gICAgdmFyIGN1cnJlbnRfdXNlcl9pZCwgaW5zLCBsYXN0X3JlbWluZF91c2Vycywgbm93LCBwcmlvcml0eSwgdHJhY2U7XG4gICAgY2hlY2socmVtaW5kX3VzZXJzLCBBcnJheSk7XG4gICAgY2hlY2socmVtaW5kX2NvdW50LCBNYXRjaC5PbmVPZignc2luZ2xlJywgJ211bHRpJykpO1xuICAgIGNoZWNrKHJlbWluZF9kZWFkbGluZSwgRGF0ZSk7XG4gICAgY2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG4gICAgY2hlY2soYWN0aW9uX3R5cGVzLCBBcnJheSk7XG4gICAgY2hlY2sodHJhY2VfaWQsIFN0cmluZyk7XG4gICAgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG4gICAgbGFzdF9yZW1pbmRfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxLFxuICAgICAgICB0cmFjZXM6IDEsXG4gICAgICAgIHZhbHVlczogMSxcbiAgICAgICAgc3BhY2U6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdhZG1pbicpKSB7XG4gICAgICBpZiAocmVtaW5kX2NvdW50ID09PSAnc2luZ2xlJykge1xuICAgICAgICBfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChyZW1pbmRfY291bnQgPT09ICdtdWx0aScpIHtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIHByaW9yaXR5ID0gaW5zLnZhbHVlcy5wcmlvcml0eTtcbiAgICAgICAgXy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwKSB7XG4gICAgICAgICAgICB2YXIgY2FjdWxhdGVfZGF0ZTtcbiAgICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgICAgICAgYXAubWFudWFsX2RlYWRsaW5lID0gcmVtaW5kX2RlYWRsaW5lO1xuICAgICAgICAgICAgICBpZiAocHJpb3JpdHkgPT09IFwi5pmu6YCaXCIgfHwgIXByaW9yaXR5KSB7XG5cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA9PT0gXCLlip7mlodcIikge1xuICAgICAgICAgICAgICAgIGlmIChTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlID0gZnVuY3Rpb24oYmFzZV9kYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbHVzX2hhbGZkYXlfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgcGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYWN1bGF0ZV9kYXRlKG5vdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09PSBcIue0p+aApVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUgPSBmdW5jdGlvbihiYXNlX2RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdXNfaGFsZmRheV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICBwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY3VsYXRlX2RhdGUobm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPT09IFwi54m55oClXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZSA9IGZ1bmN0aW9uKGJhc2VfZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGx1c19oYWxmZGF5X2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2FjdWxhdGVfZGF0ZShub3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFfLmlzRW1wdHkobGFzdF9yZW1pbmRfdXNlcnMpKSB7XG4gICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAndHJhY2VzJzogaW5zLnRyYWNlc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FwcGxpY2FudCcpKSB7XG4gICAgICB0cmFjZSA9IF8uZmluZChpbnMudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9PT0gdHJhY2VfaWQ7XG4gICAgICB9KTtcbiAgICAgIF8uZWFjaCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBsYXN0X3JlbWluZF91c2Vycy5wdXNoKGFwLnVzZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbl90eXBlcy5pbmNsdWRlcygnY2MnKSkge1xuICAgICAgXy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUgJiYgYXAudHlwZSA9PT0gJ2NjJyAmJiBhcC5mcm9tX3VzZXIgPT09IGN1cnJlbnRfdXNlcl9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLnNlbmRSZW1pbmRTTVMoaW5zLm5hbWUsIHJlbWluZF9kZWFkbGluZSwgbGFzdF9yZW1pbmRfdXNlcnMsIGlucy5zcGFjZSwgaW5zLl9pZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0bmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZDogKGRlYWxfdHlwZSwgc3RlcF9uYW1lLCBwYXJhbXMpIC0+XG5cdFx0Y2hlY2sgZGVhbF90eXBlLCBTdHJpbmdcblx0XHRjaGVjayBzdGVwX25hbWUsIFN0cmluZ1xuXHRcdGNoZWNrIHBhcmFtcywgT2JqZWN0XG5cblx0XHRzdHIgPSBcIlwiXG5cdFx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHRoaXMudXNlcklkIH0sIHsgZmllbGRzOiB7IGxvY2FsZTogMSB9IH0pXG5cdFx0I+iuvue9ruW9k+WJjeivreiogOeOr+Wig1xuXHRcdGxhbmcgPSAnZW4nXG5cdFx0aWYgdXNlci5sb2NhbGUgaXMgJ3poLWNuJ1xuXHRcdFx0bGFuZyA9ICd6aC1DTidcblxuXHRcdCMg5oyH5a6a5a6h5om55bKX5L2NXG5cdFx0aWYgZGVhbF90eXBlIGlzICdhcHBsaWNhbnRSb2xlJ1xuXHRcdFx0YXBwcm92ZXJfcm9sZXMgPSBwYXJhbXMuYXBwcm92ZXJfcm9sZXNcblx0XHRcdHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiB7ICRpbjogYXBwcm92ZXJfcm9sZXMgfSB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSkuZmV0Y2goKVxuXHRcdFx0cm9sZXNfbmFtZSA9IF8ucGx1Y2socm9sZXMsICduYW1lJykudG9TdHJpbmcoKVxuXHRcdFx0c3RyID0gVEFQaTE4bi5fXyAnbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5hcHBsaWNhbnRfcm9sZScsIHsgc3RlcF9uYW1lOiBzdGVwX25hbWUsIHJvbGVfbmFtZTogcm9sZXNfbmFtZSB9LCBsYW5nXG5cblxuXHRcdHJldHVybiBzdHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZDogZnVuY3Rpb24oZGVhbF90eXBlLCBzdGVwX25hbWUsIHBhcmFtcykge1xuICAgIHZhciBhcHByb3Zlcl9yb2xlcywgbGFuZywgcm9sZXMsIHJvbGVzX25hbWUsIHN0ciwgdXNlcjtcbiAgICBjaGVjayhkZWFsX3R5cGUsIFN0cmluZyk7XG4gICAgY2hlY2soc3RlcF9uYW1lLCBTdHJpbmcpO1xuICAgIGNoZWNrKHBhcmFtcywgT2JqZWN0KTtcbiAgICBzdHIgPSBcIlwiO1xuICAgIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgIF9pZDogdGhpcy51c2VySWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbG9jYWxlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgbGFuZyA9ICdlbic7XG4gICAgaWYgKHVzZXIubG9jYWxlID09PSAnemgtY24nKSB7XG4gICAgICBsYW5nID0gJ3poLUNOJztcbiAgICB9XG4gICAgaWYgKGRlYWxfdHlwZSA9PT0gJ2FwcGxpY2FudFJvbGUnKSB7XG4gICAgICBhcHByb3Zlcl9yb2xlcyA9IHBhcmFtcy5hcHByb3Zlcl9yb2xlcztcbiAgICAgIHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBhcHByb3Zlcl9yb2xlc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIHJvbGVzX25hbWUgPSBfLnBsdWNrKHJvbGVzLCAnbmFtZScpLnRvU3RyaW5nKCk7XG4gICAgICBzdHIgPSBUQVBpMThuLl9fKCduZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmFwcGxpY2FudF9yb2xlJywge1xuICAgICAgICBzdGVwX25hbWU6IHN0ZXBfbmFtZSxcbiAgICAgICAgcm9sZV9uYW1lOiByb2xlc19uYW1lXG4gICAgICB9LCBsYW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufSk7XG4iLCJfZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKVxuXG5NZXRlb3IubWV0aG9kc1xuXHRpbnN0YW5jZU51bWJlckJ1aWxkZXI6IChzcGFjZUlkLCBuYW1lKS0+XG5cblx0XHRudW1iZXJSdWxlcyA9IGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy5maW5kT25lKHtzcGFjZTogc3BhY2VJZCwgbmFtZTogbmFtZX0pXG5cblx0XHRpZiAhbnVtYmVyUnVsZXNcblx0XHRcdHRocm93IG5ldyAgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIiN7bmFtZX1cIilcblxuXHRcdGRhdGUgPSBuZXcgRGF0ZSgpXG5cblx0XHRjb250ZXh0ID0ge31cblxuXHRcdGNvbnRleHQuXyA9IF9cblxuXHRcdF9ZWVlZID0gZGF0ZS5nZXRGdWxsWWVhcigpXG5cblx0XHRfTlVNQkVSID0gKG51bWJlclJ1bGVzLm51bWJlciB8fCAwKSArIDFcblxuXHRcdGNvbnRleHQuWVlZWSA9IF8uY2xvbmUoX1lZWVkpXG5cblx0XHRjb250ZXh0Lk1NID0gZGF0ZS5nZXRNb250aCgpICsgMVxuXG5cdFx0Y29udGV4dC5tbSA9IGRhdGUuZ2V0TW9udGgoKSArIDFcblxuXHRcdGlmIGNvbnRleHQuTU0gPCAxMFxuXHRcdFx0Y29udGV4dC5NTSA9IFwiMFwiICsgY29udGV4dC5NTVxuXG5cdFx0Y29udGV4dC5ERCA9IGRhdGUuZ2V0RGF0ZSgpXG5cblx0XHRjb250ZXh0LmRkID0gZGF0ZS5nZXREYXRlKClcblxuXHRcdGlmIGNvbnRleHQuREQgPCAxMFxuXHRcdFx0Y29udGV4dC5ERCA9IFwiMFwiICsgY29udGV4dC5ERFxuXG5cdFx0aWYgY29udGV4dC5ZWVlZICE9IG51bWJlclJ1bGVzLnllYXJcblx0XHRcdF9OVU1CRVIgPSBudW1iZXJSdWxlcy5maXJzdF9udW1iZXIgfHwgMVxuXG5cdFx0Y29udGV4dC5OVU1CRVIgPSBfLmNsb25lKF9OVU1CRVIpXG5cblx0XHRydWxlcyA9IG51bWJlclJ1bGVzLnJ1bGVzLnJlcGxhY2UoXCJ7WVlZWX1cIiwgXCInICsgWVlZWSArICdcIikucmVwbGFjZShcIntNTX1cIiwgXCInICsgTU0gKyAnXCIpLnJlcGxhY2UoXCJ7TlVNQkVSfVwiLCBcIicgKyBOVU1CRVIgKyAnXCIpXG5cblx0XHRzY3JpcHQgPSBcInZhciBuZXdObyA9ICcje3J1bGVzfSc7IGV4cG9ydHMubmV3Tm8gPSBuZXdOb1wiO1xuXG5cdFx0dHJ5XG5cdFx0XHRyZXMgPSBfZXZhbChzY3JpcHQsIFwibmV3Tm9cIiwgY29udGV4dCwgZmFsc2UpLm5ld05vXG5cblx0XHRcdGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy51cGRhdGUoe19pZDogbnVtYmVyUnVsZXMuX2lkfSwgeyRzZXQ6IHt5ZWFyOiBfWVlZWSwgbnVtYmVyOiBfTlVNQkVSfX0pXG5cblx0XHRcdGNvbnNvbGUubG9nIHRoaXMudXNlcklkLCByZXNcblxuXHRcdGNhdGNoIGVcblx0XHRcdHJlcyA9IHtfZXJyb3I6IGV9XG5cblx0XHRyZXR1cm4gcmVzO1xuIiwidmFyIF9ldmFsO1xuXG5fZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKTtcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZU51bWJlckJ1aWxkZXI6IGZ1bmN0aW9uKHNwYWNlSWQsIG5hbWUpIHtcbiAgICB2YXIgX05VTUJFUiwgX1lZWVksIGNvbnRleHQsIGRhdGUsIGUsIG51bWJlclJ1bGVzLCByZXMsIHJ1bGVzLCBzY3JpcHQ7XG4gICAgbnVtYmVyUnVsZXMgPSBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgIG5hbWU6IG5hbWVcbiAgICB9KTtcbiAgICBpZiAoIW51bWJlclJ1bGVzKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIlwiICsgbmFtZSk7XG4gICAgfVxuICAgIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnRleHQgPSB7fTtcbiAgICBjb250ZXh0Ll8gPSBfO1xuICAgIF9ZWVlZID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIF9OVU1CRVIgPSAobnVtYmVyUnVsZXMubnVtYmVyIHx8IDApICsgMTtcbiAgICBjb250ZXh0LllZWVkgPSBfLmNsb25lKF9ZWVlZKTtcbiAgICBjb250ZXh0Lk1NID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBjb250ZXh0Lm1tID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBpZiAoY29udGV4dC5NTSA8IDEwKSB7XG4gICAgICBjb250ZXh0Lk1NID0gXCIwXCIgKyBjb250ZXh0Lk1NO1xuICAgIH1cbiAgICBjb250ZXh0LkREID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgY29udGV4dC5kZCA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIGlmIChjb250ZXh0LkREIDwgMTApIHtcbiAgICAgIGNvbnRleHQuREQgPSBcIjBcIiArIGNvbnRleHQuREQ7XG4gICAgfVxuICAgIGlmIChjb250ZXh0LllZWVkgIT09IG51bWJlclJ1bGVzLnllYXIpIHtcbiAgICAgIF9OVU1CRVIgPSBudW1iZXJSdWxlcy5maXJzdF9udW1iZXIgfHwgMTtcbiAgICB9XG4gICAgY29udGV4dC5OVU1CRVIgPSBfLmNsb25lKF9OVU1CRVIpO1xuICAgIHJ1bGVzID0gbnVtYmVyUnVsZXMucnVsZXMucmVwbGFjZShcIntZWVlZfVwiLCBcIicgKyBZWVlZICsgJ1wiKS5yZXBsYWNlKFwie01NfVwiLCBcIicgKyBNTSArICdcIikucmVwbGFjZShcIntOVU1CRVJ9XCIsIFwiJyArIE5VTUJFUiArICdcIik7XG4gICAgc2NyaXB0ID0gXCJ2YXIgbmV3Tm8gPSAnXCIgKyBydWxlcyArIFwiJzsgZXhwb3J0cy5uZXdObyA9IG5ld05vXCI7XG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJuZXdOb1wiLCBjb250ZXh0LCBmYWxzZSkubmV3Tm87XG4gICAgICBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBudW1iZXJSdWxlcy5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDoge1xuICAgICAgICAgIHllYXI6IF9ZWVlZLFxuICAgICAgICAgIG51bWJlcjogX05VTUJFUlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcklkLCByZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICByZXMgPSB7XG4gICAgICAgIF9lcnJvcjogZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRjaGVja19tYWluX2F0dGFjaDogKGluc19pZCwgbmFtZSktPlxuXHRcdGNoZWNrIGluc19pZCwgU3RyaW5nXG5cdFx0dXVmbG93TWFuYWdlci5jaGVja01haW5BdHRhY2goaW5zX2lkLCBuYW1lKVxuXHRcdHJldHVybiAnc3VjY2VzcydcblxuIiwiTWV0ZW9yLm1ldGhvZHNcblx0cmVtb3ZlX3JlbGF0ZWQ6IChpbnNfaWQsIHJlX2luc19pZCktPlxuXHRcdGNoZWNrKGluc19pZCwgU3RyaW5nKVxuXHRcdGNoZWNrKHJlX2luc19pZCwgU3RyaW5nKVxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWR9LCB7ZmllbGRzOiB7cmVsYXRlZF9pbnN0YW5jZXM6IDF9fSlcblxuXHRcdGlmIGluc1xuXHRcdFx0cmVzID0gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIHx8IFtdXG5cblx0XHRcdGluZGV4ID0gcmVzLmluZGV4T2YocmVfaW5zX2lkKVxuXG5cdFx0XHRpZiBpbmRleCA+IC0xXG5cdFx0XHRcdHJlcy5yZW1vdmUoaW5kZXgpXG5cblx0XHRcdHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cdFx0XHRzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVzXG5cblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zX2lkfSwgeyRzZXQ6IHNldF9vYmp9KVxuXG5cdHVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkOiAoaW5zX2lkLCByZWxhdGVkX2luc3RhbmNlcyktPlxuXHRcdGNoZWNrKGluc19pZCwgU3RyaW5nKVxuXHRcdGNoZWNrKHJlbGF0ZWRfaW5zdGFuY2VzLCBBcnJheSlcblxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWQsICRvcjogW3tzdWJtaXR0ZXI6IHRoaXMudXNlcklkfSwge2FwcGxpY2FudDogdGhpcy51c2VySWR9LCB7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dfSwge2ZpZWxkczoge3N0YXRlOiAxfX0pXG5cblx0XHRpZiBpbnNcblx0XHRcdHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cdFx0XHRzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVsYXRlZF9pbnN0YW5jZXNcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zX2lkfSwgeyRzZXQ6IHNldF9vYmp9KVxuXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46ICByZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7X2lkOiAxLCB2YWx1ZXM6IDF9fSkuZmV0Y2goKVxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICByZW1vdmVfcmVsYXRlZDogZnVuY3Rpb24oaW5zX2lkLCByZV9pbnNfaWQpIHtcbiAgICB2YXIgaW5kZXgsIGlucywgcmVzLCBzZXRfb2JqO1xuICAgIGNoZWNrKGluc19pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhyZV9pbnNfaWQsIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICByZWxhdGVkX2luc3RhbmNlczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMpIHtcbiAgICAgIHJlcyA9IGlucy5yZWxhdGVkX2luc3RhbmNlcyB8fCBbXTtcbiAgICAgIGluZGV4ID0gcmVzLmluZGV4T2YocmVfaW5zX2lkKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHJlcy5yZW1vdmUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgc2V0X29iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcbiAgICAgIHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcbiAgICAgIHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZXM7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldF9vYmpcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlX2luc3RhbmNlX3JlbGF0ZWQ6IGZ1bmN0aW9uKGluc19pZCwgcmVsYXRlZF9pbnN0YW5jZXMpIHtcbiAgICB2YXIgaW5zLCBzZXRfb2JqO1xuICAgIGNoZWNrKGluc19pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhyZWxhdGVkX2luc3RhbmNlcywgQXJyYXkpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNfaWQsXG4gICAgICAkb3I6IFtcbiAgICAgICAge1xuICAgICAgICAgIHN1Ym1pdHRlcjogdGhpcy51c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGFwcGxpY2FudDogdGhpcy51c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGluYm94X3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2NfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zKSB7XG4gICAgICBzZXRfb2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuICAgICAgc2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuICAgICAgc2V0X29iai5yZWxhdGVkX2luc3RhbmNlcyA9IHJlbGF0ZWRfaW5zdGFuY2VzO1xuICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldF9vYmpcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgX2lkOiB7XG4gICAgICAgICRpbjogcmVsYXRlZF9pbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICB2YWx1ZXM6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdHVwZGF0ZUZsb3dQb3NpdGlvbjogKGRhdGEpIC0+XG5cdFx0ZGIuZmxvd19wb3NpdGlvbnMudXBkYXRlIHsgX2lkOiBkYXRhLl9pZCB9LCAkc2V0OlxuXHRcdFx0cm9sZTogZGF0YS5yb2xlXG5cdFx0XHR1c2VyczogZGF0YS51c2Vyc1xuXHRcdFx0b3JnOiBkYXRhLm9yZ1xuXG5cdHVwZGF0ZUZsb3dSb2xlOiAoZGF0YSkgLT5cblx0XHRjb25zb2xlLmxvZyBkYXRhLl9pZFxuXHRcdGNvbnNvbGUubG9nIGRhdGEubmFtZVxuXHRcdGRiLmZsb3dfcm9sZXMudXBkYXRlIHsgX2lkOiBkYXRhLl9pZCB9LCAkc2V0OlxuXHRcdFx0bmFtZTogZGF0YS5uYW1lIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICB1cGRhdGVGbG93UG9zaXRpb246IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICByZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMudXBkYXRlKHtcbiAgICAgIF9pZDogZGF0YS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIHJvbGU6IGRhdGEucm9sZSxcbiAgICAgICAgdXNlcnM6IGRhdGEudXNlcnMsXG4gICAgICAgIG9yZzogZGF0YS5vcmdcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgdXBkYXRlRmxvd1JvbGU6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhkYXRhLl9pZCk7XG4gICAgY29uc29sZS5sb2coZGF0YS5uYW1lKTtcbiAgICByZXR1cm4gZGIuZmxvd19yb2xlcy51cGRhdGUoe1xuICAgICAgX2lkOiBkYXRhLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0c3RhcnRfZmxvdzogKHNwYWNlLCBmbG93SWQsIHN0YXJ0KSAtPlxuXG5cdFx0a2V5VmFsdWUgPSBkYi5zdGVlZG9zX2tleXZhbHVlcy5maW5kT25lKHsgc3BhY2U6IHNwYWNlLCB1c2VyOiB0aGlzLnVzZXJJZCwga2V5OiAnc3RhcnRfZmxvd3MnIH0sIHsgZmllbGRzOiB7IHZhbHVlOiAxIH0gfSlcblxuXHRcdHN0YXJ0X2Zsb3dzID0ga2V5VmFsdWU/LnZhbHVlIHx8IFtdXG5cblx0XHRpZiBzdGFydFxuXHRcdFx0c3RhcnRfZmxvd3MucHVzaChmbG93SWQpXG5cblx0XHRcdHN0YXJ0X2Zsb3dzID0gXy51bmlxKHN0YXJ0X2Zsb3dzKVxuXHRcdGVsc2Vcblx0XHRcdHN0YXJ0X2Zsb3dzLnJlbW92ZShzdGFydF9mbG93cy5pbmRleE9mKGZsb3dJZCkpXG5cblx0XHRpZiBrZXlWYWx1ZVxuXHRcdFx0ZGIuc3RlZWRvc19rZXl2YWx1ZXMudXBkYXRlKHsgX2lkOiBrZXlWYWx1ZS5faWQgfSwgeyBzcGFjZTogc3BhY2UsIHVzZXI6IHRoaXMudXNlcklkLCBrZXk6ICdzdGFydF9mbG93cycsIHZhbHVlOiBzdGFydF9mbG93cyB9KVxuXHRcdGVsc2Vcblx0XHRcdGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmluc2VydCh7IHNwYWNlOiBzcGFjZSwgdXNlcjogdGhpcy51c2VySWQsIGtleTogJ3N0YXJ0X2Zsb3dzJywgdmFsdWU6IHN0YXJ0X2Zsb3dzIH0pXG5cbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgc3RhcnRfZmxvdzogZnVuY3Rpb24oc3BhY2UsIGZsb3dJZCwgc3RhcnQpIHtcbiAgICB2YXIga2V5VmFsdWUsIHN0YXJ0X2Zsb3dzO1xuICAgIGtleVZhbHVlID0gZGIuc3RlZWRvc19rZXl2YWx1ZXMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2UsXG4gICAgICB1c2VyOiB0aGlzLnVzZXJJZCxcbiAgICAgIGtleTogJ3N0YXJ0X2Zsb3dzJ1xuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB2YWx1ZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIHN0YXJ0X2Zsb3dzID0gKGtleVZhbHVlICE9IG51bGwgPyBrZXlWYWx1ZS52YWx1ZSA6IHZvaWQgMCkgfHwgW107XG4gICAgaWYgKHN0YXJ0KSB7XG4gICAgICBzdGFydF9mbG93cy5wdXNoKGZsb3dJZCk7XG4gICAgICBzdGFydF9mbG93cyA9IF8udW5pcShzdGFydF9mbG93cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0X2Zsb3dzLnJlbW92ZShzdGFydF9mbG93cy5pbmRleE9mKGZsb3dJZCkpO1xuICAgIH1cbiAgICBpZiAoa2V5VmFsdWUpIHtcbiAgICAgIHJldHVybiBkYi5zdGVlZG9zX2tleXZhbHVlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGtleVZhbHVlLl9pZFxuICAgICAgfSwge1xuICAgICAgICBzcGFjZTogc3BhY2UsXG4gICAgICAgIHVzZXI6IHRoaXMudXNlcklkLFxuICAgICAgICBrZXk6ICdzdGFydF9mbG93cycsXG4gICAgICAgIHZhbHVlOiBzdGFydF9mbG93c1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkYi5zdGVlZG9zX2tleXZhbHVlcy5pbnNlcnQoe1xuICAgICAgICBzcGFjZTogc3BhY2UsXG4gICAgICAgIHVzZXI6IHRoaXMudXNlcklkLFxuICAgICAgICBrZXk6ICdzdGFydF9mbG93cycsXG4gICAgICAgIHZhbHVlOiBzdGFydF9mbG93c1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdGdldF9pbnN0YW5jZV90cmFjZXM6IChpbnNfaWQpLT5cblx0XHRpZiAoIXRoaXMudXNlcklkKVxuXHRcdFx0cmV0dXJuO1xuXHRcdG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLFxuXHRcdFx0J2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJ11cblxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lIHtfaWQ6IGluc19pZH0sIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcInRyYWNlcy5faWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuaXNfZmluaXNoZWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuc3RlcFwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5zdGFydF9kYXRlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLm5hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuZmluaXNoX2RhdGVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuanVkZ2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuX2lkXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX2ZpbmlzaGVkXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnVzZXJcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlclwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX25hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMudHlwZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5zdGFydF9kYXRlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmRlc2NyaXB0aW9uXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX3JlYWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuanVkZ2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZmluaXNoX2RhdGVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyX25hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmNjX2Rlc2NyaXB0aW9uXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnRyYWNlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfc3BhY2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9pbnN0YW5jZVwiOiAxXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgIWluc1xuXHRcdFx0cmV0dXJuXG5cblx0XHRyZXR1cm4gaW5zPy50cmFjZXNcblxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBnZXRfaW5zdGFuY2VfdHJhY2VzOiBmdW5jdGlvbihpbnNfaWQpIHtcbiAgICB2YXIgaW5zLCBtaW5pQXBwcm92ZUZpZWxkcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLCAnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nXTtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy5faWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuaXNfZmluaXNoZWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuc3RlcFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5zdGFydF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLm5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuZmluaXNoX2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuanVkZ2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuX2lkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX2ZpbmlzaGVkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnVzZXJcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlclwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX25hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMudHlwZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5zdGFydF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmRlc2NyaXB0aW9uXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX3JlYWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuanVkZ2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZmluaXNoX2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyX25hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmNjX2Rlc2NyaXB0aW9uXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnRyYWNlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfc3BhY2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9pbnN0YW5jZVwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGlucyAhPSBudWxsID8gaW5zLnRyYWNlcyA6IHZvaWQgMDtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHQnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcyktPlxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpZiAhc3BhY2Vcblx0XHRcdHJldHVyblxuXG5cdFx0X2JhdGNoX2luc3RhbmNlcyA9IEluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyhzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgdGhpcy51c2VySWQpXG5cblx0XHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlc1xuXG5cdCdnZXRfYmF0Y2hfaW5zdGFuY2VzX2NvdW50JzogKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKS0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGlmICFzcGFjZVxuXHRcdFx0cmV0dXJuXG5cblx0XHRfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZClcblxuXHRcdHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzPy5sZW5ndGggfHwgMFxuXG5cdCdnZXRfbXlfYXBwcm92ZXMnOiAoaW5zdGFuY2VJZHMpLT5cblxuXHRcdHRoYXQgPSB0aGlzXG5cblx0XHRpZiAhdGhhdC51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0bXlBcHByb3ZlcyA9IG5ldyBBcnJheSgpXG5cblx0XHRpbnN0YW5jZUlkcy5mb3JFYWNoIChpbnNJZCktPlxuXHRcdFx0bXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zSWQsIHRoYXQudXNlcklkKVxuXHRcdFx0aWYgbXlfYXBwcm92ZVxuXHRcdFx0XHRteUFwcHJvdmVzLnB1c2gobXlfYXBwcm92ZSlcblxuXHRcdHJldHVybiBteUFwcHJvdmVzXG5cblxuXG5cblxuXG5cblxuXG5cblxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICAnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IGZ1bmN0aW9uKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKSB7XG4gICAgdmFyIF9iYXRjaF9pbnN0YW5jZXM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNwYWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9iYXRjaF9pbnN0YW5jZXMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIHRoaXMudXNlcklkKTtcbiAgICByZXR1cm4gX2JhdGNoX2luc3RhbmNlcztcbiAgfSxcbiAgJ2dldF9iYXRjaF9pbnN0YW5jZXNfY291bnQnOiBmdW5jdGlvbihzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcykge1xuICAgIHZhciBfYmF0Y2hfaW5zdGFuY2VzO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZCk7XG4gICAgcmV0dXJuIChfYmF0Y2hfaW5zdGFuY2VzICE9IG51bGwgPyBfYmF0Y2hfaW5zdGFuY2VzLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgfSxcbiAgJ2dldF9teV9hcHByb3Zlcyc6IGZ1bmN0aW9uKGluc3RhbmNlSWRzKSB7XG4gICAgdmFyIG15QXBwcm92ZXMsIHRoYXQ7XG4gICAgdGhhdCA9IHRoaXM7XG4gICAgaWYgKCF0aGF0LnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBteUFwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgaW5zdGFuY2VJZHMuZm9yRWFjaChmdW5jdGlvbihpbnNJZCkge1xuICAgICAgdmFyIG15X2FwcHJvdmU7XG4gICAgICBteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnNJZCwgdGhhdC51c2VySWQpO1xuICAgICAgaWYgKG15X2FwcHJvdmUpIHtcbiAgICAgICAgcmV0dXJuIG15QXBwcm92ZXMucHVzaChteV9hcHByb3ZlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbXlBcHByb3ZlcztcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRjaGFuZ2VfZmxvd19zdGF0ZTogKGZsb3dzKSAtPlxuXHRcdGNoZWNrIGZsb3dzLCBBcnJheVxuXG5cdFx0X3VzZXJJZCA9IHRoaXMudXNlcklkXG5cblx0XHRpZiAhX3VzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRmbG93cy5mb3JFYWNoIChmbG93KSAtPlxuXHRcdFx0c3BhY2VJZCA9IGZsb3cuc3BhY2Vcblx0XHRcdGZvcm1JZCA9IGZsb3cuZm9ybVxuXHRcdFx0Zmxvd0lkID0gZmxvdy5pZFxuXHRcdFx0c3RhdGUgPSBmbG93LnN0YXRlXG5cblx0XHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCBfdXNlcklkKVxuXHRcdFx0XHR0aHJvdyAgTWV0ZW9yLkVycm9yKDQwMSwgXCJObyBwZXJtaXNzaW9uXCIpXG5cblx0XHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmb3JtSWQgfSwgeyBmaWVsZHM6IHsgaGlzdG9yeXM6IDAgfSB9KVxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd0lkIH0sIHsgZmllbGRzOiB7IGhpc3RvcnlzOiAwIH0gfSlcblxuXHRcdFx0aWYgc3RhdGUgIT0gJ2VuYWJsZWQnICYmIHN0YXRlICE9ICdkaXNhYmxlZCdcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwic3RhdGXml6DmlYhcIilcblxuXHRcdFx0aWYgIWZvcm1cblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZm9ybeaXoOaViFwiKVxuXG5cdFx0XHRpZiAhZmxvd1xuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmbG935peg5pWIXCIpXG5cblx0XHRcdGlmICFmb3JtLmlzX3ZhbGlkXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+W8leeUqOeahOihqOWNlVsje2Zvcm0ubmFtZX1d6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l6KGo5Y2V6K6+572uXCIpXG5cblx0XHRcdGlmICFmbG93LmlzX3ZhbGlkXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpea1geeoi+iuvue9rlwiKVxuXG5cdFx0XHRpZiAhWyduZXcnLCAnbW9kaWZ5JywgJ2RlbGV0ZSddLmluY2x1ZGVzKGZsb3cuZmxvd3R5cGUpXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jGZsb3d0eXBl5YC85b+F6aG75pivbmV344CBbW9kaWZ544CBZGVsZXRl5YW25Lit5LmL5LiAXCIpXG5cblx0XHRcdGlmICFfLmlzQXJyYXkoZmxvdy5jdXJyZW50LnN0ZXBzKVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzmtYHnqIvnmoTmraXpqqTkuI3og73kuLrnqbpcIilcblxuXHRcdFx0aWYgXy51bmlxKGZsb3cuY3VycmVudC5zdGVwcywgJ25hbWUnKS5sZW5ndGggIT0gZmxvdy5jdXJyZW50LnN0ZXBzLmxlbmd0aFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzlkIzkuIDkuKrmtYHnqIvkuIvnmoTmraXpqqTnmoTlkI3np7DkuI3og73ph43lpI1cIilcblxuXHRcdFx0bm93ID0gbmV3IERhdGVcblxuXHRcdFx0aWYgc3RhdGUgPT0gJ2VuYWJsZWQnXG5cdFx0XHRcdCPmtYHnqIvlkK/nlKjliY3vvIzmoKHpqozlhbbigJzmjIflrprljoblj7LmraXpqqTigJ3lsZ7mgKfkuK3ooqvlvJXnlKjnmoTmraXpqqTmmK/lkKblrZjlnKjkuJTog73ooqvmib7liLDvvIjku4XpmZDkuo7mtYHnqIvnmoTmnIDmlrDniYjvvIlcblx0XHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2ggKHN0ZXApIC0+XG5cdFx0XHRcdFx0aWYgWydzcGVjaWZ5U3RlcFVzZXInLCAnc3BlY2lmeVN0ZXBSb2xlJ10uaW5jbHVkZXMoc3RlcC5kZWFsX3R5cGUpXG5cdFx0XHRcdFx0XHRpZiAhc3RlcC5hcHByb3Zlcl9zdGVwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFsje3N0ZXAubmFtZX1d5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHNwZWNpZnlTdGVwID0gXy5maW5kIGZsb3cuY3VycmVudC5zdGVwcywgKF9zdGVwKSAtPlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzdGVwLmFwcHJvdmVyX3N0ZXAgPT0gX3N0ZXAuX2lkXG5cblx0XHRcdFx0XHRcdFx0aWYgIXNwZWNpZnlTdGVwXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkWyN7c3RlcC5uYW1lfV3kuK3nmoTmjIflrprljoblj7LmraXpqqTkuI3lrZjlnKjjgIJcIilcblxuXHRcdFx0XHRmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUgPSBmb3JtLmN1cnJlbnQuZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKVxuXG5cdFx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoIChzdGVwKSAtPlxuXHRcdFx0XHRcdHN0ZXAuZmllbGRzX21vZGlmaWFibGUgPSBfLmludGVyc2VjdGlvbihzdGVwLmZpZWxkc19tb2RpZmlhYmxlLCBmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUpXG5cblx0XHRcdFx0I+WmguaenCDmtYHnqIvlr7nlupTooajljZUg5piv5YGc55So55qEIOWImeWQr+eUqFxuXHRcdFx0XHRpZiBmb3JtLnN0YXRlID09ICdkaXNhYmxlZCdcblx0XHRcdFx0XHRkYi5mb3Jtcy51cGRhdGUoe19pZDogZm9ybS5faWR9LCB7JHNldDoge1wic3RhdGVcIjogXCJlbmFibGVkXCIsIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWR9fSlcblxuXHRcdFx0XHRmbG93LmN1cnJlbnQubW9kaWZpZWQgPSBub3dcblx0XHRcdFx0Zmxvdy5jdXJyZW50LnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0Zmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5ID0gX3VzZXJJZFxuXG5cdFx0XHRcdGRiLmZsb3dzLnVwZGF0ZSh7IF9pZDogZmxvdy5faWQgfSwgeyAkc2V0OiB7IFwic3RhdGVcIjogXCJlbmFibGVkXCIsIFwiY3VycmVudFwiOiBmbG93LmN1cnJlbnQgfSB9KVxuXG5cdFx0XHRlbHNlXG5cdFx0XHRcdCPnpoHnlKjmtYHnqItcblx0XHRcdFx0ZGIuZmxvd3MudXBkYXRlKHtfaWQ6IGZsb3cuX2lkfSwgeyRzZXQ6IHtcInN0YXRlXCI6IFwiZGlzYWJsZWRcIiwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZH19KVxuXG5cdFx0XHRcdCMg5Yik5pat6KGo5Y2V5omA5pyJ5rWB56iL5piv5ZCm5bey57uP5YWo6YOo5YGc55SoIOWmguaenOW3suWFqOmDqOWBnOeUqCDliJnkv67mlLnooajljZXnirbmgIHkuLrlgZznlKhcblx0XHRcdFx0X2Zsb3dzID0gZGIuZmxvd3MuZmluZCh7IGZvcm06IGZvcm0uX2lkIH0sIHsgZmllbGRzOiB7IF9pZDogMSwgc3RhdGU6IDEgfSB9KS5mZXRjaCgpXG5cblx0XHRcdFx0X2Zsb3dzX3N0YXRlID0gX2Zsb3dzLmdldFByb3BlcnR5KFwic3RhdGVcIilcblxuXHRcdFx0XHRpZiAhX2Zsb3dzX3N0YXRlLmluY2x1ZGVzKCdlbmFibGVkJylcblx0XHRcdFx0XHRkYi5mb3Jtcy51cGRhdGUoe19pZDogZm9ybS5faWR9LCB7JHNldDoge1wic3RhdGVcIjogXCJkaXNhYmxlZFwiLCBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LCBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkfX0pXG5cblxuXG5cbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgY2hhbmdlX2Zsb3dfc3RhdGU6IGZ1bmN0aW9uKGZsb3dzKSB7XG4gICAgdmFyIF91c2VySWQ7XG4gICAgY2hlY2soZmxvd3MsIEFycmF5KTtcbiAgICBfdXNlcklkID0gdGhpcy51c2VySWQ7XG4gICAgaWYgKCFfdXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmbG93cy5mb3JFYWNoKGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgIHZhciBfZmxvd3MsIF9mbG93c19zdGF0ZSwgZmxvd0lkLCBmb3JtLCBmb3JtSWQsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSwgbm93LCBzcGFjZUlkLCBzdGF0ZTtcbiAgICAgIHNwYWNlSWQgPSBmbG93LnNwYWNlO1xuICAgICAgZm9ybUlkID0gZmxvdy5mb3JtO1xuICAgICAgZmxvd0lkID0gZmxvdy5pZDtcbiAgICAgIHN0YXRlID0gZmxvdy5zdGF0ZTtcbiAgICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgX3VzZXJJZCkpIHtcbiAgICAgICAgdGhyb3cgTWV0ZW9yLkVycm9yKDQwMSwgXCJObyBwZXJtaXNzaW9uXCIpO1xuICAgICAgfVxuICAgICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZvcm1JZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBoaXN0b3J5czogMFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93SWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgaGlzdG9yeXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoc3RhdGUgIT09ICdlbmFibGVkJyAmJiBzdGF0ZSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJzdGF0ZeaXoOaViFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZm9ybSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmb3Jt5peg5pWIXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbG93KSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZsb3fml6DmlYhcIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZvcm0uaXNfdmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL5byV55So55qE6KGo5Y2VW1wiICsgZm9ybS5uYW1lICsgXCJd6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l6KGo5Y2V6K6+572uXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbG93LmlzX3ZhbGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpea1geeoi+iuvue9rlwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghWyduZXcnLCAnbW9kaWZ5JywgJ2RlbGV0ZSddLmluY2x1ZGVzKGZsb3cuZmxvd3R5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jGZsb3d0eXBl5YC85b+F6aG75pivbmV344CBbW9kaWZ544CBZGVsZXRl5YW25Lit5LmL5LiAXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzQXJyYXkoZmxvdy5jdXJyZW50LnN0ZXBzKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzmtYHnqIvnmoTmraXpqqTkuI3og73kuLrnqbpcIik7XG4gICAgICB9XG4gICAgICBpZiAoXy51bmlxKGZsb3cuY3VycmVudC5zdGVwcywgJ25hbWUnKS5sZW5ndGggIT09IGZsb3cuY3VycmVudC5zdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5ZCM5LiA5Liq5rWB56iL5LiL55qE5q2l6aqk55qE5ZCN56ew5LiN6IO96YeN5aSNXCIpO1xuICAgICAgfVxuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpZiAoc3RhdGUgPT09ICdlbmFibGVkJykge1xuICAgICAgICBmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgICAgdmFyIHNwZWNpZnlTdGVwO1xuICAgICAgICAgIGlmIChbJ3NwZWNpZnlTdGVwVXNlcicsICdzcGVjaWZ5U3RlcFJvbGUnXS5pbmNsdWRlcyhzdGVwLmRlYWxfdHlwZSkpIHtcbiAgICAgICAgICAgIGlmICghc3RlcC5hcHByb3Zlcl9zdGVwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFtcIiArIHN0ZXAubmFtZSArIFwiXeS4reeahOaMh+WumuWOhuWPsuatpemqpOS4jeWtmOWcqOOAglwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNwZWNpZnlTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24oX3N0ZXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcC5hcHByb3Zlcl9zdGVwID09PSBfc3RlcC5faWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoIXNwZWNpZnlTdGVwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkW1wiICsgc3RlcC5uYW1lICsgXCJd5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlID0gZm9ybS5jdXJyZW50LmZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIik7XG4gICAgICAgIGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICByZXR1cm4gc3RlcC5maWVsZHNfbW9kaWZpYWJsZSA9IF8uaW50ZXJzZWN0aW9uKHN0ZXAuZmllbGRzX21vZGlmaWFibGUsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZm9ybS5zdGF0ZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgIGRiLmZvcm1zLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZvcm0uX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICBcInN0YXRlXCI6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZmxvdy5jdXJyZW50Lm1vZGlmaWVkID0gbm93O1xuICAgICAgICBmbG93LmN1cnJlbnQuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5ID0gX3VzZXJJZDtcbiAgICAgICAgcmV0dXJuIGRiLmZsb3dzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBmbG93Ll9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImVuYWJsZWRcIixcbiAgICAgICAgICAgIFwiY3VycmVudFwiOiBmbG93LmN1cnJlbnRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGIuZmxvd3MudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGZsb3cuX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBcInN0YXRlXCI6IFwiZGlzYWJsZWRcIixcbiAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csXG4gICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF9mbG93cyA9IGRiLmZsb3dzLmZpbmQoe1xuICAgICAgICAgIGZvcm06IGZvcm0uX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgIHN0YXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgICBfZmxvd3Nfc3RhdGUgPSBfZmxvd3MuZ2V0UHJvcGVydHkoXCJzdGF0ZVwiKTtcbiAgICAgICAgaWYgKCFfZmxvd3Nfc3RhdGUuaW5jbHVkZXMoJ2VuYWJsZWQnKSkge1xuICAgICAgICAgIHJldHVybiBkYi5mb3Jtcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmb3JtLl9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImRpc2FibGVkXCIsXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cblx0aGlkZV9pbnN0YW5jZTogKGluc0lkLCBpc19oaWRkZW4pIC0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGNoZWNrKGluc0lkLCBTdHJpbmcpXG5cdFx0Y2hlY2soaXNfaGlkZGVuLCBCb29sZWFuKVxuXG5cdFx0dXNlcklkID0gdGhpcy51c2VySWRcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHsgZmllbGRzOiB7IHN0YXRlOiAxLCBmbG93OiAxLCBzcGFjZTogMSB9IH0pXG5cblx0XHRpZiBub3QgaW5zdGFuY2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2VXCIpXG5cblx0XHRpZiBpbnN0YW5jZS5zdGF0ZSBpc250ICdjb21wbGV0ZWQnXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeKtuaAgeS4jeaYr+W3sue7k+adn1wiKVxuXG5cdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXG5cdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgdXNlcklkKVxuXHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXG5cdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKSlcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpXG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKGluc0lkLCB7ICRzZXQ6IHsgaXNfaGlkZGVuOiBpc19oaWRkZW4gfSB9KVxuXG5cdFx0cmV0dXJuIHRydWU7XG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIGhpZGVfaW5zdGFuY2U6IGZ1bmN0aW9uKGluc0lkLCBpc19oaWRkZW4pIHtcbiAgICB2YXIgaW5zdGFuY2UsIHBlcm1pc3Npb25zLCBzcGFjZSwgdXNlcklkO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hlY2soaW5zSWQsIFN0cmluZyk7XG4gICAgY2hlY2soaXNfaGlkZGVuLCBCb29sZWFuKTtcbiAgICB1c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGZsb3c6IDEsXG4gICAgICAgIHNwYWNlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDnlLPor7fljZVcIik7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V54q25oCB5LiN5piv5bey57uT5p2fXCIpO1xuICAgIH1cbiAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCB1c2VySWQpO1xuICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBhZG1pbnM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIik7XG4gICAgfVxuICAgIGRiLmluc3RhbmNlcy51cGRhdGUoaW5zSWQsIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgaXNfaGlkZGVuOiBpc19oaWRkZW5cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRnZXRJbnN0YW5jZVZhbHVlczogKGluc0lkKS0+XG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcblx0XHRcdHJldHVybjtcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zSWR9LCB7ZmllbGRzOiB7dmFsdWVzOiAxfX0pPy52YWx1ZXMiLCJNZXRlb3IubWV0aG9kcyh7XG4gIGdldEluc3RhbmNlVmFsdWVzOiBmdW5jdGlvbihpbnNJZCkge1xuICAgIHZhciByZWY7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gKHJlZiA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdmFsdWVzOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwO1xuICB9XG59KTtcbiIsIkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKVxuXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gKHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKSAtPlxuXG5cdHVzZXIgPSBTdGVlZG9zLmdldEFQSUxvZ2luVXNlcihyZXEsIHJlcylcblxuXHRpZiByZXE/LnF1ZXJ5Py5hY2Nlc3NfdG9rZW5cblx0XHR1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKVxuXHRcdGlmIHVzZXJJZFxuXHRcdFx0dXNlciA9IE1ldGVvci51c2Vycy5maW5kT25lKHtfaWQ6IHVzZXJJZH0pXG5cblx0c3BhY2VJZCA9IHJlcS5wYXJhbXMuc3BhY2VcblxuXHRpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZFxuXG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pO1xuXG5cdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe19pZDogc3BhY2VJZH0pO1xuXG5cdGhpZGVfdHJhY2VzID0gcmVxLnF1ZXJ5Py5oaWRlX3RyYWNlc1xuXG5cdGlmICFvcHRpb25zXG5cdFx0b3B0aW9ucyA9IHtzaG93VHJhY2U6IHRydWV9XG5cdGVsc2Vcblx0XHRvcHRpb25zLnNob3dUcmFjZSA9IHRydWVcblxuXHRpZiBoaWRlX3RyYWNlcyBpcyBcIjFcIlxuXHRcdGlmIG9wdGlvbnNcblx0XHRcdG9wdGlvbnMuc2hvd1RyYWNlID0gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRvcHRpb25zID0ge3Nob3dUcmFjZTogZmFsc2V9XG5cblx0aWYgIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzXG5cdFx0b3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlXG5cblx0aWYgIXNwYWNlXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGlmICAhaW5zdGFuY2Vcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBpbnN0YW5jZVwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRyZXR1cm47XG5cblx0aWYgIXVzZXJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRpZiBpbnN0YW5jZS5zcGFjZSAhPSBzcGFjZUlkXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cblxuXHRzcGFjZVVzZXJDb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyB1c2VyOiB1c2VyLl9pZCwgc3BhY2U6IHNwYWNlSWQgfSkuY291bnQoKVxuXG5cdGlmIHNwYWNlVXNlckNvdW50IGlzIDBcblx0XHRpZiAhc3BhY2Vcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxuXHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0cmV0dXJuO1xuXG5cdCPmoKHpqox1c2Vy5piv5ZCm5a+5aW5zdGFuY2XmnInmn6XnnIvmnYPpmZBcblx0X2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSlcblxuXHRpZiAhX2hhc1Blcm1pc3Npb24gICYmIGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZVxuXHRcdF9wYXJlbnRfaW5zdGFuY2VzID0gXy51bmlvbihbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlXSwgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyB8fCBbXSlcblxuXHRcdF9oYXNQZXJtaXNzaW9uID0gXy5maW5kIF9wYXJlbnRfaW5zdGFuY2VzLCAoX3BhcmVudF9pZCktPlxuXHRcdFx0X3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOl9wYXJlbnRfaWR9LCB7ZmllbGRzOiB7dHJhY2VzOiAwfX0pXG5cblx0XHRcdHJldHVybiBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBfcGFyZW50X2lucylcblxuXHRpZiAhX2hhc1Blcm1pc3Npb25cblx0XHRfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpXG5cdFx0ZXJyb3IgPSBUQVBpMThuLl9fKFwiaW5zdGFuY2VfcGVybWlzc2lvbnNfZXJyb3JcIiwge30sIF9sb2NhbGUpXG5cdFx0cmVzLmNoYXJzZXQgPSBcInV0Zi04XCJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBlcnJvcixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbCk7XG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgZGF0YUJ1Zi5sZW5ndGgpXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXG5cdHJlcy5lbmQoaHRtbClcblxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkXCIsIGdldEluc3RhbmNlUmVhZE9ubHlcblxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkLzppbnN0YW5jZV9uYW1lXCIsIChyZXEsIHJlcywgbmV4dCktPlxuXHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG5cdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nK2VuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcblx0cmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJylcblxuXHRvcHRpb25zID0ge2Fic29sdXRlOiB0cnVlfVxuXG5cdHJldHVybiBnZXRJbnN0YW5jZVJlYWRPbmx5KHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKVxuIyMjXG5cdOiOt+WPlueUs+ivt+WNleWIl+ihqO+8mlxuICAgIGZpbmFsX2RlY2lzaW9u77ya5a6h5om557uT5p6cXG4gICAgc3RhdGU6IOeUs+ivt+WNleeKtuaAgVxuIyMjXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5zdGFuY2VzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdHJldHVybiA7XG5cblx0dXNlcl9pZCA9IHJlcS51c2VySWRcblxuXHRzcGFjZUlkID0gcmVxLmhlYWRlcnNbXCJ4LXNwYWNlLWlkXCJdXG5cblx0aWYgbm90IHNwYWNlSWRcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRmbG93SWQgPSByZXEucXVlcnk/LmZsb3dJZFxuXG5cdGlmICFmbG93SWRcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAwLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBmbG93SWRcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdHF1ZXJ5ID0ge31cblxuXHRyZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG5cblx0Zmxvd0lkcyA9IGZsb3dJZC5zcGxpdChcIixcIilcblxuXG5cdGZsb3dzID0gZGIuZmxvd3MuZmluZCh7X2lkOiB7JGluOiBmbG93SWRzfX0pLmZldGNoKClcblxuXHRpID0gMFxuXHR3aGlsZSBpIDwgZmxvd3MubGVuZ3RoXG5cdFx0ZiA9IGZsb3dzW2ldXG5cdFx0c3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7c3BhY2U6IGYuc3BhY2UsIHVzZXI6IHVzZXJfaWR9KVxuXHRcdGlmICFzcGFjZVVzZXJcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXG5cdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHRyZXR1cm47XG5cdFx0ZWxzZVxuXG5cdCNcdOaYr+WQpuW3peS9nOWMuueuoeeQhuWRmFxuXHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCB1c2VyX2lkKVxuXHRcdFx0c3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG5cdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdCRpbjogc3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcblx0XHRcdFx0fVxuXHRcdFx0fSkuZmV0Y2goKTtcblxuXHRcdFx0aWYgIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0XHRcdGRhdGE6XG5cdFx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXG5cdFx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdFx0cmV0dXJuO1xuXHRcdGkrK1xuXG5cblx0cXVlcnkuZmxvdyA9IHskaW46IGZsb3dJZHN9XG5cblx0cXVlcnkuc3BhY2UgPSBzcGFjZUlkXG5cblx0aWYgcmVxLnF1ZXJ5Py5zeW5jX3Rva2VuXG5cdFx0c3luY190b2tlbiA9IG5ldyBEYXRlKE51bWJlcihyZXEucXVlcnkuc3luY190b2tlbikpXG5cdFx0cXVlcnkubW9kaWZpZWQgPSB7JGd0OiBzeW5jX3Rva2VufVxuXG5cdGlmIHJlcS5xdWVyeT8uZmluYWxfZGVjaXNpb25cblx0XHRxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHskaW4gOiByZXEucXVlcnkuZmluYWxfZGVjaXNpb24uc3BsaXQoXCIsXCIpfVxuXHRlbHNlXG5cdFx0cXVlcnkuZmluYWxfZGVjaXNpb24gPSB7JG5pbjogW1widGVybWluYXRlZFwiLCBcInJlamVjdGVkXCJdfVxuXG5cdGlmIHJlcS5xdWVyeT8uc3RhdGVcblx0XHRxdWVyeS5zdGF0ZSA9IHskaW46IHJlcS5xdWVyeS5zdGF0ZS5zcGxpdChcIixcIil9XG5cdGVsc2Vcblx0XHRxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCJcblxuI1x05pyA5aSa6L+U5ZueNTAw5p2h5pWw5o2uXG5cdGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgdHJhY2VzOiAwLCBhdHRhY2htZW50czogMH0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5mZXRjaCgpXG5cdGluc3RhbmNlcy5mb3JFYWNoIChpbnN0YW5jZSktPlxuXG5cdFx0YXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxuXG5cdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBhdHRhY2htZW50c1xuXG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFx0XHRcInN5bmNfdG9rZW5cIjogcmV0X3N5bmNfdG9rZW5cblx0XHRcdFx0XCJkYXRhXCI6IGluc3RhbmNlc1xuXHRyZXR1cm47XG4iLCJ2YXIgQ29va2llcywgZ2V0SW5zdGFuY2VSZWFkT25seTtcblxuQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpO1xuXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpIHtcbiAgdmFyIF9oYXNQZXJtaXNzaW9uLCBfbG9jYWxlLCBfcGFyZW50X2luc3RhbmNlcywgZGF0YUJ1ZiwgZXJyb3IsIGhpZGVfdHJhY2VzLCBodG1sLCBpbnN0YW5jZSwgaW5zdGFuY2VJZCwgcmVmLCByZWYxLCBzcGFjZSwgc3BhY2VJZCwgc3BhY2VVc2VyQ291bnQsIHVzZXIsIHVzZXJJZDtcbiAgdXNlciA9IFN0ZWVkb3MuZ2V0QVBJTG9naW5Vc2VyKHJlcSwgcmVzKTtcbiAgaWYgKHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5hY2Nlc3NfdG9rZW4gOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICB1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKTtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICB1c2VyID0gTWV0ZW9yLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHVzZXJJZFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZDtcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pO1xuICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICBfaWQ6IHNwYWNlSWRcbiAgfSk7XG4gIGhpZGVfdHJhY2VzID0gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmhpZGVfdHJhY2VzIDogdm9pZCAwO1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgc2hvd1RyYWNlOiB0cnVlXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLnNob3dUcmFjZSA9IHRydWU7XG4gIH1cbiAgaWYgKGhpZGVfdHJhY2VzID09PSBcIjFcIikge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICBvcHRpb25zLnNob3dUcmFjZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBzaG93VHJhY2U6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBpZiAoIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzKSB7XG4gICAgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlO1xuICB9XG4gIGlmICghc3BhY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghdXNlcikge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5zdGFuY2Uuc3BhY2UgIT09IHNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNwYWNlVXNlckNvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgdXNlcjogdXNlci5faWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSkuY291bnQoKTtcbiAgaWYgKHNwYWNlVXNlckNvdW50ID09PSAwKSB7XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgX2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSk7XG4gIGlmICghX2hhc1Blcm1pc3Npb24gJiYgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XG4gICAgX3BhcmVudF9pbnN0YW5jZXMgPSBfLnVuaW9uKFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VdLCBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIHx8IFtdKTtcbiAgICBfaGFzUGVybWlzc2lvbiA9IF8uZmluZChfcGFyZW50X2luc3RhbmNlcywgZnVuY3Rpb24oX3BhcmVudF9pZCkge1xuICAgICAgdmFyIF9wYXJlbnRfaW5zO1xuICAgICAgX3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogX3BhcmVudF9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0cmFjZXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgX3BhcmVudF9pbnMpO1xuICAgIH0pO1xuICB9XG4gIGlmICghX2hhc1Blcm1pc3Npb24pIHtcbiAgICBfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpO1xuICAgIGVycm9yID0gVEFQaTE4bi5fXyhcImluc3RhbmNlX3Blcm1pc3Npb25zX2Vycm9yXCIsIHt9LCBfbG9jYWxlKTtcbiAgICByZXMuY2hhcnNldCA9IFwidXRmLThcIjtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogZXJyb3IsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtXCIgKyAoZGF0YUJ1Zi5sZW5ndGggLSAxKSArIFwiL1wiICsgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgcmV0dXJuIHJlcy5lbmQoaHRtbCk7XG59O1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWRcIiwgZ2V0SW5zdGFuY2VSZWFkT25seSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZC86aW5zdGFuY2VfbmFtZVwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgb3B0aW9ucztcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JyArIGVuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcbiAgcmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJyk7XG4gIG9wdGlvbnMgPSB7XG4gICAgYWJzb2x1dGU6IHRydWVcbiAgfTtcbiAgcmV0dXJuIGdldEluc3RhbmNlUmVhZE9ubHkocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpO1xufSk7XG5cblxuLypcblx06I635Y+W55Sz6K+35Y2V5YiX6KGo77yaXG4gICAgZmluYWxfZGVjaXNpb27vvJrlrqHmibnnu5PmnpxcbiAgICBzdGF0ZTog55Sz6K+35Y2V54q25oCBXG4gKi9cblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L2luc3RhbmNlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZiwgZmxvd0lkLCBmbG93SWRzLCBmbG93cywgaSwgaW5zdGFuY2VzLCBxdWVyeSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZXRfc3luY190b2tlbiwgc3BhY2VJZCwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zLCBzeW5jX3Rva2VuLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHNwYWNlSWQgPSByZXEuaGVhZGVyc1tcIngtc3BhY2UtaWRcIl07XG4gIGlmICghc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBmbG93SWQgPSAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmZsb3dJZCA6IHZvaWQgMDtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgZmxvd0lkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBxdWVyeSA9IHt9O1xuICByZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBmbG93SWRzID0gZmxvd0lkLnNwbGl0KFwiLFwiKTtcbiAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogZmxvd0lkc1xuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgaSA9IDA7XG4gIHdoaWxlIChpIDwgZmxvd3MubGVuZ3RoKSB7XG4gICAgZiA9IGZsb3dzW2ldO1xuICAgIHNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IGYuc3BhY2UsXG4gICAgICB1c2VyOiB1c2VyX2lkXG4gICAgfSk7XG4gICAgaWYgKCFzcGFjZVVzZXIpIHtcbiAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogNDAxLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuXG4gICAgfVxuICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgdXNlcl9pZCkpIHtcbiAgICAgIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IHNwYWNlVXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAoIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpKys7XG4gIH1cbiAgcXVlcnkuZmxvdyA9IHtcbiAgICAkaW46IGZsb3dJZHNcbiAgfTtcbiAgcXVlcnkuc3BhY2UgPSBzcGFjZUlkO1xuICBpZiAoKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLnN5bmNfdG9rZW4gOiB2b2lkIDApIHtcbiAgICBzeW5jX3Rva2VuID0gbmV3IERhdGUoTnVtYmVyKHJlcS5xdWVyeS5zeW5jX3Rva2VuKSk7XG4gICAgcXVlcnkubW9kaWZpZWQgPSB7XG4gICAgICAkZ3Q6IHN5bmNfdG9rZW5cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuZmluYWxfZGVjaXNpb24gOiB2b2lkIDApIHtcbiAgICBxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LmZpbmFsX2RlY2lzaW9uLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuZmluYWxfZGVjaXNpb24gPSB7XG4gICAgICAkbmluOiBbXCJ0ZXJtaW5hdGVkXCIsIFwicmVqZWN0ZWRcIl1cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuc3RhdGUgOiB2b2lkIDApIHtcbiAgICBxdWVyeS5zdGF0ZSA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LnN0YXRlLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICB9XG4gIGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBpbmJveF91ZXJzOiAwLFxuICAgICAgY2NfdXNlcnM6IDAsXG4gICAgICBvdXRib3hfdXNlcnM6IDAsXG4gICAgICB0cmFjZXM6IDAsXG4gICAgICBhdHRhY2htZW50czogMFxuICAgIH0sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogNTAwXG4gIH0pLmZldGNoKCk7XG4gIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIGF0dGFjaG1lbnRzO1xuICAgIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCxcbiAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICRuZTogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjb3BpZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJldHVybiBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzO1xuICB9KTtcbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICAgIFwic3luY190b2tlblwiOiByZXRfc3luY190b2tlbixcbiAgICAgIFwiZGF0YVwiOiBpbnN0YW5jZXNcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL3N0ZWVkb3MtY3NzXCIsIChyZXEsIHJlcywgbmV4dCktPlxuXG5cdGFsbENzcyA9IFdlYkFwcC5nZXRSZWZyZXNoYWJsZUFzc2V0cygpXG5cblx0YWxsQ3NzTGluayA9IFwiXCJcblxuXHRhbGxDc3MuZm9yRWFjaCAoY3NzKSAtPlxuXHRcdGlmIF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVhcblx0XHRcdHJvb3RVcmwgPSBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMXG5cdFx0XHRpZiByb290VXJsLmVuZHNXaXRoKFwiL1wiKVxuXHRcdFx0XHRjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggKyBcIi9cIiwgXCJcIikgKyBjc3MudXJsXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGNzc0hyZWYgPSByb290VXJsLnJlcGxhY2UoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCwgXCJcIikgKyBjc3MudXJsXG5cdFx0ZWxzZVxuXHRcdFx0Y3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChjc3MudXJsKVxuXHRcdGFsbENzc0xpbmsgKz0gXCJAaW1wb3J0IHVybCgje2Nzc0hyZWZ9KTtcIlxuXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXG5cdHJlcy5lbmQoYWxsQ3NzTGluaykiLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9zdGVlZG9zLWNzc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYWxsQ3NzLCBhbGxDc3NMaW5rO1xuICBhbGxDc3MgPSBXZWJBcHAuZ2V0UmVmcmVzaGFibGVBc3NldHMoKTtcbiAgYWxsQ3NzTGluayA9IFwiXCI7XG4gIGFsbENzcy5mb3JFYWNoKGZ1bmN0aW9uKGNzcykge1xuICAgIHZhciBjc3NIcmVmLCByb290VXJsO1xuICAgIGlmIChfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYKSB7XG4gICAgICByb290VXJsID0gX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTDtcbiAgICAgIGlmIChyb290VXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICBjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggKyBcIi9cIiwgXCJcIikgKyBjc3MudXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3NzSHJlZiA9IHJvb3RVcmwucmVwbGFjZShfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYLCBcIlwiKSArIGNzcy51cmw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzc0hyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoY3NzLnVybCk7XG4gICAgfVxuICAgIHJldHVybiBhbGxDc3NMaW5rICs9IFwiQGltcG9ydCB1cmwoXCIgKyBjc3NIcmVmICsgXCIpO1wiO1xuICB9KTtcbiAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7XG4gIHJldHVybiByZXMuZW5kKGFsbENzc0xpbmspO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdHJldHVyblxuXG5cdHVzZXJfaWQgPSByZXEudXNlcklkXG5cblx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHVzZXJfaWQgfSlcblxuXHRzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZVxuXG5cdGZsb3dJZCA9IHJlcS5wYXJhbXMuZmxvd1xuXG5cdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IHNwYWNlSWQgfSlcblxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd0lkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsICdjdXJyZW50Ll9pZCc6IDEsIGZvcm06IDEgfSB9KVxuXG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuX2lkJzogMSB9IH0pXG5cblx0b3B0aW9ucyA9IHtcblx0XHRzaG93VHJhY2U6IGZhbHNlLFxuXHRcdHNob3dBdHRhY2htZW50czogZmFsc2UsXG5cdFx0dGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcblx0XHRlZGl0YWJsZTogdHJ1ZSxcblx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0aW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxuXHRcdHBsdWdpbnM6IFwiXCJcIlxuXG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwiWC1VQS1Db21wYXRpYmxlXCIgY29udGVudD1cIklFPWVkZ2UsY2hyb21lPTFcIiAvPlxuXHRcdFx0PG1ldGEgbmFtZT1cImZvcm1hdC1kZXRlY3Rpb25cIiBjb250ZW50PVwidGVsZXBob25lPW5vXCI+XG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwieC1yaW0tYXV0by1tYXRjaFwiIGNvbnRlbnQ9XCJub25lXCI+XG5cdFx0XHQ8dGl0bGU+I3tmbG93Lm5hbWV9PC90aXRsZT5cblx0XHRcdDxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxuXHRcdFx0PG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aFwiIC8+XG5cblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1wiPlxuXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9sb2NhbGVzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci56aC1DTi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBjaGFyc2V0PVwiVVRGLThcIj48L3NjcmlwdD5cblxuXHRcdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCIvcGx1Z2lucy90b2FzdHIvdG9hc3RyLm1pbi5jc3NcIj5cblx0XHRcdDxzY3JpcHQgc3JjPVwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXCI+XG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9qcy93b3JrZmxvd19jbGllbnQuanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XCJcIlwiXG5cdH1cblxuXHRpbnN0YW5jZSA9IHtcblx0XHRmbG93OiBmbG93Ll9pZCxcblx0XHRmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXG5cdFx0Zm9ybTogZm9ybS5faWQsXG5cdFx0Zm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxuXHRcdHZhbHVlczoge30sXG5cdFx0bmFtZTogZmxvdy5uYW1lLFxuXHRcdHNwYWNlOiBzcGFjZUlkXG5cdH1cblxuXHRodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXG5cblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbClcblxuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKVxuXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXG5cblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcblxuXHRyZXMuZW5kKGh0bWwpXG4iLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGRhdGFCdWYsIGZsb3csIGZsb3dJZCwgZm9ybSwgaHRtbCwgaW5zdGFuY2UsIG9wdGlvbnMsIHNwYWNlLCBzcGFjZUlkLCB1c2VyLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICBfaWQ6IHVzZXJfaWRcbiAgfSk7XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBmbG93SWQgPSByZXEucGFyYW1zLmZsb3c7XG4gIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogc3BhY2VJZFxuICB9KTtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgIF9pZDogZmxvd0lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICAnY3VycmVudC5faWQnOiAxLFxuICAgICAgZm9ybTogMVxuICAgIH1cbiAgfSk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICBfaWQ6IGZsb3cuZm9ybVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICAnY3VycmVudC5faWQnOiAxXG4gICAgfVxuICB9KTtcbiAgb3B0aW9ucyA9IHtcbiAgICBzaG93VHJhY2U6IGZhbHNlLFxuICAgIHNob3dBdHRhY2htZW50czogZmFsc2UsXG4gICAgdGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcbiAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgaW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxuICAgIHBsdWdpbnM6IFwiXFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwiWC1VQS1Db21wYXRpYmxlXFxcIiBjb250ZW50PVxcXCJJRT1lZGdlLGNocm9tZT0xXFxcIiAvPlxcbjxtZXRhIG5hbWU9XFxcImZvcm1hdC1kZXRlY3Rpb25cXFwiIGNvbnRlbnQ9XFxcInRlbGVwaG9uZT1ub1xcXCI+XFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwieC1yaW0tYXV0by1tYXRjaFxcXCIgY29udGVudD1cXFwibm9uZVxcXCI+XFxuPHRpdGxlPlwiICsgZmxvdy5uYW1lICsgXCI8L3RpdGxlPlxcbjxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxcbjxtZXRhIG5hbWU9XFxcInZpZXdwb3J0XFxcIiBjb250ZW50PVxcXCJ3aWR0aD1kZXZpY2Utd2lkdGhcXFwiIC8+XFxuXFxuPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1xcXCI+XFxuXFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcblxcbjxzY3JpcHQgc3JjPVxcXCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvbG9jYWxlcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIuemgtQ04uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCIgY2hhcnNldD1cXFwiVVRGLThcXFwiPjwvc2NyaXB0PlxcblxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmNzc1xcXCI+XFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXFxcIj5cXG48c2NyaXB0IHNyYz1cXFwiL2pzL3dvcmtmbG93X2NsaWVudC5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cIlxuICB9O1xuICBpbnN0YW5jZSA9IHtcbiAgICBmbG93OiBmbG93Ll9pZCxcbiAgICBmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXG4gICAgZm9ybTogZm9ybS5faWQsXG4gICAgZm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxuICAgIHZhbHVlczoge30sXG4gICAgbmFtZTogZmxvdy5uYW1lLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC1cIiArIChkYXRhQnVmLmxlbmd0aCAtIDEpICsgXCIvXCIgKyBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICByZXR1cm4gcmVzLmVuZChodG1sKTtcbn0pO1xuIiwiQXJyYXkucHJvdG90eXBlLmZpbHRlclByb3BlcnR5ID0gZnVuY3Rpb24oaCwgbCl7XG4gICAgdmFyIGcgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7XG4gICAgICAgIHZhciBtID0gdD8gdFtoXTpudWxsO1xuICAgICAgICB2YXIgZCA9IGZhbHNlO1xuICAgICAgICBpZihtIGluc3RhbmNlb2YgQXJyYXkpe1xuICAgICAgICAgICAgZCA9IG0uaW5jbHVkZXMobCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZCA9IChsID09PSB1bmRlZmluZWQpPyBmYWxzZTptPT1sO1xuICAgICAgICB9XG4gICAgICAgIGlmKGQpe1xuICAgICAgICAgICAgZy5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGc7XG59O1xuXG5BcnJheS5wcm90b3R5cGUuZ2V0UHJvcGVydHkgPSBmdW5jdGlvbihrKXtcbiAgICB2YXIgdiA9IG5ldyBBcnJheSgpO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtcbiAgICAgICAgdmFyIG0gPSB0PyB0W2tdOm51bGw7XG4gICAgICAgIHYucHVzaChtKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdjtcbn1cblxuQXJyYXkucHJvdG90eXBlLmdldEVhY2ggPSBmdW5jdGlvbihjb2RlKXtcbiAgICB2YXIgcmV2ID0gW107XG4gICAgZm9yKHZhciBpID0gMCA7IGkgPCB0aGlzLmxlbmd0aCA7IGkrKyl7XG4gICAgICAgIHJldi5wdXNoKHRoaXNbaV1bY29kZV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmV2O1xufTtcblxuQXJyYXkucHJvdG90eXBlLnVuaXEgPSBmdW5jdGlvbigpe1xuICAgIHZhciBhID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGIpeyBcbiAgICAgICAgaWYoYS5pbmRleE9mKGIpIDwgMClcbiAgICAgICAgICAgIHthW2EubGVuZ3RoXSA9IGJ9XG4gICAgfSk7XG4gICAgcmV0dXJuIGE7XG59O1xuXG5Gb3JtX2Zvcm11bGEgPSB7fTtcblxuXG5Gb3JtX2Zvcm11bGEubWl4aW4gPSBmdW5jdGlvbihkZXN0LCBzcmMpe1xuICAgIGZvcih2YXIga2V5IGluIHNyYyl7XG4gICAgICAgIGRlc3Rba2V5XSA9IHNyY1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn07XG5cblxuRm9ybV9mb3JtdWxhLmhhbmRlclVzZXJPYmplY3QgPSBmdW5jdGlvbih1KXtcblxuICAgIGlmKHUgaW5zdGFuY2VvZiBBcnJheSl7XG4gICAgICAgIHZhciB1c2VyID0ge307XG5cbiAgICAgICAgdXNlci5uYW1lID0gdS5nZXRQcm9wZXJ0eShcIm5hbWVcIilcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24gPSB7fTtcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24ubmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJvcmdhbml6YXRpb25cIikuZ2V0UHJvcGVydHkoXCJuYW1lXCIpO1xuICAgICAgICB1c2VyLm9yZ2FuaXphdGlvbi5mdWxsbmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJvcmdhbml6YXRpb25cIikuZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcblxuICAgICAgICB1c2VyLmhyID0gdS5nZXRQcm9wZXJ0eShcImhyXCIpXG5cbiAgICAgICAgdXNlci5zb3J0X25vID0gdS5nZXRQcm9wZXJ0eShcInNvcnRfbm9cIilcblxuXHRcdHVzZXIubW9iaWxlID0gdS5nZXRQcm9wZXJ0eShcIm1vYmlsZVwiKVxuXG5cdFx0dXNlci53b3JrX3Bob25lID0gdS5nZXRQcm9wZXJ0eShcIndvcmtfcGhvbmVcIilcblxuXHRcdHVzZXIucG9zaXRpb24gPSB1LmdldFByb3BlcnR5KFwicG9zaXRpb25cIilcblxuICAgICAgICB2YXIgdXNlclJvbGVzID0gdS5nZXRQcm9wZXJ0eShcInJvbGVzXCIpO1xuICAgICAgICB2YXIgcm9sZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdXNlclJvbGVzLmZvckVhY2goZnVuY3Rpb24oaSl7XG4gICAgICAgICAgICByb2xlcyA9IHJvbGVzLmNvbmNhdChpKTtcbiAgICAgICAgfSk7IFxuICAgICAgICByb2xlcy51bmlxKCk7XG4gICAgICAgIHVzZXIucm9sZXMgPSByb2xlcztcbiAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB1O1xuICAgIH1cbn1cblxuRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdCA9IGZ1bmN0aW9uKG8pe1xuXG4gICAgaWYobyBpbnN0YW5jZW9mIEFycmF5KXtcbiAgICAgICAgdmFyIG9yZyA9IHt9O1xuXHRcdG9yZy5pZCA9IG8uZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICAgIG9yZy5uYW1lID0gby5nZXRQcm9wZXJ0eShcIm5hbWVcIik7XG4gICAgICAgIG9yZy5mdWxsbmFtZSA9IG8uZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcblxuICAgICAgICByZXR1cm4gb3JnO1xuICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gbztcbiAgICB9XG59XG5cblxuXG4vKipcbiAgICAqIOiOt+W+l+WFrOW8j+mcgOimgeeUqOWIsOeahOWIneWni+WAvFxuICAgICog6L6T5YWl77yaZmllbGRzLCB2YWx1ZXMsIGFwcGxpY2FudFxuICAgICog6L6T5Ye677yaX192YWx1ZXNcbioqL1xuRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXMgPSBmdW5jdGlvbihmaWVsZHMsIGF1dG9Gb3JtRG9jLCBhcHByb3ZlciwgYXBwbGljYW50LCBzcGFjZUlkKXtcbiAgICB2YXIgX192YWx1ZXMgPSB7fTtcbiAgICAvL+eUs+ivt+WNleS4reWhq+eahOWAvOWkhOeQhlxuICAgIGlmKGZpZWxkcyAmJiBmaWVsZHMubGVuZ3RoICYmIGF1dG9Gb3JtRG9jKSB7XG4gICAgICAgIC8vZGVidWdnZXI7XG4gICAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKXtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZmllbGQudHlwZTtcbiAgICAgICAgICAgIGlmKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZih0eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICog5bCG6KGo5qC85a2X5q6155qE5YC86L+b6KGM6L2s5o2i5ZCO5Lyg5YWlX192YWx1ZXPkuK1cbiAgICAgICAgICAgICAgICAgICAgKiB2YWx1ZXPkuK3ooajmoLznmoTlgLzmoLzlvI/kuLpcbiAgICAgICAgICAgICAgICAgICAgKiBbe1wiYVwiOjEsXCJiXCI6NH0se1wiYVwiOjIsXCJiXCI6NX0se1wiYVwiOjMsXCJiXCI6Nn1dXG4gICAgICAgICAgICAgICAgICAgICogX192YWx1ZXPpnIDopoHovazljJbkuLrkuIvpnaLmoLzlvI/kuJTlkozkuLvooajnmoTlgLzkuIDmoLfmlL7liLDnrKzkuIDlsYJcbiAgICAgICAgICAgICAgICAgICAgKiB7XCJhXCI6WzEsMiwzXSxcImJcIjpbNCw1LDZdfVxuICAgICAgICAgICAgICAgICAgICAqKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlRmllbGRzID0gZmllbGQuc2ZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzID0gYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtdWxhVGFibGVWYWx1ZXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fdGFibGVWYWx1ZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgLy/mjInlhazlvI/nmoTmoLzlvI/ovazmjaLlgLzkuLpfX3RhYmxlVmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlmKHRhYmxlRmllbGRzICYmIHRhYmxlRmllbGRzLmxlbmd0aCAmJiB0YWJsZVZhbHVlcyAmJiB0YWJsZVZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHRhYmxlVmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm11bGFUYWJsZVZhbHVlcy5wdXNoKEZvcm1fZm9ybXVsYS5pbml0X2Zvcm11bGFfdmFsdWVzKHRhYmxlRmllbGRzLCB0YWJsZVZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5oyJ5Li76KGo55qE5qC85byP6L2s5o2iX190YWJsZVZhbHVlc+WKoOWIsFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVGaWVsZHMuZm9yRWFjaChmdW5jdGlvbih0YWJsZWZpZWxkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3RhYmxlVmFsdWVzW3RhYmxlZmllbGQuY29kZV0gPSBmb3JtdWxhVGFibGVWYWx1ZXMuZ2V0RWFjaCh0YWJsZWZpZWxkLmNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlcyA9IEZvcm1fZm9ybXVsYS5taXhpbihfX3ZhbHVlcywgX190YWJsZVZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3VzZXInKXtcbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBGb3JtX2Zvcm11bGEuaGFuZGVyVXNlck9iamVjdChXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3RzKHNwYWNlSWQsIGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdKSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2dyb3VwJyl7XG4gICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdChXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYU9yZ09iamVjdHMoYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0pKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnb2RhdGEnKXtcblx0XHRcdFx0XHRfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdIHx8IHt9XG5cblx0XHRcdFx0fSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy/mraTlpITkvKBzcGFjZUlk57uZ6YCJ5Lq65o6n5Lu255qE5pen5pWw5o2u6K6h566Xcm9sZXPlkoxvcmdhbml6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgICAvL+W9k+WJjeWkhOeQhuS6ulxuICAgIF9fdmFsdWVzW1wiYXBwcm92ZXJcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwcm92ZXIpO1xuICAgIC8v55Sz6K+35Lq6XG4gICAgX192YWx1ZXNbXCJhcHBsaWNhbnRcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwbGljYW50KTtcblxuICAgIHJldHVybiBfX3ZhbHVlcztcbn07XG5cbiIsImdldEhhbmRsZXJzTWFuYWdlciA9IHt9XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyA9ICh1c2VyX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKHVzZXJfaWRzLCAodXNlcl9pZCktPlxuXHRcdGlmIGRiLnVzZXJzLmZpbmQoe19pZDogdXNlcl9pZH0pLmNvdW50KCkgPiAwXG5cdFx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZClcblx0XHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcblx0XHRcdFx0YXBwcm92ZV91c2VycyA9IGFwcHJvdmVfdXNlcnMuY29uY2F0KHVzZXJzKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwidXNlcl9pZOS4jeWQiOazleS4jeWQiOazlVwiKVxuXHQpXG5cdGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2Vycylcblx0cmV0dXJuIGFwcHJvdmVfdXNlcnNcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMgPSAodXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdF8uZWFjaChyb2xlX2lkcywgKHJvbGVfaWQpLT5cblx0XHRpZiBkYi5mbG93X3JvbGVzLmZpbmQoe19pZDogcm9sZV9pZH0pLmNvdW50KCkgPiAwXG5cdFx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXG5cdFx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXG5cdFx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwicm9sZV9pZOW3sue7j+iiq+WIoOmZpFwiKVxuXHQpXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCA+IDBcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRyZXR1cm4gdXNlcl9pZHNcblx0ZWxzZVxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2udXNlcl9pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpXG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUgPSAodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIC0+XG5cdG9yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXJzOiB1c2VyX2lkIH0sIHsgZmllbGRzOiB7IF9pZDogMSB9IH0pLmZldGNoKClcblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKG9yZ3MsIChvcmcpIC0+XG5cdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnLl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXG5cdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXG5cdClcblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdHJldHVybiB1c2VyX2lkc1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyA9IChvcmdfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpLT5cblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpLT5cblx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpXG5cdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXG5cdClcblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdHJldHVybiB1c2VyX2lkc1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzID0gKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdF8uZWFjaChyb2xlX2lkcywgKHJvbGVfaWQpLT5cblx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKVxuXHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcblx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxuXHQpXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCA+IDBcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRyZXR1cm4gdXNlcl9pZHNcblx0ZWxzZVxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2ub3JnX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIilcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlID0gKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIC0+XG5cdG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogb3JnX2lkIH0sIHsgZmllbGRzOiB7IHBhcmVudHM6IDEgfSB9KVxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBvcmc6IG9yZ19pZCwgcm9sZTogcm9sZV9pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcblx0Xy5lYWNoKHBvc2l0aW9ucywgKHBvc2l0aW9uKSAtPlxuXHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKVxuXHQpXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCBpcyAwXG5cdFx0cGFyZW50cyA9IG9yZy5wYXJlbnRzXG5cdFx0Xy5lYWNoKHBhcmVudHMsIChwYXJlbnRfaWQpIC0+XG5cdFx0XHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBvcmc6IHBhcmVudF9pZCwgcm9sZTogcm9sZV9pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcblx0XHRcdGlmIHBvc2l0aW9ucy5sZW5ndGggPiAwXG5cdFx0XHRcdF8uZWFjaChwb3NpdGlvbnMsIChwb3NpdGlvbikgLT5cblx0XHRcdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2Vycylcblx0XHRcdFx0KVxuXHRcdClcblxuXHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0cmV0dXJuIHVzZXJfaWRzXG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyA9IChpbnN0YW5jZV9pZCwgc3RlcF9pZCkgLT5cblx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZClcblxuXHQjIOaLn+eov+aXtiwg5Y+v5Lul6K6+5a6a5ZCO57ut5q+P5Liq5q2l6aqk55qE5aSE55CG5Lq6ICMxOTI2XG5cdGlmIGluc3RhbmNlLnN0ZXBfYXBwcm92ZSAmJiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbc3RlcF9pZF1cblx0XHRyZXR1cm4gaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWRdXG5cblx0YXBwcm92ZV91c2VycyA9IG5ldyBBcnJheVxuXHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93XG5cdGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uXG5cdGN1cnJlbnRfZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZClcblx0Y3VycmVudF9zdGVwID0gbnVsbFxuXHRjdXJyZW50X3N0ZXBzID0gbmV3IEFycmF5XG5cblx0aWYgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkIGlzIGZsb3dfcmV2XG5cdFx0Y3VycmVudF9zdGVwcyA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LnN0ZXBzXG5cdGVsc2Vcblx0XHRjdXJyZW50ID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGhpc3RvcnkpIC0+XG5cdFx0XHRyZXR1cm4gaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcblx0XHQpXG5cdFx0Y3VycmVudF9zdGVwcyA9IGN1cnJlbnQuc3RlcHNcblxuXHQjIOS7juiOt+WPlueahHN0ZXBz5Lit5qC55o2uOnN0ZXBfaWTmj5Dlj5blr7nlupTnmoRzdGVw5a+56LGhXG5cdGN1cnJlbnRfc3RlcCA9IF8uZmluZChjdXJyZW50X3N0ZXBzLCAoc3RlcCkgLT5cblx0XHRyZXR1cm4gc3RlcC5faWQgaXMgc3RlcF9pZFxuXHQpXG5cdCMg5Yik5patc3RlcF90eXBlXG5cdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb25kaXRpb25cIlxuXHRcdHVuZmluaXNoZWRfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpIC0+XG5cdFx0XHRyZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHQpXG5cblx0XHRyZXR1cm4gbmV3IEFycmF5KHVuZmluaXNoZWRfdHJhY2UuYXBwcm92ZXNbMF0udXNlcilcblxuXHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzIFwic3RhcnRcIlxuXHRcdGhhbmRsZXJzID0gbmV3IEFycmF5XG5cdFx0aGFuZGxlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpXG5cdFx0aGFuZGxlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpXG5cdFx0aGFuZGxlcnMgPSBfLnVuaXEoaGFuZGxlcnMpXG5cdFx0cmV0dXJuIGhhbmRsZXJzXG5cdCMg5b6X5Yiwc3RlcOeahFwiZGVhbF90eXBlXCLvvIzlubbov5vooYzpgLvovpHliKTmlq3mib7liLDlr7nlupTnmoTlpITnkIbkurpcblx0ZGVhbF90eXBlID0gY3VycmVudF9zdGVwLmRlYWxfdHlwZVxuXHR1c2VycyA9IG5ldyBBcnJheVxuXHRpZiBkZWFsX3R5cGUgaXMgXCJhcHBsaWNhbnRSb2xlXCJcblx0XHQjIDEuKioqKioqKioqKirnlLPor7fkurrmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudFxuXHRcdGlmIGFwcGxpY2FudFxuXHRcdFx0c3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcGxpY2FudCB9KS5jb3VudCgpXG5cdFx0XHRpZiBzcGFjZV91c2VyX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKVxuXG5cdFx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXG5cdFx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxuXHRcdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIilcblx0XHRcdFx0KVxuXG5cdFx0XHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhhcHBsaWNhbnQsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXG5cblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIkluc3RhbmNl55qE5o+Q5Lqk5Lq65Li656m6XCIpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwiYXBwbGljYW50XCJcblx0XHQjIDIuKioqKioqKioqKirnlLPor7fkuroqKioqKioqKioqKlxuXHRcdGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudFxuXHRcdHNwYWNlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHBsaWNhbnQgfSkuY291bnQoKVxuXHRcdGlmIHNwYWNlX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBuZXcgQXJyYXkoYXBwbGljYW50KVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcIm9yZ0ZpZWxkUm9sZVwiXG5cdFx0IyAzLioqKioqKioqKioq6YOo6Zeo5a2X5q615omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcblx0XHRmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm1cblx0XHRmb3JtX3JldiA9IG51bGxcblx0XHRpZiBmbG93X3JldiBpcyBjdXJyZW50X2Zsb3cuY3VycmVudC5faWRcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uXG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoY3VycmVudF9mbG93X2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcblx0XHRcdClcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uIGlmIGN1cnJlbnRfZmxvd192ZXJzaW9uXG5cblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKVxuXHRcdGN1cnJlbnRfZm9ybSA9IG51bGxcblx0XHRpZiBmb3JtX3JldiBpcyBmb3JtLmN1cnJlbnQuX2lkXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnRcblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgKGZvcm1faGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGZvcm1faGlzdG9yeS5faWQgaXMgZm9ybV9yZXZcblx0XHRcdClcblxuXHRcdGFwcHJvdmVyX29yZ19maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdfZmllbGRcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpIC0+XG5cdFx0XHRpZiBmb3JtX2ZpZWxkLl9pZCBpcyBhcHByb3Zlcl9vcmdfZmllbGRcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxuXHRcdClcblxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXG5cdFx0bmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcblx0XHRvcmdfaWRzID0gbmV3IEFycmF5XG5cdFx0b3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheVxuXHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheVxuXHRcdFx0XHRvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSlcblxuXHRcdCMg5qCh6aqMb3JnX2lk5pWw57uE5Litb3JnX2lk5piv5ZCm5ZCI5rOVXG5cdFx0Xy5lYWNoKG9yZ19pZHNfbmFtZXMsIChvcmcpIC0+XG5cdFx0XHRjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBfaWQ6IG9yZ1tcImlkXCJdIH0pLmNvdW50KClcblx0XHRcdGlmIGNoZWNrX29yZ19jb3VudCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHSUTkuI3lkIjms5VcIilcblx0XHRcdG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSlcblx0XHQpXG5cblx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXG5cdFx0XHQjIOajgOafpWFwcHJvdmVyX3JvbGVz5Litcm9sZeaYr+WQpuS4jeWtmOWcqOaIluW3sue7j+iiq+WIoOmZpFxuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XG5cdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIilcblx0XHRcdClcblx0XHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyhvcmdfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwib3JnRmllbGRcIlxuXHRcdCMgNC4qKioqKioqKioqKumDqOmXqOWtl+auteaJgOWxnue7hOe7h+S4reeahOS6uuWRmCoqKioqKioqKioqXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXG5cdFx0Zm9ybV9yZXYgPSBudWxsXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XG5cdFx0XHQpXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxuXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XG5cdFx0XHQpXG5cblx0XHRhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKS0+XG5cdFx0XHRpZiBmb3JtX2ZpZWxkLl9pZCBpcyBhcHByb3Zlcl9vcmdfZmllbGRcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxuXHRcdClcblxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXG5cdFx0bmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcblxuXHRcdG9yZ19pZHMgPSBuZXcgQXJyYXlcblx0XHRvcmdfaWRzX25hbWVzID0gbmV3IEFycmF5XG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRlbHNlXG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxuXG5cdFx0IyDmoKHpqoxvcmdfaWTmlbDnu4TkuK1vcmdfaWTmmK/lkKblkIjms5Vcblx0XHRfLmVhY2gob3JnX2lkc19uYW1lcywgKG9yZykgLT5cblx0XHRcdGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IF9pZDogb3JnW1wiaWRcIl0gfSkuY291bnQoKVxuXHRcdFx0aWYgY2hlY2tfb3JnX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dJROS4jeWQiOazlVwiKVxuXHRcdFx0b3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKVxuXHRcdClcblxuXHRcdCMg5qCh6aqMb3Jn5LiL5a2Y5Zyo5aSE55CG5Lq6XG5cdFx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cblx0XHRcdG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSlcblx0XHRcdG9yZ19jaGlsZHJlbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgcGFyZW50czogb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSkuZmV0Y2goKVxuXHRcdFx0b3JnX2NoaWxkcmVuLnVuc2hpZnQob3JnKVxuXHRcdFx0Y2hlY2tfb3JncyA9IG9yZ19jaGlsZHJlblxuXHRcdFx0b3JnX3VzZXJzID0gbmV3IEFycmF5XG5cdFx0XHRfLmVhY2goY2hlY2tfb3JncywgKGNoZWNrX29yZ191c2VyKSAtPlxuXHRcdFx0XHRpZiBjaGVja19vcmdfdXNlci51c2Vyc1xuXHRcdFx0XHRcdF8uZWFjaChjaGVja19vcmdfdXNlci51c2VycywgKG9yZ191c2VyKSAtPlxuXHRcdFx0XHRcdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogb3JnX3VzZXIgfSkuY291bnQoKSBpcyAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwic3BhY2XkuIvkuI3lrZjlnKjmraR1c2VyXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2Vycylcblx0XHRcdFx0b3JnX3VzZXJzID0gb3JnX3VzZXJzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2Vycylcblx0XHRcdClcblxuXHRcdFx0aWYgb3JnX3VzZXJzLmxlbmd0aCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHXCIgKyBvcmdfaWQgKyBcIuS4jeWtmOWcqOWkhOeQhuS6ulwiKVxuXG5cdFx0KVxuXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdFx0cmV0dXJuIHVzZXJfaWRzXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwidXNlckZpZWxkUm9sZVwiXG5cdFx0IyA1LioqKioqKioqKioq5Lq65ZGY5a2X5q615omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcblx0XHRmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm1cblx0XHRmb3JtX3JldiA9IG51bGxcblx0XHRpZiBmbG93X3JldiBpcyBjdXJyZW50X2Zsb3cuY3VycmVudC5faWRcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uXG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoY3VycmVudF9mbG93X2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcblx0XHRcdClcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uIGlmIGN1cnJlbnRfZmxvd192ZXJzaW9uXG5cblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKVxuXHRcdGN1cnJlbnRfZm9ybSA9IG51bGxcblx0XHRpZiBmb3JtX3JldiBpcyBmb3JtLmN1cnJlbnQuX2lkXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnRcblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgKGZvcm1faGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGZvcm1faGlzdG9yeS5faWQgaXMgZm9ybV9yZXZcblx0XHRcdClcblxuXHRcdGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZFxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xuXHRcdGZpZWxkX2NvZGUgPSBudWxsXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCkgLT5cblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX3VzZXJfZmllbGRcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxuXHRcdClcblxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXG5cdFx0bmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcblx0XHQjIOiOt+WPlnVzZXJfaWTmlbDnu4Rcblx0XHR1c2VyX2lkc19uYW1lcyA9IG5ldyBBcnJheVxuXHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheVxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGVsc2Vcblx0XHRcdFx0dXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxuXG5cdFx0IyDmoKHpqox1c2VyX2lk5pWw57uE5LitdXNlcl9pZOaYr+WQpuWQiOazlVxuXHRcdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKHVzZXJfaWRzX25hbWVzLCAodXNlcikgLT5cblx0XHRcdGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiB1c2VyW1wiaWRcIl0gfSkuY291bnQoKVxuXHRcdFx0aWYgY2hlY2tfdXNlcl9jb3VudCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5Lq65ZGYSUTkuI3lkIjms5VcIilcblx0XHRcdHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKVxuXHRcdClcblxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxuXHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcblx0XHRcdCMg5qOA5p+lYXBwcm92ZXJfcm9sZXPkuK1yb2xl5piv5ZCm5LiN5a2Y5Zyo5oiW5bey57uP6KKr5Yig6ZmkXG5cdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cblx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXG5cdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKVxuXHRcdFx0KVxuXHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyh1c2VyX2lkcywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBpbnN0YW5jZS5zcGFjZSlcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInVzZXJGaWVsZFwiXG5cdFx0IyA2LioqKioqKioqKioq6KGo5Y2V5Lq65ZGY5a2X5q61KioqKioqKioqKipcblx0XHRmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm1cblx0XHRmb3JtX3JldiA9IG51bGxcblx0XHRpZiBmbG93X3JldiBpcyBjdXJyZW50X2Zsb3cuY3VycmVudC5faWRcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uXG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoY3VycmVudF9mbG93X2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcblx0XHRcdClcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uIGlmIGN1cnJlbnRfZmxvd192ZXJzaW9uXG5cblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKVxuXHRcdGN1cnJlbnRfZm9ybSA9IG51bGxcblx0XHRpZiBmb3JtX3JldiBpcyBmb3JtLmN1cnJlbnQuX2lkXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnRcblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgKGZvcm1faGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGZvcm1faGlzdG9yeS5faWQgaXMgZm9ybV9yZXZcblx0XHRcdClcblxuXHRcdGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZFxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xuXHRcdGZpZWxkX2NvZGUgPSBudWxsXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCktPlxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfdXNlcl9maWVsZFxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXG5cdFx0KVxuXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxuXG5cdFx0IyDojrflj5Z1c2VyX2lk5pWw57uEXG5cdFx0dXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXlcblx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcblx0XHRcdFx0dXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSlcblxuXHRcdCMg5qCh6aqMdXNlcl9pZOaVsOe7hOS4rXVzZXJfaWTmmK/lkKblkIjms5Vcblx0XHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaCh1c2VyX2lkc19uYW1lcywgKHVzZXIpIC0+XG5cdFx0XHRjaGVja191c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogdXNlcltcImlkXCJdIH0pLmNvdW50KClcblx0XHRcdGlmIGNoZWNrX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpXG5cdFx0XHR1c2VyX2lkcy5wdXNoKHVzZXJbXCJpZFwiXSlcblx0XHQpXG5cblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRyZXR1cm4gdXNlcl9pZHNcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5U3RlcFJvbGVcIlxuXHRcdCMgNy4qKioqKioqKioqKuaMh+WumuatpemqpOWkhOeQhuWuoeaJueWyl+S9jSoqKioqKioqKioqXG5cdFx0YXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwXG5cdFx0ZmluaXNoZWRfdHJhY2VzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKSAtPlxuXHRcdFx0aWYgdHJhY2Uuc3RlcCBpcyBhcHByb3Zlcl9zdGVwXG5cdFx0XHRcdGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKVxuXHRcdClcblx0XHQjIOagueaNrnN0YXJ0X2RhdGXlj5bmnIDmlrDnmoR0cmFjZVxuXHRcdG1heF9zdGFydERhdGVfdHJhY2UgPSBfLm1heChmaW5pc2hlZF90cmFjZXMsICh0KSAtPlxuXHRcdFx0cmV0dXJuIHQuc3RhcnRfZGF0ZVxuXHRcdClcblxuXHRcdGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKVxuXG5cdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzXG5cdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cblx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXG5cdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6KeS6Imy5bey57uP6KKr5Yig6ZmkXCIpXG5cdFx0XHQpXG5cblx0XHQjIOmqjOivgeafpeWIsOeahHVzZXLmmK/lkKbpg73lkIjms5Vcblx0XHRfLmVhY2goYXBwcm92ZV91c2VycywgKGFwcHJvdmVfdXNlcikgLT5cblx0XHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcHJvdmVfdXNlciB9KS5jb3VudCgpIGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmjIflrprmraXpqqTnmoTlpITnkIbkurrlt7Lnu4/lj5jmm7RcIilcblx0XHQpXG5cblx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKGFwcHJvdmVfdXNlcnMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeVN0ZXBVc2VyXCJcblx0XHQjIDguKioqKioqKioqKirmjIflrprmraXpqqTlpITnkIbkuroqKioqKioqKioqKlxuXHRcdGFwcHJvdmVyX3N0ZXAgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfc3RlcFxuXHRcdGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaChpbnN0YW5jZS50cmFjZXMsICh0cmFjZSkgLT5cblx0XHRcdGlmIHRyYWNlLnN0ZXAgaXMgYXBwcm92ZXJfc3RlcFxuXHRcdFx0XHRmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSlcblx0XHQpXG5cdFx0IyDmoLnmja5zdGFydF9kYXRl5Y+W5pyA5paw55qEdHJhY2Vcblx0XHRtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCAodCkgLT5cblx0XHRcdHJldHVybiB0LnN0YXJ0X2RhdGVcblx0XHQpXG5cblx0XHRhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIilcblxuXHRcdCMg6aqM6K+B5p+l5Yiw55qEdXNlcuaYr+WQpumDveWQiOazlVxuXHRcdF8uZWFjaChhcHByb3ZlX3VzZXJzLCAoYXBwcm92ZV91c2VyKS0+XG5cdFx0XHRjaGVja19hcHByb3ZlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHByb3ZlX3VzZXIgfSkuY291bnQoKVxuXHRcdFx0aWYgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmjIflrprmraXpqqTnmoTlpITnkIbkurrlt7Lnu4/lj5jmm7RcIilcblx0XHQpXG5cblx0XHRhcHByb3ZlX3VzZXJzID0gXy51bmlxKGFwcHJvdmVfdXNlcnMpXG5cdFx0cmV0dXJuIGFwcHJvdmVfdXNlcnNcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzdWJtaXR0ZXJSb2xlXCJcblx0XHQjIDkuKioqKioqKioqKirloavljZXkurrmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdHN1Ym1pdHRlciA9IGluc3RhbmNlLnN1Ym1pdHRlclxuXHRcdGlmIG5vdCBzdWJtaXR0ZXJcblx0XHRcdCMg5Yik5pat5o+Q5Lqk5Lq65piv5ZCm5bey57uP6KKr5Yig6ZmkXG5cdFx0XHRzdWJtaXR0ZXJfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHN1Ym1pdHRlciB9KS5jb3VudCgpXG5cdFx0XHRpZiBzdWJtaXR0ZXJfdXNlcl9jb3VudCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmN5bel5L2c5Yy6XCIpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcblx0XHRcdFx0XHQjIOajgOafpWFwcHJvdmVyX3JvbGVz5Litcm9sZeaYr+WQpuS4jeWtmOWcqOaIluW3sue7j+iiq+WIoOmZpFxuXHRcdFx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxuXHRcdFx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXG5cdFx0XHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhzdWJtaXR0ZXIsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V55qE5o+Q5Lqk5Lq65Li656m6XCIpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3VibWl0dGVyXCJcblx0XHQjIDEwLioqKioqKioqKioq5o+Q5Lqk5Lq6KioqKioqKioqKipcblx0XHRzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXJcblx0XHQjIOWIpOaWreaPkOS6pOS6uuaYr+WQpuW3sue7j+iiq+WIoOmZpFxuXHRcdHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogc3VibWl0dGVyIH0pLmNvdW50KClcblx0XHRpZiBzdWJtaXR0ZXJfdXNlcl9jb3VudCBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBuZXcgQXJyYXkoc3VibWl0dGVyKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlPcmdcIlxuXHRcdCMgMTEuKioqKioqKioqKirmn5Dpg6jpl6jlhoXnmoTmiYDmnInkuroqKioqKioqKioqKlxuXHRcdGFwcHJvdmVyX29yZ19pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3Jnc1xuXHRcdGlmIG5vdCBhcHByb3Zlcl9vcmdfaWRzIG9yIGFwcHJvdmVyX29yZ19pZHMubGVuZ3RoIGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5a6a5LmJ55So5LqO5p+l5om+5LiL5LiA5q2l5aSE55CG5Lq655qE6YOo6Zeo77yM6K+36IGU57O7566h55CG5ZGY6LCD5p+l5rWB56iL5Zu+55qE6YWN572u5piv5ZCm5q2j56GuXCIpXG5cblx0XHQjIOmqjOivgeaJgOaMh+WumueahG9yZ2FuaXphdGlvbl9pZOmDveWtmOWcqFxuXHRcdHZhbGlkX2FwcHJvdmVyX29yZ19pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2goYXBwcm92ZXJfb3JnX2lkcywgKGFwcHJvdmVyX29yZ19pZCkgLT5cblx0XHRcdGlmIGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IF9pZDogYXBwcm92ZXJfb3JnX2lkIH0pLmNvdW50KCkgPiAwXG5cdFx0XHRcdHZhbGlkX2FwcHJvdmVyX29yZ19pZHMudW5zaGlmdChhcHByb3Zlcl9vcmdfaWQpXG5cdFx0KVxuXG5cdFx0b3JnX3VzZXJfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKHZhbGlkX2FwcHJvdmVyX29yZ19pZHMsICh2YWxpZF9hcHByb3Zlcl9vcmdfaWQpIC0+XG5cdFx0XHR2YWxpZF9hcHByb3Zlcl9vcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IHZhbGlkX2FwcHJvdmVyX29yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pXG5cdFx0XHRpZiB2YWxpZF9hcHByb3Zlcl9vcmcudXNlcnNcblx0XHRcdFx0b3JnX3VzZXJfaWRzID0gb3JnX3VzZXJfaWRzLmNvbmNhdCh2YWxpZF9hcHByb3Zlcl9vcmcudXNlcnMpXG5cblx0XHRcdGNoaWxkX29yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHBhcmVudHM6IHZhbGlkX2FwcHJvdmVyX29yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcblx0XHRcdF8uZWFjaChjaGlsZF9vcmdzLCAoY2hpbGRfb3JnKSAtPlxuXHRcdFx0XHRpZiBjaGlsZF9vcmcudXNlcnNcblx0XHRcdFx0XHRvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KGNoaWxkX29yZy51c2Vycylcblx0XHRcdClcblx0XHQpXG5cblx0XHRvcmdfdXNlcl9pZHMgPSBfLnVuaXEob3JnX3VzZXJfaWRzKVxuXHRcdG5ld19vcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2gob3JnX3VzZXJfaWRzLCAob3JnX3VzZXJfaWQpIC0+XG5cdFx0XHRzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBvcmdfdXNlcl9pZCB9KS5jb3VudCgpXG5cdFx0XHRpZiBzcGFjZV91c2VyX2luZm9fY291bnQgPiAwXG5cdFx0XHRcdG5ld19vcmdfdXNlcl9pZHMucHVzaChvcmdfdXNlcl9pZClcblx0XHQpXG5cblx0XHRyZXR1cm4gbmV3X29yZ191c2VyX2lkc1xuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlVc2VyXCJcblx0XHQjIDEyLioqKioqKioqKioq5oyH5a6a55qE5Lq65ZGYKioqKioqKioqKipcblx0XHRhcHByb3Zlcl91c2VyX2lkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2Vyc1xuXHRcdGFwcHJvdmVyX3VzZXJfaWRzID0gXy51bmlxKGFwcHJvdmVyX3VzZXJfaWRzKVxuXHRcdG5ld19hcHByb3Zlcl91c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaChhcHByb3Zlcl91c2VyX2lkcywgKGFwcHJvdmVyX3VzZXJfaWQpIC0+XG5cdFx0XHRzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHByb3Zlcl91c2VyX2lkIH0pLmNvdW50KClcblx0XHRcdGlmIHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDBcblx0XHRcdFx0bmV3X2FwcHJvdmVyX3VzZXJfaWRzLnB1c2goYXBwcm92ZXJfdXNlcl9pZClcblx0XHQpXG5cblx0XHRyZXR1cm4gbmV3X2FwcHJvdmVyX3VzZXJfaWRzXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwicGlja3VwQXRSdW50aW1lXCJcblx0XHQjIDEzLioqKioqKioqKioq5a6h5om55pe25oyH5a6aKioqKioqKioqKipcblx0XHRuZXh0X3N0ZXBfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAoX3RyKSAtPlxuXHRcdFx0cmV0dXJuIF90ci5pc19maW5pc2hlZCBpcyBmYWxzZVxuXHRcdClcblx0XHRfYXBwcm92ZSA9IF8uZmluZChfdHJhY2UuYXBwcm92ZXMsIChfYXBwKSAtPlxuXHRcdFx0cmV0dXJuIF9hcHAuaXNfZmluaXNoZWQgaXMgZmFsc2UgYW5kIF9hcHAudHlwZSBpc250ICdjYydcblx0XHQpXG5cblx0XHRpZiBfYXBwcm92ZS5uZXh0X3N0ZXBzXG5cdFx0XHRpZiBfYXBwcm92ZS5uZXh0X3N0ZXBzWzBdW1widXNlcnNcIl1cblx0XHRcdFx0bmV4dF9zdGVwX3VzZXJzID0gX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdXG5cblx0XHRyZXR1cm4gbmV4dF9zdGVwX3VzZXJzXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwiYXBwbGljYW50U3VwZXJpb3JcIlxuXHRcdCMgMTQuKioqKioqKioqKirnlLPor7fkurrkuIrnuqfkuLvnrqEqKioqKioqKioqKlxuXHRcdGFwcGxpY2FudFN1cGVyaW9ycyA9IG5ldyBBcnJheVxuXHRcdF9zcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogaW5zdGFuY2UuYXBwbGljYW50IH0sIHsgZmllbGRzOiB7IG1hbmFnZXI6IDEgfSB9KVxuXHRcdGlmIF9zcGFjZV91c2VyLm1hbmFnZXJcblx0XHRcdGFwcGxpY2FudFN1cGVyaW9ycy5wdXNoKF9zcGFjZV91c2VyLm1hbmFnZXIpXG5cblx0XHRyZXR1cm4gYXBwbGljYW50U3VwZXJpb3JzIiwiICAgICAgICAgICAgICAgICAgICAgICBcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyID0ge307XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyA9IGZ1bmN0aW9uKHVzZXJfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpIHtcbiAgdmFyIGFwcHJvdmVfdXNlcnM7XG4gIGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaCh1c2VyX2lkcywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgIHZhciB1c2VycztcbiAgICBpZiAoZGIudXNlcnMuZmluZCh7XG4gICAgICBfaWQ6IHVzZXJfaWRcbiAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyh1c2VyX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpO1xuICAgICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGFwcHJvdmVfdXNlcnMgPSBhcHByb3ZlX3VzZXJzLmNvbmNhdCh1c2Vycyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwidXNlcl9pZOS4jeWQiOazleS4jeWQiOazlVwiKTtcbiAgICB9XG4gIH0pO1xuICBhcHByb3ZlX3VzZXJzID0gXy51bmlxKGFwcHJvdmVfdXNlcnMpO1xuICByZXR1cm4gYXBwcm92ZV91c2Vycztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzID0gZnVuY3Rpb24odXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciB1c2VyX2lkcztcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChyb2xlX2lkcywgZnVuY3Rpb24ocm9sZV9pZCkge1xuICAgIHZhciB1c2VycztcbiAgICBpZiAoZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgIF9pZDogcm9sZV9pZFxuICAgIH0pLmNvdW50KCkgPiAwKSB7XG4gICAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpO1xuICAgICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJyb2xlX2lk5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgIH1cbiAgfSk7XG4gIGlmICh1c2VyX2lkcy5sZW5ndGggPiAwKSB7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIHJldHVybiB1c2VyX2lkcztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuagueaNrnVzZXJfaWTlkoxyb2xlX2lkc+ayoeafpeWIsOWvueW6lOeahOWkhOeQhuS6ulwiKTtcbiAgfVxufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSA9IGZ1bmN0aW9uKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKSB7XG4gIHZhciBvcmdzLCB1c2VyX2lkcztcbiAgb3JncyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgIHVzZXJzOiB1c2VyX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMVxuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChvcmdzLCBmdW5jdGlvbihvcmcpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnLl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpO1xuICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpO1xuICAgIH1cbiAgfSk7XG4gIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgcmV0dXJuIHVzZXJfaWRzO1xufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdzQW5kUm9sZXMgPSBmdW5jdGlvbihvcmdfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpIHtcbiAgdmFyIHVzZXJfaWRzO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgIHZhciB1c2VycztcbiAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpO1xuICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpO1xuICAgIH1cbiAgfSk7XG4gIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgcmV0dXJuIHVzZXJfaWRzO1xufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyA9IGZ1bmN0aW9uKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciB1c2VyX2lkcztcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChyb2xlX2lkcywgZnVuY3Rpb24ocm9sZV9pZCkge1xuICAgIHZhciB1c2VycztcbiAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKTtcbiAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICB9XG4gIH0pO1xuICBpZiAodXNlcl9pZHMubGVuZ3RoID4gMCkge1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmoLnmja5vcmdfaWTlkoxyb2xlX2lkc+ayoeafpeWIsOWvueW6lOeahOWkhOeQhuS6ulwiKTtcbiAgfVxufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlID0gZnVuY3Rpb24ob3JnX2lkLCByb2xlX2lkLCBzcGFjZV9pZCkge1xuICB2YXIgb3JnLCBwYXJlbnRzLCBwb3NpdGlvbnMsIHVzZXJfaWRzO1xuICBvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgIF9pZDogb3JnX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHBhcmVudHM6IDFcbiAgICB9XG4gIH0pO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgcG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgIG9yZzogb3JnX2lkLFxuICAgIHJvbGU6IHJvbGVfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgdXNlcnM6IDFcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIF8uZWFjaChwb3NpdGlvbnMsIGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKTtcbiAgfSk7XG4gIGlmICh1c2VyX2lkcy5sZW5ndGggPT09IDApIHtcbiAgICBwYXJlbnRzID0gb3JnLnBhcmVudHM7XG4gICAgXy5lYWNoKHBhcmVudHMsIGZ1bmN0aW9uKHBhcmVudF9pZCkge1xuICAgICAgcG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgb3JnOiBwYXJlbnRfaWQsXG4gICAgICAgIHJvbGU6IHJvbGVfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIGlmIChwb3NpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gXy5lYWNoKHBvc2l0aW9ucywgZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQocG9zaXRpb24udXNlcnMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIHJldHVybiB1c2VyX2lkcztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyA9IGZ1bmN0aW9uKGluc3RhbmNlX2lkLCBzdGVwX2lkKSB7XG4gIHZhciBfYXBwcm92ZSwgX3NwYWNlX3VzZXIsIF90cmFjZSwgYXBwbGljYW50LCBhcHBsaWNhbnRTdXBlcmlvcnMsIGFwcHJvdmVfdXNlcnMsIGFwcHJvdmVyX29yZ19maWVsZCwgYXBwcm92ZXJfb3JnX2lkcywgYXBwcm92ZXJfc3RlcCwgYXBwcm92ZXJfdXNlcl9maWVsZCwgYXBwcm92ZXJfdXNlcl9pZHMsIGN1cnJlbnQsIGN1cnJlbnRfZmxvdywgY3VycmVudF9mbG93X3ZlcnNpb24sIGN1cnJlbnRfZm9ybSwgY3VycmVudF9zdGVwLCBjdXJyZW50X3N0ZXBzLCBkZWFsX3R5cGUsIGZpZWxkX2NvZGUsIGZpbmlzaGVkX3RyYWNlcywgZmxvd19pZCwgZmxvd19yZXYsIGZvcm0sIGZvcm1fZmllbGRzLCBmb3JtX2lkLCBmb3JtX3JldiwgaGFuZGxlcnMsIGluc3RhbmNlLCBtYXhfc3RhcnREYXRlX3RyYWNlLCBuZXdfYXBwcm92ZXJfdXNlcl9pZHMsIG5ld19vcmdfdXNlcl9pZHMsIG5ld2VzdF92YWx1ZXMsIG5leHRfc3RlcF91c2Vycywgb3JnX2lkcywgb3JnX2lkc19uYW1lcywgb3JnX3VzZXJfaWRzLCBzcGFjZV9pZCwgc3BhY2VfdXNlcl9jb3VudCwgc3VibWl0dGVyLCBzdWJtaXR0ZXJfdXNlcl9jb3VudCwgdW5maW5pc2hlZF90cmFjZSwgdXNlcl9pZHMsIHVzZXJfaWRzX25hbWVzLCB1c2VycywgdmFsaWRfYXBwcm92ZXJfb3JnX2lkcztcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XG4gIGlmIChpbnN0YW5jZS5zdGVwX2FwcHJvdmUgJiYgaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWRdKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnN0ZXBfYXBwcm92ZVtzdGVwX2lkXTtcbiAgfVxuICBhcHByb3ZlX3VzZXJzID0gbmV3IEFycmF5O1xuICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcbiAgZmxvd19yZXYgPSBpbnN0YW5jZS5mbG93X3ZlcnNpb247XG4gIGN1cnJlbnRfZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCk7XG4gIGN1cnJlbnRfc3RlcCA9IG51bGw7XG4gIGN1cnJlbnRfc3RlcHMgPSBuZXcgQXJyYXk7XG4gIGlmIChjdXJyZW50X2Zsb3cuY3VycmVudC5faWQgPT09IGZsb3dfcmV2KSB7XG4gICAgY3VycmVudF9zdGVwcyA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LnN0ZXBzO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnQgPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihoaXN0b3J5KSB7XG4gICAgICByZXR1cm4gaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgIH0pO1xuICAgIGN1cnJlbnRfc3RlcHMgPSBjdXJyZW50LnN0ZXBzO1xuICB9XG4gIGN1cnJlbnRfc3RlcCA9IF8uZmluZChjdXJyZW50X3N0ZXBzLCBmdW5jdGlvbihzdGVwKSB7XG4gICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICB9KTtcbiAgaWYgKGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgPT09IFwiY29uZGl0aW9uXCIpIHtcbiAgICB1bmZpbmlzaGVkX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIHJldHVybiB0cmFjZS5pc19maW5pc2hlZCA9PT0gZmFsc2U7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBBcnJheSh1bmZpbmlzaGVkX3RyYWNlLmFwcHJvdmVzWzBdLnVzZXIpO1xuICB9XG4gIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09PSBcInN0YXJ0XCIpIHtcbiAgICBoYW5kbGVycyA9IG5ldyBBcnJheTtcbiAgICBoYW5kbGVycy5wdXNoKGluc3RhbmNlLmFwcGxpY2FudCk7XG4gICAgaGFuZGxlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpO1xuICAgIGhhbmRsZXJzID0gXy51bmlxKGhhbmRsZXJzKTtcbiAgICByZXR1cm4gaGFuZGxlcnM7XG4gIH1cbiAgZGVhbF90eXBlID0gY3VycmVudF9zdGVwLmRlYWxfdHlwZTtcbiAgdXNlcnMgPSBuZXcgQXJyYXk7XG4gIGlmIChkZWFsX3R5cGUgPT09IFwiYXBwbGljYW50Um9sZVwiKSB7XG4gICAgYXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50O1xuICAgIGlmIChhcHBsaWNhbnQpIHtcbiAgICAgIHNwYWNlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHBsaWNhbnRcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoc3BhY2VfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoYXBwbGljYW50LCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIkluc3RhbmNl55qE5o+Q5Lqk5Lq65Li656m6XCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwiYXBwbGljYW50XCIpIHtcbiAgICBhcHBsaWNhbnQgPSBpbnN0YW5jZS5hcHBsaWNhbnQ7XG4gICAgc3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogYXBwbGljYW50XG4gICAgfSkuY291bnQoKTtcbiAgICBpZiAoc3BhY2VfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBBcnJheShhcHBsaWNhbnQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwib3JnRmllbGRSb2xlXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkO1xuICAgIGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkcztcbiAgICBmaWVsZF9jb2RlID0gbnVsbDtcbiAgICBfLmVhY2goZm9ybV9maWVsZHMsIGZ1bmN0aW9uKGZvcm1fZmllbGQpIHtcbiAgICAgIGlmIChmb3JtX2ZpZWxkLl9pZCA9PT0gYXBwcm92ZXJfb3JnX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIG9yZ19pZHMgPSBuZXcgQXJyYXk7XG4gICAgb3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheTtcbiAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSkge1xuICAgICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXy5lYWNoKG9yZ19pZHNfbmFtZXMsIGZ1bmN0aW9uKG9yZykge1xuICAgICAgdmFyIGNoZWNrX29yZ19jb3VudDtcbiAgICAgIGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDogb3JnW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfb3JnX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHSUTkuI3lkIjms5VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKTtcbiAgICB9KTtcbiAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzICYmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzKG9yZ19pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcIm9yZ0ZpZWxkXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkO1xuICAgIGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkcztcbiAgICBmaWVsZF9jb2RlID0gbnVsbDtcbiAgICBfLmVhY2goZm9ybV9maWVsZHMsIGZ1bmN0aW9uKGZvcm1fZmllbGQpIHtcbiAgICAgIGlmIChmb3JtX2ZpZWxkLl9pZCA9PT0gYXBwcm92ZXJfb3JnX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIG9yZ19pZHMgPSBuZXcgQXJyYXk7XG4gICAgb3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheTtcbiAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSkge1xuICAgICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXy5lYWNoKG9yZ19pZHNfbmFtZXMsIGZ1bmN0aW9uKG9yZykge1xuICAgICAgdmFyIGNoZWNrX29yZ19jb3VudDtcbiAgICAgIGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDogb3JnW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfb3JnX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHSUTkuI3lkIjms5VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKTtcbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgICB2YXIgY2hlY2tfb3Jncywgb3JnLCBvcmdfY2hpbGRyZW4sIG9yZ191c2VycztcbiAgICAgIG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb3JnX2NoaWxkcmVuID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICBwYXJlbnRzOiBvcmdfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIG9yZ19jaGlsZHJlbi51bnNoaWZ0KG9yZyk7XG4gICAgICBjaGVja19vcmdzID0gb3JnX2NoaWxkcmVuO1xuICAgICAgb3JnX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgXy5lYWNoKGNoZWNrX29yZ3MsIGZ1bmN0aW9uKGNoZWNrX29yZ191c2VyKSB7XG4gICAgICAgIGlmIChjaGVja19vcmdfdXNlci51c2Vycykge1xuICAgICAgICAgIF8uZWFjaChjaGVja19vcmdfdXNlci51c2VycywgZnVuY3Rpb24ob3JnX3VzZXIpIHtcbiAgICAgICAgICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAgICAgICB1c2VyOiBvcmdfdXNlclxuICAgICAgICAgICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInNwYWNl5LiL5LiN5a2Y5Zyo5q2kdXNlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2Vycyk7XG4gICAgICAgIHJldHVybiBvcmdfdXNlcnMgPSBvcmdfdXNlcnMuY29uY2F0KGNoZWNrX29yZ191c2VyLnVzZXJzKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKG9yZ191c2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dcIiArIG9yZ19pZCArIFwi5LiN5a2Y5Zyo5aSE55CG5Lq6XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInVzZXJGaWVsZFJvbGVcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX3VzZXJfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgdXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHVzZXJfaWRzX25hbWVzLCBmdW5jdGlvbih1c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfdXNlcl9jb3VudDtcbiAgICAgIGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiB1c2VyW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKTtcbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXModXNlcl9pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInVzZXJGaWVsZFwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfdXNlcl9maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VyX2ZpZWxkO1xuICAgIGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkcztcbiAgICBmaWVsZF9jb2RlID0gbnVsbDtcbiAgICBfLmVhY2goZm9ybV9maWVsZHMsIGZ1bmN0aW9uKGZvcm1fZmllbGQpIHtcbiAgICAgIGlmIChmb3JtX2ZpZWxkLl9pZCA9PT0gYXBwcm92ZXJfdXNlcl9maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICB1c2VyX2lkc19uYW1lcyA9IG5ldyBBcnJheTtcbiAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSkge1xuICAgICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB1c2VyX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1c2VyX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godXNlcl9pZHNfbmFtZXMsIGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgIHZhciBjaGVja191c2VyX2NvdW50O1xuICAgICAgY2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IHVzZXJbXCJpZFwiXVxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChjaGVja191c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5Lq65ZGYSUTkuI3lkIjms5VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pO1xuICAgIH0pO1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlTdGVwUm9sZVwiKSB7XG4gICAgYXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwO1xuICAgIGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgaWYgKHRyYWNlLnN0ZXAgPT09IGFwcHJvdmVyX3N0ZXApIHtcbiAgICAgICAgcmV0dXJuIGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICByZXR1cm4gdC5zdGFydF9kYXRlO1xuICAgIH0pO1xuICAgIGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzKSB7XG4gICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIF8uZWFjaChhcHByb3ZlX3VzZXJzLCBmdW5jdGlvbihhcHByb3ZlX3VzZXIpIHtcbiAgICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHByb3ZlX3VzZXJcbiAgICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmjIflrprmraXpqqTnmoTlpITnkIbkurrlt7Lnu4/lj5jmm7RcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyhhcHByb3ZlX3VzZXJzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKTtcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3BlY2lmeVN0ZXBVc2VyXCIpIHtcbiAgICBhcHByb3Zlcl9zdGVwID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3N0ZXA7XG4gICAgZmluaXNoZWRfdHJhY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICBpZiAodHJhY2Uuc3RlcCA9PT0gYXBwcm92ZXJfc3RlcCkge1xuICAgICAgICByZXR1cm4gZmluaXNoZWRfdHJhY2VzLnB1c2godHJhY2UpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1heF9zdGFydERhdGVfdHJhY2UgPSBfLm1heChmaW5pc2hlZF90cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHJldHVybiB0LnN0YXJ0X2RhdGU7XG4gICAgfSk7XG4gICAgYXBwcm92ZV91c2VycyA9IF8ucGx1Y2sobWF4X3N0YXJ0RGF0ZV90cmFjZS5hcHByb3ZlcywgXCJ1c2VyXCIpO1xuICAgIF8uZWFjaChhcHByb3ZlX3VzZXJzLCBmdW5jdGlvbihhcHByb3ZlX3VzZXIpIHtcbiAgICAgIHZhciBjaGVja19hcHByb3ZlX3VzZXJfY291bnQ7XG4gICAgICBjaGVja19hcHByb3ZlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHByb3ZlX3VzZXJcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2Vycyk7XG4gICAgcmV0dXJuIGFwcHJvdmVfdXNlcnM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInN1Ym1pdHRlclJvbGVcIikge1xuICAgIHN1Ym1pdHRlciA9IGluc3RhbmNlLnN1Ym1pdHRlcjtcbiAgICBpZiAoIXN1Ym1pdHRlcikge1xuICAgICAgc3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBzdWJtaXR0ZXJcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoc3VibWl0dGVyX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzICYmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhzdWJtaXR0ZXIsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V55qE5o+Q5Lqk5Lq65Li656m6XCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3VibWl0dGVyXCIpIHtcbiAgICBzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXI7XG4gICAgc3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IHN1Ym1pdHRlclxuICAgIH0pLmNvdW50KCk7XG4gICAgaWYgKHN1Ym1pdHRlcl91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBBcnJheShzdWJtaXR0ZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3BlY2lmeU9yZ1wiKSB7XG4gICAgYXBwcm92ZXJfb3JnX2lkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdzO1xuICAgIGlmICghYXBwcm92ZXJfb3JnX2lkcyB8fCBhcHByb3Zlcl9vcmdfaWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrlrprkuYnnlKjkuo7mn6Xmib7kuIvkuIDmraXlpITnkIbkurrnmoTpg6jpl6jvvIzor7fogZTns7vnrqHnkIblkZjosIPmn6XmtYHnqIvlm77nmoTphY3nva7mmK/lkKbmraPnoa5cIik7XG4gICAgfVxuICAgIHZhbGlkX2FwcHJvdmVyX29yZ19pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGFwcHJvdmVyX29yZ19pZHMsIGZ1bmN0aW9uKGFwcHJvdmVyX29yZ19pZCkge1xuICAgICAgaWYgKGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDogYXBwcm92ZXJfb3JnX2lkXG4gICAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgICByZXR1cm4gdmFsaWRfYXBwcm92ZXJfb3JnX2lkcy51bnNoaWZ0KGFwcHJvdmVyX29yZ19pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgb3JnX3VzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaCh2YWxpZF9hcHByb3Zlcl9vcmdfaWRzLCBmdW5jdGlvbih2YWxpZF9hcHByb3Zlcl9vcmdfaWQpIHtcbiAgICAgIHZhciBjaGlsZF9vcmdzLCB2YWxpZF9hcHByb3Zlcl9vcmc7XG4gICAgICB2YWxpZF9hcHByb3Zlcl9vcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHZhbGlkX2FwcHJvdmVyX29yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICh2YWxpZF9hcHByb3Zlcl9vcmcudXNlcnMpIHtcbiAgICAgICAgb3JnX3VzZXJfaWRzID0gb3JnX3VzZXJfaWRzLmNvbmNhdCh2YWxpZF9hcHByb3Zlcl9vcmcudXNlcnMpO1xuICAgICAgfVxuICAgICAgY2hpbGRfb3JncyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgcGFyZW50czogdmFsaWRfYXBwcm92ZXJfb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICByZXR1cm4gXy5lYWNoKGNoaWxkX29yZ3MsIGZ1bmN0aW9uKGNoaWxkX29yZykge1xuICAgICAgICBpZiAoY2hpbGRfb3JnLnVzZXJzKSB7XG4gICAgICAgICAgcmV0dXJuIG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQoY2hpbGRfb3JnLnVzZXJzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgb3JnX3VzZXJfaWRzID0gXy51bmlxKG9yZ191c2VyX2lkcyk7XG4gICAgbmV3X29yZ191c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2gob3JnX3VzZXJfaWRzLCBmdW5jdGlvbihvcmdfdXNlcl9pZCkge1xuICAgICAgdmFyIHNwYWNlX3VzZXJfaW5mb19jb3VudDtcbiAgICAgIHNwYWNlX3VzZXJfaW5mb19jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IG9yZ191c2VyX2lkXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG5ld19vcmdfdXNlcl9pZHMucHVzaChvcmdfdXNlcl9pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld19vcmdfdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlVc2VyXCIpIHtcbiAgICBhcHByb3Zlcl91c2VyX2lkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VycztcbiAgICBhcHByb3Zlcl91c2VyX2lkcyA9IF8udW5pcShhcHByb3Zlcl91c2VyX2lkcyk7XG4gICAgbmV3X2FwcHJvdmVyX3VzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChhcHByb3Zlcl91c2VyX2lkcywgZnVuY3Rpb24oYXBwcm92ZXJfdXNlcl9pZCkge1xuICAgICAgdmFyIHNwYWNlX3VzZXJfaW5mb19jb3VudDtcbiAgICAgIHNwYWNlX3VzZXJfaW5mb19jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcHJvdmVyX3VzZXJfaWRcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoc3BhY2VfdXNlcl9pbmZvX2NvdW50ID4gMCkge1xuICAgICAgICByZXR1cm4gbmV3X2FwcHJvdmVyX3VzZXJfaWRzLnB1c2goYXBwcm92ZXJfdXNlcl9pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld19hcHByb3Zlcl91c2VyX2lkcztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwicGlja3VwQXRSdW50aW1lXCIpIHtcbiAgICBuZXh0X3N0ZXBfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24oX3RyKSB7XG4gICAgICByZXR1cm4gX3RyLmlzX2ZpbmlzaGVkID09PSBmYWxzZTtcbiAgICB9KTtcbiAgICBfYXBwcm92ZSA9IF8uZmluZChfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKF9hcHApIHtcbiAgICAgIHJldHVybiBfYXBwLmlzX2ZpbmlzaGVkID09PSBmYWxzZSAmJiBfYXBwLnR5cGUgIT09ICdjYyc7XG4gICAgfSk7XG4gICAgaWYgKF9hcHByb3ZlLm5leHRfc3RlcHMpIHtcbiAgICAgIGlmIChfYXBwcm92ZS5uZXh0X3N0ZXBzWzBdW1widXNlcnNcIl0pIHtcbiAgICAgICAgbmV4dF9zdGVwX3VzZXJzID0gX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV4dF9zdGVwX3VzZXJzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJhcHBsaWNhbnRTdXBlcmlvclwiKSB7XG4gICAgYXBwbGljYW50U3VwZXJpb3JzID0gbmV3IEFycmF5O1xuICAgIF9zcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBpbnN0YW5jZS5hcHBsaWNhbnRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbWFuYWdlcjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChfc3BhY2VfdXNlci5tYW5hZ2VyKSB7XG4gICAgICBhcHBsaWNhbnRTdXBlcmlvcnMucHVzaChfc3BhY2VfdXNlci5tYW5hZ2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGxpY2FudFN1cGVyaW9ycztcbiAgfVxufTtcbiIsInBlcm1pc3Npb25NYW5hZ2VyID0ge31cblxucGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zID0gKGZsb3dfaWQsIHVzZXJfaWQpIC0+XG5cdCMg5qC55o2uOmZsb3dfaWTmn6XliLDlr7nlupTnmoRmbG93XG5cdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZClcblx0c3BhY2VfaWQgPSBmbG93LnNwYWNlXG5cdCMg5qC55o2uc3BhY2VfaWTlkow6dXNlcl9pZOWIsG9yZ2FuaXphdGlvbnPooajkuK3mn6XliLDnlKjmiLfmiYDlsZ7miYDmnInnmoRvcmdfaWTvvIjljIXmi6zkuIrnuqfnu4RJRO+8iVxuXHRvcmdfaWRzID0gbmV3IEFycmF5XG5cdG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuXHRcdHNwYWNlOiBzcGFjZV9pZCwgdXNlcnM6IHVzZXJfaWQgfSwgeyBmaWVsZHM6IHsgcGFyZW50czogMSB9IH0pLmZldGNoKClcblx0Xy5lYWNoKG9yZ2FuaXphdGlvbnMsIChvcmcpIC0+XG5cdFx0b3JnX2lkcy5wdXNoKG9yZy5faWQpXG5cdFx0aWYgb3JnLnBhcmVudHNcblx0XHRcdF8uZWFjaChvcmcucGFyZW50cywgKHBhcmVudF9pZCkgLT5cblx0XHRcdFx0b3JnX2lkcy5wdXNoKHBhcmVudF9pZClcblx0XHRcdClcblx0KVxuXHRvcmdfaWRzID0gXy51bmlxKG9yZ19pZHMpXG5cdG15X3Blcm1pc3Npb25zID0gbmV3IEFycmF5XG5cdGlmIGZsb3cucGVybXNcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX2FkbWlu5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZOaYr+WQpuWMheWQqzTmraXlvpfliLDnmoRvcmdfaWTmlbDnu4TkuK3nmoTku7vkvZXkuIDkuKrvvIxcblx0XHQjIOiLpeaYr++8jOWImeWcqOi/lOWbnueahOaVsOe7hOS4reWKoOS4imFkZFxuXHRcdGlmIGZsb3cucGVybXMudXNlcnNfY2FuX2FkZFxuXHRcdFx0dXNlcnNfY2FuX2FkZCA9IGZsb3cucGVybXMudXNlcnNfY2FuX2FkZFxuXHRcdFx0aWYgdXNlcnNfY2FuX2FkZC5pbmNsdWRlcyh1c2VyX2lkKVxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpXG5cblx0XHRpZiBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZFxuXHRcdFx0b3Jnc19jYW5fYWRkID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGRcblx0XHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxuXHRcdFx0XHRpZiBvcmdzX2Nhbl9hZGQuaW5jbHVkZXMob3JnX2lkKVxuXHRcdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIilcblx0XHRcdClcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3LkuK3mmK/lkKbljIXlkKvlvZPliY3nlKjmiLfvvIxcblx0XHQjIOaIluiAhWZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcuaYr+WQpuWMheWQqzTmraXlvpfliLDnmoRvcmdfaWTmlbDnu4TkuK3nmoTku7vkvZXkuIDkuKrvvIxcblx0XHQjIOiLpeaYr++8jOWImeWcqOi/lOWbnueahOaVsOe7hOS4reWKoOS4im1vbml0b3Jcblx0XHRpZiBmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yXG5cdFx0XHR1c2Vyc19jYW5fbW9uaXRvciA9IGZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3Jcblx0XHRcdGlmIHVzZXJzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKHVzZXJfaWQpXG5cdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpXG5cblx0XHRpZiBmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3Jcblx0XHRcdG9yZ3NfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3Jcblx0XHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxuXHRcdFx0XHRpZiBvcmdzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKG9yZ19pZClcblx0XHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKVxuXHRcdFx0KVxuXHRcdCMg5Yik5patZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW7kuK3mmK/lkKbljIXlkKvlvZPliY3nlKjmiLfvvIxcblx0XHQjIOaIluiAhWZsb3cucGVybXMub3Jnc19jYW5fYWRtaW7mmK/lkKbljIXlkKs05q2l5b6X5Yiw55qEb3JnX2lk5pWw57uE5Lit55qE5Lu75L2V5LiA5Liq77yMXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIphZG1pblxuXHRcdGlmIGZsb3cucGVybXMudXNlcnNfY2FuX2FkbWluXG5cdFx0XHR1c2Vyc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pblxuXHRcdFx0aWYgdXNlcnNfY2FuX2FkbWluLmluY2x1ZGVzKHVzZXJfaWQpXG5cdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKVxuXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pblxuXHRcdFx0b3Jnc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWluXG5cdFx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cblx0XHRcdFx0aWYgb3Jnc19jYW5fYWRtaW4uaW5jbHVkZXMob3JnX2lkKVxuXHRcdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKVxuXHRcdFx0KVxuXG5cdG15X3Blcm1pc3Npb25zID0gXy51bmlxKG15X3Blcm1pc3Npb25zKVxuXHRyZXR1cm4gbXlfcGVybWlzc2lvbnMiLCIgICAgICAgICAgICAgICAgICAgICAgXG5cbnBlcm1pc3Npb25NYW5hZ2VyID0ge307XG5cbnBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uKGZsb3dfaWQsIHVzZXJfaWQpIHtcbiAgdmFyIGZsb3csIG15X3Blcm1pc3Npb25zLCBvcmdfaWRzLCBvcmdhbml6YXRpb25zLCBvcmdzX2Nhbl9hZGQsIG9yZ3NfY2FuX2FkbWluLCBvcmdzX2Nhbl9tb25pdG9yLCBzcGFjZV9pZCwgdXNlcnNfY2FuX2FkZCwgdXNlcnNfY2FuX2FkbWluLCB1c2Vyc19jYW5fbW9uaXRvcjtcbiAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93X2lkKTtcbiAgc3BhY2VfaWQgPSBmbG93LnNwYWNlO1xuICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICBvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgdXNlcnM6IHVzZXJfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcGFyZW50czogMVxuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgXy5lYWNoKG9yZ2FuaXphdGlvbnMsIGZ1bmN0aW9uKG9yZykge1xuICAgIG9yZ19pZHMucHVzaChvcmcuX2lkKTtcbiAgICBpZiAob3JnLnBhcmVudHMpIHtcbiAgICAgIHJldHVybiBfLmVhY2gob3JnLnBhcmVudHMsIGZ1bmN0aW9uKHBhcmVudF9pZCkge1xuICAgICAgICByZXR1cm4gb3JnX2lkcy5wdXNoKHBhcmVudF9pZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBvcmdfaWRzID0gXy51bmlxKG9yZ19pZHMpO1xuICBteV9wZXJtaXNzaW9ucyA9IG5ldyBBcnJheTtcbiAgaWYgKGZsb3cucGVybXMpIHtcbiAgICBpZiAoZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRkKSB7XG4gICAgICB1c2Vyc19jYW5fYWRkID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRkO1xuICAgICAgaWYgKHVzZXJzX2Nhbl9hZGQuaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgICAgbXlfcGVybWlzc2lvbnMucHVzaChcImFkZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fYWRkKSB7XG4gICAgICBvcmdzX2Nhbl9hZGQgPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZDtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX2FkZC5pbmNsdWRlcyhvcmdfaWQpKSB7XG4gICAgICAgICAgcmV0dXJuIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvcikge1xuICAgICAgdXNlcnNfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yO1xuICAgICAgaWYgKHVzZXJzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yKSB7XG4gICAgICBvcmdzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yO1xuICAgICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgICBpZiAob3Jnc19jYW5fbW9uaXRvci5pbmNsdWRlcyhvcmdfaWQpKSB7XG4gICAgICAgICAgcmV0dXJuIG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX2FkbWluKSB7XG4gICAgICB1c2Vyc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbjtcbiAgICAgIGlmICh1c2Vyc19jYW5fYWRtaW4uaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgICAgbXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pbikge1xuICAgICAgb3Jnc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWluO1xuICAgICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgICBpZiAob3Jnc19jYW5fYWRtaW4uaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBteV9wZXJtaXNzaW9ucyA9IF8udW5pcShteV9wZXJtaXNzaW9ucyk7XG4gIHJldHVybiBteV9wZXJtaXNzaW9ucztcbn07XG4iLCJhcHByb3ZlTWFuYWdlciA9IHt9XG5cblxuIyMjXG4gICAg5a+55q+UYXBwcm92ZV92YWx1ZXPkuI5sYXN0X3ZhbHVlcyDlr7nosaHvvIwg6L+U5ZueYXBwcm92ZV92YWx1ZXPmr5RsYXN0X3ZhbHVlc+WkmuWHuueahOaIluiAheaUueWPmOeahOmDqOWIhlxuIyMjXG5hcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMgPSAobGFzdF92YWx1ZXMsYXBwcm92ZV92YWx1ZXMpIC0+XG5cblx0Y2hhbmdlVmFsdWVzID0ge31cblxuXHRsYXN0X3ZhbHVlc19rZXlzID0gXy5rZXlzKGxhc3RfdmFsdWVzKVxuXG5cdGFwcHJvdmVfdmFsdWVzX2tleXMgPSBfLmtleXMoYXBwcm92ZV92YWx1ZXMpXG5cbiNcdGNvbnNvbGUubG9nKFwibGFzdF92YWx1ZXNfa2V5c1wiLCBsYXN0X3ZhbHVlc19rZXlzKVxuI1xuI1x0Y29uc29sZS5sb2coXCJhcHByb3ZlX3ZhbHVlc19rZXlzXCIsIGFwcHJvdmVfdmFsdWVzX2tleXMpXG5cblx0YXBwcm92ZV92YWx1ZXNfa2V5cy5mb3JFYWNoIChrZXkpLT5cblx0XHRpZiBfLmNvbnRhaW5zKGxhc3RfdmFsdWVzX2tleXMsIGtleSlcblx0XHRcdGlmICFfLmlzRXF1YWwobGFzdF92YWx1ZXNba2V5XSwgYXBwcm92ZV92YWx1ZXNba2V5XSlcblx0XHRcdFx0Y2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldXG5cdFx0ZWxzZVxuXHRcdFx0aWYgYXBwcm92ZV92YWx1ZXNba2V5XSAhPSAnJ1xuI1x0XHRcdFx0Y29uc29sZS5sb2coa2V5LGFwcHJvdmVfdmFsdWVzW2tleV0pXG5cdFx0XHRcdGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XVxuXG5cdHJldHVybiBjaGFuZ2VWYWx1ZXNcbiIsIiAgICAgICAgICAgICAgICAgICBcblxuYXBwcm92ZU1hbmFnZXIgPSB7fTtcblxuXG4vKlxuICAgIOWvueavlGFwcHJvdmVfdmFsdWVz5LiObGFzdF92YWx1ZXMg5a+56LGh77yMIOi/lOWbnmFwcHJvdmVfdmFsdWVz5q+UbGFzdF92YWx1ZXPlpJrlh7rnmoTmiJbogIXmlLnlj5jnmoTpg6jliIZcbiAqL1xuXG5hcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMgPSBmdW5jdGlvbihsYXN0X3ZhbHVlcywgYXBwcm92ZV92YWx1ZXMpIHtcbiAgdmFyIGFwcHJvdmVfdmFsdWVzX2tleXMsIGNoYW5nZVZhbHVlcywgbGFzdF92YWx1ZXNfa2V5cztcbiAgY2hhbmdlVmFsdWVzID0ge307XG4gIGxhc3RfdmFsdWVzX2tleXMgPSBfLmtleXMobGFzdF92YWx1ZXMpO1xuICBhcHByb3ZlX3ZhbHVlc19rZXlzID0gXy5rZXlzKGFwcHJvdmVfdmFsdWVzKTtcbiAgYXBwcm92ZV92YWx1ZXNfa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChfLmNvbnRhaW5zKGxhc3RfdmFsdWVzX2tleXMsIGtleSkpIHtcbiAgICAgIGlmICghXy5pc0VxdWFsKGxhc3RfdmFsdWVzW2tleV0sIGFwcHJvdmVfdmFsdWVzW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VWYWx1ZXNba2V5XSA9IGFwcHJvdmVfdmFsdWVzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhcHByb3ZlX3ZhbHVlc1trZXldICE9PSAnJykge1xuICAgICAgICByZXR1cm4gY2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjaGFuZ2VWYWx1ZXM7XG59O1xuIiwiZmxvd01hbmFnZXIgPSB7fVxuXG5mbG93TWFuYWdlci5nZXRDYXRlZ29yaWVzRmxvd3MgPSAoc3BhY2VJZCwgY2F0ZWdvcmllSWQsIGZpZWxkcyktPlxuXG5cdGNhdGVnb3JpZXNGb3JtcyA9IGZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyhzcGFjZUlkLCBjYXRlZ29yaWVJZCwge19pZDogMX0pLmZldGNoKClcblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7Zm9ybTogeyRpbiA6IGNhdGVnb3JpZXNGb3Jtcy5nZXRQcm9wZXJ0eShcIl9pZFwiKX19KVxuXG5mbG93TWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGbG93cyA9IChzcGFjZUlkLCBmaWVsZHMpLT5cblxuXHR1bkNhdGVnb3JpZXNGb3JtcyA9IGZvcm1NYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zvcm1zKHNwYWNlSWQsIHtfaWQ6IDF9KS5mZXRjaCgpXG5cblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe2Zvcm06IHskaW4gOiB1bkNhdGVnb3JpZXNGb3Jtcy5nZXRQcm9wZXJ0eShcIl9pZFwiKX19KVxuXG5cblxuXG5cblxuXG4iLCJmb3JtTWFuYWdlciA9IHt9XG5cbmZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyA9IChzcGFjZUlkLCBjYXRlZ29yaWVJZCwgZmllbGRzKS0+XG5cdGlmIGZpZWxkc1xuXHRcdF9maWVsZHMgPSB7ZmllbGRzOiBmaWVsZHN9XG5cblx0cmV0dXJuIGRiLmZvcm1zLmZpbmQoe3NwYWNlOiBzcGFjZUlkLCBjYXRlZ29yeTogY2F0ZWdvcmllSWQsIHN0YXRlOiBcImVuYWJsZWRcIn0sIF9maWVsZHMpXG5cbmZvcm1NYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zvcm1zID0gKHNwYWNlSWQsIGZpZWxkcykgLT5cblx0aWYgZmllbGRzXG5cdFx0X2ZpZWxkcyA9IHtmaWVsZHM6IGZpZWxkc31cblx0cmV0dXJuIGRiLmZvcm1zLmZpbmQoe3NwYWNlOiBzcGFjZUlkLCBjYXRlZ29yeTogeyRpbjogW251bGwsIFwiXCJdfSwgc3RhdGU6IFwiZW5hYmxlZFwifSwgX2ZpZWxkcylcbiIsIiAgICAgICAgICAgICAgICBcblxuZm9ybU1hbmFnZXIgPSB7fTtcblxuZm9ybU1hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zvcm1zID0gZnVuY3Rpb24oc3BhY2VJZCwgY2F0ZWdvcmllSWQsIGZpZWxkcykge1xuICB2YXIgX2ZpZWxkcztcbiAgaWYgKGZpZWxkcykge1xuICAgIF9maWVsZHMgPSB7XG4gICAgICBmaWVsZHM6IGZpZWxkc1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgIGNhdGVnb3J5OiBjYXRlZ29yaWVJZCxcbiAgICBzdGF0ZTogXCJlbmFibGVkXCJcbiAgfSwgX2ZpZWxkcyk7XG59O1xuXG5mb3JtTWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGb3JtcyA9IGZ1bmN0aW9uKHNwYWNlSWQsIGZpZWxkcykge1xuICB2YXIgX2ZpZWxkcztcbiAgaWYgKGZpZWxkcykge1xuICAgIF9maWVsZHMgPSB7XG4gICAgICBmaWVsZHM6IGZpZWxkc1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgIGNhdGVnb3J5OiB7XG4gICAgICAkaW46IFtudWxsLCBcIlwiXVxuICAgIH0sXG4gICAgc3RhdGU6IFwiZW5hYmxlZFwiXG4gIH0sIF9maWVsZHMpO1xufTtcbiIsInN0ZXBNYW5hZ2VyID0ge31cblxuc3RlcE1hbmFnZXIuYWxsb3dCYXRjaCA9IChzdGVwKS0+XG5cdHJldHVybiBzdGVwLnN0ZXBfdHlwZSA9PSAnY291bnRlclNpZ24nICYmIHN0ZXAuYWxsb3dCYXRjaFxuXG5zdGVwTWFuYWdlci5nZXRTdGVwID0gKGluc3RhbmNlLCBmbG93LCBzdGVwX2lkKS0+XG5cdGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uXG5cdGlzRXhpc3RTdGVwID0gbnVsbFxuXHRpZiBmbG93LmN1cnJlbnQuX2lkIGlzIGZsb3dfcmV2XG5cdFx0aXNFeGlzdFN0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCAoc3RlcCktPlxuXHRcdFx0cmV0dXJuIHN0ZXAuX2lkIGlzIHN0ZXBfaWRcblx0XHQpXG5cdGVsc2Vcblx0XHRfLmVhY2goZmxvdy5oaXN0b3J5cywgKGhpc3RvcnkpLT5cblx0XHRcdGlmIGhpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XG5cdFx0XHRcdGlzRXhpc3RTdGVwID0gXy5maW5kKGhpc3Rvcnkuc3RlcHMsIChzdGVwKS0+XG5cdFx0XHRcdFx0cmV0dXJuIHN0ZXAuX2lkIGlzIHN0ZXBfaWRcblx0XHRcdFx0KVxuXHRcdClcblxuXHRpZiBub3QgaXNFeGlzdFN0ZXBcblx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeiDveiOt+WPlnN0ZXBcIilcblxuXHRyZXR1cm4gaXNFeGlzdFN0ZXAiLCIgICAgICAgICAgICAgICAgXG5cbnN0ZXBNYW5hZ2VyID0ge307XG5cbnN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2ggPSBmdW5jdGlvbihzdGVwKSB7XG4gIHJldHVybiBzdGVwLnN0ZXBfdHlwZSA9PT0gJ2NvdW50ZXJTaWduJyAmJiBzdGVwLmFsbG93QmF0Y2g7XG59O1xuXG5zdGVwTWFuYWdlci5nZXRTdGVwID0gZnVuY3Rpb24oaW5zdGFuY2UsIGZsb3csIHN0ZXBfaWQpIHtcbiAgdmFyIGZsb3dfcmV2LCBpc0V4aXN0U3RlcDtcbiAgZmxvd19yZXYgPSBpbnN0YW5jZS5mbG93X3ZlcnNpb247XG4gIGlzRXhpc3RTdGVwID0gbnVsbDtcbiAgaWYgKGZsb3cuY3VycmVudC5faWQgPT09IGZsb3dfcmV2KSB7XG4gICAgaXNFeGlzdFN0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbihzdGVwKSB7XG4gICAgICByZXR1cm4gc3RlcC5faWQgPT09IHN0ZXBfaWQ7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgXy5lYWNoKGZsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGhpc3RvcnkpIHtcbiAgICAgIGlmIChoaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXYpIHtcbiAgICAgICAgcmV0dXJuIGlzRXhpc3RTdGVwID0gXy5maW5kKGhpc3Rvcnkuc3RlcHMsIGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICByZXR1cm4gc3RlcC5faWQgPT09IHN0ZXBfaWQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmICghaXNFeGlzdFN0ZXApIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeiDveiOt+WPlnN0ZXBcIik7XG4gIH1cbiAgcmV0dXJuIGlzRXhpc3RTdGVwO1xufTtcbiIsIl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpXG5cbkluc3RhbmNlTWFuYWdlciA9IHt9XG5cbmxvZ2dlciA9IG5ldyBMb2dnZXIgJ1dvcmtmbG93IC0+IEluc3RhbmNlTWFuYWdlcidcblxuSW5zdGFuY2VNYW5hZ2VyLmhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXAgPSAoaW5zLCBmaWVsZF9tYXApIC0+XG5cdHJlcyA9IGluc1xuXHRpZiBpbnNcblx0XHRpZiAhZmllbGRfbWFwXG5cblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBpbnMuZmxvdyB9LCB7IGZpZWxkczogeyBmaWVsZF9tYXA6IDEgfSB9KVxuXG5cdFx0XHRpZiBmbG93Py5maWVsZF9tYXBcblx0XHRcdFx0ZmllbGRfbWFwID0gZmxvdy5maWVsZF9tYXBcblxuXHRcdGlmIGZpZWxkX21hcFxuXHRcdFx0Y29udGV4dCA9IF8uY2xvbmUoaW5zKVxuXG5cdFx0XHRjb250ZXh0Ll8gPSBfXG5cblx0XHRcdHNjcmlwdCA9IFwidmFyIGluc3RhbmNlcyA9ICN7ZmllbGRfbWFwfTsgZXhwb3J0cy5pbnN0YW5jZXMgPSBpbnN0YW5jZXNcIlxuXHRcdFx0dHJ5XG5cdFx0XHRcdHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJoYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwXCIsIGNvbnRleHQsIGZhbHNlKS5pbnN0YW5jZXNcblx0XHRcdGNhdGNoIGVcblx0XHRcdFx0cmVzID0geyBfZXJyb3I6IGUgfVxuXHRcdFx0XHRsb2dnZXIuZXJyb3IgZVxuXHRyZXR1cm4gcmVzXG5cbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSA9IChpbnN0YW5jZSwgaGFuZGxlciktPlxuXG5cdGlmICFpbnN0YW5jZSBvciAhaW5zdGFuY2UudHJhY2VzIG9yIGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxXG5cdFx0cmV0dXJuXG5cblx0Y3VycmVudFRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcy5maWx0ZXJQcm9wZXJ0eSgnaXNfZmluaXNoZWQnLCBmYWxzZSlcblxuXHRpZiBjdXJyZW50VHJhY2VzLmxlbmd0aFxuXHRcdGN1cnJlbnRBcHByb3ZlcyA9IGN1cnJlbnRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpLmZpbHRlclByb3BlcnR5KCdoYW5kbGVyJywgaGFuZGxlcilcblx0XHRjdXJyZW50QXBwcm92ZSA9IGlmIGN1cnJlbnRBcHByb3Zlcy5sZW5ndGggPiAwIHRoZW4gY3VycmVudEFwcHJvdmVzWzBdIGVsc2UgbnVsbFxuXG5cdCPkvKDpmIXnmoRhcHByb3Zl6L+U5Zue5pyA5paw5LiA5p2hXG5cdGlmICFjdXJyZW50QXBwcm92ZSBvciBjdXJyZW50QXBwcm92ZS50eXBlID09ICdjYydcblx0XHQjIOW9k+WJjeaYr+S8oOmYhVxuXHRcdF8uZWFjaCBpbnN0YW5jZS50cmFjZXMsICh0KSAtPlxuXHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhKSAtPlxuXHRcdFx0XHRpZiBhLnR5cGUgPT0gJ2NjJyBhbmQgYS51c2VyID09IGhhbmRsZXIgYW5kIGEuaXNfZmluaXNoZWQgPT0gZmFsc2Vcblx0XHRcdFx0XHRjdXJyZW50QXBwcm92ZSA9IGFcblx0XHRcdFx0cmV0dXJuXG5cdFx0XHRyZXR1cm5cblxuXHRpZiAhY3VycmVudEFwcHJvdmVcblx0XHRyZXR1cm5cblxuXHRyZXR1cm4gY3VycmVudEFwcHJvdmVcblxuSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRUcmFjZSA9IChpbnN0YW5jZSwgdHJhY2VJZCktPlxuXHRyZXR1cm4gaW5zdGFuY2UudHJhY2VzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdHJhY2VJZClcblxuSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZSA9IChpbnN0YW5jZUlkLCB1c2VySWQpLT5cblx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZUlkfSlcblxuXHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXG5cblx0bXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZShpbnN0YW5jZSwgdXNlcklkKVxuXG5cdGlmIG15X2FwcHJvdmVcblxuI1x0XHRsYW5nID0gU3RlZWRvcy5sb2NhbGUodGhhdC51c2VySWQsIHRydWUpXG5cblx0XHR0cmFjZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UoaW5zdGFuY2UsIG15X2FwcHJvdmUudHJhY2UpXG5cblx0XHRzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCB0cmFjZS5zdGVwKVxuXG5cdFx0bmV4dFN0ZXBzID0gdXVmbG93TWFuYWdlci5nZXROZXh0U3RlcHMoaW5zdGFuY2UsIGZsb3csIHN0ZXAsIFwiXCIpXG5cblx0XHRpZiBuZXh0U3RlcHMubGVuZ3RoID09IDFcblx0XHRcdG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zdGFuY2UuX2lkICwgbmV4dFN0ZXBzWzBdKVxuXHRcdFx0aWYgbmV4dF91c2VyX2lkcy5sZW5ndGggPT0gMVxuXHRcdFx0XHRteV9hcHByb3ZlLm5leHRfc3RlcHMgPSBbe3N0ZXA6IG5leHRTdGVwc1swXSwgdXNlcnM6IG5leHRfdXNlcl9pZHN9XVxuXHRcdFx0XHRyZXR1cm4gbXlfYXBwcm92ZVxuI1x0XHRcdGVsc2VcbiNcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFRBUGkxOG4uX18oJ3dvcmtmbG93X2Vycm9yX211bHRpcGxlX25leHRfc3RlcF91c2VycycsIHtpbnNuYW1lOiBpbnN0YW5jZS5uYW1lfSwgbGFuZykpXG4jXHRcdGVsc2VcbiNcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBUQVBpMThuLl9fKCd3b3JrZmxvd19lcnJvcl9tdWx0aXBsZV9uZXh0X3N0ZXAnLCB7aW5zbmFtZTogaW5zdGFuY2UubmFtZX0sIGxhbmcpKVxuXG5cdHJldHVyblxuXG5cbkluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyA9IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgaW5ib3hfdXNlciktPlxuXHRfYmF0Y2hfaW5zdGFuY2VzID0gbmV3IEFycmF5KClcblxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2UsIGluYm94X3VzZXJzOiBpbmJveF91c2VyfVxuXG5cdEZJRUxEUyA9IHtuYW1lOiAxLCBhcHBsaWNhbnRfbmFtZTogMSwgc3VibWl0X2RhdGU6IDEsIGZsb3dfdmVyc2lvbjogMSwgXCJ0cmFjZXMuc3RlcFwiOiAxLCBmbG93OiAxfVxuXG5cdGlmIGNhdGVnb3J5SWRcblxuXHRcdGlmIGNhdGVnb3J5SWQgPT0gJy0xJ1xuXHRcdFx0dW5DYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRmxvd3Moc3BhY2UsIHtfaWQ6IDF9KS5mZXRjaCgpLmdldFByb3BlcnR5KFwiX2lkXCIpXG5cdFx0XHRxdWVyeS5mbG93ID0geyRpbjogdW5DYXRlZ29yeUZsb3dzfVxuXHRcdGVsc2Vcblx0XHRcdGNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRDYXRlZ29yaWVzRmxvd3Moc3BhY2UsIGNhdGVnb3J5SWQsIHtfaWQ6IDF9KS5mZXRjaCgpLmdldFByb3BlcnR5KFwiX2lkXCIpXG5cdFx0XHRxdWVyeS5mbG93ID0geyRpbjogY2F0ZWdvcnlGbG93c31cblxuXHRpZiBmbG93SWRzXG5cdFx0cXVlcnkuZmxvdyA9IHskaW46IGZsb3dJZHN9XG5cbiNcdGNvbnNvbGUubG9nKFwicXVlcnlcIiwgSlNPTi5zdHJpbmdpZnkocXVlcnkpKVxuXG5cdGluYm94X2luc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiBGSUVMRFMsIHNraXA6IDAsIGxpbWl0OiAxMDB9KVxuXG5cdGluYm94X2luc3RhbmNlcy5mb3JFYWNoIChpbnMpLT5cblx0XHRjdXJyZW50U3RlcElkID0gXy5sYXN0KGlucy50cmFjZXMpLnN0ZXAgI1RPRE8g5q2k5Luj56CB5LiN6YCC55So5Lyg6ZiF5om55aSE55CGXG5cblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBpbnMuZmxvd30pXG5cblx0XHRjdXJyZW50U3RlcCA9IHN0ZXBNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBjdXJyZW50U3RlcElkKVxuXG5cdFx0aWYgc3RlcE1hbmFnZXIuYWxsb3dCYXRjaChjdXJyZW50U3RlcCkgJiYgSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnMuX2lkLCBpbmJveF91c2VyKVxuXG5cdFx0XHRkZWxldGUgaW5zLmZsb3dfdmVyc2lvblxuXG5cdFx0XHRkZWxldGUgaW5zLnRyYWNlc1xuXG5cdFx0XHRkZWxldGUgaW5zLmZsb3dcblxuXHRcdFx0X2JhdGNoX2luc3RhbmNlcy5wdXNoKGlucylcbiNcdFx0ZWxzZVxuI1x0XHRcdGNvbnNvbGUubG9nKFwi5om56YeP5a6h5om5LeW8guW4uOaVsOaNrlwiLCBpbnMuX2lkKVxuXG5cdHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzXG4iLCJ2YXIgX2V2YWwsIGxvZ2dlcjsgICAgICAgICAgICAgICAgIFxuXG5fZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKTtcblxuSW5zdGFuY2VNYW5hZ2VyID0ge307XG5cbmxvZ2dlciA9IG5ldyBMb2dnZXIoJ1dvcmtmbG93IC0+IEluc3RhbmNlTWFuYWdlcicpO1xuXG5JbnN0YW5jZU1hbmFnZXIuaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcCA9IGZ1bmN0aW9uKGlucywgZmllbGRfbWFwKSB7XG4gIHZhciBjb250ZXh0LCBlLCBmbG93LCByZXMsIHNjcmlwdDtcbiAgcmVzID0gaW5zO1xuICBpZiAoaW5zKSB7XG4gICAgaWYgKCFmaWVsZF9tYXApIHtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnMuZmxvd1xuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmaWVsZF9tYXA6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5maWVsZF9tYXAgOiB2b2lkIDApIHtcbiAgICAgICAgZmllbGRfbWFwID0gZmxvdy5maWVsZF9tYXA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmaWVsZF9tYXApIHtcbiAgICAgIGNvbnRleHQgPSBfLmNsb25lKGlucyk7XG4gICAgICBjb250ZXh0Ll8gPSBfO1xuICAgICAgc2NyaXB0ID0gXCJ2YXIgaW5zdGFuY2VzID0gXCIgKyBmaWVsZF9tYXAgKyBcIjsgZXhwb3J0cy5pbnN0YW5jZXMgPSBpbnN0YW5jZXNcIjtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJoYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwXCIsIGNvbnRleHQsIGZhbHNlKS5pbnN0YW5jZXM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIHJlcyA9IHtcbiAgICAgICAgICBfZXJyb3I6IGVcbiAgICAgICAgfTtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcblxuSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlID0gZnVuY3Rpb24oaW5zdGFuY2UsIGhhbmRsZXIpIHtcbiAgdmFyIGN1cnJlbnRBcHByb3ZlLCBjdXJyZW50QXBwcm92ZXMsIGN1cnJlbnRUcmFjZXM7XG4gIGlmICghaW5zdGFuY2UgfHwgIWluc3RhbmNlLnRyYWNlcyB8fCBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjdXJyZW50VHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKTtcbiAgaWYgKGN1cnJlbnRUcmFjZXMubGVuZ3RoKSB7XG4gICAgY3VycmVudEFwcHJvdmVzID0gY3VycmVudFRyYWNlc1swXS5hcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eSgnaXNfZmluaXNoZWQnLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoJ2hhbmRsZXInLCBoYW5kbGVyKTtcbiAgICBjdXJyZW50QXBwcm92ZSA9IGN1cnJlbnRBcHByb3Zlcy5sZW5ndGggPiAwID8gY3VycmVudEFwcHJvdmVzWzBdIDogbnVsbDtcbiAgfVxuICBpZiAoIWN1cnJlbnRBcHByb3ZlIHx8IGN1cnJlbnRBcHByb3ZlLnR5cGUgPT09ICdjYycpIHtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICBpZiAoYS50eXBlID09PSAnY2MnICYmIGEudXNlciA9PT0gaGFuZGxlciAmJiBhLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgIGN1cnJlbnRBcHByb3ZlID0gYTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFjdXJyZW50QXBwcm92ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gY3VycmVudEFwcHJvdmU7XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlID0gZnVuY3Rpb24oaW5zdGFuY2UsIHRyYWNlSWQpIHtcbiAgcmV0dXJuIGluc3RhbmNlLnRyYWNlcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlSWQpO1xufTtcblxuSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZSA9IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHVzZXJJZCkge1xuICB2YXIgZmxvdywgaW5zdGFuY2UsIG15X2FwcHJvdmUsIG5leHRTdGVwcywgbmV4dF91c2VyX2lkcywgc3RlcCwgdHJhY2U7XG4gIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KTtcbiAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgbXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZShpbnN0YW5jZSwgdXNlcklkKTtcbiAgaWYgKG15X2FwcHJvdmUpIHtcbiAgICB0cmFjZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UoaW5zdGFuY2UsIG15X2FwcHJvdmUudHJhY2UpO1xuICAgIHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHRyYWNlLnN0ZXApO1xuICAgIG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBcIlwiKTtcbiAgICBpZiAobmV4dFN0ZXBzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgbmV4dF91c2VyX2lkcyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyhpbnN0YW5jZS5faWQsIG5leHRTdGVwc1swXSk7XG4gICAgICBpZiAobmV4dF91c2VyX2lkcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgbXlfYXBwcm92ZS5uZXh0X3N0ZXBzID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0ZXA6IG5leHRTdGVwc1swXSxcbiAgICAgICAgICAgIHVzZXJzOiBuZXh0X3VzZXJfaWRzXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gbXlfYXBwcm92ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyA9IGZ1bmN0aW9uKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCBpbmJveF91c2VyKSB7XG4gIHZhciBGSUVMRFMsIF9iYXRjaF9pbnN0YW5jZXMsIGNhdGVnb3J5Rmxvd3MsIGluYm94X2luc3RhbmNlcywgcXVlcnksIHVuQ2F0ZWdvcnlGbG93cztcbiAgX2JhdGNoX2luc3RhbmNlcyA9IG5ldyBBcnJheSgpO1xuICBxdWVyeSA9IHtcbiAgICBzcGFjZTogc3BhY2UsXG4gICAgaW5ib3hfdXNlcnM6IGluYm94X3VzZXJcbiAgfTtcbiAgRklFTERTID0ge1xuICAgIG5hbWU6IDEsXG4gICAgYXBwbGljYW50X25hbWU6IDEsXG4gICAgc3VibWl0X2RhdGU6IDEsXG4gICAgZmxvd192ZXJzaW9uOiAxLFxuICAgIFwidHJhY2VzLnN0ZXBcIjogMSxcbiAgICBmbG93OiAxXG4gIH07XG4gIGlmIChjYXRlZ29yeUlkKSB7XG4gICAgaWYgKGNhdGVnb3J5SWQgPT09ICctMScpIHtcbiAgICAgIHVuQ2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCB7XG4gICAgICAgIF9pZDogMVxuICAgICAgfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKTtcbiAgICAgIHF1ZXJ5LmZsb3cgPSB7XG4gICAgICAgICRpbjogdW5DYXRlZ29yeUZsb3dzXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCBjYXRlZ29yeUlkLCB7XG4gICAgICAgIF9pZDogMVxuICAgICAgfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKTtcbiAgICAgIHF1ZXJ5LmZsb3cgPSB7XG4gICAgICAgICRpbjogY2F0ZWdvcnlGbG93c1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgaWYgKGZsb3dJZHMpIHtcbiAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgJGluOiBmbG93SWRzXG4gICAgfTtcbiAgfVxuICBpbmJveF9pbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgIGZpZWxkczogRklFTERTLFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IDEwMFxuICB9KTtcbiAgaW5ib3hfaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24oaW5zKSB7XG4gICAgdmFyIGN1cnJlbnRTdGVwLCBjdXJyZW50U3RlcElkLCBmbG93O1xuICAgIGN1cnJlbnRTdGVwSWQgPSBfLmxhc3QoaW5zLnRyYWNlcykuc3RlcDtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlucy5mbG93XG4gICAgfSk7XG4gICAgY3VycmVudFN0ZXAgPSBzdGVwTWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgY3VycmVudFN0ZXBJZCk7XG4gICAgaWYgKHN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2goY3VycmVudFN0ZXApICYmIEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zLl9pZCwgaW5ib3hfdXNlcikpIHtcbiAgICAgIGRlbGV0ZSBpbnMuZmxvd192ZXJzaW9uO1xuICAgICAgZGVsZXRlIGlucy50cmFjZXM7XG4gICAgICBkZWxldGUgaW5zLmZsb3c7XG4gICAgICByZXR1cm4gX2JhdGNoX2luc3RhbmNlcy5wdXNoKGlucyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIF9iYXRjaF9pbnN0YW5jZXM7XG59O1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2NhdGVnb3JpZXMnLCAoc3BhY2VJZCkgLT5cblx0Y2hlY2sgc3BhY2VJZCwgU3RyaW5nXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0cmV0dXJuIGRiLmNhdGVnb3JpZXMuZmluZCh7IHNwYWNlOiBzcGFjZUlkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsIHNwYWNlOiAxLCBzb3J0X25vOiAxLCBhcHA6IDEgfSB9KSIsIk1ldGVvci5wdWJsaXNoKCdjYXRlZ29yaWVzJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIHNvcnRfbm86IDEsXG4gICAgICBhcHA6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJcbk1ldGVvci5wdWJsaXNoICdjZnNfaW5zdGFuY2VzJywgKGluc3RhbmNlSWRzKS0+XG5cdGNoZWNrKGluc3RhbmNlSWRzLCBBcnJheSlcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGluc3RhbmNlSWRzXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0cmV0dXJuIGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogeyRpbjogaW5zdGFuY2VJZHN9ICwgJG9yOiBbeydtZXRhZGF0YS5pc19wcml2YXRlJzogeyRuZTogdHJ1ZX19LHsnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHRydWUsIFwibWV0YWRhdGEub3duZXJcIjogdGhpcy51c2VySWR9XX0pXG4iLCJNZXRlb3IucHVibGlzaCgnY2ZzX2luc3RhbmNlcycsIGZ1bmN0aW9uKGluc3RhbmNlSWRzKSB7XG4gIGNoZWNrKGluc3RhbmNlSWRzLCBBcnJheSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcbiAgICAgICRpbjogaW5zdGFuY2VJZHNcbiAgICB9LFxuICAgICRvcjogW1xuICAgICAge1xuICAgICAgICAnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHtcbiAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHRydWUsXG4gICAgICAgIFwibWV0YWRhdGEub3duZXJcIjogdGhpcy51c2VySWRcbiAgICAgIH1cbiAgICBdXG4gIH0pO1xufSk7XG4iLCJcblxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfcG9zaXRpb25zJywgKHNwYWNlSWQpLT5cblx0XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblx0XG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtyb2xlOjEsIHVzZXJzOiAxLCBvcmc6IDF9fSk7XG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19wb3NpdGlvbnMnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHJvbGU6IDEsXG4gICAgICB1c2VyczogMSxcbiAgICAgIG9yZzogMVxuICAgIH1cbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlICdmbG93X3Bvc2l0aW9uc190YWJ1bGFyJywgKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpLT5cblx0Y2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuXHRjaGVjayhpZHMsIEFycmF5KTtcblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dGhpcy51bmJsb2NrKClcblxuXHRmaW5kOiAtPlxuXHRcdHRoaXMudW5ibG9jaygpXG5cdFx0ZGIuZmxvd19wb3NpdGlvbnMuZmluZCB7X2lkOiB7JGluOiBpZHN9fSwgZmllbGRzOiBmaWVsZHNcblxuXHRjaGlsZHJlbjogW1xuXHRcdHtcblx0XHRcdGZpbmQ6IChwb3NpdGlvbikgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgZmxvd19yb2xlc1xuXHRcdFx0XHRkYi5mbG93X3JvbGVzLmZpbmQgeyBfaWQ6IHBvc2l0aW9uLnJvbGUgfSwgZmllbGRzOiBuYW1lOiAxXG5cdFx0fVxuXHRcdHtcblx0XHRcdGZpbmQ6IChwb3NpdGlvbikgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgb3JnYW5pemF0aW9uc1xuXHRcdFx0XHRkYi5vcmdhbml6YXRpb25zLmZpbmQgeyBfaWQ6IHBvc2l0aW9uLm9yZyB9LCBmaWVsZHM6IGZ1bGxuYW1lOiAxXG5cdFx0fVxuXHRcdHtcblx0XHRcdGZpbmQ6IChwb3NpdGlvbikgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxuXHRcdFx0XHRkYi5zcGFjZV91c2Vycy5maW5kIHtcblx0XHRcdFx0XHRzcGFjZTogcG9zaXRpb24uc3BhY2Vcblx0XHRcdFx0XHR1c2VyOiAkaW46IHBvc2l0aW9uLnVzZXJzXG5cdFx0XHRcdH0sIGZpZWxkczpcblx0XHRcdFx0XHRzcGFjZTogMVxuXHRcdFx0XHRcdHVzZXI6IDFcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0fVxuXHRdIiwiTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUoJ2Zsb3dfcG9zaXRpb25zX3RhYnVsYXInLCBmdW5jdGlvbih0YWJsZU5hbWUsIGlkcywgZmllbGRzKSB7XG4gIGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcbiAgY2hlY2soaWRzLCBBcnJheSk7XG4gIGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHRoaXMudW5ibG9jaygpO1xuICByZXR1cm4ge1xuICAgIGZpbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICByZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaWRzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICAgIF9pZDogcG9zaXRpb24ucm9sZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgICAgIF9pZDogcG9zaXRpb24ub3JnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogcG9zaXRpb24uc3BhY2UsXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICRpbjogcG9zaXRpb24udXNlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIHVzZXI6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfTtcbn0pO1xuIiwiXG5cblx0TWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfcm9sZXMnLCAoc3BhY2VJZCktPlxuXHRcdFxuXHRcdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXHRcdFxuXHRcdHVubGVzcyBzcGFjZUlkXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRcdHJldHVybiBkYi5mbG93X3JvbGVzLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge25hbWU6MX19KTtcbiIsIk1ldGVvci5wdWJsaXNoKCdmbG93X3JvbGVzJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnZmxvd3MnLCAoc3BhY2VJZCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHNwYWNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0IyDnrKzkuIDmrKHorqLpmIXml7bliJ3lp4vljJblt6XkvZzljLpcblx0aWYgZGIuZmxvd3MuZmluZCh7c3BhY2U6IHNwYWNlSWR9KS5jb3VudCgpID09IDBcblx0XHRkYi5zcGFjZXMuY3JlYXRlVGVtcGxhdGVGb3JtQW5kRmxvdyhzcGFjZUlkKVxuXG5cdHJldHVybiBkYi5mbG93cy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtcblx0XHRmaWVsZHM6IHtcblx0XHRcdG5hbWU6IDEsXG5cdFx0XHRmb3JtOiAxLFxuXHRcdFx0c3RhdGU6IDEsXG5cdFx0XHRwZXJtczogMSxcblx0XHRcdHNwYWNlOiAxLFxuXHRcdFx0Y29tcGFueV9pZDogMSxcblx0XHRcdHNvcnRfbm86IDFcblx0XHR9XG5cdH0pXG5cblxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfdmVyc2lvbicsIChzcGFjZUlkLCBmbG93SWQsIHZlcnNpb25JZCkgLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBmbG93SWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHZlcnNpb25JZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdGdldEZsb3dWZXJzaW9uID0gKGlkICwgdmVyc2lvbklkKS0+XG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZCA6IGlkfSk7XG5cdFx0aWYgZmxvd1xuXHRcdFx0Zmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50XG5cdFx0XHRmbG93X3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZVxuXG5cdFx0XHRpZiBmbG93X3ZlcnNpb24uX2lkICE9IHZlcnNpb25JZFxuXHRcdFx0XHRmbG93X3ZlcnNpb24gPSBmbG93Lmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKVxuXHRcdFx0XHRmbG93X3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2VcblxuXHRcdFx0cmV0dXJuIGZsb3dfdmVyc2lvblxuXHRoYW5kbGUgPSBkYi5mbG93cy5maW5kKHtfaWQ6IGZsb3dJZH0sIHtmaWVsZHM6IHtfaWQ6IDEsIFwiY3VycmVudC5tb2RpZmllZFwiOiAxfX0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRjaGFuZ2VkOiAoaWQpLT5cblx0XHRcdHNlbGYuY2hhbmdlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG5cdH1cblxuXG5cdHNlbGYuYWRkZWQoXCJmbG93X3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rmxvd1ZlcnNpb24oZmxvd0lkLCB2ZXJzaW9uSWQpKTtcblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuXG5NZXRlb3IucHVibGlzaCAnZGlzdHJpYnV0ZV9vcHRpb25hbF9mbG93cycsIChmbG93X2lkcyktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGZsb3dfaWRzXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBkYi5mbG93cy5maW5kKHtfaWQ6IHskaW46IGZsb3dfaWRzfX0sIHtcblx0XHRmaWVsZHM6IHtcblx0XHRcdG5hbWU6IDEsXG5cdFx0XHRmb3JtOiAxLFxuXHRcdFx0c3RhdGU6IDEsXG5cdFx0XHRwZXJtczogMSxcblx0XHRcdHNwYWNlOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcblx0XHRcdGRpc3RyaWJ1dGVfdG9fc2VsZjogMSxcblx0XHRcdGRpc3RyaWJ1dGVfZW5kX25vdGlmaWNhdGlvbjogMSxcblx0XHRcdGNvbXBhbnlfaWQ6IDFcblx0XHR9XG5cdH0pXG5cbk1ldGVvci5wdWJsaXNoICdmbG93JywgKHNwYWNlSWQsIGZsb3dJZCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHNwYWNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGZsb3dJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHJldHVybiBkYi5mbG93cy5maW5kKHtfaWQ6IGZsb3dJZCwgc3BhY2U6IHNwYWNlSWR9LCB7XG5cdFx0ZmllbGRzOiB7XG5cdFx0XHRwcmludF90ZW1wbGF0ZTogMSxcblx0XHRcdGluc3RhbmNlX3RlbXBsYXRlOiAxLFxuXHRcdFx0ZXZlbnRzOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcblx0XHRcdGRpc3RyaWJ1dGVfdG9fc2VsZjogMSxcblx0XHRcdHVwbG9hZF9hZnRlcl9iZWluZ19kaXN0cmlidXRlZDogMSxcblx0XHRcdGRpc3RyaWJ1dGVfZW5kX25vdGlmaWNhdGlvbjogMSxcblx0XHRcdGNvbXBhbnlfaWQ6IDFcblx0XHR9XG5cdH0pXG5cbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlICdmbG93c190YWJ1bGFyJywgKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpLT5cblx0Y2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuXHRjaGVjayhpZHMsIEFycmF5KTtcblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dGhpcy51bmJsb2NrKClcblxuXHRmaW5kOiAtPlxuXHRcdHRoaXMudW5ibG9jaygpXG5cdFx0ZGIuZmxvd3MuZmluZCB7X2lkOiB7JGluOiBpZHN9fSwgZmllbGRzOiBmaWVsZHNcblxuXHRjaGlsZHJlbjogW1xuXHRcdHtcblx0XHRcdGZpbmQ6IChmbG93KSAtPlxuXHRcdFx0XHRAdW5ibG9jaygpXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCB1c2VyXG5cdFx0XHRcdGRiLnNwYWNlX3VzZXJzLmZpbmQge1xuXHRcdFx0XHRcdHNwYWNlOiBmbG93LnNwYWNlLFxuXHRcdFx0XHRcdHVzZXI6IGZsb3cuY3VycmVudC5tb2RpZmllZF9ieVxuXHRcdFx0XHR9LCBmaWVsZHM6XG5cdFx0XHRcdFx0c3BhY2U6IDFcblx0XHRcdFx0XHR1c2VyOiAxXG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0ZmluZDogKGZsb3cpIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcblx0XHRcdFx0ZGIuZm9ybXMuZmluZCB7XG5cdFx0XHRcdFx0c3BhY2U6IGZsb3cuc3BhY2UsXG5cdFx0XHRcdFx0X2lkOiBmbG93LmZvcm1cblx0XHRcdFx0fSwgZmllbGRzOlxuXHRcdFx0XHRcdHNwYWNlOiAxXG5cdFx0XHRcdFx0X2lkOiAxXG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRjYXRlZ29yeTogMVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0ZmluZDogKGZsb3cpIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcblx0XHRcdFx0ZGIuY2F0ZWdvcmllcy5maW5kIHtcblx0XHRcdFx0XHRzcGFjZTogZmxvdy5zcGFjZVxuXHRcdFx0XHR9LCBmaWVsZHM6XG5cdFx0XHRcdFx0c3BhY2U6IDFcblx0XHRcdFx0XHRfaWQ6IDFcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0fVxuXHRdIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dzJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmIChkYi5mbG93cy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgZGIuc3BhY2VzLmNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3coc3BhY2VJZCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBmb3JtOiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBwZXJtczogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgY29tcGFueV9pZDogMSxcbiAgICAgIHNvcnRfbm86IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmbG93X3ZlcnNpb24nLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQsIHZlcnNpb25JZCkge1xuICB2YXIgZ2V0Rmxvd1ZlcnNpb24sIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCF2ZXJzaW9uSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRGbG93VmVyc2lvbiA9IGZ1bmN0aW9uKGlkLCB2ZXJzaW9uSWQpIHtcbiAgICB2YXIgZmxvdywgZmxvd192ZXJzaW9uO1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogaWRcbiAgICB9KTtcbiAgICBpZiAoZmxvdykge1xuICAgICAgZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xuICAgICAgZmxvd192ZXJzaW9uLmxhdGVzdCA9IHRydWU7XG4gICAgICBpZiAoZmxvd192ZXJzaW9uLl9pZCAhPT0gdmVyc2lvbklkKSB7XG4gICAgICAgIGZsb3dfdmVyc2lvbiA9IGZsb3cuaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpO1xuICAgICAgICBmbG93X3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmxvd192ZXJzaW9uO1xuICAgIH1cbiAgfTtcbiAgaGFuZGxlID0gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiBmbG93SWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDFcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihmbG93SWQsIHZlcnNpb25JZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Rpc3RyaWJ1dGVfb3B0aW9uYWxfZmxvd3MnLCBmdW5jdGlvbihmbG93X2lkcykge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dfaWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGZsb3dfaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgZm9ybTogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgcGVybXM6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG4gICAgICBkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG4gICAgICBjb21wYW55X2lkOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZmxvdycsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZmxvd0lkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiBmbG93SWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcHJpbnRfdGVtcGxhdGU6IDEsXG4gICAgICBpbnN0YW5jZV90ZW1wbGF0ZTogMSxcbiAgICAgIGV2ZW50czogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG4gICAgICB1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQ6IDEsXG4gICAgICBkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG4gICAgICBjb21wYW55X2lkOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSgnZmxvd3NfdGFidWxhcicsIGZ1bmN0aW9uKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpIHtcbiAgY2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuICBjaGVjayhpZHMsIEFycmF5KTtcbiAgY2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgdGhpcy51bmJsb2NrKCk7XG4gIHJldHVybiB7XG4gICAgZmluZDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgIHJldHVybiBkYi5mbG93cy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBpZHNcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IGZpZWxkc1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihmbG93KSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IGZsb3cuc3BhY2UsXG4gICAgICAgICAgICB1c2VyOiBmbG93LmN1cnJlbnQubW9kaWZpZWRfYnlcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIHVzZXI6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihmbG93KSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IGZsb3cuc3BhY2UsXG4gICAgICAgICAgICBfaWQ6IGZsb3cuZm9ybVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICAgICAgX2lkOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgICBjYXRlZ29yeTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICBfaWQ6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Zvcm1zJywgKHNwYWNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0cmV0dXJuIGRiLmZvcm1zLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge25hbWU6IDEsIGNhdGVnb3J5OiAxLCBzdGF0ZTogMSwgZGVzY3JpcHRpb246IDEsIGluc3RhbmNlX3N0eWxlOiAxfX0pXG5cblxuTWV0ZW9yLnB1Ymxpc2ggJ2Zvcm1fdmVyc2lvbicsIChzcGFjZUlkLCBmb3JtSWQsIHZlcnNpb25JZCkgLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBmb3JtSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHZlcnNpb25JZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdGdldEZvcm1WZXJzaW9uID0gKGlkICwgdmVyc2lvbklkKS0+XG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZCA6IGlkfSk7XG5cdFx0aWYgIWZvcm1cblx0XHRcdHJldHVybiB7fVxuXHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudFxuXHRcdGZvcm1fdmVyc2lvbi5sYXRlc3QgPSB0cnVlXG5cdFx0aWYgZm9ybV92ZXJzaW9uLl9pZCAhPSB2ZXJzaW9uSWRcblx0XHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpXG5cdFx0XHRmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2Vcblx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uXG5cblx0aGFuZGxlID0gZGIuZm9ybXMuZmluZCh7X2lkOiBmb3JtSWR9LCB7ZmllbGRzOiB7X2lkOiAxLCBcImN1cnJlbnQubW9kaWZpZWRcIjogMX19KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oaWQsIHZlcnNpb25JZCkpO1xuXHR9XG5cblx0c2VsZi5hZGRlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihmb3JtSWQsIHZlcnNpb25JZCkpO1xuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zvcm1zJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgY2F0ZWdvcnk6IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIGRlc2NyaXB0aW9uOiAxLFxuICAgICAgaW5zdGFuY2Vfc3R5bGU6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmb3JtX3ZlcnNpb24nLCBmdW5jdGlvbihzcGFjZUlkLCBmb3JtSWQsIHZlcnNpb25JZCkge1xuICB2YXIgZ2V0Rm9ybVZlcnNpb24sIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZvcm1JZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCF2ZXJzaW9uSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRGb3JtVmVyc2lvbiA9IGZ1bmN0aW9uKGlkLCB2ZXJzaW9uSWQpIHtcbiAgICB2YXIgZm9ybSwgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogaWRcbiAgICB9KTtcbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgZm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50O1xuICAgIGZvcm1fdmVyc2lvbi5sYXRlc3QgPSB0cnVlO1xuICAgIGlmIChmb3JtX3ZlcnNpb24uX2lkICE9PSB2ZXJzaW9uSWQpIHtcbiAgICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpO1xuICAgICAgZm9ybV92ZXJzaW9uLmxhdGVzdCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZm9ybV92ZXJzaW9uO1xuICB9O1xuICBoYW5kbGUgPSBkYi5mb3Jtcy5maW5kKHtcbiAgICBfaWQ6IGZvcm1JZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDEsXG4gICAgICBcImN1cnJlbnQubW9kaWZpZWRcIjogMVxuICAgIH1cbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcbiAgICB9XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGZvcm1JZCwgdmVyc2lvbklkKSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlX2RhdGEnLCAoaW5zdGFuY2VJZCwgYm94KS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgaW5zdGFuY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpcztcblxuXHRtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJyxcblx0XHQnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nLCAnYXV0b19zdWJtaXR0ZWQnXVxuXG5cdHRyaWdnZXJDaGFuZ2VGaWVsZHMgPSBbJ2Zvcm1fdmVyc2lvbicsICdmbG93X3ZlcnNpb24nLCAncmVsYXRlZF9pbnN0YW5jZXMnLCAnX215X2FwcHJvdmVfcmVhZF9kYXRlcyddXG5cblx0dHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlcyA9IHt9XG5cblx0aW5zdGFuY2VfZmllbGRzXzAgPSB7XG5cdFx0XCJyZWNvcmRfc3luY2VkXCI6IDAsXG5cbiNcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25cIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5jb3N0X3RpbWVcIjogMCxcbiNcdFx0XCJ0cmFjZXMuYXBwcm92ZXMucmVhZF9kYXRlXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaXNfZXJyb3JcIjogMCxcblx0XHQjIFwidHJhY2VzLmFwcHJvdmVzLnVzZXJfbmFtZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmRlYWRsaW5lXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kX2RhdGVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRlZF9jb3VudFwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkX2J5XCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5nZW9sb2NhdGlvblwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmNjX3VzZXJzXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV9hcHByb3ZlX2lkXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMudmFsdWVzX2hpc3RvcnlcIjogMFxuXHR9XG5cblx0Z2V0TXlhcHByb3ZlTW9kaWZpZWQgPSAodHJhY2VzKS0+XG5cdFx0bXlBcHByb3ZlTW9kaWZpZWRzID0gbmV3IEFycmF5KClcblxuXHRcdHRyYWNlcz8uZm9yRWFjaCAodHJhY2UpLT5cblx0XHRcdHRyYWNlPy5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSktPlxuXHRcdFx0XHRpZiAoYXBwcm92ZS51c2VyID09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PSBzZWxmLnVzZXJJZClcblx0XHRcdFx0IyAmJiAhYXBwcm92ZS5pc19maW5pc2hlZFxuI1x0XHRcdFx0XHRjb25zb2xlLmxvZyhcImFwcHJvdmVcIiwgYXBwcm92ZS5faWQsIGFwcHJvdmUucmVhZF9kYXRlKVxuXG5cdFx0XHRcdFx0bXlBcHByb3ZlTW9kaWZpZWRzLnB1c2goYXBwcm92ZS5yZWFkX2RhdGUpXG5cblx0XHRyZXR1cm4gbXlBcHByb3ZlTW9kaWZpZWRzXG5cblxuXHRnZXRNaW5pSW5zdGFuY2UgPSAoX2luc3RhbmNlSWQpLT5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IF9pbnN0YW5jZUlkfSwge2ZpZWxkczogaW5zdGFuY2VfZmllbGRzXzB9KVxuXG5cdFx0aWYgaW5zdGFuY2VcblxuXHRcdFx0dHJpZ2dlckNoYW5nZUZpZWxkcy5mb3JFYWNoIChrZXkpLT5cblx0XHRcdFx0aWYga2V5ID09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ1xuXHRcdFx0XHRcdHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGluc3RhbmNlLnRyYWNlcylcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGluc3RhbmNlW2tleV1cblxuI1x0XHRcdGhhc09waW5pb25GaWVsZCA9IEluc3RhbmNlU2lnblRleHQuaW5jbHVkZXNPcGluaW9uRmllbGQoaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXG5cdFx0XHRzaG93X21vZGFsX3RyYWNlc19saXN0ID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7IHNwYWNlOiBpbnN0YW5jZS5zcGFjZSwga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIiB9LCB7IGZpZWxkczogeyB2YWx1ZXM6IDEgfSB9KT8udmFsdWVzIHx8IGZhbHNlXG5cblx0XHRcdGlmIHNob3dfbW9kYWxfdHJhY2VzX2xpc3RcblxuXHRcdFx0XHR0cmFjZXMgPSBuZXcgQXJyYXkoKTtcblxuXHRcdFx0XHRpbnN0YW5jZT8udHJhY2VzPy5mb3JFYWNoICh0cmFjZSktPlxuXHRcdFx0XHRcdF90cmFjZSA9IF8uY2xvbmUodHJhY2UpXG5cblx0XHRcdFx0XHRhcHByb3ZlcyA9IG5ldyBBcnJheSgpXG5cblx0XHRcdFx0XHR0cmFjZT8uYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpLT5cblx0XHRcdFx0XHRcdGlmIGFwcHJvdmUudHlwZSAhPSAnY2MnIHx8IGFwcHJvdmUudXNlciA9PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT0gc2VsZi51c2VySWQgfHwgKCFfLmlzRW1wdHkoYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUpKVxuXHRcdFx0XHRcdFx0XHRhcHByb3Zlcy5wdXNoKGFwcHJvdmUpXG5cblx0XHRcdFx0XHRfdHJhY2UuYXBwcm92ZXMgPSBhcHByb3Zlc1xuXG5cdFx0XHRcdFx0dHJhY2VzLnB1c2goX3RyYWNlKVxuXG5cdFx0XHRcdGluc3RhbmNlLnRyYWNlcyA9IHRyYWNlcztcblxuXHRcdHJldHVybiBpbnN0YW5jZVxuXG5cblx0bmVlZENoYW5nZSA9IChjaGFuZ2VGaWVsZHMpLT5cblx0XHRpZiBjaGFuZ2VGaWVsZHNcblxuXHRcdFx0X2NoYW5nZSA9IGZhbHNlXG5cblx0XHRcdF9yZXYgPSBfLmZpbmQgdHJpZ2dlckNoYW5nZUZpZWxkcywgKGtleSktPlxuXHRcdFx0XHRfa2V5ID0ga2V5XG5cblx0XHRcdFx0aWYga2V5ID09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ1xuXHRcdFx0XHRcdF9rZXkgPSAndHJhY2VzJ1xuXG5cdFx0XHRcdGlmIF8uaGFzKGNoYW5nZUZpZWxkcywgX2tleSlcblxuXHRcdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcblxuXHRcdFx0XHRcdFx0X215X2FwcHJvdmVfbW9kaWZpZWRzID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoY2hhbmdlRmllbGRzLnRyYWNlcylcblxuI1x0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgX215X2FwcHJvdmVfbW9kaWZpZWRzKVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIF9teV9hcHByb3ZlX21vZGlmaWVkcylcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRyZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIGNoYW5nZUZpZWxkc1trZXldKVxuXG5cdFx0XHRpZiBfcmV2XG5cdFx0XHRcdF9jaGFuZ2UgPSB0cnVlXG5cbiNcdFx0XHRjb25zb2xlLmxvZyhfcmV2LCBfY2hhbmdlKVxuXG5cdFx0XHRyZXR1cm4gX2NoYW5nZVxuXG5cdFx0cmV0dXJuIHRydWVcblx0I+atpOWkhOS4jeiDvea3u+WKoGZpZWxkc+mZkOWItu+8jOWQpuWImeS8muWvvOiHtOaVsOaNruS4jeWunuaXtlxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiBpbnN0YW5jZUlkfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCwgZmllbGRzKS0+XG5cdFx0XHRpZihib3ggIT0gJ2luYm94JyB8fCBuZWVkQ2hhbmdlKGZpZWxkcykpXG5cdFx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgZ2V0TWluaUluc3RhbmNlKGlkKSk7XG5cdFx0cmVtb3ZlZDogKGlkKS0+XG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuXHR9XG5cblx0aW5zdGFuY2UgPSBnZXRNaW5pSW5zdGFuY2UoaW5zdGFuY2VJZClcblxuXHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGluc3RhbmNlPy5faWQsIGluc3RhbmNlKTtcblxuXHRzZWxmLnJlYWR5KCk7XG5cblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcblxuXG5NZXRlb3IucHVibGlzaCAnaW5zdGFuY2VfdHJhY2VzJywgKGluc3RhbmNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBpbnN0YW5jZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzXG5cblx0Z2V0SW5zdGFuY2VUcmFjZXMgPSAoX2luc0lkKS0+XG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IF9pbnNJZH0sIHtmaWVsZHM6IHtfaWQ6IDEsIHRyYWNlczogMX19KVxuXG5cblx0aGFuZGxlID0gIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IGluc3RhbmNlSWR9KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuXHR9XG5cblx0c2VsZi5hZGRlZChcImluc3RhbmNlX3RyYWNlc1wiLCBpbnN0YW5jZUlkLCBnZXRJbnN0YW5jZVRyYWNlcyhpbnN0YW5jZUlkKSk7XG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKSIsIk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZV9kYXRhJywgZnVuY3Rpb24oaW5zdGFuY2VJZCwgYm94KSB7XG4gIHZhciBnZXRNaW5pSW5zdGFuY2UsIGdldE15YXBwcm92ZU1vZGlmaWVkLCBoYW5kbGUsIGluc3RhbmNlLCBpbnN0YW5jZV9maWVsZHNfMCwgbWluaUFwcHJvdmVGaWVsZHMsIG5lZWRDaGFuZ2UsIHNlbGYsIHRyaWdnZXJDaGFuZ2VGaWVsZHMsIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXM7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLCAnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nLCAnYXV0b19zdWJtaXR0ZWQnXTtcbiAgdHJpZ2dlckNoYW5nZUZpZWxkcyA9IFsnZm9ybV92ZXJzaW9uJywgJ2Zsb3dfdmVyc2lvbicsICdyZWxhdGVkX2luc3RhbmNlcycsICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ107XG4gIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMgPSB7fTtcbiAgaW5zdGFuY2VfZmllbGRzXzAgPSB7XG4gICAgXCJyZWNvcmRfc3luY2VkXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuY29zdF90aW1lXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuaXNfZXJyb3JcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5kZWFkbGluZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZF9kYXRlXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kZWRfY291bnRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZF9ieVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuZ2VvbG9jYXRpb25cIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5jY191c2Vyc1wiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmZyb21fYXBwcm92ZV9pZFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLnZhbHVlc19oaXN0b3J5XCI6IDBcbiAgfTtcbiAgZ2V0TXlhcHByb3ZlTW9kaWZpZWQgPSBmdW5jdGlvbih0cmFjZXMpIHtcbiAgICB2YXIgbXlBcHByb3ZlTW9kaWZpZWRzO1xuICAgIG15QXBwcm92ZU1vZGlmaWVkcyA9IG5ldyBBcnJheSgpO1xuICAgIGlmICh0cmFjZXMgIT0gbnVsbCkge1xuICAgICAgdHJhY2VzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgcmV0dXJuIHRyYWNlICE9IG51bGwgPyAocmVmID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUudXNlciA9PT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09PSBzZWxmLnVzZXJJZCkge1xuICAgICAgICAgICAgcmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkcy5wdXNoKGFwcHJvdmUucmVhZF9kYXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBteUFwcHJvdmVNb2RpZmllZHM7XG4gIH07XG4gIGdldE1pbmlJbnN0YW5jZSA9IGZ1bmN0aW9uKF9pbnN0YW5jZUlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHJlZjEsIHNob3dfbW9kYWxfdHJhY2VzX2xpc3QsIHRyYWNlcztcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogX2luc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IGluc3RhbmNlX2ZpZWxkc18wXG4gICAgfSk7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICB0cmlnZ2VyQ2hhbmdlRmllbGRzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJykge1xuICAgICAgICAgIHJldHVybiB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBnZXRNeWFwcHJvdmVNb2RpZmllZChpbnN0YW5jZS50cmFjZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBpbnN0YW5jZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSAoKHJlZiA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoe1xuICAgICAgICBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsXG4gICAgICAgIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCJcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdmFsdWVzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pKSAhPSBudWxsID8gcmVmLnZhbHVlcyA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgICBpZiAoc2hvd19tb2RhbF90cmFjZXNfbGlzdCkge1xuICAgICAgICB0cmFjZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgaWYgKGluc3RhbmNlICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoKHJlZjEgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlZjEuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICAgICAgICB2YXIgX3RyYWNlLCBhcHByb3ZlcywgcmVmMjtcbiAgICAgICAgICAgICAgX3RyYWNlID0gXy5jbG9uZSh0cmFjZSk7XG4gICAgICAgICAgICAgIGFwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAgIGlmICh0cmFjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKChyZWYyID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHJlZjIuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHByb3ZlLnR5cGUgIT09ICdjYycgfHwgYXBwcm92ZS51c2VyID09PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT09IHNlbGYudXNlcklkIHx8ICghXy5pc0VtcHR5KGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBwcm92ZXMucHVzaChhcHByb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF90cmFjZS5hcHByb3ZlcyA9IGFwcHJvdmVzO1xuICAgICAgICAgICAgICByZXR1cm4gdHJhY2VzLnB1c2goX3RyYWNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS50cmFjZXMgPSB0cmFjZXM7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcbiAgbmVlZENoYW5nZSA9IGZ1bmN0aW9uKGNoYW5nZUZpZWxkcykge1xuICAgIHZhciBfY2hhbmdlLCBfcmV2O1xuICAgIGlmIChjaGFuZ2VGaWVsZHMpIHtcbiAgICAgIF9jaGFuZ2UgPSBmYWxzZTtcbiAgICAgIF9yZXYgPSBfLmZpbmQodHJpZ2dlckNoYW5nZUZpZWxkcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhciBfa2V5LCBfbXlfYXBwcm92ZV9tb2RpZmllZHM7XG4gICAgICAgIF9rZXkgPSBrZXk7XG4gICAgICAgIGlmIChrZXkgPT09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJykge1xuICAgICAgICAgIF9rZXkgPSAndHJhY2VzJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoXy5oYXMoY2hhbmdlRmllbGRzLCBfa2V5KSkge1xuICAgICAgICAgIGlmIChrZXkgPT09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJykge1xuICAgICAgICAgICAgX215X2FwcHJvdmVfbW9kaWZpZWRzID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoY2hhbmdlRmllbGRzLnRyYWNlcyk7XG4gICAgICAgICAgICByZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIF9teV9hcHByb3ZlX21vZGlmaWVkcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgY2hhbmdlRmllbGRzW2tleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoX3Jldikge1xuICAgICAgICBfY2hhbmdlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfY2hhbmdlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQsIGZpZWxkcykge1xuICAgICAgaWYgKGJveCAhPT0gJ2luYm94JyB8fCBuZWVkQ2hhbmdlKGZpZWxkcykpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgZ2V0TWluaUluc3RhbmNlKGlkKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG4gICAgfVxuICB9KTtcbiAgaW5zdGFuY2UgPSBnZXRNaW5pSW5zdGFuY2UoaW5zdGFuY2VJZCk7XG4gIHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaW5zdGFuY2UgIT0gbnVsbCA/IGluc3RhbmNlLl9pZCA6IHZvaWQgMCwgaW5zdGFuY2UpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlX3RyYWNlcycsIGZ1bmN0aW9uKGluc3RhbmNlSWQpIHtcbiAgdmFyIGdldEluc3RhbmNlVHJhY2VzLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIGdldEluc3RhbmNlVHJhY2VzID0gZnVuY3Rpb24oX2luc0lkKSB7XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogX2luc0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIF9pZDogMSxcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcbiAgICB9XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJcblx0TWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlc19saXN0JywgKHNwYWNlSWQsIGJveCwgZmxvd0lkKS0+XG5cblx0XHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcblx0XHRcblx0XHR1bmxlc3Mgc3BhY2VJZFxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdFx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XG5cdFx0aWYgYm94ID09IFwiaW5ib3hcIlxuXHRcdFx0cXVlcnkuaW5ib3hfdXNlcnMgPSB0aGlzLnVzZXJJZDtcblx0XHRlbHNlIGlmIGJveCA9PSBcIm91dGJveFwiXG5cdFx0XHRxdWVyeS5vdXRib3hfdXNlcnMgPSB0aGlzLnVzZXJJZDtcblx0XHRlbHNlIGlmIGJveCA9PSBcImRyYWZ0XCJcblx0XHRcdHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuXHRcdFx0cXVlcnkuc3RhdGUgPSBcImRyYWZ0XCJcblx0XHRlbHNlIGlmIGJveCA9PSBcInBlbmRpbmdcIlxuXHRcdFx0cXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwicGVuZGluZ1wiXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0cXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCJcblx0XHRlbHNlIGlmIGJveCA9PSBcIm1vbml0b3JcIlxuXHRcdFx0cXVlcnkuZmxvdyA9IGZsb3dJZDtcblx0XHRcdHF1ZXJ5LnN0YXRlID0geyRpbjogW1wicGVuZGluZ1wiLFwiY29tcGxldGVkXCJdfTtcblx0XHRlbHNlXG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwibm9uZVwiXG5cblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtmaWVsZHM6IHtuYW1lOjEsIGNyZWF0ZWQ6MSwgZm9ybToxLCBmbG93OiAxLCBzcGFjZToxLCBtb2RpZmllZDoxLCBhcHBsaWNhbnQ6IDEsIGlzX2FyY2hpdmVkOjEsIGZvcm1fdmVyc2lvbjogMSwgZmxvd192ZXJzaW9uOiAxfX0pXG5cbiIsIk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZXNfbGlzdCcsIGZ1bmN0aW9uKHNwYWNlSWQsIGJveCwgZmxvd0lkKSB7XG4gIHZhciBxdWVyeTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBxdWVyeSA9IHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9O1xuICBpZiAoYm94ID09PSBcImluYm94XCIpIHtcbiAgICBxdWVyeS5pbmJveF91c2VycyA9IHRoaXMudXNlcklkO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJvdXRib3hcIikge1xuICAgIHF1ZXJ5Lm91dGJveF91c2VycyA9IHRoaXMudXNlcklkO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJkcmFmdFwiKSB7XG4gICAgcXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG4gICAgcXVlcnkuc3RhdGUgPSBcImRyYWZ0XCI7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcInBlbmRpbmdcIikge1xuICAgIHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgcXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG4gICAgcXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJtb25pdG9yXCIpIHtcbiAgICBxdWVyeS5mbG93ID0gZmxvd0lkO1xuICAgIHF1ZXJ5LnN0YXRlID0ge1xuICAgICAgJGluOiBbXCJwZW5kaW5nXCIsIFwiY29tcGxldGVkXCJdXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBxdWVyeS5zdGF0ZSA9IFwibm9uZVwiO1xuICB9XG4gIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGNyZWF0ZWQ6IDEsXG4gICAgICBmb3JtOiAxLFxuICAgICAgZmxvdzogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgbW9kaWZpZWQ6IDEsXG4gICAgICBhcHBsaWNhbnQ6IDEsXG4gICAgICBpc19hcmNoaXZlZDogMSxcbiAgICAgIGZvcm1fdmVyc2lvbjogMSxcbiAgICAgIGZsb3dfdmVyc2lvbjogMVxuICAgIH1cbiAgfSk7XG59KTtcbiIsImxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUgPSAoaW5zdGFuY2VpZCwgdXNlcklkLCBkYXRhTWFwLCBjYWxsYmFjayktPlxuXHRvcGVyYXRpb24gPSBbe1xuXHRcdFwiJG1hdGNoXCI6IHtcblx0XHRcdFwiX2lkXCI6IGluc3RhbmNlaWRcblx0XHR9XG5cdH0sIHtcIiRwcm9qZWN0XCI6IHtcIm5hbWVcIjogMSwgXCJfYXBwcm92ZVwiOiBcIiR0cmFjZXMuYXBwcm92ZXNcIn19LCB7XCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJ9LCB7XCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJ9LFxuXHRcdHtcIiRtYXRjaFwiOiB7XCJfYXBwcm92ZS5pc19maW5pc2hlZFwiOiB0cnVlLCAkb3I6W3tcIl9hcHByb3ZlLmhhbmRsZXJcIjogdXNlcklkfSx7XCJfYXBwcm92ZS51c2VyXCI6IHVzZXJJZH1dfX0sXG5cdFx0e1wiJGdyb3VwXCI6IHtcIl9pZFwiOiBcIiRfaWRcIiwgXCJmaW5pc2hfZGF0ZVwiOiB7XCIkbGFzdFwiOiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwifX19XG5cdF1cblxuXHRkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShvcGVyYXRpb24pLnRvQXJyYXkgKGVyciwgZGF0YSktPlxuXHRcdGlmIGVyclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcblxuXHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxuXHRcdFx0ZGF0YU1hcC5wdXNoIGRvY1xuXG5cdFx0aWYgY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKVxuXHRcdFx0Y2FsbGJhY2soKVxuXHRcdHJldHVyblxuXG5hc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUgPSBNZXRlb3Iud3JhcEFzeW5jKGxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUpXG5cbk1ldGVvci5wdWJsaXNoIFwiaW5zdGFuY2VfdGFidWxhclwiLCAodGFibGVOYW1lLCBpZHMsIGZpZWxkcyktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0Y2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuXG5cdGNoZWNrKGlkcywgQXJyYXkpO1xuXG5cdGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSlcblxuXHRmaWVsZHMuY2NfdXNlcnMgPSAxXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0Z2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlID0gKHVzZXJJZCwgaW5zdGFuY2VJZCktPlxuXHRcdGRhdGEgPSBbXVxuXHRcdGFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZShpbnN0YW5jZUlkLCB1c2VySWQsIGRhdGEpXG5cdFx0aWYgZGF0YS5sZW5ndGggPiAwXG5cdFx0XHRyZXR1cm4gZGF0YVswXVxuXG5cblx0Z2V0TXlBcHByb3ZlID0gKHVzZXJJZCwgaW5zdGFuY2VJZCktPlxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0sIHtmaWVsZHM6IHt0cmFjZXM6IDF9fSlcblx0XHRteUFwcHJvdmUgPSBudWxsXG5cblx0XHRpZiAhaW5zdGFuY2Vcblx0XHRcdHJldHVyblxuXG5cdFx0aWYgIWluc3RhbmNlLnRyYWNlcyB8fCBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMVxuXHRcdFx0cmV0dXJuXG5cblx0XHRub3RGaW5pc2hlZFRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcy5maWx0ZXJQcm9wZXJ0eShcImlzX2ZpbmlzaGVkXCIsIGZhbHNlKVxuXG5cdFx0aWYgbm90RmluaXNoZWRUcmFjZXMubGVuZ3RoID4gMFxuXHRcdFx0YXBwcm92ZXMgPSBub3RGaW5pc2hlZFRyYWNlc1swXS5hcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcImlzX2ZpbmlzaGVkXCIsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eShcImhhbmRsZXJcIiwgdXNlcklkKTtcblxuXHRcdFx0aWYgYXBwcm92ZXMubGVuZ3RoID4gMFxuXHRcdFx0XHRhcHByb3ZlID0gYXBwcm92ZXNbMF1cblx0XHRcdFx0bXlBcHByb3ZlID0ge1xuXHRcdFx0XHRcdGlkOiBhcHByb3ZlLl9pZCxcblx0XHRcdFx0XHRpbnN0YW5jZTogYXBwcm92ZS5pbnN0YW5jZSxcblx0XHRcdFx0XHR0cmFjZTogYXBwcm92ZS50cmFjZSxcblx0XHRcdFx0XHRpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWQsXG5cdFx0XHRcdFx0c3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0YWdlbnQ6IGFwcHJvdmUuYWdlbnRcblx0XHRcdFx0XHR1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lXG5cdFx0XHRcdH1cblxuXHRcdGlmICFteUFwcHJvdmVcblx0XHRcdGlzX3JlYWQgPSBmYWxzZVxuXHRcdFx0aW5zdGFuY2UudHJhY2VzLmZvckVhY2ggKHRyYWNlKSAtPlxuXHRcdFx0XHR0cmFjZT8uYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpIC0+XG5cdFx0XHRcdFx0aWYgYXBwcm92ZS50eXBlID09ICdjYycgYW5kIGFwcHJvdmUudXNlciA9PSB1c2VySWQgYW5kIGFwcHJvdmUuaXNfZmluaXNoZWQgPT0gZmFsc2Vcblx0XHRcdFx0XHRcdGlmIGFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0XHRcdFx0XHRpc19yZWFkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0bXlBcHByb3ZlID0ge2lkOiBhcHByb3ZlLl9pZCwgaXNfcmVhZDogaXNfcmVhZCwgc3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlLCBhZ2VudDogYXBwcm92ZS5hZ2VudCwgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZX1cblxuXHRcdHJldHVybiBteUFwcHJvdmVcblxuXHRnZXRTdGVwQ3VycmVudE5hbWUgPSAoaW5zdGFuY2VJZCkgLT5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlSWR9LCB7ZmllbGRzOiB7XCJ0cmFjZXMubmFtZVwiOiAxLCBcInRyYWNlc1wiOiB7JHNsaWNlOiAtMX19fSlcblx0XHRpZiBpbnN0YW5jZVxuXHRcdFx0c3RlcEN1cnJlbnROYW1lID0gaW5zdGFuY2UudHJhY2VzP1swXT8ubmFtZVxuXG5cdFx0cmV0dXJuIHN0ZXBDdXJyZW50TmFtZVxuXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGlkc319LCB7ZmllbGRzOiB7dHJhY2VzOiAwfX0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRjaGFuZ2VkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0bXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcblx0XHRcdG15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpXG5cdFx0XHRpZiBteUFwcHJvdmVcblx0XHRcdFx0aW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkXG5cdFx0XHRcdGluc3RhbmNlLnN0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZVxuXHRcdFx0XHRpZiBteUFwcHJvdmUuYWdlbnRcblx0XHRcdFx0XHRpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlXG5cblx0XHRcdGlmIG15TGFzdEZpbmlzaGVkQXBwcm92ZVxuXHRcdFx0XHRpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZVxuXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGluc3RhbmNlLmNjX2NvdW50ID0gaW5zdGFuY2UuY2NfdXNlcnM/Lmxlbmd0aCB8fCAwXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuXHRcdHJlbW92ZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcblx0fVxuXG5cdGlkcy5mb3JFYWNoIChpZCktPlxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxuXHRcdG15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpXG5cdFx0aWYgbXlBcHByb3ZlXG5cdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWRcblx0XHRcdGluc3RhbmNlLnN0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZVxuXHRcdFx0aWYgbXlBcHByb3ZlLmFnZW50XG5cdFx0XHRcdFx0aW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZVxuXHRcdGVsc2Vcblx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlXG5cblx0XHRpZiBteUxhc3RGaW5pc2hlZEFwcHJvdmVcblx0XHRcdGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlXG5cblx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRpbnN0YW5jZS5jY19jb3VudCA9IGluc3RhbmNlLmNjX3VzZXJzPy5sZW5ndGggfHwgMFxuXHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcblxuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpIiwidmFyIGFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSwgbGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZTtcblxubGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKGluc3RhbmNlaWQsIHVzZXJJZCwgZGF0YU1hcCwgY2FsbGJhY2spIHtcbiAgdmFyIG9wZXJhdGlvbjtcbiAgb3BlcmF0aW9uID0gW1xuICAgIHtcbiAgICAgIFwiJG1hdGNoXCI6IHtcbiAgICAgICAgXCJfaWRcIjogaW5zdGFuY2VpZFxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIFwiJHByb2plY3RcIjoge1xuICAgICAgICBcIm5hbWVcIjogMSxcbiAgICAgICAgXCJfYXBwcm92ZVwiOiBcIiR0cmFjZXMuYXBwcm92ZXNcIlxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIFwiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwiXG4gICAgfSwge1xuICAgICAgXCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJcbiAgICB9LCB7XG4gICAgICBcIiRtYXRjaFwiOiB7XG4gICAgICAgIFwiX2FwcHJvdmUuaXNfZmluaXNoZWRcIjogdHJ1ZSxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJfYXBwcm92ZS5oYW5kbGVyXCI6IHVzZXJJZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIFwiX2FwcHJvdmUudXNlclwiOiB1c2VySWRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiRncm91cFwiOiB7XG4gICAgICAgIFwiX2lkXCI6IFwiJF9pZFwiLFxuICAgICAgICBcImZpbmlzaF9kYXRlXCI6IHtcbiAgICAgICAgICBcIiRsYXN0XCI6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXTtcbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKG9wZXJhdGlvbikudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICB9XG4gICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIGRhdGFNYXAucHVzaChkb2MpO1xuICAgIH0pO1xuICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5hc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUgPSBNZXRlb3Iud3JhcEFzeW5jKGxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUpO1xuXG5NZXRlb3IucHVibGlzaChcImluc3RhbmNlX3RhYnVsYXJcIiwgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICB2YXIgZ2V0TXlBcHByb3ZlLCBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUsIGdldFN0ZXBDdXJyZW50TmFtZSwgaGFuZGxlLCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBmaWVsZHMuY2NfdXNlcnMgPSAxO1xuICBzZWxmID0gdGhpcztcbiAgZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZnVuY3Rpb24odXNlcklkLCBpbnN0YW5jZUlkKSB7XG4gICAgdmFyIGRhdGE7XG4gICAgZGF0YSA9IFtdO1xuICAgIGFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZShpbnN0YW5jZUlkLCB1c2VySWQsIGRhdGEpO1xuICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBkYXRhWzBdO1xuICAgIH1cbiAgfTtcbiAgZ2V0TXlBcHByb3ZlID0gZnVuY3Rpb24odXNlcklkLCBpbnN0YW5jZUlkKSB7XG4gICAgdmFyIGFwcHJvdmUsIGFwcHJvdmVzLCBpbnN0YW5jZSwgaXNfcmVhZCwgbXlBcHByb3ZlLCBub3RGaW5pc2hlZFRyYWNlcztcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB0cmFjZXM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBteUFwcHJvdmUgPSBudWxsO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZS50cmFjZXMgfHwgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbm90RmluaXNoZWRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSk7XG4gICAgaWYgKG5vdEZpbmlzaGVkVHJhY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGFwcHJvdmVzID0gbm90RmluaXNoZWRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIHVzZXJJZCk7XG4gICAgICBpZiAoYXBwcm92ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBhcHByb3ZlID0gYXBwcm92ZXNbMF07XG4gICAgICAgIG15QXBwcm92ZSA9IHtcbiAgICAgICAgICBpZDogYXBwcm92ZS5faWQsXG4gICAgICAgICAgaW5zdGFuY2U6IGFwcHJvdmUuaW5zdGFuY2UsXG4gICAgICAgICAgdHJhY2U6IGFwcHJvdmUudHJhY2UsXG4gICAgICAgICAgaXNfcmVhZDogYXBwcm92ZS5pc19yZWFkLFxuICAgICAgICAgIHN0YXJ0X2RhdGU6IGFwcHJvdmUuc3RhcnRfZGF0ZSxcbiAgICAgICAgICBhZ2VudDogYXBwcm92ZS5hZ2VudCxcbiAgICAgICAgICB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbXlBcHByb3ZlKSB7XG4gICAgICBpc19yZWFkID0gZmFsc2U7XG4gICAgICBpbnN0YW5jZS50cmFjZXMuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICB2YXIgcmVmO1xuICAgICAgICByZXR1cm4gdHJhY2UgIT0gbnVsbCA/IChyZWYgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICBpZiAoYXBwcm92ZS50eXBlID09PSAnY2MnICYmIGFwcHJvdmUudXNlciA9PT0gdXNlcklkICYmIGFwcHJvdmUuaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoYXBwcm92ZS5pc19yZWFkKSB7XG4gICAgICAgICAgICAgIGlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG15QXBwcm92ZSA9IHtcbiAgICAgICAgICAgICAgaWQ6IGFwcHJvdmUuX2lkLFxuICAgICAgICAgICAgICBpc19yZWFkOiBpc19yZWFkLFxuICAgICAgICAgICAgICBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsXG4gICAgICAgICAgICAgIGFnZW50OiBhcHByb3ZlLmFnZW50LFxuICAgICAgICAgICAgICB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG15QXBwcm92ZTtcbiAgfTtcbiAgZ2V0U3RlcEN1cnJlbnROYW1lID0gZnVuY3Rpb24oaW5zdGFuY2VJZCkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCByZWYxLCBzdGVwQ3VycmVudE5hbWU7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMubmFtZVwiOiAxLFxuICAgICAgICBcInRyYWNlc1wiOiB7XG4gICAgICAgICAgJHNsaWNlOiAtMVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICBzdGVwQ3VycmVudE5hbWUgPSAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gKHJlZjEgPSByZWZbMF0pICE9IG51bGwgPyByZWYxLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBzdGVwQ3VycmVudE5hbWU7XG4gIH07XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICB0cmFjZXM6IDBcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIGluc3RhbmNlLCBteUFwcHJvdmUsIG15TGFzdEZpbmlzaGVkQXBwcm92ZSwgcmVmLCByZWYxO1xuICAgICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICAgIH0pO1xuICAgICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICAgIG15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgICAgaWYgKG15QXBwcm92ZSkge1xuICAgICAgICBpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWQ7XG4gICAgICAgIGluc3RhbmNlLnN0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZTtcbiAgICAgICAgaWYgKG15QXBwcm92ZS5hZ2VudCkge1xuICAgICAgICAgIGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG15TGFzdEZpbmlzaGVkQXBwcm92ZSkge1xuICAgICAgICBpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZTtcbiAgICAgIH1cbiAgICAgIGluc3RhbmNlLmlzX2NjID0gKChyZWYgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgOiB2b2lkIDApIHx8IGZhbHNlO1xuICAgICAgaW5zdGFuY2UuY2NfY291bnQgPSAoKHJlZjEgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZjEubGVuZ3RoIDogdm9pZCAwKSB8fCAwO1xuICAgICAgZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzO1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuICAgIH0sXG4gICAgcmVtb3ZlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuICAgIH1cbiAgfSk7XG4gIGlkcy5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCBteUFwcHJvdmUsIG15TGFzdEZpbmlzaGVkQXBwcm92ZSwgcmVmLCByZWYxO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczogZmllbGRzXG4gICAgfSk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICBteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICBpZiAobXlBcHByb3ZlKSB7XG4gICAgICBpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWQ7XG4gICAgICBpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICBpZiAobXlBcHByb3ZlLmFnZW50KSB7XG4gICAgICAgIGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobXlMYXN0RmluaXNoZWRBcHByb3ZlKSB7XG4gICAgICBpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZTtcbiAgICB9XG4gICAgaW5zdGFuY2UuaXNfY2MgPSAoKHJlZiA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKHNlbGYudXNlcklkKSA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgaW5zdGFuY2UuY2NfY291bnQgPSAoKHJlZjEgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZjEubGVuZ3RoIDogdm9pZCAwKSB8fCAwO1xuICAgIGRlbGV0ZSBpbnN0YW5jZS5jY191c2VycztcbiAgICByZXR1cm4gc2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuICB9KTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnaW5zdGFuY2VzX2RyYWZ0JywgKHNwYWNlSWQpIC0+XG5cdGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1c2VySWQgPSB0aGlzLnVzZXJJZFxuXHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe3N0YXRlOlwiZHJhZnRcIixzcGFjZTpzcGFjZUlkLHN1Ym1pdHRlcjp1c2VySWQsJG9yOlt7aW5ib3hfdXNlcnM6IHskZXhpc3RzOmZhbHNlfX0sIHtpbmJveF91c2VyczogW119XX0sIHtmaWVsZHM6IHtfaWQ6IDEsIHN0YXRlOiAxLCBzcGFjZTogMSwgc3VibWl0dGVyOiAxLCBpbmJveF91c2VyczogMSwgbW9kaWZpZWQ6IDEsIG5hbWU6IDF9LCBzb3J0Onttb2RpZmllZDogLTF9fSkiLCJNZXRlb3IucHVibGlzaCgnaW5zdGFuY2VzX2RyYWZ0JywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICB2YXIgdXNlcklkO1xuICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICB1c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBzdGF0ZTogXCJkcmFmdFwiLFxuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgIHN1Ym1pdHRlcjogdXNlcklkLFxuICAgICRvcjogW1xuICAgICAge1xuICAgICAgICBpbmJveF91c2Vyczoge1xuICAgICAgICAgICRleGlzdHM6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgaW5ib3hfdXNlcnM6IFtdXG4gICAgICB9XG4gICAgXVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgc3VibWl0dGVyOiAxLFxuICAgICAgaW5ib3hfdXNlcnM6IDEsXG4gICAgICBtb2RpZmllZDogMSxcbiAgICAgIG5hbWU6IDFcbiAgICB9LFxuICAgIHNvcnQ6IHtcbiAgICAgIG1vZGlmaWVkOiAtMVxuICAgIH1cbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdkaXN0cmlidXRlZF9pbnN0YW5jZXNfc3RhdGVfYnlfaWRzJywgKGluc3RhbmNlX2lkcyktPlxuXHRjaGVjayhpbnN0YW5jZV9pZHMsIEFycmF5KVxuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblx0XG5cdHVubGVzcyBpbnN0YW5jZV9pZHNcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0aWYgXy5pc0VtcHR5KGluc3RhbmNlX2lkcylcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXNcblxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpbnN0YW5jZV9pZHN9fSwge2ZpZWxkczoge3N0YXRlOiAxLCB0cmFjZXM6eyRzbGljZTogMX0gfSB9KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0YWRkZWQ6IChpZCwgZmllbGRzKS0+XG5cdFx0XHRzZWxmLmFkZGVkKCdpbnN0YW5jZXMnLCBpZCwge3N0YXRlOiBmaWVsZHMuc3RhdGUsIGlzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZH0pXG5cblx0XHRjaGFuZ2VkOiAoaWQsIGZpZWxkcyktPlxuXHRcdFx0aWYgZmllbGRzLnN0YXRlXG5cdFx0XHRcdHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtzdGF0ZTogZmllbGRzLnN0YXRlfSlcblx0XHRcdGlmIGZpZWxkcy50cmFjZXNcblx0XHRcdFx0c2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge2lzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZH0pXG5cdH1cblxuXHR0aGlzLnJlYWR5KClcblx0dGhpcy5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcbiIsIk1ldGVvci5wdWJsaXNoKCdkaXN0cmlidXRlZF9pbnN0YW5jZXNfc3RhdGVfYnlfaWRzJywgZnVuY3Rpb24oaW5zdGFuY2VfaWRzKSB7XG4gIHZhciBoYW5kbGUsIHNlbGY7XG4gIGNoZWNrKGluc3RhbmNlX2lkcywgQXJyYXkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlX2lkcykge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKF8uaXNFbXB0eShpbnN0YW5jZV9pZHMpKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDoge1xuICAgICAgJGluOiBpbnN0YW5jZV9pZHNcbiAgICB9XG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgdHJhY2VzOiB7XG4gICAgICAgICRzbGljZTogMVxuICAgICAgfVxuICAgIH1cbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGFkZGVkOiBmdW5jdGlvbihpZCwgZmllbGRzKSB7XG4gICAgICByZXR1cm4gc2VsZi5hZGRlZCgnaW5zdGFuY2VzJywgaWQsIHtcbiAgICAgICAgc3RhdGU6IGZpZWxkcy5zdGF0ZSxcbiAgICAgICAgaXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkLCBmaWVsZHMpIHtcbiAgICAgIGlmIChmaWVsZHMuc3RhdGUpIHtcbiAgICAgICAgc2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge1xuICAgICAgICAgIHN0YXRlOiBmaWVsZHMuc3RhdGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoZmllbGRzLnRyYWNlcykge1xuICAgICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge1xuICAgICAgICAgIGlzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB0aGlzLnJlYWR5KCk7XG4gIHJldHVybiB0aGlzLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdyZWxhdGVkX2luc3RhY2VzJywgKGluc3RhbmNlSWQsIHJlbGF0ZWRfaW5zdGFuY2VzKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgaW5zdGFuY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRyZWxhdGVkX2luc3RhbmNlX2lkcyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlSWQse2ZpZWxkczoge3JlbGF0ZWRfaW5zdGFuY2VzOiAxfX0pPy5yZWxhdGVkX2luc3RhbmNlc1xuXG5cdGlmIHJlbGF0ZWRfaW5zdGFuY2VfaWRzICYmIF8uaXNBcnJheShyZWxhdGVkX2luc3RhbmNlX2lkcylcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbiA6IHJlbGF0ZWRfaW5zdGFuY2VfaWRzfX0sIHtmaWVsZHM6IHtfaWQ6IDEsIG5hbWU6IDEsIHNwYWNlOiAxfX0pXG5cdGVsc2Vcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpIiwiTWV0ZW9yLnB1Ymxpc2goJ3JlbGF0ZWRfaW5zdGFjZXMnLCBmdW5jdGlvbihpbnN0YW5jZUlkLCByZWxhdGVkX2luc3RhbmNlcykge1xuICB2YXIgcmVmLCByZWxhdGVkX2luc3RhbmNlX2lkcztcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZWxhdGVkX2luc3RhbmNlX2lkcyA9IChyZWYgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZUlkLCB7XG4gICAgZmllbGRzOiB7XG4gICAgICByZWxhdGVkX2luc3RhbmNlczogMVxuICAgIH1cbiAgfSkpICE9IG51bGwgPyByZWYucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDA7XG4gIGlmIChyZWxhdGVkX2luc3RhbmNlX2lkcyAmJiBfLmlzQXJyYXkocmVsYXRlZF9pbnN0YW5jZV9pZHMpKSB7XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgIF9pZDoge1xuICAgICAgICAkaW46IHJlbGF0ZWRfaW5zdGFuY2VfaWRzXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIF9pZDogMSxcbiAgICAgICAgbmFtZTogMSxcbiAgICAgICAgc3BhY2U6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG59KTtcbiIsImlmIE1ldGVvci5pc1NlcnZlclxuICAgIE1ldGVvci5wdWJsaXNoICdzcGFjZV91c2VyX3NpZ25zJywgKHNwYWNlSWQpIC0+XG4gICAgICAgIGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xuXG4gICAgICAgIHVubGVzcyB0aGlzLnVzZXJJZFxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZHkoKVxuXG4gICAgICAgIHJldHVybiBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9LCB7ZmllbGRzOiB7Y3JlYXRlZF9ieTogMCwgY3JlYXRlZDogMCwgbW9kaWZpZWRfYnk6IDB9fSlcbiIsImlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgTWV0ZW9yLnB1Ymxpc2goJ3NwYWNlX3VzZXJfc2lnbnMnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gICAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICAgIH1cbiAgICByZXR1cm4gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGNyZWF0ZWRfYnk6IDAsXG4gICAgICAgIGNyZWF0ZWQ6IDAsXG4gICAgICAgIG1vZGlmaWVkX2J5OiAwXG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuIiwiIyMjXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSBcInVzZXJfaW5ib3hfaW5zdGFuY2VcIiwgKCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdFx0dXNlcjogdGhpcy51c2VySWQsXG5cdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxuXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XG5cdHF1ZXJ5ID0ge3NwYWNlOiB7JGluOiB1c2VyU3BhY2VJZHN9fVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZmluZDogLT5cblx0XHRkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHNwYWNlOiAxLFxuXHRcdFx0XHRhcHBsaWNhbnRfbmFtZTogMSxcblx0XHRcdFx0ZmxvdzogMSxcblx0XHRcdFx0aW5ib3hfdXNlcnM6IDEsXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxuXHRcdFx0XHRzdGF0ZTogMSxcblx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0bW9kaWZpZWQ6IDEsXG5cdFx0XHRcdGZvcm06IDFcblx0XHRcdH0sIHNvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogMjAwXG5cdFx0fSk7XG5cdGNoaWxkcmVuOiBbXG5cdFx0e1xuXHRcdFx0ZmluZDogKGluc3RhbmNlLCBwb3N0KS0+XG5cdFx0XHRcdGRiLmZsb3dzLmZpbmQoe19pZDogaW5zdGFuY2UuZmxvd30sIHtmaWVsZHM6IHtuYW1lOiAxLCBzcGFjZTogMX19KTtcblx0XHR9XG5cdF1cbiMjI1xuXG4jIyNcbk1ldGVvci5wdWJsaXNoICdteV9pbmJveF9pbnN0YW5jZXMnLCAoc3BhY2VJZCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0I1x0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdCNcdFx0dXNlcjogdGhpcy51c2VySWQsXG5cdCNcdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxuXHQjXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XG5cblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRmaWVsZHMgPSB7XG5cdFx0c3BhY2U6IDEsXG4jXHRcdGFwcGxpY2FudF9uYW1lOiAxLFxuXHRcdGZsb3c6IDEsXG5cdFx0aW5ib3hfdXNlcnM6IDEsXG5cdFx0Y2NfdXNlcnM6IDEsXG5cdFx0c3RhdGU6IDEsXG4jXHRcdG5hbWU6IDEsXG4jXHRcdG1vZGlmaWVkOiAxLFxuXHRcdGZvcm06IDFcblx0fVxuXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7c29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0YWRkZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpXG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcblx0XHRyZW1vdmVkOiAoaWQpLT5cblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG5cdH1cblxuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG4jIyNcblxuX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSAoc3BhY2VJZCwgdXNlcklkLCBfaXRlbXMsIGNhbGxiYWNrKS0+XG5cdGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKFtcblx0XHR7XG5cdFx0XHQkbWF0Y2g6IHtcblx0XHRcdFx0c3BhY2U6IHNwYWNlSWQsXG5cdFx0XHRcdCRvcjogW3tpbmJveF91c2VyczogdXNlcklkfSwge2NjX3VzZXJzOiB1c2VySWR9XVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0JGdyb3VwOiB7XG5cdFx0XHRcdF9pZDoge2Zsb3c6IFwiJGZsb3dcIiwgY2F0ZWdvcnk6IFwiJGNhdGVnb3J5XCJ9LCBjb3VudDogeyRzdW06IDF9XG5cdFx0XHR9XG5cdFx0fVxuXHRdKS50b0FycmF5IChlcnIsIGRhdGEpLT5cblx0XHRpZiBlcnJcblx0XHRcdHRocm93IG5ldyBFcnJvcihlcnIpXG5cblx0XHRkYXRhLmZvckVhY2ggKGRvYykgLT5cblx0XHRcdF9pdGVtcy5wdXNoIGRvY1xuXG5cdFx0aWYgY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKVxuXHRcdFx0Y2FsbGJhY2soKVxuXHRcdHJldHVyblxuXG5fYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUpXG5cbk1ldGVvci5wdWJsaXNoICdteV9pbmJveF9mbG93X2luc3RhbmNlc19jb3VudCcsIChzcGFjZUlkKS0+XG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZGF0YSA9IFtdICAj5pWw5o2u5qC85byP77yaW3tfaWQ6Zmxvd0lkLCBjb3VudDog5b6F5Yqe5pWw6YePfSwge19pZDpmbG93SWQyLCBjb3VudDog5b6F5Yqe5pWw6YePMn1dXG5cdF9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKHNwYWNlSWQsIHNlbGYudXNlcklkLCBkYXRhKVxuXG5cdF9mbG93c0RhdGEgPSBbXVxuXG5cdF8uZWFjaCBkYXRhLCAoZGF0YUl0ZW0pLT5cblx0XHRfZmxvd3NEYXRhLnB1c2goe19pZDogZGF0YUl0ZW0uX2lkLmZsb3csIGNhdGVnb3J5OiBkYXRhSXRlbS5faWQuY2F0ZWdvcnksIGNvdW50OiBkYXRhSXRlbS5jb3VudH0pXG5cblx0c2VsZi5hZGRlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtmbG93czogX2Zsb3dzRGF0YX0pO1xuXG5cdF9jaGFuZ2VEYXRhID0gKGRvYywgYWN0aW9uKS0+XG5cdFx0Zmxvd19pbnN0YW5jZSA9IF8uZmluZCBfZmxvd3NEYXRhLCAoZiktPlxuXHRcdFx0cmV0dXJuIGYuX2lkID09IGRvYy5mbG93XG5cdFx0aWYgZmxvd19pbnN0YW5jZVxuXHRcdFx0aWYgYWN0aW9uID09IFwiYWRkZWRcIlxuXHRcdFx0XHRmbG93X2luc3RhbmNlLmNvdW50Kytcblx0XHRcdGVsc2UgaWYgYWN0aW9uID09IFwicmVtb3ZlZFwiXG5cdFx0XHRcdGZsb3dfaW5zdGFuY2UuY291bnQtLVxuXHRcdGVsc2UgaWYgYWN0aW9uID09IFwiYWRkZWRcIlxuXHRcdFx0X2Zsb3dzRGF0YS5wdXNoIHtfaWQ6IGRvYy5mbG93LCBjYXRlZ29yeTogZG9jLmNhdGVnb3J5LCBjb3VudDogMX1cblxuXHRcdHNlbGYuY2hhbmdlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtmbG93czogX2Zsb3dzRGF0YX0pO1xuXG5cdF9pbml0ID0gdHJ1ZVxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczoge19pZDogMSwgaW5ib3hfdXNlcnM6IDEsIGNjX3VzZXJzOiAxLCBmbG93OiAxLCBjYXRlZ29yeTogMX19KS5vYnNlcnZlIHtcblx0XHRhZGRlZDogKGRvYyktPlxuXHRcdFx0aWYgIV9pbml0XG5cdFx0XHRcdF9jaGFuZ2VEYXRhKGRvYywgXCJhZGRlZFwiKVxuXHRcdHJlbW92ZWQ6IChkb2MpLT5cblx0XHRcdGlmICFfaW5pdFxuXHRcdFx0XHRfY2hhbmdlRGF0YShkb2MsIFwicmVtb3ZlZFwiKVxuXHR9XG5cdF9pbml0ID0gZmFsc2VcblxuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpIiwiXG4vKlxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgXCJ1c2VyX2luYm94X2luc3RhbmNlXCIsICgpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHRcdHVzZXI6IHRoaXMudXNlcklkLFxuXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcblx0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xuXHRxdWVyeSA9IHtzcGFjZTogeyRpbjogdXNlclNwYWNlSWRzfX1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGZpbmQ6IC0+XG5cdFx0ZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRzcGFjZTogMSxcblx0XHRcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0XHRcdGZsb3c6IDEsXG5cdFx0XHRcdGluYm94X3VzZXJzOiAxLFxuXHRcdFx0XHRjY191c2VyczogMSxcblx0XHRcdFx0c3RhdGU6IDEsXG5cdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdG1vZGlmaWVkOiAxLFxuXHRcdFx0XHRmb3JtOiAxXG5cdFx0XHR9LCBzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDIwMFxuXHRcdH0pO1xuXHRjaGlsZHJlbjogW1xuXHRcdHtcblx0XHRcdGZpbmQ6IChpbnN0YW5jZSwgcG9zdCktPlxuXHRcdFx0XHRkYi5mbG93cy5maW5kKHtfaWQ6IGluc3RhbmNlLmZsb3d9LCB7ZmllbGRzOiB7bmFtZTogMSwgc3BhY2U6IDF9fSk7XG5cdFx0fVxuXHRdXG4gKi9cblxuLypcbk1ldGVvci5wdWJsaXNoICdteV9pbmJveF9pbnN0YW5jZXMnLCAoc3BhY2VJZCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0ICpcdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHQgKlx0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0ICpcdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxuXHQgKlx0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xuXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZmllbGRzID0ge1xuXHRcdHNwYWNlOiAxLFxuICpcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0ZmxvdzogMSxcblx0XHRpbmJveF91c2VyczogMSxcblx0XHRjY191c2VyczogMSxcblx0XHRzdGF0ZTogMSxcbiAqXHRcdG5hbWU6IDEsXG4gKlx0XHRtb2RpZmllZDogMSxcblx0XHRmb3JtOiAxXG5cdH1cblxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge3NvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogNTAwfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGFkZGVkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKVxuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG5cdFx0cmVtb3ZlZDogKGlkKS0+XG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuXHR9XG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuICovXG52YXIgX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUsIF9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlO1xuXG5fZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKHNwYWNlSWQsIHVzZXJJZCwgX2l0ZW1zLCBjYWxsYmFjaykge1xuICByZXR1cm4gZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoW1xuICAgIHtcbiAgICAgICRtYXRjaDoge1xuICAgICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNjX3VzZXJzOiB1c2VySWRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICAkZ3JvdXA6IHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgZmxvdzogXCIkZmxvd1wiLFxuICAgICAgICAgIGNhdGVnb3J5OiBcIiRjYXRlZ29yeVwiXG4gICAgICAgIH0sXG4gICAgICAgIGNvdW50OiB7XG4gICAgICAgICAgJHN1bTogMVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBdKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbiAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gX2l0ZW1zLnB1c2goZG9jKTtcbiAgICB9KTtcbiAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xufTtcblxuX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKF9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKTtcblxuTWV0ZW9yLnB1Ymxpc2goJ215X2luYm94X2Zsb3dfaW5zdGFuY2VzX2NvdW50JywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICB2YXIgX2NoYW5nZURhdGEsIF9mbG93c0RhdGEsIF9pbml0LCBkYXRhLCBoYW5kbGUsIHF1ZXJ5LCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgcXVlcnkgPSB7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfTtcbiAgcXVlcnkuJG9yID0gW1xuICAgIHtcbiAgICAgIGluYm94X3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgIH0sIHtcbiAgICAgIGNjX3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgIH1cbiAgXTtcbiAgZGF0YSA9IFtdO1xuICBfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZShzcGFjZUlkLCBzZWxmLnVzZXJJZCwgZGF0YSk7XG4gIF9mbG93c0RhdGEgPSBbXTtcbiAgXy5lYWNoKGRhdGEsIGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG4gICAgcmV0dXJuIF9mbG93c0RhdGEucHVzaCh7XG4gICAgICBfaWQ6IGRhdGFJdGVtLl9pZC5mbG93LFxuICAgICAgY2F0ZWdvcnk6IGRhdGFJdGVtLl9pZC5jYXRlZ29yeSxcbiAgICAgIGNvdW50OiBkYXRhSXRlbS5jb3VudFxuICAgIH0pO1xuICB9KTtcbiAgc2VsZi5hZGRlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtcbiAgICBmbG93czogX2Zsb3dzRGF0YVxuICB9KTtcbiAgX2NoYW5nZURhdGEgPSBmdW5jdGlvbihkb2MsIGFjdGlvbikge1xuICAgIHZhciBmbG93X2luc3RhbmNlO1xuICAgIGZsb3dfaW5zdGFuY2UgPSBfLmZpbmQoX2Zsb3dzRGF0YSwgZnVuY3Rpb24oZikge1xuICAgICAgcmV0dXJuIGYuX2lkID09PSBkb2MuZmxvdztcbiAgICB9KTtcbiAgICBpZiAoZmxvd19pbnN0YW5jZSkge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gXCJhZGRlZFwiKSB7XG4gICAgICAgIGZsb3dfaW5zdGFuY2UuY291bnQrKztcbiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcInJlbW92ZWRcIikge1xuICAgICAgICBmbG93X2luc3RhbmNlLmNvdW50LS07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwiYWRkZWRcIikge1xuICAgICAgX2Zsb3dzRGF0YS5wdXNoKHtcbiAgICAgICAgX2lkOiBkb2MuZmxvdyxcbiAgICAgICAgY2F0ZWdvcnk6IGRvYy5jYXRlZ29yeSxcbiAgICAgICAgY291bnQ6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge1xuICAgICAgZmxvd3M6IF9mbG93c0RhdGFcbiAgICB9KTtcbiAgfTtcbiAgX2luaXQgPSB0cnVlO1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgaW5ib3hfdXNlcnM6IDEsXG4gICAgICBjY191c2VyczogMSxcbiAgICAgIGZsb3c6IDEsXG4gICAgICBjYXRlZ29yeTogMVxuICAgIH1cbiAgfSkub2JzZXJ2ZSh7XG4gICAgYWRkZWQ6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgaWYgKCFfaW5pdCkge1xuICAgICAgICByZXR1cm4gX2NoYW5nZURhdGEoZG9jLCBcImFkZGVkXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlZDogZnVuY3Rpb24oZG9jKSB7XG4gICAgICBpZiAoIV9pbml0KSB7XG4gICAgICAgIHJldHVybiBfY2hhbmdlRGF0YShkb2MsIFwicmVtb3ZlZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBfaW5pdCA9IGZhbHNlO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIlxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfbWFpbl9hdHRhY2hfdGVtcGxhdGUnLCAoc3BhY2VJZCwgZmxvd0lkKS0+XG5cdGNoZWNrKHNwYWNlSWQsIFN0cmluZylcblx0Y2hlY2soZmxvd0lkLCBTdHJpbmcpXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkICYmIGZsb3dJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRyZXR1cm4gQ3JlYXRvci5nZXRDb2xsZWN0aW9uKCdjbXNfZmlsZXMnKS5maW5kKHsgc3BhY2U6IHNwYWNlSWQsICdwYXJlbnQubyc6ICdmbG93cycsICdwYXJlbnQuaWRzJzogZmxvd0lkLCAgbmFtZTogJ+ato+aWhy5kb2N4JyB9KVxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfbWFpbl9hdHRhY2hfdGVtcGxhdGUnLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQpIHtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgY2hlY2soZmxvd0lkLCBTdHJpbmcpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIShzcGFjZUlkICYmIGZsb3dJZCkpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBDcmVhdG9yLmdldENvbGxlY3Rpb24oJ2Ntc19maWxlcycpLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICdwYXJlbnQubyc6ICdmbG93cycsXG4gICAgJ3BhcmVudC5pZHMnOiBmbG93SWQsXG4gICAgbmFtZTogJ+ato+aWhy5kb2N4J1xuICB9KTtcbn0pO1xuIiwid29ya2Zsb3dUZW1wbGF0ZSA9IHt9XG5cbiPlj6/nlKjmraTohJrmnKzku47mqKHmnb/lt6XkvZzljLrlgZrmibnph4/lr7zlh7rvvJpcbiPkvb/nlKjnrqHnkIblkZjotKbmiLfnmbvlvZXlkI7vvIzov5vlhaVGbG93TW9kdWxlc++8jOWcqOaOp+WItuWPsOaJp+ihjOS7peS4i+iEmuacrOWNs+WPr1xuI2RiLmZvcm1zLmZpbmQoe3N0YXRlOlwiZW5hYmxlZFwifSkuZm9yRWFjaChmdW5jdGlvbihmb3JtKXt3aW5kb3cub3BlbihNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvd29ya2Zsb3cvZXhwb3J0L2Zvcm0/Zm9ybT1cIitmb3JtLl9pZCkpfSlcbndvcmtmbG93VGVtcGxhdGVbXCJlblwiXSA9W11cblxuI+WPr+eUqOatpOiEmuacrOS7juaooeadv+W3peS9nOWMuuWBmuaJuemHj+WvvOWHuu+8mlxuI+S9v+eUqOeuoeeQhuWRmOi0puaIt+eZu+W9leWQju+8jOi/m+WFpeaooeadv+S4k+WMuu+8jOWcqOaOp+WItuWPsOaJp+ihjOS7peS4i+iEmuacrOWNs+WPr1xuI2RiLmZvcm1zLmZpbmQoe3N0YXRlOlwiZW5hYmxlZFwifSkuZm9yRWFjaChmdW5jdGlvbihmb3JtKXt3aW5kb3cub3BlbihNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvd29ya2Zsb3cvZXhwb3J0L2Zvcm0/Zm9ybT1cIitmb3JtLl9pZCkpfSlcbndvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXSA9W11cblxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxuXHRmcyA9IHJlcXVpcmUoJ2ZzJylcblx0cGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuXHRtaW1lID0gcmVxdWlyZSgnbWltZScpXG5cdHJlYWRGaWxlTGlzdCA9IChwYXRoRGlyLCBmaWxlc0xpc3QpLT5cblx0XHRmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKHBhdGhEaXIpXG5cdFx0ZmlsZXMuZm9yRWFjaCAobmFtZSwgaW5kZXgpLT5cblx0XHRcdHN0YXQgPSBmcy5zdGF0U3luYyhwYXRoLmpvaW4ocGF0aERpciwgbmFtZSkpXG5cdFx0XHRpZiBzdGF0LmlzRGlyZWN0b3J5KClcblx0XHRcdFx0IyDpgJLlvZLor7vlj5bmlofku7Zcblx0XHRcdFx0cmVhZEZpbGVMaXN0KHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSwgZmlsZXNMaXN0KVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRvYmogPSB7fVxuXHRcdFx0XHRvYmoucGF0aCA9IHBhdGhEaXJcblx0XHRcdFx0b2JqLm5hbWUgPSBuYW1lXG5cdFx0XHRcdGZpbGVzTGlzdC5wdXNoKG9iailcblxuXHQj6I635Y+WemgtY27mlofku7blpLnkuIvnmoTmiYDmnInmlofku7Zcblx0ZmlsZXNMaXN0X2NuID0gW11cblx0cGF0aF9jbiA9IE1ldGVvci5zZXR0aW5ncy53b3JrZmxvd1RlbXBsYXRlcz8ucGF0aF9jblxuXHRpZiBwYXRoX2NuXG5cdFx0YWJzb2x1dGVfcGF0aF9jbiA9IHBhdGgucmVzb2x2ZShwYXRoX2NuKVxuXHRcdGNvbnNvbGUubG9nIFwiYWJzb2x1dGVfcGF0aF9jblwiLCBhYnNvbHV0ZV9wYXRoX2NuXG5cdFx0aWYgZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX2NuKVxuXHRcdFx0cmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfY24sIGZpbGVzTGlzdF9jbilcblx0XHRcdGZpbGVzTGlzdF9jbi5mb3JFYWNoIChmaWxlKS0+XG5cdFx0XHRcdHRyeVxuXHRcdFx0XHRcdGlmIG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpIGlzIFwiYXBwbGljYXRpb24vanNvblwiXG5cdFx0XHRcdFx0XHRkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4Jylcblx0XHRcdFx0XHRcdHdvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpXG5cdFx0XHRcdGNhdGNoIGVcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIFwi6I635Y+WemgtY27mlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKVxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXG5cdCPojrflj5Zlbi11c+aWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlxuXHRmaWxlc0xpc3RfdXMgPSBbXVxuXHRwYXRoX3VzID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzPy5wYXRoX3VzXG5cdGlmIHBhdGhfdXNcblx0XHRhYnNvbHV0ZV9wYXRoX3VzID0gcGF0aC5yZXNvbHZlKHBhdGhfdXMpXG5cdFx0Y29uc29sZS5sb2cgXCJhYnNvbHV0ZV9wYXRoX3VzXCIsIGFic29sdXRlX3BhdGhfdXNcblx0XHRpZiBmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfdXMpXG5cdFx0XHRyZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF91cywgZmlsZXNMaXN0X3VzKVxuXHRcdFx0ZmlsZXNMaXN0X3VzLmZvckVhY2ggKGZpbGUpLT5cblx0XHRcdFx0dHJ5XG5cdFx0XHRcdFx0aWYgbWltZS5nZXRUeXBlKGZpbGUubmFtZSkgaXMgXCJhcHBsaWNhdGlvbi9qc29uXCJcblx0XHRcdFx0XHRcdGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKVxuXHRcdFx0XHRcdFx0d29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSlcblx0XHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCLojrflj5Zlbi11c+aWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0XHRcdFxuXHRcdFx0XHRcdFxuXG5cbiIsIiAgICAgICAgICAgICAgICAgICAgIFxuXG53b3JrZmxvd1RlbXBsYXRlID0ge307XG5cbndvcmtmbG93VGVtcGxhdGVbXCJlblwiXSA9IFtdO1xuXG53b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0gPSBbXTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHZhciBhYnNvbHV0ZV9wYXRoX2NuLCBhYnNvbHV0ZV9wYXRoX3VzLCBmaWxlc0xpc3RfY24sIGZpbGVzTGlzdF91cywgZnMsIG1pbWUsIHBhdGgsIHBhdGhfY24sIHBhdGhfdXMsIHJlYWRGaWxlTGlzdCwgcmVmLCByZWYxO1xuICBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG4gIG1pbWUgPSByZXF1aXJlKCdtaW1lJyk7XG4gIHJlYWRGaWxlTGlzdCA9IGZ1bmN0aW9uKHBhdGhEaXIsIGZpbGVzTGlzdCkge1xuICAgIHZhciBmaWxlcztcbiAgICBmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKHBhdGhEaXIpO1xuICAgIHJldHVybiBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgb2JqLCBzdGF0O1xuICAgICAgc3RhdCA9IGZzLnN0YXRTeW5jKHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSk7XG4gICAgICBpZiAoc3RhdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgIHJldHVybiByZWFkRmlsZUxpc3QocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpLCBmaWxlc0xpc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqID0ge307XG4gICAgICAgIG9iai5wYXRoID0gcGF0aERpcjtcbiAgICAgICAgb2JqLm5hbWUgPSBuYW1lO1xuICAgICAgICByZXR1cm4gZmlsZXNMaXN0LnB1c2gob2JqKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgZmlsZXNMaXN0X2NuID0gW107XG4gIHBhdGhfY24gPSAocmVmID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzKSAhPSBudWxsID8gcmVmLnBhdGhfY24gOiB2b2lkIDA7XG4gIGlmIChwYXRoX2NuKSB7XG4gICAgYWJzb2x1dGVfcGF0aF9jbiA9IHBhdGgucmVzb2x2ZShwYXRoX2NuKTtcbiAgICBjb25zb2xlLmxvZyhcImFic29sdXRlX3BhdGhfY25cIiwgYWJzb2x1dGVfcGF0aF9jbik7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF9jbikpIHtcbiAgICAgIHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX2NuLCBmaWxlc0xpc3RfY24pO1xuICAgICAgZmlsZXNMaXN0X2NuLmZvckVhY2goZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICB2YXIgZGF0YSwgZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAobWltZS5nZXRUeXBlKGZpbGUubmFtZSkgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICAgICAgICBkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4Jyk7XG4gICAgICAgICAgICByZXR1cm4gd29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi6I635Y+WemgtY27mlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSk7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmaWxlc0xpc3RfdXMgPSBbXTtcbiAgcGF0aF91cyA9IChyZWYxID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzKSAhPSBudWxsID8gcmVmMS5wYXRoX3VzIDogdm9pZCAwO1xuICBpZiAocGF0aF91cykge1xuICAgIGFic29sdXRlX3BhdGhfdXMgPSBwYXRoLnJlc29sdmUocGF0aF91cyk7XG4gICAgY29uc29sZS5sb2coXCJhYnNvbHV0ZV9wYXRoX3VzXCIsIGFic29sdXRlX3BhdGhfdXMpO1xuICAgIGlmIChmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfdXMpKSB7XG4gICAgICByZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF91cywgZmlsZXNMaXN0X3VzKTtcbiAgICAgIHJldHVybiBmaWxlc0xpc3RfdXMuZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIHZhciBkYXRhLCBlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgICAgICAgIGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLojrflj5Zlbi11c+aWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpKTtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiIsIiMjI1xuKiAgICAqICAgICogICAgKiAgICAqICAgICpcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcbiMjI1xuTWV0ZW9yLnN0YXJ0dXAgLT5cblx0aWYgTWV0ZW9yLnNldHRpbmdzLmNyb24/LmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvblxuXHRcdHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpXG5cdFx0IyDlrprml7bmiafooYzlkIzmraVcblx0XHRydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uXG5cdFx0Z29fbmV4dCA9IHRydWVcblx0XHRzY2hlZHVsZS5zY2hlZHVsZUpvYiBydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50ICgpLT5cblx0XHRcdHRyeVxuXHRcdFx0XHRpZiAhZ29fbmV4dFxuXHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRnb19uZXh0ID0gZmFsc2Vcblx0XHRcdFx0Y29uc29sZS50aW1lICdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nXG5cblx0XHRcdFx0bm93ID0gbmV3IERhdGVcblxuXHRcdFx0XHQjIOWwhuWnlOaJmOinhOWImeiuvue9ruS4uuS4jeWPr+eUqFxuXHRcdFx0XHRkYi5wcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMudXBkYXRlKHsgZW5hYmxlZDogdHJ1ZSwgZW5kX3RpbWU6IHsgJGx0ZTogbm93IH0gfSwgeyAkc2V0OiB7IGVuYWJsZWQ6IGZhbHNlIH0gfSwgeyBtdWx0aSA6dHJ1ZSB9KVxuXG5cdFx0XHRcdGNvbnNvbGUudGltZUVuZCAnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJ1xuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxuXG5cdFx0XHRjYXRjaCBlXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCJBVVRPIEFVVE9fRklOSVNIX1BST0NFU1NfREVMRUdBVElPTiBFUlJPUjogXCJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXG5cblx0XHQsICgpLT5cblx0XHRcdGNvbnNvbGUubG9nICdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudCdcbiIsIlxuLypcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4gKi9cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICB2YXIgZ29fbmV4dCwgcmVmLCBydWxlLCBzY2hlZHVsZTtcbiAgaWYgKChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MuY3JvbikgIT0gbnVsbCA/IHJlZi5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24gOiB2b2lkIDApIHtcbiAgICBzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKTtcbiAgICBydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uO1xuICAgIGdvX25leHQgPSB0cnVlO1xuICAgIHJldHVybiBzY2hlZHVsZS5zY2hlZHVsZUpvYihydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGUsIG5vdztcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghZ29fbmV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnb19uZXh0ID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUudGltZSgnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJyk7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBkYi5wcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMudXBkYXRlKHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIGVuZF90aW1lOiB7XG4gICAgICAgICAgICAkbHRlOiBub3dcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIG11bHRpOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbicpO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBVVRPIEFVVE9fRklOSVNIX1BST0NFU1NfREVMRUdBVElPTiBFUlJPUjogXCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50Jyk7XG4gICAgfSkpO1xuICB9XG59KTtcbiIsIiMjI1xuKiAgICAqICAgICogICAgKiAgICAqICAgICpcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcbiMjI1xuTWV0ZW9yLnN0YXJ0dXAgLT5cblx0aWYgTWV0ZW9yLnNldHRpbmdzLmNyb24/LnRpbWVvdXRfYXV0b19zdWJtaXRcblx0XHRzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKVxuXHRcdCMg5a6a5pe25omn6KGM5ZCM5q2lXG5cdFx0cnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLnRpbWVvdXRfYXV0b19zdWJtaXRcblx0XHRnb19uZXh0ID0gdHJ1ZVxuXHRcdHNjaGVkdWxlLnNjaGVkdWxlSm9iIHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQgKCktPlxuXHRcdFx0dHJ5XG5cdFx0XHRcdGlmICFnb19uZXh0XG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdGdvX25leHQgPSBmYWxzZVxuXHRcdFx0XHRjb25zb2xlLnRpbWUgJ3RpbWVvdXRfYXV0b19zdWJtaXQnXG5cblx0XHRcdFx0dXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdCgpXG5cblx0XHRcdFx0Y29uc29sZS50aW1lRW5kICd0aW1lb3V0X2F1dG9fc3VibWl0J1xuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxuXG5cdFx0XHRjYXRjaCBlXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCJBVVRPIFRJTUVPVVRfQVVUT19TVUJNSVQgRVJST1I6IFwiXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxuXG5cdFx0LCAoKS0+XG5cdFx0XHRjb25zb2xlLmxvZyAnRmFpbGVkIHRvIGJpbmQgZW52aXJvbm1lbnQnXG5cbk1ldGVvci5tZXRob2RzXG5cdHRpbWVvdXRfYXV0b19zdWJtaXQ6IChpbnNfaWQpLT5cblx0XHR1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KGluc19pZClcblx0XHRyZXR1cm4gdHJ1ZVxuXG5cbiIsIlxuLypcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4gKi9cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICB2YXIgZ29fbmV4dCwgcmVmLCBydWxlLCBzY2hlZHVsZTtcbiAgaWYgKChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MuY3JvbikgIT0gbnVsbCA/IHJlZi50aW1lb3V0X2F1dG9fc3VibWl0IDogdm9pZCAwKSB7XG4gICAgc2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJyk7XG4gICAgcnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLnRpbWVvdXRfYXV0b19zdWJtaXQ7XG4gICAgZ29fbmV4dCA9IHRydWU7XG4gICAgcmV0dXJuIHNjaGVkdWxlLnNjaGVkdWxlSm9iKHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghZ29fbmV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnb19uZXh0ID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUudGltZSgndGltZW91dF9hdXRvX3N1Ym1pdCcpO1xuICAgICAgICB1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KCk7XG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgndGltZW91dF9hdXRvX3N1Ym1pdCcpO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBVVRPIFRJTUVPVVRfQVVUT19TVUJNSVQgRVJST1I6IFwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudCcpO1xuICAgIH0pKTtcbiAgfVxufSk7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgdGltZW91dF9hdXRvX3N1Ym1pdDogZnVuY3Rpb24oaW5zX2lkKSB7XG4gICAgdXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdChpbnNfaWQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvbmV4dFN0ZXBVc2Vyc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuXHR2YXJcblx0XHRkZWFsX3R5cGUgPSByZXEucXVlcnkuZGVhbF90eXBlLFxuXHRcdHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcblx0XHRlcnJvciA9IFwiXCI7XG5cblx0aWYgKCFkZWFsX3R5cGUgfHwgIXNwYWNlSWQpIHtcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0dmFyXG5cdFx0Ym9keSA9IHJlcS5ib2R5LFxuXHRcdG5leHRTdGVwVXNlcnMgPSBbXTtcblxuXG5cdHN3aXRjaCAoZGVhbF90eXBlKSB7XG5cdFx0Y2FzZSAnc3BlY2lmeVVzZXInOlxuXHRcdFx0dmFyIHNwZWNpZnlVc2VySWRzID0gYm9keS5zcGVjaWZ5VXNlcklkcztcblxuXHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCBzcGVjaWZ5VXNlcklkcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdhcHBsaWNhbnRSb2xlJzpcblx0XHRcdHZhclxuXHRcdFx0XHRhcHBsaWNhbnRJZCA9IGJvZHkuYXBwbGljYW50SWQsXG5cdFx0XHRcdGFwcHJvdmVSb2xlSWRzID0gYm9keS5hcHByb3ZlUm9sZUlkcztcblx0XHRcdHZhciBhcHBsaWNhbnQgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcihzcGFjZUlkLCBhcHBsaWNhbnRJZCk7XG5cblx0XHRcdGlmIChhcHBsaWNhbnQpXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlPcmdzQW5kUm9sZXMoc3BhY2VJZCwgYXBwbGljYW50Lm9yZ2FuaXphdGlvbnMsIGFwcHJvdmVSb2xlSWRzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ2FwcGxpY2FudFN1cGVyaW9yJzpcblx0XHRcdHZhciBhcHBsaWNhbnRJZCA9IGJvZHkuYXBwbGljYW50SWQ7XG5cdFx0XHR2YXIgYXBwbGljYW50ID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXIoc3BhY2VJZCwgYXBwbGljYW50SWQpO1xuXHRcdFx0aWYgKGFwcGxpY2FudC5tYW5hZ2VyKSB7XG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgYXBwbGljYW50Lm1hbmFnZXIpO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnYXBwbGljYW50Jzpcblx0XHRcdHZhciBhcHBsaWNhbnRJZCA9IGJvZHkuYXBwbGljYW50SWQ7XG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIGFwcGxpY2FudElkKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ3VzZXJGaWVsZCc6XG5cdFx0XHR2YXJcblx0XHRcdFx0dXNlckZpZWxkID0gYm9keS51c2VyRmllbGQsXG5cdFx0XHRcdHVzZXJGaWVsZFZhbHVlID0gYm9keS51c2VyRmllbGRWYWx1ZTtcblx0XHRcdGlmICh1c2VyRmllbGQuaXNfbXVsdGlzZWxlY3QpIHsgLy/lpoLmnpzlpJrpgInvvIzku6V1c2VyRmllbGRWYWx1ZeWAvOS4ukFycmF5XG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgdXNlckZpZWxkVmFsdWUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmV4dFN0ZXBVc2Vycy5wdXNoKFdvcmtmbG93TWFuYWdlci5nZXRVc2VyKHNwYWNlSWQsIHVzZXJGaWVsZFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdvcmdGaWVsZCc6XG5cdFx0XHR2YXJcblx0XHRcdFx0b3Jncyxcblx0XHRcdFx0b3JnQ2hpbGRyZW5zLFxuXHRcdFx0XHRvcmdGaWVsZCA9IGJvZHkub3JnRmllbGQsXG5cdFx0XHRcdG9yZ0ZpZWxkVmFsdWUgPSBib2R5Lm9yZ0ZpZWxkVmFsdWU7XG5cdFx0XHRpZiAob3JnRmllbGRWYWx1ZSkge1xuXHRcdFx0XHRpZiAob3JnRmllbGQuaXNfbXVsdGlzZWxlY3QpIHsgLy/lpoLmnpzlpJrpgInvvIzku6VvcmdGaWVsZFZhbHVl5YC85Li6QXJyYXlcblx0XHRcdFx0XHRvcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnMob3JnRmllbGRWYWx1ZSk7XG5cdFx0XHRcdFx0b3JnQ2hpbGRyZW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNDaGlsZHJlbnMoc3BhY2VJZCwgb3JnRmllbGRWYWx1ZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0b3JncyA9IFtXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uKG9yZ0ZpZWxkVmFsdWUpXTtcblx0XHRcdFx0XHRvcmdDaGlsZHJlbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uQ2hpbGRyZW5zKHNwYWNlSWQsIG9yZ0ZpZWxkVmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc1VzZXJzKHNwYWNlSWQsIG9yZ0NoaWxkcmVucyk7XG5cblx0XHRcdFx0b3JnRmllbGRVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgb3Jncyk7XG5cblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IG5leHRTdGVwVXNlcnMuY29uY2F0KG9yZ0ZpZWxkVXNlcnMpO1xuXG5cdFx0XHRcdGlmICghbmV4dFN0ZXBVc2VycyB8fCBuZXh0U3RlcFVzZXJzLmxlbmd0aCA8IDEpIHtcblx0XHRcdFx0XHRlcnJvciA9IFwiT1JHX05PX01FTUJFUlNcIjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZXJyb3IgPSBcIkZJRUxEX1ZBTFVFX0VNUFRZXCI7XG5cdFx0XHR9XG5cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ3NwZWNpZnlPcmcnOlxuXHRcdFx0dmFyIHNwZWNpZnlPcmdJZHMgPSBib2R5LnNwZWNpZnlPcmdJZHM7XG5cdFx0XHR2YXIgc3BlY2lmeU9yZ3MgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9ucyhzcGVjaWZ5T3JnSWRzKTtcblx0XHRcdHZhciBzcGVjaWZ5T3JnQ2hpbGRyZW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNDaGlsZHJlbnMoc3BhY2VJZCwgc3BlY2lmeU9yZ0lkcyk7XG5cblx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc1VzZXJzKHNwYWNlSWQsIHNwZWNpZnlPcmdzKTtcblx0XHRcdG5leHRTdGVwVXNlcnMgPSBuZXh0U3RlcFVzZXJzLmNvbmNhdChXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc1VzZXJzKHNwYWNlSWQsIHNwZWNpZnlPcmdDaGlsZHJlbnMpKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ3VzZXJGaWVsZFJvbGUnOlxuXHRcdFx0dmFyXG5cdFx0XHRcdHVzZXJGaWVsZCA9IGJvZHkudXNlckZpZWxkLFxuXHRcdFx0XHR1c2VyRmllbGRWYWx1ZSA9IGJvZHkudXNlckZpZWxkVmFsdWUsXG5cdFx0XHRcdGFwcHJvdmVyUm9sZUlkcyA9IGJvZHkuYXBwcm92ZXJSb2xlSWRzO1xuXHRcdFx0aWYgKHVzZXJGaWVsZFZhbHVlKSB7XG5cdFx0XHRcdGlmICh1c2VyRmllbGQuaXNfbXVsdGlzZWxlY3QpIHsgLy/lpoLmnpzlpJrpgInvvIzku6V1c2VyRmllbGRWYWx1ZeWAvOS4ukFycmF5XG5cdFx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeVVzZXJzQW5kUm9sZXMoc3BhY2VJZCwgdXNlckZpZWxkVmFsdWUsIGFwcHJvdmVyUm9sZUlkcyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeVVzZXJzQW5kUm9sZXMoc3BhY2VJZCwgW3VzZXJGaWVsZFZhbHVlXSwgYXBwcm92ZXJSb2xlSWRzKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghbmV4dFN0ZXBVc2VycyB8fCBuZXh0U3RlcFVzZXJzLmxlbmd0aCA8IDEpIHtcblx0XHRcdFx0XHRlcnJvciA9IFwiUk9MRV9OT19NRU1CRVJTXCI7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVycm9yID0gXCJGSUVMRF9WQUxVRV9FTVBUWVwiO1xuXHRcdFx0fVxuXG5cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ29yZ0ZpZWxkUm9sZSc6XG5cdFx0XHR2YXJcblx0XHRcdFx0b3JnRmllbGQgPSBib2R5Lm9yZ0ZpZWxkLFxuXHRcdFx0XHRvcmdGaWVsZFZhbHVlID0gYm9keS5vcmdGaWVsZFZhbHVlLFxuXHRcdFx0XHRhcHByb3ZlclJvbGVJZHMgPSBib2R5LmFwcHJvdmVyUm9sZUlkcztcblxuXHRcdFx0aWYgKG9yZ0ZpZWxkVmFsdWUpIHtcblx0XHRcdFx0aWYgKG9yZ0ZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5Lulb3JnRmllbGRWYWx1ZeWAvOS4ukFycmF5XG5cdFx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeU9yZ3NBbmRSb2xlcyhzcGFjZUlkLCBvcmdGaWVsZFZhbHVlLCBhcHByb3ZlclJvbGVJZHMpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlPcmdzQW5kUm9sZXMoc3BhY2VJZCwgW29yZ0ZpZWxkVmFsdWVdLCBhcHByb3ZlclJvbGVJZHMpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFuZXh0U3RlcFVzZXJzIHx8IG5leHRTdGVwVXNlcnMubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRcdGVycm9yID0gXCJST0xFX05PX01FTUJFUlNcIjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZXJyb3IgPSBcIkZJRUxEX1ZBTFVFX0VNUFRZXCI7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OlxuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHR2YXIgcmVzdWx0ID0gW107XG5cblx0bmV4dFN0ZXBVc2Vycy5mb3JFYWNoKGZ1bmN0aW9uKHN1KSB7XG5cdFx0dmFyIG8gPSB7XG5cdFx0XHRpZDogc3UuaWQsXG5cdFx0XHRuYW1lOiBzdS5uYW1lXG5cdFx0fTtcblx0XHRyZXN1bHQucHVzaChvKTtcblx0fSlcblxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0Y29kZTogMjAwLFxuXHRcdGRhdGE6IHtcblx0XHRcdCduZXh0U3RlcFVzZXJzJzogV29ya2Zsb3dNYW5hZ2VyLnVuaXFVc2VycyhyZXN1bHQpLFxuXHRcdFx0J2Vycm9yJzogZXJyb3Jcblx0XHR9XG5cdH0pO1xufSkiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldFNwYWNlVXNlcnNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhclxuICAgIHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzLFxuICAgIHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcbiAgICBzcGFjZVVzZXJzID0gW11cbiAgO1xuXG4gIGlmICghdXNlcklkcyB8fCAhc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzcGFjZVVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIHVzZXJJZHMpO1xuXG4gIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgJ3NwYWNlVXNlcnMnOiBzcGFjZVVzZXJzXG4gICAgfVxuICB9KTtcbn0pXG5cblxuICBcbiAgIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXRGb3JtdWxhVXNlck9iamVjdHNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhclxuICAgIHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzLFxuICAgIHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcbiAgICBzcGFjZVVzZXJzID0gW11cbiAgO1xuXG4gIGlmICghdXNlcklkcyB8fCAhc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgdXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgdXNlcklkcyk7XG5cbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICAnc3BhY2VVc2Vycyc6IHVzZXJzXG4gICAgfVxuICB9KTtcbn0pXG5cblxuICBcbiAgIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9pbml0X2Zvcm11bGFfdmFsdWVzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG5cdHZhclxuXHRcdGZpZWxkcyA9IHJlcS5ib2R5LmZpZWxkcyxcblx0XHRhdXRvRm9ybURvYyA9IHJlcS5ib2R5LmF1dG9Gb3JtRG9jLFxuXHRcdGFwcHJvdmVyID0gcmVxLmJvZHkuYXBwcm92ZXIsXG5cdFx0YXBwbGljYW50ID0gcmVxLmJvZHkuYXBwbGljYW50LFxuXG5cdFx0c3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxuXG5cdFx0c3BhY2VVc2VycyA9IFtdO1xuXG5cdGlmICghZmllbGRzIHx8ICFzcGFjZUlkIHx8ICFhdXRvRm9ybURvYyB8fCAhYXBwcm92ZXIgfHwgIWFwcGxpY2FudCkge1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Zm9ybXVsYV92YWx1ZXMgPSBGb3JtX2Zvcm11bGEuaW5pdF9mb3JtdWxhX3ZhbHVlcyhmaWVsZHMsIGF1dG9Gb3JtRG9jLCBhcHByb3ZlciwgYXBwbGljYW50LCBzcGFjZUlkKTtcblxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0Y29kZTogMjAwLFxuXHRcdGRhdGE6IHtcblx0XHRcdCdmb3JtdWxhX3ZhbHVlcyc6IGZvcm11bGFfdmFsdWVzXG5cdFx0fVxuXHR9KTtcbn0pXG4iLCJKc29uUm91dGVzLmFkZCBcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldE5hbWVGb3JVc2VyXCIsICAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdHVzZXJJZCA9IHJlcS5ib2R5LnVzZXJJZFxuXG5cdFx0aWYgbm90IHVzZXJJZCBcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIFxuXHRcdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcblx0XHRcdFx0fVxuXG5cdFx0dXNlciA9IFdvcmtmbG93TWFuYWdlci5nZXROYW1lRm9yVXNlcih1c2VySWQpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCBcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHt1c2VyOiB1c2VyfVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XG5cdFxuXHRcdFxuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXROYW1lRm9yVXNlclwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZSwgdXNlciwgdXNlcklkO1xuICB0cnkge1xuICAgIHVzZXJJZCA9IHJlcS5ib2R5LnVzZXJJZDtcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHVzZXIgPSBXb3JrZmxvd01hbmFnZXIuZ2V0TmFtZUZvclVzZXIodXNlcklkKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICB1c2VyOiB1c2VyXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvZGVzaWduZXIvc3RhcnR1cCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0Y29tcGFueUlkID0gcmVxLnF1ZXJ5Py5jb21wYW55SWQgfHwgJydcblxuXHRcdHNwYWNlc1F1ZXJ5ID0geyBhZG1pbnM6IGN1cnJlbnRfdXNlciB9XG5cblx0XHRpZiBjb21wYW55SWRcblx0XHRcdG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjb21wYW55SWQsIHsgZmllbGRzOiB7IHNwYWNlOjEgfSB9KVxuXHRcdFx0aWYgbm90IG9yZ1xuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjb21wYW55SWQgaXMgaW52YWxpZCcpXG5cblx0XHRcdHNwYWNlc1F1ZXJ5ID0geyBfaWQ6IG9yZy5zcGFjZSB9XG5cblx0XHRzcGFjZXMgPSBkYi5zcGFjZXMuZmluZChzcGFjZXNRdWVyeSkuZmV0Y2goKVxuXG5cdFx0c3BhY2VJZHMgPSBfLnBsdWNrIHNwYWNlcywgJ19pZCdcblxuXHRcdHF1ZXJ5ID0geyBzcGFjZTogeyAkaW46IHNwYWNlSWRzIH0gfVxuXHRcdGlmIGNvbXBhbnlJZFxuXHRcdFx0cXVlcnkuY29tcGFueV9pZCA9IGNvbXBhbnlJZFxuXG5cdFx0c3BhY2VVc2VycyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQocXVlcnkpLmZldGNoKClcblxuXHRcdGZvcm1zID0gZGIuZm9ybXMuZmluZChxdWVyeSwgeyBmaWVsZHM6IHsgbmFtZToxLCBzdGF0ZToxLCBpc19kZWxldGVkOjEsIGlzX3ZhbGlkOjEsIHNwYWNlOjEsIGRlc2NyaXB0aW9uOjEsIGhlbHBfdGV4dDoxLFxuXHRcdGNyZWF0ZWQ6MSwgY3JlYXRlZF9ieToxLCBjdXJyZW50OjEsIGNhdGVnb3J5OjEsIGluc3RhbmNlX3N0eWxlOjEsIGNvbXBhbnlfaWQ6MSB9IH0pLmZldGNoKClcblxuXHRcdGZsb3dzID0gZGIuZmxvd3MuZmluZChxdWVyeSwgeyBmaWVsZHM6IHsgbmFtZToxLCBuYW1lX2Zvcm11bGE6MSwgY29kZV9mb3JtdWxhOjEsIHNwYWNlOjEsIGRlc2NyaXB0aW9uOjEsIGlzX3ZhbGlkOjEsIGZvcm06MSxcblx0XHRmbG93dHlwZToxLCBzdGF0ZToxLCBpc19kZWxldGVkOjEsIGNyZWF0ZWQ6MSwgY3JlYXRlZF9ieToxLCBoZWxwX3RleHQ6MSwgY3VycmVudF9ubzoxLCBjdXJyZW50OjEsIHBlcm1zOjEsIGVycm9yX21lc3NhZ2U6MSwgZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczoxLCBjb21wYW55X2lkOjEgfSB9KS5mZXRjaCgpXG5cblx0XHRyb2xlcyA9IGRiLmZsb3dfcm9sZXMuZmluZChxdWVyeSkuZmV0Y2goKVxuXG5cdFx0b3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZChxdWVyeSkuZmV0Y2goKVxuXG5cdFx0cG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZChxdWVyeSkuZmV0Y2goKVxuXG5cdFx0Y2F0ZWdvcmllcyA9IGRiLmNhdGVnb3JpZXMuZmluZCh7IHNwYWNlOiB7ICRpbjogc3BhY2VJZHMgfSB9KS5mZXRjaCgpXG5cblx0XHR1c2VySWRzID0gXy5wbHVjayBzcGFjZVVzZXJzLCAndXNlcidcblx0XHR1c2VycyA9IGRiLnVzZXJzLmZpbmQoeyBfaWQ6IHsgJGluOiB1c2VySWRzIH0gfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pLmZldGNoKClcblxuXHRcdHJlc3VsdCA9IHt9XG5cdFx0cmVzdWx0LlNwYWNlVXNlcnMgPSBzcGFjZVVzZXJzXG5cdFx0cmVzdWx0LlVzZXJzID0gdXNlcnNcblx0XHRyZXN1bHQuRm9ybXMgPSBmb3Jtc1xuXHRcdHJlc3VsdC5GbG93cyA9IGZsb3dzXG5cdFx0cmVzdWx0Lk9yZ2FuaXphdGlvbnMgPSBvcmdhbml6YXRpb25zXG5cdFx0cmVzdWx0LlBvc2l0aW9ucyA9IHBvc2l0aW9uc1xuXHRcdHJlc3VsdC5Sb2xlcyA9IHJvbGVzXG5cdFx0cmVzdWx0LkNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzXG5cdFx0cmVzdWx0LlNwYWNlcyA9IHNwYWNlc1xuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdGRhdGE6IHJlc3VsdFxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XG5cbiIsIkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS9kZXNpZ25lci9zdGFydHVwJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGNhdGVnb3JpZXMsIGNvbXBhbnlJZCwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvd3MsIGZvcm1zLCBvcmcsIG9yZ2FuaXphdGlvbnMsIHBvc2l0aW9ucywgcXVlcnksIHJlZiwgcmVzdWx0LCByb2xlcywgc3BhY2VJZHMsIHNwYWNlVXNlcnMsIHNwYWNlcywgc3BhY2VzUXVlcnksIHVzZXJJZHMsIHVzZXJzO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGNvbXBhbnlJZCA9ICgocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmNvbXBhbnlJZCA6IHZvaWQgMCkgfHwgJyc7XG4gICAgc3BhY2VzUXVlcnkgPSB7XG4gICAgICBhZG1pbnM6IGN1cnJlbnRfdXNlclxuICAgIH07XG4gICAgaWYgKGNvbXBhbnlJZCkge1xuICAgICAgb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGNvbXBhbnlJZCwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghb3JnKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NvbXBhbnlJZCBpcyBpbnZhbGlkJyk7XG4gICAgICB9XG4gICAgICBzcGFjZXNRdWVyeSA9IHtcbiAgICAgICAgX2lkOiBvcmcuc3BhY2VcbiAgICAgIH07XG4gICAgfVxuICAgIHNwYWNlcyA9IGRiLnNwYWNlcy5maW5kKHNwYWNlc1F1ZXJ5KS5mZXRjaCgpO1xuICAgIHNwYWNlSWRzID0gXy5wbHVjayhzcGFjZXMsICdfaWQnKTtcbiAgICBxdWVyeSA9IHtcbiAgICAgIHNwYWNlOiB7XG4gICAgICAgICRpbjogc3BhY2VJZHNcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChjb21wYW55SWQpIHtcbiAgICAgIHF1ZXJ5LmNvbXBhbnlfaWQgPSBjb21wYW55SWQ7XG4gICAgfVxuICAgIHNwYWNlVXNlcnMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIGZvcm1zID0gZGIuZm9ybXMuZmluZChxdWVyeSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19kZWxldGVkOiAxLFxuICAgICAgICBpc192YWxpZDogMSxcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAxLFxuICAgICAgICBoZWxwX3RleHQ6IDEsXG4gICAgICAgIGNyZWF0ZWQ6IDEsXG4gICAgICAgIGNyZWF0ZWRfYnk6IDEsXG4gICAgICAgIGN1cnJlbnQ6IDEsXG4gICAgICAgIGNhdGVnb3J5OiAxLFxuICAgICAgICBpbnN0YW5jZV9zdHlsZTogMSxcbiAgICAgICAgY29tcGFueV9pZDogMVxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHF1ZXJ5LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogMSxcbiAgICAgICAgbmFtZV9mb3JtdWxhOiAxLFxuICAgICAgICBjb2RlX2Zvcm11bGE6IDEsXG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBkZXNjcmlwdGlvbjogMSxcbiAgICAgICAgaXNfdmFsaWQ6IDEsXG4gICAgICAgIGZvcm06IDEsXG4gICAgICAgIGZsb3d0eXBlOiAxLFxuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfZGVsZXRlZDogMSxcbiAgICAgICAgY3JlYXRlZDogMSxcbiAgICAgICAgY3JlYXRlZF9ieTogMSxcbiAgICAgICAgaGVscF90ZXh0OiAxLFxuICAgICAgICBjdXJyZW50X25vOiAxLFxuICAgICAgICBjdXJyZW50OiAxLFxuICAgICAgICBwZXJtczogMSxcbiAgICAgICAgZXJyb3JfbWVzc2FnZTogMSxcbiAgICAgICAgZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcbiAgICAgICAgY29tcGFueV9pZDogMVxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgcm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgb3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIGNhdGVnb3JpZXMgPSBkYi5jYXRlZ29yaWVzLmZpbmQoe1xuICAgICAgc3BhY2U6IHtcbiAgICAgICAgJGluOiBzcGFjZUlkc1xuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgdXNlcklkcyA9IF8ucGx1Y2soc3BhY2VVc2VycywgJ3VzZXInKTtcbiAgICB1c2VycyA9IGRiLnVzZXJzLmZpbmQoe1xuICAgICAgX2lkOiB7XG4gICAgICAgICRpbjogdXNlcklkc1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByZXN1bHQgPSB7fTtcbiAgICByZXN1bHQuU3BhY2VVc2VycyA9IHNwYWNlVXNlcnM7XG4gICAgcmVzdWx0LlVzZXJzID0gdXNlcnM7XG4gICAgcmVzdWx0LkZvcm1zID0gZm9ybXM7XG4gICAgcmVzdWx0LkZsb3dzID0gZmxvd3M7XG4gICAgcmVzdWx0Lk9yZ2FuaXphdGlvbnMgPSBvcmdhbml6YXRpb25zO1xuICAgIHJlc3VsdC5Qb3NpdGlvbnMgPSBwb3NpdGlvbnM7XG4gICAgcmVzdWx0LlJvbGVzID0gcm9sZXM7XG4gICAgcmVzdWx0LkNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzO1xuICAgIHJlc3VsdC5TcGFjZXMgPSBzcGFjZXM7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHJlc3VsdFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9lbmdpbmUnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnQXBwcm92YWxzJ10sIChhcHByb3ZlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0dXVmbG93TWFuYWdlci53b3JrZmxvd19lbmdpbmUoYXBwcm92ZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8sIGN1cnJlbnRfdXNlcilcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHt9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9lbmdpbmUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0FwcHJvdmFscyddLCBmdW5jdGlvbihhcHByb3ZlX2Zyb21fY2xpZW50KSB7XG4gICAgICByZXR1cm4gdXVmbG93TWFuYWdlci53b3JrZmxvd19lbmdpbmUoYXBwcm92ZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8sIGN1cnJlbnRfdXNlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L2RyYWZ0cycsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXG5cdFx0aW5zZXJ0ZWRfaW5zdGFuY2VzID0gbmV3IEFycmF5XG5cblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHRuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvKVxuXG5cdFx0XHRuZXdfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IG5ld19pbnNfaWQgfSwgeyBmaWVsZHM6IHsgc3BhY2U6IDEsIGZsb3c6IDEsIGZsb3dfdmVyc2lvbjogMSwgZm9ybTogMSwgZm9ybV92ZXJzaW9uOiAxIH0gfSlcblxuXHRcdFx0aW5zZXJ0ZWRfaW5zdGFuY2VzLnB1c2gobmV3X2lucylcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXMgfVxuXHRcdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5tZXNzYWdlIH1dIH1cblx0XHR9XG5cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZHJhZnRzJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhLCBpbnNlcnRlZF9pbnN0YW5jZXM7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBpbnNlcnRlZF9pbnN0YW5jZXMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBuZXdfaW5zLCBuZXdfaW5zX2lkO1xuICAgICAgbmV3X2luc19pZCA9IHV1Zmxvd01hbmFnZXIuY3JlYXRlX2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICBuZXdfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IG5ld19pbnNfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgZmxvdzogMSxcbiAgICAgICAgICBmbG93X3ZlcnNpb246IDEsXG4gICAgICAgICAgZm9ybTogMSxcbiAgICAgICAgICBmb3JtX3ZlcnNpb246IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaW5zZXJ0ZWRfaW5zdGFuY2VzLnB1c2gobmV3X2lucyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaW5zZXJ0czogaW5zZXJ0ZWRfaW5zdGFuY2VzXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbW92ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXG5cdFx0aW5zZXJ0ZWRfaW5zdGFuY2VzID0gbmV3IEFycmF5XG5cblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHQjIOiOt+WPluS4gOS4qmluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNlXG5cdFx0XHRzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNl5LiL55qE5LiA5LiqdXNlclxuXHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGluc3RhbmNlLmZsb3d9KVxuXG5cdFx0XHRzcGFjZVVzZXJPcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcblx0XHRcdFx0X2lkOiB7XG5cdFx0XHRcdFx0JGluOiBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbnNcblx0XHRcdFx0fVxuXHRcdFx0fSkuZmV0Y2goKTtcblxuXHRcdFx0IyDliKTmlq3kuIDkuKrnlKjmiLfmmK/lkKbmmK/kuIDkuKppbnN0YW5jZeeahOaPkOS6pOiAheaIluiAheeUs+ivt+S6uiDmiJZTcGFjZUFkbWluXG5cdFx0XHRpZiAoaW5zdGFuY2Uuc3VibWl0dGVyIGlzbnQgY3VycmVudF91c2VyKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMgY3VycmVudF91c2VyKSBhbmQgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmbG93LCBzcGFjZV91c2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKVxuXHRcdFx0XHR0aHJvdyBuZXcgIE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmgqjkuI3og73liKDpmaTmraTnlLPor7fljZXjgIJcIilcblxuXHRcdFx0ZGVsZXRlX29iaiA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxuXHRcdFx0ZGVsZXRlX29iai5kZWxldGVkID0gbmV3IERhdGVcblx0XHRcdGRlbGV0ZV9vYmouZGVsZXRlZF9ieSA9IGN1cnJlbnRfdXNlclxuXG5cdFx0XHRkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZGVsZXRlX29iailcblxuXHRcdFx0IyDliKDpmaRpbnN0YW5jZVxuXHRcdFx0ZGIuaW5zdGFuY2VzLnJlbW92ZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcblxuXHRcdFx0aWYgZGVsZXRlX29iai5zdGF0ZSBpc250IFwiZHJhZnRcIlxuXHRcdFx0XHQj5Y+R6YCB57uZ5b6F5aSE55CG5Lq6LCAj5Y+R6YCB57uZ6KKr5Lyg6ZiF5Lq6XG5cdFx0XHRcdGluYm94X3VzZXJzID0gaWYgZGVsZXRlX29iai5pbmJveF91c2VycyB0aGVuIGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgZWxzZSBbXVxuXHRcdFx0XHRjY191c2VycyA9IGlmIGRlbGV0ZV9vYmouY2NfdXNlcnMgdGhlbiBkZWxldGVfb2JqLmNjX3VzZXJzIGVsc2UgW11cblx0XHRcdFx0dXNlcl9pZHMgPSBfLnVuaXEoaW5ib3hfdXNlcnMuY29uY2F0KGNjX3VzZXJzKSlcblx0XHRcdFx0Xy5lYWNoIHVzZXJfaWRzLCAodV9pZCktPlxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1X2lkKVxuXG5cdFx0XHRcdCMg5Y+R6YCB5Yig6Zmk6YCa55+l6YKu5Lu257uZ6YCa6L+H5qCh6aqM55qE55Sz6K+35Lq6L+Whq+WNleS6uu+8jOWvueeUs+ivt+S6ui/loavljZXkurrlkITnlJ/miJDkuIDmnaFzbXRwIG1lc3NhZ2Vcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJtb25pdG9yX2RlbGV0ZV9hcHBsaWNhbnRcIiwgZGVsZXRlX29iaiwgXCJcIiwgY3VycmVudF91c2VyX2luZm8pXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlc31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG5cdFxuXHRcdCIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVtb3ZlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhLCBpbnNlcnRlZF9pbnN0YW5jZXM7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBpbnNlcnRlZF9pbnN0YW5jZXMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBjY191c2VycywgZGVsZXRlX29iaiwgZmxvdywgaW5ib3hfdXNlcnMsIGluc3RhbmNlLCBzcGFjZSwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucywgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHVzZXJfaWRzO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlLmZsb3dcbiAgICAgIH0pO1xuICAgICAgc3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogc3BhY2VfdXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAoKGluc3RhbmNlLnN1Ym1pdHRlciAhPT0gY3VycmVudF91c2VyKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSAmJiAhV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsb3csIHNwYWNlX3VzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oKo5LiN6IO95Yig6Zmk5q2k55Sz6K+35Y2V44CCXCIpO1xuICAgICAgfVxuICAgICAgZGVsZXRlX29iaiA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIGRlbGV0ZV9vYmouZGVsZXRlZCA9IG5ldyBEYXRlO1xuICAgICAgZGVsZXRlX29iai5kZWxldGVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGRlbGV0ZV9vYmopO1xuICAgICAgZGIuaW5zdGFuY2VzLnJlbW92ZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBpZiAoZGVsZXRlX29iai5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICAgIGluYm94X3VzZXJzID0gZGVsZXRlX29iai5pbmJveF91c2VycyA/IGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgOiBbXTtcbiAgICAgICAgY2NfdXNlcnMgPSBkZWxldGVfb2JqLmNjX3VzZXJzID8gZGVsZXRlX29iai5jY191c2VycyA6IFtdO1xuICAgICAgICB1c2VyX2lkcyA9IF8udW5pcShpbmJveF91c2Vycy5jb25jYXQoY2NfdXNlcnMpKTtcbiAgICAgICAgXy5lYWNoKHVzZXJfaWRzLCBmdW5jdGlvbih1X2lkKSB7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1X2lkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcIm1vbml0b3JfZGVsZXRlX2FwcGxpY2FudFwiLCBkZWxldGVfb2JqLCBcIlwiLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaW5zZXJ0czogaW5zZXJ0ZWRfaW5zdGFuY2VzXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3N1Ym1pdCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdHJlc3VsdCA9IFtdXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0ciA9IHV1Zmxvd01hbmFnZXIuc3VibWl0X2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbylcblx0XHRcdGlmIHIuYWxlcnRzXG5cdFx0XHRcdHJlc3VsdC5wdXNoKHIpXG5cdFx0XHRpZiBub3QgXy5pc0VtcHR5KGluc3RhbmNlX2Zyb21fY2xpZW50WydpbmJveF91c2VycyddKVxuXHRcdFx0XHQjIOWmguaenOaYr+i9rOWPkeWwsemcgOimgee7meW9k+WJjeeUqOaIt+WPkemAgXB1c2gg6YeN5paw6K6h566XYmFkZ2Vcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcik7XG5cblx0XHRcdGlmIF8uaXNFbXB0eShyLmFsZXJ0cylcblx0XHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudC5faWQpXG5cdFx0XHRcdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93XG5cdFx0XHRcdGN1cnJlbnRfYXBwcm92ZSA9IGluc3RhbmNlX2Zyb21fY2xpZW50LnRyYWNlc1swXS5hcHByb3Zlc1swXVxuXHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soZmxvd19pZCwgaW5zdGFuY2UsIGN1cnJlbnRfYXBwcm92ZSwgJ2RyYWZ0X3N1Ym1pdCcsIGN1cnJlbnRfdXNlciwgaW5zdGFuY2UuaW5ib3hfdXNlcnMpXG5cblx0XHRcdCMg5Yik5pat55Sz6K+35Y2V5piv5ZCm5YiG5Y+R77yM5YiG5Y+R5paH5Lu257uT5p2f5o+Q6YaS5Y+R6LW35Lq6XG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmRpc3RyaWJ1dGVkSW5zdGFuY2VzUmVtaW5kKGluc3RhbmNlX2Zyb21fY2xpZW50KVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdGRhdGE6IHsgcmVzdWx0OiByZXN1bHQgfVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3N1Ym1pdCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YSwgcmVzdWx0O1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgcmVzdWx0ID0gW107XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBjdXJyZW50X2FwcHJvdmUsIGZsb3dfaWQsIGluc3RhbmNlLCByO1xuICAgICAgciA9IHV1Zmxvd01hbmFnZXIuc3VibWl0X2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICBpZiAoci5hbGVydHMpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocik7XG4gICAgICB9XG4gICAgICBpZiAoIV8uaXNFbXB0eShpbnN0YW5jZV9mcm9tX2NsaWVudFsnaW5ib3hfdXNlcnMnXSkpIHtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcik7XG4gICAgICB9XG4gICAgICBpZiAoXy5pc0VtcHR5KHIuYWxlcnRzKSkge1xuICAgICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2Zyb21fY2xpZW50Ll9pZCk7XG4gICAgICAgIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuICAgICAgICBjdXJyZW50X2FwcHJvdmUgPSBpbnN0YW5jZV9mcm9tX2NsaWVudC50cmFjZXNbMF0uYXBwcm92ZXNbMF07XG4gICAgICAgIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBjdXJyZW50X2FwcHJvdmUsICdkcmFmdF9zdWJtaXQnLCBjdXJyZW50X3VzZXIsIGluc3RhbmNlLmluYm94X3VzZXJzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1dWZsb3dNYW5hZ2VyLmRpc3RyaWJ1dGVkSW5zdGFuY2VzUmVtaW5kKGluc3RhbmNlX2Zyb21fY2xpZW50KTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICByZXN1bHQ6IHJlc3VsdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy90ZXJtaW5hdGUnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHR0ZXJtaW5hdGVfcmVhc29uID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0ZXJtaW5hdGVfcmVhc29uXCJdXG5cdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdXG5cdFx0XHQjIOiOt+WPluS4gOS4qmluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvd1xuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZVxuXHRcdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdFx0IyDojrflj5bkuIDkuKpmbG93XG5cdFx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGZsb3dfaWQpXG5cdFx0XHQjIOWIpOaWreS4gOS4qmluc3RhbmNl5piv5ZCm5Li65a6h5qC45Lit54q25oCBXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKVxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZeS4i+eahOS4gOS4qnVzZXJcblx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXHRcdFx0IyDojrflj5ZzcGFjZV91c2Vy5omA5Zyo55qE6YOo6Zeo5L+h5oGvXG5cdFx0XHRzcGFjZV91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpXG5cdFx0XHQjIOiOt+WPlue7k+adn+iKgueCuVxuXHRcdFx0aW5zdGFuY2VfZmxvd192ZXIgPSBudWxsXG5cdFx0XHRmbG93X3Zlcl9lbmRfc3RlcCA9IG51bGxcblx0XHRcdGZsb3dfdmVycyA9IG5ldyBBcnJheVxuXHRcdFx0Zmxvd192ZXJzLnB1c2goZmxvdy5jdXJyZW50KVxuXHRcdFx0Zmxvd192ZXJzID0gZmxvd192ZXJzLmNvbmNhdChmbG93Lmhpc3RvcnlzKVxuXHRcdFx0aW5zdGFuY2VfZmxvd192ZXIgPSBfLmZpbmQoZmxvd192ZXJzLCAoZl92ZXIpLT5cblx0XHRcdFx0cmV0dXJuIGZfdmVyLl9pZCBpcyBpbnN0YW5jZS5mbG93X3ZlcnNpb25cblx0XHRcdClcblx0XHRcdGlmIG5vdCBpbnN0YW5jZV9mbG93X3ZlclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOeUs+ivt+WNleWvueW6lOa1geeoi+eJiOacrFwiKVxuXHRcdFx0Zmxvd192ZXJfZW5kX3N0ZXAgPSBfLmZpbmQoaW5zdGFuY2VfZmxvd192ZXIuc3RlcHMsIChmX3N0ZXApLT5cblx0XHRcdFx0cmV0dXJuIGZfc3RlcC5zdGVwX3R5cGUgaXMgXCJlbmRcIlxuXHRcdFx0KVxuXHRcdFx0IyDosIPnlKhnZXRGbG93UGVybWlzc2lvbnPmlrnms5XvvIznnIvov5Tlm57nmoTnu5PmnpzkuK3mmK/lkKbmnIlhZG1pblxuXHRcdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd19pZCwgY3VycmVudF91c2VyKVxuXHRcdFx0bm93ID0gbmV3IERhdGVcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRcdCMgc3BhY2XnmoRhZG1pbiwg5aGr5Y2V5Lq6IOeUs+ivt+S6uiDmnInmnYPpmZAg5Y+W5raI55Sz6K+3XG5cdFx0XHRpZiBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpIG9yIHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpIG9yIGluc3RhbmNlLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXIgb3IgaW5zdGFuY2UuYXBwbGljYW50IGlzIGN1cnJlbnRfdXNlclxuXHRcdFx0XHRpZiBub3QgdGVybWluYXRlX3JlYXNvblxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsXCLov5jmnKrloavlhpnlvLrliLbnu5PmnZ/nlLPor7fljZXnmoTnkIbnlLHvvIzmk43kvZzlpLHotKVcIilcblxuXHRcdFx0XHRpbnN0YW5jZV90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsICh0cmFjZSktPlxuXHRcdFx0XHRcdHJldHVybiB0cmFjZS5pc19maW5pc2hlZCBpcyBmYWxzZVxuXHRcdFx0XHQpXG5cblx0XHRcdFx0dHJhY2VzID0gaW5zdGFuY2UudHJhY2VzXG5cdFx0XHRcdGkgPSAwXG5cdFx0XHRcdHdoaWxlIGkgPCB0cmFjZXMubGVuZ3RoXG5cdFx0XHRcdFx0aWYgdHJhY2VzW2ldLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXG5cdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXG5cdFx0XHRcdFx0XHR0cmFjZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHR0cmFjZXNbaV0uZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdGggPSAwXG5cdFx0XHRcdFx0XHR3aGlsZSBoIDwgdHJhY2VzW2ldLmFwcHJvdmVzLmxlbmd0aFxuXHRcdFx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNlLmFwcHJvdmXorrDlvZVcblx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmp1ZGdlID0gbnVsbFxuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5kZXNjcmlwdGlvbiA9IG51bGxcblx0XHRcdFx0XHRcdFx0aCsrXG5cdFx0XHRcdFx0XHQjIOaPkuWFpeW9k+WJjVRyYWNlIHRyYWNlLmFwcHJvdmXorrDlvZXvvJrlvZN0cmFjZS50eXBl5Li65Y+W5Zue44CB5by65Yi257uT5p2f5pe277yMaXNfcmVhZD10cnVl5LiUcmVhZF9kYXRl5Li65b2T5YmN5pe26Ze044CCXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUudHJhY2UgPSBpbnN0YW5jZV90cmFjZS5faWRcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBpbnN0YW5jZV90cmFjZS5kdWVfZGF0ZVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5yZWFkX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5kZXNjcmlwdGlvbiA9IHRlcm1pbmF0ZV9yZWFzb25cblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmNvc3RfdGltZSA9IG5ld0FwcHJvdmUuZmluaXNoX2RhdGUgLSBuZXdBcHByb3ZlLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpXG5cdFx0XHRcdFx0aSsrXG5cblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxuXHRcdFx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtpbnN0YW5jZV90cmFjZS5faWRdXG5cdFx0XHRcdCMgdHlwZS0tLeWBnOeUqFxuXHRcdFx0XHQjIG5ld1RyYWNlLnR5cGUgPSBcInRlcm1pbmF0ZWRcIlxuXHRcdFx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0bmV3VHJhY2Uuc3RlcCA9IGZsb3dfdmVyX2VuZF9zdGVwLl9pZFxuXHRcdFx0XHRuZXdUcmFjZS5uYW1lID0gZmxvd192ZXJfZW5kX3N0ZXAubmFtZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld1RyYWNlLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld1RyYWNlLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcblxuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcImNvbXBsZXRlZFwiXG5cdFx0XHRcdHNldE9iai5maW5hbF9kZWNpc2lvbiA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXG5cdFx0XHRcdG9sZF9jY191c2VycyA9IGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRcdG9sZF9vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnNcblx0XHRcdFx0dGVtcFVzZXJzID0gbmV3IEFycmF5XG5cdFx0XHRcdF8uZWFjaChpbnN0YW5jZV90cmFjZS5hcHByb3ZlcywgKG5mdF9hcHByb3ZlKS0+XG5cdFx0XHRcdFx0dGVtcFVzZXJzLnB1c2gobmZ0X2FwcHJvdmUudXNlcilcblx0XHRcdFx0XHR0ZW1wVXNlcnMucHVzaChuZnRfYXBwcm92ZS5oYW5kbGVyKVxuXHRcdFx0XHQpXG5cdFx0XHRcdHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdCh0ZW1wVXNlcnMpKVxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRcdFx0c2V0T2JqLmNjX3VzZXJzID0gbmV3IEFycmF5XG5cdFx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0dHJhY2VzLnB1c2gobmV3VHJhY2UpXG5cdFx0XHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXNcblxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBmbG93X3Zlcl9lbmRfc3RlcC5uYW1lXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSBmYWxzZVxuXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9ian0pXG5cdFx0XHRcdGlmIHJcblx0XHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0XHRcdCPpgJrnn6XloavljZXkurrjgIHnlLPor7fkurpcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInN1Ym1pdF90ZXJtaW5hdGVfYXBwbGljYW50XCIsIGlucywgdGVybWluYXRlX3JlYXNvbiwgY3VycmVudF91c2VyX2luZm8pXG5cblx0XHRcdFx0XHQj5Y+R6YCB57uZ5b6F5aSE55CG5Lq6IOiiq+S8oOmYheS6ulxuXHRcdFx0XHRcdGlmIG9sZF9pbmJveF91c2Vyc1xuXHRcdFx0XHRcdFx0Xy5lYWNoKF8udW5pcShvbGRfaW5ib3hfdXNlcnMuY29uY2F0KG9sZF9jY191c2VycykpLCAodXNlcl9pZCktPlxuXHRcdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdXNlcl9pZClcblx0XHRcdFx0XHRcdClcblxuXHRcdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAndGVybWluYXRlJywgY3VycmVudF91c2VyLCBbXSlcblxuXHRcdCPlj5HpgIHmtojmga/nu5nlvZPliY3nlKjmiLdcblx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRkYXRhOiB7fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3Rlcm1pbmF0ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgZmxvdywgZmxvd19pZCwgZmxvd192ZXJfZW5kX3N0ZXAsIGZsb3dfdmVycywgaCwgaSwgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfZmxvd192ZXIsIGluc3RhbmNlX2lkLCBpbnN0YW5jZV90cmFjZSwgbmV3QXBwcm92ZSwgbmV3VHJhY2UsIG5vdywgb2xkX2NjX3VzZXJzLCBvbGRfaW5ib3hfdXNlcnMsIG9sZF9vdXRib3hfdXNlcnMsIHBlcm1pc3Npb25zLCByLCBzZXRPYmosIHNwYWNlLCBzcGFjZV9pZCwgc3BhY2VfdXNlciwgc3BhY2VfdXNlcl9vcmdfaW5mbywgdGVtcFVzZXJzLCB0ZXJtaW5hdGVfcmVhc29uLCB0cmFjZXM7XG4gICAgICB0ZXJtaW5hdGVfcmVhc29uID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0ZXJtaW5hdGVfcmVhc29uXCJdO1xuICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXTtcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgZmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XG4gICAgICBzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93X2lkKTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpO1xuICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgc3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKTtcbiAgICAgIGluc3RhbmNlX2Zsb3dfdmVyID0gbnVsbDtcbiAgICAgIGZsb3dfdmVyX2VuZF9zdGVwID0gbnVsbDtcbiAgICAgIGZsb3dfdmVycyA9IG5ldyBBcnJheTtcbiAgICAgIGZsb3dfdmVycy5wdXNoKGZsb3cuY3VycmVudCk7XG4gICAgICBmbG93X3ZlcnMgPSBmbG93X3ZlcnMuY29uY2F0KGZsb3cuaGlzdG9yeXMpO1xuICAgICAgaW5zdGFuY2VfZmxvd192ZXIgPSBfLmZpbmQoZmxvd192ZXJzLCBmdW5jdGlvbihmX3Zlcikge1xuICAgICAgICByZXR1cm4gZl92ZXIuX2lkID09PSBpbnN0YW5jZS5mbG93X3ZlcnNpb247XG4gICAgICB9KTtcbiAgICAgIGlmICghaW5zdGFuY2VfZmxvd192ZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDnlLPor7fljZXlr7nlupTmtYHnqIvniYjmnKxcIik7XG4gICAgICB9XG4gICAgICBmbG93X3Zlcl9lbmRfc3RlcCA9IF8uZmluZChpbnN0YW5jZV9mbG93X3Zlci5zdGVwcywgZnVuY3Rpb24oZl9zdGVwKSB7XG4gICAgICAgIHJldHVybiBmX3N0ZXAuc3RlcF90eXBlID09PSBcImVuZFwiO1xuICAgICAgfSk7XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93X2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgaWYgKHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikgfHwgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikgfHwgaW5zdGFuY2Uuc3VibWl0dGVyID09PSBjdXJyZW50X3VzZXIgfHwgaW5zdGFuY2UuYXBwbGljYW50ID09PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgaWYgKCF0ZXJtaW5hdGVfcmVhc29uKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLov5jmnKrloavlhpnlvLrliLbnu5PmnZ/nlLPor7fljZXnmoTnkIbnlLHvvIzmk43kvZzlpLHotKVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2VfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICAgIHJldHVybiB0cmFjZS5pc19maW5pc2hlZCA9PT0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRyYWNlcy5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAodHJhY2VzW2ldLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdHJhY2VzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyYWNlc1tpXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIGggPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGggPCB0cmFjZXNbaV0uYXBwcm92ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGlmICh0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmp1ZGdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZGVzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IGluc3RhbmNlX3RyYWNlLl9pZDtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl07XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmR1ZV9kYXRlID0gaW5zdGFuY2VfdHJhY2UuZHVlX2RhdGU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmRlc2NyaXB0aW9uID0gdGVybWluYXRlX3JlYXNvbjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuY29zdF90aW1lID0gbmV3QXBwcm92ZS5maW5pc2hfZGF0ZSAtIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbaW5zdGFuY2VfdHJhY2UuX2lkXTtcbiAgICAgICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICBuZXdUcmFjZS5zdGVwID0gZmxvd192ZXJfZW5kX3N0ZXAuX2lkO1xuICAgICAgICBuZXdUcmFjZS5uYW1lID0gZmxvd192ZXJfZW5kX3N0ZXAubmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gICAgICAgIHNldE9iai5maW5hbF9kZWNpc2lvbiA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICBvbGRfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2VycztcbiAgICAgICAgb2xkX2NjX3VzZXJzID0gaW5zdGFuY2UuY2NfdXNlcnM7XG4gICAgICAgIG9sZF9vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnM7XG4gICAgICAgIHRlbXBVc2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgXy5lYWNoKGluc3RhbmNlX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihuZnRfYXBwcm92ZSkge1xuICAgICAgICAgIHRlbXBVc2Vycy5wdXNoKG5mdF9hcHByb3ZlLnVzZXIpO1xuICAgICAgICAgIHJldHVybiB0ZW1wVXNlcnMucHVzaChuZnRfYXBwcm92ZS5oYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdCh0ZW1wVXNlcnMpKTtcbiAgICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBzZXRPYmouY2NfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgICB0cmFjZXMucHVzaChuZXdUcmFjZSk7XG4gICAgICAgIHNldE9iai50cmFjZXMgPSB0cmFjZXM7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSBmYWxzZTtcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgICBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInN1Ym1pdF90ZXJtaW5hdGVfYXBwbGljYW50XCIsIGlucywgdGVybWluYXRlX3JlYXNvbiwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICAgIGlmIChvbGRfaW5ib3hfdXNlcnMpIHtcbiAgICAgICAgICAgIF8uZWFjaChfLnVuaXEob2xkX2luYm94X3VzZXJzLmNvbmNhdChvbGRfY2NfdXNlcnMpKSwgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwidGVybWluYXRlX2FwcHJvdmFsXCIsIHVzZXJfaWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3Rlcm1pbmF0ZScsIGN1cnJlbnRfdXNlciwgW10pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlYXNzaWduJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFsnX2lkJ11cblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2Vcblx0XHRcdCMg6aqM6K+BaW5zdGFuY2XkuLrlrqHmoLjkuK3nirbmgIFcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpXG5cdFx0XHQjIOmqjOivgeW9k+WJjeaJp+ihjOi9rOetvuaguOeahHRyYWNl5pyq57uT5p2fXG5cdFx0XHRsYXN0X3RyYWNlX2Zyb21fY2xpZW50ID0gXy5sYXN0KGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdKVxuXHRcdFx0bGFzdF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsICh0KSAtPlxuXHRcdFx0XHRyZXR1cm4gdC5faWQgaXMgbGFzdF90cmFjZV9mcm9tX2NsaWVudFtcIl9pZFwiXVxuXHRcdFx0KVxuXHRcdFx0aWYgbGFzdF90cmFjZS5pc19maW5pc2hlZCBpcyB0cnVlXG5cdFx0XHRcdHJldHVyblxuXG5cdFx0XHQjIOmqjOivgWxvZ2luIHVzZXJfaWTlr7nor6XmtYHnqIvmnInnrqHnkIbnlLPor7fljZXnmoTmnYPpmZBcblx0XHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcilcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IHNwYWNlX2lkIH0sIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXG5cdFx0XHRpZiAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKVxuXG5cdFx0XHRpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXG5cdFx0XHRpbmJveF91c2Vyc19mcm9tX2NsaWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl1cblx0XHRcdHJlYXNzaWduX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVhc3NpZ25fcmVhc29uXCJdXG5cdFx0XHRub3RfaW5faW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzX2Zyb21fY2xpZW50KVxuXHRcdFx0bmV3X2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzX2Zyb21fY2xpZW50LCBpbmJveF91c2Vycylcblx0XHRcdCMg6IulYXNzaWduZWU95Y6faW5ib3hfdXNlcnPvvIzor7TmmI7kuI3pnIDopoHmiafooYzovaznrb7moLjvvIzns7vnu5/ku4DkuYjpg73kuI3lgZpcblx0XHRcdHJldHVybiBpZiBub3RfaW5faW5ib3hfdXNlcnMubGVuZ3RoIGlzIDAgYW5kIG5ld19pbmJveF91c2Vycy5sZW5ndGggaXMgMFxuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdFx0bm93ID0gbmV3IERhdGVcblx0XHRcdGkgPSAwXG5cdFx0XHRhcHByb3ZlX3VzZXJzX2hhbmRsZXJzID0gW11cblx0XHRcdHdoaWxlIGkgPCBsYXN0X3RyYWNlLmFwcHJvdmVzLmxlbmd0aFxuXHRcdFx0XHRpZiBub3RfaW5faW5ib3hfdXNlcnMuaW5jbHVkZXMobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5oYW5kbGVyKVxuXHRcdFx0XHRcdGlmIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgaXMgZmFsc2UgYW5kIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSBpc250IFwiY2NcIiBhbmQgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS50eXBlIGlzbnQgXCJkaXN0cmlidXRlXCJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZGVzY3JpcHRpb24gPSBcIlwiXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmNvc3RfdGltZSA9IGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZmluaXNoX2RhdGUgLSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRcdGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMucHVzaChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnVzZXIpXG5cdFx0XHRcdFx0XHRhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5oYW5kbGVyKVxuXHRcdFx0XHRpKytcblx0XHRcdCMg5Zyo5ZCM5LiAdHJhY2XkuIvmj5LlhaXovaznrb7moLjmk43kvZzogIXnmoRhcHByb3Zl6K6w5b2VXG5cdFx0XHRjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXHRcdFx0Y3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCBmdWxsbmFtZTogMSB9IH0pXG5cdFx0XHRhc3NpZ25lZV9hcHByID0gbmV3IE9iamVjdFxuXHRcdFx0YXNzaWduZWVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZVxuXHRcdFx0YXNzaWduZWVfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkXG5cdFx0XHRhc3NpZ25lZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0YXNzaWduZWVfYXBwci51c2VyID0gY3VycmVudF91c2VyXG5cdFx0XHRhc3NpZ25lZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvblxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxuXHRcdFx0YXNzaWduZWVfYXBwci5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRhc3NpZ25lZV9hcHByLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRhc3NpZ25lZV9hcHByLmR1ZV9kYXRlID0gbGFzdF90cmFjZS5kdWVfZGF0ZVxuXHRcdFx0YXNzaWduZWVfYXBwci5yZWFkX2RhdGUgPSBub3dcblx0XHRcdGFzc2lnbmVlX2FwcHIuanVkZ2UgPSBcInJlYXNzaWduZWRcIlxuXHRcdFx0YXNzaWduZWVfYXBwci5pc19yZWFkID0gdHJ1ZVxuXHRcdFx0YXNzaWduZWVfYXBwci5kZXNjcmlwdGlvbiA9IHJlYXNzaWduX3JlYXNvblxuXHRcdFx0YXNzaWduZWVfYXBwci5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRhc3NpZ25lZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Rcblx0XHRcdGFzc2lnbmVlX2FwcHIuY29zdF90aW1lID0gYXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSAtIGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZVxuXHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKGFzc2lnbmVlX2FwcHIpXG5cdFx0XHQjIOWvueaWsOWinueahOavj+S9jeW+heWuoeaguOS6uu+8jOWQhOWinuWKoOS4gOadoeaWsOeahGFwcHJvdmVcblx0XHRcdF8uZWFjaChuZXdfaW5ib3hfdXNlcnMsICh1c2VyX2lkKSAtPlxuXHRcdFx0XHRuZXdfdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcl9pZCwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgdXNlcl9pZClcblx0XHRcdFx0dXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHsgZmllbGRzOiB7IG5hbWU6IDEsIGZ1bGxuYW1lOiAxIH0gfSlcblx0XHRcdFx0bmV3X2FwcHIgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5ld19hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0bmV3X2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlXG5cdFx0XHRcdG5ld19hcHByLnRyYWNlID0gbGFzdF90cmFjZS5faWRcblx0XHRcdFx0bmV3X2FwcHIuaXNfZmluaXNoZWQgPSBmYWxzZVxuXHRcdFx0XHRuZXdfYXBwci51c2VyID0gdXNlcl9pZFxuXHRcdFx0XHRuZXdfYXBwci51c2VyX25hbWUgPSBuZXdfdXNlci5uYW1lXG5cblx0XHRcdFx0aGFuZGxlcl9pZCA9IHVzZXJfaWRcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gbmV3X3VzZXJcblx0XHRcdFx0YWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VyX2lkKVxuXHRcdFx0XHRpZiBhZ2VudFxuXHRcdFx0XHRcdGluYm94X3VzZXJzX2Zyb21fY2xpZW50W2luYm94X3VzZXJzX2Zyb21fY2xpZW50LmluZGV4T2YodXNlcl9pZCldID0gYWdlbnRcblx0XHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnRcblx0XHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhZ2VudCB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0XHRuZXdfYXBwci5hZ2VudCA9IGFnZW50XG5cblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlciA9IGhhbmRsZXJfaWRcblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvblxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gdXNlcl9vcmdhbml6YXRpb24ubmFtZVxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXG5cdFx0XHRcdG5ld19hcHByLmZyb21fdXNlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRuZXdfYXBwci5mcm9tX3VzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdFx0bmV3X2FwcHIudHlwZSA9IFwicmVhc3NpZ25cIlxuXHRcdFx0XHRuZXdfYXBwci5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld19hcHByLmR1ZV9kYXRlID0gbGFzdF90cmFjZS5kdWVfZGF0ZVxuXHRcdFx0XHRuZXdfYXBwci5pc19yZWFkID0gZmFsc2Vcblx0XHRcdFx0bmV3X2FwcHIuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0XHRuZXdfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld19hcHByKVxuXHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzLnB1c2gobmV3X2FwcHIpXG5cdFx0XHQpXG5cblx0XHRcdGluc3RhbmNlLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcilcblx0XHRcdGluc3RhbmNlLm91dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQoYXBwcm92ZV91c2Vyc19oYW5kbGVycylcblx0XHRcdHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKVxuXHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gaW5ib3hfdXNlcnNfZnJvbV9jbGllbnRcblx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xuXHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXG5cdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlc1wiXSA9IGxhc3RfdHJhY2UuYXBwcm92ZXNcblx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHsgX2lkOiBpbnN0YW5jZV9pZCwgXCJ0cmFjZXMuX2lkXCI6IGxhc3RfdHJhY2UuX2lkIH0sIHsgJHNldDogc2V0T2JqIH0pXG5cdFx0XHRpZiByXG5cdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRcdCMg57uZ6KKr5Yig6Zmk55qEaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXG5cdFx0XHRcdF8uZWFjaChub3RfaW5faW5ib3hfdXNlcnMsICh1c2VyX2lkKSAtPlxuXHRcdFx0XHRcdGlmIHVzZXJfaWQgaXNudCBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxuXHRcdFx0XHQpXG5cdFx0XHRcdCMg5o+Q5Y+WaW5zdGFuY2VzLm91dGJveF91c2Vyc+aVsOe7hOWSjOWhq+WNleS6uuOAgeeUs+ivt+S6ulxuXHRcdFx0XHRfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRcdFx0X3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudClcblx0XHRcdFx0X3VzZXJzLnB1c2goaW5zLnN1Ym1pdHRlcilcblx0XHRcdFx0X3VzZXJzID0gXy51bmlxKF91c2Vycy5jb25jYXQoaW5zLm91dGJveF91c2VycykpXG5cdFx0XHRcdF8uZWFjaChfdXNlcnMsICh1c2VyX2lkKSAtPlxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxuXHRcdFx0XHQpXG5cblx0XHRcdFx0IyDnu5nmlrDliqDlhaXnmoRpbmJveF91c2Vyc+WPkemAgXB1c2ggbWVzc2FnZVxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJlYXNzaWduX25ld19pbmJveF91c2Vyc1wiLCBpbnMsIHJlYXNzaWduX3JlYXNvbiwgY3VycmVudF91c2VyX2luZm8pXG5cblx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmVhc3NpZ24nLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2VycylcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YToge31cblx0XHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XG5cdFx0fVxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWFzc2lnbicsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgX3VzZXJzLCBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLCBhc3NpZ25lZV9hcHByLCBjdXJyZW50X3NwYWNlX3VzZXIsIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24sIGksIGluYm94X3VzZXJzLCBpbmJveF91c2Vyc19mcm9tX2NsaWVudCwgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIGxhc3RfdHJhY2UsIGxhc3RfdHJhY2VfZnJvbV9jbGllbnQsIG5ld19pbmJveF91c2Vycywgbm90X2luX2luYm94X3VzZXJzLCBub3csIHBlcm1pc3Npb25zLCByLCByZWFzc2lnbl9yZWFzb24sIHNldE9iaiwgc3BhY2UsIHNwYWNlX2lkO1xuICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFsnX2lkJ107XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpO1xuICAgICAgbGFzdF90cmFjZV9mcm9tX2NsaWVudCA9IF8ubGFzdChpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSk7XG4gICAgICBsYXN0X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdC5faWQgPT09IGxhc3RfdHJhY2VfZnJvbV9jbGllbnRbXCJfaWRcIl07XG4gICAgICB9KTtcbiAgICAgIGlmIChsYXN0X3RyYWNlLmlzX2ZpbmlzaGVkID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcik7XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBzcGFjZV9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBhZG1pbnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKTtcbiAgICAgIH1cbiAgICAgIGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICBpbmJveF91c2Vyc19mcm9tX2NsaWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl07XG4gICAgICByZWFzc2lnbl9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlYXNzaWduX3JlYXNvblwiXTtcbiAgICAgIG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQpO1xuICAgICAgbmV3X2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzX2Zyb21fY2xpZW50LCBpbmJveF91c2Vycyk7XG4gICAgICBpZiAobm90X2luX2luYm94X3VzZXJzLmxlbmd0aCA9PT0gMCAmJiBuZXdfaW5ib3hfdXNlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIGkgPSAwO1xuICAgICAgYXBwcm92ZV91c2Vyc19oYW5kbGVycyA9IFtdO1xuICAgICAgd2hpbGUgKGkgPCBsYXN0X3RyYWNlLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICBpZiAobm90X2luX2luYm94X3VzZXJzLmluY2x1ZGVzKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcikpIHtcbiAgICAgICAgICBpZiAobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS50eXBlICE9PSBcImNjXCIgJiYgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS50eXBlICE9PSBcImRpc3RyaWJ1dGVcIikge1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5kZXNjcmlwdGlvbiA9IFwiXCI7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmNvc3RfdGltZSA9IGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZmluaXNoX2RhdGUgLSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS51c2VyKTtcbiAgICAgICAgICAgIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMucHVzaChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFzc2lnbmVlX2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgYXNzaWduZWVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgYXNzaWduZWVfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2U7XG4gICAgICBhc3NpZ25lZV9hcHByLnRyYWNlID0gbGFzdF90cmFjZS5faWQ7XG4gICAgICBhc3NpZ25lZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIGFzc2lnbmVlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICBhc3NpZ25lZV9hcHByLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgYXNzaWduZWVfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGU7XG4gICAgICBhc3NpZ25lZV9hcHByLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgIGFzc2lnbmVlX2FwcHIuanVkZ2UgPSBcInJlYXNzaWduZWRcIjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmRlc2NyaXB0aW9uID0gcmVhc3NpZ25fcmVhc29uO1xuICAgICAgYXNzaWduZWVfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgYXNzaWduZWVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgYXNzaWduZWVfYXBwci5jb3N0X3RpbWUgPSBhc3NpZ25lZV9hcHByLmZpbmlzaF9kYXRlIC0gYXNzaWduZWVfYXBwci5zdGFydF9kYXRlO1xuICAgICAgbGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKGFzc2lnbmVlX2FwcHIpO1xuICAgICAgXy5lYWNoKG5ld19pbmJveF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICB2YXIgYWdlbnQsIGhhbmRsZXJfaWQsIGhhbmRsZXJfaW5mbywgbmV3X2FwcHIsIG5ld191c2VyLCBzcGFjZV91c2VyLCB1c2VyX29yZ2FuaXphdGlvbjtcbiAgICAgICAgbmV3X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHVzZXJfaWQsIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIHVzZXJfaWQpO1xuICAgICAgICB1c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShzcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3X2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2U7XG4gICAgICAgIG5ld19hcHByLnRyYWNlID0gbGFzdF90cmFjZS5faWQ7XG4gICAgICAgIG5ld19hcHByLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld19hcHByLnVzZXIgPSB1c2VyX2lkO1xuICAgICAgICBuZXdfYXBwci51c2VyX25hbWUgPSBuZXdfdXNlci5uYW1lO1xuICAgICAgICBoYW5kbGVyX2lkID0gdXNlcl9pZDtcbiAgICAgICAgaGFuZGxlcl9pbmZvID0gbmV3X3VzZXI7XG4gICAgICAgIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgdXNlcl9pZCk7XG4gICAgICAgIGlmIChhZ2VudCkge1xuICAgICAgICAgIGluYm94X3VzZXJzX2Zyb21fY2xpZW50W2luYm94X3VzZXJzX2Zyb21fY2xpZW50LmluZGV4T2YodXNlcl9pZCldID0gYWdlbnQ7XG4gICAgICAgICAgaGFuZGxlcl9pZCA9IGFnZW50O1xuICAgICAgICAgIGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgICAgX2lkOiBhZ2VudFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbmV3X2FwcHIuYWdlbnQgPSBhZ2VudDtcbiAgICAgICAgfVxuICAgICAgICBuZXdfYXBwci5oYW5kbGVyID0gaGFuZGxlcl9pZDtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5uYW1lO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgICBuZXdfYXBwci5mcm9tX3VzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIG5ld19hcHByLmZyb21fdXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgbmV3X2FwcHIudHlwZSA9IFwicmVhc3NpZ25cIjtcbiAgICAgICAgbmV3X2FwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3X2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICBuZXdfYXBwci5pc19yZWFkID0gZmFsc2U7XG4gICAgICAgIG5ld19hcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgIG5ld19hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld19hcHByKTtcbiAgICAgICAgcmV0dXJuIGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChuZXdfYXBwcik7XG4gICAgICB9KTtcbiAgICAgIGluc3RhbmNlLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcik7XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMpO1xuICAgICAgc2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpO1xuICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQ7XG4gICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlc1wiXSA9IGxhc3RfdHJhY2UuYXBwcm92ZXM7XG4gICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiBsYXN0X3RyYWNlLl9pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgIH0pO1xuICAgICAgaWYgKHIpIHtcbiAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICBfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgaWYgKHVzZXJfaWQgIT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5hcHBsaWNhbnQpO1xuICAgICAgICBfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKTtcbiAgICAgICAgX3VzZXJzID0gXy51bmlxKF91c2Vycy5jb25jYXQoaW5zLm91dGJveF91c2VycykpO1xuICAgICAgICBfLmVhY2goX3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmVhc3NpZ25fbmV3X2luYm94X3VzZXJzXCIsIGlucywgcmVhc3NpZ25fcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlYXNzaWduJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWxvY2F0ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcblxuXHRcdFx0bGFzdF90cmFjZSA9IF8ubGFzdChpbnN0YW5jZS50cmFjZXMpXG5cblx0XHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxuXHRcdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKVxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShpbnN0YW5jZS5zcGFjZSwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcblx0XHRcdGlmIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpXG5cblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2Vcblx0XHRcdGluc3RhbmNlX2lkID0gbGFzdF90cmFjZS5pbnN0YW5jZVxuXHRcdFx0aW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2Vyc1xuXHRcdFx0cmVsb2NhdGVfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX2luYm94X3VzZXJzXCJdXG5cdFx0XHRyZWxvY2F0ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9jb21tZW50XCJdXG5cdFx0XHRyZWxvY2F0ZV9uZXh0X3N0ZXAgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX25leHRfc3RlcFwiXVxuXHRcdFx0bm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCByZWxvY2F0ZV9pbmJveF91c2Vycylcblx0XHRcdG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShyZWxvY2F0ZV9pbmJveF91c2VycywgaW5ib3hfdXNlcnMpXG5cblx0XHRcdGFwcHJvdmVfdXNlcnMgPSBbXVxuXG5cdFx0XHQjIOiOt+WPluS4gOS4qmZsb3dcblx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcblx0XHRcdG5leHRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcmVsb2NhdGVfbmV4dF9zdGVwKVxuXHRcdFx0bmV4dF9zdGVwX3R5cGUgPSBuZXh0X3N0ZXAuc3RlcF90eXBlXG5cdFx0XHRuZXh0X3N0ZXBfbmFtZSA9IG5leHRfc3RlcC5uYW1lXG5cdFx0XHRjdXJyZW50X3NldHAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcClcblx0XHRcdGN1cnJlbnRfc2V0cF90eXBlID0gY3VycmVudF9zZXRwLnN0ZXBfdHlwZVxuXG5cdFx0XHR0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXNcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRcdCMg6YeN5a6a5L2N55qE5pe25YCZ5L2/55SoYXBwcm92ZS52YWx1ZXPlkIjlubYgaW5zdGFuY2UudmFsdWVz55Sf5oiQ5paw55qEaW5zdGFuY2UudmFsdWVzICMxMzI4XG5cdFx0XHRzZXRPYmoudmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxuXHRcdFx0bm93ID0gbmV3IERhdGVcblx0XHRcdGkgPSAwXG5cdFx0XHR3aGlsZSBpIDwgdHJhY2VzLmxlbmd0aFxuXHRcdFx0XHRpZiB0cmFjZXNbaV0uX2lkIGlzIGxhc3RfdHJhY2UuX2lkXG5cdFx0XHRcdFx0aWYgbm90IHRyYWNlc1tpXS5hcHByb3Zlc1xuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzID0gbmV3IEFycmF5XG5cdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZS5hcHByb3Zl6K6w5b2VXG5cdFx0XHRcdFx0aCA9IDBcblx0XHRcdFx0XHR3aGlsZSBoIDwgdHJhY2VzW2ldLmFwcHJvdmVzLmxlbmd0aFxuXHRcdFx0XHRcdFx0aWYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkIGlzIGZhbHNlIGFuZCB0cmFjZXNbaV0uYXBwcm92ZXNbaF0udHlwZSBpc250IFwiY2NcIiBhbmQgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnR5cGUgaXNudCBcImRpc3RyaWJ1dGVcIlxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLnJlYWRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfcmVhZCA9IHRydWVcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uY29zdF90aW1lID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlIC0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRcdFx0YXBwcm92ZV91c2Vycy5wdXNoKHRyYWNlc1tpXS5hcHByb3Zlc1toXS51c2VyKVxuXG5cdFx0XHRcdFx0XHRcdCMgYmVnaW4g6KKr6YeN5a6a5L2N57uZQe+8jOWGjeiiq+mHjeWumuS9jei1sO+8jOS5i+WJjUHnmoTmhI/op4HlnKjmhI/op4HmoI/kuK3mmL7npLrkuI3lh7rmnaXkuobjgIIgIzE5MjFcblx0XHRcdFx0XHRcdFx0aWYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnNpZ25fc2hvdyA9PSB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0dGEgPSB0cmFjZXNbaV0uYXBwcm92ZXNbaF1cblx0XHRcdFx0XHRcdFx0XHRzYW1lVHJhY2VzID0gXy5maWx0ZXIgdHJhY2VzLCAodCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHQuc3RlcCA9PSB0cmFjZXNbaV0uc3RlcFxuXG5cdFx0XHRcdFx0XHRcdFx0bCA9IHNhbWVUcmFjZXMubGVuZ3RoIC0gMVxuXHRcdFx0XHRcdFx0XHRcdHNpZ25TaG93QXBwcm92ZUlkID0gbnVsbFxuXG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgbCA+IC0xXG5cdFx0XHRcdFx0XHRcdFx0XHRfLmVhY2ggc2FtZVRyYWNlc1tsXS5hcHByb3ZlcywgKGEpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgYS51c2VyID09IHRhLnVzZXIgJiYgYS5qdWRnZSAhPSBcInRlcm1pbmF0ZWRcIiAmJiBhLmRlc2NyaXB0aW9uICYmICFzaWduU2hvd0FwcHJvdmVJZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNpZ25TaG93QXBwcm92ZUlkID0gYS5faWRcblx0XHRcdFx0XHRcdFx0XHRcdGwtLVxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgc2lnblNob3dBcHByb3ZlSWRcblx0XHRcdFx0XHRcdFx0XHRcdHRpID0gMFxuXHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgdGkgPCB0cmFjZXMubGVuZ3RoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFoID0gMFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSBhaCA8IHRyYWNlc1t0aV0uYXBwcm92ZXMubGVuZ3RoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgdHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uX2lkID09IHNpZ25TaG93QXBwcm92ZUlkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbdGldLmFwcHJvdmVzW2FoXS5zaWduX3Nob3cgPSB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc2lnbl9zaG93ID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhaCsrXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRpKytcblx0XHRcdFx0XHRcdFx0IyBlbmQg6KKr6YeN5a6a5L2N57uZQe+8jOWGjeiiq+mHjeWumuS9jei1sO+8jOS5i+WJjUHnmoTmhI/op4HlnKjmhI/op4HmoI/kuK3mmL7npLrkuI3lh7rmnaXkuobjgIIgIzE5MjFcblxuXHRcdFx0XHRcdFx0aCsrXG5cblx0XHRcdFx0XHQjIOWcqOWQjOS4gHRyYWNl5LiL5o+S5YWl6YeN5a6a5L2N5pON5L2c6ICF55qEYXBwcm92ZeiusOW9lVxuXHRcdFx0XHRcdGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHRcdFx0Y3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7IGZpZWxkczogeyBuYW1lOiAxICwgZnVsbG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci50cmFjZSA9IHRyYWNlc1tpXS5faWRcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5kdWVfZGF0ZSA9IHRyYWNlc1tpXS5kdWVfZGF0ZVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIucmVhZF9kYXRlID0gbm93XG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5qdWRnZSA9IFwicmVsb2NhdGVkXCJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmlzX3JlYWQgPSB0cnVlXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5kZXNjcmlwdGlvbiA9IHJlbG9jYXRlX2NvbW1lbnRcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmNvc3RfdGltZSA9IHJlbG9jYXRlX2FwcHIuZmluaXNoX2RhdGUgLSByZWxvY2F0ZV9hcHByLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChyZWxvY2F0ZV9hcHByKVxuXG5cdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZeiusOW9lVxuXHRcdFx0XHRcdHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHR0cmFjZXNbaV0uZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHR0cmFjZXNbaV0uanVkZ2UgPSBcInJlbG9jYXRlZFwiXG5cblx0XHRcdFx0aSsrXG5cblx0XHRcdGlmIG5leHRfc3RlcF90eXBlIGlzIFwiZW5kXCJcblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxuXHRcdFx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF1cblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXBcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IG5leHRfc3RlcF9uYW1lXG5cdFx0XHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0bmV3VHJhY2UuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMgPSBbXVxuXHRcdFx0XHQjIOabtOaWsGluc3RhbmNl6K6w5b2VXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwiY29tcGxldGVkXCJcblx0XHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gW11cblx0XHRcdFx0c2V0T2JqLmZpbmFsX2RlY2lzaW9uID0gXCJ0ZXJtaW5hdGVkXCJcblx0XHRcdFx0c2V0T2JqLmZpbmlzaF9kYXRlID0gbmV3IERhdGVcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWVcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IGZhbHNlXG5cdFx0XHRlbHNlXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdXG5cdFx0XHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdFx0bmV3VHJhY2Uuc3RlcCA9IHJlbG9jYXRlX25leHRfc3RlcFxuXHRcdFx0XHRuZXdUcmFjZS5uYW1lID0gbmV4dF9zdGVwX25hbWVcblx0XHRcdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShuZXh0X3N0ZXAudGltZW91dF9ob3Vycylcblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMgPSBbXVxuXHRcdFx0XHRfLmVhY2gocmVsb2NhdGVfaW5ib3hfdXNlcnMsIChuZXh0X3N0ZXBfdXNlcl9pZCwgaWR4KS0+XG5cdFx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZS5hcHByb3Zl6K6w5b2VXG5cdFx0XHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyID0gbmV4dF9zdGVwX3VzZXJfaWRcblxuXHRcdFx0XHRcdHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUobmV4dF9zdGVwX3VzZXJfaWQsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWVcblxuXHRcdFx0XHRcdGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZFxuXHRcdFx0XHRcdGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mb1xuXHRcdFx0XHRcdGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpXG5cdFx0XHRcdFx0aWYgYWdlbnRcblx0XHRcdFx0XHRcdHJlbG9jYXRlX2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudFxuXHRcdFx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50XG5cdFx0XHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhZ2VudCB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuYWdlbnQgPSBhZ2VudFxuXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZFxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcblxuXHRcdFx0XHRcdG5leHRfc3RlcF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGhhbmRsZXJfaWQpXG5cdFx0XHRcdFx0IyDojrflj5ZuZXh0X3N0ZXBfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xuXHRcdFx0XHRcdG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cblxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBuZXdUcmFjZS5kdWVfZGF0ZVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSlcblx0XHRcdFx0XHRuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpXG5cdFx0XHRcdClcblx0XHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gcmVsb2NhdGVfaW5ib3hfdXNlcnNcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWVcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IHV1Zmxvd01hbmFnZXIuZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0KGZsb3cudGltZW91dF9hdXRvX3N1Ym1pdCwgbmV4dF9zdGVwLmxpbmVzKVxuXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGluYm94X3VzZXJzKS5jb25jYXQoYXBwcm92ZV91c2Vycylcblx0XHRcdHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKVxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlXG5cdFx0XHR0cmFjZXMucHVzaChuZXdUcmFjZSlcblx0XHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXNcblxuXHRcdFx0aWYgc2V0T2JqLnN0YXRlID09ICdjb21wbGV0ZWQnXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9ian0pXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9iaiwgJHVuc2V0OiB7ZmluaXNoX2RhdGU6IDF9fSlcblxuXHRcdFx0aWYgclxuXHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0XHQjIOe7meiiq+WIoOmZpOeahGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxuXHRcdFx0XHRfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCAodXNlcl9pZCktPlxuXHRcdFx0XHRcdGlmIHVzZXJfaWQgaXNudCBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxuXHRcdFx0XHQpXG5cdFx0XHRcdCMg5o+Q5Y+WaW5zdGFuY2VzLm91dGJveF91c2Vyc+aVsOe7hOWSjOWhq+WNleS6uuOAgeeUs+ivt+S6ulxuXHRcdFx0XHRfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRcdFx0X3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudClcblx0XHRcdFx0X3VzZXJzLnB1c2goaW5zLnN1Ym1pdHRlcilcblx0XHRcdFx0X3VzZXJzID0gXy51bmlxKF91c2Vycy5jb25jYXQoaW5zLm91dGJveF91c2VycykpXG5cdFx0XHRcdF8uZWFjaChfdXNlcnMsICh1c2VyX2lkKS0+XG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXG5cdFx0XHRcdClcblxuXHRcdFx0XHQjIOe7meaWsOWKoOWFpeeahGluYm94X3VzZXJz5Y+R6YCBcHVzaCBtZXNzYWdlXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmVhc3NpZ25fbmV3X2luYm94X3VzZXJzXCIsIGlucywgcmVsb2NhdGVfY29tbWVudCwgY3VycmVudF91c2VyX2luZm8pXG5cblx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmVsb2NhdGUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2VycylcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHt9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7ZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbG9jYXRlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBfdXNlcnMsIGFoLCBhcHByb3ZlX3VzZXJzLCBjdXJyZW50X3NldHAsIGN1cnJlbnRfc2V0cF90eXBlLCBjdXJyZW50X3NwYWNlX3VzZXIsIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24sIGZsb3csIGgsIGksIGluYm94X3VzZXJzLCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbCwgbGFzdF90cmFjZSwgbmV3VHJhY2UsIG5ld19pbmJveF91c2VycywgbmV4dF9zdGVwLCBuZXh0X3N0ZXBfbmFtZSwgbmV4dF9zdGVwX3R5cGUsIG5vdF9pbl9pbmJveF91c2Vycywgbm93LCBwZXJtaXNzaW9ucywgciwgcmVsb2NhdGVfYXBwciwgcmVsb2NhdGVfY29tbWVudCwgcmVsb2NhdGVfaW5ib3hfdXNlcnMsIHJlbG9jYXRlX25leHRfc3RlcCwgc2FtZVRyYWNlcywgc2V0T2JqLCBzaWduU2hvd0FwcHJvdmVJZCwgc3BhY2UsIHNwYWNlX2lkLCB0YSwgdGksIHRyYWNlcztcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBsYXN0X3RyYWNlID0gXy5sYXN0KGluc3RhbmNlLnRyYWNlcyk7XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpO1xuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShpbnN0YW5jZS5zcGFjZSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBhZG1pbnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKTtcbiAgICAgIH1cbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBpbnN0YW5jZV9pZCA9IGxhc3RfdHJhY2UuaW5zdGFuY2U7XG4gICAgICBpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgcmVsb2NhdGVfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX2luYm94X3VzZXJzXCJdO1xuICAgICAgcmVsb2NhdGVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfY29tbWVudFwiXTtcbiAgICAgIHJlbG9jYXRlX25leHRfc3RlcCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfbmV4dF9zdGVwXCJdO1xuICAgICAgbm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCByZWxvY2F0ZV9pbmJveF91c2Vycyk7XG4gICAgICBuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UocmVsb2NhdGVfaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzKTtcbiAgICAgIGFwcHJvdmVfdXNlcnMgPSBbXTtcbiAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgICBuZXh0X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHJlbG9jYXRlX25leHRfc3RlcCk7XG4gICAgICBuZXh0X3N0ZXBfdHlwZSA9IG5leHRfc3RlcC5zdGVwX3R5cGU7XG4gICAgICBuZXh0X3N0ZXBfbmFtZSA9IG5leHRfc3RlcC5uYW1lO1xuICAgICAgY3VycmVudF9zZXRwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBsYXN0X3RyYWNlLnN0ZXApO1xuICAgICAgY3VycmVudF9zZXRwX3R5cGUgPSBjdXJyZW50X3NldHAuc3RlcF90eXBlO1xuICAgICAgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldE9iai52YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgdHJhY2VzLmxlbmd0aCkge1xuICAgICAgICBpZiAodHJhY2VzW2ldLl9pZCA9PT0gbGFzdF90cmFjZS5faWQpIHtcbiAgICAgICAgICBpZiAoIXRyYWNlc1tpXS5hcHByb3Zlcykge1xuICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzID0gbmV3IEFycmF5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBoID0gMDtcbiAgICAgICAgICB3aGlsZSAoaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlICE9PSBcImNjXCIgJiYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnR5cGUgIT09IFwiZGlzdHJpYnV0ZVwiKSB7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uY29zdF90aW1lID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlIC0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgIGFwcHJvdmVfdXNlcnMucHVzaCh0cmFjZXNbaV0uYXBwcm92ZXNbaF0udXNlcik7XG4gICAgICAgICAgICAgIGlmICh0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc2lnbl9zaG93ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGEgPSB0cmFjZXNbaV0uYXBwcm92ZXNbaF07XG4gICAgICAgICAgICAgICAgc2FtZVRyYWNlcyA9IF8uZmlsdGVyKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuc3RlcCA9PT0gdHJhY2VzW2ldLnN0ZXA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbCA9IHNhbWVUcmFjZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBzaWduU2hvd0FwcHJvdmVJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGwgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgXy5lYWNoKHNhbWVUcmFjZXNbbF0uYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEudXNlciA9PT0gdGEudXNlciAmJiBhLmp1ZGdlICE9PSBcInRlcm1pbmF0ZWRcIiAmJiBhLmRlc2NyaXB0aW9uICYmICFzaWduU2hvd0FwcHJvdmVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWduU2hvd0FwcHJvdmVJZCA9IGEuX2lkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGwtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNpZ25TaG93QXBwcm92ZUlkKSB7XG4gICAgICAgICAgICAgICAgICB0aSA9IDA7XG4gICAgICAgICAgICAgICAgICB3aGlsZSAodGkgPCB0cmFjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGFoIDwgdHJhY2VzW3RpXS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uX2lkID09PSBzaWduU2hvd0FwcHJvdmVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uc2lnbl9zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYWgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aSsrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgICAgICBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci50cmFjZSA9IHRyYWNlc1tpXS5faWQ7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmR1ZV9kYXRlID0gdHJhY2VzW2ldLmR1ZV9kYXRlO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuanVkZ2UgPSBcInJlbG9jYXRlZFwiO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5kZXNjcmlwdGlvbiA9IHJlbG9jYXRlX2NvbW1lbnQ7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmNvc3RfdGltZSA9IHJlbG9jYXRlX2FwcHIuZmluaXNoX2RhdGUgLSByZWxvY2F0ZV9hcHByLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gocmVsb2NhdGVfYXBwcik7XG4gICAgICAgICAgdHJhY2VzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICB0cmFjZXNbaV0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgdHJhY2VzW2ldLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIjtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBpZiAobmV4dF9zdGVwX3R5cGUgPT09IFwiZW5kXCIpIHtcbiAgICAgICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdO1xuICAgICAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXA7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmFwcHJvdmVzID0gW107XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IFtdO1xuICAgICAgICBzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgc2V0T2JqLmZpbmlzaF9kYXRlID0gbmV3IERhdGU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXA7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUobmV4dF9zdGVwLnRpbWVvdXRfaG91cnMpO1xuICAgICAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgICAgICBfLmVhY2gocmVsb2NhdGVfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpIHtcbiAgICAgICAgICB2YXIgYWdlbnQsIGhhbmRsZXJfaWQsIGhhbmRsZXJfaW5mbywgbmV3QXBwcm92ZSwgbmV4dF9zdGVwX3NwYWNlX3VzZXIsIG5leHRfc3RlcF91c2VyX29yZ19pbmZvLCB1c2VyX2luZm87XG4gICAgICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICBuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgICAgICB1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKG5leHRfc3RlcF91c2VyX2lkLCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgaGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgICAgIGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mbztcbiAgICAgICAgICBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIG5leHRfc3RlcF91c2VyX2lkKTtcbiAgICAgICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgICAgIHJlbG9jYXRlX2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudDtcbiAgICAgICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgICAgIGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICBfaWQ6IGFnZW50XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGhhbmRsZXJfaWQ7XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgICBuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKTtcbiAgICAgICAgICBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhuZXh0X3N0ZXBfc3BhY2VfdXNlcik7XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICBuZXdBcHByb3ZlLmR1ZV9kYXRlID0gbmV3VHJhY2UuZHVlX2RhdGU7XG4gICAgICAgICAgbmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2U7XG4gICAgICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKTtcbiAgICAgICAgICByZXR1cm4gbmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IHJlbG9jYXRlX2luYm94X3VzZXJzO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSB1dWZsb3dNYW5hZ2VyLmdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdChmbG93LnRpbWVvdXRfYXV0b19zdWJtaXQsIG5leHRfc3RlcC5saW5lcyk7XG4gICAgICB9XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChpbmJveF91c2VycykuY29uY2F0KGFwcHJvdmVfdXNlcnMpO1xuICAgICAgc2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpO1xuICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgc2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG4gICAgICB0cmFjZXMucHVzaChuZXdUcmFjZSk7XG4gICAgICBzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuICAgICAgaWYgKHNldE9iai5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmosXG4gICAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICBmaW5pc2hfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocikge1xuICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIF8uZWFjaChub3RfaW5faW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICBpZiAodXNlcl9pZCAhPT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF91c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudCk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpO1xuICAgICAgICBfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSk7XG4gICAgICAgIF8uZWFjaChfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWxvY2F0ZV9jb21tZW50LCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlbG9jYXRlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9hcmNoaXZlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXVxuXHRcdFx0IyDojrflj5bkuIDkuKppbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZVxuXHRcdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdFx0IyDliKTmlq3kuIDkuKppbnN0YW5jZeaYr+WQpuS4uuWujOaIkOW5tuS4lOacquW9kuaho+eKtuaAgVxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlRmluaXNoZWRBbmROb3RBcmNoaWV2ZWQoaW5zdGFuY2UpXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNl5LiL55qE5LiA5LiqdXNlclxuXHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHQjIOWIpOaWreS4gOS4queUqOaIt+aYr+WQpuaYr+S4gOS4qmluc3RhbmNl55qE5o+Q5Lqk6ICFIOaIluiAhXNwYWNl55qE566h55CG5ZGYXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VTdWJtaXR0ZXJPckFwcGxpY2FudE9yU3BhY2VBZG1pbihpbnN0YW5jZSwgY3VycmVudF91c2VyLCBzcGFjZSlcblx0XHRcdFxuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gdHJ1ZVxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGVcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9ian0pXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0ZGF0YToge31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxuXHRcblx0XHQiLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2FyY2hpdmUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgc2V0T2JqLCBzcGFjZSwgc3BhY2VfaWQsIHNwYWNlX3VzZXI7XG4gICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlRmluaXNoZWRBbmROb3RBcmNoaWV2ZWQoaW5zdGFuY2UpO1xuICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4oaW5zdGFuY2UsIGN1cnJlbnRfdXNlciwgc3BhY2UpO1xuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IHRydWU7XG4gICAgICBzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZTtcbiAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLnN0YXJ0dXAgLT5cblx0V2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UgXCIvYXBpL3dvcmtmbG93L2V4cG9ydC9pbnN0YW5jZXNcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHRcdHRyeVxuXHRcdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXG5cdFx0XHRxdWVyeSA9IHJlcS5xdWVyeVxuXHRcdFx0c3BhY2VfaWQgPSBxdWVyeS5zcGFjZV9pZFxuXHRcdFx0Zmxvd19pZCA9IHF1ZXJ5LmZsb3dfaWRcblx0XHRcdHR5cGUgPSBwYXJzZUludChxdWVyeS50eXBlKVxuXHRcdFx0dGltZXpvbmVvZmZzZXQgPSBwYXJzZUludChxdWVyeS50aW1lem9uZW9mZnNldClcblxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGZsb3dfaWQgfSwgeyBmaWVsZHM6IHsgZm9ybTogMSB9IH0pXG5cdFx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZmxvdy5mb3JtIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KVxuXG5cdFx0XHRmb3JtX25hbWUgPSBmb3JtLm5hbWVcblx0XHRcdGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHNcblx0XHRcdHRhYmxlX2ZpZWxkcyA9IG5ldyBBcnJheVxuXHRcdFx0Xy5lYWNoIGZvcm0uY3VycmVudC5maWVsZHMsIChmaWVsZCkgLT5cblx0XHRcdFx0aWYgZmllbGQudHlwZSBpcyBcInRhYmxlXCJcblx0XHRcdFx0XHR0YWJsZV9maWVsZHMucHVzaChmaWVsZClcblxuXHRcdFx0aW5zX3RvX3hscyA9IG5ldyBBcnJheVxuXHRcdFx0c3RhcnRfZGF0ZSA9IG51bGxcblx0XHRcdGVuZF9kYXRlID0gbnVsbFxuXHRcdFx0bm93ID0gbmV3IERhdGVcblx0XHRcdCMgMC3mnKzmnIhcblx0XHRcdGlmIHR5cGUgaXMgMFxuXHRcdFx0XHRzdGFydF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKVxuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0XHRmbG93OiBmbG93X2lkLFxuXHRcdFx0XHRcdHN0YXRlOiB7ICRuZTogXCJkcmFmdFwiIH0sXG5cdFx0XHRcdFx0c3VibWl0X2RhdGU6IHsgJGd0ZTogc3RhcnRfZGF0ZSB9XG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cblx0XHRcdFx0fSkuZmV0Y2goKVxuXHRcdFx0IyAxLeS4iuaciFxuXHRcdFx0ZWxzZSBpZiB0eXBlIGlzIDFcblx0XHRcdFx0bGFzdF9tb250aF9kYXRlID0gbmV3IERhdGUobmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKSAtIDEwMDAgKiA2MCAqIDYwICogMjQpXG5cdFx0XHRcdHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShsYXN0X21vbnRoX2RhdGUuZ2V0RnVsbFllYXIoKSwgbGFzdF9tb250aF9kYXRlLmdldE1vbnRoKCksIDEpXG5cdFx0XHRcdGVuZF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKVxuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0XHRmbG93OiBmbG93X2lkLFxuXHRcdFx0XHRcdHN0YXRlOiB7ICRuZTogXCJkcmFmdFwiIH0sXG5cdFx0XHRcdFx0JGFuZDogW3sgc3VibWl0X2RhdGU6IHsgJGd0ZTogc3RhcnRfZGF0ZSB9IH0sIHsgc3VibWl0X2RhdGU6IHsgJGx0ZTogZW5kX2RhdGUgfSB9XVxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XG5cdFx0XHRcdH0pLmZldGNoKClcblx0XHRcdCMgMi3mlbTkuKrlubTluqZcblx0XHRcdGVsc2UgaWYgdHlwZSBpcyAyXG5cdFx0XHRcdHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgMCwgMSlcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdFx0ZmxvdzogZmxvd19pZCxcblx0XHRcdFx0XHRzdGF0ZTogeyAkbmU6IFwiZHJhZnRcIiB9LFxuXHRcdFx0XHRcdHN1Ym1pdF9kYXRlOiB7ICRndGU6IHN0YXJ0X2RhdGUgfVxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XG5cdFx0XHRcdH0pLmZldGNoKClcblx0XHRcdCMgMy3miYDmnIlcblx0XHRcdGVsc2UgaWYgdHlwZSBpcyAzXG5cdFx0XHRcdGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHRcdGZsb3c6IGZsb3dfaWQsXG5cdFx0XHRcdFx0c3RhdGU6IHsgJG5lOiBcImRyYWZ0XCIgfVxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XG5cdFx0XHRcdH0pLmZldGNoKClcblxuXHRcdFx0ZWpzID0gcmVxdWlyZSgnZWpzJylcblx0XHRcdHN0ciA9IEFzc2V0cy5nZXRUZXh0KCdzZXJ2ZXIvZWpzL2V4cG9ydF9pbnN0YW5jZXMuZWpzJylcblxuXHRcdFx0IyDmo4DmtYvmmK/lkKbmnInor63ms5XplJnor69cblx0XHRcdGVqc0xpbnQgPSByZXF1aXJlKCdlanMtbGludCcpXG5cdFx0XHRlcnJvcl9vYmogPSBlanNMaW50LmxpbnQoc3RyLCB7fSlcblx0XHRcdGlmIGVycm9yX29ialxuXHRcdFx0XHRjb25zb2xlLmVycm9yIFwiPT09L2FwaS93b3JrZmxvdy9leHBvcnQ6XCJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBlcnJvcl9vYmpcblxuXHRcdFx0dGVtcGxhdGUgPSBlanMuY29tcGlsZShzdHIpXG5cblx0XHRcdGxhbmcgPSAnZW4nXG5cdFx0XHRpZiBjdXJyZW50X3VzZXJfaW5mby5sb2NhbGUgaXMgJ3poLWNuJ1xuXHRcdFx0XHRsYW5nID0gJ3poLUNOJ1xuXG5cdFx0XHRyZXQgPSB0ZW1wbGF0ZSh7XG5cdFx0XHRcdGxhbmc6IGxhbmcsXG5cdFx0XHRcdHRpbWV6b25lb2Zmc2V0OiB0aW1lem9uZW9mZnNldCxcblx0XHRcdFx0Zm9ybV9uYW1lOiBmb3JtX25hbWUsXG5cdFx0XHRcdGZpZWxkczogZmllbGRzLFxuXHRcdFx0XHR0YWJsZV9maWVsZHM6IHRhYmxlX2ZpZWxkcyxcblx0XHRcdFx0aW5zX3RvX3hsczogaW5zX3RvX3hsc1xuXHRcdFx0fSlcblxuXHRcdFx0ZmlsZU5hbWUgPSBcIlN0ZWVkT1NXb3JrZmxvd19cIiArIG1vbWVudCgpLmZvcm1hdCgnWVlZWU1NRERISG1tJykgKyBcIi54bHNcIlxuXHRcdFx0cmVzLnNldEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKVxuXHRcdFx0cmVzLnNldEhlYWRlcihcIkNvbnRlbnQtRGlzcG9zaXRpb25cIiwgXCJhdHRhY2htZW50O2ZpbGVuYW1lPVwiICsgZW5jb2RlVVJJKGZpbGVOYW1lKSlcblx0XHRcdHJlcy5lbmQocmV0KVxuXHRcdGNhdGNoIGVcblx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdFx0cmVzLmVuZChlLm1lc3NhZ2UpIiwiTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZShcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L2luc3RhbmNlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHZhciBjdXJyZW50X3VzZXJfaW5mbywgZSwgZWpzLCBlanNMaW50LCBlbmRfZGF0ZSwgZXJyb3Jfb2JqLCBmaWVsZHMsIGZpbGVOYW1lLCBmbG93LCBmbG93X2lkLCBmb3JtLCBmb3JtX25hbWUsIGluc190b194bHMsIGxhbmcsIGxhc3RfbW9udGhfZGF0ZSwgbm93LCBxdWVyeSwgcmV0LCBzcGFjZV9pZCwgc3RhcnRfZGF0ZSwgc3RyLCB0YWJsZV9maWVsZHMsIHRlbXBsYXRlLCB0aW1lem9uZW9mZnNldCwgdHlwZTtcbiAgICB0cnkge1xuICAgICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICAgIHF1ZXJ5ID0gcmVxLnF1ZXJ5O1xuICAgICAgc3BhY2VfaWQgPSBxdWVyeS5zcGFjZV9pZDtcbiAgICAgIGZsb3dfaWQgPSBxdWVyeS5mbG93X2lkO1xuICAgICAgdHlwZSA9IHBhcnNlSW50KHF1ZXJ5LnR5cGUpO1xuICAgICAgdGltZXpvbmVvZmZzZXQgPSBwYXJzZUludChxdWVyeS50aW1lem9uZW9mZnNldCk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvd19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3cuZm9ybVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICdjdXJyZW50LmZpZWxkcyc6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmb3JtX25hbWUgPSBmb3JtLm5hbWU7XG4gICAgICBmaWVsZHMgPSBmb3JtLmN1cnJlbnQuZmllbGRzO1xuICAgICAgdGFibGVfZmllbGRzID0gbmV3IEFycmF5O1xuICAgICAgXy5lYWNoKGZvcm0uY3VycmVudC5maWVsZHMsIGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgICAgIGlmIChmaWVsZC50eXBlID09PSBcInRhYmxlXCIpIHtcbiAgICAgICAgICByZXR1cm4gdGFibGVfZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGluc190b194bHMgPSBuZXcgQXJyYXk7XG4gICAgICBzdGFydF9kYXRlID0gbnVsbDtcbiAgICAgIGVuZF9kYXRlID0gbnVsbDtcbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgaWYgKHR5cGUgPT09IDApIHtcbiAgICAgICAgc3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSk7XG4gICAgICAgIGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAgIGZsb3c6IGZsb3dfaWQsXG4gICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICRuZTogXCJkcmFmdFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWJtaXRfZGF0ZToge1xuICAgICAgICAgICAgJGd0ZTogc3RhcnRfZGF0ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAxKSB7XG4gICAgICAgIGxhc3RfbW9udGhfZGF0ZSA9IG5ldyBEYXRlKG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSkgLSAxMDAwICogNjAgKiA2MCAqIDI0KTtcbiAgICAgICAgc3RhcnRfZGF0ZSA9IG5ldyBEYXRlKGxhc3RfbW9udGhfZGF0ZS5nZXRGdWxsWWVhcigpLCBsYXN0X21vbnRoX2RhdGUuZ2V0TW9udGgoKSwgMSk7XG4gICAgICAgIGVuZF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKTtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICAgZmxvdzogZmxvd19pZCxcbiAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgJG5lOiBcImRyYWZ0XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgICRhbmQ6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3VibWl0X2RhdGU6IHtcbiAgICAgICAgICAgICAgICAkZ3RlOiBzdGFydF9kYXRlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgc3VibWl0X2RhdGU6IHtcbiAgICAgICAgICAgICAgICAkbHRlOiBlbmRfZGF0ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDIpIHtcbiAgICAgICAgc3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCAwLCAxKTtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICAgZmxvdzogZmxvd19pZCxcbiAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgJG5lOiBcImRyYWZ0XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN1Ym1pdF9kYXRlOiB7XG4gICAgICAgICAgICAkZ3RlOiBzdGFydF9kYXRlXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDMpIHtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICAgZmxvdzogZmxvd19pZCxcbiAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgJG5lOiBcImRyYWZ0XCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH1cbiAgICAgIGVqcyA9IHJlcXVpcmUoJ2VqcycpO1xuICAgICAgc3RyID0gQXNzZXRzLmdldFRleHQoJ3NlcnZlci9lanMvZXhwb3J0X2luc3RhbmNlcy5lanMnKTtcbiAgICAgIGVqc0xpbnQgPSByZXF1aXJlKCdlanMtbGludCcpO1xuICAgICAgZXJyb3Jfb2JqID0gZWpzTGludC5saW50KHN0ciwge30pO1xuICAgICAgaWYgKGVycm9yX29iaikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiPT09L2FwaS93b3JrZmxvdy9leHBvcnQ6XCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yX29iaik7XG4gICAgICB9XG4gICAgICB0ZW1wbGF0ZSA9IGVqcy5jb21waWxlKHN0cik7XG4gICAgICBsYW5nID0gJ2VuJztcbiAgICAgIGlmIChjdXJyZW50X3VzZXJfaW5mby5sb2NhbGUgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbGFuZyA9ICd6aC1DTic7XG4gICAgICB9XG4gICAgICByZXQgPSB0ZW1wbGF0ZSh7XG4gICAgICAgIGxhbmc6IGxhbmcsXG4gICAgICAgIHRpbWV6b25lb2Zmc2V0OiB0aW1lem9uZW9mZnNldCxcbiAgICAgICAgZm9ybV9uYW1lOiBmb3JtX25hbWUsXG4gICAgICAgIGZpZWxkczogZmllbGRzLFxuICAgICAgICB0YWJsZV9maWVsZHM6IHRhYmxlX2ZpZWxkcyxcbiAgICAgICAgaW5zX3RvX3hsczogaW5zX3RvX3hsc1xuICAgICAgfSk7XG4gICAgICBmaWxlTmFtZSA9IFwiU3RlZWRPU1dvcmtmbG93X1wiICsgbW9tZW50KCkuZm9ybWF0KCdZWVlZTU1EREhIbW0nKSArIFwiLnhsc1wiO1xuICAgICAgcmVzLnNldEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKTtcbiAgICAgIHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LURpc3Bvc2l0aW9uXCIsIFwiYXR0YWNobWVudDtmaWxlbmFtZT1cIiArIGVuY29kZVVSSShmaWxlTmFtZSkpO1xuICAgICAgcmV0dXJuIHJlcy5lbmQocmV0KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZSA9IGVycm9yO1xuICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgIHJldHVybiByZXMuZW5kKGUubWVzc2FnZSk7XG4gICAgfVxuICB9KTtcbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvdWYvc3BhY2UvY2hhbmdlc2V0JywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRxdWVyeSA9IHJlcS5xdWVyeVxuXHRcdGF1dGhfdG9rZW4gPSBkYi5hdXRoX3Rva2Vucy5maW5kT25lKHthdXRoX3Rva2VuOiBxdWVyeS5hdXRoX3Rva2VufSlcblxuXHRcdGlmIChub3QgYXV0aF90b2tlbikgb3IgKG5vdCBhdXRoX3Rva2VuLmVuYWJsZWQpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yIDQwMSwgJ1VuYXV0aG9yaXplZCdcblxuXHRcdHN5bmNfdG9rZW4gPSBxdWVyeVtcInN5bmNfdG9rZW5cIl1cblx0XHRmb3JtaWRzID0gcXVlcnlbXCJmb3JtaWRzXCJdICMg6YCX5Y+36ZqU5byA5a2X56ym5LiyXG5cdFx0aXNfYWRtaW4gPSBxdWVyeVtcImlzX2FkbWluXCJdXG5cblx0XHRkYXRhID0gdXVmbG93TWFuYWdlci5nZXRfU3BhY2VDaGFuZ2VTZXQoZm9ybWlkcywgaXNfYWRtaW4sIHN5bmNfdG9rZW4pXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0ZGF0YTogZGF0YVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9IiwiSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvdWYvc3BhY2UvY2hhbmdlc2V0JywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF1dGhfdG9rZW4sIGRhdGEsIGUsIGZvcm1pZHMsIGlzX2FkbWluLCBxdWVyeSwgc3luY190b2tlbjtcbiAgdHJ5IHtcbiAgICBxdWVyeSA9IHJlcS5xdWVyeTtcbiAgICBhdXRoX3Rva2VuID0gZGIuYXV0aF90b2tlbnMuZmluZE9uZSh7XG4gICAgICBhdXRoX3Rva2VuOiBxdWVyeS5hdXRoX3Rva2VuXG4gICAgfSk7XG4gICAgaWYgKCghYXV0aF90b2tlbikgfHwgKCFhdXRoX3Rva2VuLmVuYWJsZWQpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDQwMSwgJ1VuYXV0aG9yaXplZCcpO1xuICAgIH1cbiAgICBzeW5jX3Rva2VuID0gcXVlcnlbXCJzeW5jX3Rva2VuXCJdO1xuICAgIGZvcm1pZHMgPSBxdWVyeVtcImZvcm1pZHNcIl07XG4gICAgaXNfYWRtaW4gPSBxdWVyeVtcImlzX2FkbWluXCJdO1xuICAgIGRhdGEgPSB1dWZsb3dNYW5hZ2VyLmdldF9TcGFjZUNoYW5nZVNldChmb3JtaWRzLCBpc19hZG1pbiwgc3luY190b2tlbik7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmV0cmlldmUnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXG5cdFx0XHRyZXRyaWV2ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ3JldHJpZXZlX2NvbW1lbnQnXVxuXG5cdFx0XHQjIOmqjOivgWluc3RhbmNl5Li65a6h5qC45Lit54q25oCBXG5cdFx0XHQjIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpXG5cdFx0XHQjIOagoemqjOeUs+ivt+WNleaYr+W9k+WJjeeUqOaIt+W3suWuoeaguOi/h+eahOWNleWtkOaIluiAheW9k+WJjeeUqOaIt+aYr+aPkOS6pOS6uuaIlueUs+ivt+S6ulxuXHRcdFx0aWYgKG5vdCBpbnN0YW5jZS5vdXRib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgYW5kIChpbnN0YW5jZS5zdWJtaXR0ZXIgaXNudCBjdXJyZW50X3VzZXIgYW5kIGluc3RhbmNlLmFwcGxpY2FudCBpc250IGN1cnJlbnRfdXNlcilcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5b2T5YmN55So5oi35LiN56ym5ZCI5Y+W5Zue5p2h5Lu2JylcblxuXHRcdFx0cmV0cmlldmVfdHlwZSA9IFwiXCJcblxuXHRcdFx0dHJhY2VzID0gaW5zdGFuY2UudHJhY2VzXG5cblx0XHRcdCPojrflj5bmnIDmlrDnmoR0cmFjZe+8jCDljbPlj5blm57mraXpqqRcblx0XHRcdGxhc3RfdHJhY2UgPSBfLmxhc3QodHJhY2VzKVxuXHRcdFx0bGFzdF90cmFjZV9pZCA9IGxhc3RfdHJhY2UuX2lkXG5cdFx0XHRwcmV2aW91c190cmFjZV9pZCA9IGxhc3RfdHJhY2UucHJldmlvdXNfdHJhY2VfaWRzWzBdO1xuXHRcdFx0cHJldmlvdXNfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCAodCktPlxuXHRcdFx0XHRyZXR1cm4gdC5faWQgaXMgcHJldmlvdXNfdHJhY2VfaWRcblx0XHRcdClcblx0XHRcdHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQgPSBwcmV2aW91c190cmFjZS5zdGVwXG5cdFx0XHRwcmV2aW91c190cmFjZV9uYW1lID0gcHJldmlvdXNfdHJhY2UubmFtZVxuXHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXHRcdFx0cHJldmlvdXNfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZClcblx0XHRcdGlmIHByZXZpb3VzX3N0ZXAuc3RlcF90eXBlIGlzIFwiY291bnRlclNpZ25cIlxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7kuI3og73lj5blm54nKVxuXG5cdFx0XHQjIOWPluWbnuatpemqpOeahOWJjeS4gOS4quatpemqpOWkhOeQhuS6uuWUr+S4gO+8iOWNs+aOkumZpOaOieS8oOmYheWSjOi9rOWPkeeahGFwcHJvdmXlkI7vvIzliankvZnnmoRhcHByb3Zl5Y+q5pyJ5LiA5Liq77yJ5bm25LiU5piv5b2T5YmN55So5oi3XG5cdFx0XHRwcmV2aW91c190cmFjZV9hcHByb3ZlcyA9IF8uZmlsdGVyIHByZXZpb3VzX3RyYWNlLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0XHRyZXR1cm4gYS50eXBlIGlzbnQgJ2NjJyBhbmQgYS50eXBlIGlzbnQgJ2Rpc3RyaWJ1dGUnIGFuZCBhLnR5cGUgaXNudCAnZm9yd2FyZCcgYW5kIFsnYXBwcm92ZWQnLCdzdWJtaXR0ZWQnLCdyZWplY3RlZCddLmluY2x1ZGVzKGEuanVkZ2UpXG5cblx0XHRcdGlmIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzLmxlbmd0aCBpcyAxIGFuZCAocHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0udXNlciBpcyBjdXJyZW50X3VzZXIgb3IgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0uaGFuZGxlciBpcyBjdXJyZW50X3VzZXIpXG5cdFx0XHRcdHJldHJpZXZlX3R5cGUgPSAnbm9ybWFsJyAjIOeUs+ivt+WNleato+W4uOa1gei9rOeahOWPluWbnu+8jOWNs+mdnuS8oOmYheWPluWbnlxuXG5cdFx0XHRpID0gdHJhY2VzLmxlbmd0aFxuXHRcdFx0cmV0cmlldmVfYXBwcm92ZSA9IHt9XG5cdFx0XHR3aGlsZSBpID4gMFxuXHRcdFx0XHRfLmVhY2ggdHJhY2VzW2ktMV0uYXBwcm92ZXMsIChhKS0+XG5cdFx0XHRcdFx0aWYgYS50eXBlIGlzICdjYycgYW5kIGEuaXNfZmluaXNoZWQgaXMgdHJ1ZSBhbmQgYS51c2VyIGlzIGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfdHlwZSA9ICdjYydcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHJvdmUgPSBhXG5cblx0XHRcdFx0aWYgcmV0cmlldmVfdHlwZSBpcyAnY2MnXG5cdFx0XHRcdFx0YnJlYWtcblxuXHRcdFx0XHRpLS1cblxuXG5cdFx0XHRpZiByZXRyaWV2ZV90eXBlIGlzICdub3JtYWwnXG5cdFx0XHRcdCMg6I635Y+W5LiA5LiqZmxvd1xuXHRcdFx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXG5cdFx0XHRcdHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpXG5cdFx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2Vcblx0XHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWRcblx0XHRcdFx0b2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcblx0XHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0XHRfLmVhY2ggdHJhY2VzLCAodCktPlxuXHRcdFx0XHRcdGlmIHQuX2lkIGlzIGxhc3RfdHJhY2VfaWRcblx0XHRcdFx0XHRcdGlmIG5vdCB0LmFwcHJvdmVzXG5cdFx0XHRcdFx0XHRcdHQuYXBwcm92ZXMgPSBuZXcgQXJyYXlcblx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2UuYXBwcm92ZeiusOW9lVxuXHRcdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhcHByKS0+XG5cdFx0XHRcdFx0XHRcdGlmIGFwcHIuaXNfZmluaXNoZWQgPT0gZmFsc2UgYW5kIGFwcHIudHlwZSBpc250IFwiY2NcIlxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0XHRcdGFwcHIuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0XHRhcHByLnJlYWRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0XHRcdGFwcHIuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuaXNfcmVhZCA9IHRydWVcblx0XHRcdFx0XHRcdFx0XHRhcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuY29zdF90aW1lID0gYXBwci5maW5pc2hfZGF0ZSAtIGFwcHIuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0IyDlnKjlkIzkuIB0cmFjZeS4i+aPkuWFpeWPluWbnuaTjeS9nOiAheeahGFwcHJvdmXorrDlvZVcblx0XHRcdFx0XHRcdGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHRcdFx0XHRjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHsgZmllbGRzOiB7IG5hbWU6IDEsIGZ1bGxuYW1lOiAxIH0gfSlcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci50cmFjZSA9IHQuX2lkXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci51c2VyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvblxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmR1ZV9kYXRlID0gdC5kdWVfZGF0ZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5yZWFkX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuanVkZ2UgPSBcInJldHJpZXZlZFwiXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmlzX3JlYWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmRlc2NyaXB0aW9uID0gcmV0cmlldmVfY29tbWVudFxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuY29zdF90aW1lID0gcmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSAtIHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0dC5hcHByb3Zlcy5wdXNoKHJldHJpZXZlX2FwcHIpXG5cblx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2XorrDlvZVcblx0XHRcdFx0XHRcdHQuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHR0LmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHR0Lmp1ZGdlID0gXCJyZXRyaWV2ZWRcIlxuXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZV9pZF1cblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gcHJldmlvdXNfdHJhY2Vfc3RlcF9pZFxuXHRcdFx0XHRuZXdUcmFjZS5uYW1lID0gcHJldmlvdXNfdHJhY2VfbmFtZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZXZpb3VzX3N0ZXAudGltZW91dF9ob3Vycylcblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMgPSBbXVxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNlLmFwcHJvdmXorrDlvZVcblx0XHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkXG5cdFx0XHRcdG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZVxuXHRcdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXJcblxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlciwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdG5ld0FwcHJvdmUudXNlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcblxuXHRcdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdFx0IyDojrflj5ZuZXh0X3N0ZXBfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xuXHRcdFx0XHRvcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKVxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cblxuXHRcdFx0XHRuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0bmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlXG5cdFx0XHRcdG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlXG5cdFx0XHRcdG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3RcblxuXHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKVxuXG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSlcblx0XHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gW2N1cnJlbnRfdXNlcl1cblxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXG5cdFx0XHRcdHRyYWNlcy5wdXNoKG5ld1RyYWNlKVxuXHRcdFx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiXG5cdFx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlXG5cblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJldmlvdXNfdHJhY2VfbmFtZVxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBwcmV2aW91c19zdGVwLmxpbmVzKVxuXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9ian0pXG5cdFx0XHRcdGlmIHJcblx0XHRcdFx0XHQjIOe7meiiq+WIoOmZpOeahGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXG5cdFx0XHRcdFx0Xy5lYWNoKG9sZF9pbmJveF91c2VycywgKHVzZXJfaWQpLT5cblx0XHRcdFx0XHRcdGlmIHVzZXJfaWQgaXNudCBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXG5cdFx0XHRcdFx0KVxuXG5cdFx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JldHJpZXZlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpXG5cblx0XHRcdGVsc2UgaWYgcmV0cmlldmVfdHlwZSBpcyAnY2MnXG5cdFx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bm93ID0gbmV3IERhdGVcblx0XHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWRcblx0XHRcdFx0dGhlX3RyYWNlID0gXy5maW5kIHRyYWNlcywgKHQpLT5cblx0XHRcdFx0XHRyZXR1cm4gdC5faWQgaXMgcmV0cmlldmVfYXBwcm92ZS50cmFjZVxuXG5cdFx0XHRcdF8uZWFjaCB0aGVfdHJhY2UuYXBwcm92ZXMsIChhKS0+XG5cdFx0XHRcdFx0aWYgYS5faWQgaXMgcmV0cmlldmVfYXBwcm92ZS5faWRcblx0XHRcdFx0XHRcdGEuaXNfZmluaXNoZWQgPSBmYWxzZVxuXHRcdFx0XHRcdFx0YS5maW5pc2hfZGF0ZSA9IHVuZGVmaW5lZFxuXHRcdFx0XHRcdFx0YS5qdWRnZSA9IHVuZGVmaW5lZFxuXHRcdFx0XHRcdFx0YS5jb3N0X3RpbWUgPSB1bmRlZmluZWRcblxuXHRcdFx0XHRjY191c2VycyA9IGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRcdGNjX3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxuXG5cdFx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcblx0XHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2Vcblx0XHRcdFx0c2V0T2JqLmNjX3VzZXJzID0gY2NfdXNlcnNcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3ZlcyddID0gdGhlX3RyYWNlLmFwcHJvdmVzXG5cblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWQsICd0cmFjZXMuX2lkJzogcmV0cmlldmVfYXBwcm92ZS50cmFjZX0sIHskc2V0OiBzZXRPYmp9KVxuXHRcdFx0XHRpZiByXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgW2N1cnJlbnRfdXNlcl0pXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YToge2Vycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZXRyaWV2ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgY2NfdXNlcnMsIGZsb3csIGhhbmRsZXJfaW5mbywgaSwgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIGxhc3RfdHJhY2UsIGxhc3RfdHJhY2VfaWQsIG5ld0FwcHJvdmUsIG5ld1RyYWNlLCBub3csIG9sZF9pbmJveF91c2Vycywgb3JnX2luZm8sIHByZXZpb3VzX3N0ZXAsIHByZXZpb3VzX3RyYWNlLCBwcmV2aW91c190cmFjZV9hcHByb3ZlcywgcHJldmlvdXNfdHJhY2VfaWQsIHByZXZpb3VzX3RyYWNlX25hbWUsIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQsIHIsIHJldHJpZXZlX2FwcHJvdmUsIHJldHJpZXZlX2NvbW1lbnQsIHJldHJpZXZlX3R5cGUsIHNldE9iaiwgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHRoZV90cmFjZSwgdHJhY2VzO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIHJldHJpZXZlX2NvbW1lbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFsncmV0cmlldmVfY29tbWVudCddO1xuICAgICAgaWYgKCghaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpICYmIChpbnN0YW5jZS5zdWJtaXR0ZXIgIT09IGN1cnJlbnRfdXNlciAmJiBpbnN0YW5jZS5hcHBsaWNhbnQgIT09IGN1cnJlbnRfdXNlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5b2T5YmN55So5oi35LiN56ym5ZCI5Y+W5Zue5p2h5Lu2Jyk7XG4gICAgICB9XG4gICAgICByZXRyaWV2ZV90eXBlID0gXCJcIjtcbiAgICAgIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcbiAgICAgIGxhc3RfdHJhY2UgPSBfLmxhc3QodHJhY2VzKTtcbiAgICAgIGxhc3RfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLl9pZDtcbiAgICAgIHByZXZpb3VzX3RyYWNlX2lkID0gbGFzdF90cmFjZS5wcmV2aW91c190cmFjZV9pZHNbMF07XG4gICAgICBwcmV2aW91c190cmFjZSA9IF8uZmluZCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID09PSBwcmV2aW91c190cmFjZV9pZDtcbiAgICAgIH0pO1xuICAgICAgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCA9IHByZXZpb3VzX3RyYWNlLnN0ZXA7XG4gICAgICBwcmV2aW91c190cmFjZV9uYW1lID0gcHJldmlvdXNfdHJhY2UubmFtZTtcbiAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgICBwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKTtcbiAgICAgIGlmIChwcmV2aW91c19zdGVwLnN0ZXBfdHlwZSA9PT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuS4jeiDveWPluWbnicpO1xuICAgICAgfVxuICAgICAgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXMgPSBfLmZpbHRlcihwcmV2aW91c190cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICByZXR1cm4gYS50eXBlICE9PSAnY2MnICYmIGEudHlwZSAhPT0gJ2Rpc3RyaWJ1dGUnICYmIGEudHlwZSAhPT0gJ2ZvcndhcmQnICYmIFsnYXBwcm92ZWQnLCAnc3VibWl0dGVkJywgJ3JlamVjdGVkJ10uaW5jbHVkZXMoYS5qdWRnZSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChwcmV2aW91c190cmFjZV9hcHByb3Zlcy5sZW5ndGggPT09IDEgJiYgKHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLnVzZXIgPT09IGN1cnJlbnRfdXNlciB8fCBwcmV2aW91c190cmFjZV9hcHByb3Zlc1swXS5oYW5kbGVyID09PSBjdXJyZW50X3VzZXIpKSB7XG4gICAgICAgIHJldHJpZXZlX3R5cGUgPSAnbm9ybWFsJztcbiAgICAgIH1cbiAgICAgIGkgPSB0cmFjZXMubGVuZ3RoO1xuICAgICAgcmV0cmlldmVfYXBwcm92ZSA9IHt9O1xuICAgICAgd2hpbGUgKGkgPiAwKSB7XG4gICAgICAgIF8uZWFjaCh0cmFjZXNbaSAtIDFdLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgaWYgKGEudHlwZSA9PT0gJ2NjJyAmJiBhLmlzX2ZpbmlzaGVkID09PSB0cnVlICYmIGEudXNlciA9PT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICByZXRyaWV2ZV90eXBlID0gJ2NjJztcbiAgICAgICAgICAgIHJldHVybiByZXRyaWV2ZV9hcHByb3ZlID0gYTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmV0cmlldmVfdHlwZSA9PT0gJ2NjJykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXRyaWV2ZV90eXBlID09PSAnbm9ybWFsJykge1xuICAgICAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgICAgICBwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKTtcbiAgICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWQ7XG4gICAgICAgIG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgXy5lYWNoKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHZhciBjdXJyZW50X3NwYWNlX3VzZXIsIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24sIHJldHJpZXZlX2FwcHI7XG4gICAgICAgICAgaWYgKHQuX2lkID09PSBsYXN0X3RyYWNlX2lkKSB7XG4gICAgICAgICAgICBpZiAoIXQuYXBwcm92ZXMpIHtcbiAgICAgICAgICAgICAgdC5hcHByb3ZlcyA9IG5ldyBBcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcHByKSB7XG4gICAgICAgICAgICAgIGlmIChhcHByLmlzX2ZpbmlzaGVkID09PSBmYWxzZSAmJiBhcHByLnR5cGUgIT09IFwiY2NcIikge1xuICAgICAgICAgICAgICAgIGFwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgICBhcHByLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIGFwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIGFwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhcHByLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFwcHIuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFwcHIuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwci5jb3N0X3RpbWUgPSBhcHByLmZpbmlzaF9kYXRlIC0gYXBwci5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgICAgICAgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7XG4gICAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudHJhY2UgPSB0Ll9pZDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmR1ZV9kYXRlID0gdC5kdWVfZGF0ZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5qdWRnZSA9IFwicmV0cmlldmVkXCI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5kZXNjcmlwdGlvbiA9IHJldHJpZXZlX2NvbW1lbnQ7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmNvc3RfdGltZSA9IHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgLSByZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICB0LmFwcHJvdmVzLnB1c2gocmV0cmlldmVfYXBwcik7XG4gICAgICAgICAgICB0LmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHQuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXR1cm4gdC5qdWRnZSA9IFwicmV0cmlldmVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZV9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSBwcmV2aW91c190cmFjZV9zdGVwX2lkO1xuICAgICAgICBuZXdUcmFjZS5uYW1lID0gcHJldmlvdXNfdHJhY2VfbmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJldmlvdXNfc3RlcC50aW1lb3V0X2hvdXJzKTtcbiAgICAgICAgbmV3VHJhY2UuYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkO1xuICAgICAgICBuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIsIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgICAgb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcik7XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBuZXdUcmFjZS5kdWVfZGF0ZTtcbiAgICAgICAgbmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2U7XG4gICAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgbmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKTtcbiAgICAgICAgbmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gW2N1cnJlbnRfdXNlcl07XG4gICAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgICB0cmFjZXMucHVzaChuZXdUcmFjZSk7XG4gICAgICAgIHNldE9iai50cmFjZXMgPSB0cmFjZXM7XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgICAgICBzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJldmlvdXNfdHJhY2VfbmFtZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IHV1Zmxvd01hbmFnZXIuZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0KGZsb3cudGltZW91dF9hdXRvX3N1Ym1pdCwgcHJldmlvdXNfc3RlcC5saW5lcyk7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgICAgXy5lYWNoKG9sZF9pbmJveF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgICAgaWYgKHVzZXJfaWQgIT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JldHJpZXZlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJldHJpZXZlX3R5cGUgPT09ICdjYycpIHtcbiAgICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2UuX2lkO1xuICAgICAgICB0aGVfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgcmV0dXJuIHQuX2lkID09PSByZXRyaWV2ZV9hcHByb3ZlLnRyYWNlO1xuICAgICAgICB9KTtcbiAgICAgICAgXy5lYWNoKHRoZV90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgIGlmIChhLl9pZCA9PT0gcmV0cmlldmVfYXBwcm92ZS5faWQpIHtcbiAgICAgICAgICAgIGEuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGEuZmluaXNoX2RhdGUgPSB2b2lkIDA7XG4gICAgICAgICAgICBhLmp1ZGdlID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIGEuY29zdF90aW1lID0gdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNjX3VzZXJzID0gaW5zdGFuY2UuY2NfdXNlcnM7XG4gICAgICAgIGNjX3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgICAgICBzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0T2JqLmNjX3VzZXJzID0gY2NfdXNlcnM7XG4gICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMnXSA9IHRoZV90cmFjZS5hcHByb3ZlcztcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICAgICAgJ3RyYWNlcy5faWQnOiByZXRyaWV2ZV9hcHByb3ZlLnRyYWNlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JldHJpZXZlJywgY3VycmVudF91c2VyLCBbY3VycmVudF91c2VyXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2ZvcndhcmQnLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcblx0dHJ5IHtcblx0XHR2YXIgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuXG5cdFx0dmFyIGhhc2hEYXRhID0gcmVxLmJvZHk7XG5cdFx0dmFyIGluc3RhbmNlX2lkID0gaGFzaERhdGEuaW5zdGFuY2VfaWQ7XG5cdFx0dmFyIHNwYWNlX2lkID0gaGFzaERhdGEuc3BhY2VfaWQ7XG5cdFx0dmFyIGZsb3dfaWQgPSBoYXNoRGF0YS5mbG93X2lkO1xuXHRcdHZhciBoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQgPSBoYXNoRGF0YS5oYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQ7XG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gaGFzaERhdGEuZGVzY3JpcHRpb247XG5cdFx0dmFyIGlzRm9yd2FyZEF0dGFjaG1lbnRzID0gaGFzaERhdGEuaXNGb3J3YXJkQXR0YWNobWVudHM7XG5cdFx0dmFyIHNlbGVjdGVkVXNlcnMgPSBoYXNoRGF0YS5zZWxlY3RlZFVzZXJzO1xuXHRcdHZhciBhY3Rpb25fdHlwZSA9IGhhc2hEYXRhLmFjdGlvbl90eXBlO1xuXHRcdHZhciByZWxhdGVkID0gaGFzaERhdGEucmVsYXRlZDtcblx0XHR2YXIgZnJvbV9hcHByb3ZlX2lkID0gaGFzaERhdGEuZnJvbV9hcHByb3ZlX2lkO1xuXG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soc3BhY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soZmxvd19pZCwgU3RyaW5nKTtcblx0XHRjaGVjayhoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQsIEJvb2xlYW4pO1xuXHRcdGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpO1xuXHRcdGNoZWNrKGlzRm9yd2FyZEF0dGFjaG1lbnRzLCBCb29sZWFuKTtcblx0XHRjaGVjayhzZWxlY3RlZFVzZXJzLCBBcnJheSk7XG5cdFx0Y2hlY2soYWN0aW9uX3R5cGUsIE1hdGNoLk9uZU9mKCdmb3J3YXJkJywgJ2Rpc3RyaWJ1dGUnKSk7XG5cblx0XHRpZiAoYWN0aW9uX3R5cGUgPT0gXCJkaXN0cmlidXRlXCIpXG5cdFx0XHRjaGVjayhmcm9tX2FwcHJvdmVfaWQsIFN0cmluZyk7XG5cblx0XHR2YXIgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xuXHRcdHZhciBvbGRfc3BhY2VfaWQgPSBpbnMuc3BhY2U7XG5cblx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCk7XG5cblx0XHR2YXIgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZV9pZCk7XG5cblx0XHRpZiAoIWlucyB8fCAhZmxvdyB8fCAhc3BhY2UpIHtcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3BhcmFtcyBlcnJvciEnLCAncmVjb3JkIG5vdCBleGlzdHMhJyk7XG5cdFx0fVxuXG5cdFx0dmFyIGZvcndhcmRfdXNlcnMgPSBuZXcgQXJyYXk7XG5cdFx0aWYgKF8uaXNFbXB0eShzZWxlY3RlZFVzZXJzKSkge1xuXHRcdFx0Zm9yd2FyZF91c2VycyA9IFtjdXJyZW50X3VzZXJfaWRdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3J3YXJkX3VzZXJzID0gc2VsZWN0ZWRVc2Vycztcblx0XHR9XG5cblx0XHQvLyDmoKHpqozliIblj5Hlr7nosaHmmK/lkKbmnInliIblj5HmtYHnqIvnmoTmj5DkuqTmnYPpmZBcblx0XHR2YXIgbm9fcGVybWlzc2lvbl91c2VyX2lkcyA9IG5ldyBBcnJheSgpO1xuXHRcdF8uZWFjaChmb3J3YXJkX3VzZXJzLCBmdW5jdGlvbiAodWlkKSB7XG5cdFx0XHR2YXIgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd19pZCwgdWlkKTtcblx0XHRcdGlmICghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZGRcIikpIHtcblx0XHRcdFx0Ly8gdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLor6XnlLPor7fkurrmsqHmnInmj5DkuqTmraTnlLPor7fljZXnmoTmnYPpmZDjgIJcIilcblx0XHRcdFx0bm9fcGVybWlzc2lvbl91c2VyX2lkcy5wdXNoKHVpZCk7XG5cdFx0XHR9XG5cdFx0fSlcblx0XHRpZiAoIV8uaXNFbXB0eShub19wZXJtaXNzaW9uX3VzZXJfaWRzKSkge1xuXHRcdFx0dmFyIG5vX3Blcm1pc3Npb25fdXNlcnNfbmFtZSA9IG5ldyBBcnJheSgpO1xuXHRcdFx0ZGIudXNlcnMuZmluZCh7XG5cdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdCRpbjogbm9fcGVybWlzc2lvbl91c2VyX2lkc1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG5hbWU6IDFcblx0XHRcdFx0fVxuXHRcdFx0fSkuZm9yRWFjaChmdW5jdGlvbiAodSkge1xuXHRcdFx0XHRub19wZXJtaXNzaW9uX3VzZXJzX25hbWUucHVzaCh1Lm5hbWUpO1xuXHRcdFx0fSk7XG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdub19wZXJtaXNzaW9uJywgXCLor6Xmj5DkuqTkurrmsqHmnInmj5DkuqTmraTnlLPor7fljZXnmoTmnYPpmZDjgIJcIiwgbm9fcGVybWlzc2lvbl91c2Vyc19uYW1lLmpvaW4oJywnKSlcblx0XHR9XG5cblx0XHR2YXIgbmV3X2luc19pZHMgPSBuZXcgQXJyYXk7XG5cblx0XHR2YXIgY3VycmVudF90cmFjZSA9IG51bGw7XG5cdFx0aWYgKGFjdGlvbl90eXBlID09IFwiZGlzdHJpYnV0ZVwiKSB7XG5cdFx0XHRfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdFx0aWYgKCFjdXJyZW50X3RyYWNlKSB7XG5cdFx0XHRcdFx0Xy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uIChhKSB7XG5cdFx0XHRcdFx0XHRpZiAoIWN1cnJlbnRfdHJhY2UpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGEuX2lkID09IGZyb21fYXBwcm92ZV9pZClcblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50X3RyYWNlID0gdDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJyZW50X3RyYWNlID0gXy5sYXN0KGlucy50cmFjZXMpO1xuXHRcdH1cblx0XHR2YXIgY3VycmVudF90cmFjZV9pZCA9IGN1cnJlbnRfdHJhY2UuX2lkO1xuXHRcdHZhciBmb3J3YXJkX2FwcHJvdmVzID0gW107XG5cdFx0dmFyIGZyb21fdXNlcl9uYW1lID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRuYW1lOiAxXG5cdFx0XHR9XG5cdFx0fSkubmFtZVxuXHRcdHZhciBzZXRfb2JqID0gbmV3IE9iamVjdDtcblxuXHRcdC8vIOiuoeeul3ZhbHVlc1xuXHRcdHZhciBvbGRfdmFsdWVzID0gaW5zLnZhbHVlcyxcblx0XHRcdG5ld192YWx1ZXMgPSB7fTtcblx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZmxvdy5mb3JtKTtcblx0XHR2YXIgZmllbGRzID0gZm9ybS5jdXJyZW50LmZpZWxkcyB8fCBbXTtcblxuXHRcdHZhciBvbGRfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zLmZvcm0pO1xuXHRcdHZhciBvbGRfZm9ybV92ZXJzaW9uID0gaW5zLmZvcm1fdmVyc2lvbixcblx0XHRcdG9sZF9maWVsZHMgPSBbXSxcblx0XHRcdGNvbW1vbl9maWVsZHMgPSBbXTtcblxuXHRcdHZhciBzZWxlY3RfdG9faW5wdXRfZmllbGRzID0gW107XG5cblx0XHRpZiAob2xkX2Zvcm0uY3VycmVudC5faWQgPT0gb2xkX2Zvcm1fdmVyc2lvbikge1xuXHRcdFx0b2xkX2ZpZWxkcyA9IG9sZF9mb3JtLmN1cnJlbnQuZmllbGRzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAob2xkX2Zvcm0uaGlzdG9yeXMpIHtcblx0XHRcdFx0b2xkX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbiAoaCkge1xuXHRcdFx0XHRcdGlmIChoLl9pZCA9PSBvbGRfZm9ybV92ZXJzaW9uKVxuXHRcdFx0XHRcdFx0b2xkX2ZpZWxkcyA9IGguZmllbGRzO1xuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuXHRcdFx0dmFyIGV4aXN0c19maWVsZCA9IF8uZmluZChvbGRfZmllbGRzLCBmdW5jdGlvbiAoZikge1xuXHRcdFx0XHRyZXR1cm4gZi50eXBlID09IGZpZWxkLnR5cGUgJiYgZi5jb2RlID09IGZpZWxkLmNvZGU7XG5cdFx0XHR9KVxuXHRcdFx0aWYgKGV4aXN0c19maWVsZClcblx0XHRcdFx0Y29tbW9uX2ZpZWxkcy5wdXNoKGZpZWxkKTtcblx0XHRcdHZhciBzZWxlY3RfaW5wdXRfZmllbGQgPSBfLmZpbmQob2xkX2ZpZWxkcywgZnVuY3Rpb24gKGYpIHtcblx0XHRcdFx0cmV0dXJuIGYudHlwZSA9PSAnc2VsZWN0JyAmJiBmaWVsZC50eXBlID09ICdpbnB1dCcgJiYgZi5jb2RlID09IGZpZWxkLmNvZGU7XG5cdFx0XHR9KVxuXHRcdFx0aWYgKHNlbGVjdF9pbnB1dF9maWVsZClcblx0XHRcdFx0c2VsZWN0X3RvX2lucHV0X2ZpZWxkcy5wdXNoKHNlbGVjdF9pbnB1dF9maWVsZCk7XG5cdFx0fSlcblxuXHRcdHNlbGVjdF90b19pbnB1dF9maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcblx0XHRcdGlmIChvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdKSB7XG5cdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0gPSBvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRjb21tb25fZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG5cdFx0XHRpZiAoZmllbGQudHlwZSA9PSAnc2VjdGlvbicpIHtcblx0XHRcdFx0aWYgKGZpZWxkLmZpZWxkcykge1xuXHRcdFx0XHRcdGZpZWxkLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG5cdFx0XHRcdFx0XHQvLyDot6jlt6XkvZzljLrovazlj5HkuI3lpI3liLbpgInkurrpgInnu4Rcblx0XHRcdFx0XHRcdGlmIChbJ2dyb3VwJywgJ3VzZXInXS5pbmNsdWRlcyhmLnR5cGUpICYmIG9sZF9zcGFjZV9pZCAhPSBzcGFjZV9pZCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR2YXIga2V5ID0gZi5jb2RlO1xuXHRcdFx0XHRcdFx0dmFyIG9sZF92ID0gb2xkX3ZhbHVlc1trZXldO1xuXHRcdFx0XHRcdFx0aWYgKG9sZF92KSB7XG5cdFx0XHRcdFx0XHRcdC8vIOagoemqjCDljZXpgInvvIzlpJrpgInvvIzkuIvmi4nmoYYg5a2X5q615YC85piv5ZCm5Zyo5paw6KGo5Y2V5a+55bqU5a2X5q6155qE5Y+v6YCJ5YC86IyD5Zu05YaFXG5cdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ3NlbGVjdCcgfHwgZi50eXBlID09ICdyYWRpbycpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGYub3B0aW9ucy5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmluY2x1ZGVzKG9sZF92KSlcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ211bHRpU2VsZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZi5vcHRpb25zLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgb2xkX211bHRpU2VsZWN0ZWQgPSBvbGRfdi5zcGxpdCgnLCcpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBuZXdfbXVsdGlTZWxlY3RlZCA9IF8uaW50ZXJzZWN0aW9uKG9wdGlvbnMsIG9sZF9tdWx0aVNlbGVjdGVkKTtcblx0XHRcdFx0XHRcdFx0XHRvbGRfdiA9IG5ld19tdWx0aVNlbGVjdGVkLmpvaW4oJywnKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdG5ld192YWx1ZXNba2V5XSA9IG9sZF92O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PSAndGFibGUnKSB7XG5cdFx0XHRcdGlmICghXy5pc0VtcHR5KG9sZF92YWx1ZXNbZmllbGQuY29kZV0pKSB7XG5cdFx0XHRcdFx0bmV3X3ZhbHVlc1tmaWVsZC5jb2RlXSA9IG5ldyBBcnJheTtcblx0XHRcdFx0XHRvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdLmZvckVhY2goZnVuY3Rpb24gKG9sZF90YWJsZV9yb3dfdmFsdWVzKSB7XG5cdFx0XHRcdFx0XHR2YXIgbmV3X3RhYmxlX3Jvd192YWx1ZXMgPSB7fTtcblxuXHRcdFx0XHRcdFx0aWYgKCFfLmlzRW1wdHkoZmllbGQuZmllbGRzKSkge1xuXHRcdFx0XHRcdFx0XHRmaWVsZC5maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuXHRcdFx0XHRcdFx0XHRcdC8vIOi3qOW3peS9nOWMuui9rOWPkeS4jeWkjeWItumAieS6uumAiee7hFxuXHRcdFx0XHRcdFx0XHRcdGlmIChbJ2dyb3VwJywgJ3VzZXInXS5pbmNsdWRlcyhmLnR5cGUpICYmIG9sZF9zcGFjZV9pZCAhPSBzcGFjZV9pZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR2YXIga2V5ID0gZi5jb2RlO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBvbGRfdiA9IG9sZF90YWJsZV9yb3dfdmFsdWVzW2tleV07XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG9sZF92KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyDmoKHpqowg5Y2V6YCJ77yM5aSa6YCJ77yM5LiL5ouJ5qGGIOWtl+auteWAvOaYr+WQpuWcqOaWsOihqOWNleWvueW6lOWtl+auteeahOWPr+mAieWAvOiMg+WbtOWGhVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnc2VsZWN0JyB8fCBmLnR5cGUgPT0gJ3JhZGlvJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGYub3B0aW9ucy5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pbmNsdWRlcyhvbGRfdikpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdtdWx0aVNlbGVjdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgb2xkX211bHRpU2VsZWN0ZWQgPSBvbGRfdi5zcGxpdCgnLCcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgbmV3X211bHRpU2VsZWN0ZWQgPSBfLmludGVyc2VjdGlvbihvcHRpb25zLCBvbGRfbXVsdGlTZWxlY3RlZCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9sZF92ID0gbmV3X211bHRpU2VsZWN0ZWQuam9pbignLCcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdfdGFibGVfcm93X3ZhbHVlc1trZXldID0gb2xkX3Y7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoIV8uaXNFbXB0eShuZXdfdGFibGVfcm93X3ZhbHVlcykpIHtcblx0XHRcdFx0XHRcdFx0bmV3X3ZhbHVlc1tmaWVsZC5jb2RlXS5wdXNoKG5ld190YWJsZV9yb3dfdmFsdWVzKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyDot6jlt6XkvZzljLrovazlj5HkuI3lpI3liLbpgInkurrpgInnu4Rcblx0XHRcdFx0aWYgKFsnZ3JvdXAnLCAndXNlciddLmluY2x1ZGVzKGZpZWxkLnR5cGUpICYmIG9sZF9zcGFjZV9pZCAhPSBzcGFjZV9pZCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIga2V5ID0gZmllbGQuY29kZTtcblx0XHRcdFx0dmFyIG9sZF92ID0gb2xkX3ZhbHVlc1trZXldO1xuXHRcdFx0XHRpZiAob2xkX3YpIHtcblx0XHRcdFx0XHQvLyDmoKHpqowg5Y2V6YCJ77yM5aSa6YCJ77yM5LiL5ouJ5qGGIOWtl+auteWAvOaYr+WQpuWcqOaWsOihqOWNleWvueW6lOWtl+auteeahOWPr+mAieWAvOiMg+WbtOWGhVxuXHRcdFx0XHRcdGlmIChmaWVsZC50eXBlID09ICdzZWxlY3QnIHx8IGZpZWxkLnR5cGUgPT0gJ3JhZGlvJykge1xuXHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmaWVsZC5vcHRpb25zLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pbmNsdWRlcyhvbGRfdikpXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoZmllbGQudHlwZSA9PSAnbXVsdGlTZWxlY3QnKSB7XG5cdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGZpZWxkLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRcdFx0dmFyIG9sZF9tdWx0aVNlbGVjdGVkID0gb2xkX3Yuc3BsaXQoJywnKTtcblx0XHRcdFx0XHRcdHZhciBuZXdfbXVsdGlTZWxlY3RlZCA9IF8uaW50ZXJzZWN0aW9uKG9wdGlvbnMsIG9sZF9tdWx0aVNlbGVjdGVkKTtcblx0XHRcdFx0XHRcdG9sZF92ID0gbmV3X211bHRpU2VsZWN0ZWQuam9pbignLCcpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG5ld192YWx1ZXNba2V5XSA9IG9sZF92O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9KVxuXG5cdFx0Ly/lpoLmnpzmmK/liIblj5HvvIzliJl2YWx1ZeS4reeahHJlY29yZF9uZWVk44CBRk9ORFNJROS4jemcgOimgeWIhuWPkeWIsOaWsOeUs+ivt+WNleS4rVxuXHRcdGlmIChhY3Rpb25fdHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnKSB7XG5cdFx0XHRkZWxldGUgbmV3X3ZhbHVlcy5yZWNvcmRfbmVlZDtcblx0XHRcdGRlbGV0ZSBuZXdfdmFsdWVzLkZPTkRTSUQ7XG5cdFx0fVxuXG5cdFx0Ly8g6K6h566X55Sz6K+35Y2V5qCH6aKYXG5cdFx0dmFyIGluc3RhbmNlX25hbWUgPSBcIlwiO1xuXHRcdHZhciBuYW1lX2ZvcnVtbGEgPSBmb3JtLmN1cnJlbnQubmFtZV9mb3J1bWxhO1xuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcblx0XHRcdHZhciBpc2NyaXB0ID0gbmFtZV9mb3J1bWxhLnJlcGxhY2UoL1xcey9nLCBcIihuZXdfdmFsdWVzWydcIikucmVwbGFjZSgvXFx9L2csIFwiJ10gfHwgJycpXCIpO1xuXHRcdFx0dmFyIHJldiA9IGV2YWwoaXNjcmlwdCk7XG5cdFx0XHRpbnN0YW5jZV9uYW1lID0gcmV2IHx8IGZsb3cubmFtZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aW5zdGFuY2VfbmFtZSA9IGZsb3cubmFtZTtcblx0XHR9XG5cblx0XHQvLyBpbnN0YW5jZeS4reiusOW9leW9k+WJjeatpemqpOWQjeensCAjMTMxNFxuXHRcdHZhciBzdGFydF9zdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24gKHN0ZXApIHtcblx0XHRcdHJldHVybiBzdGVwLnN0ZXBfdHlwZSA9PSAnc3RhcnQnO1xuXHRcdH0pXG5cblx0XHQvLyDmlrDlu7rnlLPor7fljZXml7bvvIxpbnN0YW5jZXPorrDlvZXmtYHnqIvlkI3np7DjgIHmtYHnqIvliIbnsbvlkI3np7AgIzEzMTNcblx0XHR2YXIgY2F0ZWdvcnlfbmFtZSA9IFwiXCI7XG5cdFx0aWYgKGZvcm0uY2F0ZWdvcnkpIHtcblx0XHRcdHZhciBjYXRlZ29yeSA9IHV1Zmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcnkoZm9ybS5jYXRlZ29yeSk7XG5cdFx0XHRpZiAoY2F0ZWdvcnkpXG5cdFx0XHRcdGNhdGVnb3J5X25hbWUgPSBjYXRlZ29yeS5uYW1lO1xuXHRcdH1cblxuXHRcdF8uZWFjaChmb3J3YXJkX3VzZXJzLCBmdW5jdGlvbiAodXNlcl9pZCkge1xuXG5cdFx0XHR2YXIgdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh1c2VyX2lkKTtcblxuXHRcdFx0dmFyIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcblx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHR1c2VyOiB1c2VyX2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBzcGFjZV91c2VyX29yZ19pbmZvID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcblx0XHRcdFx0X2lkOiBzcGFjZV91c2VyLm9yZ2FuaXphdGlvblxuXHRcdFx0fSwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRcdGZ1bGxuYW1lOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHR2YXIgbm93ID0gbmV3IERhdGUoKTtcblx0XHRcdHZhciBpbnNfb2JqID0ge307XG5cblx0XHRcdHZhciBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJfaWQpO1xuXHRcdFx0dmFyIGhhbmRsZXJfaWQgPSB1c2VyX2lkO1xuXHRcdFx0dmFyIGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mbztcblx0XHRcdHZhciBoYW5kbGVyX3NwYWNlX3VzZXIgPSBzcGFjZV91c2VyO1xuXHRcdFx0dmFyIGhhbmRsZXJfb3JnX2luZm8gPSBzcGFjZV91c2VyX29yZ19pbmZvO1xuXHRcdFx0aWYgKGFnZW50KSB7XG5cdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudDtcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShhZ2VudCk7XG5cdFx0XHRcdGhhbmRsZXJfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBhZ2VudCk7XG5cdFx0XHRcdGhhbmRsZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oaGFuZGxlcl9zcGFjZV91c2VyKTtcblx0XHRcdH1cblx0XHRcdGluc19vYmouX2lkID0gZGIuaW5zdGFuY2VzLl9tYWtlTmV3SUQoKTtcblx0XHRcdGluc19vYmouc3BhY2UgPSBzcGFjZV9pZDtcblx0XHRcdGluc19vYmouZmxvdyA9IGZsb3dfaWQ7XG5cdFx0XHRpbnNfb2JqLmZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudC5faWQ7XG5cdFx0XHRpbnNfb2JqLmZvcm0gPSBmbG93LmZvcm07XG5cdFx0XHRpbnNfb2JqLmZvcm1fdmVyc2lvbiA9IGZsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG5cdFx0XHRpbnNfb2JqLm5hbWUgPSBpbnN0YW5jZV9uYW1lO1xuXHRcdFx0aW5zX29iai5zdWJtaXR0ZXIgPSBoYW5kbGVyX2lkO1xuXHRcdFx0aW5zX29iai5zdWJtaXR0ZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuXHRcdFx0aW5zX29iai5hcHBsaWNhbnQgPSB1c2VyX2lkO1xuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm8ubmFtZTtcblx0XHRcdGluc19vYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm8uZnVsbG5hbWU7XG5cdFx0XHRpbnNfb2JqLnN0YXRlID0gXCJkcmFmdFwiO1xuXHRcdFx0aW5zX29iai5jb2RlID0gXCJcIjtcblx0XHRcdGluc19vYmouaXNfYXJjaGl2ZWQgPSBmYWxzZTtcblx0XHRcdGluc19vYmouaXNfZGVsZXRlZCA9IGZhbHNlO1xuXHRcdFx0aW5zX29iai5jcmVhdGVkID0gbm93O1xuXHRcdFx0aW5zX29iai5jcmVhdGVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xuXHRcdFx0aW5zX29iai5tb2RpZmllZCA9IG5vdztcblx0XHRcdGluc19vYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJfaWQ7XG5cdFx0XHRpbnNfb2JqLmluYm94X3VzZXJzID0gW2hhbmRsZXJfaWRdO1xuXHRcdFx0aW5zX29iai52YWx1ZXMgPSBuZXdfdmFsdWVzO1xuXHRcdFx0aWYgKGFjdGlvbl90eXBlID09ICdkaXN0cmlidXRlJykge1xuXHRcdFx0XHQvLyDop6PlhrPlpJrmrKHliIblj5HnnIvkuI3liLDmraPmlofjgIHpmYTku7bpl67pophcblx0XHRcdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcblx0XHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSA9IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2U7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzLnB1c2goaW5zdGFuY2VfaWQpO1xuXG5cdFx0XHRcdGlmIChyZWxhdGVkKSB7XG5cdFx0XHRcdFx0aW5zX29iai5yZWxhdGVkX2luc3RhbmNlcyA9IFtpbnN0YW5jZV9pZF1cblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2UgaWYgKGFjdGlvbl90eXBlID09ICdmb3J3YXJkJykge1xuXHRcdFx0XHRpbnNfb2JqLmZvcndhcmRfZnJvbV9pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHR9XG5cblx0XHRcdC8vIOaWsOW7ulRyYWNlXG5cdFx0XHR2YXIgdHJhY2Vfb2JqID0ge307XG5cdFx0XHR0cmFjZV9vYmouX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcblx0XHRcdHRyYWNlX29iai5pbnN0YW5jZSA9IGluc19vYmouX2lkO1xuXHRcdFx0dHJhY2Vfb2JqLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG5cblx0XHRcdC8vIOW9k+WJjeacgOaWsOeJiGZsb3fkuK3lvIDlp4voioLngrnnmoRzdGVwX2lkXG5cdFx0XHR2YXIgc3RlcF9pZCwgc3RlcF9uYW1lLCBjYW5fZWRpdF9tYWluX2F0dGFjaCwgY2FuX2VkaXRfbm9ybWFsX2F0dGFjaDtcblx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGVwKSB7XG5cdFx0XHRcdGlmIChzdGVwLnN0ZXBfdHlwZSA9PSBcInN0YXJ0XCIpIHtcblx0XHRcdFx0XHRzdGVwX2lkID0gc3RlcC5faWQ7XG5cdFx0XHRcdFx0c3RlcF9uYW1lID0gc3RlcC5uYW1lO1xuXHRcdFx0XHRcdGNhbl9lZGl0X21haW5fYXR0YWNoID0gc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaDtcblx0XHRcdFx0XHRjYW5fZWRpdF9ub3JtYWxfYXR0YWNoID0gc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0dHJhY2Vfb2JqLnN0ZXAgPSBzdGVwX2lkO1xuXHRcdFx0dHJhY2Vfb2JqLnN0YXJ0X2RhdGUgPSBub3c7XG5cdFx0XHR0cmFjZV9vYmoubmFtZSA9IHN0ZXBfbmFtZTtcblxuXHRcdFx0Ly8g5paw5bu6QXBwcm92ZVxuXHRcdFx0dmFyIGFwcHJfb2JqID0ge307XG5cdFx0XHRhcHByX29iai5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuXHRcdFx0YXBwcl9vYmouaW5zdGFuY2UgPSBpbnNfb2JqLl9pZDtcblx0XHRcdGFwcHJfb2JqLnRyYWNlID0gdHJhY2Vfb2JqLl9pZDtcblx0XHRcdGFwcHJfb2JqLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG5cdFx0XHRhcHByX29iai51c2VyID0gdXNlcl9pZDtcblx0XHRcdGFwcHJfb2JqLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xuXHRcdFx0YXBwcl9vYmouaGFuZGxlciA9IGhhbmRsZXJfaWQ7XG5cdFx0XHRhcHByX29iai5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gaGFuZGxlcl9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBoYW5kbGVyX29yZ19pbmZvLm5hbWU7XG5cdFx0XHRhcHByX29iai5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGhhbmRsZXJfb3JnX2luZm8uZnVsbG5hbWU7XG5cdFx0XHRhcHByX29iai50eXBlID0gXCJkcmFmdFwiO1xuXHRcdFx0YXBwcl9vYmouc3RhcnRfZGF0ZSA9IG5vdztcblx0XHRcdGFwcHJfb2JqLnJlYWRfZGF0ZSA9IG5vdztcblx0XHRcdGFwcHJfb2JqLmlzX3JlYWQgPSBmYWxzZTtcblx0XHRcdGFwcHJfb2JqLmlzX2Vycm9yID0gZmFsc2U7XG5cblx0XHRcdGFwcHJfb2JqLnZhbHVlcyA9IG5ld192YWx1ZXM7XG5cblx0XHRcdGlmIChhZ2VudCkge1xuXHRcdFx0XHRhcHByX29iai5hZ2VudCA9IGFnZW50O1xuXHRcdFx0fVxuXG5cdFx0XHR0cmFjZV9vYmouYXBwcm92ZXMgPSBbYXBwcl9vYmpdO1xuXHRcdFx0aW5zX29iai50cmFjZXMgPSBbdHJhY2Vfb2JqXTtcblxuXHRcdFx0aWYgKGZsb3cuYXV0b19yZW1pbmQgPT0gdHJ1ZSlcblx0XHRcdFx0aW5zX29iai5hdXRvX3JlbWluZCA9IHRydWU7XG5cblx0XHRcdGluc19vYmouY3VycmVudF9zdGVwX25hbWUgPSBzdGFydF9zdGVwLm5hbWU7XG5cblx0XHRcdGluc19vYmouZmxvd19uYW1lID0gZmxvdy5uYW1lO1xuXHRcdFx0aWYgKGNhdGVnb3J5X25hbWUpXG5cdFx0XHRcdGluc19vYmouY2F0ZWdvcnlfbmFtZSA9IGNhdGVnb3J5Lm5hbWU7XG5cdFx0XHRcdGluc19vYmouY2F0ZWdvcnkgPSBjYXRlZ29yeS5faWQ7XG5cblx0XHRcdG5ld19pbnNfaWQgPSBkYi5pbnN0YW5jZXMuaW5zZXJ0KGluc19vYmopO1xuXG5cdFx0XHQvLyDlpI3liLbpmYTku7Zcblx0XHRcdHZhciBjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlcztcblxuXHRcdFx0Ly/lsIbljp/ooajljZXlhoXlrrnlrZjlgqjkuLrnrKzkuIDkuKrpmYTku7Zcblx0XHRcdGlmIChoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQpIHtcblx0XHRcdFx0Ly8gdHJ5IHtcblxuXHRcdFx0XHRpbnN0YW5jZUh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXJfaW5mbywgc3BhY2VfaWQsIGlucywge1xuXHRcdFx0XHRcdGFic29sdXRlOiB0cnVlXG5cdFx0XHRcdH0pXG5cdFx0XHRcdHZhciBpbnN0YW5jZUZpbGUgPSBuZXcgRlMuRmlsZSgpO1xuXHRcdFx0XHRpbnN0YW5jZUZpbGUuYXR0YWNoRGF0YShCdWZmZXIuZnJvbShpbnN0YW5jZUh0bWwsIFwidXRmLThcIiksIHtcblx0XHRcdFx0XHR0eXBlOiBcInRleHQvaHRtbFwiXG5cdFx0XHRcdH0sIGZ1bmN0aW9uIChlcnJvcikge1xuXHRcdFx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcihlcnJvci5lcnJvciwgZXJyb3IucmVhc29uKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpbnN0YW5jZUZpbGUubmFtZShpbnMubmFtZSArIFwiLmh0bWxcIik7XG5cdFx0XHRcdFx0aW5zdGFuY2VGaWxlLnNpemUoaW5zdGFuY2VIdG1sLmxlbmd0aCk7XG5cblx0XHRcdFx0XHR2YXIgbWV0YWRhdGEgPSB7XG5cdFx0XHRcdFx0XHRvd25lcjogdXNlcl9pZCxcblx0XHRcdFx0XHRcdG93bmVyX25hbWU6IHVzZXJfaW5mby5uYW1lLFxuXHRcdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHRcdFx0aW5zdGFuY2U6IG5ld19pbnNfaWQsXG5cdFx0XHRcdFx0XHRhcHByb3ZlOiBhcHByX29iai5faWQsXG5cdFx0XHRcdFx0XHRjdXJyZW50OiB0cnVlXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRpbnN0YW5jZUZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcblx0XHRcdFx0XHR2YXIgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KGluc3RhbmNlRmlsZSk7XG5cdFx0XHRcdFx0ZmlsZU9iai51cGRhdGUoe1xuXHRcdFx0XHRcdFx0JHNldDoge1xuXHRcdFx0XHRcdFx0XHQnbWV0YWRhdGEucGFyZW50JzogZmlsZU9iai5faWRcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9KVxuXG5cdFx0XHRcdC8vIH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gICAgIGNvbnNvbGUuZXJyb3IoZSk7XG5cdFx0XHRcdC8vIH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzRm9yd2FyZEF0dGFjaG1lbnRzICYmIGFjdGlvbl90eXBlID09ICdmb3J3YXJkJykge1xuXHRcdFx0XHR2YXIgZmlsZXMgPSBjb2xsZWN0aW9uLmZpbmQoe1xuXHRcdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlX2lkLFxuXHRcdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0ZmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuXHRcdFx0XHRcdC8vIOWIpOaWreaWsOeahOa1geeoi+W8gOWni+iKgueCueaYr+WQpuaciee8lui+keato+aWh+WSjOe8lui+kemZhOS7tuadg+mZkFxuXHRcdFx0XHRcdGlmIChmLm1ldGFkYXRhLm1haW4gPT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0aWYgKGNhbl9lZGl0X21haW5fYXR0YWNoICE9IHRydWUgJiYgY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCAhPSB0cnVlKVxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChjYW5fZWRpdF9ub3JtYWxfYXR0YWNoICE9IHRydWUpXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgbmV3RmlsZSA9IG5ldyBGUy5GaWxlKCk7XG5cdFx0XHRcdFx0bmV3RmlsZS5hdHRhY2hEYXRhKGYuY3JlYXRlUmVhZFN0cmVhbSgnaW5zdGFuY2VzJyksIHtcblx0XHRcdFx0XHRcdHR5cGU6IGYub3JpZ2luYWwudHlwZVxuXHRcdFx0XHRcdH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcihlcnIuZXJyb3IsIGVyci5yZWFzb24pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bmV3RmlsZS5uYW1lKGYubmFtZSgpKTtcblx0XHRcdFx0XHRcdG5ld0ZpbGUuc2l6ZShmLnNpemUoKSk7XG5cdFx0XHRcdFx0XHR2YXIgbWV0YWRhdGEgPSB7XG5cdFx0XHRcdFx0XHRcdG93bmVyOiB1c2VyX2lkLFxuXHRcdFx0XHRcdFx0XHRvd25lcl9uYW1lOiB1c2VyX2luZm8ubmFtZSxcblx0XHRcdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHRcdFx0XHRpbnN0YW5jZTogbmV3X2luc19pZCxcblx0XHRcdFx0XHRcdFx0YXBwcm92ZTogYXBwcl9vYmouX2lkLFxuXHRcdFx0XHRcdFx0XHRjdXJyZW50OiB0cnVlXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0aWYgKGYubWV0YWRhdGEubWFpbiA9PSB0cnVlICYmIGNhbl9lZGl0X21haW5fYXR0YWNoID09IHRydWUpIHtcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEubWFpbiA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG5cdFx0XHRcdFx0XHR2YXIgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KG5ld0ZpbGUpO1xuXHRcdFx0XHRcdFx0ZmlsZU9iai51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHQkc2V0OiB7XG5cdFx0XHRcdFx0XHRcdFx0J21ldGFkYXRhLnBhcmVudCc6IGZpbGVPYmouX2lkXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fSlcblxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXG5cdFx0XHQvLyDnu5nlvZPliY3nmoTnlLPor7fljZXlop7liqDovazlj5HorrDlvZVcblx0XHRcdHZhciBhcHByID0ge1xuXHRcdFx0XHQnX2lkJzogbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cixcblx0XHRcdFx0J2luc3RhbmNlJzogaW5zdGFuY2VfaWQsXG5cdFx0XHRcdCd0cmFjZSc6IGN1cnJlbnRfdHJhY2VfaWQsXG5cdFx0XHRcdCdpc19maW5pc2hlZCc6IHRydWUsXG5cdFx0XHRcdCd1c2VyJzogdXNlcl9pZCxcblx0XHRcdFx0J3VzZXJfbmFtZSc6IHVzZXJfaW5mby5uYW1lLFxuXHRcdFx0XHQnaGFuZGxlcic6IHVzZXJfaWQsXG5cdFx0XHRcdCdoYW5kbGVyX25hbWUnOiB1c2VyX2luZm8ubmFtZSxcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uJzogc3BhY2VfdXNlci5vcmdhbml6YXRpb24sXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lJzogc3BhY2VfdXNlcl9vcmdfaW5mby5uYW1lLFxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUnOiBzcGFjZV91c2VyX29yZ19pbmZvLmZ1bGxuYW1lLFxuXHRcdFx0XHQndHlwZSc6IGFjdGlvbl90eXBlLFxuXHRcdFx0XHQnc3RhcnRfZGF0ZSc6IG5ldyBEYXRlKCksXG5cdFx0XHRcdCdmaW5pc2hfZGF0ZSc6IG5ldyBEYXRlKCksXG5cdFx0XHRcdCdpc19yZWFkJzogZmFsc2UsXG5cdFx0XHRcdCdqdWRnZSc6ICdzdWJtaXR0ZWQnLFxuXHRcdFx0XHQnZnJvbV91c2VyJzogY3VycmVudF91c2VyX2lkLFxuXHRcdFx0XHQnZnJvbV91c2VyX25hbWUnOiBmcm9tX3VzZXJfbmFtZSxcblx0XHRcdFx0J2ZvcndhcmRfc3BhY2UnOiBzcGFjZV9pZCxcblx0XHRcdFx0J2ZvcndhcmRfaW5zdGFuY2UnOiBuZXdfaW5zX2lkLFxuXHRcdFx0XHQnZGVzY3JpcHRpb24nOiBkZXNjcmlwdGlvbixcblx0XHRcdFx0J2Zyb21fYXBwcm92ZV9pZCc6IGZyb21fYXBwcm92ZV9pZFxuXHRcdFx0fTtcblxuXHRcdFx0Zm9yd2FyZF9hcHByb3Zlcy5wdXNoKGFwcHIpO1xuXG5cdFx0XHRuZXdfaW5zX2lkcy5wdXNoKG5ld19pbnNfaWQpO1xuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuXHRcdH0pXG5cblx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xuXHRcdHZhciByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IGN1cnJlbnRfdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRfb2JqLFxuXHRcdFx0JGFkZFRvU2V0OiB7XG5cdFx0XHRcdCd0cmFjZXMuJC5hcHByb3Zlcyc6IHtcblx0XHRcdFx0XHQkZWFjaDogZm9yd2FyZF9hcHByb3Zlc1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRpZiAocikge1xuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdFx0aWYgKGEuX2lkID09IGZyb21fYXBwcm92ZV9pZCkge1xuXHRcdFx0XHRcdHZhciB1cGRhdGVfcmVhZCA9IHt9O1xuXHRcdFx0XHRcdHVwZGF0ZV9yZWFkW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcblx0XHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBjdXJyZW50X3RyYWNlX2lkXG5cdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0JHNldDogdXBkYXRlX3JlYWRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblxuXHRcdH1cblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHt9XG5cdFx0fSlcblx0fSBjYXRjaCAoZSkge1xuXHRcdGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGVycm9yczogW2VdXG5cdFx0XHR9XG5cdFx0fSlcblx0fVxuXG59KSIsIkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS93b3JrZmxvdy9pbnN0YW5jZS86aW5zdGFuY2VJZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxLCByZXMpXG5cdFx0Y3VycmVudF91c2VyX2lkID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRpbnNJZCA9IHJlcS5wYXJhbXMuaW5zdGFuY2VJZFxuXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHsgZmllbGRzOiB7IHNwYWNlOiAxLCBmbG93OiAxLCBzdGF0ZTogMSwgaW5ib3hfdXNlcnM6IDEsIGNjX3VzZXJzOiAxLCBvdXRib3hfdXNlcnM6IDEsIHN1Ym1pdHRlcjogMSwgYXBwbGljYW50OiAxIH0gfSlcblxuXHRcdGlmIG5vdCBpbnNcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlSWQgaXMgd3Jvbmcgb3IgaW5zdGFuY2Ugbm90IGV4aXN0cy4nKVxuXG5cdFx0c3BhY2VJZCA9IGlucy5zcGFjZVxuXHRcdGZsb3dJZCA9IGlucy5mbG93XG5cblx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlSWQsIHVzZXI6IGN1cnJlbnRfdXNlcl9pZCB9KS5jb3VudCgpIGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ3VzZXIgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlLicpXG5cblx0XHRib3ggPSAnJ1xuXG5cdFx0aWYgKGlucy5pbmJveF91c2Vycz8uaW5jbHVkZXMgY3VycmVudF91c2VyX2lkKSBvciAoaW5zLmNjX3VzZXJzPy5pbmNsdWRlcyBjdXJyZW50X3VzZXJfaWQpXG5cdFx0XHRib3ggPSAnaW5ib3gnXG5cdFx0ZWxzZSBpZiBpbnMub3V0Ym94X3VzZXJzPy5pbmNsdWRlcyBjdXJyZW50X3VzZXJfaWRcblx0XHRcdGJveCA9ICdvdXRib3gnXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ2RyYWZ0JyBhbmQgaW5zLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXJfaWRcblx0XHRcdGJveCA9ICdkcmFmdCdcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAncGVuZGluZycgYW5kIChpbnMuc3VibWl0dGVyIGlzIGN1cnJlbnRfdXNlcl9pZCBvciBpbnMuYXBwbGljYW50IGlzIGN1cnJlbnRfdXNlcl9pZClcblx0XHRcdGJveCA9ICdwZW5kaW5nJ1xuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdjb21wbGV0ZWQnIGFuZCBpbnMuc3VibWl0dGVyIGlzIGN1cnJlbnRfdXNlcl9pZFxuXHRcdFx0Ym94ID0gJ2NvbXBsZXRlZCdcblx0XHRlbHNlXG5cdFx0XHQjIOmqjOivgWxvZ2luIHVzZXJfaWTlr7nor6XmtYHnqIvmnInnrqHnkIbnlLPor7fljZXnmoTmnYPpmZBcblx0XHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dJZCwgY3VycmVudF91c2VyX2lkKVxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkLCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxuXHRcdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSlcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcIm5vIHBlcm1pc3Npb24uXCIpXG5cdFx0XHRib3ggPSAnbW9uaXRvcidcblxuXHRcdHJlZGlyZWN0VG8gPSBNZXRlb3IuYWJzb2x1dGVVcmwgXCJ3b3JrZmxvdy9zcGFjZS8je3NwYWNlSWR9LyN7Ym94fS8je2luc0lkfVwiXG5cblx0XHRyZXMuc2V0SGVhZGVyIFwiTG9jYXRpb25cIiwgcmVkaXJlY3RUb1xuXHRcdHJlcy53cml0ZUhlYWQgMzAyXG5cdFx0cmVzLmVuZCgpXG5cdFx0cmV0dXJuXG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS93b3JrZmxvdy9pbnN0YW5jZS86aW5zdGFuY2VJZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBib3gsIGN1cnJlbnRfdXNlcl9pZCwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3dJZCwgaW5zLCBpbnNJZCwgcGVybWlzc2lvbnMsIHJlZGlyZWN0VG8sIHJlZiwgcmVmMSwgcmVmMiwgc3BhY2UsIHNwYWNlSWQ7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxLCByZXMpO1xuICAgIGN1cnJlbnRfdXNlcl9pZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBpbnNJZCA9IHJlcS5wYXJhbXMuaW5zdGFuY2VJZDtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBmbG93OiAxLFxuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaW5ib3hfdXNlcnM6IDEsXG4gICAgICAgIGNjX3VzZXJzOiAxLFxuICAgICAgICBvdXRib3hfdXNlcnM6IDEsXG4gICAgICAgIHN1Ym1pdHRlcjogMSxcbiAgICAgICAgYXBwbGljYW50OiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlSWQgaXMgd3Jvbmcgb3IgaW5zdGFuY2Ugbm90IGV4aXN0cy4nKTtcbiAgICB9XG4gICAgc3BhY2VJZCA9IGlucy5zcGFjZTtcbiAgICBmbG93SWQgPSBpbnMuZmxvdztcbiAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgIHVzZXI6IGN1cnJlbnRfdXNlcl9pZFxuICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ3VzZXIgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlLicpO1xuICAgIH1cbiAgICBib3ggPSAnJztcbiAgICBpZiAoKChyZWYgPSBpbnMuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSA6IHZvaWQgMCkgfHwgKChyZWYxID0gaW5zLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmMS5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpIDogdm9pZCAwKSkge1xuICAgICAgYm94ID0gJ2luYm94JztcbiAgICB9IGVsc2UgaWYgKChyZWYyID0gaW5zLm91dGJveF91c2VycykgIT0gbnVsbCA/IHJlZjIuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSA6IHZvaWQgMCkge1xuICAgICAgYm94ID0gJ291dGJveCc7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdkcmFmdCcgJiYgaW5zLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyX2lkKSB7XG4gICAgICBib3ggPSAnZHJhZnQnO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAncGVuZGluZycgJiYgKGlucy5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlcl9pZCB8fCBpbnMuYXBwbGljYW50ID09PSBjdXJyZW50X3VzZXJfaWQpKSB7XG4gICAgICBib3ggPSAncGVuZGluZyc7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdjb21wbGV0ZWQnICYmIGlucy5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlcl9pZCkge1xuICAgICAgYm94ID0gJ2NvbXBsZXRlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dJZCwgY3VycmVudF91c2VyX2lkKTtcbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZCwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBhZG1pbnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwibm8gcGVybWlzc2lvbi5cIik7XG4gICAgICB9XG4gICAgICBib3ggPSAnbW9uaXRvcic7XG4gICAgfVxuICAgIHJlZGlyZWN0VG8gPSBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIHNwYWNlSWQgKyBcIi9cIiArIGJveCArIFwiL1wiICsgaW5zSWQpO1xuICAgIHJlcy5zZXRIZWFkZXIoXCJMb2NhdGlvblwiLCByZWRpcmVjdFRvKTtcbiAgICByZXMud3JpdGVIZWFkKDMwMik7XG4gICAgcmVzLmVuZCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nIOiOt+WPluW+heWKnuaWh+S7tlxuXG5AYXBpRGVzY3JpcHRpb24g6I635Y+W5b2T5YmN55So5oi355qE5b6F5Yqe5LqL6aG55YiX6KGoXG5cbkBhcGlOYW1lIGdldEluYm94XG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuXHR7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcblx0e1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwiaWRcIjogXCJnN3dva1hOa1I5eXhIdkE0RFwiLFxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlofmtYHnqItcIixcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh+a1geeoiyAxXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogbnVsbCxcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDctMjVUMDY6MzY6NDguNDkyWlwiLFxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxuXHRcdFx0XHRcImlzX3JlYWRcIjogZmFsc2UsXG5cdFx0XHRcdFwidmFsdWVzXCI6IHt9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcImlkXCI6IFwiV3FLU3JXUW95d2dKYU1wOWtcIixcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjBaXCIsXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paHXFxuXCIsXG5cdFx0XHRcdFwic3BhY2VfbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlodcXG4gMVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IFwi5q635Lqu6L6JXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA2LTI3VDEwOjI2OjE5LjQ2OFpcIixcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcblx0XHRcdFx0XCJzcGFjZV9pZFwiOiBcImtmRHNNdjdnQmV3bUdYR0VMXCIsXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMVpcIixcblx0XHRcdFx0XCJpc19yZWFkXCI6IHRydWUsXG5cdFx0XHRcdFwidmFsdWVzXCI6IHt9XG5cdFx0XHR9XG5cdFx0XVxuXHR9XG4jIyNcbkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVyblxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddIHx8IHJlcS5xdWVyeT8uc3BhY2VJZFxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHNwYWNlX2lkJylcblxuXHRcdHVzZXJfaWQgPSByZXEudXNlcklkXG5cblx0XHRpZiAhdXNlcl9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnTm90IGxvZ2dlZCBpbicpXG5cblx0XHRpZiBkYi51c2Vycy5maW5kKHsgX2lkOiB1c2VyX2lkIH0pLmNvdW50KCkgaXMgMFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0bGltaXQgPSByZXEucXVlcnk/LmxpbWl0IHx8IDUwMFxuXG5cdFx0bGltaXQgPSBwYXJzZUludChsaW1pdClcblxuXHRcdHVzZXJuYW1lID0gcmVxLnF1ZXJ5Py51c2VybmFtZVxuXG5cdFx0dXNlcmlkID0gcmVxLnF1ZXJ5Py51c2VyaWRcblxuXHRcdGF0dGFjaCA9IHJlcS5xdWVyeT8uYXR0YWNoXG5cblx0XHR3b3JrZmxvd19jYXRlZ29yaWVzID0gcmVxLnF1ZXJ5Py53b3JrZmxvd19jYXRlZ29yaWVzXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXG5cdFx0IyDlpoLmnpzlvZPliY3nlKjmiLfmmK/lt6XkvZzljLrnrqHnkIblkZjvvIzliJnpgJrov4fmn6XnnIt1cmzkuIrmmK/lkKbmnIl1c2VybmFtZVxcdXNlcmlkIO+8jFxuXHRcdCMg5aaC5p6c5pyJ77yM5YiZ6L+U5ZuedXNlcm5hbWVcXHVzZXJpZOWvueW6lOeahOeUqOaIt++8jOWQpuWImei/lOWbnuW9k+WJjeeUqOaIt+W+heWKnuOAglxuXHRcdCMgdXNlcm5hbWVcXHVzZXJpZOmDveWtmOWcqOaXtu+8jHVzZXJpZOS8mOWFiFxuXHRcdHNwZWNpYWxfdXNlcl9pZFxuXHRcdGlmIHNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VyX2lkKVxuXHRcdFx0aWYgdXNlcmlkXG5cdFx0XHRcdGlmIGRiLnVzZXJzLmZpbmQoeyBfaWQ6IHVzZXJpZCB9KS5jb3VudCgpIDwgMVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJjYW4gbm90IGZpbmQgdXNlciBieSB1c2VyaWQ6ICN7dXNlcmlkfVwiKVxuXG5cdFx0XHRcdHNwZWNpYWxfdXNlcl9pZCA9IHVzZXJpZFxuXHRcdFx0ZWxzZSBpZiB1c2VybmFtZVxuXHRcdFx0XHR1ID0gZGIudXNlcnMuZmluZE9uZSh7IHVzZXJuYW1lOiB1c2VybmFtZSB9LCB7IGZpZWxkczogeyBfaWQ6IDEgfSB9KVxuXHRcdFx0XHRpZiBfLmlzRW1wdHkodSlcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcm5hbWU6ICN7dXNlcm5hbWV9XCIpXG5cblx0XHRcdFx0c3BlY2lhbF91c2VyX2lkID0gdS5faWRcblxuXHRcdHJlc3VsdF9pbnN0YW5jZXMgPSBuZXcgQXJyYXlcblxuXHRcdGlzX3JlYWQgPSBmYWxzZVxuXHRcdHN0YXJ0X2RhdGUgPSAnJ1xuXHRcdHVpZCA9IHVzZXJfaWRcblx0XHRxdWVyeSA9IHtcblx0XHRcdCRvcjogW3sgaW5ib3hfdXNlcnM6IHVzZXJfaWQgfSwgeyBjY191c2VyczogdXNlcl9pZCB9XVxuXHRcdH1cblxuXHRcdGlmIHNwZWNpYWxfdXNlcl9pZFxuXHRcdFx0dWlkID0gc3BlY2lhbF91c2VyX2lkXG5cdFx0XHRxdWVyeSA9IHtcblx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHQkb3I6IFt7IGluYm94X3VzZXJzOiBzcGVjaWFsX3VzZXJfaWQgfSwgeyBjY191c2Vyczogc3BlY2lhbF91c2VyX2lkIH1dXG5cdFx0XHR9XG5cblx0XHRpZiB3b3JrZmxvd19jYXRlZ29yaWVzXG5cdFx0XHRxdWVyeS5jYXRlZ29yeSA9IHsgJGluOiB3b3JrZmxvd19jYXRlZ29yaWVzLnNwbGl0KCcsJykgfVxuXG5cdFx0c3BhY2VfbmFtZXMgPSB7fVxuXHRcdHNwYWNlX25hbWVzW3NwYWNlLl9pZF0gPSBzcGFjZS5uYW1lXG5cblx0XHRpZiBsaW1pdCA+IDBcblx0XHRcdGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7IHNvcnQ6IHsgbW9kaWZpZWQ6IC0xIH0sIGxpbWl0OiBsaW1pdCB9KS5mb3JFYWNoIChpKSAtPlxuXG5cdFx0XHRcdGlmIGkuaW5ib3hfdXNlcnM/LmluY2x1ZGVzKHVpZClcblx0XHRcdFx0XHRfLmVhY2ggaS50cmFjZXMsICh0KSAtPlxuXHRcdFx0XHRcdFx0aWYgdC5pc19maW5pc2hlZCBpcyBmYWxzZVxuXHRcdFx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGEpIC0+XG5cdFx0XHRcdFx0XHRcdFx0aWYgYS51c2VyIGlzIHVpZCBhbmQgYS50eXBlIGlzbnQgJ2NjJyBhbmQgbm90IGEuaXNfZmluaXNoZWRcblx0XHRcdFx0XHRcdFx0XHRcdGlzX3JlYWQgPSBhLmlzX3JlYWRcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGVcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdF8uZWFjaCBpLnRyYWNlcywgKHQpIC0+XG5cdFx0XHRcdFx0XHRpZiBub3Qgc3RhcnRfZGF0ZSBhbmQgdC5hcHByb3Zlc1xuXHRcdFx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGEpIC0+XG5cdFx0XHRcdFx0XHRcdFx0aWYgbm90IHN0YXJ0X2RhdGUgYW5kIGEudXNlciBpcyB1aWQgYW5kIGEudHlwZSBpcyAnY2MnIGFuZCBub3QgYS5pc19maW5pc2hlZFxuXHRcdFx0XHRcdFx0XHRcdFx0aXNfcmVhZCA9IGEuaXNfcmVhZFxuXHRcdFx0XHRcdFx0XHRcdFx0c3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZVxuXG5cdFx0XHRcdGlmIG5vdCBzcGFjZV9uYW1lc1tpLnNwYWNlXVxuXHRcdFx0XHRcdHNwYWNlX25hbWVzW2kuc3BhY2VdID0gZGIuc3BhY2VzLmZpbmRPbmUoaS5zcGFjZSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pPy5uYW1lXG5cblx0XHRcdFx0aCA9IG5ldyBPYmplY3Rcblx0XHRcdFx0aFtcImlkXCJdID0gaVtcIl9pZFwiXVxuXHRcdFx0XHRoW1wic3RhcnRfZGF0ZVwiXSA9IHN0YXJ0X2RhdGVcblx0XHRcdFx0aFtcImZsb3dfbmFtZVwiXSA9IGkuZmxvd19uYW1lXG5cdFx0XHRcdGhbXCJzcGFjZV9uYW1lXCJdID0gc3BhY2VfbmFtZXNbaS5zcGFjZV1cblx0XHRcdFx0aFtcIm5hbWVcIl0gPSBpW1wibmFtZVwiXVxuXHRcdFx0XHRoW1wiYXBwbGljYW50X25hbWVcIl0gPSBpW1wiYXBwbGljYW50X25hbWVcIl1cblx0XHRcdFx0aFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl1cblx0XHRcdFx0aFtcInN1Ym1pdF9kYXRlXCJdID0gaVtcInN1Ym1pdF9kYXRlXCJdXG5cdFx0XHRcdGhbXCJzdGVwX25hbWVcIl0gPSBpLmN1cnJlbnRfc3RlcF9uYW1lXG5cdFx0XHRcdGhbXCJzcGFjZV9pZFwiXSA9IGkuc3BhY2Vcblx0XHRcdFx0aFtcIm1vZGlmaWVkXCJdID0gaVtcIm1vZGlmaWVkXCJdXG5cdFx0XHRcdGhbXCJpc19yZWFkXCJdID0gaXNfcmVhZFxuXHRcdFx0XHRoW1widmFsdWVzXCJdID0gaVtcInZhbHVlc1wiXVxuXG5cdFx0XHRcdGlmIGF0dGFjaCBpcyAndHJ1ZSdcblx0XHRcdFx0XHRoLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsgJ21ldGFkYXRhLmluc3RhbmNlJzogaS5faWQsICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHsgJG5lOiB0cnVlIH0gfSwgeyBmaWVsZHM6IHsgY29waWVzOiAwIH0gfSkuZmV0Y2goKVxuXG5cdFx0XHRcdHJlc3VsdF9pbnN0YW5jZXMucHVzaChoKVxuXG5cdFx0bm9fbGltaXRfY291bnQgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSkuY291bnQoKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdF9pbnN0YW5jZXMsIGNvdW50OiBub19saW1pdF9jb3VudCB9XG5cdFx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLnJlYXNvbiB9XSB9XG5cdFx0fVxuXG4iLCJcbi8qXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nIOiOt+WPluW+heWKnuaWh+S7tlxuXG5AYXBpRGVzY3JpcHRpb24g6I635Y+W5b2T5YmN55So5oi355qE5b6F5Yqe5LqL6aG55YiX6KGoXG5cbkBhcGlOYW1lIGdldEluYm94XG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuXHR7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcblx0e1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwiaWRcIjogXCJnN3dva1hOa1I5eXhIdkE0RFwiLFxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlofmtYHnqItcIixcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh+a1geeoiyAxXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogbnVsbCxcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDctMjVUMDY6MzY6NDguNDkyWlwiLFxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxuXHRcdFx0XHRcImlzX3JlYWRcIjogZmFsc2UsXG5cdFx0XHRcdFwidmFsdWVzXCI6IHt9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcImlkXCI6IFwiV3FLU3JXUW95d2dKYU1wOWtcIixcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjBaXCIsXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paHXFxuXCIsXG5cdFx0XHRcdFwic3BhY2VfbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlodcXG4gMVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IFwi5q635Lqu6L6JXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA2LTI3VDEwOjI2OjE5LjQ2OFpcIixcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcblx0XHRcdFx0XCJzcGFjZV9pZFwiOiBcImtmRHNNdjdnQmV3bUdYR0VMXCIsXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMVpcIixcblx0XHRcdFx0XCJpc19yZWFkXCI6IHRydWUsXG5cdFx0XHRcdFwidmFsdWVzXCI6IHt9XG5cdFx0XHR9XG5cdFx0XVxuXHR9XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXR0YWNoLCBlLCBpc19yZWFkLCBsaW1pdCwgbm9fbGltaXRfY291bnQsIHF1ZXJ5LCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlc3VsdF9pbnN0YW5jZXMsIHNwYWNlLCBzcGFjZV9pZCwgc3BhY2VfbmFtZXMsIHNwZWNpYWxfdXNlcl9pZCwgc3RhcnRfZGF0ZSwgdSwgdWlkLCB1c2VyX2lkLCB1c2VyaWQsIHVzZXJuYW1lLCB3b3JrZmxvd19jYXRlZ29yaWVzO1xuICB0cnkge1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ10gfHwgKChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuc3BhY2VJZCA6IHZvaWQgMCk7XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBzcGFjZV9pZCcpO1xuICAgIH1cbiAgICB1c2VyX2lkID0gcmVxLnVzZXJJZDtcbiAgICBpZiAoIXVzZXJfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ05vdCBsb2dnZWQgaW4nKTtcbiAgICB9XG4gICAgaWYgKGRiLnVzZXJzLmZpbmQoe1xuICAgICAgX2lkOiB1c2VyX2lkXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgbGltaXQgPSAoKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmxpbWl0IDogdm9pZCAwKSB8fCA1MDA7XG4gICAgbGltaXQgPSBwYXJzZUludChsaW1pdCk7XG4gICAgdXNlcm5hbWUgPSAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIudXNlcm5hbWUgOiB2b2lkIDA7XG4gICAgdXNlcmlkID0gKHJlZjMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYzLnVzZXJpZCA6IHZvaWQgMDtcbiAgICBhdHRhY2ggPSAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQuYXR0YWNoIDogdm9pZCAwO1xuICAgIHdvcmtmbG93X2NhdGVnb3JpZXMgPSAocmVmNSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjUud29ya2Zsb3dfY2F0ZWdvcmllcyA6IHZvaWQgMDtcbiAgICBzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHNwZWNpYWxfdXNlcl9pZDtcbiAgICBpZiAoc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICBpZiAodXNlcmlkKSB7XG4gICAgICAgIGlmIChkYi51c2Vycy5maW5kKHtcbiAgICAgICAgICBfaWQ6IHVzZXJpZFxuICAgICAgICB9KS5jb3VudCgpIDwgMSkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJjYW4gbm90IGZpbmQgdXNlciBieSB1c2VyaWQ6IFwiICsgdXNlcmlkKTtcbiAgICAgICAgfVxuICAgICAgICBzcGVjaWFsX3VzZXJfaWQgPSB1c2VyaWQ7XG4gICAgICB9IGVsc2UgaWYgKHVzZXJuYW1lKSB7XG4gICAgICAgIHUgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgX2lkOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKF8uaXNFbXB0eSh1KSkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJjYW4gbm90IGZpbmQgdXNlciBieSB1c2VybmFtZTogXCIgKyB1c2VybmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3BlY2lhbF91c2VyX2lkID0gdS5faWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdF9pbnN0YW5jZXMgPSBuZXcgQXJyYXk7XG4gICAgaXNfcmVhZCA9IGZhbHNlO1xuICAgIHN0YXJ0X2RhdGUgPSAnJztcbiAgICB1aWQgPSB1c2VyX2lkO1xuICAgIHF1ZXJ5ID0ge1xuICAgICAgJG9yOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpbmJveF91c2VyczogdXNlcl9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2NfdXNlcnM6IHVzZXJfaWRcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gICAgaWYgKHNwZWNpYWxfdXNlcl9pZCkge1xuICAgICAgdWlkID0gc3BlY2lhbF91c2VyX2lkO1xuICAgICAgcXVlcnkgPSB7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNjX3VzZXJzOiBzcGVjaWFsX3VzZXJfaWRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH07XG4gICAgfVxuICAgIGlmICh3b3JrZmxvd19jYXRlZ29yaWVzKSB7XG4gICAgICBxdWVyeS5jYXRlZ29yeSA9IHtcbiAgICAgICAgJGluOiB3b3JrZmxvd19jYXRlZ29yaWVzLnNwbGl0KCcsJylcbiAgICAgIH07XG4gICAgfVxuICAgIHNwYWNlX25hbWVzID0ge307XG4gICAgc3BhY2VfbmFtZXNbc3BhY2UuX2lkXSA9IHNwYWNlLm5hbWU7XG4gICAgaWYgKGxpbWl0ID4gMCkge1xuICAgICAgZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICAgICAgc29ydDoge1xuICAgICAgICAgIG1vZGlmaWVkOiAtMVxuICAgICAgICB9LFxuICAgICAgICBsaW1pdDogbGltaXRcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICB2YXIgaCwgcmVmNiwgcmVmNztcbiAgICAgICAgaWYgKChyZWY2ID0gaS5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZjYuaW5jbHVkZXModWlkKSA6IHZvaWQgMCkge1xuICAgICAgICAgIF8uZWFjaChpLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgaWYgKHQuaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgIGlmIChhLnVzZXIgPT09IHVpZCAmJiBhLnR5cGUgIT09ICdjYycgJiYgIWEuaXNfZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgIGlzX3JlYWQgPSBhLmlzX3JlYWQ7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF8uZWFjaChpLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgaWYgKCFzdGFydF9kYXRlICYmIHQuYXBwcm92ZXMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGFydF9kYXRlICYmIGEudXNlciA9PT0gdWlkICYmIGEudHlwZSA9PT0gJ2NjJyAmJiAhYS5pc19maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgaXNfcmVhZCA9IGEuaXNfcmVhZDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzcGFjZV9uYW1lc1tpLnNwYWNlXSkge1xuICAgICAgICAgIHNwYWNlX25hbWVzW2kuc3BhY2VdID0gKHJlZjcgPSBkYi5zcGFjZXMuZmluZE9uZShpLnNwYWNlLCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSAhPSBudWxsID8gcmVmNy5uYW1lIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGggPSBuZXcgT2JqZWN0O1xuICAgICAgICBoW1wiaWRcIl0gPSBpW1wiX2lkXCJdO1xuICAgICAgICBoW1wic3RhcnRfZGF0ZVwiXSA9IHN0YXJ0X2RhdGU7XG4gICAgICAgIGhbXCJmbG93X25hbWVcIl0gPSBpLmZsb3dfbmFtZTtcbiAgICAgICAgaFtcInNwYWNlX25hbWVcIl0gPSBzcGFjZV9uYW1lc1tpLnNwYWNlXTtcbiAgICAgICAgaFtcIm5hbWVcIl0gPSBpW1wibmFtZVwiXTtcbiAgICAgICAgaFtcImFwcGxpY2FudF9uYW1lXCJdID0gaVtcImFwcGxpY2FudF9uYW1lXCJdO1xuICAgICAgICBoW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdID0gaVtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgICAgaFtcInN1Ym1pdF9kYXRlXCJdID0gaVtcInN1Ym1pdF9kYXRlXCJdO1xuICAgICAgICBoW1wic3RlcF9uYW1lXCJdID0gaS5jdXJyZW50X3N0ZXBfbmFtZTtcbiAgICAgICAgaFtcInNwYWNlX2lkXCJdID0gaS5zcGFjZTtcbiAgICAgICAgaFtcIm1vZGlmaWVkXCJdID0gaVtcIm1vZGlmaWVkXCJdO1xuICAgICAgICBoW1wiaXNfcmVhZFwiXSA9IGlzX3JlYWQ7XG4gICAgICAgIGhbXCJ2YWx1ZXNcIl0gPSBpW1widmFsdWVzXCJdO1xuICAgICAgICBpZiAoYXR0YWNoID09PSAndHJ1ZScpIHtcbiAgICAgICAgICBoLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGkuX2lkLFxuICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIGNvcGllczogMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmZldGNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdF9pbnN0YW5jZXMucHVzaChoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBub19saW1pdF9jb3VudCA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5KS5jb3VudCgpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IHJlc3VsdF9pbnN0YW5jZXMsXG4gICAgICAgIGNvdW50OiBub19saW1pdF9jb3VudFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5yZWFzb25cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJDb29raWVzID0gcmVxdWlyZShcImNvb2tpZXNcIilcblxuTWV0ZW9yLnN0YXJ0dXAgLT5cblx0V2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UgXCIvYXBpL3dvcmtmbG93L2V4cG9ydC90YWxiZV90ZW1wbGF0ZVwiLCAocmVxLCByZXMsIG5leHQpLT5cblx0XHRjb29raWVzID0gbmV3IENvb2tpZXMoIHJlcSwgcmVzICk7XG5cdFx0IyBmaXJzdCBjaGVjayByZXF1ZXN0IGJvZHlcblx0XHRpZiByZXEuYm9keVxuXHRcdFx0dXNlcklkID0gcmVxLmJvZHlbXCJYLVVzZXItSWRcIl1cblx0XHRcdGF1dGhUb2tlbiA9IHJlcS5ib2R5W1wiWC1BdXRoLVRva2VuXCJdXG5cblx0XHQjIHRoZW4gY2hlY2sgY29va2llXG5cdFx0aWYgIXVzZXJJZCBvciAhYXV0aFRva2VuXG5cdFx0XHR1c2VySWQgPSBjb29raWVzLmdldChcIlgtVXNlci1JZFwiKVxuXHRcdFx0YXV0aFRva2VuID0gY29va2llcy5nZXQoXCJYLUF1dGgtVG9rZW5cIilcblxuXHRcdGlmICEodXNlcklkIGFuZCBhdXRoVG9rZW4pXG5cdFx0XHRyZXMud3JpdGVIZWFkKDQwMSk7XG5cdFx0XHRyZXMuZW5kIEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW5cIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHR9KVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGZsb3dJZCA9IHJlcS5xdWVyeT8uZmxvdztcblxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGZsb3dJZH0sIHtmaWVsZHM6IHtzcGFjZTogMSwgZm9ybTogMSwgbmFtZTogMX19KVxuXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogZmxvdy5mb3JtfSwge2ZpZWxkczoge3NwYWNlOiAxLCBcImN1cnJlbnQuX2lkXCI6IDF9fSlcblxuXHRcdGlmIF8uaXNFbXB0eShmbG93KVxuXHRcdFx0cmVzLndyaXRlSGVhZCg0MDEpO1xuXHRcdFx0cmVzLmVuZCBKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIEludmFsaWQgZm9ybUlkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0fSlcblx0XHRcdHJldHVybiA7XG5cdFx0ZWxzZVxuXHRcdFx0aWYgIVN0ZWVkb3MuaXNTcGFjZUFkbWluKGZsb3cuc3BhY2UsIHVzZXJJZClcblx0XHRcdFx0cmVzLndyaXRlSGVhZCg0MDEpO1xuXHRcdFx0XHRyZXMuZW5kIEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uXCIsXG5cdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHRcdH0pXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShmbG93LnNwYWNlLCB7IGZpZWxkczogeyBpc19wYWlkOiAxIH0gfSlcblx0XHRcdGlmICFzcGFjZT8uaXNfcGFpZFxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRcdGNvZGU6IDQwNCxcblx0XHRcdFx0XHRkYXRhOlxuXHRcdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm9uLXBhaWQgc3BhY2UuXCIsXG5cdFx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0ZGF0YSA9IFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKHtmb3JtOiBmbG93LmZvcm0sIGZvcm1fdmVyc2lvbjogZm9ybT8uY3VycmVudD8uX2lkfSwgdHJ1ZSk7XG5cblx0XHRmaWxlTmFtZSA9IGZsb3cubmFtZVxuXG5cdFx0cmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuXHRcdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nK2VuY29kZVVSSShmaWxlTmFtZSkrJy5odG1sJyk7XG5cdFx0cmVzLmVuZChkYXRhKSIsInZhciBDb29raWVzO1xuXG5Db29raWVzID0gcmVxdWlyZShcImNvb2tpZXNcIik7XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoXCIvYXBpL3dvcmtmbG93L2V4cG9ydC90YWxiZV90ZW1wbGF0ZVwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHZhciBhdXRoVG9rZW4sIGNvb2tpZXMsIGRhdGEsIGZpbGVOYW1lLCBmbG93LCBmbG93SWQsIGZvcm0sIHJlZiwgcmVmMSwgc3BhY2UsIHVzZXJJZDtcbiAgICBjb29raWVzID0gbmV3IENvb2tpZXMocmVxLCByZXMpO1xuICAgIGlmIChyZXEuYm9keSkge1xuICAgICAgdXNlcklkID0gcmVxLmJvZHlbXCJYLVVzZXItSWRcIl07XG4gICAgICBhdXRoVG9rZW4gPSByZXEuYm9keVtcIlgtQXV0aC1Ub2tlblwiXTtcbiAgICB9XG4gICAgaWYgKCF1c2VySWQgfHwgIWF1dGhUb2tlbikge1xuICAgICAgdXNlcklkID0gY29va2llcy5nZXQoXCJYLVVzZXItSWRcIik7XG4gICAgICBhdXRoVG9rZW4gPSBjb29raWVzLmdldChcIlgtQXV0aC1Ub2tlblwiKTtcbiAgICB9XG4gICAgaWYgKCEodXNlcklkICYmIGF1dGhUb2tlbikpIHtcbiAgICAgIHJlcy53cml0ZUhlYWQoNDAxKTtcbiAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtQXV0aC1Ub2tlblwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmxvd0lkID0gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5mbG93IDogdm9pZCAwO1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvd0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBmb3JtOiAxLFxuICAgICAgICBuYW1lOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93LmZvcm1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIFwiY3VycmVudC5faWRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChfLmlzRW1wdHkoZmxvdykpIHtcbiAgICAgIHJlcy53cml0ZUhlYWQoNDAxKTtcbiAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBJbnZhbGlkIGZvcm1JZFwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFTdGVlZG9zLmlzU3BhY2VBZG1pbihmbG93LnNwYWNlLCB1c2VySWQpKSB7XG4gICAgICAgIHJlcy53cml0ZUhlYWQoNDAxKTtcbiAgICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvblwiLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoZmxvdy5zcGFjZSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBpc19wYWlkOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCEoc3BhY2UgIT0gbnVsbCA/IHNwYWNlLmlzX3BhaWQgOiB2b2lkIDApKSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiA0MDQsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm9uLXBhaWQgc3BhY2UuXCIsXG4gICAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGRhdGEgPSBUZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSh7XG4gICAgICBmb3JtOiBmbG93LmZvcm0sXG4gICAgICBmb3JtX3ZlcnNpb246IGZvcm0gIT0gbnVsbCA/IChyZWYxID0gZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMS5faWQgOiB2b2lkIDAgOiB2b2lkIDBcbiAgICB9LCB0cnVlKTtcbiAgICBmaWxlTmFtZSA9IGZsb3cubmFtZTtcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsICdhdHRhY2htZW50O2ZpbGVuYW1lPScgKyBlbmNvZGVVUkkoZmlsZU5hbWUpICsgJy5odG1sJyk7XG4gICAgcmV0dXJuIHJlcy5lbmQoZGF0YSk7XG4gIH0pO1xufSk7XG4iLCIjIyNcbkBhcGkge3Bvc3R9IC9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMg5paw5bu655Sz6K+35Y2VXG5cbkBhcGlOYW1lIGNyZWF0ZUluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XG57XG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxuICAgIFwiYXBwbGljYW50XCI6IOeUs+ivt+S6uklkLFxuICAgIFwidmFsdWVzXCI6IHtcbiAgICAgICAgXCJmaWVsZHMxXCIgOiDlrZfmrrXlgLwsXG4gICAgICAgIFwiZmllbGRzMlwiIDog5a2X5q615YC8LFxuICAgICAgICAuLi5cbiAgICB9XG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxufVxuXG5AYXBpRXJyb3JFeGFtcGxlIHtqc29ufSBlcnJvci1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcImVycm9yXCIsXG4gICAgXCJkYXRhXCI6IHsuLi59XG59XG4jIyNcbkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVyblxuXG5cdFx0dXNlcl9pZCA9IHJlcS51c2VySWRcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogdXNlcl9pZCB9KVxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIHhfc3BhY2VfaWQnKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXJfaW5mby5faWQpXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cblx0XHRpZiBub3QgaGFzaERhdGFbXCJmbG93XCJdXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG51bGwnKVxuXG5cdFx0Zmxvd19pZCAgICAgID0gaGFzaERhdGFbXCJmbG93XCJdXG5cdFx0YXBwbGljYW50X2lkID0gaGFzaERhdGFbXCJhcHBsaWNhbnRcIl1cblx0XHRhcHBsaWNhbnRfdXNlcm5hbWUgPSBoYXNoRGF0YVtcImFwcGxpY2FudF91c2VybmFtZVwiXVxuXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnQgPSBuZXcgT2JqZWN0XG5cblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd19pZCB9LCB7IGZpZWxkczogeyBzcGFjZTogMSwgJ2N1cnJlbnQuX2lkJzogMSB9IH0pXG5cdFx0aWYgbm90IGZsb3dcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGV4aXN0cycpXG5cblx0XHRpZiBzcGFjZV9pZCBpc250IGZsb3cuc3BhY2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJylcblxuXHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGN1cnJlbnRfdXNlcl9pbmZvLl9pZCB9KS5jb3VudCgpIGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKVxuXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJzcGFjZVwiXSA9IHNwYWNlX2lkXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93XCJdID0gZmxvd19pZFxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd192ZXJzaW9uXCJdID0gZmxvdy5jdXJyZW50Ll9pZFxuXG5cdFx0YXBwbGljYW50ID0gbnVsbFxuXHRcdGlmIGFwcGxpY2FudF9pZCBvciBhcHBsaWNhbnRfdXNlcm5hbWVcblxuXHRcdFx0aWYgYXBwbGljYW50X2lkXG5cdFx0XHRcdGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFwcGxpY2FudF9pZCB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0aWYgbm90IGFwcGxpY2FudFxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyB3cm9uZycpXG5cblx0XHRcdGVsc2UgaWYgYXBwbGljYW50X3VzZXJuYW1lXG5cdFx0XHRcdGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoeyB1c2VybmFtZTogYXBwbGljYW50X3VzZXJuYW1lIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRpZiBub3QgYXBwbGljYW50XG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50X3VzZXJuYW1lIGlzIHdyb25nJylcblxuXHRcdFx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcGxpY2FudC5faWQgfSlcblx0XHRcdGlmIG5vdCBzcGFjZV91c2VyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBub3QgYSBtZW1iZXIgb2YgdGhpcyBzcGFjZScpXG5cblx0XHRcdGlmIHNwYWNlX3VzZXIudXNlcl9hY2NlcHRlZCBpc250IHRydWVcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIGRpc2FibGVkIGluIHRoaXMgc3BhY2UnKVxuXG5cdFx0XHRzcGFjZV91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudFwiXSA9IGFwcGxpY2FudC5faWRcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X25hbWVcIl0gPSBhcHBsaWNhbnQubmFtZVxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uXCJdID0gIHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXG5cblx0XHRhcHBsaWNhbnRJbmZvID0gYXBwbGljYW50IHx8IGN1cnJlbnRfdXNlcl9pbmZvXG5cblx0XHR0cmFjZXMgPSBbXVxuXHRcdHRyYWNlID0gbmV3IE9iamVjdFxuXHRcdGFwcHJvdmVzID0gW11cblx0XHRhcHByb3ZlID0gbmV3IE9iamVjdFxuXHRcdGFwcHJvdmVbXCJ2YWx1ZXNcIl0gPSBoYXNoRGF0YVtcInZhbHVlc1wiXVxuXHRcdGFwcHJvdmVzLnB1c2goYXBwcm92ZSlcblx0XHR0cmFjZVtcImFwcHJvdmVzXCJdID0gYXBwcm92ZXNcblx0XHR0cmFjZXMucHVzaCh0cmFjZSlcblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSA9IHRyYWNlc1xuXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXSA9IFthcHBsaWNhbnRJbmZvLl9pZF1cblxuXHRcdG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgYXBwbGljYW50SW5mbylcblxuXHRcdG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShuZXdfaW5zX2lkKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IG5ld19pbnMgfVxuXHRcdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5tZXNzYWdlIH1dIH1cblx0XHR9XG4iLCJcbi8qXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzIOaWsOW7uueUs+ivt+WNlVxuXG5AYXBpTmFtZSBjcmVhdGVJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxue1xuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcbiAgICBcImFwcGxpY2FudFwiOiDnlLPor7fkurpJZCxcbiAgICBcInZhbHVlc1wiOiB7XG4gICAgICAgIFwiZmllbGRzMVwiIDog5a2X5q615YC8LFxuICAgICAgICBcImZpZWxkczJcIiA6IOWtl+auteWAvCxcbiAgICAgICAgLi4uXG4gICAgfVxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cblxuQGFwaUVycm9yRXhhbXBsZSB7anNvbn0gZXJyb3ItUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJlcnJvclwiLFxuICAgIFwiZGF0YVwiOiB7Li4ufVxufVxuICovXG5Kc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFwcGxpY2FudCwgYXBwbGljYW50SW5mbywgYXBwbGljYW50X2lkLCBhcHBsaWNhbnRfdXNlcm5hbWUsIGFwcHJvdmUsIGFwcHJvdmVzLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgZmxvd19pZCwgaGFzaERhdGEsIGluc3RhbmNlX2Zyb21fY2xpZW50LCBuZXdfaW5zLCBuZXdfaW5zX2lkLCBzcGFjZV9pZCwgc3BhY2VfdXNlciwgc3BhY2VfdXNlcl9vcmdfaW5mbywgdHJhY2UsIHRyYWNlcywgdXNlcl9pZDtcbiAgdHJ5IHtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgIF9pZDogdXNlcl9pZFxuICAgIH0pO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciB4X3NwYWNlX2lkJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXJfaW5mby5faWQpO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgaWYgKCFoYXNoRGF0YVtcImZsb3dcIl0pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbnVsbCcpO1xuICAgIH1cbiAgICBmbG93X2lkID0gaGFzaERhdGFbXCJmbG93XCJdO1xuICAgIGFwcGxpY2FudF9pZCA9IGhhc2hEYXRhW1wiYXBwbGljYW50XCJdO1xuICAgIGFwcGxpY2FudF91c2VybmFtZSA9IGhhc2hEYXRhW1wiYXBwbGljYW50X3VzZXJuYW1lXCJdO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50ID0gbmV3IE9iamVjdDtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3dfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICdjdXJyZW50Ll9pZCc6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWZsb3cpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGV4aXN0cycpO1xuICAgIH1cbiAgICBpZiAoc3BhY2VfaWQgIT09IGZsb3cuc3BhY2UpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJyk7XG4gICAgfVxuICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKTtcbiAgICB9XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJzcGFjZVwiXSA9IHNwYWNlX2lkO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd1wiXSA9IGZsb3dfaWQ7XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93X3ZlcnNpb25cIl0gPSBmbG93LmN1cnJlbnQuX2lkO1xuICAgIGFwcGxpY2FudCA9IG51bGw7XG4gICAgaWYgKGFwcGxpY2FudF9pZCB8fCBhcHBsaWNhbnRfdXNlcm5hbWUpIHtcbiAgICAgIGlmIChhcHBsaWNhbnRfaWQpIHtcbiAgICAgICAgYXBwbGljYW50ID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBhcHBsaWNhbnRfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghYXBwbGljYW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIHdyb25nJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXBwbGljYW50X3VzZXJuYW1lKSB7XG4gICAgICAgIGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIHVzZXJuYW1lOiBhcHBsaWNhbnRfdXNlcm5hbWVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghYXBwbGljYW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50X3VzZXJuYW1lIGlzIHdyb25nJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHBsaWNhbnQuX2lkXG4gICAgICB9KTtcbiAgICAgIGlmICghc3BhY2VfdXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKTtcbiAgICAgIH1cbiAgICAgIGlmIChzcGFjZV91c2VyLnVzZXJfYWNjZXB0ZWQgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIGRpc2FibGVkIGluIHRoaXMgc3BhY2UnKTtcbiAgICAgIH1cbiAgICAgIHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcik7XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudFwiXSA9IGFwcGxpY2FudC5faWQ7XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9uYW1lXCJdID0gYXBwbGljYW50Lm5hbWU7XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25cIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgIH1cbiAgICBhcHBsaWNhbnRJbmZvID0gYXBwbGljYW50IHx8IGN1cnJlbnRfdXNlcl9pbmZvO1xuICAgIHRyYWNlcyA9IFtdO1xuICAgIHRyYWNlID0gbmV3IE9iamVjdDtcbiAgICBhcHByb3ZlcyA9IFtdO1xuICAgIGFwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgIGFwcHJvdmVbXCJ2YWx1ZXNcIl0gPSBoYXNoRGF0YVtcInZhbHVlc1wiXTtcbiAgICBhcHByb3Zlcy5wdXNoKGFwcHJvdmUpO1xuICAgIHRyYWNlW1wiYXBwcm92ZXNcIl0gPSBhcHByb3ZlcztcbiAgICB0cmFjZXMucHVzaCh0cmFjZSk7XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0gPSB0cmFjZXM7XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXSA9IFthcHBsaWNhbnRJbmZvLl9pZF07XG4gICAgbmV3X2luc19pZCA9IHV1Zmxvd01hbmFnZXIuY3JlYXRlX2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBhcHBsaWNhbnRJbmZvKTtcbiAgICBuZXdfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUobmV3X2luc19pZCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogbmV3X2luc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCDmn6XnnIvnlLPor7fljZXor6bmg4VcblxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueahOeuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gaW5zX2lkIOeUs+ivt+WNlUlkXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxufVxuIyMjXG5Kc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm5cblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpXG5cdFx0aWYgbm90IGluc3RhbmNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgaW5zdGFuY2UnKVxuXG5cdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBpbnN0YW5jZS5zcGFjZSwgdXNlcjogY3VycmVudF91c2VyIH0pLmNvdW50KCkgaXMgMFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXV0aF90b2tlbiBpcyB3cm9uZycpXG5cblx0XHQjIOadg+mZkO+8muS7heS7peS4i+S6uuWRmOWPr+S7peafpeeci+eUs+ivt+WNleivpuaDhe+8muaPkOS6pOiAheOAgeeUs+ivt+iAheOAgee7j+aJi+iAheOAgeacrOa1geeoi+eahOeuoeeQhuWRmOOAgeacrOa1geeoi+eahOinguWvn+WRmOOAgeacrOW3peS9nOWMuueahOeuoeeQhuWRmOOAgeacrOW3peS9nOWMuueahOaJgOacieiAheOAglxuXHRcdHBlcm1fdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRwZXJtX3VzZXJzLnB1c2goaW5zdGFuY2Uuc3VibWl0dGVyKVxuXHRcdHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpXG5cdFx0aWYgaW5zdGFuY2Uub3V0Ym94X3VzZXJzXG5cdFx0XHRwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKVxuXHRcdGlmIGluc3RhbmNlLmluYm94X3VzZXJzXG5cdFx0XHRwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoaW5zdGFuY2UuaW5ib3hfdXNlcnMpXG5cdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2Uuc3BhY2UgfSwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcblx0XHRwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoc3BhY2UuYWRtaW5zKVxuXG5cdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKVxuXG5cdFx0aWYgKG5vdCBwZXJtX3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIGFuZCAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwibW9uaXRvclwiKSkgYW5kIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSlcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25vIHBlcm1pc3Npb24nKVxuXG5cdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IGluc3RhbmNlIH1cblx0XHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XG5cdFx0fVxuXG4iLCJcbi8qXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCDmn6XnnIvnlLPor7fljZXor6bmg4VcblxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueahOeuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gaW5zX2lkIOeUs+ivt+WNlUlkXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxufVxuICovXG5Kc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGUsIGluc19pZCwgaW5zdGFuY2UsIHBlcm1fdXNlcnMsIHBlcm1pc3Npb25zLCBzcGFjZSwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBpbnN0YW5jZScpO1xuICAgIH1cbiAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsXG4gICAgICB1c2VyOiBjdXJyZW50X3VzZXJcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIHdyb25nJyk7XG4gICAgfVxuICAgIHBlcm1fdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgcGVybV91c2Vycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcik7XG4gICAgcGVybV91c2Vycy5wdXNoKGluc3RhbmNlLmFwcGxpY2FudCk7XG4gICAgaWYgKGluc3RhbmNlLm91dGJveF91c2Vycykge1xuICAgICAgcGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLm91dGJveF91c2Vycyk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5pbmJveF91c2Vycykge1xuICAgICAgcGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLmluYm94X3VzZXJzKTtcbiAgICB9XG4gICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlLnNwYWNlXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGFkbWluczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChzcGFjZS5hZG1pbnMpO1xuICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCghcGVybV91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSAmJiAoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwibW9uaXRvclwiKSkgJiYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbm8gcGVybWlzc2lvbicpO1xuICAgIH1cbiAgICBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsXG4gICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAkbmU6IHRydWVcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY29waWVzOiAwXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiBpbnN0YW5jZVxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCDmj5DkuqTnlLPor7fljZVcblxuQGFwaURlc2NyaXB0aW9uIOaaguS4jeaUr+aMgeW8gOWni+iKgueCueS4i+S4gOiKgueCueS4uuadoeS7tueahOaDheWGtVxuXG5AYXBpTmFtZSBzdWJtaXRJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG4gICAge1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG4gICAge1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XG5cdH1cbiMjI1xuXG5Kc29uUm91dGVzLmFkZCAncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxuXG5cdFx0IyDmoKHpqoznlLPor7fljZXnirbmgIHkuLrojYnnqL9cblx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VEcmFmdChpbnN0YW5jZSlcblxuXHRcdGlmIHNwYWNlX2lkIGlzbnQgaW5zdGFuY2VbXCJzcGFjZVwiXVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2UgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJylcblxuXHRcdCMg5qCh6aqM55Sz6K+35Y2V5b+F5aGr5a2X5q615piv5ZCm5pyJ5YC8XG5cdFx0dmFsdWVzID0gaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXS52YWx1ZXNcblxuXHRcdGZvcm0gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm0oaW5zdGFuY2UuZm9ybSlcblxuXHRcdHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tWYWx1ZUZpZWxkc1JlcXVpcmUodmFsdWVzLCBmb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXG5cblx0XHRpZiByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMFxuXHRcdFx0aWYgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDFcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGRzIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gYXJlIHJlcXVpcmVkJylcblx0XHRcdGVsc2UgaWYgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA9IDFcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGQgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBpcyByZXF1aXJlZCcpXG5cblx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXG5cblx0XHRzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBpbnN0YW5jZVtcInRyYWNlc1wiXVswXS5zdGVwKVxuXG5cdFx0IyDorqHnrpfkuIvkuIDmraXpqqTpgInpoblcblx0XHRuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwgXCJzdWJtaXR0ZWRcIilcblxuXHRcdGlmIG5leHRTdGVwcy5sZW5ndGggPCAxXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgbmV4dCBzdGVwcycpXG5cblx0XHRpZiBuZXh0U3RlcHMubGVuZ3RoID4gMVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIG5vdCB1bmlxJylcblxuXHRcdG5leHRfc3RlcF9pZCA9IG5leHRTdGVwc1swXVxuXG5cdFx0IyDorqHnrpfkuIvkuIDmraXlpITnkIbkurrpgInpoblcblx0XHRuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc19pZCwgbmV4dF9zdGVwX2lkKSB8fCBbXVxuXG5cdFx0aWYgbmV4dF91c2VyX2lkcy5sZW5ndGggPiAxXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZXh0IHN0ZXAgaGFuZGxlciBub3QgdW5pcScpXG5cblx0XHRpbnN0YW5jZVtcInRyYWNlc1wiXVswXVtcImFwcHJvdmVzXCJdWzBdW1wibmV4dF9zdGVwc1wiXSA9IFt7J3N0ZXAnOiBuZXh0X3N0ZXBfaWQsICd1c2Vycyc6IG5leHRfdXNlcl9pZHN9XVxuXG5cdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxuXG5cdFx0c3VibWl0dGVyID0gZGIudXNlcnMuZmluZE9uZShpbnN0YW5jZS5zdWJtaXR0ZXIpXG5cblx0XHRpZiBub3Qgc3VibWl0dGVyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgc3VibWl0dGVyJylcblxuXHRcdHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZSwgc3VibWl0dGVyKVxuXG5cdFx0aWYgci5hbGVydHNcblx0XHRcdHJlc3VsdCA9IHJcblx0XHRlbHNlXG5cdFx0XHRyZXN1bHQgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpXG5cdFx0XHRpZiByZXN1bHRcblx0XHRcdFx0cmVzdWx0LmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIlxuLypcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3N1Ym1pdC86aW5zX2lkIOaPkOS6pOeUs+ivt+WNlVxuXG5AYXBpRGVzY3JpcHRpb24g5pqC5LiN5pSv5oyB5byA5aeL6IqC54K55LiL5LiA6IqC54K55Li65p2h5Lu255qE5oOF5Ya1XG5cbkBhcGlOYW1lIHN1Ym1pdEluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbiAgICB7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbiAgICB7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cblx0fVxuICovXG5Kc29uUm91dGVzLmFkZCgncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBmb3JtLCBpbnNfaWQsIGluc3RhbmNlLCBuZXh0U3RlcHMsIG5leHRfc3RlcF9pZCwgbmV4dF91c2VyX2lkcywgciwgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLCByZXN1bHQsIHNwYWNlX2lkLCBzdGVwLCBzdWJtaXR0ZXIsIHZhbHVlcztcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VEcmFmdChpbnN0YW5jZSk7XG4gICAgaWYgKHNwYWNlX2lkICE9PSBpbnN0YW5jZVtcInNwYWNlXCJdKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdpbnN0YW5jZSBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UnKTtcbiAgICB9XG4gICAgdmFsdWVzID0gaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXS52YWx1ZXM7XG4gICAgZm9ybSA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybShpbnN0YW5jZS5mb3JtKTtcbiAgICByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMgPSB1dWZsb3dNYW5hZ2VyLmNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlKHZhbHVlcywgZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcbiAgICBpZiAocmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmaWVsZHMgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBhcmUgcmVxdWlyZWQnKTtcbiAgICAgIH0gZWxzZSBpZiAocmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA9IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGQgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBpcyByZXF1aXJlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgIHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGluc3RhbmNlW1widHJhY2VzXCJdWzBdLnN0ZXApO1xuICAgIG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBcInN1Ym1pdHRlZFwiKTtcbiAgICBpZiAobmV4dFN0ZXBzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBuZXh0IHN0ZXBzJyk7XG4gICAgfVxuICAgIGlmIChuZXh0U3RlcHMubGVuZ3RoID4gMSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIG5vdCB1bmlxJyk7XG4gICAgfVxuICAgIG5leHRfc3RlcF9pZCA9IG5leHRTdGVwc1swXTtcbiAgICBuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc19pZCwgbmV4dF9zdGVwX2lkKSB8fCBbXTtcbiAgICBpZiAobmV4dF91c2VyX2lkcy5sZW5ndGggPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZXh0IHN0ZXAgaGFuZGxlciBub3QgdW5pcScpO1xuICAgIH1cbiAgICBpbnN0YW5jZVtcInRyYWNlc1wiXVswXVtcImFwcHJvdmVzXCJdWzBdW1wibmV4dF9zdGVwc1wiXSA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3N0ZXAnOiBuZXh0X3N0ZXBfaWQsXG4gICAgICAgICd1c2Vycyc6IG5leHRfdXNlcl9pZHNcbiAgICAgIH1cbiAgICBdO1xuICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgc3VibWl0dGVyID0gZGIudXNlcnMuZmluZE9uZShpbnN0YW5jZS5zdWJtaXR0ZXIpO1xuICAgIGlmICghc3VibWl0dGVyKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgc3VibWl0dGVyJyk7XG4gICAgfVxuICAgIHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZSwgc3VibWl0dGVyKTtcbiAgICBpZiAoci5hbGVydHMpIHtcbiAgICAgIHJlc3VsdCA9IHI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCk7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zX2lkLFxuICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBjb3BpZXM6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQg5pqC5a2Y55Sz6K+35Y2VXG5cbkBhcGlOYW1lIHNhdmVJbnN0YW5jZXNcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuICAgIHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuICAgIHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxuXHR9XG4jIyNcbkpzb25Sb3V0ZXMuYWRkICdwdXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHR2YWx1ZXMgPSByZXEuYm9keVxuXG5cdFx0aWYgbm90IHZhbHVlc1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCB2YWx1ZXMnKVxuXG5cdFx0Y3VycmVudF90cmFjZSA9IG51bGxcblx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcblx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXG5cblx0XHRfLmVhY2ggaW5zdGFuY2UudHJhY2VzLCAodCktPlxuXHRcdFx0aWYgdC5pc19maW5pc2hlZCBpc250IHRydWVcblx0XHRcdFx0Y3VycmVudF90cmFjZSA9IHRcblxuXHRcdGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgY3VycmVudF90cmFjZS5zdGVwKVxuXG5cdFx0aWYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuatpemqpOS4jeiDveS/ruaUueihqOWNleWAvCcpXG5cblx0XHRfLmVhY2ggY3VycmVudF90cmFjZS5hcHByb3ZlcywgKGEpLT5cblx0XHRcdGlmIGEuaXNfZmluaXNoZWQgaXNudCB0cnVlIGFuZCBhLnR5cGUgaXNudCBcImNjXCJcblx0XHRcdFx0YS52YWx1ZXMgPSB2YWx1ZXNcblxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlXG5cdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBjdXJyZW50X3RyYWNlLmFwcHJvdmVzXG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlIHtcblx0XHRcdF9pZDogaW5zX2lkXG5cdFx0XHQndHJhY2VzLl9pZCc6IGN1cnJlbnRfdHJhY2UuX2lkXG5cdFx0fSwgJHNldDogc2V0T2JqXG5cblx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJcbi8qXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQg5pqC5a2Y55Sz6K+35Y2VXG5cbkBhcGlOYW1lIHNhdmVJbnN0YW5jZXNcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuICAgIHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuICAgIHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxuXHR9XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwdXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3N0ZXAsIGN1cnJlbnRfdHJhY2UsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGluc19pZCwgaW5zdGFuY2UsIHJlc3VsdCwgc2V0T2JqLCBzcGFjZV9pZCwgdmFsdWVzO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIHZhbHVlcyA9IHJlcS5ib2R5O1xuICAgIGlmICghdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHZhbHVlcycpO1xuICAgIH1cbiAgICBjdXJyZW50X3RyYWNlID0gbnVsbDtcbiAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgaWYgKHQuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfdHJhY2UgPSB0O1xuICAgICAgfVxuICAgIH0pO1xuICAgIGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgY3VycmVudF90cmFjZS5zdGVwKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7mraXpqqTkuI3og73kv67mlLnooajljZXlgLwnKTtcbiAgICB9XG4gICAgXy5lYWNoKGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIGlmIChhLmlzX2ZpbmlzaGVkICE9PSB0cnVlICYmIGEudHlwZSAhPT0gXCJjY1wiKSB7XG4gICAgICAgIHJldHVybiBhLnZhbHVlcyA9IHZhbHVlcztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZTtcbiAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlc1wiXSA9IGN1cnJlbnRfdHJhY2UuYXBwcm92ZXM7XG4gICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc19pZCxcbiAgICAgICd0cmFjZXMuX2lkJzogY3VycmVudF90cmFjZS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiBzZXRPYmpcbiAgICB9KTtcbiAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZSDmoLnmja7mraXpqqTlkI3np7Dojrflj5bnlLPor7fljZVcblxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VCeVN0ZXBOYW1lXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XG57XG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxuICAgIFwic3RlcG5hbWVcIjog5q2l6aqk5ZCN56ewXG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcblx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFwiZGF0YVwiOiBbXG5cdFx0e1xuXHRcdFx0aW5zdGFuY2Vcblx0XHR9LFxuXHRcdHtcblx0XHRcdGluc3RhbmNlXG5cdFx0fVxuXHRdXG59XG4jIyNcbkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0c3RlcG5hbWUgPSBoYXNoRGF0YVtcInN0ZXBuYW1lXCJdXG5cdFx0ZmxvdyA9IGhhc2hEYXRhW1wiZmxvd1wiXVxuXG5cdFx0aWYgbm90IHN0ZXBuYW1lXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHN0ZXBuYW1lJylcblxuXHRcdGlmIG5vdCBmbG93XG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGZsb3cnKVxuXG5cdFx0IyDljrvmjol7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgdHJhY2VzOiAwLCBhdHRhY2htZW50czogMH1cblx0XHRpbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZCh7c3BhY2U6IHNwYWNlX2lkLCBmbG93OiBmbG93LCBzdGF0ZToncGVuZGluZycsIHRyYWNlczp7JGVsZW1NYXRjaDoge2lzX2ZpbmlzaGVkOiBmYWxzZSwgbmFtZTogc3RlcG5hbWV9fX0sIHtmaWVsZHM6IHtpbmJveF91ZXJzOiAwLCBjY191c2VyczogMCwgb3V0Ym94X3VzZXJzOiAwLCBhdHRhY2htZW50czogMCwgdHJhY2VzOiAwfX0pLmZldGNoKClcblxuXHRcdGluc3RhbmNlcy5mb3JFYWNoIChpbnN0YW5jZSktPlxuXHRcdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiBpbnN0YW5jZXN9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuIiwiXG4vKlxuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUg5qC55o2u5q2l6aqk5ZCN56ew6I635Y+W55Sz6K+35Y2VXG5cbkBhcGlOYW1lIGdldEluc3RhbmNlQnlTdGVwTmFtZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxue1xuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcbiAgICBcInN0ZXBuYW1lXCI6IOatpemqpOWQjeensFxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG5cdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcImRhdGFcIjogW1xuXHRcdHtcblx0XHRcdGluc3RhbmNlXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRpbnN0YW5jZVxuXHRcdH1cblx0XVxufVxuICovXG5Kc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBoYXNoRGF0YSwgaW5zdGFuY2VzLCBzcGFjZV9pZCwgc3RlcG5hbWU7XG4gIHRyeSB7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBzdGVwbmFtZSA9IGhhc2hEYXRhW1wic3RlcG5hbWVcIl07XG4gICAgZmxvdyA9IGhhc2hEYXRhW1wiZmxvd1wiXTtcbiAgICBpZiAoIXN0ZXBuYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHN0ZXBuYW1lJyk7XG4gICAgfVxuICAgIGlmICghZmxvdykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBmbG93Jyk7XG4gICAgfVxuICAgIGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIGZsb3c6IGZsb3csXG4gICAgICBzdGF0ZTogJ3BlbmRpbmcnLFxuICAgICAgdHJhY2VzOiB7XG4gICAgICAgICRlbGVtTWF0Y2g6IHtcbiAgICAgICAgICBpc19maW5pc2hlZDogZmFsc2UsXG4gICAgICAgICAgbmFtZTogc3RlcG5hbWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBpbmJveF91ZXJzOiAwLFxuICAgICAgICBjY191c2VyczogMCxcbiAgICAgICAgb3V0Ym94X3VzZXJzOiAwLFxuICAgICAgICBhdHRhY2htZW50czogMCxcbiAgICAgICAgdHJhY2VzOiAwXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICBpbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLFxuICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgY29waWVzOiAwXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogaW5zdGFuY2VzXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcbkNvbnRlbnQtVHlwZe+8mmFwcGxpY2F0aW9uL2pzb25cbmZvcm0tZGF0YSDmoLzlvI86XG5mZCA9IG5ldyBGb3JtRGF0YTtcbmZkLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XG5cbmZkLmFwcGVuZChcImlzX3ByaXZhdGVcIiwgZmFsc2UpO1xuXG5pZiAoaXNBZGRWZXJzaW9uKSB7XG5cdGZkLmFwcGVuZChcImlzQWRkVmVyc2lvblwiLCBpc0FkZFZlcnNpb24pO1xuXHRmZC5hcHBlbmQoXCJwYXJlbnRcIiwgYXR0YWNoX3BhcmVudF9pZCk7XG59XG5cbmlmIChpc01haW5BdHRhY2gpIHtcblx0ZmQuYXBwZW5kKFwibWFpblwiLCB0cnVlKTtcbn1cbiMjI1xuXG5CdXNib3kgPSByZXF1aXJlKCdidXNib3knKTtcbkZpYmVyID0gcmVxdWlyZSgnZmliZXJzJyk7XG5cbkpzb25Sb3V0ZXMucGFyc2VGaWxlcyA9IChyZXEsIHJlcywgbmV4dCkgLT5cblx0ZmlsZXMgPSBbXTsgIyBTdG9yZSBmaWxlcyBpbiBhbiBhcnJheSBhbmQgdGhlbiBwYXNzIHRoZW0gdG8gcmVxdWVzdC5cblx0aW1hZ2UgPSB7fTsgIyBjcmF0ZSBhbiBpbWFnZSBvYmplY3RcblxuXHRpZiAocmVxLm1ldGhvZCA9PSBcIlBPU1RcIilcblx0XHRidXNib3kgPSBuZXcgQnVzYm95KHsgaGVhZGVyczogcmVxLmhlYWRlcnMgfSk7XG5cdFx0YnVzYm95Lm9uIFwiZmlsZVwiLCAgKGZpZWxkbmFtZSwgZmlsZSwgZmlsZW5hbWUsIGVuY29kaW5nLCBtaW1ldHlwZSkgLT5cblx0XHRcdGltYWdlLm1pbWVUeXBlID0gbWltZXR5cGU7XG5cdFx0XHRpbWFnZS5lbmNvZGluZyA9IGVuY29kaW5nO1xuXHRcdFx0aW1hZ2UuZmlsZW5hbWUgPSBmaWxlbmFtZTtcblxuXHRcdFx0IyBidWZmZXIgdGhlIHJlYWQgY2h1bmtzXG5cdFx0XHRidWZmZXJzID0gW107XG5cblx0XHRcdGZpbGUub24gJ2RhdGEnLCAoZGF0YSkgLT5cblx0XHRcdFx0YnVmZmVycy5wdXNoKGRhdGEpO1xuXG5cdFx0XHRmaWxlLm9uICdlbmQnLCAoKSAtPlxuXHRcdFx0XHQjIGNvbmNhdCB0aGUgY2h1bmtzXG5cdFx0XHRcdGltYWdlLmRhdGEgPSBCdWZmZXIuY29uY2F0KGJ1ZmZlcnMpO1xuXHRcdFx0XHQjIHB1c2ggdGhlIGltYWdlIG9iamVjdCB0byB0aGUgZmlsZSBhcnJheVxuXHRcdFx0XHRmaWxlcy5wdXNoKGltYWdlKTtcblxuXG5cdFx0YnVzYm95Lm9uIFwiZmllbGRcIiwgKGZpZWxkbmFtZSwgdmFsdWUpIC0+XG5cdFx0XHRyZXEuYm9keVtmaWVsZG5hbWVdID0gdmFsdWU7XG5cblx0XHRidXNib3kub24gXCJmaW5pc2hcIiwgICgpIC0+XG5cdFx0XHQjIFBhc3MgdGhlIGZpbGUgYXJyYXkgdG9nZXRoZXIgd2l0aCB0aGUgcmVxdWVzdFxuXHRcdFx0cmVxLmZpbGVzID0gZmlsZXM7XG5cblx0XHRcdEZpYmVyICgpLT5cblx0XHRcdFx0bmV4dCgpO1xuXHRcdFx0LnJ1bigpO1xuXG5cdFx0IyBQYXNzIHJlcXVlc3QgdG8gYnVzYm95XG5cdFx0cmVxLnBpcGUoYnVzYm95KTtcblxuXHRlbHNlXG5cdFx0bmV4dCgpO1xuXG5Kc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpXG5cblx0XHRpZiBpbnN0YW5jZS5zdGF0ZSBpc250IFwiZHJhZnRcIlxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95LiK5LygJylcblxuXHRcdGFwcHJvdmVfaWQgPSBpbnN0YW5jZS50cmFjZXNbMF0uYXBwcm92ZXNbMF0uX2lkXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdEpzb25Sb3V0ZXMucGFyc2VGaWxlcyByZXEsIHJlcywgKCktPlxuXHRcdFx0Y29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXNcblxuXHRcdFx0aWYgcmVxLmZpbGVzIGFuZCByZXEuZmlsZXNbMF1cblx0XHRcdFx0IyDpmYTku7bkuIrkvKDmjqXlj6PvvIzpmZDliLbpmYTku7blpKflsI/vvIzmnIDlpKfkuLoxMDBNXG5cdFx0XHRcdGlmIHJlcS5maWxlc1swXS5kYXRhLmxlbmd0aCA+ICgxMDAqMTAyNCoxMDI0KVxuXHRcdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogXCLotoXov4fkuIrkvKDpmYTku7blpKflsI/pmZDliLYoMTAwTSlcIn1dfVxuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0XHRcdG5ld0ZpbGUgPSBuZXcgRlMuRmlsZSgpO1xuXHRcdFx0XHRuZXdGaWxlLmF0dGFjaERhdGEgcmVxLmZpbGVzWzBdLmRhdGEsIHt0eXBlOiByZXEuZmlsZXNbMF0ubWltZVR5cGV9LCAoZXJyKSAtPlxuXHRcdFx0XHRcdGZpbGVuYW1lID0gcmVxLmZpbGVzWzBdLmZpbGVuYW1lXG5cblx0XHRcdFx0XHRpZiBbXCJpbWFnZS5qcGdcIiwgXCJpbWFnZS5naWZcIiwgXCJpbWFnZS5qcGVnXCIsIFwiaW1hZ2UucG5nXCJdLmluY2x1ZGVzKGZpbGVuYW1lLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdFx0XHRmaWxlbmFtZSA9IFwiaW1hZ2UtXCIgKyBtb21lbnQobmV3IERhdGUoKSkuZm9ybWF0KCdZWVlZTU1EREhIbW1zcycpICsgXCIuXCIgKyBmaWxlbmFtZS5zcGxpdCgnLicpLnBvcCgpXG5cblx0XHRcdFx0XHRib2R5ID0gcmVxLmJvZHlcblxuXHRcdFx0XHRcdGJvZHlbJ293bmVyJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXJcblx0XHRcdFx0XHRib2R5Wydvd25lcl9uYW1lJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXJfbmFtZVxuXHRcdFx0XHRcdGJvZHlbJ3NwYWNlJ10gPSBzcGFjZV9pZFxuXHRcdFx0XHRcdGJvZHlbJ2luc3RhbmNlJ10gPSBpbnNfaWRcblx0XHRcdFx0XHRib2R5WydhcHByb3ZlJ10gPSBhcHByb3ZlX2lkXG5cblx0XHRcdFx0XHR0cnlcblx0XHRcdFx0XHRcdGlmIGJvZHkgJiYgKGJvZHlbJ3VwbG9hZF9mcm9tJ10gaXMgXCJJRVwiIG9yIGJvZHlbJ3VwbG9hZF9mcm9tJ10gaXMgXCJub2RlXCIpXG5cdFx0XHRcdFx0XHRcdGZpbGVuYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKVxuXHRcdFx0XHRcdGNhdGNoIGVcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZmlsZW5hbWUpXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGVcblx0XHRcdFx0XHRcdGZpbGVuYW1lID0gZmlsZW5hbWUucmVwbGFjZSgvJS9nLCBcIi1cIilcblxuXHRcdFx0XHRcdG5ld0ZpbGUubmFtZShmaWxlbmFtZSlcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiBib2R5ICYmIGJvZHlbJ293bmVyJ10gJiYgYm9keVsnb3duZXJfbmFtZSddICYmIGJvZHlbJ3NwYWNlJ10gJiYgYm9keVsnaW5zdGFuY2UnXSAgJiYgYm9keVsnYXBwcm92ZSddXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSAnJ1xuXHRcdFx0XHRcdFx0bWV0YWRhdGEgPSB7b3duZXI6Ym9keVsnb3duZXInXSwgb3duZXJfbmFtZTpib2R5Wydvd25lcl9uYW1lJ10sIHNwYWNlOmJvZHlbJ3NwYWNlJ10sIGluc3RhbmNlOmJvZHlbJ2luc3RhbmNlJ10sIGFwcHJvdmU6IGJvZHlbJ2FwcHJvdmUnXSwgY3VycmVudDogdHJ1ZX1cblxuXHRcdFx0XHRcdFx0aWYgYm9keVtcImlzX3ByaXZhdGVcIl0gJiYgYm9keVtcImlzX3ByaXZhdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSBcInRydWVcIlxuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5pc19wcml2YXRlID0gdHJ1ZVxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5pc19wcml2YXRlID0gZmFsc2VcblxuXHRcdFx0XHRcdFx0aWYgYm9keVsnbWFpbiddID09IFwidHJ1ZVwiXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLm1haW4gPSB0cnVlXG5cblx0XHRcdFx0XHRcdGlmIGJvZHlbJ2lzQWRkVmVyc2lvbiddICYmIGJvZHlbJ3BhcmVudCddXG5cdFx0XHRcdFx0XHRcdHBhcmVudCA9IGJvZHlbJ3BhcmVudCddXG5cdFx0XHRcdFx0XHQjIGVsc2Vcblx0XHRcdFx0XHRcdCMgICBjb2xsZWN0aW9uLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGJvZHlbJ2luc3RhbmNlJ10sICdtZXRhZGF0YS5jdXJyZW50JyA6IHRydWV9KS5mb3JFYWNoIChjKSAtPlxuXHRcdFx0XHRcdFx0IyAgICAgaWYgYy5uYW1lKCkgPT0gZmlsZW5hbWVcblx0XHRcdFx0XHRcdCMgICAgICAgcGFyZW50ID0gYy5tZXRhZGF0YS5wYXJlbnRcblxuXHRcdFx0XHRcdFx0aWYgcGFyZW50XG5cdFx0XHRcdFx0XHRcdHIgPSBjb2xsZWN0aW9uLnVwZGF0ZSh7J21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCwgJ21ldGFkYXRhLmN1cnJlbnQnIDogdHJ1ZX0sIHskdW5zZXQgOiB7J21ldGFkYXRhLmN1cnJlbnQnIDogJyd9fSlcblx0XHRcdFx0XHRcdFx0aWYgclxuXHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhLnBhcmVudCA9IHBhcmVudFxuXHRcdFx0XHRcdFx0XHRcdGlmIGJvZHlbJ2xvY2tlZF9ieSddICYmIGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ11cblx0XHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmxvY2tlZF9ieSA9IGJvZHlbJ2xvY2tlZF9ieSddXG5cdFx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSA9IGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ11cblxuXHRcdFx0XHRcdFx0XHRcdG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YVxuXHRcdFx0XHRcdFx0XHRcdGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydCBuZXdGaWxlXG5cblx0XHRcdFx0XHRcdFx0XHQjIOWIoOmZpOWQjOS4gOS4queUs+ivt+WNleWQjOS4gOS4quatpemqpOWQjOS4gOS4quS6uuS4iuS8oOeahOmHjeWkjeeahOaWh+S7tlxuXHRcdFx0XHRcdFx0XHRcdGlmIGJvZHlbXCJvdmVyd3JpdGVcIl0gJiYgYm9keVtcIm92ZXJ3cml0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09IFwidHJ1ZVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9uLnJlbW92ZSh7J21ldGFkYXRhLmluc3RhbmNlJzogYm9keVsnaW5zdGFuY2UnXSwgJ21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCwgJ21ldGFkYXRhLm93bmVyJzogYm9keVsnb3duZXInXSwgJ21ldGFkYXRhLmFwcHJvdmUnOiBib2R5WydhcHByb3ZlJ10sICdtZXRhZGF0YS5jdXJyZW50JzogeyRuZTogdHJ1ZX19KVxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGFcblx0XHRcdFx0XHRcdFx0ZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0IG5ld0ZpbGVcblx0XHRcdFx0XHRcdFx0ZmlsZU9iai51cGRhdGUoeyRzZXQ6IHsnbWV0YWRhdGEucGFyZW50JyA6IGZpbGVPYmouX2lkfX0pXG5cblx0XHRcdFx0XHQjIOWFvOWuueiAgeeJiOacrFxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydCBuZXdGaWxlXG5cblx0XHRcdFx0XHRzaXplID0gZmlsZU9iai5vcmlnaW5hbC5zaXplXG5cdFx0XHRcdFx0aWYgIXNpemVcblx0XHRcdFx0XHRcdHNpemUgPSAxMDI0XG5cblx0XHRcdFx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0cmVzdWx0ID1cblx0XHRcdFx0XHRcdGF0dGFjaF9pZDogZmlsZU9iai5faWQsXG5cdFx0XHRcdFx0XHRzaXplOiBzaXplXG5cblx0XHRcdFx0XHRyZXMuc2V0SGVhZGVyKFwieC1hbXotdmVyc2lvbi1pZFwiLGZpbGVPYmouX2lkKTtcblxuXHRcdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogXCJuZWVkIGZpbGVcIn1dfVxuXHRcdFx0XHRyZXR1cm5cblxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cblxuSnNvblJvdXRlcy5hZGQgXCJkZWxldGVcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWRcIiwgIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcblxuXHRcdGlmIGluc3RhbmNlLnN0YXRlIGlzbnQgXCJkcmFmdFwiXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73liKDpmaTpmYTku7YnKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5IHx8IHt9XG5cdFx0YXR0YWNoX2lkID0gaGFzaERhdGFbXCJhdHRhY2hfaWRcIl1cblxuXHRcdGlmIG5vdCBhdHRhY2hfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBhdHRhY2hfaWQnKVxuXG5cdFx0Y29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXNcblxuXHRcdGZpbGUgPSBjb2xsZWN0aW9uLmZpbmRPbmUoeyBfaWQ6IGF0dGFjaF9pZCwgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zX2lkfSlcblx0XHRpZiBmaWxlXG5cdFx0XHRmaWxlLnJlbW92ZSgpXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5q2k6ZmE5Lu25LiN5bGe5LqO5q2k55Sz6K+35Y2V77yM5oiW5bey6KKr5Yig6ZmkJylcblxuXHRcdHJlc3VsdCA9IG5ldyBPYmplY3Rcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG5cbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86YXR0YWNoX2lkXCIsICAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGF0dGFjaF9pZCA9IHJlcS5wYXJhbXMuYXR0YWNoX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0cmVzLnN0YXR1c0NvZGUgPSAzMDJcblx0XHRyZXMuc2V0SGVhZGVyIFwiTG9jYXRpb25cIiwgU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9pbnN0YW5jZXMvXCIpICsgYXR0YWNoX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiXG5cdFx0cmVzLmVuZCgpXG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuIiwiXG4vKlxuQ29udGVudC1UeXBl77yaYXBwbGljYXRpb24vanNvblxuZm9ybS1kYXRhIOagvOW8jzpcbmZkID0gbmV3IEZvcm1EYXRhO1xuZmQuYXBwZW5kKFwiZmlsZVwiLCBmaWxlKTtcblxuZmQuYXBwZW5kKFwiaXNfcHJpdmF0ZVwiLCBmYWxzZSk7XG5cbmlmIChpc0FkZFZlcnNpb24pIHtcblx0ZmQuYXBwZW5kKFwiaXNBZGRWZXJzaW9uXCIsIGlzQWRkVmVyc2lvbik7XG5cdGZkLmFwcGVuZChcInBhcmVudFwiLCBhdHRhY2hfcGFyZW50X2lkKTtcbn1cblxuaWYgKGlzTWFpbkF0dGFjaCkge1xuXHRmZC5hcHBlbmQoXCJtYWluXCIsIHRydWUpO1xufVxuICovXG52YXIgQnVzYm95LCBGaWJlcjtcblxuQnVzYm95ID0gcmVxdWlyZSgnYnVzYm95Jyk7XG5cbkZpYmVyID0gcmVxdWlyZSgnZmliZXJzJyk7XG5cbkpzb25Sb3V0ZXMucGFyc2VGaWxlcyA9IGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBidXNib3ksIGZpbGVzLCBpbWFnZTtcbiAgZmlsZXMgPSBbXTtcbiAgaW1hZ2UgPSB7fTtcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiUE9TVFwiKSB7XG4gICAgYnVzYm95ID0gbmV3IEJ1c2JveSh7XG4gICAgICBoZWFkZXJzOiByZXEuaGVhZGVyc1xuICAgIH0pO1xuICAgIGJ1c2JveS5vbihcImZpbGVcIiwgZnVuY3Rpb24oZmllbGRuYW1lLCBmaWxlLCBmaWxlbmFtZSwgZW5jb2RpbmcsIG1pbWV0eXBlKSB7XG4gICAgICB2YXIgYnVmZmVycztcbiAgICAgIGltYWdlLm1pbWVUeXBlID0gbWltZXR5cGU7XG4gICAgICBpbWFnZS5lbmNvZGluZyA9IGVuY29kaW5nO1xuICAgICAgaW1hZ2UuZmlsZW5hbWUgPSBmaWxlbmFtZTtcbiAgICAgIGJ1ZmZlcnMgPSBbXTtcbiAgICAgIGZpbGUub24oJ2RhdGEnLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHJldHVybiBidWZmZXJzLnB1c2goZGF0YSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWxlLm9uKCdlbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaW1hZ2UuZGF0YSA9IEJ1ZmZlci5jb25jYXQoYnVmZmVycyk7XG4gICAgICAgIHJldHVybiBmaWxlcy5wdXNoKGltYWdlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGJ1c2JveS5vbihcImZpZWxkXCIsIGZ1bmN0aW9uKGZpZWxkbmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiByZXEuYm9keVtmaWVsZG5hbWVdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgYnVzYm95Lm9uKFwiZmluaXNoXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgcmVxLmZpbGVzID0gZmlsZXM7XG4gICAgICByZXR1cm4gRmliZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICB9KS5ydW4oKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVxLnBpcGUoYnVzYm95KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV4dCgpO1xuICB9XG59O1xuXG5Kc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXBwcm92ZV9pZCwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaW5zX2lkLCBpbnN0YW5jZSwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgaWYgKGluc3RhbmNlLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveS4iuS8oCcpO1xuICAgIH1cbiAgICBhcHByb3ZlX2lkID0gaW5zdGFuY2UudHJhY2VzWzBdLmFwcHJvdmVzWzBdLl9pZDtcbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5wYXJzZUZpbGVzKHJlcSwgcmVzLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb2xsZWN0aW9uLCBuZXdGaWxlO1xuICAgICAgY29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXM7XG4gICAgICBpZiAocmVxLmZpbGVzICYmIHJlcS5maWxlc1swXSkge1xuICAgICAgICBpZiAocmVxLmZpbGVzWzBdLmRhdGEubGVuZ3RoID4gKDEwMCAqIDEwMjQgKiAxMDI0KSkge1xuICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBcIui2hei/h+S4iuS8oOmZhOS7tuWkp+Wwj+mZkOWItigxMDBNKVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5ld0ZpbGUgPSBuZXcgRlMuRmlsZSgpO1xuICAgICAgICByZXR1cm4gbmV3RmlsZS5hdHRhY2hEYXRhKHJlcS5maWxlc1swXS5kYXRhLCB7XG4gICAgICAgICAgdHlwZTogcmVxLmZpbGVzWzBdLm1pbWVUeXBlXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIHZhciBib2R5LCBlLCBmaWxlT2JqLCBmaWxlbmFtZSwgbWV0YWRhdGEsIHBhcmVudCwgciwgcmVzdWx0LCBzaXplO1xuICAgICAgICAgIGZpbGVuYW1lID0gcmVxLmZpbGVzWzBdLmZpbGVuYW1lO1xuICAgICAgICAgIGlmIChbXCJpbWFnZS5qcGdcIiwgXCJpbWFnZS5naWZcIiwgXCJpbWFnZS5qcGVnXCIsIFwiaW1hZ2UucG5nXCJdLmluY2x1ZGVzKGZpbGVuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBmaWxlbmFtZSA9IFwiaW1hZ2UtXCIgKyBtb21lbnQobmV3IERhdGUoKSkuZm9ybWF0KCdZWVlZTU1EREhIbW1zcycpICsgXCIuXCIgKyBmaWxlbmFtZS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBib2R5ID0gcmVxLmJvZHk7XG4gICAgICAgICAgYm9keVsnb3duZXInXSA9IGluc3RhbmNlLnN1Ym1pdHRlcjtcbiAgICAgICAgICBib2R5Wydvd25lcl9uYW1lJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXJfbmFtZTtcbiAgICAgICAgICBib2R5WydzcGFjZSddID0gc3BhY2VfaWQ7XG4gICAgICAgICAgYm9keVsnaW5zdGFuY2UnXSA9IGluc19pZDtcbiAgICAgICAgICBib2R5WydhcHByb3ZlJ10gPSBhcHByb3ZlX2lkO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoYm9keSAmJiAoYm9keVsndXBsb2FkX2Zyb20nXSA9PT0gXCJJRVwiIHx8IGJvZHlbJ3VwbG9hZF9mcm9tJ10gPT09IFwibm9kZVwiKSkge1xuICAgICAgICAgICAgICBmaWxlbmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChmaWxlbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZmlsZW5hbWUpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUucmVwbGFjZSgvJS9nLCBcIi1cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld0ZpbGUubmFtZShmaWxlbmFtZSk7XG4gICAgICAgICAgaWYgKGJvZHkgJiYgYm9keVsnb3duZXInXSAmJiBib2R5Wydvd25lcl9uYW1lJ10gJiYgYm9keVsnc3BhY2UnXSAmJiBib2R5WydpbnN0YW5jZSddICYmIGJvZHlbJ2FwcHJvdmUnXSkge1xuICAgICAgICAgICAgcGFyZW50ID0gJyc7XG4gICAgICAgICAgICBtZXRhZGF0YSA9IHtcbiAgICAgICAgICAgICAgb3duZXI6IGJvZHlbJ293bmVyJ10sXG4gICAgICAgICAgICAgIG93bmVyX25hbWU6IGJvZHlbJ293bmVyX25hbWUnXSxcbiAgICAgICAgICAgICAgc3BhY2U6IGJvZHlbJ3NwYWNlJ10sXG4gICAgICAgICAgICAgIGluc3RhbmNlOiBib2R5WydpbnN0YW5jZSddLFxuICAgICAgICAgICAgICBhcHByb3ZlOiBib2R5WydhcHByb3ZlJ10sXG4gICAgICAgICAgICAgIGN1cnJlbnQ6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoYm9keVtcImlzX3ByaXZhdGVcIl0gJiYgYm9keVtcImlzX3ByaXZhdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgbWV0YWRhdGEuaXNfcHJpdmF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtZXRhZGF0YS5pc19wcml2YXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm9keVsnbWFpbiddID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICBtZXRhZGF0YS5tYWluID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib2R5Wydpc0FkZFZlcnNpb24nXSAmJiBib2R5WydwYXJlbnQnXSkge1xuICAgICAgICAgICAgICBwYXJlbnQgPSBib2R5WydwYXJlbnQnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgciA9IGNvbGxlY3Rpb24udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGJvZHlbJ2xvY2tlZF9ieSddICYmIGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ10pIHtcbiAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLmxvY2tlZF9ieSA9IGJvZHlbJ2xvY2tlZF9ieSddO1xuICAgICAgICAgICAgICAgICAgbWV0YWRhdGEubG9ja2VkX2J5X25hbWUgPSBib2R5Wydsb2NrZWRfYnlfbmFtZSddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KG5ld0ZpbGUpO1xuICAgICAgICAgICAgICAgIGlmIChib2R5W1wib3ZlcndyaXRlXCJdICYmIGJvZHlbXCJvdmVyd3JpdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucmVtb3ZlKHtcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogYm9keVsnaW5zdGFuY2UnXSxcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCxcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLm93bmVyJzogYm9keVsnb3duZXInXSxcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmFwcHJvdmUnOiBib2R5WydhcHByb3ZlJ10sXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgICAgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KG5ld0ZpbGUpO1xuICAgICAgICAgICAgICBmaWxlT2JqLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLnBhcmVudCc6IGZpbGVPYmouX2lkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KG5ld0ZpbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaXplID0gZmlsZU9iai5vcmlnaW5hbC5zaXplO1xuICAgICAgICAgIGlmICghc2l6ZSkge1xuICAgICAgICAgICAgc2l6ZSA9IDEwMjQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgYXR0YWNoX2lkOiBmaWxlT2JqLl9pZCxcbiAgICAgICAgICAgIHNpemU6IHNpemVcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlcy5zZXRIZWFkZXIoXCJ4LWFtei12ZXJzaW9uLWlkXCIsIGZpbGVPYmouX2lkKTtcbiAgICAgICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGVycm9yczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBcIm5lZWQgZmlsZVwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5Kc29uUm91dGVzLmFkZChcImRlbGV0ZVwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXR0YWNoX2lkLCBjb2xsZWN0aW9uLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmaWxlLCBoYXNoRGF0YSwgaW5zX2lkLCBpbnN0YW5jZSwgcmVzdWx0LCBzcGFjZV9pZDtcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95Yig6Zmk6ZmE5Lu2Jyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHkgfHwge307XG4gICAgYXR0YWNoX2lkID0gaGFzaERhdGFbXCJhdHRhY2hfaWRcIl07XG4gICAgaWYgKCFhdHRhY2hfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBhdHRhY2hfaWQnKTtcbiAgICB9XG4gICAgY29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXM7XG4gICAgZmlsZSA9IGNvbGxlY3Rpb24uZmluZE9uZSh7XG4gICAgICBfaWQ6IGF0dGFjaF9pZCxcbiAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZFxuICAgIH0pO1xuICAgIGlmIChmaWxlKSB7XG4gICAgICBmaWxlLnJlbW92ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfmraTpmYTku7bkuI3lsZ7kuo7mraTnlLPor7fljZXvvIzmiJblt7LooqvliKDpmaQnKTtcbiAgICB9XG4gICAgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzphdHRhY2hfaWRcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF0dGFjaF9pZCwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgYXR0YWNoX2lkID0gcmVxLnBhcmFtcy5hdHRhY2hfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgcmVzLnN0YXR1c0NvZGUgPSAzMDI7XG4gICAgcmVzLnNldEhlYWRlcihcIkxvY2F0aW9uXCIsIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvaW5zdGFuY2VzL1wiKSArIGF0dGFjaF9pZCArIFwiP2Rvd25sb2FkPXRydWVcIik7XG4gICAgcmV0dXJuIHJlcy5lbmQoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF9yZWZpbGxcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWbnuWhq+WtkOihqD09PT09PT09PT1cIlxuXHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIscmVxPy5xdWVyeT8uc3ViVGFibGVcblx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3liIblj5Hlm57loavnmoTliJc9PT09PT09PT09XCJcblx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5jb2x1bW5cIixyZXE/LnF1ZXJ5Py5jb2x1bW5cblxuXHRjb2x1bW5zID0gcmVxPy5xdWVyeT8uY29sdW1uLnNwbGl0KCc7Jylcblx0Y29uc29sZS5sb2cgXCJjb2x1bW5zXCIsY29sdW1uc1xuXG5cblx0IyDliIblj5HnmoTnlLPor7fljZVcblx0Zm9yd2FyZF9pbnMgPSByZXE/LmJvZHk/Lmluc3RhbmNlXG5cblx0c3ViVGFibGUgPSByZXE/LnF1ZXJ5Py5zdWJUYWJsZVxuXG5cdGlmIGZvcndhcmRfaW5zPy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiICYmIGZvcndhcmRfaW5zPy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzPy5sZW5ndGg+MCAmJiBzdWJUYWJsZSAmJiBjb2x1bW5zXG5cdFx0XG5cdFx0IyDliIblj5Hlm57mnaXnmoTlgLxcblx0XHRmb3J3YXJkX2luc192YWx1ZXMgPSBmb3J3YXJkX2lucz8udmFsdWVzXG5cblx0XHQjICMg5Y6f55Sz6K+35Y2V5a2X5q61XG5cdFx0b3JpZ2luYWxfaW5zX2lkID0gXy5sYXN0IGZvcndhcmRfaW5zPy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXG5cdFx0b3JpZ2luYWxfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob3JpZ2luYWxfaW5zX2lkKVxuXHRcdG9yaWdpbmFsX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvcmlnaW5hbF9pbnM/LmZvcm0pXG5cblx0XHRvcmlnaW5hbF9pbnNfZmllbGRzID0gW11cblx0XHRvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBbXVxuXG5cdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXCIsb3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxuXHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb25cIixvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvblxuXG5cdFx0IyDmn6XnnIvljp/nlLPor7fljZXmmK/lkKbmnInlr7nlupTnmoTlrZDooahcblx0XHRpZiBvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXG5cdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudD8uZmllbGRzXG5cdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2ggKG9yaWdpbmFsX2luc19maWVsZCktPlxuXHRcdFx0XHRjb25zb2xlLmxvZyBcIm9yaWdpbmFsX2luc19maWVsZFwiLG9yaWdpbmFsX2luc19maWVsZD8uY29kZVxuXHRcdFx0XHRpZiBvcmlnaW5hbF9pbnNfZmllbGQ/LmNvZGUgPT0gc3ViVGFibGUgJiYgb3JpZ2luYWxfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZSdcblx0XHRcdFx0XHRvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQ/LmZpZWxkc1xuXHRcdGVsc2Vcblx0XHRcdGlmIG9yaWdpbmFsX2luc19mb3JtPy5oaXN0b3J5cz8ubGVuZ3RoID4gMFxuXHRcdFx0XHRvcmlnaW5hbF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoIChvaCktPlxuXHRcdFx0XHRcdGlmIG9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uID09IG9oLl9pZFxuXHRcdFx0XHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcyA9IG9oPy5maWVsZHNcblx0XHRcdFx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaCAob3JpZ2luYWxfaW5zX2ZpZWxkKS0+XG5cdFx0XHRcdFx0XHRcdGlmIG9yaWdpbmFsX2luc19maWVsZD8uY29kZSA9PSBzdWJUYWJsZSAmJiBvcmlnaW5hbF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdFx0XHRcdG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZD8uZmllbGRzXG5cblx0XHRjb25zb2xlLmxvZyBcIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkc1wiLG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcz8ubGVuZ3RoXG5cblx0XHRpZiBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHNcblx0XHRcdCMgIyDmm7TmlrDmraXpqqTnmoTlgLxcblx0XHRcdCMgMS7mib7liLDlvZPliY3nmoTmraXpqqRcblx0XHRcdCMgMi7lvZPliY3mraXpqqTkuK1hcHByb3Zlc+S4reeahHZhbHVlc1xuXHRcdFx0IyAzLuWcqHZhbHVlc+S4reaJvuWIsOihqOagvFxuXHRcdFx0IyA0LuagueaNruihqOagvOeahGZpZWxkc+WxnuaAp++8jOS4gOS4quS4queahOi1i+WAvFxuXHRcdFx0IyA1LuaKiuWkjeWItueahHB1c2jliLDooajmoLzmlbDnu4TnmoTlkI7pnaJcblx0XHRcdHRyYWNlcyA9IG9yaWdpbmFsX2lucz8udHJhY2VzXG5cblx0XHRcdHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGgtMV1cblxuXHRcdFx0YXBwcm92ZSA9IHRyYWNlPy5hcHByb3Zlc1swXVxuXG5cdFx0XHR0YWJsZV9kYXRhID0gYXBwcm92ZT8udmFsdWVzW3N1YlRhYmxlXSB8fCBbXVxuXG5cdFx0XHRyb3dfZGF0YSA9IHt9XG5cblx0XHRcdGNvbHVtbnMuZm9yRWFjaCAoY29sdW1uKS0+XG5cdFx0XHRcdHJvd19kYXRhW2NvbHVtbl0gPSBmb3J3YXJkX2luc192YWx1ZXNbY29sdW1uXSB8fCBcIlwiXG5cdFx0XHRcblx0XHRcdFxuXHRcdFx0aWYgcm93X2RhdGEgJiYgcm93X2RhdGEgIT0ge31cblx0XHRcdFx0dGFibGVfZGF0YS5wdXNoIHJvd19kYXRhXG5cdFx0XHRcdHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlc1tzdWJUYWJsZV0gPSB0YWJsZV9kYXRhXG5cblx0XHRcdFx0Y29uc29sZS5sb2cgdHJhY2VzW3RyYWNlcy5sZW5ndGgtMV0uYXBwcm92ZXNbMF0udmFsdWVzW3N1YlRhYmxlXVxuXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUob3JpZ2luYWxfaW5zX2lkLHtcblx0XHRcdFx0XHQkc2V0Ontcblx0XHRcdFx0XHRcdCd0cmFjZXMnOnRyYWNlc1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0J3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdCdpbmZvJzogJ+WbnuWhq+aVsOaNruS4uuepuidcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdGVsc2Vcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0J2Vycm9yJzogJ+WOn+eUs+ivt+WNleaXoOebuOWFs+WtkOihqCdcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRlbHNlXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnc3VjY2Vzcyc6ICfnlLPor7fljZXmnKrnu5PmnZ8nXG5cdFx0XHR9XG5cdFx0fVxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF9yZWZpbGxcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFwcHJvdmUsIGNvbHVtbnMsIGZvcndhcmRfaW5zLCBmb3J3YXJkX2luc192YWx1ZXMsIG9yaWdpbmFsX2lucywgb3JpZ2luYWxfaW5zX2ZpZWxkcywgb3JpZ2luYWxfaW5zX2Zvcm0sIG9yaWdpbmFsX2luc19pZCwgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHJlZjcsIHJlZjgsIHJlZjksIHJvd19kYXRhLCBzdWJUYWJsZSwgdGFibGVfZGF0YSwgdHJhY2UsIHRyYWNlcztcbiAgY29uc29sZS5sb2coXCI9PT09PT09PT3lm57loavlrZDooag9PT09PT09PT09XCIpO1xuICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIGNvbnNvbGUubG9nKFwiPT09PT09PT095YiG5Y+R5Zue5aGr55qE5YiXPT09PT09PT09PVwiKTtcbiAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5jb2x1bW5cIiwgcmVxICE9IG51bGwgPyAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuY29sdW1uIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgY29sdW1ucyA9IHJlcSAhPSBudWxsID8gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLmNvbHVtbi5zcGxpdCgnOycpIDogdm9pZCAwIDogdm9pZCAwO1xuICBjb25zb2xlLmxvZyhcImNvbHVtbnNcIiwgY29sdW1ucyk7XG4gIGZvcndhcmRfaW5zID0gcmVxICE9IG51bGwgPyAocmVmMyA9IHJlcS5ib2R5KSAhPSBudWxsID8gcmVmMy5pbnN0YW5jZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgc3ViVGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgaWYgKChmb3J3YXJkX2lucyAhPSBudWxsID8gZm9yd2FyZF9pbnMuc3RhdGUgOiB2b2lkIDApID09PSBcImNvbXBsZXRlZFwiICYmIChmb3J3YXJkX2lucyAhPSBudWxsID8gKHJlZjUgPSBmb3J3YXJkX2lucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSAhPSBudWxsID8gcmVmNS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCAmJiBzdWJUYWJsZSAmJiBjb2x1bW5zKSB7XG4gICAgZm9yd2FyZF9pbnNfdmFsdWVzID0gZm9yd2FyZF9pbnMgIT0gbnVsbCA/IGZvcndhcmRfaW5zLnZhbHVlcyA6IHZvaWQgMDtcbiAgICBvcmlnaW5hbF9pbnNfaWQgPSBfLmxhc3QoZm9yd2FyZF9pbnMgIT0gbnVsbCA/IGZvcndhcmRfaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgOiB2b2lkIDApO1xuICAgIG9yaWdpbmFsX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9yaWdpbmFsX2luc19pZCk7XG4gICAgb3JpZ2luYWxfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm0gOiB2b2lkIDApO1xuICAgIG9yaWdpbmFsX2luc19maWVsZHMgPSBbXTtcbiAgICBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBbXTtcbiAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcIiwgb3JpZ2luYWxfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWY2ID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjYuX2lkIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uXCIsIG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCk7XG4gICAgaWYgKChvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSAob3JpZ2luYWxfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWY3ID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjcuX2lkIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgb3JpZ2luYWxfaW5zX2ZpZWxkcyA9IChyZWY4ID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjguZmllbGRzIDogdm9pZCAwO1xuICAgICAgb3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9yaWdpbmFsX2luc19maWVsZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX2luc19maWVsZFwiLCBvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5jb2RlIDogdm9pZCAwKTtcbiAgICAgICAgaWYgKChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gc3ViVGFibGUgJiYgKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgICAgICAgcmV0dXJuIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgob3JpZ2luYWxfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWY5ID0gb3JpZ2luYWxfaW5zX2Zvcm0uaGlzdG9yeXMpICE9IG51bGwgPyByZWY5Lmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgIG9yaWdpbmFsX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24ob2gpIHtcbiAgICAgICAgICBpZiAoKG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IG9oLl9pZCkge1xuICAgICAgICAgICAgb3JpZ2luYWxfaW5zX2ZpZWxkcyA9IG9oICE9IG51bGwgPyBvaC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9yaWdpbmFsX2luc19maWVsZCkge1xuICAgICAgICAgICAgICBpZiAoKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBzdWJUYWJsZSAmJiAob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkc1wiLCBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgIT0gbnVsbCA/IG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggOiB2b2lkIDApO1xuICAgIGlmIChvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMpIHtcbiAgICAgIHRyYWNlcyA9IG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLnRyYWNlcyA6IHZvaWQgMDtcbiAgICAgIHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXTtcbiAgICAgIGFwcHJvdmUgPSB0cmFjZSAhPSBudWxsID8gdHJhY2UuYXBwcm92ZXNbMF0gOiB2b2lkIDA7XG4gICAgICB0YWJsZV9kYXRhID0gKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUudmFsdWVzW3N1YlRhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICByb3dfZGF0YSA9IHt9O1xuICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICByZXR1cm4gcm93X2RhdGFbY29sdW1uXSA9IGZvcndhcmRfaW5zX3ZhbHVlc1tjb2x1bW5dIHx8IFwiXCI7XG4gICAgICB9KTtcbiAgICAgIGlmIChyb3dfZGF0YSAmJiByb3dfZGF0YSAhPT0ge30pIHtcbiAgICAgICAgdGFibGVfZGF0YS5wdXNoKHJvd19kYXRhKTtcbiAgICAgICAgdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdID0gdGFibGVfZGF0YTtcbiAgICAgICAgY29uc29sZS5sb2codHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdKTtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShvcmlnaW5hbF9pbnNfaWQsIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAndHJhY2VzJzogdHJhY2VzXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAnaW5mbyc6ICflm57loavmlbDmja7kuLrnqbonXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgJ2Vycm9yJzogJ+WOn+eUs+ivt+WNleaXoOebuOWFs+WtkOihqCdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdzdWNjZXNzJzogJ+eUs+ivt+WNleacque7k+adnydcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfdGFibGVfcmVmaWxsXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3ljp/ooajlrZDooag9PT09PT09PT09XCJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/Lm9UYWJsZVwiLHJlcT8ucXVlcnk/Lm9UYWJsZVxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT09546w6KGo5a2Q6KGoPT09PT09PT09PVwiXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5kVGFibGVcIixyZXE/LnF1ZXJ5Py5kVGFibGVcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWOn+ihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIlxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8ub01hdGNoQ29sXCIscmVxPy5xdWVyeT8ub01hdGNoQ29sXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3njrDooajljZXnmoTlrZDooajljLnphY3liJc9PT09PT09PT09XCJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LmRNYXRjaENvbFwiLHJlcT8ucXVlcnk/LmRNYXRjaENvbFxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT096ZyA6KaB5Zue5aGr55qE5YiXPT09PT09PT09PVwiXHRcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnJlZmlsbENvbFwiLHJlcT8ucXVlcnk/LnJlZmlsbENvbFxuXG5cdFx0IyDliIblj5HnmoTnlLPor7fljZVcblx0XHRkX2lucyA9IHJlcT8uYm9keT8uaW5zdGFuY2VcblxuXHRcdFxuXHRcdGlmIGRfaW5zPy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXG5cdFx0XHRpZiByZXE/LnF1ZXJ5Py5vVGFibGVcblx0XHRcdFx0b190YWJsZSA9IHJlcT8ucXVlcnk/Lm9UYWJsZVxuXHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5kVGFibGVcblx0XHRcdFx0XHRkX3RhYmxlID0gcmVxPy5xdWVyeT8uZFRhYmxlXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRkX3RhYmxlID0gb190YWJsZVxuXHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5hVGFibGVcblx0XHRcdFx0XHRhX3RhYmxlID0gcmVxPy5xdWVyeT8uYVRhYmxlXG5cdFx0XHRcdGlmIHJlcT8ucXVlcnk/Lm9NYXRjaENvbFxuXHRcdFx0XHRcdG9fbWF0Y2hfY29sID0gcmVxPy5xdWVyeT8ub01hdGNoQ29sXG5cdFx0XHRcdFx0aWYgcmVxPy5xdWVyeT8uZE1hdGNoQ29sXG5cdFx0XHRcdFx0XHRkX21hdGNoX2NvbCA9IHJlcT8ucXVlcnk/LmRNYXRjaENvbFxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sID0gb19tYXRjaF9jb2xcblx0XHRcdFx0XHRjb2x1bW5zID0gcmVxPy5xdWVyeT8ucmVmaWxsQ29sLnNwbGl0KCc7JykgfHwgW11cblx0XHRcdFx0XHRjb25zb2xlLmxvZyBcImNvbHVtbnNcIixjb2x1bW5zXHRcdFx0XHRcdFxuXG5cdFx0XHRcdFx0aWYgY29sdW1ucyB8fCBjb2x1bW5zLmxlbmd0aDwxXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PT09PT09PT09PT09PT1cIlxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2cgZF90YWJsZSwgb19tYXRjaF9jb2wsIGNvbHVtbnNcblxuXHRcdFx0XHRcdFx0IyDliIblj5Hlm57mnaXnmoTlgLxcblx0XHRcdFx0XHRcdGRfaW5zX3ZhbHVlcyA9IGRfaW5zPy52YWx1ZXNcblxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZUgZm9ybSDooajlrZfmrrVcblx0XHRcdFx0XHRcdG9faW5zX2lkID0gXy5sYXN0IGRfaW5zPy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXG5cdFx0XHRcdFx0XHRvX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9faW5zX2lkKVxuXHRcdFx0XHRcdFx0b19pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob19pbnM/LmZvcm0pXG5cblx0XHRcdFx0XHRcdGRfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGRfaW5zPy5mb3JtKVxuXG5cdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNleeahCBmaWVsZHNcblx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcyA9IFtdXG5cblx0XHRcdFx0XHRcdCMg5Y6f5a2Q6KGo5a2X5q61XG5cdFx0XHRcdFx0XHRvX3N1YnRhYmxlX2ZpZWxkcyA9IFtdXG5cblx0XHRcdFx0XHRcdCMg5YiG5Y+R55Sz6K+35Y2V55qEIGZpZWxkc1xuXHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzID0gW11cblx0XHRcdFx0XHRcdCMg546w55Sz6K+35Y2V5a2X6KGo5a2X5q61XG5cdFx0XHRcdFx0XHRkX3N1YnRhYmxlX2ZpZWxkcyA9IFtdXG5cblx0XHRcdFx0XHRcdCMg6LWL5YC85a+55bqU55qE5a2X5q61XG5cdFx0XHRcdFx0XHRjb2x1bW5fbGlzdCA9IFtdXG5cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0IyDliIblj5HlkI7nlLPor7fljZXnmoQg5a2Q6KGo5YC8XG5cdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlcyA9IFtdXG5cblx0XHRcdFx0XHRcdCMg5p+l55yL5Y6f55Sz6K+35Y2V5piv5ZCm5pyJ5a+55bqU55qE5a2Q6KGoXG5cdFx0XHRcdFx0XHRpZiBvX2lucz8uZm9ybV92ZXJzaW9uID09IG9faW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxuXHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMgPSBvX2luc19mb3JtPy5jdXJyZW50Py5maWVsZHNcblx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzLmZvckVhY2ggKG9faW5zX2ZpZWxkKS0+XG5cdFx0XHRcdFx0XHRcdFx0aWYgb19pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBvX2luc19maWVsZD8uY29kZSA9PSBvX3RhYmxlXG5cdFx0XHRcdFx0XHRcdFx0XHRvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkPy5maWVsZHNcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0aWYgb19pbnNfZm9ybT8uaGlzdG9yeXM/Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRcdFx0XHRvX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2ggKG9oKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBvX2lucz8uZm9ybV92ZXJzaW9uID09IG9oLl9pZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMgPSBvaD8uZmllbGRzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcy5mb3JFYWNoIChvX2luc19maWVsZCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIG9faW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgb19pbnNfZmllbGQ/LmNvZGUgPT0gb190YWJsZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZD8uZmllbGRzXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdCMg5p+l55yL5YiG5Y+R55qE55Sz6K+35Y2V5piv5ZCm5pyJ5a+55bqU55qE5a2X6KGoXG5cdFx0XHRcdFx0XHRpZiBkX2lucz8uZm9ybV92ZXJzaW9uID09IGRfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxuXHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMgPSBkX2luc19mb3JtPy5jdXJyZW50Py5maWVsZHNcblx0XHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzLmZvckVhY2ggKGRfaW5zX2ZpZWxkKS0+XG5cdFx0XHRcdFx0XHRcdFx0aWYoKGRfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgZF9pbnNfZmllbGQ/LmNvZGUgPT0gZF90YWJsZSl8fChhX3RhYmxlICYmIGRfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgZF9pbnNfZmllbGQ/LmNvZGUgPT0gYV90YWJsZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdCBkX2luc19maWVsZD8uZmllbGRzXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdGlmIGRfaW5zX2Zvcm0/Lmhpc3RvcnlzPy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0XHRcdFx0ZF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoIChkaCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgZF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBkaC5faWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzID0gZGg/LmZpZWxkc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMuZm9yRWFjaCAoZF9pbnNfZmllbGQpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZigoZF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBkX2luc19maWVsZD8uY29kZSA9PSBkX3RhYmxlKXx8KGFfdGFibGUgJiYgZF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBkX2luc19maWVsZD8uY29kZSA9PSBhX3RhYmxlKSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRfc3VidGFibGVfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuY29uY2F0IGRfaW5zX2ZpZWxkPy5maWVsZHNcblx0XHRcdFx0XHRcdFxuXG5cdFx0XHRcdFx0XHRcblxuXHRcdFx0XHRcdFx0aWYgb19zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2cgXCJvX3N1YnRhYmxlX2ZpZWxkc1wiLG9fc3VidGFibGVfZmllbGRzXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aWYgZF9zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xuXG5cdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlcyA9IGRfaW5zPy52YWx1ZXNbZF90YWJsZV0gfHwgW11cblxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRpZiBhX3RhYmxlXG5cdFx0XHRcdFx0XHRcdGFfdGFibGVfdmFsdWVzID0gIGRfaW5zPy52YWx1ZXNbYV90YWJsZV0gfHwgW11cblx0XHRcdFx0XHRcdFx0aWYgYV90YWJsZV92YWx1ZXMgJiYgYV90YWJsZV92YWx1ZXM/Lmxlbmd0aD09ZF90YWJsZV92YWx1ZXM/Lmxlbmd0aFxuXHRcdFx0XHRcdFx0XHRcdGFfdGFibGVfdmFsdWVzLmZvckVhY2ggKGFfcm93LGluZGV4KS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlc1tpbmRleF1ba2V5XSA9IHZhbHVlIGZvciBrZXksdmFsdWUgb2YgYV9yb3dcblxuXHRcdFx0XHRcdFx0aWYgZF90YWJsZV92YWx1ZXMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaVsOaNruS4uuepuicpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRvX21hdGNoX2NvbF9maWVsZHMgPSBvX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1vX21hdGNoX2NvbClcblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PWRfbWF0Y2hfY29sKVxuXG5cdFx0XHRcdFx0XHQjIOWMuemFjeWIl+WIpOaWrVxuXHRcdFx0XHRcdFx0aWYgb19tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTljLnphY3liJcnKTtcblxuXHRcdFx0XHRcdFx0aWYgZF9tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajml6Dlr7nlupTljLnphY3liJcnKTtcblxuXHRcdFx0XHRcdFx0IyDliKTmlq3ljLnphY3liJflrZfmrrXnmoTlgLznsbvlnovmmK/lkKbkuIDoh7Rcblx0XHRcdFx0XHRcdG9fbWF0Y2hfY29sX2ZpZWxkID0gb19tYXRjaF9jb2xfZmllbGRzWzBdXG5cdFx0XHRcdFx0XHRkX21hdGNoX2NvbF9maWVsZCA9IGRfbWF0Y2hfY29sX2ZpZWxkc1swXVxuXG5cdFx0XHRcdFx0XHRpZiBvX21hdGNoX2NvbF9maWVsZD8udHlwZSAhPSBkX21hdGNoX2NvbF9maWVsZD8udHlwZVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5ZKM5Y6f55Sz6K+35Y2V5a2Q6KGo55qE5Yy56YWN5YiX5a2X5q615LiN5LiA6Ie0Jyk7XG5cblx0XHRcdFx0XHRcdCMg5Zue5aGr5YiX5Yik5patXG5cdFx0XHRcdFx0XHRjb2x1bW5zLmZvckVhY2ggKGNvbHVtbiktPlxuXHRcdFx0XHRcdFx0XHRjb2xzID0gY29sdW1uLnNwbGl0KCctJykgfHwgW11cblx0XHRcdFx0XHRcdFx0aWYgY29scy5sZW5ndGggPT0gMlxuXHRcdFx0XHRcdFx0XHRcdG9fY29sID0gY29sc1swXVxuXHRcdFx0XHRcdFx0XHRcdGRfY29sID0gY29sc1sxXVxuXHRcdFx0XHRcdFx0XHRcdG9fY29sX2ZpZWxkcyA9IG9fc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PW9fY29sKVxuXHRcdFx0XHRcdFx0XHRcdGRfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PWRfY29sKVxuXG5cdFx0XHRcdFx0XHRcdFx0IyDliKTmlq3mmK/lkKbmnInlr7nlupTnmoTlm57loavliJdcblx0XHRcdFx0XHRcdFx0XHRpZiBvX2NvbF9maWVsZHMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIGRfY29sX2ZpZWxkcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xuXG5cdFx0XHRcdFx0XHRcdFx0IyDliKTmlq3ljLnphY3liJflrZfmrrXnmoTlgLznsbvlnovmmK/lkKbkuIDoh7Rcblx0XHRcdFx0XHRcdFx0XHRpZiBvX2NvbF9maWVsZHM/LnR5cGUgIT0gZF9jb2xfZmllbGRzPy50eXBlXG5cdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Zue5aGr5YiX5a2X5q6157G75Z6L5LiN5LiA6Ie0Jyk7XG5cdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0Y29sID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0b19jb2w6IG9fY29sLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZF9jb2w6IGRfY29sXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGNvbHVtbl9saXN0LnB1c2ggY29sXG5cblx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJfkuI3ljLnphY0nKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0IyDotYvlgLxcblx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgICc9PT09PT1jb2x1bW5fbGlzdD09PT09PT0nLGNvbHVtbl9saXN0XG5cblx0XHRcdFx0XHRcdHRyYWNlcyA9IG9faW5zPy50cmFjZXNcblxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZXnmoQgc3RlcCBcblx0XHRcdFx0XHRcdHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGgtMV1cblxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZXnmoTlvZPliY3mraXpqqRcblx0XHRcdFx0XHRcdGFwcHJvdmUgPSB0cmFjZT8uYXBwcm92ZXNbMF1cblxuXHRcdFx0XHRcdFx0IyDlhYPnlLPor7fljZXnmoTlvZPliY0gdmFsdWUg55qEIOWtkOihqFxuXHRcdFx0XHRcdFx0dGFibGVfZGF0YSA9IGFwcHJvdmU/LnZhbHVlc1tvX3RhYmxlXSB8fCBbXVxuXG5cblx0XHRcdFx0XHRcdCMg5qC55o2uIGNvbHVtbl9saXN0IOi1i+WAvOWvueW6lOWtl+autei/m+ihjOi1i+WAvFxuXHRcdFx0XHRcdFx0IyDlvqrnjq/liIblj5HnlLPor7fljZXnmoTmr4/ooYxcblx0XHRcdFx0XHRcdGRfdGFibGVfdmFsdWVzLmZvckVhY2ggKGRfcm93KS0+XG5cdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJkX3Jvd1wiLGRfcm93XG5cdFx0XHRcdFx0XHRcdCMg5p+l5om+5Yy56YWN55qE5YiX5piv5ZCm5LiO5b2T5YmN55qE5Yy56YWN5YiX5LiA6Ie0XG5cdFx0XHRcdFx0XHRcdGhhc19vYmogPSBmYWxzZVxuXHRcdFx0XHRcdFx0XHRjb3VudCA9IC0xXG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHQjIOeci+WOn+WtkOihqOaYr+WQpuacieivpeWMuemFjeWIl1xuXHRcdFx0XHRcdFx0XHR0YWJsZV9kYXRhLmZvckVhY2ggKG9fcm93LCBpbmRleCktPlxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJvX3Jvd1wiLCBvX3Jvd1xuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJpbmRleFwiLGluZGV4XG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcIm9fcm93W29fbWF0Y2hfY29sXVwiLG9fcm93W29fbWF0Y2hfY29sXVxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJkX3Jvd1tkX21hdGNoX2NvbF1cIixkX3Jvd1tkX21hdGNoX2NvbF1cblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwib19yb3dbb19tYXRjaF9jb2xdID09IGRfcm93W2RfbWF0Y2hfY29sXVwiLG9fcm93W29fbWF0Y2hfY29sXSA9PSBkX3Jvd1tkX21hdGNoX2NvbF1cblxuXHRcdFx0XHRcdFx0XHRcdGlmIG9fcm93W29fbWF0Y2hfY29sXSA9PSBkX3Jvd1tkX21hdGNoX2NvbF1cblx0XHRcdFx0XHRcdFx0XHRcdGhhc19vYmogPSB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0XHRjb3VudCA9IGluZGV4XG5cblx0XHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZXnmoTljLnphY3lrZfmrrXmnInlgLxcblx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImhhc19vYmpcIixoYXNfb2JqXG5cdFx0XHRcdFx0XHRcdGlmIGhhc19vYmo9PXRydWVcblx0XHRcdFx0XHRcdFx0XHRjb2x1bW5fbGlzdC5mb3JFYWNoIChjb2wpLT5cblx0XHRcdFx0XHRcdFx0XHRcdHRhYmxlX2RhdGFbY291bnRdW2NvbD8ub19jb2xdID0gZF9yb3dbY29sPy5kX2NvbF1cblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRyb3dfZGF0YSA9IHt9XG5cdFx0XHRcdFx0XHRcdFx0cm93X2RhdGFbb19tYXRjaF9jb2xdID0gZF9yb3dbZF9tYXRjaF9jb2xdXG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QuZm9yRWFjaCAoY29sKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRyb3dfZGF0YVtjb2w/Lm9fY29sXSA9IGRfcm93W2NvbD8uZF9jb2xdXG5cdFx0XHRcdFx0XHRcdFx0dGFibGVfZGF0YS5wdXNoIHJvd19kYXRhXG5cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0dHJhY2VzW3RyYWNlcy5sZW5ndGgtMV0uYXBwcm92ZXNbMF0udmFsdWVzID0gb19pbnM/LnZhbHVlc1xuXHRcdFx0XHRcdFx0dHJhY2VzW3RyYWNlcy5sZW5ndGgtMV0uYXBwcm92ZXNbMF0udmFsdWVzW29fdGFibGVdID0gdGFibGVfZGF0YVxuXG5cdFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKG9faW5zX2lkLHtcblx0XHRcdFx0XHRcdFx0JHNldDp7XG5cdFx0XHRcdFx0XHRcdFx0J3RyYWNlcyc6dHJhY2VzXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KVxuXG5cdFx0XHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRcdFx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0XHRcdCdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7lrZDooajlm57loavliJflrZfmrrUgY29sdW1ucyDlgLwnKTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5Yy56YWN5YiX5a2X5q61IG9NYXRjaENvbCDlgLwnKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljp/ooajljZXlrZDooaggb1RhYmxlIOWAvCcpO1xuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfnlLPor7fljZXmnKrnu5PmnZ8nKTtcblx0Y2F0Y2ggZVxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0ZXJyb3JzOiBbZV1cblx0XHRcdH1cblx0XHR9XG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9mb3J3YXJkX3RhYmxlX3JlZmlsbFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYV90YWJsZSwgYV90YWJsZV92YWx1ZXMsIGFwcHJvdmUsIGNvbHVtbl9saXN0LCBjb2x1bW5zLCBkX2lucywgZF9pbnNfZmllbGRzLCBkX2luc19mb3JtLCBkX2luc192YWx1ZXMsIGRfbWF0Y2hfY29sLCBkX21hdGNoX2NvbF9maWVsZCwgZF9tYXRjaF9jb2xfZmllbGRzLCBkX3N1YnRhYmxlX2ZpZWxkcywgZF90YWJsZSwgZF90YWJsZV92YWx1ZXMsIGUsIG9faW5zLCBvX2luc19maWVsZHMsIG9faW5zX2Zvcm0sIG9faW5zX2lkLCBvX21hdGNoX2NvbCwgb19tYXRjaF9jb2xfZmllbGQsIG9fbWF0Y2hfY29sX2ZpZWxkcywgb19zdWJ0YWJsZV9maWVsZHMsIG9fdGFibGUsIHJlZiwgcmVmMSwgcmVmMTAsIHJlZjExLCByZWYxMiwgcmVmMTMsIHJlZjE0LCByZWYxNSwgcmVmMTYsIHJlZjE3LCByZWYxOCwgcmVmMTksIHJlZjIsIHJlZjIwLCByZWYyMSwgcmVmMjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHJlZjcsIHJlZjgsIHJlZjksIHRhYmxlX2RhdGEsIHRyYWNlLCB0cmFjZXM7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3ljp/ooajlrZDooag9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8ub1RhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5vVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09546w6KGo5a2Q6KGoPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LmRUYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5kVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095Y6f6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/Lm9NYXRjaENvbFwiLCByZXEgIT0gbnVsbCA/IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi5vTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09546w6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LmRNYXRjaENvbFwiLCByZXEgIT0gbnVsbCA/IChyZWYzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMy5kTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT096ZyA6KaB5Zue5aGr55qE5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnJlZmlsbENvbFwiLCByZXEgIT0gbnVsbCA/IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5yZWZpbGxDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGRfaW5zID0gcmVxICE9IG51bGwgPyAocmVmNSA9IHJlcS5ib2R5KSAhPSBudWxsID8gcmVmNS5pbnN0YW5jZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoKGRfaW5zICE9IG51bGwgPyBkX2lucy5zdGF0ZSA6IHZvaWQgMCkgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWY2ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNi5vVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgb190YWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjcgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY3Lm9UYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjggPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY4LmRUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgIGRfdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY5ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmOS5kVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZF90YWJsZSA9IG9fdGFibGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjEwID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTAuYVRhYmxlIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgICAgYV90YWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjExID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTEuYVRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWYxMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEyLm9NYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgIG9fbWF0Y2hfY29sID0gcmVxICE9IG51bGwgPyAocmVmMTMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMy5vTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjE0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTQuZE1hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgICAgICBkX21hdGNoX2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjE1ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTUuZE1hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkX21hdGNoX2NvbCA9IG9fbWF0Y2hfY29sO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb2x1bW5zID0gKHJlcSAhPSBudWxsID8gKHJlZjE2ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTYucmVmaWxsQ29sLnNwbGl0KCc7JykgOiB2b2lkIDAgOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiY29sdW1uc1wiLCBjb2x1bW5zKTtcbiAgICAgICAgICBpZiAoY29sdW1ucyB8fCBjb2x1bW5zLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09PT09PT09PT09PT09PVwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRfdGFibGUsIG9fbWF0Y2hfY29sLCBjb2x1bW5zKTtcbiAgICAgICAgICAgIGRfaW5zX3ZhbHVlcyA9IGRfaW5zICE9IG51bGwgPyBkX2lucy52YWx1ZXMgOiB2b2lkIDA7XG4gICAgICAgICAgICBvX2luc19pZCA9IF8ubGFzdChkX2lucyAhPSBudWxsID8gZF9pbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyA6IHZvaWQgMCk7XG4gICAgICAgICAgICBvX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9faW5zX2lkKTtcbiAgICAgICAgICAgIG9faW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9faW5zICE9IG51bGwgPyBvX2lucy5mb3JtIDogdm9pZCAwKTtcbiAgICAgICAgICAgIGRfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGRfaW5zICE9IG51bGwgPyBkX2lucy5mb3JtIDogdm9pZCAwKTtcbiAgICAgICAgICAgIG9faW5zX2ZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgb19zdWJ0YWJsZV9maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIGRfaW5zX2ZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgZF9zdWJ0YWJsZV9maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIGNvbHVtbl9saXN0ID0gW107XG4gICAgICAgICAgICBkX3RhYmxlX3ZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgaWYgKChvX2lucyAhPSBudWxsID8gb19pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gKG9faW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYxNyA9IG9faW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjE3Ll9pZCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgb19pbnNfZmllbGRzID0gb19pbnNfZm9ybSAhPSBudWxsID8gKHJlZjE4ID0gb19pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMTguZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgICAgICBvX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgIGlmICgob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IG9fdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICgob19pbnNfZm9ybSAhPSBudWxsID8gKHJlZjE5ID0gb19pbnNfZm9ybS5oaXN0b3J5cykgIT0gbnVsbCA/IHJlZjE5Lmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgb19pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uKG9oKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoKG9faW5zICE9IG51bGwgPyBvX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSBvaC5faWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb19pbnNfZmllbGRzID0gb2ggIT0gbnVsbCA/IG9oLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9faW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9faW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gb190YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGRfaW5zICE9IG51bGwgPyBkX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSAoZF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjIwID0gZF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMjAuX2lkIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICBkX2luc19maWVsZHMgPSBkX2luc19mb3JtICE9IG51bGwgPyAocmVmMjEgPSBkX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYyMS5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIGRfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGRfaW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCgoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGRfdGFibGUpIHx8IChhX3RhYmxlICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gYV90YWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKChkX2luc19mb3JtICE9IG51bGwgPyAocmVmMjIgPSBkX2luc19mb3JtLmhpc3RvcnlzKSAhPSBudWxsID8gcmVmMjIubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICAgICAgICBkX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24oZGgpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IGRoLl9pZCkge1xuICAgICAgICAgICAgICAgICAgICBkX2luc19maWVsZHMgPSBkaCAhPSBudWxsID8gZGguZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZF9pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZF9pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoKChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gZF90YWJsZSkgfHwgKGFfdGFibGUgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBhX3RhYmxlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRfc3VidGFibGVfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuY29uY2F0KGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJvX3N1YnRhYmxlX2ZpZWxkc1wiLCBvX3N1YnRhYmxlX2ZpZWxkcyk7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZF90YWJsZV92YWx1ZXMgPSAoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnZhbHVlc1tkX3RhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgICBpZiAoYV90YWJsZSkge1xuICAgICAgICAgICAgICBhX3RhYmxlX3ZhbHVlcyA9IChkX2lucyAhPSBudWxsID8gZF9pbnMudmFsdWVzW2FfdGFibGVdIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICAgICAgaWYgKGFfdGFibGVfdmFsdWVzICYmIChhX3RhYmxlX3ZhbHVlcyAhPSBudWxsID8gYV90YWJsZV92YWx1ZXMubGVuZ3RoIDogdm9pZCAwKSA9PT0gKGRfdGFibGVfdmFsdWVzICE9IG51bGwgPyBkX3RhYmxlX3ZhbHVlcy5sZW5ndGggOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgICAgYV90YWJsZV92YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihhX3JvdywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBrZXksIHJlc3VsdHMsIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gYV9yb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhX3Jvd1trZXldO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goZF90YWJsZV92YWx1ZXNbaW5kZXhdW2tleV0gPSB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRfdGFibGVfdmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5pWw5o2u5Li656m6Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvX21hdGNoX2NvbF9maWVsZHMgPSBvX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBvX21hdGNoX2NvbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZF9tYXRjaF9jb2xfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gZF9tYXRjaF9jb2w7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChvX21hdGNoX2NvbF9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTljLnphY3liJcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkX21hdGNoX2NvbF9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajml6Dlr7nlupTljLnphY3liJcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9fbWF0Y2hfY29sX2ZpZWxkID0gb19tYXRjaF9jb2xfZmllbGRzWzBdO1xuICAgICAgICAgICAgZF9tYXRjaF9jb2xfZmllbGQgPSBkX21hdGNoX2NvbF9maWVsZHNbMF07XG4gICAgICAgICAgICBpZiAoKG9fbWF0Y2hfY29sX2ZpZWxkICE9IG51bGwgPyBvX21hdGNoX2NvbF9maWVsZC50eXBlIDogdm9pZCAwKSAhPT0gKGRfbWF0Y2hfY29sX2ZpZWxkICE9IG51bGwgPyBkX21hdGNoX2NvbF9maWVsZC50eXBlIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5ZKM5Y6f55Sz6K+35Y2V5a2Q6KGo55qE5Yy56YWN5YiX5a2X5q615LiN5LiA6Ie0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgICAgICAgIHZhciBjb2wsIGNvbHMsIGRfY29sLCBkX2NvbF9maWVsZHMsIG9fY29sLCBvX2NvbF9maWVsZHM7XG4gICAgICAgICAgICAgIGNvbHMgPSBjb2x1bW4uc3BsaXQoJy0nKSB8fCBbXTtcbiAgICAgICAgICAgICAgaWYgKGNvbHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgb19jb2wgPSBjb2xzWzBdO1xuICAgICAgICAgICAgICAgIGRfY29sID0gY29sc1sxXTtcbiAgICAgICAgICAgICAgICBvX2NvbF9maWVsZHMgPSBvX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gb19jb2w7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZF9jb2xfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IGRfY29sO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChvX2NvbF9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Zue5aGr5YiXJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkX2NvbF9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Zue5aGr5YiXJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgob19jb2xfZmllbGRzICE9IG51bGwgPyBvX2NvbF9maWVsZHMudHlwZSA6IHZvaWQgMCkgIT09IChkX2NvbF9maWVsZHMgIT0gbnVsbCA/IGRfY29sX2ZpZWxkcy50eXBlIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+Wtl+auteexu+Wei+S4jeS4gOiHtCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb2wgPSB7XG4gICAgICAgICAgICAgICAgICBvX2NvbDogb19jb2wsXG4gICAgICAgICAgICAgICAgICBkX2NvbDogZF9jb2xcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2x1bW5fbGlzdC5wdXNoKGNvbCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+S4jeWMuemFjScpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyYWNlcyA9IG9faW5zICE9IG51bGwgPyBvX2lucy50cmFjZXMgOiB2b2lkIDA7XG4gICAgICAgICAgICB0cmFjZSA9IHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBhcHByb3ZlID0gdHJhY2UgIT0gbnVsbCA/IHRyYWNlLmFwcHJvdmVzWzBdIDogdm9pZCAwO1xuICAgICAgICAgICAgdGFibGVfZGF0YSA9IChhcHByb3ZlICE9IG51bGwgPyBhcHByb3ZlLnZhbHVlc1tvX3RhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgICBkX3RhYmxlX3ZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGRfcm93KSB7XG4gICAgICAgICAgICAgIHZhciBjb3VudCwgaGFzX29iaiwgcm93X2RhdGE7XG4gICAgICAgICAgICAgIGhhc19vYmogPSBmYWxzZTtcbiAgICAgICAgICAgICAgY291bnQgPSAtMTtcbiAgICAgICAgICAgICAgdGFibGVfZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKG9fcm93LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChvX3Jvd1tvX21hdGNoX2NvbF0gPT09IGRfcm93W2RfbWF0Y2hfY29sXSkge1xuICAgICAgICAgICAgICAgICAgaGFzX29iaiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY291bnQgPSBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoaGFzX29iaiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2x1bW5fbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGNvbCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlX2RhdGFbY291bnRdW2NvbCAhPSBudWxsID8gY29sLm9fY29sIDogdm9pZCAwXSA9IGRfcm93W2NvbCAhPSBudWxsID8gY29sLmRfY29sIDogdm9pZCAwXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByb3dfZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIHJvd19kYXRhW29fbWF0Y2hfY29sXSA9IGRfcm93W2RfbWF0Y2hfY29sXTtcbiAgICAgICAgICAgICAgICBjb2x1bW5fbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGNvbCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvd19kYXRhW2NvbCAhPSBudWxsID8gY29sLm9fY29sIDogdm9pZCAwXSA9IGRfcm93W2NvbCAhPSBudWxsID8gY29sLmRfY29sIDogdm9pZCAwXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVfZGF0YS5wdXNoKHJvd19kYXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdLmFwcHJvdmVzWzBdLnZhbHVlcyA9IG9faW5zICE9IG51bGwgPyBvX2lucy52YWx1ZXMgOiB2b2lkIDA7XG4gICAgICAgICAgICB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdLmFwcHJvdmVzWzBdLnZhbHVlc1tvX3RhYmxlXSA9IHRhYmxlX2RhdGE7XG4gICAgICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKG9faW5zX2lkLCB7XG4gICAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAndHJhY2VzJzogdHJhY2VzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6ICflm57loavmiJDlip8nXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWtkOihqOWbnuWhq+WIl+Wtl+autSBjb2x1bW5zIOWAvCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWMuemFjeWIl+Wtl+autSBvTWF0Y2hDb2wg5YC8Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5Y6f6KGo5Y2V5a2Q6KGoIG9UYWJsZSDlgLwnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+eUs+ivt+WNleacque7k+adnycpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbZV1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L3N1Yl90YWJsZV9zb3J0XCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG4gICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT09PT095a2Q6KGoPT09PT09PT09PVwiXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIixyZXE/LnF1ZXJ5Py5zdWJUYWJsZVxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqOaAu+WIhuWIlz09PT09PT09PT1cIlxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnN1bUNvbFwiLHJlcT8ucXVlcnk/LnN1bUNvbFxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqOaOkuW6j+WIlz09PT09PT09PT1cIlxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnNvcnRDb2xcIixyZXE/LnF1ZXJ5Py5zb3J0Q29sXG4gICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT09PT095a2Q6KGo5Y2V5YiX6ZyA6KaB6K6h566X55qE5ZKMPT09PT09PT09PVwiXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc2luZ2xlQ29sc1wiLHJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBzdWJfdGFibGUgPSByZXE/LnF1ZXJ5Py5zdWJUYWJsZVxuICAgICAgICBpZiAhc3ViX3RhYmxlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09c3ViX3RhYmxlPT09PT09XCJcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHN1YlRhYmxlIOWtl+autScgKTtcbiAgICAgICAgXG4gICAgICAgIHN1bV9jb2wgPSByZXE/LnF1ZXJ5Py5zdW1Db2xcbiAgICAgICAgaWYgIXN1bV9jb2xcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zdW1fY29sPT09PT09XCJcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHN1bUNvbCDlrZfmrrUnICk7XG4gICAgICAgIFxuICAgICAgICBzb3J0X2NvbCA9IHJlcT8ucXVlcnk/LnNvcnRDb2xcbiAgICAgICAgaWYgIXNvcnRfY29sXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09c29ydF9jb2w9PT09PT1cIlxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc29ydENvbCDlrZfmrrUnICk7XG4gICAgICAgIFxuICAgICAgICAjIHNpbmdsZV9jb2xzID0gcmVxPy5xdWVyeT8uc2luZ2xlQ29sc1xuICAgICAgICAjIGlmICFzaW5nbGVfY29sc1xuICAgICAgICAjICAgICBjb25zb2xlLmxvZyBcIj09PT09c2luZ2xlX2NvbHM9PT09PT1cIlxuXG4gICAgICAgICMgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHNpbmdsZUNvbHMg5a2X5q61JyApO1xuICAgICAgICBcbiAgICAgICAgaW5zID0gcmVxPy5ib2R5Py5pbnN0YW5jZVxuICAgICAgICBcbiAgICAgICAgc3ViX3RhYmxlX3ZhbHVlcyA9IGlucy52YWx1ZXNbc3ViX3RhYmxlXVxuICAgICAgICBcbiAgICAgICAgaWYgc3ViX3RhYmxlX3ZhbHVlcz8ubGVuZ3RoID4gMCBcbiAgICAgICAgICAgICMgIyDmoLnmja4gc3ViX3RhYmxlX3ZhbHVlcyDov5vooYzmjpLluo9cbiAgICAgICAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgICAgIyDmjpLluo/lrZfmrrXvvIzlhbPplK7lrZfvvIzmraPluo8odHJ1ZSkv5YCS5bqPKGZhbHNlKVxuICAgICAgICAgICAgYGZ1bmN0aW9uIEpzb25Tb3J0KGpzb25BcnIsIGtleSwgYXNjKXtcbiAgICAgICAgICAgICAgICBmb3IodmFyIGo9MSxqbD1qc29uQXJyLmxlbmd0aDtqIDwgamw7aisrKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBqc29uQXJyW2pdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsICA9IE51bWJlcih0ZW1wW2tleV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaSAgICA9IGotMTtcbiAgICAgICAgICAgICAgICAgICAgaWYoYXNjPT10cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPnZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKTx2YWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGktMTsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0gdGVtcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb25BcnI7XG4gICAgICAgICAgICB9YFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBuZXdfdGFibGVfdmFsdWVzID0gSnNvblNvcnQoc3ViX3RhYmxlX3ZhbHVlcyxzdW1fY29sLGZhbHNlKVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIm5ld190YWJsZV92YWx1ZXNcIixuZXdfdGFibGVfdmFsdWVzXG5cbiAgICAgICAgICAgIG5ld190YWJsZV92YWx1ZXMuZm9yRWFjaCAob2JqLCBpbmRleCktPlxuICAgICAgICAgICAgICAgIGlmIHNvcnRfY29sIGFuZCBvYmpbc3VtX2NvbF1cbiAgICAgICAgICAgICAgICAgICAgb2JqW3NvcnRfY29sXSA9IChpbmRleCsxKS50b1N0cmluZygpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwibmV3X3RhYmxlX3ZhbHVlc1wiLG5ld190YWJsZV92YWx1ZXNcblxuICAgICAgICAgICAgaW5zLnZhbHVlc1tzdWJfdGFibGVdID0gbmV3X3RhYmxlX3ZhbHVlc1xuXG4gICAgICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKGlucy5faWQse1xuICAgICAgICAgICAgICAgICRzZXQ6e1xuICAgICAgICAgICAgICAgICAgICAndmFsdWVzJzppbnMudmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcInN1Y2Nlc3NcIlxuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJzogJ+iuoeeul+aOkuW6j+aIkOWKnydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ+WtkOihqOaVsOaNruS4uuepuicpO1xuICAgIGNhdGNoIGVcbiAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGVycm9yczogW2VdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L3N1Yl90YWJsZV9zb3J0XCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBlLCBpbnMsIG5ld190YWJsZV92YWx1ZXMsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVmNiwgcmVmNywgc29ydF9jb2wsIHN1Yl90YWJsZSwgc3ViX3RhYmxlX3ZhbHVlcywgc3VtX2NvbDtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zdWJUYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGo5oC75YiG5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnN1bUNvbFwiLCByZXEgIT0gbnVsbCA/IChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5zdW1Db2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGo5o6S5bqP5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnNvcnRDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuc29ydENvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooajljZXliJfpnIDopoHorqHnrpfnmoTlkow9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc2luZ2xlQ29sc1wiLCByZXEgIT0gbnVsbCA/IChyZWYzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMy5zaW5nbGVDb2xzIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBzdWJfdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoIXN1Yl90YWJsZSkge1xuICAgICAgY29uc29sZS5sb2coXCI9PT09PXN1Yl90YWJsZT09PT09PVwiKTtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHN1YlRhYmxlIOWtl+autScpO1xuICAgIH1cbiAgICBzdW1fY29sID0gcmVxICE9IG51bGwgPyAocmVmNSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjUuc3VtQ29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICghc3VtX2NvbCkge1xuICAgICAgY29uc29sZS5sb2coXCI9PT09PXN1bV9jb2w9PT09PT1cIik7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdW1Db2wg5a2X5q61Jyk7XG4gICAgfVxuICAgIHNvcnRfY29sID0gcmVxICE9IG51bGwgPyAocmVmNiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjYuc29ydENvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoIXNvcnRfY29sKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIj09PT09c29ydF9jb2w9PT09PT1cIik7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzb3J0Q29sIOWtl+autScpO1xuICAgIH1cbiAgICBpbnMgPSByZXEgIT0gbnVsbCA/IChyZWY3ID0gcmVxLmJvZHkpICE9IG51bGwgPyByZWY3Lmluc3RhbmNlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHN1Yl90YWJsZV92YWx1ZXMgPSBpbnMudmFsdWVzW3N1Yl90YWJsZV07XG4gICAgaWYgKChzdWJfdGFibGVfdmFsdWVzICE9IG51bGwgPyBzdWJfdGFibGVfdmFsdWVzLmxlbmd0aCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICBmdW5jdGlvbiBKc29uU29ydChqc29uQXJyLCBrZXksIGFzYyl7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqPTEsamw9anNvbkFyci5sZW5ndGg7aiA8IGpsO2orKyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0ganNvbkFycltqXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAgPSBOdW1iZXIodGVtcFtrZXldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgICAgPSBqLTE7XG4gICAgICAgICAgICAgICAgICAgIGlmKGFzYz09dHJ1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKT52YWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGktMTsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk8dmFsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IHRlbXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uQXJyO1xuICAgICAgICAgICAgfTtcbiAgICAgIG5ld190YWJsZV92YWx1ZXMgPSBKc29uU29ydChzdWJfdGFibGVfdmFsdWVzLCBzdW1fY29sLCBmYWxzZSk7XG4gICAgICBjb25zb2xlLmxvZyhcIm5ld190YWJsZV92YWx1ZXNcIiwgbmV3X3RhYmxlX3ZhbHVlcyk7XG4gICAgICBuZXdfdGFibGVfdmFsdWVzLmZvckVhY2goZnVuY3Rpb24ob2JqLCBpbmRleCkge1xuICAgICAgICBpZiAoc29ydF9jb2wgJiYgb2JqW3N1bV9jb2xdKSB7XG4gICAgICAgICAgcmV0dXJuIG9ialtzb3J0X2NvbF0gPSAoaW5kZXggKyAxKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwibmV3X3RhYmxlX3ZhbHVlc1wiLCBuZXdfdGFibGVfdmFsdWVzKTtcbiAgICAgIGlucy52YWx1ZXNbc3ViX3RhYmxlXSA9IG5ld190YWJsZV92YWx1ZXM7XG4gICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKGlucy5faWQsIHtcbiAgICAgICAgJHNldDoge1xuICAgICAgICAgICd2YWx1ZXMnOiBpbnMudmFsdWVzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzXCIpO1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgJ3N1Y2Nlc3MnOiAn6K6h566X5o6S5bqP5oiQ5YqfJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAn5a2Q6KGo5pWw5o2u5Li656m6Jyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtlXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsImlmIE1ldGVvci5pc0RldmVsb3BtZW50XG4gICAgSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL3Rlc3Qvd2ViaG9vaycsIChyZXEsIHJlcywgbmV4dCkgLT5cbiAgICAgICAgdHJ5XG5cbiAgICAgICAgICAgIGhhc2hEYXRhID0gcmVxLmJvZHlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nICdhY3Rpb246ICcsIGhhc2hEYXRhLmFjdGlvblxuICAgICAgICAgICAgY29uc29sZS5sb2cgJ2Zyb21fdXNlcjogJywgaGFzaERhdGEuZnJvbV91c2VyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyAndG9fdXNlcnM6ICcsIGhhc2hEYXRhLnRvX3VzZXJzXG5cblxuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9XG4gICAgICAgIGNhdGNoIGVcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDBcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH0iLCJpZiAoTWV0ZW9yLmlzRGV2ZWxvcG1lbnQpIHtcbiAgSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL3Rlc3Qvd2ViaG9vaycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIGUsIGhhc2hEYXRhO1xuICAgIHRyeSB7XG4gICAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgICAgY29uc29sZS5sb2coJ2FjdGlvbjogJywgaGFzaERhdGEuYWN0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCdmcm9tX3VzZXI6ICcsIGhhc2hEYXRhLmZyb21fdXNlcik7XG4gICAgICBjb25zb2xlLmxvZygndG9fdXNlcnM6ICcsIGhhc2hEYXRhLnRvX3VzZXJzKTtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge31cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL3VzZXJzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblxuXHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzXG5cdHNwYWNlSWQgPSByZXEuYm9keS5zcGFjZUlkXG5cdHNwYWNlVXNlcnMgPSBbXTtcblxuXHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7dXNlcjogY3VycmVudF91c2VyLCBzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtfaWQ6IDF9fSlcblx0aWYgIXNwYWNlX3VzZXJcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnZXJyb3JzJzogJ+aXoOadg+mZkCdcblx0XHRcdH1cblx0XHR9KTtcblxuXHRpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG5cdFx0XHR9XG5cdFx0fSk7XG5cdHNwYWNlVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3RzKHNwYWNlSWQsIHVzZXJJZHMpXG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdGNvZGU6IDIwMCxcblx0XHRkYXRhOiB7XG5cdFx0XHQnc3BhY2VVc2Vycyc6IHNwYWNlVXNlcnNcblx0XHR9XG5cdH1cbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvdXNlcnNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIHNwYWNlSWQsIHNwYWNlVXNlcnMsIHNwYWNlX3VzZXIsIHVzZXJJZHM7XG4gIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgdXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHM7XG4gIHNwYWNlSWQgPSByZXEuYm9keS5zcGFjZUlkO1xuICBzcGFjZVVzZXJzID0gW107XG4gIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICB1c2VyOiBjdXJyZW50X3VzZXIsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxXG4gICAgfVxuICB9KTtcbiAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfml6DmnYPpmZAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgc3BhY2VVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdHMoc3BhY2VJZCwgdXNlcklkcyk7XG4gIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgICdzcGFjZVVzZXJzJzogc3BhY2VVc2Vyc1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS9vcmdzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblx0b3JnSWRzID0gcmVxLmJvZHkub3JnSWRzXG5cdHNwYWNlSWQgPSByZXEuYm9keS5zcGFjZUlkXG5cblx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe3VzZXI6IGN1cnJlbnRfdXNlciwgc3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7X2lkOiAxfX0pXG5cdGlmICFzcGFjZV91c2VyXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J2Vycm9ycyc6ICfml6DmnYPpmZAnXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0aWYgKCFvcmdJZHMgfHwgIXNwYWNlSWQpXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0b3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhT3JnT2JqZWN0cyhvcmdJZHMpXG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdGNvZGU6IDIwMCxcblx0XHRkYXRhOiB7XG5cdFx0XHQnb3Jncyc6IG9yZ3Ncblx0XHR9XG5cdH0pO1xuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS9vcmdzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBvcmdJZHMsIG9yZ3MsIHNwYWNlSWQsIHNwYWNlX3VzZXI7XG4gIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgb3JnSWRzID0gcmVxLmJvZHkub3JnSWRzO1xuICBzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZDtcbiAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgIHVzZXI6IGN1cnJlbnRfdXNlcixcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDFcbiAgICB9XG4gIH0pO1xuICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+aXoOadg+mZkCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIW9yZ0lkcyB8fCAhc3BhY2VJZCkge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIG9yZ3MgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYU9yZ09iamVjdHMob3JnSWRzKTtcbiAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgJ29yZ3MnOiBvcmdzXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnN0YXJ0dXAgKCktPlxuXHRUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIgPSBuZXcgVGFidWxhci5UYWJsZVxuXHRcdG5hbWU6IFwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhclwiXG5cdFx0Y29sbGVjdGlvbjogZGIuaW5zdGFuY2VzXG5cdFx0Y29sdW1uczogW1xuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIl9pZFwiLFxuXHRcdFx0XHR0aXRsZTogJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwicmV2ZXJzZVwiIGlkPVwicmV2ZXJzZVwiPicsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdpZHRoOiAnMXB4Jyxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aW5wdXQgPSAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwicmVsYXRlZC1pbnN0YW5jZXMtbGlzdC1jaGVja2JveFwiIG5hbWU9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiBpZD1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIHZhbHVlPVwiJyArIGRvYy5faWQgKyAnXCInXG5cblx0XHRcdFx0XHRpZiBUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIucmVsYXRlZF9pbnN0YW5jZXM/LmluY2x1ZGVzKGRvYy5faWQpXG5cdFx0XHRcdFx0XHRpbnB1dCArPSBcIiBjaGVja2VkIFwiXG5cblx0XHRcdFx0XHRpbnB1dCArPSBcIj5cIlxuXHRcdFx0XHRcdHJldHVybiBpbnB1dFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJuYW1lXCIsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdpZHRoOiAnNDUlJyxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aHJlZiA9ICcnO1xuXHRcdFx0XHRcdGlmIE1ldGVvci5pc0NsaWVudCAmJiAoU3RlZWRvcy5pc01vYmlsZSgpIHx8IFN0ZWVkb3MuaXNDb3Jkb3ZhKCkpXG5cdFx0XHRcdFx0XHRocmVmID0gJydcblxuXHRcdFx0XHRcdGFic29sdXRlID0gZmFsc2VcblxuXHRcdFx0XHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0XHRcdFx0YWJzb2x1dGUgPSB0aGlzLmFic29sdXRlXG5cdFx0XHRcdFx0aWYgYWJzb2x1dGVcblx0XHRcdFx0XHRcdGhyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitkb2Muc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGhyZWYgPSBTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIrZG9jLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcblx0XHRcdFx0XHRyZXR1cm4gXCI8YSBkYXRhLWlkPScje2RvYy5faWR9JyB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIraHJlZitcIic+XCIgKyBkb2MubmFtZSArIFwiPC9hPlwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImZsb3dfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXG5cdFx0XHRcdFx0XHRqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCJcblxuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLmN1cnJlbnRfc3RlcF9uYW1lIHx8ICcnXG5cblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGVwLWN1cnJlbnQtc3RhdGUgI3tqdWRnZX1cIj4je3N0ZXBfY3VycmVudF9uYW1lfTwvZGl2PlxuXHRcdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHR9XG5cdFx0XVxuXG5cdFx0ZG9tOiBcInRwXCIsXG5cdFx0bGVuZ3RoQ2hhbmdlOiBmYWxzZSxcblx0XHRleHRyYUZpZWxkczogW1wic3RhdGVcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcInNwYWNlXCIsIFwia2V5d29yZHNcIl0sXG5cdFx0cGFnZUxlbmd0aDogMTAsXG5cdFx0aW5mbzogZmFsc2UsXG5cdFx0c2VhcmNoaW5nOiB0cnVlLFxuXHRcdHJlc3BvbnNpdmU6XG5cdFx0XHRkZXRhaWxzOiBmYWxzZVxuXHRcdGF1dG9XaWR0aDogZmFsc2UsXG5cdFx0Y2hhbmdlU2VsZWN0b3I6IChzZWxlY3RvciwgdXNlcklkKSAtPlxuXHRcdFx0dW5sZXNzIHVzZXJJZFxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cblx0XHRcdHNwYWNlSWQgPSBzZWxlY3Rvci5zcGFjZVxuXHRcdFx0dW5sZXNzIHNwYWNlSWRcblx0XHRcdFx0aWYgc2VsZWN0b3I/LiRhbmQ/Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRzcGFjZUlkID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXVxuXHRcdFx0dW5sZXNzIHNwYWNlSWRcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkKVxuXHRcdFx0aWYgIXNwYWNlXG5cdFx0XHRcdHNlbGVjdG9yLnN0YXRlID0gXCJub25lXCJcblx0XHRcdGlmICFzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKVxuXG5cdFx0XHRcdGZsb3dfaWRzID0gW11cblx0XHRcdFx0Y3VyU3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG5cdFx0XHRcdFx0c3BhY2U6IHNwYWNlSWQsXG5cdFx0XHRcdFx0J3VzZXInOiB1c2VySWRcblx0XHRcdFx0fSlcblx0XHRcdFx0aWYgY3VyU3BhY2VVc2VyXG5cdFx0XHRcdFx0b3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG5cdFx0XHRcdFx0XHRfaWQ6IHtcblx0XHRcdFx0XHRcdFx0JGluOiBjdXJTcGFjZVVzZXIub3JnYW5pemF0aW9uc1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pLmZldGNoKClcblx0XHRcdFx0XHRmbG93cyA9IGRiLmZsb3dzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9KVxuXHRcdFx0XHRcdGZsb3dzLmZvckVhY2ggKGZsKS0+XG5cdFx0XHRcdFx0XHRpZiBXb3JrZmxvd01hbmFnZXIuY2FuTW9uaXRvcihmbCwgY3VyU3BhY2VVc2VyLCBvcmdhbml6YXRpb25zKSB8fCBXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucylcblx0XHRcdFx0XHRcdFx0Zmxvd19pZHMucHVzaChmbC5faWQpXG5cblx0XHRcdFx0aWYgc2VsZWN0b3I/LiRhbmQ/Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRzZWxlY3Rvci4kYW5kWzBdLiRvciA9IFt7c3VibWl0dGVyOiB1c2VySWR9LCB7YXBwbGljYW50OiB1c2VySWR9LCB7aW5ib3hfdXNlcnM6IHVzZXJJZH0sIHtvdXRib3hfdXNlcnM6IHVzZXJJZH0sXG5cdFx0XHRcdFx0XHRcdHtjY191c2VyczogdXNlcklkfSwgeyBmbG93OiB7ICRpbjogZmxvd19pZHMgfSB9XVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0Xy5leHRlbmQgc2VsZWN0b3IsIHtcblx0XHRcdFx0XHRcdCRvcjogW3tzdWJtaXR0ZXI6IHVzZXJJZH0sIHthcHBsaWNhbnQ6IHVzZXJJZH0sIHtpbmJveF91c2VyczogdXNlcklkfSwge291dGJveF91c2VyczogdXNlcklkfSxcblx0XHRcdFx0XHRcdFx0e2NjX3VzZXJzOiB1c2VySWR9LCB7IGZsb3c6IHsgJGluOiBmbG93X2lkcyB9IH1dXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gc2VsZWN0b3IiLCJNZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciA9IG5ldyBUYWJ1bGFyLlRhYmxlKHtcbiAgICBuYW1lOiBcInJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXJcIixcbiAgICBjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXMsXG4gICAgY29sdW1uczogW1xuICAgICAge1xuICAgICAgICBkYXRhOiBcIl9pZFwiLFxuICAgICAgICB0aXRsZTogJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwicmV2ZXJzZVwiIGlkPVwicmV2ZXJzZVwiPicsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAnMXB4JyxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBpbnB1dCwgcmVmO1xuICAgICAgICAgIGlucHV0ID0gJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInJlbGF0ZWQtaW5zdGFuY2VzLWxpc3QtY2hlY2tib3hcIiBuYW1lPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgaWQ9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiB2YWx1ZT1cIicgKyBkb2MuX2lkICsgJ1wiJztcbiAgICAgICAgICBpZiAoKHJlZiA9IFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhci5yZWxhdGVkX2luc3RhbmNlcykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhkb2MuX2lkKSA6IHZvaWQgMCkge1xuICAgICAgICAgICAgaW5wdXQgKz0gXCIgY2hlY2tlZCBcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5wdXQgKz0gXCI+XCI7XG4gICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibmFtZVwiLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICB3aWR0aDogJzQ1JScsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgYWJzb2x1dGUsIGhyZWY7XG4gICAgICAgICAgaHJlZiA9ICcnO1xuICAgICAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKSkge1xuICAgICAgICAgICAgaHJlZiA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhYnNvbHV0ZSA9IGZhbHNlO1xuICAgICAgICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgICAgICAgIGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGFic29sdXRlKSB7XG4gICAgICAgICAgICBocmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBkb2Muc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBocmVmID0gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZG9jLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIChcIjxhIGRhdGEtaWQ9J1wiICsgZG9jLl9pZCArIFwiJyB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIpICsgaHJlZiArIFwiJz5cIiArIGRvYy5uYW1lICsgXCI8L2E+XCI7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImZsb3dfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiY3VycmVudF9zdGVwX25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBqdWRnZSwgc3RlcF9jdXJyZW50X25hbWU7XG4gICAgICAgICAgaWYgKGRvYy5zdGF0ZSA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgICAgICAganVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJztcbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJzdGVwLWN1cnJlbnQtc3RhdGUgXCIgKyBqdWRnZSArIFwiXFxcIj5cIiArIHN0ZXBfY3VycmVudF9uYW1lICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF0sXG4gICAgZG9tOiBcInRwXCIsXG4gICAgbGVuZ3RoQ2hhbmdlOiBmYWxzZSxcbiAgICBleHRyYUZpZWxkczogW1wic3RhdGVcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcInNwYWNlXCIsIFwia2V5d29yZHNcIl0sXG4gICAgcGFnZUxlbmd0aDogMTAsXG4gICAgaW5mbzogZmFsc2UsXG4gICAgc2VhcmNoaW5nOiB0cnVlLFxuICAgIHJlc3BvbnNpdmU6IHtcbiAgICAgIGRldGFpbHM6IGZhbHNlXG4gICAgfSxcbiAgICBhdXRvV2lkdGg6IGZhbHNlLFxuICAgIGNoYW5nZVNlbGVjdG9yOiBmdW5jdGlvbihzZWxlY3RvciwgdXNlcklkKSB7XG4gICAgICB2YXIgY3VyU3BhY2VVc2VyLCBmbG93X2lkcywgZmxvd3MsIG9yZ2FuaXphdGlvbnMsIHJlZiwgcmVmMSwgc3BhY2UsIHNwYWNlSWQ7XG4gICAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlSWQgPSBzZWxlY3Rvci5zcGFjZTtcbiAgICAgIGlmICghc3BhY2VJZCkge1xuICAgICAgICBpZiAoKHNlbGVjdG9yICE9IG51bGwgPyAocmVmID0gc2VsZWN0b3IuJGFuZCkgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgIHNwYWNlSWQgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXNwYWNlSWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlSWQpO1xuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICBzZWxlY3Rvci5zdGF0ZSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKSkge1xuICAgICAgICBmbG93X2lkcyA9IFtdO1xuICAgICAgICBjdXJTcGFjZVVzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgICAgICAndXNlcic6IHVzZXJJZFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN1clNwYWNlVXNlcikge1xuICAgICAgICAgIG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICAgICAgX2lkOiB7XG4gICAgICAgICAgICAgICRpbjogY3VyU3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgICAgIGZsb3dzID0gZGIuZmxvd3MuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogc3BhY2VJZFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZsb3dzLmZvckVhY2goZnVuY3Rpb24oZmwpIHtcbiAgICAgICAgICAgIGlmIChXb3JrZmxvd01hbmFnZXIuY2FuTW9uaXRvcihmbCwgY3VyU3BhY2VVc2VyLCBvcmdhbml6YXRpb25zKSB8fCBXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZsb3dfaWRzLnB1c2goZmwuX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHNlbGVjdG9yICE9IG51bGwgPyAocmVmMSA9IHNlbGVjdG9yLiRhbmQpICE9IG51bGwgPyByZWYxLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgc2VsZWN0b3IuJGFuZFswXS4kb3IgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN1Ym1pdHRlcjogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGFwcGxpY2FudDogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgb3V0Ym94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgY2NfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBmbG93OiB7XG4gICAgICAgICAgICAgICAgJGluOiBmbG93X2lkc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfLmV4dGVuZChzZWxlY3Rvciwge1xuICAgICAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdWJtaXR0ZXI6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgYXBwbGljYW50OiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG91dGJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBjY191c2VyczogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBmbG93OiB7XG4gICAgICAgICAgICAgICAgICAkaW46IGZsb3dfaWRzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJTdGVlZG9zLnN1YnNbXCJJbnN0YW5jZVRhYnVsYXJcIl0gPSBuZXcgU3Vic01hbmFnZXIoKVxuXG5cbl9oYW5kbGVMaXN0RmllbGRzID0gKGZpZWxkcykgLT5cblx0aW5zX2ZpZWxkcyA9IG5ldyBBcnJheSgpO1xuXG5cdGZpZWxkcz8uZm9yRWFjaCAoZiktPlxuXHRcdGlmIGYudHlwZSA9PSAndGFibGUnXG5cdFx0XHRjb25zb2xlLmxvZyAnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnXG5cdFx0ZWxzZSBpZiBmLnR5cGUgPT0gJ3NlY3Rpb24nXG5cdFx0XHRmPy5maWVsZHM/LmZvckVhY2ggKGYxKS0+XG5cdFx0XHRcdGluc19maWVsZHMucHVzaCBmMVxuXHRcdGVsc2Vcblx0XHRcdGluc19maWVsZHMucHVzaCBmXG5cblx0cmV0dXJuIGluc19maWVsZHNcblxuXG51cGRhdGVUYWJ1bGFyVGl0bGUgPSAoKS0+XG5cbiMg5aaC5p6cY29sdW1uc+acieWKoOWHj++8jOivt+S/ruaUuVRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucyDlh73mlbBcbmluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIgPSAoZmxvd0lkLCBmaWVsZHMpLT5cblx0b3B0aW9ucyA9IHtcblx0XHRuYW1lOiBcImluc3RhbmNlc1wiLFxuXHRcdGNvbGxlY3Rpb246IGRiLmluc3RhbmNlcyxcblx0XHRwdWI6IFwiaW5zdGFuY2VfdGFidWxhclwiLFxuXHRcdG9uVW5sb2FkOiAoKS0+XG5cdFx0XHRNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MClcblxuXHRcdGRyYXdDYWxsYmFjazogKHNldHRpbmdzKS0+XG5cdFx0XHRlbXB0eVRkID0gJChcIi5kYXRhVGFibGVzX2VtcHR5XCIpXG5cdFx0XHRpZiBlbXB0eVRkLmxlbmd0aFxuXHRcdFx0XHRlbXB0eVRkWzBdLmNvbFNwYW4gPSBcIjZcIlxuXHRcdFx0aWYgIVN0ZWVkb3MuaXNNb2JpbGUoKSAmJiAhU3RlZWRvcy5pc1BhZCgpXG5cdFx0XHRcdE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKVxuXHRcdFx0XHQkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApLnJlYWR5IC0+XG5cdFx0XHRcdFx0JChcIi5pbnN0YW5jZS1saXN0XCIpLnBlcmZlY3RTY3JvbGxiYXIoXCJ1cGRhdGVcIilcblx0XHRcdGVsc2Vcblx0XHRcdFx0JChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKVxuXG5cdFx0XHR0aXRsZSA9IHQgXCJwYWdlcl9pbnB1dF9oaW50XCJcblx0XHRcdGVsbGlwc2lzTGluayA9IHNldHRpbmdzLm9JbnN0YW5jZS5wYXJlbnQoKS5maW5kKCcucGFnaW5nX251bWJlcnMgLnBhZ2luYXRpb24gLmRpc2FibGVkIGEnKVxuXHRcdFx0ZWxsaXBzaXNMaW5rLmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKS5jbGljayAtPlxuXHRcdFx0XHRpZiAhJCh0aGlzKS5maW5kKCdpbnB1dCcpLmxlbmd0aFxuXHRcdFx0XHRcdGlucHV0ID0gJCgnPGlucHV0IGNsYXNzPVwicGFnaW5hdGVfaW5wdXQgZm9ybS1jb250cm9sIGlucHV0LXNtXCIgdHlwZT1cInRleHRcIiBzdHlsZT1cImJvcmRlcjogbm9uZTsgcGFkZGluZzowIDJweDtcIi8+Jylcblx0XHRcdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcblx0XHRcdFx0XHRcdGlucHV0LmNzcyh7XG5cdFx0XHRcdFx0XHRcdHdpZHRoOlwiNTJweFwiXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogXCIyMHB4XCJcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0aW5wdXQuY3NzKHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6XCI1MnB4XCJcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjE2cHhcIlxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRpbnB1dC5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCB0aXRsZSlcblx0XHRcdFx0XHQkKHRoaXMpLmVtcHR5KCkuYXBwZW5kIGlucHV0XG5cdFx0XHRcdFx0Z29QYWdlID0gKGluZGV4KS0+XG5cdFx0XHRcdFx0XHRpZiBpbmRleCA+IDBcblx0XHRcdFx0XHRcdFx0cGFnZXMgPSBNYXRoLmNlaWwoc2V0dGluZ3MuZm5SZWNvcmRzRGlzcGxheSgpIC8gc2V0dGluZ3MuX2lEaXNwbGF5TGVuZ3RoKVxuXHRcdFx0XHRcdFx0XHRpZiBpbmRleCA+IHBhZ2VzXG5cdFx0XHRcdFx0XHRcdFx0IyDpobXnoIHotoXlh7rntKLlvJXml7bot7PovazliLDmnIDlkI7kuIDpobVcblx0XHRcdFx0XHRcdFx0XHRpbmRleCA9IHBhZ2VzXG5cdFx0XHRcdFx0XHRcdGluZGV4LS1cblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Mub0luc3RhbmNlLkRhdGFUYWJsZSgpLnBhZ2UoaW5kZXgpLmRyYXcoJ3BhZ2UnKVxuXHRcdFx0XHRcdGlucHV0LmJsdXIgKGUpLT5cblx0XHRcdFx0XHRcdGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKVxuXHRcdFx0XHRcdFx0Z29QYWdlIGN1cnJlbnRQYWdlXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnBhcmVudCgpLmh0bWwgJy4uLidcblx0XHRcdFx0XHRpbnB1dC5rZXlkb3duIChlKS0+XG5cdFx0XHRcdFx0XHRpZihlLmtleUNvZGUudG9TdHJpbmcoKSA9PSBcIjEzXCIpXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKVxuXHRcdFx0XHRcdFx0XHRnb1BhZ2UgY3VycmVudFBhZ2VcblxuXHRcdGNyZWF0ZWRSb3c6IChyb3csIGRhdGEsIGRhdGFJbmRleCkgLT5cblx0XHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0XHRpZiBkYXRhLl9pZCA9PSBGbG93Um91dGVyLmN1cnJlbnQoKS5wYXJhbXMuaW5zdGFuY2VJZFxuXHRcdFx0XHRcdHJvdy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNlbGVjdGVkXCIpXG5cdFx0Y29sdW1uczogW1xuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIl9pZFwiLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdG1vZGlmaWVkU3RyaW5nID0gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG5cblx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5tb2RpZmllZFxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLnN0YXRlICE9ICdkcmFmdCdcblx0XHRcdFx0XHRcdG1vZGlmaWVkID0gZG9jLnN0YXJ0X2RhdGUgfHwgZG9jLm1vZGlmaWVkXG5cblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnb3V0Ym94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnbW9uaXRvcidcblx0XHRcdFx0XHRcdG1vZGlmaWVkID0gZG9jLnN1Ym1pdF9kYXRlIHx8IGRvYy5zdWJtaXRfZGF0ZVxuXG5cdFx0XHRcdFx0bW9kaWZpZWRGcm9tTm93ID0gU3RlZWRvcy5tb21lbnRSZWFjdGl2ZUZyb21Ob3cobW9kaWZpZWQpO1xuXHRcdFx0XHRcdGZsb3dfbmFtZSA9IGRvYy5mbG93X25hbWVcblx0XHRcdFx0XHRjY192aWV3ID0gXCJcIjtcblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcblx0XHRcdFx0XHQjIOW9k+WJjeeUqOaIt+WcqGNjIHVzZXLkuK3vvIzkvYbmmK/kuI3lnKhpbmJveCB1c2Vyc+aXtuaJjeaYvuekuifkvKDpmIUn5paH5a2XXG5cdFx0XHRcdFx0aWYgZG9jLmlzX2NjICYmICFkb2MuaW5ib3hfdXNlcnM/LmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRcdFx0Y2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCJcblx0XHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+I3tmbG93X25hbWV9PHNwYW4+KCN7ZG9jLmN1cnJlbnRfc3RlcF9uYW1lfSk8L3NwYW4+PC9kaXY+XCJcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSAhPSAnZHJhZnQnICYmIGRvYy5jdXJyZW50X3N0ZXBfbmFtZVxuXHRcdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTxzcGFuPigje2RvYy5jdXJyZW50X3N0ZXBfbmFtZX0pPC9zcGFuPjwvZGl2PlwiXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+I3tmbG93X25hbWV9PC9kaXY+XCJcblxuXHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdGlmIGRvYy5hZ2VudF91c2VyX25hbWUgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge3VzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lfSkgKyBcIik8L2xhYmVsPlwiXG5cblx0XHRcdFx0XHR1bnJlYWQgPSAnJ1xuXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PSBmYWxzZVxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPidcblx0XHRcdFx0XHRlbHNlIGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09IHRydWVcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+J1xuXG5cdFx0XHRcdFx0cHJpb3JpdHlJY29uID0gXCJcIlxuXHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIlxuXHRcdFx0XHRcdHByaW9yaXR5VmFsdWUgPSBkb2MudmFsdWVzPy5wcmlvcml0eVxuXHRcdFx0XHRcdHN3aXRjaCBwcmlvcml0eVZhbHVlXG5cdFx0XHRcdFx0XHR3aGVuIFwi54m55oClXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiXG5cdFx0XHRcdFx0XHR3aGVuIFwi57Sn5oClXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIlxuXHRcdFx0XHRcdFx0d2hlbiBcIuWKnuaWh1wiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiXG5cdFx0XHRcdFx0aWYgcHJpb3JpdHlJY29uQ2xhc3Ncblx0XHRcdFx0XHRcdGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LSN7cHJpb3JpdHlJY29uQ2xhc3N9XCJcblxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1yZWFkLWJhcic+I3t1bnJlYWR9PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSAje2luc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3N9Jz4je2RvYy5uYW1lfSN7Y2Nfdmlld30je2FnZW50X3ZpZXd9XG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3Bhbj4je2RvYy5hcHBsaWNhbnRfbmFtZX08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtZGV0YWlsJz4je3N0ZXBfY3VycmVudF9uYW1lX3ZpZXd9XG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz0naW5zdGFuY2UtbW9kaWZpZWQnIHRpdGxlPScje21vZGlmaWVkU3RyaW5nfSc+I3ttb2RpZmllZEZyb21Ob3d9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiKSxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIm5hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfbmFtZVwiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0Y2NfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0IyDlvZPliY3nlKjmiLflnKhjYyB1c2Vy5Lit77yM5L2G5piv5LiN5ZyoaW5ib3ggdXNlcnPml7bmiY3mmL7npLon5Lyg6ZiFJ+aWh+Wtl1xuXHRcdFx0XHRcdGlmIGRvYy5pc19jYyAmJiAhZG9jLmluYm94X3VzZXJzPy5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0XHRcdGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiXG5cblx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCJcIjtcblx0XHRcdFx0XHRpZiBkb2MuYWdlbnRfdXNlcl9uYW1lXG5cdFx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7dXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWV9KSArIFwiKTwvbGFiZWw+XCJcblxuXHRcdFx0XHRcdHVucmVhZCA9ICcnXG5cblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09IGZhbHNlXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+J1xuXHRcdFx0XHRcdGVsc2UgaWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT0gdHJ1ZVxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nXG5cblx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiXCJcblx0XHRcdFx0XHRwcmlvcml0eVZhbHVlID0gZG9jLnZhbHVlcz8ucHJpb3JpdHlcblx0XHRcdFx0XHRzd2l0Y2ggcHJpb3JpdHlWYWx1ZVxuXHRcdFx0XHRcdFx0d2hlbiBcIueJueaApVwiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIlxuXHRcdFx0XHRcdFx0d2hlbiBcIue0p+aApVwiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCJcblx0XHRcdFx0XHRcdHdoZW4gXCLlip7mlodcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIlxuXHRcdFx0XHRcdGlmIHByaW9yaXR5SWNvbkNsYXNzXG5cdFx0XHRcdFx0XHRpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS0je3ByaW9yaXR5SWNvbkNsYXNzfVwiXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1yZWFkLWJhcic+I3t1bnJlYWR9PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgI3tpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzfSc+I3tkb2MubmFtZX0je2NjX3ZpZXd9I3thZ2VudF92aWV3fTwvZGl2PlxuXHRcdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJzdWJtaXRfZGF0ZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19zdWJtaXRfZGF0ZVwiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLnN1Ym1pdF9kYXRlXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5zdWJtaXRfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG5cdFx0XHRcdCxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJmbG93X25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiY3VycmVudF9zdGVwX25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RlcF9jdXJyZW50X25hbWVcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXG5cdFx0XHRcdFx0XHRqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCJcblxuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLmN1cnJlbnRfc3RlcF9uYW1lIHx8ICcnXG5cblx0XHRcdFx0XHRjY190YWcgPSAnJ1xuXG5cdFx0XHRcdFx0aWYgZG9jLmNjX2NvdW50ID4gMFxuXHRcdFx0XHRcdFx0Y2NfdGFnID0gVEFQaTE4bi5fXygnY2NfdGFnJylcblxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGVwLWN1cnJlbnQtc3RhdGUgI3tqdWRnZX1cIj4je3N0ZXBfY3VycmVudF9uYW1lfSN7Y2NfdGFnfTwvZGl2PlxuXHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJtb2RpZmllZFwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19tb2RpZmllZFwiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuXHRcdFx0XHQsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwic3RhcnRfZGF0ZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19zdGFydF9kYXRlXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2Muc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2Muc3RhcnRfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG5cdFx0XHRcdCxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJteV9maW5pc2hfZGF0ZVwiLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2MubXlfZmluaXNoX2RhdGVcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLm15X2ZpbmlzaF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcblx0XHRcdFx0LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIm1vZGlmaWVkXCIsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImtleXdvcmRzXCIsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImlzX2FyY2hpdmVkXCIsXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYz8udmFsdWVzPy5yZWNvcmRfbmVlZCAmJiBkb2MudmFsdWVzLnJlY29yZF9uZWVkID09IFwidHJ1ZVwiXG5cdFx0XHRcdFx0XHRpZiBkb2M/LmlzX2FyY2hpdmVkXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0KFwiWUVTXCIpXG5cdFx0XHRcdFx0XHRyZXR1cm4gdChcIk5PXCIpXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH1cblx0XHRdLFxuXHRcdGRvbTogZG8gLT5cblx0XHRcdCMg5omL5py65LiK5LiN5pi+56S65LiA6aG15pi+56S65aSa5bCR5p2h6K6w5b2V6YCJ6aG5XG5cdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcblx0XHRcdFx0J3RwJ1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHQndHBsJ1xuXHRcdG9yZGVyOiBbWzQsIFwiZGVzY1wiXV0sXG5cdFx0ZXh0cmFGaWVsZHM6IFtcImZvcm1cIiwgXCJmbG93XCIsIFwiaW5ib3hfdXNlcnNcIiwgXCJzdGF0ZVwiLCBcInNwYWNlXCIsIFwiYXBwbGljYW50XCIsIFwiZm9ybV92ZXJzaW9uXCIsXG5cdFx0XHRcImZsb3dfdmVyc2lvblwiLCBcImlzX2NjXCIsIFwiY2NfY291bnRcIiwgXCJpc19yZWFkXCIsIFwiY3VycmVudF9zdGVwX25hbWVcIiwgXCJ2YWx1ZXNcIiwgXCJrZXl3b3Jkc1wiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwiZmxvd19uYW1lXCIsIFwiaXNfaGlkZGVuXCIsIFwiYWdlbnRfdXNlcl9uYW1lXCJdLFxuXHRcdGxlbmd0aENoYW5nZTogdHJ1ZSxcblx0XHRsZW5ndGhNZW51OiBbMTAsMTUsMjAsMjUsNTAsMTAwXSxcblx0XHRwYWdlTGVuZ3RoOiAxMCxcblx0XHRpbmZvOiBmYWxzZSxcblx0XHRzZWFyY2hpbmc6IHRydWUsXG5cdFx0cmVzcG9uc2l2ZTpcblx0XHRcdGRldGFpbHM6IGZhbHNlXG5cdFx0YXV0b1dpZHRoOiBmYWxzZSxcblx0XHRjaGFuZ2VTZWxlY3RvcjogKHNlbGVjdG9yLCB1c2VySWQpIC0+XG5cdFx0XHR1bmxlc3MgdXNlcklkXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cblx0XHRcdHNwYWNlID0gc2VsZWN0b3Iuc3BhY2Vcblx0XHRcdHVubGVzcyBzcGFjZVxuXHRcdFx0XHRpZiBzZWxlY3Rvcj8uJGFuZD8ubGVuZ3RoID4gMFxuXHRcdFx0XHRcdHNwYWNlID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXVxuXHRcdFx0dW5sZXNzIHNwYWNlXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cblx0XHRcdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHt1c2VyOiB1c2VySWQsIHNwYWNlOiBzcGFjZX0sIHtmaWVsZHM6IHtfaWQ6IDF9fSlcblx0XHRcdHVubGVzcyBzcGFjZV91c2VyXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cblx0XHRcdHJldHVybiBzZWxlY3RvclxuXHRcdHBhZ2luZ1R5cGU6IFwibnVtYmVyc1wiXG5cblx0fVxuXG5cdGlmIGZsb3dJZFxuXHRcdGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBmbG93SWRcblxuXHRcdG9wdGlvbnMubmFtZSA9IGtleVxuXG5cdFx0VGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzID0gZmllbGRzXG5cblx0XHRpbnNfZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMgVGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzXG5cblx0XHRpbnNfZmllbGRzLmZvckVhY2ggKGYpLT5cblx0XHRcdGlmIGYudHlwZSAhPSAndGFibGUnICYmIGYuaXNfbGlzdF9kaXNwbGF5XG5cdFx0XHRcdG9wdGlvbnMuY29sdW1ucy5wdXNoXG5cdFx0XHRcdFx0ZGF0YTogKGYubmFtZSB8fCBmLmNvZGUpLFxuXHRcdFx0XHRcdHRpdGxlOiB0KGYubmFtZSB8fCBmLmNvZGUpLFxuXHRcdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblxuXHRcdFx0XHRcdFx0dmFsdWVzID0gZG9jLnZhbHVlcyB8fCB7fVxuXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlc1tmLmNvZGVdXG5cblx0XHRcdFx0XHRcdHN3aXRjaCBmLnR5cGVcblx0XHRcdFx0XHRcdFx0d2hlbiAndXNlcidcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5uYW1lXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2dyb3VwJ1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWU/LmZ1bGxuYW1lXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2RhdGUnXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWVcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxuXHRcdFx0XHRcdFx0XHR3aGVuICdkYXRlVGltZSdcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2NoZWNrYm94J1xuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlID09IHRydWUgfHwgdmFsdWUgPT0gJ3RydWUnXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcblx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xuXHRcdFx0XHRcdFx0XHR3aGVuICdvZGF0YSdcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgXy5pc0FycmF5KHZhbHVlKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IF8ucGx1Y2sodmFsdWUsICdAbGFiZWwnKS50b1N0cmluZygpXG5cdFx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWVbJ0BsYWJlbCddXG5cblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZVxuXG5cblx0cmV0dXJuIG9wdGlvbnM7XG5cbk1ldGVvci5zdGFydHVwICgpLT5cblx0VGFidWxhclRhYmxlcy5pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKClcblxuXG5HZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyA9IChib3gsIGZsb3dJZCwgZmllbGRzKS0+XG5cdGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWRcblx0aWYgYm94ID09IFwiaW5ib3hcIlxuXHRcdG9wdGlvbnMgPSBfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpXG5cdGVsc2UgaWYgYm94ID09IFwib3V0Ym94XCJcblx0XHRvcHRpb25zID0gX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcylcblx0ZWxzZVxuXHRcdG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKVxuXHRcdGlmICFmbG93SWRcblx0XHRcdG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCJcblx0aWYgZmxvd0lkXG5cdFx0b3B0aW9ucy5uYW1lID0ga2V5XG5cdHJldHVybiBvcHRpb25zXG5cblxuXG5fZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSAoZmxvd0lkLCBmaWVsZHMpLT5cblx0b3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXG5cblx0aWYgIWZsb3dJZFxuXHRcdG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCJcblxuXHRvcHRpb25zLm9yZGVyID0gW1s4LCBcImRlc2NcIl1dXG5cdG9wdGlvbnMuZmlsdGVyZWRSZWNvcmRJZHMgPSAodGFibGUsIHNlbGVjdG9yLCBzb3J0LCBza2lwLCBsaW1pdCwgb2xkX2ZpbHRlcmVkUmVjb3JkSWRzLCB1c2VySWQsIGZpbmRPcHRpb25zKS0+XG5cdFx0YWdncmVnYXRlX29wZXJhdGlvbiA9IFtcblx0XHRcdHtcblx0XHRcdFx0JG1hdGNoOiBzZWxlY3RvclxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHByb2plY3Q6IHtcblx0XHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRcdFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCRtYXRjaDoge1xuXHRcdFx0XHRcdCdfYXBwcm92ZS5pc19maW5pc2hlZCc6IGZhbHNlXG5cdFx0XHRcdFx0J19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWQsXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRdXG5cdFx0aWYgc29ydCBhbmQgc29ydC5sZW5ndGggPiAwXG5cdFx0XHRzMSA9IHNvcnRbMF1cblx0XHRcdHMxXzAgPSBzMVswXVxuXHRcdFx0czFfMSA9IHMxWzFdXG5cdFx0XHRpZiBzMV8wID09ICdzdGFydF9kYXRlJ1xuXG5cdFx0XHRcdGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXVxuXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkZ3JvdXA6IHtfaWQ6IFwiJF9pZFwiLCBcImFwcHJvdmVfc3RhcnRfZGF0ZVwiOiB7JGZpcnN0OiBcIiRfYXBwcm92ZS5zdGFydF9kYXRlXCJ9fVxuXG5cdFx0XHRcdGFnX3NvcnQgPSAnYXBwcm92ZV9zdGFydF9kYXRlJzogaWYgczFfMSA9PSAnYXNjJyB0aGVuIDEgZWxzZSAtMVxuXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkc29ydDogYWdfc29ydFxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJHNraXA6IHNraXBcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRsaW1pdDogbGltaXRcblx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMgPSBuZXcgQXJyYXkoKVxuXG5cdFx0XHRcdGFnZ3JlZ2F0ZSA9ICh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSAtPlxuXHRcdFx0XHRcdHRhYmxlLmNvbGxlY3Rpb24ucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVfb3BlcmF0aW9uKS50b0FycmF5IChlcnIsIGRhdGEpIC0+XG5cdFx0XHRcdFx0XHRpZiBlcnJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcblx0XHRcdFx0XHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxuXHRcdFx0XHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcy5wdXNoIGRvYy5faWRcblx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRpZiBjYlxuXHRcdFx0XHRcdFx0XHRjYigpXG5cdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRyZXR1cm5cblxuXHRcdFx0XHRhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSlcblxuXHRcdFx0XHRhc3luY19hZ2dyZWdhdGUgdGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzXG5cblx0XHRcdFx0cmV0dXJuIGZpbHRlcmVkUmVjb3JkSWRzLnVuaXEoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzXG5cblx0cmV0dXJuIG9wdGlvbnNcblxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxuXHRUYWJ1bGFyVGFibGVzLmluYm94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwiaW5ib3hcIilcblxuXG5fZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zID0gKGZsb3dJZCwgZmllbGRzKS0+XG5cdG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKVxuXG5cdGlmICFmbG93SWRcblx0XHRvcHRpb25zLm5hbWUgPSBcIm91dGJveF9pbnN0YW5jZXNcIlxuXG5cdG9wdGlvbnMub3JkZXIgPSBbWzksIFwiZGVzY1wiXV1cblx0b3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9ICh0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpLT5cblx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xuXHRcdFx0e1xuXHRcdFx0XHQkbWF0Y2g6IHNlbGVjdG9yXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkcHJvamVjdDoge1xuXHRcdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdFx0XCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3Zlcydcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JG1hdGNoOiB7XG5cdFx0XHRcdFx0J19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogdHJ1ZVxuXHRcdFx0XHRcdCRvcjogW3snX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZH0seydfYXBwcm92ZS51c2VyJzogdXNlcklkfV1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdF1cblx0XHRpZiBzb3J0IGFuZCBzb3J0Lmxlbmd0aCA+IDBcblx0XHRcdHMxID0gc29ydFswXVxuXHRcdFx0czFfMCA9IHMxWzBdXG5cdFx0XHRzMV8xID0gczFbMV1cblx0XHRcdGlmIHMxXzAgPT0gJ215X2ZpbmlzaF9kYXRlJ1xuXG5cdFx0XHRcdGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXVxuXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkZ3JvdXA6IHtfaWQ6IFwiJF9pZFwiLCBcImFwcHJvdmVfZmluaXNoX2RhdGVcIjogeyRsYXN0OiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwifX1cblxuXHRcdFx0XHRhZ19zb3J0ID0gJ2FwcHJvdmVfZmluaXNoX2RhdGUnOiBpZiBzMV8xID09ICdhc2MnIHRoZW4gMSBlbHNlIC0xXG5cblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRzb3J0OiBhZ19zb3J0XG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkc2tpcDogc2tpcFxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJGxpbWl0OiBsaW1pdFxuXHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpXG5cblx0XHRcdFx0YWdncmVnYXRlID0gKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIC0+XG5cdFx0XHRcdFx0dGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkgKGVyciwgZGF0YSkgLT5cblx0XHRcdFx0XHRcdGlmIGVyclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxuXHRcdFx0XHRcdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XG5cdFx0XHRcdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzLnB1c2ggZG9jLl9pZFxuXHRcdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRcdGlmIGNiXG5cdFx0XHRcdFx0XHRcdGNiKClcblx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKVxuXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSB0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHNcblxuXHRcdFx0XHRyZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHNcblxuXHRyZXR1cm4gb3B0aW9uc1xuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdFRhYnVsYXJUYWJsZXMub3V0Ym94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwib3V0Ym94XCIpXG5cbmlmIE1ldGVvci5pc0NsaWVudFxuXHRUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMgPSBuZXcgUmVhY3RpdmVWYXIoKVxuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdFRyYWNrZXIuYXV0b3J1biAoYykgLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnQgJiYgIVN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIikgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gJ2RyYWZ0J1xuXHRcdFx0XHRNZXRlb3IuY2FsbCBcIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyXCIsIFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgKGVycm9yLCByZXN1bHQpIC0+XG5cdFx0XHRcdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCByZXN1bHRcblx0XHRcdFx0XHRUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll9jaGFuZ2VPcmRlcigpXG5cblxubmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgPSAoYm94LCBmbG93SWQsIGZpZWxkcyktPlxuXHRpZiAhZmllbGRzXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge2Zvcm06IDF9fSlcblx0XHRmaWVsZHMgPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93Py5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KT8uY3VycmVudD8uZmllbGRzXG5cblx0ZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMgZmllbGRzXG5cblx0aWYgZmllbGRzPy5maWx0ZXJQcm9wZXJ0eShcImlzX2xpc3RfZGlzcGxheVwiLCB0cnVlKT8ubGVuZ3RoID4gMFxuXHRcdGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWRcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcy5zZXQobmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcykpXG5cdFx0ZWxzZVxuXHRcdFx0bmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcylcblx0XHRjb25zb2xlLmxvZyBcIm5ldyBUYWJ1bGFyVGFibGVzIFwiLCBrZXlcblxuaWYgTWV0ZW9yLmlzU2VydmVyXG5cdE1ldGVvci5tZXRob2RzXG5cdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXI6IChib3gsIGZsb3dJZCktPlxuXHRcdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIoYm94LCBmbG93SWQpXG5cblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGZsb3dJZH0sIHtmaWVsZHM6IHtmb3JtOiAxfX0pXG5cdFx0XHRmaWVsZHMgPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93Py5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KT8uY3VycmVudD8uZmllbGRzXG5cdFx0XHRyZXR1cm4gZmllbGRzXG5cblxuIiwidmFyIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zLCBfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMsIF9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMsIF9oYW5kbGVMaXN0RmllbGRzLCBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyLCBuZXdJbnN0YW5jZXNMaXN0VGFidWxhciwgdXBkYXRlVGFidWxhclRpdGxlO1xuXG5TdGVlZG9zLnN1YnNbXCJJbnN0YW5jZVRhYnVsYXJcIl0gPSBuZXcgU3Vic01hbmFnZXIoKTtcblxuX2hhbmRsZUxpc3RGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMpIHtcbiAgdmFyIGluc19maWVsZHM7XG4gIGluc19maWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgaWYgKGZpZWxkcyAhPSBudWxsKSB7XG4gICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgdmFyIHJlZjtcbiAgICAgIGlmIChmLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZScpO1xuICAgICAgfSBlbHNlIGlmIChmLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgICByZXR1cm4gZiAhPSBudWxsID8gKHJlZiA9IGYuZmllbGRzKSAhPSBudWxsID8gcmVmLmZvckVhY2goZnVuY3Rpb24oZjEpIHtcbiAgICAgICAgICByZXR1cm4gaW5zX2ZpZWxkcy5wdXNoKGYxKTtcbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW5zX2ZpZWxkcy5wdXNoKGYpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBpbnNfZmllbGRzO1xufTtcblxudXBkYXRlVGFidWxhclRpdGxlID0gZnVuY3Rpb24oKSB7fTtcblxuaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciA9IGZ1bmN0aW9uKGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBpbnNfZmllbGRzLCBrZXksIG9wdGlvbnM7XG4gIG9wdGlvbnMgPSB7XG4gICAgbmFtZTogXCJpbnN0YW5jZXNcIixcbiAgICBjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXMsXG4gICAgcHViOiBcImluc3RhbmNlX3RhYnVsYXJcIixcbiAgICBvblVubG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApO1xuICAgIH0sXG4gICAgZHJhd0NhbGxiYWNrOiBmdW5jdGlvbihzZXR0aW5ncykge1xuICAgICAgdmFyIGVsbGlwc2lzTGluaywgZW1wdHlUZCwgdGl0bGU7XG4gICAgICBlbXB0eVRkID0gJChcIi5kYXRhVGFibGVzX2VtcHR5XCIpO1xuICAgICAgaWYgKGVtcHR5VGQubGVuZ3RoKSB7XG4gICAgICAgIGVtcHR5VGRbMF0uY29sU3BhbiA9IFwiNlwiO1xuICAgICAgfVxuICAgICAgaWYgKCFTdGVlZG9zLmlzTW9iaWxlKCkgJiYgIVN0ZWVkb3MuaXNQYWQoKSkge1xuICAgICAgICBNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MCk7XG4gICAgICAgICQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQoXCIuaW5zdGFuY2UtbGlzdFwiKS5wZXJmZWN0U2Nyb2xsYmFyKFwidXBkYXRlXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMCk7XG4gICAgICB9XG4gICAgICB0aXRsZSA9IHQoXCJwYWdlcl9pbnB1dF9oaW50XCIpO1xuICAgICAgZWxsaXBzaXNMaW5rID0gc2V0dGluZ3Mub0luc3RhbmNlLnBhcmVudCgpLmZpbmQoJy5wYWdpbmdfbnVtYmVycyAucGFnaW5hdGlvbiAuZGlzYWJsZWQgYScpO1xuICAgICAgcmV0dXJuIGVsbGlwc2lzTGluay5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmNzcyhcImN1cnNvclwiLCBcInBvaW50ZXJcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBnb1BhZ2UsIGlucHV0O1xuICAgICAgICBpZiAoISQodGhpcykuZmluZCgnaW5wdXQnKS5sZW5ndGgpIHtcbiAgICAgICAgICBpbnB1dCA9ICQoJzxpbnB1dCBjbGFzcz1cInBhZ2luYXRlX2lucHV0IGZvcm0tY29udHJvbCBpbnB1dC1zbVwiIHR5cGU9XCJ0ZXh0XCIgc3R5bGU9XCJib3JkZXI6IG5vbmU7IHBhZGRpbmc6MCAycHg7XCIvPicpO1xuICAgICAgICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgIGlucHV0LmNzcyh7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIjUycHhcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjIwcHhcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0LmNzcyh7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIjUycHhcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjE2cHhcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlucHV0LmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuYXR0cihcInBsYWNlaG9sZGVyXCIsIHRpdGxlKTtcbiAgICAgICAgICAkKHRoaXMpLmVtcHR5KCkuYXBwZW5kKGlucHV0KTtcbiAgICAgICAgICBnb1BhZ2UgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgdmFyIHBhZ2VzO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICBwYWdlcyA9IE1hdGguY2VpbChzZXR0aW5ncy5mblJlY29yZHNEaXNwbGF5KCkgLyBzZXR0aW5ncy5faURpc3BsYXlMZW5ndGgpO1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPiBwYWdlcykge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gcGFnZXM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm9JbnN0YW5jZS5EYXRhVGFibGUoKS5wYWdlKGluZGV4KS5kcmF3KCdwYWdlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpbnB1dC5ibHVyKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZTtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgIGdvUGFnZShjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5wYXJlbnQoKS5odG1sKCcuLi4nKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gaW5wdXQua2V5ZG93bihmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFBhZ2U7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlLnRvU3RyaW5nKCkgPT09IFwiMTNcIikge1xuICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgIHJldHVybiBnb1BhZ2UoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNyZWF0ZWRSb3c6IGZ1bmN0aW9uKHJvdywgZGF0YSwgZGF0YUluZGV4KSB7XG4gICAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICAgIGlmIChkYXRhLl9pZCA9PT0gRmxvd1JvdXRlci5jdXJyZW50KCkucGFyYW1zLmluc3RhbmNlSWQpIHtcbiAgICAgICAgICByZXR1cm4gcm93LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic2VsZWN0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbHVtbnM6IFtcbiAgICAgIHtcbiAgICAgICAgZGF0YTogXCJfaWRcIixcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBhZ2VudF92aWV3LCBjY192aWV3LCBmbG93X25hbWUsIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MsIG1vZGlmaWVkLCBtb2RpZmllZEZyb21Ob3csIG1vZGlmaWVkU3RyaW5nLCBwcmlvcml0eUljb24sIHByaW9yaXR5SWNvbkNsYXNzLCBwcmlvcml0eVZhbHVlLCByZWYsIHJlZjEsIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcsIHVucmVhZDtcbiAgICAgICAgICBtb2RpZmllZFN0cmluZyA9IG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICAgIG1vZGlmaWVkID0gZG9jLm1vZGlmaWVkO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2Muc3RhdGUgIT09ICdkcmFmdCcpIHtcbiAgICAgICAgICAgIG1vZGlmaWVkID0gZG9jLnN0YXJ0X2RhdGUgfHwgZG9jLm1vZGlmaWVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdvdXRib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnbW9uaXRvcicpIHtcbiAgICAgICAgICAgIG1vZGlmaWVkID0gZG9jLnN1Ym1pdF9kYXRlIHx8IGRvYy5zdWJtaXRfZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW9kaWZpZWRGcm9tTm93ID0gU3RlZWRvcy5tb21lbnRSZWFjdGl2ZUZyb21Ob3cobW9kaWZpZWQpO1xuICAgICAgICAgIGZsb3dfbmFtZSA9IGRvYy5mbG93X25hbWU7XG4gICAgICAgICAgY2NfdmlldyA9IFwiXCI7XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5pc19jYyAmJiAhKChyZWYgPSBkb2MuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSA6IHZvaWQgMCkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgICAgIGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiO1xuICAgICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz5cIiArIGZsb3dfbmFtZSArIFwiPHNwYW4+KFwiICsgZG9jLmN1cnJlbnRfc3RlcF9uYW1lICsgXCIpPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT09ICdkcmFmdCcgJiYgZG9jLmN1cnJlbnRfc3RlcF9uYW1lKSB7XG4gICAgICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+XCIgKyBmbG93X25hbWUgKyBcIjxzcGFuPihcIiArIGRvYy5jdXJyZW50X3N0ZXBfbmFtZSArIFwiKTwvc3Bhbj48L2Rpdj5cIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+XCIgKyBmbG93X25hbWUgKyBcIjwvZGl2PlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhZ2VudF92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmFnZW50X3VzZXJfbmFtZSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICAgICAgYWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge1xuICAgICAgICAgICAgICB1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZVxuICAgICAgICAgICAgfSkgKyBcIik8L2xhYmVsPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1bnJlYWQgPSAnJztcbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmlvcml0eUljb24gPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIjtcbiAgICAgICAgICBwcmlvcml0eVZhbHVlID0gKHJlZjEgPSBkb2MudmFsdWVzKSAhPSBudWxsID8gcmVmMS5wcmlvcml0eSA6IHZvaWQgMDtcbiAgICAgICAgICBzd2l0Y2ggKHByaW9yaXR5VmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCLnibnmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLntKfmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi5Yqe5paHXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJpb3JpdHlJY29uQ2xhc3MpIHtcbiAgICAgICAgICAgIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LVwiICsgcHJpb3JpdHlJY29uQ2xhc3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz5cIiArIHVucmVhZCArIFwiPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSBcIiArIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgKyBcIic+XCIgKyBkb2MubmFtZSArIGNjX3ZpZXcgKyBhZ2VudF92aWV3ICsgXCJcXG5cdDxzcGFuPlwiICsgZG9jLmFwcGxpY2FudF9uYW1lICsgXCI8L3NwYW4+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtZGV0YWlsJz5cIiArIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgKyBcIlxcblx0PHNwYW4gY2xhc3M9J2luc3RhbmNlLW1vZGlmaWVkJyB0aXRsZT0nXCIgKyBtb2RpZmllZFN0cmluZyArIFwiJz5cIiArIG1vZGlmaWVkRnJvbU5vdyArIFwiPC9zcGFuPlxcbjwvZGl2PlwiO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJuYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX25hbWVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgYWdlbnRfdmlldywgY2NfdmlldywgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcywgcHJpb3JpdHlJY29uQ2xhc3MsIHByaW9yaXR5VmFsdWUsIHJlZiwgcmVmMSwgc3RlcF9jdXJyZW50X25hbWVfdmlldywgdW5yZWFkO1xuICAgICAgICAgIGNjX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuaXNfY2MgJiYgISgocmVmID0gZG9jLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDApICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWdlbnRfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5hZ2VudF91c2VyX25hbWUpIHtcbiAgICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgdXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWVcbiAgICAgICAgICAgIH0pICsgXCIpPC9sYWJlbD5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5yZWFkID0gJyc7XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPic7XG4gICAgICAgICAgfSBlbHNlIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5VmFsdWUgPSAocmVmMSA9IGRvYy52YWx1ZXMpICE9IG51bGwgPyByZWYxLnByaW9yaXR5IDogdm9pZCAwO1xuICAgICAgICAgIHN3aXRjaCAocHJpb3JpdHlWYWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBcIueJueaApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIue0p+aApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLlip7mlodcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmlvcml0eUljb25DbGFzcykge1xuICAgICAgICAgICAgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktXCIgKyBwcmlvcml0eUljb25DbGFzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPlwiICsgdW5yZWFkICsgXCI8L2Rpdj5cXG48ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lIFwiICsgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyArIFwiJz5cIiArIGRvYy5uYW1lICsgY2NfdmlldyArIGFnZW50X3ZpZXcgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcInN1Ym1pdF9kYXRlXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N1Ym1pdF9kYXRlXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5zdWJtaXRfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2Muc3VibWl0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImZsb3dfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0ZXBfY3VycmVudF9uYW1lXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGNjX3RhZywganVkZ2UsIHN0ZXBfY3VycmVudF9uYW1lO1xuICAgICAgICAgIGlmIChkb2Muc3RhdGUgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgICAgICAgIGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJyc7XG4gICAgICAgICAgY2NfdGFnID0gJyc7XG4gICAgICAgICAgaWYgKGRvYy5jY19jb3VudCA+IDApIHtcbiAgICAgICAgICAgIGNjX3RhZyA9IFRBUGkxOG4uX18oJ2NjX3RhZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJzdGVwLWN1cnJlbnQtc3RhdGUgXCIgKyBqdWRnZSArIFwiXFxcIj5cIiArIHN0ZXBfY3VycmVudF9uYW1lICsgY2NfdGFnICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJtb2RpZmllZFwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19tb2RpZmllZFwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcInN0YXJ0X2RhdGVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RhcnRfZGF0ZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIGlmIChkb2Muc3RhcnRfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2Muc3RhcnRfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibXlfZmluaXNoX2RhdGVcIixcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIGlmIChkb2MubXlfZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLm15X2ZpbmlzaF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJtb2RpZmllZFwiLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImtleXdvcmRzXCIsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiaXNfYXJjaGl2ZWRcIixcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciByZWY7XG4gICAgICAgICAgaWYgKChkb2MgIT0gbnVsbCA/IChyZWYgPSBkb2MudmFsdWVzKSAhPSBudWxsID8gcmVmLnJlY29yZF9uZWVkIDogdm9pZCAwIDogdm9pZCAwKSAmJiBkb2MudmFsdWVzLnJlY29yZF9uZWVkID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgaWYgKGRvYyAhPSBudWxsID8gZG9jLmlzX2FyY2hpdmVkIDogdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0KFwiWUVTXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQoXCJOT1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9XG4gICAgXSxcbiAgICBkb206IChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgcmV0dXJuICd0cCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3RwbCc7XG4gICAgICB9XG4gICAgfSkoKSxcbiAgICBvcmRlcjogW1s0LCBcImRlc2NcIl1dLFxuICAgIGV4dHJhRmllbGRzOiBbXCJmb3JtXCIsIFwiZmxvd1wiLCBcImluYm94X3VzZXJzXCIsIFwic3RhdGVcIiwgXCJzcGFjZVwiLCBcImFwcGxpY2FudFwiLCBcImZvcm1fdmVyc2lvblwiLCBcImZsb3dfdmVyc2lvblwiLCBcImlzX2NjXCIsIFwiY2NfY291bnRcIiwgXCJpc19yZWFkXCIsIFwiY3VycmVudF9zdGVwX25hbWVcIiwgXCJ2YWx1ZXNcIiwgXCJrZXl3b3Jkc1wiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwiZmxvd19uYW1lXCIsIFwiaXNfaGlkZGVuXCIsIFwiYWdlbnRfdXNlcl9uYW1lXCJdLFxuICAgIGxlbmd0aENoYW5nZTogdHJ1ZSxcbiAgICBsZW5ndGhNZW51OiBbMTAsIDE1LCAyMCwgMjUsIDUwLCAxMDBdLFxuICAgIHBhZ2VMZW5ndGg6IDEwLFxuICAgIGluZm86IGZhbHNlLFxuICAgIHNlYXJjaGluZzogdHJ1ZSxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICBkZXRhaWxzOiBmYWxzZVxuICAgIH0sXG4gICAgYXV0b1dpZHRoOiBmYWxzZSxcbiAgICBjaGFuZ2VTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IsIHVzZXJJZCkge1xuICAgICAgdmFyIHJlZiwgc3BhY2UsIHNwYWNlX3VzZXI7XG4gICAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlID0gc2VsZWN0b3Iuc3BhY2U7XG4gICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgIGlmICgoc2VsZWN0b3IgIT0gbnVsbCA/IChyZWYgPSBzZWxlY3Rvci4kYW5kKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgc3BhY2UgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgICB1c2VyOiB1c2VySWQsXG4gICAgICAgIHNwYWNlOiBzcGFjZVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBfaWQ6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgfSxcbiAgICBwYWdpbmdUeXBlOiBcIm51bWJlcnNcIlxuICB9O1xuICBpZiAoZmxvd0lkKSB7XG4gICAga2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGZsb3dJZDtcbiAgICBvcHRpb25zLm5hbWUgPSBrZXk7XG4gICAgVGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzID0gZmllbGRzO1xuICAgIGluc19maWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyhUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHMpO1xuICAgIGluc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICBpZiAoZi50eXBlICE9PSAndGFibGUnICYmIGYuaXNfbGlzdF9kaXNwbGF5KSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmNvbHVtbnMucHVzaCh7XG4gICAgICAgICAgZGF0YTogZi5uYW1lIHx8IGYuY29kZSxcbiAgICAgICAgICB0aXRsZTogdChmLm5hbWUgfHwgZi5jb2RlKSxcbiAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSwgdmFsdWVzO1xuICAgICAgICAgICAgdmFsdWVzID0gZG9jLnZhbHVlcyB8fCB7fTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2YuY29kZV07XG4gICAgICAgICAgICBzd2l0Y2ggKGYudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICd1c2VyJzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5uYW1lIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdncm91cCc6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZnVsbG5hbWUgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnZGF0ZVRpbWUnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ29kYXRhJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChfLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlWydAbGFiZWwnXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGFidWxhclRhYmxlcy5pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZShpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKCkpO1xufSk7XG5cbkdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zID0gZnVuY3Rpb24oYm94LCBmbG93SWQsIGZpZWxkcykge1xuICB2YXIga2V5LCBvcHRpb25zO1xuICBrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgYm94ICsgZmxvd0lkO1xuICBpZiAoYm94ID09PSBcImluYm94XCIpIHtcbiAgICBvcHRpb25zID0gX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKTtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwib3V0Ym94XCIpIHtcbiAgICBvcHRpb25zID0gX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcyk7XG4gIH0gZWxzZSB7XG4gICAgb3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpO1xuICAgIGlmICghZmxvd0lkKSB7XG4gICAgICBvcHRpb25zLm5hbWUgPSBcImluYm94X2luc3RhbmNlc1wiO1xuICAgIH1cbiAgfVxuICBpZiAoZmxvd0lkKSB7XG4gICAgb3B0aW9ucy5uYW1lID0ga2V5O1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zID0gZnVuY3Rpb24oZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIG9wdGlvbnM7XG4gIG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKTtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBvcHRpb25zLm5hbWUgPSBcImluYm94X2luc3RhbmNlc1wiO1xuICB9XG4gIG9wdGlvbnMub3JkZXIgPSBbWzgsIFwiZGVzY1wiXV07XG4gIG9wdGlvbnMuZmlsdGVyZWRSZWNvcmRJZHMgPSBmdW5jdGlvbih0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpIHtcbiAgICB2YXIgYWdfc29ydCwgYWdncmVnYXRlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBhc3luY19hZ2dyZWdhdGUsIGZpbHRlcmVkUmVjb3JkSWRzLCBzMSwgczFfMCwgczFfMTtcbiAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xuICAgICAge1xuICAgICAgICAkbWF0Y2g6IHNlbGVjdG9yXG4gICAgICB9LCB7XG4gICAgICAgICRwcm9qZWN0OiB7XG4gICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICBcIl9hcHByb3ZlXCI6ICckdHJhY2VzLmFwcHJvdmVzJ1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkbWF0Y2g6IHtcbiAgICAgICAgICAnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiBmYWxzZSxcbiAgICAgICAgICAnX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgICBpZiAoc29ydCAmJiBzb3J0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHMxID0gc29ydFswXTtcbiAgICAgIHMxXzAgPSBzMVswXTtcbiAgICAgIHMxXzEgPSBzMVsxXTtcbiAgICAgIGlmIChzMV8wID09PSAnc3RhcnRfZGF0ZScpIHtcbiAgICAgICAgZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRncm91cDoge1xuICAgICAgICAgICAgX2lkOiBcIiRfaWRcIixcbiAgICAgICAgICAgIFwiYXBwcm92ZV9zdGFydF9kYXRlXCI6IHtcbiAgICAgICAgICAgICAgJGZpcnN0OiBcIiRfYXBwcm92ZS5zdGFydF9kYXRlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhZ19zb3J0ID0ge1xuICAgICAgICAgICdhcHByb3ZlX3N0YXJ0X2RhdGUnOiBzMV8xID09PSAnYXNjJyA/IDEgOiAtMVxuICAgICAgICB9O1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRzb3J0OiBhZ19zb3J0XG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRza2lwOiBza2lwXG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRsaW1pdDogbGltaXRcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGFnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIHtcbiAgICAgICAgICB0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzLnB1c2goZG9jLl9pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSk7XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkcztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLmluYm94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwiaW5ib3hcIikpO1xufSk7XG5cbl9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSBmdW5jdGlvbihmbG93SWQsIGZpZWxkcykge1xuICB2YXIgb3B0aW9ucztcbiAgb3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpO1xuICBpZiAoIWZsb3dJZCkge1xuICAgIG9wdGlvbnMubmFtZSA9IFwib3V0Ym94X2luc3RhbmNlc1wiO1xuICB9XG4gIG9wdGlvbnMub3JkZXIgPSBbWzksIFwiZGVzY1wiXV07XG4gIG9wdGlvbnMuZmlsdGVyZWRSZWNvcmRJZHMgPSBmdW5jdGlvbih0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpIHtcbiAgICB2YXIgYWdfc29ydCwgYWdncmVnYXRlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBhc3luY19hZ2dyZWdhdGUsIGZpbHRlcmVkUmVjb3JkSWRzLCBzMSwgczFfMCwgczFfMTtcbiAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xuICAgICAge1xuICAgICAgICAkbWF0Y2g6IHNlbGVjdG9yXG4gICAgICB9LCB7XG4gICAgICAgICRwcm9qZWN0OiB7XG4gICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICBcIl9hcHByb3ZlXCI6ICckdHJhY2VzLmFwcHJvdmVzJ1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkbWF0Y2g6IHtcbiAgICAgICAgICAnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiB0cnVlLFxuICAgICAgICAgICRvcjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAnX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAnX2FwcHJvdmUudXNlcic6IHVzZXJJZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gICAgaWYgKHNvcnQgJiYgc29ydC5sZW5ndGggPiAwKSB7XG4gICAgICBzMSA9IHNvcnRbMF07XG4gICAgICBzMV8wID0gczFbMF07XG4gICAgICBzMV8xID0gczFbMV07XG4gICAgICBpZiAoczFfMCA9PT0gJ215X2ZpbmlzaF9kYXRlJykge1xuICAgICAgICBmaW5kT3B0aW9ucy5zb3J0ID0gW1snbW9kaWZpZWQnLCBzMV8xXV07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGdyb3VwOiB7XG4gICAgICAgICAgICBfaWQ6IFwiJF9pZFwiLFxuICAgICAgICAgICAgXCJhcHByb3ZlX2ZpbmlzaF9kYXRlXCI6IHtcbiAgICAgICAgICAgICAgJGxhc3Q6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhZ19zb3J0ID0ge1xuICAgICAgICAgICdhcHByb3ZlX2ZpbmlzaF9kYXRlJzogczFfMSA9PT0gJ2FzYycgPyAxIDogLTFcbiAgICAgICAgfTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkc29ydDogYWdfc29ydFxuICAgICAgICB9KTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkc2tpcDogc2tpcFxuICAgICAgICB9KTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkbGltaXQ6IGxpbWl0XG4gICAgICAgIH0pO1xuICAgICAgICBmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBhZ2dyZWdhdGUgPSBmdW5jdGlvbih0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSB7XG4gICAgICAgICAgdGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgICAgICAgICBmaWx0ZXJlZFJlY29yZElkcy5wdXNoKGRvYy5faWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhhZ2dyZWdhdGUpO1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUodGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkUmVjb3JkSWRzLnVuaXEoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHM7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGFidWxhclRhYmxlcy5vdXRib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJvdXRib3hcIikpO1xufSk7XG5cbmlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgVGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzID0gbmV3IFJlYWN0aXZlVmFyKCk7XG59XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVHJhY2tlci5hdXRvcnVuKGZ1bmN0aW9uKGMpIHtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50ICYmICFTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldChcImZsb3dJZFwiKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSAhPT0gJ2RyYWZ0Jykge1xuICAgICAgICByZXR1cm4gTWV0ZW9yLmNhbGwoXCJuZXdJbnN0YW5jZXNMaXN0VGFidWxhclwiLCBTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpIHtcbiAgICAgICAgICBuZXdJbnN0YW5jZXNMaXN0VGFidWxhcihTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIHJlc3VsdCk7XG4gICAgICAgICAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX2NoYW5nZU9yZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KTtcblxubmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgPSBmdW5jdGlvbihib3gsIGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBmbG93LCBrZXksIHJlZiwgcmVmMSwgcmVmMjtcbiAgaWYgKCFmaWVsZHMpIHtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3dJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBmb3JtOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgZmllbGRzID0gKHJlZiA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93ICE9IG51bGwgPyBmbG93LmZvcm0gOiB2b2lkIDBcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgfVxuICAgIH0pKSAhPSBudWxsID8gKHJlZjEgPSByZWYuY3VycmVudCkgIT0gbnVsbCA/IHJlZjEuZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICB9XG4gIGZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzKGZpZWxkcyk7XG4gIGlmICgoZmllbGRzICE9IG51bGwgPyAocmVmMiA9IGZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcImlzX2xpc3RfZGlzcGxheVwiLCB0cnVlKSkgIT0gbnVsbCA/IHJlZjIubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICBrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgYm94ICsgZmxvd0lkO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcy5zZXQobmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcykpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcykpO1xuICAgIH1cbiAgICByZXR1cm4gY29uc29sZS5sb2coXCJuZXcgVGFidWxhclRhYmxlcyBcIiwga2V5KTtcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBNZXRlb3IubWV0aG9kcyh7XG4gICAgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXI6IGZ1bmN0aW9uKGJveCwgZmxvd0lkKSB7XG4gICAgICB2YXIgZmllbGRzLCBmbG93LCByZWYsIHJlZjE7XG4gICAgICBuZXdJbnN0YW5jZXNMaXN0VGFidWxhcihib3gsIGZsb3dJZCk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvd0lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm06IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmaWVsZHMgPSAocmVmID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvdyAhPSBudWxsID8gZmxvdy5mb3JtIDogdm9pZCAwXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICdjdXJyZW50LmZpZWxkcyc6IDFcbiAgICAgICAgfVxuICAgICAgfSkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jdXJyZW50KSAhPSBudWxsID8gcmVmMS5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gZmllbGRzO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=
