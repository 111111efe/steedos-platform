(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;
var global = Package.meteor.global;
var meteorEnv = Package.meteor.meteorEnv;
var ReactiveVar = Package['reactive-var'].ReactiveVar;
var ReactiveDict = Package['reactive-dict'].ReactiveDict;
var ECMAScript = Package.ecmascript.ECMAScript;
var Random = Package.random.Random;
var DDP = Package['ddp-client'].DDP;
var DDPServer = Package['ddp-server'].DDPServer;
var check = Package.check.check;
var Match = Package.check.Match;
var DDPRateLimiter = Package['ddp-rate-limiter'].DDPRateLimiter;
var _ = Package.underscore._;
var Tracker = Package.tracker.Tracker;
var Deps = Package.tracker.Deps;
var Blaze = Package.blaze.Blaze;
var UI = Package.blaze.UI;
var Handlebars = Package.blaze.Handlebars;
var JsonRoutes = Package['simple:json-routes'].JsonRoutes;
var RestMiddleware = Package['simple:json-routes'].RestMiddleware;
var Restivus = Package['nimble:restivus'].Restivus;
var SimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;
var MongoObject = Package['aldeed:simple-schema'].MongoObject;
var Tabular = Package['aldeed:tabular'].Tabular;
var CollectionHooks = Package['matb33:collection-hooks'].CollectionHooks;
var BlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;
var FlowRouter = Package['kadira:flow-router'].FlowRouter;
var WorkflowManager = Package['steedos:app-workflow'].WorkflowManager;
var uuflowManager = Package['steedos:app-workflow'].uuflowManager;
var pushManager = Package['steedos:app-workflow'].pushManager;
var steedosExport = Package['steedos:app-workflow'].steedosExport;
var steedosImport = Package['steedos:app-workflow'].steedosImport;
var Template = Package['meteorhacks:ssr'].Template;
var SSR = Package['meteorhacks:ssr'].SSR;
var SubsManager = Package['meteorhacks:subs-manager'].SubsManager;
var WebApp = Package.webapp.WebApp;
var WebAppInternals = Package.webapp.WebAppInternals;
var main = Package.webapp.main;
var moment = Package['momentjs:moment'].moment;
var CFDataManager = Package['steedos:autoform'].CFDataManager;
var ServerSession = Package['steedos:base'].ServerSession;
var Selector = Package['steedos:base'].Selector;
var Steedos = Package['steedos:base'].Steedos;
var AjaxCollection = Package['steedos:base'].AjaxCollection;
var SteedosDataManager = Package['steedos:base'].SteedosDataManager;
var SteedosOffice = Package['steedos:base'].SteedosOffice;
var billingManager = Package['steedos:base'].billingManager;
var MailQueue = Package['steedos:mailqueue'].MailQueue;
var WebhookQueue = Package['steedos:webhookqueue'].WebhookQueue;
var _i18n = Package['universe:i18n']._i18n;
var i18n = Package['universe:i18n'].i18n;
var meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;
var Promise = Package.promise.Promise;
var meteorInstall = Package.modules.meteorInstall;
var HTML = Package.htmljs.HTML;
var Collection2 = Package['aldeed:collection2-core'].Collection2;
var FS = Package['steedos:cfs-base-package'].FS;
var MongoInternals = Package.mongo.MongoInternals;
var Mongo = Package.mongo.Mongo;

/* Package-scope variables */
var __coffeescriptShare, Workflow, InstanceReadOnlyTemplate, TemplateManager, SteedosTable, year, month, date, hours, seconds, locale, utcOffset, str, addItemTr, values_history, current_user_info, flow_id, userId, orgFieldUsers, formula_values, new_ins_id, instanceHtml, Form_formula, getHandlersManager, permissionManager, approveManager, flowManager, formManager, stepManager, workflowTemplate, InstanceManager, WorkflowManager_format, CoreForm, InstanceNumberRules;

var require = meteorInstall({"node_modules":{"meteor":{"steedos:workflow":{"i18n":{"en.i18n.json.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/i18n/en.i18n.json.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Package['universe:i18n'].i18n.addTranslations('en','',{"Steedos Workflow":"Workflow","inbox":"Inbox","outbox":"Outbox","draft":"Draft","pending":"In Progress","completed":"Finished","monitor":"Monitor","FlowName":"Workflow Name","Search":"Search","My Approval":"My Approval","My Applications":"My Applications","Submit":"Submit","steedos_desktop":"Steedos Desktop","menu_navigation":"Navigation","Workflow":"Workflow","form_new":"New","instances":"Request","instances_name":"Title","instances_applicant_name":"Applicant","instances_modified":"Modified","instances_applicant_organization_name":"Organization","instances_submit_date":"Submit Date","instances_flow":"Workflow","instances_step_current_name":"Current step","instances_flow_name":"Workflow","instances_current_step_name":"Current step","instance_approve":"Approve","instance_reject":"Reject","instance_readed":"Read","instance_next_step":"Next Step","instance_next_step_users":"Next Step User(s)","instance_initiator":"Initiator","instance_approval_history":"Approval History","instance_in_progress":"In Progress","instance_submit":"Submit","instance_save":"Save","instance_delete":"Delete","instance_attachment":"Attachments","instance_cancel":"Cancel Request","instance_reassign":"Reassign","instance_relocate":"Relocate","instance_print":"Print","flow_roles":"Workflow Positions","flow_roles_name":"Position Name","flow_positions":"Positions Users","flow_positions_role":"Position","flow_positions_org":"Organization","flow_positions_users":"Users","flow_positions_role_name()":"Position","flow_positions_org_name()":"Organization","flow_positions_users_name()":"Users","workflow_table_confirm":"OK","workflow_table_delete":"Delete","Attachment deleted successfully":"Attachment deleted successfully!","Attachment was added successfully":"Attachment was added successfully!","Saved successfully":"Saved successfully!","Added successfully":"Added successfully!","Deleted successfully":"Deleted successfully!","Submitted successfully":"Submitted successfully!","Canceled successfully":"Canceled successfully!","Reassigned successfully":"Reassigned successfully!","Relocated successfully":"Relocated successfully!","Attachments":"Attachments","Versions":"Versions","Current Version":"（Current Version）","workflow_attachment_free_size_limit":"Sorry, Attachment larger than 1M is not accepted for free version.","workflow_attachment_paid_size_limit":"Failed to upload, because attachment size is over ","workflow_attachment_download":"Download","workflow_attachment_view":"View","workflow_attachment_isReadOnly":"ReadOnly-","workflow_attachment_versions":"Versions","workflow_attachment_uploading":"Uploading ","workflow_attachment_downloading":"Downloading %s...","workflow_attachment_creating":"Creating a new file: %s...","workflow_attachment_officeOnline":"Edit","workflow_attachment_save":"Save","workflow_attachment_close":"Close","workflow_attachment_delete":"Delete","workflow_attachment_convert_to_pdf":"Converting '%s' to pdf format...","workflow_attachment_wordToPdf":"Convert To Pdf","workflow_attachment_wordToPdf_failed":"Convert to PDF failed!","workflow_attachment_locked_tip":"Unlock the file, then submit","Instance State approved":"Approved","Instance State rejected":"Rejected","Instance State terminated":"Cancelled","Instance State finished":"Completed","Instance State pending":"In Progress","Instance State reassigned":"Reassigned","Instance State relocated":"Relocated","Instance Relocate Hint":"Enter your comments here.","Instance Relocate Title":"Relocate","Instance Relocate Reason":"Comments are required.","Instance Relocate NewInboxUsers":"Please select a user.","Instance Relocate Ok":"Relocated successfully.","Instance Relocate CurStep":"Current Step: ","instance_reassign_title":"Reassign","instance_reassign_curstep":"Current Step: ","instance_reassign_reason":"Enter your comments here.","instance_reassign_ok":"Reassigned successfully.","instance_reassign_user":"Select User(s)","instance_cancel_title":"Cancel Request","instance_cancel_reason":"Enter your comments here","instance_reassign_error_reason_required":"Comments are required.","instance_reassign_error_users_required":"Please select a user.","instance_cancel_error_reason_required":"Comments are required.","instance_select_next_step":"Please select next step","instance_multi_next_step_tips":"Multi next steps，please select next step，and send the request by click the bottom Send button","instance_next_step_user":"Please select next step user(s)","instance_reasons_reject":"Reasons necessary when reject the application","instance_field":"The field","instance_is_required":"is required","instance_email_format_error":"Format error of the email address","node_office_edit_online":"Edit Online","node_office_message":"You are editing document, please save and exit Office software when done.","node_office_warning":"The file has been modified, do you want to save it as a new version?","node_office_upload":"Upload ","node_office_confirm":"Confirm","node_office_cancel":"Cancel","node_office_uploaded":"The attachment has been uploaded","node_office_filePath":"File: ","node_office_exists_message":"File already exists, replace it?","node_office_workflow":"Workflow","node_pdf_error":"Pdf signature failed, please re-sign!","node_pdf_sign_online":"Sign Online","node_pdf_message":"You are signing pdf file.","node_pdf_filePath":"File: ","workflow_export_thismonth":"Export requests this month","workflow_export_lastmonth":"Export requests last month","workflow_export_thisyear":"Export requests this year","workflow_export_all":"Export all requests","workflow_export_filter":"Filter by process","workflow_export_search":"Search for requests according to the workflow","workflow_export_data":"Export to Excel","spaces_isarrearageSpace":"your space is arrearage","cc_help":"https://www.steedos.com/us/help/workflow/instance_carboncopy.html","relocate_help":"https://www.steedos.com/us/help/workflow/instance_relocate.html","reassign_help":"https://www.steedos.com/us/help/workflow/instance_reassign.html","forward_help":"https://www.steedos.com/us/help/workflow/instance_forward.html","export_filter_help":"https://www.steedos.com/us/help/workflow/instance_search.html","new_help":"https://www.steedos.com/us/help/workflow/instance_add.html","Inbox Suggestion NextSteps Label":"Next step: ","Inbox Suggestion NextSteps Handler Label":"Assignee: ","Workflow Designer":"Workflow Designer","User Management":"User Management","All flows":"All workflows","Select a flow":"Select a workflow","Fill in form":"New Request","Flow upgraded":"The workflow has been upgraded. Please make sure this request meet the requirements of the new version.","Are you sure?":"Are you sure?","Select placeholder":"Please select","workflow_no_category":"No category","space_users_error_space_required":"Space required","flow_roles_error_positions_exists":"Users exised in the role","workflow_left_parenthesis":"(","workflow_right_parenthesis":")","instance_cc_description":"Carbon Description","instance_cc_from":"Carbon Form","instance_cc_title":"Carbon Copy","instance_cc_done":"Carbon copied!","instance_curstep":"Current Step: ","instance_cc_user":"Carbon Copy To","instance_cc_error_users_required":"Please select user.","workflow_form_edit":"Workflow List","flows_template":"Request Template","flows_name":"Workflow Name","flows_print_template":"Print Template","flows_instance_template":"Form Template","flows_description":"Flow Description","workflow_attach_unlock":"Unlock","workflow_attach_locked_by":"%s is editing","workflow_attach_confirm_delete":"Are you sure?","workflow_attach_confirm_delete_messages":"You will not be able to recover this imaginary file!","workflow_attach_confirm":"Delete","workflow_attach_cancel":"Cancel","workflow_attach_to_pdf":"Convert to PDF","workflow_attach_to_pdf_message":"Convert '%s' to pdf format?","workflow_attach_upload":"Upload","workflow_attach_new":"New","workflow_attachment_signature":"Signature","workflow_select_an_app":"Steedos Apps","workflow_suggestion_placeholder":"Please fill in comments.","instance_opinion_title":"Opinions","instance_opinion_btn":"Opinions","instance_opinion_input":"Add a opinion","instance_opinion_add_success":"Add successfully!","instance_opinion_remove_success":"Remove successfully!","instance_opinion_error":"Error","instance_opinion_exists":"Opinion exists","instance_opinion_add_tip":"You have not set up common comments yet.","instance_forward_title":"Request Forward","form_field_checkbox_yes":"YES","form_field_checkbox_no":"NO","flows_events":"Events","flows_events_error":"Workflow Script Error: ","instance_search_advanced_search":"Advanced search","instance_search_flow":"Workflow","instance_search_name":"Request Title","instance_search_file":"Request Title","instance_search_applicant_name":"Applicant Name","instance_search_applicant_organization_name":"Applicant Organization","instance_search_submit_date":"Submit Date","instance_search_start":"Start","instance_search_end":"End","instance_search_result_tip":"Filtered Result","instance_search_state":"Request State","instance_search_state_options":{"pending":"Pending","completed":"Completed"},"instance":{"formatter":{"date":{"simple_date":"bb DD, YYYY","simple_datetime":"bb DD, YYYY HH:MM","export_date":"YYYY-MM-DD","export_datetime":"YYYY-MM-DD HH:MM"},"checkbox":{"checked":"YES","unchecked":"NO"}},"instance_view":"<br/><br/>Following are the contents of the request:<br/>Space : {$space_name};<br/>Initiator : {$applicant_name};<br/>Submit Date : {$submit_date};","push":{"final_decision_approved":"Approved","final_decision_rejected":"Rejected","final_decision_nil":"","title":{"first_submit_applicant":"{$from_username}","first_submit_inbox":"{$from_username}","submit_pending_rejected_applicant_inbox":"{$from_username}","submit_pending_rejected_applicant":"{$from_username}","submit_pending_rejected_approve":"{$from_username}","submit_pending_rejected_inbox":"{$from_username}","submit_pending_inbox":"{$from_username}","submit_terminate_applicant":"{$from_username}","submit_terminate_approve":"{$from_username}","monitor_delete_applicant":"{$applicant_name}","submit_completed_applicant":"{$applicant_name}","submit_completed_approve":"{$from_username}","approved_completed_applicant":"{$applicant_name}","approved_completed_approve":"{$from_username}","rejected_completed_applicant":"{$applicant_name}","rejected_completed_approve":"{$from_username}","reassign_new_inbox_users":"{$from_username}","trace_approve_cc":"{$from_username}","trace_approve_cc_submit":"{$from_username}","auto_submit_pending_inbox":"{$from_username}","return_pending_inbox":"{$from_username}"},"body":{"input":"input","approval":"approval","first_submit_applicant":"I have submitted a {$instance_name} request for you","first_submit_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_rejected_applicant_inbox":"Request for {$instance_name} has been rejected","submit_pending_rejected_applicant":"Request for {$instance_name} has been rejected to {$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_inbox":"My {$instance_name} request needs your {$approve_type}","submit_terminate_applicant":"Request for {$instance_name} has been cancelled","submit_terminate_approve":"","monitor_delete_applicant":"Request for {$instance_name} has been deleted","submit_completed_applicant":"Request for {$instance_name} has been approved","submit_completed_approve":"","approved_completed_applicant":"Request for {$instance_name} has been approved","approved_completed_approve":"","rejected_completed_applicant":"Request for {$instance_name} has been rejected","rejected_completed_approve":"","reassign_new_inbox_users":"My {$instance_name} request needs your {$approve_type}","trace_approve_cc":"My {$instance_name} request needs your {$approve_type}","remind":"Remind：{$instance_name}, Deadline：{$deadline}","trace_approve_cc_submit":"I have submitted a cc {$instance_name}","distribute_remind":"My {$instance_name} has been end","auto_submit_pending_inbox":"Your {$instance_name} auto submitted to {$current_step_name}","return_pending_inbox":"Request for {$instance_name} has been returned"}},"email":{"final_decision_approved":"Approved","final_decision_rejected":"Rejected","final_decision_nil":"","inscribed":"<br/><br/>Sincerely,<br/>","footnote":"This is an automatically generated email, please do not reply to it.","title":{"input":"input","approval":"approval","first_submit_applicant":"I have submitted a {$instance_name} request for you","first_submit_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_rejected_applicant_inbox":"Request for {$instance_name} has been rejected","submit_pending_rejected_applicant":"Request for {$instance_name} has been rejected to {$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_inbox":"My {$instance_name} request needs your {$approve_type}","submit_terminate_applicant":"Request for {$instance_name} has been cancelled","submit_terminate_approve":"","monitor_delete_applicant":"{$instance_name} has been deleted","submit_completed_applicant":"I have approved your request for {$instance_name}","submit_completed_approve":"","approved_completed_applicant":"I have approved your request for {$instance_name}","approved_completed_approve":"","rejected_completed_applicant":"I have rejected your request for {$instance_name}","rejected_completed_approve":"","reassign_new_inbox_users":"My {$instance_name} request needs your {$approve_type}","trace_approve_cc":"My {$instance_name} request needs your {$approve_type}","auto_submit_pending_inbox":"Your {$instance_name} has been submitted automatically","return_pending_inbox":"I have returned your request for {$instance_name}"},"body":{"url_input":"input","url_approval":"approval","input":"input","approval":"approval","judge_approved":"approved","judge_submitted":"provided his input for","email_description":"Comments : {$description}.","first_submit_applicant":"Hi {$to_username},<br/><br/>I have submitted a {$instance_name} request on behalf of you.<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>I have submitted a {$instance_name} request on behalf of you, and attached the following comments with the request.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_inbox":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}.<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_inbox_beApproveDescription":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. He / she has attached the following comments with the request.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_applicant_inbox":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been rejected by {$lastApprove_usersname} with the following comments.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been rejected by {$lastApprove_usersname}.He / She has attached the following comments with the request, and has sent it to {$nextApprove_usersname}<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"Hi {$to_username},<br/><br/>{$applicant_name}'s request for {$instance_name} needs your {$approve_type}, which has been rejected by {$lastApprove_usersname} with the following comments.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has {$last_approve_judge} this request.<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox_beApproveDescription":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has {$last_approve_judge} this request with the following comments.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox_beApproveDescription_counterSign":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has provided their input for this request with the following comments.<br/>Comments : <br/>","submit_terminate_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been cancelled by {$current_username}.He / She has attached the following comments with the request.<br/>Comments : {$description}.","submit_terminate_approve":"","monitor_delete_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been deleted.","submit_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}.<br/><a href = {$href}>Please click here to view this request.</a>","submit_completed_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}. He / she has attached the following comments with the request. <br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_completed_applicant_beApproveDescription_counterSign":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}. They has attached the following comments with the request. <br/>Comments :<br/>","submit_completed_approve":"","approved_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final approved by {$lastApprove_usersname}.<br/><a href = {$href}>Please click here to view this request.</a>","approved_completed_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final approved by {$lastApprove_usersname}. He / she has attached the following comments with the request. <br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","approved_completed_approve":"","rejected_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final rejected by {$lastApprove_usersname}. He / She has attached the following comments with the request.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","rejected_completed_approve":"","reassign_new_inbox_users":"Hi {$to_username},<br/><br/>{$current_user_name} has transferred {$applicant_name}'s {$instance_name} to you with the following comments. <br/>Comments : {$description}<br/><a href = {$href}>Please click here to view this request.</a>。","trace_approve_cc":"Hi {$to_username},<br/><br/>{$applicant_name} has cc a {$instance_name} request, which needs your {$approve_type}.<br/><a href = {$href}>Please click here to view this request.</a>","auto_submit_pending_inbox":"Hi {$to_username},<br/><br/>Your {$instance_name} has been submitted to {$current_step_name} automatically.","return_pending_inbox":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been returned by {$current_username}.He / She has attached the following comments with the request.<br/>Comments : {$description}."}},"sms":{"submit_pending_inbox":"您有新的待审核：{$instance_name}，提交人：{$applicant_name}"},"remindMessage":{"update_failed":"Requested action not taken, because this request has been updated.","has_deleted":"This report has been deleted."},"judge":{"approved":"approved","rejected":"rejected"}},"flow":{"point_upgraded":"The workflow has been upgraded. Please make sure this request meet the requirements of the new version.","print_select_template_alert":"Please upgraded to Professional Version.","print_select_title":"Select Template","print_default_print_title":"Default","print_custom_print_title":"Custom","print_button_title":"Print","print_html_title":"SteedOS"},"help":{"href":"<a href = {$href}>Please click here to view this request.</a>","approves":"Approval History","initiator":"Initiator : ","attachment":"Attachment"},"export":{"code":"Code","name":"Name","initiator":"Initiator","initiator_org":"Initiator's Organization","submit_date":"Submit Time","status":"Status","current_step_name":"Current Step Name","current_step_start_date":"Current Step Start Time","state":{"pending":"In Progress","approved":"Approved","rejected":"Rejected","terminated":"Cancelled","finished":"Completed","reassigned":"Reassigned","inhand":"In Progress","relocated":"Relocated"}},"steedos":"Steedos","cc":"cc","saveInstanceToAttachment":"Save request form as an attachment.","forwardFlowText":"Forward description","instanceForwardNote":"Forward the currently selected request to a new workflow and proceed with the approval process.","button_preview":"Preview","remove_cc_approve":"Deleted success","forward_instance_success":"Forward success","isForwardAttachments":"Is forward attachments.","instance_retrieve":"Retrieve","instance_retrieve_reason":"Remarks","instance_retrieve_rules_title":"Retrieve failed","instance_retrieve_rules_content":"You can not retrive a request if user in next step has read the request, or you are in a concurrent signed step.","Retrieved successfully":"Retrieved successfully!","Instance State retrieved":"Retrieved","instance_chrome_print_warning":"Please use the Chrome browser to print.","instance_sign":"Sign","instance_default_opinion":"Already read","instance_submit_date":"Submit date","instance_opinion_edit":"Edit the opinion","instance_opinion_edit_success":"Edit successfully!","instance_opinion_field":"Sign field","instance_cc_error_opinion_field_required":"Please select the sign field","instance_suggestion_toggle":"Sign","instance_approve_read":"Read","instance_approve_from_user_name_label":"cc from","instance_approve_status_text_label":"status","instance_approve_description_label":"suggestion","instance_approve_start_date_label":"start date","instance_approve_finish_date_label":"finish date","instance_approve_read_yes":"yes","instance_approve_read_no":"no","instance_approve_cc_remove":"cancel cc","instance_approve_close_modal":"close","instance_approve_title_label":"Handler:","instance_forward_users":"Forward To","instance_forward_error_users_required":"Users required!","instance_approve_from_user_name_label_forward":"Forward from","instance_approve_forward_remove":"Cancel forward","instance_approve_forward_remove_success":"Request cancelled successfully!","instance_forward_instance_look":"Look the forwarded request","instance_forward_cannot_cancel":"Can not cancel!","instance_forward_instance_state_changed":"Request state has hanged, can not cancel.","webhooks":"Webhooks","webhooks_flow":"Workflow","webhooks_payload_url":"URL","webhooks_content_type":"Content type","webhooks_active":"Active","webhooks_flow_name()":"Workflow","webhooks_description":"Description","workflow_list":"Workflow List","workflow_import_flow":"Import Workflow","workflow_import_flow_success":"Import success","workflow_import_flow_error":"Import failed","workflow_import_flow_info":"Please select the workflow you want to import","flows":"Workflow","instance_readonly_view_url_copy":"Copy Link","instance_readonly_view_url_copy_success":"Tableau Web Data Connector copy successful","instance_related_instances":"Related requests","instance_related_instances_title":"Linked requests","instance_related_instances_placeholder":"Please enter the file name to search for the associated file","workflow_install_desktop":"Install Desktop","workflow_chart":"Workflow Chart","instance_return":"Return","instance_return_success":"Return successfully","instance_return_confirm":"Return the request to {$step_name}({$handlers_name})?","Instance State returned":"Returned","instance_main_attachment":"Main attach","flows_field_map":"Field Map","Instance State readed":"Read","instance_distribute_title":"Distribute","instance_distribute_users":"Users","instance_distribute_error_users_required":"Users required!","instance_distribute_approve_from_user_name_label":"Distribute from","instance_distribute_approve_remove":"Cancel distribute","instance_distribute_instance_look":"Look the distributed request","instance_distribute_note":"Distribute the currently selected request to a new workflow and proceed with the approval process.","instance_distribute_attachments":"Is distribute attachments.","instance_distribute_success":"Distribute success","instance_no_add_permission":"{$actiontype} failed, users no create permission: {$usernames}","instance_workflow_chart_ie_warning":"Do not support viewing the workflow chart in IE, please do this on client software or chrome.","instance_remind_title":"Remind","instance_remind_select_users":"Users","instance_remind_count":"Mode","instance_remind_deadline":"Deadline","instance_remind_success":"Remind successfully","instance_remind_need_remind_users":"Need users","instance_remind_need_remind_count":"Need mode","instance_remind_need_remind_deadline":"Need deadline","instance_remind_count_options":{"single":"single","multi":"multi"},"instance_opinion_title_select":"Select opinions","categories":"Workflow categories","categories_name":"Name","categories_sort_no":"Sort no","not_found_user":"Not Found User","next_step_users_not_found":{"aplicant_superior":"The applicant's superior is not configured, please contact the Administrator.","applicant_role":"The <{$role_name}> you are looking for have not configured,Please contact the administrator.","hr_role":"The <{$role_name}> you are looking for have not configured,Please contact the administrator.","field_value_empty":"Please enter the value of the <{$field_name}>field","org_no_members":"The next step need <{$org_name}> processing,Please contact the administrator."},"instanc_admin_role_text":"<a href='%s' target='_blank'> configuration in position</a>","instanc_user_role_text":" configuration in position","instanc_set_applicant_role_text":"set positions users","instance_sign_read":"Read","instance_sign_done":"Done","instance_sign_agree":"Agree","instance_sign_period":"。","instance_cc_alert":"Please confirm whether it need to circulate","instance_cc_must_finished":"The cc users：{$not_finished_users_name} had not deal with this request, so you can not submitt this instance to next step","instance_number_rules":"Request number rules","instance_number_rules_name":"Name","instance_number_rules_year":"Year","instance_number_rules_first_number":"Start sequence","instance_number_rules_number":"Sequence","instance_number_rules_rules":"Rules","instance_number_rules_number_builder_error_title":"Builder number error","instance_number_rules_number_builder_error_not_exist":"The number rule does not exist: ","ConfirmDeletion?":"Are you sure?","instance_number_rules_name_only":"The name can not be repeated","flows_btn_export_title":"Export Flow","flows_btn_copylink_title":"Copy Link","instance_distribute_related_instances_title":"Automatically create associated requests","instance_next_step_users_placeholder":"Please select the approver","instance_distribute_to_self":"Also distributed to yourself","my_instances":"My Requests","workflow_import_export_flows":"Workflow import or export","workflow_history_approve_counts":"Show %s history descriptions","workflow_history_approve_description":"History description","instances_start_date":"Receiving time","instances_is_archived":"Archived","instances_archive":"Archive","instances_archived":"Archived","instances_not_archived":"Not archived","workflow_more_inbox":"More Inbox","instance_back":"Back","steedos_tableau_statistical_analysis":"Statistical analysis","steedos_tableau_copy_link":"Copy link","tableau_introduction_modal_close":"Close","ERROR":"Error","steedos_table_add_item":"Add item","approved_description":"Approved","rejected_description":"Rejected","copy":"Copy and Create","from":"From","admin_flow_roles_create":"Create","flow_roles_delete_success":"Delete successfully","add_positions":"Add","save_role":"Save","delete_role":"Delete","flow_roles_update_success":"Update successfully","flow_roles_necessary":"Please fill in role's name","flow_positions_add_suceess":"Add successfully","flow_positions_add_failed":"Be failed to add","flow_positions_update_suceess":"Update successfully","flow_positions_update_failed":"Be failed to update","flow_positions_delete_suceess":"Delete successfully","instance_role_set_is_complete":"Flow Role set up?","instance_hr_role_set_is_complete":"Role set up?","instance_set_is_complete":"set up?","flow_roles_help":"Help","set_org_members":"Set department members","set_applicant_manager":"Set the applicant supervisor","instance_permissions_error":"You do not have permission to view this request","start_flows":"Start flows","chart_traces":"Chart Traces","cc_tag":"(Carbon Copying)","workflow_batch_approval":"Batch approval","workflow_batch_approval_btn":"Batch<br/>approval","workflow_batch_approval_processing":"Processing","workflow_batch_approval_message":"This processing file %s","workflow_error_multiple_next_step_users":"'{$insname}' the next person can not handle more than one","workflow_error_multiple_next_step":"'{$insname}' can not have more than one next step","workflow_batch_instances_empty":"There is no data for batch approval","workflow_sign_opinion_to_completed_instance":"This document is over and the signed opinion will not be displayed on the application","workflow_copy_flow":"Copy flow","workflow_copy_flow_text":"Please fill in the new flow name","workflow_copy_flow_success":"The copy flow is successful","workflow_copy_flow_error_reason_required":"Comments are required.","workflow_enabled":"Enabled","workflow_disabled":"Disabled","flows_state":"State","flows_current_modified":"Modified","flows_modified_by_name()":"Editor","flows_category_name()":"Categories","flow_list_title_set_template":"Set Template","flow_list_title_set_script":"Set Script","flow_list_title_set_fieldsMap":"Set Archive relationship","distribute_edit_flow_select_users":"users options","distribute_edit_flow_select_flows":"flows options","flow_list_title_set_distribute":"Set Distribute","distribute_to_self":"can distribute to self","distribute_end_notification":"notificate user after distributed end","instance_deleted":"Deleted","workflow_flow_state_disabled":"The state of flow({$name}) is disabled, Administrator can enable flow.","flow_roles_error_flows_used":"Role has been used by flows: {$names}","instance_approve_not_yet_handled":"Not yet handled","instance_approve_distribute_date_label":"Distribute date","flows_auto_remind":"Auto remind","flows_upload_after_being_distributed":"Allow upload after being distributed","instances_my_finish_date":"Modified","pager_input_hint":"Click and input page number, then press Enter to jump to the specified page","instance_hide_title":"Hide","instance_hide_success":"Hide Success","instance_reopen_title":"Unhide","instance_reopen_success":"Unhide Success","workflow_design_flow":"Design flow","process_delegation_rules":"Process Delegation","process_delegation_rules_from":"From","process_delegation_rules_to":"To","process_delegation_rules_enabled":"Enabled","process_delegation_rules_start_time":"Strat Time","process_delegation_rules_end_time":"End Time","process_delegation_rules_from_name":"From","process_delegation_rules_to_name":"To","process_delegation_rules_start_must_lt_end":"Strat time must less than end time","process_delegation_rules_description":"{$userName} delegated","instance_handler_name":"Handler","instance_handler_organization_fullname":"Organization","url_invalid":"Invalid link","instance_approve_timeout_auto_submitted":"Timeout auto submitted"});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"zh-CN.i18n.json.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/i18n/zh-CN.i18n.json.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Package['universe:i18n'].i18n.addTranslations('zh-CN','',{"Steedos Workflow":"审批","inbox":"待审核","outbox":"已审核","draft":"草稿","pending":"进行中","completed":"已完成","monitor":"监控箱","FlowName":"名称","Search":"搜索","My Approval":"审核","My Applications":"我的申请单","Submit":"提交","steedos_desktop":"华炎云","menu_navigation":"导航","Workflow":"审批","form_new":"新建表单","instances":"审批","instances_name":"标题","instances_applicant_name":"提交人","instances_modified":"处理时间","instances_applicant_organization_name":"部门","instances_submit_date":"提交时间","instances_flow":"流程","instances_step_current_name":"当前步骤","instances_flow_name":"流程","instances_current_step_name":"当前步骤","instance_approve":"核准","instance_reject":"驳回","instance_readed":"已阅","instance_next_step":"下一步","instance_next_step_users":"处理人","instance_initiator":"提交人","instance_approval_history":"签核历程","instance_in_progress":"处理中","instance_submit":"提交","instance_save":"保存","instance_delete":"删除","instance_attachment":"附件","instance_cancel":"取消申请","instance_reassign":"转签核","instance_relocate":"重定位","instance_print":"打印","flow_roles":"审批岗位","flow_roles_name":"岗位名称","flow_positions":"岗位成员","flow_positions_role":"岗位","flow_positions_org":"审批范围","flow_positions_users":"岗位成员","flow_positions_role_name()":"岗位","flow_positions_org_name()":"审批范围","flow_positions_users_name()":"岗位成员","workflow_table_confirm":"确认","workflow_table_delete":"删除","Attachment deleted successfully":"文件删除成功!","Attachment was added successfully":"文件添加成功!","Saved successfully":"申请单已暂存.","Added successfully":"创建成功!","Deleted successfully":"删除成功!","Submitted successfully":"提交成功!","Canceled successfully":"取消申请成功!","Reasigned successfully":"转签核成功!","Relocated successfully":"重定位成功!","Attachments":"附件","Versions":"版本","Current Version":"（最新版本）","workflow_attachment_free_size_limit":"抱歉，免费版工作区只能上传1M以内的文件。","workflow_attachment_paid_size_limit":"您上传的文件大小不得超过","workflow_attachment_download":"下载","workflow_attachment_view":"查看","workflow_attachment_isReadOnly":"只读-","workflow_attachment_versions":"历史版本","workflow_attachment_uploading":"正在上传 ","workflow_attachment_downloading":"正在下载 %s...","workflow_attachment_creating":"正在新建word文档 %s...","workflow_attachment_officeOnline":"编辑","workflow_attachment_save":"保存","workflow_attachment_close":"关闭","workflow_attachment_delete":"删除","workflow_attachment_convert_to_pdf":"正在将 '%s' 转换为pdf格式文件...","workflow_attachment_wordToPdf":"转为pdf","workflow_attachment_wordToPdf_failed":"未转换成功，请重新尝试！","workflow_attachment_locked_tip":"您有文件正在编辑，请解锁后提交","Instance State approved":"已核准","Instance State rejected":"已驳回","Instance State terminated":"被取回","Instance State finished":"已完成","Instance State pending":"审核中","Instance State reassigned":"转签核","Instance State relocated":"重定位","Instance Relocate Hint":"请填写重定位的理由。","Instance Relocate Title":"重定位","Instance Relocate Reason":"请填写重定位的理由。","Instance Relocate NewInboxUsers":"请选择重定位审核人。","Instance Relocate Ok":"重定位提交成功。","Instance Relocate CurStep":"当前步骤: ","instance_reassign_title":"转签核","instance_reassign_curstep":"当前步骤: ","instance_reassign_reason":"请填写转签核的理由。","instance_reassign_ok":"转签核提交成功。","instance_reassign_user":"变更处理人","instance_cancel_title":"取消申请","instance_cancel_reason":"请填写取消申请的理由","instance_reassign_error_reason_required":"请填写转签核的理由。","instance_reassign_error_users_required":"请指定处理人。","instance_cancel_error_reason_required":"请填写取消申请的理由。","instance_select_next_step":"请选择下一步步骤","instance_multi_next_step_tips":"步骤选项有多个，请选择下一步步骤，并使用底部发送按钮提交文件","instance_next_step_user":"请选择下一步处理人","instance_reasons_reject":"驳回时必须填写意见","instance_field":"字段","instance_is_required":"为必填","instance_email_format_error":"邮件地址格式错误","node_office_edit_online":"在线编辑","node_office_message":"您正在使用在线编辑功能，编辑完成后请关闭Office软件。","node_office_warning":"文件已修改，请确认是否保存为新版本？","node_office_upload":"上传 ","node_office_confirm":"确定","node_office_cancel":"取消","node_office_uploaded":"文件已上传","node_office_filePath":"文件：","node_office_exists_message":"文件已存在，是否替换？","node_office_workflow":"审批王","node_pdf_error":"pdf签章失败，请重新进行签章！","node_pdf_sign_online":"在线签章","node_pdf_message":"您正在使用在线签章功能。","node_pdf_filePath":"文件：","workflow_export_thismonth":"导出当月申请单","workflow_export_lastmonth":"导出上月申请单","workflow_export_thisyear":"导出当年申请单","workflow_export_all":"导出所有申请单","workflow_export_filter":"按流程过滤","workflow_export_search":"按流程查看申请单","workflow_export_data":"导出申请单","spaces_isarrearageSpace":"您的工作区已欠费","cc_help":"https://www.steedos.com/cn/help/workflow/instance_carboncopy.html","relocate_help":"https://www.steedos.com/cn/help/workflow/instance_relocate.html","reassign_help":"https://www.steedos.com/cn/help/workflow/instance_reassign.html","forward_help":"https://www.steedos.com/cn/help/workflow/instance_forward.html","export_filter_help":"https://www.steedos.com/cn/help/workflow/instance_search.html","new_help":"https://www.steedos.com/cn/help/workflow/instance_add.html","Inbox Suggestion NextSteps Label":"下一步骤: ","Inbox Suggestion NextSteps Handler Label":"处理人: ","Workflow Designer":"流程设计器","User Management":"用户管理","All flows":"所有流程","Select a flow":"请点击流程分类选择相应流程","Fill in form":"填写表单","Flow upgraded":"流程已升级，请检查您填写的内容是否符合修改后的要求。","Are you sure?":"确认删除吗？","Select placeholder":"请选择","workflow_no_category":"未分类","space_users_error_space_required":"工作区必填","flow_roles_error_positions_exists":"已有用户担任该角色","workflow_left_parenthesis":"（","workflow_right_parenthesis":"）","instance_cc_description":"传阅说明","instance_cc_from":"传阅自","instance_cc_title":"传阅","instance_cc_done":"已传阅","instance_curstep":"当前步骤: ","instance_cc_user":"传阅对象","instance_cc_error_users_required":"请选择传阅对象。","workflow_form_edit":"流程列表","flows_template":"申请单模板","flows_name":"流程名称","flows_print_template":"打印模板","flows_instance_template":"表单模板","flows_description":"流程描述","workflow_attach_unlock":"解锁","workflow_attach_locked_by":"%s 正在编辑","workflow_attach_confirm_delete":"确认删除","workflow_attach_confirm_delete_messages":"你确定删除'%s'吗？","workflow_attach_confirm":"删除","workflow_attach_cancel":"取消","workflow_attach_to_pdf":"转为pdf","workflow_attach_to_pdf_message":"是否将'%s'转为pdf格式文件？","workflow_attach_upload":"上传","workflow_attach_new":"新建","workflow_attachment_signature":"签章","workflow_select_an_app":"应用","workflow_suggestion_placeholder":"请填写意见。","instance_opinion_title":"常用意见","instance_opinion_btn":"常用</br>意见","instance_opinion_input":"请输入常用意见","instance_opinion_add_success":"添加成功!","instance_opinion_remove_success":"移除成功!","instance_opinion_error":"出错了","instance_opinion_exists":"常用意见已存在","instance_opinion_add_tip":"您还没有设置常用意见。","instance_forward_title":"转发","form_field_checkbox_yes":"是","form_field_checkbox_no":"否","flows_events":"自定义脚本","flows_events_error":"自定义脚本错误: ","instance_search_advanced_search":"高级搜索","instance_search_flow":"流程","instance_search_name":"申请单标题","instance_search_file":"文件标题","instance_search_applicant_name":"提交人姓名","instance_search_applicant_organization_name":"提交人所属部门名称","instance_search_submit_date":"提交日期","instance_search_start":"起","instance_search_end":"至","instance_search_result_tip":"过滤的结果","instance_search_state":"申请单状态","instance_search_state_options":{"pending":"流转中","completed":"已结束"},"instance":{"formatter":{"date":{"simple_date":"YYYY年MM月DD日","simple_datetime":"YYYY年MM月DD日 HH:mm","export_date":"YYYY-MM-DD","export_datetime":"YYYY-MM-DD HH:mm"},"checkbox":{"checked":"是","unchecked":"否"}},"instance_view":"<br/><br/>申请单内容摘要如下:<br/>工作区 : {$space_name};<br/>提交 : {$applicant_name};<br/>提交日期 : {$submit_date};","push":{"final_decision_approved":"被核准，","final_decision_rejected":"被驳回，","final_decision_nil":"","title":{"first_submit_applicant":"{$from_username}","first_submit_inbox":"{$from_username}","submit_pending_rejected_applicant_inbox":"{$from_username}","submit_pending_rejected_applicant":"{$from_username}","submit_pending_rejected_approve":"{$from_username}","submit_pending_rejected_inbox":"{$from_username}","submit_pending_inbox":"{$from_username}","submit_terminate_applicant":"{$from_username}","submit_terminate_approve":"{$from_username}","monitor_delete_applicant":"{$applicant_name}","submit_completed_applicant":"{$applicant_name}","submit_completed_approve":"{$from_username}","approved_completed_applicant":"{$applicant_name}","approved_completed_approve":"{$from_username}","rejected_completed_applicant":"{$applicant_name}","rejected_completed_approve":"{$from_username}","reassign_new_inbox_users":"{$from_username}","trace_approve_cc":"{$from_username}","trace_approve_cc_submit":"{$from_username}","auto_submit_pending_inbox":"{$from_username}","return_pending_inbox":"{$from_username}"},"body":{"input":"确认","approval":"审批","first_submit_applicant":"请确认:我已代您提交了{$instance_name}","first_submit_inbox":"{$instance_name}","submit_pending_rejected_applicant_inbox":"请修改:{$instance_name}","submit_pending_rejected_applicant":"您的{$instance_name}已驳回给{$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"{$instance_name}","submit_pending_inbox":"{$instance_name}","submit_terminate_applicant":"{$instance_name}被我取消申请了","submit_terminate_approve":"","monitor_delete_applicant":"您的{$instance_name}已被删除","submit_completed_applicant":"您的{$instance_name}已被确认","submit_completed_approve":"","approved_completed_applicant":"您的{$instance_name}已被核准","approved_completed_approve":"","rejected_completed_applicant":"您的{$instance_name}已被驳回","rejected_completed_approve":"","reassign_new_inbox_users":"{$instance_name}","trace_approve_cc":"{$instance_name}","remind":"催办通知：{$instance_name}，办结时限：{$deadline}。","trace_approve_cc_submit":"我已提交了传阅的申请单{$instance_name}","distribute_remind":"您分发的{$instance_name}申请单已结束。","auto_submit_pending_inbox":"您的申请单{$instance_name}处理已超时，现已自动发送至{$current_step_name}","return_pending_inbox":"您的{$instance_name}已被退回"}},"email":{"final_decision_approved":"被核准，","final_decision_rejected":"被驳回，","final_decision_nil":"","inscribed":"<br/><br/>","footnote":"这是由审批王自动发送的邮件, 请不要直接回复。","title":{"input":"确认","approval":"审批","first_submit_applicant":"{$from_username}代您提交了{$instance_name}","first_submit_inbox":"请{$approve_type}:{$instance_name}","submit_pending_rejected_applicant_inbox":"请修改:{$instance_name}","submit_pending_rejected_applicant":"您的{$instance_name}已驳回给{$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"请重新{$approve_type}:{$instance_name}","submit_pending_inbox":"请{$approve_type}:{$instance_name}","submit_terminate_applicant":"{$instance_name}被我取消申请了","submit_terminate_approve":"","monitor_delete_applicant":"删除了您的{$instance_name}","submit_completed_applicant":"确认了您的{$instance_name}","submit_completed_approve":"","approved_completed_applicant":"核准了您的{$instance_name}","approved_completed_approve":"","rejected_completed_applicant":"驳回了您的{$instance_name}","rejected_completed_approve":"","reassign_new_inbox_users":"请{$approve_type}:{$instance_name}","trace_approve_cc":"请{$approve_type}:{$instance_name}","auto_submit_pending_inbox":"您的{$instance_name}已超时自动流转","return_pending_inbox":"退回了您的{$instance_name}"},"body":{"url_input":"查看并确认","url_approval":"进行审批","input":"确认","approval":"审批","judge_approved":"核准","judge_submitted":"确认","email_description":"驳回理由是:{$description} 。","first_submit_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>我已代您提交了{$instance_name}。<br/><a href = {$href}>请点击查看</a>。","first_submit_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>我已代您提交了{$instance_name}。<br/>备注是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","first_submit_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}提交了{$instance_name}。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","first_submit_inbox_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}提交了{$instance_name}。<br/>备注是 : {$approves_description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_rejected_applicant_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>您的申请单被{$lastApprove_usersname}驳回，请确认是否要修改。<br/>{$description}<br/><a href = {$href}>请点击查看</a>。","submit_pending_rejected_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被{$lastApprove_usersname}驳回, 目前{$nextApprove_usersname}正在处理中。<br/>{$description} <br/><a href = {$href}>请点击查看</a>。","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>请重新{$approve_type} : {$applicant_name}的{$instance_name}, 此申请单被{$lastApprove_usersname}驳回。<br/>{$description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已{$last_approve_judge}此申请单。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已{$last_approve_judge}此申请单。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox_beApproveDescription_counterSign":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已确认此申请单。<br/>他/她们的意见是 : <br/>","submit_terminate_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被取消申请。<br/>取消申请的理由是：{$description}。","submit_terminate_approve":"","monitor_delete_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被删除。","submit_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/><a href = {$href}>请点击查看</a>。","submit_completed_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","submit_completed_applicant_beApproveDescription_counterSign":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/>他/她们的意见是 :<br/> ","submit_completed_approve":"","approved_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}核准, 完成审核。<br/><a href = {$href}>请点击查看</a>。","approved_completed_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}核准, 完成审核。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","approved_completed_approve":"","rejected_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}驳回。<br/>{$description}<br/><a href = {$href}>请点击查看</a>。","rejected_completed_approve":"","reassign_new_inbox_users":"{$to_username}:<br/><br/>您好！<br/><br/>{$current_user_name}将{$applicant_name}的{$instance_name}转发给您{$approve_type}。<br/>转发的理由是：{$description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","trace_approve_cc":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}传阅了{$instance_name}。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","auto_submit_pending_inbox":"您的申请单{$instance_name}处理已超时，现已自动发送至{$current_step_name}","return_pending_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被退回。<br/>退回的理由是：{$description}。"}},"sms":{"submit_pending_inbox":"您有新的待审核：{$instance_name}，提交人：{$applicant_name}"},"remindMessage":{"update_failed":"申请单状态已更新，您的操作未能执行。","has_deleted":"申请单已删除。"},"judge":{"approved":"核准","rejected":"驳回"}},"flow":{"point_upgraded":"流程已升级，请检查您填写的内容是否符合修改后的要求。","print_select_template_alert":"只有专业版才有自定义模板功能，如有需要请升级到专业版或联系客服","print_select_title":"打印样式","print_default_print_title":"默认","print_custom_print_title":"自定义","print_button_title":"打印","print_html_title":"审批王"},"help":{"href":"<a href = {$href}>请点击查看</a>。","approves":"签核历程","initiator":"提交人 : ","attachment":"附件"},"export":{"code":"编号","name":"名称","initiator":"提交人","initiator_org":"提交人所属部门","submit_date":"提交日期","status":"状态","current_step_name":"当前步骤","current_step_start_date":"当前步骤开始日期","state":{"pending":"审核中","approved":"已核准","rejected":"已驳回","terminated":"被取回","finished":"已完成","reassigned":"转签核","inhand":"处理中","relocated":"重定位"}},"steedos":"华炎云","cc":"传阅","saveInstanceToAttachment":"将原表单存储为附件","forwardFlowText":"备注","instanceForwardNote":"将当前选中的文件转发到新的流程，继续执行审批操作","isForwardAttachments":"同时转发原表单附件","button_preview":"预览","remove_cc_approve":"传阅删除成功","forward_instance_success":"文件转发成功","instance_retrieve":"取回","instance_retrieve_reason":"备注","instance_retrieve_rules_title":"无法取回","instance_retrieve_rules_content":"下一步处理人已读无法取回；会签节点无法取回。","Retrieved successfully":"取回成功!","Instance State retrieved":"取回","instance_chrome_print_warning":"请使用Chrome浏览器进行打印","instance_sign":"签批","instance_default_opinion":"已阅","instance_submit_date":"提交日期","instance_opinion_edit":"请修改常用意见","instance_opinion_edit_success":"修改成功","instance_opinion_field":"签批字段","instance_cc_error_opinion_field_required":"请选择签批字段","instance_suggestion_toggle":"签批","instance_approve_read":"已读","instance_approve_from_user_name_label":"传阅自","instance_approve_status_text_label":"操作","instance_approve_description_label":"处理意见","instance_approve_start_date_label":"开始时间","instance_approve_finish_date_label":"结束时间","instance_approve_read_yes":"是","instance_approve_read_no":"否","instance_approve_cc_remove":"取消传阅","instance_approve_close_modal":"关闭","instance_approve_title_label":"处理人：","instance_forward_users":"转发对象","instance_forward_error_users_required":"请选择对象!","instance_approve_from_user_name_label_forward":"转发自","instance_approve_forward_remove":"取消转发","instance_approve_forward_remove_success":"取消成功","instance_forward_instance_look":"查看转发后申请单","instance_forward_cannot_cancel":"不符合取消条件！","instance_forward_instance_state_changed":"申请单状态已更新，不能取消！","instance_approve_modal_modification":"修改","instance_approve_modal_save":"保存","instance_approve_moda_back":"取消","instance_approve_modal_modificationsave":"您的修改保存成功","webhooks":"Webhooks","webhooks_flow":"流程","webhooks_payload_url":"URL","webhooks_active":"激活","webhooks_content_type":"传输数据类型","edit":"编辑","flow_list":"流程列表","import_flow":"导入流程","import_flow_success":"导入成功","import_flow_error":"导入失败","import_flow_info":"请选择需要导入的流程","webhooks_flow_name()":"流程","webhooks_description":"描述","workflow_list":"流程列表","workflow_import_flow":"导入流程","workflow_import_flow_success":"导入成功","workflow_import_flow_error":"导入失败","workflow_import_flow_info":"请选择需要导入的流程","flows":"流程","instance_readonly_view_url_copy":"复制链接","instance_readonly_view_url_copy_success":"Tableau Web 数据连接器已复制","instance_related_instances":"相关文件","instance_related_instances_title":"关联文件","instance_related_instances_placeholder":"请输入文件名称搜索关联文件","workflow_install_desktop":"安装客户端","workflow_chart":"流程图","instance_return":"退回","instance_return_success":"退回成功","instance_return_confirm":"确认退回至{$step_name}({$handlers_name})?","Instance State returned":"已退回","instance_main_attachment":"正文","flows_field_map":"归档关系","Instance State readed":"已阅","instance_distribute_title":"分发","instance_distribute_users":"分发对象","instance_distribute_error_users_required":"请选择分发对象!","instance_distribute_approve_from_user_name_label":"分发自","instance_distribute_approve_remove":"取消分发","instance_distribute_instance_look":"查看分发后申请单","instance_distribute_note":"将当前选中的文件分发到新的流程，继续执行审批操作","instance_distribute_attachments":"同时分发原表单附件","instance_distribute_success":"文件分发成功","instance_no_add_permission":"{$actiontype}未成功。以下用户没有新建此申请单的权限：{$usernames}","instance_workflow_chart_ie_warning":"暂不支持在IE中查看流程图，请在客户端软件或chrome上执行该操作。","instance_remind_title":"催办","instance_remind_select_users":"催办对象","instance_remind_count":"催办方式","instance_remind_deadline":"办结时限","instance_remind_success":"催办成功","instance_remind_need_remind_users":"缺少催办对象","instance_remind_need_remind_count":"缺少催办方式","instance_remind_need_remind_deadline":"缺少办结时限","instance_remind_count_options":{"single":"单次提醒","multi":"多次提醒"},"instance_opinion_title_select":"其他常用意见","categories":"流程分类","categories_name":"名称","categories_sort_no":"排序号","not_found_user":"未找到处理人","next_step_users_not_found":{"aplicant_superior":"申请人上级未配置，请联系管理员。","applicant_role":"您要找的「{$role_name}」还未配置，请联系管理员。","hr_role":"您要找的「{$role_name}」角色还未配置，请联系管理员。","field_value_empty":"获取处理人，请先填写「{$field_name}」。","org_no_members":"下一步需「{$org_name}」处理，请联系管理员。"},"instanc_admin_role_text":"<a href='%s' target='_blank'>岗位中进行配置。</a>","instanc_user_role_text":"岗位中进行配置","instanc_set_applicant_role_text":"设置","instance_sign_read":"已阅","instance_sign_done":"已办","instance_sign_agree":"同意","instance_sign_period":"。","instance_cc_alert":"还需传阅给其他人员吗？","instance_cc_must_finished":"当前步骤被传阅人员：{$not_finished_users_name} 还未处理，故不能提交至下一步","instance_number_rules":"流程编号规则","instance_number_rules_name":"名称","instance_number_rules_year":"年份","instance_number_rules_first_number":"起始序号","instance_number_rules_number":"序号","instance_number_rules_rules":"编号规则","instance_number_rules_number_builder_error_title":"文件编号生成失败","instance_number_rules_number_builder_error_not_exist":"流程编号规则不存在: ","ConfirmDeletion?":"确认删除?","instance_number_rules_name_only":"名称已存在","flows_btn_export_title":"导出流程","flows_btn_copylink_title":"复制链接","instance_distribute_related_instances_title":"自动创建关联文件","instance_next_step_users_placeholder":"请选择下一步处理人","instance_distribute_to_self":"同时分发给自己","my_instances":"我的文件","workflow_import_export_flows":"流程导入导出","workflow_history_approve_counts":"已显示%s条历史意见","workflow_history_approve_description":"历史意见","instances_start_date":"接收时间","instances_is_archived":"已归档","instances_archive":"归档","instances_archived":"已归档","instances_not_archived":"未归档","workflow_more_inbox":"更多待审核","instance_back":"返回","steedos_tableau_statistical_analysis":"统计分析","steedos_tableau_copy_link":"复制链接","tableau_introduction_modal_close":"关闭","ERROR":"错误","steedos_table_add_item":"新增一行","approved_description":"同意","rejected_description":"不同意","copy":"复制并新建","from":"来自","admin_flow_roles_create":"新建","flow_roles_delete_success":"删除成功","add_positions":"新增","save_role":"保存","delete_role":"删除","flow_roles_update_success":"更新成功","flow_roles_necessary":"请填写岗位名称","flow_positions_add_suceess":"添加成功","flow_positions_add_failed":"添加失败","flow_positions_update_suceess":"更新成功","flow_positions_update_failed":"更新失败","flow_positions_delete_suceess":"删除成功","instance_role_set_is_complete":"岗位设置完成？","instance_hr_role_set_is_complete":"角色设置完成？","instance_set_is_complete":"设置完成？","flow_roles_help":"帮助","set_org_members":"设置部门成员","set_applicant_manager":"设置申请人上级主管","instance_permissions_error":"您没有权限查看此申请单","start_flows":"星标流程","chart_traces":"图形化历程","cc_tag":"（传阅中）","workflow_batch_approval":"批量审批","workflow_batch_approval_btn":"批量<br/>审批","workflow_batch_approval_processing":"处理中","workflow_batch_approval_message":"本次处理文件%s份","workflow_error_multiple_next_step_users":"「{$insname}」的下一步处理人有多个","workflow_error_multiple_next_step":"「{$insname}」的下一步步骤有多个","workflow_batch_instances_empty":"没有可批量审批的数据","workflow_sign_opinion_to_completed_instance":"此文件已结束，签署的意见不会显示在申请单上","workflow_copy_flow":"复制流程","workflow_copy_flow_text":"请填写新流程名称","workflow_copy_flow_success":"复制流程成功","workflow_copy_flow_error_reason_required":"请填写新流程名称","workflow_enabled":"启用","workflow_disabled":"停用","flows_state":"状态","flows_current_modified":"修改时间","flows_modified_by_name()":"修改者","flows_category_name()":"流程分类","flow_list_title_set_template":"设置模版","flow_list_title_set_script":"设置脚本","flow_list_title_set_fieldsMap":"设置归档关系","distribute_edit_flow_select_users":"流程被分发时分发对象选择范围","distribute_edit_flow_select_flows":"搜索此步骤可分发流程","flow_list_title_set_distribute":"设置分发","distribute_to_self":"分发时可分发给自己","distribute_end_notification":"分发结束后提醒发起人","instance_deleted":"已删除","workflow_flow_state_disabled":"此申请单对应流程\"{$name}\"已被禁用，如想正常修改及提交请联系管理员启用流程","flow_roles_error_flows_used":"已有以下流程使用此角色：{$names}","instance_approve_not_yet_handled":"未处理","instance_approve_distribute_date_label":"分发时间","flows_auto_remind":"自动催办","flows_upload_after_being_distributed":"被分发后是否允许上传附件","instances_my_finish_date":"处理时间","pager_input_hint":"点击输入页码，然后按回车可跳转到指定页","instance_hide_title":"隐藏","instance_hide_success":"隐藏成功","instance_reopen_title":"取消隐藏","instance_reopen_success":"取消隐藏成功","workflow_design_flow":"设计流程","process_delegation_rules":"流程委托","process_delegation_rules_from":"委托人","process_delegation_rules_to":"被委托人","process_delegation_rules_enabled":"启用","process_delegation_rules_start_time":"委托开始","process_delegation_rules_end_time":"委托结束","process_delegation_rules_from_name":"委托人","process_delegation_rules_to_name":"被委托人","process_delegation_rules_start_must_lt_end":"开始时间应小于结束时间","process_delegation_rules_description":"{$userName}委托","instance_handler_name":"处理人","instance_handler_organization_fullname":"部门","url_invalid":"无效的链接","instance_approve_timeout_auto_submitted":"超时通过"});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"checkNpm.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/checkNpm.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let checkNpmVersions;
module.link("meteor/tmeasday:check-npm-versions", {
  checkNpmVersions(v) {
    checkNpmVersions = v;
  }

}, 0);
checkNpmVersions({
  "node-schedule": "^1.3.1",
  cookies: "^0.6.2",
  "xml2js": "^0.4.19",
  mkdirp: "^0.3.5",
  "sprintf-js": "^1.0.3"
}, 'steedos:workflow');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"lib":{"collection_helpers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/collection_helpers.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tapi18n.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/tapi18n.coffee                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"core.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/core.coffee                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Workflow = {};
this.ImageSign = {};
this.TracesTemplate = {};
this.InstanceformTemplate = {};
this.InstanceAttachmentTemplate = {};
this.InstanceSignText = {};
this.RelatedInstances = {};
this.RelatedRecords = {};
this.InstanceMacro = {
  context: {}
};
this.TracesManager = {};

if (Meteor.isClient) {
  Meteor.startup(function () {
    var workflow_three_columns;
    workflow_three_columns = localStorage.getItem("workflow_three_columns");

    if (workflow_three_columns && workflow_three_columns === "off") {
      return $("body").removeClass("three-columns");
    } else {
      return $("body").addClass("three-columns");
    }
  });
}

InstanceSignText.isOpinionField_from_string = function (field_formula) {
  return (field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{yijianlan:") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{\"yijianlan\":") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{'yijianlan':") : void 0) > -1;
};

InstanceSignText.includesOpinionField = function (form, form_version) {
  var _form_version, field_formulas, fields;

  field_formulas = new Array();
  _form_version = {};

  if (Meteor.isServer) {
    _form_version = uuflowManager.getFormVersion(db.forms.findOne({
      _id: form
    }), form_version);
  } else {
    _form_version = db.form_versions.findOne({
      _id: form_version,
      form: form
    });
  }

  fields = (_form_version != null ? _form_version.fields : void 0) || [];
  fields.forEach(function (f) {
    var ref;

    if (f.type === 'table') {
      return console.log('ignore opinion field in table');
    } else if (f.type === 'section') {
      return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
        return field_formulas.push(f1.formula);
      }) : void 0 : void 0;
    } else {
      return field_formulas.push(f.formula);
    }
  });
  return _.some(field_formulas, function (field_formula) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"models":{"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/forms.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flows.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_roles.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_positions.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/instances.coffee                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/categories.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"spaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/spaces.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"deleted_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/deleted_instances.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"auth_tokens.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/auth_tokens.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
db.auth_tokens = new Meteor.Collection('auth_tokens');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webhooks.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/webhooks.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_user_signs.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_users.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cfs":{"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/cfs/instances.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"admin.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/admin.coffee                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"client":{"lib":{"instance_readonly_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/instance_readonly_template.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _getLocale, _getRequiredFields, _getStartStepEditableFields, _getStartStepRequiredFields, _getTemplateData, _getViewHtml, getLinkText;

InstanceReadOnlyTemplate = {};
InstanceReadOnlyTemplate.instance_attachment = "<tr>\n	<td class=\"ins-attach-view\">\n		<a href=\"{{ins_attach_download_url _id absolute}}\" class=\"ins_attach_href\" target=\"_parent\" data-name=\"{{this.name}}\" data-type=\"{{this.original.type}}\" data-id=\"{{_id}}\">{{this.name}}</a>\n	</td>\n</tr>";
InstanceReadOnlyTemplate.afSelectUserRead = "<div class='selectUser form-control ins_applicant'>{{value}}</div>";
InstanceReadOnlyTemplate.afFormGroupRead = "<div class='form-group'>\n	{{#with getField this.name}}\n		{{#if equals type 'section'}}\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if showLabel}}\n					<label>{{getLabel code}}</label>\n				{{/if}}\n				<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n			{{/if}}\n		{{/if}}\n	{{/with}}\n</div>";
InstanceReadOnlyTemplate.afFormGroup = "\n{{#with getField this.name}}\n		{{#if equals type 'section'}}\n			<div class=\"form-group\">\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n  				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if equals type 'input'}}\n					<div class=\"form-group\" data-required=\"{{#if is_required}}true{{/if}}\">\n						<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n						<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n					</div>\n				{{else}}\n					{{#if equals type 'number'}}\n						<div class=\"form-group\">\n							<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n							<input type=\"number\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						</div>\n					{{else}}\n						{{#if equals type 'date'}}\n							<div class=\"form-group\">\n								<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n								<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type=\"date\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n							</div>\n						{{else}}\n							{{#if equals type 'dateTime'}}\n								<div class=\"form-group\">\n									<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n									<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type='datetime' data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n								</div>\n							{{else}}\n								{{#if equals type 'password'}}\n									<div class=\"form-group\">\n										<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n										<input type=\"password\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n									</div>\n								{{else}}\n									{{#if equals type 'select'}}\n										<div class=\"form-group\">\n											<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n											<select name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n												{{#each options this}}\n													<option value=\"{{value}}\">{{label}}</option>\n												{{/each}}\n											</select>\n										</div>\n									{{else}}\n										{{#if equals type 'radio'}}\n											<div class=\"form-group\">\n												<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n												<div class=\"af-radio-group\" data-schema-key=\"{{getLabel code}}\">\n													{{#each options this}}\n        												<label class=\"radio-inline fix-indent\"><input type=\"radio\" value=\"{{value}}\" name=\"{{../code}}\" class=\"radio-inline fix-indent\"> {{label}}</label>\n    													{{/each}}\n    												</div>\n											</div>\n										{{else}}\n											{{#if equals type 'multiSelect'}}\n												<div class=\"form-group\">\n													<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n													<div class=\"af-checkbox-group\" data-schema-key=\"{{getLabel code}}\">\n														{{#each options this}}\n														<label class=\"checkbox-inline fix-indent\"><input type=\"checkbox\" value=\"{{value}}\" name=\"{{../code}}\" class=\"checkbox-inline fix-indent\"> {{label}}</label>\n														{{/each}}\n													</div>\n												</div>\n											{{else}}\n												{{#if equals type 'url'}}\n													<div class=\"form-group\">\n														<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n														<input type=\"url\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n													</div>\n												{{else}}\n													{{#if equals type 'email'}}\n														<div class=\"form-group\">\n															<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n															<input type=\"email\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n														</div>\n													{{else}}\n														{{#if equals type 'checkbox'}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class=\"checkbox\" data-schema-key=\"{{getLabel code}}\">\n																	<label style=\"width: 100%;\"><input type=\"checkbox\" value=\"true\" name=\"{{code}}\" class=\"checkbox-inline fix-indent\"></label>\n																</div>\n															</div>\n														{{else}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n															</div>\n														{{/if}}\n													{{/if}}\n												{{/if}}\n											{{/if}}\n										{{/if}}\n									{{/if}}\n								{{/if}}\n							{{/if}}\n						{{/if}}\n					{{/if}}\n				{{/if}}\n			{{/if}}\n		{{/if}}\n	{{/with}}";

InstanceReadOnlyTemplate.create = function (tempalteName, steedosData) {
  var template, templateCompiled, templateRenderFunction;
  template = InstanceReadOnlyTemplate[tempalteName];
  templateCompiled = SpacebarsCompiler.compile(template, {
    isBody: true
  });
  templateRenderFunction = eval(templateCompiled);
  Template[tempalteName] = new Blaze.Template(tempalteName, templateRenderFunction);
  Template[tempalteName].steedosData = steedosData;
  return Template[tempalteName].helpers(InstanceformTemplate.helpers);
};

InstanceReadOnlyTemplate.createInstanceSignText = function (steedosData) {
  var instanceSignTextCompiled, instanceSignTextHtml, instanceSignTextRenderFunction;
  instanceSignTextHtml = _getViewHtml('client/views/instance/instance_sign_text.html');
  instanceSignTextCompiled = SpacebarsCompiler.compile(instanceSignTextHtml, {
    isBody: true
  });
  instanceSignTextRenderFunction = eval(instanceSignTextCompiled);
  Template.instanceSignText = new Blaze.Template("instanceSignText", instanceSignTextRenderFunction);
  Template.instanceSignText.steedosData = steedosData;
  return Template.instanceSignText.helpers(InstanceSignText.helpers);
};

InstanceReadOnlyTemplate.createImageSign = function (steedosData) {
  var imageSignCompiled, imageSignHtml, imageSignRenderFunction;
  imageSignHtml = _getViewHtml('client/views/instance/image_sign.html');
  imageSignCompiled = SpacebarsCompiler.compile(imageSignHtml, {
    isBody: true
  });
  imageSignRenderFunction = eval(imageSignCompiled);
  Template.imageSign = new Blaze.Template("imageSign", imageSignRenderFunction);
  Template.imageSign.steedosData = steedosData;
  return Template.imageSign.helpers(ImageSign.helpers);
};

InstanceReadOnlyTemplate.init = function (steedosData) {
  InstanceReadOnlyTemplate.create("afSelectUserRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("afFormGroup", steedosData);
  }

  InstanceReadOnlyTemplate.create("afFormGroupRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("instance_attachment", {
      absolute: steedosData.absolute
    });
    InstanceReadOnlyTemplate.createImageSign(steedosData);
    return InstanceReadOnlyTemplate.createInstanceSignText(steedosData);
  }
};

getLinkText = function (item, label, detail_url) {
  if (detail_url) {
    detail_url = detail_url.replace("{_id}", item._id);

    if (!/^http(s?):\/\//.test(detail_url)) {
      detail_url = Steedos.absoluteUrl(detail_url);
    }

    return '<a href="' + detail_url + '" target="_blank">' + label + '</a>';
  } else {
    return label;
  }
};

InstanceReadOnlyTemplate.getValue = function (value, field, locale, utcOffset) {
  var date, detail_url, e, hours, month, seconds, t, t0, t1, year;

  if (!value && value !== false) {
    return '';
  }

  switch (field.type) {
    case 'email':
      value = value ? '<a href=\'mailto:' + value + '\'>' + value + '</a>' : '';
      break;

    case 'url':
      if (value) {
        if (value.indexOf("http") === 0) {
          try {
            value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
          } catch (error) {
            e = error;
            value = "<a href='' target='_blank'>" + value + "</a>";
          }
        } else {
          value = "<a href='http://" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
        }
      } else {
        value = '';
      }

      break;

    case 'group':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("fullname").toString() : void 0;
      } else {
        value = value != null ? value.fullname : void 0;
      }

      break;

    case 'user':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("name").toString() : void 0;
      } else {
        value = value != null ? value.name : void 0;
      }

      break;

    case 'password':
      value = '******';
      break;

    case 'checkbox':
      if (value && value !== 'false') {
        value = TAPi18n.__("form_field_checkbox_yes", {}, locale);
      } else {
        value = TAPi18n.__("form_field_checkbox_no", {}, locale);
      }

      break;

    case 'dateTime':
      if (value && value.length === 16) {
        t = value.split("T");
        t0 = t[0].split("-");
        t1 = t[1].split(":");
        year = t0[0];
        month = t0[1];
        date = t0[2];
        hours = t1[0];
        seconds = t1[1];
        value = new Date(year, month - 1, date, hours, seconds);
      } else {
        value = new Date(value);
      }

      value = InstanceReadOnlyTemplate.formatDate(value, utcOffset);
      break;

    case 'input':
      if (field.is_textarea) {
        value = Spacebars.SafeString(Markdown(value));
      }

      break;

    case 'number':
      if (value || value === 0) {
        if (typeof value === 'string') {
          value = parseFloat(value);
        }

        value = value.toFixed(field.digits);
        value = Steedos.numberToString(value, locale);
      }

      break;

    case 'odata':
      detail_url = field.detail_url;

      if (field.is_multiselect) {
        value = _.map(value, function (item) {
          return getLinkText(item, item['@label'], detail_url);
        });
      } else {
        value = getLinkText(value, value['@label'], detail_url);
      }

  }

  return value;
};

InstanceReadOnlyTemplate.getLabel = function (fields, code) {
  var field;
  field = fields.findPropertyByPK("code", code);

  if (field) {
    if (field.name) {
      return field.name;
    } else {
      return field.code;
    }
  }
};

InstanceReadOnlyTemplate.getInstanceFormVersion = function (instance) {
  var form, form_fields, form_version;
  form = db.forms.findOne(instance.form);
  form_version = {};
  form_fields = [];

  if (form.current._id === instance.form_version) {
    form_version = form.current;
  } else {
    form_version = _.where(form.historys, {
      _id: instance.form_version
    })[0];
  }

  form_version.fields.forEach(function (field) {
    if (field.type === 'section') {
      form_fields.push(field);

      if (field.fields) {
        return field.fields.forEach(function (f) {
          return form_fields.push(f);
        });
      }
    } else if (field.type === 'table') {
      field['sfields'] = field['fields'];
      delete field['fields'];
      return form_fields.push(field);
    } else {
      return form_fields.push(field);
    }
  });
  form_version.fields = form_fields;
  return form_version;
};

InstanceReadOnlyTemplate.getFlowVersion = function (instance) {
  var flow, flow_version;
  flow = db.flows.findOne(instance.flow);
  flow_version = {};

  if (flow.current._id === instance.flow_version) {
    flow_version = flow.current;
  } else {
    flow_version = _.where(flow.historys, {
      _id: instance.flow_version
    })[0];
  }

  return flow_version;
};

_getViewHtml = function (path) {
  var viewHtml;
  viewHtml = Assets.getText(path);

  if (viewHtml) {
    viewHtml = viewHtml.replace(/<template[\w\s\"\=']+>/i, "").replace(/<\/template>/i, "");
  }

  return viewHtml;
};

_getLocale = function (user) {
  var locale, ref, ref1;

  if ((user != null ? (ref = user.locale) != null ? ref.toLocaleLowerCase() : void 0 : void 0) === 'zh-cn') {
    locale = "zh-CN";
  } else if ((user != null ? (ref1 = user.locale) != null ? ref1.toLocaleLowerCase() : void 0 : void 0) === 'en-us') {
    locale = "en";
  } else {
    locale = "zh-CN";
  }

  return locale;
};

_getRequiredFields = function (fields, rev) {
  if (!rev) {
    rev = [];
  }

  fields.forEach(function (field) {
    if (field.type === 'section') {
      return _getRequiredFields(field.fields, rev);
    } else if (field.type === 'table') {} else {
      if (field.is_required) {
        return rev.push(field.code);
      }
    }
  });
  return rev;
};

_getStartStepEditableFields = function (fields, steps) {
  var editableCode, startStep;
  startStep = steps.findPropertyByPK("step_type", "start");
  editableCode = [];

  _.keys(startStep.permissions).forEach(function (key) {
    if (startStep.permissions[key] === 'editable') {
      return editableCode.push(key);
    }
  });

  return editableCode;
};

_getStartStepRequiredFields = function (fields, steps) {
  var editableCode, requiredFields;
  requiredFields = _getRequiredFields(fields);
  editableCode = _getStartStepEditableFields(fields, steps);
  return _.intersection(requiredFields, editableCode);
};

_getTemplateData = function (user, space, instance, options) {
  var flow, form, form_version, locale, steedosData;

  if (Meteor.isServer) {
    form_version = InstanceReadOnlyTemplate.getInstanceFormVersion(instance);
  } else {
    form_version = WorkflowManager.getInstanceFormVersion(instance);
  }

  locale = _getLocale(user);
  steedosData = {};

  if (Meteor.isClient) {
    steedosData = _.clone(WorkflowManager_format.getAutoformSchemaValues());
    steedosData.insname = instance.name;
    steedosData.ins_state = instance.state;
    steedosData.ins_final_decision = instance.ins_final_decision;
    steedosData.ins_code = instance.code;
    steedosData.ins_is_archived = instance.is_archived;
    steedosData.ins_is_deleted = instance.ins_is_deleted;
    steedosData.applicant_name = instance.applicant_name;
    steedosData.applicantContext = instance.applicant_name;
  }

  steedosData.instance = instance;
  steedosData.form_version = form_version;
  steedosData.locale = locale;
  steedosData.utcOffset = user.utcOffset;
  steedosData.space = instance.space;
  steedosData.sessionUserId = user._id;

  if (Meteor.isServer) {
    if (options != null ? options.editable : void 0) {
      form = db.forms.findOne({
        _id: instance.form
      });
      flow = db.flows.findOne({
        _id: instance.flow
      });
      steedosData.startStepEditableFields = _getStartStepEditableFields(form.current.fields, flow.current.steps);
    }
  }

  return steedosData;
};

InstanceReadOnlyTemplate.formatDate = function (date, utcOffset) {
  var passing;

  if (Meteor.isServer) {
    passing = false;
  } else {
    passing = true;
  }

  if (!utcOffset && utcOffset !== 0) {
    utcOffset = 8;
  }

  return moment(date).utcOffset(utcOffset, passing).format("YYYY-MM-DD HH:mm");
};

InstanceReadOnlyTemplate.getInstanceView = function (user, space, instance, options) {
  var body, instanceCompiled, instanceRenderFunction, instanceTemplate, steedosData;
  steedosData = _getTemplateData(user, space, instance, options);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  instanceTemplate = TemplateManager.getTemplate(instance, options != null ? options.templateName : void 0);
  instanceTemplate = instanceTemplate.replace(/afSelectUser/g, "afSelectUserRead");

  if (!(options != null ? options.editable : void 0)) {
    instanceTemplate = instanceTemplate.replace(/afFormGroup/g, "afFormGroupRead");
  }

  instanceCompiled = SpacebarsCompiler.compile(instanceTemplate, {
    isBody: true
  });
  instanceRenderFunction = eval(instanceCompiled);
  Template.instance_readonly_view = new Blaze.Template("instance_readonly_view", instanceRenderFunction);
  Template.instance_readonly_view.steedosData = steedosData;
  Template.instance_readonly_view.helpers(InstanceformTemplate.helpers);
  InstanceReadOnlyTemplate.init(steedosData);
  body = Blaze.toHTMLWithData(Template.instance_readonly_view, steedosData);
  return "<div id='instanceform' >\n	" + body + "\n</div>";
};

InstanceReadOnlyTemplate.getTracesView = function (user, space, instance, options) {
  var body, form, steedosData, traceCompiled, traceRenderFunction, tracesHtml;
  steedosData = _getTemplateData(user, space, instance);
  form = db.forms.findOne(instance.form);

  if (form.instance_style === "table" || (options != null ? options.templateName : void 0) === "table") {
    tracesHtml = _getViewHtml('client/views/instance/traces_table.html');
  } else {
    tracesHtml = _getViewHtml('client/views/instance/traces.html');
  }

  traceCompiled = SpacebarsCompiler.compile(tracesHtml, {
    isBody: true
  });
  traceRenderFunction = eval(traceCompiled);
  Template.trace_readonly_view = new Blaze.Template("trace_readonly_view", traceRenderFunction);
  Template.trace_readonly_view.steedosData = steedosData;
  Template.trace_readonly_view.helpers(TracesTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.trace_readonly_view, instance.traces);
  return body;
};

InstanceReadOnlyTemplate.getAttachmentView = function (user, space, instance) {
  var attachmentCompiled, attachmentHtml, attachmentRenderFunction, body, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  attachmentHtml = _getViewHtml('client/views/instance/instance_attachments.html');
  attachmentCompiled = SpacebarsCompiler.compile(attachmentHtml, {
    isBody: true
  });
  attachmentRenderFunction = eval(attachmentCompiled);
  Template.attachments_readonly_view = new Blaze.Template("attachments_readonly_view", attachmentRenderFunction);
  Template.attachments_readonly_view.steedosData = steedosData;
  Template.attachments_readonly_view.helpers(InstanceAttachmentTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.attachments_readonly_view);
  return body;
};

InstanceReadOnlyTemplate.getRelatedInstancesView = function (user, space, instance, options) {
  var body, relatedInstancesCompiled, relatedInstancesHtml, relatedInstancesRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedInstancesHtml = _getViewHtml('client/views/instance/related_instances.html');
  relatedInstancesCompiled = SpacebarsCompiler.compile(relatedInstancesHtml, {
    isBody: true
  });
  relatedInstancesRenderFunction = eval(relatedInstancesCompiled);
  Template.related_instances_view = new Blaze.Template("related_instances_view", relatedInstancesRenderFunction);
  Template.related_instances_view.steedosData = steedosData;
  Template.related_instances_view.helpers(RelatedInstances.helpers);
  body = Blaze.toHTMLWithData(Template.related_instances_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getRelatedRecordsView = function (user, space, instance, options) {
  var body, relatedRecordsCompiled, relatedRecordsHtml, relatedRecordsRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedRecordsHtml = _getViewHtml('client/views/instance/related_records.html');
  relatedRecordsCompiled = SpacebarsCompiler.compile(relatedRecordsHtml, {
    isBody: true
  });
  relatedRecordsRenderFunction = eval(relatedRecordsCompiled);
  Template.related_records_view = new Blaze.Template("related_records_view", relatedRecordsRenderFunction);
  Template.related_records_view.steedosData = steedosData;
  Template.related_records_view.helpers(RelatedRecords.helpers);
  body = Blaze.toHTMLWithData(Template.related_records_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getOnLoadScript = function (instance) {
  var form_script, form_version;
  form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
  form_script = form_version.form_script;

  if (form_script && form_script.replace(/\n/g, "").replace(/\s/g, "").length > 0) {
    form_script = "CoreForm = {};CoreForm.instanceform = {};" + form_script;
    return form_script += ";if(CoreForm.form_OnLoad){window.onload = CoreForm.form_OnLoad();}";
  } else {
    return form_script = "";
  }
};

InstanceReadOnlyTemplate.getInstanceHtml = function (user, space, instance, options) {
  var absoluteUrl, allCssLink, attachment, body, creatorService, cssHref, form, formDescription, formDescriptionHtml, html, ins_record_ids, instanceBoxStyle, instance_style, onLoadScript, openFileScript, ref, ref1, related_instances, related_records, showTracesBtn, showTracesScript, trace, traceCheck, width;
  body = InstanceReadOnlyTemplate.getInstanceView(user, space, instance, options);
  onLoadScript = InstanceReadOnlyTemplate.getOnLoadScript(instance);
  creatorService = (ref = Meteor.settings["public"].webservices) != null ? (ref1 = ref.creator) != null ? ref1.url : void 0 : void 0;
  ins_record_ids = instance.record_ids;
  openFileScript = "if(window.isNode && isNode()){\n	attachs = document.getElementsByClassName(\"ins_attach_href\");\n	for(var i = 0; i < attachs.length; i++){\n		attach = attachs[i];\n		attach.addEventListener(\"click\", function(e){\n			if(isImage(this.dataset.type) || isHtml(this.dataset.type)){\n				e.preventDefault();\n				openWindow(\"/api/files/instances/\" + this.dataset.id);\n			}else if(nw_core.canOpenFile(this.dataset.name)){\n				e.preventDefault();\n				nw_core.openFile(this.href, this.dataset.name)\n			}\n		});\n	}\n}\n\nvar flow = \"" + instance.flow + "\";\nvar space = \"" + instance.space + "\";\n\nfunction getCookie(name){\n	let pattern = RegExp(name + \"=.[^;]*\")\n	let matched = document.cookie.match(pattern)\n	if(matched){\n		let cookie = matched[0].split('=')\n		return cookie[1]\n	}\n	return ''\n}\n\nvar records = document.getElementsByClassName(\"ins-related-records\");\nfor(var i = 0; i < records.length; i++){\n		var record = records[i];\n		record.addEventListener(\"click\", function(e){\n			var creatorService = \"" + creatorService + "\"\n			var ins_record_ids = " + JSON.stringify(ins_record_ids) + "\n			if(creatorService && ins_record_ids && ins_record_ids.length > 0){\n				var objcetName = ins_record_ids[0].o\n				var id = ins_record_ids[0].ids[0]\n				var uobj = {};\n				uobj[\"X-User-Id\"] = getCookie(\"X-User-Id\");\n				uobj[\"X-Auth-Token\"] = getCookie(\"X-Auth-Token\");\n				redirectUrl = creatorService + \"app/-/\" + objcetName + \"/view/\" + id + \"?\" + $.param(uobj);\n				openWindow(redirectUrl);\n			}\n		});\n	}\n";

  if (!Steedos.isMobile()) {
    form = db.forms.findOne(instance.form);

    if ((form != null ? form.instance_style : void 0) === 'table') {
      instance_style = "instance-table";
    }
  }

  if ((options != null ? options.templateName : void 0) === 'table') {
    instance_style = "instance-table";
  }

  if (options != null ? options.instance_style : void 0) {
    instance_style = options.instance_style;
  }

  if (!options || options.showTrace === true) {
    trace = InstanceReadOnlyTemplate.getTracesView(user, space, instance);
  } else {
    trace = "";
  }

  instanceBoxStyle = "";

  if (instance && instance.final_decision) {
    if (instance.final_decision === "approved") {
      instanceBoxStyle = "box-success";
    } else if (instance.final_decision === "rejected") {
      instanceBoxStyle = "box-danger";
    }
  }

  if (!options || options.showAttachments === true) {
    attachment = InstanceReadOnlyTemplate.getAttachmentView(user, space, instance);
    related_instances = InstanceReadOnlyTemplate.getRelatedInstancesView(user, space, instance, options);
    related_records = InstanceReadOnlyTemplate.getRelatedRecordsView(user, space, instance, options);
  } else {
    attachment = "";
    related_instances = "";
    related_records = "";
  }

  absoluteUrl = Meteor.absoluteUrl();
  width = "960px";

  if (options != null ? options.width : void 0) {
    width = "";
  }

  cssHref = Meteor.absoluteUrl("steedos-css");
  allCssLink = "<link rel=\"stylesheet\" type=\"text/css\" class=\"__meteor-css__\" href=\"" + cssHref + "\">";
  traceCheck = "";

  if (!_.isEmpty(trace)) {
    traceCheck = "checked";
  }

  if ((options != null ? options.tagger : void 0) === 'email') {
    showTracesBtn = "";
  } else {
    showTracesBtn = "<div class=\"navigation-bar btn-group no-print\" style=\"min-width: 600px; z-index: 999\">\n	<div class=\"print-tool\">\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-attachments\" id=\"cbx-print-attachments\" checked=\"checked\"><span>附件</span></label>\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-traces\" id=\"cbx-print-traces\" checked=\"" + traceCheck + "\"><span>" + t('instance_approval_history') + "</span></label>\n	</div>\n</div>";
  }

  showTracesScript = "$( document ).ready(function(){\n	var b = document.getElementById('cbx-print-traces');\n	var t = document.getElementsByClassName('instance-traces')[0];\n	if (b.checked){\n		t.style = 'display: block;'\n	} else {\n		t.style = 'display: none;'\n	}\n	b.addEventListener('change', function(e){\n		if (e.target.checked){\n			t.style = 'display: block;'\n		} else {\n			t.style = 'display: none;'\n		}\n	});\n\n	var attachmentsCheckbox = document.getElementById('cbx-print-attachments');\n	var attachmentsView = document.getElementsByClassName('attachments-section')[0];\n	if (attachmentsCheckbox.checked){\n		attachmentsView.style = 'display: block;'\n	} else {\n		attachmentsView.style = 'display: none;'\n	}\n	attachmentsCheckbox.addEventListener('change', function(e){\n		if (e.target.checked){\n			attachmentsView.style = 'display: block;'\n		} else {\n			attachmentsView.style = 'display: none;'\n		}\n	});\n});\n";

  if (options != null ? options.styles : void 0) {
    allCssLink = "";
  }

  form = db.forms.findOne({
    _id: instance.form
  });
  formDescriptionHtml = "";

  if (form) {
    formDescription = form.description;

    if (formDescription) {
      formDescription = formDescription.replace(/\n/g, "<br/>");
      formDescriptionHtml = "<div class=\"box-header  with-border instance-header\">\n	<div>\n		" + formDescription + "\n	</div>\n</div>";
    }
  }

  html = "<!DOCTYPE html>\n<html>\n	<head>\n		<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n		" + allCssLink + "\n		<script src=\"https://www.steedos.com/website/libs/jquery.min.js\" type=\"text/javascript\"></script>\n		<script src=\"/js/nw_core.js\" type=\"text/javascript\"></script>\n		" + (options.plugins || "") + "\n\n		<style>\n			.steedos{\n				width: " + width + ";\n				margin-left: auto;\n				margin-right: auto;\n			}\n\n			.instance-view .instance-name{\n				display: inline !important\n			}\n			.box-tools{\n				display: none;\n			}\n			.box.collapsed-box .box-body,.box.collapsed-box .box-footer {\n			  display: block;\n			}\n\n			body{\n				background: azure !important;\n			}\n\n			.instance-view .instance-traces{\n				padding-left: 15px;\n				padding-right: 15px;\n			}\n\n			" + ((options != null ? options.styles : void 0) || "") + "\n		</style>\n	</head>\n	<body>\n		<div class=\"steedos workflow instance-print\">\n			<div class=\"skin-green skin-admin-lte\">\n				<div class=\"wrapper\">\n					<div class=\"content-wrapper\">\n						" + showTracesBtn + "\n						<div class=\"instance-print\">\n							<div class=\"instance " + instance_style + "\">\n								<form name=\"instanceForm\">\n									<div class=\"instance-form box " + instanceBoxStyle + "\">\n										" + formDescriptionHtml + "\n										<div class=\"box-body\">\n											<div class=\"col-md-12\">\n												<div class='attachments-section'>\n													" + attachment + "\n													" + related_instances + "\n													" + related_records + "\n												</div>\n												" + body + "\n											</div>\n										</div>\n									</div>\n								</form>\n								" + trace + "\n							</div>\n\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</body>\n	<script>" + openFileScript + ";" + onLoadScript + ";" + showTracesScript + "</script>\n</html>";
  return html;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/template_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var formId;
TemplateManager = {};
formId = 'instanceform';

TemplateManager.instance_title = function () {
  var pageTitle, pageTitleTrClass, val;
  pageTitle = "{{instance.name}}";
  pageTitleTrClass = "instance-name";

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) {
    pageTitle = "{{> afFormGroup name=\"" + CoreForm.pageTitleFieldName + "\" label=false}}";
    pageTitleTrClass = "";
  }

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitle : void 0) {
    pageTitle = "" + CoreForm.pageTitle;
    pageTitleTrClass = "";
  }

  val = {
    pageTitle: pageTitle,
    pageTitleTrClass: pageTitleTrClass
  };
  return val;
};

TemplateManager.handleTableTemplate = function (instance, _export) {
  var table_fields, template;
  template = "<div class='instance-template'>\n	<table class=\"table-page-title form-table no-border text-align-center\" style=\"width: 100%;display: inline-table;\">\n		<tr class=\"" + this.instance_title().pageTitleTrClass + "\">\n			<td class=\"instance-table-name-td page-title\">\n				" + this.instance_title().pageTitle + "\n			</td>\n		</tr>\n\n	</table>\n	<table class=\"table-page-body form-table\">\n			<tr style=\"height:0px\">\n				<th style='width: 16%'></th>\n				<th></th>\n				<th style='width: 16%'></th>\n				<th></th>\n			</tr>";
  table_fields = InstanceformTemplate.helpers.table_fields(instance);
  table_fields.forEach(function (table_field) {
    var field_permission, pureCode, required, title_permission;
    required = "";

    if (!(typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) || (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) !== table_field.code) {
      if (table_field.is_required) {
        required = "is-required";
      }

      if (_export) {
        required = "";
      }

      pureCode = Steedos.removeSpecialCharacter(table_field.code);

      if (InstanceformTemplate.helpers.isOpinionField(table_field)) {
        template += table_field.tr_start;
        template += "<td class=\"td-title " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field opinion-field opinion-field-" + pureCode + " automatic\" colspan = \"" + table_field.td_colspan + "\">\n	{{> instanceSignText name=\"" + table_field.code + "\"}}\n</td>";
        return template += table_field.tr_end;
      } else {
        if (InstanceformTemplate.helpers.includes(table_field.type, 'section,table')) {
          template += table_field.tr_start;
          template += "<td class=\"td-childfield td-childfield-" + pureCode + "\" colspan = \"" + table_field.td_colspan + "\">\n   {{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        } else {
          template += table_field.tr_start;

          if (_export) {
            title_permission = "";
            field_permission = "";
          } else {
            title_permission = "title-" + table_field.permission;
            field_permission = "field-" + table_field.permission;
          }

          template += "<td class=\"td-title td-title-" + pureCode + " " + title_permission + " " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field td-field-" + pureCode + " " + field_permission + "\" colspan = \"" + table_field.td_colspan + "\">\n	{{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        }
      }
    }
  });
  template += "	</table>\n\n	<table class=\"table-page-footer form-table no-border\">\n		<tr class=\"applicant-wrapper\">\n			<td class=\"nowrap\">\n				<div class='inline-left'>\n					<label class=\"control-label\">{{_t \"instance_initiator\"}}：</label>\n				</div>\n				<div class='instance-table-wrapper-td inline-left'>\n					{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n				</div>\n			</td>\n			<td class=\"nowrap\">\n				<div class='pull-left'>\n					<div class='inline-left'>\n						<label>{{_t \"instance_submit_date\"}}：</label>\n					</div>\n					<div class='inline-right'>\n						<div class=\"form-group\">\n							{{formatDate instance.submit_date '{\"format\":\"YYYY-MM-DD\"}'}}\n						</div>\n					</div>\n				</div>\n			</td>\n		</tr>\n	</table>\n</div>";
  return template;
};

TemplateManager._template = {
  "default": function (instance) {
    var template;
    template = "<div class=\"with-border col-md-12\">\n	<div class=\"instance-name\">\n		<h3 class=\"box-title\">" + TemplateManager.instance_title().pageTitle + "</h3>\n		<span class=\"help-block\"></span>\n	</div>\n	<span class=\"help-block\"></span>\n</div>\n{{#each steedos_form.fields}}\n	{{#if isOpinionField this}}\n		<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			<div class=\"form-group automatic opinion-field-{{this.code}}\">\n				<label class=\"control-label\">{{afFieldLabelText name=this.code}}</label>\n\n				{{> instanceSignText name=this.code}}\n			</div>\n		</div>\n	{{else}}\n		{{#if includes this.type 'section,table'}}\n			<div class=\"col-md-12 field-{{this.code}}\">\n				{{> afFormGroup name=this.code label=false}}\n			</div>\n		{{else}}\n			<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			{{> afFormGroup name=this.code}}\n			</div>\n		{{/if}}\n	{{/if}}\n{{/each}}\n<div class=\"col-md-12\">\n	<div class=\"applicant-wrapper form-group form-horizontal\">\n	<div class=\"input-group\">\n		<div class=\"input-group-addon\">\n		  {{_t \"instance_initiator\"}}&nbsp;:\n		</div>\n		{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n	  </div>\n	</div>\n</div>";
    return template;
  },
  table: function (instance) {
    return TemplateManager.handleTableTemplate(instance);
  }
};
TemplateManager._templateHelps = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control',
        style: 'padding:6px 12px;width:140px;display:inline'
      }
    };
    data.atts.disabled = true;
    return data;
  }
};
({
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = formId;
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  }
});

TemplateManager.getTemplate = function (instance, templateName) {
  var flow, form;
  flow = db.flows.findOne(instance.flow);
  form = db.forms.findOne(instance.form);

  if (templateName) {
    if (templateName === 'table') {
      return TemplateManager._template.table(instance);
    }

    return TemplateManager._template["default"](instance);
  }

  if (typeof Session !== "undefined" && Session !== null ? Session.get("instancePrint") : void 0) {
    if (flow != null ? flow.print_template : void 0) {
      return "<div class='instance-template'>" + flow.print_template + "</div>";
    } else {
      if (flow != null ? flow.instance_template : void 0) {
        return "<div class='instance-template'>" + flow.instance_template + "</div>";
      } else {
        return TemplateManager._template.table(instance);
      }
    }
  } else {
    if (Steedos.isMobile()) {
      return TemplateManager._template["default"](instance);
    }

    if (flow != null ? flow.instance_template : void 0) {
      return "<div class='instance-template'>" + flow.instance_template + "</div>";
    }

    if (form != null ? form.instance_style : void 0) {
      if (form.instance_style === 'table') {
        return TemplateManager._template.table(instance);
      }

      return TemplateManager._template["default"](instance);
    } else {
      return TemplateManager._template["default"](instance);
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"coreform":{"inputTypes":{"coreform-table":{"steedos-table.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/coreform/inputTypes/coreform-table/steedos-table.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
SteedosTable = {};
SteedosTable.formId = "instanceform";

SteedosTable.checkItem = function (field, item_index) {
  var fieldObj = SteedosTable.getField(field);
  var fieldVal = SteedosTable.getItemModalValue(field, item_index);
  var sf_name = '';
  var rev = true;
  fieldObj.sfields.forEach(function (sf) {
    if (sf.permission == 'editable') {
      sf_name = fieldObj.code + "." + sf.code;

      if (!InstanceManager.checkFormFieldValue($("[name='" + sf_name + "']")[0])) {
        rev = false;
      }
    }
  });
  return rev;
};

SteedosTable.setTableItemValue = function (field, item_index, item_value) {
  var tableValue = SteedosTable.getTableValue(field);
  tableValue[item_index] = item_value;
};

SteedosTable.getTableItemValue = function (field, item_index) {
  return SteedosTable.getTableValue(field)[item_index];
};

SteedosTable.removeTableItem = function (field, item_index) {
  var item_value = SteedosTable.getTableItemValue(field, item_index);
  item_value.removed = true;
};

SteedosTable.setTableValue = function (field, value) {
  $("table[name='" + field + "']").val({
    val: value
  });
};

SteedosTable.getTableValue = function (field) {
  return $("table[name='" + field + "']").val().val;
};

SteedosTable.getValidValue = function (field) {
  var value = SteedosTable.getTableValue(field);

  if (!value) {
    return;
  }

  var validValue = [];
  value.forEach(function (v) {
    if (!v.removed) {
      validValue.push(v);
    }
  });
  return validValue;
};

SteedosTable.handleData = function (field, values) {
  if (!values || !(values instanceof Array)) {
    return values;
  }

  var fieldObj = SteedosTable.getField(field);
  values.forEach(function (v) {
    fieldObj.sfields.forEach(function (f) {
      if (f.type == 'user' || f.type == 'group') {
        var value = v[f.code];

        if (f.is_multiselect) {
          if (value && value.length > 0 && typeof value[0] == 'object') {
            v[f.code] = v[f.code].getProperty("id");
          }
        } else {
          if (value && typeof value == 'object') {
            v[f.code] = v[f.code].id;
          }
        }
      } else if (f.type == 'dateTime') {
        var value = v[f.code];

        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
            v[f.code] = value;
          }
        }
      }
    });
  });
  return values;
};

SteedosTable.getField = function (field) {
  var instanceFields = WorkflowManager.getInstanceFields();
  if (!instanceFields) return;
  var fieldObj = instanceFields.findPropertyByPK("code", field);
  return fieldObj;
};

SteedosTable.getModalData = function (field, index) {
  var data = {};
  var fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return;
  }

  data.field = fieldObj;
  data.field.formula = Form_formula.getFormulaFieldVariable("Form_formula.field_values", fieldObj.sfields);
  data.value = {};
  data.value[field] = SteedosTable.getTableItemValue(field, index);
  data.index = index;
  return data;
};

SteedosTable.getItemModalValue = function (field, item_index) {
  if (!AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index)) {
    return {};
  }

  var item_value = AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index).insertDoc[field];
  return item_value;
};

SteedosTable.addItem = function (field, index, _item_value) {
  var keys = SteedosTable.getKeys(field);

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  $("tbody[name='" + field + "Tbody']").append(SteedosTable.getTr(keys, item_value, index, field, true));
};

SteedosTable.updateItem = function (field, index, _item_value) {
  var item = $("tr[name='" + field + "_item_" + index + "']");

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  if (item && item.length > 0) {
    var keys = SteedosTable.getKeys(field);
    var tds = SteedosTable.getRemoveTd(field, index);
    var sfields = SteedosTable.getField(field).sfields;
    keys.forEach(function (key) {
      var sfield = sfields.findPropertyByPK("code", key);
      var value = item_value[key];
      tds = tds + SteedosTable.getTd(sfield, index, value);
    });
    item.empty();
    item.append(tds);
  } else {
    SteedosTable.addItem(field, index);
  }

  if (SteedosTable.getTableValue(field)) {
    SteedosTable.setTableItemValue(field, index, item_value); //SteedosTable.valueHash[field][index] = item_value;
  } else {
    //SteedosTable.valueHash[field] = [item_value];
    SteedosTable.setTableValue(field, [item_value]);
  } //执行主表公式计算


  InstanceManager.runFormula(field);
};

SteedosTable.removeItem = function (field, index) {
  $("tr[name='" + field + "_item_" + index + "']").hide();
  SteedosTable.removeTableItem(field, index);
  InstanceManager.runFormula(field);
};

SteedosTable.showModal = function (field, index, method) {
  var modalData = SteedosTable.getModalData(field, index);
  modalData.method = method;
  Modal.show("steedosTableModal", modalData);
};

SteedosTable.getKeys = function (field) {
  if (!AutoForm.getCurrentDataForForm(SteedosTable.formId)) {
    return [];
  }

  var ss = AutoForm.getFormSchema(SteedosTable.formId);
  var keys = [];

  if (ss.schema(field + ".$").type === Object) {
    keys = ss.objectKeys(SimpleSchema._makeGeneric(field) + '.$');
  }

  return keys;
};

SteedosTable.getThead = function (field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return '';
  }

  var thead = '',
      trs = '',
      label = '',
      width = 100;

  if (editable) {
    // trs = "<th class='removed'></th>"
    trs = "";
  }

  var sfields = fieldObj.sfields;

  if (!sfields) {
    return thead;
  }

  var sf_length = sfields.length;

  if (sf_length > 0) {
    var wide_fields = sfields.filterProperty("is_wide", true);
    width = 100 / (sf_length + wide_fields.length);
  }

  sfields.forEach(function (sf, index) {
    label = sf.name != null && sf.name.length > 0 ? sf.name : sf.code;
    trs = trs + "<td "; // nowrap='nowrap'

    trs = trs + " class='title " + sf.type + "'";

    if (index != sf_length - 1) {
      if (sf.is_wide) {
        trs = trs + "style='width:" + width * 2 + "%'";
      } else {
        trs = trs + "style='width:" + width + "%'";
      }
    }

    trs = trs + ">" + label + "</td>";
  });
  thead = '<tr>' + trs + '</tr>';
  return thead;
};

SteedosTable.getTbody = function (keys, field, values, editable) {
  var tbody = "";

  if (values instanceof Array) {
    values.forEach(function (value, index) {
      tbody = tbody + SteedosTable.getTr(keys, value, index, field, editable);
    });
  }

  return tbody;
};

SteedosTable.getTr = function (keys, item_value, index, field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);
  var tr = "<tr id='" + fieldObj.code + "_item_" + index + "' name='" + fieldObj.code + "_item_" + index + "' data-index='" + index + "'";

  if (editable) {
    tr = tr + "' class='item edit'";
  } else {
    if (Steedos.isMobile()) {
      tr = tr + " class='item item-readonly'";
    } else {
      tr = tr + " class='item '";
    }
  }

  if (item_value.removed) {
    tr = tr + " style='display:none' ";
  }

  tr = tr + "'>";
  var tds = "";

  if (editable) {
    tds = SteedosTable.getRemoveTd(fieldObj.code, index);
  }

  var sfields = fieldObj.sfields;
  keys.forEach(function (key) {
    var sfield = sfields.findPropertyByPK("code", key);
    var value = item_value[key];
    tds = tds + SteedosTable.getTd(sfield, index, value);
  });
  tr = tr + tds + "</tr>";
  return tr;
};

SteedosTable.getRemoveTd = function (field, index) {
  // return "<td class='steedosTable-item-remove removed' data-index='" + index + "'><i class='fa fa-times' aria-hidden='true'></td>";
  return "";
};

SteedosTable.getTd = function (field, index, value) {
  var td = "<td ";
  td = td + " class='steedosTable-item-field " + field.type + "' ";
  var td_value = "";

  if (Meteor.isClient) {
    td_value = SteedosTable.getTDValue(field, value);
  } else {
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    td_value = InstanceReadOnlyTemplate.getValue(value, field, locale, utcOffset);
  }

  td = td + " data-index='" + index + "'>" + td_value + "</td>";
  return td;
};

SteedosTable.getTDValue = function (field, value) {
  var td_value = "";

  if (!field) {
    return td_value;
  }

  try {
    switch (field.type) {
      case 'user':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaSpaceUsers(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var u = CFDataManager.getFormulaSpaceUsers(value);
              td_value = u ? u.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'group':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaOrganizations(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var o = CFDataManager.getFormulaOrganization(value);
              td_value = o ? o.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'checkbox':
        if (value === true || value == 'true') {
          td_value = TAPi18n.__("form_field_checkbox_yes");
        } else {
          td_value = TAPi18n.__("form_field_checkbox_no");
        }

        break;

      case 'email':
        td_value = value ? "<a href='mailto:" + value + "'>" + value + "</a>" : "";
        break;

      case 'url':
        if (value) {
          if (value.indexOf("http") == 0) {
            try {
              td_value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
            } catch (e) {
              td_value = "<a href='' target='_blank'>" + value + "</a>";
            }
          } else {
            td_value = "<a href='http://" + encodeURI(value) + "' target='_blank'>http://" + value + "</a>";
          }
        } else {
          td_value = "";
        }

        break;

      case 'password':
        td_value = '******';
        break;

      case 'date':
        if (value) {
          if (value.length == 10) {
            var t = value.split("-");
            year = t[0];
            month = t[1];
            date = t[2];
            value = new Date(year, month - 1, date);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd');
        }

        break;

      case 'dateTime':
        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd HH:mm');
        }

        break;

      case 'number':
        if (value || value == 0) {
          if (typeof value == 'string') {
            value = parseFloat(value);
          }

          td_value = value.toFixed(field.digits);
          td_value = Steedos.numberToString(td_value);
        }

        break;

      case 'odata':
        if (value) {
          if (field.is_multiselect) {
            td_value = _.pluck(value, '@label').toString();
          } else {
            td_value = value['@label'];
          }
        }

        break;

      default:
        td_value = value ? value : '';
        break;
    }
  } catch (e) {
    e;
    return '';
  }

  return td_value;
};

if (Meteor.isClient) {
  AutoForm.addInputType("table", {
    template: "afTable",
    valueOut: function () {
      var name = this.data("schemaKey");
      return SteedosTable.getValidValue(name);
    },
    valueConverters: {
      "stringArray": AutoForm.valueConverters.stringToStringArray,
      "number": AutoForm.valueConverters.stringToNumber,
      "numerArray": AutoForm.valueConverters.stringToNumberArray,
      "boolean": AutoForm.valueConverters.stringToBoolean,
      "booleanArray": AutoForm.valueConverters.stringToBooleanArray,
      "date": AutoForm.valueConverters.stringToDate,
      "dateArray": AutoForm.valueConverters.stringToDateArray
    },
    contextAdjust: function (context) {
      if (typeof context.atts.maxlength === 'undefined' && typeof context.max === 'number') {
        context.atts.maxlength = context.max;
      }

      return context;
    }
  });
  Template.afTable.events({
    'tap .steedos-table .steedosTable-item-add,.add-item-tr': function (event, template) {
      var name = template.data.name;
      var tableValue = SteedosTable.getTableValue(name);
      var new_item_index = tableValue ? tableValue.length : 0;
      SteedosTable.showModal(name, new_item_index, "add");
    },
    'tap .steedos-table .steedosTable-item-field': function (event, template) {
      if (template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "edit");
      }
    },
    'tap .steedos-table .steedosTable-item-remove': function (event, template) {
      var field = template.data.name;
      var item_index = event.currentTarget.dataset.index;
      Session.set("instance_change", true);
      SteedosTable.removeItem(field, item_index);
    },
    'tap .steedos-table .item-readonly': function (event, template) {
      if (!template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "read");
      }
    }
  });

  Template.afTable.rendered = function () {
    var field = this.data.name;
    var keys = SteedosTable.getKeys(field);
    var validValue = SteedosTable.handleData(field, this.data.value);
    SteedosTable.setTableValue(field, validValue);
    $("thead[name='" + field + "Thead']").html(SteedosTable.getThead(field, this.data.atts.editable));
    $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), this.data.atts.editable));
    str = t("steedos_table_add_item");
    addItemTr = "<tr class='add-item-tr'><td colspan='" + keys.length + "'><i class='ion ion-plus-round'></i>" + str + "</td></tr>";

    if (this.data.atts.editable) {
      $("tfoot[name='" + field + "Tfoot']").append(addItemTr);
    }
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"views":{"instance":{"_image_sign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_image_sign.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
ImageSign.helpers = {
  spaceUserSign: function (userId) {
    var space, spaceUserSign;
    space = "";

    if (Meteor.isServer) {
      space = Template.instance().view.template.steedosData.space;
    } else {
      space = Session.get("spaceId");
    }

    spaceUserSign = db.space_user_signs.findOne({
      space: space,
      user: userId
    });
    return spaceUserSign;
  },
  imageURL: function (userId) {
    var absolute, spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(userId);
    absolute = false;

    if (Meteor.isServer) {
      absolute = Template.instance().view.template.steedosData.absolute;
    }

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      if (absolute) {
        return Meteor.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      } else {
        return Steedos.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_form.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_form.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceformTemplate.helpers = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: steedos_instance.applicant_name
    };

    if (!steedos_instance || steedos_instance.state !== "draft") {
      data.atts.disabled = true;
    }

    return data;
  },
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = "instanceform";
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  empty: function (val) {
    if (val) {
      return false;
    } else {
      return true;
    }
  },
  unempty: function (val) {
    if (val) {
      return true;
    } else {
      return false;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  unequals: function (a, b) {
    return !(a === b);
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  include: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  formatDate: function (date, options) {
    if (!date) {
      return "";
    }

    if (options && typeof options === 'string') {
      options = JSON.parse(options);
    }

    if (!options.format) {
      options = {
        format: "YYYY-MM-DD HH:mm"
      };
    }

    return moment(date).format(options.format);
  },
  traces: function () {
    var flow, instance, locale, ref, ref1, ref2, ref3, steedosData, steps, traces;

    if (Meteor.isServer) {
      steedosData = (ref = Template.instance()) != null ? (ref1 = ref.view) != null ? (ref2 = ref1.template) != null ? ref2.steedosData : void 0 : void 0 : void 0;
      instance = steedosData != null ? steedosData.instance : void 0;
      flow = InstanceReadOnlyTemplate.getFlowVersion(instance);
      locale = steedosData != null ? steedosData.locale : void 0;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      instance = WorkflowManager.getInstance();
      flow = WorkflowManager.getInstanceFlowVersion();
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (!instance || !flow) {
      return {};
    }

    steps = flow.steps;
    traces = {};

    if ((ref3 = instance.traces) != null) {
      ref3.forEach(function (trace) {
        var approves, ref4, step;
        step = steps.findPropertyByPK("_id", trace.step);
        approves = [];

        if ((ref4 = trace.approves) != null) {
          ref4.forEach(function (approve) {
            var judge_name;

            if (trace.is_finished === true) {
              if (approve.judge === 'approved') {
                judge_name = TAPi18n.__("Instance State approved", {}, locale);
              } else if (approve.judge === 'rejected') {
                judge_name = TAPi18n.__("Instance State rejected", {}, locale);
              } else if (approve.judge === 'terminated') {
                judge_name = TAPi18n.__("Instance State terminated", {}, locale);
              } else if (approve.judge === 'reassigned') {
                judge_name = TAPi18n.__("Instance State reassigned", {}, locale);
              } else if (approve.judge === 'relocated') {
                judge_name = TAPi18n.__("Instance State relocated", {}, locale);
              } else if (approve.judge === '') {
                judge_name = "";
              } else {
                judge_name = "";
              }
            } else {
              judge_name = TAPi18n.__("Instance State pending", {}, locale);
            }

            return approves.push({
              _id: approve._id,
              handler: approve.user,
              handler_name: approve.handler_name,
              handler_organization_name: approve.handler_organization_name,
              handler_organization_fullname: approve.handler_organization_fullname,
              finish_date: approve.finish_date,
              judge: approve.judge,
              judge_name: judge_name,
              description: approve.description,
              is_finished: approve.is_finished,
              type: approve.type,
              opinion_fields_code: approve.opinion_fields_code,
              sign_field_code: approve.sign_field_code,
              is_read: approve.is_read,
              sign_show: approve.sign_show
            });
          });
        }

        if (step) {
          if (step.name in traces) {
            return traces[step.name] = traces[step.name].concat(approves);
          } else {
            return traces[step.name] = approves;
          }
        }
      });
    }

    return traces;
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  },
  table_fields: function (instance) {
    var fields, form_version;

    if (Meteor.isClient) {
      form_version = WorkflowManager.getInstanceFormVersion();
    } else {
      form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
    }

    if (form_version) {
      fields = _.clone(form_version.fields);
      fields.forEach(function (field, index) {
        var after_field, before_field, pre_fields, pre_wide_fields, td_colspan, tr_end, tr_start;
        field.tr_start = "";
        field.tr_end = "";
        td_colspan = 1;

        if ((typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) === field.code) {
          field.is_wide = true;
        }

        if (field.formula && field.type !== 'odata') {
          field.permission = "readonly";
        }

        if (Steedos.isMobile()) {
          if (field.type === 'section' || field.type === 'table') {
            field.td_colspan = 4;
          } else {
            field.td_colspan = 3;
          }

          if (index !== 0) {
            field.tr_start = "<tr>";
            return field.tr_end = "</tr>";
          }
        } else {
          pre_fields = fields.slice(0, index);
          pre_wide_fields = pre_fields.filterProperty("is_wide", true);
          tr_start = "";
          tr_end = "";
          before_field = null;
          after_field = null;

          if (index > 0) {
            before_field = fields[index - 1];
          }

          if (index < fields.length - 1) {
            after_field = fields[index + 1];
          }

          if (field.type === 'section' || field.type === 'table') {
            td_colspan = 4;
          } else if (field.is_wide) {
            td_colspan = 3;
          } else {
            if (before_field && after_field && before_field.is_wide && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field === null) {
              field.is_wide = true;
              td_colspan = 3;
            }
          }

          field.td_colspan = td_colspan;

          if (index === 0) {
            tr_start = "<tr>";
          } else {
            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 || field.is_wide) {
              if (field.type === 'table') {
                tr_start = "<tr class = \"tr-child-table\">";
              } else {
                tr_start = "<tr>";
              }
            }
          }

          field.tr_start = tr_start;

          if (index + 1 === fields.length || field.type === 'section' || field.type === 'table' || field.is_wide) {
            tr_end = "</tr>";
          }

          if ((pre_fields.length + pre_wide_fields.length) % 2 !== 0) {
            tr_end = "</tr>";
          }

          return field.tr_end = tr_end;
        }
      });
      return fields;
    }
  },
  sort_approve: function (approves, order) {
    if (!approves) {
      return [];
    }

    if (!approves instanceof Array) {
      return [];
    } else {
      if (order === 'desc') {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p2 - _p1;
        });
      } else {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p1 - _p2;
        });
      }
    }

    return approves;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  getField: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;

    if (form_version) {
      return form_version.fields.findPropertyByPK("code", code);
    }
  },
  getValue: function (code) {
    var form_version, instance, locale, utcOffset, values;
    instance = Template.instance().view.template.steedosData.instance;
    form_version = Template.instance().view.template.steedosData.form_version;
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    values = instance.values || {};

    if (Meteor.isClient) {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    return InstanceReadOnlyTemplate.getValue(values[code], form_version.fields.findPropertyByPK("code", code), locale, utcOffset);
  },
  getLabel: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, code);
  },
  getCfClass: function (field) {
    if ((field != null ? field.type : void 0) === "input" && (field != null ? field.is_textarea : void 0)) {
      return "cfTextarea";
    }
  },
  getTableThead: function (field) {
    return SteedosTable.getThead(field, false);
  },
  getTableBody: function (field) {
    var instance, tableValue, values;

    if (Meteor.isServer) {
      instance = Template.instance().view.template.steedosData.instance;
      values = instance.values || {};
    } else {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    tableValue = values[field.code];
    return SteedosTable.getTbody(field.sfields.getProperty("code"), field, tableValue, false);
  },
  showLabel: function (field) {
    var templateData;
    templateData = Template.instance().data;

    if (templateData.label === false) {
      return false;
    }

    return true;
  },
  isOpinionField: function (field) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field.formula);
  },
  isOpinionField_from_string: function (field_formula) {
    return InstanceSignText.isOpinionField_from_string(field_formula);
  },
  includesOpinionField: function (form, form_version) {
    var field_formulas, fields, ref;
    field_formulas = new Array();
    fields = ((ref = db.form_versions.findOne({
      _id: form_version,
      form: form
    })) != null ? ref.fields : void 0) || [];
    fields.forEach(function (f) {
      var ref1;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref1 = f.fields) != null ? ref1.forEach(function (f1) {
          return field_formulas.push(f1.formula);
        }) : void 0 : void 0;
      } else {
        return field_formulas.push(f.formula);
      }
    });
    return _.some(field_formulas, function (field_formula) {
      return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
    });
  },
  getOpinionFieldStepsName: function (field_formula, top_keywords) {
    var foo1, opinionFields;
    opinionFields = new Array();

    if (InstanceformTemplate.helpers.isOpinionField_from_string(field_formula)) {
      if (field_formula) {
        foo1 = field_formula.split(";");
        foo1.forEach(function (foo) {
          var json_formula, ref, ref1, s1, sf;
          json_formula = {};

          try {
            json_formula = eval("(" + foo + ")");
          } catch (error1) {
            json_formula = {};
          }

          if (json_formula != null ? json_formula.yijianlan : void 0) {
            sf = {};
            sf.stepName = json_formula.yijianlan.step;
            sf.image_sign = json_formula.yijianlan.image_sign || false;
            sf.only_cc_opinion = json_formula.yijianlan.only_cc || false;
            sf.default_description = json_formula.yijianlan["default"];
            sf.only_handler = json_formula.yijianlan.only_handler;
            sf.top_keywords = json_formula.yijianlan.top_keywords || top_keywords;
            return opinionFields.push(sf);
          } else if ((field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1) {
            sf = {
              only_cc_opinion: false,
              image_sign: false,
              top_keywords: top_keywords
            };

            if (foo.indexOf("{signature.") > -1) {
              sf.image_sign = true;
              foo = foo.replace("{signature.", "");
            }

            s1 = foo.replace("{", "").replace("}", "");

            if (s1.split(".").length > 1) {
              sf.stepName = s1.split(".")[1];

              if (opinionFields.filterProperty("stepName", sf.stepName).length > 0) {
                if ((ref = opinionFields.findPropertyByPK("stepName", sf.stepName)) != null) {
                  ref.only_cc_opinion = true;
                }
              } else {
                if (s1.split(".").length > 2) {
                  if (((ref1 = s1.split(".")[2]) != null ? ref1.toLocaleLowerCase() : void 0) === 'cc') {
                    sf.only_cc_opinion = true;
                  }
                }
              }
            }

            return opinionFields.push(sf);
          }
        });
      }
    }

    return opinionFields;
  },
  showCCOpinion: function (field) {
    var ref, ref1, ref2, s1;

    if (((ref = field.formula) != null ? ref.indexOf("{traces.") : void 0) > -1 || ((ref1 = field.formula) != null ? ref1.indexOf("{signature.traces.") : void 0) > -1) {
      s1 = field.formula.replace("{signature.", "").replace("{", "").replace("}", "");

      if (s1.split(".").length > 2) {
        if (((ref2 = s1.split(".")[2]) != null ? ref2.toLocaleLowerCase() : void 0) === 'cc') {
          return true;
        }
      }
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  f_label: function (that) {
    return that.name || that.code;
  }
};

if (Meteor.isServer) {
  InstanceformTemplate.helpers.steedos_form = function () {
    return this.form_version;
  };

  InstanceformTemplate.helpers.isSection = function (code) {
    var form_version;
    form_version = this.form_version;
    return form_version.fields.findPropertyByPK("code", code).type === 'section';
  };

  InstanceformTemplate.helpers.doc_values = function () {
    var instance;
    instance = this.instance;
    return instance.values;
  };

  InstanceformTemplate.helpers.applicantContext = function () {
    var data, instance;
    instance = this.instance;
    return data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: instance.applicant_name
    };
  };

  InstanceformTemplate.helpers.instance = function () {
    return this.instance;
  };

  InstanceformTemplate.helpers.fields = function () {
    var form_version;
    form_version = this.form_version;

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  };

  InstanceformTemplate.helpers.form_types = function () {
    return "disabled";
  };

  Template.registerHelper("afFieldLabelText", function (op) {
    var form_version, ref;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, op != null ? (ref = op.hash) != null ? ref.name : void 0 : void 0);
  });

  InstanceformTemplate.helpers._t = function (key) {
    var locale;
    locale = this.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceformTemplate.helpers.ins_attach_download_url = function (_id, absolute) {
    if (absolute) {
      return Meteor.absoluteUrl("/api/files/instances/" + _id + "?download=true");
    } else {
      return "/api/files/instances/" + _id + "?download=true";
    }
  };

  InstanceformTemplate.helpers.options = function (field) {
    var options, ref, rev;
    options = field != null ? (ref = field.options) != null ? ref.split("\n") : void 0 : void 0;
    rev = [];

    if (options != null) {
      options.forEach(function (item) {
        return rev.push({
          label: item,
          value: item
        });
      });
    }

    return rev;
  };

  InstanceformTemplate.helpers.getPermissions = function (code) {
    var ref;

    if (!((ref = Template.instance().view.template.steedosData.startStepEditableFields) != null ? ref.includes(code) : void 0)) {
      return "readonly disabled";
    }

    return "";
  };
}

InstanceformTemplate.events = {
  'change .form-control,.checkbox input,.af-radio-group input,.af-checkbox-group input': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'typeahead:change .form-control': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'click .cfTextarea a': function (event) {
    event.preventDefault();
    return Steedos.openWindow(event.target.href);
  }
};

InstanceformTemplate.onCreated = function () {
  var compiled, e, instance, instanceCustomTemplate, instanceView, renderFunction, template;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  template = TemplateManager.getTemplate(instance);

  try {
    compiled = SpacebarsCompiler.compile(template, {
      isBody: true
    });
  } catch (error1) {
    e = error1;
    console.log("Instance Template Error", e);
    compiled = SpacebarsCompiler.compile("", {
      isBody: true
    });
  }

  renderFunction = eval(compiled);
  instanceView = new Blaze.View("custom_instance_template", renderFunction);
  instanceCustomTemplate = new Blaze.Template(instanceView.name, renderFunction);
  Template.instance_custom_template = instanceCustomTemplate;
  return Template.instance_custom_template.helpers(InstanceformTemplate.helpers);
};

InstanceformTemplate.onRendered = function () {
  var currentApprove, currentStep, form_version, formula_fields, instance, instanceNumberFields, judge, ref;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  if ((ref = $("input[name='ins_applicant']")[0]) != null) {
    ref.dataset.values = instance.applicant;
  }

  $("input[name='ins_applicant']").val(instance.applicant_name);
  ApproveManager.error = {
    nextSteps: '',
    nextStepUsers: ''
  };

  if (Session.get("box") === 'inbox' || Session.get("box") === 'draft') {
    InstanceEvent.initEvents(instance.flow);
  }

  if (!ApproveManager.isReadOnly()) {
    currentApprove = InstanceManager.getCurrentApprove();
    instanceNumberFields = $("[data-formula]", $("#instanceform"));
    instanceNumberFields.each(function () {
      var element, schemaKey;
      schemaKey = this.dataset.schemaKey;
      element = $(this);

      if (!$(this).val() && schemaKey && Session.get("instanceId")) {
        return Meteor.call('getInstanceValues', Session.get("instanceId"), function (error, result) {
          var key, ref1;

          if (error) {
            toastr.error(error.reason);
          }

          if (!result[schemaKey]) {
            key = (ref1 = element.data("formula")) != null ? ref1.replace("auto_number(", "").replace(")", "") : void 0;
            key = key.replace(/\"/g, "").replace(/\'/g, "");

            if (key.indexOf("{") > -1) {
              key = key.replace("{", "").replace("}", "");
              key = key.trim();
              key = AutoForm.getFieldValue(key, 'instanceform');
            }

            return InstanceNumberRules.instanceNumberBuilder(element, key);
          } else {
            return element != null ? element.val(result[schemaKey]).trigger("change") : void 0;
          }
        });
      }
    });
    judge = currentApprove.judge;
    currentStep = InstanceManager.getCurrentStep();
    form_version = WorkflowManager.getInstanceFormVersion();
    formula_fields = Form_formula.getFormulaFieldVariable("Form_formula.field_values", form_version.fields);
    Form_formula.run("", "", formula_fields, AutoForm.getFormValues("instanceform").insertDoc, form_version.fields);
    return Session.set("instance_form_values", {
      instanceId: instance._id,
      values: AutoForm.getFormValues("instanceform").insertDoc
    });
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_attachments.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_attachments.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
InstanceAttachmentTemplate.helpers = {
  showMainTitle: function () {
    return Template.instance().workflowMainAttachTitle.get();
  },
  enabled_add_main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    var current_step = InstanceManager.getCurrentStep();
    if (!current_step) return false; // 分发的正文或者附件不显示转为pdf按钮
    // 如果有正文权限则为正文，否则分发为附件
    // 分发的附件不允许修改 删除 新增版本

    var main_attach_count = cfs.instances.find({
      'metadata.instance': ins._id,
      'metadata.current': true,
      'metadata.main': true
    }).count();
    var distribute_main_attach_count = 0;

    if (ins.distribute_from_instance) {
      var start_step = InstanceManager.getStartStep();

      if (start_step.can_edit_main_attach) {
        var distribute_main_attach_count = cfs.instances.find({
          'metadata.instance': ins.distribute_from_instance,
          'metadata.current': true,
          'metadata.main': true
        }).count();
      }
    }

    if (current_step.can_edit_main_attach == true && main_attach_count < 1 && distribute_main_attach_count < 1) {
      return true;
    } // 正文最多只能有一个


    if (main_attach_count >= 1 || distribute_main_attach_count >= 1) {
      return false;
    } // 开始节点并且设置了可以上传正文才显示上传正文的按钮


    var current_step = InstanceManager.getCurrentStep();
    if (current_step && current_step.step_type == "start" && current_step.can_edit_main_attach == true) return true;
    return false;
  },
  enabled_edit_normal_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;
    var flow = WorkflowManager.getFlow(ins.flow);
    if (!flow) return false; // 分发后的 附件，不可以编辑/删除，也不让上传新的附件, 流程列表：添加属性 ‘被分发后是否允许上传附件’ #1837

    if (ins.distribute_from_instance && !flow.upload_after_being_distributed) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    if (InstanceManager.isCC(ins)) {
      var step = InstanceManager.getCCStep();
      if (step && (step.can_edit_normal_attach == true || step.can_edit_normal_attach == undefined)) return true;
    } else {
      var current_step = InstanceManager.getCurrentStep();
      if (current_step && (current_step.can_edit_normal_attach == true || current_step.can_edit_normal_attach == undefined)) return true;
    }

    return false;
  },
  main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var start_step = InstanceManager.getStartStep(); // 如果是被分发的申请单并且有修改正文的权限，则优先显示原申请单文件

    var main_attach = null;

    if (ins.distribute_from_instance && start_step.can_edit_main_attach == true) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins.distribute_from_instance,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    if (!main_attach) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins._id,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    return main_attach;
  },
  normal_attachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var selector = {
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      }
    };
    var atts = new Array();

    if (ins.distribute_from_instance) {
      // 如果是被分发的申请单，则显示原申请单文件, 如果选择了将原表单存储为附件也要显示, 同时也要显示新上传的附件
      var dfis = _.clone(ins.distribute_from_instances) || [];
      dfis.push(ins._id);
      selector['metadata.instance'] = {
        $in: dfis
      };
      selector["$or"] = [{
        "metadata.instance": ins._id
      }, {
        "metadata.instance": {
          $in: ins.distribute_from_instances
        },
        "metadata.is_private": {
          $ne: true
        }
      }]; // 如果原申请单有正文但是分发后没有正文权限，则原申请单正文显示在附件栏

      var start_step = InstanceManager.getStartStep();

      if (start_step && start_step.can_edit_main_attach != true) {
        var distribute_main = cfs.instances.findOne({
          'metadata.instance': {
            $in: ins.distribute_from_instances
          },
          'metadata.current': true,
          'metadata.main': true
        });

        if (distribute_main) {
          var firstVersionMain = cfs.instances.findOne(distribute_main.metadata.parent);
          distribute_main.attachmentUploadedAt = firstVersionMain ? firstVersionMain.uploadedAt : distribute_main.uploadedAt;
          atts.push(distribute_main);
        }
      }
    } else {
      selector['metadata.instance'] = ins._id;
    }

    cfs.instances.find(selector).forEach(function (c) {
      var firstVersion = cfs.instances.findOne(c.metadata.parent);
      c.attachmentUploadedAt = firstVersion ? firstVersion.uploadedAt : c.uploadedAt;
      atts.push(c);
    });
    return _.sortBy(atts, 'attachmentUploadedAt');
  },
  showAttachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false; // 如果是被分发的申请单，则显示原申请单文件 和分发后申请单文件

    var instanceIds = _.clone(ins.distribute_from_instances) || [];
    instanceIds.push(ins._id);
    var attachments_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).count();
    if (Session && Session.get("instancePrint") && attachments_count < 1) return false;
    if (Session.get("box") == "draft" || Session.get("box") == "inbox" || attachments_count > 0) return true;else return false;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  _: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  }
};

if (Meteor.isServer) {
  InstanceAttachmentTemplate.helpers._t = function (key) {
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceAttachmentTemplate.helpers.enabled_add_main_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.enabled_edit_normal_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.main_attachment = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var attachment = cfs.instances.findOne({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    });
    return attachment;
  };

  InstanceAttachmentTemplate.helpers.normal_attachments = function () {
    var steedosData = Template.instance().view.template.steedosData;
    var instance = steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      },
      $or: [{
        'metadata.is_private': {
          $ne: true
        }
      }, {
        'metadata.is_private': true,
        "metadata.owner": steedosData.userId
      }]
    }).fetch();
    return attachments;
  };

  InstanceAttachmentTemplate.helpers.showAttachments = function () {
    var instance = Template.instance().view.template.steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).fetch();

    if (attachments && attachments.length > 0) {
      return true;
    }

    return false;
  };

  InstanceAttachmentTemplate.helpers.showMainTitle = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var main_attach_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    }).count();
    return main_attach_count > 0;
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_sign_text.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_sign_text.coffee                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceSignText.helpers = {
  show: function (stepName) {
    var instance, myApprove, myTrace, ref;

    if (Meteor.isClient) {
      if (Session.get('instancePrint')) {
        return false;
      }

      if (InstanceManager.isInbox()) {
        myApprove = InstanceManager.getCurrentApprove();

        if (myApprove) {
          instance = WorkflowManager.getInstance();
          myTrace = instance != null ? (ref = instance.traces) != null ? ref.findPropertyByPK("_id", myApprove.trace) : void 0 : void 0;
          return (myTrace != null ? myTrace.name : void 0) === stepName;
        }
      }
    }

    return false;
  },
  defaultDescription: function () {
    return Template.instance().data.default_description;
  },
  traces: function () {
    return InstanceformTemplate.helpers.traces();
  },
  trace: function (stepName, only_cc_opinion, image_sign, top_keywords) {
    var approve_sort, approves, approvesGroup, approves_sorted, completed_date, hasNext, haveDescriptionApprove, instance, is_completed, ref, ref1, ref2, traces;
    instance = InstanceformTemplate.helpers.instance();
    is_completed = (instance != null ? instance.state : void 0) === "completed";
    completed_date = is_completed ? (ref = _.last(instance.traces)) != null ? (ref1 = ref.finish_date) != null ? ref1.getTime() : void 0 : void 0 : 0;

    if (is_completed && instance.finish_date) {
      completed_date = (ref2 = instance.finish_date) != null ? ref2.getTime() : void 0;
    }

    traces = InstanceformTemplate.helpers.traces();
    approves = _.clone(traces[stepName]);

    approve_sort = function (approves, top_keywords) {
      var approves_sorted, top_approves;
      approves_sorted = _.sortBy(approves, function (approve) {
        return -(approve.finish_date || new Date()).getTime();
      });

      if (top_keywords) {
        top_approves = new Array();
        top_keywords.split(",").forEach(function (key) {
          return top_approves = _.union(top_approves, _.filter(approves_sorted, function (approve) {
            var ref3;
            return (approve != null ? (ref3 = approve.handler_name) != null ? ref3.indexOf(key) : void 0 : void 0) > -1;
          }));
        });
        top_approves = _.sortBy(top_approves, function (top_approve) {
          return -(top_approve.finish_date || new Date()).getTime();
        });
        approves_sorted = _.union(top_approves, approves_sorted);
      }

      return approves_sorted || [];
    };

    approves = _.filter(approves, function (a) {
      return a.type !== "forward" && a.type !== "distribute" && a.type !== "terminated";
    });

    if (only_cc_opinion) {
      approves = approves != null ? approves.filterProperty("type", "cc") : void 0;
    }

    approves_sorted = approve_sort(approves, top_keywords);
    approvesGroup = _.groupBy(approves, "handler");

    hasNext = function (approve, approvesGroup) {
      var handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      return _.indexOf(handlerApproves, approve) + 1 < handlerApproves.length;
    };

    haveDescriptionApprove = function (approve, approvesGroup) {
      var descriptionApproves, handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      descriptionApproves = _.filter(handlerApproves, function (a) {
        if (a.description) {
          return true;
        }

        return false;
      });

      if (descriptionApproves.length === 0) {
        return false;
      }

      return true;
    };

    approves_sorted.forEach(function (approve) {
      if (approve.sign_show !== false && (approve.description || !approve.description && !hasNext(approve, approvesGroup))) {
        if (approve.judge !== 'terminated') {
          return approve._display = true;
        }
      }
    });
    approves_sorted = _.filter(approves_sorted, function (a) {
      var ref3;

      if (is_completed) {
        return a._display === true && a.is_finished && ((ref3 = a.finish_date) != null ? ref3.getTime() : void 0) <= completed_date;
      } else {
        return a._display === true;
      }
    });
    return approves_sorted;
  },
  include: function (a, b) {
    return InstanceformTemplate.helpers.include(a, b);
  },
  unempty: function (val) {
    return InstanceformTemplate.helpers.unempty(val);
  },
  formatDate: function (date, options) {
    if (!options) {
      options = {
        "format": "YYYY-MM-DD"
      };
    }

    return InstanceformTemplate.helpers.formatDate(date, options);
  },
  isMyApprove: function (approve, only_cc_opinion) {
    var currentApprove, ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
      currentApprove = InstanceManager.getCurrentApprove();

      if (!(approve != null ? approve._id : void 0)) {
        approve = currentApprove;
      }

      if (approve._id === (currentApprove != null ? currentApprove._id : void 0) && (currentApprove != null ? currentApprove.type : void 0) === 'cc' && Template.instance().data.name) {
        if (_.indexOf(currentApprove != null ? currentApprove.opinion_fields_code : void 0, Template.instance().data.name) > -1) {
          return true;
        } else {
          return false;
        }
      }

      if (!((currentApprove != null ? currentApprove.type : void 0) === 'cc') && only_cc_opinion) {
        return false;
      }

      if (currentApprove && approve._id === currentApprove._id) {
        return true;
      }
    }

    return false;
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1, ref2, ref3;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!myApprove.sign_field_code || myApprove.sign_field_code === ((ref2 = Template.instance()) != null ? (ref3 = ref2.data) != null ? ref3.name : void 0 : void 0)) {
            if (!Session.get("instance_my_approve_description")) {
              return (myApprove != null ? myApprove.description : void 0) || "";
            }

            return Session.get("instance_my_approve_description");
          }
        }
      }
    }
  },
  now: function () {
    return new Date();
  },
  isReadOnly: function () {
    if (Meteor.isClient) {
      return ApproveManager.isReadOnly();
    }

    return false;
  },
  isOpinionOfField: function (approve) {
    if (approve.type === "cc" && Template.instance().data.name) {
      if (Template.instance().data.name === approve.sign_field_code) {
        return true;
      } else {
        return false;
      }
    } else {
      return true;
    }
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  steps: function (field_formula, step, only_cc_opinion, image_sign) {
    var ref, ref1, ref2, steps;
    steps = [];

    if (!step) {
      if (!field_formula) {
        field_formula = (ref = WorkflowManager.getInstanceFormVersion()) != null ? (ref1 = ref.fields) != null ? ref1.findPropertyByPK("code", this.name).formula : void 0 : void 0;
      }

      steps = InstanceformTemplate.helpers.getOpinionFieldStepsName(field_formula, (ref2 = Template.instance()) != null ? ref2.data.top_keywords : void 0);
    } else {
      steps = [{
        stepName: step,
        only_cc_opinion: only_cc_opinion,
        image_sign: image_sign
      }];
    }

    return steps;
  },
  imageSignData: function (handler) {
    return {
      user: handler
    };
  },
  showSignImage: function (handler, image_sign) {
    var spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if ((spaceUserSign != null ? spaceUserSign.sign : void 0) && image_sign) {
      return true;
    } else {
      return false;
    }
  },
  getLastSignApprove: function () {
    var ins;
    ins = WorkflowManager.getInstance();
    return _.last(TracesManager.getHandlerSignShowApproves(ins, Meteor.userId()));
  },
  lastMyApproveDescription: function () {
    var approves, currentStep, ref, traces;
    traces = InstanceformTemplate.helpers.traces();
    currentStep = InstanceManager.getCurrentStep();
    approves = _.clone(traces[currentStep.name]);
    approves = approves.filterProperty("handler", Meteor.userId());

    if (approves.length > 1) {
      return (ref = approves[approves.length - 2]) != null ? ref.description : void 0;
    }

    return "";
  },
  showApprove: function (approve) {
    var ref, ref1;

    if (!approve.sign_field_code || approve.sign_field_code === ((ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0)) {
      if (approve != null ? approve.is_read : void 0) {
        if (approve.is_finished) {
          return ["approved", "rejected", "submitted", "readed"].includes(approve.judge);
        } else {
          return true;
        }
      }
    }

    return false;
  },
  judge_description: function (judge) {
    return t(judge + "_description");
  },
  is_approved: function (judge) {
    return "approved" === judge;
  },
  is_rejected: function (judge) {
    return "rejected" === judge;
  },
  is_readed: function (judge) {
    return ["approved", "rejected", "submitted", "readed"].includes(judge);
  },
  addClass: function () {
    var name, ref, ref1;
    name = (ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0;
    setTimeout(function () {
      var e, element;

      try {
        element = $(".automatic.opinion-field-" + name);

        if (element.length > 0) {
          if (element != null ? element.is("td") : void 0) {
            return element.addClass('field-editable');
          } else {
            return $(".instance-sign", element).addClass('field-editable');
          }
        }
      } catch (error) {
        e = error;
        return console.log(e);
      }
    }, 1);
    return '';
  }
};

if (Meteor.isServer) {
  InstanceSignText.helpers.defaultDescription = function () {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return Template.instance().data.default_description || TAPi18n.__("instance_default_opinion", {}, locale);
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_help.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_help.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesTemplate.helpers = {
  equals: function (a, b) {
    return a === b;
  },
  empty: function (a) {
    if (a) {
      return a.toString().trim().length < 1;
    } else {
      return true;
    }
  },
  unempty: function (a) {
    if (a) {
      return a.toString().trim().length > 0;
    } else {
      return false;
    }
  },
  append: function (a, b) {
    return a + b;
  },
  dateFormat: function (date) {
    if (Steedos.isMobile() && (date != null ? date.getFullYear() : void 0) === new Date().getFullYear()) {
      return $.format.date(new Date(date), "MM-dd HH:mm");
    } else {
      return $.format.date(new Date(date), "yyyy-MM-dd HH:mm");
    }
  },
  getStepName: function (stepId) {
    var step;
    step = WorkflowManager.getInstanceStep(stepId);

    if (step) {
      return step.name;
    }

    return null;
  },
  showDeleteButton: function (approved) {
    if (approved && approved.type === 'cc' && approved.from_user === Meteor.userId() && approved.is_finished !== true && !Session.get("instancePrint")) {
      return true;
    }

    return false;
  },
  isShowModificationButton: function (approved) {
    var approve_admins, isShow, ref, ref1, ref2;
    approve_admins = (ref = Meteor.settings) != null ? (ref1 = ref["public"]) != null ? (ref2 = ref1.workflow) != null ? ref2.approve_admins : void 0 : void 0 : void 0;

    if (approve_admins != null ? approve_admins.length : void 0) {
      isShow = approve_admins != null ? approve_admins.contains(Meteor.userId()) : void 0;
    }

    if (!isShow) {
      return false;
    }

    return approved.handler === Meteor.userId();
  },
  isEditing: function () {
    var ref;
    return (ref = Template.instance().is_editing) != null ? ref.get() : void 0;
  },
  isShowDescription: function (approved) {
    var ref;

    if (TracesTemplate.helpers.isShowModificationButton(approved)) {
      return true;
    }

    return ((ref = approved.description) != null ? ref.toString().trim().length : void 0) > 0;
  },
  isCC: function (approved) {
    if (approved && approved.type === 'cc') {
      return true;
    }

    return false;
  },
  getApproveStatusIcon: function (approveJudge) {
    var approveStatusIcon;
    approveStatusIcon = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusIcon = 'ion ion-checkmark-round';
        break;

      case 'rejected':
        approveStatusIcon = 'ion ion-close-round';
        break;

      case 'terminated':
        approveStatusIcon = 'fa fa-ban';
        break;

      case 'reassigned':
        approveStatusIcon = 'ion ion-android-contact';
        break;

      case 'relocated':
        approveStatusIcon = 'ion ion-arrow-shrink';
        break;

      case 'retrieved':
        approveStatusIcon = 'fa fa-undo';
        break;

      default:
        approveStatusIcon = '';
        break;
    }

    return approveStatusIcon;
  },
  getApproveStatusText: function (approveJudge) {
    var approveStatusText, locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    approveStatusText = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusText = TAPi18n.__('Instance State approved', {}, locale);
        break;

      case 'rejected':
        approveStatusText = TAPi18n.__('Instance State rejected', {}, locale);
        break;

      case 'terminated':
        approveStatusText = TAPi18n.__('Instance State terminated', {}, locale);
        break;

      case 'reassigned':
        approveStatusText = TAPi18n.__('Instance State reassigned', {}, locale);
        break;

      case 'relocated':
        approveStatusText = TAPi18n.__('Instance State relocated', {}, locale);
        break;

      case 'retrieved':
        approveStatusText = TAPi18n.__('Instance State retrieved', {}, locale);
        break;

      case 'returned':
        approveStatusText = TAPi18n.__('Instance State returned', {}, locale);
        break;

      case 'readed':
        approveStatusText = TAPi18n.__('Instance State readed', {}, locale);
        break;

      default:
        approveStatusText = '';
        break;
    }

    return approveStatusText;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!Session.get("instance_my_approve_description")) {
            return (myApprove != null ? myApprove.description : void 0) || "";
          }

          return Session.get("instance_my_approve_description");
        }
      }
    }
  },
  isForward: function (approved) {
    if (approved && approved.type === 'forward') {
      return true;
    }

    return false;
  },
  showForwardDeleteButton: function (approve) {
    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'forward' && approve.from_user === Meteor.userId() && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      return true;
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  isDistribute: function (approve) {
    if (approve && approve.type === 'distribute') {
      return true;
    }

    return false;
  },
  showDistributeDeleteButton: function (approve) {
    var ins;

    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'distribute' && !Session.get("instancePrint") && approve.judge !== 'terminated' && Steedos.isLegalVersion('', "workflow.enterprise")) {
      ins = db.instances.findOne({
        _id: approve.instance
      }, {
        fields: {
          flow: 1,
          space: 1
        }
      });

      if (ins && ins.flow && ins.space) {
        if (WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, Meteor.userId())) {
          return true;
        }
      }

      if (approve.from_user === Meteor.userId()) {
        return true;
      }
    }

    return false;
  },
  finishDateSchema: function () {
    if (Steedos.isAndroidOrIOS()) {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "datetime-local"
          },
          optional: false,
          type: Date
        }
      });
    } else {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "bootstrap-datetimepicker",
            readonly: true,
            dateTimePickerOptions: {
              format: "YYYY-MM-DD HH:mm",
              ignoreReadonly: true,
              locale: Session.get("TAPi18n::loaded_lang"),
              widgetPositioning: {
                horizontal: 'right'
              }
            }
          },
          optional: false,
          type: Date
        }
      });
    }
  },
  finishDateValues: function () {
    return {
      finish_date: this.finish_date
    };
  },
  /*
     	此函数用于控制是否显示traces view
     	true: 显示traces view,签核历程按钮点击后是直接定位到traces view
     	false: 不显示traces view，签核历程按钮点击后,以Modal 方式显示traces view
   */showTracesView: function (form, form_version) {
    var ref, show_modal_traces_list;
    show_modal_traces_list = ((ref = db.space_settings.findOne({
      space: Session.get("spaceId"),
      key: "show_modal_traces_list"
    })) != null ? ref.values : void 0) || false;
    return !show_modal_traces_list;
  },
  getInstanceStateText: function (instance_id) {
    var ins, locale, text;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return TAPi18n.__('instance_deleted', {}, locale);
    }

    text = '';

    if (ins.state === 'completed') {
      text = TAPi18n.__('completed', {}, locale);
    } else if (ins.state === 'pending') {
      text = TAPi18n.__('pending', {}, locale);
    } else if (ins.state === 'draft') {
      if (ins.is_read) {
        text = TAPi18n.__('instance_approve_read', {}, locale);
      } else {
        text = TAPi18n.__('instance_approve_not_yet_handled', {}, locale);
      }
    }

    return text;
  },
  getInstanceStateColor: function (instance_id) {
    var cla, ins;
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return "";
    }

    cla = '';

    if (ins.state === 'draft') {
      if (ins.is_read) {
        cla = 'blue';
      } else {
        cla = 'red';
      }
    }

    return cla;
  },
  firstTrace: function (index) {
    return index === 0;
  },
  last_distribute_from: function (instance_id) {
    var dis_info, ins, user;
    ins = db.instances.findOne({
      _id: instance_id,
      distribute_from_instance: {
        $exists: true
      }
    }, {
      fields: {
        created: 1,
        created_by: 1
      }
    });

    if (ins) {
      dis_info = {};
      user = {};

      if (Meteor.isClient) {
        user = UUflow_api.getNameForUser(ins.created_by);
      } else if (Meteor.isServer) {
        user = db.users.findOne({
          _id: ins.created_by
        }, {
          fields: {
            name: 1
          }
        });
      }

      if (user.name) {
        dis_info.from_user_name = user.name;
        dis_info.created = ins.created;
      }

      if (!_.isEmpty(dis_info)) {
        return dis_info;
      }
    }
  },
  isCCOrDistributeOrForwardTerminated: function (approve) {
    if ((approve.type === 'cc' || approve.type === 'distribute' || approve.type === 'forward') && approve.judge === 'terminated') {
      return true;
    }

    return false;
  },
  judgeTerminated: function (judge) {
    return judge === 'terminated';
  },
  instanceExists: function (instance_id) {
    return !!db.instances.find(instance_id).count();
  },
  agentDescription: function (userName) {
    var locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    return TAPi18n.__('process_delegation_rules_description', {
      userName: userName
    }, locale);
  },
  traceName: function (instance_id, traceId) {
    var ref, ref1;
    return (ref = _.find((ref1 = db.instances.findOne(instance_id, {
      fields: {
        traces: 1
      }
    })) != null ? ref1.traces : void 0, function (trace) {
      return trace._id === traceId;
    })) != null ? ref.name : void 0;
  }
};

if (Meteor.isServer) {
  TracesTemplate.helpers.dateFormat = function (date) {
    var utcOffset;

    if (date) {
      utcOffset = Template.instance().view.template.steedosData.utcOffset;
      return InstanceReadOnlyTemplate.formatDate(date, utcOffset);
    }
  };

  TracesTemplate.helpers._t = function (key) {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  TracesTemplate.helpers.showDeleteButton = function (approved) {
    return false;
  };
}

TracesTemplate.events = {
  'click .cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    event.stopPropagation();

    if (event.currentTarget.dataset.calling * 1 !== 1) {
      event.currentTarget.dataset.calling = 1;
      $("i", event.currentTarget).addClass("fa-spin");
      instanceId = Session.get('instanceId');
      approveId = event.target.dataset.approve;
      $("body").addClass("loading");
      Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
        $("body").removeClass("loading");

        if (err) {
          toastr.error(err);
          event.currentTarget.dataset.calling = 0;
          $("i", event.currentTarget).removeClass("fa-spin");
        }

        if (result === true) {
          toastr.success(TAPi18n.__("remove_cc_approve"));

          if ($(".instance-trace-detail-modal").length) {
            Modal.hide("instance_trace_detail_modal");
          }
        }
      });
    }
  },
  'click .instance-trace-detail-modal .btn-cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    $("body").addClass("loading");
    Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(err);
      }

      if (result === true) {
        toastr.success(TAPi18n.__("remove_cc_approve"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .approve-item,.approve-description': function (event, template) {
    return Modal.show("instance_trace_detail_modal", this);
  },
  'taphold .approve-item,.approve-description': function (event, template) {
    return Modal.show("instance_trace_detail_modal", this);
  },
  'tapend .approve-item,.approve-description': function (event, template) {
    event.stopPropagation();
    event.preventDefault();
    return false;
  },
  'click .instance-trace-detail-modal .btn-forward-approve-remove': function (event, template) {
    var approveId, instanceId, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    $("body").addClass("loading");
    Meteor.call('forward_remove', instanceId, traceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(TAPi18n.__("instance_approve_forward_remove_success"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-forward-instance-look': function (event, template) {
    var forward_instance, forward_space;
    forward_space = event.target.dataset.forwardspace;
    forward_instance = event.target.dataset.forwardinstance;
    return Steedos.openWindow(Steedos.absoluteUrl("workflow/space/" + forward_space + "/view/readonly/" + forward_instance));
  },
  'click .btn-modification': function (event, template) {
    template.is_editing.set(!template.is_editing.get());

    if (!Steedos.isAndroidOrIOS()) {
      return Tracker.afterFlush(function () {
        return $("#instance_trace_detail_modal #finish_input").on("dp.show", function () {
          return $(".modal-body").scrollTop(100);
        });
      });
    }
  },
  'click .btn-cancelBut': function (event, template) {
    return template.is_editing.set(!template.is_editing.get());
  },
  'click .btn-saveBut': function (event, template) {
    var approveId, finish_input, instanceId, opinion_input, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    opinion_input = $('#opinion_input').val();
    finish_input = AutoForm.getFieldValue("finish_date", "finishDateAutoForm");
    $("body").addClass("loading");
    return Meteor.call('change_approve_info', instanceId, traceId, approveId, opinion_input, finish_input, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(t("instance_approve_modal_modificationsave"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-distribute-approve-remove': function (event, template) {
    Modal.allowMultiple = true;
    return Modal.show('cancel_distribute_modal');
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_instances.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedInstances.helpers = {
  showRelatedInstaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      if (db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).count() > 0) {
        return true;
      }

      return false;
    } else {
      return false;
    }
  },
  related_instaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      return db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).fetch();
    }
  },
  related_instace_url: function (ins) {
    var absolute;

    if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
      return '';
    }

    absolute = false;

    if (Meteor.isServer) {
      absolute = this.absolute;
    }

    if (absolute) {
      return Meteor.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    } else {
      return Steedos.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    }
  },
  _t: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  show_delete: function () {
    var current_step;

    if (!Meteor.isClient) {
      return false;
    } else {
      if (Session.get("box") === "draft" || Session.get("box") === 'inbox') {
        current_step = InstanceManager.getCurrentStep();

        if (current_step) {
          if (current_step.can_edit_main_attach || current_step.can_edit_normal_attach === true || current_step.can_edit_normal_attach === void 0) {
            return true;
          }
        }
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_records.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_records.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedRecords.helpers = {
  showRelatedRecords: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if (!ins) {
      return false;
    }

    return !_.isEmpty(ins.record_ids);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"server":{"methods":{"set_instance_step_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/set_instance_step_approve.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_instance_step_approve: function (ins_id, step_approve, stepsApprovesOptions) {
    var _keys1, _keys2, ins, keys, stepsApproves;

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        state: 1
      }
    });

    if (ins.state !== 'draft') {
      return;
    }

    _keys1 = _.keys(step_approve);
    _keys2 = _.keys(stepsApprovesOptions);
    keys = _.compact(_.union(_keys1, _keys2));
    stepsApproves = {};

    _.each(keys, function (stepId) {
      var stepApproves, stepsApproveOptions;
      stepApproves = step_approve[stepId];
      stepsApproveOptions = stepsApprovesOptions[stepId];

      if (stepApproves) {
        stepsApproves[stepId] = stepApproves;

        if (stepsApproveOptions) {
          if (_.isArray(stepApproves)) {
            stepsApproveOptions = stepApproves.concat(stepsApproveOptions);
          } else {
            stepsApproveOptions.push(stepApproves);
          }
        }
      }

      if (stepsApproveOptions) {
        return stepsApproves[stepId + '_options'] = _.uniq(stepsApproveOptions);
      }
    });

    return db.instances.update({
      _id: ins_id
    }, {
      $set: {
        step_approve: stepsApproves
      }
    });
  },
  set_instance_skip_steps: function (ins_id, stepId, action) {
    if (action === 'pull') {
      return db.instances.update({
        _id: ins_id
      }, {
        $pull: {
          skip_steps: stepId
        }
      });
    } else if (action === 'push') {
      return db.instances.update({
        _id: ins_id
      }, {
        $push: {
          skip_steps: stepId
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_instance_data.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/get_instance_data.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  get_instance_data: function (instance_id, formCached, flowCached) {
    check(instance_id, String);
    check(formCached, Boolean);
    check(flowCached, Boolean);
    var instance = db.instances.findOne(instance_id);
    if (!instance) return {
      instance: null
    };
    if (formCached && flowCached) return {
      instance: instance
    };

    if (!formCached) {
      var form = db.forms.findOne(instance.form);
      var form_version = {};

      if (form.current._id == instance.form_version) {
        form_version = form.current;
      } else {
        form_version = _.where(form.historys, {
          _id: instance.form_version
        })[0];
      }
    }

    if (!flowCached) {
      var flow = db.flows.findOne(instance.flow);
      var flow_version = {};

      if (flow.current._id == instance.flow_version) {
        flow_version = flow.current;
      } else {
        flow_version = _.where(flow.historys, {
          _id: instance.flow_version
        })[0];
      }
    }

    return {
      instance: instance,
      form_version: form_version,
      flow_version: flow_version
    };
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"save_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/save_instance.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  draft_save_instance: function (ins) {
    if (!this.userId) return;
    var result = true;
    var setObj = {};
    var index = 0;
    var ins_id = ins._id;
    var trace_id = ins.traces[0]._id;
    var approve_id = ins.traces[0].approves[0]._id;
    var description = ins.traces[0].approves[0].description;
    var next_steps = ins.traces[0].approves[0].next_steps;
    var values = ins.traces[0].approves[0].values || {};
    var applicant_id = ins.applicant;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        applicant: 1,
        state: 1,
        submitter: 1,
        traces: 1,
        form: 1,
        flow_version: 1,
        space: 1,
        flow: 1
      }
    });
    var space_id = instance.space;
    var flow_id = instance.flow;
    var form_id = instance.form;
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.'; // 判断一个instance是否为拟稿状态

    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';
    uuflowManager.isInstanceDraft(instance, lang); // 判断一个用户是否是一个instance的提交者

    uuflowManager.isInstanceSubmitter(instance, this.userId);
    var flow = db.flows.findOne(flow_id, {
      fields: {
        "current._id": 1,
        "current.form_version": 1,
        "name": 1,
        "current.steps": 1
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (flow.current._id != instance.flow_version) {
      result = "upgraded";

      var start_step = _.find(flow.current.steps, function (s) {
        return s.step_type == "start";
      }); // 流程已升级


      setObj.flow_version = flow.current._id;
      setObj.form_version = flow.current.form_version; // 存入当前最新版flow中开始节点的step_id

      setObj["traces.$.step"] = start_step._id;
      setObj["traces.$.name"] = start_step.name;
    }

    if (instance.applicant != applicant_id) {
      // 申请人已变换
      var user = db.users.findOne(applicant_id, {
        fields: {
          name: 1
        }
      });
      var applicant = db.space_users.find({
        space: space_id,
        user: applicant_id
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = applicant.fetch()[0].organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      setObj.applicant = applicant_id;
      setObj.applicant_name = user.name;
      setObj.applicant_organization = org_id;
      setObj.applicant_organization_name = organization.name;
      setObj.applicant_organization_fullname = organization.fullname;
      setObj[key_str + 'user'] = applicant_id;
      setObj[key_str + 'user_name'] = user.name;
    }

    setObj[key_str + 'values'] = values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'judge'] = 'submitted';
    setObj[key_str + 'read_date'] = new Date();

    if (result != "upgraded" && next_steps) {
      setObj[key_str + 'next_steps'] = next_steps;
    } // 计算申请单标题


    var form = db.forms.findOne({
      _id: form_id
    }, {
      fields: {
        "current.name_forumla": 1
      }
    });
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      // var iscript = name_forumla.replace(/\{/g, "(values['").replace(/\}/g, "'] || '')");
      // var rev = eval(iscript);
      setObj.name = uuflowManager.getInstanceName(ins, values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return result;
  },
  inbox_save_instance: function (approve) {
    if (!this.userId) return;
    var setObj = {};
    var index = 0;
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve.id;
    var values = approve.values;
    var next_steps = approve.next_steps;
    var description = approve.description;
    var judge = approve.judge;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        flow_version: 1,
        flow: 1,
        state: 1,
        form: 1,
        form_version: 1,
        values: 1,
        code: 1
      }
    });
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    var current_approve = _.find(current_trace.approves, function (a) {
      return a._id == approve_id;
    }); // 判断一个instance是否为审核中状态


    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';

    try {
      uuflowManager.isInstancePending(instance, lang); // 判断一个trace是否为未完成状态

      uuflowManager.isTraceNotFinished(current_trace); // 判断一个approve是否为未完成状态

      uuflowManager.isApproveNotFinished(current_approve); // 判断当前用户是否approve 对应的处理人或代理人

      uuflowManager.isHandlerOrAgent(current_approve, this.userId);
    } catch (e) {
      console.log(e.stack);
      return true;
    }

    var flow_version = instance.flow_version;
    var flow_id = instance.flow;
    var step_id = "";
    step_id = current_trace.step;
    var flow = db.flows.findOne(flow_id, {
      fields: {
        current: 1,
        historys: 1
      }
    });
    var step = null;

    if (flow.current._id == flow_version) {
      flow.current.steps.forEach(function (s) {
        if (s._id == step_id) step = s;
      });
    } else {
      flow.historys.forEach(function (h) {
        h.steps.forEach(function (s) {
          if (s._id == step_id) step = s;
        });
      });
    }

    if (!step) return false;
    var step_type = step.step_type;
    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.';
    var permissions_values = uuflowManager.getApproveValues(approve.values, step.permissions, instance.form, instance.form_version);
    var change_values = approveManager.getChangeValues(instance.values, permissions_values);
    setObj.values = _.extend(instance.values || {}, permissions_values);

    if (!_.isEmpty(change_values)) {
      values_history = current_approve.values_history || [];
      values_history.push({
        values: change_values,
        create: new Date()
      });
      setObj[key_str + 'values_history'] = values_history;
    }

    setObj[key_str + 'is_read'] = true;
    setObj[key_str + 'read_date'] = new Date();
    setObj[key_str + 'values'] = setObj.values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'next_steps'] = next_steps;

    if (step_type == "submit" || step_type == "start") {
      setObj[key_str + 'judge'] = "submitted";
    } else {
      setObj[key_str + 'judge'] = judge;
    }

    setObj.modified = new Date();
    setObj.modified_by = this.userId; // 计算申请单标题

    var form = db.forms.findOne(instance.form);
    var form_v = uuflowManager.getFormVersion(form, instance.form_version);
    var name_forumla = form_v.name_forumla;

    if (name_forumla) {
      setObj.name = uuflowManager.getInstanceName(instance, setObj.values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"trace_approve_cc.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/trace_approve_cc.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // ??? 能否传阅给当前步骤处理人 如果当前步骤是会签。
  cc_do: function (approve, cc_user_ids, description) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve._id;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        space: 1,
        traces: 1,
        cc_users: 1,
        values: 1
      }
    });
    var current_user_id = this.userId;
    var space_id = instance.space;
    var new_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    cc_user_ids.forEach(function (userId, idx) {
      var user = db.users.findOne(userId, {
        fields: {
          name: 1
        }
      });
      var space_user = db.space_users.findOne({
        space: space_id,
        user: userId
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = space_user.organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var agent = uuflowManager.getAgent(space_id, userId);
      var handler_id = userId;
      var handler_info = user;
      var handler_space_user = space_user;
      var handler_org_info = organization;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent, {
          fileds: {
            name: 1
          }
        });
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
        cc_user_ids[idx] = agent;
      }

      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': ins_id,
        'trace': trace_id,
        'is_finished': false,
        'user': userId,
        'user_name': user.name,
        'handler': handler_id,
        'handler_name': handler_info.name,
        'handler_organization': handler_space_user.organization,
        'handler_organization_name': handler_org_info.name,
        'handler_organization_fullname': handler_org_info.fullname,
        'type': 'cc',
        'start_date': new Date(),
        'is_read': false,
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'opinion_fields_code': approve.opinion_fields_code,
        'sign_field_code': approve.opinion_fields_code && approve.opinion_fields_code.length == 1 ? approve.opinion_fields_code[0] : "",
        'from_approve_id': approve_id,
        'cc_description': description
      };

      if (agent) {
        appr.agent = agent;
      }

      uuflowManager.setRemindInfo(instance.values, appr);
      new_approves.push(appr);
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj,
      $addToSet: {
        'traces.$.approves': {
          $each: new_approves
        }
      },
      $push: {
        cc_users: {
          $each: cc_user_ids
        }
      }
    });
    instance = db.instances.findOne(ins_id);
    current_user_info = db.users.findOne(current_user_id);
    pushManager.send_instance_notification("trace_approve_cc", instance, "", current_user_info, cc_user_ids);
    flow_id = instance.flow;
    approve.cc_user_ids = cc_user_ids; // 记录下本次传阅的人员ID作为hook接口中的参数
    // 如果已经配置webhook并已激活则触发

    pushManager.triggerWebhook(flow_id, instance, approve, 'cc_do', current_user_id, cc_user_ids);
    return true;
  },
  cc_read: function (approve) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var current_user_id = this.userId;

    var current_trace = _.find(instance.traces, function (t) {
      return t._id == trace_id;
    });

    var index = 0;
    current_trace.approves.forEach(function (a, idx) {
      if (a.type == 'cc' && a.handler == current_user_id && !a.is_read) {
        index = idx;
      }
    });
    setObj['traces.$.approves.' + index + '.is_read'] = true;
    setObj['traces.$.approves.' + index + '.read_date'] = new Date();
    setObj.traces = traces;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj
    });
    return true;
  },
  cc_submit: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        cc_users: 1,
        outbox_users: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.type == 'cc' && a.handler == current_user_id && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.is_finished'] = true;
            upobj['traces.$.approves.' + idx + '.is_read'] = true;
            upobj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.cost_time'] = new Date() - a.start_date;
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });

    if (current_approve) {
      var index = 0; //设置意见，意见只添加到最后一条approve中

      traces.forEach(function (t) {
        if (current_approve && t._id === current_approve.trace) {
          if (t.approves) {
            t.approves.forEach(function (a, idx) {
              if (a._id === current_approve._id) {
                a.description = description;
                index = idx;
              }
            });
          }
        }
      });
      setObj.modified = new Date();
      setObj.modified_by = this.userId;
      setObj['traces.$.approves.' + index + '.description'] = description;
      db.instances.update({
        _id: ins_id,
        'traces._id': current_approve.trace
      }, {
        $set: setObj,
        $pull: {
          cc_users: current_user_id
        },
        $addToSet: {
          outbox_users: {
            $each: [current_user_id, current_approve.user]
          }
        }
      });
      instance = db.instances.findOne(ins_id);
      current_user_info = db.users.findOne(current_user_id); //传阅提交不通知传阅者

      if (false && description && current_approve && current_approve.from_user) {
        pushManager.send_instance_notification("trace_approve_cc_submit", instance, "", current_user_info, [current_approve.from_user]);
      }

      pushManager.send_message_to_specifyUser("current_user", current_user_id);
      flow_id = instance.flow; // 如果已经配置webhook并已激活则触发

      pushManager.triggerWebhook(flow_id, instance, current_approve, 'cc_submit', current_user_id, []);
    }

    return true;
  },
  cc_remove: function (instanceId, approveId) {
    var setObj = {};
    var instance = db.instances.findOne(instanceId, {
      fields: {
        traces: 1,
        cc_users: 1
      }
    });
    var traces = instance.traces;
    var trace_id,
        remove_user_id,
        multi = false;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a._id == approveId) {
            trace_id = a.trace;
            remove_user_id = a.handler;
            setObj['traces.$.approves.' + idx + '.judge'] = 'terminated';
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.read_date'] = new Date();
          }
        });
      }
    });
    if (!trace_id || !remove_user_id) return;
    var multi = 0;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a) {
          if (a.handler == remove_user_id && a.type == 'cc' && a.is_finished == false) {
            multi++;
          }
        });
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (multi > 1) {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj
      });
    } else {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj,
        $pull: {
          cc_users: remove_user_id
        }
      });
    }

    pushManager.send_message_to_specifyUser("current_user", remove_user_id);
    return true;
  },
  cc_save: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.handler == current_user_id && a.type == 'cc' && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.read_date'] = new Date();
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });
    var index = 0; //设置意见，意见只添加到最后一条approve中

    traces.forEach(function (t) {
      if (current_approve && t._id === current_approve.trace) {
        if (t.approves) {
          t.approves.forEach(function (a, idx) {
            if (a._id === current_approve._id) {
              index = idx;
            }
          });
        }
      }
    });
    setObj['traces.$.approves.' + index + '.description'] = description;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_approve.trace
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forward_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/forward_instance.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // 改为通过api调用
  forward_instance: function (instance_id, space_id, flow_id, hasSaveInstanceToAttachment, description, isForwardAttachments, selectedUsers, action_type, related, from_approve_id) {
    if (!this.userId) throw new Meteor.Error('not-authorized');
    return;
  },
  forward_remove: function (instance_id, trace_id, approve_id) {
    check(instance_id, String);
    check(trace_id, String);
    check(approve_id, String);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var trace = _.find(ins.traces, function (t) {
      return t._id == trace_id;
    });

    var approve = _.find(trace.approves, function (appr) {
      return appr._id == approve_id;
    });

    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, this.userId);

    if (!approve || !['forward', 'distribute'].includes(approve.type) || !approve.forward_instance) {
      if (!hasAdminPermission) {
        if (approve.from_user != this.userId) throw new Meteor.Error('error!', 'instance_forward_cannot_cancel');
      }
    }

    var forward_instance_id = approve.forward_instance;
    var forward_instance = db.instances.findOne(forward_instance_id);

    if (forward_instance) {
      if (forward_instance.state != "draft") {
        if (!hasAdminPermission) throw new Meteor.Error('error!', 'instance_forward_instance_state_changed');
      }

      var inbox_users = forward_instance.inbox_users || [];
      forward_instance.deleted = new Date();
      forward_instance.deleted_by = this.userId;
      var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

      if (deleted_forward_instance_id) {
        db.instances.remove({
          _id: forward_instance_id
        }); // 删除申请单后重新计算inbox_users的badge

        _.each(inbox_users, function (u_id) {
          pushManager.send_message_to_specifyUser("current_user", u_id);
        });
      }
    }

    var set_obj = new Object();
    set_obj.modified = new Date();
    set_obj.modified_by = this.userId;

    _.each(trace.approves, function (appr, idx) {
      if (appr._id == approve_id) {
        set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
        set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
        set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
        set_obj['traces.$.approves.' + idx + '.is_read'] = true;
        set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
      }
    });

    db.instances.update({
      _id: instance_id,
      "traces._id": trace_id
    }, {
      $set: set_obj
    });
    return true;
  },
  cancelDistribute: function (instance_id, approve_ids) {
    check(instance_id, String);
    check(approve_ids, Array);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    userId = this.userId;
    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, userId);

    _.each(ins.traces, function (t) {
      if (t.approves) {
        var exists = false;
        var set_obj = new Object();

        _.each(t.approves, function (a, idx) {
          if (approve_ids.includes(a._id) && (a.from_user == userId || hasAdminPermission) && 'distribute' == a.type && a.forward_instance) {
            var forward_instance_id = a.forward_instance;
            var forward_instance = db.instances.findOne(forward_instance_id);

            if (forward_instance) {
              if (forward_instance.state != "draft") {
                return;
              }

              var inbox_users = forward_instance.inbox_users || [];
              forward_instance.deleted = new Date();
              forward_instance.deleted_by = userId;
              var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

              if (deleted_forward_instance_id) {
                db.instances.remove({
                  _id: forward_instance_id
                }); // 删除申请单后重新计算inbox_users的badge

                _.each(inbox_users, function (u_id) {
                  pushManager.send_message_to_specifyUser("current_user", u_id);
                });
              }

              set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
              set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
              set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
              set_obj['traces.$.approves.' + idx + '.is_read'] = true;
              set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
            }

            exists = true;
          }
        });

        if (!exists) return;
        set_obj.modified = new Date();
        set_obj.modified_by = userId;
        db.instances.update({
          _id: instance_id,
          "traces._id": t._id
        }, {
          $set: set_obj
        });
      }
    });

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.js":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/cfs_instances.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cfs_instances_remove: function (file_id) {
    check(file_id, String);
    cfs.instances.remove(file_id);
    return true;
  },
  cfs_instances_set_current: function (file_id) {
    check(file_id, String);
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.current': true
      }
    });
    return true;
  },
  cfs_instances_lock: function (file_id, user_id, user_name) {
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.locked_by': user_id,
        'metadata.locked_by_name': user_name,
        'metadata.locked_time': new Date()
      }
    });
    return true;
  },
  cfs_instances_unlock: function (file_id) {
    cfs.instances.update({
      _id: file_id
    }, {
      $unset: {
        'metadata.locked_by': '',
        'metadata.locked_by_name': '',
        'metadata.locked_time': ''
      }
    });
    return true;
  },
  download_space_instance_attachments_to_disk: function (spaceId, cfsRecordIds) {
    if (!this.userId) return "不符合执行条件";
    if (Meteor.users.find({
      _id: this.userId,
      is_cloudadmin: true
    }).count() < 1) return "不符合执行条件";
    check(spaceId, String);
    var store = "instances";

    var fs = require('fs');

    var path = require('path');

    var mkdirp = require('mkdirp');

    var pathname = path.join(__meteor_bootstrap__.serverDir, '../../../cfs/spaceInstanceAttachments'); // Set absolute path

    var absolutePath = path.resolve(pathname); // Ensure the path exists

    mkdirp.sync(absolutePath);
    console.log('absolutePath: ', absolutePath);
    console.time('download_space_instance_attachments_to_disk');
    var query = {
      'metadata.space': spaceId
    };

    if (cfsRecordIds) {
      query._id = {
        $in: cfsRecordIds
      };
    }

    var downloadFailedRecordIds = [];
    cfs.instances.find(query).forEach(function (c) {
      try {
        var fileName = store + '-' + c._id + '-' + c.name();
        var filePath = path.join(absolutePath, fileName);
        Meteor.wrapAsync(function (callback) {
          try {
            var writer = fs.createWriteStream(filePath);
            writer.on('finish', function () {
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            var reader = c.createReadStream(store);
            reader.on('error', function (error) {
              downloadFailedRecordIds.push(c._id);
              console.error('download_space_instance_attachments_to_disk: ', c._id);
              console.error(error.stack);
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            reader.pipe(writer);
          } catch (error) {
            console.error('download_space_instance_attachments_to_disk: ', c._id);
            console.error(error.stack);
            if (callback && _.isFunction(callback)) callback();
            return;
          }
        })();
      } catch (error) {
        console.error('download_space_instance_attachments_to_disk: ', c._id);
        console.error(error.stack);
      }
    });

    if (downloadFailedRecordIds.length > 0) {
      console.error('downloadFailedRecordIds: ');
      console.error(downloadFailedRecordIds);
    }

    console.timeEnd('download_space_instance_attachments_to_disk');
    return downloadFailedRecordIds;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_approve.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_approve_have_read: function (instanceId, traceId, approveId) {
    var instance, ref, self, setObj, trace;

    if (!this.userId) {
      return;
    }

    self = this;
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {
        modified: new Date(),
        modified_by: self.userId
      };
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId && !approve.is_read) {
          setObj["traces.$.approves." + idx + ".is_read"] = true;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  change_approve_info: function (instanceId, traceId, approveId, description, finish_date) {
    var instance, ref, setObj, trace;

    if (!this.userId) {
      return;
    }

    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(description, String);
    check(finish_date, Date);
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          setObj["traces.$.approves." + idx + ".description"] = description;
          setObj["traces.$.approves." + idx + ".finish_date"] = finish_date;
          setObj["traces.$.approves." + idx + ".cost_time"] = new Date() - approve.start_date;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  update_approve_sign: function (instanceId, traceId, approveId, sign_field_code, description, sign_type, lastSignApprove) {
    var instance, lastTrace, ref, session_userId, setObj, trace, upObj;
    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(sign_field_code, String);
    check(description, String);

    if (!this.userId) {
      return;
    }

    session_userId = this.userId;

    if (lastSignApprove) {
      if (lastSignApprove.custom_sign_show) {
        return;
      }

      instance = db.instances.findOne({
        _id: instanceId,
        "traces._id": lastSignApprove.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });
      lastTrace = _.find(instance != null ? instance.traces : void 0, function (t) {
        return t._id = lastSignApprove.trace;
      });

      if (lastTrace) {
        setObj = {};

        if (lastTrace != null) {
          lastTrace.approves.forEach(function (a, idx) {
            if (a._id === lastSignApprove._id) {
              if (sign_type === "update") {
                setObj["traces.$.approves." + idx + ".sign_show"] = false;
                setObj["traces.$.approves." + idx + ".modified"] = new Date();
                return setObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
              }
            }
          });
        }

        if (!_.isEmpty(setObj)) {
          db.instances.update({
            _id: instanceId,
            "traces._id": lastTrace._id
          }, {
            $set: setObj
          });
        }
      }
    }

    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      upObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          if (sign_field_code) {
            upObj["traces.$.approves." + idx + ".sign_field_code"] = sign_field_code;
          }

          upObj["traces.$.approves." + idx + ".description"] = description;
          upObj["traces.$.approves." + idx + ".sign_show"] = true;
          upObj["traces.$.approves." + idx + ".modified"] = new Date();
          upObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
          return upObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(upObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: upObj
        });
      }

      return true;
    }
  },
  update_sign_show: function (objs, myApprove_id) {
    objs.forEach(function (obj, index) {
      var instance, ref, setObj, trace;
      instance = db.instances.findOne({
        _id: obj.instance,
        "traces._id": obj.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });

      if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
        trace = instance.traces[0];
        setObj = {};
        trace.approves.forEach(function (approve, idx) {
          if (approve._id === obj._id) {
            setObj["traces.$.approves." + idx + ".sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".custom_sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }

          if (approve._id === myApprove_id) {
            return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }
        });

        if (!_.isEmpty(setObj)) {
          return db.instances.update({
            _id: obj.instance,
            "traces._id": obj.trace
          }, {
            $set: setObj
          });
        }
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_return.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_return.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_return: function (approve, reason) {
    var approve_values, b, current_step, current_user, current_user_info, flow, ins, instance, instance_id, last_trace, newTrace, new_inbox_users, now, pre_step, pre_trace, r, rest_counter_users, setObj, space_id, traces;
    check(approve, Object);
    current_user = this.userId;
    instance_id = approve.instance;
    ins = uuflowManager.getInstance(instance_id);
    space_id = ins.space;

    if (ins.state !== "pending" || !ins.inbox_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.type === "cc" && ins.cc_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (ins.traces.length < 2) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    flow = uuflowManager.getFlow(ins.flow);
    pre_trace = ins.traces[ins.traces.length - 2];
    pre_step = uuflowManager.getStep(ins, flow, pre_trace.step);

    if (pre_step.step_type === "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    last_trace = _.last(ins.traces);
    current_step = uuflowManager.getStep(ins, flow, last_trace.step);

    if (current_step.step_type !== "submit" && current_step.step_type !== "sign" && current_step.step_type !== "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.trace !== last_trace._id) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    new_inbox_users = new Array();

    _.each(pre_trace.approves, function (a) {
      if ((!a.type || a.type === "draft" || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected")) {
        return new_inbox_users.push(a.user);
      }
    });

    if (_.isEmpty(new_inbox_users)) {
      throw new Meteor.Error('error!', "未找到下一步处理人，退回失败");
    }

    traces = ins.traces;
    approve_values = uuflowManager.getApproveValues(approve.values || {}, current_step.permissions, ins.form, ins.form_version);
    setObj = new Object();
    now = new Date();
    rest_counter_users = new Array();

    _.each(traces, function (t) {
      if (t._id === last_trace._id) {
        if (!t.approves) {
          t.approves = new Array();
        }

        _.each(t.approves, function (a, idx) {
          if ((!a.type || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected" || a.judge === "readed") && a.is_finished !== true) {
            setObj['traces.$.approves.' + idx + '.finish_date'] = now;
            setObj['traces.$.approves.' + idx + '.read_date'] = now;
            setObj['traces.$.approves.' + idx + '.is_error'] = false;
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.cost_time'] = now - a.start_date;
            setObj['traces.$.approves.' + idx + '.values'] = approve_values;

            if (a.handler === current_user) {
              setObj['traces.$.approves.' + idx + '.judge'] = "returned";
              return setObj['traces.$.approves.' + idx + '.description'] = reason;
            } else {
              return rest_counter_users.push(a.handler);
            }
          }
        });

        setObj['traces.$.is_finished'] = true;
        setObj['traces.$.finish_date'] = true;
        return setObj['traces.$.judge'] = "returned";
      }
    });

    ins.values = _.extend(ins.values || {}, approve_values);
    newTrace = new Object();
    newTrace._id = new Mongo.ObjectID()._str;
    newTrace.instance = instance_id;
    newTrace.previous_trace_ids = [last_trace._id];
    newTrace.is_finished = false;
    newTrace.step = pre_trace.step;
    newTrace.name = pre_trace.name;
    newTrace.start_date = now;
    newTrace.due_date = uuflowManager.getDueDate(pre_step.timeout_hours);
    newTrace.approves = [];

    _.each(new_inbox_users, function (next_step_user_id, idx) {
      var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
      newApprove = new Object();
      newApprove._id = new Mongo.ObjectID()._str;
      newApprove.instance = instance_id;
      newApprove.trace = newTrace._id;
      newApprove.is_finished = false;
      newApprove.user = next_step_user_id;
      user_info = db.users.findOne(next_step_user_id, {
        fields: {
          name: 1
        }
      });
      newApprove.user_name = user_info.name;
      handler_id = next_step_user_id;
      handler_info = user_info;
      agent = uuflowManager.getAgent(space_id, next_step_user_id);

      if (agent) {
        new_inbox_users[idx] = agent;
        handler_id = agent;
        handler_info = db.users.findOne({
          _id: agent
        }, {
          fields: {
            name: 1
          }
        });
        newApprove.agent = agent;
      }

      newApprove.handler = handler_id;
      newApprove.handler_name = handler_info.name;
      next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
      next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
      newApprove.handler_organization = next_step_user_org_info["organization"];
      newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
      newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
      newApprove.start_date = now;
      newApprove.is_read = false;
      newApprove.is_error = false;
      newApprove.values = new Object();
      uuflowManager.setRemindInfo(ins.values, newApprove);
      return newTrace.approves.push(newApprove);
    });

    setObj.inbox_users = new_inbox_users;
    setObj.state = "pending";
    ins.outbox_users.push(current_user);
    setObj.outbox_users = _.uniq(ins.outbox_users);
    setObj.modified = now;
    setObj.modified_by = current_user;
    setObj.values = ins.values;
    setObj.current_step_name = pre_trace.name;
    r = db.instances.update({
      _id: instance_id,
      'traces._id': last_trace._id
    }, {
      $set: setObj
    });
    b = db.instances.update({
      _id: instance_id
    }, {
      $push: {
        traces: newTrace
      }
    });

    if (r && b) {
      pushManager.send_message_to_specifyUser("current_user", current_user);
      instance = uuflowManager.getInstance(instance_id);
      current_user_info = db.users.findOne(current_user);
      pushManager.send_instance_notification("return_pending_inbox", instance, reason, current_user_info);

      _.each(rest_counter_users, function (user_id) {
        return pushManager.send_message_to_specifyUser("current_user", user_id);
      });
    }

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_remind.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_remind.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_remind: function (remind_users, remind_count, remind_deadline, instance_id, action_types, trace_id) {
    var current_user_id, ins, last_remind_users, now, priority, trace;
    check(remind_users, Array);
    check(remind_count, Match.OneOf('single', 'multi'));
    check(remind_deadline, Date);
    check(instance_id, String);
    check(action_types, Array);
    check(trace_id, String);
    current_user_id = this.userId;
    last_remind_users = new Array();
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        name: 1,
        traces: 1,
        values: 1,
        space: 1
      }
    });

    if (action_types.includes('admin')) {
      if (remind_count === 'single') {
        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              return last_remind_users.push(ap.user);
            }
          });
        });
      } else if (remind_count === 'multi') {
        now = new Date();
        priority = ins.values.priority;

        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            var caculate_date;

            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              last_remind_users.push(ap.user);
              ap.manual_deadline = remind_deadline;

              if (priority === "普通" || !priority) {} else if (priority === "办文") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "紧急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "特急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              }
            }
          });
        });

        if (!_.isEmpty(last_remind_users)) {
          db.instances.update({
            _id: instance_id
          }, {
            $set: {
              'traces': ins.traces
            }
          });
        }
      }
    } else if (action_types.includes('applicant')) {
      trace = _.find(ins.traces, function (t) {
        return t._id === trace_id;
      });

      _.each(trace.approves, function (ap) {
        if (remind_users.includes(ap.user) && ap.is_finished !== true) {
          return last_remind_users.push(ap.user);
        }
      });
    } else if (action_types.includes('cc')) {
      _.each(ins.traces, function (t) {
        return _.each(t.approves, function (ap) {
          if (remind_users.includes(ap.user) && ap.is_finished !== true && ap.type === 'cc' && ap.from_user === current_user_id) {
            return last_remind_users.push(ap.user);
          }
        });
      });
    }

    uuflowManager.sendRemindSMS(ins.name, remind_deadline, last_remind_users, ins.space, ins._id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"next_step_users_not_found.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/next_step_users_not_found.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  next_step_users_not_found: function (deal_type, step_name, params) {
    var approver_roles, lang, roles, roles_name, str, user;
    check(deal_type, String);
    check(step_name, String);
    check(params, Object);
    str = "";
    user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    lang = 'en';

    if (user.locale === 'zh-cn') {
      lang = 'zh-CN';
    }

    if (deal_type === 'applicantRole') {
      approver_roles = params.approver_roles;
      roles = db.flow_roles.find({
        _id: {
          $in: approver_roles
        }
      }, {
        fields: {
          name: 1
        }
      }).fetch();
      roles_name = _.pluck(roles, 'name').toString();
      str = TAPi18n.__('next_step_users_not_found.applicant_role', {
        step_name: step_name,
        role_name: roles_name
      }, lang);
    }

    return str;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_number_rules.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_number_rules.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval;

_eval = require('eval');
Meteor.methods({
  instanceNumberBuilder: function (spaceId, name) {
    var _NUMBER, _YYYY, context, date, e, numberRules, res, rules, script;

    numberRules = db.instance_number_rules.findOne({
      space: spaceId,
      name: name
    });

    if (!numberRules) {
      throw new Meteor.Error('error!', "" + name);
    }

    date = new Date();
    context = {};
    context._ = _;
    _YYYY = date.getFullYear();
    _NUMBER = (numberRules.number || 0) + 1;
    context.YYYY = _.clone(_YYYY);
    context.MM = date.getMonth() + 1;
    context.mm = date.getMonth() + 1;

    if (context.MM < 10) {
      context.MM = "0" + context.MM;
    }

    context.DD = date.getDate();
    context.dd = date.getDate();

    if (context.DD < 10) {
      context.DD = "0" + context.DD;
    }

    if (context.YYYY !== numberRules.year) {
      _NUMBER = numberRules.first_number || 1;
    }

    context.NUMBER = _.clone(_NUMBER);
    rules = numberRules.rules.replace("{YYYY}", "' + YYYY + '").replace("{MM}", "' + MM + '").replace("{NUMBER}", "' + NUMBER + '");
    script = "var newNo = '" + rules + "'; exports.newNo = newNo";

    try {
      res = _eval(script, "newNo", context, false).newNo;
      db.instance_number_rules.update({
        _id: numberRules._id
      }, {
        $set: {
          year: _YYYY,
          number: _NUMBER
        }
      });
      console.log(this.userId, res);
    } catch (error) {
      e = error;
      res = {
        _error: e
      };
    }

    return res;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"check_main_attach.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/check_main_attach.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  check_main_attach: function (ins_id, name) {
    check(ins_id, String);
    uuflowManager.checkMainAttach(ins_id, name);
    return 'success';
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/related_instances.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  remove_related: function (ins_id, re_ins_id) {
    var index, ins, res, set_obj;
    check(ins_id, String);
    check(re_ins_id, String);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        related_instances: 1
      }
    });

    if (ins) {
      res = ins.related_instances || [];
      index = res.indexOf(re_ins_id);

      if (index > -1) {
        res.remove(index);
      }

      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = res;
      return db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }
  },
  update_instance_related: function (ins_id, related_instances) {
    var ins, set_obj;
    check(ins_id, String);
    check(related_instances, Array);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id,
      $or: [{
        submitter: this.userId
      }, {
        applicant: this.userId
      }, {
        inbox_users: this.userId
      }, {
        cc_users: this.userId
      }]
    }, {
      fields: {
        state: 1
      }
    });

    if (ins) {
      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = related_instances;
      db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }

    return db.instances.find({
      _id: {
        $in: related_instances
      }
    }, {
      fields: {
        _id: 1,
        values: 1
      }
    }).fetch();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"edit_flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/edit_flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  updateFlowPosition: function (data) {
    return db.flow_positions.update({
      _id: data._id
    }, {
      $set: {
        role: data.role,
        users: data.users,
        org: data.org
      }
    });
  },
  updateFlowRole: function (data) {
    console.log(data._id);
    console.log(data.name);
    return db.flow_roles.update({
      _id: data._id
    }, {
      $set: {
        name: data.name
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"start_flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/start_flow.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  start_flow: function (space, flowId, start) {
    var keyValue, start_flows;
    keyValue = db.steedos_keyvalues.findOne({
      space: space,
      user: this.userId,
      key: 'start_flows'
    }, {
      fields: {
        value: 1
      }
    });
    start_flows = (keyValue != null ? keyValue.value : void 0) || [];

    if (start) {
      start_flows.push(flowId);
      start_flows = _.uniq(start_flows);
    } else {
      start_flows.remove(start_flows.indexOf(flowId));
    }

    if (keyValue) {
      return db.steedos_keyvalues.update({
        _id: keyValue._id
      }, {
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    } else {
      return db.steedos_keyvalues.insert({
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_traces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_traces.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  get_instance_traces: function (ins_id) {
    var ins, miniApproveFields;

    if (!this.userId) {
      return;
    }

    miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description'];
    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        "traces._id": 1,
        "traces.is_finished": 1,
        "traces.step": 1,
        "traces.start_date": 1,
        "traces.name": 1,
        "traces.finish_date": 1,
        "traces.judge": 1,
        "traces.approves._id": 1,
        "traces.approves.is_finished": 1,
        "traces.approves.user": 1,
        "traces.approves.handler": 1,
        "traces.approves.handler_name": 1,
        "traces.approves.handler_organization_fullname": 1,
        "traces.approves.type": 1,
        "traces.approves.start_date": 1,
        "traces.approves.description": 1,
        "traces.approves.is_read": 1,
        "traces.approves.judge": 1,
        "traces.approves.finish_date": 1,
        "traces.approves.from_user_name": 1,
        "traces.approves.from_user": 1,
        "traces.approves.cc_description": 1,
        "traces.approves.trace": 1,
        "traces.approves.forward_space": 1,
        "traces.approves.forward_instance": 1
      }
    });

    if (!ins) {
      return;
    }

    return ins != null ? ins.traces : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_batch.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_batch.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  'get_batch_instances': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return _batch_instances;
  },
  'get_batch_instances_count': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return (_batch_instances != null ? _batch_instances.length : void 0) || 0;
  },
  'get_my_approves': function (instanceIds) {
    var myApproves, that;
    that = this;

    if (!that.userId) {
      return;
    }

    myApproves = new Array();
    instanceIds.forEach(function (insId) {
      var my_approve;
      my_approve = InstanceManager.getMyApprove(insId, that.userId);

      if (my_approve) {
        return myApproves.push(my_approve);
      }
    });
    return myApproves;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/flow.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  change_flow_state: function (flows) {
    var _userId;

    check(flows, Array);
    _userId = this.userId;

    if (!_userId) {
      return;
    }

    return flows.forEach(function (flow) {
      var _flows, _flows_state, flowId, form, formId, form_current_fields_code, now, spaceId, state;

      spaceId = flow.space;
      formId = flow.form;
      flowId = flow.id;
      state = flow.state;

      if (!Steedos.isSpaceAdmin(spaceId, _userId)) {
        throw Meteor.Error(401, "No permission");
      }

      form = db.forms.findOne({
        _id: formId
      }, {
        fields: {
          historys: 0
        }
      });
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          historys: 0
        }
      });

      if (state !== 'enabled' && state !== 'disabled') {
        throw new Meteor.Error(500, "state无效");
      }

      if (!form) {
        throw new Meteor.Error(500, "form无效");
      }

      if (!flow) {
        throw new Meteor.Error(500, "flow无效");
      }

      if (!form.is_valid) {
        throw new Meteor.Error(500, "流程引用的表单[" + form.name + "]验证未通过，请打开流程设计器检查表单设置");
      }

      if (!flow.is_valid) {
        throw new Meteor.Error(500, "流程验证未通过，请打开流程设计器检查流程设置");
      }

      if (!['new', 'modify', 'delete'].includes(flow.flowtype)) {
        throw new Meteor.Error(500, "流程验证未通过，flowtype值必须是new、modify、delete其中之一");
      }

      if (!_.isArray(flow.current.steps)) {
        throw new Meteor.Error(500, "流程验证未通过，流程的步骤不能为空");
      }

      if (_.uniq(flow.current.steps, 'name').length !== flow.current.steps.length) {
        throw new Meteor.Error(500, "流程验证未通过，同一个流程下的步骤的名称不能重复");
      }

      now = new Date();

      if (state === 'enabled') {
        flow.current.steps.forEach(function (step) {
          var specifyStep;

          if (['specifyStepUser', 'specifyStepRole'].includes(step.deal_type)) {
            if (!step.approver_step) {
              throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
            } else {
              specifyStep = _.find(flow.current.steps, function (_step) {
                return step.approver_step === _step._id;
              });

              if (!specifyStep) {
                throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
              }
            }
          }
        });
        form_current_fields_code = form.current.fields.getProperty("code");
        flow.current.steps.forEach(function (step) {
          return step.fields_modifiable = _.intersection(step.fields_modifiable, form_current_fields_code);
        });

        if (form.state === 'disabled') {
          db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "enabled",
              "current.start_date": now,
              "current.modified": now,
              "current.modified_by": _userId
            }
          });
        }

        flow.current.modified = now;
        flow.current.start_date = now;
        flow.current.modified_by = _userId;
        return db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "enabled",
            "current": flow.current
          }
        });
      } else {
        db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "disabled",
            "current.modified": now,
            "current.start_date": now,
            "current.modified_by": _userId
          }
        });
        _flows = db.flows.find({
          form: form._id
        }, {
          fields: {
            _id: 1,
            state: 1
          }
        }).fetch();
        _flows_state = _flows.getProperty("state");

        if (!_flows_state.includes('enabled')) {
          return db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "disabled",
              "current.modified": now,
              "current.start_date": now,
              "current.modified_by": _userId
            }
          });
        }
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distribute.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/distribute.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"hide_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/hide_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  hide_instance: function (insId, is_hidden) {
    var instance, permissions, space, userId;

    if (!this.userId) {
      return;
    }

    check(insId, String);
    check(is_hidden, Boolean);
    userId = this.userId;
    instance = db.instances.findOne(insId, {
      fields: {
        state: 1,
        flow: 1,
        space: 1
      }
    });

    if (!instance) {
      throw new Meteor.Error('error!', "未找到申请单");
    }

    if (instance.state !== 'completed') {
      throw new Meteor.Error('error!', "申请单状态不是已结束");
    }

    permissions = permissionManager.getFlowPermissions(instance.flow, userId);
    space = db.spaces.findOne(instance.space, {
      fields: {
        admins: 1
      }
    });

    if (!permissions.includes("admin") && !space.admins.includes(userId)) {
      throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
    }

    db.instances.update(insId, {
      $set: {
        is_hidden: is_hidden
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_value.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_value.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  getInstanceValues: function (insId) {
    var ref;

    if (!this.userId) {
      return;
    }

    return (ref = db.instances.findOne({
      _id: insId
    }, {
      fields: {
        values: 1
      }
    })) != null ? ref.values : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"routes":{"instance.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies, getInstanceReadOnly;
Cookies = require("cookies");

getInstanceReadOnly = function (req, res, next, options) {
  var _hasPermission, _locale, _parent_instances, dataBuf, error, hide_traces, html, instance, instanceId, ref, ref1, space, spaceId, spaceUserCount, user, userId;

  user = Steedos.getAPILoginUser(req, res);

  if (req != null ? (ref = req.query) != null ? ref.access_token : void 0 : void 0) {
    userId = Steedos.getUserIdFromAccessToken(req.query.access_token);

    if (userId) {
      user = Meteor.users.findOne({
        _id: userId
      });
    }
  }

  spaceId = req.params.space;
  instanceId = req.params.instance_id;
  instance = db.instances.findOne({
    _id: instanceId
  });
  space = db.spaces.findOne({
    _id: spaceId
  });
  hide_traces = (ref1 = req.query) != null ? ref1.hide_traces : void 0;

  if (!options) {
    options = {
      showTrace: true
    };
  } else {
    options.showTrace = true;
  }

  if (hide_traces === "1") {
    if (options) {
      options.showTrace = false;
    } else {
      options = {
        showTrace: false
      };
    }
  }

  if (!options.showAttachments) {
    options.showAttachments = true;
  }

  if (!space) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space",
        "success": false
      }
    });
    return;
  }

  if (!instance) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing instance",
        "success": false
      }
    });
    return;
  }

  if (!user) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Auth-Token,X-User-Id",
        "success": false
      }
    });
    return;
  }

  if (instance.space !== spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space or instance",
        "success": false
      }
    });
    return;
  }

  spaceUserCount = db.space_users.find({
    user: user._id,
    space: spaceId
  }).count();

  if (spaceUserCount === 0) {
    if (!space) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- Missing sapceUser",
          "success": false
        }
      });
      return;
    }
  }

  _hasPermission = WorkflowManager.hasInstancePermissions(user, instance);

  if (!_hasPermission && instance.distribute_from_instance) {
    _parent_instances = _.union([instance.distribute_from_instance], instance.distribute_from_instances || []);
    _hasPermission = _.find(_parent_instances, function (_parent_id) {
      var _parent_ins;

      _parent_ins = db.instances.findOne({
        _id: _parent_id
      }, {
        fields: {
          traces: 0
        }
      });
      return WorkflowManager.hasInstancePermissions(user, _parent_ins);
    });
  }

  if (!_hasPermission) {
    _locale = Steedos.locale(user._id, true);
    error = TAPi18n.__("instance_permissions_error", {}, _locale);
    res.charset = "utf-8";
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": error,
        "success": false
      }
    });
    return;
  }

  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
};

JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id", getInstanceReadOnly);
JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id/:instance_name", function (req, res, next) {
  var options;
  res.setHeader('Content-type', 'application/x-msdownload');
  res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(req.params.instance_name));
  res.setHeader('Transfer-Encoding', '');
  options = {
    absolute: true
  };
  return getInstanceReadOnly(req, res, next, options);
}); /*
    	获取申请单列表：
        final_decision：审批结果
        state: 申请单状态
     */
JsonRoutes.add("get", "/api/workflow/instances", function (req, res, next) {
  var f, flowId, flowIds, flows, i, instances, query, ref, ref1, ref2, ref3, ret_sync_token, spaceId, spaceUser, spaceUserOrganizations, sync_token, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  spaceId = req.headers["x-space-id"];

  if (!spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Space-Id",
        "success": false
      }
    });
    return;
  }

  flowId = (ref = req.query) != null ? ref.flowId : void 0;

  if (!flowId) {
    JsonRoutes.sendResult(res, {
      code: 400,
      data: {
        "error": "Validate Request -- Missing flowId",
        "success": false
      }
    });
    return;
  }

  query = {};
  ret_sync_token = new Date().getTime();
  flowIds = flowId.split(",");
  flows = db.flows.find({
    _id: {
      $in: flowIds
    }
  }).fetch();
  i = 0;

  while (i < flows.length) {
    f = flows[i];
    spaceUser = db.space_users.findOne({
      space: f.space,
      user: user_id
    });

    if (!spaceUser) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- No permission, flow is " + f._id,
          "success": false
        }
      });
      return;
    } else {}

    if (!Steedos.isSpaceAdmin(spaceId, user_id)) {
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: spaceUser.organizations
        }
      }).fetch();

      if (!WorkflowManager.canMonitor(f, spaceUser, spaceUserOrganizations) && !WorkflowManager.canAdmin(f, spaceUser, spaceUserOrganizations)) {
        JsonRoutes.sendResult(res, {
          code: 401,
          data: {
            "error": "Validate Request -- No permission, flow is " + f._id,
            "success": false
          }
        });
        return;
      }
    }

    i++;
  }

  query.flow = {
    $in: flowIds
  };
  query.space = spaceId;

  if ((ref1 = req.query) != null ? ref1.sync_token : void 0) {
    sync_token = new Date(Number(req.query.sync_token));
    query.modified = {
      $gt: sync_token
    };
  }

  if ((ref2 = req.query) != null ? ref2.final_decision : void 0) {
    query.final_decision = {
      $in: req.query.final_decision.split(",")
    };
  } else {
    query.final_decision = {
      $nin: ["terminated", "rejected"]
    };
  }

  if ((ref3 = req.query) != null ? ref3.state : void 0) {
    query.state = {
      $in: req.query.state.split(",")
    };
  } else {
    query.state = "completed";
  }

  instances = db.instances.find(query, {
    fields: {
      inbox_uers: 0,
      cc_users: 0,
      outbox_users: 0,
      traces: 0,
      attachments: 0
    },
    skip: 0,
    limit: 500
  }).fetch();
  instances.forEach(function (instance) {
    var attachments;
    attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return instance.attachments = attachments;
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      "status": "success",
      "sync_token": ret_sync_token,
      "data": instances
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steedos_css.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/steedos_css.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/steedos-css", function (req, res, next) {
  var allCss, allCssLink;
  allCss = WebApp.getRefreshableAssets();
  allCssLink = "";
  allCss.forEach(function (css) {
    var cssHref, rootUrl;

    if (__meteor_runtime_config__.ROOT_URL_PATH_PREFIX) {
      rootUrl = __meteor_runtime_config__.ROOT_URL;

      if (rootUrl.endsWith("/")) {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX + "/", "") + css.url;
      } else {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX, "") + css.url;
      }
    } else {
      cssHref = Meteor.absoluteUrl(css.url);
    }

    return allCssLink += "@import url(" + cssHref + ");";
  });
  res.statusCode = 200;
  return res.end(allCssLink);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft_view.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance_draft_view.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/api/workflow/space/:space/view/draft/:flow", function (req, res, next) {
  var dataBuf, flow, flowId, form, html, instance, options, space, spaceId, user, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  user = db.users.findOne({
    _id: user_id
  });
  spaceId = req.params.space;
  flowId = req.params.flow;
  space = db.spaces.findOne({
    _id: spaceId
  });
  flow = db.flows.findOne({
    _id: flowId
  }, {
    fields: {
      name: 1,
      'current._id': 1,
      form: 1
    }
  });
  form = db.forms.findOne({
    _id: flow.form
  }, {
    fields: {
      'current._id': 1
    }
  });
  options = {
    showTrace: false,
    showAttachments: false,
    templateName: "default",
    editable: true,
    width: "100%",
    instance_style: "instance-default",
    plugins: "\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n<title>" + flow.name + "</title>\n<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />\n<meta name=\"viewport\" content=\"width=device-width\" />\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css\">\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js\" type=\"text/javascript\"></script>\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js\" type=\"text/javascript\" charset=\"UTF-8\"></script>\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/toastr/toastr.min.css\">\n<script src=\"/plugins/toastr/toastr.min.js\" type=\"text/javascript\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/workflow_client.css\">\n<script src=\"/js/workflow_client.js\" type=\"text/javascript\"></script>"
  };
  instance = {
    flow: flow._id,
    flow_version: flow.current._id,
    form: form._id,
    form_version: form.current._id,
    values: {},
    name: flow.name,
    space: spaceId
  };
  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"lib":{"1_form_formula.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/1_form_formula.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Array.prototype.filterProperty = function (h, l) {
  var g = [];
  this.forEach(function (t) {
    var m = t ? t[h] : null;
    var d = false;

    if (m instanceof Array) {
      d = m.includes(l);
    } else {
      d = l === undefined ? false : m == l;
    }

    if (d) {
      g.push(t);
    }
  });
  return g;
};

Array.prototype.getProperty = function (k) {
  var v = new Array();
  this.forEach(function (t) {
    var m = t ? t[k] : null;
    v.push(m);
  });
  return v;
};

Array.prototype.getEach = function (code) {
  var rev = [];

  for (var i = 0; i < this.length; i++) {
    rev.push(this[i][code]);
  }

  return rev;
};

Array.prototype.uniq = function () {
  var a = [];
  this.forEach(function (b) {
    if (a.indexOf(b) < 0) {
      a[a.length] = b;
    }
  });
  return a;
};

Form_formula = {};

Form_formula.mixin = function (dest, src) {
  for (var key in src) {
    dest[key] = src[key];
  }

  return dest;
};

Form_formula.handerUserObject = function (u) {
  if (u instanceof Array) {
    var user = {};
    user.name = u.getProperty("name");
    user.organization = {};
    user.organization.name = u.getProperty("organization").getProperty("name");
    user.organization.fullname = u.getProperty("organization").getProperty("fullname");
    user.hr = u.getProperty("hr");
    user.sort_no = u.getProperty("sort_no");
    user.mobile = u.getProperty("mobile");
    user.work_phone = u.getProperty("work_phone");
    user.position = u.getProperty("position");
    var userRoles = u.getProperty("roles");
    var roles = new Array();
    userRoles.forEach(function (i) {
      roles = roles.concat(i);
    });
    roles.uniq();
    user.roles = roles;
    return user;
  } else {
    return u;
  }
};

Form_formula.handerOrgObject = function (o) {
  if (o instanceof Array) {
    var org = {};
    org.id = o.getProperty("_id");
    org.name = o.getProperty("name");
    org.fullname = o.getProperty("fullname");
    return org;
  } else {
    return o;
  }
};
/**
    * 获得公式需要用到的初始值
    * 输入：fields, values, applicant
    * 输出：__values
**/


Form_formula.init_formula_values = function (fields, autoFormDoc, approver, applicant, spaceId) {
  var __values = {}; //申请单中填的值处理

  if (fields && fields.length && autoFormDoc) {
    //debugger;
    fields.forEach(function (field) {
      var type = field.type;

      if (type) {
        if (type === 'table') {
          /*
          * 将表格字段的值进行转换后传入__values中
          * values中表格的值格式为
          * [{"a":1,"b":4},{"a":2,"b":5},{"a":3,"b":6}]
          * __values需要转化为下面格式且和主表的值一样放到第一层
          * {"a":[1,2,3],"b":[4,5,6]}
          **/
          var tableFields = field.sfields,
              tableValues = autoFormDoc[field.code],
              formulaTableValues = [],
              __tableValues = {}; //按公式的格式转换值为__tableValues

          if (tableFields && tableFields.length && tableValues && tableValues instanceof Array) {
            tableValues.forEach(function (tableValue) {
              formulaTableValues.push(Form_formula.init_formula_values(tableFields, tableValue));
            }, this); //按主表的格式转换__tableValues加到

            tableFields.forEach(function (tablefield) {
              __tableValues[tablefield.code] = formulaTableValues.getEach(tablefield.code);
            });
            __values = Form_formula.mixin(__values, __tableValues);
          }
        } else if (type == 'user') {
          __values[field.code] = Form_formula.handerUserObject(WorkflowManager.getFormulaUserObjects(spaceId, autoFormDoc[field.code]));
        } else if (type == 'group') {
          __values[field.code] = Form_formula.handerOrgObject(WorkflowManager.getFormulaOrgObjects(autoFormDoc[field.code]));
        } else if (type == 'odata') {
          __values[field.code] = autoFormDoc[field.code] || {};
        } else {
          //此处传spaceId给选人控件的旧数据计算roles和organization
          __values[field.code] = autoFormDoc[field.code];
        }
      }
    }, this);
  } //当前处理人


  __values["approver"] = WorkflowManager.getFormulaUserObject(spaceId, approver); //申请人

  __values["applicant"] = WorkflowManager.getFormulaUserObject(spaceId, applicant);
  return __values;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_handlers_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/get_handlers_manager.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
getHandlersManager = {};

getHandlersManager.getHandlersByUsersAndRoles = function (user_ids, role_ids, space_id) {
  var approve_users;
  approve_users = new Array();

  _.each(user_ids, function (user_id) {
    var users;

    if (db.users.find({
      _id: user_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRoles(user_id, role_ids, space_id);

      if (users.length > 0) {
        return approve_users = approve_users.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "user_id不合法不合法");
    }
  });

  approve_users = _.uniq(approve_users);
  return approve_users;
};

getHandlersManager.getHandlersByUserAndRoles = function (user_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;

    if (db.flow_roles.find({
      _id: role_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRole(user_id, role_id, space_id);

      if (users.length > 0) {
        return user_ids = user_ids.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "role_id已经被删除");
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据user_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByUserAndRole = function (user_id, role_id, space_id) {
  var orgs, user_ids;
  orgs = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      _id: 1
    }
  }).fetch();
  user_ids = new Array();

  _.each(orgs, function (org) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org._id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgsAndRoles = function (org_ids, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(org_ids, function (org_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRoles(org_id, role_ids, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgAndRoles = function (org_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org_id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据org_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByOrgAndRole = function (org_id, role_id, space_id) {
  var org, parents, positions, user_ids;
  org = db.organizations.findOne({
    _id: org_id
  }, {
    fields: {
      parents: 1
    }
  });
  user_ids = new Array();
  positions = db.flow_positions.find({
    space: space_id,
    org: org_id,
    role: role_id
  }, {
    fields: {
      users: 1
    }
  }).fetch();

  _.each(positions, function (position) {
    return user_ids = user_ids.concat(position.users);
  });

  if (user_ids.length === 0) {
    parents = org.parents;

    _.each(parents, function (parent_id) {
      positions = db.flow_positions.find({
        space: space_id,
        org: parent_id,
        role: role_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();

      if (positions.length > 0) {
        return _.each(positions, function (position) {
          return user_ids = user_ids.concat(position.users);
        });
      }
    });
  }

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlers = function (instance_id, step_id) {
  var _approve, _space_user, _trace, applicant, applicantSuperiors, approveHrRoleIds, approve_users, approver_org_field, approver_org_ids, approver_step, approver_user_field, approver_user_ids, current, current_flow, current_flow_version, current_form, current_step, current_steps, deal_type, field_code, finished_traces, flow_id, flow_rev, form, form_fields, form_id, form_rev, handlers, instance, max_startDate_trace, new_approver_user_ids, new_org_user_ids, newest_values, next_step_users, org_ids, org_ids_names, org_user_ids, space_id, space_user_count, submitter, submitter_user_count, unfinished_trace, user_ids, user_ids_names, users, valid_approver_org_ids;

  instance = db.instances.findOne(instance_id);

  if (instance.step_approve && instance.step_approve[step_id]) {
    return instance.step_approve[step_id];
  }

  approve_users = new Array();
  space_id = instance.space;
  flow_id = instance.flow;
  flow_rev = instance.flow_version;
  current_flow = db.flows.findOne(flow_id);
  current_step = null;
  current_steps = new Array();

  if (current_flow.current._id === flow_rev) {
    current_steps = current_flow.current.steps;
  } else {
    current = _.find(current_flow.historys, function (history) {
      return history._id === flow_rev;
    });
    current_steps = current.steps;
  }

  current_step = _.find(current_steps, function (step) {
    return step._id === step_id;
  });

  if (current_step.step_type === "condition") {
    unfinished_trace = _.find(instance.traces, function (trace) {
      return trace.is_finished === false;
    });
    return new Array(unfinished_trace.approves[0].user);
  }

  if (current_step.step_type === "start") {
    handlers = new Array();
    handlers.push(instance.applicant);
    handlers.push(instance.submitter);
    handlers = _.uniq(handlers);
    return handlers;
  }

  deal_type = current_step.deal_type;
  users = new Array();

  if (deal_type === "applicantRole") {
    applicant = instance.applicant;

    if (applicant) {
      space_user_count = db.space_users.find({
        space: space_id,
        user: applicant
      }).count();

      if (space_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
      }

      if (current_step.approver_roles && current_step.approver_roles.length > 0) {
        _.each(current_step.approver_roles, function (approver_role) {
          var role_count;
          role_count = db.flow_roles.find({
            _id: approver_role
          }).count();

          if (role_count === 0) {
            throw new Meteor.Error('error!', "角色已经被删除");
          }
        });

        return getHandlersManager.getHandlersByUserAndRoles(applicant, current_step.approver_roles, space_id);
      } else {
        throw new Meteor.Error('error!', "审批岗位未指定");
      }
    } else {
      throw new Meteor.Error('error!', "Instance的提交人为空");
    }
  } else if (deal_type === "hrRole") {
    approveHrRoleIds = current_step.approver_hr_roles;

    if (approveHrRoleIds) {
      return _.pluck(WorkflowManager.getHrRolesUsers(space_id, approveHrRoleIds), 'user');
    } else {
      throw new Meteor.Error('error!', "角色未指定");
    }
  } else if (deal_type === "applicant") {
    applicant = instance.applicant;
    space_user_count = db.space_users.find({
      space: space_id,
      user: applicant
    }).count();

    if (space_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
    } else {
      return new Array(applicant);
    }
  } else if (deal_type === "orgFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByOrgsAndRoles(org_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "orgField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    user_ids = new Array();

    _.each(org_ids, function (org_id) {
      var check_orgs, org, org_children, org_users;
      org = db.organizations.findOne({
        _id: org_id
      }, {
        fields: {
          users: 1
        }
      });
      org_children = db.organizations.find({
        space: space_id,
        parents: org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      org_children.unshift(org);
      check_orgs = org_children;
      org_users = new Array();

      _.each(check_orgs, function (check_org_user) {
        if (check_org_user.users) {
          _.each(check_org_user.users, function (org_user) {
            if (db.space_users.find({
              space: space_id,
              user: org_user
            }).count() === 0) {
              throw new Meteor.Error('error!', "space下不存在此user");
            }
          });
        }

        user_ids = user_ids.concat(check_org_user.users);
        return org_users = org_users.concat(check_org_user.users);
      });

      if (org_users.length === 0) {
        throw new Meteor.Error('error!', "组织" + org_id + "不存在处理人");
      }
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "userFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByUsersAndRoles(user_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "userField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "specifyStepRole") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    if (current_step.approver_roles) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', "角色已经被删除");
        }
      });
    }

    _.each(approve_users, function (approve_user) {
      if (db.space_users.find({
        space: space_id,
        user: approve_user
      }).count() === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    return getHandlersManager.getHandlersByUsersAndRoles(approve_users, current_step.approver_roles, space_id);
  } else if (deal_type === "specifyStepUser") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    _.each(approve_users, function (approve_user) {
      var check_approve_user_count;
      check_approve_user_count = db.space_users.find({
        space: space_id,
        user: approve_user
      }).count();

      if (check_approve_user_count === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    approve_users = _.uniq(approve_users);
    return approve_users;
  } else if (deal_type === "submitterRole") {
    submitter = instance.submitter;

    if (!submitter) {
      submitter_user_count = db.space_users.find({
        space: space_id,
        user: submitter
      }).count();

      if (submitter_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
      } else {
        if (current_step.approver_roles && current_step.approver_roles.length > 0) {
          _.each(current_step.approver_roles, function (approver_role) {
            var role_count;
            role_count = db.flow_roles.find({
              _id: approver_role
            }).count();

            if (role_count === 0) {
              throw new Meteor.Error('error!', approver_role + "已经被删除");
            }
          });

          return getHandlersManager.getHandlersByUserAndRoles(submitter, current_step.approver_roles, space_id);
        } else {
          throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
        }
      }
    } else {
      throw new Meteor.Error('error!', "申请单的提交人为空");
    }
  } else if (deal_type === "submitter") {
    submitter = instance.submitter;
    submitter_user_count = db.space_users.find({
      space: space_id,
      user: submitter
    }).count();

    if (submitter_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
    } else {
      return new Array(submitter);
    }
  } else if (deal_type === "specifyOrg") {
    approver_org_ids = current_step.approver_orgs;

    if (!approver_org_ids || approver_org_ids.length === 0) {
      throw new Meteor.Error('error!', "未定义用于查找下一步处理人的部门，请联系管理员调查流程图的配置是否正确");
    }

    valid_approver_org_ids = new Array();

    _.each(approver_org_ids, function (approver_org_id) {
      if (db.organizations.find({
        _id: approver_org_id
      }).count() > 0) {
        return valid_approver_org_ids.unshift(approver_org_id);
      }
    });

    org_user_ids = new Array();

    _.each(valid_approver_org_ids, function (valid_approver_org_id) {
      var child_orgs, valid_approver_org;
      valid_approver_org = db.organizations.findOne({
        _id: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      });

      if (valid_approver_org.users) {
        org_user_ids = org_user_ids.concat(valid_approver_org.users);
      }

      child_orgs = db.organizations.find({
        space: space_id,
        parents: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      return _.each(child_orgs, function (child_org) {
        if (child_org.users) {
          return org_user_ids = org_user_ids.concat(child_org.users);
        }
      });
    });

    org_user_ids = _.uniq(org_user_ids);
    new_org_user_ids = new Array();

    _.each(org_user_ids, function (org_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: org_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_org_user_ids.push(org_user_id);
      }
    });

    return new_org_user_ids;
  } else if (deal_type === "specifyUser") {
    approver_user_ids = current_step.approver_users;
    approver_user_ids = _.uniq(approver_user_ids);
    new_approver_user_ids = new Array();

    _.each(approver_user_ids, function (approver_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: approver_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_approver_user_ids.push(approver_user_id);
      }
    });

    return new_approver_user_ids;
  } else if (deal_type === "pickupAtRuntime") {
    next_step_users = new Array();
    _trace = _.find(instance.traces, function (_tr) {
      return _tr.is_finished === false;
    });
    _approve = _.find(_trace.approves, function (_app) {
      return _app.is_finished === false && _app.type !== 'cc';
    });

    if (_approve.next_steps) {
      if (_approve.next_steps[0]["users"]) {
        next_step_users = _approve.next_steps[0]["users"];
      }
    }

    return next_step_users;
  } else if (deal_type === "applicantSuperior") {
    applicantSuperiors = new Array();
    _space_user = db.space_users.findOne({
      space: space_id,
      user: instance.applicant
    }, {
      fields: {
        manager: 1
      }
    });

    if (_space_user.manager) {
      applicantSuperiors.push(_space_user.manager);
    }

    return applicantSuperiors;
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"permission_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/permission_manager.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
permissionManager = {};

permissionManager.getFlowPermissions = function (flow_id, user_id) {
  var flow, my_permissions, org_ids, organizations, orgs_can_add, orgs_can_admin, orgs_can_monitor, space_id, users_can_add, users_can_admin, users_can_monitor;
  flow = uuflowManager.getFlow(flow_id);
  space_id = flow.space;
  org_ids = new Array();
  organizations = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      parents: 1
    }
  }).fetch();

  _.each(organizations, function (org) {
    org_ids.push(org._id);

    if (org.parents) {
      return _.each(org.parents, function (parent_id) {
        return org_ids.push(parent_id);
      });
    }
  });

  org_ids = _.uniq(org_ids);
  my_permissions = new Array();

  if (flow.perms) {
    if (flow.perms.users_can_add) {
      users_can_add = flow.perms.users_can_add;

      if (users_can_add.includes(user_id)) {
        my_permissions.push("add");
      }
    }

    if (flow.perms.orgs_can_add) {
      orgs_can_add = flow.perms.orgs_can_add;

      _.each(org_ids, function (org_id) {
        if (orgs_can_add.includes(org_id)) {
          return my_permissions.push("add");
        }
      });
    }

    if (flow.perms.users_can_monitor) {
      users_can_monitor = flow.perms.users_can_monitor;

      if (users_can_monitor.includes(user_id)) {
        my_permissions.push("monitor");
      }
    }

    if (flow.perms.orgs_can_monitor) {
      orgs_can_monitor = flow.perms.orgs_can_monitor;

      _.each(org_ids, function (org_id) {
        if (orgs_can_monitor.includes(org_id)) {
          return my_permissions.push("monitor");
        }
      });
    }

    if (flow.perms.users_can_admin) {
      users_can_admin = flow.perms.users_can_admin;

      if (users_can_admin.includes(user_id)) {
        my_permissions.push("admin");
      }
    }

    if (flow.perms.orgs_can_admin) {
      orgs_can_admin = flow.perms.orgs_can_admin;

      _.each(org_ids, function (org_id) {
        if (orgs_can_admin.includes(org_id)) {
          return my_permissions.push("admin");
        }
      });
    }
  }

  my_permissions = _.uniq(my_permissions);
  return my_permissions;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"approve_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/approve_manager.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
approveManager = {}; /*
                         对比approve_values与last_values 对象， 返回approve_values比last_values多出的或者改变的部分
                      */

approveManager.getChangeValues = function (last_values, approve_values) {
  var approve_values_keys, changeValues, last_values_keys;
  changeValues = {};
  last_values_keys = _.keys(last_values);
  approve_values_keys = _.keys(approve_values);
  approve_values_keys.forEach(function (key) {
    if (_.contains(last_values_keys, key)) {
      if (!_.isEqual(last_values[key], approve_values[key])) {
        return changeValues[key] = approve_values[key];
      }
    } else {
      if (approve_values[key] !== '') {
        return changeValues[key] = approve_values[key];
      }
    }
  });
  return changeValues;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/flow_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
flowManager = {};

flowManager.getCategoriesFlows = function (spaceId, categorieId, fields) {
  var categoriesForms;
  categoriesForms = formManager.getCategoriesForms(spaceId, categorieId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: categoriesForms.getProperty("_id")
    }
  });
};

flowManager.getUnCategoriesFlows = function (spaceId, fields) {
  var unCategoriesForms;
  unCategoriesForms = formManager.getUnCategoriesForms(spaceId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: unCategoriesForms.getProperty("_id")
    }
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"form_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/form_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
formManager = {};

formManager.getCategoriesForms = function (spaceId, categorieId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: categorieId,
    state: "enabled"
  }, _fields);
};

formManager.getUnCategoriesForms = function (spaceId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: {
      $in: [null, ""]
    },
    state: "enabled"
  }, _fields);
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/step_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
stepManager = {};

stepManager.allowBatch = function (step) {
  return step.step_type === 'counterSign' && step.allowBatch;
};

stepManager.getStep = function (instance, flow, step_id) {
  var flow_rev, isExistStep;
  flow_rev = instance.flow_version;
  isExistStep = null;

  if (flow.current._id === flow_rev) {
    isExistStep = _.find(flow.current.steps, function (step) {
      return step._id === step_id;
    });
  } else {
    _.each(flow.historys, function (history) {
      if (history._id === flow_rev) {
        return isExistStep = _.find(history.steps, function (step) {
          return step._id === step_id;
        });
      }
    });
  }

  if (!isExistStep) {
    throw new Meteor.Error('error!', "不能获取step");
  }

  return isExistStep;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_manager.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/instance_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval, logger;

_eval = require('eval');
InstanceManager = {};
logger = new Logger('Workflow -> InstanceManager');

InstanceManager.handlerInstanceByFieldMap = function (ins, field_map) {
  var context, e, flow, res, script;
  res = ins;

  if (ins) {
    if (!field_map) {
      flow = db.flows.findOne({
        _id: ins.flow
      }, {
        fields: {
          field_map: 1
        }
      });

      if (flow != null ? flow.field_map : void 0) {
        field_map = flow.field_map;
      }
    }

    if (field_map) {
      context = _.clone(ins);
      context._ = _;
      script = "var instances = " + field_map + "; exports.instances = instances";

      try {
        res = _eval(script, "handlerInstanceByFieldMap", context, false).instances;
      } catch (error) {
        e = error;
        res = {
          _error: e
        };
        logger.error(e);
      }
    }
  }

  return res;
};

InstanceManager.getCurrentApprove = function (instance, handler) {
  var currentApprove, currentApproves, currentTraces;

  if (!instance || !instance.traces || instance.traces.length < 1) {
    return;
  }

  currentTraces = instance.traces.filterProperty('is_finished', false);

  if (currentTraces.length) {
    currentApproves = currentTraces[0].approves.filterProperty('is_finished', false).filterProperty('handler', handler);
    currentApprove = currentApproves.length > 0 ? currentApproves[0] : null;
  }

  if (!currentApprove || currentApprove.type === 'cc') {
    _.each(instance.traces, function (t) {
      _.each(t.approves, function (a) {
        if (a.type === 'cc' && a.user === handler && a.is_finished === false) {
          currentApprove = a;
        }
      });
    });
  }

  if (!currentApprove) {
    return;
  }

  return currentApprove;
};

InstanceManager.getCurrentTrace = function (instance, traceId) {
  return instance.traces.findPropertyByPK("_id", traceId);
};

InstanceManager.getMyApprove = function (instanceId, userId) {
  var flow, instance, my_approve, nextSteps, next_user_ids, step, trace;
  instance = db.instances.findOne({
    _id: instanceId
  });
  flow = uuflowManager.getFlow(instance.flow);
  my_approve = InstanceManager.getCurrentApprove(instance, userId);

  if (my_approve) {
    trace = InstanceManager.getCurrentTrace(instance, my_approve.trace);
    step = uuflowManager.getStep(instance, flow, trace.step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "");

    if (nextSteps.length === 1) {
      next_user_ids = getHandlersManager.getHandlers(instance._id, nextSteps[0]);

      if (next_user_ids.length === 1) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: next_user_ids
        }];
        return my_approve;
      }
    }
  }
};

InstanceManager.getBatchInstances = function (space, categoryId, flowIds, inbox_user) {
  var FIELDS, _batch_instances, categoryFlows, inbox_instances, query, unCategoryFlows;

  _batch_instances = new Array();
  query = {
    space: space,
    inbox_users: inbox_user
  };
  FIELDS = {
    name: 1,
    applicant_name: 1,
    submit_date: 1,
    flow_version: 1,
    "traces.step": 1,
    flow: 1
  };

  if (categoryId) {
    if (categoryId === '-1') {
      unCategoryFlows = flowManager.getUnCategoriesFlows(space, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: unCategoryFlows
      };
    } else {
      categoryFlows = flowManager.getCategoriesFlows(space, categoryId, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: categoryFlows
      };
    }
  }

  if (flowIds) {
    query.flow = {
      $in: flowIds
    };
  }

  inbox_instances = db.instances.find(query, {
    fields: FIELDS,
    skip: 0,
    limit: 100
  });
  inbox_instances.forEach(function (ins) {
    var currentStep, currentStepId, flow;
    currentStepId = _.last(ins.traces).step;
    flow = db.flows.findOne({
      _id: ins.flow
    });
    currentStep = stepManager.getStep(ins, flow, currentStepId);

    if (stepManager.allowBatch(currentStep) && InstanceManager.getMyApprove(ins._id, inbox_user)) {
      delete ins.flow_version;
      delete ins.traces;
      delete ins.flow;
      return _batch_instances.push(ins);
    }
  });
  return _batch_instances;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"publications":{"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/categories.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('categories', function (spaceId) {
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.categories.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      space: 1,
      sort_no: 1,
      app: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/cfs_instances.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('cfs_instances', function (instanceIds) {
  check(instanceIds, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceIds) {
    return this.ready();
  }

  return cfs.instances.find({
    'metadata.instance': {
      $in: instanceIds
    },
    $or: [{
      'metadata.is_private': {
        $ne: true
      }
    }, {
      'metadata.is_private': true,
      "metadata.owner": this.userId
    }]
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_positions', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_positions.find({
    space: spaceId
  }, {
    fields: {
      role: 1,
      users: 1,
      org: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions_tabular.coffee                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publishComposite('flow_positions_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flow_positions.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (position) {
        this.unblock();
        return db.flow_roles.find({
          _id: position.role
        }, {
          fields: {
            name: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.organizations.find({
          _id: position.org
        }, {
          fields: {
            fullname: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.space_users.find({
          space: position.space,
          user: {
            $in: position.users
          }
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_roles.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_roles', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_roles.find({
    space: spaceId
  }, {
    fields: {
      name: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flows.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flows', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (db.flows.find({
    space: spaceId
  }).count() === 0) {
    db.spaces.createTemplateFormAndFlow(spaceId);
  }

  return db.flows.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      company_id: 1,
      sort_no: 1
    }
  });
});
Meteor.publish('flow_version', function (spaceId, flowId, versionId) {
  var getFlowVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFlowVersion = function (id, versionId) {
    var flow, flow_version;
    flow = db.flows.findOne({
      _id: id
    });

    if (flow) {
      flow_version = flow.current;
      flow_version.latest = true;

      if (flow_version._id !== versionId) {
        flow_version = flow.historys.findPropertyByPK("_id", versionId);
        flow_version.latest = false;
      }

      return flow_version;
    }
  };

  handle = db.flows.find({
    _id: flowId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("flow_versions", versionId, getFlowVersion(id, versionId));
    }
  });
  self.added("flow_versions", versionId, getFlowVersion(flowId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('distribute_optional_flows', function (flow_ids) {
  if (!this.userId) {
    return this.ready();
  }

  if (!flow_ids) {
    return this.ready();
  }

  return db.flows.find({
    _id: {
      $in: flow_ids
    }
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publish('flow', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return db.flows.find({
    _id: flowId,
    space: spaceId
  }, {
    fields: {
      print_template: 1,
      instance_template: 1,
      events: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      upload_after_being_distributed: 1,
      distribute_end_notification: 1,
      company_id: 1,
      allow_select_step: 1
    }
  });
});
Meteor.publishComposite('flows_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flows.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (flow) {
        this.unblock();
        return db.space_users.find({
          space: flow.space,
          user: flow.current.modified_by
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.forms.find({
          space: flow.space,
          _id: flow.form
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1,
            category: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.categories.find({
          space: flow.space
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/forms.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('forms', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.forms.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      category: 1,
      state: 1,
      description: 1,
      instance_style: 1
    }
  });
});
Meteor.publish('form_version', function (spaceId, formId, versionId) {
  var getFormVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!formId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFormVersion = function (id, versionId) {
    var form, form_version;
    form = db.forms.findOne({
      _id: id
    });

    if (!form) {
      return {};
    }

    form_version = form.current;
    form_version.latest = true;

    if (form_version._id !== versionId) {
      form_version = form.historys.findPropertyByPK("_id", versionId);
      form_version.latest = false;
    }

    return form_version;
  };

  handle = db.forms.find({
    _id: formId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("form_versions", versionId, getFormVersion(id, versionId));
    }
  });
  self.added("form_versions", versionId, getFormVersion(formId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_data.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_data.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instance_data', function (instanceId, box) {
  var getMiniInstance, getMyapproveModified, handle, instance, instance_fields_0, miniApproveFields, needChange, self, triggerChangeFields, triggerChangeFieldsValues;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;
  miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description', 'auto_submitted'];
  triggerChangeFields = ['form_version', 'flow_version', 'related_instances', '_my_approve_read_dates'];
  triggerChangeFieldsValues = {};
  instance_fields_0 = {
    "record_synced": 0,
    "traces.approves.handler_organization_name": 0,
    "traces.approves.handler_organization": 0,
    "traces.approves.cost_time": 0,
    "traces.approves.is_error": 0,
    "traces.approves.deadline": 0,
    "traces.approves.remind_date": 0,
    "traces.approves.reminded_count": 0,
    "traces.approves.modified_by": 0,
    "traces.approves.modified": 0,
    "traces.approves.geolocation": 0,
    "traces.approves.cc_users": 0,
    "traces.approves.from_approve_id": 0,
    "traces.approves.values_history": 0
  };

  getMyapproveModified = function (traces) {
    var myApproveModifieds;
    myApproveModifieds = new Array();

    if (traces != null) {
      traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.user === self.userId || approve.handler === self.userId) {
            return myApproveModifieds.push(approve.read_date);
          }
        }) : void 0 : void 0;
      });
    }

    return myApproveModifieds;
  };

  getMiniInstance = function (_instanceId) {
    var instance, ref, ref1, show_modal_traces_list, traces;
    instance = db.instances.findOne({
      _id: _instanceId
    }, {
      fields: instance_fields_0
    });

    if (instance) {
      triggerChangeFields.forEach(function (key) {
        if (key === '_my_approve_read_dates') {
          return triggerChangeFieldsValues[key] = getMyapproveModified(instance.traces);
        } else {
          return triggerChangeFieldsValues[key] = instance[key];
        }
      });
      show_modal_traces_list = ((ref = db.space_settings.findOne({
        space: instance.space,
        key: "show_modal_traces_list"
      }, {
        fields: {
          values: 1
        }
      })) != null ? ref.values : void 0) || false;

      if (show_modal_traces_list) {
        traces = new Array();

        if (instance != null) {
          if ((ref1 = instance.traces) != null) {
            ref1.forEach(function (trace) {
              var _trace, approves, ref2;

              _trace = _.clone(trace);
              approves = new Array();

              if (trace != null) {
                if ((ref2 = trace.approves) != null) {
                  ref2.forEach(function (approve) {
                    if (approve.type !== 'cc' || approve.user === self.userId || approve.handler === self.userId || !_.isEmpty(approve.sign_field_code)) {
                      return approves.push(approve);
                    }
                  });
                }
              }

              _trace.approves = approves;
              return traces.push(_trace);
            });
          }
        }

        instance.traces = traces;
      }
    }

    return instance;
  };

  needChange = function (changeFields) {
    var _change, _rev;

    if (changeFields) {
      _change = false;
      _rev = _.find(triggerChangeFields, function (key) {
        var _key, _my_approve_modifieds;

        _key = key;

        if (key === '_my_approve_read_dates') {
          _key = 'traces';
        }

        if (_.has(changeFields, _key)) {
          if (key === '_my_approve_read_dates') {
            _my_approve_modifieds = getMyapproveModified(changeFields.traces);
            return !_.isEqual(triggerChangeFieldsValues[key], _my_approve_modifieds);
          } else {
            return !_.isEqual(triggerChangeFieldsValues[key], changeFields[key]);
          }
        }
      });

      if (_rev) {
        _change = true;
      }

      return _change;
    }

    return true;
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id, fields) {
      if (box !== 'inbox' || needChange(fields)) {
        return self.changed("instances", id, getMiniInstance(id));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  instance = getMiniInstance(instanceId);
  self.added("instances", instance != null ? instance._id : void 0, instance);
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('instance_traces', function (instanceId) {
  var getInstanceTraces, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;

  getInstanceTraces = function (_insId) {
    return db.instances.findOne({
      _id: _insId
    }, {
      fields: {
        _id: 1,
        traces: 1
      }
    });
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id) {
      return self.changed("instance_traces", instanceId, getInstanceTraces(instanceId));
    }
  });
  self.added("instance_traces", instanceId, getInstanceTraces(instanceId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_list.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_list.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_list', function (spaceId, box, flowId) {
  var query;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  query = {
    space: spaceId
  };

  if (box === "inbox") {
    query.inbox_users = this.userId;
  } else if (box === "outbox") {
    query.outbox_users = this.userId;
  } else if (box === "draft") {
    query.submitter = this.userId;
    query.state = "draft";
  } else if (box === "pending") {
    query.submitter = this.userId;
    query.state = "pending";
  } else if (box === "completed") {
    query.submitter = this.userId;
    query.state = "completed";
  } else if (box === "monitor") {
    query.flow = flowId;
    query.state = {
      $in: ["pending", "completed"]
    };
  } else {
    query.state = "none";
  }

  return db.instances.find(query, {
    fields: {
      name: 1,
      created: 1,
      form: 1,
      flow: 1,
      space: 1,
      modified: 1,
      applicant: 1,
      is_archived: 1,
      form_version: 1,
      flow_version: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_tabular.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var asyncLastFinishedApprove, lastFinishedApproveAggregate;

lastFinishedApproveAggregate = function (instanceid, userId, dataMap, callback) {
  var operation;
  operation = [{
    "$match": {
      "_id": instanceid
    }
  }, {
    "$project": {
      "name": 1,
      "_approve": "$traces.approves"
    }
  }, {
    "$unwind": "$_approve"
  }, {
    "$unwind": "$_approve"
  }, {
    "$match": {
      "_approve.is_finished": true,
      $or: [{
        "_approve.handler": userId
      }, {
        "_approve.user": userId
      }]
    }
  }, {
    "$group": {
      "_id": "$_id",
      "finish_date": {
        "$last": "$_approve.finish_date"
      }
    }
  }];
  return db.instances.rawCollection().aggregate(operation).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return dataMap.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

asyncLastFinishedApprove = Meteor.wrapAsync(lastFinishedApproveAggregate);
Meteor.publish("instance_tabular", function (tableName, ids, fields) {
  var getMyApprove, getMyLastFinishedApprove, getStepCurrentName, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  fields.cc_users = 1;
  self = this;

  getMyLastFinishedApprove = function (userId, instanceId) {
    var data;
    data = [];
    asyncLastFinishedApprove(instanceId, userId, data);

    if (data.length > 0) {
      return data[0];
    }
  };

  getMyApprove = function (userId, instanceId) {
    var approve, approves, instance, is_read, myApprove, notFinishedTraces;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        traces: 1
      }
    });
    myApprove = null;

    if (!instance) {
      return;
    }

    if (!instance.traces || instance.traces.length < 1) {
      return;
    }

    notFinishedTraces = instance.traces.filterProperty("is_finished", false);

    if (notFinishedTraces.length > 0) {
      approves = notFinishedTraces[0].approves.filterProperty("is_finished", false).filterProperty("handler", userId);

      if (approves.length > 0) {
        approve = approves[0];
        myApprove = {
          id: approve._id,
          instance: approve.instance,
          trace: approve.trace,
          is_read: approve.is_read,
          start_date: approve.start_date,
          agent: approve.agent,
          user_name: approve.user_name
        };
      }
    }

    if (!myApprove) {
      is_read = false;
      instance.traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.type === 'cc' && approve.user === userId && approve.is_finished === false) {
            if (approve.is_read) {
              is_read = true;
            }

            return myApprove = {
              id: approve._id,
              is_read: is_read,
              start_date: approve.start_date,
              agent: approve.agent,
              user_name: approve.user_name
            };
          }
        }) : void 0 : void 0;
      });
    }

    return myApprove;
  };

  getStepCurrentName = function (instanceId) {
    var instance, ref, ref1, stepCurrentName;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        "traces.name": 1,
        "traces": {
          $slice: -1
        }
      }
    });

    if (instance) {
      stepCurrentName = (ref = instance.traces) != null ? (ref1 = ref[0]) != null ? ref1.name : void 0 : void 0;
    }

    return stepCurrentName;
  };

  handle = db.instances.find({
    _id: {
      $in: ids
    }
  }, {
    fields: {
      traces: 0
    }
  }).observeChanges({
    changed: function (id) {
      var instance, myApprove, myLastFinishedApprove, ref, ref1;
      instance = db.instances.findOne({
        _id: id
      }, {
        fields: fields
      });

      if (!instance) {
        return;
      }

      myApprove = getMyApprove(self.userId, id);
      myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

      if (myApprove) {
        instance.is_read = myApprove.is_read;
        instance.start_date = myApprove.start_date;

        if (myApprove.agent) {
          instance.agent_user_name = myApprove.user_name;
        }
      } else {
        instance.is_read = true;
      }

      if (myLastFinishedApprove) {
        instance.my_finish_date = myLastFinishedApprove.finish_date;
      }

      instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
      instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
      delete instance.cc_users;
      return self.changed("instances", id, instance);
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  ids.forEach(function (id) {
    var instance, myApprove, myLastFinishedApprove, ref, ref1;
    instance = db.instances.findOne({
      _id: id
    }, {
      fields: fields
    });

    if (!instance) {
      return;
    }

    myApprove = getMyApprove(self.userId, id);
    myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

    if (myApprove) {
      instance.is_read = myApprove.is_read;
      instance.start_date = myApprove.start_date;

      if (myApprove.agent) {
        instance.agent_user_name = myApprove.user_name;
      }
    } else {
      instance.is_read = true;
    }

    if (myLastFinishedApprove) {
      instance.my_finish_date = myLastFinishedApprove.finish_date;
    }

    instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
    instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
    delete instance.cc_users;
    return self.added("instances", id, instance);
  });
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_draft.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_draft', function (spaceId) {
  var userId;
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  userId = this.userId;
  return db.instances.find({
    state: "draft",
    space: spaceId,
    submitter: userId,
    $or: [{
      inbox_users: {
        $exists: false
      }
    }, {
      inbox_users: []
    }]
  }, {
    fields: {
      _id: 1,
      state: 1,
      space: 1,
      submitter: 1,
      inbox_users: 1,
      modified: 1,
      name: 1
    },
    sort: {
      modified: -1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distributed_instances_state_by_ids.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/distributed_instances_state_by_ids.coffee                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('distributed_instances_state_by_ids', function (instance_ids) {
  var handle, self;
  check(instance_ids, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instance_ids) {
    return this.ready();
  }

  if (_.isEmpty(instance_ids)) {
    return this.ready();
  }

  self = this;
  handle = db.instances.find({
    _id: {
      $in: instance_ids
    }
  }, {
    fields: {
      state: 1,
      traces: {
        $slice: 1
      }
    }
  }).observeChanges({
    added: function (id, fields) {
      return self.added('instances', id, {
        state: fields.state,
        is_read: fields.traces[0].approves[0].is_read
      });
    },
    changed: function (id, fields) {
      if (fields.state) {
        self.changed('instances', id, {
          state: fields.state
        });
      }

      if (fields.traces) {
        return self.changed('instances', id, {
          is_read: fields.traces[0].approves[0].is_read
        });
      }
    }
  });
  this.ready();
  return this.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/related_instaces.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('related_instaces', function (instanceId, related_instances) {
  var ref, related_instance_ids;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  related_instance_ids = (ref = db.instances.findOne(instanceId, {
    fields: {
      related_instances: 1
    }
  })) != null ? ref.related_instances : void 0;

  if (related_instance_ids && _.isArray(related_instance_ids)) {
    return db.instances.find({
      _id: {
        $in: related_instance_ids
      }
    }, {
      fields: {
        _id: 1,
        name: 1,
        space: 1
      }
    });
  } else {
    return this.ready();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/space_user_signs.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isServer) {
  Meteor.publish('space_user_signs', function (spaceId) {
    check(spaceId, String);

    if (!this.userId) {
      return this.ready();
    }

    return db.space_user_signs.find({
      space: spaceId
    }, {
      fields: {
        created_by: 0,
        created: 0,
        modified_by: 0
      }
    });
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"user_inbox_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/user_inbox_instance.coffee                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Meteor.publishComposite "user_inbox_instance", ()->
	unless this.userId
		return this.ready()

	userSpaceIds = db.space_users.find({
		user: this.userId,
		user_accepted: true
	}, {fields: {space: 1}}).fetch().getEach("space");
	query = {space: {$in: userSpaceIds}}

	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]

	find: ->
		db.instances.find(query, {
			fields: {
				space: 1,
				applicant_name: 1,
				flow: 1,
				inbox_users: 1,
				cc_users: 1,
				state: 1,
				name: 1,
				modified: 1,
				form: 1
			}, sort: {modified: -1}, skip: 0, limit: 200
		});
	children: [
		{
			find: (instance, post)->
				db.flows.find({_id: instance.flow}, {fields: {name: 1, space: 1}});
		}
	]
 */ /*
    Meteor.publish 'my_inbox_instances', (spaceId)->
    	unless this.userId
    		return this.ready()
    
    	self = this;
    
    	 *	userSpaceIds = db.space_users.find({
    	 *		user: this.userId,
    	 *		user_accepted: true
    	 *	}, {fields: {space: 1}}).fetch().getEach("space");
    
    	query = {space: spaceId}
    
    	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]
    
    	fields = {
    		space: 1,
     *		applicant_name: 1,
    		flow: 1,
    		inbox_users: 1,
    		cc_users: 1,
    		state: 1,
     *		name: 1,
     *		modified: 1,
    		form: 1
    	}
    
    	handle = db.instances.find(query, {sort: {modified: -1}, skip: 0, limit: 500}).observeChanges {
    		added: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.added("instances", id, instance)
    		changed: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.changed("instances", id, instance);
    		removed: (id)->
    			self.removed("instances", id);
    	}
    
    	self.ready();
    	self.onStop ()->
    		handle.stop()
     */var _async_get_flow_instances_aggregate, _get_flow_instances_aggregate;

_get_flow_instances_aggregate = function (spaceId, userId, _items, callback) {
  return db.instances.rawCollection().aggregate([{
    $match: {
      space: spaceId,
      $or: [{
        inbox_users: userId
      }, {
        cc_users: userId
      }]
    }
  }, {
    $group: {
      _id: {
        flow: "$flow",
        category: "$category"
      },
      count: {
        $sum: 1
      }
    }
  }]).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return _items.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

_async_get_flow_instances_aggregate = Meteor.wrapAsync(_get_flow_instances_aggregate);
Meteor.publish('my_inbox_flow_instances_count', function (spaceId) {
  var _changeData, _flowsData, _init, data, handle, query, self;

  if (!this.userId) {
    return this.ready();
  }

  self = this;
  query = {
    space: spaceId
  };
  query.$or = [{
    inbox_users: this.userId
  }, {
    cc_users: this.userId
  }];
  data = [];

  _async_get_flow_instances_aggregate(spaceId, self.userId, data);

  _flowsData = [];

  _.each(data, function (dataItem) {
    return _flowsData.push({
      _id: dataItem._id.flow,
      category: dataItem._id.category,
      count: dataItem.count
    });
  });

  self.added("flow_instances", spaceId, {
    flows: _flowsData
  });

  _changeData = function (doc, action) {
    var flow_instance;
    flow_instance = _.find(_flowsData, function (f) {
      return f._id === doc.flow;
    });

    if (flow_instance) {
      if (action === "added") {
        flow_instance.count++;
      } else if (action === "removed") {
        flow_instance.count--;
      }
    } else if (action === "added") {
      _flowsData.push({
        _id: doc.flow,
        category: doc.category,
        count: 1
      });
    }

    return self.changed("flow_instances", spaceId, {
      flows: _flowsData
    });
  };

  _init = true;
  handle = db.instances.find(query, {
    fields: {
      _id: 1,
      inbox_users: 1,
      cc_users: 1,
      flow: 1,
      category: 1
    }
  }).observe({
    added: function (doc) {
      if (!_init) {
        return _changeData(doc, "added");
      }
    },
    removed: function (doc) {
      if (!_init) {
        return _changeData(doc, "removed");
      }
    }
  });
  _init = false;
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_main_attach_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_main_attach_template.coffee                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_main_attach_template', function (spaceId, flowId) {
  check(spaceId, String);
  check(flowId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!(spaceId && flowId)) {
    return this.ready();
  }

  return Creator.getCollection('cms_files').find({
    space: spaceId,
    'parent.o': 'flows',
    'parent.ids': flowId,
    name: '正文.docx'
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"flow-template":{"workflow_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/flow-template/workflow_template.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
workflowTemplate = {};
workflowTemplate["en"] = [];
workflowTemplate["zh-CN"] = [];
Meteor.startup(function () {
  var absolute_path_cn, absolute_path_us, filesList_cn, filesList_us, fs, mime, path, path_cn, path_us, readFileList, ref, ref1;
  fs = require('fs');
  path = require('path');
  mime = require('mime');

  readFileList = function (pathDir, filesList) {
    var files;
    files = fs.readdirSync(pathDir);
    return files.forEach(function (name, index) {
      var obj, stat;
      stat = fs.statSync(path.join(pathDir, name));

      if (stat.isDirectory()) {
        return readFileList(path.join(pathDir, name), filesList);
      } else {
        obj = {};
        obj.path = pathDir;
        obj.name = name;
        return filesList.push(obj);
      }
    });
  };

  filesList_cn = [];
  path_cn = (ref = Meteor.settings.workflowTemplates) != null ? ref.path_cn : void 0;

  if (path_cn) {
    absolute_path_cn = path.resolve(path_cn);
    console.log("absolute_path_cn", absolute_path_cn);

    if (fs.existsSync(absolute_path_cn)) {
      readFileList(absolute_path_cn, filesList_cn);
      filesList_cn.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["zh-CN"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取zh-cn文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }

  filesList_us = [];
  path_us = (ref1 = Meteor.settings.workflowTemplates) != null ? ref1.path_us : void 0;

  if (path_us) {
    absolute_path_us = path.resolve(path_us);
    console.log("absolute_path_us", absolute_path_us);

    if (fs.existsSync(absolute_path_us)) {
      readFileList(absolute_path_us, filesList_us);
      return filesList_us.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["en"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取en-us文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/startup.coffee                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"schedule":{"auto_finish_process_delegation.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/auto_finish_process_delegation.coffee                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.auto_finish_process_delegation : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.auto_finish_process_delegation;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e, now;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('auto_finish_process_delegation');
        now = new Date();
        db.process_delegation_rules.update({
          enabled: true,
          end_time: {
            $lte: now
          }
        }, {
          $set: {
            enabled: false
          }
        }, {
          multi: true
        });
        console.timeEnd('auto_finish_process_delegation');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO AUTO_FINISH_PROCESS_DELEGATION ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function () {
      return console.log('Failed to bind environment');
    }));
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeout_auto_submit.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/timeout_auto_submit.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.timeout_auto_submit : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.timeout_auto_submit;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('timeout_auto_submit');
        uuflowManager.timeoutAutoSubmit();
        console.timeEnd('timeout_auto_submit');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO TIMEOUT_AUTO_SUBMIT ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function () {
      return console.log('Failed to bind environment');
    }));
  }
});
Meteor.methods({
  timeout_auto_submit: function (ins_id) {
    uuflowManager.timeoutAutoSubmit(ins_id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"routes":{"nextStepUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/nextStepUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/nextStepUsers", function (req, res, next) {
  var deal_type = req.query.deal_type,
      spaceId = req.query.spaceId,
      error = "";

  if (!deal_type || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var body = req.body,
      nextStepUsers = [];

  switch (deal_type) {
    case 'specifyUser':
      var specifyUserIds = body.specifyUserIds;
      nextStepUsers = WorkflowManager.getUsers(spaceId, specifyUserIds);
      break;

    case 'applicantRole':
      var applicantId = body.applicantId,
          approveRoleIds = body.approveRoleIds;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);
      if (applicant) nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, applicant.organizations, approveRoleIds);
      break;

    case 'hrRole':
      var approveHrRoleIds = body.approveHrRoleIds;
      if (approveHrRoleIds) nextStepUsers = WorkflowManager.getHrRolesUsers(spaceId, approveHrRoleIds);
      break;

    case 'applicantSuperior':
      var applicantId = body.applicantId;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);

      if (applicant.manager) {
        nextStepUsers = WorkflowManager.getUsers(spaceId, applicant.manager);
      }

      break;

    case 'applicant':
      var applicantId = body.applicantId;
      nextStepUsers = WorkflowManager.getUsers(spaceId, applicantId);
      break;

    case 'userField':
      var userField = body.userField,
          userFieldValue = body.userFieldValue;

      if (userField.is_multiselect) {
        //如果多选，以userFieldValue值为Array
        nextStepUsers = WorkflowManager.getUsers(spaceId, userFieldValue);
      } else {
        nextStepUsers.push(WorkflowManager.getUser(spaceId, userFieldValue));
      }

      break;

    case 'orgField':
      var orgs,
          orgChildrens,
          orgField = body.orgField,
          orgFieldValue = body.orgFieldValue;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          orgs = WorkflowManager.getOrganizations(orgFieldValue);
          orgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, orgFieldValue);
        } else {
          orgs = [WorkflowManager.getOrganization(orgFieldValue)];
          orgChildrens = WorkflowManager.getOrganizationChildrens(spaceId, orgFieldValue);
        }

        nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgChildrens);
        orgFieldUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgs);
        nextStepUsers = nextStepUsers.concat(orgFieldUsers);

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ORG_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'specifyOrg':
      var specifyOrgIds = body.specifyOrgIds;
      var specifyOrgs = WorkflowManager.getOrganizations(specifyOrgIds);
      var specifyOrgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, specifyOrgIds);
      nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgs);
      nextStepUsers = nextStepUsers.concat(WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgChildrens));
      break;

    case 'userFieldRole':
      var userField = body.userField,
          userFieldValue = body.userFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (userFieldValue) {
        if (userField.is_multiselect) {
          //如果多选，以userFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, userFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, [userFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'orgFieldRole':
      var orgField = body.orgField,
          orgFieldValue = body.orgFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, orgFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, [orgFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    default:
      break;
  }

  var result = [];
  nextStepUsers.forEach(function (su) {
    var o = {
      id: su.id,
      name: su.name
    };
    result.push(o);
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'nextStepUsers': WorkflowManager.uniqUsers(result),
      'error': error
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getSpaceUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getSpaceUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getSpaceUsers", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getUsers(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getFormulaUserObjects.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getFormulaUserObjects.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getFormulaUserObjects", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var users = WorkflowManager.getFormulaUserObject(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': users
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"init_formula_values.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/init_formula_values.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/init_formula_values", function (req, res, next) {
  var fields = req.body.fields,
      autoFormDoc = req.body.autoFormDoc,
      approver = req.body.approver,
      applicant = req.body.applicant,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!fields || !spaceId || !autoFormDoc || !approver || !applicant) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
    return;
  }

  formula_values = Form_formula.init_formula_values(fields, autoFormDoc, approver, applicant, spaceId);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'formula_values': formula_values
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getNameForUser.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getNameForUser.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/getNameForUser", function (req, res, next) {
  var e, user, userId;

  try {
    userId = req.body.userId;

    if (!userId) {
      JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'errors': '缺少参数'
        }
      });
    }

    user = WorkflowManager.getNameForUser(userId);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        user: user
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_designer_startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_designer_startup.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/designer/startup', function (req, res, next) {
  var categories, companyId, current_user, current_user_info, e, flows, forms, org, organizations, positions, query, ref, result, roles, spaceIds, spaceUsers, spaces, spacesQuery, userIds, users;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    companyId = ((ref = req.query) != null ? ref.companyId : void 0) || '';
    spacesQuery = {
      admins: current_user
    };

    if (companyId) {
      org = db.organizations.findOne(companyId, {
        fields: {
          space: 1
        }
      });

      if (!org) {
        throw new Meteor.Error('error', 'companyId is invalid');
      }

      spacesQuery = {
        _id: org.space
      };
    }

    spaces = db.spaces.find(spacesQuery).fetch();
    spaceIds = _.pluck(spaces, '_id');
    query = {
      space: {
        $in: spaceIds
      }
    };

    if (companyId) {
      query.company_id = companyId;
    }

    spaceUsers = db.space_users.find(query).fetch();
    forms = db.forms.find(query, {
      fields: {
        name: 1,
        state: 1,
        is_deleted: 1,
        is_valid: 1,
        space: 1,
        description: 1,
        help_text: 1,
        created: 1,
        created_by: 1,
        current: 1,
        category: 1,
        instance_style: 1,
        company_id: 1
      }
    }).fetch();
    flows = db.flows.find(query, {
      fields: {
        name: 1,
        name_formula: 1,
        code_formula: 1,
        space: 1,
        description: 1,
        is_valid: 1,
        form: 1,
        flowtype: 1,
        state: 1,
        is_deleted: 1,
        created: 1,
        created_by: 1,
        help_text: 1,
        current_no: 1,
        current: 1,
        perms: 1,
        error_message: 1,
        distribute_optional_users: 1,
        company_id: 1
      }
    }).fetch();
    roles = db.flow_roles.find(query).fetch();
    organizations = db.organizations.find(query).fetch();
    positions = db.flow_positions.find(query).fetch();
    categories = db.categories.find({
      space: {
        $in: spaceIds
      }
    }).fetch();
    userIds = _.pluck(spaceUsers, 'user');
    users = db.users.find({
      _id: {
        $in: userIds
      }
    }, {
      fields: {
        name: 1
      }
    }).fetch();
    result = {};
    result.SpaceUsers = spaceUsers;
    result.Users = users;
    result.Forms = forms;
    result.Flows = flows;
    result.Organizations = organizations;
    result.Positions = positions;
    result.Roles = roles;
    result.Categories = categories;
    result.Spaces = spaces;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: result
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_engine.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_engine.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/engine', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Approvals'], function (approve_from_client) {
      return uuflowManager.workflow_engine(approve_from_client, current_user_info, current_user);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_drafts.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/drafts', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var new_ins, new_ins_id;
      new_ins_id = uuflowManager.create_instance(instance_from_client, current_user_info);
      new_ins = db.instances.findOne({
        _id: new_ins_id
      }, {
        fields: {
          space: 1,
          flow: 1,
          flow_version: 1,
          form: 1,
          form_version: 1
        }
      });
      return inserted_instances.push(new_ins);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_remove.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_remove.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/remove', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, delete_obj, flow, inbox_users, instance, space, spaceUserOrganizations, space_id, space_user, user_ids;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      flow = db.flows.findOne({
        _id: instance.flow
      });
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: space_user.organizations
        }
      }).fetch();

      if (instance.submitter !== current_user && !space.admins.includes(current_user) && !WorkflowManager.canAdmin(flow, space_user, spaceUserOrganizations)) {
        throw new Meteor.Error('error!', "您不能删除此申请单。");
      }

      delete_obj = db.instances.findOne(instance_from_client["_id"]);
      delete_obj.deleted = new Date();
      delete_obj.deleted_by = current_user;
      db.deleted_instances.insert(delete_obj);
      db.instances.remove(instance_from_client["_id"]);

      if (delete_obj.state !== "draft") {
        inbox_users = delete_obj.inbox_users ? delete_obj.inbox_users : [];
        cc_users = delete_obj.cc_users ? delete_obj.cc_users : [];
        user_ids = _.uniq(inbox_users.concat(cc_users));

        _.each(user_ids, function (u_id) {
          return pushManager.send_message_to_specifyUser("terminate_approval", u_id);
        });

        return pushManager.send_instance_notification("monitor_delete_applicant", delete_obj, "", current_user_info);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_submit.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/submit', function (req, res, next) {
  var current_user, current_user_info, e, hashData, result;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    result = [];

    _.each(hashData['Instances'], function (instance_from_client) {
      var current_approve, flow_id, instance, r;
      r = uuflowManager.submit_instance(instance_from_client, current_user_info);

      if (r.alerts) {
        result.push(r);
      }

      if (!_.isEmpty(instance_from_client['inbox_users'])) {
        pushManager.send_message_to_specifyUser("current_user", current_user);
      }

      if (_.isEmpty(r.alerts)) {
        instance = db.instances.findOne(instance_from_client._id);
        flow_id = instance.flow;
        current_approve = instance_from_client.traces[0].approves[0];
        pushManager.triggerWebhook(flow_id, instance, current_approve, 'draft_submit', current_user, instance.inbox_users);
      }

      return uuflowManager.distributedInstancesRemind(instance_from_client);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        result: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_terminate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_terminate.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/terminate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var flow, flow_id, flow_ver_end_step, flow_vers, h, i, ins, instance, instance_flow_ver, instance_id, instance_trace, newApprove, newTrace, now, old_cc_users, old_inbox_users, old_outbox_users, permissions, r, setObj, space, space_id, space_user, space_user_org_info, tempUsers, terminate_reason, traces;
      terminate_reason = instance_from_client["terminate_reason"];
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      flow_id = instance.flow;
      space = uuflowManager.getSpace(space_id);
      flow = uuflowManager.getFlow(flow_id);
      uuflowManager.isInstancePending(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_flow_ver = null;
      flow_ver_end_step = null;
      flow_vers = new Array();
      flow_vers.push(flow.current);
      flow_vers = flow_vers.concat(flow.historys);
      instance_flow_ver = _.find(flow_vers, function (f_ver) {
        return f_ver._id === instance.flow_version;
      });

      if (!instance_flow_ver) {
        throw new Meteor.Error('error!', "未找到申请单对应流程版本");
      }

      flow_ver_end_step = _.find(instance_flow_ver.steps, function (f_step) {
        return f_step.step_type === "end";
      });
      permissions = permissionManager.getFlowPermissions(flow_id, current_user);
      now = new Date();
      setObj = new Object();

      if (permissions.includes("admin") || space.admins.includes(current_user) || instance.submitter === current_user || instance.applicant === current_user) {
        if (!terminate_reason) {
          throw new Meteor.Error('error!', "还未填写强制结束申请单的理由，操作失败");
        }

        instance_trace = _.find(instance.traces, function (trace) {
          return trace.is_finished === false;
        });
        traces = instance.traces;
        i = 0;

        while (i < traces.length) {
          if (traces[i].is_finished === false) {
            traces[i].is_finished = true;
            traces[i].finish_date = now;
            h = 0;

            while (h < traces[i].approves.length) {
              if (traces[i].approves[h].is_finished === false) {
                traces[i].approves[h].is_finished = true;
                traces[i].approves[h].finish_date = now;
                traces[i].approves[h].judge = null;
                traces[i].approves[h].description = null;
              }

              h++;
            }

            newApprove = new Object();
            newApprove._id = new Mongo.ObjectID()._str;
            newApprove.instance = instance_id;
            newApprove.trace = instance_trace._id;
            newApprove.is_finished = true;
            newApprove.user = current_user;
            newApprove.user_name = current_user_info.name;
            newApprove.handler = current_user;
            newApprove.handler_name = current_user_info.name;
            newApprove.handler_organization = space_user_org_info["organization"];
            newApprove.handler_organization_name = space_user_org_info["organization_name"];
            newApprove.handler_organization_fullname = space_user_org_info["organization_fullname"];
            newApprove.start_date = now;
            newApprove.finish_date = now;
            newApprove.due_date = instance_trace.due_date;
            newApprove.read_date = now;
            newApprove.judge = "terminated";
            newApprove.is_read = true;
            newApprove.description = terminate_reason;
            newApprove.is_error = false;
            newApprove.values = new Object();
            newApprove.cost_time = newApprove.finish_date - newApprove.start_date;
            traces[i].approves.push(newApprove);
          }

          i++;
        }

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [instance_trace._id];
        newTrace.is_finished = true;
        newTrace.step = flow_ver_end_step._id;
        newTrace.name = flow_ver_end_step.name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.judge = "terminated";
        setObj.state = "completed";
        setObj.final_decision = "terminated";
        old_inbox_users = instance.inbox_users;
        old_cc_users = instance.cc_users;
        old_outbox_users = instance.outbox_users;
        tempUsers = new Array();

        _.each(instance_trace.approves, function (nft_approve) {
          tempUsers.push(nft_approve.user);
          return tempUsers.push(nft_approve.handler);
        });

        setObj.outbox_users = _.uniq(instance.outbox_users.concat(tempUsers));
        setObj.inbox_users = new Array();
        setObj.cc_users = new Array();
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.current_step_name = flow_ver_end_step.name;
        setObj.current_step_auto_submit = false;
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          ins = uuflowManager.getInstance(instance_id);
          pushManager.send_instance_notification("submit_terminate_applicant", ins, terminate_reason, current_user_info);

          if (old_inbox_users) {
            _.each(_.uniq(old_inbox_users.concat(old_cc_users)), function (user_id) {
              return pushManager.send_message_to_specifyUser("terminate_approval", user_id);
            });
          }

          return pushManager.triggerWebhook(ins.flow, ins, {}, 'terminate', current_user, []);
        }
      }
    });

    pushManager.send_message_current_user(current_user_info);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_reassign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_reassign.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/reassign', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, approve_users_handlers, assignee_appr, current_space_user, current_user_organization, i, inbox_users, inbox_users_from_client, ins, instance, instance_id, last_trace, last_trace_from_client, new_inbox_users, not_in_inbox_users, now, permissions, r, reassign_reason, setObj, space, space_id;

      instance_id = instance_from_client['_id'];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      uuflowManager.isInstancePending(instance);
      last_trace_from_client = _.last(instance_from_client["traces"]);
      last_trace = _.find(instance.traces, function (t) {
        return t._id === last_trace_from_client["_id"];
      });

      if (last_trace.is_finished === true) {
        return;
      }

      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne({
        _id: space_id
      }, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      inbox_users = instance.inbox_users;
      inbox_users_from_client = instance_from_client["inbox_users"];
      reassign_reason = instance_from_client["reassign_reason"];
      not_in_inbox_users = _.difference(inbox_users, inbox_users_from_client);
      new_inbox_users = _.difference(inbox_users_from_client, inbox_users);

      if (not_in_inbox_users.length === 0 && new_inbox_users.length === 0) {
        return;
      }

      setObj = new Object();
      now = new Date();
      i = 0;
      approve_users_handlers = [];

      while (i < last_trace.approves.length) {
        if (not_in_inbox_users.includes(last_trace.approves[i].handler)) {
          if (last_trace.approves[i].is_finished === false && last_trace.approves[i].type !== "cc" && last_trace.approves[i].type !== "distribute") {
            last_trace.approves[i].is_finished = true;
            last_trace.approves[i].finish_date = now;
            last_trace.approves[i].judge = "terminated";
            last_trace.approves[i].description = "";
            last_trace.approves[i].cost_time = last_trace.approves[i].finish_date - last_trace.approves[i].start_date;
            approve_users_handlers.push(last_trace.approves[i].user);
            approve_users_handlers.push(last_trace.approves[i].handler);
          }
        }

        i++;
      }

      current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
      current_user_organization = db.organizations.findOne({
        _id: current_space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      assignee_appr = new Object();
      assignee_appr._id = new Mongo.ObjectID()._str;
      assignee_appr.instance = last_trace.instance;
      assignee_appr.trace = last_trace._id;
      assignee_appr.is_finished = true;
      assignee_appr.user = current_user;
      assignee_appr.user_name = current_user_info.name;
      assignee_appr.handler = current_user;
      assignee_appr.handler_name = current_user_info.name;
      assignee_appr.handler_organization = current_space_user.organization;
      assignee_appr.handler_organization_name = current_user_organization.name;
      assignee_appr.handler_organization_fullname = current_user_organization.fullname;
      assignee_appr.start_date = now;
      assignee_appr.finish_date = now;
      assignee_appr.due_date = last_trace.due_date;
      assignee_appr.read_date = now;
      assignee_appr.judge = "reassigned";
      assignee_appr.is_read = true;
      assignee_appr.description = reassign_reason;
      assignee_appr.is_error = false;
      assignee_appr.values = new Object();
      assignee_appr.cost_time = assignee_appr.finish_date - assignee_appr.start_date;
      last_trace.approves.push(assignee_appr);

      _.each(new_inbox_users, function (user_id) {
        var agent, handler_id, handler_info, new_appr, new_user, space_user, user_organization;
        new_user = db.users.findOne(user_id, {
          fields: {
            name: 1
          }
        });
        space_user = uuflowManager.getSpaceUser(space_id, user_id);
        user_organization = db.organizations.findOne(space_user.organization, {
          fields: {
            name: 1,
            fullname: 1
          }
        });
        new_appr = new Object();
        new_appr._id = new Mongo.ObjectID()._str;
        new_appr.instance = last_trace.instance;
        new_appr.trace = last_trace._id;
        new_appr.is_finished = false;
        new_appr.user = user_id;
        new_appr.user_name = new_user.name;
        handler_id = user_id;
        handler_info = new_user;
        agent = uuflowManager.getAgent(space_id, user_id);

        if (agent) {
          inbox_users_from_client[inbox_users_from_client.indexOf(user_id)] = agent;
          handler_id = agent;
          handler_info = db.users.findOne({
            _id: agent
          }, {
            fields: {
              name: 1
            }
          });
          new_appr.agent = agent;
        }

        new_appr.handler = handler_id;
        new_appr.handler_name = handler_info.name;
        new_appr.handler_organization = space_user.organization;
        new_appr.handler_organization_name = user_organization.name;
        new_appr.handler_organization_fullname = user_organization.fullname;
        new_appr.from_user = current_user;
        new_appr.from_user_name = current_user_info.name;
        new_appr.type = "reassign";
        new_appr.start_date = now;
        new_appr.due_date = last_trace.due_date;
        new_appr.is_read = false;
        new_appr.is_error = false;
        new_appr.values = new Object();
        uuflowManager.setRemindInfo(instance.values, new_appr);
        return last_trace.approves.push(new_appr);
      });

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(approve_users_handlers);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.inbox_users = inbox_users_from_client;
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj["traces.$.approves"] = last_trace.approves;
      r = db.instances.update({
        _id: instance_id,
        "traces._id": last_trace._id
      }, {
        $set: setObj
      });

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, reassign_reason, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'reassign', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_relocate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_relocate.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/relocate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, ah, approve_users, current_setp, current_setp_type, current_space_user, current_user_organization, flow, h, i, inbox_users, ins, instance, instance_id, l, last_trace, newTrace, new_inbox_users, next_step, next_step_name, next_step_type, not_in_inbox_users, now, permissions, r, relocate_appr, relocate_comment, relocate_inbox_users, relocate_next_step, sameTraces, setObj, signShowApproveId, space, space_id, ta, ti, traces;

      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      last_trace = _.last(instance.traces);
      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne(instance.space, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      space_id = instance.space;
      instance_id = last_trace.instance;
      inbox_users = instance.inbox_users;
      relocate_inbox_users = instance_from_client["relocate_inbox_users"];
      relocate_comment = instance_from_client["relocate_comment"];
      relocate_next_step = instance_from_client["relocate_next_step"];
      not_in_inbox_users = _.difference(inbox_users, relocate_inbox_users);
      new_inbox_users = _.difference(relocate_inbox_users, inbox_users);
      approve_users = [];
      flow = uuflowManager.getFlow(instance.flow);
      next_step = uuflowManager.getStep(instance, flow, relocate_next_step);
      next_step_type = next_step.step_type;
      next_step_name = next_step.name;
      current_setp = uuflowManager.getStep(instance, flow, last_trace.step);
      current_setp_type = current_setp.step_type;
      traces = instance.traces;
      setObj = new Object();
      setObj.values = uuflowManager.getUpdatedValues(instance);
      now = new Date();
      i = 0;

      while (i < traces.length) {
        if (traces[i]._id === last_trace._id) {
          if (!traces[i].approves) {
            traces[i].approves = new Array();
          }

          h = 0;

          while (h < traces[i].approves.length) {
            if (traces[i].approves[h].is_finished === false && traces[i].approves[h].type !== "cc" && traces[i].approves[h].type !== "distribute") {
              traces[i].approves[h].start_date = now;
              traces[i].approves[h].finish_date = now;
              traces[i].approves[h].read_date = now;
              traces[i].approves[h].is_error = false;
              traces[i].approves[h].is_read = true;
              traces[i].approves[h].is_finished = true;
              traces[i].approves[h].judge = "terminated";
              traces[i].approves[h].cost_time = traces[i].approves[h].finish_date - traces[i].approves[h].start_date;
              approve_users.push(traces[i].approves[h].user);

              if (traces[i].approves[h].sign_show === true) {
                ta = traces[i].approves[h];
                sameTraces = _.filter(traces, function (t) {
                  return t.step === traces[i].step;
                });
                l = sameTraces.length - 1;
                signShowApproveId = null;

                while (l > -1) {
                  _.each(sameTraces[l].approves, function (a) {
                    if (a.user === ta.user && a.judge !== "terminated" && a.description && !signShowApproveId) {
                      return signShowApproveId = a._id;
                    }
                  });

                  l--;
                }

                if (signShowApproveId) {
                  ti = 0;

                  while (ti < traces.length) {
                    ah = 0;

                    while (ah < traces[ti].approves.length) {
                      if (traces[ti].approves[ah]._id === signShowApproveId) {
                        traces[ti].approves[ah].sign_show = true;
                        traces[i].approves[h].sign_show = false;
                      }

                      ah++;
                    }

                    ti++;
                  }
                }
              }
            }

            h++;
          }

          current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
          current_user_organization = db.organizations.findOne(current_space_user.organization, {
            fields: {
              name: 1,
              fullname: 1
            }
          });
          relocate_appr = new Object();
          relocate_appr._id = new Mongo.ObjectID()._str;
          relocate_appr.instance = instance_id;
          relocate_appr.trace = traces[i]._id;
          relocate_appr.is_finished = true;
          relocate_appr.user = current_user;
          relocate_appr.user_name = current_user_info.name;
          relocate_appr.handler = current_user;
          relocate_appr.handler_name = current_user_info.name;
          relocate_appr.handler_organization = current_space_user.organization;
          relocate_appr.handler_organization_name = current_user_organization.name;
          relocate_appr.handler_organization_fullname = current_user_organization.fullname;
          relocate_appr.start_date = now;
          relocate_appr.finish_date = now;
          relocate_appr.due_date = traces[i].due_date;
          relocate_appr.read_date = now;
          relocate_appr.judge = "relocated";
          relocate_appr.is_read = true;
          relocate_appr.description = relocate_comment;
          relocate_appr.is_error = false;
          relocate_appr.values = new Object();
          relocate_appr.cost_time = relocate_appr.finish_date - relocate_appr.start_date;
          traces[i].approves.push(relocate_appr);
          traces[i].is_finished = true;
          traces[i].finish_date = now;
          traces[i].judge = "relocated";
        }

        i++;
      }

      if (next_step_type === "end") {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = true;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.approves = [];
        setObj.state = "completed";
        setObj.inbox_users = [];
        setObj.final_decision = "terminated";
        setObj.finish_date = new Date();
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = false;
      } else {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = false;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(next_step.timeout_hours);
        newTrace.approves = [];

        _.each(relocate_inbox_users, function (next_step_user_id, idx) {
          var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
          newApprove = new Object();
          newApprove._id = new Mongo.ObjectID()._str;
          newApprove.instance = instance_id;
          newApprove.trace = newTrace._id;
          newApprove.is_finished = false;
          newApprove.user = next_step_user_id;
          user_info = db.users.findOne(next_step_user_id, {
            fields: {
              name: 1
            }
          });
          newApprove.user_name = user_info.name;
          handler_id = next_step_user_id;
          handler_info = user_info;
          agent = uuflowManager.getAgent(space_id, next_step_user_id);

          if (agent) {
            relocate_inbox_users[idx] = agent;
            handler_id = agent;
            handler_info = db.users.findOne({
              _id: agent
            }, {
              fields: {
                name: 1
              }
            });
            newApprove.agent = agent;
          }

          newApprove.handler = handler_id;
          newApprove.handler_name = handler_info.name;
          next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
          next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
          newApprove.handler_organization = next_step_user_org_info["organization"];
          newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
          newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
          newApprove.start_date = now;
          newApprove.due_date = newTrace.due_date;
          newApprove.is_read = false;
          newApprove.is_error = false;
          newApprove.values = new Object();
          uuflowManager.setRemindInfo(instance.values, newApprove);
          return newTrace.approves.push(newApprove);
        });

        setObj.inbox_users = relocate_inbox_users;
        setObj.state = "pending";
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, next_step.lines);
      }

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(inbox_users).concat(approve_users);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj.is_archived = false;
      traces.push(newTrace);
      setObj.traces = traces;

      if (setObj.state === 'completed') {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });
      } else {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj,
          $unset: {
            finish_date: 1
          }
        });
      }

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, relocate_comment, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'relocate', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_archive.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_archive.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/archive', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var instance, instance_id, setObj, space, space_id, space_user;
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      uuflowManager.isInstanceFinishedAndNotArchieved(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      uuflowManager.isInstanceSubmitterOrApplicantOrSpaceAdmin(instance, current_user, space);
      setObj = new Object();
      setObj.is_archived = true;
      setObj.modified = new Date();
      setObj.modified_by = current_user;
      return db.instances.update({
        _id: instance_id
      }, {
        $set: setObj
      });
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_export.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_export.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/instances", function (req, res, next) {
    var current_user_info, e, ejs, ejsLint, end_date, error_obj, fields, fileName, flow, flow_id, form, form_name, ins_to_xls, lang, last_month_date, now, query, ret, space_id, start_date, str, table_fields, template, timezoneoffset, type;

    try {
      current_user_info = uuflowManager.check_authorization(req);
      query = req.query;
      space_id = query.space_id;
      flow_id = query.flow_id;
      type = parseInt(query.type);
      timezoneoffset = parseInt(query.timezoneoffset);
      flow = db.flows.findOne({
        _id: flow_id
      }, {
        fields: {
          form: 1
        }
      });
      form = db.forms.findOne({
        _id: flow.form
      }, {
        fields: {
          name: 1,
          'current.fields': 1
        }
      });
      form_name = form.name;
      fields = form.current.fields;
      table_fields = new Array();

      _.each(form.current.fields, function (field) {
        if (field.type === "table") {
          return table_fields.push(field);
        }
      });

      ins_to_xls = new Array();
      start_date = null;
      end_date = null;
      now = new Date();

      if (type === 0) {
        start_date = new Date(now.getFullYear(), now.getMonth(), 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          submit_date: {
            $gte: start_date
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 1) {
        last_month_date = new Date(new Date(now.getFullYear(), now.getMonth(), 1) - 1000 * 60 * 60 * 24);
        start_date = new Date(last_month_date.getFullYear(), last_month_date.getMonth(), 1);
        end_date = new Date(now.getFullYear(), now.getMonth(), 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          $and: [{
            submit_date: {
              $gte: start_date
            }
          }, {
            submit_date: {
              $lte: end_date
            }
          }]
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 2) {
        start_date = new Date(now.getFullYear(), 0, 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          submit_date: {
            $gte: start_date
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 3) {
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      }

      ejs = require('ejs');
      str = Assets.getText('server/ejs/export_instances.ejs');
      ejsLint = require('ejs-lint');
      error_obj = ejsLint.lint(str, {});

      if (error_obj) {
        console.error("===/api/workflow/export:");
        console.error(error_obj);
      }

      template = ejs.compile(str);
      lang = 'en';

      if (current_user_info.locale === 'zh-cn') {
        lang = 'zh-CN';
      }

      ret = template({
        lang: lang,
        timezoneoffset: timezoneoffset,
        form_name: form_name,
        fields: fields,
        table_fields: table_fields,
        ins_to_xls: ins_to_xls
      });
      fileName = "SteedOSWorkflow_" + moment().format('YYYYMMDDHHmm') + ".xls";
      res.setHeader("Content-type", "application/octet-stream");
      res.setHeader("Content-Disposition", "attachment;filename=" + encodeURI(fileName));
      return res.end(ret);
    } catch (error) {
      e = error;
      console.error(e.stack);
      return res.end(e.message);
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_space_changeset.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_space_changeset.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/uf/space/changeset', function (req, res, next) {
  var auth_token, data, e, formids, is_admin, query, sync_token;

  try {
    query = req.query;
    auth_token = db.auth_tokens.findOne({
      auth_token: query.auth_token
    });

    if (!auth_token || !auth_token.enabled) {
      throw new Meteor.Error(401, 'Unauthorized');
    }

    sync_token = query["sync_token"];
    formids = query["formids"];
    is_admin = query["is_admin"];
    data = uuflowManager.get_SpaceChangeSet(formids, is_admin, sync_token);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: data
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_retrieve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_retrieve.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/retrieve', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, flow, handler_info, i, ins, instance, instance_id, last_trace, last_trace_id, newApprove, newTrace, now, old_inbox_users, org_info, previous_step, previous_trace, previous_trace_approves, previous_trace_id, previous_trace_name, previous_trace_step_id, r, retrieve_approve, retrieve_comment, retrieve_type, setObj, space_id, space_user, the_trace, traces;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      retrieve_comment = instance_from_client['retrieve_comment'];

      if (!instance.outbox_users.includes(current_user) && instance.submitter !== current_user && instance.applicant !== current_user) {
        throw new Meteor.Error('error', '当前用户不符合取回条件');
      }

      retrieve_type = "";
      traces = instance.traces;
      last_trace = _.last(traces);
      last_trace_id = last_trace._id;
      previous_trace_id = last_trace.previous_trace_ids[0];
      previous_trace = _.find(traces, function (t) {
        return t._id === previous_trace_id;
      });
      previous_trace_step_id = previous_trace.step;
      previous_trace_name = previous_trace.name;
      flow = uuflowManager.getFlow(instance.flow);
      previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);

      if (previous_step.step_type === "counterSign") {
        throw new Meteor.Error('error', '会签不能取回');
      }

      previous_trace_approves = _.filter(previous_trace.approves, function (a) {
        return a.type !== 'cc' && a.type !== 'distribute' && a.type !== 'forward' && ['approved', 'submitted', 'rejected'].includes(a.judge);
      });

      if (previous_trace_approves.length === 1 && (previous_trace_approves[0].user === current_user || previous_trace_approves[0].handler === current_user)) {
        retrieve_type = 'normal';
      }

      i = traces.length;
      retrieve_approve = {};

      while (i > 0) {
        _.each(traces[i - 1].approves, function (a) {
          if (a.type === 'cc' && a.is_finished === true && a.user === current_user) {
            retrieve_type = 'cc';
            return retrieve_approve = a;
          }
        });

        if (retrieve_type === 'cc') {
          break;
        }

        i--;
      }

      if (retrieve_type === 'normal') {
        flow = uuflowManager.getFlow(instance.flow);
        previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);
        space_id = instance.space;
        instance_id = instance._id;
        old_inbox_users = instance.inbox_users;
        setObj = new Object();
        now = new Date();

        _.each(traces, function (t) {
          var current_space_user, current_user_organization, retrieve_appr;

          if (t._id === last_trace_id) {
            if (!t.approves) {
              t.approves = new Array();
            }

            _.each(t.approves, function (appr) {
              if (appr.is_finished === false && appr.type !== "cc") {
                appr.start_date = now;
                appr.finish_date = now;
                appr.read_date = now;
                appr.is_error = false;
                appr.is_read = true;
                appr.is_finished = true;
                appr.judge = "terminated";
                return appr.cost_time = appr.finish_date - appr.start_date;
              }
            });

            current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
            current_user_organization = db.organizations.findOne(current_space_user.organization, {
              fields: {
                name: 1,
                fullname: 1
              }
            });
            retrieve_appr = new Object();
            retrieve_appr._id = new Mongo.ObjectID()._str;
            retrieve_appr.instance = instance_id;
            retrieve_appr.trace = t._id;
            retrieve_appr.is_finished = true;
            retrieve_appr.user = current_user;
            retrieve_appr.user_name = current_user_info.name;
            retrieve_appr.handler = current_user;
            retrieve_appr.handler_name = current_user_info.name;
            retrieve_appr.handler_organization = current_space_user.organization;
            retrieve_appr.handler_organization_name = current_user_organization.name;
            retrieve_appr.handler_organization_fullname = current_user_organization.fullname;
            retrieve_appr.start_date = now;
            retrieve_appr.finish_date = now;
            retrieve_appr.due_date = t.due_date;
            retrieve_appr.read_date = now;
            retrieve_appr.judge = "retrieved";
            retrieve_appr.is_read = true;
            retrieve_appr.description = retrieve_comment;
            retrieve_appr.is_error = false;
            retrieve_appr.values = new Object();
            retrieve_appr.cost_time = retrieve_appr.finish_date - retrieve_appr.start_date;
            t.approves.push(retrieve_appr);
            t.is_finished = true;
            t.finish_date = now;
            return t.judge = "retrieved";
          }
        });

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace_id];
        newTrace.is_finished = false;
        newTrace.step = previous_trace_step_id;
        newTrace.name = previous_trace_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(previous_step.timeout_hours);
        newTrace.approves = [];
        newApprove = new Object();
        newApprove._id = new Mongo.ObjectID()._str;
        newApprove.instance = instance_id;
        newApprove.trace = newTrace._id;
        newApprove.is_finished = false;
        newApprove.user = current_user;
        handler_info = db.users.findOne(current_user, {
          fields: {
            name: 1
          }
        });
        newApprove.user_name = handler_info.name;
        newApprove.handler = current_user;
        newApprove.handler_name = handler_info.name;
        space_user = uuflowManager.getSpaceUser(space_id, current_user);
        org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
        newApprove.handler_organization = org_info["organization"];
        newApprove.handler_organization_name = org_info["organization_name"];
        newApprove.handler_organization_fullname = org_info["organization_fullname"];
        newApprove.start_date = now;
        newApprove.due_date = newTrace.due_date;
        newApprove.is_read = false;
        newApprove.is_error = false;
        newApprove.values = new Object();
        uuflowManager.setRemindInfo(instance.values, newApprove);
        newTrace.approves.push(newApprove);
        setObj.inbox_users = [current_user];
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.current_step_name = previous_trace_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, previous_step.lines);
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);

          _.each(old_inbox_users, function (user_id) {
            if (user_id !== current_user) {
              return pushManager.send_message_to_specifyUser("current_user", user_id);
            }
          });

          ins = uuflowManager.getInstance(instance_id);
          return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, ins.inbox_users);
        }
      } else if (retrieve_type === 'cc') {
        setObj = new Object();
        now = new Date();
        instance_id = instance._id;
        the_trace = _.find(traces, function (t) {
          return t._id === retrieve_approve.trace;
        });

        _.each(the_trace.approves, function (a) {
          if (a._id === retrieve_approve._id) {
            a.is_finished = false;
            a.finish_date = void 0;
            a.judge = void 0;
            return a.cost_time = void 0;
          }
        });

        cc_users = instance.cc_users;
        cc_users.push(current_user);
        setObj.modified = now;
        setObj.modified_by = current_user;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.cc_users = cc_users;
        setObj['traces.$.approves'] = the_trace.approves;
        r = db.instances.update({
          _id: instance_id,
          'traces._id': retrieve_approve.trace
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);
        }

        ins = uuflowManager.getInstance(instance_id);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, [current_user]);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add('post', '/api/workflow/forward', function (req, res, next) {
  try {
    var current_user_info = uuflowManager.check_authorization(req);
    var current_user_id = current_user_info._id;
    var hashData = req.body;
    var instance_id = hashData.instance_id;
    var space_id = hashData.space_id;
    var flow_id = hashData.flow_id;
    var hasSaveInstanceToAttachment = hashData.hasSaveInstanceToAttachment;
    var description = hashData.description;
    var isForwardAttachments = hashData.isForwardAttachments;
    var selectedUsers = hashData.selectedUsers;
    var action_type = hashData.action_type;
    var related = hashData.related;
    var from_approve_id = hashData.from_approve_id;
    check(instance_id, String);
    check(space_id, String);
    check(flow_id, String);
    check(hasSaveInstanceToAttachment, Boolean);
    check(description, String);
    check(isForwardAttachments, Boolean);
    check(selectedUsers, Array);
    check(action_type, Match.OneOf('forward', 'distribute'));
    if (action_type == "distribute") check(from_approve_id, String);
    var ins = db.instances.findOne(instance_id);
    var old_space_id = ins.space;
    var flow = db.flows.findOne(flow_id);
    var space = db.spaces.findOne(space_id);

    if (!ins || !flow || !space) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var forward_users = new Array();

    if (_.isEmpty(selectedUsers)) {
      forward_users = [current_user_id];
    } else {
      forward_users = selectedUsers;
    } // 校验分发对象是否有分发流程的提交权限


    var no_permission_user_ids = new Array();

    _.each(forward_users, function (uid) {
      var permissions = permissionManager.getFlowPermissions(flow_id, uid);

      if (!permissions.includes("add")) {
        // throw new Meteor.Error('error!', "该申请人没有提交此申请单的权限。")
        no_permission_user_ids.push(uid);
      }
    });

    if (!_.isEmpty(no_permission_user_ids)) {
      var no_permission_users_name = new Array();
      db.users.find({
        _id: {
          $in: no_permission_user_ids
        }
      }, {
        fields: {
          name: 1
        }
      }).forEach(function (u) {
        no_permission_users_name.push(u.name);
      });
      throw new Meteor.Error('no_permission', "该提交人没有提交此申请单的权限。", no_permission_users_name.join(','));
    }

    var new_ins_ids = new Array();
    var current_trace = null;

    if (action_type == "distribute") {
      _.each(ins.traces, function (t) {
        if (!current_trace) {
          _.each(t.approves, function (a) {
            if (!current_trace) {
              if (a._id == from_approve_id) current_trace = t;
            }
          });
        }
      });
    } else {
      current_trace = _.last(ins.traces);
    }

    var current_trace_id = current_trace._id;
    var forward_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    var set_obj = new Object(); // 计算values

    var old_values = ins.values,
        new_values = {};
    var form = db.forms.findOne(flow.form);
    var fields = form.current.fields || [];
    var old_form = db.forms.findOne(ins.form);
    var old_form_version = ins.form_version,
        old_fields = [],
        common_fields = [];
    var select_to_input_fields = [];

    if (old_form.current._id == old_form_version) {
      old_fields = old_form.current.fields;
    } else {
      if (old_form.historys) {
        old_form.historys.forEach(function (h) {
          if (h._id == old_form_version) old_fields = h.fields;
        });
      }
    }

    fields.forEach(function (field) {
      var exists_field = _.find(old_fields, function (f) {
        return f.type == field.type && f.code == field.code;
      });

      if (exists_field) common_fields.push(field);

      var select_input_field = _.find(old_fields, function (f) {
        return f.type == 'select' && field.type == 'input' && f.code == field.code;
      });

      if (select_input_field) select_to_input_fields.push(select_input_field);
    });
    select_to_input_fields.forEach(function (field) {
      if (old_values[field.code]) {
        new_values[field.code] = old_values[field.code];
      }
    });
    common_fields.forEach(function (field) {
      if (field.type == 'section') {
        if (field.fields) {
          field.fields.forEach(function (f) {
            // 跨工作区转发不复制选人选组
            if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
              return;
            }

            var key = f.code;
            var old_v = old_values[key];

            if (old_v) {
              // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
              if (f.type == 'select' || f.type == 'radio') {
                var options = f.options.split('\n');
                if (!options.includes(old_v)) return;
              }

              if (f.type == 'multiSelect') {
                var options = f.options.split('\n');
                var old_multiSelected = old_v.split(',');

                var new_multiSelected = _.intersection(options, old_multiSelected);

                old_v = new_multiSelected.join(',');
              }

              new_values[key] = old_v;
            }
          });
        }
      } else if (field.type == 'table') {
        if (!_.isEmpty(old_values[field.code])) {
          new_values[field.code] = new Array();
          old_values[field.code].forEach(function (old_table_row_values) {
            var new_table_row_values = {};

            if (!_.isEmpty(field.fields)) {
              field.fields.forEach(function (f) {
                // 跨工作区转发不复制选人选组
                if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
                  return;
                }

                var key = f.code;
                var old_v = old_table_row_values[key];

                if (old_v) {
                  // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
                  if (f.type == 'select' || f.type == 'radio') {
                    var options = f.options.split('\n');
                    if (!options.includes(old_v)) return;
                  }

                  if (f.type == 'multiSelect') {
                    var options = f.options.split('\n');
                    var old_multiSelected = old_v.split(',');

                    var new_multiSelected = _.intersection(options, old_multiSelected);

                    old_v = new_multiSelected.join(',');
                  }

                  new_table_row_values[key] = old_v;
                }
              });
            }

            if (!_.isEmpty(new_table_row_values)) {
              new_values[field.code].push(new_table_row_values);
            }
          });
        }
      } else {
        // 跨工作区转发不复制选人选组
        if (['group', 'user'].includes(field.type) && old_space_id != space_id) {
          return;
        }

        var key = field.code;
        var old_v = old_values[key];

        if (old_v) {
          // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
          if (field.type == 'select' || field.type == 'radio') {
            var options = field.options.split('\n');
            if (!options.includes(old_v)) return;
          }

          if (field.type == 'multiSelect') {
            var options = field.options.split('\n');
            var old_multiSelected = old_v.split(',');

            var new_multiSelected = _.intersection(options, old_multiSelected);

            old_v = new_multiSelected.join(',');
          }

          new_values[key] = old_v;
        }
      }
    }); //如果是分发，则value中的record_need、FONDSID不需要分发到新申请单中

    if (action_type === 'distribute') {
      delete new_values.record_need;
      delete new_values.FONDSID;
    } // 计算申请单标题


    var instance_name = "";
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      var iscript = name_forumla.replace(/\{/g, "(new_values['").replace(/\}/g, "'] || '')");
      var rev = eval(iscript);
      instance_name = rev || flow.name;
    } else {
      instance_name = flow.name;
    } // instance中记录当前步骤名称 #1314


    var start_step = _.find(flow.current.steps, function (step) {
      return step.step_type == 'start';
    }); // 新建申请单时，instances记录流程名称、流程分类名称 #1313


    var category_name = "";

    if (form.category) {
      var category = uuflowManager.getCategory(form.category);
      if (category) category_name = category.name;
    }

    _.each(forward_users, function (user_id) {
      var user_info = db.users.findOne(user_id);
      var space_user = db.space_users.findOne({
        space: space_id,
        user: user_id
      }, {
        fields: {
          organization: 1
        }
      });
      var space_user_org_info = db.organizations.findOne({
        _id: space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var now = new Date();
      var ins_obj = {};
      var agent = uuflowManager.getAgent(space_id, user_id);
      var handler_id = user_id;
      var handler_info = user_info;
      var handler_space_user = space_user;
      var handler_org_info = space_user_org_info;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent);
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
      }

      ins_obj._id = db.instances._makeNewID();
      ins_obj.space = space_id;
      ins_obj.flow = flow_id;
      ins_obj.flow_version = flow.current._id;
      ins_obj.form = flow.form;
      ins_obj.form_version = flow.current.form_version;
      ins_obj.name = instance_name;
      ins_obj.submitter = handler_id;
      ins_obj.submitter_name = handler_info.name;
      ins_obj.applicant = user_id;
      ins_obj.applicant_name = user_info.name;
      ins_obj.applicant_organization = space_user.organization;
      ins_obj.applicant_organization_name = space_user_org_info.name;
      ins_obj.applicant_organization_fullname = space_user_org_info.fullname;
      ins_obj.state = "draft";
      ins_obj.code = "";
      ins_obj.is_archived = false;
      ins_obj.is_deleted = false;
      ins_obj.created = now;
      ins_obj.created_by = current_user_id;
      ins_obj.modified = now;
      ins_obj.modified_by = current_user_id;
      ins_obj.inbox_users = [handler_id];
      ins_obj.values = new_values;

      if (action_type == 'distribute') {
        // 解决多次分发看不到正文、附件问题
        if (ins.distribute_from_instance) {
          ins_obj.distribute_from_instance = ins.distribute_from_instance;
        } else {
          ins_obj.distribute_from_instance = instance_id;
        }

        ins_obj.distribute_from_instances = _.clone(ins.distribute_from_instances) || [];
        ins_obj.distribute_from_instances.push(instance_id);

        if (related) {
          ins_obj.related_instances = [instance_id];
        }
      } else if (action_type == 'forward') {
        ins_obj.forward_from_instance = instance_id;
      } // 新建Trace


      var trace_obj = {};
      trace_obj._id = new Mongo.ObjectID()._str;
      trace_obj.instance = ins_obj._id;
      trace_obj.is_finished = false; // 当前最新版flow中开始节点的step_id

      var step_id, step_name, can_edit_main_attach, can_edit_normal_attach;
      flow.current.steps.forEach(function (step) {
        if (step.step_type == "start") {
          step_id = step._id;
          step_name = step.name;
          can_edit_main_attach = step.can_edit_main_attach;
          can_edit_normal_attach = step.can_edit_normal_attach;
        }
      });
      trace_obj.step = step_id;
      trace_obj.start_date = now;
      trace_obj.name = step_name; // 新建Approve

      var appr_obj = {};
      appr_obj._id = new Mongo.ObjectID()._str;
      appr_obj.instance = ins_obj._id;
      appr_obj.trace = trace_obj._id;
      appr_obj.is_finished = false;
      appr_obj.user = user_id;
      appr_obj.user_name = user_info.name;
      appr_obj.handler = handler_id;
      appr_obj.handler_name = handler_info.name;
      appr_obj.handler_organization = handler_space_user.organization;
      appr_obj.handler_organization_name = handler_org_info.name;
      appr_obj.handler_organization_fullname = handler_org_info.fullname;
      appr_obj.type = "draft";
      appr_obj.start_date = now;
      appr_obj.read_date = now;
      appr_obj.is_read = false;
      appr_obj.is_error = false;
      appr_obj.values = new_values;

      if (agent) {
        appr_obj.agent = agent;
      }

      trace_obj.approves = [appr_obj];
      ins_obj.traces = [trace_obj];
      if (flow.auto_remind == true) ins_obj.auto_remind = true;
      ins_obj.current_step_name = start_step.name;
      ins_obj.flow_name = flow.name;
      if (category_name) ins_obj.category_name = category.name;
      ins_obj.category = category._id;
      new_ins_id = db.instances.insert(ins_obj); // 复制附件

      var collection = cfs.instances; //将原表单内容存储为第一个附件

      if (hasSaveInstanceToAttachment) {
        // try {
        instanceHtml = InstanceReadOnlyTemplate.getInstanceHtml(user_info, space_id, ins, {
          absolute: true
        });
        var instanceFile = new FS.File();
        instanceFile.attachData(Buffer.from(instanceHtml, "utf-8"), {
          type: "text/html"
        }, function (error) {
          if (error) {
            throw new Meteor.Error(error.error, error.reason);
          }

          instanceFile.name(ins.name + ".html");
          instanceFile.size(instanceHtml.length);
          var metadata = {
            owner: user_id,
            owner_name: user_info.name,
            space: space_id,
            instance: new_ins_id,
            approve: appr_obj._id,
            current: true
          };
          instanceFile.metadata = metadata;
          var fileObj = collection.insert(instanceFile);
          fileObj.update({
            $set: {
              'metadata.parent': fileObj._id
            }
          });
        }); // } catch (e) {
        //     console.error(e);
        // }
      }

      if (isForwardAttachments && action_type == 'forward') {
        var files = collection.find({
          'metadata.instance': instance_id,
          'metadata.current': true
        });
        files.forEach(function (f) {
          // 判断新的流程开始节点是否有编辑正文和编辑附件权限
          if (f.metadata.main == true) {
            if (can_edit_main_attach != true && can_edit_normal_attach != true) return;
          } else {
            if (can_edit_normal_attach != true) return;
          }

          var newFile = new FS.File();
          newFile.attachData(f.createReadStream('instances'), {
            type: f.original.type
          }, function (err) {
            if (err) {
              throw new Meteor.Error(err.error, err.reason);
            }

            newFile.name(f.name());
            newFile.size(f.size());
            var metadata = {
              owner: user_id,
              owner_name: user_info.name,
              space: space_id,
              instance: new_ins_id,
              approve: appr_obj._id,
              current: true
            };

            if (f.metadata.main == true && can_edit_main_attach == true) {
              metadata.main = true;
            }

            newFile.metadata = metadata;
            var fileObj = collection.insert(newFile);
            fileObj.update({
              $set: {
                'metadata.parent': fileObj._id
              }
            });
          });
        });
      } // 给当前的申请单增加转发记录


      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': instance_id,
        'trace': current_trace_id,
        'is_finished': true,
        'user': user_id,
        'user_name': user_info.name,
        'handler': user_id,
        'handler_name': user_info.name,
        'handler_organization': space_user.organization,
        'handler_organization_name': space_user_org_info.name,
        'handler_organization_fullname': space_user_org_info.fullname,
        'type': action_type,
        'start_date': new Date(),
        'finish_date': new Date(),
        'is_read': false,
        'judge': 'submitted',
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'forward_space': space_id,
        'forward_instance': new_ins_id,
        'description': description,
        'from_approve_id': from_approve_id
      };
      forward_approves.push(appr);
      new_ins_ids.push(new_ins_id);
      pushManager.send_message_to_specifyUser("current_user", user_id);
    });

    set_obj.modified = new Date();
    set_obj.modified_by = current_user_id;
    var r = db.instances.update({
      _id: instance_id,
      "traces._id": current_trace_id
    }, {
      $set: set_obj,
      $addToSet: {
        'traces.$.approves': {
          $each: forward_approves
        }
      }
    });

    if (r) {
      _.each(current_trace.approves, function (a, idx) {
        if (a._id == from_approve_id) {
          var update_read = {};
          update_read["traces.$.approves." + idx + ".read_date"] = new Date();
          db.instances.update({
            _id: instance_id,
            "traces._id": current_trace_id
          }, {
            $set: update_read
          });
        }
      });
    }

    JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (e) {
    console.error(e.stack);
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/workflow/instance/:instanceId', function (req, res, next) {
  var box, current_user_id, current_user_info, e, flowId, ins, insId, permissions, redirectTo, ref, ref1, ref2, space, spaceId;

  try {
    current_user_info = uuflowManager.check_authorization(req, res);
    current_user_id = current_user_info._id;
    insId = req.params.instanceId;
    ins = db.instances.findOne(insId, {
      fields: {
        space: 1,
        flow: 1,
        state: 1,
        inbox_users: 1,
        cc_users: 1,
        outbox_users: 1,
        submitter: 1,
        applicant: 1
      }
    });

    if (!ins) {
      throw new Meteor.Error('error', 'instanceId is wrong or instance not exists.');
    }

    spaceId = ins.space;
    flowId = ins.flow;

    if (db.space_users.find({
      space: spaceId,
      user: current_user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'user is not belong to this space.');
    }

    box = '';

    if (((ref = ins.inbox_users) != null ? ref.includes(current_user_id) : void 0) || ((ref1 = ins.cc_users) != null ? ref1.includes(current_user_id) : void 0)) {
      box = 'inbox';
    } else if ((ref2 = ins.outbox_users) != null ? ref2.includes(current_user_id) : void 0) {
      box = 'outbox';
    } else if (ins.state === 'draft' && ins.submitter === current_user_id) {
      box = 'draft';
    } else if (ins.state === 'pending' && (ins.submitter === current_user_id || ins.applicant === current_user_id)) {
      box = 'pending';
    } else if (ins.state === 'completed' && ins.submitter === current_user_id) {
      box = 'completed';
    } else {
      permissions = permissionManager.getFlowPermissions(flowId, current_user_id);
      space = db.spaces.findOne(spaceId, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user_id)) {
        throw new Meteor.Error('error', "no permission.");
      }

      box = 'monitor';
    }

    redirectTo = Meteor.absoluteUrl("workflow/space/" + spaceId + "/" + box + "/" + insId);
    res.setHeader("Location", redirectTo);
    res.writeHead(302);
    res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_pending.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_pending.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/pending 获取待办文件

@apiDescription 获取当前用户的待办事项列表

@apiName getInbox

@apiGroup Workflow

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
	{
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
	{
		"status": "success",
		"data": [
			{
				"id": "g7wokXNkR9yxHvA4D",
				"start_date": "2017-11-23T02:28:53.164Z",
				"flow_name": "正文流程",
				"space_name": "审批王",
				"name": "正文流程 1",
				"applicant_name": null,
				"applicant_organization_name": "审批王",
				"submit_date": "2017-07-25T06:36:48.492Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-11-23T02:28:53.164Z",
				"is_read": false,
				"values": {}
			},
			{
				"id": "WqKSrWQoywgJaMp9k",
				"start_date": "2017-08-17T07:38:35.420Z",
				"flow_name": "正文\n",
				"space_name": "审批王",
				"name": "正文\n 1",
				"applicant_name": "殷亮辉",
				"applicant_organization_name": "审批王",
				"submit_date": "2017-06-27T10:26:19.468Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-08-17T07:38:35.421Z",
				"is_read": true,
				"values": {}
			}
		]
	}
 */JsonRoutes.add('get', '/api/workflow/open/pending', function (req, res, next) {
  var attach, e, is_read, limit, no_limit_count, query, ref, ref1, ref2, ref3, ref4, ref5, result_instances, space, space_id, space_names, special_user_id, start_date, u, uid, user_id, userid, username, workflow_categories;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    space_id = req.headers['x-space-id'] || ((ref = req.query) != null ? ref.spaceId : void 0);

    if (!space_id) {
      throw new Meteor.Error('error', 'need space_id');
    }

    user_id = req.userId;

    if (!user_id) {
      throw new Meteor.Error('error', 'Not logged in');
    }

    if (db.users.find({
      _id: user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'can not find user');
    }

    limit = ((ref1 = req.query) != null ? ref1.limit : void 0) || 500;
    limit = parseInt(limit);
    username = (ref2 = req.query) != null ? ref2.username : void 0;
    userid = (ref3 = req.query) != null ? ref3.userid : void 0;
    attach = (ref4 = req.query) != null ? ref4.attach : void 0;
    workflow_categories = (ref5 = req.query) != null ? ref5.workflow_categories : void 0;
    space = uuflowManager.getSpace(space_id);
    special_user_id;

    if (space.admins.includes(user_id)) {
      if (userid) {
        if (db.users.find({
          _id: userid
        }).count() < 1) {
          throw new Meteor.Error('error', "can not find user by userid: " + userid);
        }

        special_user_id = userid;
      } else if (username) {
        u = db.users.findOne({
          username: username
        }, {
          fields: {
            _id: 1
          }
        });

        if (_.isEmpty(u)) {
          throw new Meteor.Error('error', "can not find user by username: " + username);
        }

        special_user_id = u._id;
      }
    }

    result_instances = new Array();
    is_read = false;
    start_date = '';
    uid = user_id;
    query = {
      $or: [{
        inbox_users: user_id
      }, {
        cc_users: user_id
      }]
    };

    if (special_user_id) {
      uid = special_user_id;
      query = {
        space: space_id,
        $or: [{
          inbox_users: special_user_id
        }, {
          cc_users: special_user_id
        }]
      };
    }

    if (workflow_categories) {
      query.category = {
        $in: workflow_categories.split(',')
      };
    }

    space_names = {};
    space_names[space._id] = space.name;

    if (limit > 0) {
      db.instances.find(query, {
        sort: {
          modified: -1
        },
        limit: limit
      }).forEach(function (i) {
        var h, ref6, ref7;

        if ((ref6 = i.inbox_users) != null ? ref6.includes(uid) : void 0) {
          _.each(i.traces, function (t) {
            if (t.is_finished === false) {
              return _.each(t.approves, function (a) {
                if (a.user === uid && a.type !== 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        } else {
          _.each(i.traces, function (t) {
            if (!start_date && t.approves) {
              return _.each(t.approves, function (a) {
                if (!start_date && a.user === uid && a.type === 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        }

        if (!space_names[i.space]) {
          space_names[i.space] = (ref7 = db.spaces.findOne(i.space, {
            fields: {
              name: 1
            }
          })) != null ? ref7.name : void 0;
        }

        h = new Object();
        h["id"] = i["_id"];
        h["start_date"] = start_date;
        h["flow_name"] = i.flow_name;
        h["space_name"] = space_names[i.space];
        h["name"] = i["name"];
        h["applicant_name"] = i["applicant_name"];
        h["applicant_organization_name"] = i["applicant_organization_name"];
        h["submit_date"] = i["submit_date"];
        h["step_name"] = i.current_step_name;
        h["space_id"] = i.space;
        h["modified"] = i["modified"];
        h["is_read"] = is_read;
        h["values"] = i["values"];

        if (attach === 'true') {
          h.attachments = cfs.instances.find({
            'metadata.instance': i._id,
            'metadata.current': true,
            "metadata.is_private": {
              $ne: true
            }
          }, {
            fields: {
              copies: 0
            }
          }).fetch();
        }

        return result_instances.push(h);
      });
    }

    no_limit_count = db.instances.find(query).count();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result_instances,
        count: no_limit_count
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.reason
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"export_table_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/export_table_template.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies;
Cookies = require("cookies");
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/talbe_template", function (req, res, next) {
    var authToken, cookies, data, fileName, flow, flowId, form, ref, ref1, space, userId;
    cookies = new Cookies(req, res);

    if (req.body) {
      userId = req.body["X-User-Id"];
      authToken = req.body["X-Auth-Token"];
    }

    if (!userId || !authToken) {
      userId = cookies.get("X-User-Id");
      authToken = cookies.get("X-Auth-Token");
    }

    if (!(userId && authToken)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Missing X-Auth-Token",
        "success": false
      }));
      return;
    }

    flowId = (ref = req.query) != null ? ref.flow : void 0;
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        space: 1,
        form: 1,
        name: 1
      }
    });
    form = db.forms.findOne({
      _id: flow.form
    }, {
      fields: {
        space: 1,
        "current._id": 1
      }
    });

    if (_.isEmpty(flow)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Invalid formId",
        "success": false
      }));
      return;
    } else {
      if (!Steedos.isSpaceAdmin(flow.space, userId)) {
        res.writeHead(401);
        res.end(JSON.stringify({
          "error": "Validate Request -- No permission",
          "success": false
        }));
        return;
      }

      space = db.spaces.findOne(flow.space, {
        fields: {
          is_paid: 1
        }
      });

      if (!(space != null ? space.is_paid : void 0)) {
        JsonRoutes.sendResult(res, {
          code: 404,
          data: {
            "error": "Validate Request -- Non-paid space.",
            "success": false
          }
        });
        return;
      }
    }

    data = TemplateManager.handleTableTemplate({
      form: flow.form,
      form_version: form != null ? (ref1 = form.current) != null ? ref1._id : void 0 : void 0
    }, true);
    fileName = flow.name;
    res.setHeader('Content-type', 'application/x-msdownload');
    res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(fileName) + '.html');
    return res.end(data);
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_drafts.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/drafts 新建申请单

@apiName createInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "applicant": 申请人Id,
    "values": {
        "fields1" : 字段值,
        "fields2" : 字段值,
        ...
    }
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}

@apiErrorExample {json} error-Response:
{
    "status": "error",
    "data": {...}
}
 */JsonRoutes.add('post', '/api/workflow/open/drafts', function (req, res, next) {
  var applicant, applicantInfo, applicant_id, applicant_username, approve, approves, current_user_info, e, flow, flow_id, hashData, instance_from_client, new_ins, new_ins_id, space_id, space_user, space_user_org_info, trace, traces, user_id;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    user_id = req.userId;
    current_user_info = db.users.findOne({
      _id: user_id
    });
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header x_space_id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user_info._id);
    hashData = req.body;

    if (!hashData["flow"]) {
      throw new Meteor.Error('error', 'flow is null');
    }

    flow_id = hashData["flow"];
    applicant_id = hashData["applicant"];
    applicant_username = hashData["applicant_username"];
    instance_from_client = new Object();
    flow = db.flows.findOne({
      _id: flow_id
    }, {
      fields: {
        space: 1,
        'current._id': 1
      }
    });

    if (!flow) {
      throw new Meteor.Error('error', 'flow is not exists');
    }

    if (space_id !== flow.space) {
      throw new Meteor.Error('error', 'flow is not belong to this space');
    }

    if (db.space_users.find({
      space: space_id,
      user: current_user_info._id
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is not a member of this space');
    }

    instance_from_client["space"] = space_id;
    instance_from_client["flow"] = flow_id;
    instance_from_client["flow_version"] = flow.current._id;
    applicant = null;

    if (applicant_id || applicant_username) {
      if (applicant_id) {
        applicant = db.users.findOne({
          _id: applicant_id
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant is wrong');
        }
      } else if (applicant_username) {
        applicant = db.users.findOne({
          username: applicant_username
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant_username is wrong');
        }
      }

      space_user = db.space_users.findOne({
        space: space_id,
        user: applicant._id
      });

      if (!space_user) {
        throw new Meteor.Error('error', 'applicant is not a member of this space');
      }

      if (space_user.user_accepted !== true) {
        throw new Meteor.Error('error', 'applicant is disabled in this space');
      }

      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_from_client["applicant"] = applicant._id;
      instance_from_client["applicant_name"] = applicant.name;
      instance_from_client["applicant_organization"] = space_user_org_info["organization"];
      instance_from_client["applicant_organization_fullname"] = space_user_org_info["organization_fullname"];
      instance_from_client["applicant_organization_name"] = space_user_org_info["organization_name"];
    }

    applicantInfo = applicant || current_user_info;
    traces = [];
    trace = new Object();
    approves = [];
    approve = new Object();
    approve["values"] = hashData["values"];
    approves.push(approve);
    trace["approves"] = approves;
    traces.push(trace);
    instance_from_client["traces"] = traces;
    instance_from_client["inbox_users"] = [applicantInfo._id];
    new_ins_id = uuflowManager.create_instance(instance_from_client, applicantInfo);
    new_ins = db.instances.findOne(new_ins_id);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: new_ins
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/get/:ins_id 查看申请单详情

@apiName getInstance

@apiGroup Workflow

@apiPermission 工作区的管理员

@apiParam {String} ins_id 申请单Id
@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}
 */JsonRoutes.add('get', '/api/workflow/open/get/:ins_id', function (req, res, next) {
  var current_user, e, ins_id, instance, perm_users, permissions, space, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = db.instances.findOne(ins_id);

    if (!instance) {
      throw new Meteor.Error('error', 'can not find instance');
    }

    if (db.space_users.find({
      space: instance.space,
      user: current_user
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is wrong');
    }

    perm_users = new Array();
    perm_users.push(instance.submitter);
    perm_users.push(instance.applicant);

    if (instance.outbox_users) {
      perm_users = perm_users.concat(instance.outbox_users);
    }

    if (instance.inbox_users) {
      perm_users = perm_users.concat(instance.inbox_users);
    }

    space = db.spaces.findOne({
      _id: instance.space
    }, {
      fields: {
        admins: 1
      }
    });
    perm_users = perm_users.concat(space.admins);
    permissions = permissionManager.getFlowPermissions(instance.flow, current_user);

    if (!perm_users.includes(current_user) && !permissions.includes("monitor") && !permissions.includes("admin")) {
      throw new Meteor.Error('error', 'no permission');
    }

    instance.attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instance
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_submit.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/submit/:ins_id 提交申请单

@apiDescription 暂不支持开始节点下一节点为条件的情况

@apiName submitInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/submit/:ins_id', function (req, res, next) {
  var current_user, current_user_info, e, flow, form, ins_id, instance, nextSteps, next_step_id, next_user_ids, r, require_but_empty_fields, result, space_id, step, submitter, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = uuflowManager.getInstance(ins_id);
    uuflowManager.isInstanceDraft(instance);

    if (space_id !== instance["space"]) {
      throw new Meteor.Error('error', 'instance is not belong to this space');
    }

    values = instance["traces"][0]["approves"][0].values;
    form = uuflowManager.getForm(instance.form);
    require_but_empty_fields = uuflowManager.checkValueFieldsRequire(values, form, instance.form_version);

    if (require_but_empty_fields.length > 0) {
      if (require_but_empty_fields.length > 1) {
        throw new Meteor.Error('error', 'fields <' + require_but_empty_fields.join(",") + '> are required');
      } else if (require_but_empty_fields.length = 1) {
        throw new Meteor.Error('error', 'field <' + require_but_empty_fields.join(",") + '> is required');
      }
    }

    flow = uuflowManager.getFlow(instance.flow);
    step = uuflowManager.getStep(instance, flow, instance["traces"][0].step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "submitted");

    if (nextSteps.length < 1) {
      throw new Meteor.Error('error', 'can not find next steps');
    }

    if (nextSteps.length > 1) {
      throw new Meteor.Error('error', 'next step not uniq');
    }

    next_step_id = nextSteps[0];
    next_user_ids = getHandlersManager.getHandlers(ins_id, next_step_id) || [];

    if (next_user_ids.length > 1) {
      throw new Meteor.Error('error', 'next step handler not uniq');
    }

    instance["traces"][0]["approves"][0]["next_steps"] = [{
      'step': next_step_id,
      'users': next_user_ids
    }];
    result = new Object();
    submitter = db.users.findOne(instance.submitter);

    if (!submitter) {
      throw new Meteor.Error('error', 'can not find submitter');
    }

    r = uuflowManager.submit_instance(instance, submitter);

    if (r.alerts) {
      result = r;
    } else {
      result = db.instances.findOne(ins_id);

      if (result) {
        result.attachments = cfs.instances.find({
          'metadata.instance': ins_id,
          'metadata.current': true,
          "metadata.is_private": {
            $ne: true
          }
        }, {
          fields: {
            copies: 0
          }
        }).fetch();
      }
    }

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_save.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_save.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/save/:ins_id 暂存申请单

@apiName saveInstances

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/save/:ins_id', function (req, res, next) {
  var current_step, current_trace, current_user, current_user_info, e, flow, ins_id, instance, result, setObj, space_id, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    values = req.body;

    if (!values) {
      throw new Meteor.Error('error', 'need values');
    }

    current_trace = null;
    setObj = new Object();
    instance = uuflowManager.getInstance(ins_id);
    flow = uuflowManager.getFlow(instance.flow);

    _.each(instance.traces, function (t) {
      if (t.is_finished !== true) {
        return current_trace = t;
      }
    });

    current_step = uuflowManager.getStep(instance, flow, current_trace.step);

    if (current_step.step_type === "counterSign") {
      throw new Meteor.Error('error', '会签步骤不能修改表单值');
    }

    _.each(current_trace.approves, function (a) {
      if (a.is_finished !== true && a.type !== "cc") {
        return a.values = values;
      }
    });

    setObj.modified = new Date();
    setObj["traces.$.approves"] = current_trace.approves;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_trace._id
    }, {
      $set: setObj
    });
    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get_by_stepname.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get_by_stepname.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/getbystepname 根据步骤名称获取申请单

@apiName getInstanceByStepName

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "stepname": 步骤名称
}

@apiSuccessExample {json} Success-Response:
{
	"status": "success",
	"data": [
		{
			instance
		},
		{
			instance
		}
	]
}
 */JsonRoutes.add('post', '/api/workflow/open/getbystepname', function (req, res, next) {
  var current_user, current_user_info, e, flow, hashData, instances, space_id, stepname;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body;
    stepname = hashData["stepname"];
    flow = hashData["flow"];

    if (!stepname) {
      throw new Meteor.Error('error', 'need stepname');
    }

    if (!flow) {
      throw new Meteor.Error('error', 'need flow');
    }

    instances = db.instances.find({
      space: space_id,
      flow: flow,
      state: 'pending',
      traces: {
        $elemMatch: {
          is_finished: false,
          name: stepname
        }
      }
    }, {
      fields: {
        inbox_uers: 0,
        cc_users: 0,
        outbox_users: 0,
        attachments: 0,
        traces: 0
      }
    }).fetch();
    instances.forEach(function (instance) {
      return instance.attachments = cfs.instances.find({
        'metadata.instance': instance._id,
        'metadata.current': true,
        "metadata.is_private": {
          $ne: true
        }
      }, {
        fields: {
          copies: 0
        }
      }).fetch();
    });
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_cfs.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_cfs.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Content-Type：application/json
form-data 格式:
fd = new FormData;
fd.append("file", file);

fd.append("is_private", false);

if (isAddVersion) {
	fd.append("isAddVersion", isAddVersion);
	fd.append("parent", attach_parent_id);
}

if (isMainAttach) {
	fd.append("main", true);
}
 */var Busboy, Fiber;
Busboy = require('busboy');
Fiber = require('fibers');

JsonRoutes.parseFiles = function (req, res, next) {
  var busboy, files, image;
  files = [];
  image = {};

  if (req.method === "POST") {
    busboy = new Busboy({
      headers: req.headers
    });
    busboy.on("file", function (fieldname, file, filename, encoding, mimetype) {
      var buffers;
      image.mimeType = mimetype;
      image.encoding = encoding;
      image.filename = filename;
      buffers = [];
      file.on('data', function (data) {
        return buffers.push(data);
      });
      return file.on('end', function () {
        image.data = Buffer.concat(buffers);
        return files.push(image);
      });
    });
    busboy.on("field", function (fieldname, value) {
      return req.body[fieldname] = value;
    });
    busboy.on("finish", function () {
      req.files = files;
      return Fiber(function () {
        return next();
      }).run();
    });
    return req.pipe(busboy);
  } else {
    return next();
  }
};

JsonRoutes.add('post', '/api/workflow/open/cfs/:ins_id', function (req, res, next) {
  var approve_id, current_user, current_user_info, e, ins_id, instance, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能上传');
    }

    approve_id = instance.traces[0].approves[0]._id;
    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    return JsonRoutes.parseFiles(req, res, function () {
      var collection, newFile;
      collection = cfs.instances;

      if (req.files && req.files[0]) {
        if (req.files[0].data.length > 100 * 1024 * 1024) {
          JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              errors: [{
                errorMessage: "超过上传附件大小限制(100M)"
              }]
            }
          });
          return;
        }

        newFile = new FS.File();
        return newFile.attachData(req.files[0].data, {
          type: req.files[0].mimeType
        }, function (err) {
          var body, e, fileObj, filename, metadata, parent, r, result, size;
          filename = req.files[0].filename;

          if (["image.jpg", "image.gif", "image.jpeg", "image.png"].includes(filename.toLowerCase())) {
            filename = "image-" + moment(new Date()).format('YYYYMMDDHHmmss') + "." + filename.split('.').pop();
          }

          body = req.body;
          body['owner'] = instance.submitter;
          body['owner_name'] = instance.submitter_name;
          body['space'] = space_id;
          body['instance'] = ins_id;
          body['approve'] = approve_id;

          try {
            if (body && (body['upload_from'] === "IE" || body['upload_from'] === "node")) {
              filename = decodeURIComponent(filename);
            }
          } catch (error) {
            e = error;
            console.error(filename);
            console.error(e);
            filename = filename.replace(/%/g, "-");
          }

          newFile.name(filename);

          if (body && body['owner'] && body['owner_name'] && body['space'] && body['instance'] && body['approve']) {
            parent = '';
            metadata = {
              owner: body['owner'],
              owner_name: body['owner_name'],
              space: body['space'],
              instance: body['instance'],
              approve: body['approve'],
              current: true
            };

            if (body["is_private"] && body["is_private"].toLocaleLowerCase() === "true") {
              metadata.is_private = true;
            } else {
              metadata.is_private = false;
            }

            if (body['main'] === "true") {
              metadata.main = true;
            }

            if (body['isAddVersion'] && body['parent']) {
              parent = body['parent'];
            }

            if (parent) {
              r = collection.update({
                'metadata.parent': parent,
                'metadata.current': true
              }, {
                $unset: {
                  'metadata.current': ''
                }
              });

              if (r) {
                metadata.parent = parent;

                if (body['locked_by'] && body['locked_by_name']) {
                  metadata.locked_by = body['locked_by'];
                  metadata.locked_by_name = body['locked_by_name'];
                }

                newFile.metadata = metadata;
                fileObj = collection.insert(newFile);

                if (body["overwrite"] && body["overwrite"].toLocaleLowerCase() === "true") {
                  collection.remove({
                    'metadata.instance': body['instance'],
                    'metadata.parent': parent,
                    'metadata.owner': body['owner'],
                    'metadata.approve': body['approve'],
                    'metadata.current': {
                      $ne: true
                    }
                  });
                }
              }
            } else {
              newFile.metadata = metadata;
              fileObj = collection.insert(newFile);
              fileObj.update({
                $set: {
                  'metadata.parent': fileObj._id
                }
              });
            }
          } else {
            fileObj = collection.insert(newFile);
          }

          size = fileObj.original.size;

          if (!size) {
            size = 1024;
          }

          result = new Object();
          result = {
            attach_id: fileObj._id,
            size: size
          };
          res.setHeader("x-amz-version-id", fileObj._id);
          return JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              status: "success",
              data: result
            }
          });
        });
      } else {
        JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            errors: [{
              errorMessage: "need file"
            }]
          }
        });
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("delete", "/api/workflow/open/cfs/:ins_id", function (req, res, next) {
  var attach_id, collection, current_user, current_user_info, e, file, hashData, ins_id, instance, result, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能删除附件');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body || {};
    attach_id = hashData["attach_id"];

    if (!attach_id) {
      throw new Meteor.Error('error', 'can not find attach_id');
    }

    collection = cfs.instances;
    file = collection.findOne({
      _id: attach_id,
      'metadata.instance': ins_id
    });

    if (file) {
      file.remove();
    } else {
      throw new Meteor.Error('error', '此附件不属于此申请单，或已被删除');
    }

    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("get", "/api/workflow/open/cfs/:attach_id", function (req, res, next) {
  var attach_id, current_user, current_user_info, e, space_id;

  try {
    attach_id = req.params.attach_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    res.statusCode = 302;
    res.setHeader("Location", Steedos.absoluteUrl("api/files/instances/") + attach_id + "?download=true");
    return res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_refill.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_refill", function (req, res, next) {
  var approve, columns, forward_ins, forward_ins_values, original_ins, original_ins_fields, original_ins_form, original_ins_id, original_subtable_fields, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, row_data, subTable, table_data, trace, traces;
  console.log("=========回填子表==========");
  console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
  console.log("=========分发回填的列==========");
  console.log("req?.query?.column", req != null ? (ref1 = req.query) != null ? ref1.column : void 0 : void 0);
  columns = req != null ? (ref2 = req.query) != null ? ref2.column.split(';') : void 0 : void 0;
  console.log("columns", columns);
  forward_ins = req != null ? (ref3 = req.body) != null ? ref3.instance : void 0 : void 0;
  subTable = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

  if ((forward_ins != null ? forward_ins.state : void 0) === "completed" && (forward_ins != null ? (ref5 = forward_ins.distribute_from_instances) != null ? ref5.length : void 0 : void 0) > 0 && subTable && columns) {
    forward_ins_values = forward_ins != null ? forward_ins.values : void 0;
    original_ins_id = _.last(forward_ins != null ? forward_ins.distribute_from_instances : void 0);
    original_ins = db.instances.findOne(original_ins_id);
    original_ins_form = db.forms.findOne(original_ins != null ? original_ins.form : void 0);
    original_ins_fields = [];
    original_subtable_fields = [];
    console.log("original_ins_form?.current?._id", original_ins_form != null ? (ref6 = original_ins_form.current) != null ? ref6._id : void 0 : void 0);
    console.log("original_ins?.form_version", original_ins != null ? original_ins.form_version : void 0);

    if ((original_ins != null ? original_ins.form_version : void 0) === (original_ins_form != null ? (ref7 = original_ins_form.current) != null ? ref7._id : void 0 : void 0)) {
      original_ins_fields = (ref8 = original_ins_form.current) != null ? ref8.fields : void 0;
      original_ins_fields.forEach(function (original_ins_field) {
        console.log("original_ins_field", original_ins_field != null ? original_ins_field.code : void 0);

        if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
          return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
        }
      });
    } else {
      if ((original_ins_form != null ? (ref9 = original_ins_form.historys) != null ? ref9.length : void 0 : void 0) > 0) {
        original_ins_form.historys.forEach(function (oh) {
          if ((original_ins != null ? original_ins.form_version : void 0) === oh._id) {
            original_ins_fields = oh != null ? oh.fields : void 0;
            return original_ins_fields.forEach(function (original_ins_field) {
              if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
                return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
              }
            });
          }
        });
      }
    }

    console.log("original_subtable_fields", original_subtable_fields != null ? original_subtable_fields.length : void 0);

    if (original_subtable_fields) {
      traces = original_ins != null ? original_ins.traces : void 0;
      trace = traces[traces.length - 1];
      approve = trace != null ? trace.approves[0] : void 0;
      table_data = (approve != null ? approve.values[subTable] : void 0) || [];
      row_data = {};
      columns.forEach(function (column) {
        return row_data[column] = forward_ins_values[column] || "";
      });

      if (row_data && row_data !== {}) {
        table_data.push(row_data);
        traces[traces.length - 1].approves[0].values[subTable] = table_data;
        console.log(traces[traces.length - 1].approves[0].values[subTable]);
        db.instances.update(original_ins_id, {
          $set: {
            'traces': traces
          }
        });
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'success': '回填成功'
          }
        });
      } else {
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'info': '回填数据为空'
          }
        });
      }
    } else {
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'error': '原申请单无相关子表'
        }
      });
    }
  } else {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'success': '申请单未结束'
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_table_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_table_refill.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_table_refill", function (req, res, next) {
  var a_table, a_table_values, approve, column_list, columns, d_ins, d_ins_fields, d_ins_form, d_ins_values, d_match_col, d_match_col_field, d_match_col_fields, d_subtable_fields, d_table, d_table_values, e, o_ins, o_ins_fields, o_ins_form, o_ins_id, o_match_col, o_match_col_field, o_match_col_fields, o_subtable_fields, o_table, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref22, ref3, ref4, ref5, ref6, ref7, ref8, ref9, table_data, trace, traces;

  try {
    console.log("=========原表子表==========");
    console.log("req?.query?.oTable", req != null ? (ref = req.query) != null ? ref.oTable : void 0 : void 0);
    console.log("=========现表子表==========");
    console.log("req?.query?.dTable", req != null ? (ref1 = req.query) != null ? ref1.dTable : void 0 : void 0);
    console.log("=========原表单的子表匹配列==========");
    console.log("req?.query?.oMatchCol", req != null ? (ref2 = req.query) != null ? ref2.oMatchCol : void 0 : void 0);
    console.log("=========现表单的子表匹配列==========");
    console.log("req?.query?.dMatchCol", req != null ? (ref3 = req.query) != null ? ref3.dMatchCol : void 0 : void 0);
    console.log("=========需要回填的列==========");
    console.log("req?.query?.refillCol", req != null ? (ref4 = req.query) != null ? ref4.refillCol : void 0 : void 0);
    d_ins = req != null ? (ref5 = req.body) != null ? ref5.instance : void 0 : void 0;

    if ((d_ins != null ? d_ins.state : void 0) === "completed") {
      if (req != null ? (ref6 = req.query) != null ? ref6.oTable : void 0 : void 0) {
        o_table = req != null ? (ref7 = req.query) != null ? ref7.oTable : void 0 : void 0;

        if (req != null ? (ref8 = req.query) != null ? ref8.dTable : void 0 : void 0) {
          d_table = req != null ? (ref9 = req.query) != null ? ref9.dTable : void 0 : void 0;
        } else {
          d_table = o_table;
        }

        if (req != null ? (ref10 = req.query) != null ? ref10.aTable : void 0 : void 0) {
          a_table = req != null ? (ref11 = req.query) != null ? ref11.aTable : void 0 : void 0;
        }

        if (req != null ? (ref12 = req.query) != null ? ref12.oMatchCol : void 0 : void 0) {
          o_match_col = req != null ? (ref13 = req.query) != null ? ref13.oMatchCol : void 0 : void 0;

          if (req != null ? (ref14 = req.query) != null ? ref14.dMatchCol : void 0 : void 0) {
            d_match_col = req != null ? (ref15 = req.query) != null ? ref15.dMatchCol : void 0 : void 0;
          } else {
            d_match_col = o_match_col;
          }

          columns = (req != null ? (ref16 = req.query) != null ? ref16.refillCol.split(';') : void 0 : void 0) || [];
          console.log("columns", columns);

          if (columns || columns.length < 1) {
            console.log("======================");
            console.log(d_table, o_match_col, columns);
            d_ins_values = d_ins != null ? d_ins.values : void 0;
            o_ins_id = _.last(d_ins != null ? d_ins.distribute_from_instances : void 0);
            o_ins = db.instances.findOne(o_ins_id);
            o_ins_form = db.forms.findOne(o_ins != null ? o_ins.form : void 0);
            d_ins_form = db.forms.findOne(d_ins != null ? d_ins.form : void 0);
            o_ins_fields = [];
            o_subtable_fields = [];
            d_ins_fields = [];
            d_subtable_fields = [];
            column_list = [];
            d_table_values = [];

            if ((o_ins != null ? o_ins.form_version : void 0) === (o_ins_form != null ? (ref17 = o_ins_form.current) != null ? ref17._id : void 0 : void 0)) {
              o_ins_fields = o_ins_form != null ? (ref18 = o_ins_form.current) != null ? ref18.fields : void 0 : void 0;
              o_ins_fields.forEach(function (o_ins_field) {
                if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                  return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                }
              });
            } else {
              if ((o_ins_form != null ? (ref19 = o_ins_form.historys) != null ? ref19.length : void 0 : void 0) > 0) {
                o_ins_form.historys.forEach(function (oh) {
                  if ((o_ins != null ? o_ins.form_version : void 0) === oh._id) {
                    o_ins_fields = oh != null ? oh.fields : void 0;
                    return o_ins_fields.forEach(function (o_ins_field) {
                      if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                        return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                      }
                    });
                  }
                });
              }
            }

            if ((d_ins != null ? d_ins.form_version : void 0) === (d_ins_form != null ? (ref20 = d_ins_form.current) != null ? ref20._id : void 0 : void 0)) {
              d_ins_fields = d_ins_form != null ? (ref21 = d_ins_form.current) != null ? ref21.fields : void 0 : void 0;
              d_ins_fields.forEach(function (d_ins_field) {
                if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                  return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                }
              });
            } else {
              if ((d_ins_form != null ? (ref22 = d_ins_form.historys) != null ? ref22.length : void 0 : void 0) > 0) {
                d_ins_form.historys.forEach(function (dh) {
                  if ((d_ins != null ? d_ins.form_version : void 0) === dh._id) {
                    d_ins_fields = dh != null ? dh.fields : void 0;
                    return d_ins_fields.forEach(function (d_ins_field) {
                      if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                        return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                      }
                    });
                  }
                });
              }
            }

            if (o_subtable_fields.length === 0) {
              console.log("o_subtable_fields", o_subtable_fields);
              throw new Meteor.Error('forward table refill error!', '原申请单无对应子表');
            }

            if (d_subtable_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单无对应子表');
            }

            d_table_values = (d_ins != null ? d_ins.values[d_table] : void 0) || [];

            if (a_table) {
              a_table_values = (d_ins != null ? d_ins.values[a_table] : void 0) || [];

              if (a_table_values && (a_table_values != null ? a_table_values.length : void 0) === (d_table_values != null ? d_table_values.length : void 0)) {
                a_table_values.forEach(function (a_row, index) {
                  var key, results, value;
                  results = [];

                  for (key in meteorBabelHelpers.sanitizeForInObject(a_row)) {
                    value = a_row[key];
                    results.push(d_table_values[index][key] = value);
                  }

                  return results;
                });
              }
            }

            if (d_table_values.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表数据为空');
            }

            o_match_col_fields = o_subtable_fields.filter(function (m) {
              return m.code === o_match_col;
            });
            d_match_col_fields = d_subtable_fields.filter(function (m) {
              return m.code === d_match_col;
            });

            if (o_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '原申请单子表无对应匹配列');
            }

            if (d_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应匹配列');
            }

            o_match_col_field = o_match_col_fields[0];
            d_match_col_field = d_match_col_fields[0];

            if ((o_match_col_field != null ? o_match_col_field.type : void 0) !== (d_match_col_field != null ? d_match_col_field.type : void 0)) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单和原申请单子表的匹配列字段不一致');
            }

            columns.forEach(function (column) {
              var col, cols, d_col, d_col_fields, o_col, o_col_fields;
              cols = column.split('-') || [];

              if (cols.length === 2) {
                o_col = cols[0];
                d_col = cols[1];
                o_col_fields = o_subtable_fields.filter(function (m) {
                  return m.code === o_col;
                });
                d_col_fields = d_subtable_fields.filter(function (m) {
                  return m.code === d_col;
                });

                if (o_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '原申请单子表无对应回填列');
                }

                if (d_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应回填列');
                }

                if ((o_col_fields != null ? o_col_fields.type : void 0) !== (d_col_fields != null ? d_col_fields.type : void 0)) {
                  throw new Meteor.Error('forward table refill error!', '回填列字段类型不一致');
                }

                col = {
                  o_col: o_col,
                  d_col: d_col
                };
                return column_list.push(col);
              } else {
                throw new Meteor.Error('forward table refill error!', '回填列不匹配');
              }
            });
            traces = o_ins != null ? o_ins.traces : void 0;
            trace = traces[traces.length - 1];
            approve = trace != null ? trace.approves[0] : void 0;
            table_data = (approve != null ? approve.values[o_table] : void 0) || [];
            d_table_values.forEach(function (d_row) {
              var count, has_obj, row_data;
              has_obj = false;
              count = -1;
              table_data.forEach(function (o_row, index) {
                if (o_row[o_match_col] === d_row[d_match_col]) {
                  has_obj = true;
                  return count = index;
                }
              });

              if (has_obj === true) {
                return column_list.forEach(function (col) {
                  return table_data[count][col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
              } else {
                row_data = {};
                row_data[o_match_col] = d_row[d_match_col];
                column_list.forEach(function (col) {
                  return row_data[col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
                return table_data.push(row_data);
              }
            });
            traces[traces.length - 1].approves[0].values = o_ins != null ? o_ins.values : void 0;
            traces[traces.length - 1].approves[0].values[o_table] = table_data;
            db.instances.update(o_ins_id, {
              $set: {
                'traces': traces
              }
            });
            JsonRoutes.sendResult(res, {
              code: 200,
              data: {
                'success': '回填成功'
              }
            });
          } else {
            throw new Meteor.Error('forward table refill error!', 'webhook未配置子表回填列字段 columns 值');
          }
        } else {
          throw new Meteor.Error('forward table refill error!', 'webhook未配置匹配列字段 oMatchCol 值');
        }
      } else {
        throw new Meteor.Error('forward table refill error!', 'webhook未配置原表单子表 oTable 值');
      }
    } else {
      throw new Meteor.Error('forward table refill error!', '申请单未结束');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_sub_table_sort.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_sub_table_sort.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/sub_table_sort", function (req, res, next) {
  var e, ins, new_table_values, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, sort_col, sub_table, sub_table_values, sum_col;

  try {
    console.log("=========子表==========");
    console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
    console.log("=========子表总分列==========");
    console.log("req?.query?.sumCol", req != null ? (ref1 = req.query) != null ? ref1.sumCol : void 0 : void 0);
    console.log("=========子表排序列==========");
    console.log("req?.query?.sortCol", req != null ? (ref2 = req.query) != null ? ref2.sortCol : void 0 : void 0);
    console.log("=========子表单列需要计算的和==========");
    console.log("req?.query?.singleCols", req != null ? (ref3 = req.query) != null ? ref3.singleCols : void 0 : void 0);
    sub_table = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

    if (!sub_table) {
      console.log("=====sub_table======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 subTable 字段');
    }

    sum_col = req != null ? (ref5 = req.query) != null ? ref5.sumCol : void 0 : void 0;

    if (!sum_col) {
      console.log("=====sum_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sumCol 字段');
    }

    sort_col = req != null ? (ref6 = req.query) != null ? ref6.sortCol : void 0 : void 0;

    if (!sort_col) {
      console.log("=====sort_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sortCol 字段');
    }

    ins = req != null ? (ref7 = req.body) != null ? ref7.instance : void 0 : void 0;
    sub_table_values = ins.values[sub_table];

    if ((sub_table_values != null ? sub_table_values.length : void 0) > 0) {
      var JsonSort = function (jsonArr, key, asc) {
        for (var j = 1, jl = jsonArr.length; j < jl; j++) {
          var temp = jsonArr[j],
              val = Number(temp[key]),
              i = j - 1;

          if (asc == true) {
            while (i >= 0 && Number(jsonArr[i][key]) > val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          } else {
            while (i >= 0 && Number(jsonArr[i][key]) < val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          }

          jsonArr[i + 1] = temp;
        }

        return jsonArr;
      };

      ;
      new_table_values = JsonSort(sub_table_values, sum_col, false);
      console.log("new_table_values", new_table_values);
      new_table_values.forEach(function (obj, index) {
        if (sort_col && obj[sum_col]) {
          return obj[sort_col] = (index + 1).toString();
        }
      });
      console.log("new_table_values", new_table_values);
      ins.values[sub_table] = new_table_values;
      db.instances.update(ins._id, {
        $set: {
          'values': ins.values
        }
      });
      console.log("success");
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'success': '计算排序成功'
        }
      });
    } else {
      throw new Meteor.Error('table sort error!', '子表数据为空');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"test_webhook.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/test_webhook.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isDevelopment) {
  JsonRoutes.add('post', '/test/webhook', function (req, res, next) {
    var e, hashData;

    try {
      hashData = req.body;
      console.log('action: ', hashData.action);
      console.log('from_user: ', hashData.from_user);
      console.log('to_users: ', hashData.to_users);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {}
      });
    } catch (error) {
      e = error;
      console.error(e.stack);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          errors: [{
            errorMessage: e.message
          }]
        }
      });
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_users.coffee                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/users", function (req, res, next) {
  var current_user, current_user_info, spaceId, spaceUsers, space_user, userIds;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  userIds = req.body.userIds;
  spaceId = req.body.spaceId;
  spaceUsers = [];
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!userIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getFormulaUserObjects(spaceId, userIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_organizations.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_organizations.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/orgs", function (req, res, next) {
  var current_user, current_user_info, orgIds, orgs, spaceId, space_user;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  orgIds = req.body.orgIds;
  spaceId = req.body.spaceId;
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!orgIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  orgs = WorkflowManager.getFormulaOrgObjects(orgIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'orgs': orgs
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"related_instances_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/related_instances_tabular.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return TabularTables.related_instances_tabular = new Tabular.Table({
    name: "related_instances_tabular",
    collection: db.instances,
    columns: [{
      data: "_id",
      title: '<input type="checkbox" name="reverse" id="reverse">',
      orderable: false,
      width: '1px',
      render: function (val, type, doc) {
        var input, ref;
        input = '<input type="checkbox" class="related-instances-list-checkbox" name="related_instances_ids" id="related_instances_ids" value="' + doc._id + '"';

        if ((ref = TabularTables.related_instances_tabular.related_instances) != null ? ref.includes(doc._id) : void 0) {
          input += " checked ";
        }

        input += ">";
        return input;
      }
    }, {
      data: "name",
      orderable: false,
      width: '45%',
      render: function (val, type, doc) {
        var absolute, href;
        href = '';

        if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
          href = '';
        }

        absolute = false;

        if (Meteor.isServer) {
          absolute = this.absolute;
        }

        if (absolute) {
          href = Meteor.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        } else {
          href = Steedos.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        }

        return "<a data-id='" + doc._id + "' target='_blank' href='" + href + "'>" + doc.name + "</a>";
      }
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      orderable: false
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_flow"),
      render: function (val, type, doc) {
        var judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + "</div>";
      }
    }],
    dom: "tp",
    lengthChange: false,
    extraFields: ["state", "final_decision", "space", "keywords"],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var curSpaceUser, flow_ids, flows, organizations, ref, ref1, space, spaceId;

      if (!userId) {
        return {
          _id: -1
        };
      }

      spaceId = selector.space;

      if (!spaceId) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          spaceId = selector.$and.getProperty('space')[0];
        }
      }

      if (!spaceId) {
        return {
          _id: -1
        };
      }

      space = db.spaces.findOne(spaceId);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(userId)) {
        flow_ids = [];
        curSpaceUser = db.space_users.findOne({
          space: spaceId,
          'user': userId
        });

        if (curSpaceUser) {
          organizations = db.organizations.find({
            _id: {
              $in: curSpaceUser.organizations
            }
          }).fetch();
          flows = db.flows.find({
            space: spaceId
          });
          flows.forEach(function (fl) {
            if (WorkflowManager.canMonitor(fl, curSpaceUser, organizations) || WorkflowManager.canAdmin(fl, curSpaceUser, organizations)) {
              return flow_ids.push(fl._id);
            }
          });
        }

        if ((selector != null ? (ref1 = selector.$and) != null ? ref1.length : void 0 : void 0) > 0) {
          selector.$and[0].$or = [{
            submitter: userId
          }, {
            applicant: userId
          }, {
            inbox_users: userId
          }, {
            outbox_users: userId
          }, {
            cc_users: userId
          }, {
            flow: {
              $in: flow_ids
            }
          }];
        } else {
          _.extend(selector, {
            $or: [{
              submitter: userId
            }, {
              applicant: userId
            }, {
              inbox_users: userId
            }, {
              outbox_users: userId
            }, {
              cc_users: userId
            }, {
              flow: {
                $in: flow_ids
              }
            }]
          });
        }
      }

      return selector;
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/tabular.coffee                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var GetBoxInstancesTabularOptions, _get_inbox_instances_tabular_options, _get_outbox_instances_tabular_options, _handleListFields, instancesListTableTabular, newInstancesListTabular, updateTabularTitle;

Steedos.subs["InstanceTabular"] = new SubsManager();

_handleListFields = function (fields) {
  var ins_fields;
  ins_fields = new Array();

  if (fields != null) {
    fields.forEach(function (f) {
      var ref;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
          return ins_fields.push(f1);
        }) : void 0 : void 0;
      } else {
        return ins_fields.push(f);
      }
    });
  }

  return ins_fields;
};

updateTabularTitle = function () {};

instancesListTableTabular = function (flowId, fields) {
  var ins_fields, key, options;
  options = {
    name: "instances",
    collection: db.instances,
    pub: "instance_tabular",
    onUnload: function () {
      return Meteor.setTimeout(Template.instance_list._tableColumns, 150);
    },
    drawCallback: function (settings) {
      var ellipsisLink, emptyTd, title;
      emptyTd = $(".dataTables_empty");

      if (emptyTd.length) {
        emptyTd[0].colSpan = "6";
      }

      if (!Steedos.isMobile() && !Steedos.isPad()) {
        Meteor.setTimeout(Template.instance_list._tableColumns, 150);
        $(".instance-list").scrollTop(0).ready(function () {
          return $(".instance-list").perfectScrollbar("update");
        });
      } else {
        $(".instance-list").scrollTop(0);
      }

      title = t("pager_input_hint");
      ellipsisLink = settings.oInstance.parent().find('.paging_numbers .pagination .disabled a');
      return ellipsisLink.attr("title", title).css("cursor", "pointer").click(function () {
        var goPage, input;

        if (!$(this).find('input').length) {
          input = $('<input class="paginate_input form-control input-sm" type="text" style="border: none; padding:0 2px;"/>');

          if (Steedos.isMobile()) {
            input.css({
              width: "52px",
              height: "20px"
            });
          } else {
            input.css({
              width: "52px",
              height: "16px"
            });
          }

          input.attr("title", title).attr("placeholder", title);
          $(this).empty().append(input);

          goPage = function (index) {
            var pages;

            if (index > 0) {
              pages = Math.ceil(settings.fnRecordsDisplay() / settings._iDisplayLength);

              if (index > pages) {
                index = pages;
              }

              index--;
              return settings.oInstance.DataTable().page(index).draw('page');
            }
          };

          input.blur(function (e) {
            var currentPage;
            currentPage = $(this).val();
            goPage(currentPage);
            return $(this).parent().html('...');
          });
          return input.keydown(function (e) {
            var currentPage;

            if (e.keyCode.toString() === "13") {
              currentPage = $(this).val();
              return goPage(currentPage);
            }
          });
        }
      });
    },
    createdRow: function (row, data, dataIndex) {
      if (Meteor.isClient) {
        if (data._id === FlowRouter.current().params.instanceId) {
          return row.setAttribute("class", "selected");
        }
      }
    },
    columns: [{
      data: "_id",
      orderable: false,
      render: function (val, type, doc) {
        var agent_view, cc_view, flow_name, instanceNamePriorityClass, modified, modifiedFromNow, modifiedString, priorityIcon, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        modifiedString = moment(doc.modified).format('YYYY-MM-DD');
        modified = doc.modified;

        if (Session.get("box") === 'inbox' && doc.state !== 'draft') {
          modified = doc.start_date || doc.modified;
        }

        if (Session.get("box") === 'outbox' || Session.get("box") === 'monitor') {
          modified = doc.submit_date || doc.submit_date;
        }

        modifiedFromNow = Steedos.momentReactiveFromNow(modified);
        flow_name = doc.flow_name;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
          step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
        } else {
          if (Session.get("box") !== 'draft' && doc.current_step_name) {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
          } else {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "</div>";
          }
        }

        agent_view = "";

        if (doc.agent_user_name && Session.get("box") === 'inbox') {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIcon = "";
        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "\n	<span>" + doc.applicant_name + "</span>\n</div>\n<div class='instance-detail'>" + step_current_name_view + "\n	<span class='instance-modified' title='" + modifiedString + "'>" + modifiedFromNow + "</span>\n</div>";
      }
    }, {
      data: "applicant_organization_name",
      title: t("instances_applicant_organization_name"),
      visible: false
    }, {
      data: "name",
      title: t("instances_name"),
      render: function (val, type, doc) {
        var agent_view, cc_view, instanceNamePriorityClass, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
        }

        agent_view = "";

        if (doc.agent_user_name) {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      visible: false,
      orderable: false
    }, {
      data: "submit_date",
      title: t("instances_submit_date"),
      render: function (val, type, doc) {
        if (doc.submit_date) {
          return moment(doc.submit_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      visible: false,
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_step_current_name"),
      render: function (val, type, doc) {
        var cc_tag, judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        cc_tag = '';

        if (doc.cc_count > 0) {
          cc_tag = TAPi18n.__('cc_tag');
        }

        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + cc_tag + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "modified",
      title: t("instances_modified"),
      render: function (val, type, doc) {
        return moment(doc.modified).format('YYYY-MM-DD HH:mm');
      },
      visible: false,
      orderable: true
    }, {
      data: "start_date",
      title: t("instances_start_date"),
      render: function (val, type, doc) {
        if (doc.start_date) {
          return moment(doc.start_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "my_finish_date",
      render: function (val, type, doc) {
        if (doc.my_finish_date) {
          return moment(doc.my_finish_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "modified",
      visible: false
    }, {
      data: "keywords",
      visible: false
    }, {
      data: "is_archived",
      render: function (val, type, doc) {
        var ref;

        if ((doc != null ? (ref = doc.values) != null ? ref.record_need : void 0 : void 0) && doc.values.record_need === "true") {
          if (doc != null ? doc.is_archived : void 0) {
            return t("YES");
          }

          return t("NO");
        }
      },
      visible: false,
      orderable: false
    }],
    dom: function () {
      if (Steedos.isMobile()) {
        return 'tp';
      } else {
        return 'tpl';
      }
    }(),
    order: [[4, "desc"]],
    extraFields: ["form", "flow", "inbox_users", "state", "space", "applicant", "form_version", "flow_version", "is_cc", "cc_count", "is_read", "current_step_name", "values", "keywords", "final_decision", "flow_name", "is_hidden", "agent_user_name"],
    lengthChange: true,
    lengthMenu: [10, 15, 20, 25, 50, 100],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var ref, space, space_user;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;

      if (!space) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          space = selector.$and.getProperty('space')[0];
        }
      }

      if (!space) {
        return {
          _id: -1
        };
      }

      space_user = db.space_users.findOne({
        user: userId,
        space: space
      }, {
        fields: {
          _id: 1
        }
      });

      if (!space_user) {
        return {
          _id: -1
        };
      }

      return selector;
    },
    pagingType: "numbers"
  };

  if (flowId) {
    key = "instanceFlow" + flowId;
    options.name = key;
    TabularTables.instances.fields = fields;
    ins_fields = _handleListFields(TabularTables.instances.fields);
    ins_fields.forEach(function (f) {
      if (f.type !== 'table' && f.is_list_display) {
        return options.columns.push({
          data: f.name || f.code,
          title: t(f.name || f.code),
          visible: false,
          orderable: false,
          render: function (val, type, doc) {
            var value, values;
            values = doc.values || {};
            value = values[f.code];

            switch (f.type) {
              case 'user':
                value = value != null ? value.name : void 0;
                break;

              case 'group':
                value = value != null ? value.fullname : void 0;
                break;

              case 'date':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD');
                }

                break;

              case 'dateTime':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD HH:mm');
                }

                break;

              case 'checkbox':
                if (value === true || value === 'true') {
                  value = TAPi18n.__("form_field_checkbox_yes");
                } else {
                  value = TAPi18n.__("form_field_checkbox_no");
                }

                break;

              case 'odata':
                if (value) {
                  if (_.isArray(value)) {
                    value = _.pluck(value, '@label').toString();
                  } else {
                    value = value['@label'];
                  }
                }

            }

            return value;
          }
        });
      }
    });
  }

  return options;
};

Meteor.startup(function () {
  return TabularTables.instances = new Tabular.Table(instancesListTableTabular());
});

GetBoxInstancesTabularOptions = function (box, flowId, fields) {
  var key, options;
  key = "instanceFlow" + box + flowId;

  if (box === "inbox") {
    options = _get_inbox_instances_tabular_options(flowId, fields);
  } else if (box === "outbox") {
    options = _get_outbox_instances_tabular_options(flowId, fields);
  } else {
    options = instancesListTableTabular(flowId, fields);

    if (!flowId) {
      options.name = "inbox_instances";
    }
  }

  if (flowId) {
    options.name = key;
  }

  return options;
};

_get_inbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "inbox_instances";
  }

  options.order = [[8, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': false,
        '_approve.handler': userId
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'start_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_start_date": {
              $first: "$_approve.start_date"
            }
          }
        });
        ag_sort = {
          'approve_start_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.inbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("inbox"));
});

_get_outbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "outbox_instances";
  }

  options.order = [[9, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': true,
        $or: [{
          '_approve.handler': userId
        }, {
          '_approve.user': userId
        }]
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'my_finish_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_finish_date": {
              $last: "$_approve.finish_date"
            }
          }
        });
        ag_sort = {
          'approve_finish_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.outbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("outbox"));
});

if (Meteor.isClient) {
  TabularTables.flowInstances = new ReactiveVar();
}

Meteor.startup(function () {
  return Tracker.autorun(function (c) {
    if (Meteor.isClient && !Steedos.isMobile()) {
      if (Session.get("flowId") && Session.get("box") !== 'draft') {
        return Meteor.call("newInstancesListTabular", Session.get("box"), Session.get("flowId"), function (error, result) {
          newInstancesListTabular(Session.get("box"), Session.get("flowId"), result);
          return Template.instance_list._changeOrder();
        });
      }
    }
  });
});

newInstancesListTabular = function (box, flowId, fields) {
  var flow, key, ref, ref1, ref2;

  if (!fields) {
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        form: 1
      }
    });
    fields = (ref = db.forms.findOne({
      _id: flow != null ? flow.form : void 0
    }, {
      fields: {
        'current.fields': 1
      }
    })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
  }

  fields = _handleListFields(fields);

  if ((fields != null ? (ref2 = fields.filterProperty("is_list_display", true)) != null ? ref2.length : void 0 : void 0) > 0) {
    key = "instanceFlow" + box + flowId;

    if (Meteor.isClient) {
      TabularTables.flowInstances.set(new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields)));
    } else {
      new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields));
    }

    return console.log("new TabularTables ", key);
  }
};

if (Meteor.isServer) {
  Meteor.methods({
    newInstancesListTabular: function (box, flowId) {
      var fields, flow, ref, ref1;
      newInstancesListTabular(box, flowId);
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          form: 1
        }
      });
      fields = (ref = db.forms.findOne({
        _id: flow != null ? flow.form : void 0
      }, {
        fields: {
          'current.fields': 1
        }
      })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
      return fields;
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}}},{
  "extensions": [
    ".js",
    ".json",
    ".i18n.json",
    ".coffee"
  ]
});

require("/node_modules/meteor/steedos:workflow/i18n/en.i18n.json.js");
require("/node_modules/meteor/steedos:workflow/i18n/zh-CN.i18n.json.js");
require("/node_modules/meteor/steedos:workflow/checkNpm.js");
require("/node_modules/meteor/steedos:workflow/lib/collection_helpers.js");
require("/node_modules/meteor/steedos:workflow/lib/tapi18n.coffee");
require("/node_modules/meteor/steedos:workflow/lib/core.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/forms.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flows.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/categories.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/spaces.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/deleted_instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/auth_tokens.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/webhooks.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_users.coffee");
require("/node_modules/meteor/steedos:workflow/lib/cfs/instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/instance_readonly_template.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/template_manager.coffee");
require("/node_modules/meteor/steedos:workflow/client/coreform/inputTypes/coreform-table/steedos-table.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_image_sign.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_form.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_attachments.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_sign_text.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_help.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_records.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/set_instance_step_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/get_instance_data.js");
require("/node_modules/meteor/steedos:workflow/server/methods/save_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/trace_approve_cc.js");
require("/node_modules/meteor/steedos:workflow/server/methods/forward_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/cfs_instances.js");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_return.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_remind.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/next_step_users_not_found.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_number_rules.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/check_main_attach.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/edit_flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/start_flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_traces.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_batch.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/distribute.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/hide_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_value.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/steedos_css.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance_draft_view.coffee");
require("/node_modules/meteor/steedos:workflow/routes/nextStepUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getSpaceUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getFormulaUserObjects.js");
require("/node_modules/meteor/steedos:workflow/routes/init_formula_values.js");
require("/node_modules/meteor/steedos:workflow/routes/getNameForUser.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_designer_startup.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_engine.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_remove.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_terminate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_reassign.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_relocate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_archive.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_export.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_space_changeset.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_retrieve.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward.js");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_instance.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_pending.coffee");
require("/node_modules/meteor/steedos:workflow/routes/export_table_template.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_save.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get_by_stepname.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_cfs.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_table_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_sub_table_sort.coffee");
require("/node_modules/meteor/steedos:workflow/routes/test_webhook.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/1_form_formula.js");
require("/node_modules/meteor/steedos:workflow/server/lib/get_handlers_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/permission_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/approve_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/flow_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/form_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/step_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/categories.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/cfs_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flows.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/forms.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_data.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_list.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_draft.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/distributed_instances_state_by_ids.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/related_instaces.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/user_inbox_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_main_attach_template.coffee");
require("/node_modules/meteor/steedos:workflow/lib/admin.coffee");
require("/node_modules/meteor/steedos:workflow/related_instances_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/tabular.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_users.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_organizations.coffee");
require("/node_modules/meteor/steedos:workflow/server/flow-template/workflow_template.coffee");
require("/node_modules/meteor/steedos:workflow/server/startup.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/instance_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/auto_finish_process_delegation.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/timeout_auto_submit.coffee");

/* Exports */
Package._define("steedos:workflow", {
  InstanceManager: InstanceManager,
  WorkflowManager_format: WorkflowManager_format,
  Workflow: Workflow,
  SteedosTable: SteedosTable,
  InstanceReadOnlyTemplate: InstanceReadOnlyTemplate,
  TemplateManager: TemplateManager,
  CoreForm: CoreForm,
  InstanceNumberRules: InstanceNumberRules,
  getHandlersManager: getHandlersManager,
  permissionManager: permissionManager,
  workflowTemplate: workflowTemplate,
  approveManager: approveManager,
  stepManager: stepManager,
  flowManager: flowManager,
  formManager: formManager
});

})();

//# sourceURL=meteor://💻app/packages/steedos_workflow.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jaGVja05wbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9saWIvY29yZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL2xpYi9jb3JlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9saWIvbW9kZWxzL2F1dGhfdG9rZW5zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvbGliL2luc3RhbmNlX3JlYWRvbmx5X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L2xpYi9pbnN0YW5jZV9yZWFkb25seV90ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L2xpYi90ZW1wbGF0ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L2xpYi90ZW1wbGF0ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvY29yZWZvcm0vaW5wdXRUeXBlcy9jb3JlZm9ybS10YWJsZS9zdGVlZG9zLXRhYmxlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW1hZ2Vfc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW1hZ2Vfc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX2luc3RhbmNlX2F0dGFjaG1lbnRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW5zdGFuY2Vfc2lnbl90ZXh0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9zaWduX3RleHQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9fdHJhY2VzX2hlbHAuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oZWxwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX3JlY29yZHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfcmVjb3Jkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvc2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL3NldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2dldF9pbnN0YW5jZV9kYXRhLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL3NhdmVfaW5zdGFuY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvdHJhY2VfYXBwcm92ZV9jYy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9mb3J3YXJkX2luc3RhbmNlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2Nmc19pbnN0YW5jZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9uZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9jaGVja19tYWluX2F0dGFjaC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvcmVsYXRlZF9pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvZWRpdF9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2VkaXRfZmxvd19wb3NpdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL3N0YXJ0X2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9zdGFydF9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2JhdGNoLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYmF0Y2guY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9oaWRlX2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaGlkZV9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfdmFsdWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV92YWx1ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3JvdXRlcy9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9yb3V0ZXMvaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9yb3V0ZXMvc3RlZWRvc19jc3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL3N0ZWVkb3NfY3NzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9saWIvMV9mb3JtX2Zvcm11bGEuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL2xpYi9nZXRfaGFuZGxlcnNfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZ2V0X2hhbmRsZXJzX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvcGVybWlzc2lvbl9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9wZXJtaXNzaW9uX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvYXBwcm92ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9hcHByb3ZlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvZmxvd19tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2Zvcm1fbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZm9ybV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL3N0ZXBfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvc3RlcF9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zvcm1zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mb3Jtcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kcmFmdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfZHJhZnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvZmxvdy10ZW1wbGF0ZS93b3JrZmxvd190ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9mbG93LXRlbXBsYXRlL3dvcmtmbG93X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvc2NoZWR1bGUvYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3NjaGVkdWxlL2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3NjaGVkdWxlL3RpbWVvdXRfYXV0b19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvc2NoZWR1bGUvdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL25leHRTdGVwVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldFNwYWNlVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldEZvcm11bGFVc2VyT2JqZWN0cy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvaW5pdF9mb3JtdWxhX3ZhbHVlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvZ2V0TmFtZUZvclVzZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvZ2V0TmFtZUZvclVzZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZGVzaWduZXJfc3RhcnR1cC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfZGVzaWduZXJfc3RhcnR1cC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19lbmdpbmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2VuZ2luZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19kcmFmdHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZW1vdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbW92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd190ZXJtaW5hdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3Rlcm1pbmF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZWFzc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVhc3NpZ24uY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVsb2NhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbG9jYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2FyY2hpdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2FyY2hpdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZXhwb3J0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19leHBvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfc3BhY2VfY2hhbmdlc2V0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19zcGFjZV9jaGFuZ2VzZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfcmV0cmlldmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JldHJpZXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9wZW5kaW5nLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3BlbmRpbmcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9leHBvcnRfdGFibGVfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvZXhwb3J0X3RhYmxlX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9nZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc3VibWl0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc2F2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zYXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0X2J5X3N0ZXBuYW1lLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldF9ieV9zdGVwbmFtZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2Nmcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9jZnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfdGFibGVfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19mb3J3YXJkX3RhYmxlX3JlZmlsbC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9zdWJfdGFibGVfc29ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfc3ViX3RhYmxlX3NvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy90ZXN0X3dlYmhvb2suY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvdGVzdF93ZWJob29rLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX2Zvcm11bGFfdXNlcnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX2Zvcm11bGFfdXNlcnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZm9ybXVsYV9vcmdhbml6YXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9mb3JtdWxhX29yZ2FuaXphdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy90YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvdGFidWxhci5jb2ZmZWUiXSwibmFtZXMiOlsiY2hlY2tOcG1WZXJzaW9ucyIsIm1vZHVsZSIsImxpbmsiLCJ2IiwiY29va2llcyIsIm1rZGlycCIsIldvcmtmbG93IiwiSW1hZ2VTaWduIiwiVHJhY2VzVGVtcGxhdGUiLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZSIsIkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlIiwiSW5zdGFuY2VTaWduVGV4dCIsIlJlbGF0ZWRJbnN0YW5jZXMiLCJSZWxhdGVkUmVjb3JkcyIsIkluc3RhbmNlTWFjcm8iLCJjb250ZXh0IiwiVHJhY2VzTWFuYWdlciIsIk1ldGVvciIsImlzQ2xpZW50Iiwic3RhcnR1cCIsIndvcmtmbG93X3RocmVlX2NvbHVtbnMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiJCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyIsImZpZWxkX2Zvcm11bGEiLCJpbmRleE9mIiwiaW5jbHVkZXNPcGluaW9uRmllbGQiLCJmb3JtIiwiZm9ybV92ZXJzaW9uIiwiX2Zvcm1fdmVyc2lvbiIsImZpZWxkX2Zvcm11bGFzIiwiZmllbGRzIiwiQXJyYXkiLCJpc1NlcnZlciIsInV1Zmxvd01hbmFnZXIiLCJnZXRGb3JtVmVyc2lvbiIsImRiIiwiZm9ybXMiLCJmaW5kT25lIiwiX2lkIiwiZm9ybV92ZXJzaW9ucyIsImZvckVhY2giLCJmIiwicmVmIiwidHlwZSIsImNvbnNvbGUiLCJsb2ciLCJmMSIsInB1c2giLCJmb3JtdWxhIiwiXyIsInNvbWUiLCJoZWxwZXJzIiwiYXV0aF90b2tlbnMiLCJDb2xsZWN0aW9uIiwiX2dldExvY2FsZSIsIl9nZXRSZXF1aXJlZEZpZWxkcyIsIl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyIsIl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyIsIl9nZXRUZW1wbGF0ZURhdGEiLCJfZ2V0Vmlld0h0bWwiLCJnZXRMaW5rVGV4dCIsIkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSIsImluc3RhbmNlX2F0dGFjaG1lbnQiLCJhZlNlbGVjdFVzZXJSZWFkIiwiYWZGb3JtR3JvdXBSZWFkIiwiYWZGb3JtR3JvdXAiLCJjcmVhdGUiLCJ0ZW1wYWx0ZU5hbWUiLCJzdGVlZG9zRGF0YSIsInRlbXBsYXRlIiwidGVtcGxhdGVDb21waWxlZCIsInRlbXBsYXRlUmVuZGVyRnVuY3Rpb24iLCJTcGFjZWJhcnNDb21waWxlciIsImNvbXBpbGUiLCJpc0JvZHkiLCJldmFsIiwiVGVtcGxhdGUiLCJCbGF6ZSIsImNyZWF0ZUluc3RhbmNlU2lnblRleHQiLCJpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQiLCJpbnN0YW5jZVNpZ25UZXh0SHRtbCIsImluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiIsImluc3RhbmNlU2lnblRleHQiLCJjcmVhdGVJbWFnZVNpZ24iLCJpbWFnZVNpZ25Db21waWxlZCIsImltYWdlU2lnbkh0bWwiLCJpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiIsImltYWdlU2lnbiIsImluaXQiLCJhYnNvbHV0ZSIsIml0ZW0iLCJsYWJlbCIsImRldGFpbF91cmwiLCJyZXBsYWNlIiwidGVzdCIsIlN0ZWVkb3MiLCJhYnNvbHV0ZVVybCIsImdldFZhbHVlIiwidmFsdWUiLCJmaWVsZCIsImxvY2FsZSIsInV0Y09mZnNldCIsImRhdGUiLCJlIiwiaG91cnMiLCJtb250aCIsInNlY29uZHMiLCJ0IiwidDAiLCJ0MSIsInllYXIiLCJlbmNvZGVVUkkiLCJlcnJvciIsImlzX211bHRpc2VsZWN0IiwiZ2V0UHJvcGVydHkiLCJ0b1N0cmluZyIsImZ1bGxuYW1lIiwibmFtZSIsIlRBUGkxOG4iLCJfXyIsImxlbmd0aCIsInNwbGl0IiwiRGF0ZSIsImZvcm1hdERhdGUiLCJpc190ZXh0YXJlYSIsIlNwYWNlYmFycyIsIlNhZmVTdHJpbmciLCJNYXJrZG93biIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwiZGlnaXRzIiwibnVtYmVyVG9TdHJpbmciLCJtYXAiLCJnZXRMYWJlbCIsImNvZGUiLCJmaW5kUHJvcGVydHlCeVBLIiwiZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbiIsImluc3RhbmNlIiwiZm9ybV9maWVsZHMiLCJjdXJyZW50Iiwid2hlcmUiLCJoaXN0b3J5cyIsImdldEZsb3dWZXJzaW9uIiwiZmxvdyIsImZsb3dfdmVyc2lvbiIsImZsb3dzIiwicGF0aCIsInZpZXdIdG1sIiwiQXNzZXRzIiwiZ2V0VGV4dCIsInVzZXIiLCJyZWYxIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJyZXYiLCJpc19yZXF1aXJlZCIsInN0ZXBzIiwiZWRpdGFibGVDb2RlIiwic3RhcnRTdGVwIiwia2V5cyIsInBlcm1pc3Npb25zIiwia2V5IiwicmVxdWlyZWRGaWVsZHMiLCJpbnRlcnNlY3Rpb24iLCJzcGFjZSIsIm9wdGlvbnMiLCJXb3JrZmxvd01hbmFnZXIiLCJjbG9uZSIsIldvcmtmbG93TWFuYWdlcl9mb3JtYXQiLCJnZXRBdXRvZm9ybVNjaGVtYVZhbHVlcyIsImluc25hbWUiLCJpbnNfc3RhdGUiLCJzdGF0ZSIsImluc19maW5hbF9kZWNpc2lvbiIsImluc19jb2RlIiwiaW5zX2lzX2FyY2hpdmVkIiwiaXNfYXJjaGl2ZWQiLCJpbnNfaXNfZGVsZXRlZCIsImFwcGxpY2FudF9uYW1lIiwiYXBwbGljYW50Q29udGV4dCIsInNlc3Npb25Vc2VySWQiLCJlZGl0YWJsZSIsInN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzIiwicGFzc2luZyIsIm1vbWVudCIsImZvcm1hdCIsImdldEluc3RhbmNlVmlldyIsImJvZHkiLCJpbnN0YW5jZUNvbXBpbGVkIiwiaW5zdGFuY2VSZW5kZXJGdW5jdGlvbiIsImluc3RhbmNlVGVtcGxhdGUiLCJUZW1wbGF0ZU1hbmFnZXIiLCJnZXRUZW1wbGF0ZSIsInRlbXBsYXRlTmFtZSIsImluc3RhbmNlX3JlYWRvbmx5X3ZpZXciLCJ0b0hUTUxXaXRoRGF0YSIsImdldFRyYWNlc1ZpZXciLCJ0cmFjZUNvbXBpbGVkIiwidHJhY2VSZW5kZXJGdW5jdGlvbiIsInRyYWNlc0h0bWwiLCJpbnN0YW5jZV9zdHlsZSIsInRyYWNlX3JlYWRvbmx5X3ZpZXciLCJ0cmFjZXMiLCJnZXRBdHRhY2htZW50VmlldyIsImF0dGFjaG1lbnRDb21waWxlZCIsImF0dGFjaG1lbnRIdG1sIiwiYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uIiwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyIsImdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3IiwicmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkIiwicmVsYXRlZEluc3RhbmNlc0h0bWwiLCJyZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24iLCJyZWxhdGVkX2luc3RhbmNlc192aWV3IiwiZ2V0UmVsYXRlZFJlY29yZHNWaWV3IiwicmVsYXRlZFJlY29yZHNDb21waWxlZCIsInJlbGF0ZWRSZWNvcmRzSHRtbCIsInJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24iLCJyZWxhdGVkX3JlY29yZHNfdmlldyIsImdldE9uTG9hZFNjcmlwdCIsImZvcm1fc2NyaXB0IiwiZ2V0SW5zdGFuY2VIdG1sIiwiYWxsQ3NzTGluayIsImF0dGFjaG1lbnQiLCJjcmVhdG9yU2VydmljZSIsImNzc0hyZWYiLCJmb3JtRGVzY3JpcHRpb24iLCJmb3JtRGVzY3JpcHRpb25IdG1sIiwiaHRtbCIsImluc19yZWNvcmRfaWRzIiwiaW5zdGFuY2VCb3hTdHlsZSIsIm9uTG9hZFNjcmlwdCIsIm9wZW5GaWxlU2NyaXB0IiwicmVsYXRlZF9pbnN0YW5jZXMiLCJyZWxhdGVkX3JlY29yZHMiLCJzaG93VHJhY2VzQnRuIiwic2hvd1RyYWNlc1NjcmlwdCIsInRyYWNlIiwidHJhY2VDaGVjayIsIndpZHRoIiwic2V0dGluZ3MiLCJ3ZWJzZXJ2aWNlcyIsImNyZWF0b3IiLCJ1cmwiLCJyZWNvcmRfaWRzIiwiSlNPTiIsInN0cmluZ2lmeSIsImlzTW9iaWxlIiwic2hvd1RyYWNlIiwiZmluYWxfZGVjaXNpb24iLCJzaG93QXR0YWNobWVudHMiLCJpc0VtcHR5IiwidGFnZ2VyIiwic3R5bGVzIiwiZGVzY3JpcHRpb24iLCJwbHVnaW5zIiwiZm9ybUlkIiwiaW5zdGFuY2VfdGl0bGUiLCJwYWdlVGl0bGUiLCJwYWdlVGl0bGVUckNsYXNzIiwidmFsIiwiQ29yZUZvcm0iLCJwYWdlVGl0bGVGaWVsZE5hbWUiLCJoYW5kbGVUYWJsZVRlbXBsYXRlIiwiX2V4cG9ydCIsInRhYmxlX2ZpZWxkcyIsInRhYmxlX2ZpZWxkIiwiZmllbGRfcGVybWlzc2lvbiIsInB1cmVDb2RlIiwicmVxdWlyZWQiLCJ0aXRsZV9wZXJtaXNzaW9uIiwicmVtb3ZlU3BlY2lhbENoYXJhY3RlciIsImlzT3BpbmlvbkZpZWxkIiwidHJfc3RhcnQiLCJ0ZF9jb2xzcGFuIiwidHJfZW5kIiwiaW5jbHVkZXMiLCJwZXJtaXNzaW9uIiwiX3RlbXBsYXRlIiwidGFibGUiLCJfdGVtcGxhdGVIZWxwcyIsImRhdGEiLCJzdGVlZG9zX2luc3RhbmNlIiwiZ2V0SW5zdGFuY2UiLCJhdHRzIiwiaWQiLCJzdHlsZSIsImRpc2FibGVkIiwiaW5zdGFuY2VJZCIsImZvcm1fdHlwZXMiLCJBcHByb3ZlTWFuYWdlciIsImlzUmVhZE9ubHkiLCJzdGVlZG9zX2Zvcm0iLCJpbm5lcnN1YmZvcm1Db250ZXh0Iiwib2JqIiwiZG9jX3ZhbHVlcyIsIlNlc3Npb24iLCJnZXQiLCJlcXVhbHMiLCJhIiwiYiIsIlNpbXBsZVNjaGVtYSIsImdldEF1dG9mb3JtU2NoZW1hIiwiaW5zdGFuY2VfYm94X3N0eWxlIiwiYm94IiwiaW5zIiwianVkZ2UiLCJwcmludF90ZW1wbGF0ZSIsImluc3RhbmNlX3RlbXBsYXRlIiwiU3RlZWRvc1RhYmxlIiwiY2hlY2tJdGVtIiwiaXRlbV9pbmRleCIsImZpZWxkT2JqIiwiZ2V0RmllbGQiLCJmaWVsZFZhbCIsImdldEl0ZW1Nb2RhbFZhbHVlIiwic2ZfbmFtZSIsInNmaWVsZHMiLCJzZiIsIkluc3RhbmNlTWFuYWdlciIsImNoZWNrRm9ybUZpZWxkVmFsdWUiLCJzZXRUYWJsZUl0ZW1WYWx1ZSIsIml0ZW1fdmFsdWUiLCJ0YWJsZVZhbHVlIiwiZ2V0VGFibGVWYWx1ZSIsImdldFRhYmxlSXRlbVZhbHVlIiwicmVtb3ZlVGFibGVJdGVtIiwicmVtb3ZlZCIsInNldFRhYmxlVmFsdWUiLCJnZXRWYWxpZFZhbHVlIiwidmFsaWRWYWx1ZSIsImhhbmRsZURhdGEiLCJ2YWx1ZXMiLCJpbnN0YW5jZUZpZWxkcyIsImdldEluc3RhbmNlRmllbGRzIiwiZ2V0TW9kYWxEYXRhIiwiaW5kZXgiLCJGb3JtX2Zvcm11bGEiLCJnZXRGb3JtdWxhRmllbGRWYXJpYWJsZSIsIkF1dG9Gb3JtIiwiZ2V0Rm9ybVZhbHVlcyIsImluc2VydERvYyIsImFkZEl0ZW0iLCJfaXRlbV92YWx1ZSIsImdldEtleXMiLCJhcHBlbmQiLCJnZXRUciIsInVwZGF0ZUl0ZW0iLCJ0ZHMiLCJnZXRSZW1vdmVUZCIsInNmaWVsZCIsImdldFRkIiwiZW1wdHkiLCJydW5Gb3JtdWxhIiwicmVtb3ZlSXRlbSIsImhpZGUiLCJzaG93TW9kYWwiLCJtZXRob2QiLCJtb2RhbERhdGEiLCJNb2RhbCIsInNob3ciLCJnZXRDdXJyZW50RGF0YUZvckZvcm0iLCJzcyIsImdldEZvcm1TY2hlbWEiLCJzY2hlbWEiLCJPYmplY3QiLCJvYmplY3RLZXlzIiwiX21ha2VHZW5lcmljIiwiZ2V0VGhlYWQiLCJpc09iamVjdCIsInRoZWFkIiwidHJzIiwic2ZfbGVuZ3RoIiwid2lkZV9maWVsZHMiLCJmaWx0ZXJQcm9wZXJ0eSIsImlzX3dpZGUiLCJnZXRUYm9keSIsInRib2R5IiwidHIiLCJ0ZCIsInRkX3ZhbHVlIiwiZ2V0VERWYWx1ZSIsInZpZXciLCJDRkRhdGFNYW5hZ2VyIiwiZ2V0Rm9ybXVsYVNwYWNlVXNlcnMiLCJ1IiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbnMiLCJvIiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbiIsInBsdWNrIiwiYWRkSW5wdXRUeXBlIiwidmFsdWVPdXQiLCJ2YWx1ZUNvbnZlcnRlcnMiLCJzdHJpbmdUb1N0cmluZ0FycmF5Iiwic3RyaW5nVG9OdW1iZXIiLCJzdHJpbmdUb051bWJlckFycmF5Iiwic3RyaW5nVG9Cb29sZWFuIiwic3RyaW5nVG9Cb29sZWFuQXJyYXkiLCJzdHJpbmdUb0RhdGUiLCJzdHJpbmdUb0RhdGVBcnJheSIsImNvbnRleHRBZGp1c3QiLCJtYXhsZW5ndGgiLCJtYXgiLCJhZlRhYmxlIiwiZXZlbnRzIiwiZXZlbnQiLCJuZXdfaXRlbV9pbmRleCIsImN1cnJlbnRUYXJnZXQiLCJkYXRhc2V0Iiwic2V0IiwicmVuZGVyZWQiLCJzdHIiLCJhZGRJdGVtVHIiLCJzcGFjZVVzZXJTaWduIiwidXNlcklkIiwic3BhY2VfdXNlcl9zaWducyIsImltYWdlVVJMIiwic2lnbiIsInVuZW1wdHkiLCJ1bmVxdWFscyIsImluY2x1ZGUiLCJwYXJzZSIsInJlZjIiLCJyZWYzIiwiZ2V0SW5zdGFuY2VGbG93VmVyc2lvbiIsImFwcHJvdmVzIiwicmVmNCIsInN0ZXAiLCJhcHByb3ZlIiwianVkZ2VfbmFtZSIsImlzX2ZpbmlzaGVkIiwiaGFuZGxlciIsImhhbmRsZXJfbmFtZSIsImhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUiLCJoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSIsImZpbmlzaF9kYXRlIiwib3Bpbmlvbl9maWVsZHNfY29kZSIsInNpZ25fZmllbGRfY29kZSIsImlzX3JlYWQiLCJzaWduX3Nob3ciLCJjb25jYXQiLCJhZnRlcl9maWVsZCIsImJlZm9yZV9maWVsZCIsInByZV9maWVsZHMiLCJwcmVfd2lkZV9maWVsZHMiLCJzbGljZSIsInNvcnRfYXBwcm92ZSIsIm9yZGVyIiwic29ydCIsInAxIiwicDIiLCJfcDEiLCJfcDIiLCJnZXRUaW1lIiwiX3QiLCJnZXRDZkNsYXNzIiwiZ2V0VGFibGVUaGVhZCIsImdldFRhYmxlQm9keSIsInNob3dMYWJlbCIsInRlbXBsYXRlRGF0YSIsImdldE9waW5pb25GaWVsZFN0ZXBzTmFtZSIsInRvcF9rZXl3b3JkcyIsImZvbzEiLCJvcGluaW9uRmllbGRzIiwiZm9vIiwianNvbl9mb3JtdWxhIiwiczEiLCJlcnJvcjEiLCJ5aWppYW5sYW4iLCJzdGVwTmFtZSIsImltYWdlX3NpZ24iLCJvbmx5X2NjX29waW5pb24iLCJvbmx5X2NjIiwiZGVmYXVsdF9kZXNjcmlwdGlvbiIsIm9ubHlfaGFuZGxlciIsInNob3dDQ09waW5pb24iLCJtYXJrRG93blRvSHRtbCIsIm1hcmtEb3duU3RyaW5nIiwicmVuZGVyZXIiLCJSZW5kZXJlciIsImhyZWYiLCJ0aXRsZSIsInRleHQiLCJmX2xhYmVsIiwidGhhdCIsImlzU2VjdGlvbiIsInJlZ2lzdGVySGVscGVyIiwib3AiLCJoYXNoIiwiaW5zX2F0dGFjaF9kb3dubG9hZF91cmwiLCJnZXRQZXJtaXNzaW9ucyIsImluc3RhbmNlZm9ybUNoYW5nZUV2ZW50IiwicHJldmVudERlZmF1bHQiLCJvcGVuV2luZG93IiwidGFyZ2V0Iiwib25DcmVhdGVkIiwiY29tcGlsZWQiLCJpbnN0YW5jZUN1c3RvbVRlbXBsYXRlIiwiaW5zdGFuY2VWaWV3IiwicmVuZGVyRnVuY3Rpb24iLCJWaWV3IiwiaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlIiwib25SZW5kZXJlZCIsImN1cnJlbnRBcHByb3ZlIiwiY3VycmVudFN0ZXAiLCJmb3JtdWxhX2ZpZWxkcyIsImluc3RhbmNlTnVtYmVyRmllbGRzIiwiYXBwbGljYW50IiwibmV4dFN0ZXBzIiwibmV4dFN0ZXBVc2VycyIsIkluc3RhbmNlRXZlbnQiLCJpbml0RXZlbnRzIiwiZ2V0Q3VycmVudEFwcHJvdmUiLCJlYWNoIiwiZWxlbWVudCIsInNjaGVtYUtleSIsImNhbGwiLCJyZXN1bHQiLCJ0b2FzdHIiLCJyZWFzb24iLCJ0cmltIiwiZ2V0RmllbGRWYWx1ZSIsIkluc3RhbmNlTnVtYmVyUnVsZXMiLCJpbnN0YW5jZU51bWJlckJ1aWxkZXIiLCJ0cmlnZ2VyIiwiZ2V0Q3VycmVudFN0ZXAiLCJydW4iLCJzaG93TWFpblRpdGxlIiwid29ya2Zsb3dNYWluQXR0YWNoVGl0bGUiLCJlbmFibGVkX2FkZF9tYWluX2F0dGFjaG1lbnQiLCJjdXJyZW50X3N0ZXAiLCJtYWluX2F0dGFjaF9jb3VudCIsImNmcyIsImluc3RhbmNlcyIsImZpbmQiLCJjb3VudCIsImRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQiLCJkaXN0cmlidXRlX2Zyb21faW5zdGFuY2UiLCJzdGFydF9zdGVwIiwiZ2V0U3RhcnRTdGVwIiwiY2FuX2VkaXRfbWFpbl9hdHRhY2giLCJzdGVwX3R5cGUiLCJlbmFibGVkX2VkaXRfbm9ybWFsX2F0dGFjaG1lbnQiLCJnZXRGbG93IiwidXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkIiwiaXNDQyIsImdldENDU3RlcCIsImNhbl9lZGl0X25vcm1hbF9hdHRhY2giLCJ1bmRlZmluZWQiLCJtYWluX2F0dGFjaG1lbnQiLCJtYWluX2F0dGFjaCIsIm5vcm1hbF9hdHRhY2htZW50cyIsInNlbGVjdG9yIiwiJG5lIiwiZGZpcyIsImRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMiLCIkaW4iLCJkaXN0cmlidXRlX21haW4iLCJmaXJzdFZlcnNpb25NYWluIiwibWV0YWRhdGEiLCJwYXJlbnQiLCJhdHRhY2htZW50VXBsb2FkZWRBdCIsInVwbG9hZGVkQXQiLCJjIiwiZmlyc3RWZXJzaW9uIiwic29ydEJ5IiwiaW5zdGFuY2VJZHMiLCJhdHRhY2htZW50c19jb3VudCIsImNvbXBhY3QiLCJhdHRhY2htZW50cyIsIiRvciIsImZldGNoIiwibXlBcHByb3ZlIiwibXlUcmFjZSIsImlzSW5ib3giLCJkZWZhdWx0RGVzY3JpcHRpb24iLCJhcHByb3ZlX3NvcnQiLCJhcHByb3Zlc0dyb3VwIiwiYXBwcm92ZXNfc29ydGVkIiwiY29tcGxldGVkX2RhdGUiLCJoYXNOZXh0IiwiaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSIsImlzX2NvbXBsZXRlZCIsImxhc3QiLCJ0b3BfYXBwcm92ZXMiLCJ1bmlvbiIsImZpbHRlciIsInRvcF9hcHByb3ZlIiwiZ3JvdXBCeSIsImhhbmRsZXJBcHByb3ZlcyIsImRlc2NyaXB0aW9uQXBwcm92ZXMiLCJfZGlzcGxheSIsImlzTXlBcHByb3ZlIiwibXlBcHByb3ZlRGVzY3JpcHRpb24iLCJhcHByb3ZlSWQiLCJub3ciLCJpc09waW5pb25PZkZpZWxkIiwiaW1hZ2VTaWduRGF0YSIsInNob3dTaWduSW1hZ2UiLCJnZXRMYXN0U2lnbkFwcHJvdmUiLCJnZXRIYW5kbGVyU2lnblNob3dBcHByb3ZlcyIsImxhc3RNeUFwcHJvdmVEZXNjcmlwdGlvbiIsInNob3dBcHByb3ZlIiwianVkZ2VfZGVzY3JpcHRpb24iLCJpc19hcHByb3ZlZCIsImlzX3JlamVjdGVkIiwiaXNfcmVhZGVkIiwic2V0VGltZW91dCIsImlzIiwiZGF0ZUZvcm1hdCIsImdldEZ1bGxZZWFyIiwiZ2V0U3RlcE5hbWUiLCJzdGVwSWQiLCJnZXRJbnN0YW5jZVN0ZXAiLCJzaG93RGVsZXRlQnV0dG9uIiwiYXBwcm92ZWQiLCJmcm9tX3VzZXIiLCJpc1Nob3dNb2RpZmljYXRpb25CdXR0b24iLCJhcHByb3ZlX2FkbWlucyIsImlzU2hvdyIsIndvcmtmbG93IiwiY29udGFpbnMiLCJpc0VkaXRpbmciLCJpc19lZGl0aW5nIiwiaXNTaG93RGVzY3JpcHRpb24iLCJnZXRBcHByb3ZlU3RhdHVzSWNvbiIsImFwcHJvdmVKdWRnZSIsImFwcHJvdmVTdGF0dXNJY29uIiwiZ2V0QXBwcm92ZVN0YXR1c1RleHQiLCJhcHByb3ZlU3RhdHVzVGV4dCIsImlzRm9yd2FyZCIsInNob3dGb3J3YXJkRGVsZXRlQnV0dG9uIiwiZm9yd2FyZF9pbnN0YW5jZSIsImlzRGlzdHJpYnV0ZSIsInNob3dEaXN0cmlidXRlRGVsZXRlQnV0dG9uIiwiaXNMZWdhbFZlcnNpb24iLCJoYXNGbG93QWRtaW5QZXJtaXNzaW9uIiwiZmluaXNoRGF0ZVNjaGVtYSIsImlzQW5kcm9pZE9ySU9TIiwiYXV0b2Zvcm0iLCJvcHRpb25hbCIsInJlYWRvbmx5IiwiZGF0ZVRpbWVQaWNrZXJPcHRpb25zIiwiaWdub3JlUmVhZG9ubHkiLCJ3aWRnZXRQb3NpdGlvbmluZyIsImhvcml6b250YWwiLCJmaW5pc2hEYXRlVmFsdWVzIiwic2hvd1RyYWNlc1ZpZXciLCJzaG93X21vZGFsX3RyYWNlc19saXN0Iiwic3BhY2Vfc2V0dGluZ3MiLCJnZXRJbnN0YW5jZVN0YXRlVGV4dCIsImluc3RhbmNlX2lkIiwiZ2V0SW5zdGFuY2VTdGF0ZUNvbG9yIiwiY2xhIiwiZmlyc3RUcmFjZSIsImxhc3RfZGlzdHJpYnV0ZV9mcm9tIiwiZGlzX2luZm8iLCIkZXhpc3RzIiwiY3JlYXRlZCIsImNyZWF0ZWRfYnkiLCJVVWZsb3dfYXBpIiwiZ2V0TmFtZUZvclVzZXIiLCJ1c2VycyIsImZyb21fdXNlcl9uYW1lIiwiaXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQiLCJqdWRnZVRlcm1pbmF0ZWQiLCJpbnN0YW5jZUV4aXN0cyIsImFnZW50RGVzY3JpcHRpb24iLCJ1c2VyTmFtZSIsInRyYWNlTmFtZSIsInRyYWNlSWQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYWxsaW5nIiwiZXJyIiwic3VjY2VzcyIsImZvcndhcmRfc3BhY2UiLCJmb3J3YXJkc3BhY2UiLCJmb3J3YXJkaW5zdGFuY2UiLCJUcmFja2VyIiwiYWZ0ZXJGbHVzaCIsIm9uIiwic2Nyb2xsVG9wIiwiZmluaXNoX2lucHV0Iiwib3Bpbmlvbl9pbnB1dCIsImFsbG93TXVsdGlwbGUiLCJzaG93UmVsYXRlZEluc3RhY2VzIiwiaXNBcnJheSIsInJlbGF0ZWRfaW5zdGFjZXMiLCJyZWxhdGVkX2luc3RhY2VfdXJsIiwiaXNDb3Jkb3ZhIiwic2hvd19kZWxldGUiLCJzaG93UmVsYXRlZFJlY29yZHMiLCJtZXRob2RzIiwic2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZSIsImluc19pZCIsInN0ZXBfYXBwcm92ZSIsInN0ZXBzQXBwcm92ZXNPcHRpb25zIiwiX2tleXMxIiwiX2tleXMyIiwic3RlcHNBcHByb3ZlcyIsInN0ZXBBcHByb3ZlcyIsInN0ZXBzQXBwcm92ZU9wdGlvbnMiLCJ1bmlxIiwidXBkYXRlIiwiJHNldCIsInNldF9pbnN0YW5jZV9za2lwX3N0ZXBzIiwiYWN0aW9uIiwiJHB1bGwiLCJza2lwX3N0ZXBzIiwiJHB1c2giLCJnZXRfaW5zdGFuY2VfZGF0YSIsImZvcm1DYWNoZWQiLCJmbG93Q2FjaGVkIiwiY2hlY2siLCJTdHJpbmciLCJCb29sZWFuIiwiZHJhZnRfc2F2ZV9pbnN0YW5jZSIsInNldE9iaiIsInRyYWNlX2lkIiwiYXBwcm92ZV9pZCIsIm5leHRfc3RlcHMiLCJhcHBsaWNhbnRfaWQiLCJzdWJtaXR0ZXIiLCJzcGFjZV9pZCIsImZsb3dfaWQiLCJmb3JtX2lkIiwiY3VycmVudF90cmFjZSIsImlkeCIsImtleV9zdHIiLCJjdXJyZW50X3VzZXIiLCJsYW5nIiwiaXNJbnN0YW5jZURyYWZ0IiwiaXNJbnN0YW5jZVN1Ym1pdHRlciIsIm1vZGlmaWVkIiwibW9kaWZpZWRfYnkiLCJzIiwic3BhY2VfdXNlcnMiLCJvcmdhbml6YXRpb24iLCJvcmdfaWQiLCJvcmdhbml6YXRpb25zIiwiYXBwbGljYW50X29yZ2FuaXphdGlvbiIsImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZSIsImFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWUiLCJuYW1lX2ZvcnVtbGEiLCJnZXRJbnN0YW5jZU5hbWUiLCJpbmJveF9zYXZlX2luc3RhbmNlIiwiY3VycmVudF9hcHByb3ZlIiwiaXNJbnN0YW5jZVBlbmRpbmciLCJpc1RyYWNlTm90RmluaXNoZWQiLCJpc0FwcHJvdmVOb3RGaW5pc2hlZCIsImlzSGFuZGxlck9yQWdlbnQiLCJzdGFjayIsInN0ZXBfaWQiLCJoIiwicGVybWlzc2lvbnNfdmFsdWVzIiwiZ2V0QXBwcm92ZVZhbHVlcyIsImNoYW5nZV92YWx1ZXMiLCJhcHByb3ZlTWFuYWdlciIsImdldENoYW5nZVZhbHVlcyIsImV4dGVuZCIsInZhbHVlc19oaXN0b3J5IiwiZm9ybV92IiwiY2NfZG8iLCJjY191c2VyX2lkcyIsImNjX3VzZXJzIiwiY3VycmVudF91c2VyX2lkIiwibmV3X2FwcHJvdmVzIiwic3BhY2VfdXNlciIsImFnZW50IiwiZ2V0QWdlbnQiLCJoYW5kbGVyX2lkIiwiaGFuZGxlcl9pbmZvIiwiaGFuZGxlcl9zcGFjZV91c2VyIiwiaGFuZGxlcl9vcmdfaW5mbyIsImZpbGVkcyIsImdldFNwYWNlVXNlciIsImdldFNwYWNlVXNlck9yZ0luZm8iLCJhcHByIiwiTW9uZ28iLCJPYmplY3RJRCIsIl9zdHIiLCJzZXRSZW1pbmRJbmZvIiwiJGFkZFRvU2V0IiwiJGVhY2giLCJjdXJyZW50X3VzZXJfaW5mbyIsInB1c2hNYW5hZ2VyIiwic2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24iLCJ0cmlnZ2VyV2ViaG9vayIsImNjX3JlYWQiLCJjY19zdWJtaXQiLCJvdXRib3hfdXNlcnMiLCJ1cG9iaiIsInN0YXJ0X2RhdGUiLCJzZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIiLCJjY19yZW1vdmUiLCJyZW1vdmVfdXNlcl9pZCIsIm11bHRpIiwiY2Nfc2F2ZSIsImhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCIsImlzRm9yd2FyZEF0dGFjaG1lbnRzIiwic2VsZWN0ZWRVc2VycyIsImFjdGlvbl90eXBlIiwicmVsYXRlZCIsImZyb21fYXBwcm92ZV9pZCIsIkVycm9yIiwiZm9yd2FyZF9yZW1vdmUiLCJoYXNBZG1pblBlcm1pc3Npb24iLCJmb3J3YXJkX2luc3RhbmNlX2lkIiwiaW5ib3hfdXNlcnMiLCJkZWxldGVkIiwiZGVsZXRlZF9ieSIsImRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCIsImRlbGV0ZWRfaW5zdGFuY2VzIiwiaW5zZXJ0IiwicmVtb3ZlIiwidV9pZCIsInNldF9vYmoiLCJjYW5jZWxEaXN0cmlidXRlIiwiYXBwcm92ZV9pZHMiLCJleGlzdHMiLCJjZnNfaW5zdGFuY2VzX3JlbW92ZSIsImZpbGVfaWQiLCJjZnNfaW5zdGFuY2VzX3NldF9jdXJyZW50IiwiY2ZzX2luc3RhbmNlc19sb2NrIiwidXNlcl9pZCIsInVzZXJfbmFtZSIsImNmc19pbnN0YW5jZXNfdW5sb2NrIiwiJHVuc2V0IiwiZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzayIsInNwYWNlSWQiLCJjZnNSZWNvcmRJZHMiLCJpc19jbG91ZGFkbWluIiwic3RvcmUiLCJmcyIsInJlcXVpcmUiLCJwYXRobmFtZSIsImpvaW4iLCJfX21ldGVvcl9ib290c3RyYXBfXyIsInNlcnZlckRpciIsImFic29sdXRlUGF0aCIsInJlc29sdmUiLCJzeW5jIiwidGltZSIsInF1ZXJ5IiwiZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMiLCJmaWxlTmFtZSIsImZpbGVQYXRoIiwid3JhcEFzeW5jIiwiY2FsbGJhY2siLCJ3cml0ZXIiLCJjcmVhdGVXcml0ZVN0cmVhbSIsImlzRnVuY3Rpb24iLCJyZWFkZXIiLCJjcmVhdGVSZWFkU3RyZWFtIiwicGlwZSIsInRpbWVFbmQiLCJzZXRfYXBwcm92ZV9oYXZlX3JlYWQiLCJzZWxmIiwiY2hhbmdlX2FwcHJvdmVfaW5mbyIsInVwZGF0ZV9hcHByb3ZlX3NpZ24iLCJzaWduX3R5cGUiLCJsYXN0U2lnbkFwcHJvdmUiLCJsYXN0VHJhY2UiLCJzZXNzaW9uX3VzZXJJZCIsInVwT2JqIiwiY3VzdG9tX3NpZ25fc2hvdyIsInVwZGF0ZV9zaWduX3Nob3ciLCJvYmpzIiwibXlBcHByb3ZlX2lkIiwiaW5zdGFuY2VfcmV0dXJuIiwiYXBwcm92ZV92YWx1ZXMiLCJsYXN0X3RyYWNlIiwibmV3VHJhY2UiLCJuZXdfaW5ib3hfdXNlcnMiLCJwcmVfc3RlcCIsInByZV90cmFjZSIsInIiLCJyZXN0X2NvdW50ZXJfdXNlcnMiLCJnZXRTdGVwIiwicHJldmlvdXNfdHJhY2VfaWRzIiwiZHVlX2RhdGUiLCJnZXREdWVEYXRlIiwidGltZW91dF9ob3VycyIsIm5leHRfc3RlcF91c2VyX2lkIiwibmV3QXBwcm92ZSIsIm5leHRfc3RlcF9zcGFjZV91c2VyIiwibmV4dF9zdGVwX3VzZXJfb3JnX2luZm8iLCJ1c2VyX2luZm8iLCJoYW5kbGVyX29yZ2FuaXphdGlvbiIsImlzX2Vycm9yIiwiY3VycmVudF9zdGVwX25hbWUiLCJpbnN0YW5jZV9yZW1pbmQiLCJyZW1pbmRfdXNlcnMiLCJyZW1pbmRfY291bnQiLCJyZW1pbmRfZGVhZGxpbmUiLCJhY3Rpb25fdHlwZXMiLCJsYXN0X3JlbWluZF91c2VycyIsInByaW9yaXR5IiwiTWF0Y2giLCJPbmVPZiIsImFwIiwiY2FjdWxhdGVfZGF0ZSIsIm1hbnVhbF9kZWFkbGluZSIsImNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5IiwicmVtaW5kX2RhdGUiLCJjYWN1bGF0ZVdvcmtpbmdUaW1lIiwiYmFzZV9kYXRlIiwicGx1c19oYWxmZGF5X2RhdGUiLCJzZW5kUmVtaW5kU01TIiwibmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZCIsImRlYWxfdHlwZSIsInN0ZXBfbmFtZSIsInBhcmFtcyIsImFwcHJvdmVyX3JvbGVzIiwicm9sZXMiLCJyb2xlc19uYW1lIiwiZmxvd19yb2xlcyIsInJvbGVfbmFtZSIsIl9ldmFsIiwiX05VTUJFUiIsIl9ZWVlZIiwibnVtYmVyUnVsZXMiLCJyZXMiLCJydWxlcyIsInNjcmlwdCIsImluc3RhbmNlX251bWJlcl9ydWxlcyIsIm51bWJlciIsIllZWVkiLCJNTSIsImdldE1vbnRoIiwibW0iLCJERCIsImdldERhdGUiLCJkZCIsImZpcnN0X251bWJlciIsIk5VTUJFUiIsIm5ld05vIiwiX2Vycm9yIiwiY2hlY2tfbWFpbl9hdHRhY2giLCJjaGVja01haW5BdHRhY2giLCJyZW1vdmVfcmVsYXRlZCIsInJlX2luc19pZCIsInVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkIiwidXBkYXRlRmxvd1Bvc2l0aW9uIiwiZmxvd19wb3NpdGlvbnMiLCJyb2xlIiwib3JnIiwidXBkYXRlRmxvd1JvbGUiLCJzdGFydF9mbG93IiwiZmxvd0lkIiwic3RhcnQiLCJrZXlWYWx1ZSIsInN0YXJ0X2Zsb3dzIiwic3RlZWRvc19rZXl2YWx1ZXMiLCJnZXRfaW5zdGFuY2VfdHJhY2VzIiwibWluaUFwcHJvdmVGaWVsZHMiLCJjYXRlZ29yeUlkIiwiZmxvd0lkcyIsIl9iYXRjaF9pbnN0YW5jZXMiLCJnZXRCYXRjaEluc3RhbmNlcyIsIm15QXBwcm92ZXMiLCJpbnNJZCIsIm15X2FwcHJvdmUiLCJnZXRNeUFwcHJvdmUiLCJjaGFuZ2VfZmxvd19zdGF0ZSIsIl91c2VySWQiLCJfZmxvd3MiLCJfZmxvd3Nfc3RhdGUiLCJmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUiLCJpc1NwYWNlQWRtaW4iLCJpc192YWxpZCIsImZsb3d0eXBlIiwic3BlY2lmeVN0ZXAiLCJhcHByb3Zlcl9zdGVwIiwiX3N0ZXAiLCJmaWVsZHNfbW9kaWZpYWJsZSIsImhpZGVfaW5zdGFuY2UiLCJpc19oaWRkZW4iLCJwZXJtaXNzaW9uTWFuYWdlciIsImdldEZsb3dQZXJtaXNzaW9ucyIsInNwYWNlcyIsImFkbWlucyIsImdldEluc3RhbmNlVmFsdWVzIiwiQ29va2llcyIsImdldEluc3RhbmNlUmVhZE9ubHkiLCJyZXEiLCJuZXh0IiwiX2hhc1Blcm1pc3Npb24iLCJfbG9jYWxlIiwiX3BhcmVudF9pbnN0YW5jZXMiLCJkYXRhQnVmIiwiaGlkZV90cmFjZXMiLCJzcGFjZVVzZXJDb3VudCIsImdldEFQSUxvZ2luVXNlciIsImFjY2Vzc190b2tlbiIsImdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbiIsIkpzb25Sb3V0ZXMiLCJzZW5kUmVzdWx0IiwiaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyIsIl9wYXJlbnRfaWQiLCJfcGFyZW50X2lucyIsImNoYXJzZXQiLCJCdWZmZXIiLCJzZXRIZWFkZXIiLCJzdGF0dXNDb2RlIiwiZW5kIiwiYWRkIiwiaW5zdGFuY2VfbmFtZSIsImkiLCJyZXRfc3luY190b2tlbiIsInNwYWNlVXNlciIsInNwYWNlVXNlck9yZ2FuaXphdGlvbnMiLCJzeW5jX3Rva2VuIiwiQVBJQXV0aGVudGljYXRpb25DaGVjayIsImhlYWRlcnMiLCJjYW5Nb25pdG9yIiwiY2FuQWRtaW4iLCJOdW1iZXIiLCIkZ3QiLCIkbmluIiwiaW5ib3hfdWVycyIsInNraXAiLCJsaW1pdCIsImNvcGllcyIsImFsbENzcyIsIldlYkFwcCIsImdldFJlZnJlc2hhYmxlQXNzZXRzIiwiY3NzIiwicm9vdFVybCIsIl9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18iLCJST09UX1VSTF9QQVRIX1BSRUZJWCIsIlJPT1RfVVJMIiwiZW5kc1dpdGgiLCJwcm90b3R5cGUiLCJsIiwiZyIsIm0iLCJkIiwiayIsImdldEVhY2giLCJtaXhpbiIsImRlc3QiLCJzcmMiLCJoYW5kZXJVc2VyT2JqZWN0IiwiaHIiLCJzb3J0X25vIiwibW9iaWxlIiwid29ya19waG9uZSIsInBvc2l0aW9uIiwidXNlclJvbGVzIiwiaGFuZGVyT3JnT2JqZWN0IiwiaW5pdF9mb3JtdWxhX3ZhbHVlcyIsImF1dG9Gb3JtRG9jIiwiYXBwcm92ZXIiLCJfX3ZhbHVlcyIsInRhYmxlRmllbGRzIiwidGFibGVWYWx1ZXMiLCJmb3JtdWxhVGFibGVWYWx1ZXMiLCJfX3RhYmxlVmFsdWVzIiwidGFibGVmaWVsZCIsImdldEZvcm11bGFVc2VyT2JqZWN0cyIsImdldEZvcm11bGFPcmdPYmplY3RzIiwiZ2V0Rm9ybXVsYVVzZXJPYmplY3QiLCJnZXRIYW5kbGVyc01hbmFnZXIiLCJnZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyIsInVzZXJfaWRzIiwicm9sZV9pZHMiLCJhcHByb3ZlX3VzZXJzIiwiZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyIsInJvbGVfaWQiLCJnZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUiLCJvcmdzIiwiZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUiLCJnZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzIiwib3JnX2lkcyIsImdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyIsInBhcmVudHMiLCJwb3NpdGlvbnMiLCJwYXJlbnRfaWQiLCJnZXRIYW5kbGVycyIsIl9hcHByb3ZlIiwiX3NwYWNlX3VzZXIiLCJfdHJhY2UiLCJhcHBsaWNhbnRTdXBlcmlvcnMiLCJhcHByb3ZlSHJSb2xlSWRzIiwiYXBwcm92ZXJfb3JnX2ZpZWxkIiwiYXBwcm92ZXJfb3JnX2lkcyIsImFwcHJvdmVyX3VzZXJfZmllbGQiLCJhcHByb3Zlcl91c2VyX2lkcyIsImN1cnJlbnRfZmxvdyIsImN1cnJlbnRfZmxvd192ZXJzaW9uIiwiY3VycmVudF9mb3JtIiwiY3VycmVudF9zdGVwcyIsImZpZWxkX2NvZGUiLCJmaW5pc2hlZF90cmFjZXMiLCJmbG93X3JldiIsImZvcm1fcmV2IiwiaGFuZGxlcnMiLCJtYXhfc3RhcnREYXRlX3RyYWNlIiwibmV3X2FwcHJvdmVyX3VzZXJfaWRzIiwibmV3X29yZ191c2VyX2lkcyIsIm5ld2VzdF92YWx1ZXMiLCJuZXh0X3N0ZXBfdXNlcnMiLCJvcmdfaWRzX25hbWVzIiwib3JnX3VzZXJfaWRzIiwic3BhY2VfdXNlcl9jb3VudCIsInN1Ym1pdHRlcl91c2VyX2NvdW50IiwidW5maW5pc2hlZF90cmFjZSIsInVzZXJfaWRzX25hbWVzIiwidmFsaWRfYXBwcm92ZXJfb3JnX2lkcyIsImhpc3RvcnkiLCJhcHByb3Zlcl9yb2xlIiwicm9sZV9jb3VudCIsImFwcHJvdmVyX2hyX3JvbGVzIiwiZ2V0SHJSb2xlc1VzZXJzIiwiY3VycmVudF9mbG93X2hpc3RvcnkiLCJmb3JtX2hpc3RvcnkiLCJmb3JtX2ZpZWxkIiwiZ2V0VXBkYXRlZFZhbHVlcyIsImNoZWNrX29yZ19jb3VudCIsImNoZWNrX29yZ3MiLCJvcmdfY2hpbGRyZW4iLCJvcmdfdXNlcnMiLCJ1bnNoaWZ0IiwiY2hlY2tfb3JnX3VzZXIiLCJvcmdfdXNlciIsImNoZWNrX3VzZXJfY291bnQiLCJhcHByb3ZlX3VzZXIiLCJjaGVja19hcHByb3ZlX3VzZXJfY291bnQiLCJhcHByb3Zlcl9vcmdzIiwiYXBwcm92ZXJfb3JnX2lkIiwidmFsaWRfYXBwcm92ZXJfb3JnX2lkIiwiY2hpbGRfb3JncyIsInZhbGlkX2FwcHJvdmVyX29yZyIsImNoaWxkX29yZyIsIm9yZ191c2VyX2lkIiwic3BhY2VfdXNlcl9pbmZvX2NvdW50IiwiYXBwcm92ZXJfdXNlcnMiLCJhcHByb3Zlcl91c2VyX2lkIiwiX3RyIiwiX2FwcCIsIm1hbmFnZXIiLCJteV9wZXJtaXNzaW9ucyIsIm9yZ3NfY2FuX2FkZCIsIm9yZ3NfY2FuX2FkbWluIiwib3Jnc19jYW5fbW9uaXRvciIsInVzZXJzX2Nhbl9hZGQiLCJ1c2Vyc19jYW5fYWRtaW4iLCJ1c2Vyc19jYW5fbW9uaXRvciIsInBlcm1zIiwibGFzdF92YWx1ZXMiLCJhcHByb3ZlX3ZhbHVlc19rZXlzIiwiY2hhbmdlVmFsdWVzIiwibGFzdF92YWx1ZXNfa2V5cyIsImlzRXF1YWwiLCJmbG93TWFuYWdlciIsImdldENhdGVnb3JpZXNGbG93cyIsImNhdGVnb3JpZUlkIiwiY2F0ZWdvcmllc0Zvcm1zIiwiZm9ybU1hbmFnZXIiLCJnZXRDYXRlZ29yaWVzRm9ybXMiLCJnZXRVbkNhdGVnb3JpZXNGbG93cyIsInVuQ2F0ZWdvcmllc0Zvcm1zIiwiZ2V0VW5DYXRlZ29yaWVzRm9ybXMiLCJfZmllbGRzIiwiY2F0ZWdvcnkiLCJzdGVwTWFuYWdlciIsImFsbG93QmF0Y2giLCJpc0V4aXN0U3RlcCIsImxvZ2dlciIsIkxvZ2dlciIsImhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXAiLCJmaWVsZF9tYXAiLCJjdXJyZW50QXBwcm92ZXMiLCJjdXJyZW50VHJhY2VzIiwiZ2V0Q3VycmVudFRyYWNlIiwibmV4dF91c2VyX2lkcyIsImdldE5leHRTdGVwcyIsImluYm94X3VzZXIiLCJGSUVMRFMiLCJjYXRlZ29yeUZsb3dzIiwiaW5ib3hfaW5zdGFuY2VzIiwidW5DYXRlZ29yeUZsb3dzIiwic3VibWl0X2RhdGUiLCJjdXJyZW50U3RlcElkIiwicHVibGlzaCIsInJlYWR5IiwiY2F0ZWdvcmllcyIsImFwcCIsInB1Ymxpc2hDb21wb3NpdGUiLCJ0YWJsZU5hbWUiLCJpZHMiLCJPcHRpb25hbCIsInVuYmxvY2siLCJjaGlsZHJlbiIsImNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3ciLCJjb21wYW55X2lkIiwidmVyc2lvbklkIiwiaGFuZGxlIiwibGF0ZXN0Iiwib2JzZXJ2ZUNoYW5nZXMiLCJjaGFuZ2VkIiwiYWRkZWQiLCJvblN0b3AiLCJzdG9wIiwiZmxvd19pZHMiLCJkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzIiwiZGlzdHJpYnV0ZV90b19zZWxmIiwiZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uIiwiYWxsb3dfc2VsZWN0X3N0ZXAiLCJnZXRNaW5pSW5zdGFuY2UiLCJnZXRNeWFwcHJvdmVNb2RpZmllZCIsImluc3RhbmNlX2ZpZWxkc18wIiwibmVlZENoYW5nZSIsInRyaWdnZXJDaGFuZ2VGaWVsZHMiLCJ0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzIiwibXlBcHByb3ZlTW9kaWZpZWRzIiwicmVhZF9kYXRlIiwiX2luc3RhbmNlSWQiLCJjaGFuZ2VGaWVsZHMiLCJfY2hhbmdlIiwiX3JldiIsIl9rZXkiLCJfbXlfYXBwcm92ZV9tb2RpZmllZHMiLCJoYXMiLCJnZXRJbnN0YW5jZVRyYWNlcyIsIl9pbnNJZCIsImFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSIsImxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUiLCJpbnN0YW5jZWlkIiwiZGF0YU1hcCIsIm9wZXJhdGlvbiIsInJhd0NvbGxlY3Rpb24iLCJhZ2dyZWdhdGUiLCJ0b0FycmF5IiwiZG9jIiwiZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlIiwiZ2V0U3RlcEN1cnJlbnROYW1lIiwibm90RmluaXNoZWRUcmFjZXMiLCJzdGVwQ3VycmVudE5hbWUiLCIkc2xpY2UiLCJteUxhc3RGaW5pc2hlZEFwcHJvdmUiLCJhZ2VudF91c2VyX25hbWUiLCJteV9maW5pc2hfZGF0ZSIsImlzX2NjIiwiY2NfY291bnQiLCJpbnN0YW5jZV9pZHMiLCJyZWxhdGVkX2luc3RhbmNlX2lkcyIsIl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlIiwiX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUiLCJfaXRlbXMiLCIkbWF0Y2giLCIkZ3JvdXAiLCIkc3VtIiwiX2NoYW5nZURhdGEiLCJfZmxvd3NEYXRhIiwiX2luaXQiLCJkYXRhSXRlbSIsImZsb3dfaW5zdGFuY2UiLCJvYnNlcnZlIiwiQ3JlYXRvciIsImdldENvbGxlY3Rpb24iLCJ3b3JrZmxvd1RlbXBsYXRlIiwiYWJzb2x1dGVfcGF0aF9jbiIsImFic29sdXRlX3BhdGhfdXMiLCJmaWxlc0xpc3RfY24iLCJmaWxlc0xpc3RfdXMiLCJtaW1lIiwicGF0aF9jbiIsInBhdGhfdXMiLCJyZWFkRmlsZUxpc3QiLCJwYXRoRGlyIiwiZmlsZXNMaXN0IiwiZmlsZXMiLCJyZWFkZGlyU3luYyIsInN0YXQiLCJzdGF0U3luYyIsImlzRGlyZWN0b3J5Iiwid29ya2Zsb3dUZW1wbGF0ZXMiLCJleGlzdHNTeW5jIiwiZmlsZSIsImdldFR5cGUiLCJyZWFkRmlsZVN5bmMiLCJnb19uZXh0IiwicnVsZSIsInNjaGVkdWxlIiwiY3JvbiIsImF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbiIsInNjaGVkdWxlSm9iIiwiYmluZEVudmlyb25tZW50IiwicHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzIiwiZW5hYmxlZCIsImVuZF90aW1lIiwiJGx0ZSIsInRpbWVvdXRfYXV0b19zdWJtaXQiLCJ0aW1lb3V0QXV0b1N1Ym1pdCIsInNwZWNpZnlVc2VySWRzIiwiZ2V0VXNlcnMiLCJhcHBsaWNhbnRJZCIsImFwcHJvdmVSb2xlSWRzIiwiZ2V0VXNlciIsImdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzIiwidXNlckZpZWxkIiwidXNlckZpZWxkVmFsdWUiLCJvcmdDaGlsZHJlbnMiLCJvcmdGaWVsZCIsIm9yZ0ZpZWxkVmFsdWUiLCJnZXRPcmdhbml6YXRpb25zIiwiZ2V0T3JnYW5pemF0aW9uc0NoaWxkcmVucyIsImdldE9yZ2FuaXphdGlvbiIsImdldE9yZ2FuaXphdGlvbkNoaWxkcmVucyIsImdldE9yZ2FuaXphdGlvbnNVc2VycyIsIm9yZ0ZpZWxkVXNlcnMiLCJzcGVjaWZ5T3JnSWRzIiwic3BlY2lmeU9yZ3MiLCJzcGVjaWZ5T3JnQ2hpbGRyZW5zIiwiYXBwcm92ZXJSb2xlSWRzIiwiZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzIiwic3UiLCJ1bmlxVXNlcnMiLCJ1c2VySWRzIiwic3BhY2VVc2VycyIsImZvcm11bGFfdmFsdWVzIiwiZXJyb3JzIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImNvbXBhbnlJZCIsInNwYWNlSWRzIiwic3BhY2VzUXVlcnkiLCJjaGVja19hdXRob3JpemF0aW9uIiwiaXNfZGVsZXRlZCIsImhlbHBfdGV4dCIsIm5hbWVfZm9ybXVsYSIsImNvZGVfZm9ybXVsYSIsImN1cnJlbnRfbm8iLCJlcnJvcl9tZXNzYWdlIiwiU3BhY2VVc2VycyIsIlVzZXJzIiwiRm9ybXMiLCJGbG93cyIsIk9yZ2FuaXphdGlvbnMiLCJQb3NpdGlvbnMiLCJSb2xlcyIsIkNhdGVnb3JpZXMiLCJTcGFjZXMiLCJoYXNoRGF0YSIsImFwcHJvdmVfZnJvbV9jbGllbnQiLCJ3b3JrZmxvd19lbmdpbmUiLCJpbnNlcnRlZF9pbnN0YW5jZXMiLCJpbnN0YW5jZV9mcm9tX2NsaWVudCIsIm5ld19pbnMiLCJuZXdfaW5zX2lkIiwiY3JlYXRlX2luc3RhbmNlIiwiaW5zZXJ0cyIsImRlbGV0ZV9vYmoiLCJnZXRTcGFjZSIsInN1Ym1pdF9pbnN0YW5jZSIsImFsZXJ0cyIsImRpc3RyaWJ1dGVkSW5zdGFuY2VzUmVtaW5kIiwiZmxvd192ZXJfZW5kX3N0ZXAiLCJmbG93X3ZlcnMiLCJpbnN0YW5jZV9mbG93X3ZlciIsImluc3RhbmNlX3RyYWNlIiwib2xkX2NjX3VzZXJzIiwib2xkX2luYm94X3VzZXJzIiwib2xkX291dGJveF91c2VycyIsInNwYWNlX3VzZXJfb3JnX2luZm8iLCJ0ZW1wVXNlcnMiLCJ0ZXJtaW5hdGVfcmVhc29uIiwiZl92ZXIiLCJmX3N0ZXAiLCJjb3N0X3RpbWUiLCJuZnRfYXBwcm92ZSIsImN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCIsInNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIiLCJfdXNlcnMiLCJhcHByb3ZlX3VzZXJzX2hhbmRsZXJzIiwiYXNzaWduZWVfYXBwciIsImN1cnJlbnRfc3BhY2VfdXNlciIsImN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24iLCJpbmJveF91c2Vyc19mcm9tX2NsaWVudCIsImxhc3RfdHJhY2VfZnJvbV9jbGllbnQiLCJub3RfaW5faW5ib3hfdXNlcnMiLCJyZWFzc2lnbl9yZWFzb24iLCJkaWZmZXJlbmNlIiwibmV3X2FwcHIiLCJuZXdfdXNlciIsInVzZXJfb3JnYW5pemF0aW9uIiwiYWgiLCJjdXJyZW50X3NldHAiLCJjdXJyZW50X3NldHBfdHlwZSIsIm5leHRfc3RlcCIsIm5leHRfc3RlcF9uYW1lIiwibmV4dF9zdGVwX3R5cGUiLCJyZWxvY2F0ZV9hcHByIiwicmVsb2NhdGVfY29tbWVudCIsInJlbG9jYXRlX2luYm94X3VzZXJzIiwicmVsb2NhdGVfbmV4dF9zdGVwIiwic2FtZVRyYWNlcyIsInNpZ25TaG93QXBwcm92ZUlkIiwidGEiLCJ0aSIsImdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdCIsImxpbmVzIiwiaXNJbnN0YW5jZUZpbmlzaGVkQW5kTm90QXJjaGlldmVkIiwiaXNJbnN0YW5jZVN1Ym1pdHRlck9yQXBwbGljYW50T3JTcGFjZUFkbWluIiwiY29ubmVjdEhhbmRsZXJzIiwidXNlIiwiZWpzIiwiZWpzTGludCIsImVuZF9kYXRlIiwiZXJyb3Jfb2JqIiwiZm9ybV9uYW1lIiwiaW5zX3RvX3hscyIsImxhc3RfbW9udGhfZGF0ZSIsInJldCIsInRpbWV6b25lb2Zmc2V0IiwicGFyc2VJbnQiLCIkZ3RlIiwiJGFuZCIsImxpbnQiLCJhdXRoX3Rva2VuIiwiZm9ybWlkcyIsImlzX2FkbWluIiwiZ2V0X1NwYWNlQ2hhbmdlU2V0IiwibGFzdF90cmFjZV9pZCIsIm9yZ19pbmZvIiwicHJldmlvdXNfc3RlcCIsInByZXZpb3VzX3RyYWNlIiwicHJldmlvdXNfdHJhY2VfYXBwcm92ZXMiLCJwcmV2aW91c190cmFjZV9pZCIsInByZXZpb3VzX3RyYWNlX25hbWUiLCJwcmV2aW91c190cmFjZV9zdGVwX2lkIiwicmV0cmlldmVfYXBwcm92ZSIsInJldHJpZXZlX2NvbW1lbnQiLCJyZXRyaWV2ZV90eXBlIiwidGhlX3RyYWNlIiwicmV0cmlldmVfYXBwciIsIm9sZF9zcGFjZV9pZCIsImZvcndhcmRfdXNlcnMiLCJub19wZXJtaXNzaW9uX3VzZXJfaWRzIiwidWlkIiwibm9fcGVybWlzc2lvbl91c2Vyc19uYW1lIiwibmV3X2luc19pZHMiLCJjdXJyZW50X3RyYWNlX2lkIiwiZm9yd2FyZF9hcHByb3ZlcyIsIm9sZF92YWx1ZXMiLCJuZXdfdmFsdWVzIiwib2xkX2Zvcm0iLCJvbGRfZm9ybV92ZXJzaW9uIiwib2xkX2ZpZWxkcyIsImNvbW1vbl9maWVsZHMiLCJzZWxlY3RfdG9faW5wdXRfZmllbGRzIiwiZXhpc3RzX2ZpZWxkIiwic2VsZWN0X2lucHV0X2ZpZWxkIiwib2xkX3YiLCJvbGRfbXVsdGlTZWxlY3RlZCIsIm5ld19tdWx0aVNlbGVjdGVkIiwib2xkX3RhYmxlX3Jvd192YWx1ZXMiLCJuZXdfdGFibGVfcm93X3ZhbHVlcyIsInJlY29yZF9uZWVkIiwiRk9ORFNJRCIsImlzY3JpcHQiLCJjYXRlZ29yeV9uYW1lIiwiZ2V0Q2F0ZWdvcnkiLCJpbnNfb2JqIiwiX21ha2VOZXdJRCIsInN1Ym1pdHRlcl9uYW1lIiwiZm9yd2FyZF9mcm9tX2luc3RhbmNlIiwidHJhY2Vfb2JqIiwiYXBwcl9vYmoiLCJhdXRvX3JlbWluZCIsImZsb3dfbmFtZSIsImNvbGxlY3Rpb24iLCJpbnN0YW5jZUh0bWwiLCJpbnN0YW5jZUZpbGUiLCJGUyIsIkZpbGUiLCJhdHRhY2hEYXRhIiwiZnJvbSIsInNpemUiLCJvd25lciIsIm93bmVyX25hbWUiLCJmaWxlT2JqIiwibWFpbiIsIm5ld0ZpbGUiLCJvcmlnaW5hbCIsInVwZGF0ZV9yZWFkIiwicmVkaXJlY3RUbyIsIndyaXRlSGVhZCIsImF0dGFjaCIsIm5vX2xpbWl0X2NvdW50IiwicmVmNSIsInJlc3VsdF9pbnN0YW5jZXMiLCJzcGFjZV9uYW1lcyIsInNwZWNpYWxfdXNlcl9pZCIsInVzZXJpZCIsInVzZXJuYW1lIiwid29ya2Zsb3dfY2F0ZWdvcmllcyIsInJlZjYiLCJyZWY3Iiwic3RhdHVzIiwiYXV0aFRva2VuIiwiaXNfcGFpZCIsImFwcGxpY2FudEluZm8iLCJhcHBsaWNhbnRfdXNlcm5hbWUiLCJ1c2VyX2FjY2VwdGVkIiwicGVybV91c2VycyIsIm5leHRfc3RlcF9pZCIsInJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcyIsImdldEZvcm0iLCJjaGVja1ZhbHVlRmllbGRzUmVxdWlyZSIsInN0ZXBuYW1lIiwiJGVsZW1NYXRjaCIsIkJ1c2JveSIsIkZpYmVyIiwicGFyc2VGaWxlcyIsImJ1c2JveSIsImltYWdlIiwiZmllbGRuYW1lIiwiZmlsZW5hbWUiLCJlbmNvZGluZyIsIm1pbWV0eXBlIiwiYnVmZmVycyIsIm1pbWVUeXBlIiwidG9Mb3dlckNhc2UiLCJwb3AiLCJkZWNvZGVVUklDb21wb25lbnQiLCJpc19wcml2YXRlIiwibG9ja2VkX2J5IiwibG9ja2VkX2J5X25hbWUiLCJhdHRhY2hfaWQiLCJjb2x1bW5zIiwiZm9yd2FyZF9pbnMiLCJmb3J3YXJkX2luc192YWx1ZXMiLCJvcmlnaW5hbF9pbnMiLCJvcmlnaW5hbF9pbnNfZmllbGRzIiwib3JpZ2luYWxfaW5zX2Zvcm0iLCJvcmlnaW5hbF9pbnNfaWQiLCJvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMiLCJyZWY4IiwicmVmOSIsInJvd19kYXRhIiwic3ViVGFibGUiLCJ0YWJsZV9kYXRhIiwiY29sdW1uIiwib3JpZ2luYWxfaW5zX2ZpZWxkIiwib2giLCJhX3RhYmxlIiwiYV90YWJsZV92YWx1ZXMiLCJjb2x1bW5fbGlzdCIsImRfaW5zIiwiZF9pbnNfZmllbGRzIiwiZF9pbnNfZm9ybSIsImRfaW5zX3ZhbHVlcyIsImRfbWF0Y2hfY29sIiwiZF9tYXRjaF9jb2xfZmllbGQiLCJkX21hdGNoX2NvbF9maWVsZHMiLCJkX3N1YnRhYmxlX2ZpZWxkcyIsImRfdGFibGUiLCJkX3RhYmxlX3ZhbHVlcyIsIm9faW5zIiwib19pbnNfZmllbGRzIiwib19pbnNfZm9ybSIsIm9faW5zX2lkIiwib19tYXRjaF9jb2wiLCJvX21hdGNoX2NvbF9maWVsZCIsIm9fbWF0Y2hfY29sX2ZpZWxkcyIsIm9fc3VidGFibGVfZmllbGRzIiwib190YWJsZSIsInJlZjEwIiwicmVmMTEiLCJyZWYxMiIsInJlZjEzIiwicmVmMTQiLCJyZWYxNSIsInJlZjE2IiwicmVmMTciLCJyZWYxOCIsInJlZjE5IiwicmVmMjAiLCJyZWYyMSIsInJlZjIyIiwib1RhYmxlIiwiZFRhYmxlIiwib01hdGNoQ29sIiwiZE1hdGNoQ29sIiwicmVmaWxsQ29sIiwiYVRhYmxlIiwib19pbnNfZmllbGQiLCJkX2luc19maWVsZCIsImRoIiwiYV9yb3ciLCJyZXN1bHRzIiwiY29sIiwiY29scyIsImRfY29sIiwiZF9jb2xfZmllbGRzIiwib19jb2wiLCJvX2NvbF9maWVsZHMiLCJkX3JvdyIsImhhc19vYmoiLCJvX3JvdyIsIm5ld190YWJsZV92YWx1ZXMiLCJzb3J0X2NvbCIsInN1Yl90YWJsZSIsInN1Yl90YWJsZV92YWx1ZXMiLCJzdW1fY29sIiwic3VtQ29sIiwic29ydENvbCIsInNpbmdsZUNvbHMiLCJKc29uU29ydCIsImpzb25BcnIiLCJhc2MiLCJqIiwiamwiLCJ0ZW1wIiwiaXNEZXZlbG9wbWVudCIsInRvX3VzZXJzIiwib3JnSWRzIiwiVGFidWxhclRhYmxlcyIsInJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIiLCJUYWJ1bGFyIiwiVGFibGUiLCJvcmRlcmFibGUiLCJyZW5kZXIiLCJpbnB1dCIsInN0ZXBfY3VycmVudF9uYW1lIiwiZG9tIiwibGVuZ3RoQ2hhbmdlIiwiZXh0cmFGaWVsZHMiLCJwYWdlTGVuZ3RoIiwiaW5mbyIsInNlYXJjaGluZyIsInJlc3BvbnNpdmUiLCJkZXRhaWxzIiwiYXV0b1dpZHRoIiwiY2hhbmdlU2VsZWN0b3IiLCJjdXJTcGFjZVVzZXIiLCJmbCIsIkdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zIiwiX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zIiwiX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyIsIl9oYW5kbGVMaXN0RmllbGRzIiwiaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciIsIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyIiwidXBkYXRlVGFidWxhclRpdGxlIiwic3VicyIsIlN1YnNNYW5hZ2VyIiwiaW5zX2ZpZWxkcyIsInB1YiIsIm9uVW5sb2FkIiwiaW5zdGFuY2VfbGlzdCIsIl90YWJsZUNvbHVtbnMiLCJkcmF3Q2FsbGJhY2siLCJlbGxpcHNpc0xpbmsiLCJlbXB0eVRkIiwiY29sU3BhbiIsImlzUGFkIiwicGVyZmVjdFNjcm9sbGJhciIsIm9JbnN0YW5jZSIsImF0dHIiLCJjbGljayIsImdvUGFnZSIsImhlaWdodCIsInBhZ2VzIiwiTWF0aCIsImNlaWwiLCJmblJlY29yZHNEaXNwbGF5IiwiX2lEaXNwbGF5TGVuZ3RoIiwiRGF0YVRhYmxlIiwicGFnZSIsImRyYXciLCJibHVyIiwiY3VycmVudFBhZ2UiLCJrZXlkb3duIiwia2V5Q29kZSIsImNyZWF0ZWRSb3ciLCJyb3ciLCJkYXRhSW5kZXgiLCJGbG93Um91dGVyIiwic2V0QXR0cmlidXRlIiwiYWdlbnRfdmlldyIsImNjX3ZpZXciLCJpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzIiwibW9kaWZpZWRGcm9tTm93IiwibW9kaWZpZWRTdHJpbmciLCJwcmlvcml0eUljb24iLCJwcmlvcml0eUljb25DbGFzcyIsInByaW9yaXR5VmFsdWUiLCJzdGVwX2N1cnJlbnRfbmFtZV92aWV3IiwidW5yZWFkIiwibW9tZW50UmVhY3RpdmVGcm9tTm93IiwidmlzaWJsZSIsImNjX3RhZyIsImxlbmd0aE1lbnUiLCJwYWdpbmdUeXBlIiwiaXNfbGlzdF9kaXNwbGF5IiwiZmlsdGVyZWRSZWNvcmRJZHMiLCJvbGRfZmlsdGVyZWRSZWNvcmRJZHMiLCJmaW5kT3B0aW9ucyIsImFnX3NvcnQiLCJhZ2dyZWdhdGVfb3BlcmF0aW9uIiwiYXN5bmNfYWdncmVnYXRlIiwiczFfMCIsInMxXzEiLCIkcHJvamVjdCIsIiR1bndpbmQiLCIkZmlyc3QiLCIkc29ydCIsIiRza2lwIiwiJGxpbWl0IiwiY2IiLCIkbGFzdCIsIm91dGJveF9pbnN0YW5jZXMiLCJmbG93SW5zdGFuY2VzIiwiUmVhY3RpdmVWYXIiLCJhdXRvcnVuIiwiX2NoYW5nZU9yZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxnQkFBSjtBQUFxQkMsTUFBTSxDQUFDQyxJQUFQLENBQVksb0NBQVosRUFBaUQ7QUFBQ0Ysa0JBQWdCLENBQUNHLENBQUQsRUFBRztBQUFDSCxvQkFBZ0IsR0FBQ0csQ0FBakI7QUFBbUI7O0FBQXhDLENBQWpELEVBQTJGLENBQTNGO0FBQ3JCSCxnQkFBZ0IsQ0FBQztBQUNoQixtQkFBaUIsUUFERDtBQUVoQkksU0FBTyxFQUFFLFFBRk87QUFHaEIsWUFBVSxTQUhNO0FBSWhCQyxRQUFNLEVBQUUsUUFKUTtBQUtoQixnQkFBYztBQUxFLENBQUQsRUFNYixrQkFOYSxDQUFoQixDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDREFDLFdBQVcsRUFBWDtBQUVBLEtBQUNDLFNBQUQsR0FBYSxFQUFiO0FBRUEsS0FBQ0MsY0FBRCxHQUFrQixFQUFsQjtBQUVBLEtBQUNDLG9CQUFELEdBQXdCLEVBQXhCO0FBRUEsS0FBQ0MsMEJBQUQsR0FBOEIsRUFBOUI7QUFF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QyxHQUE5QixFQUFtQ3FvQixNQUFuQyxFQUEyQ3I1QixNQUEzQyxDQUFsQjtBQzBGRTs7QUFDRCxXRDFGRmMsUUFBUUMsR0FBUixDQUFZLG9CQUFaLEVBQWtDbUgsR0FBbEMsQ0MwRkU7QUFDRDtBRHhHdUIsQ0FBMUI7O0FBZUEsSUFBR25KLE9BQU9tQixRQUFWO0FBQ0NuQixTQUFPcXFCLE9BQVAsQ0FDQztBQUFBeTdCLDZCQUF5QixVQUFDN3pDLEdBQUQsRUFBTXFvQixNQUFOO0FBQ3hCLFVBQUFyNUIsTUFBQSxFQUFBaUgsSUFBQSxFQUFBckcsR0FBQSxFQUFBNkcsSUFBQTtBQUFBbzlDLDhCQUF3Qjd6QyxHQUF4QixFQUE2QnFvQixNQUE3QjtBQUVBcHlCLGFBQU81RyxHQUFHOEcsS0FBSCxDQUFTNUcsT0FBVCxDQUFpQjtBQUFDQyxhQUFLNjRCO0FBQU4sT0FBakIsRUFBZ0M7QUFBQ3I1QixnQkFBUTtBQUFDSixnQkFBTTtBQUFQO0FBQVQsT0FBaEMsQ0FBUDtBQUNBSSxlQUFBLENBQUFZLE1BQUFQLEdBQUFDLEtBQUEsQ0FBQUMsT0FBQTtBQ21HS0MsYUFBS3lHLFFBQVEsSUFBUixHQUFlQSxLQUFLckgsSUFBcEIsR0FBMkIsS0FBSztBRG5HMUMsU0NvR007QUFDREksZ0JBQVE7QUFDTiw0QkFBa0I7QUFEWjtBQURQLE9EcEdOLE1Dd0dVLElEeEdWLEdDd0dpQixDQUFDeUgsT0FBTzdHLElBQUlpRyxPQUFaLEtBQXdCLElBQXhCLEdBQStCWSxLRHhHOEN6SCxNQ3dHN0UsR0R4RzZFLE1BQTlGLEdBQThGLE1BQTlGO0FBQ0EsYUFBT0EsTUFBUDtBQUxEO0FBQUEsR0FERDtBQ2lIQSxDIiwiZmlsZSI6Ii9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2hlY2tOcG1WZXJzaW9ucyB9IGZyb20gJ21ldGVvci90bWVhc2RheTpjaGVjay1ucG0tdmVyc2lvbnMnO1xuY2hlY2tOcG1WZXJzaW9ucyh7XG5cdFwibm9kZS1zY2hlZHVsZVwiOiBcIl4xLjMuMVwiLFxuXHRjb29raWVzOiBcIl4wLjYuMlwiLFxuXHRcInhtbDJqc1wiOiBcIl4wLjQuMTlcIixcblx0bWtkaXJwOiBcIl4wLjMuNVwiLFxuXHRcInNwcmludGYtanNcIjogXCJeMS4wLjNcIixcbn0sICdzdGVlZG9zOndvcmtmbG93Jyk7IiwiV29ya2Zsb3cgPSB7fVxuXG5ASW1hZ2VTaWduID0ge307XG5cbkBUcmFjZXNUZW1wbGF0ZSA9IHt9O1xuXG5ASW5zdGFuY2Vmb3JtVGVtcGxhdGUgPSB7fTtcblxuQEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlID0ge307XG5cbkBJbnN0YW5jZVNpZ25UZXh0ID0ge31cblxuQFJlbGF0ZWRJbnN0YW5jZXMgPSB7fVxuXG5AUmVsYXRlZFJlY29yZHMgPSB7fVxuXG5ASW5zdGFuY2VNYWNybyA9IHtjb250ZXh0OiB7fX1cblxuQFRyYWNlc01hbmFnZXIgPSB7fTtcblxuaWYgTWV0ZW9yLmlzQ2xpZW50XG5cdE1ldGVvci5zdGFydHVwIC0+XG5cdFx0d29ya2Zsb3dfdGhyZWVfY29sdW1ucyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwid29ya2Zsb3dfdGhyZWVfY29sdW1uc1wiKVxuXHRcdGlmIHdvcmtmbG93X3RocmVlX2NvbHVtbnMgYW5kIHdvcmtmbG93X3RocmVlX2NvbHVtbnMgPT0gXCJvZmZcIlxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpXG5cdFx0ZWxzZVxuXHRcdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpXG5cblxuSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyA9IChmaWVsZF9mb3JtdWxhKS0+XG5cdHJldHVybiAoZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt0cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7eWlqaWFubGFuOlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7XFxcInlpamlhbmxhblxcXCI6XCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInsneWlqaWFubGFuJzpcIikgPiAtMSlcblxuSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZCA9IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cblx0ZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcblxuXHRfZm9ybV92ZXJzaW9uID0ge31cblxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRfZm9ybV92ZXJzaW9uID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGZvcm19KSwgZm9ybV92ZXJzaW9uKVxuXHRlbHNlXG5cdFx0X2Zvcm1fdmVyc2lvbiA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7X2lkOiBmb3JtX3ZlcnNpb24sIGZvcm06IGZvcm19KVxuXG5cdGZpZWxkcyA9IF9mb3JtX3ZlcnNpb24/LmZpZWxkcyB8fCBbXVxuXG5cdGZpZWxkcy5mb3JFYWNoIChmKS0+XG5cdFx0aWYgZi50eXBlID09ICd0YWJsZSdcblx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcblx0XHRlbHNlIGlmIGYudHlwZSA9PSAnc2VjdGlvbidcblx0XHRcdGY/LmZpZWxkcz8uZm9yRWFjaCAoZjEpLT5cblx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmMS5mb3JtdWxhXG5cdFx0ZWxzZVxuXHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmLmZvcm11bGFcblxuXHRfLnNvbWUgZmllbGRfZm9ybXVsYXMsIChmaWVsZF9mb3JtdWxhKS0+XG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcblxuIiwiICAgICAgICAgICAgIFxuXG5Xb3JrZmxvdyA9IHt9O1xuXG50aGlzLkltYWdlU2lnbiA9IHt9O1xuXG50aGlzLlRyYWNlc1RlbXBsYXRlID0ge307XG5cbnRoaXMuSW5zdGFuY2Vmb3JtVGVtcGxhdGUgPSB7fTtcblxudGhpcy5JbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZSA9IHt9O1xuXG50aGlzLkluc3RhbmNlU2lnblRleHQgPSB7fTtcblxudGhpcy5SZWxhdGVkSW5zdGFuY2VzID0ge307XG5cbnRoaXMuUmVsYXRlZFJlY29yZHMgPSB7fTtcblxudGhpcy5JbnN0YW5jZU1hY3JvID0ge1xuICBjb250ZXh0OiB7fVxufTtcblxudGhpcy5UcmFjZXNNYW5hZ2VyID0ge307XG5cbmlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHdvcmtmbG93X3RocmVlX2NvbHVtbnM7XG4gICAgd29ya2Zsb3dfdGhyZWVfY29sdW1ucyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwid29ya2Zsb3dfdGhyZWVfY29sdW1uc1wiKTtcbiAgICBpZiAod29ya2Zsb3dfdGhyZWVfY29sdW1ucyAmJiB3b3JrZmxvd190aHJlZV9jb2x1bW5zID09PSBcIm9mZlwiKSB7XG4gICAgICByZXR1cm4gJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJChcImJvZHlcIikuYWRkQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpO1xuICAgIH1cbiAgfSk7XG59XG5cbkluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcgPSBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gIHJldHVybiAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3lpamlhbmxhbjpcIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntcXFwieWlqaWFubGFuXFxcIjpcIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInsneWlqaWFubGFuJzpcIikgOiB2b2lkIDApID4gLTE7XG59O1xuXG5JbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkID0gZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gIHZhciBfZm9ybV92ZXJzaW9uLCBmaWVsZF9mb3JtdWxhcywgZmllbGRzO1xuICBmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuICBfZm9ybV92ZXJzaW9uID0ge307XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBfZm9ybV92ZXJzaW9uID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybVxuICAgIH0pLCBmb3JtX3ZlcnNpb24pO1xuICB9IGVsc2Uge1xuICAgIF9mb3JtX3ZlcnNpb24gPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmb3JtX3ZlcnNpb24sXG4gICAgICBmb3JtOiBmb3JtXG4gICAgfSk7XG4gIH1cbiAgZmllbGRzID0gKF9mb3JtX3ZlcnNpb24gIT0gbnVsbCA/IF9mb3JtX3ZlcnNpb24uZmllbGRzIDogdm9pZCAwKSB8fCBbXTtcbiAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgIHZhciByZWY7XG4gICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZScpO1xuICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmMS5mb3JtdWxhKTtcbiAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmLmZvcm11bGEpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfLnNvbWUoZmllbGRfZm9ybXVsYXMsIGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgfSk7XG59O1xuIiwiZGIuYXV0aF90b2tlbnMgPSBuZXcgTWV0ZW9yLkNvbGxlY3Rpb24oJ2F1dGhfdG9rZW5zJykiLCJJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUgPSB7fTtcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiXCJcIlxuXHQ8dHI+XG5cdFx0PHRkIGNsYXNzPVwiaW5zLWF0dGFjaC12aWV3XCI+XG5cdFx0XHQ8YSBocmVmPVwie3tpbnNfYXR0YWNoX2Rvd25sb2FkX3VybCBfaWQgYWJzb2x1dGV9fVwiIGNsYXNzPVwiaW5zX2F0dGFjaF9ocmVmXCIgdGFyZ2V0PVwiX3BhcmVudFwiIGRhdGEtbmFtZT1cInt7dGhpcy5uYW1lfX1cIiBkYXRhLXR5cGU9XCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XCIgZGF0YS1pZD1cInt7X2lkfX1cIj57e3RoaXMubmFtZX19PC9hPlxuXHRcdDwvdGQ+XG5cdDwvdHI+XG5cIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmU2VsZWN0VXNlclJlYWQgPSBcIlwiXCJcblx0PGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XG5cIlwiXCJcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXBSZWFkID0gXCJcIlwiXG5cdDxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxuXHRcdHt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd0YWJsZSd9fVxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCIgc3R5bGU9XCJwYWRkaW5nOjBweDtcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiA+XG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInJlYWRvbmx5LXRhYmxlXCIgc3R5bGU9XCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cInt7dGhpcy5jb2RlfX1UYWJsZVwiIG5hbWU9XCJ7e3RoaXMuY29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3t0aGlzLm5hbWV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XCJ7e3RoaXMubmFtZX19VGhlYWRcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRoZWFkXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cInt7dGhpcy5uYW1lfX1UYm9keVwiIG5hbWU9XCJ7e3RoaXMubmFtZX19VGJvZHlcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5PlxuXHRcdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxuXHRcdFx0XHRcdFx0PGxhYmVsPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svaWZ9fVxuXHRcdHt7L3dpdGh9fVxuXHQ8L2Rpdj5cblwiXCJcIlxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlwiXCJcblxuXHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XG5cdFx0XHRcdFx0PC9kaXY+XG4gIFx0XHRcdFx0PC9kaXY+XG5cdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiIHN0eWxlPVwicGFkZGluZzowcHg7XCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgPlxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGVzY3JpcHRpb25cIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJyZWFkb25seS10YWJsZVwiIHN0eWxlPVwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1wiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XCJ7e3RoaXMuY29kZX19VGFibGVcIiBuYW1lPVwie3t0aGlzLmNvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7dGhpcy5uYW1lfX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVwie3t0aGlzLm5hbWV9fVRoZWFkXCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UaGVhZFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XCJ7e3RoaXMubmFtZX19VGJvZHlcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRib2R5XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2lucHV0J319XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiIGRhdGEtcmVxdWlyZWQ9XCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cIj5cblx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIge3tnZXRQZXJtaXNzaW9ucyBjb2RlfX0gZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdudW1iZXInfX1cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJudW1iZXJcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlJ319XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXR5cGU9XCJkYXRlXCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlVGltZSd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS10eXBlPSdkYXRldGltZScgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdwYXNzd29yZCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VsZWN0J319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzZWxlY3QgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cInt7dmFsdWV9fVwiPnt7bGFiZWx9fTwvb3B0aW9uPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvc2VsZWN0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdyYWRpbyd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWYtcmFkaW8tZ3JvdXBcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cbiAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgdmFsdWU9XCJ7e3ZhbHVlfX1cIiBuYW1lPVwie3suLi9jb2RlfX1cIiBjbGFzcz1cInJhZGlvLWlubGluZSBmaXgtaW5kZW50XCI+IHt7bGFiZWx9fTwvbGFiZWw+XG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbXVsdGlTZWxlY3QnfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFmLWNoZWNrYm94LWdyb3VwXCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwie3t2YWx1ZX19XCIgbmFtZT1cInt7Li4vY29kZX19XCIgY2xhc3M9XCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFwiPiB7e2xhYmVsfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3VybCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInVybFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2VtYWlsJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiZW1haWxcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdjaGVja2JveCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2hlY2tib3hcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwidHJ1ZVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGNsYXNzPVwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcIj48L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J3t7Z2V0Q2ZDbGFzcyB0aGlzfX0gZm9ybS1jb250cm9sJyByZWFkb25seSBkaXNhYmxlZD57e3tnZXRWYWx1ZSBjb2RlfX19PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svaWZ9fVxuXHRcdHt7L3dpdGh9fVxuXCJcIlwiXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUgPSAodGVtcGFsdGVOYW1lLCBzdGVlZG9zRGF0YSkgLT5cblx0dGVtcGxhdGUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGVbdGVtcGFsdGVOYW1lXVxuXG5cdHRlbXBsYXRlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0dGVtcGxhdGVSZW5kZXJGdW5jdGlvbiA9IGV2YWwodGVtcGxhdGVDb21waWxlZCk7XG5cblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZSh0ZW1wYWx0ZU5hbWUsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24pO1xuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUluc3RhbmNlU2lnblRleHQgPSAoc3RlZWRvc0RhdGEpLT5cblx0aW5zdGFuY2VTaWduVGV4dEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9zaWduX3RleHQuaHRtbCcpXG5cblx0aW5zdGFuY2VTaWduVGV4dENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVNpZ25UZXh0SHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VTaWduVGV4dFwiLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24pO1xuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzIEluc3RhbmNlU2lnblRleHQuaGVscGVyc1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduID0gKHN0ZWVkb3NEYXRhKSAtPlxuXHRpbWFnZVNpZ25IdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW1hZ2Vfc2lnbi5odG1sJylcblx0aW1hZ2VTaWduQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGltYWdlU2lnbkh0bWwsIHtpc0JvZHk6IHRydWV9KTtcblx0aW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24gPSBldmFsKGltYWdlU2lnbkNvbXBpbGVkKTtcblx0VGVtcGxhdGUuaW1hZ2VTaWduID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW1hZ2VTaWduXCIsIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uKTtcblx0VGVtcGxhdGUuaW1hZ2VTaWduLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGUuaW1hZ2VTaWduLmhlbHBlcnMgSW1hZ2VTaWduLmhlbHBlcnNcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdCA9IChzdGVlZG9zRGF0YSkgLT5cblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmU2VsZWN0VXNlclJlYWRcIiwgc3RlZWRvc0RhdGEpO1xuXG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFwiLCBzdGVlZG9zRGF0YSk7XG5cblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJpbnN0YW5jZV9hdHRhY2htZW50XCIsIHthYnNvbHV0ZTogc3RlZWRvc0RhdGEuYWJzb2x1dGV9KTtcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduKHN0ZWVkb3NEYXRhKVxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0KHN0ZWVkb3NEYXRhKVxuXG5nZXRMaW5rVGV4dCA9IChpdGVtLCBsYWJlbCwgZGV0YWlsX3VybCktPlxuXHRpZiBkZXRhaWxfdXJsXG5cdFx0ZGV0YWlsX3VybCA9IGRldGFpbF91cmwucmVwbGFjZShcIntfaWR9XCIsIGl0ZW0uX2lkKVxuXHRcdGlmICEvXmh0dHAocz8pOlxcL1xcLy8udGVzdChkZXRhaWxfdXJsKVxuXHRcdFx0ZGV0YWlsX3VybCA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoZGV0YWlsX3VybClcblx0XHRyZXR1cm4gJzxhIGhyZWY9XCInK2RldGFpbF91cmwrJ1wiIHRhcmdldD1cIl9ibGFua1wiPicrbGFiZWwrJzwvYT4nO1xuXHRlbHNlXG5cdFx0cmV0dXJuIGxhYmVsXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSA9ICh2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KSAtPlxuXHRpZiAhdmFsdWUgJiYgdmFsdWUgIT0gZmFsc2Vcblx0XHRyZXR1cm4gJydcblx0c3dpdGNoIGZpZWxkLnR5cGVcblx0XHR3aGVuICdlbWFpbCdcblx0XHRcdHZhbHVlID0gaWYgdmFsdWUgdGhlbiAnPGEgaHJlZj1cXCdtYWlsdG86JyArIHZhbHVlICsgJ1xcJz4nICsgdmFsdWUgKyAnPC9hPicgZWxzZSAnJ1xuXHRcdHdoZW4gJ3VybCdcblx0XHRcdGlmIHZhbHVlXG5cdFx0XHRcdGlmIHZhbHVlLmluZGV4T2YoXCJodHRwXCIpID09IDBcblx0XHRcdFx0XHR0cnlcblx0XHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcblx0XHRcdFx0XHRjYXRjaCBlXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IFwiPGEgaHJlZj0nJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR2YWx1ZSA9IFwiPGEgaHJlZj0naHR0cDovL1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9ICcnXG5cdFx0d2hlbiAnZ3JvdXAnXG5cdFx0XHRpZiBmaWVsZC5pc19tdWx0aXNlbGVjdFxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5nZXRQcm9wZXJ0eShcImZ1bGxuYW1lXCIpLnRvU3RyaW5nKClcblx0XHRcdGVsc2Vcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZnVsbG5hbWVcblx0XHR3aGVuICd1c2VyJ1xuXHRcdFx0aWYgZmllbGQuaXNfbXVsdGlzZWxlY3Rcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKClcblx0XHRcdGVsc2Vcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8ubmFtZVxuXHRcdHdoZW4gJ3Bhc3N3b3JkJ1xuXHRcdFx0dmFsdWUgPSAnKioqKioqJ1xuXHRcdHdoZW4gJ2NoZWNrYm94J1xuXHRcdFx0aWYgdmFsdWUgJiYgdmFsdWUgIT0gJ2ZhbHNlJ1xuXHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiLCB7fSwgbG9jYWxlKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIsIHt9LCBsb2NhbGUpXG5cdFx0d2hlbiAnZGF0ZVRpbWUnXG5cdFx0XHRpZiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPT0gMTZcblx0XHRcdFx0dCA9IHZhbHVlLnNwbGl0KFwiVFwiKVxuXHRcdFx0XHR0MCA9IHRbMF0uc3BsaXQoXCItXCIpO1xuXHRcdFx0XHR0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuXG5cdFx0XHRcdHllYXIgPSB0MFswXTtcblx0XHRcdFx0bW9udGggPSB0MFsxXTtcblx0XHRcdFx0ZGF0ZSA9IHQwWzJdO1xuXHRcdFx0XHRob3VycyA9IHQxWzBdO1xuXHRcdFx0XHRzZWNvbmRzID0gdDFbMV07XG5cblx0XHRcdFx0dmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxuXG5cdFx0XHR2YWx1ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlKHZhbHVlLCB1dGNPZmZzZXQpO1xuXHRcdHdoZW4gJ2lucHV0J1xuXHRcdFx0aWYgZmllbGQuaXNfdGV4dGFyZWFcblx0XHRcdFx0dmFsdWUgPSBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bih2YWx1ZSkpXG5cdFx0d2hlbiAnbnVtYmVyJ1xuXHRcdFx0aWYgdmFsdWUgb3IgdmFsdWUgPT0gMFxuXHRcdFx0XHRpZiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZydcblx0XHRcdFx0XHR2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpXG5cdFx0XHRcdHZhbHVlID0gdmFsdWUudG9GaXhlZChmaWVsZC5kaWdpdHMpXG5cdFx0XHRcdHZhbHVlID0gU3RlZWRvcy5udW1iZXJUb1N0cmluZyB2YWx1ZSwgbG9jYWxlXG5cdFx0d2hlbiAnb2RhdGEnXG5cdFx0XHRkZXRhaWxfdXJsID0gZmllbGQuZGV0YWlsX3VybFxuXHRcdFx0aWYgZmllbGQuaXNfbXVsdGlzZWxlY3Rcblx0XHRcdFx0dmFsdWUgPSBfLm1hcCB2YWx1ZSwgKGl0ZW0pLT5cblx0XHRcdFx0XHRyZXR1cm4gZ2V0TGlua1RleHQoaXRlbSwgaXRlbVsnQGxhYmVsJ10sIGRldGFpbF91cmwpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gZ2V0TGlua1RleHQodmFsdWUsIHZhbHVlWydAbGFiZWwnXSwgZGV0YWlsX3VybClcblxuXHRyZXR1cm4gdmFsdWU7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCA9IChmaWVsZHMsIGNvZGUpIC0+XG5cdGZpZWxkID0gZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpXG5cdGlmIGZpZWxkXG5cdFx0aWYgZmllbGQubmFtZVxuXHRcdFx0cmV0dXJuIGZpZWxkLm5hbWVcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZmllbGQuY29kZVxuXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uID0gKGluc3RhbmNlKS0+XG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuXG5cdGZvcm1fdmVyc2lvbiA9IHt9XG5cblx0Zm9ybV9maWVsZHMgPSBbXTtcblxuXHRpZiBmb3JtLmN1cnJlbnQuX2lkID09IGluc3RhbmNlLmZvcm1fdmVyc2lvblxuXHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudFxuXHRlbHNlXG5cdFx0Zm9ybV92ZXJzaW9uID0gXy53aGVyZShmb3JtLmhpc3RvcnlzLCB7X2lkOiBpbnN0YW5jZS5mb3JtX3ZlcnNpb259KVswXVxuXG5cdGZvcm1fdmVyc2lvbi5maWVsZHMuZm9yRWFjaCAoZmllbGQpLT5cblx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG5cdFx0XHRpZiBmaWVsZC5maWVsZHNcblx0XHRcdFx0ZmllbGQuZmllbGRzLmZvckVhY2ggKGYpIC0+XG5cdFx0XHRcdFx0Zm9ybV9maWVsZHMucHVzaChmKTtcblx0XHRlbHNlIGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0ZmllbGRbJ3NmaWVsZHMnXSA9IGZpZWxkWydmaWVsZHMnXVxuXHRcdFx0ZGVsZXRlIGZpZWxkWydmaWVsZHMnXVxuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG5cdFx0ZWxzZVxuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG5cblx0Zm9ybV92ZXJzaW9uLmZpZWxkcyA9IGZvcm1fZmllbGRzO1xuXG5cdHJldHVybiBmb3JtX3ZlcnNpb247XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbiA9IChpbnN0YW5jZSktPlxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcblx0Zmxvd192ZXJzaW9uID0ge31cblx0aWYgZmxvdy5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mbG93X3ZlcnNpb25cblx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnRcblx0ZWxzZVxuXHRcdGZsb3dfdmVyc2lvbiA9IF8ud2hlcmUoZmxvdy5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZmxvd192ZXJzaW9ufSlbMF1cblxuXHRyZXR1cm4gZmxvd192ZXJzaW9uO1xuXG5cbl9nZXRWaWV3SHRtbCA9IChwYXRoKSAtPlxuXHR2aWV3SHRtbCA9IEFzc2V0cy5nZXRUZXh0KHBhdGgpXG5cblx0aWYgdmlld0h0bWxcblx0XHR2aWV3SHRtbCA9IHZpZXdIdG1sLnJlcGxhY2UoLzx0ZW1wbGF0ZVtcXHdcXHNcXFwiXFw9J10rPi9pLFwiXCIpLnJlcGxhY2UoLzxcXC90ZW1wbGF0ZT4vaSxcIlwiKVxuXG5cdHJldHVybiB2aWV3SHRtbDtcblxuX2dldExvY2FsZSA9ICh1c2VyKS0+XG5cdGlmIHVzZXI/LmxvY2FsZT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXG5cdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdGVsc2UgaWYgdXNlcj8ubG9jYWxlPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdlbi11cydcblx0XHRsb2NhbGUgPSBcImVuXCJcblx0ZWxzZVxuXHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRyZXR1cm4gbG9jYWxlXG5cblxuX2dldFJlcXVpcmVkRmllbGRzID0gKGZpZWxkcywgcmV2KS0+XG5cdGlmICFyZXZcblx0XHRyZXYgPSBbXTtcblxuXHRmaWVsZHMuZm9yRWFjaCAoZmllbGQpLT5cblx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0X2dldFJlcXVpcmVkRmllbGRzKGZpZWxkLmZpZWxkcywgcmV2KVxuXHRcdGVsc2UgaWYgZmllbGQudHlwZSA9PSAndGFibGUnXG5cblx0XHRlbHNlXG5cdFx0XHRpZiBmaWVsZC5pc19yZXF1aXJlZFxuXHRcdFx0XHRyZXYucHVzaCBmaWVsZC5jb2RlXG5cdHJldHVybiByZXY7XG5cbl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IChmaWVsZHMsIHN0ZXBzKS0+XG5cdHN0YXJ0U3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwX3R5cGVcIixcInN0YXJ0XCIpXG5cblx0ZWRpdGFibGVDb2RlID0gW11cblxuXHRfLmtleXMoc3RhcnRTdGVwLnBlcm1pc3Npb25zKS5mb3JFYWNoIChrZXkpLT5cblx0XHRpZiBzdGFydFN0ZXAucGVybWlzc2lvbnNba2V5XSA9PSAnZWRpdGFibGUnXG5cdFx0XHRlZGl0YWJsZUNvZGUucHVzaCBrZXlcblxuXHRyZXR1cm4gZWRpdGFibGVDb2RlXG5cbl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyA9IChmaWVsZHMsIHN0ZXBzKS0+XG5cdHJlcXVpcmVkRmllbGRzID0gX2dldFJlcXVpcmVkRmllbGRzKGZpZWxkcylcblxuXHRlZGl0YWJsZUNvZGUgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZmllbGRzLCBzdGVwcylcblxuXHRyZXR1cm4gXy5pbnRlcnNlY3Rpb24ocmVxdWlyZWRGaWVsZHMsIGVkaXRhYmxlQ29kZSlcblxuX2dldFRlbXBsYXRlRGF0YSA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0Zm9ybV92ZXJzaW9uID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpXG5cdGVsc2Vcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSlcblxuXHRsb2NhbGUgPSBfZ2V0TG9jYWxlKHVzZXIpXG5cblx0c3RlZWRvc0RhdGEgPSB7fVxuXG5cdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdHN0ZWVkb3NEYXRhID0gXy5jbG9uZShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCkpXG5cdFx0c3RlZWRvc0RhdGEuaW5zbmFtZSA9IGluc3RhbmNlLm5hbWVcblx0XHRzdGVlZG9zRGF0YS5pbnNfc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZVxuXHRcdHN0ZWVkb3NEYXRhLmluc19maW5hbF9kZWNpc2lvbiA9IGluc3RhbmNlLmluc19maW5hbF9kZWNpc2lvblxuXHRcdHN0ZWVkb3NEYXRhLmluc19jb2RlID0gaW5zdGFuY2UuY29kZVxuXHRcdHN0ZWVkb3NEYXRhLmluc19pc19hcmNoaXZlZCA9IGluc3RhbmNlLmlzX2FyY2hpdmVkXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2lzX2RlbGV0ZWQgPSBpbnN0YW5jZS5pbnNfaXNfZGVsZXRlZFxuXHRcdHN0ZWVkb3NEYXRhLmFwcGxpY2FudF9uYW1lID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblx0XHRzdGVlZG9zRGF0YS5hcHBsaWNhbnRDb250ZXh0ID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblxuXHRzdGVlZG9zRGF0YS5pbnN0YW5jZSA9IGluc3RhbmNlXG5cdHN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbiA9IGZvcm1fdmVyc2lvblxuXHRzdGVlZG9zRGF0YS5sb2NhbGUgPSBsb2NhbGVcblx0c3RlZWRvc0RhdGEudXRjT2Zmc2V0ID0gdXNlci51dGNPZmZzZXRcblx0c3RlZWRvc0RhdGEuc3BhY2UgPSBpbnN0YW5jZS5zcGFjZVxuXHRzdGVlZG9zRGF0YS5zZXNzaW9uVXNlcklkID0gdXNlci5faWRcblxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRpZiBvcHRpb25zPy5lZGl0YWJsZVxuXHRcdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZm9ybX0pXG5cblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGluc3RhbmNlLmZsb3d9KVxuXG5cdFx0XHRzdGVlZG9zRGF0YS5zdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyhmb3JtLmN1cnJlbnQuZmllbGRzLCBmbG93LmN1cnJlbnQuc3RlcHMpO1xuXG5cdHJldHVybiBzdGVlZG9zRGF0YTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUgPSAoZGF0ZSwgdXRjT2Zmc2V0KS0+XG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdHBhc3NpbmcgPSBmYWxzZTtcblx0ZWxzZVxuXHRcdHBhc3NpbmcgPSB0cnVlO1xuXG5cdGlmICF1dGNPZmZzZXQgJiYgdXRjT2Zmc2V0ICE9MFxuXHRcdHV0Y09mZnNldCA9IDhcblxuXHRyZXR1cm4gbW9tZW50KGRhdGUpLnV0Y09mZnNldCh1dGNPZmZzZXQsIHBhc3NpbmcpLmZvcm1hdChcIllZWVktTU0tREQgSEg6bW1cIik7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuXG5cdGlmIG9wdGlvbnM/LmFic29sdXRlXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuXG5cdGluc3RhbmNlVGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UsIG9wdGlvbnM/LnRlbXBsYXRlTmFtZSk7XG5cblx0aW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZTZWxlY3RVc2VyL2csXCJhZlNlbGVjdFVzZXJSZWFkXCIpXG5cblx0aWYgIW9wdGlvbnM/LmVkaXRhYmxlXG5cdFx0aW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZGb3JtR3JvdXAvZyxcImFmRm9ybUdyb3VwUmVhZFwiKVxuXG5cdGluc3RhbmNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlVGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcblxuXHRpbnN0YW5jZVJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZUNvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfcmVhZG9ubHlfdmlld1wiLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LmhlbHBlcnMgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVyc1xuXG5cdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0KHN0ZWVkb3NEYXRhKTtcblxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldywgc3RlZWRvc0RhdGEpXG5cblx0cmV0dXJuIFwiXCJcIlxuXHRcdDxkaXYgaWQ9J2luc3RhbmNlZm9ybScgPlxuXHRcdFx0I3tib2R5fVxuXHRcdDwvZGl2PlxuXHRcIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFRyYWNlc1ZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblx0aWYgZm9ybS5pbnN0YW5jZV9zdHlsZSA9PSBcInRhYmxlXCIgfHwgb3B0aW9ucz8udGVtcGxhdGVOYW1lID09IFwidGFibGVcIlxuXHRcdHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfdGFibGUuaHRtbCcpXG5cdGVsc2Vcblx0XHR0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzLmh0bWwnKVxuXG5cdHRyYWNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRyYWNlc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcblxuXHR0cmFjZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0cmFjZUNvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwidHJhY2VfcmVhZG9ubHlfdmlld1wiLCB0cmFjZVJlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LmhlbHBlcnMgVHJhY2VzVGVtcGxhdGUuaGVscGVyc1xuXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LCBpbnN0YW5jZS50cmFjZXMpXG5cblx0cmV0dXJuIGJvZHk7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50VmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpLT5cblxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxuXG5cdGF0dGFjaG1lbnRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2VfYXR0YWNobWVudHMuaHRtbCcpXG5cblx0YXR0YWNobWVudENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShhdHRhY2htZW50SHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoYXR0YWNobWVudENvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlld1wiLCBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXG5cdFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzXG5cblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcpXG5cblx0cmV0dXJuIGJvZHk7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuXG5cdGlmIG9wdGlvbnM/LmFic29sdXRlXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuXG5cdHJlbGF0ZWRJbnN0YW5jZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9pbnN0YW5jZXMuaHRtbCcpXG5cblx0cmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkSW5zdGFuY2VzSHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9pbnN0YW5jZXNfdmlld1wiLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXG5cdFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuaGVscGVycyBSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnNcblxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldywgc3RlZWRvc0RhdGEpXG5cblx0cmV0dXJuIGJvZHk7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cblx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcblxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxuXHRcdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcblxuXHRyZWxhdGVkUmVjb3Jkc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX3JlY29yZHMuaHRtbCcpXG5cblx0cmVsYXRlZFJlY29yZHNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZFJlY29yZHNIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0cmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZFJlY29yZHNDb21waWxlZCk7XG5cblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX3JlY29yZHNfdmlld1wiLCByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXG5cblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuaGVscGVycyBSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzXG5cblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LCBzdGVlZG9zRGF0YSlcblxuXHRyZXR1cm4gYm9keTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdCA9IChpbnN0YW5jZSktPlxuXHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXG5cdGZvcm1fc2NyaXB0ID0gZm9ybV92ZXJzaW9uLmZvcm1fc2NyaXB0O1xuXG5cdGlmIGZvcm1fc2NyaXB0ICYmIGZvcm1fc2NyaXB0LnJlcGxhY2UoL1xcbi9nLFwiXCIpLnJlcGxhY2UoL1xccy9nLFwiXCIpLmxlbmd0aCA+IDBcblx0XHRmb3JtX3NjcmlwdCA9IFwiQ29yZUZvcm0gPSB7fTtDb3JlRm9ybS5pbnN0YW5jZWZvcm0gPSB7fTtcIiArIGZvcm1fc2NyaXB0XG5cdFx0Zm9ybV9zY3JpcHQgKz0gXCI7aWYoQ29yZUZvcm0uZm9ybV9PbkxvYWQpe3dpbmRvdy5vbmxvYWQgPSBDb3JlRm9ybS5mb3JtX09uTG9hZCgpO31cIlxuXHRlbHNlXG5cdFx0Zm9ybV9zY3JpcHQgPSBcIlwiXG5cblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxuXG5cdGJvZHkgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG5cblx0b25Mb2FkU2NyaXB0ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdChpbnN0YW5jZSk7XG5cblx0Y3JlYXRvclNlcnZpY2UgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLndlYnNlcnZpY2VzPy5jcmVhdG9yPy51cmxcblx0aW5zX3JlY29yZF9pZHMgPSBpbnN0YW5jZS5yZWNvcmRfaWRzXG5cblx0b3BlbkZpbGVTY3JpcHQgPSBcIlwiXCJcblx0XHRcdGlmKHdpbmRvdy5pc05vZGUgJiYgaXNOb2RlKCkpe1xuXHRcdFx0XHRhdHRhY2hzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImluc19hdHRhY2hfaHJlZlwiKTtcblx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGF0dGFjaHMubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHRcdGF0dGFjaCA9IGF0dGFjaHNbaV07XG5cdFx0XHRcdFx0YXR0YWNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0XHRcdGlmKGlzSW1hZ2UodGhpcy5kYXRhc2V0LnR5cGUpIHx8IGlzSHRtbCh0aGlzLmRhdGFzZXQudHlwZSkpe1xuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdG9wZW5XaW5kb3coXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy9cIiArIHRoaXMuZGF0YXNldC5pZCk7XG5cdFx0XHRcdFx0XHR9ZWxzZSBpZihud19jb3JlLmNhbk9wZW5GaWxlKHRoaXMuZGF0YXNldC5uYW1lKSl7XG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0bndfY29yZS5vcGVuRmlsZSh0aGlzLmhyZWYsIHRoaXMuZGF0YXNldC5uYW1lKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHZhciBmbG93ID0gXCIje2luc3RhbmNlLmZsb3d9XCI7XG5cdFx0XHR2YXIgc3BhY2UgPSBcIiN7aW5zdGFuY2Uuc3BhY2V9XCI7XG5cblx0XHRcdGZ1bmN0aW9uIGdldENvb2tpZShuYW1lKXtcblx0XHRcdFx0bGV0IHBhdHRlcm4gPSBSZWdFeHAobmFtZSArIFwiPS5bXjtdKlwiKVxuXHRcdFx0XHRsZXQgbWF0Y2hlZCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChwYXR0ZXJuKVxuXHRcdFx0XHRpZihtYXRjaGVkKXtcblx0XHRcdFx0XHRsZXQgY29va2llID0gbWF0Y2hlZFswXS5zcGxpdCgnPScpXG5cdFx0XHRcdFx0cmV0dXJuIGNvb2tpZVsxXVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAnJ1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcmVjb3JkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbnMtcmVsYXRlZC1yZWNvcmRzXCIpO1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHJlY29yZHMubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHRcdHZhciByZWNvcmQgPSByZWNvcmRzW2ldO1xuXHRcdFx0XHRcdHJlY29yZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0XHR2YXIgY3JlYXRvclNlcnZpY2UgPSBcIiN7Y3JlYXRvclNlcnZpY2V9XCJcblx0XHRcdFx0XHRcdHZhciBpbnNfcmVjb3JkX2lkcyA9ICN7SlNPTi5zdHJpbmdpZnkoaW5zX3JlY29yZF9pZHMpfVxuXHRcdFx0XHRcdFx0aWYoY3JlYXRvclNlcnZpY2UgJiYgaW5zX3JlY29yZF9pZHMgJiYgaW5zX3JlY29yZF9pZHMubGVuZ3RoID4gMCl7XG5cdFx0XHRcdFx0XHRcdHZhciBvYmpjZXROYW1lID0gaW5zX3JlY29yZF9pZHNbMF0ub1xuXHRcdFx0XHRcdFx0XHR2YXIgaWQgPSBpbnNfcmVjb3JkX2lkc1swXS5pZHNbMF1cblx0XHRcdFx0XHRcdFx0dmFyIHVvYmogPSB7fTtcblx0XHRcdFx0XHRcdFx0dW9ialtcIlgtVXNlci1JZFwiXSA9IGdldENvb2tpZShcIlgtVXNlci1JZFwiKTtcblx0XHRcdFx0XHRcdFx0dW9ialtcIlgtQXV0aC1Ub2tlblwiXSA9IGdldENvb2tpZShcIlgtQXV0aC1Ub2tlblwiKTtcblx0XHRcdFx0XHRcdFx0cmVkaXJlY3RVcmwgPSBjcmVhdG9yU2VydmljZSArIFwiYXBwLy0vXCIgKyBvYmpjZXROYW1lICsgXCIvdmlldy9cIiArIGlkICsgXCI/XCIgKyAkLnBhcmFtKHVvYmopO1xuXHRcdFx0XHRcdFx0XHRvcGVuV2luZG93KHJlZGlyZWN0VXJsKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cdFwiXCJcIjtcblxuXG5cdGlmICFTdGVlZG9zLmlzTW9iaWxlKClcblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblx0XHRpZiBmb3JtPy5pbnN0YW5jZV9zdHlsZSA9PSAndGFibGUnXG5cdFx0XHRpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIlxuXG5cdGlmIG9wdGlvbnM/LnRlbXBsYXRlTmFtZSA9PSAndGFibGUnXG5cdFx0aW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCJcblxuXHRpZiBvcHRpb25zPy5pbnN0YW5jZV9zdHlsZVxuXHRcdGluc3RhbmNlX3N0eWxlID0gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZVxuXG5cdGlmICFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd1RyYWNlID09IHRydWVcblx0XHR0cmFjZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblx0ZWxzZVxuXHRcdHRyYWNlID0gXCJcIlxuXG5cdGluc3RhbmNlQm94U3R5bGUgPSBcIlwiO1xuXG5cdGlmIGluc3RhbmNlICYmIGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uXG5cdFx0aWYgaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXG5cdFx0XHRpbnN0YW5jZUJveFN0eWxlID0gXCJib3gtc3VjY2Vzc1wiXG5cdFx0ZWxzZSBpZiAoaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT0gXCJyZWplY3RlZFwiKVxuXHRcdFx0aW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LWRhbmdlclwiXG5cdGlmICFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzID09IHRydWVcblx0XHRhdHRhY2htZW50ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblx0XHRyZWxhdGVkX2luc3RhbmNlcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXG5cdFx0cmVsYXRlZF9yZWNvcmRzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXG5cdGVsc2Vcblx0XHRhdHRhY2htZW50ID0gXCJcIlxuXHRcdHJlbGF0ZWRfaW5zdGFuY2VzID0gXCJcIlxuXHRcdHJlbGF0ZWRfcmVjb3JkcyA9IFwiXCJcblxuXHRhYnNvbHV0ZVVybCA9IE1ldGVvci5hYnNvbHV0ZVVybCgpXG5cblx0d2lkdGggPSBcIjk2MHB4XCJcblx0I1x05aaC5p6c57uZdGFibGXnmoRwYXJlbnTorr7nva53aWR0aO+8jOWImeS8muWvvOiHtOmYv+mHjOS6kemCrueuseaYvuekunRhYmxlIOW8guW4uFxuXHRpZiBvcHRpb25zPy53aWR0aFxuXHRcdHdpZHRoID0gXCJcIlxuXG5cdGNzc0hyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoXCJzdGVlZG9zLWNzc1wiKVxuXG5cdGFsbENzc0xpbmsgPSBcIlwiXCI8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgY2xhc3M9XCJfX21ldGVvci1jc3NfX1wiIGhyZWY9XCIje2Nzc0hyZWZ9XCI+XCJcIlwiXG5cblx0dHJhY2VDaGVjayA9IFwiXCJcblx0aWYgIV8uaXNFbXB0eSh0cmFjZSlcblx0XHR0cmFjZUNoZWNrID0gXCJjaGVja2VkXCJcblx0aWYgb3B0aW9ucz8udGFnZ2VyID09ICdlbWFpbCdcblx0XHRzaG93VHJhY2VzQnRuID0gXCJcIlxuXHRlbHNlXG5cdFx0c2hvd1RyYWNlc0J0biA9IFwiXCJcIlxuXHRcdFx0PGRpdiBjbGFzcz1cIm5hdmlnYXRpb24tYmFyIGJ0bi1ncm91cCBuby1wcmludFwiIHN0eWxlPVwibWluLXdpZHRoOiA2MDBweDsgei1pbmRleDogOTk5XCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJwcmludC10b29sXCI+XG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY2J4LWxhYmVsXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiY2J4LXByaW50IGNieC1wcmludC1hdHRhY2htZW50c1wiIGlkPVwiY2J4LXByaW50LWF0dGFjaG1lbnRzXCIgY2hlY2tlZD1cImNoZWNrZWRcIj48c3Bhbj7pmYTku7Y8L3NwYW4+PC9sYWJlbD5cblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjYngtbGFiZWxcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJjYngtcHJpbnQgY2J4LXByaW50LXRyYWNlc1wiIGlkPVwiY2J4LXByaW50LXRyYWNlc1wiIGNoZWNrZWQ9XCIje3RyYWNlQ2hlY2t9XCI+PHNwYW4+I3t0KCdpbnN0YW5jZV9hcHByb3ZhbF9oaXN0b3J5Jyl9PC9zcGFuPjwvbGFiZWw+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0XHRcIlwiXCJcblxuXHRzaG93VHJhY2VzU2NyaXB0ID0gXCJcIlwiXG5cdFx0JCggZG9jdW1lbnQgKS5yZWFkeShmdW5jdGlvbigpe1xuXHRcdFx0dmFyIGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LXRyYWNlcycpO1xuXHRcdFx0dmFyIHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnN0YW5jZS10cmFjZXMnKVswXTtcblx0XHRcdGlmIChiLmNoZWNrZWQpe1xuXHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXG5cdFx0XHR9XG5cdFx0XHRiLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XG5cdFx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHZhciBhdHRhY2htZW50c0NoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieC1wcmludC1hdHRhY2htZW50cycpO1xuXHRcdFx0dmFyIGF0dGFjaG1lbnRzVmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2F0dGFjaG1lbnRzLXNlY3Rpb24nKVswXTtcblx0XHRcdGlmIChhdHRhY2htZW50c0NoZWNrYm94LmNoZWNrZWQpe1xuXHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xuXHRcdFx0fVxuXHRcdFx0YXR0YWNobWVudHNDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xuXHRcdFx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcIlwiXCJcblxuXHRpZiBvcHRpb25zPy5zdHlsZXNcblx0XHRhbGxDc3NMaW5rID0gXCJcIlxuXG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlLmZvcm19KTtcblx0Zm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiXCJcblx0aWYgZm9ybVxuXHRcdGZvcm1EZXNjcmlwdGlvbiA9IGZvcm0uZGVzY3JpcHRpb25cblx0XHRpZiBmb3JtRGVzY3JpcHRpb25cblx0XHRcdGZvcm1EZXNjcmlwdGlvbiA9IGZvcm1EZXNjcmlwdGlvbi5yZXBsYWNlKC9cXG4vZyxcIjxici8+XCIpXG5cdFx0XHRmb3JtRGVzY3JpcHRpb25IdG1sID0gXCJcIlwiXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJib3gtaGVhZGVyICB3aXRoLWJvcmRlciBpbnN0YW5jZS1oZWFkZXJcIj5cblx0XHRcdFx0XHQ8ZGl2PlxuXHRcdFx0XHRcdFx0I3tmb3JtRGVzY3JpcHRpb259XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcIlwiXCJcblxuXHRodG1sID0gXCJcIlwiXG5cdFx0PCFET0NUWVBFIGh0bWw+XG5cdFx0PGh0bWw+XG5cdFx0XHQ8aGVhZD5cblx0XHRcdFx0PG1ldGEgaHR0cC1lcXVpdj1cIkNvbnRlbnQtVHlwZVwiIGNvbnRlbnQ9XCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcIi8+XG5cdFx0XHRcdCN7YWxsQ3NzTGlua31cblx0XHRcdFx0PHNjcmlwdCBzcmM9XCJodHRwczovL3d3dy5zdGVlZG9zLmNvbS93ZWJzaXRlL2xpYnMvanF1ZXJ5Lm1pbi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cblx0XHRcdFx0PHNjcmlwdCBzcmM9XCIvanMvbndfY29yZS5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cblx0XHRcdFx0I3tvcHRpb25zLnBsdWdpbnMgfHwgXCJcIn1cblxuXHRcdFx0XHQ8c3R5bGU+XG5cdFx0XHRcdFx0LnN0ZWVkb3N7XG5cdFx0XHRcdFx0XHR3aWR0aDogI3t3aWR0aH07XG5cdFx0XHRcdFx0XHRtYXJnaW4tbGVmdDogYXV0bztcblx0XHRcdFx0XHRcdG1hcmdpbi1yaWdodDogYXV0bztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtbmFtZXtcblx0XHRcdFx0XHRcdGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC5ib3gtdG9vbHN7XG5cdFx0XHRcdFx0XHRkaXNwbGF5OiBub25lO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1ib2R5LC5ib3guY29sbGFwc2VkLWJveCAuYm94LWZvb3RlciB7XG5cdFx0XHRcdFx0ICBkaXNwbGF5OiBibG9jaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRib2R5e1xuXHRcdFx0XHRcdFx0YmFja2dyb3VuZDogYXp1cmUgIWltcG9ydGFudDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtdHJhY2Vze1xuXHRcdFx0XHRcdFx0cGFkZGluZy1sZWZ0OiAxNXB4O1xuXHRcdFx0XHRcdFx0cGFkZGluZy1yaWdodDogMTVweDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQje29wdGlvbnM/LnN0eWxlcyB8fCBcIlwifVxuXHRcdFx0XHQ8L3N0eWxlPlxuXHRcdFx0PC9oZWFkPlxuXHRcdFx0PGJvZHk+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGVlZG9zIHdvcmtmbG93IGluc3RhbmNlLXByaW50XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInNraW4tZ3JlZW4gc2tpbi1hZG1pbi1sdGVcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ3cmFwcGVyXCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50LXdyYXBwZXJcIj5cblx0XHRcdFx0XHRcdFx0XHQje3Nob3dUcmFjZXNCdG59XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLXByaW50XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UgI3tpbnN0YW5jZV9zdHlsZX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGZvcm0gbmFtZT1cImluc3RhbmNlRm9ybVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZS1mb3JtIGJveCAje2luc3RhbmNlQm94U3R5bGV9XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje2Zvcm1EZXNjcmlwdGlvbkh0bWx9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94LWJvZHlcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2F0dGFjaG1lbnRzLXNlY3Rpb24nPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3thdHRhY2htZW50fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tyZWxhdGVkX2luc3RhbmNlc31cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7cmVsYXRlZF9yZWNvcmRzfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7Ym9keX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9mb3JtPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQje3RyYWNlfVxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2JvZHk+XG5cdFx0XHQ8c2NyaXB0PiN7b3BlbkZpbGVTY3JpcHR9OyN7b25Mb2FkU2NyaXB0fTsje3Nob3dUcmFjZXNTY3JpcHR9PC9zY3JpcHQ+XG5cdFx0PC9odG1sPlxuXHRcIlwiXCJcblxuXHRyZXR1cm4gaHRtbCIsInZhciBfZ2V0TG9jYWxlLCBfZ2V0UmVxdWlyZWRGaWVsZHMsIF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcywgX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzLCBfZ2V0VGVtcGxhdGVEYXRhLCBfZ2V0Vmlld0h0bWwsIGdldExpbmtUZXh0OyAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSA9IHt9O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiPHRyPlxcblx0PHRkIGNsYXNzPVxcXCJpbnMtYXR0YWNoLXZpZXdcXFwiPlxcblx0XHQ8YSBocmVmPVxcXCJ7e2luc19hdHRhY2hfZG93bmxvYWRfdXJsIF9pZCBhYnNvbHV0ZX19XFxcIiBjbGFzcz1cXFwiaW5zX2F0dGFjaF9ocmVmXFxcIiB0YXJnZXQ9XFxcIl9wYXJlbnRcXFwiIGRhdGEtbmFtZT1cXFwie3t0aGlzLm5hbWV9fVxcXCIgZGF0YS10eXBlPVxcXCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XFxcIiBkYXRhLWlkPVxcXCJ7e19pZH19XFxcIj57e3RoaXMubmFtZX19PC9hPlxcblx0PC90ZD5cXG48L3RyPlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZTZWxlY3RVc2VyUmVhZCA9IFwiPGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cFJlYWQgPSBcIjxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxcblx0e3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxcblx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdHt7ZWxzZX19XFxuXHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3RhYmxlJ319XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcXFwiPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIiBzdHlsZT1cXFwicGFkZGluZzowcHg7XFxcIj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIiA+XFxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9J2NvbnRyb2wtbGFiZWwnPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVxcXCJkZXNjcmlwdGlvblxcXCI+e3t7ZGVzY3JpcHRpb259fX08L3NwYW4+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicmVhZG9ubHktdGFibGVcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXFxcIiBzdHlsZT0nbWFyZ2luLWJvdHRvbTowcHg7JyB7e3RoaXMuYXR0c319IGlkPVxcXCJ7e3RoaXMuY29kZX19VGFibGVcXFwiIG5hbWU9XFxcInt7dGhpcy5jb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3t0aGlzLm5hbWV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVxcXCJ7e3RoaXMubmFtZX19VGhlYWRcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZVRoZWFkIHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxcblx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cXFwie3t0aGlzLm5hbWV9fVRib2R5XFxcIiBuYW1lPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5Plxcblx0XHRcdFx0XHRcdFx0XHQ8L3RhYmxlPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxcblx0XHRcdFx0XHQ8bGFiZWw+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cXG5cdFx0XHR7ey9pZn19XFxuXHRcdHt7L2lmfX1cXG5cdHt7L3dpdGh9fVxcbjwvZGl2PlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlxcbnt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cXG5cdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlY3Rpb24nfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxcblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxcblx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cXG5cdFx0XHRcdDwvZGl2PlxcbiAgXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtcXFwiPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiID5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJyZWFkb25seS10YWJsZVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcXFwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XFxcInt7dGhpcy5jb2RlfX1UYWJsZVxcXCIgbmFtZT1cXFwie3t0aGlzLmNvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e3RoaXMubmFtZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XFxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdpbnB1dCd9fVxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBkYXRhLXJlcXVpcmVkPVxcXCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cXFwiPlxcblx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbnVtYmVyJ319XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJudW1iZXJcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlJ319XFxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXR5cGU9XFxcImRhdGVcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlVGltZSd9fVxcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS10eXBlPSdkYXRldGltZScgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3Bhc3N3b3JkJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJwYXNzd29yZFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlbGVjdCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c2VsZWN0IG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8b3B0aW9uIHZhbHVlPVxcXCJ7e3ZhbHVlfX1cXFwiPnt7bGFiZWx9fTwvb3B0aW9uPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NlbGVjdD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAncmFkaW8nfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiYWYtcmFkaW8tZ3JvdXBcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxcbiAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJyYWRpby1pbmxpbmUgZml4LWluZGVudFxcXCI+PGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiB2YWx1ZT1cXFwie3t2YWx1ZX19XFxcIiBuYW1lPVxcXCJ7ey4uL2NvZGV9fVxcXCIgY2xhc3M9XFxcInJhZGlvLWlubGluZSBmaXgtaW5kZW50XFxcIj4ge3tsYWJlbH19PC9sYWJlbD5cXG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cXG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ211bHRpU2VsZWN0J319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImFmLWNoZWNrYm94LWdyb3VwXFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIHZhbHVlPVxcXCJ7e3ZhbHVlfX1cXFwiIG5hbWU9XFxcInt7Li4vY29kZX19XFxcIiBjbGFzcz1cXFwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcXFwiPiB7e2xhYmVsfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd1cmwnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInVybFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2VtYWlsJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJlbWFpbFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2NoZWNrYm94J319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImNoZWNrYm94XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTtcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgdmFsdWU9XFxcInRydWVcXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBjbGFzcz1cXFwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcXFwiPjwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdHt7L2lmfX1cXG5cdFx0e3svaWZ9fVxcblx0e3svd2l0aH19XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUgPSBmdW5jdGlvbih0ZW1wYWx0ZU5hbWUsIHN0ZWVkb3NEYXRhKSB7XG4gIHZhciB0ZW1wbGF0ZSwgdGVtcGxhdGVDb21waWxlZCwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbjtcbiAgdGVtcGxhdGUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGVbdGVtcGFsdGVOYW1lXTtcbiAgdGVtcGxhdGVDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRlbXBsYXRlQ29tcGlsZWQpO1xuICBUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdID0gbmV3IEJsYXplLlRlbXBsYXRlKHRlbXBhbHRlTmFtZSwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uaGVscGVycyhJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0ID0gZnVuY3Rpb24oc3RlZWRvc0RhdGEpIHtcbiAgdmFyIGluc3RhbmNlU2lnblRleHRDb21waWxlZCwgaW5zdGFuY2VTaWduVGV4dEh0bWwsIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbjtcbiAgaW5zdGFuY2VTaWduVGV4dEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9zaWduX3RleHQuaHRtbCcpO1xuICBpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlU2lnblRleHRIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlU2lnblRleHRDb21waWxlZCk7XG4gIFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZVNpZ25UZXh0XCIsIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuaGVscGVycyhJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbiA9IGZ1bmN0aW9uKHN0ZWVkb3NEYXRhKSB7XG4gIHZhciBpbWFnZVNpZ25Db21waWxlZCwgaW1hZ2VTaWduSHRtbCwgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb247XG4gIGltYWdlU2lnbkh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbWFnZV9zaWduLmh0bWwnKTtcbiAgaW1hZ2VTaWduQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGltYWdlU2lnbkh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uID0gZXZhbChpbWFnZVNpZ25Db21waWxlZCk7XG4gIFRlbXBsYXRlLmltYWdlU2lnbiA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImltYWdlU2lnblwiLCBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmltYWdlU2lnbi5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGUuaW1hZ2VTaWduLmhlbHBlcnMoSW1hZ2VTaWduLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQgPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZTZWxlY3RVc2VyUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBcIiwgc3RlZWRvc0RhdGEpO1xuICB9XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFJlYWRcIiwgc3RlZWRvc0RhdGEpO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImluc3RhbmNlX2F0dGFjaG1lbnRcIiwge1xuICAgICAgYWJzb2x1dGU6IHN0ZWVkb3NEYXRhLmFic29sdXRlXG4gICAgfSk7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbihzdGVlZG9zRGF0YSk7XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0KHN0ZWVkb3NEYXRhKTtcbiAgfVxufTtcblxuZ2V0TGlua1RleHQgPSBmdW5jdGlvbihpdGVtLCBsYWJlbCwgZGV0YWlsX3VybCkge1xuICBpZiAoZGV0YWlsX3VybCkge1xuICAgIGRldGFpbF91cmwgPSBkZXRhaWxfdXJsLnJlcGxhY2UoXCJ7X2lkfVwiLCBpdGVtLl9pZCk7XG4gICAgaWYgKCEvXmh0dHAocz8pOlxcL1xcLy8udGVzdChkZXRhaWxfdXJsKSkge1xuICAgICAgZGV0YWlsX3VybCA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoZGV0YWlsX3VybCk7XG4gICAgfVxuICAgIHJldHVybiAnPGEgaHJlZj1cIicgKyBkZXRhaWxfdXJsICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPicgKyBsYWJlbCArICc8L2E+JztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGFiZWw7XG4gIH1cbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCBmaWVsZCwgbG9jYWxlLCB1dGNPZmZzZXQpIHtcbiAgdmFyIGRhdGUsIGRldGFpbF91cmwsIGUsIGhvdXJzLCBtb250aCwgc2Vjb25kcywgdCwgdDAsIHQxLCB5ZWFyO1xuICBpZiAoIXZhbHVlICYmIHZhbHVlICE9PSBmYWxzZSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICBjYXNlICdlbWFpbCc6XG4gICAgICB2YWx1ZSA9IHZhbHVlID8gJzxhIGhyZWY9XFwnbWFpbHRvOicgKyB2YWx1ZSArICdcXCc+JyArIHZhbHVlICsgJzwvYT4nIDogJyc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd1cmwnOlxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKFwiaHR0cFwiKSA9PT0gMCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWx1ZSA9IFwiPGEgaHJlZj0nXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICAgIHZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdncm91cCc6XG4gICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKS50b1N0cmluZygpIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZnVsbG5hbWUgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICd1c2VyJzpcbiAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKSA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLm5hbWUgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdwYXNzd29yZCc6XG4gICAgICB2YWx1ZSA9ICcqKioqKionO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgaWYgKHZhbHVlICYmIHZhbHVlICE9PSAnZmFsc2UnKSB7XG4gICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiLCB7fSwgbG9jYWxlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2RhdGVUaW1lJzpcbiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPT09IDE2KSB7XG4gICAgICAgIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XG4gICAgICAgIHQwID0gdFswXS5zcGxpdChcIi1cIik7XG4gICAgICAgIHQxID0gdFsxXS5zcGxpdChcIjpcIik7XG4gICAgICAgIHllYXIgPSB0MFswXTtcbiAgICAgICAgbW9udGggPSB0MFsxXTtcbiAgICAgICAgZGF0ZSA9IHQwWzJdO1xuICAgICAgICBob3VycyA9IHQxWzBdO1xuICAgICAgICBzZWNvbmRzID0gdDFbMV07XG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUodmFsdWUsIHV0Y09mZnNldCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICBpZiAoZmllbGQuaXNfdGV4dGFyZWEpIHtcbiAgICAgICAgdmFsdWUgPSBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bih2YWx1ZSkpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PT0gMCkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0ZpeGVkKGZpZWxkLmRpZ2l0cyk7XG4gICAgICAgIHZhbHVlID0gU3RlZWRvcy5udW1iZXJUb1N0cmluZyh2YWx1ZSwgbG9jYWxlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ29kYXRhJzpcbiAgICAgIGRldGFpbF91cmwgPSBmaWVsZC5kZXRhaWxfdXJsO1xuICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgIHZhbHVlID0gXy5tYXAodmFsdWUsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gZ2V0TGlua1RleHQoaXRlbSwgaXRlbVsnQGxhYmVsJ10sIGRldGFpbF91cmwpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZ2V0TGlua1RleHQodmFsdWUsIHZhbHVlWydAbGFiZWwnXSwgZGV0YWlsX3VybCk7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsID0gZnVuY3Rpb24oZmllbGRzLCBjb2RlKSB7XG4gIHZhciBmaWVsZDtcbiAgZmllbGQgPSBmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSk7XG4gIGlmIChmaWVsZCkge1xuICAgIGlmIChmaWVsZC5uYW1lKSB7XG4gICAgICByZXR1cm4gZmllbGQubmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpZWxkLmNvZGU7XG4gICAgfVxuICB9XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbiA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIHZhciBmb3JtLCBmb3JtX2ZpZWxkcywgZm9ybV92ZXJzaW9uO1xuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgZm9ybV92ZXJzaW9uID0ge307XG4gIGZvcm1fZmllbGRzID0gW107XG4gIGlmIChmb3JtLmN1cnJlbnQuX2lkID09PSBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnQ7XG4gIH0gZWxzZSB7XG4gICAgZm9ybV92ZXJzaW9uID0gXy53aGVyZShmb3JtLmhpc3RvcnlzLCB7XG4gICAgICBfaWQ6IGluc3RhbmNlLmZvcm1fdmVyc2lvblxuICAgIH0pWzBdO1xuICB9XG4gIGZvcm1fdmVyc2lvbi5maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xuICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgaWYgKGZpZWxkLmZpZWxkcykge1xuICAgICAgICByZXR1cm4gZmllbGQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgICAgIHJldHVybiBmb3JtX2ZpZWxkcy5wdXNoKGYpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgIGZpZWxkWydzZmllbGRzJ10gPSBmaWVsZFsnZmllbGRzJ107XG4gICAgICBkZWxldGUgZmllbGRbJ2ZpZWxkcyddO1xuICAgICAgcmV0dXJuIGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgfVxuICB9KTtcbiAgZm9ybV92ZXJzaW9uLmZpZWxkcyA9IGZvcm1fZmllbGRzO1xuICByZXR1cm4gZm9ybV92ZXJzaW9uO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEZsb3dWZXJzaW9uID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZsb3csIGZsb3dfdmVyc2lvbjtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XG4gIGZsb3dfdmVyc2lvbiA9IHt9O1xuICBpZiAoZmxvdy5jdXJyZW50Ll9pZCA9PT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uKSB7XG4gICAgZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xuICB9IGVsc2Uge1xuICAgIGZsb3dfdmVyc2lvbiA9IF8ud2hlcmUoZmxvdy5oaXN0b3J5cywge1xuICAgICAgX2lkOiBpbnN0YW5jZS5mbG93X3ZlcnNpb25cbiAgICB9KVswXTtcbiAgfVxuICByZXR1cm4gZmxvd192ZXJzaW9uO1xufTtcblxuX2dldFZpZXdIdG1sID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgdmlld0h0bWw7XG4gIHZpZXdIdG1sID0gQXNzZXRzLmdldFRleHQocGF0aCk7XG4gIGlmICh2aWV3SHRtbCkge1xuICAgIHZpZXdIdG1sID0gdmlld0h0bWwucmVwbGFjZSgvPHRlbXBsYXRlW1xcd1xcc1xcXCJcXD0nXSs+L2ksIFwiXCIpLnJlcGxhY2UoLzxcXC90ZW1wbGF0ZT4vaSwgXCJcIik7XG4gIH1cbiAgcmV0dXJuIHZpZXdIdG1sO1xufTtcblxuX2dldExvY2FsZSA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgdmFyIGxvY2FsZSwgcmVmLCByZWYxO1xuICBpZiAoKHVzZXIgIT0gbnVsbCA/IChyZWYgPSB1c2VyLmxvY2FsZSkgIT0gbnVsbCA/IHJlZi50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwIDogdm9pZCAwKSA9PT0gJ3poLWNuJykge1xuICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgfSBlbHNlIGlmICgodXNlciAhPSBudWxsID8gKHJlZjEgPSB1c2VyLmxvY2FsZSkgIT0gbnVsbCA/IHJlZjEudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCA6IHZvaWQgMCkgPT09ICdlbi11cycpIHtcbiAgICBsb2NhbGUgPSBcImVuXCI7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICB9XG4gIHJldHVybiBsb2NhbGU7XG59O1xuXG5fZ2V0UmVxdWlyZWRGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMsIHJldikge1xuICBpZiAoIXJldikge1xuICAgIHJldiA9IFtdO1xuICB9XG4gIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgcmV0dXJuIF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZC5maWVsZHMsIHJldik7XG4gICAgfSBlbHNlIGlmIChmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGZpZWxkLmlzX3JlcXVpcmVkKSB7XG4gICAgICAgIHJldHVybiByZXYucHVzaChmaWVsZC5jb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmV2O1xufTtcblxuX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gZnVuY3Rpb24oZmllbGRzLCBzdGVwcykge1xuICB2YXIgZWRpdGFibGVDb2RlLCBzdGFydFN0ZXA7XG4gIHN0YXJ0U3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwX3R5cGVcIiwgXCJzdGFydFwiKTtcbiAgZWRpdGFibGVDb2RlID0gW107XG4gIF8ua2V5cyhzdGFydFN0ZXAucGVybWlzc2lvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKHN0YXJ0U3RlcC5wZXJtaXNzaW9uc1trZXldID09PSAnZWRpdGFibGUnKSB7XG4gICAgICByZXR1cm4gZWRpdGFibGVDb2RlLnB1c2goa2V5KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZWRpdGFibGVDb2RlO1xufTtcblxuX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzID0gZnVuY3Rpb24oZmllbGRzLCBzdGVwcykge1xuICB2YXIgZWRpdGFibGVDb2RlLCByZXF1aXJlZEZpZWxkcztcbiAgcmVxdWlyZWRGaWVsZHMgPSBfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGRzKTtcbiAgZWRpdGFibGVDb2RlID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZpZWxkcywgc3RlcHMpO1xuICByZXR1cm4gXy5pbnRlcnNlY3Rpb24ocmVxdWlyZWRGaWVsZHMsIGVkaXRhYmxlQ29kZSk7XG59O1xuXG5fZ2V0VGVtcGxhdGVEYXRhID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBmbG93LCBmb3JtLCBmb3JtX3ZlcnNpb24sIGxvY2FsZSwgc3RlZWRvc0RhdGE7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpO1xuICB9XG4gIGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcik7XG4gIHN0ZWVkb3NEYXRhID0ge307XG4gIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICBzdGVlZG9zRGF0YSA9IF8uY2xvbmUoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpKTtcbiAgICBzdGVlZG9zRGF0YS5pbnNuYW1lID0gaW5zdGFuY2UubmFtZTtcbiAgICBzdGVlZG9zRGF0YS5pbnNfc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcbiAgICBzdGVlZG9zRGF0YS5pbnNfZmluYWxfZGVjaXNpb24gPSBpbnN0YW5jZS5pbnNfZmluYWxfZGVjaXNpb247XG4gICAgc3RlZWRvc0RhdGEuaW5zX2NvZGUgPSBpbnN0YW5jZS5jb2RlO1xuICAgIHN0ZWVkb3NEYXRhLmluc19pc19hcmNoaXZlZCA9IGluc3RhbmNlLmlzX2FyY2hpdmVkO1xuICAgIHN0ZWVkb3NEYXRhLmluc19pc19kZWxldGVkID0gaW5zdGFuY2UuaW5zX2lzX2RlbGV0ZWQ7XG4gICAgc3RlZWRvc0RhdGEuYXBwbGljYW50X25hbWUgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZTtcbiAgICBzdGVlZG9zRGF0YS5hcHBsaWNhbnRDb250ZXh0ID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWU7XG4gIH1cbiAgc3RlZWRvc0RhdGEuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uID0gZm9ybV92ZXJzaW9uO1xuICBzdGVlZG9zRGF0YS5sb2NhbGUgPSBsb2NhbGU7XG4gIHN0ZWVkb3NEYXRhLnV0Y09mZnNldCA9IHVzZXIudXRjT2Zmc2V0O1xuICBzdGVlZG9zRGF0YS5zcGFjZSA9IGluc3RhbmNlLnNwYWNlO1xuICBzdGVlZG9zRGF0YS5zZXNzaW9uVXNlcklkID0gdXNlci5faWQ7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5lZGl0YWJsZSA6IHZvaWQgMCkge1xuICAgICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlLmZvcm1cbiAgICAgIH0pO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlLmZsb3dcbiAgICAgIH0pO1xuICAgICAgc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZm9ybS5jdXJyZW50LmZpZWxkcywgZmxvdy5jdXJyZW50LnN0ZXBzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0ZWVkb3NEYXRhO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlLCB1dGNPZmZzZXQpIHtcbiAgdmFyIHBhc3Npbmc7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBwYXNzaW5nID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcGFzc2luZyA9IHRydWU7XG4gIH1cbiAgaWYgKCF1dGNPZmZzZXQgJiYgdXRjT2Zmc2V0ICE9PSAwKSB7XG4gICAgdXRjT2Zmc2V0ID0gODtcbiAgfVxuICByZXR1cm4gbW9tZW50KGRhdGUpLnV0Y09mZnNldCh1dGNPZmZzZXQsIHBhc3NpbmcpLmZvcm1hdChcIllZWVktTU0tREQgSEg6bW1cIik7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCBpbnN0YW5jZUNvbXBpbGVkLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uLCBpbnN0YW5jZVRlbXBsYXRlLCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmFic29sdXRlIDogdm9pZCAwKSB7XG4gICAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuICB9XG4gIGluc3RhbmNlVGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UsIG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGVtcGxhdGVOYW1lIDogdm9pZCAwKTtcbiAgaW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZTZWxlY3RVc2VyL2csIFwiYWZTZWxlY3RVc2VyUmVhZFwiKTtcbiAgaWYgKCEob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5lZGl0YWJsZSA6IHZvaWQgMCkpIHtcbiAgICBpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZkZvcm1Hcm91cC9nLCBcImFmRm9ybUdyb3VwUmVhZFwiKTtcbiAgfVxuICBpbnN0YW5jZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVRlbXBsYXRlLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZUNvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlX3JlYWRvbmx5X3ZpZXdcIiwgaW5zdGFuY2VSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xuICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdChzdGVlZG9zRGF0YSk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LCBzdGVlZG9zRGF0YSk7XG4gIHJldHVybiBcIjxkaXYgaWQ9J2luc3RhbmNlZm9ybScgPlxcblx0XCIgKyBib2R5ICsgXCJcXG48L2Rpdj5cIjtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCBmb3JtLCBzdGVlZG9zRGF0YSwgdHJhY2VDb21waWxlZCwgdHJhY2VSZW5kZXJGdW5jdGlvbiwgdHJhY2VzSHRtbDtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICBpZiAoZm9ybS5pbnN0YW5jZV9zdHlsZSA9PT0gXCJ0YWJsZVwiIHx8IChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRlbXBsYXRlTmFtZSA6IHZvaWQgMCkgPT09IFwidGFibGVcIikge1xuICAgIHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfdGFibGUuaHRtbCcpO1xuICB9IGVsc2Uge1xuICAgIHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXMuaHRtbCcpO1xuICB9XG4gIHRyYWNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRyYWNlc0h0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHRyYWNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRyYWNlQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwidHJhY2VfcmVhZG9ubHlfdmlld1wiLCB0cmFjZVJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LmhlbHBlcnMoVHJhY2VzVGVtcGxhdGUuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LCBpbnN0YW5jZS50cmFjZXMpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50VmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSkge1xuICB2YXIgYXR0YWNobWVudENvbXBpbGVkLCBhdHRhY2htZW50SHRtbCwgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uLCBib2R5LCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIGF0dGFjaG1lbnRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2VfYXR0YWNobWVudHMuaHRtbCcpO1xuICBhdHRhY2htZW50Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGF0dGFjaG1lbnRIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24gPSBldmFsKGF0dGFjaG1lbnRDb21waWxlZCk7XG4gIFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJhdHRhY2htZW50c19yZWFkb25seV92aWV3XCIsIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5oZWxwZXJzKEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCByZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQsIHJlbGF0ZWRJbnN0YW5jZXNIdG1sLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24sIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuYWJzb2x1dGUgOiB2b2lkIDApIHtcbiAgICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG4gIH1cbiAgcmVsYXRlZEluc3RhbmNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX2luc3RhbmNlcy5odG1sJyk7XG4gIHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZEluc3RhbmNlc0h0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXdcIiwgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LmhlbHBlcnMoUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcsIHN0ZWVkb3NEYXRhKTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZFJlY29yZHNWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCByZWxhdGVkUmVjb3Jkc0NvbXBpbGVkLCByZWxhdGVkUmVjb3Jkc0h0bWwsIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24sIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuYWJzb2x1dGUgOiB2b2lkIDApIHtcbiAgICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG4gIH1cbiAgcmVsYXRlZFJlY29yZHNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9yZWNvcmRzLmh0bWwnKTtcbiAgcmVsYXRlZFJlY29yZHNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZFJlY29yZHNIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX3JlY29yZHNfdmlld1wiLCByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuaGVscGVycyhSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LCBzdGVlZG9zRGF0YSk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdCA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIHZhciBmb3JtX3NjcmlwdCwgZm9ybV92ZXJzaW9uO1xuICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcbiAgZm9ybV9zY3JpcHQgPSBmb3JtX3ZlcnNpb24uZm9ybV9zY3JpcHQ7XG4gIGlmIChmb3JtX3NjcmlwdCAmJiBmb3JtX3NjcmlwdC5yZXBsYWNlKC9cXG4vZywgXCJcIikucmVwbGFjZSgvXFxzL2csIFwiXCIpLmxlbmd0aCA+IDApIHtcbiAgICBmb3JtX3NjcmlwdCA9IFwiQ29yZUZvcm0gPSB7fTtDb3JlRm9ybS5pbnN0YW5jZWZvcm0gPSB7fTtcIiArIGZvcm1fc2NyaXB0O1xuICAgIHJldHVybiBmb3JtX3NjcmlwdCArPSBcIjtpZihDb3JlRm9ybS5mb3JtX09uTG9hZCl7d2luZG93Lm9ubG9hZCA9IENvcmVGb3JtLmZvcm1fT25Mb2FkKCk7fVwiO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmb3JtX3NjcmlwdCA9IFwiXCI7XG4gIH1cbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGFic29sdXRlVXJsLCBhbGxDc3NMaW5rLCBhdHRhY2htZW50LCBib2R5LCBjcmVhdG9yU2VydmljZSwgY3NzSHJlZiwgZm9ybSwgZm9ybURlc2NyaXB0aW9uLCBmb3JtRGVzY3JpcHRpb25IdG1sLCBodG1sLCBpbnNfcmVjb3JkX2lkcywgaW5zdGFuY2VCb3hTdHlsZSwgaW5zdGFuY2Vfc3R5bGUsIG9uTG9hZFNjcmlwdCwgb3BlbkZpbGVTY3JpcHQsIHJlZiwgcmVmMSwgcmVsYXRlZF9pbnN0YW5jZXMsIHJlbGF0ZWRfcmVjb3Jkcywgc2hvd1RyYWNlc0J0biwgc2hvd1RyYWNlc1NjcmlwdCwgdHJhY2UsIHRyYWNlQ2hlY2ssIHdpZHRoO1xuICBib2R5ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBvbkxvYWRTY3JpcHQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0KGluc3RhbmNlKTtcbiAgY3JlYXRvclNlcnZpY2UgPSAocmVmID0gTWV0ZW9yLnNldHRpbmdzW1wicHVibGljXCJdLndlYnNlcnZpY2VzKSAhPSBudWxsID8gKHJlZjEgPSByZWYuY3JlYXRvcikgIT0gbnVsbCA/IHJlZjEudXJsIDogdm9pZCAwIDogdm9pZCAwO1xuICBpbnNfcmVjb3JkX2lkcyA9IGluc3RhbmNlLnJlY29yZF9pZHM7XG4gIG9wZW5GaWxlU2NyaXB0ID0gXCJpZih3aW5kb3cuaXNOb2RlICYmIGlzTm9kZSgpKXtcXG5cdGF0dGFjaHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxcXCJpbnNfYXR0YWNoX2hyZWZcXFwiKTtcXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBhdHRhY2hzLmxlbmd0aDsgaSsrKXtcXG5cdFx0YXR0YWNoID0gYXR0YWNoc1tpXTtcXG5cdFx0YXR0YWNoLmFkZEV2ZW50TGlzdGVuZXIoXFxcImNsaWNrXFxcIiwgZnVuY3Rpb24oZSl7XFxuXHRcdFx0aWYoaXNJbWFnZSh0aGlzLmRhdGFzZXQudHlwZSkgfHwgaXNIdG1sKHRoaXMuZGF0YXNldC50eXBlKSl7XFxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XFxuXHRcdFx0XHRvcGVuV2luZG93KFxcXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy9cXFwiICsgdGhpcy5kYXRhc2V0LmlkKTtcXG5cdFx0XHR9ZWxzZSBpZihud19jb3JlLmNhbk9wZW5GaWxlKHRoaXMuZGF0YXNldC5uYW1lKSl7XFxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XFxuXHRcdFx0XHRud19jb3JlLm9wZW5GaWxlKHRoaXMuaHJlZiwgdGhpcy5kYXRhc2V0Lm5hbWUpXFxuXHRcdFx0fVxcblx0XHR9KTtcXG5cdH1cXG59XFxuXFxudmFyIGZsb3cgPSBcXFwiXCIgKyBpbnN0YW5jZS5mbG93ICsgXCJcXFwiO1xcbnZhciBzcGFjZSA9IFxcXCJcIiArIGluc3RhbmNlLnNwYWNlICsgXCJcXFwiO1xcblxcbmZ1bmN0aW9uIGdldENvb2tpZShuYW1lKXtcXG5cdGxldCBwYXR0ZXJuID0gUmVnRXhwKG5hbWUgKyBcXFwiPS5bXjtdKlxcXCIpXFxuXHRsZXQgbWF0Y2hlZCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChwYXR0ZXJuKVxcblx0aWYobWF0Y2hlZCl7XFxuXHRcdGxldCBjb29raWUgPSBtYXRjaGVkWzBdLnNwbGl0KCc9JylcXG5cdFx0cmV0dXJuIGNvb2tpZVsxXVxcblx0fVxcblx0cmV0dXJuICcnXFxufVxcblxcbnZhciByZWNvcmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcXFwiaW5zLXJlbGF0ZWQtcmVjb3Jkc1xcXCIpO1xcbmZvcih2YXIgaSA9IDA7IGkgPCByZWNvcmRzLmxlbmd0aDsgaSsrKXtcXG5cdFx0dmFyIHJlY29yZCA9IHJlY29yZHNbaV07XFxuXHRcdHJlY29yZC5hZGRFdmVudExpc3RlbmVyKFxcXCJjbGlja1xcXCIsIGZ1bmN0aW9uKGUpe1xcblx0XHRcdHZhciBjcmVhdG9yU2VydmljZSA9IFxcXCJcIiArIGNyZWF0b3JTZXJ2aWNlICsgXCJcXFwiXFxuXHRcdFx0dmFyIGluc19yZWNvcmRfaWRzID0gXCIgKyAoSlNPTi5zdHJpbmdpZnkoaW5zX3JlY29yZF9pZHMpKSArIFwiXFxuXHRcdFx0aWYoY3JlYXRvclNlcnZpY2UgJiYgaW5zX3JlY29yZF9pZHMgJiYgaW5zX3JlY29yZF9pZHMubGVuZ3RoID4gMCl7XFxuXHRcdFx0XHR2YXIgb2JqY2V0TmFtZSA9IGluc19yZWNvcmRfaWRzWzBdLm9cXG5cdFx0XHRcdHZhciBpZCA9IGluc19yZWNvcmRfaWRzWzBdLmlkc1swXVxcblx0XHRcdFx0dmFyIHVvYmogPSB7fTtcXG5cdFx0XHRcdHVvYmpbXFxcIlgtVXNlci1JZFxcXCJdID0gZ2V0Q29va2llKFxcXCJYLVVzZXItSWRcXFwiKTtcXG5cdFx0XHRcdHVvYmpbXFxcIlgtQXV0aC1Ub2tlblxcXCJdID0gZ2V0Q29va2llKFxcXCJYLUF1dGgtVG9rZW5cXFwiKTtcXG5cdFx0XHRcdHJlZGlyZWN0VXJsID0gY3JlYXRvclNlcnZpY2UgKyBcXFwiYXBwLy0vXFxcIiArIG9iamNldE5hbWUgKyBcXFwiL3ZpZXcvXFxcIiArIGlkICsgXFxcIj9cXFwiICsgJC5wYXJhbSh1b2JqKTtcXG5cdFx0XHRcdG9wZW5XaW5kb3cocmVkaXJlY3RVcmwpO1xcblx0XHRcdH1cXG5cdFx0fSk7XFxuXHR9XFxuXCI7XG4gIGlmICghU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gICAgaWYgKChmb3JtICE9IG51bGwgPyBmb3JtLmluc3RhbmNlX3N0eWxlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJykge1xuICAgICAgaW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCI7XG4gICAgfVxuICB9XG4gIGlmICgob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgaW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCI7XG4gIH1cbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGUgOiB2b2lkIDApIHtcbiAgICBpbnN0YW5jZV9zdHlsZSA9IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGU7XG4gIH1cbiAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd1RyYWNlID09PSB0cnVlKSB7XG4gICAgdHJhY2UgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIHRyYWNlID0gXCJcIjtcbiAgfVxuICBpbnN0YW5jZUJveFN0eWxlID0gXCJcIjtcbiAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uKSB7XG4gICAgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgIGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1zdWNjZXNzXCI7XG4gICAgfSBlbHNlIGlmIChpbnN0YW5jZS5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICBpbnN0YW5jZUJveFN0eWxlID0gXCJib3gtZGFuZ2VyXCI7XG4gICAgfVxuICB9XG4gIGlmICghb3B0aW9ucyB8fCBvcHRpb25zLnNob3dBdHRhY2htZW50cyA9PT0gdHJ1ZSkge1xuICAgIGF0dGFjaG1lbnQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgICByZWxhdGVkX2luc3RhbmNlcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICAgIHJlbGF0ZWRfcmVjb3JkcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBhdHRhY2htZW50ID0gXCJcIjtcbiAgICByZWxhdGVkX2luc3RhbmNlcyA9IFwiXCI7XG4gICAgcmVsYXRlZF9yZWNvcmRzID0gXCJcIjtcbiAgfVxuICBhYnNvbHV0ZVVybCA9IE1ldGVvci5hYnNvbHV0ZVVybCgpO1xuICB3aWR0aCA9IFwiOTYwcHhcIjtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMud2lkdGggOiB2b2lkIDApIHtcbiAgICB3aWR0aCA9IFwiXCI7XG4gIH1cbiAgY3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcInN0ZWVkb3MtY3NzXCIpO1xuICBhbGxDc3NMaW5rID0gXCI8bGluayByZWw9XFxcInN0eWxlc2hlZXRcXFwiIHR5cGU9XFxcInRleHQvY3NzXFxcIiBjbGFzcz1cXFwiX19tZXRlb3ItY3NzX19cXFwiIGhyZWY9XFxcIlwiICsgY3NzSHJlZiArIFwiXFxcIj5cIjtcbiAgdHJhY2VDaGVjayA9IFwiXCI7XG4gIGlmICghXy5pc0VtcHR5KHRyYWNlKSkge1xuICAgIHRyYWNlQ2hlY2sgPSBcImNoZWNrZWRcIjtcbiAgfVxuICBpZiAoKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGFnZ2VyIDogdm9pZCAwKSA9PT0gJ2VtYWlsJykge1xuICAgIHNob3dUcmFjZXNCdG4gPSBcIlwiO1xuICB9IGVsc2Uge1xuICAgIHNob3dUcmFjZXNCdG4gPSBcIjxkaXYgY2xhc3M9XFxcIm5hdmlnYXRpb24tYmFyIGJ0bi1ncm91cCBuby1wcmludFxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDogNjAwcHg7IHotaW5kZXg6IDk5OVxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJwcmludC10b29sXFxcIj5cXG5cdFx0PGxhYmVsIGNsYXNzPVxcXCJjYngtbGFiZWxcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcImNieC1wcmludCBjYngtcHJpbnQtYXR0YWNobWVudHNcXFwiIGlkPVxcXCJjYngtcHJpbnQtYXR0YWNobWVudHNcXFwiIGNoZWNrZWQ9XFxcImNoZWNrZWRcXFwiPjxzcGFuPumZhOS7tjwvc3Bhbj48L2xhYmVsPlxcblx0XHQ8bGFiZWwgY2xhc3M9XFxcImNieC1sYWJlbFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiY2J4LXByaW50IGNieC1wcmludC10cmFjZXNcXFwiIGlkPVxcXCJjYngtcHJpbnQtdHJhY2VzXFxcIiBjaGVja2VkPVxcXCJcIiArIHRyYWNlQ2hlY2sgKyBcIlxcXCI+PHNwYW4+XCIgKyAodCgnaW5zdGFuY2VfYXBwcm92YWxfaGlzdG9yeScpKSArIFwiPC9zcGFuPjwvbGFiZWw+XFxuXHQ8L2Rpdj5cXG48L2Rpdj5cIjtcbiAgfVxuICBzaG93VHJhY2VzU2NyaXB0ID0gXCIkKCBkb2N1bWVudCApLnJlYWR5KGZ1bmN0aW9uKCl7XFxuXHR2YXIgYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtdHJhY2VzJyk7XFxuXHR2YXIgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc3RhbmNlLXRyYWNlcycpWzBdO1xcblx0aWYgKGIuY2hlY2tlZCl7XFxuXHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0fSBlbHNlIHtcXG5cdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcXG5cdH1cXG5cdGIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSl7XFxuXHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcXG5cdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdFx0fSBlbHNlIHtcXG5cdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0XHR9XFxuXHR9KTtcXG5cXG5cdHZhciBhdHRhY2htZW50c0NoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieC1wcmludC1hdHRhY2htZW50cycpO1xcblx0dmFyIGF0dGFjaG1lbnRzVmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2F0dGFjaG1lbnRzLXNlY3Rpb24nKVswXTtcXG5cdGlmIChhdHRhY2htZW50c0NoZWNrYm94LmNoZWNrZWQpe1xcblx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0fSBlbHNlIHtcXG5cdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0fVxcblx0YXR0YWNobWVudHNDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcXG5cdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xcblx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHRcdH0gZWxzZSB7XFxuXHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0XHR9XFxuXHR9KTtcXG59KTtcXG5cIjtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuc3R5bGVzIDogdm9pZCAwKSB7XG4gICAgYWxsQ3NzTGluayA9IFwiXCI7XG4gIH1cbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgIF9pZDogaW5zdGFuY2UuZm9ybVxuICB9KTtcbiAgZm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiXCI7XG4gIGlmIChmb3JtKSB7XG4gICAgZm9ybURlc2NyaXB0aW9uID0gZm9ybS5kZXNjcmlwdGlvbjtcbiAgICBpZiAoZm9ybURlc2NyaXB0aW9uKSB7XG4gICAgICBmb3JtRGVzY3JpcHRpb24gPSBmb3JtRGVzY3JpcHRpb24ucmVwbGFjZSgvXFxuL2csIFwiPGJyLz5cIik7XG4gICAgICBmb3JtRGVzY3JpcHRpb25IdG1sID0gXCI8ZGl2IGNsYXNzPVxcXCJib3gtaGVhZGVyICB3aXRoLWJvcmRlciBpbnN0YW5jZS1oZWFkZXJcXFwiPlxcblx0PGRpdj5cXG5cdFx0XCIgKyBmb3JtRGVzY3JpcHRpb24gKyBcIlxcblx0PC9kaXY+XFxuPC9kaXY+XCI7XG4gICAgfVxuICB9XG4gIGh0bWwgPSBcIjwhRE9DVFlQRSBodG1sPlxcbjxodG1sPlxcblx0PGhlYWQ+XFxuXHRcdDxtZXRhIGh0dHAtZXF1aXY9XFxcIkNvbnRlbnQtVHlwZVxcXCIgY29udGVudD1cXFwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XFxcIi8+XFxuXHRcdFwiICsgYWxsQ3NzTGluayArIFwiXFxuXHRcdDxzY3JpcHQgc3JjPVxcXCJodHRwczovL3d3dy5zdGVlZG9zLmNvbS93ZWJzaXRlL2xpYnMvanF1ZXJ5Lm1pbi5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG5cdFx0PHNjcmlwdCBzcmM9XFxcIi9qcy9ud19jb3JlLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0Plxcblx0XHRcIiArIChvcHRpb25zLnBsdWdpbnMgfHwgXCJcIikgKyBcIlxcblxcblx0XHQ8c3R5bGU+XFxuXHRcdFx0LnN0ZWVkb3N7XFxuXHRcdFx0XHR3aWR0aDogXCIgKyB3aWR0aCArIFwiO1xcblx0XHRcdFx0bWFyZ2luLWxlZnQ6IGF1dG87XFxuXHRcdFx0XHRtYXJnaW4tcmlnaHQ6IGF1dG87XFxuXHRcdFx0fVxcblxcblx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS1uYW1le1xcblx0XHRcdFx0ZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnRcXG5cdFx0XHR9XFxuXHRcdFx0LmJveC10b29sc3tcXG5cdFx0XHRcdGRpc3BsYXk6IG5vbmU7XFxuXHRcdFx0fVxcblx0XHRcdC5ib3guY29sbGFwc2VkLWJveCAuYm94LWJvZHksLmJveC5jb2xsYXBzZWQtYm94IC5ib3gtZm9vdGVyIHtcXG5cdFx0XHQgIGRpc3BsYXk6IGJsb2NrO1xcblx0XHRcdH1cXG5cXG5cdFx0XHRib2R5e1xcblx0XHRcdFx0YmFja2dyb3VuZDogYXp1cmUgIWltcG9ydGFudDtcXG5cdFx0XHR9XFxuXFxuXHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLXRyYWNlc3tcXG5cdFx0XHRcdHBhZGRpbmctbGVmdDogMTVweDtcXG5cdFx0XHRcdHBhZGRpbmctcmlnaHQ6IDE1cHg7XFxuXHRcdFx0fVxcblxcblx0XHRcdFwiICsgKChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnN0eWxlcyA6IHZvaWQgMCkgfHwgXCJcIikgKyBcIlxcblx0XHQ8L3N0eWxlPlxcblx0PC9oZWFkPlxcblx0PGJvZHk+XFxuXHRcdDxkaXYgY2xhc3M9XFxcInN0ZWVkb3Mgd29ya2Zsb3cgaW5zdGFuY2UtcHJpbnRcXFwiPlxcblx0XHRcdDxkaXYgY2xhc3M9XFxcInNraW4tZ3JlZW4gc2tpbi1hZG1pbi1sdGVcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz1cXFwid3JhcHBlclxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbnRlbnQtd3JhcHBlclxcXCI+XFxuXHRcdFx0XHRcdFx0XCIgKyBzaG93VHJhY2VzQnRuICsgXCJcXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1wcmludFxcXCI+XFxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZSBcIiArIGluc3RhbmNlX3N0eWxlICsgXCJcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8Zm9ybSBuYW1lPVxcXCJpbnN0YW5jZUZvcm1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlLWZvcm0gYm94IFwiICsgaW5zdGFuY2VCb3hTdHlsZSArIFwiXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgZm9ybURlc2NyaXB0aW9uSHRtbCArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJib3gtYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0nYXR0YWNobWVudHMtc2VjdGlvbic+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIGF0dGFjaG1lbnQgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyByZWxhdGVkX2luc3RhbmNlcyArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIHJlbGF0ZWRfcmVjb3JkcyArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyBib2R5ICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0PC9mb3JtPlxcblx0XHRcdFx0XHRcdFx0XHRcIiArIHRyYWNlICsgXCJcXG5cdFx0XHRcdFx0XHRcdDwvZGl2Plxcblxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvZGl2Plxcblx0XHQ8L2Rpdj5cXG5cdDwvYm9keT5cXG5cdDxzY3JpcHQ+XCIgKyBvcGVuRmlsZVNjcmlwdCArIFwiO1wiICsgb25Mb2FkU2NyaXB0ICsgXCI7XCIgKyBzaG93VHJhY2VzU2NyaXB0ICsgXCI8L3NjcmlwdD5cXG48L2h0bWw+XCI7XG4gIHJldHVybiBodG1sO1xufTtcbiIsIlRlbXBsYXRlTWFuYWdlciA9IHt9O1xuXG5mb3JtSWQgPSAnaW5zdGFuY2Vmb3JtJztcblxuXG5UZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUgPSAoKS0+XG5cdHBhZ2VUaXRsZSA9IFwiXCJcIlxuXHRcdHt7aW5zdGFuY2UubmFtZX19XG5cdFwiXCJcIlxuXG5cdHBhZ2VUaXRsZVRyQ2xhc3MgPSBcImluc3RhbmNlLW5hbWVcIlxuXG5cdGlmIENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWVcblx0XHRwYWdlVGl0bGUgPSBcIlwiXCJcblx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9XCIje0NvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZX1cIiBsYWJlbD1mYWxzZX19XG5cdFx0XCJcIlwiXG5cdFx0cGFnZVRpdGxlVHJDbGFzcyA9IFwiXCJcblxuXHRpZiBDb3JlRm9ybT8ucGFnZVRpdGxlXG5cdFx0cGFnZVRpdGxlID0gXCJcIlwiXG5cdFx0XHQje0NvcmVGb3JtLnBhZ2VUaXRsZX1cblx0XHRcIlwiXCJcblx0XHRwYWdlVGl0bGVUckNsYXNzID0gXCJcIlxuXG5cdHZhbCA9XG5cdFx0cGFnZVRpdGxlOiBwYWdlVGl0bGVcblx0XHRwYWdlVGl0bGVUckNsYXNzOiBwYWdlVGl0bGVUckNsYXNzXG5cblx0cmV0dXJuIHZhbFxuXG5UZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSA9IChpbnN0YW5jZSwgX2V4cG9ydCkgLT5cblxuXHR0ZW1wbGF0ZSA9IFwiXCJcIlxuXHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS10aXRsZSBmb3JtLXRhYmxlIG5vLWJvcmRlciB0ZXh0LWFsaWduLWNlbnRlclwiIHN0eWxlPVwid2lkdGg6IDEwMCU7ZGlzcGxheTogaW5saW5lLXRhYmxlO1wiPlxuXHRcdFx0PHRyIGNsYXNzPVwiI3t0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlVHJDbGFzc31cIj5cblx0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZCBwYWdlLXRpdGxlXCI+XG5cdFx0XHRcdFx0I3t0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlfVxuXHRcdFx0XHQ8L3RkPlxuXHRcdFx0PC90cj5cblxuXHRcdDwvdGFibGU+XG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS1ib2R5IGZvcm0tdGFibGVcIj5cblx0XHRcdFx0PHRyIHN0eWxlPVwiaGVpZ2h0OjBweFwiPlxuXHRcdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cblx0XHRcdFx0XHQ8dGg+PC90aD5cblx0XHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XG5cdFx0XHRcdFx0PHRoPjwvdGg+XG5cdFx0XHRcdDwvdHI+XG5cdFwiXCJcIjtcblxuXHR0YWJsZV9maWVsZHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRhYmxlX2ZpZWxkcyhpbnN0YW5jZSlcblxuXHR0YWJsZV9maWVsZHMuZm9yRWFjaCAodGFibGVfZmllbGQpLT5cblxuXHRcdHJlcXVpcmVkID0gXCJcIlxuXHRcdGlmICFDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lIHx8IENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWUgIT0gdGFibGVfZmllbGQuY29kZVxuXHRcdFx0aWYgdGFibGVfZmllbGQuaXNfcmVxdWlyZWRcblx0XHRcdFx0cmVxdWlyZWQgPSBcImlzLXJlcXVpcmVkXCJcblxuXHRcdFx0aWYgX2V4cG9ydFxuXHRcdFx0XHRyZXF1aXJlZCA9IFwiXCI7XG5cblx0XHRcdHB1cmVDb2RlID0gU3RlZWRvcy5yZW1vdmVTcGVjaWFsQ2hhcmFjdGVyKHRhYmxlX2ZpZWxkLmNvZGUpO1xuXG5cdFx0XHRpZiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkKHRhYmxlX2ZpZWxkKVxuXHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxuXHRcdFx0XHR0ZW1wbGF0ZSArPSBcIlwiXCJcblx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSAje3JlcXVpcmVkfVwiPlxuXHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxuXHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgb3Bpbmlvbi1maWVsZCBvcGluaW9uLWZpZWxkLSN7cHVyZUNvZGV9IGF1dG9tYXRpY1wiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cblx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxuXHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFwiXCJcIlxuXHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmRcblx0XHRcdGVsc2Vcblx0XHRcdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlcyh0YWJsZV9maWVsZC50eXBlLCAnc2VjdGlvbix0YWJsZScpXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSBcIlwiXCJcblx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWNoaWxkZmllbGQgdGQtY2hpbGRmaWVsZC0je3B1cmVDb2RlfVwiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cblx0XHRcdFx0XHRcdCAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwiIGxhYmVsPWZhbHNlfX1cblx0XHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxuXG5cdFx0XHRcdFx0aWYgX2V4cG9ydFxuXHRcdFx0XHRcdFx0dGl0bGVfcGVybWlzc2lvbiA9IFwiXCJcblx0XHRcdFx0XHRcdGZpZWxkX3Blcm1pc3Npb24gPSBcIlwiXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0dGl0bGVfcGVybWlzc2lvbiA9IFwidGl0bGUtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uXG5cdFx0XHRcdFx0XHRmaWVsZF9wZXJtaXNzaW9uID0gXCJmaWVsZC1cIiArIHRhYmxlX2ZpZWxkLnBlcm1pc3Npb25cblxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IFwiXCJcIlxuXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUgdGQtdGl0bGUtI3twdXJlQ29kZX0gI3t0aXRsZV9wZXJtaXNzaW9ufSAje3JlcXVpcmVkfVwiPlxuXHRcdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIn19XG5cdFx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgdGQtZmllbGQtI3twdXJlQ29kZX0gI3tmaWVsZF9wZXJtaXNzaW9ufVwiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cblx0XHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCIgbGFiZWw9ZmFsc2V9fVxuXHRcdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmRcblxuXHR0ZW1wbGF0ZSArPSBcIlwiXCJcblx0XHQ8L3RhYmxlPlxuXG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS1mb290ZXIgZm9ybS10YWJsZSBuby1ib3JkZXJcIj5cblx0XHRcdDx0ciBjbGFzcz1cImFwcGxpY2FudC13cmFwcGVyXCI+XG5cdFx0XHRcdDx0ZCBjbGFzcz1cIm5vd3JhcFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cblx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e190IFwiaW5zdGFuY2VfaW5pdGlhdG9yXCJ9fe+8mjwvbGFiZWw+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZCBpbmxpbmUtbGVmdCc+XG5cdFx0XHRcdFx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cImFmU2VsZWN0VXNlclwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdDx0ZCBjbGFzcz1cIm5vd3JhcFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3B1bGwtbGVmdCc+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XG5cdFx0XHRcdFx0XHRcdDxsYWJlbD57e190IFwiaW5zdGFuY2Vfc3VibWl0X2RhdGVcIn1977yaPC9sYWJlbD5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLXJpZ2h0Jz5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHR7e2Zvcm1hdERhdGUgaW5zdGFuY2Uuc3VibWl0X2RhdGUgJ3tcImZvcm1hdFwiOlwiWVlZWS1NTS1ERFwifSd9fVxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L3RkPlxuXHRcdFx0PC90cj5cblx0XHQ8L3RhYmxlPlxuXHQ8L2Rpdj5cblx0XCJcIlwiXG5cdHJldHVybiB0ZW1wbGF0ZVxuXG4j5q2k5aSE5qih5p2/5YWs55So5LiO77yaaW5zdGFuY2Ug57yW6L6R44CB5p+l55yL44CB5omT5Y2w44CB6L2s5Y+R5pe255Sf5oiQ6ZmE5Lu244CB5Y+R6YCB6YKu5Lu2Ym9keemDqOWIhih0YWJsZSDmqKHmnb8pXG4j5aaC5p6c5pyJ5L+u5pS577yM6K+35rWL6K+V56Gu6K6k5YW25LuW5Yqf6IO95piv5ZCm5q2j5bi444CCXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlID1cblx0ZGVmYXVsdDogKGluc3RhbmNlKS0+XG5cblx0XHR0ZW1wbGF0ZSA9IFwiXCJcIlxuXHRcdFx0PGRpdiBjbGFzcz1cIndpdGgtYm9yZGVyIGNvbC1tZC0xMlwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UtbmFtZVwiPlxuXHRcdFx0XHRcdDxoMyBjbGFzcz1cImJveC10aXRsZVwiPiN7VGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlfTwvaDM+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJoZWxwLWJsb2NrXCI+PC9zcGFuPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJoZWxwLWJsb2NrXCI+PC9zcGFuPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHR7eyNlYWNoIHN0ZWVkb3NfZm9ybS5maWVsZHN9fVxuXHRcdFx0XHR7eyNpZiBpc09waW5pb25GaWVsZCB0aGlzfX1cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fSBmaWVsZC17e3RoaXMuY29kZX19XCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBhdXRvbWF0aWMgb3Bpbmlvbi1maWVsZC17e3RoaXMuY29kZX19XCI+XG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fTwvbGFiZWw+XG5cblx0XHRcdFx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT10aGlzLmNvZGV9fVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sLW1kLTEyIGZpZWxkLXt7dGhpcy5jb2RlfX1cIj5cblx0XHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fSBmaWVsZC17e3RoaXMuY29kZX19XCI+XG5cdFx0XHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGV9fVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHR7ey9pZn19XG5cdFx0XHR7ey9lYWNofX1cblx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtbWQtMTJcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImFwcGxpY2FudC13cmFwcGVyIGZvcm0tZ3JvdXAgZm9ybS1ob3Jpem9udGFsXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1hZGRvblwiPlxuXHRcdFx0XHRcdCAge3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX0mbmJzcDs6XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxuXHRcdFx0XHQgIDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdFwiXCJcIlxuXHRcdHJldHVybiB0ZW1wbGF0ZVxuXG5cdHRhYmxlOiAoaW5zdGFuY2UpLT5cblx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoaW5zdGFuY2UpXG4jXHR0YWJsZTogJycnXG4jXHRcdDx0YWJsZSBjbGFzcz1cImJveC1oZWFkZXIgIHdpdGgtYm9yZGVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XCI+XG4jXHRcdFx0PHRyIGNsYXNzPVwiaW5zdGFuY2UtbmFtZVwiPlxuI1x0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZFwiPlxuI1x0XHRcdFx0XHQ8aDMgY2xhc3M9XCJib3gtdGl0bGVcIj57e2luc3RhbmNlLm5hbWV9fTwvaDM+XG4jXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaGVscC1ibG9ja1wiPjwvc3Bhbj5cbiNcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0PC90cj5cbiMgICAgICAgICAgICA8dHIgY2xhc3M9XCJhcHBsaWNhbnQtd3JhcHBlclwiPlxuI1x0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZFwiPlxuI1x0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX0mbmJzcDs6PC9sYWJlbD5cbiNcdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxuI1x0XHRcdFx0PC90ZD5cbiNcdFx0XHQ8L3RyPlxuIyAgICAgICAgPC90YWJsZT5cbiNcdFx0PHRhYmxlIGNsYXNzPVwiZm9ybS10YWJsZVwiPlxuI1x0XHQgICAge3sjZWFjaCB0YWJsZV9maWVsZHN9fVxuI1x0XHRcdFx0e3sjaWYgaXNPcGluaW9uRmllbGQgdGhpc319XG4jXHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XG4jXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUge3sjaWYgaXNfcmVxdWlyZWR9fWlzLXJlcXVpcmVke3svaWZ9fVwiPlxuI1x0XHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9dGhpcy5jb2RlfX1cbiNcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIG9waW5pb24tZmllbGRcIiBjb2xzcGFuID0gJ3t7dGRfY29sc3Bhbn19Jz5cbiNcdFx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IHN0ZXA9KGdldE9waW5pb25GaWVsZFN0ZXBOYW1lIHRoaXMpIGRlZmF1bHQ9Jyd9fVxuI1x0XHRcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0XHRcdHt7e3RyX2VuZH19fVxuI1x0XHRcdFx0e3tlbHNlfX1cbiNcdFx0XHRcdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XG4jXHRcdFx0XHRcdFx0e3t7dHJfc3RhcnR9fX1cbiNcdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWNoaWxkZmllbGRcIiBjb2xzcGFuID0gJ3t7dGRfY29sc3Bhbn19Jz5cbiNcdFx0XHRcdFx0XHRcdCAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHRcdHt7e3RyX2VuZH19fVxuI1x0XHRcdFx0XHR7e2Vsc2V9fVxuI1x0XHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XG4jXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSB7eyNpZiBpc19yZXF1aXJlZH19aXMtcmVxdWlyZWR7ey9pZn19XCI+XG4jXHRcdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19XG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQge3twZXJtaXNzaW9ufX1cIiBjb2xzcGFuID0gJ3t7dGRfY29sc3Bhbn19Jz5cbiNcdFx0XHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cbiNcdFx0XHRcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0XHRcdFx0e3t7dHJfZW5kfX19XG4jXHRcdFx0XHRcdHt7L2lmfX1cbiNcdFx0XHRcdHt7L2lmfX1cbiNcbiNcdFx0ICAgIHt7L2VhY2h9fVxuI1x0XHQ8L3RhYmxlPlxuI1x0JycnXG5cblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVIZWxwcyA9XG5cdGFwcGxpY2FudENvbnRleHQ6IC0+XG5cdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGRhdGEgPSB7XG5cdFx0XHRuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRhdHRzOiB7XG5cdFx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50Jyxcblx0XHRcdFx0aWQ6ICdpbnNfYXBwbGljYW50Jyxcblx0XHRcdFx0Y2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCcsXG5cdFx0XHRcdHN0eWxlOiAncGFkZGluZzo2cHggMTJweDt3aWR0aDoxNDBweDtkaXNwbGF5OmlubGluZSdcblx0XHRcdH1cblx0XHR9XG4jXHRcdGlmIG5vdCBzdGVlZG9zX2luc3RhbmNlIHx8IHN0ZWVkb3NfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiXG5cdFx0ZGF0YS5hdHRzLmRpc2FibGVkID0gdHJ1ZVxuXHRcdHJldHVybiBkYXRhO1xuXG5pbnN0YW5jZUlkOiAtPlxuXHRyZXR1cm4gJ2luc3RhbmNlZm9ybSc7I1wiaW5zdGFuY2VfXCIgKyBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIik7XG5cbmZvcm1fdHlwZXM6IC0+XG5cdGlmIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxuXHRcdHJldHVybiAnZGlzYWJsZWQnO1xuXHRlbHNlXG5cdFx0cmV0dXJuICdtZXRob2QnO1xuXG5zdGVlZG9zX2Zvcm06IC0+XG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdGlmIGZvcm1fdmVyc2lvblxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb25cblxuaW5uZXJzdWJmb3JtQ29udGV4dDogKG9iaiktPlxuXHRkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuXHRvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGlmIGRvY192YWx1ZXMgdGhlbiBkb2NfdmFsdWVzW29iai5jb2RlXSBlbHNlIFtdXG5cdG9ialtcImZvcm1JZFwiXSA9IGZvcm1JZDtcblx0cmV0dXJuIG9iajtcblxuaW5zdGFuY2U6IC0+XG5cdFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIilcblx0aWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSlcblx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0cmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG5cbmVxdWFsczogKGEsIGIpIC0+XG5cdHJldHVybiAoYSA9PSBiKVxuXG5pbmNsdWRlczogKGEsIGIpIC0+XG5cdHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG5cbmZpZWxkczogLT5cblx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcblx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcblxuZG9jX3ZhbHVlczogLT5cblx0V29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuXG5pbnN0YW5jZV9ib3hfc3R5bGU6IC0+XG5cdGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpXG5cdGlmIGJveCA9PSBcImluYm94XCIgfHwgYm94ID09IFwiZHJhZnRcIlxuXHRcdGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKVxuXHRcdGlmIGp1ZGdlXG5cdFx0XHRpZiAoanVkZ2UgPT0gXCJhcHByb3ZlZFwiKVxuXHRcdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXG5cdFx0XHRlbHNlIGlmIChqdWRnZSA9PSBcInJlamVjdGVkXCIpXG5cdFx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxuXHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgaW5zICYmIGlucy5maW5hbF9kZWNpc2lvblxuXHRcdGlmIGlucy5maW5hbF9kZWNpc2lvbiA9PSBcImFwcHJvdmVkXCJcblx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcblx0XHRlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJyZWplY3RlZFwiKVxuXHRcdFx0cmV0dXJuIFwiYm94LWRhbmdlclwiXG5cblxuVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlID0gKGluc3RhbmNlLCB0ZW1wbGF0ZU5hbWUpIC0+XG5cdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblxuXHRpZiB0ZW1wbGF0ZU5hbWVcblx0XHRpZiB0ZW1wbGF0ZU5hbWUgPT0gJ3RhYmxlJ1xuXHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXG5cdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcblxuXHRpZiBTZXNzaW9uPy5nZXQoXCJpbnN0YW5jZVByaW50XCIpXG5cdFx0aWYgZmxvdz8ucHJpbnRfdGVtcGxhdGVcblx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cucHJpbnRfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXG5cdFx0ZWxzZVxuXHRcdFx0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcblx0XHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXG5cdGVsc2Vcblx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXG5cblx0XHRpZiBmbG93Py5pbnN0YW5jZV90ZW1wbGF0ZVxuXHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcblxuXHRcdGlmIGZvcm0/Lmluc3RhbmNlX3N0eWxlXG5cdFx0XHRpZiBmb3JtLmluc3RhbmNlX3N0eWxlID09ICd0YWJsZSdcblx0XHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS5kZWZhdWx0KGluc3RhbmNlKVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXG5cbiNUZW1wbGF0ZU1hbmFnZXIuZXhwb3J0VGVtcGxhdGUgPSAoZmxvd0lkKSAtPlxuI1x0dGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoZmxvd0lkKTtcbiNcbiNcdGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93SWQpO1xuI1xuI1x0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcbiNcdFx0cmV0dXJuIHRlbXBsYXRlO1xuI1xuI1x0cmV0dXJuIHRlbXBsYXRlO1xuXG4iLCJ2YXIgZm9ybUlkOyAgICAgICAgICAgICAgICAgXG5cblRlbXBsYXRlTWFuYWdlciA9IHt9O1xuXG5mb3JtSWQgPSAnaW5zdGFuY2Vmb3JtJztcblxuVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYWdlVGl0bGUsIHBhZ2VUaXRsZVRyQ2xhc3MsIHZhbDtcbiAgcGFnZVRpdGxlID0gXCJ7e2luc3RhbmNlLm5hbWV9fVwiO1xuICBwYWdlVGl0bGVUckNsYXNzID0gXCJpbnN0YW5jZS1uYW1lXCI7XG4gIGlmICh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApIHtcbiAgICBwYWdlVGl0bGUgPSBcInt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSArIFwiXFxcIiBsYWJlbD1mYWxzZX19XCI7XG4gICAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZSA6IHZvaWQgMCkge1xuICAgIHBhZ2VUaXRsZSA9IFwiXCIgKyBDb3JlRm9ybS5wYWdlVGl0bGU7XG4gICAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiXCI7XG4gIH1cbiAgdmFsID0ge1xuICAgIHBhZ2VUaXRsZTogcGFnZVRpdGxlLFxuICAgIHBhZ2VUaXRsZVRyQ2xhc3M6IHBhZ2VUaXRsZVRyQ2xhc3NcbiAgfTtcbiAgcmV0dXJuIHZhbDtcbn07XG5cblRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlID0gZnVuY3Rpb24oaW5zdGFuY2UsIF9leHBvcnQpIHtcbiAgdmFyIHRhYmxlX2ZpZWxkcywgdGVtcGxhdGU7XG4gIHRlbXBsYXRlID0gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XFxuXHQ8dGFibGUgY2xhc3M9XFxcInRhYmxlLXBhZ2UtdGl0bGUgZm9ybS10YWJsZSBuby1ib3JkZXIgdGV4dC1hbGlnbi1jZW50ZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XFxcIj5cXG5cdFx0PHRyIGNsYXNzPVxcXCJcIiArICh0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlVHJDbGFzcykgKyBcIlxcXCI+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJpbnN0YW5jZS10YWJsZS1uYW1lLXRkIHBhZ2UtdGl0bGVcXFwiPlxcblx0XHRcdFx0XCIgKyAodGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZSkgKyBcIlxcblx0XHRcdDwvdGQ+XFxuXHRcdDwvdHI+XFxuXFxuXHQ8L3RhYmxlPlxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLWJvZHkgZm9ybS10YWJsZVxcXCI+XFxuXHRcdFx0PHRyIHN0eWxlPVxcXCJoZWlnaHQ6MHB4XFxcIj5cXG5cdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cXG5cdFx0XHRcdDx0aD48L3RoPlxcblx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxcblx0XHRcdFx0PHRoPjwvdGg+XFxuXHRcdFx0PC90cj5cIjtcbiAgdGFibGVfZmllbGRzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50YWJsZV9maWVsZHMoaW5zdGFuY2UpO1xuICB0YWJsZV9maWVsZHMuZm9yRWFjaChmdW5jdGlvbih0YWJsZV9maWVsZCkge1xuICAgIHZhciBmaWVsZF9wZXJtaXNzaW9uLCBwdXJlQ29kZSwgcmVxdWlyZWQsIHRpdGxlX3Blcm1pc3Npb247XG4gICAgcmVxdWlyZWQgPSBcIlwiO1xuICAgIGlmICghKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgfHwgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgIT09IHRhYmxlX2ZpZWxkLmNvZGUpIHtcbiAgICAgIGlmICh0YWJsZV9maWVsZC5pc19yZXF1aXJlZCkge1xuICAgICAgICByZXF1aXJlZCA9IFwiaXMtcmVxdWlyZWRcIjtcbiAgICAgIH1cbiAgICAgIGlmIChfZXhwb3J0KSB7XG4gICAgICAgIHJlcXVpcmVkID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIHB1cmVDb2RlID0gU3RlZWRvcy5yZW1vdmVTcGVjaWFsQ2hhcmFjdGVyKHRhYmxlX2ZpZWxkLmNvZGUpO1xuICAgICAgaWYgKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGQodGFibGVfZmllbGQpKSB7XG4gICAgICAgIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0O1xuICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtdGl0bGUgXCIgKyByZXF1aXJlZCArIFwiXFxcIj5cXG5cdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XFxuPHRkIGNsYXNzPVxcXCJ0ZC1maWVsZCBvcGluaW9uLWZpZWxkIG9waW5pb24tZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiIGF1dG9tYXRpY1xcXCIgY29sc3BhbiA9IFxcXCJcIiArIHRhYmxlX2ZpZWxkLnRkX2NvbHNwYW4gKyBcIlxcXCI+XFxuXHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XCI7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlcyh0YWJsZV9maWVsZC50eXBlLCAnc2VjdGlvbix0YWJsZScpKSB7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnQ7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9XFxcInRkLWNoaWxkZmllbGQgdGQtY2hpbGRmaWVsZC1cIiArIHB1cmVDb2RlICsgXCJcXFwiIGNvbHNwYW4gPSBcXFwiXCIgKyB0YWJsZV9maWVsZC50ZF9jb2xzcGFuICsgXCJcXFwiPlxcbiAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVxcbjwvdGQ+XCI7XG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydDtcbiAgICAgICAgICBpZiAoX2V4cG9ydCkge1xuICAgICAgICAgICAgdGl0bGVfcGVybWlzc2lvbiA9IFwiXCI7XG4gICAgICAgICAgICBmaWVsZF9wZXJtaXNzaW9uID0gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGl0bGVfcGVybWlzc2lvbiA9IFwidGl0bGUtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uO1xuICAgICAgICAgICAgZmllbGRfcGVybWlzc2lvbiA9IFwiZmllbGQtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtdGl0bGUgdGQtdGl0bGUtXCIgKyBwdXJlQ29kZSArIFwiIFwiICsgdGl0bGVfcGVybWlzc2lvbiArIFwiIFwiICsgcmVxdWlyZWQgKyBcIlxcXCI+XFxuXHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwifX1cXG48L3RkPlxcbjx0ZCBjbGFzcz1cXFwidGQtZmllbGQgdGQtZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiIFwiICsgZmllbGRfcGVybWlzc2lvbiArIFwiXFxcIiBjb2xzcGFuID0gXFxcIlwiICsgdGFibGVfZmllbGQudGRfY29sc3BhbiArIFwiXFxcIj5cXG5cdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVxcbjwvdGQ+XCI7XG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHRlbXBsYXRlICs9IFwiXHQ8L3RhYmxlPlxcblxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLWZvb3RlciBmb3JtLXRhYmxlIG5vLWJvcmRlclxcXCI+XFxuXHRcdDx0ciBjbGFzcz1cXFwiYXBwbGljYW50LXdyYXBwZXJcXFwiPlxcblx0XHRcdDx0ZCBjbGFzcz1cXFwibm93cmFwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e190IFxcXCJpbnN0YW5jZV9pbml0aWF0b3JcXFwifX3vvJo8L2xhYmVsPlxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10YWJsZS13cmFwcGVyLXRkIGlubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XFxcImFmU2VsZWN0VXNlclxcXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvdGQ+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJub3dyYXBcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz0ncHVsbC1sZWZ0Jz5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxcblx0XHRcdFx0XHRcdDxsYWJlbD57e190IFxcXCJpbnN0YW5jZV9zdWJtaXRfZGF0ZVxcXCJ9fe+8mjwvbGFiZWw+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtcmlnaHQnPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0e3tmb3JtYXREYXRlIGluc3RhbmNlLnN1Ym1pdF9kYXRlICd7XFxcImZvcm1hdFxcXCI6XFxcIllZWVktTU0tRERcXFwifSd9fVxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvdGQ+XFxuXHRcdDwvdHI+XFxuXHQ8L3RhYmxlPlxcbjwvZGl2PlwiO1xuICByZXR1cm4gdGVtcGxhdGU7XG59O1xuXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlID0ge1xuICBcImRlZmF1bHRcIjogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB2YXIgdGVtcGxhdGU7XG4gICAgdGVtcGxhdGUgPSBcIjxkaXYgY2xhc3M9XFxcIndpdGgtYm9yZGVyIGNvbC1tZC0xMlxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1uYW1lXFxcIj5cXG5cdFx0PGgzIGNsYXNzPVxcXCJib3gtdGl0bGVcXFwiPlwiICsgKFRlbXBsYXRlTWFuYWdlci5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZSkgKyBcIjwvaDM+XFxuXHRcdDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj48L3NwYW4+XFxuXHQ8L2Rpdj5cXG5cdDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj48L3NwYW4+XFxuPC9kaXY+XFxue3sjZWFjaCBzdGVlZG9zX2Zvcm0uZmllbGRzfX1cXG5cdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxcblx0XHQ8ZGl2IGNsYXNzPVxcXCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19IGZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgYXV0b21hdGljIG9waW5pb24tZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19PC9sYWJlbD5cXG5cXG5cdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9dGhpcy5jb2RlfX1cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0PC9kaXY+XFxuXHR7e2Vsc2V9fVxcblx0XHR7eyNpZiBpbmNsdWRlcyB0aGlzLnR5cGUgJ3NlY3Rpb24sdGFibGUnfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTIgZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGUgbGFiZWw9ZmFsc2V9fVxcblx0XHRcdDwvZGl2Plxcblx0XHR7e2Vsc2V9fVxcblx0XHRcdDxkaXYgY2xhc3M9XFxcInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlfX1cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0e3svaWZ9fVxcblx0e3svaWZ9fVxcbnt7L2VhY2h9fVxcbjxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJhcHBsaWNhbnQtd3JhcHBlciBmb3JtLWdyb3VwIGZvcm0taG9yaXpvbnRhbFxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxuXHRcdDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwLWFkZG9uXFxcIj5cXG5cdFx0ICB7e190IFxcXCJpbnN0YW5jZV9pbml0aWF0b3JcXFwifX0mbmJzcDs6XFxuXHRcdDwvZGl2Plxcblx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cXFwiYWZTZWxlY3RVc2VyXFxcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxcblx0ICA8L2Rpdj5cXG5cdDwvZGl2PlxcbjwvZGl2PlwiO1xuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfSxcbiAgdGFibGU6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKGluc3RhbmNlKTtcbiAgfVxufTtcblxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZUhlbHBzID0ge1xuICBhcHBsaWNhbnRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSwgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgZGF0YSA9IHtcbiAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgIGF0dHM6IHtcbiAgICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBpZDogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBcImNsYXNzXCI6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCcsXG4gICAgICAgIHN0eWxlOiAncGFkZGluZzo2cHggMTJweDt3aWR0aDoxNDBweDtkaXNwbGF5OmlubGluZSdcbiAgICAgIH1cbiAgICB9O1xuICAgIGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWU7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn07XG5cbih7XG4gIGluc3RhbmNlSWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnaW5zdGFuY2Vmb3JtJztcbiAgfSxcbiAgZm9ybV90eXBlczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKSkge1xuICAgICAgcmV0dXJuICdkaXNhYmxlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbWV0aG9kJztcbiAgICB9XG4gIH0sXG4gIHN0ZWVkb3NfZm9ybTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBmb3JtX3ZlcnNpb247XG4gICAgfVxuICB9LFxuICBpbm5lcnN1YmZvcm1Db250ZXh0OiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZG9jX3ZhbHVlcztcbiAgICBkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIG9ialtcInRhYmxlVmFsdWVzXCJdID0gZG9jX3ZhbHVlcyA/IGRvY192YWx1ZXNbb2JqLmNvZGVdIDogW107XG4gICAgb2JqW1wiZm9ybUlkXCJdID0gZm9ybUlkO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGluc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpO1xuICAgIGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuICAgIH1cbiAgfSxcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIGluY2x1ZGVzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgZmllbGRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcbiAgICB9XG4gIH0sXG4gIGRvY192YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gIH0sXG4gIGluc3RhbmNlX2JveF9zdHlsZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJveCwgaW5zLCBqdWRnZTtcbiAgICBib3ggPSBTZXNzaW9uLmdldChcImJveFwiKTtcbiAgICBpZiAoYm94ID09PSBcImluYm94XCIgfHwgYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICAgIGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKTtcbiAgICAgIGlmIChqdWRnZSkge1xuICAgICAgICBpZiAoanVkZ2UgPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoanVkZ2UgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zICYmIGlucy5maW5hbF9kZWNpc2lvbikge1xuICAgICAgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICB9IGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG5UZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbihpbnN0YW5jZSwgdGVtcGxhdGVOYW1lKSB7XG4gIHZhciBmbG93LCBmb3JtO1xuICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gIGlmICh0ZW1wbGF0ZU5hbWUpIHtcbiAgICBpZiAodGVtcGxhdGVOYW1lID09PSAndGFibGUnKSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBTZXNzaW9uICE9PSBcInVuZGVmaW5lZFwiICYmIFNlc3Npb24gIT09IG51bGwgPyBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgOiB2b2lkIDApIHtcbiAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5wcmludF90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5wcmludF90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlIDogdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgfVxuICAgIGlmIChmb3JtICE9IG51bGwgPyBmb3JtLmluc3RhbmNlX3N0eWxlIDogdm9pZCAwKSB7XG4gICAgICBpZiAoZm9ybS5pbnN0YW5jZV9zdHlsZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufTtcbiIsIlN0ZWVkb3NUYWJsZSA9IHt9O1xuXG5TdGVlZG9zVGFibGUuZm9ybUlkID0gXCJpbnN0YW5jZWZvcm1cIjtcblxuU3RlZWRvc1RhYmxlLmNoZWNrSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIHZhciBmaWVsZFZhbCA9IFN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZShmaWVsZCwgaXRlbV9pbmRleCk7XG5cbiAgICB2YXIgc2ZfbmFtZSA9ICcnO1xuICAgIHZhciByZXYgPSB0cnVlO1xuICAgIGZpZWxkT2JqLnNmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihzZikge1xuICAgICAgICBpZiAoc2YucGVybWlzc2lvbiA9PSAnZWRpdGFibGUnKSB7XG4gICAgICAgICAgICBzZl9uYW1lID0gZmllbGRPYmouY29kZSArIFwiLlwiICsgc2YuY29kZTtcbiAgICAgICAgICAgIGlmICghSW5zdGFuY2VNYW5hZ2VyLmNoZWNrRm9ybUZpZWxkVmFsdWUoJChcIltuYW1lPSdcIiArIHNmX25hbWUgKyBcIiddXCIpWzBdKSkge1xuICAgICAgICAgICAgICAgIHJldiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV2O1xufVxuXG5TdGVlZG9zVGFibGUuc2V0VGFibGVJdGVtVmFsdWUgPSBmdW5jdGlvbihmaWVsZCwgaXRlbV9pbmRleCwgaXRlbV92YWx1ZSkge1xuXG4gICAgdmFyIHRhYmxlVmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCk7XG4gICAgdGFibGVWYWx1ZVtpdGVtX2luZGV4XSA9IGl0ZW1fdmFsdWU7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUYWJsZUl0ZW1WYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKVtpdGVtX2luZGV4XTtcbn1cblxuU3RlZWRvc1RhYmxlLnJlbW92ZVRhYmxlSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVJdGVtVmFsdWUoZmllbGQsIGl0ZW1faW5kZXgpO1xuICAgIGl0ZW1fdmFsdWUucmVtb3ZlZCA9IHRydWU7XG59XG5cblN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlKSB7XG4gICAgJChcInRhYmxlW25hbWU9J1wiICsgZmllbGQgKyBcIiddXCIpLnZhbCh7XG4gICAgICAgIHZhbDogdmFsdWVcbiAgICB9KTtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUgPSBmdW5jdGlvbihmaWVsZCkge1xuICAgIHJldHVybiAkKFwidGFibGVbbmFtZT0nXCIgKyBmaWVsZCArIFwiJ11cIikudmFsKCkudmFsO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0VmFsaWRWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIHZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgdmFsaWRWYWx1ZSA9IFtdO1xuXG4gICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbih2KSB7XG4gICAgICAgIGlmICghdi5yZW1vdmVkKSB7XG4gICAgICAgICAgICB2YWxpZFZhbHVlLnB1c2godik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmFsaWRWYWx1ZTtcbn1cblxuXG5TdGVlZG9zVGFibGUuaGFuZGxlRGF0YSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZXMpIHtcblxuICAgIGlmICghdmFsdWVzIHx8ICEodmFsdWVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgZmllbGRPYmouc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgIGlmIChmLnR5cGUgPT0gJ3VzZXInIHx8IGYudHlwZSA9PSAnZ3JvdXAnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdltmLmNvZGVdXG4gICAgICAgICAgICAgICAgaWYgKGYuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA+IDAgJiYgdHlwZW9mKHZhbHVlWzBdKSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdltmLmNvZGVdID0gdltmLmNvZGVdLmdldFByb3BlcnR5KFwiaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mKHZhbHVlKSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdltmLmNvZGVdID0gdltmLmNvZGVdLmlkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChmLnR5cGUgPT0gJ2RhdGVUaW1lJykge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZbZi5jb2RlXVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHZhbHVlLnNwbGl0KFwiVFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MCA9IHRbMF0uc3BsaXQoXCItXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQxID0gdFsxXS5zcGxpdChcIjpcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgPSB0MFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdDBbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdDBbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IHQxWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IHQxWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbZi5jb2RlXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZXM7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRGaWVsZCA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIGluc3RhbmNlRmllbGRzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRmllbGRzKCk7XG4gICAgaWYgKCFpbnN0YW5jZUZpZWxkcylcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgdmFyIGZpZWxkT2JqID0gaW5zdGFuY2VGaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgZmllbGQpO1xuXG4gICAgcmV0dXJuIGZpZWxkT2JqO1xufVxuXG5cblN0ZWVkb3NUYWJsZS5nZXRNb2RhbERhdGEgPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgpIHtcblxuICAgIHZhciBkYXRhID0ge307XG5cbiAgICB2YXIgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgaWYgKCFmaWVsZE9iaikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGF0YS5maWVsZCA9IGZpZWxkT2JqO1xuXG4gICAgZGF0YS5maWVsZC5mb3JtdWxhID0gRm9ybV9mb3JtdWxhLmdldEZvcm11bGFGaWVsZFZhcmlhYmxlKFwiRm9ybV9mb3JtdWxhLmZpZWxkX3ZhbHVlc1wiLCBmaWVsZE9iai5zZmllbGRzKTtcblxuICAgIGRhdGEudmFsdWUgPSB7fTtcblxuICAgIGRhdGEudmFsdWVbZmllbGRdID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpbmRleCk7XG5cbiAgICBkYXRhLmluZGV4ID0gaW5kZXg7XG5cbiAgICByZXR1cm4gZGF0YTtcbn1cblxuXG5cblN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XG5cbiAgICBpZiAoIUF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJzdGVlZG9zX3RhYmxlX21vZGFsX1wiICsgZmllbGQgKyBcIl9cIiArIGl0ZW1faW5kZXgpKSB7XG4gICAgICAgIHJldHVybiB7fVxuICAgIH1cblxuICAgIHZhciBpdGVtX3ZhbHVlID0gQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcInN0ZWVkb3NfdGFibGVfbW9kYWxfXCIgKyBmaWVsZCArIFwiX1wiICsgaXRlbV9pbmRleCkuaW5zZXJ0RG9jW2ZpZWxkXTtcbiAgICByZXR1cm4gaXRlbV92YWx1ZTtcbn1cblxuXG5TdGVlZG9zVGFibGUuYWRkSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCwgX2l0ZW1fdmFsdWUpIHtcbiAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcbiAgICB2YXIgaXRlbV92YWx1ZSA9IF9pdGVtX3ZhbHVlIHx8IFN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZShmaWVsZCwgaW5kZXgpO1xuICAgICQoXCJ0Ym9keVtuYW1lPSdcIiArIGZpZWxkICsgXCJUYm9keSddXCIpLmFwcGVuZChTdGVlZG9zVGFibGUuZ2V0VHIoa2V5cywgaXRlbV92YWx1ZSwgaW5kZXgsIGZpZWxkLCB0cnVlKSlcblxufVxuXG5TdGVlZG9zVGFibGUudXBkYXRlSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCwgX2l0ZW1fdmFsdWUpIHtcblxuICAgIHZhciBpdGVtID0gJChcInRyW25hbWU9J1wiICsgZmllbGQgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIiddXCIpO1xuXG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBfaXRlbV92YWx1ZSB8fCBTdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUoZmllbGQsIGluZGV4KTtcblxuICAgIGlmIChpdGVtICYmIGl0ZW0ubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcbiAgICAgICAgdmFyIHRkcyA9IFN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZChmaWVsZCwgaW5kZXgpO1xuXG4gICAgICAgIHZhciBzZmllbGRzID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKS5zZmllbGRzO1xuXG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHZhciBzZmllbGQgPSBzZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGtleSk7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1fdmFsdWVba2V5XTtcblxuICAgICAgICAgICAgdGRzID0gdGRzICsgU3RlZWRvc1RhYmxlLmdldFRkKHNmaWVsZCwgaW5kZXgsIHZhbHVlKTtcblxuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLmVtcHR5KCk7XG5cbiAgICAgICAgaXRlbS5hcHBlbmQodGRzKTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgU3RlZWRvc1RhYmxlLmFkZEl0ZW0oZmllbGQsIGluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAoU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpKSB7XG5cbiAgICAgICAgU3RlZWRvc1RhYmxlLnNldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpbmRleCwgaXRlbV92YWx1ZSk7XG5cbiAgICAgICAgLy9TdGVlZG9zVGFibGUudmFsdWVIYXNoW2ZpZWxkXVtpbmRleF0gPSBpdGVtX3ZhbHVlO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy9TdGVlZG9zVGFibGUudmFsdWVIYXNoW2ZpZWxkXSA9IFtpdGVtX3ZhbHVlXTtcblxuICAgICAgICBTdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZShmaWVsZCwgW2l0ZW1fdmFsdWVdKVxuXG4gICAgfVxuXG4gICAgLy/miafooYzkuLvooajlhazlvI/orqHnrpdcbiAgICBJbnN0YW5jZU1hbmFnZXIucnVuRm9ybXVsYShmaWVsZCk7XG5cbn1cblxuU3RlZWRvc1RhYmxlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgpIHtcblxuICAgICQoXCJ0cltuYW1lPSdcIiArIGZpZWxkICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInXVwiKS5oaWRlKCk7XG5cbiAgICBTdGVlZG9zVGFibGUucmVtb3ZlVGFibGVJdGVtKGZpZWxkLCBpbmRleCk7XG5cbiAgICBJbnN0YW5jZU1hbmFnZXIucnVuRm9ybXVsYShmaWVsZCk7XG59XG5cblN0ZWVkb3NUYWJsZS5zaG93TW9kYWwgPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgsIG1ldGhvZCkge1xuXG5cbiAgICB2YXIgbW9kYWxEYXRhID0gU3RlZWRvc1RhYmxlLmdldE1vZGFsRGF0YShmaWVsZCwgaW5kZXgpO1xuXG4gICAgbW9kYWxEYXRhLm1ldGhvZCA9IG1ldGhvZDtcblxuICAgIE1vZGFsLnNob3coXCJzdGVlZG9zVGFibGVNb2RhbFwiLCBtb2RhbERhdGEpO1xuXG59XG5cblN0ZWVkb3NUYWJsZS5nZXRLZXlzID0gZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoIUF1dG9Gb3JtLmdldEN1cnJlbnREYXRhRm9yRm9ybShTdGVlZG9zVGFibGUuZm9ybUlkKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgdmFyIHNzID0gQXV0b0Zvcm0uZ2V0Rm9ybVNjaGVtYShTdGVlZG9zVGFibGUuZm9ybUlkKTtcblxuICAgIHZhciBrZXlzID0gW107XG5cbiAgICBpZiAoc3Muc2NoZW1hKGZpZWxkICsgXCIuJFwiKS50eXBlID09PSBPYmplY3QpIHtcbiAgICAgICAga2V5cyA9IHNzLm9iamVjdEtleXMoU2ltcGxlU2NoZW1hLl9tYWtlR2VuZXJpYyhmaWVsZCkgKyAnLiQnKVxuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xuXG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUaGVhZCA9IGZ1bmN0aW9uKGZpZWxkLCBlZGl0YWJsZSkge1xuXG4gICAgdmFyIGZpZWxkT2JqID0gZmllbGQ7XG4gICAgaWYgKCFfLmlzT2JqZWN0KGZpZWxkKSlcbiAgICAgICAgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgaWYgKCFmaWVsZE9iaikge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIHRoZWFkID0gJycsXG4gICAgICAgIHRycyA9ICcnLFxuICAgICAgICBsYWJlbCA9ICcnLFxuICAgICAgICB3aWR0aCA9IDEwMDtcblxuICAgIGlmIChlZGl0YWJsZSkge1xuICAgICAgICAvLyB0cnMgPSBcIjx0aCBjbGFzcz0ncmVtb3ZlZCc+PC90aD5cIlxuXHRcdHRycyA9IFwiXCJcbiAgICB9XG5cbiAgICB2YXIgc2ZpZWxkcyA9IGZpZWxkT2JqLnNmaWVsZHM7XG5cbiAgICBpZighc2ZpZWxkcyl7XG4gICAgXHRyZXR1cm4gdGhlYWQ7XG5cdH1cblxuICAgIHZhciBzZl9sZW5ndGggPSBzZmllbGRzLmxlbmd0aDtcblxuICAgIGlmIChzZl9sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB3aWRlX2ZpZWxkcyA9IHNmaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xuXG4gICAgICAgIHdpZHRoID0gMTAwIC8gKHNmX2xlbmd0aCArIHdpZGVfZmllbGRzLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHNmLCBpbmRleCkge1xuXG4gICAgICAgIGxhYmVsID0gKHNmLm5hbWUgIT0gbnVsbCAmJiBzZi5uYW1lLmxlbmd0aCA+IDApID8gc2YubmFtZSA6IHNmLmNvZGU7XG5cbiAgICAgICAgdHJzID0gdHJzICsgXCI8dGQgXCI7IC8vIG5vd3JhcD0nbm93cmFwJ1xuXG4gICAgICAgIHRycyA9IHRycyArIFwiIGNsYXNzPSd0aXRsZSBcIiArIHNmLnR5cGUgKyBcIidcIjtcblxuICAgICAgICBpZiAoaW5kZXggIT0gKHNmX2xlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgICBpZiAoc2YuaXNfd2lkZSkge1xuICAgICAgICAgICAgICAgIHRycyA9IHRycyArIFwic3R5bGU9J3dpZHRoOlwiICsgd2lkdGggKiAyICsgXCIlJ1wiXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRycyA9IHRycyArIFwic3R5bGU9J3dpZHRoOlwiICsgd2lkdGggKyBcIiUnXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRycyA9IHRycyArIFwiPlwiICsgbGFiZWwgKyBcIjwvdGQ+XCJcbiAgICB9KTtcblxuICAgIHRoZWFkID0gJzx0cj4nICsgdHJzICsgJzwvdHI+JztcblxuICAgIHJldHVybiB0aGVhZDtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRib2R5ID0gZnVuY3Rpb24oa2V5cywgZmllbGQsIHZhbHVlcywgZWRpdGFibGUpIHtcbiAgICB2YXIgdGJvZHkgPSBcIlwiO1xuXG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgdGJvZHkgPSB0Ym9keSArIFN0ZWVkb3NUYWJsZS5nZXRUcihrZXlzLCB2YWx1ZSwgaW5kZXgsIGZpZWxkLCBlZGl0YWJsZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0Ym9keTtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRyID0gZnVuY3Rpb24oa2V5cywgaXRlbV92YWx1ZSwgaW5kZXgsIGZpZWxkLCBlZGl0YWJsZSkge1xuXG4gICAgdmFyIGZpZWxkT2JqID0gZmllbGQ7XG4gICAgaWYgKCFfLmlzT2JqZWN0KGZpZWxkKSlcbiAgICAgICAgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgdmFyIHRyID0gXCI8dHIgaWQ9J1wiICsgZmllbGRPYmouY29kZSArIFwiX2l0ZW1fXCIgKyBpbmRleCArIFwiJyBuYW1lPSdcIiArIGZpZWxkT2JqLmNvZGUgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIicgZGF0YS1pbmRleD0nXCIgKyBpbmRleCArIFwiJ1wiXG5cbiAgICBpZiAoZWRpdGFibGUpIHtcbiAgICAgICAgdHIgPSB0ciArIFwiJyBjbGFzcz0naXRlbSBlZGl0J1wiXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYoU3RlZWRvcy5pc01vYmlsZSgpKXtcblx0XHRcdHRyID0gdHIgKyBcIiBjbGFzcz0naXRlbSBpdGVtLXJlYWRvbmx5J1wiXG4gICAgICAgIH1lbHNle1xuXHRcdFx0dHIgPSB0ciArIFwiIGNsYXNzPSdpdGVtICdcIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGl0ZW1fdmFsdWUucmVtb3ZlZCkge1xuICAgICAgICB0ciA9IHRyICsgXCIgc3R5bGU9J2Rpc3BsYXk6bm9uZScgXCI7XG4gICAgfVxuXG4gICAgdHIgPSB0ciArIFwiJz5cIjtcblxuICAgIHZhciB0ZHMgPSBcIlwiO1xuXG4gICAgaWYgKGVkaXRhYmxlKSB7XG4gICAgICAgIHRkcyA9IFN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZChmaWVsZE9iai5jb2RlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgdmFyIHNmaWVsZHMgPSBmaWVsZE9iai5zZmllbGRzO1xuXG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICB2YXIgc2ZpZWxkID0gc2ZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBrZXkpO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1fdmFsdWVba2V5XTtcblxuICAgICAgICB0ZHMgPSB0ZHMgKyBTdGVlZG9zVGFibGUuZ2V0VGQoc2ZpZWxkLCBpbmRleCwgdmFsdWUpO1xuXG4gICAgfSk7XG5cbiAgICB0ciA9IHRyICsgdGRzICsgXCI8L3RyPlwiO1xuICAgIHJldHVybiB0cjtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFJlbW92ZVRkID0gZnVuY3Rpb24oZmllbGQsIGluZGV4KSB7XG4gICAgLy8gcmV0dXJuIFwiPHRkIGNsYXNzPSdzdGVlZG9zVGFibGUtaXRlbS1yZW1vdmUgcmVtb3ZlZCcgZGF0YS1pbmRleD0nXCIgKyBpbmRleCArIFwiJz48aSBjbGFzcz0nZmEgZmEtdGltZXMnIGFyaWEtaGlkZGVuPSd0cnVlJz48L3RkPlwiO1xuXHRyZXR1cm4gXCJcIlxufVxuXG5TdGVlZG9zVGFibGUuZ2V0VGQgPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgsIHZhbHVlKSB7XG4gICAgdmFyIHRkID0gXCI8dGQgXCI7XG5cbiAgICB0ZCA9IHRkICsgXCIgY2xhc3M9J3N0ZWVkb3NUYWJsZS1pdGVtLWZpZWxkIFwiICsgZmllbGQudHlwZSArIFwiJyBcIjtcblxuICAgIHZhciB0ZF92YWx1ZSA9IFwiXCI7XG5cbiAgICBpZihNZXRlb3IuaXNDbGllbnQpe1xuICAgICAgICB0ZF92YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRURFZhbHVlKGZpZWxkLCB2YWx1ZSlcbiAgICB9ZWxzZXtcbiAgICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXG4gICAgICAgIHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcblxuICAgICAgICB0ZF92YWx1ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSh2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KVxuICAgIH1cblxuICAgIHRkID0gdGQgKyBcIiBkYXRhLWluZGV4PSdcIiArIGluZGV4ICsgXCInPlwiICsgdGRfdmFsdWUgKyBcIjwvdGQ+XCJcblxuICAgIHJldHVybiB0ZDtcbn1cblxuXG5TdGVlZG9zVGFibGUuZ2V0VERWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZSkge1xuICAgIHZhciB0ZF92YWx1ZSA9IFwiXCI7XG4gICAgaWYgKCFmaWVsZCkge1xuICAgICAgICByZXR1cm4gdGRfdmFsdWVcbiAgICB9XG4gICAgdHJ5IHtcblxuICAgICAgICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mKHZhbHVlWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYVNwYWNlVXNlcnModmFsdWUpLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUuZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1ID0gQ0ZEYXRhTWFuYWdlci5nZXRGb3JtdWxhU3BhY2VVc2Vycyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB1ID8gdS5uYW1lIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZih2YWx1ZVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb25zKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBvID8gby5uYW1lIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUgPyBcIjxhIGhyZWY9J21haWx0bzpcIiArIHZhbHVlICsgXCInPlwiICsgdmFsdWUgKyBcIjwvYT5cIiA6IFwiXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd1cmwnOlxuICAgICAgICAgICAgICAgIGlmKHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFwiPGEgaHJlZj0nJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPmh0dHA6Ly9cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICcqKioqKionO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCItXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHRbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSAkLmZvcm1hdC5kYXRlKHZhbHVlLCAneXl5eS1NTS1kZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdDBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHQwWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSB0MVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0MVsxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJC5mb3JtYXQuZGF0ZSh2YWx1ZSwgJ3l5eXktTU0tZGQgSEg6bW0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodmFsdWUpID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZS50b0ZpeGVkKGZpZWxkLmRpZ2l0cyk7XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gU3RlZWRvcy5udW1iZXJUb1N0cmluZyh0ZF92YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnb2RhdGEnOlxuICAgICAgICAgICAgICAgIGlmKHZhbHVlKXtcblx0XHRcdFx0XHRpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3Qpe1xuXHRcdFx0XHRcdFx0dGRfdmFsdWUgPSBfLnBsdWNrKHZhbHVlLCAnQGxhYmVsJykudG9TdHJpbmcoKVxuXHRcdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdFx0dGRfdmFsdWUgPSB2YWx1ZVsnQGxhYmVsJ11cblx0XHRcdFx0XHR9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlID8gdmFsdWUgOiAnJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZTtcblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiB0ZF92YWx1ZTtcbn07XG5cbmlmKE1ldGVvci5pc0NsaWVudCl7XG4gICAgQXV0b0Zvcm0uYWRkSW5wdXRUeXBlKFwidGFibGVcIiwge1xuICAgICAgICB0ZW1wbGF0ZTogXCJhZlRhYmxlXCIsXG4gICAgICAgIHZhbHVlT3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy5kYXRhKFwic2NoZW1hS2V5XCIpO1xuICAgICAgICAgICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRWYWxpZFZhbHVlKG5hbWUpO1xuICAgICAgICB9LFxuICAgICAgICB2YWx1ZUNvbnZlcnRlcnM6IHtcbiAgICAgICAgICAgIFwic3RyaW5nQXJyYXlcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvU3RyaW5nQXJyYXksXG4gICAgICAgICAgICBcIm51bWJlclwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9OdW1iZXIsXG4gICAgICAgICAgICBcIm51bWVyQXJyYXlcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvTnVtYmVyQXJyYXksXG4gICAgICAgICAgICBcImJvb2xlYW5cIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvQm9vbGVhbixcbiAgICAgICAgICAgIFwiYm9vbGVhbkFycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0Jvb2xlYW5BcnJheSxcbiAgICAgICAgICAgIFwiZGF0ZVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9EYXRlLFxuICAgICAgICAgICAgXCJkYXRlQXJyYXlcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvRGF0ZUFycmF5XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRleHRBZGp1c3Q6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5hdHRzLm1heGxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnRleHQubWF4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYXR0cy5tYXhsZW5ndGggPSBjb250ZXh0Lm1heDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5hZlRhYmxlLmV2ZW50cyh7XG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLnN0ZWVkb3NUYWJsZS1pdGVtLWFkZCwuYWRkLWl0ZW0tdHInOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gdGVtcGxhdGUuZGF0YS5uYW1lO1xuXG4gICAgICAgICAgICB2YXIgdGFibGVWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKG5hbWUpO1xuXG4gICAgICAgICAgICB2YXIgbmV3X2l0ZW1faW5kZXggPSB0YWJsZVZhbHVlID8gdGFibGVWYWx1ZS5sZW5ndGggOiAwO1xuXG4gICAgICAgICAgICBTdGVlZG9zVGFibGUuc2hvd01vZGFsKG5hbWUsIG5ld19pdGVtX2luZGV4LCBcImFkZFwiKTtcbiAgICAgICAgfSxcblxuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5zdGVlZG9zVGFibGUtaXRlbS1maWVsZCc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgaWYgKHRlbXBsYXRlLmRhdGEuYXR0cy5lZGl0YWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IHRlbXBsYXRlLmRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaW5kZXg7XG4gICAgICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnNob3dNb2RhbChmaWVsZCwgaW5kZXgsIFwiZWRpdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5zdGVlZG9zVGFibGUtaXRlbS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHZhciBmaWVsZCA9IHRlbXBsYXRlLmRhdGEubmFtZTtcbiAgICAgICAgICAgIHZhciBpdGVtX2luZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xuICAgICAgICAgICAgU2Vzc2lvbi5zZXQoXCJpbnN0YW5jZV9jaGFuZ2VcIiwgdHJ1ZSk7XG4gICAgICAgICAgICBTdGVlZG9zVGFibGUucmVtb3ZlSXRlbShmaWVsZCwgaXRlbV9pbmRleCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuaXRlbS1yZWFkb25seSc6IGZ1bmN0aW9uIChldmVudCwgdGVtcGxhdGUpIHtcblx0XHRcdGlmICghdGVtcGxhdGUuZGF0YS5hdHRzLmVkaXRhYmxlKSB7XG5cdFx0XHRcdHZhciBmaWVsZCA9IHRlbXBsYXRlLmRhdGEubmFtZTtcblx0XHRcdFx0dmFyIGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xuXHRcdFx0XHRTdGVlZG9zVGFibGUuc2hvd01vZGFsKGZpZWxkLCBpbmRleCwgXCJyZWFkXCIpO1xuXHRcdFx0fVxuXHRcdH1cbiAgICB9KTtcblxuXG5cbiAgICBUZW1wbGF0ZS5hZlRhYmxlLnJlbmRlcmVkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5kYXRhLm5hbWU7XG5cbiAgICAgICAgdmFyIGtleXMgPSBTdGVlZG9zVGFibGUuZ2V0S2V5cyhmaWVsZCk7XG4gICAgICAgIHZhciB2YWxpZFZhbHVlID0gU3RlZWRvc1RhYmxlLmhhbmRsZURhdGEoZmllbGQsIHRoaXMuZGF0YS52YWx1ZSk7XG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlKGZpZWxkLCB2YWxpZFZhbHVlKTtcblxuICAgICAgICAkKFwidGhlYWRbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGhlYWQnXVwiKS5odG1sKFN0ZWVkb3NUYWJsZS5nZXRUaGVhZChmaWVsZCwgdGhpcy5kYXRhLmF0dHMuZWRpdGFibGUpKTtcblxuICAgICAgICAkKFwidGJvZHlbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGJvZHknXVwiKS5odG1sKFN0ZWVkb3NUYWJsZS5nZXRUYm9keShrZXlzLCBmaWVsZCwgU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpLCB0aGlzLmRhdGEuYXR0cy5lZGl0YWJsZSkpO1xuICAgICAgICBcbiAgICAgICAgc3RyID0gdChcInN0ZWVkb3NfdGFibGVfYWRkX2l0ZW1cIik7XG4gICAgICAgIGFkZEl0ZW1UciA9IFwiPHRyIGNsYXNzPSdhZGQtaXRlbS10cic+PHRkIGNvbHNwYW49J1wiK2tleXMubGVuZ3RoK1wiJz48aSBjbGFzcz0naW9uIGlvbi1wbHVzLXJvdW5kJz48L2k+XCIrc3RyK1wiPC90ZD48L3RyPlwiO1xuXG4gICAgICAgIGlmICh0aGlzLmRhdGEuYXR0cy5lZGl0YWJsZSkge1xuICAgICAgICAgICAkKFwidGZvb3RbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGZvb3QnXVwiKS5hcHBlbmQoYWRkSXRlbVRyKTtcbiAgICAgICAgfVxuICAgIH07XG59IiwiSW1hZ2VTaWduLmhlbHBlcnMgPVxuXHRzcGFjZVVzZXJTaWduOiAodXNlcklkKS0+XG5cdFx0c3BhY2UgPSBcIlwiXG5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdHNwYWNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnNwYWNlXG5cdFx0ZWxzZVxuXHRcdFx0c3BhY2UgPSBTZXNzaW9uLmdldChcInNwYWNlSWRcIilcblxuXHRcdHNwYWNlVXNlclNpZ24gPSBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmRPbmUoe3NwYWNlOiBzcGFjZSwgdXNlcjogdXNlcklkfSk7XG5cdFx0cmV0dXJuIHNwYWNlVXNlclNpZ25cblxuXHRpbWFnZVVSTDogKHVzZXJJZCktPlxuXG5cdFx0c3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24odXNlcklkKTtcblxuXHRcdGFic29sdXRlID0gZmFsc2VcblxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0YWJzb2x1dGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuYWJzb2x1dGVcblxuXHRcdGlmIHNwYWNlVXNlclNpZ24/LnNpZ25cblx0XHRcdGlmIGFic29sdXRlXG5cdFx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xuIiwiSW1hZ2VTaWduLmhlbHBlcnMgPSB7XG4gIHNwYWNlVXNlclNpZ246IGZ1bmN0aW9uKHVzZXJJZCkge1xuICAgIHZhciBzcGFjZSwgc3BhY2VVc2VyU2lnbjtcbiAgICBzcGFjZSA9IFwiXCI7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgc3BhY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3BhY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwYWNlID0gU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpO1xuICAgIH1cbiAgICBzcGFjZVVzZXJTaWduID0gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBzcGFjZSxcbiAgICAgIHVzZXI6IHVzZXJJZFxuICAgIH0pO1xuICAgIHJldHVybiBzcGFjZVVzZXJTaWduO1xuICB9LFxuICBpbWFnZVVSTDogZnVuY3Rpb24odXNlcklkKSB7XG4gICAgdmFyIGFic29sdXRlLCBzcGFjZVVzZXJTaWduO1xuICAgIHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKHVzZXJJZCk7XG4gICAgYWJzb2x1dGUgPSBmYWxzZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBhYnNvbHV0ZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5hYnNvbHV0ZTtcbiAgICB9XG4gICAgaWYgKHNwYWNlVXNlclNpZ24gIT0gbnVsbCA/IHNwYWNlVXNlclNpZ24uc2lnbiA6IHZvaWQgMCkge1xuICAgICAgaWYgKGFic29sdXRlKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4iLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzID1cblx0YXBwbGljYW50Q29udGV4dDogLT5cblx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0ZGF0YSA9IHtcblx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50Jyxcblx0XHRcdGF0dHM6IHtuYW1lOiAnaW5zX2FwcGxpY2FudCcsIGlkOiAnaW5zX2FwcGxpY2FudCcsIGNsYXNzOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCd9LFxuXHRcdFx0dmFsdWU6IHN0ZWVkb3NfaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblx0XHR9XG5cdFx0aWYgbm90IHN0ZWVkb3NfaW5zdGFuY2UgfHwgc3RlZWRvc19pbnN0YW5jZS5zdGF0ZSAhPSBcImRyYWZ0XCJcblx0XHRcdGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWVcblx0XHRyZXR1cm4gZGF0YTtcblxuXHRpbnN0YW5jZUlkOiAtPlxuXHRcdHJldHVybiAnaW5zdGFuY2Vmb3JtJzsjXCJpbnN0YW5jZV9cIiArIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKTtcblxuXHRmb3JtX3R5cGVzOiAtPlxuXHRcdGlmIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxuXHRcdFx0cmV0dXJuICdkaXNhYmxlZCc7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuICdtZXRob2QnO1xuXG5cdHN0ZWVkb3NfZm9ybTogLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXHRcdGlmIGZvcm1fdmVyc2lvblxuXHRcdFx0cmV0dXJuIGZvcm1fdmVyc2lvblxuXG5cdGlubmVyc3ViZm9ybUNvbnRleHQ6IChvYmopLT5cblx0XHRkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuXHRcdG9ialtcInRhYmxlVmFsdWVzXCJdID0gaWYgZG9jX3ZhbHVlcyB0aGVuIGRvY192YWx1ZXNbb2JqLmNvZGVdIGVsc2UgW11cblx0XHRvYmpbXCJmb3JtSWRcIl0gPSBcImluc3RhbmNlZm9ybVwiO1xuXHRcdHJldHVybiBvYmo7XG5cblx0aW5zdGFuY2U6IC0+XG5cdFx0U2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKVxuXHRcdGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpXG5cdFx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0XHRyZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcblxuXHRlbXB0eTogKHZhbCkgLT5cblx0XHRpZiB2YWxcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdHVuZW1wdHk6ICh2YWwpIC0+XG5cdFx0aWYgdmFsXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0ZXF1YWxzOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gKGEgPT0gYilcblxuXHR1bmVxdWFsczogKGEsIGIpIC0+XG5cdFx0cmV0dXJuICEoYSA9PSBiKVxuXG5cdGluY2x1ZGVzOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuXG5cdGluY2x1ZGU6IChhLCBiKSAtPlxuXHRcdHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG5cblx0ZmllbGRzOiAtPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdFx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuXG5cdGZvcm1hdERhdGU6IChkYXRlLCBvcHRpb25zKS0+XG5cdFx0aWYgIWRhdGVcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdGlmIG9wdGlvbnMgJiYgdHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnXG5cdFx0XHRvcHRpb25zID0gSlNPTi5wYXJzZShvcHRpb25zKTtcblxuXHRcdGlmICFvcHRpb25zLmZvcm1hdFxuXHRcdFx0b3B0aW9ucyA9IHtmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwifVxuXG5cdFx0cmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQob3B0aW9ucy5mb3JtYXQpO1xuXG5cdHRyYWNlczogLT5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdHN0ZWVkb3NEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8udmlldz8udGVtcGxhdGU/LnN0ZWVkb3NEYXRhXG5cdFx0XHRpbnN0YW5jZSA9IHN0ZWVkb3NEYXRhPy5pbnN0YW5jZVxuXHRcdFx0ZmxvdyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbihpbnN0YW5jZSk7XG5cdFx0XHRsb2NhbGUgPSBzdGVlZG9zRGF0YT8ubG9jYWxlXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRcdGVsc2Vcblx0XHRcdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cblx0XHRcdGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGbG93VmVyc2lvbigpXG5cblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcblxuXHRcdGlmICFpbnN0YW5jZSB8fCAhZmxvd1xuXHRcdFx0cmV0dXJuIHt9O1xuXG5cdFx0c3RlcHMgPSBmbG93LnN0ZXBzO1xuXG5cdFx0dHJhY2VzID0ge307XG5cblx0XHRpbnN0YW5jZS50cmFjZXM/LmZvckVhY2ggKHRyYWNlKS0+XG5cdFx0XHRzdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZS5zdGVwKVxuXG5cdFx0XHRhcHByb3ZlcyA9IFtdXG5cblx0XHRcdHRyYWNlLmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKSAtPlxuXHRcdFx0XHRpZiB0cmFjZS5pc19maW5pc2hlZCA9PSB0cnVlXG4jIOW3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+3XG5cdFx0XHRcdFx0aWYgYXBwcm92ZS5qdWRnZSA9PSAnYXBwcm92ZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIGFwcHJvdmVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWplY3RlZCdcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVqZWN0ZWRcIiwge30sIGxvY2FsZSlcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWRcIiwge30sIGxvY2FsZSlcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3JlYXNzaWduZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlYXNzaWduZWRcIiwge30sIGxvY2FsZSlcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3JlbG9jYXRlZCdcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVsb2NhdGVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICcnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gXCJcIlxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBcIlwiXG5cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcGVuZGluZ1wiLCB7fSwgbG9jYWxlKVxuXG5cdFx0XHRcdGFwcHJvdmVzLnB1c2hcblx0XHRcdFx0XHRfaWQ6IGFwcHJvdmUuX2lkXG5cdFx0XHRcdFx0aGFuZGxlcjogYXBwcm92ZS51c2VyXG5cdFx0XHRcdFx0aGFuZGxlcl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfbmFtZVxuXHRcdFx0XHRcdGhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVxuXHRcdFx0XHRcdGhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXG5cdFx0XHRcdFx0ZmluaXNoX2RhdGU6IGFwcHJvdmUuZmluaXNoX2RhdGVcblx0XHRcdFx0XHRqdWRnZTogYXBwcm92ZS5qdWRnZVxuXHRcdFx0XHRcdGp1ZGdlX25hbWU6IGp1ZGdlX25hbWVcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogYXBwcm92ZS5kZXNjcmlwdGlvblxuXHRcdFx0XHRcdGlzX2ZpbmlzaGVkOiBhcHByb3ZlLmlzX2ZpbmlzaGVkXG5cdFx0XHRcdFx0dHlwZTogYXBwcm92ZS50eXBlXG5cdFx0XHRcdFx0b3Bpbmlvbl9maWVsZHNfY29kZTogYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlXG5cdFx0XHRcdFx0c2lnbl9maWVsZF9jb2RlOiBhcHByb3ZlLnNpZ25fZmllbGRfY29kZVxuXHRcdFx0XHRcdGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0XHRcdHNpZ25fc2hvdzogYXBwcm92ZS5zaWduX3Nob3dcblxuXG5cdFx0XHRpZiBzdGVwXG5cdFx0XHRcdGlmIHN0ZXAubmFtZSBvZiB0cmFjZXNcblx0XHRcdFx0XHR0cmFjZXNbc3RlcC5uYW1lXSA9IHRyYWNlc1tzdGVwLm5hbWVdLmNvbmNhdChhcHByb3Zlcylcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRyYWNlc1tzdGVwLm5hbWVdID0gYXBwcm92ZXNcblxuXHRcdHJldHVybiB0cmFjZXM7XG5cblxuXG5cdGRvY192YWx1ZXM6IC0+XG5cdFx0V29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuXG5cdGluc3RhbmNlX2JveF9zdHlsZTogLT5cblx0XHRib3ggPSBTZXNzaW9uLmdldChcImJveFwiKVxuXHRcdGlmIGJveCA9PSBcImluYm94XCIgfHwgYm94ID09IFwiZHJhZnRcIlxuXHRcdFx0anVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpXG5cdFx0XHRpZiBqdWRnZVxuXHRcdFx0XHRpZiAoanVkZ2UgPT0gXCJhcHByb3ZlZFwiKVxuXHRcdFx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcblx0XHRcdFx0ZWxzZSBpZiAoanVkZ2UgPT0gXCJyZWplY3RlZFwiKVxuXHRcdFx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxuXHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmIGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb25cblx0XHRcdGlmIGlucy5maW5hbF9kZWNpc2lvbiA9PSBcImFwcHJvdmVkXCJcblx0XHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxuXHRcdFx0ZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09IFwicmVqZWN0ZWRcIilcblx0XHRcdFx0cmV0dXJuIFwiYm94LWRhbmdlclwiXG5cbiNpc19kaXNhYmxlZDogLT5cbiMgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4jICAgIGlmICFpbnNcbiMgICAgICAgIHJldHVybjtcbiMgICAgaWYgaW5zLnN0YXRlIT1cImRyYWZ0XCJcbiMgICAgICAgIHJldHVybiBcImRpc2FibGVkXCI7XG4jICAgIHJldHVybjtcblxuXHR0YWJsZV9maWVsZHM6IChpbnN0YW5jZSktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcblx0XHRlbHNlXG5cdFx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXHRcdGlmIGZvcm1fdmVyc2lvblxuXHRcdFx0ZmllbGRzID0gXy5jbG9uZShmb3JtX3ZlcnNpb24uZmllbGRzKTtcblxuXHRcdFx0ZmllbGRzLmZvckVhY2ggKGZpZWxkLCBpbmRleCkgLT5cblx0XHRcdFx0ZmllbGQudHJfc3RhcnQgPSBcIlwiO1xuXHRcdFx0XHRmaWVsZC50cl9lbmQgPSBcIlwiO1xuXHRcdFx0XHR0ZF9jb2xzcGFuID0gMTtcbiNcdFx0XHRcdOW8uuWItuiuvue9ruagh+WktOWtl+auteS4uuWuveWtl+autVxuXHRcdFx0XHRpZiBDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lID09IGZpZWxkLmNvZGVcblx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZVxuXG5cdFx0XHRcdGlmIGZpZWxkLmZvcm11bGEgJiYgZmllbGQudHlwZSAhPSAnb2RhdGEnXG5cdFx0XHRcdFx0ZmllbGQucGVybWlzc2lvbiA9IFwicmVhZG9ubHlcIjtcblxuXHRcdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcbiMg5aaC5p6c5b2T5YmN5a2X5q615piv5YiG57uE44CB6KGo5qC844CB5a695a2X5q61XG5cdFx0XHRcdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gNDtcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gMztcblxuXHRcdFx0XHRcdGlmIGluZGV4ICE9IDBcblx0XHRcdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gXCI8dHI+XCI7XG5cdFx0XHRcdFx0XHRmaWVsZC50cl9lbmQgPSBcIjwvdHI+XCI7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRwcmVfZmllbGRzID0gZmllbGRzLnNsaWNlKDAsIGluZGV4KTtcblxuXHRcdFx0XHRcdHByZV93aWRlX2ZpZWxkcyA9IHByZV9maWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xuXG5cdFx0XHRcdFx0dHJfc3RhcnQgPSBcIlwiO1xuXG5cdFx0XHRcdFx0dHJfZW5kID0gXCJcIjtcblxuXHRcdFx0XHRcdCMg5YWI6K6h566X5b2T5YmN5a2X5q615piv5ZCm5Li65a695a2X5q61XG5cdFx0XHRcdFx0YmVmb3JlX2ZpZWxkID0gbnVsbDtcblx0XHRcdFx0XHRhZnRlcl9maWVsZCA9IG51bGw7XG5cblx0XHRcdFx0XHRpZiBpbmRleCA+IDBcblx0XHRcdFx0XHRcdGJlZm9yZV9maWVsZCA9IGZpZWxkc1tpbmRleCAtIDFdXG5cblx0XHRcdFx0XHRpZiBpbmRleCA8IGZpZWxkcy5sZW5ndGggLSAxXG5cdFx0XHRcdFx0XHRhZnRlcl9maWVsZCA9IGZpZWxkc1tpbmRleCArIDFdXG5cblx0XHRcdFx0XHQjIOWmguaenOW9k+WJjeWtl+auteaYr+WIhue7hOOAgeihqOagvOOAgeWuveWtl+autVxuXHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDQ7XG5cdFx0XHRcdFx0ZWxzZSBpZiBmaWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcblx0XHRcdFx0XHRlbHNlXG4jIOWJjeWQjumDveaYr+WuveWtl+autVxuXHRcdFx0XHRcdFx0aWYgYmVmb3JlX2ZpZWxkICYmIGFmdGVyX2ZpZWxkICYmIGJlZm9yZV9maWVsZC5pc193aWRlICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xuXG5cdFx0XHRcdFx0XHQjIOW9k+WJjeaYr3RyIOS4i+eahCDnrKzkuIDkuKp0ZCAmIOWQjui+ueeahOWtl+auteaYr+WuveWtl+autVxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgJiYgYWZ0ZXJfZmllbGQgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZVxuXHRcdFx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XG5cblx0XHRcdFx0XHRcdCMg5b2T5YmN5pivdHIg5LiL55qEIOesrOS4gOS4qnRkICYg5b2T5YmN5a2X5q615piv5pyA5ZCO5LiA5Liq5a2X5q61XG5cdFx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT0gMCAmJiBhZnRlcl9maWVsZCA9PSBudWxsXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcblxuXHRcdFx0XHRcdGZpZWxkLnRkX2NvbHNwYW4gPSB0ZF9jb2xzcGFuO1xuXG5cblx0XHRcdFx0XHRpZiBpbmRleCA9PSAwXG4jIHRyX3N0YXJ0ID0gXCI8dHI+XCI7IOeUseS6jlRlbXBsYXRl55qE57yW6K+RYnVn77yM5a+86Ie05q+P5qyh57uZ5LiA5LiqdHLlvIDlp4vml7bvvIzkvJroh6rliqjooaXlpLTmiJbooaXlsL7jgILlm6DmraTlnKjnrKzkuIDooYzov5Tlm57kuIDkuKrnqbrlrZfnrKbkuLIuXG5cdFx0XHRcdFx0XHR0cl9zdGFydCA9IFwiPHRyPlwiO1xuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PSAwIHx8IGZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdFx0aWYgZmllbGQudHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0ciBjbGFzcyA9IFxcXCJ0ci1jaGlsZC10YWJsZVxcXCI+XCI7XG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHR0cl9zdGFydCA9IFwiPHRyPlwiO1xuXG5cdFx0XHRcdFx0ZmllbGQudHJfc3RhcnQgPSB0cl9zdGFydDtcblxuXG5cdFx0XHRcdFx0aWYgaW5kZXggKyAxID09IGZpZWxkcy5sZW5ndGggfHwgZmllbGQudHlwZSA9PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PSAndGFibGUnIHx8IGZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdHRyX2VuZCA9IFwiPC90cj5cIjtcblxuXHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiAhPSAwXG5cdFx0XHRcdFx0XHR0cl9lbmQgPSBcIjwvdHI+XCI7XG5cblx0XHRcdFx0XHRmaWVsZC50cl9lbmQgPSB0cl9lbmQ7XG5cblx0XHRcdHJldHVybiBmaWVsZHM7XG5cblx0c29ydF9hcHByb3ZlOiAoYXBwcm92ZXMsIG9yZGVyKS0+XG5cdFx0aWYgIWFwcHJvdmVzXG5cdFx0XHRyZXR1cm4gW11cblxuXHRcdGlmICFhcHByb3ZlcyBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRyZXR1cm4gW11cblx0XHRlbHNlXG5cdFx0XHRpZiBvcmRlciA9PSAnZGVzYydcblx0XHRcdFx0YXBwcm92ZXMuc29ydCAocDEsIHAyKSAtPlxuXHRcdFx0XHRcdF9wMSA9IDBcblx0XHRcdFx0XHRfcDIgPSAwXG5cblx0XHRcdFx0XHRpZiBwMS5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0X3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpXG5cblx0XHRcdFx0XHRpZiBwMi5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0X3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIF9wMiAtIF9wMVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRhcHByb3Zlcy5zb3J0IChwMSwgcDIpIC0+XG5cdFx0XHRcdFx0X3AxID0gMFxuXHRcdFx0XHRcdF9wMiA9IDBcblxuXHRcdFx0XHRcdGlmIHAxLmZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0XHRfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKClcblxuXHRcdFx0XHRcdGlmIHAyLmZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0XHRfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG5cblx0XHRcdFx0XHRyZXR1cm4gX3AxIC0gX3AyXG5cdFx0cmV0dXJuIGFwcHJvdmVzXG5cblx0X3Q6IChrZXkpLT5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXG5cdGdldEZpZWxkOiAoY29kZSktPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpXG5cblx0Z2V0VmFsdWU6IChjb2RlKS0+XG5cdFx0aW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2VcblxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblxuXHRcdHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcblxuXHRcdHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fVxuXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHR2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKClcblxuXHRcdHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUgdmFsdWVzW2NvZGVdLCBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLCBsb2NhbGUsIHV0Y09mZnNldFxuXG5cdGdldExhYmVsOiAoY29kZSktPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgY29kZVxuXG5cdGdldENmQ2xhc3M6IChmaWVsZCktPlxuXHRcdGlmIGZpZWxkPy50eXBlID09IFwiaW5wdXRcIiAmJiBmaWVsZD8uaXNfdGV4dGFyZWFcblx0XHRcdHJldHVybiBcImNmVGV4dGFyZWFcIlxuXG5cdGdldFRhYmxlVGhlYWQ6IChmaWVsZCktPlxuXHRcdHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIGZhbHNlKVxuXG5cdGdldFRhYmxlQm9keTogKGZpZWxkKS0+XG5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlXG5cdFx0XHR2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge31cblx0XHRlbHNlXG5cdFx0XHR2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKClcblxuXHRcdHRhYmxlVmFsdWUgPSB2YWx1ZXNbZmllbGQuY29kZV07XG5cdFx0cmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYm9keShmaWVsZC5zZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKSwgZmllbGQsIHRhYmxlVmFsdWUsIGZhbHNlKVxuXG5cdHNob3dMYWJlbDogKGZpZWxkKS0+XG5cdFx0dGVtcGxhdGVEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhXG5cdFx0aWYgdGVtcGxhdGVEYXRhLmxhYmVsID09IGZhbHNlXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRyZXR1cm4gdHJ1ZVxuXG4jXHRhZkZpZWxkTGFiZWxUZXh0OiAob3ApLT5cbiNcdFx0aWYgIVRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YVxuI1x0XHRcdHJldHVybiBBdXRvRm9ybS5nZXRMYWJlbEZvckZpZWxkKG9wLm5hbWUpXG4jXHRcdGVsc2VcbiNcdFx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG4jXHRcdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsIGZvcm1fdmVyc2lvbi5maWVsZHMsIG9wPy5oYXNoPy5uYW1lXG5cblx0aXNPcGluaW9uRmllbGQ6IChmaWVsZCktPlxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkLmZvcm11bGEpXG5cblx0aXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmc6IChmaWVsZF9mb3JtdWxhKS0+XG5cdFx0cmV0dXJuIEluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcblxuXHRpbmNsdWRlc09waW5pb25GaWVsZDogKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxuXG5cdFx0ZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcblxuXHRcdGZpZWxkcyA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7X2lkOiBmb3JtX3ZlcnNpb24sIGZvcm06IGZvcm19KT8uZmllbGRzIHx8IFtdXG5cblx0XHRmaWVsZHMuZm9yRWFjaCAoZiktPlxuXHRcdFx0aWYgZi50eXBlID09ICd0YWJsZSdcblx0XHRcdFx0Y29uc29sZS5sb2cgJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJ1xuXHRcdFx0ZWxzZSBpZiBmLnR5cGUgPT0gJ3NlY3Rpb24nXG5cdFx0XHRcdGY/LmZpZWxkcz8uZm9yRWFjaCAoZjEpLT5cblx0XHRcdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYxLmZvcm11bGFcblx0XHRcdGVsc2Vcblx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmLmZvcm11bGFcblxuXHRcdF8uc29tZSBmaWVsZF9mb3JtdWxhcywgKGZpZWxkX2Zvcm11bGEpLT5cblx0XHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXG5cblx0Z2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lOiAoZmllbGRfZm9ybXVsYSwgdG9wX2tleXdvcmRzKS0+XG5cblx0XHRvcGluaW9uRmllbGRzID0gbmV3IEFycmF5KCk7XG4jXHRcdGNvbnNvbGUubG9nKFwiZmllbGRfZm9ybXVsYVwiLCBmaWVsZF9mb3JtdWxhKVxuXHRcdGlmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcblx0XHRcdGlmIGZpZWxkX2Zvcm11bGFcblxuI1x0XHRcdFx0Zm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCIsXCIpXG5cdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKVxuXG4jXHRcdFx0XHRpZiB0b3Bfa2V5d29yZHNcbiNcdFx0XHRcdFx0Zm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCI7XCIpXG5cblx0XHRcdFx0Zm9vMS5mb3JFYWNoIChmb28pLT5cblx0XHRcdFx0XHRqc29uX2Zvcm11bGEgPSB7fVxuXG5cdFx0XHRcdFx0dHJ5XG5cdFx0XHRcdFx0XHRqc29uX2Zvcm11bGEgPSBldmFsKFwiKFwiICsgZm9vICsgXCIpXCIpXG5cdFx0XHRcdFx0Y2F0Y2hcblx0XHRcdFx0XHRcdGpzb25fZm9ybXVsYSA9IHt9XG5cblx0XHRcdFx0XHRpZiBqc29uX2Zvcm11bGE/LnlpamlhbmxhblxuXHRcdFx0XHRcdFx0c2YgPSB7fVxuXG5cdFx0XHRcdFx0XHRzZi5zdGVwTmFtZSA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uc3RlcFxuXG5cdFx0XHRcdFx0XHRzZi5pbWFnZV9zaWduID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5pbWFnZV9zaWduIHx8IGZhbHNlXG5cblx0XHRcdFx0XHRcdHNmLm9ubHlfY2Nfb3BpbmlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9jYyB8fCBmYWxzZVxuXG5cdFx0XHRcdFx0XHRzZi5kZWZhdWx0X2Rlc2NyaXB0aW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5kZWZhdWx0XG5cblx0XHRcdFx0XHRcdHNmLm9ubHlfaGFuZGxlciA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9oYW5kbGVyXG5cblx0XHRcdFx0XHRcdHNmLnRvcF9rZXl3b3JkcyA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4udG9wX2tleXdvcmRzIHx8IHRvcF9rZXl3b3Jkc1xuXG5cdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuXG5cdFx0XHRcdFx0ZWxzZSBpZihmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3RyYWNlcy5cIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpID4gLTEpXG5cblx0XHRcdFx0XHRcdHNmID0ge29ubHlfY2Nfb3BpbmlvbjogZmFsc2UsIGltYWdlX3NpZ246IGZhbHNlLCB0b3Bfa2V5d29yZHM6IHRvcF9rZXl3b3Jkc31cblxuXHRcdFx0XHRcdFx0aWYgZm9vLmluZGV4T2YoXCJ7c2lnbmF0dXJlLlwiKSA+IC0xXG5cdFx0XHRcdFx0XHRcdHNmLmltYWdlX3NpZ24gPSB0cnVlXG5cdFx0XHRcdFx0XHRcdGZvbyA9IGZvby5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIixcIlwiKTtcblxuXHRcdFx0XHRcdFx0czEgPSBmb28ucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXG5cdFx0XHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMVxuXHRcdFx0XHRcdFx0XHRzZi5zdGVwTmFtZSA9IHMxLnNwbGl0KFwiLlwiKVsxXVxuXHRcdFx0XHRcdFx0XHRpZiBvcGluaW9uRmllbGRzLmZpbHRlclByb3BlcnR5KFwic3RlcE5hbWVcIixzZi5zdGVwTmFtZSkubGVuZ3RoID4gMFxuXHRcdFx0XHRcdFx0XHRcdG9waW5pb25GaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBOYW1lXCIsIHNmLnN0ZXBOYW1lKT8ub25seV9jY19vcGluaW9uID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKVsyXT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnY2MnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNmLm9ubHlfY2Nfb3BpbmlvbiA9IHRydWVcblx0XHRcdFx0XHRcdG9waW5pb25GaWVsZHMucHVzaChzZik7XG5cblx0XHRyZXR1cm4gb3BpbmlvbkZpZWxkc1xuXG5cdHNob3dDQ09waW5pb246IChmaWVsZCktPlxuXHRcdGlmIGZpZWxkLmZvcm11bGE/LmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkLmZvcm11bGE/LmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgPiAtMVxuXHRcdFx0czEgPSBmaWVsZC5mb3JtdWxhLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLFwiXCIpLnJlcGxhY2UoXCJ7XCIsXCJcIikucmVwbGFjZShcIn1cIixcIlwiKVxuXHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDJcblx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpWzJdPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdjYydcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdG1hcmtEb3duVG9IdG1sOiAobWFya0Rvd25TdHJpbmcpLT5cblx0XHRpZiBtYXJrRG93blN0cmluZ1xuXHRcdFx0cmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcblx0XHRcdHJlbmRlcmVyLmxpbmsgPSAoIGhyZWYsIHRpdGxlLCB0ZXh0ICkgLT5cblx0XHRcdFx0cmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9JyN7aHJlZn0nIHRpdGxlPScje3RpdGxlfSc+I3t0ZXh0fTwvYT5cIlxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7cmVuZGVyZXI6cmVuZGVyZXJ9KSlcblxuXHRmX2xhYmVsOiAodGhhdCktPlxuXHRcdHJldHVybiB0aGF0Lm5hbWUgfHwgdGhhdC5jb2RlXG5cbmlmIE1ldGVvci5pc1NlcnZlclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnN0ZWVkb3NfZm9ybSA9IC0+XG5cdFx0cmV0dXJuIHRoaXMuZm9ybV92ZXJzaW9uXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc1NlY3Rpb24gPSAoY29kZSktPlxuXHRcdGZvcm1fdmVyc2lvbiA9IHRoaXMuZm9ybV92ZXJzaW9uXG5cdFx0cmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSkudHlwZSA9PSAnc2VjdGlvbidcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmRvY192YWx1ZXMgPSAtPlxuXHRcdGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcblx0XHRyZXR1cm4gaW5zdGFuY2UudmFsdWVzO1xuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuYXBwbGljYW50Q29udGV4dCA9IC0+XG5cdFx0aW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xuXHRcdGRhdGEgPSB7XG5cdFx0XHRuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRhdHRzOiB7bmFtZTogJ2luc19hcHBsaWNhbnQnLCBpZDogJ2luc19hcHBsaWNhbnQnLCBjbGFzczogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnfSxcblx0XHRcdHZhbHVlOiBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxuXHRcdH1cblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlID0gLT5cblx0XHRyZXR1cm4gdGhpcy5pbnN0YW5jZVxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZmllbGRzID0gLT5cblx0XHRmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvblxuXHRcdGlmIGZvcm1fdmVyc2lvblxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZvcm1fdHlwZXMgPSAtPlxuXHRcdHJldHVybiBcImRpc2FibGVkXCJcblxuXHRUZW1wbGF0ZS5yZWdpc3RlckhlbHBlciBcImFmRmllbGRMYWJlbFRleHRcIiwgKG9wKS0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvblxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCBmb3JtX3ZlcnNpb24uZmllbGRzLCBvcD8uaGFzaD8ubmFtZVxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuX3QgPSAoa2V5KS0+XG5cdFx0bG9jYWxlID0gdGhpcy5sb2NhbGVcblxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc19hdHRhY2hfZG93bmxvYWRfdXJsID0gKF9pZCwgYWJzb2x1dGUpLT5cblx0XHRpZiBhYnNvbHV0ZVxuXHRcdFx0cmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIi9hcGkvZmlsZXMvaW5zdGFuY2VzLyN7X2lkfT9kb3dubG9hZD10cnVlXCIpO1xuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBcIi9hcGkvZmlsZXMvaW5zdGFuY2VzLyN7X2lkfT9kb3dubG9hZD10cnVlXCI7XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5vcHRpb25zID0gKGZpZWxkKS0+XG5cdFx0b3B0aW9ucyA9IGZpZWxkPy5vcHRpb25zPy5zcGxpdChcIlxcblwiKVxuXHRcdHJldiA9IFtdXG5cdFx0b3B0aW9ucz8uZm9yRWFjaCAoaXRlbSktPlxuXHRcdFx0cmV2LnB1c2goe2xhYmVsOiBpdGVtLCB2YWx1ZTogaXRlbX0pXG5cblx0XHRyZXR1cm4gcmV2XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRQZXJtaXNzaW9ucyA9IChjb2RlKS0+XG5cdFx0aWYgIVRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5zdGFydFN0ZXBFZGl0YWJsZUZpZWxkcz8uaW5jbHVkZXMoY29kZSlcblx0XHRcdHJldHVybiBcInJlYWRvbmx5IGRpc2FibGVkXCJcblx0XHRyZXR1cm4gXCJcIlxuXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5ldmVudHMgPVxuXHQnY2hhbmdlIC5mb3JtLWNvbnRyb2wsLmNoZWNrYm94IGlucHV0LC5hZi1yYWRpby1ncm91cCBpbnB1dCwuYWYtY2hlY2tib3gtZ3JvdXAgaW5wdXQnOiAoZXZlbnQpLT5cblx0XHRJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpXG5cblx0J3R5cGVhaGVhZDpjaGFuZ2UgLmZvcm0tY29udHJvbCc6IChldmVudCkgLT5cblx0XHRJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpXG5cblx0J2NsaWNrIC5jZlRleHRhcmVhIGEnOiAoZXZlbnQpLT5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFN0ZWVkb3Mub3BlbldpbmRvdyhldmVudC50YXJnZXQuaHJlZik7XG5cblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25DcmVhdGVkID0gKCktPlxuXHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRpZiAhaW5zdGFuY2Vcblx0XHRyZXR1cm47XG5cblx0dGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UpO1xuXG5cdHRyeVxuXHRcdGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0ZW1wbGF0ZSwge2lzQm9keTogdHJ1ZX0pO1xuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5sb2cgXCJJbnN0YW5jZSBUZW1wbGF0ZSBFcnJvclwiLCBlXG5cdFx0Y29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKFwiXCIsIHtpc0JvZHk6IHRydWV9KTtcblxuXG5cdHJlbmRlckZ1bmN0aW9uID0gZXZhbChjb21waWxlZCk7XG5cblx0aW5zdGFuY2VWaWV3ID0gbmV3IEJsYXplLlZpZXcoXCJjdXN0b21faW5zdGFuY2VfdGVtcGxhdGVcIiwgcmVuZGVyRnVuY3Rpb24pO1xuXG5cdGluc3RhbmNlQ3VzdG9tVGVtcGxhdGUgPSBuZXcgQmxhemUuVGVtcGxhdGUoaW5zdGFuY2VWaWV3Lm5hbWUsIHJlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9jdXN0b21fdGVtcGxhdGUgPSBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlXG5cblx0VGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlLmhlbHBlcnMgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVyc1xuXG5cblxuXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5vblJlbmRlcmVkID0gKCktPlxuXHQjIHQgPSB0aGlzO1xuXG5cdCN0LnN1YnNjcmliZSBcImluc3RhbmNlX2RhdGFcIiwgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpLCAtPlxuXHQjICAgIFRyYWNrZXIuYWZ0ZXJGbHVzaCAtPlxuXHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRpZiAhaW5zdGFuY2Vcblx0XHRyZXR1cm47XG5cblx0IyQoXCIjaW5zX2FwcGxpY2FudFwiKS5zZWxlY3QyKCkudmFsKGluc3RhbmNlLmFwcGxpY2FudCkudHJpZ2dlcignY2hhbmdlJyk7XG5cdCMkKFwiI2luc19hcHBsaWNhbnRcIikudmFsKGluc3RhbmNlLmFwcGxpY2FudCk7XG5cdCQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIilbMF0/LmRhdGFzZXQudmFsdWVzID0gaW5zdGFuY2UuYXBwbGljYW50O1xuXHQkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZSlcblxuXG5cdEFwcHJvdmVNYW5hZ2VyLmVycm9yID0ge25leHRTdGVwczogJycsIG5leHRTdGVwVXNlcnM6ICcnfTtcblxuXHQjIGluc3RhbmNlIGZyb23nu5Hlrprkuovku7Zcblx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnZHJhZnQnXG5cdFx0SW5zdGFuY2VFdmVudC5pbml0RXZlbnRzKGluc3RhbmNlLmZsb3cpO1xuXG5cdGlmICFBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcblxuXHRcdGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XG5cblxuXHRcdGluc3RhbmNlTnVtYmVyRmllbGRzID0gJChcIltkYXRhLWZvcm11bGFdXCIsICQoXCIjaW5zdGFuY2Vmb3JtXCIpKVxuXG5cdFx0aW5zdGFuY2VOdW1iZXJGaWVsZHMuZWFjaCAoKS0+XG5cdFx0XHRzY2hlbWFLZXkgPSB0aGlzLmRhdGFzZXQuc2NoZW1hS2V5XG5cdFx0XHRlbGVtZW50ID0gJCh0aGlzKVxuXHRcdFx0aWYgISQodGhpcykudmFsKCkgJiYgc2NoZW1hS2V5ICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKVxuXHRcdFx0XHRNZXRlb3IuY2FsbCAnZ2V0SW5zdGFuY2VWYWx1ZXMnLCBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIiksIChlcnJvciwgcmVzdWx0KS0+XG5cdFx0XHRcdFx0aWYgZXJyb3Jcblx0XHRcdFx0XHRcdHRvYXN0ci5lcnJvcihlcnJvci5yZWFzb24pXG5cblx0XHRcdFx0XHRpZiAhcmVzdWx0W3NjaGVtYUtleV1cblx0XHRcdFx0XHRcdGtleSA9IGVsZW1lbnQuZGF0YShcImZvcm11bGFcIik/LnJlcGxhY2UoXCJhdXRvX251bWJlcihcIiwgXCJcIikucmVwbGFjZShcIilcIiwgXCJcIilcblxuXHRcdFx0XHRcdFx0a2V5ID0ga2V5LnJlcGxhY2UoL1xcXCIvZywgXCJcIikucmVwbGFjZSgvXFwnL2csIFwiXCIpXG5cblx0XHRcdFx0XHRcdGlmIGtleS5pbmRleE9mKFwie1wiKSA+IC0xXG5cdFx0XHRcdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKFwie1wiLFwiXCIpLnJlcGxhY2UoXCJ9XCIsXCJcIilcblx0XHRcdFx0XHRcdFx0a2V5ID0ga2V5LnRyaW0oKVxuXHRcdFx0XHRcdFx0XHRrZXkgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKGtleSwgJ2luc3RhbmNlZm9ybScpXG5cdFx0XHRcdFx0XHRJbnN0YW5jZU51bWJlclJ1bGVzLmluc3RhbmNlTnVtYmVyQnVpbGRlciBlbGVtZW50LCBrZXlcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRlbGVtZW50Py52YWwocmVzdWx0W3NjaGVtYUtleV0pLnRyaWdnZXIoXCJjaGFuZ2VcIilcblxuXHRcdGp1ZGdlID0gY3VycmVudEFwcHJvdmUuanVkZ2Vcblx0XHRjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuXHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cblx0XHRmb3JtdWxhX2ZpZWxkcyA9IEZvcm1fZm9ybXVsYS5nZXRGb3JtdWxhRmllbGRWYXJpYWJsZShcIkZvcm1fZm9ybXVsYS5maWVsZF92YWx1ZXNcIiwgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG5cdFx0Rm9ybV9mb3JtdWxhLnJ1bihcIlwiLCBcIlwiLCBmb3JtdWxhX2ZpZWxkcywgQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcImluc3RhbmNlZm9ybVwiKS5pbnNlcnREb2MsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuXHRcdCPlnKjmraTlpITliJ3lp4vljJZzZXNzaW9uIOS4reeahCBmb3JtX3ZhbHVlcyDlj5jph4/vvIznlKjkuo7op6blj5HkuIvkuIDmraXmraXpqqTorqHnrpdcblx0XHRTZXNzaW9uLnNldChcImluc3RhbmNlX2Zvcm1fdmFsdWVzXCIsIHtpbnN0YW5jZUlkOiBpbnN0YW5jZS5faWQsIHZhbHVlczogQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcImluc3RhbmNlZm9ybVwiKS5pbnNlcnREb2N9KTtcblxuXG5cbiIsIkluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMgPSB7XG4gIGFwcGxpY2FudENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBzdGVlZG9zX2luc3RhbmNlO1xuICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBkYXRhID0ge1xuICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgYXR0czoge1xuICAgICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIGlkOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIFwiY2xhc3NcIjogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnXG4gICAgICB9LFxuICAgICAgdmFsdWU6IHN0ZWVkb3NfaW5zdGFuY2UuYXBwbGljYW50X25hbWVcbiAgICB9O1xuICAgIGlmICghc3RlZWRvc19pbnN0YW5jZSB8fCBzdGVlZG9zX2luc3RhbmNlLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgIGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9LFxuICBpbnN0YW5jZUlkOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ2luc3RhbmNlZm9ybSc7XG4gIH0sXG4gIGZvcm1fdHlwZXM6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCkpIHtcbiAgICAgIHJldHVybiAnZGlzYWJsZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ21ldGhvZCc7XG4gICAgfVxuICB9LFxuICBzdGVlZG9zX2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gZm9ybV92ZXJzaW9uO1xuICAgIH1cbiAgfSxcbiAgaW5uZXJzdWJmb3JtQ29udGV4dDogZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGRvY192YWx1ZXM7XG4gICAgZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICBvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGRvY192YWx1ZXMgPyBkb2NfdmFsdWVzW29iai5jb2RlXSA6IFtdO1xuICAgIG9ialtcImZvcm1JZFwiXSA9IFwiaW5zdGFuY2Vmb3JtXCI7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgaW5zdGFuY2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGVlZG9zX2luc3RhbmNlO1xuICAgIFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIik7XG4gICAgaWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSkge1xuICAgICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgcmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgfVxuICB9LFxuICBlbXB0eTogZnVuY3Rpb24odmFsKSB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVuZW1wdHk6IGZ1bmN0aW9uKHZhbCkge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBlcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfSxcbiAgdW5lcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gIShhID09PSBiKTtcbiAgfSxcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuICB9LFxuICBpbmNsdWRlOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgZmllbGRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcbiAgICB9XG4gIH0sXG4gIGZvcm1hdERhdGU6IGZ1bmN0aW9uKGRhdGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWRhdGUpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuZm9ybWF0KSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwiXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdChvcHRpb25zLmZvcm1hdCk7XG4gIH0sXG4gIHRyYWNlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZsb3csIGluc3RhbmNlLCBsb2NhbGUsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgc3RlZWRvc0RhdGEsIHN0ZXBzLCB0cmFjZXM7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgc3RlZWRvc0RhdGEgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLnZpZXcpICE9IG51bGwgPyAocmVmMiA9IHJlZjEudGVtcGxhdGUpICE9IG51bGwgPyByZWYyLnN0ZWVkb3NEYXRhIDogdm9pZCAwIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgaW5zdGFuY2UgPSBzdGVlZG9zRGF0YSAhPSBudWxsID8gc3RlZWRvc0RhdGEuaW5zdGFuY2UgOiB2b2lkIDA7XG4gICAgICBmbG93ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEZsb3dWZXJzaW9uKGluc3RhbmNlKTtcbiAgICAgIGxvY2FsZSA9IHN0ZWVkb3NEYXRhICE9IG51bGwgPyBzdGVlZG9zRGF0YS5sb2NhbGUgOiB2b2lkIDA7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZsb3dWZXJzaW9uKCk7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBpZiAoIWluc3RhbmNlIHx8ICFmbG93KSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHN0ZXBzID0gZmxvdy5zdGVwcztcbiAgICB0cmFjZXMgPSB7fTtcbiAgICBpZiAoKHJlZjMgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwpIHtcbiAgICAgIHJlZjMuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICB2YXIgYXBwcm92ZXMsIHJlZjQsIHN0ZXA7XG4gICAgICAgIHN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlLnN0ZXApO1xuICAgICAgICBhcHByb3ZlcyA9IFtdO1xuICAgICAgICBpZiAoKHJlZjQgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCkge1xuICAgICAgICAgIHJlZjQuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgICB2YXIganVkZ2VfbmFtZTtcbiAgICAgICAgICAgIGlmICh0cmFjZS5pc19maW5pc2hlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ2FwcHJvdmVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgYXBwcm92ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3JlamVjdGVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVqZWN0ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSB0ZXJtaW5hdGVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdyZWFzc2lnbmVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVhc3NpZ25lZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAncmVsb2NhdGVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVsb2NhdGVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcGVuZGluZ1wiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcHByb3Zlcy5wdXNoKHtcbiAgICAgICAgICAgICAgX2lkOiBhcHByb3ZlLl9pZCxcbiAgICAgICAgICAgICAgaGFuZGxlcjogYXBwcm92ZS51c2VyLFxuICAgICAgICAgICAgICBoYW5kbGVyX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9uYW1lLFxuICAgICAgICAgICAgICBoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUsXG4gICAgICAgICAgICAgIGhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lLFxuICAgICAgICAgICAgICBmaW5pc2hfZGF0ZTogYXBwcm92ZS5maW5pc2hfZGF0ZSxcbiAgICAgICAgICAgICAganVkZ2U6IGFwcHJvdmUuanVkZ2UsXG4gICAgICAgICAgICAgIGp1ZGdlX25hbWU6IGp1ZGdlX25hbWUsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhcHByb3ZlLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICBpc19maW5pc2hlZDogYXBwcm92ZS5pc19maW5pc2hlZCxcbiAgICAgICAgICAgICAgdHlwZTogYXBwcm92ZS50eXBlLFxuICAgICAgICAgICAgICBvcGluaW9uX2ZpZWxkc19jb2RlOiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUsXG4gICAgICAgICAgICAgIHNpZ25fZmllbGRfY29kZTogYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUsXG4gICAgICAgICAgICAgIGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcbiAgICAgICAgICAgICAgc2lnbl9zaG93OiBhcHByb3ZlLnNpZ25fc2hvd1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ZXApIHtcbiAgICAgICAgICBpZiAoc3RlcC5uYW1lIGluIHRyYWNlcykge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNlc1tzdGVwLm5hbWVdID0gdHJhY2VzW3N0ZXAubmFtZV0uY29uY2F0KGFwcHJvdmVzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNlc1tzdGVwLm5hbWVdID0gYXBwcm92ZXM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYWNlcztcbiAgfSxcbiAgZG9jX3ZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgfSxcbiAgaW5zdGFuY2VfYm94X3N0eWxlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm94LCBpbnMsIGp1ZGdlO1xuICAgIGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpO1xuICAgIGlmIChib3ggPT09IFwiaW5ib3hcIiB8fCBib3ggPT09IFwiZHJhZnRcIikge1xuICAgICAganVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpO1xuICAgICAgaWYgKGp1ZGdlKSB7XG4gICAgICAgIGlmIChqdWRnZSA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgICAgfSBlbHNlIGlmIChqdWRnZSA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGlmIChpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uKSB7XG4gICAgICBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgdGFibGVfZmllbGRzOiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciBmaWVsZHMsIGZvcm1fdmVyc2lvbjtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcbiAgICB9XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgZmllbGRzID0gXy5jbG9uZShmb3JtX3ZlcnNpb24uZmllbGRzKTtcbiAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkLCBpbmRleCkge1xuICAgICAgICB2YXIgYWZ0ZXJfZmllbGQsIGJlZm9yZV9maWVsZCwgcHJlX2ZpZWxkcywgcHJlX3dpZGVfZmllbGRzLCB0ZF9jb2xzcGFuLCB0cl9lbmQsIHRyX3N0YXJ0O1xuICAgICAgICBmaWVsZC50cl9zdGFydCA9IFwiXCI7XG4gICAgICAgIGZpZWxkLnRyX2VuZCA9IFwiXCI7XG4gICAgICAgIHRkX2NvbHNwYW4gPSAxO1xuICAgICAgICBpZiAoKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgPT09IGZpZWxkLmNvZGUpIHtcbiAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGQuZm9ybXVsYSAmJiBmaWVsZC50eXBlICE9PSAnb2RhdGEnKSB7XG4gICAgICAgICAgZmllbGQucGVybWlzc2lvbiA9IFwicmVhZG9ubHlcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICBmaWVsZC50ZF9jb2xzcGFuID0gNDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmllbGQudGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgZmllbGQudHJfc3RhcnQgPSBcIjx0cj5cIjtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZC50cl9lbmQgPSBcIjwvdHI+XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZV9maWVsZHMgPSBmaWVsZHMuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICAgIHByZV93aWRlX2ZpZWxkcyA9IHByZV9maWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xuICAgICAgICAgIHRyX3N0YXJ0ID0gXCJcIjtcbiAgICAgICAgICB0cl9lbmQgPSBcIlwiO1xuICAgICAgICAgIGJlZm9yZV9maWVsZCA9IG51bGw7XG4gICAgICAgICAgYWZ0ZXJfZmllbGQgPSBudWxsO1xuICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIGJlZm9yZV9maWVsZCA9IGZpZWxkc1tpbmRleCAtIDFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggPCBmaWVsZHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgYWZ0ZXJfZmllbGQgPSBmaWVsZHNbaW5kZXggKyAxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICB0ZF9jb2xzcGFuID0gNDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYmVmb3JlX2ZpZWxkICYmIGFmdGVyX2ZpZWxkICYmIGJlZm9yZV9maWVsZC5pc193aWRlICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PT0gMCAmJiBhZnRlcl9maWVsZCAmJiBhZnRlcl9maWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT09IDAgJiYgYWZ0ZXJfZmllbGQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZC50ZF9jb2xzcGFuID0gdGRfY29sc3BhbjtcbiAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHRyX3N0YXJ0ID0gXCI8dHI+XCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT09IDAgfHwgZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgICAgIHRyX3N0YXJ0ID0gXCI8dHIgY2xhc3MgPSBcXFwidHItY2hpbGQtdGFibGVcXFwiPlwiO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyX3N0YXJ0ID0gXCI8dHI+XCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGQudHJfc3RhcnQgPSB0cl9zdGFydDtcbiAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBmaWVsZHMubGVuZ3RoIHx8IGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09PSAndGFibGUnIHx8IGZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgIHRyX2VuZCA9IFwiPC90cj5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdHJfZW5kID0gXCI8L3RyPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmllbGQudHJfZW5kID0gdHJfZW5kO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgfVxuICB9LFxuICBzb3J0X2FwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmVzLCBvcmRlcikge1xuICAgIGlmICghYXBwcm92ZXMpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKCFhcHByb3ZlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvcmRlciA9PT0gJ2Rlc2MnKSB7XG4gICAgICAgIGFwcHJvdmVzLnNvcnQoZnVuY3Rpb24ocDEsIHAyKSB7XG4gICAgICAgICAgdmFyIF9wMSwgX3AyO1xuICAgICAgICAgIF9wMSA9IDA7XG4gICAgICAgICAgX3AyID0gMDtcbiAgICAgICAgICBpZiAocDEuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHAyLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcDIgLSBfcDE7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwcm92ZXMuc29ydChmdW5jdGlvbihwMSwgcDIpIHtcbiAgICAgICAgICB2YXIgX3AxLCBfcDI7XG4gICAgICAgICAgX3AxID0gMDtcbiAgICAgICAgICBfcDIgPSAwO1xuICAgICAgICAgIGlmIChwMS5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocDIuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9wMSAtIF9wMjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlcztcbiAgfSxcbiAgX3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBUQVBpMThuLl9fKGtleSk7XG4gIH0sXG4gIGdldEZpZWxkOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpO1xuICAgIH1cbiAgfSxcbiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uLCBpbnN0YW5jZSwgbG9jYWxlLCB1dGNPZmZzZXQsIHZhbHVlcztcbiAgICBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgdXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldDtcbiAgICB2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge307XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIH1cbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlKHZhbHVlc1tjb2RlXSwgZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKSwgbG9jYWxlLCB1dGNPZmZzZXQpO1xuICB9LFxuICBnZXRMYWJlbDogZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsKGZvcm1fdmVyc2lvbi5maWVsZHMsIGNvZGUpO1xuICB9LFxuICBnZXRDZkNsYXNzOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIGlmICgoZmllbGQgIT0gbnVsbCA/IGZpZWxkLnR5cGUgOiB2b2lkIDApID09PSBcImlucHV0XCIgJiYgKGZpZWxkICE9IG51bGwgPyBmaWVsZC5pc190ZXh0YXJlYSA6IHZvaWQgMCkpIHtcbiAgICAgIHJldHVybiBcImNmVGV4dGFyZWFcIjtcbiAgICB9XG4gIH0sXG4gIGdldFRhYmxlVGhlYWQ6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUaGVhZChmaWVsZCwgZmFsc2UpO1xuICB9LFxuICBnZXRUYWJsZUJvZHk6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIGluc3RhbmNlLCB0YWJsZVZhbHVlLCB2YWx1ZXM7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG4gICAgICB2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge307XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICB9XG4gICAgdGFibGVWYWx1ZSA9IHZhbHVlc1tmaWVsZC5jb2RlXTtcbiAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRib2R5KGZpZWxkLnNmaWVsZHMuZ2V0UHJvcGVydHkoXCJjb2RlXCIpLCBmaWVsZCwgdGFibGVWYWx1ZSwgZmFsc2UpO1xuICB9LFxuICBzaG93TGFiZWw6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIHRlbXBsYXRlRGF0YTtcbiAgICB0ZW1wbGF0ZURhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGE7XG4gICAgaWYgKHRlbXBsYXRlRGF0YS5sYWJlbCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIGlzT3BpbmlvbkZpZWxkOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkLmZvcm11bGEpO1xuICB9LFxuICBpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZzogZnVuY3Rpb24oZmllbGRfZm9ybXVsYSkge1xuICAgIHJldHVybiBJbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpO1xuICB9LFxuICBpbmNsdWRlc09waW5pb25GaWVsZDogZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gICAgdmFyIGZpZWxkX2Zvcm11bGFzLCBmaWVsZHMsIHJlZjtcbiAgICBmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuICAgIGZpZWxkcyA9ICgocmVmID0gZGIuZm9ybV92ZXJzaW9ucy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybV92ZXJzaW9uLFxuICAgICAgZm9ybTogZm9ybVxuICAgIH0pKSAhPSBudWxsID8gcmVmLmZpZWxkcyA6IHZvaWQgMCkgfHwgW107XG4gICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgdmFyIHJlZjE7XG4gICAgICBpZiAoZi50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnKTtcbiAgICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGYgIT0gbnVsbCA/IChyZWYxID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYxLmZvckVhY2goZnVuY3Rpb24oZjEpIHtcbiAgICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmMS5mb3JtdWxhKTtcbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmLmZvcm11bGEpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfLnNvbWUoZmllbGRfZm9ybXVsYXMsIGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpO1xuICAgIH0pO1xuICB9LFxuICBnZXRPcGluaW9uRmllbGRTdGVwc05hbWU6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEsIHRvcF9rZXl3b3Jkcykge1xuICAgIHZhciBmb28xLCBvcGluaW9uRmllbGRzO1xuICAgIG9waW5pb25GaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICBpZiAoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKSkge1xuICAgICAgaWYgKGZpZWxkX2Zvcm11bGEpIHtcbiAgICAgICAgZm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCI7XCIpO1xuICAgICAgICBmb28xLmZvckVhY2goZnVuY3Rpb24oZm9vKSB7XG4gICAgICAgICAgdmFyIGpzb25fZm9ybXVsYSwgcmVmLCByZWYxLCBzMSwgc2Y7XG4gICAgICAgICAganNvbl9mb3JtdWxhID0ge307XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGpzb25fZm9ybXVsYSA9IGV2YWwoXCIoXCIgKyBmb28gKyBcIilcIik7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgICAgICAgICBqc29uX2Zvcm11bGEgPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGpzb25fZm9ybXVsYSAhPSBudWxsID8ganNvbl9mb3JtdWxhLnlpamlhbmxhbiA6IHZvaWQgMCkge1xuICAgICAgICAgICAgc2YgPSB7fTtcbiAgICAgICAgICAgIHNmLnN0ZXBOYW1lID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5zdGVwO1xuICAgICAgICAgICAgc2YuaW1hZ2Vfc2lnbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uaW1hZ2Vfc2lnbiB8fCBmYWxzZTtcbiAgICAgICAgICAgIHNmLm9ubHlfY2Nfb3BpbmlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9jYyB8fCBmYWxzZTtcbiAgICAgICAgICAgIHNmLmRlZmF1bHRfZGVzY3JpcHRpb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgICAgIHNmLm9ubHlfaGFuZGxlciA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9oYW5kbGVyO1xuICAgICAgICAgICAgc2YudG9wX2tleXdvcmRzID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi50b3Bfa2V5d29yZHMgfHwgdG9wX2tleXdvcmRzO1xuICAgICAgICAgICAgcmV0dXJuIG9waW5pb25GaWVsZHMucHVzaChzZik7XG4gICAgICAgICAgfSBlbHNlIGlmICgoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSkge1xuICAgICAgICAgICAgc2YgPSB7XG4gICAgICAgICAgICAgIG9ubHlfY2Nfb3BpbmlvbjogZmFsc2UsXG4gICAgICAgICAgICAgIGltYWdlX3NpZ246IGZhbHNlLFxuICAgICAgICAgICAgICB0b3Bfa2V5d29yZHM6IHRvcF9rZXl3b3Jkc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChmb28uaW5kZXhPZihcIntzaWduYXR1cmUuXCIpID4gLTEpIHtcbiAgICAgICAgICAgICAgc2YuaW1hZ2Vfc2lnbiA9IHRydWU7XG4gICAgICAgICAgICAgIGZvbyA9IGZvby5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIiwgXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzMSA9IGZvby5yZXBsYWNlKFwie1wiLCBcIlwiKS5yZXBsYWNlKFwifVwiLCBcIlwiKTtcbiAgICAgICAgICAgIGlmIChzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICBzZi5zdGVwTmFtZSA9IHMxLnNwbGl0KFwiLlwiKVsxXTtcbiAgICAgICAgICAgICAgaWYgKG9waW5pb25GaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJzdGVwTmFtZVwiLCBzZi5zdGVwTmFtZSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICgocmVmID0gb3BpbmlvbkZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcE5hbWVcIiwgc2Yuc3RlcE5hbWUpKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICByZWYub25seV9jY19vcGluaW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoKChyZWYxID0gczEuc3BsaXQoXCIuXCIpWzJdKSAhPSBudWxsID8gcmVmMS50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwKSA9PT0gJ2NjJykge1xuICAgICAgICAgICAgICAgICAgICBzZi5vbmx5X2NjX29waW5pb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9waW5pb25GaWVsZHMucHVzaChzZik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9waW5pb25GaWVsZHM7XG4gIH0sXG4gIHNob3dDQ09waW5pb246IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIHJlZiwgcmVmMSwgcmVmMiwgczE7XG4gICAgaWYgKCgocmVmID0gZmllbGQuZm9ybXVsYSkgIT0gbnVsbCA/IHJlZi5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKChyZWYxID0gZmllbGQuZm9ybXVsYSkgIT0gbnVsbCA/IHJlZjEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSkge1xuICAgICAgczEgPSBmaWVsZC5mb3JtdWxhLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLCBcIlwiKS5yZXBsYWNlKFwie1wiLCBcIlwiKS5yZXBsYWNlKFwifVwiLCBcIlwiKTtcbiAgICAgIGlmIChzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMikge1xuICAgICAgICBpZiAoKChyZWYyID0gczEuc3BsaXQoXCIuXCIpWzJdKSAhPSBudWxsID8gcmVmMi50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwKSA9PT0gJ2NjJykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbWFya0Rvd25Ub0h0bWw6IGZ1bmN0aW9uKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgdmFyIHJlbmRlcmVyO1xuICAgIGlmIChtYXJrRG93blN0cmluZykge1xuICAgICAgcmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcbiAgICAgIHJlbmRlcmVyLmxpbmsgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgICByZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIgKyBocmVmICsgXCInIHRpdGxlPSdcIiArIHRpdGxlICsgXCInPlwiICsgdGV4dCArIFwiPC9hPlwiO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge1xuICAgICAgICByZW5kZXJlcjogcmVuZGVyZXJcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sXG4gIGZfbGFiZWw6IGZ1bmN0aW9uKHRoYXQpIHtcbiAgICByZXR1cm4gdGhhdC5uYW1lIHx8IHRoYXQuY29kZTtcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnN0ZWVkb3NfZm9ybSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1fdmVyc2lvbjtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc1NlY3Rpb24gPSBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvbjtcbiAgICByZXR1cm4gZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKS50eXBlID09PSAnc2VjdGlvbic7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZG9jX3ZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnN0YW5jZTtcbiAgICBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG4gICAgcmV0dXJuIGluc3RhbmNlLnZhbHVlcztcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5hcHBsaWNhbnRDb250ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGEsIGluc3RhbmNlO1xuICAgIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcbiAgICByZXR1cm4gZGF0YSA9IHtcbiAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgIGF0dHM6IHtcbiAgICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBpZDogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBcImNsYXNzXCI6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J1xuICAgICAgfSxcbiAgICAgIHZhbHVlOiBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxuICAgIH07XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5maWVsZHMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IHRoaXMuZm9ybV92ZXJzaW9uO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG4gICAgfVxuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZvcm1fdHlwZXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJkaXNhYmxlZFwiO1xuICB9O1xuICBUZW1wbGF0ZS5yZWdpc3RlckhlbHBlcihcImFmRmllbGRMYWJlbFRleHRcIiwgZnVuY3Rpb24ob3ApIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uLCByZWY7XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsKGZvcm1fdmVyc2lvbi5maWVsZHMsIG9wICE9IG51bGwgPyAocmVmID0gb3AuaGFzaCkgIT0gbnVsbCA/IHJlZi5uYW1lIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgfSk7XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuX3QgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGxvY2FsZSA9IHRoaXMubG9jYWxlO1xuICAgIHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSk7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zX2F0dGFjaF9kb3dubG9hZF91cmwgPSBmdW5jdGlvbihfaWQsIGFic29sdXRlKSB7XG4gICAgaWYgKGFic29sdXRlKSB7XG4gICAgICByZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXCIgKyBfaWQgKyBcIj9kb3dubG9hZD10cnVlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy9cIiArIF9pZCArIFwiP2Rvd25sb2FkPXRydWVcIjtcbiAgICB9XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMub3B0aW9ucyA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIG9wdGlvbnMsIHJlZiwgcmV2O1xuICAgIG9wdGlvbnMgPSBmaWVsZCAhPSBudWxsID8gKHJlZiA9IGZpZWxkLm9wdGlvbnMpICE9IG51bGwgPyByZWYuc3BsaXQoXCJcXG5cIikgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgcmV2ID0gW107XG4gICAgaWYgKG9wdGlvbnMgIT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHJldi5wdXNoKHtcbiAgICAgICAgICBsYWJlbDogaXRlbSxcbiAgICAgICAgICB2YWx1ZTogaXRlbVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmV2O1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmdldFBlcm1pc3Npb25zID0gZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciByZWY7XG4gICAgaWYgKCEoKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5zdGFydFN0ZXBFZGl0YWJsZUZpZWxkcykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhjb2RlKSA6IHZvaWQgMCkpIHtcbiAgICAgIHJldHVybiBcInJlYWRvbmx5IGRpc2FibGVkXCI7XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9O1xufVxuXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5ldmVudHMgPSB7XG4gICdjaGFuZ2UgLmZvcm0tY29udHJvbCwuY2hlY2tib3ggaW5wdXQsLmFmLXJhZGlvLWdyb3VwIGlucHV0LC5hZi1jaGVja2JveC1ncm91cCBpbnB1dCc6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIEluc3RhbmNlTWFuYWdlci5pbnN0YW5jZWZvcm1DaGFuZ2VFdmVudChldmVudCk7XG4gIH0sXG4gICd0eXBlYWhlYWQ6Y2hhbmdlIC5mb3JtLWNvbnRyb2wnOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpO1xuICB9LFxuICAnY2xpY2sgLmNmVGV4dGFyZWEgYSc6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gU3RlZWRvcy5vcGVuV2luZG93KGV2ZW50LnRhcmdldC5ocmVmKTtcbiAgfVxufTtcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25DcmVhdGVkID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb21waWxlZCwgZSwgaW5zdGFuY2UsIGluc3RhbmNlQ3VzdG9tVGVtcGxhdGUsIGluc3RhbmNlVmlldywgcmVuZGVyRnVuY3Rpb24sIHRlbXBsYXRlO1xuICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICBpZiAoIWluc3RhbmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlKTtcbiAgdHJ5IHtcbiAgICBjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtcbiAgICAgIGlzQm9keTogdHJ1ZVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICBlID0gZXJyb3IxO1xuICAgIGNvbnNvbGUubG9nKFwiSW5zdGFuY2UgVGVtcGxhdGUgRXJyb3JcIiwgZSk7XG4gICAgY29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKFwiXCIsIHtcbiAgICAgIGlzQm9keTogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIHJlbmRlckZ1bmN0aW9uID0gZXZhbChjb21waWxlZCk7XG4gIGluc3RhbmNlVmlldyA9IG5ldyBCbGF6ZS5WaWV3KFwiY3VzdG9tX2luc3RhbmNlX3RlbXBsYXRlXCIsIHJlbmRlckZ1bmN0aW9uKTtcbiAgaW5zdGFuY2VDdXN0b21UZW1wbGF0ZSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShpbnN0YW5jZVZpZXcubmFtZSwgcmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9jdXN0b21fdGVtcGxhdGUgPSBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlO1xuICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlLmhlbHBlcnMoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5vblJlbmRlcmVkID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjdXJyZW50QXBwcm92ZSwgY3VycmVudFN0ZXAsIGZvcm1fdmVyc2lvbiwgZm9ybXVsYV9maWVsZHMsIGluc3RhbmNlLCBpbnN0YW5jZU51bWJlckZpZWxkcywganVkZ2UsIHJlZjtcbiAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoKHJlZiA9ICQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIilbMF0pICE9IG51bGwpIHtcbiAgICByZWYuZGF0YXNldC52YWx1ZXMgPSBpbnN0YW5jZS5hcHBsaWNhbnQ7XG4gIH1cbiAgJChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKS52YWwoaW5zdGFuY2UuYXBwbGljYW50X25hbWUpO1xuICBBcHByb3ZlTWFuYWdlci5lcnJvciA9IHtcbiAgICBuZXh0U3RlcHM6ICcnLFxuICAgIG5leHRTdGVwVXNlcnM6ICcnXG4gIH07XG4gIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2RyYWZ0Jykge1xuICAgIEluc3RhbmNlRXZlbnQuaW5pdEV2ZW50cyhpbnN0YW5jZS5mbG93KTtcbiAgfVxuICBpZiAoIUFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKSkge1xuICAgIGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XG4gICAgaW5zdGFuY2VOdW1iZXJGaWVsZHMgPSAkKFwiW2RhdGEtZm9ybXVsYV1cIiwgJChcIiNpbnN0YW5jZWZvcm1cIikpO1xuICAgIGluc3RhbmNlTnVtYmVyRmllbGRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZWxlbWVudCwgc2NoZW1hS2V5O1xuICAgICAgc2NoZW1hS2V5ID0gdGhpcy5kYXRhc2V0LnNjaGVtYUtleTtcbiAgICAgIGVsZW1lbnQgPSAkKHRoaXMpO1xuICAgICAgaWYgKCEkKHRoaXMpLnZhbCgpICYmIHNjaGVtYUtleSAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgICAgcmV0dXJuIE1ldGVvci5jYWxsKCdnZXRJbnN0YW5jZVZhbHVlcycsIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkge1xuICAgICAgICAgIHZhciBrZXksIHJlZjE7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB0b2FzdHIuZXJyb3IoZXJyb3IucmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFyZXN1bHRbc2NoZW1hS2V5XSkge1xuICAgICAgICAgICAga2V5ID0gKHJlZjEgPSBlbGVtZW50LmRhdGEoXCJmb3JtdWxhXCIpKSAhPSBudWxsID8gcmVmMS5yZXBsYWNlKFwiYXV0b19udW1iZXIoXCIsIFwiXCIpLnJlcGxhY2UoXCIpXCIsIFwiXCIpIDogdm9pZCAwO1xuICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL1xcXCIvZywgXCJcIikucmVwbGFjZSgvXFwnL2csIFwiXCIpO1xuICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKFwie1wiKSA+IC0xKSB7XG4gICAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKFwie1wiLCBcIlwiKS5yZXBsYWNlKFwifVwiLCBcIlwiKTtcbiAgICAgICAgICAgICAga2V5ID0ga2V5LnRyaW0oKTtcbiAgICAgICAgICAgICAga2V5ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShrZXksICdpbnN0YW5jZWZvcm0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBJbnN0YW5jZU51bWJlclJ1bGVzLmluc3RhbmNlTnVtYmVyQnVpbGRlcihlbGVtZW50LCBrZXkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudCAhPSBudWxsID8gZWxlbWVudC52YWwocmVzdWx0W3NjaGVtYUtleV0pLnRyaWdnZXIoXCJjaGFuZ2VcIikgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBqdWRnZSA9IGN1cnJlbnRBcHByb3ZlLmp1ZGdlO1xuICAgIGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBmb3JtdWxhX2ZpZWxkcyA9IEZvcm1fZm9ybXVsYS5nZXRGb3JtdWxhRmllbGRWYXJpYWJsZShcIkZvcm1fZm9ybXVsYS5maWVsZF92YWx1ZXNcIiwgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgRm9ybV9mb3JtdWxhLnJ1bihcIlwiLCBcIlwiLCBmb3JtdWxhX2ZpZWxkcywgQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcImluc3RhbmNlZm9ybVwiKS5pbnNlcnREb2MsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuICAgIHJldHVybiBTZXNzaW9uLnNldChcImluc3RhbmNlX2Zvcm1fdmFsdWVzXCIsIHtcbiAgICAgIGluc3RhbmNlSWQ6IGluc3RhbmNlLl9pZCxcbiAgICAgIHZhbHVlczogQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcImluc3RhbmNlZm9ybVwiKS5pbnNlcnREb2NcbiAgICB9KTtcbiAgfVxufTtcbiIsIkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMgPSB7XG5cblx0c2hvd01haW5UaXRsZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkud29ya2Zsb3dNYWluQXR0YWNoVGl0bGUuZ2V0KCk7XG5cdH0sXG5cdGVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRpZiAoU2Vzc2lvbiAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImRyYWZ0XCIgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJpbmJveFwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHQvLyDlt7Lnu4/nu5PmnZ/nmoTljZXlrZDkuI3og73mlLnpmYTku7Zcblx0XHRpZiAoaW5zLnN0YXRlID09IFwiY29tcGxldGVkXCIpIHtcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH1cblxuXHRcdHZhciBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblxuXHRcdGlmICghY3VycmVudF9zdGVwKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0Ly8g5YiG5Y+R55qE5q2j5paH5oiW6ICF6ZmE5Lu25LiN5pi+56S66L2s5Li6cGRm5oyJ6ZKuXG5cdFx0Ly8g5aaC5p6c5pyJ5q2j5paH5p2D6ZmQ5YiZ5Li65q2j5paH77yM5ZCm5YiZ5YiG5Y+R5Li66ZmE5Lu2XG5cdFx0Ly8g5YiG5Y+R55qE6ZmE5Lu25LiN5YWB6K645L+u5pS5IOWIoOmZpCDmlrDlop7niYjmnKxcblx0XHR2YXIgbWFpbl9hdHRhY2hfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zLl9pZCxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdH0pLmNvdW50KCk7XG5cblx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA9IDA7XG5cblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xuXHRcdFx0dmFyIHN0YXJ0X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0U3RhcnRTdGVwKCk7XG5cdFx0XHRpZiAoc3RhcnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCkge1xuXHRcdFx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSxcblx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0XHRcdH0pLmNvdW50KCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlICYmIG1haW5fYXR0YWNoX2NvdW50IDwgMSAmJiBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50IDwgMSkge1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHR9XG5cblx0XHQvLyDmraPmlofmnIDlpJrlj6rog73mnInkuIDkuKpcblx0XHRpZiAobWFpbl9hdHRhY2hfY291bnQgPj0gMSB8fCBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50ID49IDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyDlvIDlp4voioLngrnlubbkuJTorr7nva7kuoblj6/ku6XkuIrkvKDmraPmlofmiY3mmL7npLrkuIrkvKDmraPmlofnmoTmjInpkq5cblx0XHR2YXIgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG5cdFx0aWYgKGN1cnJlbnRfc3RlcCAmJiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09IFwic3RhcnRcIiAmJiBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSlcblx0XHRcdHJldHVybiB0cnVlXG5cblx0XHRyZXR1cm4gZmFsc2Vcblx0fSxcblxuXHRlbmFibGVkX2VkaXRfbm9ybWFsX2F0dGFjaG1lbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHR2YXIgZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRGbG93KGlucy5mbG93KTtcblx0XHRpZiAoIWZsb3cpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXG5cdFx0Ly8g5YiG5Y+R5ZCO55qEIOmZhOS7tu+8jOS4jeWPr+S7pee8lui+kS/liKDpmaTvvIzkuZ/kuI3orqnkuIrkvKDmlrDnmoTpmYTku7YsIOa1geeoi+WIl+ihqO+8mua3u+WKoOWxnuaApyDigJjooqvliIblj5HlkI7mmK/lkKblhYHorrjkuIrkvKDpmYTku7bigJkgIzE4Mzdcblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSAmJiAhZmxvdy51cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImRyYWZ0XCIgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJpbmJveFwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHQvLyDlt7Lnu4/nu5PmnZ/nmoTljZXlrZDkuI3og73mlLnpmYTku7Zcblx0XHRpZiAoaW5zLnN0YXRlID09IFwiY29tcGxldGVkXCIpIHtcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH1cblxuXHRcdGlmIChJbnN0YW5jZU1hbmFnZXIuaXNDQyhpbnMpKSB7XG5cdFx0XHR2YXIgc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDQ1N0ZXAoKTtcblx0XHRcdGlmIChzdGVwICYmIChzdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdHJ1ZSB8fCBzdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdW5kZWZpbmVkKSlcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuXHRcdFx0aWYgKGN1cnJlbnRfc3RlcCAmJiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdHJ1ZSB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB1bmRlZmluZWQpKVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZVxuXHR9LFxuXG5cdG1haW5fYXR0YWNobWVudDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHR2YXIgc3RhcnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRTdGFydFN0ZXAoKTtcblxuXHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNleW5tuS4lOacieS/ruaUueato+aWh+eahOadg+mZkO+8jOWImeS8mOWFiOaYvuekuuWOn+eUs+ivt+WNleaWh+S7tlxuXHRcdHZhciBtYWluX2F0dGFjaCA9IG51bGw7XG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgJiYgc3RhcnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlKSB7XG5cdFx0XHRtYWluX2F0dGFjaCA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XG5cdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsXG5cdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoIW1haW5fYXR0YWNoKSB7XG5cdFx0XHRtYWluX2F0dGFjaCA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XG5cdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5faWQsXG5cdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWFpbl9hdHRhY2g7XG5cdH0sXG5cblx0bm9ybWFsX2F0dGFjaG1lbnRzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdHZhciBzZWxlY3RvciA9IHtcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzoge1xuXHRcdFx0XHQkbmU6IHRydWVcblx0XHRcdH0sXG5cdFx0fTtcblxuXHRcdHZhciBhdHRzID0gbmV3IEFycmF5KCk7XG5cblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xuXHRcdFx0Ly8g5aaC5p6c5piv6KKr5YiG5Y+R55qE55Sz6K+35Y2V77yM5YiZ5pi+56S65Y6f55Sz6K+35Y2V5paH5Lu2LCDlpoLmnpzpgInmi6nkuoblsIbljp/ooajljZXlrZjlgqjkuLrpmYTku7bkuZ/opoHmmL7npLosIOWQjOaXtuS5n+imgeaYvuekuuaWsOS4iuS8oOeahOmZhOS7tlxuXHRcdFx0dmFyIGRmaXMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRcdGRmaXMucHVzaChpbnMuX2lkKTtcblx0XHRcdHNlbGVjdG9yWydtZXRhZGF0YS5pbnN0YW5jZSddID0ge1xuXHRcdFx0XHQkaW46IGRmaXNcblx0XHRcdH07XG5cblxuXHRcdFx0c2VsZWN0b3JbXCIkb3JcIl0gPSBbe1xuXHRcdFx0XHRcIm1ldGFkYXRhLmluc3RhbmNlXCI6IGlucy5faWRcblx0XHRcdH0sIHtcblx0XHRcdFx0XCJtZXRhZGF0YS5pbnN0YW5jZVwiOiB7XG5cdFx0XHRcdFx0JGluOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuXHRcdFx0XHRcdCRuZTogdHJ1ZVxuXHRcdFx0XHR9XG5cdFx0XHR9XVxuXG5cdFx0XHQvLyDlpoLmnpzljp/nlLPor7fljZXmnInmraPmlofkvYbmmK/liIblj5HlkI7msqHmnInmraPmlofmnYPpmZDvvIzliJnljp/nlLPor7fljZXmraPmlofmmL7npLrlnKjpmYTku7bmoI9cblx0XHRcdHZhciBzdGFydF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldFN0YXJ0U3RlcCgpO1xuXHRcdFx0aWYgKHN0YXJ0X3N0ZXAgJiYgc3RhcnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCAhPSB0cnVlKSB7XG5cdFx0XHRcdHZhciBkaXN0cmlidXRlX21haW4gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0XHRcdCRpbjogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWUsXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRpZiAoZGlzdHJpYnV0ZV9tYWluKSB7XG5cdFx0XHRcdFx0dmFyIGZpcnN0VmVyc2lvbk1haW4gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoZGlzdHJpYnV0ZV9tYWluLm1ldGFkYXRhLnBhcmVudCk7XG5cdFx0XHRcdFx0ZGlzdHJpYnV0ZV9tYWluLmF0dGFjaG1lbnRVcGxvYWRlZEF0ID0gZmlyc3RWZXJzaW9uTWFpbiA/IGZpcnN0VmVyc2lvbk1haW4udXBsb2FkZWRBdCA6IGRpc3RyaWJ1dGVfbWFpbi51cGxvYWRlZEF0O1xuXHRcdFx0XHRcdGF0dHMucHVzaChkaXN0cmlidXRlX21haW4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNlbGVjdG9yWydtZXRhZGF0YS5pbnN0YW5jZSddID0gaW5zLl9pZDtcblx0XHR9XG5cblx0XHRjZnMuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IpLmZvckVhY2goZnVuY3Rpb24oYykge1xuXHRcdFx0dmFyIGZpcnN0VmVyc2lvbiA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZShjLm1ldGFkYXRhLnBhcmVudCk7XG5cdFx0XHRjLmF0dGFjaG1lbnRVcGxvYWRlZEF0ID0gZmlyc3RWZXJzaW9uID8gZmlyc3RWZXJzaW9uLnVwbG9hZGVkQXQgOiBjLnVwbG9hZGVkQXQ7XG5cdFx0XHRhdHRzLnB1c2goYyk7XG5cdFx0fSlcblxuXHRcdHJldHVybiBfLnNvcnRCeShhdHRzLCAnYXR0YWNobWVudFVwbG9hZGVkQXQnKTtcblx0fSxcblxuXHRzaG93QXR0YWNobWVudHM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNle+8jOWImeaYvuekuuWOn+eUs+ivt+WNleaWh+S7tiDlkozliIblj5HlkI7nlLPor7fljZXmlofku7Zcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGlucy5faWQpO1xuXHRcdHZhciBhdHRhY2htZW50c19jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcblx0XHR9KS5jb3VudCgpO1xuXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGF0dGFjaG1lbnRzX2NvdW50IDwgMSlcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09IFwiZHJhZnRcIiB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PSBcImluYm94XCIgfHwgYXR0YWNobWVudHNfY291bnQgPiAwKVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF90OiBmdW5jdGlvbihrZXkpIHtcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXG5cdH0sXG5cblx0XzogZnVuY3Rpb24oa2V5KSB7XG5cdFx0dmFyIGxvY2FsZTtcblx0XHRpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcblx0XHR9XG5cdH0sXG5cbn1cblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLl90ID0gZnVuY3Rpb24oa2V5KSB7XG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcblx0fVxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLmVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9O1xuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLmVuYWJsZWRfZWRpdF9ub3JtYWxfYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9O1xuXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMubWFpbl9hdHRhY2htZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY29tcGFjdChbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLCBpbnN0YW5jZS5faWRdKTtcblx0XHR2YXIgYXR0YWNobWVudCA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcblx0XHR9KTtcblxuXHRcdHJldHVybiBhdHRhY2htZW50O1xuXHR9O1xuXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMubm9ybWFsX2F0dGFjaG1lbnRzID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHN0ZWVkb3NEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhXG5cdFx0dmFyIGluc3RhbmNlID0gc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGluc3RhbmNlLl9pZCk7XG5cdFx0dmFyIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xuXHRcdFx0fSxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzoge1xuXHRcdFx0XHQkbmU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHQkb3I6IFt7XG5cdFx0XHRcdCdtZXRhZGF0YS5pc19wcml2YXRlJzoge1xuXHRcdFx0XHRcdCRuZTogdHJ1ZVxuXHRcdFx0XHR9XG5cdFx0XHR9LCB7XG5cdFx0XHRcdCdtZXRhZGF0YS5pc19wcml2YXRlJzogdHJ1ZSxcblx0XHRcdFx0XCJtZXRhZGF0YS5vd25lclwiOiBzdGVlZG9zRGF0YS51c2VySWRcblx0XHRcdH1dXG5cdFx0fSkuZmV0Y2goKTtcblxuXHRcdHJldHVybiBhdHRhY2htZW50cztcblx0fTtcblxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLnNob3dBdHRhY2htZW50cyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNsb25lKGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xuXHRcdGluc3RhbmNlSWRzLnB1c2goaW5zdGFuY2UuX2lkKTtcblxuXHRcdHZhciBhdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcblx0XHR9KS5mZXRjaCgpO1xuXG5cdFx0aWYgKGF0dGFjaG1lbnRzICYmIGF0dGFjaG1lbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLnNob3dNYWluVGl0bGUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jb21wYWN0KFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsIGluc3RhbmNlLl9pZF0pO1xuXHRcdHZhciBtYWluX2F0dGFjaF9jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcblx0XHR9KS5jb3VudCgpO1xuXG5cdFx0cmV0dXJuIG1haW5fYXR0YWNoX2NvdW50ID4gMFxuXHR9XG59XG4iLCJJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMgPVxuXHRzaG93OiAoc3RlcE5hbWUpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlmIFNlc3Npb24uZ2V0KCdpbnN0YW5jZVByaW50Jylcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0XHRpZiBJbnN0YW5jZU1hbmFnZXIuaXNJbmJveCgpXG5cdFx0XHRcdG15QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpXG5cdFx0XHRcdGlmIG15QXBwcm92ZVxuXHRcdFx0XHRcdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0XHRcdFx0bXlUcmFjZSA9IGluc3RhbmNlPy50cmFjZXM/LmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgbXlBcHByb3ZlLnRyYWNlKVxuXHRcdFx0XHRcdHJldHVybiBteVRyYWNlPy5uYW1lID09IHN0ZXBOYW1lXG5cdFx0cmV0dXJuIGZhbHNlXG5cblx0ZGVmYXVsdERlc2NyaXB0aW9uOiAoKS0+XG4jXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIpXG5cdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uXG5cblx0dHJhY2VzOiAoKS0+XG5cdFx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKVxuXG5cdHRyYWNlOiAoc3RlcE5hbWUsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiwgdG9wX2tleXdvcmRzKS0+XG5cdFx0aW5zdGFuY2UgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlKClcblxuXHRcdGlzX2NvbXBsZXRlZCA9IGluc3RhbmNlPy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXG5cblx0XHRjb21wbGV0ZWRfZGF0ZSA9IGlmIGlzX2NvbXBsZXRlZCB0aGVuIF8ubGFzdChpbnN0YW5jZS50cmFjZXMpPy5maW5pc2hfZGF0ZT8uZ2V0VGltZSgpIGVsc2UgMFxuXG5cdFx0aWYgaXNfY29tcGxldGVkICYmIGluc3RhbmNlLmZpbmlzaF9kYXRlXG5cdFx0XHRjb21wbGV0ZWRfZGF0ZSA9IGluc3RhbmNlLmZpbmlzaF9kYXRlPy5nZXRUaW1lKClcblxuXHRcdHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKClcblxuXHRcdGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbc3RlcE5hbWVdKVxuXG5cdFx0YXBwcm92ZV9zb3J0ID0gKGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpLT5cblxuI+WvuUFwcHJvdmVz5o6S5bqP77yMIOaMieeFp+aPkOS6pOaXtumXtOaOkuWAkuW6j++8jOWmguaenOayoeacieaPkOS6pOWImeaYvuekuuWcqOacgOS4iui+uVxuXHRcdFx0YXBwcm92ZXNfc29ydGVkID0gXy5zb3J0QnkgYXBwcm92ZXMsIChhcHByb3ZlKS0+XG5cdFx0XHRcdHJldHVybiAtKGFwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpXG5cblx0XHRcdCPpgJrov4flhbPplK7lrZfmjpLluo9cblx0XHRcdGlmIHRvcF9rZXl3b3Jkc1xuXHRcdFx0XHR0b3BfYXBwcm92ZXMgPSBuZXcgQXJyYXkoKVxuXG5cdFx0XHRcdHRvcF9rZXl3b3Jkcy5zcGxpdChcIixcIikuZm9yRWFjaCAoa2V5KSAtPlxuXHRcdFx0XHRcdHRvcF9hcHByb3ZlcyA9IF8udW5pb24gdG9wX2FwcHJvdmVzLCBfLmZpbHRlcihhcHByb3Zlc19zb3J0ZWQsIChhcHByb3ZlKS0+XG5cdFx0XHRcdFx0XHRyZXR1cm4gYXBwcm92ZT8uaGFuZGxlcl9uYW1lPy5pbmRleE9mKGtleSkgPiAtMVxuXHRcdFx0XHRcdClcblx0XHRcdFx0IyDlr7nnva7pobbmhI/op4HmjInnhaflpITnkIbkuovku7bmjpLlgJLluo9cblx0XHRcdFx0dG9wX2FwcHJvdmVzID0gXy5zb3J0QnkgdG9wX2FwcHJvdmVzLCAodG9wX2FwcHJvdmUpLT5cblx0XHRcdFx0XHRyZXR1cm4gLSh0b3BfYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKClcblxuXHRcdFx0XHRhcHByb3Zlc19zb3J0ZWQgPSBfLnVuaW9uIHRvcF9hcHByb3ZlcywgYXBwcm92ZXNfc29ydGVkXG5cdFx0XHRyZXR1cm4gYXBwcm92ZXNfc29ydGVkIHx8IFtdXG5cblx0XHRhcHByb3ZlcyA9IF8uZmlsdGVyIGFwcHJvdmVzLCAoYSktPlxuXHRcdFx0cmV0dXJuIGEudHlwZSBpc250IFwiZm9yd2FyZFwiIGFuZCBhLnR5cGUgaXNudCBcImRpc3RyaWJ1dGVcIiBhbmQgYS50eXBlIGlzbnQgXCJ0ZXJtaW5hdGVkXCJcblxuXHRcdGlmIG9ubHlfY2Nfb3BpbmlvblxuXHRcdFx0YXBwcm92ZXMgPSBhcHByb3Zlcz8uZmlsdGVyUHJvcGVydHkoXCJ0eXBlXCIsIFwiY2NcIilcblxuXHRcdGFwcHJvdmVzX3NvcnRlZCA9IGFwcHJvdmVfc29ydChhcHByb3ZlcywgdG9wX2tleXdvcmRzKVxuXG5cdFx0YXBwcm92ZXNHcm91cCA9IF8uZ3JvdXBCeShhcHByb3ZlcywgXCJoYW5kbGVyXCIpO1xuXG5cdFx0aGFzTmV4dCA9IChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAtPlxuXHRcdFx0aGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdXG5cdFx0XHRyZXR1cm4gXy5pbmRleE9mKGhhbmRsZXJBcHByb3ZlcywgYXBwcm92ZSkgKyAxIDwgaGFuZGxlckFwcHJvdmVzLmxlbmd0aFxuXG5cdFx0aGF2ZURlc2NyaXB0aW9uQXBwcm92ZSA9IChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAtPlxuXHRcdFx0aGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdXG5cblx0XHRcdGRlc2NyaXB0aW9uQXBwcm92ZXMgPSBfLmZpbHRlciBoYW5kbGVyQXBwcm92ZXMsIChhKS0+XG5cdFx0XHRcdGlmIGEuZGVzY3JpcHRpb25cblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdFx0aWYgZGVzY3JpcHRpb25BcHByb3Zlcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdFx0cmV0dXJuIHRydWVcblxuXG5cdFx0YXBwcm92ZXNfc29ydGVkLmZvckVhY2ggKGFwcHJvdmUpIC0+XG4jXHRcdFx05pyJ6L6T5YWl5oSP6KeBIOaIliDmnIDmlrDkuIDmnaHlubbkuJTnlKjmiLfmsqHmnInovpPlhaXov4fmhI/op4FcbiNcdFx0XHRpZiAhYXBwcm92ZS5pc19maW5pc2hlZCB8fCBhcHByb3ZlLmRlc2NyaXB0aW9uIHx8ICghaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAmJiAhaGF2ZURlc2NyaXB0aW9uQXBwcm92ZShhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSlcbiNcdFx0XHRpZiAhaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKVxuXHRcdFx0aWYgYXBwcm92ZS5zaWduX3Nob3cgIT0gZmFsc2UgJiYgKGFwcHJvdmUuZGVzY3JpcHRpb24gfHwgKCFhcHByb3ZlLmRlc2NyaXB0aW9uICYmICFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApKSApXG5cdFx0XHRcdGlmIGFwcHJvdmUuanVkZ2UgaXNudCAndGVybWluYXRlZCdcblx0XHRcdFx0XHRhcHByb3ZlLl9kaXNwbGF5ID0gdHJ1ZVxuXG5cdFx0YXBwcm92ZXNfc29ydGVkID0gXy5maWx0ZXIgYXBwcm92ZXNfc29ydGVkLCAoYSkgLT5cblx0XHRcdGlmIGlzX2NvbXBsZXRlZFxuXHRcdFx0XHRyZXR1cm4gYS5fZGlzcGxheSA9PSB0cnVlICYmIGEuaXNfZmluaXNoZWQgJiYgYS5maW5pc2hfZGF0ZT8uZ2V0VGltZSgpIDw9IGNvbXBsZXRlZF9kYXRlXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBhLl9kaXNwbGF5ID09IHRydWVcblxuXHRcdHJldHVybiBhcHByb3Zlc19zb3J0ZWRcblxuXHRpbmNsdWRlOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlKGEsIGIpXG5cblx0dW5lbXB0eTogKHZhbCktPlxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnVuZW1wdHkodmFsKVxuXG5cdGZvcm1hdERhdGU6IChkYXRlLCBvcHRpb25zKS0+XG5cdFx0aWYgIW9wdGlvbnNcblx0XHRcdG9wdGlvbnMgPSB7XCJmb3JtYXRcIjogXCJZWVlZLU1NLUREXCJ9XG5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtYXREYXRlKGRhdGUsIG9wdGlvbnMpXG5cblx0aXNNeUFwcHJvdmU6IChhcHByb3ZlLCBvbmx5X2NjX29waW5pb24pIC0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuXHRcdFx0Y3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKVxuXG5cdFx0XHRpZiAhYXBwcm92ZT8uX2lkXG5cdFx0XHRcdGFwcHJvdmUgPSBjdXJyZW50QXBwcm92ZVxuXG5cdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBjdXJyZW50QXBwcm92ZT8uX2lkICYmIGN1cnJlbnRBcHByb3ZlPy50eXBlID09ICdjYycgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWVcblx0XHRcdFx0aWYgXy5pbmRleE9mKGN1cnJlbnRBcHByb3ZlPy5vcGluaW9uX2ZpZWxkc19jb2RlLCBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkgPiAtMVxuXHRcdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdFx0aWYgIShjdXJyZW50QXBwcm92ZT8udHlwZSA9PSAnY2MnKSAmJiBvbmx5X2NjX29waW5pb25cblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRcdGlmIGN1cnJlbnRBcHByb3ZlICYmIGFwcHJvdmUuX2lkID09IGN1cnJlbnRBcHByb3ZlLl9pZFxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdG15QXBwcm92ZURlc2NyaXB0aW9uOiAoYXBwcm92ZUlkKS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXG5cdFx0XHRcdG15QXBwcm92ZSA9IFRlbXBsYXRlLmluc3RhbmNlKCk/Lm15QXBwcm92ZT8uZ2V0KClcblx0XHRcdFx0aWYgbXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PSBhcHByb3ZlSWRcblx0XHRcdFx0XHRpZiAhbXlBcHByb3ZlLnNpZ25fZmllbGRfY29kZSB8fCBteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09IFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGE/Lm5hbWVcblx0XHRcdFx0XHRcdGlmICFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcblx0XHRcdFx0XHRcdFx0cmV0dXJuIG15QXBwcm92ZT8uZGVzY3JpcHRpb24gfHwgXCJcIlxuXHRcdFx0XHRcdFx0cmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKVxuXG5cdG5vdzogKCktPlxuXHRcdHJldHVybiBuZXcgRGF0ZSgpO1xuXG5cdGlzUmVhZE9ubHk6ICgpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdHJldHVybiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRpc09waW5pb25PZkZpZWxkOiAoYXBwcm92ZSktPlxuXHRcdGlmIGFwcHJvdmUudHlwZSA9PSBcImNjXCIgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWVcblx0XHRcdGlmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lID09IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlXG5cdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdG1hcmtEb3duVG9IdG1sOiAobWFya0Rvd25TdHJpbmcpLT5cblx0XHRpZiBtYXJrRG93blN0cmluZ1xuXHRcdFx0cmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcblx0XHRcdHJlbmRlcmVyLmxpbmsgPSAoaHJlZiwgdGl0bGUsIHRleHQpIC0+XG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcblx0XHRcdHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge3JlbmRlcmVyOiByZW5kZXJlcn0pKVxuXG5cdHN0ZXBzOiAoZmllbGRfZm9ybXVsYSwgc3RlcCwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduKS0+XG5cdFx0c3RlcHMgPSBbXVxuXHRcdGlmICFzdGVwXG5cdFx0XHRpZiAhZmllbGRfZm9ybXVsYVxuXHRcdFx0XHRmaWVsZF9mb3JtdWxhID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKT8uZmllbGRzPy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCB0aGlzLm5hbWUpLmZvcm11bGFcblx0XHRcdHN0ZXBzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRPcGluaW9uRmllbGRTdGVwc05hbWUoZmllbGRfZm9ybXVsYSwgVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YS50b3Bfa2V5d29yZHMpXG5cdFx0ZWxzZVxuXHRcdFx0c3RlcHMgPSBbe3N0ZXBOYW1lOiBzdGVwLCBvbmx5X2NjX29waW5pb246IG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbjogaW1hZ2Vfc2lnbn1dXG5cdFx0cmV0dXJuIHN0ZXBzXG5cblx0aW1hZ2VTaWduRGF0YTogKGhhbmRsZXIpIC0+XG5cdFx0cmV0dXJuIHt1c2VyOiBoYW5kbGVyfVxuXG5cdHNob3dTaWduSW1hZ2U6IChoYW5kbGVyLCBpbWFnZV9zaWduKSAtPlxuXHRcdHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKGhhbmRsZXIpO1xuXG5cdFx0aWYgc3BhY2VVc2VyU2lnbj8uc2lnbiAmJiBpbWFnZV9zaWduXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdGdldExhc3RTaWduQXBwcm92ZTogKCktPlxuXHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG5cdFx0cmV0dXJuIF8ubGFzdChUcmFjZXNNYW5hZ2VyLmdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzIGlucywgTWV0ZW9yLnVzZXJJZCgpKVxuXG5cblx0bGFzdE15QXBwcm92ZURlc2NyaXB0aW9uOiAoKS0+XG5cdFx0dHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKVxuXHRcdGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG5cdFx0YXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tjdXJyZW50U3RlcC5uYW1lXSlcblxuXHRcdGFwcHJvdmVzID0gYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIE1ldGVvci51c2VySWQoKSlcblxuXHRcdGlmIGFwcHJvdmVzLmxlbmd0aCA+IDFcblx0XHRcdHJldHVybiBhcHByb3Zlc1thcHByb3Zlcy5sZW5ndGggLSAyXT8uZGVzY3JpcHRpb25cblxuXHRcdHJldHVybiBcIlwiO1xuXG5cdHNob3dBcHByb3ZlOiAoYXBwcm92ZSktPlxuXHRcdGlmICFhcHByb3ZlLnNpZ25fZmllbGRfY29kZSB8fCBhcHByb3ZlLnNpZ25fZmllbGRfY29kZSA9PSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhPy5uYW1lXG5cdFx0XHRpZiBhcHByb3ZlPy5pc19yZWFkXG5cdFx0XHRcdGlmIGFwcHJvdmUuaXNfZmluaXNoZWRcblx0XHRcdFx0XHRyZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhhcHByb3ZlLmp1ZGdlKVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdGp1ZGdlX2Rlc2NyaXB0aW9uOiAoanVkZ2UpLT5cblx0XHRyZXR1cm4gdChqdWRnZSArIFwiX2Rlc2NyaXB0aW9uXCIpXG5cblx0aXNfYXBwcm92ZWQ6IChqdWRnZSktPlxuXHRcdHJldHVybiBcImFwcHJvdmVkXCIgPT0ganVkZ2VcblxuXHRpc19yZWplY3RlZDogKGp1ZGdlKS0+XG5cdFx0cmV0dXJuIFwicmVqZWN0ZWRcIiA9PSBqdWRnZVxuXG5cdGlzX3JlYWRlZDogKGp1ZGdlKS0+XG5cdFx0cmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoanVkZ2UpXG5cblx0YWRkQ2xhc3M6ICgpLT5cblx0XHRuYW1lID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YT8ubmFtZVxuXHRcdHNldFRpbWVvdXQgKCkgLT5cblx0XHRcdHRyeVxuXHRcdFx0XHRlbGVtZW50ID0gJChcIi5hdXRvbWF0aWMub3Bpbmlvbi1maWVsZC1cIiArIG5hbWUpXG5cdFx0XHRcdGlmIGVsZW1lbnQubGVuZ3RoID4gMFxuXHRcdFx0XHRcdGlmIGVsZW1lbnQ/LmlzKFwidGRcIilcblx0XHRcdFx0XHRcdGVsZW1lbnQuYWRkQ2xhc3MoJ2ZpZWxkLWVkaXRhYmxlJylcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHQkKFwiLmluc3RhbmNlLXNpZ25cIiwgZWxlbWVudCkuYWRkQ2xhc3MoJ2ZpZWxkLWVkaXRhYmxlJylcblx0XHRcdGNhdGNoIGVcblx0XHRcdFx0Y29uc29sZS5sb2cgZVxuXHRcdCwgMVxuXHRcdHJldHVybiAnJ1xuXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0SW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzLmRlZmF1bHREZXNjcmlwdGlvbiA9IC0+XG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIsIHt9LCBsb2NhbGUpIiwiSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzID0ge1xuICBzaG93OiBmdW5jdGlvbihzdGVwTmFtZSkge1xuICAgIHZhciBpbnN0YW5jZSwgbXlBcHByb3ZlLCBteVRyYWNlLCByZWY7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KCdpbnN0YW5jZVByaW50JykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKEluc3RhbmNlTWFuYWdlci5pc0luYm94KCkpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XG4gICAgICAgIGlmIChteUFwcHJvdmUpIHtcbiAgICAgICAgICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgIG15VHJhY2UgPSBpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIG15QXBwcm92ZS50cmFjZSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIChteVRyYWNlICE9IG51bGwgPyBteVRyYWNlLm5hbWUgOiB2b2lkIDApID09PSBzdGVwTmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGRlZmF1bHREZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uO1xuICB9LFxuICB0cmFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpO1xuICB9LFxuICB0cmFjZTogZnVuY3Rpb24oc3RlcE5hbWUsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiwgdG9wX2tleXdvcmRzKSB7XG4gICAgdmFyIGFwcHJvdmVfc29ydCwgYXBwcm92ZXMsIGFwcHJvdmVzR3JvdXAsIGFwcHJvdmVzX3NvcnRlZCwgY29tcGxldGVkX2RhdGUsIGhhc05leHQsIGhhdmVEZXNjcmlwdGlvbkFwcHJvdmUsIGluc3RhbmNlLCBpc19jb21wbGV0ZWQsIHJlZiwgcmVmMSwgcmVmMiwgdHJhY2VzO1xuICAgIGluc3RhbmNlID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSgpO1xuICAgIGlzX2NvbXBsZXRlZCA9IChpbnN0YW5jZSAhPSBudWxsID8gaW5zdGFuY2Uuc3RhdGUgOiB2b2lkIDApID09PSBcImNvbXBsZXRlZFwiO1xuICAgIGNvbXBsZXRlZF9kYXRlID0gaXNfY29tcGxldGVkID8gKHJlZiA9IF8ubGFzdChpbnN0YW5jZS50cmFjZXMpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZmluaXNoX2RhdGUpICE9IG51bGwgPyByZWYxLmdldFRpbWUoKSA6IHZvaWQgMCA6IHZvaWQgMCA6IDA7XG4gICAgaWYgKGlzX2NvbXBsZXRlZCAmJiBpbnN0YW5jZS5maW5pc2hfZGF0ZSkge1xuICAgICAgY29tcGxldGVkX2RhdGUgPSAocmVmMiA9IGluc3RhbmNlLmZpbmlzaF9kYXRlKSAhPSBudWxsID8gcmVmMi5nZXRUaW1lKCkgOiB2b2lkIDA7XG4gICAgfVxuICAgIHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKCk7XG4gICAgYXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tzdGVwTmFtZV0pO1xuICAgIGFwcHJvdmVfc29ydCA9IGZ1bmN0aW9uKGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpIHtcbiAgICAgIHZhciBhcHByb3Zlc19zb3J0ZWQsIHRvcF9hcHByb3ZlcztcbiAgICAgIGFwcHJvdmVzX3NvcnRlZCA9IF8uc29ydEJ5KGFwcHJvdmVzLCBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgIHJldHVybiAtKGFwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgfSk7XG4gICAgICBpZiAodG9wX2tleXdvcmRzKSB7XG4gICAgICAgIHRvcF9hcHByb3ZlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0b3Bfa2V5d29yZHMuc3BsaXQoXCIsXCIpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHRvcF9hcHByb3ZlcyA9IF8udW5pb24odG9wX2FwcHJvdmVzLCBfLmZpbHRlcihhcHByb3Zlc19zb3J0ZWQsIGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICAgIHZhciByZWYzO1xuICAgICAgICAgICAgcmV0dXJuIChhcHByb3ZlICE9IG51bGwgPyAocmVmMyA9IGFwcHJvdmUuaGFuZGxlcl9uYW1lKSAhPSBudWxsID8gcmVmMy5pbmRleE9mKGtleSkgOiB2b2lkIDAgOiB2b2lkIDApID4gLTE7XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdG9wX2FwcHJvdmVzID0gXy5zb3J0QnkodG9wX2FwcHJvdmVzLCBmdW5jdGlvbih0b3BfYXBwcm92ZSkge1xuICAgICAgICAgIHJldHVybiAtKHRvcF9hcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFwcHJvdmVzX3NvcnRlZCA9IF8udW5pb24odG9wX2FwcHJvdmVzLCBhcHByb3Zlc19zb3J0ZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFwcHJvdmVzX3NvcnRlZCB8fCBbXTtcbiAgICB9O1xuICAgIGFwcHJvdmVzID0gXy5maWx0ZXIoYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiBhLnR5cGUgIT09IFwiZm9yd2FyZFwiICYmIGEudHlwZSAhPT0gXCJkaXN0cmlidXRlXCIgJiYgYS50eXBlICE9PSBcInRlcm1pbmF0ZWRcIjtcbiAgICB9KTtcbiAgICBpZiAob25seV9jY19vcGluaW9uKSB7XG4gICAgICBhcHByb3ZlcyA9IGFwcHJvdmVzICE9IG51bGwgPyBhcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcInR5cGVcIiwgXCJjY1wiKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgYXBwcm92ZXNfc29ydGVkID0gYXBwcm92ZV9zb3J0KGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpO1xuICAgIGFwcHJvdmVzR3JvdXAgPSBfLmdyb3VwQnkoYXBwcm92ZXMsIFwiaGFuZGxlclwiKTtcbiAgICBoYXNOZXh0ID0gZnVuY3Rpb24oYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkge1xuICAgICAgdmFyIGhhbmRsZXJBcHByb3ZlcztcbiAgICAgIGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXTtcbiAgICAgIHJldHVybiBfLmluZGV4T2YoaGFuZGxlckFwcHJvdmVzLCBhcHByb3ZlKSArIDEgPCBoYW5kbGVyQXBwcm92ZXMubGVuZ3RoO1xuICAgIH07XG4gICAgaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSA9IGZ1bmN0aW9uKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIHtcbiAgICAgIHZhciBkZXNjcmlwdGlvbkFwcHJvdmVzLCBoYW5kbGVyQXBwcm92ZXM7XG4gICAgICBoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl07XG4gICAgICBkZXNjcmlwdGlvbkFwcHJvdmVzID0gXy5maWx0ZXIoaGFuZGxlckFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgIGlmIChhLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBpZiAoZGVzY3JpcHRpb25BcHByb3Zlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBhcHByb3Zlc19zb3J0ZWQuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICBpZiAoYXBwcm92ZS5zaWduX3Nob3cgIT09IGZhbHNlICYmIChhcHByb3ZlLmRlc2NyaXB0aW9uIHx8ICghYXBwcm92ZS5kZXNjcmlwdGlvbiAmJiAhaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSkpKSB7XG4gICAgICAgIGlmIChhcHByb3ZlLmp1ZGdlICE9PSAndGVybWluYXRlZCcpIHtcbiAgICAgICAgICByZXR1cm4gYXBwcm92ZS5fZGlzcGxheSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBhcHByb3Zlc19zb3J0ZWQgPSBfLmZpbHRlcihhcHByb3Zlc19zb3J0ZWQsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIHZhciByZWYzO1xuICAgICAgaWYgKGlzX2NvbXBsZXRlZCkge1xuICAgICAgICByZXR1cm4gYS5fZGlzcGxheSA9PT0gdHJ1ZSAmJiBhLmlzX2ZpbmlzaGVkICYmICgocmVmMyA9IGEuZmluaXNoX2RhdGUpICE9IG51bGwgPyByZWYzLmdldFRpbWUoKSA6IHZvaWQgMCkgPD0gY29tcGxldGVkX2RhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYS5fZGlzcGxheSA9PT0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gYXBwcm92ZXNfc29ydGVkO1xuICB9LFxuICBpbmNsdWRlOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZShhLCBiKTtcbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24odmFsKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudW5lbXB0eSh2YWwpO1xuICB9LFxuICBmb3JtYXREYXRlOiBmdW5jdGlvbihkYXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBcImZvcm1hdFwiOiBcIllZWVktTU0tRERcIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybWF0RGF0ZShkYXRlLCBvcHRpb25zKTtcbiAgfSxcbiAgaXNNeUFwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmUsIG9ubHlfY2Nfb3Bpbmlvbikge1xuICAgIHZhciBjdXJyZW50QXBwcm92ZSwgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgY3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcbiAgICAgIGlmICghKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUuX2lkIDogdm9pZCAwKSkge1xuICAgICAgICBhcHByb3ZlID0gY3VycmVudEFwcHJvdmU7XG4gICAgICB9XG4gICAgICBpZiAoYXBwcm92ZS5faWQgPT09IChjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUuX2lkIDogdm9pZCAwKSAmJiAoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLnR5cGUgOiB2b2lkIDApID09PSAnY2MnICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSB7XG4gICAgICAgIGlmIChfLmluZGV4T2YoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUgOiB2b2lkIDAsIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSA+IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoISgoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLnR5cGUgOiB2b2lkIDApID09PSAnY2MnKSAmJiBvbmx5X2NjX29waW5pb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRBcHByb3ZlICYmIGFwcHJvdmUuX2lkID09PSBjdXJyZW50QXBwcm92ZS5faWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVJZCkge1xuICAgIHZhciBteUFwcHJvdmUsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5teUFwcHJvdmUpICE9IG51bGwgPyByZWYxLmdldCgpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAobXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKCFteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IG15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT09ICgocmVmMiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMyA9IHJlZjIuZGF0YSkgIT0gbnVsbCA/IHJlZjMubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgIGlmICghU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIHJldHVybiAobXlBcHByb3ZlICE9IG51bGwgPyBteUFwcHJvdmUuZGVzY3JpcHRpb24gOiB2b2lkIDApIHx8IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbm93OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgfSxcbiAgaXNSZWFkT25seTogZnVuY3Rpb24oKSB7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgcmV0dXJuIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc09waW5pb25PZkZpZWxkOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gXCJjY1wiICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSB7XG4gICAgICBpZiAoVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUgPT09IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIG1hcmtEb3duVG9IdG1sOiBmdW5jdGlvbihtYXJrRG93blN0cmluZykge1xuICAgIHZhciByZW5kZXJlcjtcbiAgICBpZiAobWFya0Rvd25TdHJpbmcpIHtcbiAgICAgIHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG4gICAgICByZW5kZXJlci5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgICAgcmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiICsgaHJlZiArIFwiJyB0aXRsZT0nXCIgKyB0aXRsZSArIFwiJz5cIiArIHRleHQgKyBcIjwvYT5cIjtcbiAgICAgIH07XG4gICAgICByZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtcbiAgICAgICAgcmVuZGVyZXI6IHJlbmRlcmVyXG4gICAgICB9KSk7XG4gICAgfVxuICB9LFxuICBzdGVwczogZnVuY3Rpb24oZmllbGRfZm9ybXVsYSwgc3RlcCwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduKSB7XG4gICAgdmFyIHJlZiwgcmVmMSwgcmVmMiwgc3RlcHM7XG4gICAgc3RlcHMgPSBbXTtcbiAgICBpZiAoIXN0ZXApIHtcbiAgICAgIGlmICghZmllbGRfZm9ybXVsYSkge1xuICAgICAgICBmaWVsZF9mb3JtdWxhID0gKHJlZiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5maWVsZHMpICE9IG51bGwgPyByZWYxLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIHRoaXMubmFtZSkuZm9ybXVsYSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHN0ZXBzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRPcGluaW9uRmllbGRTdGVwc05hbWUoZmllbGRfZm9ybXVsYSwgKHJlZjIgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gcmVmMi5kYXRhLnRvcF9rZXl3b3JkcyA6IHZvaWQgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ZXBzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgc3RlcE5hbWU6IHN0ZXAsXG4gICAgICAgICAgb25seV9jY19vcGluaW9uOiBvbmx5X2NjX29waW5pb24sXG4gICAgICAgICAgaW1hZ2Vfc2lnbjogaW1hZ2Vfc2lnblxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gc3RlcHM7XG4gIH0sXG4gIGltYWdlU2lnbkRhdGE6IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlcjogaGFuZGxlclxuICAgIH07XG4gIH0sXG4gIHNob3dTaWduSW1hZ2U6IGZ1bmN0aW9uKGhhbmRsZXIsIGltYWdlX3NpZ24pIHtcbiAgICB2YXIgc3BhY2VVc2VyU2lnbjtcbiAgICBzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbihoYW5kbGVyKTtcbiAgICBpZiAoKHNwYWNlVXNlclNpZ24gIT0gbnVsbCA/IHNwYWNlVXNlclNpZ24uc2lnbiA6IHZvaWQgMCkgJiYgaW1hZ2Vfc2lnbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIGdldExhc3RTaWduQXBwcm92ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICByZXR1cm4gXy5sYXN0KFRyYWNlc01hbmFnZXIuZ2V0SGFuZGxlclNpZ25TaG93QXBwcm92ZXMoaW5zLCBNZXRlb3IudXNlcklkKCkpKTtcbiAgfSxcbiAgbGFzdE15QXBwcm92ZURlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXBwcm92ZXMsIGN1cnJlbnRTdGVwLCByZWYsIHRyYWNlcztcbiAgICB0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpO1xuICAgIGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgYXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tjdXJyZW50U3RlcC5uYW1lXSk7XG4gICAgYXBwcm92ZXMgPSBhcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcImhhbmRsZXJcIiwgTWV0ZW9yLnVzZXJJZCgpKTtcbiAgICBpZiAoYXBwcm92ZXMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIChyZWYgPSBhcHByb3Zlc1thcHByb3Zlcy5sZW5ndGggLSAyXSkgIT0gbnVsbCA/IHJlZi5kZXNjcmlwdGlvbiA6IHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0sXG4gIHNob3dBcHByb3ZlOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgdmFyIHJlZiwgcmVmMTtcbiAgICBpZiAoIWFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09PSAoKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5kYXRhKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgaWYgKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUuaXNfcmVhZCA6IHZvaWQgMCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5pc19maW5pc2hlZCkge1xuICAgICAgICAgIHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGFwcHJvdmUuanVkZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAganVkZ2VfZGVzY3JpcHRpb246IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIHQoanVkZ2UgKyBcIl9kZXNjcmlwdGlvblwiKTtcbiAgfSxcbiAgaXNfYXBwcm92ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFwiYXBwcm92ZWRcIiA9PT0ganVkZ2U7XG4gIH0sXG4gIGlzX3JlamVjdGVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBcInJlamVjdGVkXCIgPT09IGp1ZGdlO1xuICB9LFxuICBpc19yZWFkZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoanVkZ2UpO1xuICB9LFxuICBhZGRDbGFzczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5hbWUsIHJlZiwgcmVmMTtcbiAgICBuYW1lID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5kYXRhKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZSwgZWxlbWVudDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVsZW1lbnQgPSAkKFwiLmF1dG9tYXRpYy5vcGluaW9uLWZpZWxkLVwiICsgbmFtZSk7XG4gICAgICAgIGlmIChlbGVtZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAoZWxlbWVudCAhPSBudWxsID8gZWxlbWVudC5pcyhcInRkXCIpIDogdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICQoXCIuaW5zdGFuY2Utc2lnblwiLCBlbGVtZW50KS5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfVxuICAgIH0sIDEpO1xuICAgIHJldHVybiAnJztcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMuZGVmYXVsdERlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIsIHt9LCBsb2NhbGUpO1xuICB9O1xufVxuIiwiVHJhY2VzVGVtcGxhdGUuaGVscGVycyA9XG5cdGVxdWFsczogKGEsIGIpIC0+XG5cdFx0YSA9PSBiXG5cdGVtcHR5OiAoYSkgLT5cblx0XHRpZiBhXG5cdFx0XHRhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA8IDFcblx0XHRlbHNlXG5cdFx0XHR0cnVlXG5cdHVuZW1wdHk6IChhKSAtPlxuXHRcdGlmIGFcblx0XHRcdGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMFxuXHRcdGVsc2Vcblx0XHRcdGZhbHNlXG5cblx0YXBwZW5kOiAoYSwgYikgLT5cblx0XHRhICsgYlxuXG5cdGRhdGVGb3JtYXQ6IChkYXRlKSAtPlxuXHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpICYmIGRhdGU/LmdldEZ1bGxZZWFyKCkgPT0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpXG5cdFx0XHRcdHJldHVybiAkLmZvcm1hdC5kYXRlIG5ldyBEYXRlKGRhdGUpLCBcIk1NLWRkIEhIOm1tXCJcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuICQuZm9ybWF0LmRhdGUgbmV3IERhdGUoZGF0ZSksIFwieXl5eS1NTS1kZCBISDptbVwiXG5cblx0Z2V0U3RlcE5hbWU6IChzdGVwSWQpIC0+XG5cdFx0c3RlcCA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZVN0ZXAoc3RlcElkKVxuXHRcdGlmIHN0ZXBcblx0XHRcdHJldHVybiBzdGVwLm5hbWVcblx0XHRudWxsXG5cdHNob3dEZWxldGVCdXR0b246IChhcHByb3ZlZCkgLT5cblx0XHRpZiBhcHByb3ZlZCBhbmQgYXBwcm92ZWQudHlwZSA9PSAnY2MnIGFuZCBhcHByb3ZlZC5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpIGFuZCBhcHByb3ZlZC5pc19maW5pc2hlZCAhPSB0cnVlIGFuZCAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdGlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbjogKGFwcHJvdmVkKSAtPlxuXHRcdGFwcHJvdmVfYWRtaW5zID0gTWV0ZW9yLnNldHRpbmdzPy5wdWJsaWM/LndvcmtmbG93Py5hcHByb3ZlX2FkbWluc1xuXHRcdGlmIGFwcHJvdmVfYWRtaW5zPy5sZW5ndGhcblx0XHRcdGlzU2hvdyA9IGFwcHJvdmVfYWRtaW5zPy5jb250YWlucyBNZXRlb3IudXNlcklkKClcblx0XHR1bmxlc3MgaXNTaG93XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRyZXR1cm4gYXBwcm92ZWQuaGFuZGxlciA9PSBNZXRlb3IudXNlcklkKClcblx0aXNFZGl0aW5nOiAoKSAtPlxuXHRcdCByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5pc19lZGl0aW5nPy5nZXQoKVxuXHRpc1Nob3dEZXNjcmlwdGlvbjogKGFwcHJvdmVkKS0+XG5cdFx0IyBkZWJ1Z2dlclxuXHRcdGlmIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuaXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uIGFwcHJvdmVkXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdHJldHVybiBhcHByb3ZlZC5kZXNjcmlwdGlvbj8udG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMFxuXHRpc0NDOiAoYXBwcm92ZWQpIC0+XG5cdFx0aWYgYXBwcm92ZWQgYW5kIGFwcHJvdmVkLnR5cGUgPT0gJ2NjJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRnZXRBcHByb3ZlU3RhdHVzSWNvbjogKGFwcHJvdmVKdWRnZSkgLT5cblx0XHQj5bey57uT5p2f55qE5pi+56S65Li65qC45YeGL+mps+Wbni/lj5bmtojnlLPor7fvvIzlubbmmL7npLrlpITnkIbnirbmgIHlm77moIdcblx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9IHVuZGVmaW5lZFxuXHRcdHN3aXRjaCBhcHByb3ZlSnVkZ2Vcblx0XHRcdHdoZW4gJ2FwcHJvdmVkJ1xuXHRcdFx0XHQjIOW3suaguOWHhlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWNoZWNrbWFyay1yb3VuZCdcblx0XHRcdHdoZW4gJ3JlamVjdGVkJ1xuXHRcdFx0XHQjIOW3sumps+WbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWNsb3NlLXJvdW5kJ1xuXHRcdFx0d2hlbiAndGVybWluYXRlZCdcblx0XHRcdFx0IyDlt7Llj5bmtohcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtYmFuJ1xuXHRcdFx0d2hlbiAncmVhc3NpZ25lZCdcblx0XHRcdFx0IyDovaznrb7moLhcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1hbmRyb2lkLWNvbnRhY3QnXG5cdFx0XHR3aGVuICdyZWxvY2F0ZWQnXG5cdFx0XHRcdCMg6YeN5a6a5L2NXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYXJyb3ctc2hyaW5rJ1xuXHRcdFx0d2hlbiAncmV0cmlldmVkJ1xuXHRcdFx0XHQjIOW3suWPluWbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdmYSBmYS11bmRvJ1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICcnXG5cdFx0XHRcdGJyZWFrXG5cdFx0YXBwcm92ZVN0YXR1c0ljb25cblx0Z2V0QXBwcm92ZVN0YXR1c1RleHQ6IChhcHByb3ZlSnVkZ2UpIC0+XG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRcdGVsc2Vcblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcblx0XHQj5bey57uT5p2f55qE5pi+56S65Li65qC45YeGL+mps+Wbni/lj5bmtojnlLPor7fvvIzlubbmmL7npLrlpITnkIbnirbmgIHlm77moIdcblx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IHVuZGVmaW5lZFxuXHRcdHN3aXRjaCBhcHByb3ZlSnVkZ2Vcblx0XHRcdHdoZW4gJ2FwcHJvdmVkJ1xuXHRcdFx0XHQjIOW3suaguOWHhlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIGFwcHJvdmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JlamVjdGVkJ1xuXHRcdFx0XHQjIOW3sumps+WbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlamVjdGVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5raIXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZWFzc2lnbmVkJ1xuXHRcdFx0XHQjIOi9rOetvuaguFxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYXNzaWduZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0d2hlbiAncmVsb2NhdGVkJ1xuXHRcdFx0XHQjIOmHjeWumuS9jVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlbG9jYXRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZXRyaWV2ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5ZueXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0cmlldmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JldHVybmVkJ1xuXHRcdFx0XHQjIOW3sumAgOWbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHVybmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JlYWRlZCdcblx0XHRcdFx0IyDlt7LpmIVcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFkZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9ICcnXG5cdFx0XHRcdGJyZWFrXG5cdFx0YXBwcm92ZVN0YXR1c1RleHRcblx0X3Q6IChrZXkpLT5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXG5cblx0bXlBcHByb3ZlRGVzY3JpcHRpb246IChhcHByb3ZlSWQpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0bXlBcHByb3ZlID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8ubXlBcHByb3ZlPy5nZXQoKVxuXHRcdFx0XHRpZiBteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmlkID09IGFwcHJvdmVJZFxuXHRcdFx0XHRcdGlmICFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcblx0XHRcdFx0XHRcdHJldHVybiBteUFwcHJvdmU/LmRlc2NyaXB0aW9uIHx8IFwiXCJcblx0XHRcdFx0XHRyZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXG5cdGlzRm9yd2FyZDogKGFwcHJvdmVkKSAtPlxuXHRcdGlmIGFwcHJvdmVkIGFuZCBhcHByb3ZlZC50eXBlID09ICdmb3J3YXJkJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRzaG93Rm9yd2FyZERlbGV0ZUJ1dHRvbjogKGFwcHJvdmUpIC0+XG5cdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpIGlzIDBcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGlmIGFwcHJvdmUgYW5kIGFwcHJvdmUudHlwZSA9PSAnZm9yd2FyZCcgYW5kIGFwcHJvdmUuZnJvbV91c2VyID09IE1ldGVvci51c2VySWQoKSBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSBhbmQgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcblx0XHRcdHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG5cdFx0XHRyZW5kZXJlci5saW5rID0gKCBocmVmLCB0aXRsZSwgdGV4dCApIC0+XG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcblx0XHRcdHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge3JlbmRlcmVyOnJlbmRlcmVyfSkpXG5cdGlzRGlzdHJpYnV0ZTogKGFwcHJvdmUpIC0+XG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRzaG93RGlzdHJpYnV0ZURlbGV0ZUJ1dHRvbjogKGFwcHJvdmUpIC0+XG5cdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpIGlzIDBcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJyBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSBhbmQgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJyBhbmQgU3RlZWRvcy5pc0xlZ2FsVmVyc2lvbignJyxcIndvcmtmbG93LmVudGVycHJpc2VcIilcblx0XHRcdCMg5rWB56iL566h55CG5ZGY5ZKM57O757uf566h55CG5ZGY77yM5Y+v5Lul5omn6KGM5Lu75L2V5oOF5Ya15LiL55qE5paH5Lu25Y+W5raI5YiG5Y+RXG5cdFx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBhcHByb3ZlLmluc3RhbmNlfSwge2ZpZWxkczoge2Zsb3c6IDEsIHNwYWNlOiAxfX0pXG5cdFx0XHRpZiBpbnMgYW5kIGlucy5mbG93IGFuZCBpbnMuc3BhY2Vcblx0XHRcdFx0aWYgV29ya2Zsb3dNYW5hZ2VyLmhhc0Zsb3dBZG1pblBlcm1pc3Npb24oaW5zLmZsb3csIGlucy5zcGFjZSwgTWV0ZW9yLnVzZXJJZCgpKVxuXHRcdFx0XHRcdHJldHVybiB0cnVlXG5cblx0XHRcdGlmIGFwcHJvdmUuZnJvbV91c2VyID09IE1ldGVvci51c2VySWQoKVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cdFx0ZmFsc2VcblxuXHRmaW5pc2hEYXRlU2NoZW1hOiAoKSAtPlxuXHRcdGlmIFN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKVxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xuXHRcdFx0XHRmaW5pc2hfZGF0ZToge1xuXHRcdFx0XHRcdGF1dG9mb3JtOiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImRhdGV0aW1lLWxvY2FsXCJcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG9wdGlvbmFsOiBmYWxzZSxcblx0XHRcdFx0XHR0eXBlOiBEYXRlXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xuXHRcdFx0XHRmaW5pc2hfZGF0ZToge1xuXHRcdFx0XHRcdGF1dG9mb3JtOiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImJvb3RzdHJhcC1kYXRldGltZXBpY2tlclwiXG5cdFx0XHRcdFx0XHRyZWFkb25seTogdHJ1ZVxuXHRcdFx0XHRcdFx0ZGF0ZVRpbWVQaWNrZXJPcHRpb25zOntcblx0XHRcdFx0XHRcdFx0Zm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIixcblx0XHRcdFx0XHRcdFx0aWdub3JlUmVhZG9ubHk6dHJ1ZSxcblx0XHRcdFx0XHRcdFx0bG9jYWxlOiBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpLFxuXHRcdFx0XHRcdFx0XHR3aWRnZXRQb3NpdGlvbmluZzp7XG5cdFx0XHRcdFx0XHRcdFx0aG9yaXpvbnRhbDogJ3JpZ2h0J1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRvcHRpb25hbDogZmFsc2UsXG5cdFx0XHRcdFx0dHlwZTogRGF0ZVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXG5cdGZpbmlzaERhdGVWYWx1ZXM6ICgpIC0+XG5cdFx0cmV0dXJuIHtcblx0XHRcdGZpbmlzaF9kYXRlOnRoaXMuZmluaXNoX2RhdGVcblx0XHR9O1xuXG5cdCMjI1xuICAgIFx05q2k5Ye95pWw55So5LqO5o6n5Yi25piv5ZCm5pi+56S6dHJhY2VzIHZpZXdcbiAgICBcdHRydWU6IOaYvuekunRyYWNlcyB2aWV3LOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjuaYr+ebtOaOpeWumuS9jeWIsHRyYWNlcyB2aWV3XG4gICAgXHRmYWxzZTog5LiN5pi+56S6dHJhY2VzIHZpZXfvvIznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI4s5LulTW9kYWwg5pa55byP5pi+56S6dHJhY2VzIHZpZXdcblx0IyMjXG5cdHNob3dUcmFjZXNWaWV3OiAoZm9ybSwgZm9ybV92ZXJzaW9uKS0+XG4jXHRcdHJldHVybiAhKEluc3RhbmNlTWFuYWdlci5pc1RhYmxlU3R5bGUoZm9ybSkgJiYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlc09waW5pb25GaWVsZChmb3JtLCBmb3JtX3ZlcnNpb24pKVxuXG5cdFx0c2hvd19tb2RhbF90cmFjZXNfbGlzdCA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoe3NwYWNlOiBTZXNzaW9uLmdldChcInNwYWNlSWRcIiksIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCJ9KT8udmFsdWVzIHx8IGZhbHNlXG5cblx0XHRyZXR1cm4gIXNob3dfbW9kYWxfdHJhY2VzX2xpc3RcblxuXHRnZXRJbnN0YW5jZVN0YXRlVGV4dDogKGluc3RhbmNlX2lkKS0+XG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRcdGVsc2Vcblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcblxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkfSwge2ZpZWxkczoge3N0YXRlOiAxLCBpc19yZWFkOiAxfX0pXG5cdFx0aWYgbm90IGluc1xuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oJ2luc3RhbmNlX2RlbGV0ZWQnLCB7fSwgbG9jYWxlKVxuXG5cdFx0dGV4dCA9ICcnXG5cdFx0aWYgaW5zLnN0YXRlIGlzICdjb21wbGV0ZWQnXG5cdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygnY29tcGxldGVkJywge30sIGxvY2FsZSlcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAncGVuZGluZydcblx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdwZW5kaW5nJywge30sIGxvY2FsZSlcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAnZHJhZnQnXG5cdFx0XHRpZiBpbnMuaXNfcmVhZFxuXHRcdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9yZWFkJywge30sIGxvY2FsZSlcblx0XHRcdGVsc2Vcblx0XHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfbm90X3lldF9oYW5kbGVkJywge30sIGxvY2FsZSlcblxuXHRcdHJldHVybiB0ZXh0XG5cblx0Z2V0SW5zdGFuY2VTdGF0ZUNvbG9yOiAoaW5zdGFuY2VfaWQpLT5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHtmaWVsZHM6IHtzdGF0ZTogMSwgaXNfcmVhZDogMX19KVxuXHRcdGlmIG5vdCBpbnNcblx0XHRcdHJldHVybiBcIlwiXG5cblx0XHRjbGEgPSAnJ1xuXHRcdGlmIGlucy5zdGF0ZSBpcyAnZHJhZnQnXG5cdFx0XHRpZiBpbnMuaXNfcmVhZFxuXHRcdFx0XHRjbGEgPSAnYmx1ZSdcblx0XHRcdGVsc2Vcblx0XHRcdFx0Y2xhID0gJ3JlZCdcblx0XHRyZXR1cm4gY2xhXG5cblx0Zmlyc3RUcmFjZTogKGluZGV4KS0+XG5cdFx0cmV0dXJuIGluZGV4IGlzIDBcblxuXHRsYXN0X2Rpc3RyaWJ1dGVfZnJvbTogKGluc3RhbmNlX2lkKS0+XG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWQsIGRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZTogeyRleGlzdHM6IHRydWV9fSx7ZmllbGRzOntjcmVhdGVkOiAxLCBjcmVhdGVkX2J5OiAxfX0pXG5cdFx0aWYgaW5zXG5cdFx0XHRkaXNfaW5mbyA9IHt9XG5cdFx0XHR1c2VyID0ge31cblx0XHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0XHR1c2VyID0gVVVmbG93X2FwaS5nZXROYW1lRm9yVXNlcihpbnMuY3JlYXRlZF9ieSlcblx0XHRcdGVsc2UgaWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRcdHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtfaWQ6IGlucy5jcmVhdGVkX2J5fSwge2ZpZWxkczoge25hbWU6IDF9fSlcblxuXHRcdFx0aWYgdXNlci5uYW1lXG5cdFx0XHRcdGRpc19pbmZvLmZyb21fdXNlcl9uYW1lID0gdXNlci5uYW1lXG5cdFx0XHRcdGRpc19pbmZvLmNyZWF0ZWQgPSBpbnMuY3JlYXRlZFxuXG5cdFx0XHRpZiBub3QgXy5pc0VtcHR5KGRpc19pbmZvKVxuXHRcdFx0XHRyZXR1cm4gZGlzX2luZm9cblx0XHRyZXR1cm5cblxuXHRpc0NDT3JEaXN0cmlidXRlT3JGb3J3YXJkVGVybWluYXRlZDogKGFwcHJvdmUpLT5cblx0XHRpZiAoYXBwcm92ZS50eXBlIGlzICdjYycgb3IgYXBwcm92ZS50eXBlIGlzICdkaXN0cmlidXRlJyBvciBhcHByb3ZlLnR5cGUgaXMgJ2ZvcndhcmQnKSBhbmQgYXBwcm92ZS5qdWRnZSBpcyAndGVybWluYXRlZCdcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0cmV0dXJuIGZhbHNlXG5cblx0anVkZ2VUZXJtaW5hdGVkOiAoanVkZ2UpLT5cblx0XHRyZXR1cm4ganVkZ2UgaXMgJ3Rlcm1pbmF0ZWQnXG5cblx0aW5zdGFuY2VFeGlzdHM6IChpbnN0YW5jZV9pZCktPlxuXHRcdHJldHVybiAhIWRiLmluc3RhbmNlcy5maW5kKGluc3RhbmNlX2lkKS5jb3VudCgpXG5cblx0YWdlbnREZXNjcmlwdGlvbjogKHVzZXJOYW1lKS0+XG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRcdGVsc2Vcblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcblxuXHRcdHJldHVybiBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7dXNlck5hbWU6IHVzZXJOYW1lfSwgbG9jYWxlKVxuXHR0cmFjZU5hbWU6IChpbnN0YW5jZV9pZCwgdHJhY2VJZCktPlxuXHRcdHJldHVybiBfLmZpbmQoZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQsIHtmaWVsZHM6IHt0cmFjZXM6IDF9fSk/LnRyYWNlcywgKHRyYWNlKS0+XG5cdFx0XHRcdFx0cmV0dXJuIHRyYWNlLl9pZCA9PSAgdHJhY2VJZFxuXHRcdCk/Lm5hbWVcbmlmIE1ldGVvci5pc1NlcnZlclxuXHRUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLmRhdGVGb3JtYXQgPSAoZGF0ZSktPlxuXHRcdGlmIGRhdGVcblx0XHRcdHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcblx0XHRcdHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZShkYXRlLCB1dGNPZmZzZXQpO1xuXG5cdFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuX3QgPSAoa2V5KS0+XG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcblxuXHRUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLnNob3dEZWxldGVCdXR0b24gPSAoYXBwcm92ZWQpIC0+XG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5UcmFjZXNUZW1wbGF0ZS5ldmVudHMgPVxuXHQnY2xpY2sgLmNjLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXHRcdGlmIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nICogMSAhPSAxXG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDFcblx0XHRcdCQoXCJpXCIsZXZlbnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJmYS1zcGluXCIpXG5cdFx0XHRpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKVxuXHRcdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxuXHRcdFx0IyBDQUxMIOWIoOmZpGFwcHJvdmXlh73mlbDjgIJcblx0XHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0TWV0ZW9yLmNhbGwgJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgKGVyciwgcmVzdWx0KSAtPlxuXHRcdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIilcblx0XHRcdFx0aWYgZXJyXG5cdFx0XHRcdFx0dG9hc3RyLmVycm9yIGVyclxuXHRcdFx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nID0gMFxuXHRcdFx0XHRcdCQoXCJpXCIsZXZlbnQuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJmYS1zcGluXCIpXG5cdFx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXG5cdFx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcblx0XHRcdFx0XHRpZiAkKFwiLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbFwiKS5sZW5ndGhcblx0XHRcdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0XHRyZXR1cm5cblx0XHRcdHJldHVyblxuXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tY2MtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXG5cdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxuXHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXG5cdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0TWV0ZW9yLmNhbGwgJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgKGVyciwgcmVzdWx0KSAtPlxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0XHRpZiBlcnJcblx0XHRcdFx0dG9hc3RyLmVycm9yIGVyclxuXHRcdFx0aWYgcmVzdWx0ID09IHRydWVcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcblx0XHRcdFx0TW9kYWwuaGlkZSBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiXG5cdFx0XHRyZXR1cm5cblx0XHRyZXR1cm5cblxuXHQnY2xpY2sgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0TW9kYWwuc2hvdyBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzXG5cblx0J3RhcGhvbGQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0TW9kYWwuc2hvdyBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzXG5cblx0J3RhcGVuZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHQjIOS4iui/sOmVv+aMieaJk+W8gGFwcHJvdmXor6bnu4bnqpflj6PnmoTkuovku7Z0YXBob2xk5Lya6Kem5Y+R5omT5byA56qX5Y+j5ZCO55qEdG91Y2hlbmTkuovku7bvvIzpgKDmiJDplb/mjInmiZPlvIDnqpflj6PlkI7kuIDmlL7miYvnqpflj6PlsLHlj4jlhbPmjonkuoZcblx0XHQjIOi/memHjOWPquiDvemAmui/h+mYu+atonRhcGVuZOS6i+S7tijkuI3lj6/ku6XnlKh0b3VjaGVuZOS6i+S7tu+8jOWboOS4uuS8muW9seWTjXRhcGhvbGTlip/og73vvIzpgKDmiJDmsqHmnInplb/mjInmlYjmnpzml7bkuZ/kvJrop6blj5F0YXBob2xk5LqL5Lu2KeWGkuazoeadpemBv+WFjemXrumimOOAglxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXG5cdFx0dHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlXG5cdFx0IyBDQUxMIOWIoOmZpGFwcHJvdmXlh73mlbDjgIJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcblx0XHRNZXRlb3IuY2FsbCAnZm9yd2FyZF9yZW1vdmUnLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0aWYgZXJyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBUQVBpMThuLl9fKGVyci5yZWFzb24pXG5cdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwiaW5zdGFuY2VfYXBwcm92ZV9mb3J3YXJkX3JlbW92ZV9zdWNjZXNzXCIpKTtcblx0XHRcdFx0TW9kYWwuaGlkZSBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiXG5cdFx0XHRyZXR1cm5cblx0XHRyZXR1cm5cblxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtaW5zdGFuY2UtbG9vayc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0Zm9yd2FyZF9zcGFjZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRzcGFjZVxuXHRcdGZvcndhcmRfaW5zdGFuY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkaW5zdGFuY2Vcblx0XHRTdGVlZG9zLm9wZW5XaW5kb3coU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZm9yd2FyZF9zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBmb3J3YXJkX2luc3RhbmNlKSlcblxuXHQnY2xpY2sgLmJ0bi1tb2RpZmljYXRpb24nXHQ6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0dGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuXHRcdHVubGVzcyBTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKClcblx0XHRcdFRyYWNrZXIuYWZ0ZXJGbHVzaCAtPlxuXHRcdFx0XHQjIOaYvuekuuaXpeW/l+eahOaXtuWAmeaKiua7muWKqOadoeW+gOS4i+enu+eCue+8jOiuqeaXpeacn+aOp+S7tuaYvuekuuWHuuS4gOmDqOWIhu+8jOS7pemBv+WFjeeUqOaIt+eci+S4jeWIsOaXpeacn+aOp+S7tlxuXHRcdFx0XHQkKFwiI2luc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbCAjZmluaXNoX2lucHV0XCIpLm9uIFwiZHAuc2hvd1wiLCAoKSAtPlxuXHRcdFx0XHRcdCQoXCIubW9kYWwtYm9keVwiKS5zY3JvbGxUb3AoMTAwKVxuXG5cdCdjbGljayAuYnRuLWNhbmNlbEJ1dCcgOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXG5cdFx0dGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuXG5cdCdjbGljayAuYnRuLXNhdmVCdXQnIDogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHQjIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKVxuXG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXG5cdFx0dHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlXG5cdFx0b3Bpbmlvbl9pbnB1dCA9ICQoJyNvcGluaW9uX2lucHV0JykudmFsKClcblx0XHRmaW5pc2hfaW5wdXQgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKFwiZmluaXNoX2RhdGVcIiwgXCJmaW5pc2hEYXRlQXV0b0Zvcm1cIilcblxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxuXHRcdE1ldGVvci5jYWxsICdjaGFuZ2VfYXBwcm92ZV9pbmZvJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBvcGluaW9uX2lucHV0LCBmaW5pc2hfaW5wdXQsIChlcnIsIHJlc3VsdCktPlxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0XHRpZiBlcnJcblx0XHRcdFx0dG9hc3RyLmVycm9yIFRBUGkxOG4uX18oZXJyLnJlYXNvbilcblx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKHQoXCJpbnN0YW5jZV9hcHByb3ZlX21vZGFsX21vZGlmaWNhdGlvbnNhdmVcIikpXG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0cmV0dXJuXG5cblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1kaXN0cmlidXRlLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHRNb2RhbC5hbGxvd011bHRpcGxlID0gdHJ1ZVxuXHRcdE1vZGFsLnNob3cgJ2NhbmNlbF9kaXN0cmlidXRlX21vZGFsJ1xuIiwiVHJhY2VzVGVtcGxhdGUuaGVscGVycyA9IHtcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIGVtcHR5OiBmdW5jdGlvbihhKSB7XG4gICAgaWYgKGEpIHtcbiAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA8IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24oYSkge1xuICAgIGlmIChhKSB7XG4gICAgICByZXR1cm4gYS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBhcHBlbmQ6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSArIGI7XG4gIH0sXG4gIGRhdGVGb3JtYXQ6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpICYmIChkYXRlICE9IG51bGwgPyBkYXRlLmdldEZ1bGxZZWFyKCkgOiB2b2lkIDApID09PSAobmV3IERhdGUpLmdldEZ1bGxZZWFyKCkpIHtcbiAgICAgIHJldHVybiAkLmZvcm1hdC5kYXRlKG5ldyBEYXRlKGRhdGUpLCBcIk1NLWRkIEhIOm1tXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJC5mb3JtYXQuZGF0ZShuZXcgRGF0ZShkYXRlKSwgXCJ5eXl5LU1NLWRkIEhIOm1tXCIpO1xuICAgIH1cbiAgfSxcbiAgZ2V0U3RlcE5hbWU6IGZ1bmN0aW9uKHN0ZXBJZCkge1xuICAgIHZhciBzdGVwO1xuICAgIHN0ZXAgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VTdGVwKHN0ZXBJZCk7XG4gICAgaWYgKHN0ZXApIHtcbiAgICAgIHJldHVybiBzdGVwLm5hbWU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBzaG93RGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnY2MnICYmIGFwcHJvdmVkLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpICYmIGFwcHJvdmVkLmlzX2ZpbmlzaGVkICE9PSB0cnVlICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICB2YXIgYXBwcm92ZV9hZG1pbnMsIGlzU2hvdywgcmVmLCByZWYxLCByZWYyO1xuICAgIGFwcHJvdmVfYWRtaW5zID0gKHJlZiA9IE1ldGVvci5zZXR0aW5ncykgIT0gbnVsbCA/IChyZWYxID0gcmVmW1wicHVibGljXCJdKSAhPSBudWxsID8gKHJlZjIgPSByZWYxLndvcmtmbG93KSAhPSBudWxsID8gcmVmMi5hcHByb3ZlX2FkbWlucyA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoYXBwcm92ZV9hZG1pbnMgIT0gbnVsbCA/IGFwcHJvdmVfYWRtaW5zLmxlbmd0aCA6IHZvaWQgMCkge1xuICAgICAgaXNTaG93ID0gYXBwcm92ZV9hZG1pbnMgIT0gbnVsbCA/IGFwcHJvdmVfYWRtaW5zLmNvbnRhaW5zKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGlmICghaXNTaG93KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlZC5oYW5kbGVyID09PSBNZXRlb3IudXNlcklkKCk7XG4gIH0sXG4gIGlzRWRpdGluZzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlZjtcbiAgICByZXR1cm4gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkuaXNfZWRpdGluZykgIT0gbnVsbCA/IHJlZi5nZXQoKSA6IHZvaWQgMDtcbiAgfSxcbiAgaXNTaG93RGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoVHJhY2VzVGVtcGxhdGUuaGVscGVycy5pc1Nob3dNb2RpZmljYXRpb25CdXR0b24oYXBwcm92ZWQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuICgocmVmID0gYXBwcm92ZWQuZGVzY3JpcHRpb24pICE9IG51bGwgPyByZWYudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoIDogdm9pZCAwKSA+IDA7XG4gIH0sXG4gIGlzQ0M6IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgaWYgKGFwcHJvdmVkICYmIGFwcHJvdmVkLnR5cGUgPT09ICdjYycpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGdldEFwcHJvdmVTdGF0dXNJY29uOiBmdW5jdGlvbihhcHByb3ZlSnVkZ2UpIHtcbiAgICB2YXIgYXBwcm92ZVN0YXR1c0ljb247XG4gICAgYXBwcm92ZVN0YXR1c0ljb24gPSB2b2lkIDA7XG4gICAgc3dpdGNoIChhcHByb3ZlSnVkZ2UpIHtcbiAgICAgIGNhc2UgJ2FwcHJvdmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jaGVja21hcmstcm91bmQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlamVjdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jbG9zZS1yb3VuZCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLWJhbic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhc3NpZ25lZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYW5kcm9pZC1jb250YWN0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWxvY2F0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFycm93LXNocmluayc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0cmlldmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtdW5kbyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlU3RhdHVzSWNvbjtcbiAgfSxcbiAgZ2V0QXBwcm92ZVN0YXR1c1RleHQ6IGZ1bmN0aW9uKGFwcHJvdmVKdWRnZSkge1xuICAgIHZhciBhcHByb3ZlU3RhdHVzVGV4dCwgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKGFwcHJvdmVKdWRnZSkge1xuICAgICAgY2FzZSAnYXBwcm92ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIGFwcHJvdmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVqZWN0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlamVjdGVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYXNzaWduZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYXNzaWduZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWxvY2F0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlbG9jYXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHJpZXZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0cmlldmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0dXJuZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHVybmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhZGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFkZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9ICcnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGFwcHJvdmVTdGF0dXNUZXh0O1xuICB9LFxuICBfdDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcbiAgfSxcbiAgbXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVJZCkge1xuICAgIHZhciBteUFwcHJvdmUsIHJlZiwgcmVmMTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5teUFwcHJvdmUpICE9IG51bGwgPyByZWYxLmdldCgpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAobXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKCFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiAobXlBcHByb3ZlICE9IG51bGwgPyBteUFwcHJvdmUuZGVzY3JpcHRpb24gOiB2b2lkIDApIHx8IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGlzRm9yd2FyZDogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICBpZiAoYXBwcm92ZWQgJiYgYXBwcm92ZWQudHlwZSA9PT0gJ2ZvcndhcmQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzaG93Rm9yd2FyZERlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUgJiYgYXBwcm92ZS50eXBlID09PSAnZm9yd2FyZCcgJiYgYXBwcm92ZS5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbWFya0Rvd25Ub0h0bWw6IGZ1bmN0aW9uKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgdmFyIHJlbmRlcmVyO1xuICAgIGlmIChtYXJrRG93blN0cmluZykge1xuICAgICAgcmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcbiAgICAgIHJlbmRlcmVyLmxpbmsgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgICByZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIgKyBocmVmICsgXCInIHRpdGxlPSdcIiArIHRpdGxlICsgXCInPlwiICsgdGV4dCArIFwiPC9hPlwiO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge1xuICAgICAgICByZW5kZXJlcjogcmVuZGVyZXJcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sXG4gIGlzRGlzdHJpYnV0ZTogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChhcHByb3ZlICYmIGFwcHJvdmUudHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzaG93RGlzdHJpYnV0ZURlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZSAmJiBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJyAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJyAmJiBTdGVlZG9zLmlzTGVnYWxWZXJzaW9uKCcnLCBcIndvcmtmbG93LmVudGVycHJpc2VcIikpIHtcbiAgICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBhcHByb3ZlLmluc3RhbmNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZsb3c6IDEsXG4gICAgICAgICAgc3BhY2U6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoaW5zICYmIGlucy5mbG93ICYmIGlucy5zcGFjZSkge1xuICAgICAgICBpZiAoV29ya2Zsb3dNYW5hZ2VyLmhhc0Zsb3dBZG1pblBlcm1pc3Npb24oaW5zLmZsb3csIGlucy5zcGFjZSwgTWV0ZW9yLnVzZXJJZCgpKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXBwcm92ZS5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBmaW5pc2hEYXRlU2NoZW1hOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG4gICAgICAgIGZpbmlzaF9kYXRlOiB7XG4gICAgICAgICAgYXV0b2Zvcm06IHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGF0ZXRpbWUtbG9jYWxcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICAgIHR5cGU6IERhdGVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcbiAgICAgICAgZmluaXNoX2RhdGU6IHtcbiAgICAgICAgICBhdXRvZm9ybToge1xuICAgICAgICAgICAgdHlwZTogXCJib290c3RyYXAtZGF0ZXRpbWVwaWNrZXJcIixcbiAgICAgICAgICAgIHJlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgZGF0ZVRpbWVQaWNrZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgIGZvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCIsXG4gICAgICAgICAgICAgIGlnbm9yZVJlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgICBsb2NhbGU6IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIiksXG4gICAgICAgICAgICAgIHdpZGdldFBvc2l0aW9uaW5nOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ3JpZ2h0J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgICAgdHlwZTogRGF0ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGZpbmlzaERhdGVWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBmaW5pc2hfZGF0ZTogdGhpcy5maW5pc2hfZGF0ZVxuICAgIH07XG4gIH0sXG5cbiAgLypcbiAgICAgXHTmraTlh73mlbDnlKjkuo7mjqfliLbmmK/lkKbmmL7npLp0cmFjZXMgdmlld1xuICAgICBcdHRydWU6IOaYvuekunRyYWNlcyB2aWV3LOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjuaYr+ebtOaOpeWumuS9jeWIsHRyYWNlcyB2aWV3XG4gICAgIFx0ZmFsc2U6IOS4jeaYvuekunRyYWNlcyB2aWV377yM562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCOLOS7pU1vZGFsIOaWueW8j+aYvuekunRyYWNlcyB2aWV3XG4gICAqL1xuICBzaG93VHJhY2VzVmlldzogZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gICAgdmFyIHJlZiwgc2hvd19tb2RhbF90cmFjZXNfbGlzdDtcbiAgICBzaG93X21vZGFsX3RyYWNlc19saXN0ID0gKChyZWYgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBTZXNzaW9uLmdldChcInNwYWNlSWRcIiksXG4gICAgICBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwiXG4gICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICByZXR1cm4gIXNob3dfbW9kYWxfdHJhY2VzX2xpc3Q7XG4gIH0sXG4gIGdldEluc3RhbmNlU3RhdGVUZXh0OiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBpbnMsIGxvY2FsZSwgdGV4dDtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfcmVhZDogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfZGVsZXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgICB0ZXh0ID0gJyc7XG4gICAgaWYgKGlucy5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdjb21wbGV0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICB0ZXh0ID0gVEFQaTE4bi5fXygncGVuZGluZycsIHt9LCBsb2NhbGUpO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAnZHJhZnQnKSB7XG4gICAgICBpZiAoaW5zLmlzX3JlYWQpIHtcbiAgICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfcmVhZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfbm90X3lldF9oYW5kbGVkJywge30sIGxvY2FsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9LFxuICBnZXRJbnN0YW5jZVN0YXRlQ29sb3I6IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgdmFyIGNsYSwgaW5zO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX3JlYWQ6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNsYSA9ICcnO1xuICAgIGlmIChpbnMuc3RhdGUgPT09ICdkcmFmdCcpIHtcbiAgICAgIGlmIChpbnMuaXNfcmVhZCkge1xuICAgICAgICBjbGEgPSAnYmx1ZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGEgPSAncmVkJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsYTtcbiAgfSxcbiAgZmlyc3RUcmFjZTogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggPT09IDA7XG4gIH0sXG4gIGxhc3RfZGlzdHJpYnV0ZV9mcm9tOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBkaXNfaW5mbywgaW5zLCB1c2VyO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICBkaXN0cmlidXRlX2Zyb21faW5zdGFuY2U6IHtcbiAgICAgICAgJGV4aXN0czogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjcmVhdGVkOiAxLFxuICAgICAgICBjcmVhdGVkX2J5OiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucykge1xuICAgICAgZGlzX2luZm8gPSB7fTtcbiAgICAgIHVzZXIgPSB7fTtcbiAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgICAgdXNlciA9IFVVZmxvd19hcGkuZ2V0TmFtZUZvclVzZXIoaW5zLmNyZWF0ZWRfYnkpO1xuICAgICAgfSBlbHNlIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgICAgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIF9pZDogaW5zLmNyZWF0ZWRfYnlcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodXNlci5uYW1lKSB7XG4gICAgICAgIGRpc19pbmZvLmZyb21fdXNlcl9uYW1lID0gdXNlci5uYW1lO1xuICAgICAgICBkaXNfaW5mby5jcmVhdGVkID0gaW5zLmNyZWF0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoIV8uaXNFbXB0eShkaXNfaW5mbykpIHtcbiAgICAgICAgcmV0dXJuIGRpc19pbmZvO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQ6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICBpZiAoKGFwcHJvdmUudHlwZSA9PT0gJ2NjJyB8fCBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJyB8fCBhcHByb3ZlLnR5cGUgPT09ICdmb3J3YXJkJykgJiYgYXBwcm92ZS5qdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBqdWRnZVRlcm1pbmF0ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIGp1ZGdlID09PSAndGVybWluYXRlZCc7XG4gIH0sXG4gIGluc3RhbmNlRXhpc3RzOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHJldHVybiAhIWRiLmluc3RhbmNlcy5maW5kKGluc3RhbmNlX2lkKS5jb3VudCgpO1xuICB9LFxuICBhZ2VudERlc2NyaXB0aW9uOiBmdW5jdGlvbih1c2VyTmFtZSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICAgIGlmIChsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIik7XG4gICAgfVxuICAgIHJldHVybiBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICB1c2VyTmFtZTogdXNlck5hbWVcbiAgICB9LCBsb2NhbGUpO1xuICB9LFxuICB0cmFjZU5hbWU6IGZ1bmN0aW9uKGluc3RhbmNlX2lkLCB0cmFjZUlkKSB7XG4gICAgdmFyIHJlZiwgcmVmMTtcbiAgICByZXR1cm4gKHJlZiA9IF8uZmluZCgocmVmMSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyByZWYxLnRyYWNlcyA6IHZvaWQgMCwgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIHJldHVybiB0cmFjZS5faWQgPT09IHRyYWNlSWQ7XG4gICAgfSkpICE9IG51bGwgPyByZWYubmFtZSA6IHZvaWQgMDtcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLmRhdGVGb3JtYXQgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIHV0Y09mZnNldDtcbiAgICBpZiAoZGF0ZSkge1xuICAgICAgdXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldDtcbiAgICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZShkYXRlLCB1dGNPZmZzZXQpO1xuICAgIH1cbiAgfTtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5fdCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICB9O1xuICBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLnNob3dEZWxldGVCdXR0b24gPSBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cblxuVHJhY2VzVGVtcGxhdGUuZXZlbnRzID0ge1xuICAnY2xpY2sgLmNjLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZDtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgKiAxICE9PSAxKSB7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDE7XG4gICAgICAkKFwiaVwiLCBldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImZhLXNwaW5cIik7XG4gICAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBNZXRlb3IuY2FsbCgnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICB0b2FzdHIuZXJyb3IoZXJyKTtcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDA7XG4gICAgICAgICAgJChcImlcIiwgZXZlbnQuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJmYS1zcGluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xuICAgICAgICAgIGlmICgkKFwiLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbFwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tY2MtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBpbnN0YW5jZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgIE1ldGVvci5jYWxsKCdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihlcnIpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICB0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xuICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAnY2xpY2sgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHJldHVybiBNb2RhbC5zaG93KFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXMpO1xuICB9LFxuICAndGFwaG9sZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIE1vZGFsLnNob3coXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIiwgdGhpcyk7XG4gIH0sXG4gICd0YXBlbmQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBpbnN0YW5jZUlkLCB0cmFjZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgdHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlO1xuICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICBNZXRlb3IuY2FsbCgnZm9yd2FyZF9yZW1vdmUnLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihUQVBpMThuLl9fKGVyci5yZWFzb24pKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcImluc3RhbmNlX2FwcHJvdmVfZm9yd2FyZF9yZW1vdmVfc3VjY2Vzc1wiKSk7XG4gICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1pbnN0YW5jZS1sb29rJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGZvcndhcmRfaW5zdGFuY2UsIGZvcndhcmRfc3BhY2U7XG4gICAgZm9yd2FyZF9zcGFjZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRzcGFjZTtcbiAgICBmb3J3YXJkX2luc3RhbmNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZGluc3RhbmNlO1xuICAgIHJldHVybiBTdGVlZG9zLm9wZW5XaW5kb3coU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZm9yd2FyZF9zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBmb3J3YXJkX2luc3RhbmNlKSk7XG4gIH0sXG4gICdjbGljayAuYnRuLW1vZGlmaWNhdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcbiAgICBpZiAoIVN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKSkge1xuICAgICAgcmV0dXJuIFRyYWNrZXIuYWZ0ZXJGbHVzaChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQoXCIjaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsICNmaW5pc2hfaW5wdXRcIikub24oXCJkcC5zaG93XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKFwiLm1vZGFsLWJvZHlcIikuc2Nyb2xsVG9wKDEwMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmJ0bi1jYW5jZWxCdXQnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuICB9LFxuICAnY2xpY2sgLmJ0bi1zYXZlQnV0JzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgZmluaXNoX2lucHV0LCBpbnN0YW5jZUlkLCBvcGluaW9uX2lucHV0LCB0cmFjZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgdHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlO1xuICAgIG9waW5pb25faW5wdXQgPSAkKCcjb3Bpbmlvbl9pbnB1dCcpLnZhbCgpO1xuICAgIGZpbmlzaF9pbnB1dCA9IEF1dG9Gb3JtLmdldEZpZWxkVmFsdWUoXCJmaW5pc2hfZGF0ZVwiLCBcImZpbmlzaERhdGVBdXRvRm9ybVwiKTtcbiAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgcmV0dXJuIE1ldGVvci5jYWxsKCdjaGFuZ2VfYXBwcm92ZV9pbmZvJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBvcGluaW9uX2lucHV0LCBmaW5pc2hfaW5wdXQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihUQVBpMThuLl9fKGVyci5yZWFzb24pKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3ModChcImluc3RhbmNlX2FwcHJvdmVfbW9kYWxfbW9kaWZpY2F0aW9uc2F2ZVwiKSk7XG4gICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZGlzdHJpYnV0ZS1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIE1vZGFsLmFsbG93TXVsdGlwbGUgPSB0cnVlO1xuICAgIHJldHVybiBNb2RhbC5zaG93KCdjYW5jZWxfZGlzdHJpYnV0ZV9tb2RhbCcpO1xuICB9XG59O1xuIiwiUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzID1cblx0c2hvd1JlbGF0ZWRJbnN0YWNlczogLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGVsc2Vcblx0XHRcdGlucyA9IHRoaXMuaW5zdGFuY2Vcblx0XHRpZiBpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzICYmIF8uaXNBcnJheShpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzKVxuXHRcdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzfX0sIHtmaWVsZHM6IHtzcGFjZTogMSwgbmFtZTogMX19KS5jb3VudCgpID4gMFxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0cmVsYXRlZF9pbnN0YWNlczogLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGVsc2Vcblx0XHRcdGlucyA9IHRoaXMuaW5zdGFuY2Vcblx0XHRpZiBpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzICYmIF8uaXNBcnJheShpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzKVxuXHRcdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7c3BhY2U6IDEsIG5hbWU6IDF9fSkuZmV0Y2goKVxuXG5cdHJlbGF0ZWRfaW5zdGFjZV91cmw6IChpbnMpIC0+XG5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKVxuXHRcdFx0cmV0dXJuICcnXG5cblx0XHRhYnNvbHV0ZSA9IGZhbHNlXG5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZVxuXHRcdGlmIGFic29sdXRlXG5cdFx0XHRyZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIraW5zLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBpbnMuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2lucy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXG5cblx0X3Q6IChrZXkpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKGtleSlcblx0XHRlbHNlXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cblx0c2hvd19kZWxldGU6ICgpLT5cblx0XHRpZiAhTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKVxuXHRcdFx0XHRpZiBjdXJyZW50X3N0ZXBcblx0XHRcdFx0XHRpZiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHRydWUgfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWUiLCJSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnMgPSB7XG4gIHNob3dSZWxhdGVkSW5zdGFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IHRoaXMuaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICgoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApICYmIF8uaXNBcnJheShpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkpIHtcbiAgICAgIGlmIChkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgcmVsYXRlZF9pbnN0YWNlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zID0gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG4gICAgaWYgKChpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkgJiYgXy5pc0FycmF5KGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSkge1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXNcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgfVxuICB9LFxuICByZWxhdGVkX2luc3RhY2VfdXJsOiBmdW5jdGlvbihpbnMpIHtcbiAgICB2YXIgYWJzb2x1dGU7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCAmJiAoU3RlZWRvcy5pc01vYmlsZSgpIHx8IFN0ZWVkb3MuaXNDb3Jkb3ZhKCkpKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGFic29sdXRlID0gZmFsc2U7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgYWJzb2x1dGUgPSB0aGlzLmFic29sdXRlO1xuICAgIH1cbiAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgIHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGlucy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBpbnMuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBpbnMuc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgIH1cbiAgfSxcbiAgX3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSk7XG4gICAgfVxuICB9LFxuICBzaG93X2RlbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGN1cnJlbnRfc3RlcDtcbiAgICBpZiAoIU1ldGVvci5pc0NsaWVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09IFwiZHJhZnRcIiB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcbiAgICAgICAgaWYgKGN1cnJlbnRfc3RlcCkge1xuICAgICAgICAgIGlmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT09IHRydWUgfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuIiwiUmVsYXRlZFJlY29yZHMuaGVscGVycyA9XG5cdHNob3dSZWxhdGVkUmVjb3JkczogKCktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0ZWxzZVxuXHRcdFx0aW5zID0gdGhpcy5pbnN0YW5jZVxuXHRcdGlmICFpbnNcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdHJldHVybiAhXy5pc0VtcHR5KGlucy5yZWNvcmRfaWRzKSIsIlJlbGF0ZWRSZWNvcmRzLmhlbHBlcnMgPSB7XG4gIHNob3dSZWxhdGVkUmVjb3JkczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zID0gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICFfLmlzRW1wdHkoaW5zLnJlY29yZF9pZHMpO1xuICB9XG59O1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0c2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZTogKGluc19pZCwgc3RlcF9hcHByb3ZlLCBzdGVwc0FwcHJvdmVzT3B0aW9ucyktPlxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWR9LCB7ZmllbGRzOiB7c3RhdGU6IDF9fSlcblxuXHRcdGlmIGlucy5zdGF0ZSAhPSAnZHJhZnQnXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0X2tleXMxID0gXy5rZXlzKHN0ZXBfYXBwcm92ZSk7XG5cdFx0X2tleXMyID0gXy5rZXlzKHN0ZXBzQXBwcm92ZXNPcHRpb25zKTtcblxuXHRcdGtleXMgPSBfLmNvbXBhY3QoXy51bmlvbihfa2V5czEsIF9rZXlzMikpO1xuXG5cdFx0c3RlcHNBcHByb3ZlcyA9IHt9O1xuXG5cdFx0Xy5lYWNoIGtleXMsIChzdGVwSWQpLT5cblx0XHRcdHN0ZXBBcHByb3ZlcyA9IHN0ZXBfYXBwcm92ZVtzdGVwSWRdXG5cdFx0XHRzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcHNBcHByb3Zlc09wdGlvbnNbc3RlcElkXVxuXHRcdFx0aWYgc3RlcEFwcHJvdmVzXG5cdFx0XHRcdHN0ZXBzQXBwcm92ZXNbc3RlcElkXSA9IHN0ZXBBcHByb3Zlc1xuXHRcdFx0XHRpZiBzdGVwc0FwcHJvdmVPcHRpb25zXG5cdFx0XHRcdFx0aWYgXy5pc0FycmF5KHN0ZXBBcHByb3Zlcylcblx0XHRcdFx0XHRcdHN0ZXBzQXBwcm92ZU9wdGlvbnMgPSBzdGVwQXBwcm92ZXMuY29uY2F0KHN0ZXBzQXBwcm92ZU9wdGlvbnMpXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0c3RlcHNBcHByb3ZlT3B0aW9ucy5wdXNoKHN0ZXBBcHByb3Zlcylcblx0XHRcdGlmIHN0ZXBzQXBwcm92ZU9wdGlvbnNcblx0XHRcdFx0c3RlcHNBcHByb3Zlc1tzdGVwSWQgKyAnX29wdGlvbnMnXSA9IF8udW5pcShzdGVwc0FwcHJvdmVPcHRpb25zKVxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUge19pZDogaW5zX2lkfSwgeyRzZXQ6IHtzdGVwX2FwcHJvdmU6IHN0ZXBzQXBwcm92ZXN9fVxuXHRzZXRfaW5zdGFuY2Vfc2tpcF9zdGVwczogKGluc19pZCwgc3RlcElkLCBhY3Rpb24pLT5cblx0XHRpZiBhY3Rpb24gPT0gJ3B1bGwnXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlIHtfaWQ6IGluc19pZH0sIHskcHVsbDoge3NraXBfc3RlcHM6IHN0ZXBJZH19XG5cdFx0ZWxzZSBpZiBhY3Rpb24gPT0gJ3B1c2gnXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlIHtfaWQ6IGluc19pZH0sIHskcHVzaDoge3NraXBfc3RlcHM6IHN0ZXBJZH19IiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlOiBmdW5jdGlvbihpbnNfaWQsIHN0ZXBfYXBwcm92ZSwgc3RlcHNBcHByb3Zlc09wdGlvbnMpIHtcbiAgICB2YXIgX2tleXMxLCBfa2V5czIsIGlucywga2V5cywgc3RlcHNBcHByb3ZlcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucy5zdGF0ZSAhPT0gJ2RyYWZ0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfa2V5czEgPSBfLmtleXMoc3RlcF9hcHByb3ZlKTtcbiAgICBfa2V5czIgPSBfLmtleXMoc3RlcHNBcHByb3Zlc09wdGlvbnMpO1xuICAgIGtleXMgPSBfLmNvbXBhY3QoXy51bmlvbihfa2V5czEsIF9rZXlzMikpO1xuICAgIHN0ZXBzQXBwcm92ZXMgPSB7fTtcbiAgICBfLmVhY2goa2V5cywgZnVuY3Rpb24oc3RlcElkKSB7XG4gICAgICB2YXIgc3RlcEFwcHJvdmVzLCBzdGVwc0FwcHJvdmVPcHRpb25zO1xuICAgICAgc3RlcEFwcHJvdmVzID0gc3RlcF9hcHByb3ZlW3N0ZXBJZF07XG4gICAgICBzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcHNBcHByb3Zlc09wdGlvbnNbc3RlcElkXTtcbiAgICAgIGlmIChzdGVwQXBwcm92ZXMpIHtcbiAgICAgICAgc3RlcHNBcHByb3Zlc1tzdGVwSWRdID0gc3RlcEFwcHJvdmVzO1xuICAgICAgICBpZiAoc3RlcHNBcHByb3ZlT3B0aW9ucykge1xuICAgICAgICAgIGlmIChfLmlzQXJyYXkoc3RlcEFwcHJvdmVzKSkge1xuICAgICAgICAgICAgc3RlcHNBcHByb3ZlT3B0aW9ucyA9IHN0ZXBBcHByb3Zlcy5jb25jYXQoc3RlcHNBcHByb3ZlT3B0aW9ucyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ZXBzQXBwcm92ZU9wdGlvbnMucHVzaChzdGVwQXBwcm92ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0ZXBzQXBwcm92ZU9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHN0ZXBzQXBwcm92ZXNbc3RlcElkICsgJ19vcHRpb25zJ10gPSBfLnVuaXEoc3RlcHNBcHByb3ZlT3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnNfaWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIHN0ZXBfYXBwcm92ZTogc3RlcHNBcHByb3Zlc1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBzZXRfaW5zdGFuY2Vfc2tpcF9zdGVwczogZnVuY3Rpb24oaW5zX2lkLCBzdGVwSWQsIGFjdGlvbikge1xuICAgIGlmIChhY3Rpb24gPT09ICdwdWxsJykge1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc19pZFxuICAgICAgfSwge1xuICAgICAgICAkcHVsbDoge1xuICAgICAgICAgIHNraXBfc3RlcHM6IHN0ZXBJZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3B1c2gnKSB7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRwdXNoOiB7XG4gICAgICAgICAgc2tpcF9zdGVwczogc3RlcElkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kcyh7XG5cblx0Z2V0X2luc3RhbmNlX2RhdGE6IGZ1bmN0aW9uIChpbnN0YW5jZV9pZCwgZm9ybUNhY2hlZCwgZmxvd0NhY2hlZCkge1xuXG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soZm9ybUNhY2hlZCwgQm9vbGVhbik7XG5cdFx0Y2hlY2soZmxvd0NhY2hlZCwgQm9vbGVhbik7XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XG5cblx0XHRpZiAoIWluc3RhbmNlKVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aW5zdGFuY2U6IG51bGxcblx0XHRcdH07XG5cblx0XHRpZiAoZm9ybUNhY2hlZCAmJiBmbG93Q2FjaGVkKVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aW5zdGFuY2U6IGluc3RhbmNlXG5cdFx0XHR9O1xuXG5cdFx0aWYgKCFmb3JtQ2FjaGVkKSB7XG5cdFx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cdFx0XHR2YXIgZm9ybV92ZXJzaW9uID0ge307XG5cdFx0XHRpZiAoZm9ybS5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pIHtcblx0XHRcdFx0Zm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGZvcm1fdmVyc2lvbiA9IF8ud2hlcmUoZm9ybS5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9ufSlbMF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cblx0XHRpZiAoIWZsb3dDYWNoZWQpIHtcblx0XHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcblx0XHRcdHZhciBmbG93X3ZlcnNpb24gPSB7fTtcblx0XHRcdGlmIChmbG93LmN1cnJlbnQuX2lkID09IGluc3RhbmNlLmZsb3dfdmVyc2lvbikge1xuXHRcdFx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Zmxvd192ZXJzaW9uID0gXy53aGVyZShmbG93Lmhpc3RvcnlzLCB7X2lkOiBpbnN0YW5jZS5mbG93X3ZlcnNpb259KVswXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aW5zdGFuY2U6IGluc3RhbmNlLFxuXHRcdFx0Zm9ybV92ZXJzaW9uOiBmb3JtX3ZlcnNpb24sXG5cdFx0XHRmbG93X3ZlcnNpb246IGZsb3dfdmVyc2lvblxuXHRcdH1cblxuXHR9XG5cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuXG5cdGRyYWZ0X3NhdmVfaW5zdGFuY2U6IGZ1bmN0aW9uIChpbnMpIHtcblx0XHRpZiAoIXRoaXMudXNlcklkKVxuXHRcdFx0cmV0dXJuO1xuXHRcdHZhciByZXN1bHQgPSB0cnVlO1xuXHRcdHZhciBzZXRPYmogPSB7fTtcblx0XHR2YXIgaW5kZXggPSAwO1xuXHRcdHZhciBpbnNfaWQgPSBpbnMuX2lkO1xuXHRcdHZhciB0cmFjZV9pZCA9IGlucy50cmFjZXNbMF0uX2lkO1xuXHRcdHZhciBhcHByb3ZlX2lkID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS5faWQ7XG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS5kZXNjcmlwdGlvbjtcblx0XHR2YXIgbmV4dF9zdGVwcyA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0ubmV4dF9zdGVwcztcblx0XHR2YXIgdmFsdWVzID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS52YWx1ZXMgfHwge307XG5cdFx0dmFyIGFwcGxpY2FudF9pZCA9IGlucy5hcHBsaWNhbnQ7XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRhcHBsaWNhbnQ6IDEsXG5cdFx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0XHRzdWJtaXR0ZXI6IDEsXG5cdFx0XHRcdHRyYWNlczogMSxcblx0XHRcdFx0Zm9ybTogMSxcblx0XHRcdFx0Zmxvd192ZXJzaW9uOiAxLFxuXHRcdFx0XHRzcGFjZTogMSxcblx0XHRcdFx0ZmxvdzogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dmFyIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG5cdFx0dmFyIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuXHRcdHZhciBmb3JtX2lkID0gaW5zdGFuY2UuZm9ybTtcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KTtcblx0XHRjdXJyZW50X3RyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0aWYgKGEuX2lkID09IGFwcHJvdmVfaWQpIHtcblx0XHRcdFx0aW5kZXggPSBpZHg7XG5cdFx0XHR9XG5cdFx0fSlcblx0XHR2YXIga2V5X3N0ciA9ICd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLic7XG5cblx0XHQvLyDliKTmlq3kuIDkuKppbnN0YW5jZeaYr+WQpuS4uuaLn+eov+eKtuaAgVxuXHRcdHZhciBjdXJyZW50X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcblx0XHRcdF9pZDogdGhpcy51c2VySWRcblx0XHR9LCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0bG9jYWxlOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIGxhbmcgPSBjdXJyZW50X3VzZXIubG9jYWxlID09ICd6aC1jbicgPyAnemgtQ04nIDogJ2VuJztcblx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VEcmFmdChpbnN0YW5jZSwgbGFuZyk7XG5cdFx0Ly8g5Yik5pat5LiA5Liq55So5oi35piv5ZCm5piv5LiA5LiqaW5zdGFuY2XnmoTmj5DkuqTogIVcblx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VTdWJtaXR0ZXIoaW5zdGFuY2UsIHRoaXMudXNlcklkKTtcblxuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XCJjdXJyZW50Ll9pZFwiOiAxLFxuXHRcdFx0XHRcImN1cnJlbnQuZm9ybV92ZXJzaW9uXCI6IDEsXG5cdFx0XHRcdFwibmFtZVwiOiAxLFxuXHRcdFx0XHRcImN1cnJlbnQuc3RlcHNcIjogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblxuXHRcdGlmIChmbG93LmN1cnJlbnQuX2lkICE9IGluc3RhbmNlLmZsb3dfdmVyc2lvbikge1xuXHRcdFx0cmVzdWx0ID0gXCJ1cGdyYWRlZFwiO1xuXHRcdFx0dmFyIHN0YXJ0X3N0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbiAocykge1xuXHRcdFx0XHRyZXR1cm4gcy5zdGVwX3R5cGUgPT0gXCJzdGFydFwiO1xuXHRcdFx0fSk7XG5cdFx0XHQvLyDmtYHnqIvlt7LljYfnuqdcblx0XHRcdHNldE9iai5mbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuX2lkO1xuXHRcdFx0c2V0T2JqLmZvcm1fdmVyc2lvbiA9IGZsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG5cdFx0XHQvLyDlrZjlhaXlvZPliY3mnIDmlrDniYhmbG935Lit5byA5aeL6IqC54K555qEc3RlcF9pZFxuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQuc3RlcFwiXSA9IHN0YXJ0X3N0ZXAuX2lkO1xuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQubmFtZVwiXSA9IHN0YXJ0X3N0ZXAubmFtZTtcblx0XHR9XG5cblx0XHRpZiAoaW5zdGFuY2UuYXBwbGljYW50ICE9IGFwcGxpY2FudF9pZCkge1xuXHRcdFx0Ly8g55Sz6K+35Lq65bey5Y+Y5o2iXG5cdFx0XHR2YXIgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoYXBwbGljYW50X2lkLCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG5hbWU6IDFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgYXBwbGljYW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0dXNlcjogYXBwbGljYW50X2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBvcmdfaWQgPSBhcHBsaWNhbnQuZmV0Y2goKVswXS5vcmdhbml6YXRpb247XG5cdFx0XHR2YXIgb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKG9yZ19pZCwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRcdGZ1bGxuYW1lOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRzZXRPYmouYXBwbGljYW50ID0gYXBwbGljYW50X2lkO1xuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9uYW1lID0gdXNlci5uYW1lO1xuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb24gPSBvcmdfaWQ7XG5cdFx0XHRzZXRPYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lID0gb3JnYW5pemF0aW9uLm5hbWU7XG5cdFx0XHRzZXRPYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG9yZ2FuaXphdGlvbi5mdWxsbmFtZTtcblxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndXNlciddID0gYXBwbGljYW50X2lkO1xuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndXNlcl9uYW1lJ10gPSB1c2VyLm5hbWU7XG5cdFx0fVxuXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzJ10gPSB2YWx1ZXM7XG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ2p1ZGdlJ10gPSAnc3VibWl0dGVkJztcblx0XHRzZXRPYmpba2V5X3N0ciArICdyZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0aWYgKHJlc3VsdCAhPSBcInVwZ3JhZGVkXCIgJiYgbmV4dF9zdGVwcykge1xuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAnbmV4dF9zdGVwcyddID0gbmV4dF9zdGVwcztcblx0XHR9XG5cblx0XHQvLyDorqHnrpfnlLPor7fljZXmoIfpophcblx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuXHRcdFx0X2lkOiBmb3JtX2lkXG5cdFx0fSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFwiY3VycmVudC5uYW1lX2ZvcnVtbGFcIjogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBuYW1lX2ZvcnVtbGEgPSBmb3JtLmN1cnJlbnQubmFtZV9mb3J1bWxhO1xuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcblx0XHRcdC8vIHZhciBpc2NyaXB0ID0gbmFtZV9mb3J1bWxhLnJlcGxhY2UoL1xcey9nLCBcIih2YWx1ZXNbJ1wiKS5yZXBsYWNlKC9cXH0vZywgXCInXSB8fCAnJylcIik7XG5cdFx0XHQvLyB2YXIgcmV2ID0gZXZhbChpc2NyaXB0KTtcblx0XHRcdHNldE9iai5uYW1lID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZU5hbWUoaW5zLCB2YWx1ZXMpO1xuXHRcdH1cblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmpcblx0XHR9KTtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdGluYm94X3NhdmVfaW5zdGFuY2U6IGZ1bmN0aW9uIChhcHByb3ZlKSB7XG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcblx0XHRcdHJldHVybjtcblxuXHRcdHZhciBzZXRPYmogPSB7fTtcblx0XHR2YXIgaW5kZXggPSAwO1xuXHRcdHZhciBpbnNfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xuXHRcdHZhciB0cmFjZV9pZCA9IGFwcHJvdmUudHJhY2U7XG5cdFx0dmFyIGFwcHJvdmVfaWQgPSBhcHByb3ZlLmlkO1xuXHRcdHZhciB2YWx1ZXMgPSBhcHByb3ZlLnZhbHVlcztcblx0XHR2YXIgbmV4dF9zdGVwcyA9IGFwcHJvdmUubmV4dF9zdGVwcztcblx0XHR2YXIgZGVzY3JpcHRpb24gPSBhcHByb3ZlLmRlc2NyaXB0aW9uO1xuXHRcdHZhciBqdWRnZSA9IGFwcHJvdmUuanVkZ2U7XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHR0cmFjZXM6IDEsXG5cdFx0XHRcdGZsb3dfdmVyc2lvbjogMSxcblx0XHRcdFx0ZmxvdzogMSxcblx0XHRcdFx0c3RhdGU6IDEsXG5cdFx0XHRcdGZvcm06IDEsXG5cdFx0XHRcdGZvcm1fdmVyc2lvbjogMSxcblx0XHRcdFx0dmFsdWVzOiAxLFxuXHRcdFx0XHRjb2RlOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuXG5cdFx0dmFyIGN1cnJlbnRfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbiAodCkge1xuXHRcdFx0cmV0dXJuIHQuX2lkID09IHRyYWNlX2lkO1xuXHRcdH0pO1xuXHRcdHZhciBjdXJyZW50X2FwcHJvdmUgPSBfLmZpbmQoY3VycmVudF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGEpIHtcblx0XHRcdHJldHVybiBhLl9pZCA9PSBhcHByb3ZlX2lkO1xuXHRcdH0pO1xuXG5cdFx0Ly8g5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrlrqHmoLjkuK3nirbmgIFcblx0XHR2YXIgY3VycmVudF91c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XG5cdFx0XHRfaWQ6IHRoaXMudXNlcklkXG5cdFx0fSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdGxvY2FsZTogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBsYW5nID0gY3VycmVudF91c2VyLmxvY2FsZSA9PSAnemgtY24nID8gJ3poLUNOJyA6ICdlbic7XG5cdFx0dHJ5IHtcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UsIGxhbmcpO1xuXHRcdFx0Ly8g5Yik5pat5LiA5LiqdHJhY2XmmK/lkKbkuLrmnKrlrozmiJDnirbmgIFcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNUcmFjZU5vdEZpbmlzaGVkKGN1cnJlbnRfdHJhY2UpO1xuXHRcdFx0Ly8g5Yik5pat5LiA5LiqYXBwcm92ZeaYr+WQpuS4uuacquWujOaIkOeKtuaAgVxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0FwcHJvdmVOb3RGaW5pc2hlZChjdXJyZW50X2FwcHJvdmUpO1xuXHRcdFx0Ly8g5Yik5pat5b2T5YmN55So5oi35piv5ZCmYXBwcm92ZSDlr7nlupTnmoTlpITnkIbkurrmiJbku6PnkIbkurpcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNIYW5kbGVyT3JBZ2VudChjdXJyZW50X2FwcHJvdmUsIHRoaXMudXNlcklkKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhlLnN0YWNrKVxuXHRcdFx0cmV0dXJuIHRydWVcblx0XHR9XG5cblxuXHRcdHZhciBmbG93X3ZlcnNpb24gPSBpbnN0YW5jZS5mbG93X3ZlcnNpb247XG5cdFx0dmFyIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuXHRcdHZhciBzdGVwX2lkID0gXCJcIjtcblx0XHRzdGVwX2lkID0gY3VycmVudF90cmFjZS5zdGVwO1xuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0Y3VycmVudDogMSxcblx0XHRcdFx0aGlzdG9yeXM6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgc3RlcCA9IG51bGw7XG5cdFx0aWYgKGZsb3cuY3VycmVudC5faWQgPT0gZmxvd192ZXJzaW9uKSB7XG5cdFx0XHRmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbiAocykge1xuXHRcdFx0XHRpZiAocy5faWQgPT0gc3RlcF9pZClcblx0XHRcdFx0XHRzdGVwID0gcztcblx0XHRcdH0pXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZsb3cuaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbiAoaCkge1xuXHRcdFx0XHRoLnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcblx0XHRcdFx0XHRpZiAocy5faWQgPT0gc3RlcF9pZClcblx0XHRcdFx0XHRcdHN0ZXAgPSBzO1xuXHRcdFx0XHR9KVxuXHRcdFx0fSlcblx0XHR9XG5cblx0XHRpZiAoIXN0ZXApXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0dmFyIHN0ZXBfdHlwZSA9IHN0ZXAuc3RlcF90eXBlO1xuXG5cdFx0Y3VycmVudF90cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlX2lkKSB7XG5cdFx0XHRcdGluZGV4ID0gaWR4O1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHR2YXIga2V5X3N0ciA9ICd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLic7XG5cblx0XHR2YXIgcGVybWlzc2lvbnNfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKGFwcHJvdmUudmFsdWVzLCBzdGVwLnBlcm1pc3Npb25zLCBpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuXG5cdFx0dmFyIGNoYW5nZV92YWx1ZXMgPSBhcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMoaW5zdGFuY2UudmFsdWVzLCBwZXJtaXNzaW9uc192YWx1ZXMpO1xuXG5cdFx0c2V0T2JqLnZhbHVlcyA9IF8uZXh0ZW5kKChpbnN0YW5jZS52YWx1ZXMgfHwge30pLCBwZXJtaXNzaW9uc192YWx1ZXMpO1xuXG5cdFx0aWYgKCFfLmlzRW1wdHkoY2hhbmdlX3ZhbHVlcykpIHtcblxuXHRcdFx0dmFsdWVzX2hpc3RvcnkgPSBjdXJyZW50X2FwcHJvdmUudmFsdWVzX2hpc3RvcnkgfHwgW11cblxuXHRcdFx0dmFsdWVzX2hpc3RvcnkucHVzaCh7XG5cdFx0XHRcdHZhbHVlczogY2hhbmdlX3ZhbHVlcyxcblx0XHRcdFx0Y3JlYXRlOiBuZXcgRGF0ZSgpXG5cdFx0XHR9KVxuXG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICd2YWx1ZXNfaGlzdG9yeSddID0gdmFsdWVzX2hpc3Rvcnlcblx0XHR9XG5cblx0XHRzZXRPYmpba2V5X3N0ciArICdpc19yZWFkJ10gPSB0cnVlO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ3JlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRzZXRPYmpba2V5X3N0ciArICd2YWx1ZXMnXSA9IHNldE9iai52YWx1ZXM7XG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ25leHRfc3RlcHMnXSA9IG5leHRfc3RlcHM7XG5cdFx0aWYgKHN0ZXBfdHlwZSA9PSBcInN1Ym1pdFwiIHx8IHN0ZXBfdHlwZSA9PSBcInN0YXJ0XCIpIHtcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ2p1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICdqdWRnZSddID0ganVkZ2U7XG5cdFx0fVxuXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblxuXHRcdC8vIOiuoeeul+eUs+ivt+WNleagh+mimFxuXHRcdHZhciBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblx0XHR2YXIgZm9ybV92ID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihmb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuXHRcdHZhciBuYW1lX2ZvcnVtbGEgPSBmb3JtX3YubmFtZV9mb3J1bWxhO1xuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcblx0XHRcdHNldE9iai5uYW1lID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZU5hbWUoaW5zdGFuY2UsIHNldE9iai52YWx1ZXMpO1xuXHRcdH1cblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmpcblx0XHR9KTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG59KSIsIk1ldGVvci5tZXRob2RzKHtcblx0Ly8gPz8/IOiDveWQpuS8oOmYhee7meW9k+WJjeatpemqpOWkhOeQhuS6uiDlpoLmnpzlvZPliY3mraXpqqTmmK/kvJrnrb7jgIJcblx0Y2NfZG86IGZ1bmN0aW9uIChhcHByb3ZlLCBjY191c2VyX2lkcywgZGVzY3JpcHRpb24pIHtcblxuXHRcdHZhciBzZXRPYmogPSB7fTtcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xuXHRcdHZhciBhcHByb3ZlX2lkID0gYXBwcm92ZS5faWQ7XG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRcdHRyYWNlczogMSxcblx0XHRcdFx0Y2NfdXNlcnM6IDEsXG5cdFx0XHRcdHZhbHVlczogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcblx0XHR2YXIgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcblx0XHR2YXIgbmV3X2FwcHJvdmVzID0gW107XG5cblx0XHR2YXIgZnJvbV91c2VyX25hbWUgPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcl9pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdG5hbWU6IDFcblx0XHRcdH1cblx0XHR9KS5uYW1lXG5cblx0XHRjY191c2VyX2lkcy5mb3JFYWNoKGZ1bmN0aW9uICh1c2VySWQsIGlkeCkge1xuXHRcdFx0dmFyIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHVzZXJJZCwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dmFyIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcblx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHR1c2VyOiB1c2VySWRcblx0XHRcdH0sIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0b3JnYW5pemF0aW9uOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dmFyIG9yZ19pZCA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuXHRcdFx0dmFyIG9yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShvcmdfaWQsIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJJZCk7XG5cdFx0XHR2YXIgaGFuZGxlcl9pZCA9IHVzZXJJZDtcblx0XHRcdHZhciBoYW5kbGVyX2luZm8gPSB1c2VyO1xuXHRcdFx0dmFyIGhhbmRsZXJfc3BhY2VfdXNlciA9IHNwYWNlX3VzZXI7XG5cdFx0XHR2YXIgaGFuZGxlcl9vcmdfaW5mbyA9IG9yZ2FuaXphdGlvbjtcblx0XHRcdGlmIChhZ2VudCkge1xuXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnQ7XG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoYWdlbnQsIHtcblx0XHRcdFx0XHRmaWxlZHM6IHtcblx0XHRcdFx0XHRcdG5hbWU6IDFcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRoYW5kbGVyX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgYWdlbnQpO1xuXHRcdFx0XHRoYW5kbGVyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKGhhbmRsZXJfc3BhY2VfdXNlcik7XG5cdFx0XHRcdGNjX3VzZXJfaWRzW2lkeF0gPSBhZ2VudDtcblx0XHRcdH1cblx0XHRcdHZhciBhcHByID0ge1xuXHRcdFx0XHQnX2lkJzogbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cixcblx0XHRcdFx0J2luc3RhbmNlJzogaW5zX2lkLFxuXHRcdFx0XHQndHJhY2UnOiB0cmFjZV9pZCxcblx0XHRcdFx0J2lzX2ZpbmlzaGVkJzogZmFsc2UsXG5cdFx0XHRcdCd1c2VyJzogdXNlcklkLFxuXHRcdFx0XHQndXNlcl9uYW1lJzogdXNlci5uYW1lLFxuXHRcdFx0XHQnaGFuZGxlcic6IGhhbmRsZXJfaWQsXG5cdFx0XHRcdCdoYW5kbGVyX25hbWUnOiBoYW5kbGVyX2luZm8ubmFtZSxcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uJzogaGFuZGxlcl9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbixcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUnOiBoYW5kbGVyX29yZ19pbmZvLm5hbWUsXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSc6IGhhbmRsZXJfb3JnX2luZm8uZnVsbG5hbWUsXG5cdFx0XHRcdCd0eXBlJzogJ2NjJyxcblx0XHRcdFx0J3N0YXJ0X2RhdGUnOiBuZXcgRGF0ZSgpLFxuXHRcdFx0XHQnaXNfcmVhZCc6IGZhbHNlLFxuXHRcdFx0XHQnZnJvbV91c2VyJzogY3VycmVudF91c2VyX2lkLFxuXHRcdFx0XHQnZnJvbV91c2VyX25hbWUnOiBmcm9tX3VzZXJfbmFtZSxcblx0XHRcdFx0J29waW5pb25fZmllbGRzX2NvZGUnOiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUsXG5cdFx0XHRcdCdzaWduX2ZpZWxkX2NvZGUnOiAoYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlICYmIGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZS5sZW5ndGggPT0gMSkgPyBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGVbMF0gOiBcIlwiLFxuXHRcdFx0XHQnZnJvbV9hcHByb3ZlX2lkJzogYXBwcm92ZV9pZCxcblx0XHRcdFx0J2NjX2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb25cblx0XHRcdH07XG5cdFx0XHRpZiAoYWdlbnQpIHtcblx0XHRcdFx0YXBwci5hZ2VudCA9IGFnZW50O1xuXHRcdFx0fVxuXHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgYXBwcilcblx0XHRcdG5ld19hcHByb3Zlcy5wdXNoKGFwcHIpO1xuXHRcdH0pXG5cblxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldE9iaixcblx0XHRcdCRhZGRUb1NldDoge1xuXHRcdFx0XHQndHJhY2VzLiQuYXBwcm92ZXMnOiB7XG5cdFx0XHRcdFx0JGVhY2g6IG5ld19hcHByb3Zlc1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0JHB1c2g6IHtcblx0XHRcdFx0Y2NfdXNlcnM6IHtcblx0XHRcdFx0XHQkZWFjaDogY2NfdXNlcl9pZHNcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQpO1xuXHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwidHJhY2VfYXBwcm92ZV9jY1wiLCBpbnN0YW5jZSwgXCJcIiwgY3VycmVudF91c2VyX2luZm8sIGNjX3VzZXJfaWRzKTtcblxuXHRcdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuXHRcdGFwcHJvdmUuY2NfdXNlcl9pZHMgPSBjY191c2VyX2lkczsgLy8g6K6w5b2V5LiL5pys5qyh5Lyg6ZiF55qE5Lq65ZGYSUTkvZzkuLpob29r5o6l5Y+j5Lit55qE5Y+C5pWwXG5cdFx0Ly8g5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBhcHByb3ZlLCAnY2NfZG8nLCBjdXJyZW50X3VzZXJfaWQsIGNjX3VzZXJfaWRzKVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGNjX3JlYWQ6IGZ1bmN0aW9uIChhcHByb3ZlKSB7XG5cdFx0dmFyIHNldE9iaiA9IHt9O1xuXHRcdHZhciBpbnNfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xuXHRcdHZhciB0cmFjZV9pZCA9IGFwcHJvdmUudHJhY2U7XG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KVxuXG5cdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRpZiAoYS50eXBlID09ICdjYycgJiYgYS5oYW5kbGVyID09IGN1cnJlbnRfdXNlcl9pZCAmJiAhYS5pc19yZWFkKSB7XG5cdFx0XHRcdGluZGV4ID0gaWR4O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG5cdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblxuXHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXM7XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdH0pO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGNjX3N1Ym1pdDogZnVuY3Rpb24gKGluc19pZCwgZGVzY3JpcHRpb24pIHtcblx0XHR2YXIgc2V0T2JqID0ge307XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHR0cmFjZXM6IDEsXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxuXHRcdFx0XHRvdXRib3hfdXNlcnM6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcblx0XHR2YXIgY3VycmVudF9hcHByb3ZlO1xuXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRcdFx0aWYgKGEudHlwZSA9PSAnY2MnICYmIGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0Y3VycmVudF9hcHByb3ZlID0gYTtcblx0XHRcdFx0XHRcdHZhciB1cG9iaiA9IHt9O1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9IFwic3VibWl0dGVkXCI7XG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuY29zdF90aW1lJ10gPSBuZXcgRGF0ZSgpIC0gYS5zdGFydF9kYXRlO1xuXHRcdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0XHRcdFx0XHQndHJhY2VzLl9pZCc6IHQuX2lkXG5cdFx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRcdCRzZXQ6IHVwb2JqXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRpZiAoY3VycmVudF9hcHByb3ZlKSB7XG5cdFx0XHR2YXIgaW5kZXggPSAwO1xuXG5cdFx0XHQvL+iuvue9ruaEj+inge+8jOaEj+ingeWPqua3u+WKoOWIsOacgOWQjuS4gOadoWFwcHJvdmXkuK1cblx0XHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRcdGlmIChjdXJyZW50X2FwcHJvdmUgJiYgdC5faWQgPT09IGN1cnJlbnRfYXBwcm92ZS50cmFjZSkge1xuXHRcdFx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoYS5faWQgPT09IGN1cnJlbnRfYXBwcm92ZS5faWQpIHtcblx0XHRcdFx0XHRcdFx0XHRhLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG5cdFx0XHRcdFx0XHRcdFx0aW5kZXggPSBpZHg7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5kZXNjcmlwdGlvbiddID0gZGVzY3JpcHRpb247XG5cblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdFx0J3RyYWNlcy5faWQnOiBjdXJyZW50X2FwcHJvdmUudHJhY2Vcblx0XHRcdH0sIHtcblx0XHRcdFx0JHNldDogc2V0T2JqLFxuXHRcdFx0XHQkcHVsbDoge1xuXHRcdFx0XHRcdGNjX3VzZXJzOiBjdXJyZW50X3VzZXJfaWRcblx0XHRcdFx0fSxcblx0XHRcdFx0JGFkZFRvU2V0OiB7XG5cdFx0XHRcdFx0b3V0Ym94X3VzZXJzOiB7XG5cdFx0XHRcdFx0XHQkZWFjaDogW2N1cnJlbnRfdXNlcl9pZCwgY3VycmVudF9hcHByb3ZlLnVzZXJdXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuXG5cdFx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkKTtcblx0XHRcdC8v5Lyg6ZiF5o+Q5Lqk5LiN6YCa55+l5Lyg6ZiF6ICFXG5cdFx0XHRpZiAoZmFsc2UgJiYgZGVzY3JpcHRpb24gJiYgY3VycmVudF9hcHByb3ZlICYmIGN1cnJlbnRfYXBwcm92ZS5mcm9tX3VzZXIpIHtcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJ0cmFjZV9hcHByb3ZlX2NjX3N1Ym1pdFwiLCBpbnN0YW5jZSwgXCJcIiwgY3VycmVudF91c2VyX2luZm8sIFtjdXJyZW50X2FwcHJvdmUuZnJvbV91c2VyXSk7XG5cdFx0XHR9XG5cblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXJfaWQpO1xuXG5cdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcblx0XHRcdC8vIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBjdXJyZW50X2FwcHJvdmUsICdjY19zdWJtaXQnLCBjdXJyZW50X3VzZXJfaWQsIFtdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRjY19yZW1vdmU6IGZ1bmN0aW9uIChpbnN0YW5jZUlkLCBhcHByb3ZlSWQpIHtcblx0XHR2YXIgc2V0T2JqID0ge307XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZUlkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxLFxuXHRcdFx0XHRjY191c2VyczogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG5cdFx0dmFyIHRyYWNlX2lkLCByZW1vdmVfdXNlcl9pZCwgbXVsdGkgPSBmYWxzZTtcblxuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlSWQpIHtcblx0XHRcdFx0XHRcdHRyYWNlX2lkID0gYS50cmFjZTtcblx0XHRcdFx0XHRcdHJlbW92ZV91c2VyX2lkID0gYS5oYW5kbGVyO1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gJ3Rlcm1pbmF0ZWQnO1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRpZiAoIXRyYWNlX2lkIHx8ICFyZW1vdmVfdXNlcl9pZClcblx0XHRcdHJldHVybjtcblxuXHRcdHZhciBtdWx0aSA9IDA7XG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuXHRcdFx0XHRcdGlmIChhLmhhbmRsZXIgPT0gcmVtb3ZlX3VzZXJfaWQgJiYgYS50eXBlID09ICdjYycgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0bXVsdGkrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuXG5cdFx0aWYgKG11bHRpID4gMSkge1xuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcblx0XHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxuXHRcdFx0fSwge1xuXHRcdFx0XHQkc2V0OiBzZXRPYmpcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxuXHRcdFx0XHQndHJhY2VzLl9pZCc6IHRyYWNlX2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdCRzZXQ6IHNldE9iaixcblx0XHRcdFx0JHB1bGw6IHtcblx0XHRcdFx0XHRjY191c2VyczogcmVtb3ZlX3VzZXJfaWRcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cblx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgcmVtb3ZlX3VzZXJfaWQpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGNjX3NhdmU6IGZ1bmN0aW9uIChpbnNfaWQsIGRlc2NyaXB0aW9uKSB7XG5cdFx0dmFyIHNldE9iaiA9IHt9O1xuXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG5cblx0XHR2YXIgY3VycmVudF9hcHByb3ZlO1xuXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRcdFx0aWYgKGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgYS50eXBlID09ICdjYycgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0Y3VycmVudF9hcHByb3ZlID0gYTtcblx0XHRcdFx0XHRcdHZhciB1cG9iaiA9IHt9O1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdFx0XHRcdFx0J3RyYWNlcy5faWQnOiB0Ll9pZFxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHQkc2V0OiB1cG9ialxuXHRcdFx0XHRcdFx0fSlcblxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdHZhciBpbmRleCA9IDA7XG5cblx0XHQvL+iuvue9ruaEj+inge+8jOaEj+ingeWPqua3u+WKoOWIsOacgOWQjuS4gOadoWFwcHJvdmXkuK1cblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuXHRcdFx0aWYgKGN1cnJlbnRfYXBwcm92ZSAmJiB0Ll9pZCA9PT0gY3VycmVudF9hcHByb3ZlLnRyYWNlKSB7XG5cdFx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdFx0XHRcdGlmIChhLl9pZCA9PT0gY3VycmVudF9hcHByb3ZlLl9pZCkge1xuXHRcdFx0XHRcdFx0XHRpbmRleCA9IGlkeDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLmRlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHQndHJhY2VzLl9pZCc6IGN1cnJlbnRfYXBwcm92ZS50cmFjZVxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn0pIiwiTWV0ZW9yLm1ldGhvZHMoe1xuXHQvLyDmlLnkuLrpgJrov4dhcGnosIPnlKhcblx0Zm9yd2FyZF9pbnN0YW5jZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBzcGFjZV9pZCwgZmxvd19pZCwgaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50LCBkZXNjcmlwdGlvbiwgaXNGb3J3YXJkQXR0YWNobWVudHMsIHNlbGVjdGVkVXNlcnMsIGFjdGlvbl90eXBlLCByZWxhdGVkLCBmcm9tX2FwcHJvdmVfaWQpIHtcblx0XHRpZiAoIXRoaXMudXNlcklkKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm90LWF1dGhvcml6ZWQnKTtcblxuXHRcdHJldHVybjtcblx0fSxcblxuXG5cdGZvcndhcmRfcmVtb3ZlOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIHRyYWNlX2lkLCBhcHByb3ZlX2lkKSB7XG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2sodHJhY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soYXBwcm92ZV9pZCwgU3RyaW5nKTtcblxuXHRcdHZhciBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XG5cblx0XHRpZiAoIWlucykge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcigncGFyYW1zIGVycm9yIScsICdyZWNvcmQgbm90IGV4aXN0cyEnKTtcblx0XHR9XG5cblx0XHR2YXIgdHJhY2UgPSBfLmZpbmQoaW5zLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KTtcblxuXHRcdHZhciBhcHByb3ZlID0gXy5maW5kKHRyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYXBwcikge1xuXHRcdFx0cmV0dXJuIGFwcHIuX2lkID09IGFwcHJvdmVfaWQ7XG5cdFx0fSlcblxuXHRcdHZhciBoYXNBZG1pblBlcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCB0aGlzLnVzZXJJZClcblxuXHRcdGlmICghYXBwcm92ZSB8fCAhWydmb3J3YXJkJywgJ2Rpc3RyaWJ1dGUnXS5pbmNsdWRlcyhhcHByb3ZlLnR5cGUpIHx8ICFhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpIHtcblx0XHRcdGlmICghaGFzQWRtaW5QZXJtaXNzaW9uKSB7XG5cdFx0XHRcdGlmIChhcHByb3ZlLmZyb21fdXNlciAhPSB0aGlzLnVzZXJJZClcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCAnaW5zdGFuY2VfZm9yd2FyZF9jYW5ub3RfY2FuY2VsJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIGZvcndhcmRfaW5zdGFuY2VfaWQgPSBhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2U7XG5cdFx0dmFyIGZvcndhcmRfaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShmb3J3YXJkX2luc3RhbmNlX2lkKTtcblx0XHRpZiAoZm9yd2FyZF9pbnN0YW5jZSkge1xuXHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiKSB7XG5cdFx0XHRcdGlmICghaGFzQWRtaW5QZXJtaXNzaW9uKVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsICdpbnN0YW5jZV9mb3J3YXJkX2luc3RhbmNlX3N0YXRlX2NoYW5nZWQnKTtcblx0XHRcdH1cblx0XHRcdHZhciBpbmJveF91c2VycyA9IGZvcndhcmRfaW5zdGFuY2UuaW5ib3hfdXNlcnMgfHwgW107XG5cblx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRmb3J3YXJkX2luc3RhbmNlLmRlbGV0ZWRfYnkgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHZhciBkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQgPSBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZm9yd2FyZF9pbnN0YW5jZSk7XG5cdFx0XHRpZiAoZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkKSB7XG5cdFx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoe1xuXHRcdFx0XHRcdF9pZDogZm9yd2FyZF9pbnN0YW5jZV9pZFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyDliKDpmaTnlLPor7fljZXlkI7ph43mlrDorqHnrpdpbmJveF91c2Vyc+eahGJhZGdlXG5cdFx0XHRcdF8uZWFjaChpbmJveF91c2VycywgZnVuY3Rpb24gKHVfaWQpIHtcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdV9pZCk7XG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblxuXHRcdF8uZWFjaCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGFwcHIsIGlkeCkge1xuXHRcdFx0aWYgKGFwcHIuX2lkID09IGFwcHJvdmVfaWQpIHtcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJztcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWU7XG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcblx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZV9pZFxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldF9vYmpcblx0XHR9KVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Y2FuY2VsRGlzdHJpYnV0ZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBhcHByb3ZlX2lkcykge1xuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpXG5cdFx0Y2hlY2soYXBwcm92ZV9pZHMsIEFycmF5KVxuXG5cdFx0dmFyIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKVxuXG5cdFx0aWYgKCFpbnMpIHtcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3BhcmFtcyBlcnJvciEnLCAncmVjb3JkIG5vdCBleGlzdHMhJylcblx0XHR9XG5cblx0XHR1c2VySWQgPSB0aGlzLnVzZXJJZFxuXG5cdFx0dmFyIGhhc0FkbWluUGVybWlzc2lvbiA9IFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIHVzZXJJZClcblxuXHRcdF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbiAodCkge1xuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcblx0XHRcdFx0dmFyIGV4aXN0cyA9IGZhbHNlXG5cdFx0XHRcdHZhciBzZXRfb2JqID0gbmV3IE9iamVjdFxuXHRcdFx0XHRfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdGlmIChhcHByb3ZlX2lkcy5pbmNsdWRlcyhhLl9pZCkgJiYgKGEuZnJvbV91c2VyID09IHVzZXJJZCB8fCBoYXNBZG1pblBlcm1pc3Npb24pICYmICdkaXN0cmlidXRlJyA9PSBhLnR5cGUgJiYgYS5mb3J3YXJkX2luc3RhbmNlKSB7XG5cdFx0XHRcdFx0XHR2YXIgZm9yd2FyZF9pbnN0YW5jZV9pZCA9IGEuZm9yd2FyZF9pbnN0YW5jZVxuXHRcdFx0XHRcdFx0dmFyIGZvcndhcmRfaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShmb3J3YXJkX2luc3RhbmNlX2lkKVxuXHRcdFx0XHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2UpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dmFyIGluYm94X3VzZXJzID0gZm9yd2FyZF9pbnN0YW5jZS5pbmJveF91c2VycyB8fCBbXVxuXG5cdFx0XHRcdFx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZCA9IG5ldyBEYXRlKClcblx0XHRcdFx0XHRcdFx0Zm9yd2FyZF9pbnN0YW5jZS5kZWxldGVkX2J5ID0gdXNlcklkXG5cdFx0XHRcdFx0XHRcdHZhciBkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQgPSBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZm9yd2FyZF9pbnN0YW5jZSlcblx0XHRcdFx0XHRcdFx0aWYgKGRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCkge1xuXHRcdFx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoe1xuXHRcdFx0XHRcdFx0XHRcdFx0X2lkOiBmb3J3YXJkX2luc3RhbmNlX2lkXG5cdFx0XHRcdFx0XHRcdFx0fSlcblxuXHRcdFx0XHRcdFx0XHRcdC8vIOWIoOmZpOeUs+ivt+WNleWQjumHjeaWsOiuoeeul2luYm94X3VzZXJz55qEYmFkZ2Vcblx0XHRcdFx0XHRcdFx0XHRfLmVhY2goaW5ib3hfdXNlcnMsIGZ1bmN0aW9uICh1X2lkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdV9pZClcblx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRleGlzdHMgPSB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXG5cdFx0XHRcdGlmICghZXhpc3RzKVxuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0XHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpXG5cdFx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB1c2VySWRcblxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxuXHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiB0Ll9pZFxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0JHNldDogc2V0X29ialxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRyZXR1cm4gdHJ1ZVxuXHR9XG5cblxufSkiLCJNZXRlb3IubWV0aG9kcyh7XG4gICAgY2ZzX2luc3RhbmNlc19yZW1vdmU6IGZ1bmN0aW9uIChmaWxlX2lkKSB7XG4gICAgICAgIGNoZWNrKGZpbGVfaWQsIFN0cmluZyk7XG4gICAgICAgIGNmcy5pbnN0YW5jZXMucmVtb3ZlKGZpbGVfaWQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgY2ZzX2luc3RhbmNlc19zZXRfY3VycmVudDogZnVuY3Rpb24gKGZpbGVfaWQpIHtcbiAgICAgICAgY2hlY2soZmlsZV9pZCwgU3RyaW5nKTtcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBjZnNfaW5zdGFuY2VzX2xvY2s6IGZ1bmN0aW9uIChmaWxlX2lkLCB1c2VyX2lkLCB1c2VyX25hbWUpIHtcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5JzogdXNlcl9pZCxcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5X25hbWUnOiB1c2VyX25hbWUsXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF90aW1lJzogbmV3IERhdGUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIGNmc19pbnN0YW5jZXNfdW5sb2NrOiBmdW5jdGlvbiAoZmlsZV9pZCkge1xuICAgICAgICBjZnMuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZpbGVfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF9ieSc6ICcnLFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSc6ICcnLFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfdGltZSc6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogZnVuY3Rpb24gKHNwYWNlSWQsIGNmc1JlY29yZElkcykge1xuICAgICAgICBpZiAoIXRoaXMudXNlcklkKVxuICAgICAgICAgICAgcmV0dXJuIFwi5LiN56ym5ZCI5omn6KGM5p2h5Lu2XCJcblxuICAgICAgICBpZiAoTWV0ZW9yLnVzZXJzLmZpbmQoe1xuICAgICAgICAgICAgICAgIF9pZDogdGhpcy51c2VySWQsXG4gICAgICAgICAgICAgICAgaXNfY2xvdWRhZG1pbjogdHJ1ZVxuICAgICAgICAgICAgfSkuY291bnQoKSA8IDEpXG4gICAgICAgICAgICByZXR1cm4gXCLkuI3nrKblkIjmiafooYzmnaHku7ZcIlxuXG4gICAgICAgIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0b3JlID0gXCJpbnN0YW5jZXNcIjtcbiAgICAgICAgdmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgICAgICAgdmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG4gICAgICAgIHZhciBta2RpcnAgPSByZXF1aXJlKCdta2RpcnAnKTtcbiAgICAgICAgdmFyIHBhdGhuYW1lID0gcGF0aC5qb2luKF9fbWV0ZW9yX2Jvb3RzdHJhcF9fLnNlcnZlckRpciwgJy4uLy4uLy4uL2Nmcy9zcGFjZUluc3RhbmNlQXR0YWNobWVudHMnKTtcbiAgICAgICAgLy8gU2V0IGFic29sdXRlIHBhdGhcbiAgICAgICAgdmFyIGFic29sdXRlUGF0aCA9IHBhdGgucmVzb2x2ZShwYXRobmFtZSk7XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgcGF0aCBleGlzdHNcbiAgICAgICAgbWtkaXJwLnN5bmMoYWJzb2x1dGVQYXRoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2Fic29sdXRlUGF0aDogJywgYWJzb2x1dGVQYXRoKTtcbiAgICAgICAgY29uc29sZS50aW1lKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrJyk7XG4gICAgICAgIHZhciBxdWVyeSA9IHtcbiAgICAgICAgICAgICdtZXRhZGF0YS5zcGFjZSc6IHNwYWNlSWRcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ZzUmVjb3JkSWRzKSB7XG4gICAgICAgICAgICBxdWVyeS5faWQgPSB7XG4gICAgICAgICAgICAgICAgJGluOiBjZnNSZWNvcmRJZHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzID0gW107XG4gICAgICAgIGNmcy5pbnN0YW5jZXMuZmluZChxdWVyeSkuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSBzdG9yZSArICctJyArIGMuX2lkICsgJy0nICsgYy5uYW1lKCk7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVQYXRoID0gcGF0aC5qb2luKGFic29sdXRlUGF0aCwgZmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgIE1ldGVvci53cmFwQXN5bmMoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd3JpdGVyID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oZmlsZVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLm9uKCdmaW5pc2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IGMuY3JlYXRlUmVhZFN0cmVhbShzdG9yZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMucHVzaChjLl9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogJywgYy5faWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5waXBlKHdyaXRlcik7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrOiAnLCBjLl9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkoKVxuXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6ICcsIGMuX2lkKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChkb3dubG9hZEZhaWxlZFJlY29yZElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZEZhaWxlZFJlY29yZElkczogJyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgnZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzaycpO1xuXG4gICAgICAgIHJldHVybiBkb3dubG9hZEZhaWxlZFJlY29yZElkcztcbiAgICB9XG59KSIsIk1ldGVvci5tZXRob2RzXG5cdHNldF9hcHByb3ZlX2hhdmVfcmVhZDogKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCkgLT5cblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0c2VsZiA9IHRoaXNcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlSWQsIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXG5cblx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXG5cdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxuXHRcdFx0c2V0T2JqID0ge1xuXHRcdFx0XHRtb2RpZmllZDogbmV3IERhdGUsXG5cdFx0XHRcdG1vZGlmaWVkX2J5OiBzZWxmLnVzZXJJZFxuXHRcdFx0fVxuXHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxuXHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBhcHByb3ZlSWQgJiYgIWFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5pc19yZWFkXCJdID0gdHJ1ZVxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0XHR9KVxuXHRcdFx0cmV0dXJuIHRydWVcblxuXHRjaGFuZ2VfYXBwcm92ZV9pbmZvOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBkZXNjcmlwdGlvbiwgZmluaXNoX2RhdGUpIC0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblx0XHRjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2sodHJhY2VJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpXG5cdFx0Y2hlY2soZmluaXNoX2RhdGUsIERhdGUpXG5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZUlkLCBcInRyYWNlcy5faWRcIjogdHJhY2VJZCB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxuXG5cdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cblx0XHRcdHNldE9iaiA9IHt9XG5cdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XG5cdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGFwcHJvdmVJZFxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmZpbmlzaF9kYXRlXCJdID0gZmluaXNoX2RhdGVcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uY29zdF90aW1lXCJdID0gbmV3IERhdGUoKSAtIGFwcHJvdmUuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0XHR9KVxuXHRcdFx0cmV0dXJuIHRydWVcblxuXHR1cGRhdGVfYXBwcm92ZV9zaWduOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBzaWduX2ZpZWxkX2NvZGUsIGRlc2NyaXB0aW9uLCBzaWduX3R5cGUsIGxhc3RTaWduQXBwcm92ZSktPlxuXHRcdGNoZWNrKGluc3RhbmNlSWQsIFN0cmluZylcblx0XHRjaGVjayh0cmFjZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2soc2lnbl9maWVsZF9jb2RlLCBTdHJpbmcpXG5cdFx0Y2hlY2soZGVzY3JpcHRpb24sIFN0cmluZylcblxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRzZXNzaW9uX3VzZXJJZCA9IHRoaXMudXNlcklkXG5cblx0XHRpZiBsYXN0U2lnbkFwcHJvdmVcblxuXHRcdFx0aWYgbGFzdFNpZ25BcHByb3ZlLmN1c3RvbV9zaWduX3Nob3dcblx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBsYXN0U2lnbkFwcHJvdmUudHJhY2Vcblx0XHRcdH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXG5cblx0XHRcdGxhc3RUcmFjZSA9IF8uZmluZCBpbnN0YW5jZT8udHJhY2VzLCAodCkgLT5cblx0XHRcdFx0cmV0dXJuIHQuX2lkID0gbGFzdFNpZ25BcHByb3ZlLnRyYWNlXG5cblx0XHRcdGlmIGxhc3RUcmFjZVxuXHRcdFx0XHRzZXRPYmogPSB7fVxuXHRcdFx0XHRsYXN0VHJhY2U/LmFwcHJvdmVzLmZvckVhY2ggKGEsIGlkeCkgLT5cblx0XHRcdFx0XHRpZiBhLl9pZCA9PSBsYXN0U2lnbkFwcHJvdmUuX2lkXG5cdFx0XHRcdFx0XHRpZiBzaWduX3R5cGUgPT0gXCJ1cGRhdGVcIlxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9zaG93XCJdID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZFxuXG5cdFx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxuXHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxuXHRcdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IGxhc3RUcmFjZS5faWRcblx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHQkc2V0OiBzZXRPYmpcblx0XHRcdFx0XHR9KVxuXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2VJZCwgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWQgfSwgeyBmaWVsZHM6IHsgXCJ0cmFjZXMuJFwiOiAxIH0gfSlcblxuXHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcblxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cblx0XHRcdHVwT2JqID0ge31cblx0XHRcdHRyYWNlLmFwcHJvdmVzLmZvckVhY2ggKGFwcHJvdmUsIGlkeCkgLT5cblx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gYXBwcm92ZUlkXG5cdFx0XHRcdFx0aWYgc2lnbl9maWVsZF9jb2RlXG5cdFx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5zaWduX2ZpZWxkX2NvZGVcIl0gPSBzaWduX2ZpZWxkX2NvZGVcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9zaG93XCJdID0gdHJ1ZVxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkX2J5XCJdID0gc2Vzc2lvbl91c2VySWRcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkodXBPYmopXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcblx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0JHNldDogdXBPYmpcblx0XHRcdFx0fSlcblx0XHRcdHJldHVybiB0cnVlXG5cblxuXHR1cGRhdGVfc2lnbl9zaG93OiAob2JqcywgbXlBcHByb3ZlX2lkKSAtPlxuXHRcdG9ianMuZm9yRWFjaCAob2JqLCBpbmRleCkgLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IG9iai5pbnN0YW5jZSwgXCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZSB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxuXHRcdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxuXHRcdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxuXHRcdFx0XHRzZXRPYmogPSB7fVxuXHRcdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XG5cdFx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gb2JqLl9pZFxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3dcblx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5jdXN0b21fc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvd1xuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcblxuXHRcdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IG15QXBwcm92ZV9pZFxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcblxuXHRcdFx0XHRpZiBub3QgXy5pc0VtcHR5KHNldE9iailcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRcdF9pZDogb2JqLmluc3RhbmNlLFxuXHRcdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZVxuXHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0XHRcdH0pXG5cblx0XHRyZXR1cm4gdHJ1ZVxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBzZXRfYXBwcm92ZV9oYXZlX3JlYWQ6IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCBzZWxmLCBzZXRPYmosIHRyYWNlO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2VsZiA9IHRoaXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgIHNldE9iaiA9IHtcbiAgICAgICAgbW9kaWZpZWQ6IG5ldyBEYXRlLFxuICAgICAgICBtb2RpZmllZF9ieTogc2VsZi51c2VySWRcbiAgICAgIH07XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCAmJiAhYXBwcm92ZS5pc19yZWFkKSB7XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5pc19yZWFkXCJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIGNoYW5nZV9hcHByb3ZlX2luZm86IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgZGVzY3JpcHRpb24sIGZpbmlzaF9kYXRlKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHNldE9iaiwgdHJhY2U7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHRyYWNlSWQsIFN0cmluZyk7XG4gICAgY2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpO1xuICAgIGNoZWNrKGZpbmlzaF9kYXRlLCBEYXRlKTtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgc2V0T2JqID0ge307XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmZpbmlzaF9kYXRlXCJdID0gZmluaXNoX2RhdGU7XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5jb3N0X3RpbWVcIl0gPSBuZXcgRGF0ZSgpIC0gYXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgICAgIHJldHVybiBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFfLmlzRW1wdHkoc2V0T2JqKSkge1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlX2FwcHJvdmVfc2lnbjogZnVuY3Rpb24oaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBzaWduX2ZpZWxkX2NvZGUsIGRlc2NyaXB0aW9uLCBzaWduX3R5cGUsIGxhc3RTaWduQXBwcm92ZSkge1xuICAgIHZhciBpbnN0YW5jZSwgbGFzdFRyYWNlLCByZWYsIHNlc3Npb25fdXNlcklkLCBzZXRPYmosIHRyYWNlLCB1cE9iajtcbiAgICBjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHRyYWNlSWQsIFN0cmluZyk7XG4gICAgY2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHNpZ25fZmllbGRfY29kZSwgU3RyaW5nKTtcbiAgICBjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNlc3Npb25fdXNlcklkID0gdGhpcy51c2VySWQ7XG4gICAgaWYgKGxhc3RTaWduQXBwcm92ZSkge1xuICAgICAgaWYgKGxhc3RTaWduQXBwcm92ZS5jdXN0b21fc2lnbl9zaG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiBsYXN0U2lnbkFwcHJvdmUudHJhY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbGFzdFRyYWNlID0gXy5maW5kKGluc3RhbmNlICE9IG51bGwgPyBpbnN0YW5jZS50cmFjZXMgOiB2b2lkIDAsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID0gbGFzdFNpZ25BcHByb3ZlLnRyYWNlO1xuICAgICAgfSk7XG4gICAgICBpZiAobGFzdFRyYWNlKSB7XG4gICAgICAgIHNldE9iaiA9IHt9O1xuICAgICAgICBpZiAobGFzdFRyYWNlICE9IG51bGwpIHtcbiAgICAgICAgICBsYXN0VHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhLCBpZHgpIHtcbiAgICAgICAgICAgIGlmIChhLl9pZCA9PT0gbGFzdFNpZ25BcHByb3ZlLl9pZCkge1xuICAgICAgICAgICAgICBpZiAoc2lnbl90eXBlID09PSBcInVwZGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5zaWduX3Nob3dcIl0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5tb2RpZmllZF9ieVwiXSA9IHNlc3Npb25fdXNlcklkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfLmlzRW1wdHkoc2V0T2JqKSkge1xuICAgICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IGxhc3RUcmFjZS5faWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgdXBPYmogPSB7fTtcbiAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKHNpZ25fZmllbGRfY29kZSkge1xuICAgICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fZmllbGRfY29kZVwiXSA9IHNpZ25fZmllbGRfY29kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fc2hvd1wiXSA9IHRydWU7XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZDtcbiAgICAgICAgICByZXR1cm4gdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFfLmlzRW1wdHkodXBPYmopKSB7XG4gICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogdXBPYmpcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZV9zaWduX3Nob3c6IGZ1bmN0aW9uKG9ianMsIG15QXBwcm92ZV9pZCkge1xuICAgIG9ianMuZm9yRWFjaChmdW5jdGlvbihvYmosIGluZGV4KSB7XG4gICAgICB2YXIgaW5zdGFuY2UsIHJlZiwgc2V0T2JqLCB0cmFjZTtcbiAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IG9iai5pbnN0YW5jZSxcbiAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgICBzZXRPYmogPSB7fTtcbiAgICAgICAgdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlLCBpZHgpIHtcbiAgICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IG9iai5faWQpIHtcbiAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvdztcbiAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuY3VzdG9tX3NpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3c7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gbXlBcHByb3ZlX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IG9iai5pbnN0YW5jZSxcbiAgICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2VcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdGluc3RhbmNlX3JldHVybjogKGFwcHJvdmUsIHJlYXNvbiktPlxuXHRcdGNoZWNrKGFwcHJvdmUsIE9iamVjdClcblxuXHRcdGN1cnJlbnRfdXNlciA9IHRoaXMudXNlcklkXG5cdFx0aW5zdGFuY2VfaWQgPSBhcHByb3ZlLmluc3RhbmNlXG5cblx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdHNwYWNlX2lkID0gaW5zLnNwYWNlXG5cblx0XHQjIC0g5b6F5a6h5qC4566xXG5cdFx0aWYgaW5zLnN0YXRlIGlzbnQgXCJwZW5kaW5nXCIgb3IgIWlucy5pbmJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxuXG5cdFx0IyAtIOaWh+S7tuS4jeaYr+S8oOmYhVxuXHRcdGlmIGFwcHJvdmUudHlwZSBpcyBcImNjXCIgYW5kIGlucy5jY191c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxuXG5cdFx0IyAtIOetvuaguOWOhueoi+S4reW9k+WJjeatpemqpOS4iuS4gOatpemqpOS4jeaYr+S8muetvlxuXHRcdGlmIGlucy50cmFjZXMubGVuZ3RoIDwgMlxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcblx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGlucy5mbG93KVxuXHRcdHByZV90cmFjZSA9IGlucy50cmFjZXNbaW5zLnRyYWNlcy5sZW5ndGggLSAyXVxuXHRcdHByZV9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgcHJlX3RyYWNlLnN0ZXApXG5cdFx0aWYgcHJlX3N0ZXAuc3RlcF90eXBlIGlzIFwiY291bnRlclNpZ25cIlxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcblxuXHRcdCMgLSDlvZPliY3mraXpqqTkuLrloavlhpnmiJbogIXlrqHmiblcblx0XHRsYXN0X3RyYWNlID0gXy5sYXN0KGlucy50cmFjZXMpXG5cdFx0Y3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgbGFzdF90cmFjZS5zdGVwKVxuXHRcdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXNudCBcInN1Ym1pdFwiIGFuZCBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJzaWduXCIgYW5kIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXNudCBcImNvdW50ZXJTaWduXCJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXG5cblx0XHQjIC0g5Y+C5pWwYXBwcm92ZeS4rXRyYWNl5LiO5b2T5YmN6I635Y+W55qEdHJhY2XmmK/lkKbljLnphY1cblx0XHRpZiBhcHByb3ZlLnRyYWNlIGlzbnQgbGFzdF90cmFjZS5faWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXG5cblx0XHRuZXdfaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2ggcHJlX3RyYWNlLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0aWYgKCFhLnR5cGUgb3IgYS50eXBlIGlzIFwiZHJhZnRcIiBvciBhLnR5cGUgaXMgXCJyZWFzc2lnblwiKSBhbmQgKCFhLmp1ZGdlIG9yIGEuanVkZ2UgaXMgXCJzdWJtaXR0ZWRcIiBvciBhLmp1ZGdlIGlzIFwiYXBwcm92ZWRcIiBvciBhLmp1ZGdlIGlzIFwicmVqZWN0ZWRcIilcblx0XHRcdFx0bmV3X2luYm94X3VzZXJzLnB1c2goYS51c2VyKVxuXG5cdFx0aWYgXy5pc0VtcHR5KG5ld19pbmJveF91c2Vycylcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw5LiL5LiA5q2l5aSE55CG5Lq677yM6YCA5Zue5aSx6LSlXCIpXG5cblx0XHR0cmFjZXMgPSBpbnMudHJhY2VzXG5cblx0XHRhcHByb3ZlX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhhcHByb3ZlLnZhbHVlcyB8fCB7fSwgY3VycmVudF9zdGVwLnBlcm1pc3Npb25zLCBpbnMuZm9ybSwgaW5zLmZvcm1fdmVyc2lvbilcblxuXHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdHJlc3RfY291bnRlcl91c2VycyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaCB0cmFjZXMsICh0KS0+XG5cdFx0XHRpZiB0Ll9pZCBpcyBsYXN0X3RyYWNlLl9pZFxuXHRcdFx0XHRpZiBub3QgdC5hcHByb3Zlc1xuXHRcdFx0XHRcdHQuYXBwcm92ZXMgPSBuZXcgQXJyYXlcblx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhLCBpZHgpLT5cblx0XHRcdFx0XHRpZiAoIWEudHlwZSBvciBhLnR5cGUgaXMgXCJyZWFzc2lnblwiKSBhbmQgKCFhLmp1ZGdlIG9yIGEuanVkZ2UgaXMgXCJzdWJtaXR0ZWRcIiBvciBhLmp1ZGdlIGlzIFwiYXBwcm92ZWRcIiBvciBhLmp1ZGdlIGlzIFwicmVqZWN0ZWRcIiBvciBhLmp1ZGdlIGlzIFwicmVhZGVkXCIpIGFuZCBhLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbm93XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbm93XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2Vycm9yJ10gPSBmYWxzZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmNvc3RfdGltZSddID0gbm93IC0gYS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnZhbHVlcyddID0gYXBwcm92ZV92YWx1ZXNcblx0XHRcdFx0XHRcdGlmIGEuaGFuZGxlciBpcyBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJyZXR1cm5lZFwiXG5cdFx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZGVzY3JpcHRpb24nXSA9IHJlYXNvblxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRyZXN0X2NvdW50ZXJfdXNlcnMucHVzaCBhLmhhbmRsZXJcblxuXHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuaXNfZmluaXNoZWQnXSA9IHRydWVcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5maW5pc2hfZGF0ZSddID0gdHJ1ZVxuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmp1ZGdlJ10gPSBcInJldHVybmVkXCJcblxuXHRcdGlucy52YWx1ZXMgPSBfLmV4dGVuZCgoaW5zLnZhbHVlcyB8fCB7fSksIGFwcHJvdmVfdmFsdWVzKVxuXG5cdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxuXHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxuXHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXVxuXHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRuZXdUcmFjZS5zdGVwID0gcHJlX3RyYWNlLnN0ZXBcblx0XHRuZXdUcmFjZS5uYW1lID0gcHJlX3RyYWNlLm5hbWVcblx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XG5cdFx0bmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJlX3N0ZXAudGltZW91dF9ob3Vycylcblx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXG5cdFx0Xy5lYWNoIG5ld19pbmJveF91c2VycywgKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpLT5cblx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2UuYXBwcm92ZeiusOW9lVxuXHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3Rcblx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0bmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkXG5cdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkXG5cblx0XHRcdHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUobmV4dF9zdGVwX3VzZXJfaWQsIHtmaWVsZHM6IHtuYW1lOiAxfX0pXG5cdFx0XHRuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lXG5cblx0XHRcdGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZFxuXHRcdFx0aGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvXG5cdFx0XHRhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIG5leHRfc3RlcF91c2VyX2lkKVxuXHRcdFx0aWYgYWdlbnRcblx0XHRcdFx0bmV3X2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudFxuXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnRcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYWdlbnQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdG5ld0FwcHJvdmUuYWdlbnQgPSBhZ2VudFxuXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXG5cblx0XHRcdG5leHRfc3RlcF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGhhbmRsZXJfaWQpXG5cdFx0XHQjIOiOt+WPlm5leHRfc3RlcF91c2Vy5omA5Zyo55qE6YOo6Zeo5L+h5oGvXG5cdFx0XHRuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhuZXh0X3N0ZXBfc3BhY2VfdXNlcilcblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXG5cblx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2Vcblx0XHRcdG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zLnZhbHVlcywgbmV3QXBwcm92ZSlcblx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSlcblxuXHRcdHNldE9iai5pbmJveF91c2VycyA9IG5ld19pbmJveF91c2Vyc1xuXHRcdHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiXG5cblx0XHRpbnMub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxuXHRcdHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zLm91dGJveF91c2Vycylcblx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblx0XHRzZXRPYmoudmFsdWVzID0gaW5zLnZhbHVlc1xuXG5cdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJlX3RyYWNlLm5hbWVcblxuXHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkLCAndHJhY2VzLl9pZCc6IGxhc3RfdHJhY2UuX2lkfSwgeyRzZXQ6IHNldE9ian0pXG5cdFx0YiA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHB1c2g6IHt0cmFjZXM6IG5ld1RyYWNlfX0pXG5cdFx0aWYgciAmJiBiXG5cdFx0XHQjIOaWsGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcilcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJldHVybl9wZW5kaW5nX2luYm94XCIsIGluc3RhbmNlLCByZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKVxuXHRcdFx0IyDlpoLmnpzmmK/kvJrnrb7liJnnu5nkvJrnrb7mnKrmj5DkuqTnmoTkurrlj5HpgIFwdXNoXG5cdFx0XHRfLmVhY2ggcmVzdF9jb3VudGVyX3VzZXJzLCAodXNlcl9pZCktPlxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRyZXR1cm4gdHJ1ZSIsIk1ldGVvci5tZXRob2RzKHtcbiAgaW5zdGFuY2VfcmV0dXJuOiBmdW5jdGlvbihhcHByb3ZlLCByZWFzb24pIHtcbiAgICB2YXIgYXBwcm92ZV92YWx1ZXMsIGIsIGN1cnJlbnRfc3RlcCwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZmxvdywgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIGxhc3RfdHJhY2UsIG5ld1RyYWNlLCBuZXdfaW5ib3hfdXNlcnMsIG5vdywgcHJlX3N0ZXAsIHByZV90cmFjZSwgciwgcmVzdF9jb3VudGVyX3VzZXJzLCBzZXRPYmosIHNwYWNlX2lkLCB0cmFjZXM7XG4gICAgY2hlY2soYXBwcm92ZSwgT2JqZWN0KTtcbiAgICBjdXJyZW50X3VzZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBpbnN0YW5jZV9pZCA9IGFwcHJvdmUuaW5zdGFuY2U7XG4gICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgc3BhY2VfaWQgPSBpbnMuc3BhY2U7XG4gICAgaWYgKGlucy5zdGF0ZSAhPT0gXCJwZW5kaW5nXCIgfHwgIWlucy5pbmJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gXCJjY1wiICYmIGlucy5jY191c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgaWYgKGlucy50cmFjZXMubGVuZ3RoIDwgMikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zLmZsb3cpO1xuICAgIHByZV90cmFjZSA9IGlucy50cmFjZXNbaW5zLnRyYWNlcy5sZW5ndGggLSAyXTtcbiAgICBwcmVfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIHByZV90cmFjZS5zdGVwKTtcbiAgICBpZiAocHJlX3N0ZXAuc3RlcF90eXBlID09PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBsYXN0X3RyYWNlID0gXy5sYXN0KGlucy50cmFjZXMpO1xuICAgIGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcCk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgIT09IFwic3VibWl0XCIgJiYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSAhPT0gXCJzaWduXCIgJiYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSAhPT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUudHJhY2UgIT09IGxhc3RfdHJhY2UuX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgbmV3X2luYm94X3VzZXJzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChwcmVfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIGlmICgoIWEudHlwZSB8fCBhLnR5cGUgPT09IFwiZHJhZnRcIiB8fCBhLnR5cGUgPT09IFwicmVhc3NpZ25cIikgJiYgKCFhLmp1ZGdlIHx8IGEuanVkZ2UgPT09IFwic3VibWl0dGVkXCIgfHwgYS5qdWRnZSA9PT0gXCJhcHByb3ZlZFwiIHx8IGEuanVkZ2UgPT09IFwicmVqZWN0ZWRcIikpIHtcbiAgICAgICAgcmV0dXJuIG5ld19pbmJveF91c2Vycy5wdXNoKGEudXNlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKF8uaXNFbXB0eShuZXdfaW5ib3hfdXNlcnMpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOS4i+S4gOatpeWkhOeQhuS6uu+8jOmAgOWbnuWksei0pVwiKTtcbiAgICB9XG4gICAgdHJhY2VzID0gaW5zLnRyYWNlcztcbiAgICBhcHByb3ZlX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhhcHByb3ZlLnZhbHVlcyB8fCB7fSwgY3VycmVudF9zdGVwLnBlcm1pc3Npb25zLCBpbnMuZm9ybSwgaW5zLmZvcm1fdmVyc2lvbik7XG4gICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICByZXN0X2NvdW50ZXJfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgaWYgKHQuX2lkID09PSBsYXN0X3RyYWNlLl9pZCkge1xuICAgICAgICBpZiAoIXQuYXBwcm92ZXMpIHtcbiAgICAgICAgICB0LmFwcHJvdmVzID0gbmV3IEFycmF5O1xuICAgICAgICB9XG4gICAgICAgIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhLCBpZHgpIHtcbiAgICAgICAgICBpZiAoKCFhLnR5cGUgfHwgYS50eXBlID09PSBcInJlYXNzaWduXCIpICYmICghYS5qdWRnZSB8fCBhLmp1ZGdlID09PSBcInN1Ym1pdHRlZFwiIHx8IGEuanVkZ2UgPT09IFwiYXBwcm92ZWRcIiB8fCBhLmp1ZGdlID09PSBcInJlamVjdGVkXCIgfHwgYS5qdWRnZSA9PT0gXCJyZWFkZWRcIikgJiYgYS5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbm93O1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5vdztcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZXJyb3InXSA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuY29zdF90aW1lJ10gPSBub3cgLSBhLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnZhbHVlcyddID0gYXBwcm92ZV92YWx1ZXM7XG4gICAgICAgICAgICBpZiAoYS5oYW5kbGVyID09PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJyZXR1cm5lZFwiO1xuICAgICAgICAgICAgICByZXR1cm4gc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5kZXNjcmlwdGlvbiddID0gcmVhc29uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3RfY291bnRlcl91c2Vycy5wdXNoKGEuaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5pc19maW5pc2hlZCddID0gdHJ1ZTtcbiAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5maW5pc2hfZGF0ZSddID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHNldE9ialsndHJhY2VzLiQuanVkZ2UnXSA9IFwicmV0dXJuZWRcIjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpbnMudmFsdWVzID0gXy5leHRlbmQoaW5zLnZhbHVlcyB8fCB7fSwgYXBwcm92ZV92YWx1ZXMpO1xuICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXTtcbiAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgIG5ld1RyYWNlLnN0ZXAgPSBwcmVfdHJhY2Uuc3RlcDtcbiAgICBuZXdUcmFjZS5uYW1lID0gcHJlX3RyYWNlLm5hbWU7XG4gICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICBuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShwcmVfc3RlcC50aW1lb3V0X2hvdXJzKTtcbiAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgIF8uZWFjaChuZXdfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpIHtcbiAgICAgIHZhciBhZ2VudCwgaGFuZGxlcl9pZCwgaGFuZGxlcl9pbmZvLCBuZXdBcHByb3ZlLCBuZXh0X3N0ZXBfc3BhY2VfdXNlciwgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8sIHVzZXJfaW5mbztcbiAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgbmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZDtcbiAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZTtcbiAgICAgIGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgIGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mbztcbiAgICAgIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpO1xuICAgICAgaWYgKGFnZW50KSB7XG4gICAgICAgIG5ld19pbmJveF91c2Vyc1tpZHhdID0gYWdlbnQ7XG4gICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBhZ2VudFxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50O1xuICAgICAgfVxuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZDtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICBuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKTtcbiAgICAgIG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnMudmFsdWVzLCBuZXdBcHByb3ZlKTtcbiAgICAgIHJldHVybiBuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgIH0pO1xuICAgIHNldE9iai5pbmJveF91c2VycyA9IG5ld19pbmJveF91c2VycztcbiAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICBpbnMub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGlucy5vdXRib3hfdXNlcnMpO1xuICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgc2V0T2JqLnZhbHVlcyA9IGlucy52YWx1ZXM7XG4gICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJlX3RyYWNlLm5hbWU7XG4gICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgICd0cmFjZXMuX2lkJzogbGFzdF90cmFjZS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiBzZXRPYmpcbiAgICB9KTtcbiAgICBiID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgJHB1c2g6IHtcbiAgICAgICAgdHJhY2VzOiBuZXdUcmFjZVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChyICYmIGIpIHtcbiAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZXR1cm5fcGVuZGluZ19pbmJveFwiLCBpbnN0YW5jZSwgcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICBfLmVhY2gocmVzdF9jb3VudGVyX3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0aW5zdGFuY2VfcmVtaW5kOiAocmVtaW5kX3VzZXJzLCByZW1pbmRfY291bnQsIHJlbWluZF9kZWFkbGluZSwgaW5zdGFuY2VfaWQsIGFjdGlvbl90eXBlcywgdHJhY2VfaWQpLT5cblx0XHRjaGVjayByZW1pbmRfdXNlcnMsIEFycmF5XG5cdFx0Y2hlY2sgcmVtaW5kX2NvdW50LCBNYXRjaC5PbmVPZignc2luZ2xlJywgJ211bHRpJylcblx0XHRjaGVjayByZW1pbmRfZGVhZGxpbmUsIERhdGVcblx0XHRjaGVjayBpbnN0YW5jZV9pZCwgU3RyaW5nXG5cdFx0Y2hlY2sgYWN0aW9uX3R5cGVzLCBBcnJheVxuXHRcdGNoZWNrIHRyYWNlX2lkLCBTdHJpbmdcblxuXHRcdGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkXG5cdFx0bGFzdF9yZW1pbmRfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHtmaWVsZHM6IHtuYW1lOiAxLCB0cmFjZXM6IDEsIHZhbHVlczogMSwgc3BhY2U6IDF9fSlcblx0XHRpZiBhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FkbWluJylcblx0XHRcdGlmIHJlbWluZF9jb3VudCBpcyAnc2luZ2xlJ1xuXHRcdFx0XHRfLmVhY2ggaW5zLnRyYWNlcywgKHQpLT5cblx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwKS0+XG5cdFx0XHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxuXHRcdFx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcblx0XHRcdGVsc2UgaWYgcmVtaW5kX2NvdW50IGlzICdtdWx0aSdcblx0XHRcdFx0bm93ID0gbmV3IERhdGVcblx0XHRcdFx0cHJpb3JpdHkgPSBpbnMudmFsdWVzLnByaW9yaXR5XG5cdFx0XHRcdF8uZWFjaCBpbnMudHJhY2VzLCAodCktPlxuXHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXApLT5cblx0XHRcdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXG5cdFx0XHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxuXHRcdFx0XHRcdFx0XHRhcC5tYW51YWxfZGVhZGxpbmUgPSByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0IyDvvIgx77yJ4oCc5pmu6YCa4oCd77ya5aaC5LiJ5Liq5bel5L2c5pel5YaF5pyq5aSE55CG77yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li65LqM5pel5YaF77ybXG5cdFx0XHRcdFx0XHRcdCMgIOWmguS6jOaXpeWQjuS7jeacquWkhOeQhu+8jOezu+e7n+avj+WkqeiHquWKqOWPkeefreS/oeaPkOmGku+8jOWKnue7k+aXtumZkOS4uuS4gOaXpeWGheOAglxuXHRcdFx0XHRcdFx0XHRpZiBwcmlvcml0eSBpcyBcIuaZrumAmlwiIG9yIG5vdCBwcmlvcml0eVxuXHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHQjIO+8iDLvvInigJzlip7mlofigJ3vvJrlpoLkuIDkuKrlt6XkvZzml6XlhoXmnKrlpITnkIbvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrooajljZXkuIrnmoTigJzlip7nu5Pml7bpmZDigJ3vvIjmlofkuablvZXlhaXnmoTml7bpl7TvvInvvJtcblx0XHRcdFx0XHRcdFx0IyAg5aaC5LiA5pel5ZCO5LuN5pyq5aSE55CG77yM57O757uf5q+P5aSp6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5LiN5Y+Y77ybXG5cdFx0XHRcdFx0XHRcdCMgIOi3neemu+WKnue7k+aXtumZkOS4uuWNiuaXpeaXtu+8jOWImeavj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIHByaW9yaXR5IGlzIFwi5Yqe5paHXCJcblx0XHRcdFx0XHRcdFx0XHRpZiBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUgIyDotoXov4fkuoblip7nu5Pml7bpmZDmiJbogIXot53nprvlip7nu5Pml7bpmZDljYrml6XlhoVcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZSA9IChiYXNlX2RhdGUpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgcGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXG5cblx0XHRcdFx0XHRcdFx0IyDvvIgz77yJ4oCc57Sn5oCl4oCd77ya5Zyo5Y+R6YCB55qE5ZCM5pe277yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li66KGo5Y2V5LiK55qE4oCc5Yqe57uT5pe26ZmQ4oCd77yI5paH5Lmm5b2V5YWl55qE5pe26Ze077yJ77ybXG5cdFx0XHRcdFx0XHRcdCMgIOWmguWNiuaXpeWGheS7jeacquWkhOeQhu+8jOezu+e7n+avj+WNiuWkqeiHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4jeWPmO+8m+i3neemu+WKnue7k+aXtumZkOS4uuWNiuaXpeaXtu+8jOavj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIHByaW9yaXR5IGlzIFwi57Sn5oClXCJcblx0XHRcdFx0XHRcdFx0XHRpZiBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUgIyDotoXov4fkuoblip7nu5Pml7bpmZDmiJbogIXot53nprvlip7nu5Pml7bpmZDljYrml6XlhoVcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZSA9IChiYXNlX2RhdGUpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgcGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXG5cblx0XHRcdFx0XHRcdFx0IyDvvIg077yJ4oCc54m55oCl4oCd77ya5Zyo5Y+R6YCB55qE5ZCM5pe277yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li66KGo5Y2V5LiK55qE4oCc5Yqe57uT5pe26ZmQ4oCd77yI5paH5Lmm5b2V5YWl55qE5pe26Ze077yJ77ybXG5cdFx0XHRcdFx0XHRcdCMgIOWmguWNiuaXpeWGheS7jeacquWkhOeQhu+8jOezu+e7n+avj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8muWKnue7k+aXtumZkOS4jeWPmO+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIHByaW9yaXR5IGlzIFwi54m55oClXCJcblx0XHRcdFx0XHRcdFx0XHRpZiBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUgIyDotoXov4fkuoblip7nu5Pml7bpmZDmiJbogIXot53nprvlip7nu5Pml7bpmZDljYrml6XlhoVcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZSA9IChiYXNlX2RhdGUpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgcGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXG5cblx0XHRcdFx0aWYgbm90IF8uaXNFbXB0eShsYXN0X3JlbWluZF91c2Vycylcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHsndHJhY2VzJzogaW5zLnRyYWNlc319KVxuXG5cdFx0ZWxzZSBpZiBhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FwcGxpY2FudCcpXG5cdFx0XHR0cmFjZSA9IF8uZmluZCBpbnMudHJhY2VzLCAodCktPlxuXHRcdFx0XHRyZXR1cm4gdC5faWQgaXMgdHJhY2VfaWRcblx0XHRcdF8uZWFjaCB0cmFjZS5hcHByb3ZlcywgKGFwKS0+XG5cdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXG5cdFx0XHRcdFx0bGFzdF9yZW1pbmRfdXNlcnMucHVzaCBhcC51c2VyXG5cblx0XHRlbHNlIGlmIGFjdGlvbl90eXBlcy5pbmNsdWRlcygnY2MnKVxuXHRcdFx0Xy5lYWNoIGlucy50cmFjZXMsICh0KS0+XG5cdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXApLT5cblx0XHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZSBhbmQgYXAudHlwZSBpcyAnY2MnIGFuZCBhcC5mcm9tX3VzZXIgaXMgY3VycmVudF91c2VyX2lkXG5cdFx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcblxuXHRcdHV1Zmxvd01hbmFnZXIuc2VuZFJlbWluZFNNUyBpbnMubmFtZSwgcmVtaW5kX2RlYWRsaW5lLCBsYXN0X3JlbWluZF91c2VycywgaW5zLnNwYWNlLCBpbnMuX2lkXG5cblx0XHRyZXR1cm4gdHJ1ZVxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZV9yZW1pbmQ6IGZ1bmN0aW9uKHJlbWluZF91c2VycywgcmVtaW5kX2NvdW50LCByZW1pbmRfZGVhZGxpbmUsIGluc3RhbmNlX2lkLCBhY3Rpb25fdHlwZXMsIHRyYWNlX2lkKSB7XG4gICAgdmFyIGN1cnJlbnRfdXNlcl9pZCwgaW5zLCBsYXN0X3JlbWluZF91c2Vycywgbm93LCBwcmlvcml0eSwgdHJhY2U7XG4gICAgY2hlY2socmVtaW5kX3VzZXJzLCBBcnJheSk7XG4gICAgY2hlY2socmVtaW5kX2NvdW50LCBNYXRjaC5PbmVPZignc2luZ2xlJywgJ211bHRpJykpO1xuICAgIGNoZWNrKHJlbWluZF9kZWFkbGluZSwgRGF0ZSk7XG4gICAgY2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG4gICAgY2hlY2soYWN0aW9uX3R5cGVzLCBBcnJheSk7XG4gICAgY2hlY2sodHJhY2VfaWQsIFN0cmluZyk7XG4gICAgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG4gICAgbGFzdF9yZW1pbmRfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxLFxuICAgICAgICB0cmFjZXM6IDEsXG4gICAgICAgIHZhbHVlczogMSxcbiAgICAgICAgc3BhY2U6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdhZG1pbicpKSB7XG4gICAgICBpZiAocmVtaW5kX2NvdW50ID09PSAnc2luZ2xlJykge1xuICAgICAgICBfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChyZW1pbmRfY291bnQgPT09ICdtdWx0aScpIHtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIHByaW9yaXR5ID0gaW5zLnZhbHVlcy5wcmlvcml0eTtcbiAgICAgICAgXy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwKSB7XG4gICAgICAgICAgICB2YXIgY2FjdWxhdGVfZGF0ZTtcbiAgICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgICAgICAgYXAubWFudWFsX2RlYWRsaW5lID0gcmVtaW5kX2RlYWRsaW5lO1xuICAgICAgICAgICAgICBpZiAocHJpb3JpdHkgPT09IFwi5pmu6YCaXCIgfHwgIXByaW9yaXR5KSB7XG5cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA9PT0gXCLlip7mlodcIikge1xuICAgICAgICAgICAgICAgIGlmIChTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlID0gZnVuY3Rpb24oYmFzZV9kYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbHVzX2hhbGZkYXlfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgcGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYWN1bGF0ZV9kYXRlKG5vdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09PSBcIue0p+aApVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUgPSBmdW5jdGlvbihiYXNlX2RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdXNfaGFsZmRheV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICBwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY3VsYXRlX2RhdGUobm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPT09IFwi54m55oClXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZSA9IGZ1bmN0aW9uKGJhc2VfZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGx1c19oYWxmZGF5X2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2FjdWxhdGVfZGF0ZShub3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFfLmlzRW1wdHkobGFzdF9yZW1pbmRfdXNlcnMpKSB7XG4gICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAndHJhY2VzJzogaW5zLnRyYWNlc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FwcGxpY2FudCcpKSB7XG4gICAgICB0cmFjZSA9IF8uZmluZChpbnMudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9PT0gdHJhY2VfaWQ7XG4gICAgICB9KTtcbiAgICAgIF8uZWFjaCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBsYXN0X3JlbWluZF91c2Vycy5wdXNoKGFwLnVzZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbl90eXBlcy5pbmNsdWRlcygnY2MnKSkge1xuICAgICAgXy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUgJiYgYXAudHlwZSA9PT0gJ2NjJyAmJiBhcC5mcm9tX3VzZXIgPT09IGN1cnJlbnRfdXNlcl9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLnNlbmRSZW1pbmRTTVMoaW5zLm5hbWUsIHJlbWluZF9kZWFkbGluZSwgbGFzdF9yZW1pbmRfdXNlcnMsIGlucy5zcGFjZSwgaW5zLl9pZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0bmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZDogKGRlYWxfdHlwZSwgc3RlcF9uYW1lLCBwYXJhbXMpIC0+XG5cdFx0Y2hlY2sgZGVhbF90eXBlLCBTdHJpbmdcblx0XHRjaGVjayBzdGVwX25hbWUsIFN0cmluZ1xuXHRcdGNoZWNrIHBhcmFtcywgT2JqZWN0XG5cblx0XHRzdHIgPSBcIlwiXG5cdFx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHRoaXMudXNlcklkIH0sIHsgZmllbGRzOiB7IGxvY2FsZTogMSB9IH0pXG5cdFx0I+iuvue9ruW9k+WJjeivreiogOeOr+Wig1xuXHRcdGxhbmcgPSAnZW4nXG5cdFx0aWYgdXNlci5sb2NhbGUgaXMgJ3poLWNuJ1xuXHRcdFx0bGFuZyA9ICd6aC1DTidcblxuXHRcdCMg5oyH5a6a5a6h5om55bKX5L2NXG5cdFx0aWYgZGVhbF90eXBlIGlzICdhcHBsaWNhbnRSb2xlJ1xuXHRcdFx0YXBwcm92ZXJfcm9sZXMgPSBwYXJhbXMuYXBwcm92ZXJfcm9sZXNcblx0XHRcdHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiB7ICRpbjogYXBwcm92ZXJfcm9sZXMgfSB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSkuZmV0Y2goKVxuXHRcdFx0cm9sZXNfbmFtZSA9IF8ucGx1Y2socm9sZXMsICduYW1lJykudG9TdHJpbmcoKVxuXHRcdFx0c3RyID0gVEFQaTE4bi5fXyAnbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5hcHBsaWNhbnRfcm9sZScsIHsgc3RlcF9uYW1lOiBzdGVwX25hbWUsIHJvbGVfbmFtZTogcm9sZXNfbmFtZSB9LCBsYW5nXG5cblxuXHRcdHJldHVybiBzdHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZDogZnVuY3Rpb24oZGVhbF90eXBlLCBzdGVwX25hbWUsIHBhcmFtcykge1xuICAgIHZhciBhcHByb3Zlcl9yb2xlcywgbGFuZywgcm9sZXMsIHJvbGVzX25hbWUsIHN0ciwgdXNlcjtcbiAgICBjaGVjayhkZWFsX3R5cGUsIFN0cmluZyk7XG4gICAgY2hlY2soc3RlcF9uYW1lLCBTdHJpbmcpO1xuICAgIGNoZWNrKHBhcmFtcywgT2JqZWN0KTtcbiAgICBzdHIgPSBcIlwiO1xuICAgIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgIF9pZDogdGhpcy51c2VySWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbG9jYWxlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgbGFuZyA9ICdlbic7XG4gICAgaWYgKHVzZXIubG9jYWxlID09PSAnemgtY24nKSB7XG4gICAgICBsYW5nID0gJ3poLUNOJztcbiAgICB9XG4gICAgaWYgKGRlYWxfdHlwZSA9PT0gJ2FwcGxpY2FudFJvbGUnKSB7XG4gICAgICBhcHByb3Zlcl9yb2xlcyA9IHBhcmFtcy5hcHByb3Zlcl9yb2xlcztcbiAgICAgIHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBhcHByb3Zlcl9yb2xlc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIHJvbGVzX25hbWUgPSBfLnBsdWNrKHJvbGVzLCAnbmFtZScpLnRvU3RyaW5nKCk7XG4gICAgICBzdHIgPSBUQVBpMThuLl9fKCduZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmFwcGxpY2FudF9yb2xlJywge1xuICAgICAgICBzdGVwX25hbWU6IHN0ZXBfbmFtZSxcbiAgICAgICAgcm9sZV9uYW1lOiByb2xlc19uYW1lXG4gICAgICB9LCBsYW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufSk7XG4iLCJfZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKVxuXG5NZXRlb3IubWV0aG9kc1xuXHRpbnN0YW5jZU51bWJlckJ1aWxkZXI6IChzcGFjZUlkLCBuYW1lKS0+XG5cblx0XHRudW1iZXJSdWxlcyA9IGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy5maW5kT25lKHtzcGFjZTogc3BhY2VJZCwgbmFtZTogbmFtZX0pXG5cblx0XHRpZiAhbnVtYmVyUnVsZXNcblx0XHRcdHRocm93IG5ldyAgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIiN7bmFtZX1cIilcblxuXHRcdGRhdGUgPSBuZXcgRGF0ZSgpXG5cblx0XHRjb250ZXh0ID0ge31cblxuXHRcdGNvbnRleHQuXyA9IF9cblxuXHRcdF9ZWVlZID0gZGF0ZS5nZXRGdWxsWWVhcigpXG5cblx0XHRfTlVNQkVSID0gKG51bWJlclJ1bGVzLm51bWJlciB8fCAwKSArIDFcblxuXHRcdGNvbnRleHQuWVlZWSA9IF8uY2xvbmUoX1lZWVkpXG5cblx0XHRjb250ZXh0Lk1NID0gZGF0ZS5nZXRNb250aCgpICsgMVxuXG5cdFx0Y29udGV4dC5tbSA9IGRhdGUuZ2V0TW9udGgoKSArIDFcblxuXHRcdGlmIGNvbnRleHQuTU0gPCAxMFxuXHRcdFx0Y29udGV4dC5NTSA9IFwiMFwiICsgY29udGV4dC5NTVxuXG5cdFx0Y29udGV4dC5ERCA9IGRhdGUuZ2V0RGF0ZSgpXG5cblx0XHRjb250ZXh0LmRkID0gZGF0ZS5nZXREYXRlKClcblxuXHRcdGlmIGNvbnRleHQuREQgPCAxMFxuXHRcdFx0Y29udGV4dC5ERCA9IFwiMFwiICsgY29udGV4dC5ERFxuXG5cdFx0aWYgY29udGV4dC5ZWVlZICE9IG51bWJlclJ1bGVzLnllYXJcblx0XHRcdF9OVU1CRVIgPSBudW1iZXJSdWxlcy5maXJzdF9udW1iZXIgfHwgMVxuXG5cdFx0Y29udGV4dC5OVU1CRVIgPSBfLmNsb25lKF9OVU1CRVIpXG5cblx0XHRydWxlcyA9IG51bWJlclJ1bGVzLnJ1bGVzLnJlcGxhY2UoXCJ7WVlZWX1cIiwgXCInICsgWVlZWSArICdcIikucmVwbGFjZShcIntNTX1cIiwgXCInICsgTU0gKyAnXCIpLnJlcGxhY2UoXCJ7TlVNQkVSfVwiLCBcIicgKyBOVU1CRVIgKyAnXCIpXG5cblx0XHRzY3JpcHQgPSBcInZhciBuZXdObyA9ICcje3J1bGVzfSc7IGV4cG9ydHMubmV3Tm8gPSBuZXdOb1wiO1xuXG5cdFx0dHJ5XG5cdFx0XHRyZXMgPSBfZXZhbChzY3JpcHQsIFwibmV3Tm9cIiwgY29udGV4dCwgZmFsc2UpLm5ld05vXG5cblx0XHRcdGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy51cGRhdGUoe19pZDogbnVtYmVyUnVsZXMuX2lkfSwgeyRzZXQ6IHt5ZWFyOiBfWVlZWSwgbnVtYmVyOiBfTlVNQkVSfX0pXG5cblx0XHRcdGNvbnNvbGUubG9nIHRoaXMudXNlcklkLCByZXNcblxuXHRcdGNhdGNoIGVcblx0XHRcdHJlcyA9IHtfZXJyb3I6IGV9XG5cblx0XHRyZXR1cm4gcmVzO1xuIiwidmFyIF9ldmFsO1xuXG5fZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKTtcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZU51bWJlckJ1aWxkZXI6IGZ1bmN0aW9uKHNwYWNlSWQsIG5hbWUpIHtcbiAgICB2YXIgX05VTUJFUiwgX1lZWVksIGNvbnRleHQsIGRhdGUsIGUsIG51bWJlclJ1bGVzLCByZXMsIHJ1bGVzLCBzY3JpcHQ7XG4gICAgbnVtYmVyUnVsZXMgPSBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgIG5hbWU6IG5hbWVcbiAgICB9KTtcbiAgICBpZiAoIW51bWJlclJ1bGVzKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIlwiICsgbmFtZSk7XG4gICAgfVxuICAgIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnRleHQgPSB7fTtcbiAgICBjb250ZXh0Ll8gPSBfO1xuICAgIF9ZWVlZID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIF9OVU1CRVIgPSAobnVtYmVyUnVsZXMubnVtYmVyIHx8IDApICsgMTtcbiAgICBjb250ZXh0LllZWVkgPSBfLmNsb25lKF9ZWVlZKTtcbiAgICBjb250ZXh0Lk1NID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBjb250ZXh0Lm1tID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBpZiAoY29udGV4dC5NTSA8IDEwKSB7XG4gICAgICBjb250ZXh0Lk1NID0gXCIwXCIgKyBjb250ZXh0Lk1NO1xuICAgIH1cbiAgICBjb250ZXh0LkREID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgY29udGV4dC5kZCA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIGlmIChjb250ZXh0LkREIDwgMTApIHtcbiAgICAgIGNvbnRleHQuREQgPSBcIjBcIiArIGNvbnRleHQuREQ7XG4gICAgfVxuICAgIGlmIChjb250ZXh0LllZWVkgIT09IG51bWJlclJ1bGVzLnllYXIpIHtcbiAgICAgIF9OVU1CRVIgPSBudW1iZXJSdWxlcy5maXJzdF9udW1iZXIgfHwgMTtcbiAgICB9XG4gICAgY29udGV4dC5OVU1CRVIgPSBfLmNsb25lKF9OVU1CRVIpO1xuICAgIHJ1bGVzID0gbnVtYmVyUnVsZXMucnVsZXMucmVwbGFjZShcIntZWVlZfVwiLCBcIicgKyBZWVlZICsgJ1wiKS5yZXBsYWNlKFwie01NfVwiLCBcIicgKyBNTSArICdcIikucmVwbGFjZShcIntOVU1CRVJ9XCIsIFwiJyArIE5VTUJFUiArICdcIik7XG4gICAgc2NyaXB0ID0gXCJ2YXIgbmV3Tm8gPSAnXCIgKyBydWxlcyArIFwiJzsgZXhwb3J0cy5uZXdObyA9IG5ld05vXCI7XG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJuZXdOb1wiLCBjb250ZXh0LCBmYWxzZSkubmV3Tm87XG4gICAgICBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBudW1iZXJSdWxlcy5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDoge1xuICAgICAgICAgIHllYXI6IF9ZWVlZLFxuICAgICAgICAgIG51bWJlcjogX05VTUJFUlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcklkLCByZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICByZXMgPSB7XG4gICAgICAgIF9lcnJvcjogZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRjaGVja19tYWluX2F0dGFjaDogKGluc19pZCwgbmFtZSktPlxuXHRcdGNoZWNrIGluc19pZCwgU3RyaW5nXG5cdFx0dXVmbG93TWFuYWdlci5jaGVja01haW5BdHRhY2goaW5zX2lkLCBuYW1lKVxuXHRcdHJldHVybiAnc3VjY2VzcydcblxuIiwiTWV0ZW9yLm1ldGhvZHNcblx0cmVtb3ZlX3JlbGF0ZWQ6IChpbnNfaWQsIHJlX2luc19pZCktPlxuXHRcdGNoZWNrKGluc19pZCwgU3RyaW5nKVxuXHRcdGNoZWNrKHJlX2luc19pZCwgU3RyaW5nKVxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWR9LCB7ZmllbGRzOiB7cmVsYXRlZF9pbnN0YW5jZXM6IDF9fSlcblxuXHRcdGlmIGluc1xuXHRcdFx0cmVzID0gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIHx8IFtdXG5cblx0XHRcdGluZGV4ID0gcmVzLmluZGV4T2YocmVfaW5zX2lkKVxuXG5cdFx0XHRpZiBpbmRleCA+IC0xXG5cdFx0XHRcdHJlcy5yZW1vdmUoaW5kZXgpXG5cblx0XHRcdHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cdFx0XHRzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVzXG5cblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zX2lkfSwgeyRzZXQ6IHNldF9vYmp9KVxuXG5cdHVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkOiAoaW5zX2lkLCByZWxhdGVkX2luc3RhbmNlcyktPlxuXHRcdGNoZWNrKGluc19pZCwgU3RyaW5nKVxuXHRcdGNoZWNrKHJlbGF0ZWRfaW5zdGFuY2VzLCBBcnJheSlcblxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWQsICRvcjogW3tzdWJtaXR0ZXI6IHRoaXMudXNlcklkfSwge2FwcGxpY2FudDogdGhpcy51c2VySWR9LCB7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dfSwge2ZpZWxkczoge3N0YXRlOiAxfX0pXG5cblx0XHRpZiBpbnNcblx0XHRcdHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cdFx0XHRzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVsYXRlZF9pbnN0YW5jZXNcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zX2lkfSwgeyRzZXQ6IHNldF9vYmp9KVxuXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46ICByZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7X2lkOiAxLCB2YWx1ZXM6IDF9fSkuZmV0Y2goKVxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICByZW1vdmVfcmVsYXRlZDogZnVuY3Rpb24oaW5zX2lkLCByZV9pbnNfaWQpIHtcbiAgICB2YXIgaW5kZXgsIGlucywgcmVzLCBzZXRfb2JqO1xuICAgIGNoZWNrKGluc19pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhyZV9pbnNfaWQsIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICByZWxhdGVkX2luc3RhbmNlczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMpIHtcbiAgICAgIHJlcyA9IGlucy5yZWxhdGVkX2luc3RhbmNlcyB8fCBbXTtcbiAgICAgIGluZGV4ID0gcmVzLmluZGV4T2YocmVfaW5zX2lkKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHJlcy5yZW1vdmUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgc2V0X29iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcbiAgICAgIHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcbiAgICAgIHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZXM7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldF9vYmpcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlX2luc3RhbmNlX3JlbGF0ZWQ6IGZ1bmN0aW9uKGluc19pZCwgcmVsYXRlZF9pbnN0YW5jZXMpIHtcbiAgICB2YXIgaW5zLCBzZXRfb2JqO1xuICAgIGNoZWNrKGluc19pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhyZWxhdGVkX2luc3RhbmNlcywgQXJyYXkpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNfaWQsXG4gICAgICAkb3I6IFtcbiAgICAgICAge1xuICAgICAgICAgIHN1Ym1pdHRlcjogdGhpcy51c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGFwcGxpY2FudDogdGhpcy51c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGluYm94X3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2NfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zKSB7XG4gICAgICBzZXRfb2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuICAgICAgc2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuICAgICAgc2V0X29iai5yZWxhdGVkX2luc3RhbmNlcyA9IHJlbGF0ZWRfaW5zdGFuY2VzO1xuICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldF9vYmpcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgX2lkOiB7XG4gICAgICAgICRpbjogcmVsYXRlZF9pbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICB2YWx1ZXM6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdHVwZGF0ZUZsb3dQb3NpdGlvbjogKGRhdGEpIC0+XG5cdFx0ZGIuZmxvd19wb3NpdGlvbnMudXBkYXRlIHsgX2lkOiBkYXRhLl9pZCB9LCAkc2V0OlxuXHRcdFx0cm9sZTogZGF0YS5yb2xlXG5cdFx0XHR1c2VyczogZGF0YS51c2Vyc1xuXHRcdFx0b3JnOiBkYXRhLm9yZ1xuXG5cdHVwZGF0ZUZsb3dSb2xlOiAoZGF0YSkgLT5cblx0XHRjb25zb2xlLmxvZyBkYXRhLl9pZFxuXHRcdGNvbnNvbGUubG9nIGRhdGEubmFtZVxuXHRcdGRiLmZsb3dfcm9sZXMudXBkYXRlIHsgX2lkOiBkYXRhLl9pZCB9LCAkc2V0OlxuXHRcdFx0bmFtZTogZGF0YS5uYW1lIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICB1cGRhdGVGbG93UG9zaXRpb246IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICByZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMudXBkYXRlKHtcbiAgICAgIF9pZDogZGF0YS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIHJvbGU6IGRhdGEucm9sZSxcbiAgICAgICAgdXNlcnM6IGRhdGEudXNlcnMsXG4gICAgICAgIG9yZzogZGF0YS5vcmdcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgdXBkYXRlRmxvd1JvbGU6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhkYXRhLl9pZCk7XG4gICAgY29uc29sZS5sb2coZGF0YS5uYW1lKTtcbiAgICByZXR1cm4gZGIuZmxvd19yb2xlcy51cGRhdGUoe1xuICAgICAgX2lkOiBkYXRhLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0c3RhcnRfZmxvdzogKHNwYWNlLCBmbG93SWQsIHN0YXJ0KSAtPlxuXG5cdFx0a2V5VmFsdWUgPSBkYi5zdGVlZG9zX2tleXZhbHVlcy5maW5kT25lKHsgc3BhY2U6IHNwYWNlLCB1c2VyOiB0aGlzLnVzZXJJZCwga2V5OiAnc3RhcnRfZmxvd3MnIH0sIHsgZmllbGRzOiB7IHZhbHVlOiAxIH0gfSlcblxuXHRcdHN0YXJ0X2Zsb3dzID0ga2V5VmFsdWU/LnZhbHVlIHx8IFtdXG5cblx0XHRpZiBzdGFydFxuXHRcdFx0c3RhcnRfZmxvd3MucHVzaChmbG93SWQpXG5cblx0XHRcdHN0YXJ0X2Zsb3dzID0gXy51bmlxKHN0YXJ0X2Zsb3dzKVxuXHRcdGVsc2Vcblx0XHRcdHN0YXJ0X2Zsb3dzLnJlbW92ZShzdGFydF9mbG93cy5pbmRleE9mKGZsb3dJZCkpXG5cblx0XHRpZiBrZXlWYWx1ZVxuXHRcdFx0ZGIuc3RlZWRvc19rZXl2YWx1ZXMudXBkYXRlKHsgX2lkOiBrZXlWYWx1ZS5faWQgfSwgeyBzcGFjZTogc3BhY2UsIHVzZXI6IHRoaXMudXNlcklkLCBrZXk6ICdzdGFydF9mbG93cycsIHZhbHVlOiBzdGFydF9mbG93cyB9KVxuXHRcdGVsc2Vcblx0XHRcdGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmluc2VydCh7IHNwYWNlOiBzcGFjZSwgdXNlcjogdGhpcy51c2VySWQsIGtleTogJ3N0YXJ0X2Zsb3dzJywgdmFsdWU6IHN0YXJ0X2Zsb3dzIH0pXG5cbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgc3RhcnRfZmxvdzogZnVuY3Rpb24oc3BhY2UsIGZsb3dJZCwgc3RhcnQpIHtcbiAgICB2YXIga2V5VmFsdWUsIHN0YXJ0X2Zsb3dzO1xuICAgIGtleVZhbHVlID0gZGIuc3RlZWRvc19rZXl2YWx1ZXMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2UsXG4gICAgICB1c2VyOiB0aGlzLnVzZXJJZCxcbiAgICAgIGtleTogJ3N0YXJ0X2Zsb3dzJ1xuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB2YWx1ZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIHN0YXJ0X2Zsb3dzID0gKGtleVZhbHVlICE9IG51bGwgPyBrZXlWYWx1ZS52YWx1ZSA6IHZvaWQgMCkgfHwgW107XG4gICAgaWYgKHN0YXJ0KSB7XG4gICAgICBzdGFydF9mbG93cy5wdXNoKGZsb3dJZCk7XG4gICAgICBzdGFydF9mbG93cyA9IF8udW5pcShzdGFydF9mbG93cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0X2Zsb3dzLnJlbW92ZShzdGFydF9mbG93cy5pbmRleE9mKGZsb3dJZCkpO1xuICAgIH1cbiAgICBpZiAoa2V5VmFsdWUpIHtcbiAgICAgIHJldHVybiBkYi5zdGVlZG9zX2tleXZhbHVlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGtleVZhbHVlLl9pZFxuICAgICAgfSwge1xuICAgICAgICBzcGFjZTogc3BhY2UsXG4gICAgICAgIHVzZXI6IHRoaXMudXNlcklkLFxuICAgICAgICBrZXk6ICdzdGFydF9mbG93cycsXG4gICAgICAgIHZhbHVlOiBzdGFydF9mbG93c1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkYi5zdGVlZG9zX2tleXZhbHVlcy5pbnNlcnQoe1xuICAgICAgICBzcGFjZTogc3BhY2UsXG4gICAgICAgIHVzZXI6IHRoaXMudXNlcklkLFxuICAgICAgICBrZXk6ICdzdGFydF9mbG93cycsXG4gICAgICAgIHZhbHVlOiBzdGFydF9mbG93c1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdGdldF9pbnN0YW5jZV90cmFjZXM6IChpbnNfaWQpLT5cblx0XHRpZiAoIXRoaXMudXNlcklkKVxuXHRcdFx0cmV0dXJuO1xuXHRcdG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLFxuXHRcdFx0J2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJ11cblxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lIHtfaWQ6IGluc19pZH0sIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcInRyYWNlcy5faWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuaXNfZmluaXNoZWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuc3RlcFwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5zdGFydF9kYXRlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLm5hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuZmluaXNoX2RhdGVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuanVkZ2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuX2lkXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX2ZpbmlzaGVkXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnVzZXJcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlclwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX25hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMudHlwZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5zdGFydF9kYXRlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmRlc2NyaXB0aW9uXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX3JlYWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuanVkZ2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZmluaXNoX2RhdGVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyX25hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmNjX2Rlc2NyaXB0aW9uXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnRyYWNlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfc3BhY2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9pbnN0YW5jZVwiOiAxXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgIWluc1xuXHRcdFx0cmV0dXJuXG5cblx0XHRyZXR1cm4gaW5zPy50cmFjZXNcblxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBnZXRfaW5zdGFuY2VfdHJhY2VzOiBmdW5jdGlvbihpbnNfaWQpIHtcbiAgICB2YXIgaW5zLCBtaW5pQXBwcm92ZUZpZWxkcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLCAnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nXTtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy5faWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuaXNfZmluaXNoZWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuc3RlcFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5zdGFydF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLm5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuZmluaXNoX2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuanVkZ2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuX2lkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX2ZpbmlzaGVkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnVzZXJcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlclwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX25hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMudHlwZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5zdGFydF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmRlc2NyaXB0aW9uXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX3JlYWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuanVkZ2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZmluaXNoX2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyX25hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmNjX2Rlc2NyaXB0aW9uXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnRyYWNlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfc3BhY2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9pbnN0YW5jZVwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGlucyAhPSBudWxsID8gaW5zLnRyYWNlcyA6IHZvaWQgMDtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHQnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcyktPlxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpZiAhc3BhY2Vcblx0XHRcdHJldHVyblxuXG5cdFx0X2JhdGNoX2luc3RhbmNlcyA9IEluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyhzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgdGhpcy51c2VySWQpXG5cblx0XHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlc1xuXG5cdCdnZXRfYmF0Y2hfaW5zdGFuY2VzX2NvdW50JzogKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKS0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGlmICFzcGFjZVxuXHRcdFx0cmV0dXJuXG5cblx0XHRfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZClcblxuXHRcdHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzPy5sZW5ndGggfHwgMFxuXG5cdCdnZXRfbXlfYXBwcm92ZXMnOiAoaW5zdGFuY2VJZHMpLT5cblxuXHRcdHRoYXQgPSB0aGlzXG5cblx0XHRpZiAhdGhhdC51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0bXlBcHByb3ZlcyA9IG5ldyBBcnJheSgpXG5cblx0XHRpbnN0YW5jZUlkcy5mb3JFYWNoIChpbnNJZCktPlxuXHRcdFx0bXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zSWQsIHRoYXQudXNlcklkKVxuXHRcdFx0aWYgbXlfYXBwcm92ZVxuXHRcdFx0XHRteUFwcHJvdmVzLnB1c2gobXlfYXBwcm92ZSlcblxuXHRcdHJldHVybiBteUFwcHJvdmVzXG5cblxuXG5cblxuXG5cblxuXG5cblxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICAnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IGZ1bmN0aW9uKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKSB7XG4gICAgdmFyIF9iYXRjaF9pbnN0YW5jZXM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNwYWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9iYXRjaF9pbnN0YW5jZXMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIHRoaXMudXNlcklkKTtcbiAgICByZXR1cm4gX2JhdGNoX2luc3RhbmNlcztcbiAgfSxcbiAgJ2dldF9iYXRjaF9pbnN0YW5jZXNfY291bnQnOiBmdW5jdGlvbihzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcykge1xuICAgIHZhciBfYmF0Y2hfaW5zdGFuY2VzO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZCk7XG4gICAgcmV0dXJuIChfYmF0Y2hfaW5zdGFuY2VzICE9IG51bGwgPyBfYmF0Y2hfaW5zdGFuY2VzLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgfSxcbiAgJ2dldF9teV9hcHByb3Zlcyc6IGZ1bmN0aW9uKGluc3RhbmNlSWRzKSB7XG4gICAgdmFyIG15QXBwcm92ZXMsIHRoYXQ7XG4gICAgdGhhdCA9IHRoaXM7XG4gICAgaWYgKCF0aGF0LnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBteUFwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgaW5zdGFuY2VJZHMuZm9yRWFjaChmdW5jdGlvbihpbnNJZCkge1xuICAgICAgdmFyIG15X2FwcHJvdmU7XG4gICAgICBteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnNJZCwgdGhhdC51c2VySWQpO1xuICAgICAgaWYgKG15X2FwcHJvdmUpIHtcbiAgICAgICAgcmV0dXJuIG15QXBwcm92ZXMucHVzaChteV9hcHByb3ZlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbXlBcHByb3ZlcztcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRjaGFuZ2VfZmxvd19zdGF0ZTogKGZsb3dzKSAtPlxuXHRcdGNoZWNrIGZsb3dzLCBBcnJheVxuXG5cdFx0X3VzZXJJZCA9IHRoaXMudXNlcklkXG5cblx0XHRpZiAhX3VzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRmbG93cy5mb3JFYWNoIChmbG93KSAtPlxuXHRcdFx0c3BhY2VJZCA9IGZsb3cuc3BhY2Vcblx0XHRcdGZvcm1JZCA9IGZsb3cuZm9ybVxuXHRcdFx0Zmxvd0lkID0gZmxvdy5pZFxuXHRcdFx0c3RhdGUgPSBmbG93LnN0YXRlXG5cblx0XHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCBfdXNlcklkKVxuXHRcdFx0XHR0aHJvdyAgTWV0ZW9yLkVycm9yKDQwMSwgXCJObyBwZXJtaXNzaW9uXCIpXG5cblx0XHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmb3JtSWQgfSwgeyBmaWVsZHM6IHsgaGlzdG9yeXM6IDAgfSB9KVxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd0lkIH0sIHsgZmllbGRzOiB7IGhpc3RvcnlzOiAwIH0gfSlcblxuXHRcdFx0aWYgc3RhdGUgIT0gJ2VuYWJsZWQnICYmIHN0YXRlICE9ICdkaXNhYmxlZCdcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwic3RhdGXml6DmlYhcIilcblxuXHRcdFx0aWYgIWZvcm1cblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZm9ybeaXoOaViFwiKVxuXG5cdFx0XHRpZiAhZmxvd1xuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmbG935peg5pWIXCIpXG5cblx0XHRcdGlmICFmb3JtLmlzX3ZhbGlkXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+W8leeUqOeahOihqOWNlVsje2Zvcm0ubmFtZX1d6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l6KGo5Y2V6K6+572uXCIpXG5cblx0XHRcdGlmICFmbG93LmlzX3ZhbGlkXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpea1geeoi+iuvue9rlwiKVxuXG5cdFx0XHRpZiAhWyduZXcnLCAnbW9kaWZ5JywgJ2RlbGV0ZSddLmluY2x1ZGVzKGZsb3cuZmxvd3R5cGUpXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jGZsb3d0eXBl5YC85b+F6aG75pivbmV344CBbW9kaWZ544CBZGVsZXRl5YW25Lit5LmL5LiAXCIpXG5cblx0XHRcdGlmICFfLmlzQXJyYXkoZmxvdy5jdXJyZW50LnN0ZXBzKVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzmtYHnqIvnmoTmraXpqqTkuI3og73kuLrnqbpcIilcblxuXHRcdFx0aWYgXy51bmlxKGZsb3cuY3VycmVudC5zdGVwcywgJ25hbWUnKS5sZW5ndGggIT0gZmxvdy5jdXJyZW50LnN0ZXBzLmxlbmd0aFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzlkIzkuIDkuKrmtYHnqIvkuIvnmoTmraXpqqTnmoTlkI3np7DkuI3og73ph43lpI1cIilcblxuXHRcdFx0bm93ID0gbmV3IERhdGVcblxuXHRcdFx0aWYgc3RhdGUgPT0gJ2VuYWJsZWQnXG5cdFx0XHRcdCPmtYHnqIvlkK/nlKjliY3vvIzmoKHpqozlhbbigJzmjIflrprljoblj7LmraXpqqTigJ3lsZ7mgKfkuK3ooqvlvJXnlKjnmoTmraXpqqTmmK/lkKblrZjlnKjkuJTog73ooqvmib7liLDvvIjku4XpmZDkuo7mtYHnqIvnmoTmnIDmlrDniYjvvIlcblx0XHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2ggKHN0ZXApIC0+XG5cdFx0XHRcdFx0aWYgWydzcGVjaWZ5U3RlcFVzZXInLCAnc3BlY2lmeVN0ZXBSb2xlJ10uaW5jbHVkZXMoc3RlcC5kZWFsX3R5cGUpXG5cdFx0XHRcdFx0XHRpZiAhc3RlcC5hcHByb3Zlcl9zdGVwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFsje3N0ZXAubmFtZX1d5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHNwZWNpZnlTdGVwID0gXy5maW5kIGZsb3cuY3VycmVudC5zdGVwcywgKF9zdGVwKSAtPlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzdGVwLmFwcHJvdmVyX3N0ZXAgPT0gX3N0ZXAuX2lkXG5cblx0XHRcdFx0XHRcdFx0aWYgIXNwZWNpZnlTdGVwXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkWyN7c3RlcC5uYW1lfV3kuK3nmoTmjIflrprljoblj7LmraXpqqTkuI3lrZjlnKjjgIJcIilcblxuXHRcdFx0XHRmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUgPSBmb3JtLmN1cnJlbnQuZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKVxuXG5cdFx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoIChzdGVwKSAtPlxuXHRcdFx0XHRcdHN0ZXAuZmllbGRzX21vZGlmaWFibGUgPSBfLmludGVyc2VjdGlvbihzdGVwLmZpZWxkc19tb2RpZmlhYmxlLCBmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUpXG5cblx0XHRcdFx0I+WmguaenCDmtYHnqIvlr7nlupTooajljZUg5piv5YGc55So55qEIOWImeWQr+eUqFxuXHRcdFx0XHRpZiBmb3JtLnN0YXRlID09ICdkaXNhYmxlZCdcblx0XHRcdFx0XHRkYi5mb3Jtcy51cGRhdGUoe19pZDogZm9ybS5faWR9LCB7JHNldDoge1wic3RhdGVcIjogXCJlbmFibGVkXCIsIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWR9fSlcblxuXHRcdFx0XHRmbG93LmN1cnJlbnQubW9kaWZpZWQgPSBub3dcblx0XHRcdFx0Zmxvdy5jdXJyZW50LnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0Zmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5ID0gX3VzZXJJZFxuXG5cdFx0XHRcdGRiLmZsb3dzLnVwZGF0ZSh7IF9pZDogZmxvdy5faWQgfSwgeyAkc2V0OiB7IFwic3RhdGVcIjogXCJlbmFibGVkXCIsIFwiY3VycmVudFwiOiBmbG93LmN1cnJlbnQgfSB9KVxuXG5cdFx0XHRlbHNlXG5cdFx0XHRcdCPnpoHnlKjmtYHnqItcblx0XHRcdFx0ZGIuZmxvd3MudXBkYXRlKHtfaWQ6IGZsb3cuX2lkfSwgeyRzZXQ6IHtcInN0YXRlXCI6IFwiZGlzYWJsZWRcIiwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZH19KVxuXG5cdFx0XHRcdCMg5Yik5pat6KGo5Y2V5omA5pyJ5rWB56iL5piv5ZCm5bey57uP5YWo6YOo5YGc55SoIOWmguaenOW3suWFqOmDqOWBnOeUqCDliJnkv67mlLnooajljZXnirbmgIHkuLrlgZznlKhcblx0XHRcdFx0X2Zsb3dzID0gZGIuZmxvd3MuZmluZCh7IGZvcm06IGZvcm0uX2lkIH0sIHsgZmllbGRzOiB7IF9pZDogMSwgc3RhdGU6IDEgfSB9KS5mZXRjaCgpXG5cblx0XHRcdFx0X2Zsb3dzX3N0YXRlID0gX2Zsb3dzLmdldFByb3BlcnR5KFwic3RhdGVcIilcblxuXHRcdFx0XHRpZiAhX2Zsb3dzX3N0YXRlLmluY2x1ZGVzKCdlbmFibGVkJylcblx0XHRcdFx0XHRkYi5mb3Jtcy51cGRhdGUoe19pZDogZm9ybS5faWR9LCB7JHNldDoge1wic3RhdGVcIjogXCJkaXNhYmxlZFwiLCBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LCBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkfX0pXG5cblxuXG5cbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgY2hhbmdlX2Zsb3dfc3RhdGU6IGZ1bmN0aW9uKGZsb3dzKSB7XG4gICAgdmFyIF91c2VySWQ7XG4gICAgY2hlY2soZmxvd3MsIEFycmF5KTtcbiAgICBfdXNlcklkID0gdGhpcy51c2VySWQ7XG4gICAgaWYgKCFfdXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmbG93cy5mb3JFYWNoKGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgIHZhciBfZmxvd3MsIF9mbG93c19zdGF0ZSwgZmxvd0lkLCBmb3JtLCBmb3JtSWQsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSwgbm93LCBzcGFjZUlkLCBzdGF0ZTtcbiAgICAgIHNwYWNlSWQgPSBmbG93LnNwYWNlO1xuICAgICAgZm9ybUlkID0gZmxvdy5mb3JtO1xuICAgICAgZmxvd0lkID0gZmxvdy5pZDtcbiAgICAgIHN0YXRlID0gZmxvdy5zdGF0ZTtcbiAgICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgX3VzZXJJZCkpIHtcbiAgICAgICAgdGhyb3cgTWV0ZW9yLkVycm9yKDQwMSwgXCJObyBwZXJtaXNzaW9uXCIpO1xuICAgICAgfVxuICAgICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZvcm1JZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBoaXN0b3J5czogMFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93SWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgaGlzdG9yeXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoc3RhdGUgIT09ICdlbmFibGVkJyAmJiBzdGF0ZSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJzdGF0ZeaXoOaViFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZm9ybSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmb3Jt5peg5pWIXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbG93KSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZsb3fml6DmlYhcIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZvcm0uaXNfdmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL5byV55So55qE6KGo5Y2VW1wiICsgZm9ybS5uYW1lICsgXCJd6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l6KGo5Y2V6K6+572uXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbG93LmlzX3ZhbGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpea1geeoi+iuvue9rlwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghWyduZXcnLCAnbW9kaWZ5JywgJ2RlbGV0ZSddLmluY2x1ZGVzKGZsb3cuZmxvd3R5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jGZsb3d0eXBl5YC85b+F6aG75pivbmV344CBbW9kaWZ544CBZGVsZXRl5YW25Lit5LmL5LiAXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzQXJyYXkoZmxvdy5jdXJyZW50LnN0ZXBzKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzmtYHnqIvnmoTmraXpqqTkuI3og73kuLrnqbpcIik7XG4gICAgICB9XG4gICAgICBpZiAoXy51bmlxKGZsb3cuY3VycmVudC5zdGVwcywgJ25hbWUnKS5sZW5ndGggIT09IGZsb3cuY3VycmVudC5zdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5ZCM5LiA5Liq5rWB56iL5LiL55qE5q2l6aqk55qE5ZCN56ew5LiN6IO96YeN5aSNXCIpO1xuICAgICAgfVxuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpZiAoc3RhdGUgPT09ICdlbmFibGVkJykge1xuICAgICAgICBmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgICAgdmFyIHNwZWNpZnlTdGVwO1xuICAgICAgICAgIGlmIChbJ3NwZWNpZnlTdGVwVXNlcicsICdzcGVjaWZ5U3RlcFJvbGUnXS5pbmNsdWRlcyhzdGVwLmRlYWxfdHlwZSkpIHtcbiAgICAgICAgICAgIGlmICghc3RlcC5hcHByb3Zlcl9zdGVwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFtcIiArIHN0ZXAubmFtZSArIFwiXeS4reeahOaMh+WumuWOhuWPsuatpemqpOS4jeWtmOWcqOOAglwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNwZWNpZnlTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24oX3N0ZXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcC5hcHByb3Zlcl9zdGVwID09PSBfc3RlcC5faWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoIXNwZWNpZnlTdGVwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkW1wiICsgc3RlcC5uYW1lICsgXCJd5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlID0gZm9ybS5jdXJyZW50LmZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIik7XG4gICAgICAgIGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICByZXR1cm4gc3RlcC5maWVsZHNfbW9kaWZpYWJsZSA9IF8uaW50ZXJzZWN0aW9uKHN0ZXAuZmllbGRzX21vZGlmaWFibGUsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZm9ybS5zdGF0ZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgIGRiLmZvcm1zLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZvcm0uX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICBcInN0YXRlXCI6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZmxvdy5jdXJyZW50Lm1vZGlmaWVkID0gbm93O1xuICAgICAgICBmbG93LmN1cnJlbnQuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5ID0gX3VzZXJJZDtcbiAgICAgICAgcmV0dXJuIGRiLmZsb3dzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBmbG93Ll9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImVuYWJsZWRcIixcbiAgICAgICAgICAgIFwiY3VycmVudFwiOiBmbG93LmN1cnJlbnRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGIuZmxvd3MudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGZsb3cuX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBcInN0YXRlXCI6IFwiZGlzYWJsZWRcIixcbiAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csXG4gICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF9mbG93cyA9IGRiLmZsb3dzLmZpbmQoe1xuICAgICAgICAgIGZvcm06IGZvcm0uX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgIHN0YXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgICBfZmxvd3Nfc3RhdGUgPSBfZmxvd3MuZ2V0UHJvcGVydHkoXCJzdGF0ZVwiKTtcbiAgICAgICAgaWYgKCFfZmxvd3Nfc3RhdGUuaW5jbHVkZXMoJ2VuYWJsZWQnKSkge1xuICAgICAgICAgIHJldHVybiBkYi5mb3Jtcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmb3JtLl9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImRpc2FibGVkXCIsXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cblx0aGlkZV9pbnN0YW5jZTogKGluc0lkLCBpc19oaWRkZW4pIC0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGNoZWNrKGluc0lkLCBTdHJpbmcpXG5cdFx0Y2hlY2soaXNfaGlkZGVuLCBCb29sZWFuKVxuXG5cdFx0dXNlcklkID0gdGhpcy51c2VySWRcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHsgZmllbGRzOiB7IHN0YXRlOiAxLCBmbG93OiAxLCBzcGFjZTogMSB9IH0pXG5cblx0XHRpZiBub3QgaW5zdGFuY2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2VXCIpXG5cblx0XHRpZiBpbnN0YW5jZS5zdGF0ZSBpc250ICdjb21wbGV0ZWQnXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeKtuaAgeS4jeaYr+W3sue7k+adn1wiKVxuXG5cdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXG5cdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgdXNlcklkKVxuXHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXG5cdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKSlcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpXG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKGluc0lkLCB7ICRzZXQ6IHsgaXNfaGlkZGVuOiBpc19oaWRkZW4gfSB9KVxuXG5cdFx0cmV0dXJuIHRydWU7XG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIGhpZGVfaW5zdGFuY2U6IGZ1bmN0aW9uKGluc0lkLCBpc19oaWRkZW4pIHtcbiAgICB2YXIgaW5zdGFuY2UsIHBlcm1pc3Npb25zLCBzcGFjZSwgdXNlcklkO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hlY2soaW5zSWQsIFN0cmluZyk7XG4gICAgY2hlY2soaXNfaGlkZGVuLCBCb29sZWFuKTtcbiAgICB1c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGZsb3c6IDEsXG4gICAgICAgIHNwYWNlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDnlLPor7fljZVcIik7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V54q25oCB5LiN5piv5bey57uT5p2fXCIpO1xuICAgIH1cbiAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCB1c2VySWQpO1xuICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBhZG1pbnM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIik7XG4gICAgfVxuICAgIGRiLmluc3RhbmNlcy51cGRhdGUoaW5zSWQsIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgaXNfaGlkZGVuOiBpc19oaWRkZW5cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRnZXRJbnN0YW5jZVZhbHVlczogKGluc0lkKS0+XG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcblx0XHRcdHJldHVybjtcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zSWR9LCB7ZmllbGRzOiB7dmFsdWVzOiAxfX0pPy52YWx1ZXMiLCJNZXRlb3IubWV0aG9kcyh7XG4gIGdldEluc3RhbmNlVmFsdWVzOiBmdW5jdGlvbihpbnNJZCkge1xuICAgIHZhciByZWY7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gKHJlZiA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdmFsdWVzOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwO1xuICB9XG59KTtcbiIsIkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKVxuXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gKHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKSAtPlxuXG5cdHVzZXIgPSBTdGVlZG9zLmdldEFQSUxvZ2luVXNlcihyZXEsIHJlcylcblxuXHRpZiByZXE/LnF1ZXJ5Py5hY2Nlc3NfdG9rZW5cblx0XHR1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKVxuXHRcdGlmIHVzZXJJZFxuXHRcdFx0dXNlciA9IE1ldGVvci51c2Vycy5maW5kT25lKHtfaWQ6IHVzZXJJZH0pXG5cblx0c3BhY2VJZCA9IHJlcS5wYXJhbXMuc3BhY2VcblxuXHRpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZFxuXG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pO1xuXG5cdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe19pZDogc3BhY2VJZH0pO1xuXG5cdGhpZGVfdHJhY2VzID0gcmVxLnF1ZXJ5Py5oaWRlX3RyYWNlc1xuXG5cdGlmICFvcHRpb25zXG5cdFx0b3B0aW9ucyA9IHtzaG93VHJhY2U6IHRydWV9XG5cdGVsc2Vcblx0XHRvcHRpb25zLnNob3dUcmFjZSA9IHRydWVcblxuXHRpZiBoaWRlX3RyYWNlcyBpcyBcIjFcIlxuXHRcdGlmIG9wdGlvbnNcblx0XHRcdG9wdGlvbnMuc2hvd1RyYWNlID0gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRvcHRpb25zID0ge3Nob3dUcmFjZTogZmFsc2V9XG5cblx0aWYgIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzXG5cdFx0b3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlXG5cblx0aWYgIXNwYWNlXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGlmICAhaW5zdGFuY2Vcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBpbnN0YW5jZVwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRyZXR1cm47XG5cblx0aWYgIXVzZXJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRpZiBpbnN0YW5jZS5zcGFjZSAhPSBzcGFjZUlkXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cblxuXHRzcGFjZVVzZXJDb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyB1c2VyOiB1c2VyLl9pZCwgc3BhY2U6IHNwYWNlSWQgfSkuY291bnQoKVxuXG5cdGlmIHNwYWNlVXNlckNvdW50IGlzIDBcblx0XHRpZiAhc3BhY2Vcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxuXHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0cmV0dXJuO1xuXG5cdCPmoKHpqox1c2Vy5piv5ZCm5a+5aW5zdGFuY2XmnInmn6XnnIvmnYPpmZBcblx0X2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSlcblxuXHRpZiAhX2hhc1Blcm1pc3Npb24gICYmIGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZVxuXHRcdF9wYXJlbnRfaW5zdGFuY2VzID0gXy51bmlvbihbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlXSwgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyB8fCBbXSlcblxuXHRcdF9oYXNQZXJtaXNzaW9uID0gXy5maW5kIF9wYXJlbnRfaW5zdGFuY2VzLCAoX3BhcmVudF9pZCktPlxuXHRcdFx0X3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOl9wYXJlbnRfaWR9LCB7ZmllbGRzOiB7dHJhY2VzOiAwfX0pXG5cblx0XHRcdHJldHVybiBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBfcGFyZW50X2lucylcblxuXHRpZiAhX2hhc1Blcm1pc3Npb25cblx0XHRfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpXG5cdFx0ZXJyb3IgPSBUQVBpMThuLl9fKFwiaW5zdGFuY2VfcGVybWlzc2lvbnNfZXJyb3JcIiwge30sIF9sb2NhbGUpXG5cdFx0cmVzLmNoYXJzZXQgPSBcInV0Zi04XCJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBlcnJvcixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbCk7XG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgZGF0YUJ1Zi5sZW5ndGgpXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXG5cdHJlcy5lbmQoaHRtbClcblxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkXCIsIGdldEluc3RhbmNlUmVhZE9ubHlcblxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkLzppbnN0YW5jZV9uYW1lXCIsIChyZXEsIHJlcywgbmV4dCktPlxuXHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG5cdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nK2VuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcblx0cmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJylcblxuXHRvcHRpb25zID0ge2Fic29sdXRlOiB0cnVlfVxuXG5cdHJldHVybiBnZXRJbnN0YW5jZVJlYWRPbmx5KHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKVxuIyMjXG5cdOiOt+WPlueUs+ivt+WNleWIl+ihqO+8mlxuICAgIGZpbmFsX2RlY2lzaW9u77ya5a6h5om557uT5p6cXG4gICAgc3RhdGU6IOeUs+ivt+WNleeKtuaAgVxuIyMjXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5zdGFuY2VzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdHJldHVybiA7XG5cblx0dXNlcl9pZCA9IHJlcS51c2VySWRcblxuXHRzcGFjZUlkID0gcmVxLmhlYWRlcnNbXCJ4LXNwYWNlLWlkXCJdXG5cblx0aWYgbm90IHNwYWNlSWRcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRmbG93SWQgPSByZXEucXVlcnk/LmZsb3dJZFxuXG5cdGlmICFmbG93SWRcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAwLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBmbG93SWRcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdHF1ZXJ5ID0ge31cblxuXHRyZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG5cblx0Zmxvd0lkcyA9IGZsb3dJZC5zcGxpdChcIixcIilcblxuXG5cdGZsb3dzID0gZGIuZmxvd3MuZmluZCh7X2lkOiB7JGluOiBmbG93SWRzfX0pLmZldGNoKClcblxuXHRpID0gMFxuXHR3aGlsZSBpIDwgZmxvd3MubGVuZ3RoXG5cdFx0ZiA9IGZsb3dzW2ldXG5cdFx0c3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7c3BhY2U6IGYuc3BhY2UsIHVzZXI6IHVzZXJfaWR9KVxuXHRcdGlmICFzcGFjZVVzZXJcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXG5cdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHRyZXR1cm47XG5cdFx0ZWxzZVxuXG5cdCNcdOaYr+WQpuW3peS9nOWMuueuoeeQhuWRmFxuXHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCB1c2VyX2lkKVxuXHRcdFx0c3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG5cdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdCRpbjogc3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcblx0XHRcdFx0fVxuXHRcdFx0fSkuZmV0Y2goKTtcblxuXHRcdFx0aWYgIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0XHRcdGRhdGE6XG5cdFx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXG5cdFx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdFx0cmV0dXJuO1xuXHRcdGkrK1xuXG5cblx0cXVlcnkuZmxvdyA9IHskaW46IGZsb3dJZHN9XG5cblx0cXVlcnkuc3BhY2UgPSBzcGFjZUlkXG5cblx0aWYgcmVxLnF1ZXJ5Py5zeW5jX3Rva2VuXG5cdFx0c3luY190b2tlbiA9IG5ldyBEYXRlKE51bWJlcihyZXEucXVlcnkuc3luY190b2tlbikpXG5cdFx0cXVlcnkubW9kaWZpZWQgPSB7JGd0OiBzeW5jX3Rva2VufVxuXG5cdGlmIHJlcS5xdWVyeT8uZmluYWxfZGVjaXNpb25cblx0XHRxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHskaW4gOiByZXEucXVlcnkuZmluYWxfZGVjaXNpb24uc3BsaXQoXCIsXCIpfVxuXHRlbHNlXG5cdFx0cXVlcnkuZmluYWxfZGVjaXNpb24gPSB7JG5pbjogW1widGVybWluYXRlZFwiLCBcInJlamVjdGVkXCJdfVxuXG5cdGlmIHJlcS5xdWVyeT8uc3RhdGVcblx0XHRxdWVyeS5zdGF0ZSA9IHskaW46IHJlcS5xdWVyeS5zdGF0ZS5zcGxpdChcIixcIil9XG5cdGVsc2Vcblx0XHRxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCJcblxuI1x05pyA5aSa6L+U5ZueNTAw5p2h5pWw5o2uXG5cdGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgdHJhY2VzOiAwLCBhdHRhY2htZW50czogMH0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5mZXRjaCgpXG5cdGluc3RhbmNlcy5mb3JFYWNoIChpbnN0YW5jZSktPlxuXG5cdFx0YXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxuXG5cdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBhdHRhY2htZW50c1xuXG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFx0XHRcInN5bmNfdG9rZW5cIjogcmV0X3N5bmNfdG9rZW5cblx0XHRcdFx0XCJkYXRhXCI6IGluc3RhbmNlc1xuXHRyZXR1cm47XG4iLCJ2YXIgQ29va2llcywgZ2V0SW5zdGFuY2VSZWFkT25seTtcblxuQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpO1xuXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpIHtcbiAgdmFyIF9oYXNQZXJtaXNzaW9uLCBfbG9jYWxlLCBfcGFyZW50X2luc3RhbmNlcywgZGF0YUJ1ZiwgZXJyb3IsIGhpZGVfdHJhY2VzLCBodG1sLCBpbnN0YW5jZSwgaW5zdGFuY2VJZCwgcmVmLCByZWYxLCBzcGFjZSwgc3BhY2VJZCwgc3BhY2VVc2VyQ291bnQsIHVzZXIsIHVzZXJJZDtcbiAgdXNlciA9IFN0ZWVkb3MuZ2V0QVBJTG9naW5Vc2VyKHJlcSwgcmVzKTtcbiAgaWYgKHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5hY2Nlc3NfdG9rZW4gOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICB1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKTtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICB1c2VyID0gTWV0ZW9yLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHVzZXJJZFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZDtcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pO1xuICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICBfaWQ6IHNwYWNlSWRcbiAgfSk7XG4gIGhpZGVfdHJhY2VzID0gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmhpZGVfdHJhY2VzIDogdm9pZCAwO1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgc2hvd1RyYWNlOiB0cnVlXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLnNob3dUcmFjZSA9IHRydWU7XG4gIH1cbiAgaWYgKGhpZGVfdHJhY2VzID09PSBcIjFcIikge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICBvcHRpb25zLnNob3dUcmFjZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBzaG93VHJhY2U6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBpZiAoIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzKSB7XG4gICAgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlO1xuICB9XG4gIGlmICghc3BhY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghdXNlcikge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5zdGFuY2Uuc3BhY2UgIT09IHNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNwYWNlVXNlckNvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgdXNlcjogdXNlci5faWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSkuY291bnQoKTtcbiAgaWYgKHNwYWNlVXNlckNvdW50ID09PSAwKSB7XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgX2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSk7XG4gIGlmICghX2hhc1Blcm1pc3Npb24gJiYgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XG4gICAgX3BhcmVudF9pbnN0YW5jZXMgPSBfLnVuaW9uKFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VdLCBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIHx8IFtdKTtcbiAgICBfaGFzUGVybWlzc2lvbiA9IF8uZmluZChfcGFyZW50X2luc3RhbmNlcywgZnVuY3Rpb24oX3BhcmVudF9pZCkge1xuICAgICAgdmFyIF9wYXJlbnRfaW5zO1xuICAgICAgX3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogX3BhcmVudF9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0cmFjZXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgX3BhcmVudF9pbnMpO1xuICAgIH0pO1xuICB9XG4gIGlmICghX2hhc1Blcm1pc3Npb24pIHtcbiAgICBfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpO1xuICAgIGVycm9yID0gVEFQaTE4bi5fXyhcImluc3RhbmNlX3Blcm1pc3Npb25zX2Vycm9yXCIsIHt9LCBfbG9jYWxlKTtcbiAgICByZXMuY2hhcnNldCA9IFwidXRmLThcIjtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogZXJyb3IsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtXCIgKyAoZGF0YUJ1Zi5sZW5ndGggLSAxKSArIFwiL1wiICsgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgcmV0dXJuIHJlcy5lbmQoaHRtbCk7XG59O1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWRcIiwgZ2V0SW5zdGFuY2VSZWFkT25seSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZC86aW5zdGFuY2VfbmFtZVwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgb3B0aW9ucztcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JyArIGVuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcbiAgcmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJyk7XG4gIG9wdGlvbnMgPSB7XG4gICAgYWJzb2x1dGU6IHRydWVcbiAgfTtcbiAgcmV0dXJuIGdldEluc3RhbmNlUmVhZE9ubHkocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpO1xufSk7XG5cblxuLypcblx06I635Y+W55Sz6K+35Y2V5YiX6KGo77yaXG4gICAgZmluYWxfZGVjaXNpb27vvJrlrqHmibnnu5PmnpxcbiAgICBzdGF0ZTog55Sz6K+35Y2V54q25oCBXG4gKi9cblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L2luc3RhbmNlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZiwgZmxvd0lkLCBmbG93SWRzLCBmbG93cywgaSwgaW5zdGFuY2VzLCBxdWVyeSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZXRfc3luY190b2tlbiwgc3BhY2VJZCwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zLCBzeW5jX3Rva2VuLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHNwYWNlSWQgPSByZXEuaGVhZGVyc1tcIngtc3BhY2UtaWRcIl07XG4gIGlmICghc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBmbG93SWQgPSAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmZsb3dJZCA6IHZvaWQgMDtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgZmxvd0lkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBxdWVyeSA9IHt9O1xuICByZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBmbG93SWRzID0gZmxvd0lkLnNwbGl0KFwiLFwiKTtcbiAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogZmxvd0lkc1xuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgaSA9IDA7XG4gIHdoaWxlIChpIDwgZmxvd3MubGVuZ3RoKSB7XG4gICAgZiA9IGZsb3dzW2ldO1xuICAgIHNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IGYuc3BhY2UsXG4gICAgICB1c2VyOiB1c2VyX2lkXG4gICAgfSk7XG4gICAgaWYgKCFzcGFjZVVzZXIpIHtcbiAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogNDAxLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuXG4gICAgfVxuICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgdXNlcl9pZCkpIHtcbiAgICAgIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IHNwYWNlVXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAoIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpKys7XG4gIH1cbiAgcXVlcnkuZmxvdyA9IHtcbiAgICAkaW46IGZsb3dJZHNcbiAgfTtcbiAgcXVlcnkuc3BhY2UgPSBzcGFjZUlkO1xuICBpZiAoKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLnN5bmNfdG9rZW4gOiB2b2lkIDApIHtcbiAgICBzeW5jX3Rva2VuID0gbmV3IERhdGUoTnVtYmVyKHJlcS5xdWVyeS5zeW5jX3Rva2VuKSk7XG4gICAgcXVlcnkubW9kaWZpZWQgPSB7XG4gICAgICAkZ3Q6IHN5bmNfdG9rZW5cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuZmluYWxfZGVjaXNpb24gOiB2b2lkIDApIHtcbiAgICBxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LmZpbmFsX2RlY2lzaW9uLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuZmluYWxfZGVjaXNpb24gPSB7XG4gICAgICAkbmluOiBbXCJ0ZXJtaW5hdGVkXCIsIFwicmVqZWN0ZWRcIl1cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuc3RhdGUgOiB2b2lkIDApIHtcbiAgICBxdWVyeS5zdGF0ZSA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LnN0YXRlLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICB9XG4gIGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBpbmJveF91ZXJzOiAwLFxuICAgICAgY2NfdXNlcnM6IDAsXG4gICAgICBvdXRib3hfdXNlcnM6IDAsXG4gICAgICB0cmFjZXM6IDAsXG4gICAgICBhdHRhY2htZW50czogMFxuICAgIH0sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogNTAwXG4gIH0pLmZldGNoKCk7XG4gIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIGF0dGFjaG1lbnRzO1xuICAgIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCxcbiAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICRuZTogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjb3BpZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJldHVybiBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzO1xuICB9KTtcbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICAgIFwic3luY190b2tlblwiOiByZXRfc3luY190b2tlbixcbiAgICAgIFwiZGF0YVwiOiBpbnN0YW5jZXNcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL3N0ZWVkb3MtY3NzXCIsIChyZXEsIHJlcywgbmV4dCktPlxuXG5cdGFsbENzcyA9IFdlYkFwcC5nZXRSZWZyZXNoYWJsZUFzc2V0cygpXG5cblx0YWxsQ3NzTGluayA9IFwiXCJcblxuXHRhbGxDc3MuZm9yRWFjaCAoY3NzKSAtPlxuXHRcdGlmIF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVhcblx0XHRcdHJvb3RVcmwgPSBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMXG5cdFx0XHRpZiByb290VXJsLmVuZHNXaXRoKFwiL1wiKVxuXHRcdFx0XHRjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggKyBcIi9cIiwgXCJcIikgKyBjc3MudXJsXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGNzc0hyZWYgPSByb290VXJsLnJlcGxhY2UoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCwgXCJcIikgKyBjc3MudXJsXG5cdFx0ZWxzZVxuXHRcdFx0Y3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChjc3MudXJsKVxuXHRcdGFsbENzc0xpbmsgKz0gXCJAaW1wb3J0IHVybCgje2Nzc0hyZWZ9KTtcIlxuXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXG5cdHJlcy5lbmQoYWxsQ3NzTGluaykiLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9zdGVlZG9zLWNzc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYWxsQ3NzLCBhbGxDc3NMaW5rO1xuICBhbGxDc3MgPSBXZWJBcHAuZ2V0UmVmcmVzaGFibGVBc3NldHMoKTtcbiAgYWxsQ3NzTGluayA9IFwiXCI7XG4gIGFsbENzcy5mb3JFYWNoKGZ1bmN0aW9uKGNzcykge1xuICAgIHZhciBjc3NIcmVmLCByb290VXJsO1xuICAgIGlmIChfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYKSB7XG4gICAgICByb290VXJsID0gX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTDtcbiAgICAgIGlmIChyb290VXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICBjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggKyBcIi9cIiwgXCJcIikgKyBjc3MudXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3NzSHJlZiA9IHJvb3RVcmwucmVwbGFjZShfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYLCBcIlwiKSArIGNzcy51cmw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzc0hyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoY3NzLnVybCk7XG4gICAgfVxuICAgIHJldHVybiBhbGxDc3NMaW5rICs9IFwiQGltcG9ydCB1cmwoXCIgKyBjc3NIcmVmICsgXCIpO1wiO1xuICB9KTtcbiAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7XG4gIHJldHVybiByZXMuZW5kKGFsbENzc0xpbmspO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdHJldHVyblxuXG5cdHVzZXJfaWQgPSByZXEudXNlcklkXG5cblx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHVzZXJfaWQgfSlcblxuXHRzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZVxuXG5cdGZsb3dJZCA9IHJlcS5wYXJhbXMuZmxvd1xuXG5cdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IHNwYWNlSWQgfSlcblxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd0lkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsICdjdXJyZW50Ll9pZCc6IDEsIGZvcm06IDEgfSB9KVxuXG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuX2lkJzogMSB9IH0pXG5cblx0b3B0aW9ucyA9IHtcblx0XHRzaG93VHJhY2U6IGZhbHNlLFxuXHRcdHNob3dBdHRhY2htZW50czogZmFsc2UsXG5cdFx0dGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcblx0XHRlZGl0YWJsZTogdHJ1ZSxcblx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0aW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxuXHRcdHBsdWdpbnM6IFwiXCJcIlxuXG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwiWC1VQS1Db21wYXRpYmxlXCIgY29udGVudD1cIklFPWVkZ2UsY2hyb21lPTFcIiAvPlxuXHRcdFx0PG1ldGEgbmFtZT1cImZvcm1hdC1kZXRlY3Rpb25cIiBjb250ZW50PVwidGVsZXBob25lPW5vXCI+XG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwieC1yaW0tYXV0by1tYXRjaFwiIGNvbnRlbnQ9XCJub25lXCI+XG5cdFx0XHQ8dGl0bGU+I3tmbG93Lm5hbWV9PC90aXRsZT5cblx0XHRcdDxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxuXHRcdFx0PG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aFwiIC8+XG5cblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1wiPlxuXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9sb2NhbGVzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci56aC1DTi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBjaGFyc2V0PVwiVVRGLThcIj48L3NjcmlwdD5cblxuXHRcdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCIvcGx1Z2lucy90b2FzdHIvdG9hc3RyLm1pbi5jc3NcIj5cblx0XHRcdDxzY3JpcHQgc3JjPVwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXCI+XG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9qcy93b3JrZmxvd19jbGllbnQuanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XCJcIlwiXG5cdH1cblxuXHRpbnN0YW5jZSA9IHtcblx0XHRmbG93OiBmbG93Ll9pZCxcblx0XHRmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXG5cdFx0Zm9ybTogZm9ybS5faWQsXG5cdFx0Zm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxuXHRcdHZhbHVlczoge30sXG5cdFx0bmFtZTogZmxvdy5uYW1lLFxuXHRcdHNwYWNlOiBzcGFjZUlkXG5cdH1cblxuXHRodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXG5cblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbClcblxuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKVxuXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXG5cblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcblxuXHRyZXMuZW5kKGh0bWwpXG4iLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGRhdGFCdWYsIGZsb3csIGZsb3dJZCwgZm9ybSwgaHRtbCwgaW5zdGFuY2UsIG9wdGlvbnMsIHNwYWNlLCBzcGFjZUlkLCB1c2VyLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICBfaWQ6IHVzZXJfaWRcbiAgfSk7XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBmbG93SWQgPSByZXEucGFyYW1zLmZsb3c7XG4gIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogc3BhY2VJZFxuICB9KTtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgIF9pZDogZmxvd0lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICAnY3VycmVudC5faWQnOiAxLFxuICAgICAgZm9ybTogMVxuICAgIH1cbiAgfSk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICBfaWQ6IGZsb3cuZm9ybVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICAnY3VycmVudC5faWQnOiAxXG4gICAgfVxuICB9KTtcbiAgb3B0aW9ucyA9IHtcbiAgICBzaG93VHJhY2U6IGZhbHNlLFxuICAgIHNob3dBdHRhY2htZW50czogZmFsc2UsXG4gICAgdGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcbiAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgaW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxuICAgIHBsdWdpbnM6IFwiXFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwiWC1VQS1Db21wYXRpYmxlXFxcIiBjb250ZW50PVxcXCJJRT1lZGdlLGNocm9tZT0xXFxcIiAvPlxcbjxtZXRhIG5hbWU9XFxcImZvcm1hdC1kZXRlY3Rpb25cXFwiIGNvbnRlbnQ9XFxcInRlbGVwaG9uZT1ub1xcXCI+XFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwieC1yaW0tYXV0by1tYXRjaFxcXCIgY29udGVudD1cXFwibm9uZVxcXCI+XFxuPHRpdGxlPlwiICsgZmxvdy5uYW1lICsgXCI8L3RpdGxlPlxcbjxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxcbjxtZXRhIG5hbWU9XFxcInZpZXdwb3J0XFxcIiBjb250ZW50PVxcXCJ3aWR0aD1kZXZpY2Utd2lkdGhcXFwiIC8+XFxuXFxuPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1xcXCI+XFxuXFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcblxcbjxzY3JpcHQgc3JjPVxcXCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvbG9jYWxlcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIuemgtQ04uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCIgY2hhcnNldD1cXFwiVVRGLThcXFwiPjwvc2NyaXB0PlxcblxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmNzc1xcXCI+XFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXFxcIj5cXG48c2NyaXB0IHNyYz1cXFwiL2pzL3dvcmtmbG93X2NsaWVudC5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cIlxuICB9O1xuICBpbnN0YW5jZSA9IHtcbiAgICBmbG93OiBmbG93Ll9pZCxcbiAgICBmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXG4gICAgZm9ybTogZm9ybS5faWQsXG4gICAgZm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxuICAgIHZhbHVlczoge30sXG4gICAgbmFtZTogZmxvdy5uYW1lLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC1cIiArIChkYXRhQnVmLmxlbmd0aCAtIDEpICsgXCIvXCIgKyBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICByZXR1cm4gcmVzLmVuZChodG1sKTtcbn0pO1xuIiwiQXJyYXkucHJvdG90eXBlLmZpbHRlclByb3BlcnR5ID0gZnVuY3Rpb24oaCwgbCl7XG4gICAgdmFyIGcgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7XG4gICAgICAgIHZhciBtID0gdD8gdFtoXTpudWxsO1xuICAgICAgICB2YXIgZCA9IGZhbHNlO1xuICAgICAgICBpZihtIGluc3RhbmNlb2YgQXJyYXkpe1xuICAgICAgICAgICAgZCA9IG0uaW5jbHVkZXMobCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZCA9IChsID09PSB1bmRlZmluZWQpPyBmYWxzZTptPT1sO1xuICAgICAgICB9XG4gICAgICAgIGlmKGQpe1xuICAgICAgICAgICAgZy5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGc7XG59O1xuXG5BcnJheS5wcm90b3R5cGUuZ2V0UHJvcGVydHkgPSBmdW5jdGlvbihrKXtcbiAgICB2YXIgdiA9IG5ldyBBcnJheSgpO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtcbiAgICAgICAgdmFyIG0gPSB0PyB0W2tdOm51bGw7XG4gICAgICAgIHYucHVzaChtKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdjtcbn1cblxuQXJyYXkucHJvdG90eXBlLmdldEVhY2ggPSBmdW5jdGlvbihjb2RlKXtcbiAgICB2YXIgcmV2ID0gW107XG4gICAgZm9yKHZhciBpID0gMCA7IGkgPCB0aGlzLmxlbmd0aCA7IGkrKyl7XG4gICAgICAgIHJldi5wdXNoKHRoaXNbaV1bY29kZV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmV2O1xufTtcblxuQXJyYXkucHJvdG90eXBlLnVuaXEgPSBmdW5jdGlvbigpe1xuICAgIHZhciBhID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGIpeyBcbiAgICAgICAgaWYoYS5pbmRleE9mKGIpIDwgMClcbiAgICAgICAgICAgIHthW2EubGVuZ3RoXSA9IGJ9XG4gICAgfSk7XG4gICAgcmV0dXJuIGE7XG59O1xuXG5Gb3JtX2Zvcm11bGEgPSB7fTtcblxuXG5Gb3JtX2Zvcm11bGEubWl4aW4gPSBmdW5jdGlvbihkZXN0LCBzcmMpe1xuICAgIGZvcih2YXIga2V5IGluIHNyYyl7XG4gICAgICAgIGRlc3Rba2V5XSA9IHNyY1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn07XG5cblxuRm9ybV9mb3JtdWxhLmhhbmRlclVzZXJPYmplY3QgPSBmdW5jdGlvbih1KXtcblxuICAgIGlmKHUgaW5zdGFuY2VvZiBBcnJheSl7XG4gICAgICAgIHZhciB1c2VyID0ge307XG5cbiAgICAgICAgdXNlci5uYW1lID0gdS5nZXRQcm9wZXJ0eShcIm5hbWVcIilcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24gPSB7fTtcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24ubmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJvcmdhbml6YXRpb25cIikuZ2V0UHJvcGVydHkoXCJuYW1lXCIpO1xuICAgICAgICB1c2VyLm9yZ2FuaXphdGlvbi5mdWxsbmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJvcmdhbml6YXRpb25cIikuZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcblxuICAgICAgICB1c2VyLmhyID0gdS5nZXRQcm9wZXJ0eShcImhyXCIpXG5cbiAgICAgICAgdXNlci5zb3J0X25vID0gdS5nZXRQcm9wZXJ0eShcInNvcnRfbm9cIilcblxuXHRcdHVzZXIubW9iaWxlID0gdS5nZXRQcm9wZXJ0eShcIm1vYmlsZVwiKVxuXG5cdFx0dXNlci53b3JrX3Bob25lID0gdS5nZXRQcm9wZXJ0eShcIndvcmtfcGhvbmVcIilcblxuXHRcdHVzZXIucG9zaXRpb24gPSB1LmdldFByb3BlcnR5KFwicG9zaXRpb25cIilcblxuICAgICAgICB2YXIgdXNlclJvbGVzID0gdS5nZXRQcm9wZXJ0eShcInJvbGVzXCIpO1xuICAgICAgICB2YXIgcm9sZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdXNlclJvbGVzLmZvckVhY2goZnVuY3Rpb24oaSl7XG4gICAgICAgICAgICByb2xlcyA9IHJvbGVzLmNvbmNhdChpKTtcbiAgICAgICAgfSk7IFxuICAgICAgICByb2xlcy51bmlxKCk7XG4gICAgICAgIHVzZXIucm9sZXMgPSByb2xlcztcbiAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB1O1xuICAgIH1cbn1cblxuRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdCA9IGZ1bmN0aW9uKG8pe1xuXG4gICAgaWYobyBpbnN0YW5jZW9mIEFycmF5KXtcbiAgICAgICAgdmFyIG9yZyA9IHt9O1xuXHRcdG9yZy5pZCA9IG8uZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICAgIG9yZy5uYW1lID0gby5nZXRQcm9wZXJ0eShcIm5hbWVcIik7XG4gICAgICAgIG9yZy5mdWxsbmFtZSA9IG8uZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcblxuICAgICAgICByZXR1cm4gb3JnO1xuICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gbztcbiAgICB9XG59XG5cblxuXG4vKipcbiAgICAqIOiOt+W+l+WFrOW8j+mcgOimgeeUqOWIsOeahOWIneWni+WAvFxuICAgICog6L6T5YWl77yaZmllbGRzLCB2YWx1ZXMsIGFwcGxpY2FudFxuICAgICog6L6T5Ye677yaX192YWx1ZXNcbioqL1xuRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXMgPSBmdW5jdGlvbihmaWVsZHMsIGF1dG9Gb3JtRG9jLCBhcHByb3ZlciwgYXBwbGljYW50LCBzcGFjZUlkKXtcbiAgICB2YXIgX192YWx1ZXMgPSB7fTtcbiAgICAvL+eUs+ivt+WNleS4reWhq+eahOWAvOWkhOeQhlxuICAgIGlmKGZpZWxkcyAmJiBmaWVsZHMubGVuZ3RoICYmIGF1dG9Gb3JtRG9jKSB7XG4gICAgICAgIC8vZGVidWdnZXI7XG4gICAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKXtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZmllbGQudHlwZTtcbiAgICAgICAgICAgIGlmKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZih0eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICog5bCG6KGo5qC85a2X5q6155qE5YC86L+b6KGM6L2s5o2i5ZCO5Lyg5YWlX192YWx1ZXPkuK1cbiAgICAgICAgICAgICAgICAgICAgKiB2YWx1ZXPkuK3ooajmoLznmoTlgLzmoLzlvI/kuLpcbiAgICAgICAgICAgICAgICAgICAgKiBbe1wiYVwiOjEsXCJiXCI6NH0se1wiYVwiOjIsXCJiXCI6NX0se1wiYVwiOjMsXCJiXCI6Nn1dXG4gICAgICAgICAgICAgICAgICAgICogX192YWx1ZXPpnIDopoHovazljJbkuLrkuIvpnaLmoLzlvI/kuJTlkozkuLvooajnmoTlgLzkuIDmoLfmlL7liLDnrKzkuIDlsYJcbiAgICAgICAgICAgICAgICAgICAgKiB7XCJhXCI6WzEsMiwzXSxcImJcIjpbNCw1LDZdfVxuICAgICAgICAgICAgICAgICAgICAqKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlRmllbGRzID0gZmllbGQuc2ZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzID0gYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtdWxhVGFibGVWYWx1ZXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fdGFibGVWYWx1ZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgLy/mjInlhazlvI/nmoTmoLzlvI/ovazmjaLlgLzkuLpfX3RhYmxlVmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlmKHRhYmxlRmllbGRzICYmIHRhYmxlRmllbGRzLmxlbmd0aCAmJiB0YWJsZVZhbHVlcyAmJiB0YWJsZVZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHRhYmxlVmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm11bGFUYWJsZVZhbHVlcy5wdXNoKEZvcm1fZm9ybXVsYS5pbml0X2Zvcm11bGFfdmFsdWVzKHRhYmxlRmllbGRzLCB0YWJsZVZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5oyJ5Li76KGo55qE5qC85byP6L2s5o2iX190YWJsZVZhbHVlc+WKoOWIsFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVGaWVsZHMuZm9yRWFjaChmdW5jdGlvbih0YWJsZWZpZWxkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3RhYmxlVmFsdWVzW3RhYmxlZmllbGQuY29kZV0gPSBmb3JtdWxhVGFibGVWYWx1ZXMuZ2V0RWFjaCh0YWJsZWZpZWxkLmNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlcyA9IEZvcm1fZm9ybXVsYS5taXhpbihfX3ZhbHVlcywgX190YWJsZVZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3VzZXInKXtcbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBGb3JtX2Zvcm11bGEuaGFuZGVyVXNlck9iamVjdChXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3RzKHNwYWNlSWQsIGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdKSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2dyb3VwJyl7XG4gICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdChXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYU9yZ09iamVjdHMoYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0pKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnb2RhdGEnKXtcblx0XHRcdFx0XHRfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdIHx8IHt9XG5cblx0XHRcdFx0fSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy/mraTlpITkvKBzcGFjZUlk57uZ6YCJ5Lq65o6n5Lu255qE5pen5pWw5o2u6K6h566Xcm9sZXPlkoxvcmdhbml6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgICAvL+W9k+WJjeWkhOeQhuS6ulxuICAgIF9fdmFsdWVzW1wiYXBwcm92ZXJcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwcm92ZXIpO1xuICAgIC8v55Sz6K+35Lq6XG4gICAgX192YWx1ZXNbXCJhcHBsaWNhbnRcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwbGljYW50KTtcblxuICAgIHJldHVybiBfX3ZhbHVlcztcbn07XG5cbiIsImdldEhhbmRsZXJzTWFuYWdlciA9IHt9XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyA9ICh1c2VyX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKHVzZXJfaWRzLCAodXNlcl9pZCktPlxuXHRcdGlmIGRiLnVzZXJzLmZpbmQoe19pZDogdXNlcl9pZH0pLmNvdW50KCkgPiAwXG5cdFx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZClcblx0XHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcblx0XHRcdFx0YXBwcm92ZV91c2VycyA9IGFwcHJvdmVfdXNlcnMuY29uY2F0KHVzZXJzKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwidXNlcl9pZOS4jeWQiOazleS4jeWQiOazlVwiKVxuXHQpXG5cdGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2Vycylcblx0cmV0dXJuIGFwcHJvdmVfdXNlcnNcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMgPSAodXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdF8uZWFjaChyb2xlX2lkcywgKHJvbGVfaWQpLT5cblx0XHRpZiBkYi5mbG93X3JvbGVzLmZpbmQoe19pZDogcm9sZV9pZH0pLmNvdW50KCkgPiAwXG5cdFx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXG5cdFx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXG5cdFx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwicm9sZV9pZOW3sue7j+iiq+WIoOmZpFwiKVxuXHQpXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCA+IDBcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRyZXR1cm4gdXNlcl9pZHNcblx0ZWxzZVxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2udXNlcl9pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpXG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUgPSAodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIC0+XG5cdG9yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXJzOiB1c2VyX2lkIH0sIHsgZmllbGRzOiB7IF9pZDogMSB9IH0pLmZldGNoKClcblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKG9yZ3MsIChvcmcpIC0+XG5cdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnLl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXG5cdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXG5cdClcblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdHJldHVybiB1c2VyX2lkc1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyA9IChvcmdfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpLT5cblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpLT5cblx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpXG5cdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXG5cdClcblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdHJldHVybiB1c2VyX2lkc1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzID0gKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdF8uZWFjaChyb2xlX2lkcywgKHJvbGVfaWQpLT5cblx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKVxuXHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcblx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxuXHQpXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCA+IDBcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRyZXR1cm4gdXNlcl9pZHNcblx0ZWxzZVxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2ub3JnX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIilcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlID0gKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIC0+XG5cdG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogb3JnX2lkIH0sIHsgZmllbGRzOiB7IHBhcmVudHM6IDEgfSB9KVxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBvcmc6IG9yZ19pZCwgcm9sZTogcm9sZV9pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcblx0Xy5lYWNoKHBvc2l0aW9ucywgKHBvc2l0aW9uKSAtPlxuXHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKVxuXHQpXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCBpcyAwXG5cdFx0cGFyZW50cyA9IG9yZy5wYXJlbnRzXG5cdFx0Xy5lYWNoKHBhcmVudHMsIChwYXJlbnRfaWQpIC0+XG5cdFx0XHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBvcmc6IHBhcmVudF9pZCwgcm9sZTogcm9sZV9pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcblx0XHRcdGlmIHBvc2l0aW9ucy5sZW5ndGggPiAwXG5cdFx0XHRcdF8uZWFjaChwb3NpdGlvbnMsIChwb3NpdGlvbikgLT5cblx0XHRcdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2Vycylcblx0XHRcdFx0KVxuXHRcdClcblxuXHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0cmV0dXJuIHVzZXJfaWRzXG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyA9IChpbnN0YW5jZV9pZCwgc3RlcF9pZCkgLT5cblx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZClcblxuXHQjIOaLn+eov+aXtiwg5Y+v5Lul6K6+5a6a5ZCO57ut5q+P5Liq5q2l6aqk55qE5aSE55CG5Lq6ICMxOTI2XG5cdGlmIGluc3RhbmNlLnN0ZXBfYXBwcm92ZSAmJiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbc3RlcF9pZF1cblx0XHRyZXR1cm4gaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWRdXG5cblx0YXBwcm92ZV91c2VycyA9IG5ldyBBcnJheVxuXHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93XG5cdGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uXG5cdGN1cnJlbnRfZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZClcblx0Y3VycmVudF9zdGVwID0gbnVsbFxuXHRjdXJyZW50X3N0ZXBzID0gbmV3IEFycmF5XG5cblx0aWYgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkIGlzIGZsb3dfcmV2XG5cdFx0Y3VycmVudF9zdGVwcyA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LnN0ZXBzXG5cdGVsc2Vcblx0XHRjdXJyZW50ID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGhpc3RvcnkpIC0+XG5cdFx0XHRyZXR1cm4gaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcblx0XHQpXG5cdFx0Y3VycmVudF9zdGVwcyA9IGN1cnJlbnQuc3RlcHNcblxuXHQjIOS7juiOt+WPlueahHN0ZXBz5Lit5qC55o2uOnN0ZXBfaWTmj5Dlj5blr7nlupTnmoRzdGVw5a+56LGhXG5cdGN1cnJlbnRfc3RlcCA9IF8uZmluZChjdXJyZW50X3N0ZXBzLCAoc3RlcCkgLT5cblx0XHRyZXR1cm4gc3RlcC5faWQgaXMgc3RlcF9pZFxuXHQpXG5cdCMg5Yik5patc3RlcF90eXBlXG5cdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb25kaXRpb25cIlxuXHRcdHVuZmluaXNoZWRfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpIC0+XG5cdFx0XHRyZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHQpXG5cblx0XHRyZXR1cm4gbmV3IEFycmF5KHVuZmluaXNoZWRfdHJhY2UuYXBwcm92ZXNbMF0udXNlcilcblxuXHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzIFwic3RhcnRcIlxuXHRcdGhhbmRsZXJzID0gbmV3IEFycmF5XG5cdFx0aGFuZGxlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpXG5cdFx0aGFuZGxlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpXG5cdFx0aGFuZGxlcnMgPSBfLnVuaXEoaGFuZGxlcnMpXG5cdFx0cmV0dXJuIGhhbmRsZXJzXG5cdCMg5b6X5Yiwc3RlcOeahFwiZGVhbF90eXBlXCLvvIzlubbov5vooYzpgLvovpHliKTmlq3mib7liLDlr7nlupTnmoTlpITnkIbkurpcblx0ZGVhbF90eXBlID0gY3VycmVudF9zdGVwLmRlYWxfdHlwZVxuXHR1c2VycyA9IG5ldyBBcnJheVxuXHRpZiBkZWFsX3R5cGUgaXMgXCJhcHBsaWNhbnRSb2xlXCJcblx0XHQjIDEuKioqKioqKioqKirnlLPor7fkurrmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudFxuXHRcdGlmIGFwcGxpY2FudFxuXHRcdFx0c3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcGxpY2FudCB9KS5jb3VudCgpXG5cdFx0XHRpZiBzcGFjZV91c2VyX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKVxuXG5cdFx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXG5cdFx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxuXHRcdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIilcblx0XHRcdFx0KVxuXG5cdFx0XHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhhcHBsaWNhbnQsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXG5cblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIkluc3RhbmNl55qE5o+Q5Lqk5Lq65Li656m6XCIpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwiaHJSb2xlXCJcblx0XHRhcHByb3ZlSHJSb2xlSWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX2hyX3JvbGVzO1xuXHRcdGlmIChhcHByb3ZlSHJSb2xlSWRzKVxuXHRcdFx0cmV0dXJuIF8ucGx1Y2soV29ya2Zsb3dNYW5hZ2VyLmdldEhyUm9sZXNVc2VycyhzcGFjZV9pZCwgYXBwcm92ZUhyUm9sZUlkcyksICd1c2VyJyk7XG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLmnKrmjIflrppcIilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJhcHBsaWNhbnRcIlxuXHRcdCMgMi4qKioqKioqKioqKueUs+ivt+S6uioqKioqKioqKioqXG5cdFx0YXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50XG5cdFx0c3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcGxpY2FudCB9KS5jb3VudCgpXG5cdFx0aWYgc3BhY2VfdXNlcl9jb3VudCBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIG5ldyBBcnJheShhcHBsaWNhbnQpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwib3JnRmllbGRSb2xlXCJcblx0XHQjIDMuKioqKioqKioqKirpg6jpl6jlrZfmrrXmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxuXHRcdGZvcm1fcmV2ID0gbnVsbFxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0KVxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cblxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxuXHRcdFx0KVxuXG5cdFx0YXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZFxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xuXHRcdGZpZWxkX2NvZGUgPSBudWxsXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCkgLT5cblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX29yZ19maWVsZFxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXG5cdFx0KVxuXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxuXHRcdG9yZ19pZHMgPSBuZXcgQXJyYXlcblx0XHRvcmdfaWRzX25hbWVzID0gbmV3IEFycmF5XG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRlbHNlXG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxuXG5cdFx0IyDmoKHpqoxvcmdfaWTmlbDnu4TkuK1vcmdfaWTmmK/lkKblkIjms5Vcblx0XHRfLmVhY2gob3JnX2lkc19uYW1lcywgKG9yZykgLT5cblx0XHRcdGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IF9pZDogb3JnW1wiaWRcIl0gfSkuY291bnQoKVxuXHRcdFx0aWYgY2hlY2tfb3JnX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dJROS4jeWQiOazlVwiKVxuXHRcdFx0b3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKVxuXHRcdClcblxuXHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcblx0XHRcdCMg5qOA5p+lYXBwcm92ZXJfcm9sZXPkuK1yb2xl5piv5ZCm5LiN5a2Y5Zyo5oiW5bey57uP6KKr5Yig6ZmkXG5cdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cblx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXG5cdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKVxuXHRcdFx0KVxuXHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzKG9yZ19pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJvcmdGaWVsZFwiXG5cdFx0IyA0LioqKioqKioqKioq6YOo6Zeo5a2X5q615omA5bGe57uE57uH5Lit55qE5Lq65ZGYKioqKioqKioqKipcblx0XHRmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm1cblx0XHRmb3JtX3JldiA9IG51bGxcblx0XHRpZiBmbG93X3JldiBpcyBjdXJyZW50X2Zsb3cuY3VycmVudC5faWRcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uXG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoY3VycmVudF9mbG93X2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcblx0XHRcdClcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uIGlmIGN1cnJlbnRfZmxvd192ZXJzaW9uXG5cblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKVxuXHRcdGN1cnJlbnRfZm9ybSA9IG51bGxcblx0XHRpZiBmb3JtX3JldiBpcyBmb3JtLmN1cnJlbnQuX2lkXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnRcblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgKGZvcm1faGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGZvcm1faGlzdG9yeS5faWQgaXMgZm9ybV9yZXZcblx0XHRcdClcblxuXHRcdGFwcHJvdmVyX29yZ19maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdfZmllbGRcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpLT5cblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX29yZ19maWVsZFxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXG5cdFx0KVxuXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxuXG5cdFx0b3JnX2lkcyA9IG5ldyBBcnJheVxuXHRcdG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXlcblx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcblx0XHRcdFx0b3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGVsc2Vcblx0XHRcdFx0b3JnX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXG5cblx0XHQjIOagoemqjG9yZ19pZOaVsOe7hOS4rW9yZ19pZOaYr+WQpuWQiOazlVxuXHRcdF8uZWFjaChvcmdfaWRzX25hbWVzLCAob3JnKSAtPlxuXHRcdFx0Y2hlY2tfb3JnX2NvdW50ID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgX2lkOiBvcmdbXCJpZFwiXSB9KS5jb3VudCgpXG5cdFx0XHRpZiBjaGVja19vcmdfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpXG5cdFx0XHRvcmdfaWRzLnB1c2gob3JnW1wiaWRcIl0pXG5cdFx0KVxuXG5cdFx0IyDmoKHpqoxvcmfkuIvlrZjlnKjlpITnkIbkurpcblx0XHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxuXHRcdFx0b3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiBvcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KVxuXHRcdFx0b3JnX2NoaWxkcmVuID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBwYXJlbnRzOiBvcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KS5mZXRjaCgpXG5cdFx0XHRvcmdfY2hpbGRyZW4udW5zaGlmdChvcmcpXG5cdFx0XHRjaGVja19vcmdzID0gb3JnX2NoaWxkcmVuXG5cdFx0XHRvcmdfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRcdF8uZWFjaChjaGVja19vcmdzLCAoY2hlY2tfb3JnX3VzZXIpIC0+XG5cdFx0XHRcdGlmIGNoZWNrX29yZ191c2VyLnVzZXJzXG5cdFx0XHRcdFx0Xy5lYWNoKGNoZWNrX29yZ191c2VyLnVzZXJzLCAob3JnX3VzZXIpIC0+XG5cdFx0XHRcdFx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBvcmdfdXNlciB9KS5jb3VudCgpIGlzIDBcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJzcGFjZeS4i+S4jeWtmOWcqOatpHVzZXJcIilcblx0XHRcdFx0XHQpXG5cdFx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KGNoZWNrX29yZ191c2VyLnVzZXJzKVxuXHRcdFx0XHRvcmdfdXNlcnMgPSBvcmdfdXNlcnMuY29uY2F0KGNoZWNrX29yZ191c2VyLnVzZXJzKVxuXHRcdFx0KVxuXG5cdFx0XHRpZiBvcmdfdXNlcnMubGVuZ3RoIGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dcIiArIG9yZ19pZCArIFwi5LiN5a2Y5Zyo5aSE55CG5Lq6XCIpXG5cblx0XHQpXG5cblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRyZXR1cm4gdXNlcl9pZHNcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJ1c2VyRmllbGRSb2xlXCJcblx0XHQjIDUuKioqKioqKioqKirkurrlkZjlrZfmrrXmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxuXHRcdGZvcm1fcmV2ID0gbnVsbFxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0KVxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cblxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxuXHRcdFx0KVxuXG5cdFx0YXBwcm92ZXJfdXNlcl9maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VyX2ZpZWxkXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKSAtPlxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfdXNlcl9maWVsZFxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXG5cdFx0KVxuXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxuXHRcdCMg6I635Y+WdXNlcl9pZOaVsOe7hFxuXHRcdHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5XG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXG5cblx0XHQjIOagoemqjHVzZXJfaWTmlbDnu4TkuK11c2VyX2lk5piv5ZCm5ZCI5rOVXG5cdFx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2godXNlcl9pZHNfbmFtZXMsICh1c2VyKSAtPlxuXHRcdFx0Y2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHVzZXJbXCJpZFwiXSB9KS5jb3VudCgpXG5cdFx0XHRpZiBjaGVja191c2VyX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKVxuXHRcdFx0dXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pXG5cdFx0KVxuXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzIGFuZCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMFxuXHRcdFx0IyDmo4Dmn6VhcHByb3Zlcl9yb2xlc+S4rXJvbGXmmK/lkKbkuI3lrZjlnKjmiJblt7Lnu4/ooqvliKDpmaRcblx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxuXHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcblx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpXG5cdFx0XHQpXG5cdFx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKHVzZXJfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwidXNlckZpZWxkXCJcblx0XHQjIDYuKioqKioqKioqKirooajljZXkurrlkZjlrZfmrrUqKioqKioqKioqKlxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxuXHRcdGZvcm1fcmV2ID0gbnVsbFxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0KVxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cblxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxuXHRcdFx0KVxuXG5cdFx0YXBwcm92ZXJfdXNlcl9maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VyX2ZpZWxkXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKS0+XG5cdFx0XHRpZiBmb3JtX2ZpZWxkLl9pZCBpcyBhcHByb3Zlcl91c2VyX2ZpZWxkXG5cdFx0XHRcdGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGVcblx0XHQpXG5cblx0XHQjIOWPluW+l+acgOaWsOeahHZhbHVlc1xuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXG5cblx0XHQjIOiOt+WPlnVzZXJfaWTmlbDnu4Rcblx0XHR1c2VyX2lkc19uYW1lcyA9IG5ldyBBcnJheVxuXHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheVxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGVsc2Vcblx0XHRcdFx0dXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxuXG5cdFx0IyDmoKHpqox1c2VyX2lk5pWw57uE5LitdXNlcl9pZOaYr+WQpuWQiOazlVxuXHRcdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKHVzZXJfaWRzX25hbWVzLCAodXNlcikgLT5cblx0XHRcdGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiB1c2VyW1wiaWRcIl0gfSkuY291bnQoKVxuXHRcdFx0aWYgY2hlY2tfdXNlcl9jb3VudCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5Lq65ZGYSUTkuI3lkIjms5VcIilcblx0XHRcdHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKVxuXHRcdClcblxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxuXHRcdHJldHVybiB1c2VyX2lkc1xuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlTdGVwUm9sZVwiXG5cdFx0IyA3LioqKioqKioqKioq5oyH5a6a5q2l6aqk5aSE55CG5a6h5om55bKX5L2NKioqKioqKioqKipcblx0XHRhcHByb3Zlcl9zdGVwID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3N0ZXBcblx0XHRmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2goaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpIC0+XG5cdFx0XHRpZiB0cmFjZS5zdGVwIGlzIGFwcHJvdmVyX3N0ZXBcblx0XHRcdFx0ZmluaXNoZWRfdHJhY2VzLnB1c2godHJhY2UpXG5cdFx0KVxuXHRcdCMg5qC55o2uc3RhcnRfZGF0ZeWPluacgOaWsOeahHRyYWNlXG5cdFx0bWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgKHQpIC0+XG5cdFx0XHRyZXR1cm4gdC5zdGFydF9kYXRlXG5cdFx0KVxuXG5cdFx0YXBwcm92ZV91c2VycyA9IF8ucGx1Y2sobWF4X3N0YXJ0RGF0ZV90cmFjZS5hcHByb3ZlcywgXCJ1c2VyXCIpXG5cblx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXNcblx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxuXHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcblx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIilcblx0XHRcdClcblxuXHRcdCMg6aqM6K+B5p+l5Yiw55qEdXNlcuaYr+WQpumDveWQiOazlVxuXHRcdF8uZWFjaChhcHByb3ZlX3VzZXJzLCAoYXBwcm92ZV91c2VyKSAtPlxuXHRcdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZV91c2VyIH0pLmNvdW50KCkgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKVxuXHRcdClcblxuXHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMoYXBwcm92ZV91c2VycywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZClcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5U3RlcFVzZXJcIlxuXHRcdCMgOC4qKioqKioqKioqKuaMh+WumuatpemqpOWkhOeQhuS6uioqKioqKioqKioqXG5cdFx0YXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwXG5cdFx0ZmluaXNoZWRfdHJhY2VzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKSAtPlxuXHRcdFx0aWYgdHJhY2Uuc3RlcCBpcyBhcHByb3Zlcl9zdGVwXG5cdFx0XHRcdGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKVxuXHRcdClcblx0XHQjIOagueaNrnN0YXJ0X2RhdGXlj5bmnIDmlrDnmoR0cmFjZVxuXHRcdG1heF9zdGFydERhdGVfdHJhY2UgPSBfLm1heChmaW5pc2hlZF90cmFjZXMsICh0KSAtPlxuXHRcdFx0cmV0dXJuIHQuc3RhcnRfZGF0ZVxuXHRcdClcblxuXHRcdGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKVxuXG5cdFx0IyDpqozor4Hmn6XliLDnmoR1c2Vy5piv5ZCm6YO95ZCI5rOVXG5cdFx0Xy5lYWNoKGFwcHJvdmVfdXNlcnMsIChhcHByb3ZlX3VzZXIpLT5cblx0XHRcdGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcHJvdmVfdXNlciB9KS5jb3VudCgpXG5cdFx0XHRpZiBjaGVja19hcHByb3ZlX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKVxuXHRcdClcblxuXHRcdGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2Vycylcblx0XHRyZXR1cm4gYXBwcm92ZV91c2Vyc1xuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInN1Ym1pdHRlclJvbGVcIlxuXHRcdCMgOS4qKioqKioqKioqKuWhq+WNleS6uuaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXG5cdFx0c3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyXG5cdFx0aWYgbm90IHN1Ym1pdHRlclxuXHRcdFx0IyDliKTmlq3mj5DkuqTkurrmmK/lkKblt7Lnu4/ooqvliKDpmaRcblx0XHRcdHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogc3VibWl0dGVyIH0pLmNvdW50KClcblx0XHRcdGlmIHN1Ym1pdHRlcl91c2VyX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIilcblx0XHRcdGVsc2Vcblx0XHRcdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzIGFuZCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMFxuXHRcdFx0XHRcdCMg5qOA5p+lYXBwcm92ZXJfcm9sZXPkuK1yb2xl5piv5ZCm5LiN5a2Y5Zyo5oiW5bey57uP6KKr5Yig6ZmkXG5cdFx0XHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XG5cdFx0XHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcblx0XHRcdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIilcblx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHN1Ym1pdHRlciwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZClcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlLPor7fljZXnmoTmj5DkuqTkurrkuLrnqbpcIilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzdWJtaXR0ZXJcIlxuXHRcdCMgMTAuKioqKioqKioqKirmj5DkuqTkuroqKioqKioqKioqKlxuXHRcdHN1Ym1pdHRlciA9IGluc3RhbmNlLnN1Ym1pdHRlclxuXHRcdCMg5Yik5pat5o+Q5Lqk5Lq65piv5ZCm5bey57uP6KKr5Yig6ZmkXG5cdFx0c3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBzdWJtaXR0ZXIgfSkuY291bnQoKVxuXHRcdGlmIHN1Ym1pdHRlcl91c2VyX2NvdW50IGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmN5bel5L2c5Yy6XCIpXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIG5ldyBBcnJheShzdWJtaXR0ZXIpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeU9yZ1wiXG5cdFx0IyAxMS4qKioqKioqKioqKuafkOmDqOmXqOWGheeahOaJgOacieS6uioqKioqKioqKioqXG5cdFx0YXBwcm92ZXJfb3JnX2lkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdzXG5cdFx0aWYgbm90IGFwcHJvdmVyX29yZ19pZHMgb3IgYXBwcm92ZXJfb3JnX2lkcy5sZW5ndGggaXMgMFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrlrprkuYnnlKjkuo7mn6Xmib7kuIvkuIDmraXlpITnkIbkurrnmoTpg6jpl6jvvIzor7fogZTns7vnrqHnkIblkZjosIPmn6XmtYHnqIvlm77nmoTphY3nva7mmK/lkKbmraPnoa5cIilcblxuXHRcdCMg6aqM6K+B5omA5oyH5a6a55qEb3JnYW5pemF0aW9uX2lk6YO95a2Y5ZyoXG5cdFx0dmFsaWRfYXBwcm92ZXJfb3JnX2lkcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaChhcHByb3Zlcl9vcmdfaWRzLCAoYXBwcm92ZXJfb3JnX2lkKSAtPlxuXHRcdFx0aWYgZGIub3JnYW5pemF0aW9ucy5maW5kKHsgX2lkOiBhcHByb3Zlcl9vcmdfaWQgfSkuY291bnQoKSA+IDBcblx0XHRcdFx0dmFsaWRfYXBwcm92ZXJfb3JnX2lkcy51bnNoaWZ0KGFwcHJvdmVyX29yZ19pZClcblx0XHQpXG5cblx0XHRvcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2godmFsaWRfYXBwcm92ZXJfb3JnX2lkcywgKHZhbGlkX2FwcHJvdmVyX29yZ19pZCkgLT5cblx0XHRcdHZhbGlkX2FwcHJvdmVyX29yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogdmFsaWRfYXBwcm92ZXJfb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSlcblx0XHRcdGlmIHZhbGlkX2FwcHJvdmVyX29yZy51c2Vyc1xuXHRcdFx0XHRvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KHZhbGlkX2FwcHJvdmVyX29yZy51c2VycylcblxuXHRcdFx0Y2hpbGRfb3JncyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgcGFyZW50czogdmFsaWRfYXBwcm92ZXJfb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSkuZmV0Y2goKVxuXHRcdFx0Xy5lYWNoKGNoaWxkX29yZ3MsIChjaGlsZF9vcmcpIC0+XG5cdFx0XHRcdGlmIGNoaWxkX29yZy51c2Vyc1xuXHRcdFx0XHRcdG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQoY2hpbGRfb3JnLnVzZXJzKVxuXHRcdFx0KVxuXHRcdClcblxuXHRcdG9yZ191c2VyX2lkcyA9IF8udW5pcShvcmdfdXNlcl9pZHMpXG5cdFx0bmV3X29yZ191c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaChvcmdfdXNlcl9pZHMsIChvcmdfdXNlcl9pZCkgLT5cblx0XHRcdHNwYWNlX3VzZXJfaW5mb19jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IG9yZ191c2VyX2lkIH0pLmNvdW50KClcblx0XHRcdGlmIHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDBcblx0XHRcdFx0bmV3X29yZ191c2VyX2lkcy5wdXNoKG9yZ191c2VyX2lkKVxuXHRcdClcblxuXHRcdHJldHVybiBuZXdfb3JnX3VzZXJfaWRzXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeVVzZXJcIlxuXHRcdCMgMTIuKioqKioqKioqKirmjIflrprnmoTkurrlkZgqKioqKioqKioqKlxuXHRcdGFwcHJvdmVyX3VzZXJfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJzXG5cdFx0YXBwcm92ZXJfdXNlcl9pZHMgPSBfLnVuaXEoYXBwcm92ZXJfdXNlcl9pZHMpXG5cdFx0bmV3X2FwcHJvdmVyX3VzZXJfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKGFwcHJvdmVyX3VzZXJfaWRzLCAoYXBwcm92ZXJfdXNlcl9pZCkgLT5cblx0XHRcdHNwYWNlX3VzZXJfaW5mb19jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcHJvdmVyX3VzZXJfaWQgfSkuY291bnQoKVxuXHRcdFx0aWYgc3BhY2VfdXNlcl9pbmZvX2NvdW50ID4gMFxuXHRcdFx0XHRuZXdfYXBwcm92ZXJfdXNlcl9pZHMucHVzaChhcHByb3Zlcl91c2VyX2lkKVxuXHRcdClcblxuXHRcdHJldHVybiBuZXdfYXBwcm92ZXJfdXNlcl9pZHNcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJwaWNrdXBBdFJ1bnRpbWVcIlxuXHRcdCMgMTMuKioqKioqKioqKirlrqHmibnml7bmjIflrpoqKioqKioqKioqKlxuXHRcdG5leHRfc3RlcF91c2VycyA9IG5ldyBBcnJheVxuXHRcdF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIChfdHIpIC0+XG5cdFx0XHRyZXR1cm4gX3RyLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXG5cdFx0KVxuXHRcdF9hcHByb3ZlID0gXy5maW5kKF90cmFjZS5hcHByb3ZlcywgKF9hcHApIC0+XG5cdFx0XHRyZXR1cm4gX2FwcC5pc19maW5pc2hlZCBpcyBmYWxzZSBhbmQgX2FwcC50eXBlIGlzbnQgJ2NjJ1xuXHRcdClcblxuXHRcdGlmIF9hcHByb3ZlLm5leHRfc3RlcHNcblx0XHRcdGlmIF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXVxuXHRcdFx0XHRuZXh0X3N0ZXBfdXNlcnMgPSBfYXBwcm92ZS5uZXh0X3N0ZXBzWzBdW1widXNlcnNcIl1cblxuXHRcdHJldHVybiBuZXh0X3N0ZXBfdXNlcnNcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJhcHBsaWNhbnRTdXBlcmlvclwiXG5cdFx0IyAxNC4qKioqKioqKioqKueUs+ivt+S6uuS4iue6p+S4u+euoSoqKioqKioqKioqXG5cdFx0YXBwbGljYW50U3VwZXJpb3JzID0gbmV3IEFycmF5XG5cdFx0X3NwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBpbnN0YW5jZS5hcHBsaWNhbnQgfSwgeyBmaWVsZHM6IHsgbWFuYWdlcjogMSB9IH0pXG5cdFx0aWYgX3NwYWNlX3VzZXIubWFuYWdlclxuXHRcdFx0YXBwbGljYW50U3VwZXJpb3JzLnB1c2goX3NwYWNlX3VzZXIubWFuYWdlcilcblxuXHRcdHJldHVybiBhcHBsaWNhbnRTdXBlcmlvcnMiLCIgICAgICAgICAgICAgICAgICAgICAgIFxuXG5nZXRIYW5kbGVyc01hbmFnZXIgPSB7fTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzID0gZnVuY3Rpb24odXNlcl9pZHMsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgYXBwcm92ZV91c2VycztcbiAgYXBwcm92ZV91c2VycyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKHVzZXJfaWRzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIGlmIChkYi51c2Vycy5maW5kKHtcbiAgICAgIF9pZDogdXNlcl9pZFxuICAgIH0pLmNvdW50KCkgPiAwKSB7XG4gICAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCk7XG4gICAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gYXBwcm92ZV91c2VycyA9IGFwcHJvdmVfdXNlcnMuY29uY2F0KHVzZXJzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJ1c2VyX2lk5LiN5ZCI5rOV5LiN5ZCI5rOVXCIpO1xuICAgIH1cbiAgfSk7XG4gIGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2Vycyk7XG4gIHJldHVybiBhcHByb3ZlX3VzZXJzO1xufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMgPSBmdW5jdGlvbih1c2VyX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpIHtcbiAgdmFyIHVzZXJfaWRzO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKHJvbGVfaWRzLCBmdW5jdGlvbihyb2xlX2lkKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIGlmIChkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgX2lkOiByb2xlX2lkXG4gICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSh1c2VyX2lkLCByb2xlX2lkLCBzcGFjZV9pZCk7XG4gICAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInJvbGVfaWTlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgfVxuICB9KTtcbiAgaWYgKHVzZXJfaWRzLmxlbmd0aCA+IDApIHtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2udXNlcl9pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpO1xuICB9XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlID0gZnVuY3Rpb24odXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIHtcbiAgdmFyIG9yZ3MsIHVzZXJfaWRzO1xuICBvcmdzID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgdXNlcnM6IHVzZXJfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxXG4gICAgfVxuICB9KS5mZXRjaCgpO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKG9yZ3MsIGZ1bmN0aW9uKG9yZykge1xuICAgIHZhciB1c2VycztcbiAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmcuX2lkLCByb2xlX2lkLCBzcGFjZV9pZCk7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgfVxuICB9KTtcbiAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICByZXR1cm4gdXNlcl9pZHM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyA9IGZ1bmN0aW9uKG9yZ19pZHMsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgdXNlcl9pZHM7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyhvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCk7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgfVxuICB9KTtcbiAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICByZXR1cm4gdXNlcl9pZHM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzID0gZnVuY3Rpb24ob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpIHtcbiAgdmFyIHVzZXJfaWRzO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKHJvbGVfaWRzLCBmdW5jdGlvbihyb2xlX2lkKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpO1xuICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpO1xuICAgIH1cbiAgfSk7XG4gIGlmICh1c2VyX2lkcy5sZW5ndGggPiAwKSB7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIHJldHVybiB1c2VyX2lkcztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuagueaNrm9yZ19pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpO1xuICB9XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUgPSBmdW5jdGlvbihvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKSB7XG4gIHZhciBvcmcsIHBhcmVudHMsIHBvc2l0aW9ucywgdXNlcl9pZHM7XG4gIG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG4gICAgX2lkOiBvcmdfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcGFyZW50czogMVxuICAgIH1cbiAgfSk7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgb3JnOiBvcmdfaWQsXG4gICAgcm9sZTogcm9sZV9pZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICB1c2VyczogMVxuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgXy5lYWNoKHBvc2l0aW9ucywgZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQocG9zaXRpb24udXNlcnMpO1xuICB9KTtcbiAgaWYgKHVzZXJfaWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHBhcmVudHMgPSBvcmcucGFyZW50cztcbiAgICBfLmVhY2gocGFyZW50cywgZnVuY3Rpb24ocGFyZW50X2lkKSB7XG4gICAgICBwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICBvcmc6IHBhcmVudF9pZCxcbiAgICAgICAgcm9sZTogcm9sZV9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBfLmVhY2gocG9zaXRpb25zLCBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2Vycyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgcmV0dXJuIHVzZXJfaWRzO1xufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzID0gZnVuY3Rpb24oaW5zdGFuY2VfaWQsIHN0ZXBfaWQpIHtcbiAgdmFyIF9hcHByb3ZlLCBfc3BhY2VfdXNlciwgX3RyYWNlLCBhcHBsaWNhbnQsIGFwcGxpY2FudFN1cGVyaW9ycywgYXBwcm92ZUhyUm9sZUlkcywgYXBwcm92ZV91c2VycywgYXBwcm92ZXJfb3JnX2ZpZWxkLCBhcHByb3Zlcl9vcmdfaWRzLCBhcHByb3Zlcl9zdGVwLCBhcHByb3Zlcl91c2VyX2ZpZWxkLCBhcHByb3Zlcl91c2VyX2lkcywgY3VycmVudCwgY3VycmVudF9mbG93LCBjdXJyZW50X2Zsb3dfdmVyc2lvbiwgY3VycmVudF9mb3JtLCBjdXJyZW50X3N0ZXAsIGN1cnJlbnRfc3RlcHMsIGRlYWxfdHlwZSwgZmllbGRfY29kZSwgZmluaXNoZWRfdHJhY2VzLCBmbG93X2lkLCBmbG93X3JldiwgZm9ybSwgZm9ybV9maWVsZHMsIGZvcm1faWQsIGZvcm1fcmV2LCBoYW5kbGVycywgaW5zdGFuY2UsIG1heF9zdGFydERhdGVfdHJhY2UsIG5ld19hcHByb3Zlcl91c2VyX2lkcywgbmV3X29yZ191c2VyX2lkcywgbmV3ZXN0X3ZhbHVlcywgbmV4dF9zdGVwX3VzZXJzLCBvcmdfaWRzLCBvcmdfaWRzX25hbWVzLCBvcmdfdXNlcl9pZHMsIHNwYWNlX2lkLCBzcGFjZV91c2VyX2NvdW50LCBzdWJtaXR0ZXIsIHN1Ym1pdHRlcl91c2VyX2NvdW50LCB1bmZpbmlzaGVkX3RyYWNlLCB1c2VyX2lkcywgdXNlcl9pZHNfbmFtZXMsIHVzZXJzLCB2YWxpZF9hcHByb3Zlcl9vcmdfaWRzO1xuICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKTtcbiAgaWYgKGluc3RhbmNlLnN0ZXBfYXBwcm92ZSAmJiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbc3RlcF9pZF0pIHtcbiAgICByZXR1cm4gaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWRdO1xuICB9XG4gIGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXk7XG4gIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuICBmbG93X3JldiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvbjtcbiAgY3VycmVudF9mbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkKTtcbiAgY3VycmVudF9zdGVwID0gbnVsbDtcbiAgY3VycmVudF9zdGVwcyA9IG5ldyBBcnJheTtcbiAgaWYgKGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCA9PT0gZmxvd19yZXYpIHtcbiAgICBjdXJyZW50X3N0ZXBzID0gY3VycmVudF9mbG93LmN1cnJlbnQuc3RlcHM7XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudCA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGhpc3RvcnkpIHtcbiAgICAgIHJldHVybiBoaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgfSk7XG4gICAgY3VycmVudF9zdGVwcyA9IGN1cnJlbnQuc3RlcHM7XG4gIH1cbiAgY3VycmVudF9zdGVwID0gXy5maW5kKGN1cnJlbnRfc3RlcHMsIGZ1bmN0aW9uKHN0ZXApIHtcbiAgICByZXR1cm4gc3RlcC5faWQgPT09IHN0ZXBfaWQ7XG4gIH0pO1xuICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJjb25kaXRpb25cIikge1xuICAgIHVuZmluaXNoZWRfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgcmV0dXJuIHRyYWNlLmlzX2ZpbmlzaGVkID09PSBmYWxzZTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IEFycmF5KHVuZmluaXNoZWRfdHJhY2UuYXBwcm92ZXNbMF0udXNlcik7XG4gIH1cbiAgaWYgKGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgPT09IFwic3RhcnRcIikge1xuICAgIGhhbmRsZXJzID0gbmV3IEFycmF5O1xuICAgIGhhbmRsZXJzLnB1c2goaW5zdGFuY2UuYXBwbGljYW50KTtcbiAgICBoYW5kbGVycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcik7XG4gICAgaGFuZGxlcnMgPSBfLnVuaXEoaGFuZGxlcnMpO1xuICAgIHJldHVybiBoYW5kbGVycztcbiAgfVxuICBkZWFsX3R5cGUgPSBjdXJyZW50X3N0ZXAuZGVhbF90eXBlO1xuICB1c2VycyA9IG5ldyBBcnJheTtcbiAgaWYgKGRlYWxfdHlwZSA9PT0gXCJhcHBsaWNhbnRSb2xlXCIpIHtcbiAgICBhcHBsaWNhbnQgPSBpbnN0YW5jZS5hcHBsaWNhbnQ7XG4gICAgaWYgKGFwcGxpY2FudCkge1xuICAgICAgc3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcGxpY2FudFxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzcGFjZV91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIik7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzICYmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6KeS6Imy5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhhcHBsaWNhbnQsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwiSW5zdGFuY2XnmoTmj5DkuqTkurrkuLrnqbpcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJoclJvbGVcIikge1xuICAgIGFwcHJvdmVIclJvbGVJZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfaHJfcm9sZXM7XG4gICAgaWYgKGFwcHJvdmVIclJvbGVJZHMpIHtcbiAgICAgIHJldHVybiBfLnBsdWNrKFdvcmtmbG93TWFuYWdlci5nZXRIclJvbGVzVXNlcnMoc3BhY2VfaWQsIGFwcHJvdmVIclJvbGVJZHMpLCAndXNlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuacquaMh+WumlwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcImFwcGxpY2FudFwiKSB7XG4gICAgYXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50O1xuICAgIHNwYWNlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IGFwcGxpY2FudFxuICAgIH0pLmNvdW50KCk7XG4gICAgaWYgKHNwYWNlX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgQXJyYXkoYXBwbGljYW50KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcIm9yZ0ZpZWxkUm9sZVwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX29yZ19maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIF8uZWFjaChvcmdfaWRzX25hbWVzLCBmdW5jdGlvbihvcmcpIHtcbiAgICAgIHZhciBjaGVja19vcmdfY291bnQ7XG4gICAgICBjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IG9yZ1tcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX29yZ19jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyhvcmdfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJvcmdGaWVsZFwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX29yZ19maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIF8uZWFjaChvcmdfaWRzX25hbWVzLCBmdW5jdGlvbihvcmcpIHtcbiAgICAgIHZhciBjaGVja19vcmdfY291bnQ7XG4gICAgICBjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IG9yZ1tcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX29yZ19jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgdmFyIGNoZWNrX29yZ3MsIG9yZywgb3JnX2NoaWxkcmVuLCBvcmdfdXNlcnM7XG4gICAgICBvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IG9yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9yZ19jaGlsZHJlbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgcGFyZW50czogb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBvcmdfY2hpbGRyZW4udW5zaGlmdChvcmcpO1xuICAgICAgY2hlY2tfb3JncyA9IG9yZ19jaGlsZHJlbjtcbiAgICAgIG9yZ191c2VycyA9IG5ldyBBcnJheTtcbiAgICAgIF8uZWFjaChjaGVja19vcmdzLCBmdW5jdGlvbihjaGVja19vcmdfdXNlcikge1xuICAgICAgICBpZiAoY2hlY2tfb3JnX3VzZXIudXNlcnMpIHtcbiAgICAgICAgICBfLmVhY2goY2hlY2tfb3JnX3VzZXIudXNlcnMsIGZ1bmN0aW9uKG9yZ191c2VyKSB7XG4gICAgICAgICAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICAgICAgdXNlcjogb3JnX3VzZXJcbiAgICAgICAgICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJzcGFjZeS4i+S4jeWtmOWcqOatpHVzZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpO1xuICAgICAgICByZXR1cm4gb3JnX3VzZXJzID0gb3JnX3VzZXJzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2Vycyk7XG4gICAgICB9KTtcbiAgICAgIGlmIChvcmdfdXNlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHXCIgKyBvcmdfaWQgKyBcIuS4jeWtmOWcqOWkhOeQhuS6ulwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJ1c2VyRmllbGRSb2xlXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGQ7XG4gICAgZm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzO1xuICAgIGZpZWxkX2NvZGUgPSBudWxsO1xuICAgIF8uZWFjaChmb3JtX2ZpZWxkcywgZnVuY3Rpb24oZm9ybV9maWVsZCkge1xuICAgICAgaWYgKGZvcm1fZmllbGQuX2lkID09PSBhcHByb3Zlcl91c2VyX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5O1xuICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKSB7XG4gICAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVzZXJfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaCh1c2VyX2lkc19uYW1lcywgZnVuY3Rpb24odXNlcikge1xuICAgICAgdmFyIGNoZWNrX3VzZXJfY291bnQ7XG4gICAgICBjaGVja191c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogdXNlcltcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1c2VyX2lkcy5wdXNoKHVzZXJbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKHVzZXJfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJ1c2VyRmllbGRcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX3VzZXJfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgdXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHVzZXJfaWRzX25hbWVzLCBmdW5jdGlvbih1c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfdXNlcl9jb3VudDtcbiAgICAgIGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiB1c2VyW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKTtcbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzcGVjaWZ5U3RlcFJvbGVcIikge1xuICAgIGFwcHJvdmVyX3N0ZXAgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfc3RlcDtcbiAgICBmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIGlmICh0cmFjZS5zdGVwID09PSBhcHByb3Zlcl9zdGVwKSB7XG4gICAgICAgIHJldHVybiBmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgcmV0dXJuIHQuc3RhcnRfZGF0ZTtcbiAgICB9KTtcbiAgICBhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIik7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcykge1xuICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBfLmVhY2goYXBwcm92ZV91c2VycywgZnVuY3Rpb24oYXBwcm92ZV91c2VyKSB7XG4gICAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwcm92ZV91c2VyXG4gICAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMoYXBwcm92ZV91c2VycywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZCk7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlTdGVwVXNlclwiKSB7XG4gICAgYXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwO1xuICAgIGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgaWYgKHRyYWNlLnN0ZXAgPT09IGFwcHJvdmVyX3N0ZXApIHtcbiAgICAgICAgcmV0dXJuIGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICByZXR1cm4gdC5zdGFydF9kYXRlO1xuICAgIH0pO1xuICAgIGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKTtcbiAgICBfLmVhY2goYXBwcm92ZV91c2VycywgZnVuY3Rpb24oYXBwcm92ZV91c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50O1xuICAgICAgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwcm92ZV91c2VyXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhcHByb3ZlX3VzZXJzID0gXy51bmlxKGFwcHJvdmVfdXNlcnMpO1xuICAgIHJldHVybiBhcHByb3ZlX3VzZXJzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzdWJtaXR0ZXJSb2xlXCIpIHtcbiAgICBzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXI7XG4gICAgaWYgKCFzdWJtaXR0ZXIpIHtcbiAgICAgIHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogc3VibWl0dGVyXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHN1Ym1pdHRlcl91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmN5bel5L2c5Yy6XCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoc3VibWl0dGVyLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeahOaPkOS6pOS6uuS4uuepulwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInN1Ym1pdHRlclwiKSB7XG4gICAgc3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyO1xuICAgIHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBzdWJtaXR0ZXJcbiAgICB9KS5jb3VudCgpO1xuICAgIGlmIChzdWJtaXR0ZXJfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgQXJyYXkoc3VibWl0dGVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlPcmdcIikge1xuICAgIGFwcHJvdmVyX29yZ19pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JncztcbiAgICBpZiAoIWFwcHJvdmVyX29yZ19pZHMgfHwgYXBwcm92ZXJfb3JnX2lkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5a6a5LmJ55So5LqO5p+l5om+5LiL5LiA5q2l5aSE55CG5Lq655qE6YOo6Zeo77yM6K+36IGU57O7566h55CG5ZGY6LCD5p+l5rWB56iL5Zu+55qE6YWN572u5piv5ZCm5q2j56GuXCIpO1xuICAgIH1cbiAgICB2YWxpZF9hcHByb3Zlcl9vcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChhcHByb3Zlcl9vcmdfaWRzLCBmdW5jdGlvbihhcHByb3Zlcl9vcmdfaWQpIHtcbiAgICAgIGlmIChkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IGFwcHJvdmVyX29yZ19pZFxuICAgICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkX2FwcHJvdmVyX29yZ19pZHMudW5zaGlmdChhcHByb3Zlcl9vcmdfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9yZ191c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godmFsaWRfYXBwcm92ZXJfb3JnX2lkcywgZnVuY3Rpb24odmFsaWRfYXBwcm92ZXJfb3JnX2lkKSB7XG4gICAgICB2YXIgY2hpbGRfb3JncywgdmFsaWRfYXBwcm92ZXJfb3JnO1xuICAgICAgdmFsaWRfYXBwcm92ZXJfb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICAgICAgX2lkOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKSB7XG4gICAgICAgIG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkX29yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHBhcmVudHM6IHZhbGlkX2FwcHJvdmVyX29yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgcmV0dXJuIF8uZWFjaChjaGlsZF9vcmdzLCBmdW5jdGlvbihjaGlsZF9vcmcpIHtcbiAgICAgICAgaWYgKGNoaWxkX29yZy51c2Vycykge1xuICAgICAgICAgIHJldHVybiBvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KGNoaWxkX29yZy51c2Vycyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIG9yZ191c2VyX2lkcyA9IF8udW5pcShvcmdfdXNlcl9pZHMpO1xuICAgIG5ld19vcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKG9yZ191c2VyX2lkcywgZnVuY3Rpb24ob3JnX3VzZXJfaWQpIHtcbiAgICAgIHZhciBzcGFjZV91c2VyX2luZm9fY291bnQ7XG4gICAgICBzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBvcmdfdXNlcl9pZFxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzcGFjZV91c2VyX2luZm9fY291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiBuZXdfb3JnX3VzZXJfaWRzLnB1c2gob3JnX3VzZXJfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXdfb3JnX3VzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzcGVjaWZ5VXNlclwiKSB7XG4gICAgYXBwcm92ZXJfdXNlcl9pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcnM7XG4gICAgYXBwcm92ZXJfdXNlcl9pZHMgPSBfLnVuaXEoYXBwcm92ZXJfdXNlcl9pZHMpO1xuICAgIG5ld19hcHByb3Zlcl91c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goYXBwcm92ZXJfdXNlcl9pZHMsIGZ1bmN0aW9uKGFwcHJvdmVyX3VzZXJfaWQpIHtcbiAgICAgIHZhciBzcGFjZV91c2VyX2luZm9fY291bnQ7XG4gICAgICBzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHByb3Zlcl91c2VyX2lkXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG5ld19hcHByb3Zlcl91c2VyX2lkcy5wdXNoKGFwcHJvdmVyX3VzZXJfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXdfYXBwcm92ZXJfdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInBpY2t1cEF0UnVudGltZVwiKSB7XG4gICAgbmV4dF9zdGVwX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKF90cikge1xuICAgICAgcmV0dXJuIF90ci5pc19maW5pc2hlZCA9PT0gZmFsc2U7XG4gICAgfSk7XG4gICAgX2FwcHJvdmUgPSBfLmZpbmQoX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihfYXBwKSB7XG4gICAgICByZXR1cm4gX2FwcC5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgX2FwcC50eXBlICE9PSAnY2MnO1xuICAgIH0pO1xuICAgIGlmIChfYXBwcm92ZS5uZXh0X3N0ZXBzKSB7XG4gICAgICBpZiAoX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdKSB7XG4gICAgICAgIG5leHRfc3RlcF91c2VycyA9IF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5leHRfc3RlcF91c2VycztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwiYXBwbGljYW50U3VwZXJpb3JcIikge1xuICAgIGFwcGxpY2FudFN1cGVyaW9ycyA9IG5ldyBBcnJheTtcbiAgICBfc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogaW5zdGFuY2UuYXBwbGljYW50XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG1hbmFnZXI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoX3NwYWNlX3VzZXIubWFuYWdlcikge1xuICAgICAgYXBwbGljYW50U3VwZXJpb3JzLnB1c2goX3NwYWNlX3VzZXIubWFuYWdlcik7XG4gICAgfVxuICAgIHJldHVybiBhcHBsaWNhbnRTdXBlcmlvcnM7XG4gIH1cbn07XG4iLCJwZXJtaXNzaW9uTWFuYWdlciA9IHt9XG5cbnBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyA9IChmbG93X2lkLCB1c2VyX2lkKSAtPlxuXHQjIOagueaNrjpmbG93X2lk5p+l5Yiw5a+55bqU55qEZmxvd1xuXHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGZsb3dfaWQpXG5cdHNwYWNlX2lkID0gZmxvdy5zcGFjZVxuXHQjIOagueaNrnNwYWNlX2lk5ZKMOnVzZXJfaWTliLBvcmdhbml6YXRpb25z6KGo5Lit5p+l5Yiw55So5oi35omA5bGe5omA5pyJ55qEb3JnX2lk77yI5YyF5ous5LiK57qn57uESUTvvIlcblx0b3JnX2lkcyA9IG5ldyBBcnJheVxuXHRvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcblx0XHRzcGFjZTogc3BhY2VfaWQsIHVzZXJzOiB1c2VyX2lkIH0sIHsgZmllbGRzOiB7IHBhcmVudHM6IDEgfSB9KS5mZXRjaCgpXG5cdF8uZWFjaChvcmdhbml6YXRpb25zLCAob3JnKSAtPlxuXHRcdG9yZ19pZHMucHVzaChvcmcuX2lkKVxuXHRcdGlmIG9yZy5wYXJlbnRzXG5cdFx0XHRfLmVhY2gob3JnLnBhcmVudHMsIChwYXJlbnRfaWQpIC0+XG5cdFx0XHRcdG9yZ19pZHMucHVzaChwYXJlbnRfaWQpXG5cdFx0XHQpXG5cdClcblx0b3JnX2lkcyA9IF8udW5pcShvcmdfaWRzKVxuXHRteV9wZXJtaXNzaW9ucyA9IG5ldyBBcnJheVxuXHRpZiBmbG93LnBlcm1zXG5cdFx0IyDliKTmlq1mbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbuS4reaYr+WQpuWMheWQq+W9k+WJjeeUqOaIt++8jFxuXHRcdCMg5oiW6ICFZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGTmmK/lkKbljIXlkKs05q2l5b6X5Yiw55qEb3JnX2lk5pWw57uE5Lit55qE5Lu75L2V5LiA5Liq77yMXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIphZGRcblx0XHRpZiBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZGRcblx0XHRcdHVzZXJzX2Nhbl9hZGQgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZGRcblx0XHRcdGlmIHVzZXJzX2Nhbl9hZGQuaW5jbHVkZXModXNlcl9pZClcblx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcImFkZFwiKVxuXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGRcblx0XHRcdG9yZ3NfY2FuX2FkZCA9IGZsb3cucGVybXMub3Jnc19jYW5fYWRkXG5cdFx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cblx0XHRcdFx0aWYgb3Jnc19jYW5fYWRkLmluY2x1ZGVzKG9yZ19pZClcblx0XHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpXG5cdFx0XHQpXG5cdFx0IyDliKTmlq1mbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9y5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3LmmK/lkKbljIXlkKs05q2l5b6X5Yiw55qEb3JnX2lk5pWw57uE5Lit55qE5Lu75L2V5LiA5Liq77yMXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIptb25pdG9yXG5cdFx0aWYgZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvclxuXHRcdFx0dXNlcnNfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yXG5cdFx0XHRpZiB1c2Vyc19jYW5fbW9uaXRvci5pbmNsdWRlcyh1c2VyX2lkKVxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKVxuXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yXG5cdFx0XHRvcmdzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yXG5cdFx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cblx0XHRcdFx0aWYgb3Jnc19jYW5fbW9uaXRvci5pbmNsdWRlcyhvcmdfaWQpXG5cdFx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcIm1vbml0b3JcIilcblx0XHRcdClcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX2FkbWlu5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWlu5piv5ZCm5YyF5ZCrNOatpeW+l+WIsOeahG9yZ19pZOaVsOe7hOS4reeahOS7u+S9leS4gOS4qu+8jFxuXHRcdCMg6Iul5piv77yM5YiZ5Zyo6L+U5Zue55qE5pWw57uE5Lit5Yqg5LiKYWRtaW5cblx0XHRpZiBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pblxuXHRcdFx0dXNlcnNfY2FuX2FkbWluID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW5cblx0XHRcdGlmIHVzZXJzX2Nhbl9hZG1pbi5pbmNsdWRlcyh1c2VyX2lkKVxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIilcblxuXHRcdGlmIGZsb3cucGVybXMub3Jnc19jYW5fYWRtaW5cblx0XHRcdG9yZ3NfY2FuX2FkbWluID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pblxuXHRcdFx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpIC0+XG5cdFx0XHRcdGlmIG9yZ3NfY2FuX2FkbWluLmluY2x1ZGVzKG9yZ19pZClcblx0XHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIilcblx0XHRcdClcblxuXHRteV9wZXJtaXNzaW9ucyA9IF8udW5pcShteV9wZXJtaXNzaW9ucylcblx0cmV0dXJuIG15X3Blcm1pc3Npb25zIiwiICAgICAgICAgICAgICAgICAgICAgIFxuXG5wZXJtaXNzaW9uTWFuYWdlciA9IHt9O1xuXG5wZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMgPSBmdW5jdGlvbihmbG93X2lkLCB1c2VyX2lkKSB7XG4gIHZhciBmbG93LCBteV9wZXJtaXNzaW9ucywgb3JnX2lkcywgb3JnYW5pemF0aW9ucywgb3Jnc19jYW5fYWRkLCBvcmdzX2Nhbl9hZG1pbiwgb3Jnc19jYW5fbW9uaXRvciwgc3BhY2VfaWQsIHVzZXJzX2Nhbl9hZGQsIHVzZXJzX2Nhbl9hZG1pbiwgdXNlcnNfY2FuX21vbml0b3I7XG4gIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZCk7XG4gIHNwYWNlX2lkID0gZmxvdy5zcGFjZTtcbiAgb3JnX2lkcyA9IG5ldyBBcnJheTtcbiAgb3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgIHVzZXJzOiB1c2VyX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHBhcmVudHM6IDFcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIF8uZWFjaChvcmdhbml6YXRpb25zLCBmdW5jdGlvbihvcmcpIHtcbiAgICBvcmdfaWRzLnB1c2gob3JnLl9pZCk7XG4gICAgaWYgKG9yZy5wYXJlbnRzKSB7XG4gICAgICByZXR1cm4gXy5lYWNoKG9yZy5wYXJlbnRzLCBmdW5jdGlvbihwYXJlbnRfaWQpIHtcbiAgICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChwYXJlbnRfaWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgb3JnX2lkcyA9IF8udW5pcShvcmdfaWRzKTtcbiAgbXlfcGVybWlzc2lvbnMgPSBuZXcgQXJyYXk7XG4gIGlmIChmbG93LnBlcm1zKSB7XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX2FkZCkge1xuICAgICAgdXNlcnNfY2FuX2FkZCA9IGZsb3cucGVybXMudXNlcnNfY2FuX2FkZDtcbiAgICAgIGlmICh1c2Vyc19jYW5fYWRkLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZCkge1xuICAgICAgb3Jnc19jYW5fYWRkID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGQ7XG4gICAgICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgICAgIGlmIChvcmdzX2Nhbl9hZGQuaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3IpIHtcbiAgICAgIHVzZXJzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvcjtcbiAgICAgIGlmICh1c2Vyc19jYW5fbW9uaXRvci5pbmNsdWRlcyh1c2VyX2lkKSkge1xuICAgICAgICBteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcikge1xuICAgICAgb3Jnc19jYW5fbW9uaXRvciA9IGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcjtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX21vbml0b3IuaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbikge1xuICAgICAgdXNlcnNfY2FuX2FkbWluID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW47XG4gICAgICBpZiAodXNlcnNfY2FuX2FkbWluLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fYWRtaW4pIHtcbiAgICAgIG9yZ3NfY2FuX2FkbWluID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pbjtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX2FkbWluLmluY2x1ZGVzKG9yZ19pZCkpIHtcbiAgICAgICAgICByZXR1cm4gbXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgbXlfcGVybWlzc2lvbnMgPSBfLnVuaXEobXlfcGVybWlzc2lvbnMpO1xuICByZXR1cm4gbXlfcGVybWlzc2lvbnM7XG59O1xuIiwiYXBwcm92ZU1hbmFnZXIgPSB7fVxuXG5cbiMjI1xuICAgIOWvueavlGFwcHJvdmVfdmFsdWVz5LiObGFzdF92YWx1ZXMg5a+56LGh77yMIOi/lOWbnmFwcHJvdmVfdmFsdWVz5q+UbGFzdF92YWx1ZXPlpJrlh7rnmoTmiJbogIXmlLnlj5jnmoTpg6jliIZcbiMjI1xuYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzID0gKGxhc3RfdmFsdWVzLGFwcHJvdmVfdmFsdWVzKSAtPlxuXG5cdGNoYW5nZVZhbHVlcyA9IHt9XG5cblx0bGFzdF92YWx1ZXNfa2V5cyA9IF8ua2V5cyhsYXN0X3ZhbHVlcylcblxuXHRhcHByb3ZlX3ZhbHVlc19rZXlzID0gXy5rZXlzKGFwcHJvdmVfdmFsdWVzKVxuXG4jXHRjb25zb2xlLmxvZyhcImxhc3RfdmFsdWVzX2tleXNcIiwgbGFzdF92YWx1ZXNfa2V5cylcbiNcbiNcdGNvbnNvbGUubG9nKFwiYXBwcm92ZV92YWx1ZXNfa2V5c1wiLCBhcHByb3ZlX3ZhbHVlc19rZXlzKVxuXG5cdGFwcHJvdmVfdmFsdWVzX2tleXMuZm9yRWFjaCAoa2V5KS0+XG5cdFx0aWYgXy5jb250YWlucyhsYXN0X3ZhbHVlc19rZXlzLCBrZXkpXG5cdFx0XHRpZiAhXy5pc0VxdWFsKGxhc3RfdmFsdWVzW2tleV0sIGFwcHJvdmVfdmFsdWVzW2tleV0pXG5cdFx0XHRcdGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XVxuXHRcdGVsc2Vcblx0XHRcdGlmIGFwcHJvdmVfdmFsdWVzW2tleV0gIT0gJydcbiNcdFx0XHRcdGNvbnNvbGUubG9nKGtleSxhcHByb3ZlX3ZhbHVlc1trZXldKVxuXHRcdFx0XHRjaGFuZ2VWYWx1ZXNba2V5XSA9IGFwcHJvdmVfdmFsdWVzW2tleV1cblxuXHRyZXR1cm4gY2hhbmdlVmFsdWVzXG4iLCIgICAgICAgICAgICAgICAgICAgXG5cbmFwcHJvdmVNYW5hZ2VyID0ge307XG5cblxuLypcbiAgICDlr7nmr5RhcHByb3ZlX3ZhbHVlc+S4jmxhc3RfdmFsdWVzIOWvueixoe+8jCDov5Tlm55hcHByb3ZlX3ZhbHVlc+avlGxhc3RfdmFsdWVz5aSa5Ye655qE5oiW6ICF5pS55Y+Y55qE6YOo5YiGXG4gKi9cblxuYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzID0gZnVuY3Rpb24obGFzdF92YWx1ZXMsIGFwcHJvdmVfdmFsdWVzKSB7XG4gIHZhciBhcHByb3ZlX3ZhbHVlc19rZXlzLCBjaGFuZ2VWYWx1ZXMsIGxhc3RfdmFsdWVzX2tleXM7XG4gIGNoYW5nZVZhbHVlcyA9IHt9O1xuICBsYXN0X3ZhbHVlc19rZXlzID0gXy5rZXlzKGxhc3RfdmFsdWVzKTtcbiAgYXBwcm92ZV92YWx1ZXNfa2V5cyA9IF8ua2V5cyhhcHByb3ZlX3ZhbHVlcyk7XG4gIGFwcHJvdmVfdmFsdWVzX2tleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoXy5jb250YWlucyhsYXN0X3ZhbHVlc19rZXlzLCBrZXkpKSB7XG4gICAgICBpZiAoIV8uaXNFcXVhbChsYXN0X3ZhbHVlc1trZXldLCBhcHByb3ZlX3ZhbHVlc1trZXldKSkge1xuICAgICAgICByZXR1cm4gY2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYXBwcm92ZV92YWx1ZXNba2V5XSAhPT0gJycpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2hhbmdlVmFsdWVzO1xufTtcbiIsImZsb3dNYW5hZ2VyID0ge31cblxuZmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zsb3dzID0gKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCBmaWVsZHMpLT5cblxuXHRjYXRlZ29yaWVzRm9ybXMgPSBmb3JtTWFuYWdlci5nZXRDYXRlZ29yaWVzRm9ybXMoc3BhY2VJZCwgY2F0ZWdvcmllSWQsIHtfaWQ6IDF9KS5mZXRjaCgpXG5cblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe2Zvcm06IHskaW4gOiBjYXRlZ29yaWVzRm9ybXMuZ2V0UHJvcGVydHkoXCJfaWRcIil9fSlcblxuZmxvd01hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRmxvd3MgPSAoc3BhY2VJZCwgZmllbGRzKS0+XG5cblx0dW5DYXRlZ29yaWVzRm9ybXMgPSBmb3JtTWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGb3JtcyhzcGFjZUlkLCB7X2lkOiAxfSkuZmV0Y2goKVxuXG5cdHJldHVybiBkYi5mbG93cy5maW5kKHtmb3JtOiB7JGluIDogdW5DYXRlZ29yaWVzRm9ybXMuZ2V0UHJvcGVydHkoXCJfaWRcIil9fSlcblxuXG5cblxuXG5cblxuIiwiZm9ybU1hbmFnZXIgPSB7fVxuXG5mb3JtTWFuYWdlci5nZXRDYXRlZ29yaWVzRm9ybXMgPSAoc3BhY2VJZCwgY2F0ZWdvcmllSWQsIGZpZWxkcyktPlxuXHRpZiBmaWVsZHNcblx0XHRfZmllbGRzID0ge2ZpZWxkczogZmllbGRzfVxuXG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZCwgY2F0ZWdvcnk6IGNhdGVnb3JpZUlkLCBzdGF0ZTogXCJlbmFibGVkXCJ9LCBfZmllbGRzKVxuXG5mb3JtTWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGb3JtcyA9IChzcGFjZUlkLCBmaWVsZHMpIC0+XG5cdGlmIGZpZWxkc1xuXHRcdF9maWVsZHMgPSB7ZmllbGRzOiBmaWVsZHN9XG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZCwgY2F0ZWdvcnk6IHskaW46IFtudWxsLCBcIlwiXX0sIHN0YXRlOiBcImVuYWJsZWRcIn0sIF9maWVsZHMpXG4iLCIgICAgICAgICAgICAgICAgXG5cbmZvcm1NYW5hZ2VyID0ge307XG5cbmZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyA9IGZ1bmN0aW9uKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCBmaWVsZHMpIHtcbiAgdmFyIF9maWVsZHM7XG4gIGlmIChmaWVsZHMpIHtcbiAgICBfZmllbGRzID0ge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9O1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBjYXRlZ29yeTogY2F0ZWdvcmllSWQsXG4gICAgc3RhdGU6IFwiZW5hYmxlZFwiXG4gIH0sIF9maWVsZHMpO1xufTtcblxuZm9ybU1hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRm9ybXMgPSBmdW5jdGlvbihzcGFjZUlkLCBmaWVsZHMpIHtcbiAgdmFyIF9maWVsZHM7XG4gIGlmIChmaWVsZHMpIHtcbiAgICBfZmllbGRzID0ge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9O1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBjYXRlZ29yeToge1xuICAgICAgJGluOiBbbnVsbCwgXCJcIl1cbiAgICB9LFxuICAgIHN0YXRlOiBcImVuYWJsZWRcIlxuICB9LCBfZmllbGRzKTtcbn07XG4iLCJzdGVwTWFuYWdlciA9IHt9XG5cbnN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2ggPSAoc3RlcCktPlxuXHRyZXR1cm4gc3RlcC5zdGVwX3R5cGUgPT0gJ2NvdW50ZXJTaWduJyAmJiBzdGVwLmFsbG93QmF0Y2hcblxuc3RlcE1hbmFnZXIuZ2V0U3RlcCA9IChpbnN0YW5jZSwgZmxvdywgc3RlcF9pZCktPlxuXHRmbG93X3JldiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvblxuXHRpc0V4aXN0U3RlcCA9IG51bGxcblx0aWYgZmxvdy5jdXJyZW50Ll9pZCBpcyBmbG93X3JldlxuXHRcdGlzRXhpc3RTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgKHN0ZXApLT5cblx0XHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXG5cdFx0KVxuXHRlbHNlXG5cdFx0Xy5lYWNoKGZsb3cuaGlzdG9yeXMsIChoaXN0b3J5KS0+XG5cdFx0XHRpZiBoaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0XHRpc0V4aXN0U3RlcCA9IF8uZmluZChoaXN0b3J5LnN0ZXBzLCAoc3RlcCktPlxuXHRcdFx0XHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXG5cdFx0XHRcdClcblx0XHQpXG5cblx0aWYgbm90IGlzRXhpc3RTdGVwXG5cdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3og73ojrflj5ZzdGVwXCIpXG5cblx0cmV0dXJuIGlzRXhpc3RTdGVwIiwiICAgICAgICAgICAgICAgIFxuXG5zdGVwTWFuYWdlciA9IHt9O1xuXG5zdGVwTWFuYWdlci5hbGxvd0JhdGNoID0gZnVuY3Rpb24oc3RlcCkge1xuICByZXR1cm4gc3RlcC5zdGVwX3R5cGUgPT09ICdjb3VudGVyU2lnbicgJiYgc3RlcC5hbGxvd0JhdGNoO1xufTtcblxuc3RlcE1hbmFnZXIuZ2V0U3RlcCA9IGZ1bmN0aW9uKGluc3RhbmNlLCBmbG93LCBzdGVwX2lkKSB7XG4gIHZhciBmbG93X3JldiwgaXNFeGlzdFN0ZXA7XG4gIGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICBpc0V4aXN0U3RlcCA9IG51bGw7XG4gIGlmIChmbG93LmN1cnJlbnQuX2lkID09PSBmbG93X3Jldikge1xuICAgIGlzRXhpc3RTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24oc3RlcCkge1xuICAgICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIF8uZWFjaChmbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihoaXN0b3J5KSB7XG4gICAgICBpZiAoaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2KSB7XG4gICAgICAgIHJldHVybiBpc0V4aXN0U3RlcCA9IF8uZmluZChoaXN0b3J5LnN0ZXBzLCBmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIWlzRXhpc3RTdGVwKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3og73ojrflj5ZzdGVwXCIpO1xuICB9XG4gIHJldHVybiBpc0V4aXN0U3RlcDtcbn07XG4iLCJfZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKVxuXG5JbnN0YW5jZU1hbmFnZXIgPSB7fVxuXG5sb2dnZXIgPSBuZXcgTG9nZ2VyICdXb3JrZmxvdyAtPiBJbnN0YW5jZU1hbmFnZXInXG5cbkluc3RhbmNlTWFuYWdlci5oYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwID0gKGlucywgZmllbGRfbWFwKSAtPlxuXHRyZXMgPSBpbnNcblx0aWYgaW5zXG5cdFx0aWYgIWZpZWxkX21hcFxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogaW5zLmZsb3cgfSwgeyBmaWVsZHM6IHsgZmllbGRfbWFwOiAxIH0gfSlcblxuXHRcdFx0aWYgZmxvdz8uZmllbGRfbWFwXG5cdFx0XHRcdGZpZWxkX21hcCA9IGZsb3cuZmllbGRfbWFwXG5cblx0XHRpZiBmaWVsZF9tYXBcblx0XHRcdGNvbnRleHQgPSBfLmNsb25lKGlucylcblxuXHRcdFx0Y29udGV4dC5fID0gX1xuXG5cdFx0XHRzY3JpcHQgPSBcInZhciBpbnN0YW5jZXMgPSAje2ZpZWxkX21hcH07IGV4cG9ydHMuaW5zdGFuY2VzID0gaW5zdGFuY2VzXCJcblx0XHRcdHRyeVxuXHRcdFx0XHRyZXMgPSBfZXZhbChzY3JpcHQsIFwiaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcFwiLCBjb250ZXh0LCBmYWxzZSkuaW5zdGFuY2VzXG5cdFx0XHRjYXRjaCBlXG5cdFx0XHRcdHJlcyA9IHsgX2Vycm9yOiBlIH1cblx0XHRcdFx0bG9nZ2VyLmVycm9yIGVcblx0cmV0dXJuIHJlc1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUgPSAoaW5zdGFuY2UsIGhhbmRsZXIpLT5cblxuXHRpZiAhaW5zdGFuY2Ugb3IgIWluc3RhbmNlLnRyYWNlcyBvciBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMVxuXHRcdHJldHVyblxuXG5cdGN1cnJlbnRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpXG5cblx0aWYgY3VycmVudFRyYWNlcy5sZW5ndGhcblx0XHRjdXJyZW50QXBwcm92ZXMgPSBjdXJyZW50VHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eSgnaGFuZGxlcicsIGhhbmRsZXIpXG5cdFx0Y3VycmVudEFwcHJvdmUgPSBpZiBjdXJyZW50QXBwcm92ZXMubGVuZ3RoID4gMCB0aGVuIGN1cnJlbnRBcHByb3Zlc1swXSBlbHNlIG51bGxcblxuXHQj5Lyg6ZiF55qEYXBwcm92Zei/lOWbnuacgOaWsOS4gOadoVxuXHRpZiAhY3VycmVudEFwcHJvdmUgb3IgY3VycmVudEFwcHJvdmUudHlwZSA9PSAnY2MnXG5cdFx0IyDlvZPliY3mmK/kvKDpmIVcblx0XHRfLmVhY2ggaW5zdGFuY2UudHJhY2VzLCAodCkgLT5cblx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cblx0XHRcdFx0aWYgYS50eXBlID09ICdjYycgYW5kIGEudXNlciA9PSBoYW5kbGVyIGFuZCBhLmlzX2ZpbmlzaGVkID09IGZhbHNlXG5cdFx0XHRcdFx0Y3VycmVudEFwcHJvdmUgPSBhXG5cdFx0XHRcdHJldHVyblxuXHRcdFx0cmV0dXJuXG5cblx0aWYgIWN1cnJlbnRBcHByb3ZlXG5cdFx0cmV0dXJuXG5cblx0cmV0dXJuIGN1cnJlbnRBcHByb3ZlXG5cbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UgPSAoaW5zdGFuY2UsIHRyYWNlSWQpLT5cblx0cmV0dXJuIGluc3RhbmNlLnRyYWNlcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlSWQpXG5cbkluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUgPSAoaW5zdGFuY2VJZCwgdXNlcklkKS0+XG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pXG5cblx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXG5cdG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoaW5zdGFuY2UsIHVzZXJJZClcblxuXHRpZiBteV9hcHByb3ZlXG5cbiNcdFx0bGFuZyA9IFN0ZWVkb3MubG9jYWxlKHRoYXQudXNlcklkLCB0cnVlKVxuXG5cdFx0dHJhY2UgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlKGluc3RhbmNlLCBteV9hcHByb3ZlLnRyYWNlKVxuXG5cdFx0c3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgdHJhY2Uuc3RlcClcblxuXHRcdG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBcIlwiKVxuXG5cdFx0aWYgbmV4dFN0ZXBzLmxlbmd0aCA9PSAxXG5cdFx0XHRuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc3RhbmNlLl9pZCAsIG5leHRTdGVwc1swXSlcblx0XHRcdGlmIG5leHRfdXNlcl9pZHMubGVuZ3RoID09IDFcblx0XHRcdFx0bXlfYXBwcm92ZS5uZXh0X3N0ZXBzID0gW3tzdGVwOiBuZXh0U3RlcHNbMF0sIHVzZXJzOiBuZXh0X3VzZXJfaWRzfV1cblx0XHRcdFx0cmV0dXJuIG15X2FwcHJvdmVcbiNcdFx0XHRlbHNlXG4jXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBUQVBpMThuLl9fKCd3b3JrZmxvd19lcnJvcl9tdWx0aXBsZV9uZXh0X3N0ZXBfdXNlcnMnLCB7aW5zbmFtZTogaW5zdGFuY2UubmFtZX0sIGxhbmcpKVxuI1x0XHRlbHNlXG4jXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgVEFQaTE4bi5fXygnd29ya2Zsb3dfZXJyb3JfbXVsdGlwbGVfbmV4dF9zdGVwJywge2luc25hbWU6IGluc3RhbmNlLm5hbWV9LCBsYW5nKSlcblxuXHRyZXR1cm5cblxuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMgPSAoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIGluYm94X3VzZXIpLT5cblx0X2JhdGNoX2luc3RhbmNlcyA9IG5ldyBBcnJheSgpXG5cblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlLCBpbmJveF91c2VyczogaW5ib3hfdXNlcn1cblxuXHRGSUVMRFMgPSB7bmFtZTogMSwgYXBwbGljYW50X25hbWU6IDEsIHN1Ym1pdF9kYXRlOiAxLCBmbG93X3ZlcnNpb246IDEsIFwidHJhY2VzLnN0ZXBcIjogMSwgZmxvdzogMX1cblxuXHRpZiBjYXRlZ29yeUlkXG5cblx0XHRpZiBjYXRlZ29yeUlkID09ICctMSdcblx0XHRcdHVuQ2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCB7X2lkOiAxfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKVxuXHRcdFx0cXVlcnkuZmxvdyA9IHskaW46IHVuQ2F0ZWdvcnlGbG93c31cblx0XHRlbHNlXG5cdFx0XHRjYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCBjYXRlZ29yeUlkLCB7X2lkOiAxfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKVxuXHRcdFx0cXVlcnkuZmxvdyA9IHskaW46IGNhdGVnb3J5Rmxvd3N9XG5cblx0aWYgZmxvd0lkc1xuXHRcdHF1ZXJ5LmZsb3cgPSB7JGluOiBmbG93SWRzfVxuXG4jXHRjb25zb2xlLmxvZyhcInF1ZXJ5XCIsIEpTT04uc3RyaW5naWZ5KHF1ZXJ5KSlcblxuXHRpbmJveF9pbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczogRklFTERTLCBza2lwOiAwLCBsaW1pdDogMTAwfSlcblxuXHRpbmJveF9pbnN0YW5jZXMuZm9yRWFjaCAoaW5zKS0+XG5cdFx0Y3VycmVudFN0ZXBJZCA9IF8ubGFzdChpbnMudHJhY2VzKS5zdGVwICNUT0RPIOatpOS7o+eggeS4jemAgueUqOS8oOmYheaJueWkhOeQhlxuXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogaW5zLmZsb3d9KVxuXG5cdFx0Y3VycmVudFN0ZXAgPSBzdGVwTWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgY3VycmVudFN0ZXBJZClcblxuXHRcdGlmIHN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2goY3VycmVudFN0ZXApICYmIEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zLl9pZCwgaW5ib3hfdXNlcilcblxuXHRcdFx0ZGVsZXRlIGlucy5mbG93X3ZlcnNpb25cblxuXHRcdFx0ZGVsZXRlIGlucy50cmFjZXNcblxuXHRcdFx0ZGVsZXRlIGlucy5mbG93XG5cblx0XHRcdF9iYXRjaF9pbnN0YW5jZXMucHVzaChpbnMpXG4jXHRcdGVsc2VcbiNcdFx0XHRjb25zb2xlLmxvZyhcIuaJuemHj+WuoeaJuS3lvILluLjmlbDmja5cIiwgaW5zLl9pZClcblxuXHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlc1xuIiwidmFyIF9ldmFsLCBsb2dnZXI7ICAgICAgICAgICAgICAgICBcblxuX2V2YWwgPSByZXF1aXJlKCdldmFsJyk7XG5cbkluc3RhbmNlTWFuYWdlciA9IHt9O1xuXG5sb2dnZXIgPSBuZXcgTG9nZ2VyKCdXb3JrZmxvdyAtPiBJbnN0YW5jZU1hbmFnZXInKTtcblxuSW5zdGFuY2VNYW5hZ2VyLmhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXAgPSBmdW5jdGlvbihpbnMsIGZpZWxkX21hcCkge1xuICB2YXIgY29udGV4dCwgZSwgZmxvdywgcmVzLCBzY3JpcHQ7XG4gIHJlcyA9IGlucztcbiAgaWYgKGlucykge1xuICAgIGlmICghZmllbGRfbWFwKSB7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zLmZsb3dcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZmllbGRfbWFwOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cuZmllbGRfbWFwIDogdm9pZCAwKSB7XG4gICAgICAgIGZpZWxkX21hcCA9IGZsb3cuZmllbGRfbWFwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmllbGRfbWFwKSB7XG4gICAgICBjb250ZXh0ID0gXy5jbG9uZShpbnMpO1xuICAgICAgY29udGV4dC5fID0gXztcbiAgICAgIHNjcmlwdCA9IFwidmFyIGluc3RhbmNlcyA9IFwiICsgZmllbGRfbWFwICsgXCI7IGV4cG9ydHMuaW5zdGFuY2VzID0gaW5zdGFuY2VzXCI7XG4gICAgICB0cnkge1xuICAgICAgICByZXMgPSBfZXZhbChzY3JpcHQsIFwiaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcFwiLCBjb250ZXh0LCBmYWxzZSkuaW5zdGFuY2VzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICByZXMgPSB7XG4gICAgICAgICAgX2Vycm9yOiBlXG4gICAgICAgIH07XG4gICAgICAgIGxvZ2dlci5lcnJvcihlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCBoYW5kbGVyKSB7XG4gIHZhciBjdXJyZW50QXBwcm92ZSwgY3VycmVudEFwcHJvdmVzLCBjdXJyZW50VHJhY2VzO1xuICBpZiAoIWluc3RhbmNlIHx8ICFpbnN0YW5jZS50cmFjZXMgfHwgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDEpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY3VycmVudFRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcy5maWx0ZXJQcm9wZXJ0eSgnaXNfZmluaXNoZWQnLCBmYWxzZSk7XG4gIGlmIChjdXJyZW50VHJhY2VzLmxlbmd0aCkge1xuICAgIGN1cnJlbnRBcHByb3ZlcyA9IGN1cnJlbnRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpLmZpbHRlclByb3BlcnR5KCdoYW5kbGVyJywgaGFuZGxlcik7XG4gICAgY3VycmVudEFwcHJvdmUgPSBjdXJyZW50QXBwcm92ZXMubGVuZ3RoID4gMCA/IGN1cnJlbnRBcHByb3Zlc1swXSA6IG51bGw7XG4gIH1cbiAgaWYgKCFjdXJyZW50QXBwcm92ZSB8fCBjdXJyZW50QXBwcm92ZS50eXBlID09PSAnY2MnKSB7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgaWYgKGEudHlwZSA9PT0gJ2NjJyAmJiBhLnVzZXIgPT09IGhhbmRsZXIgJiYgYS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBjdXJyZW50QXBwcm92ZSA9IGE7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGlmICghY3VycmVudEFwcHJvdmUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnRBcHByb3ZlO1xufTtcblxuSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRUcmFjZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCB0cmFjZUlkKSB7XG4gIHJldHVybiBpbnN0YW5jZS50cmFjZXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZUlkKTtcbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUgPSBmdW5jdGlvbihpbnN0YW5jZUlkLCB1c2VySWQpIHtcbiAgdmFyIGZsb3csIGluc3RhbmNlLCBteV9hcHByb3ZlLCBuZXh0U3RlcHMsIG5leHRfdXNlcl9pZHMsIHN0ZXAsIHRyYWNlO1xuICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSk7XG4gIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gIG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoaW5zdGFuY2UsIHVzZXJJZCk7XG4gIGlmIChteV9hcHByb3ZlKSB7XG4gICAgdHJhY2UgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlKGluc3RhbmNlLCBteV9hcHByb3ZlLnRyYWNlKTtcbiAgICBzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCB0cmFjZS5zdGVwKTtcbiAgICBuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwgXCJcIik7XG4gICAgaWYgKG5leHRTdGVwcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zdGFuY2UuX2lkLCBuZXh0U3RlcHNbMF0pO1xuICAgICAgaWYgKG5leHRfdXNlcl9pZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIG15X2FwcHJvdmUubmV4dF9zdGVwcyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdGVwOiBuZXh0U3RlcHNbMF0sXG4gICAgICAgICAgICB1c2VyczogbmV4dF91c2VyX2lkc1xuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIG15X2FwcHJvdmU7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMgPSBmdW5jdGlvbihzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgaW5ib3hfdXNlcikge1xuICB2YXIgRklFTERTLCBfYmF0Y2hfaW5zdGFuY2VzLCBjYXRlZ29yeUZsb3dzLCBpbmJveF9pbnN0YW5jZXMsIHF1ZXJ5LCB1bkNhdGVnb3J5Rmxvd3M7XG4gIF9iYXRjaF9pbnN0YW5jZXMgPSBuZXcgQXJyYXkoKTtcbiAgcXVlcnkgPSB7XG4gICAgc3BhY2U6IHNwYWNlLFxuICAgIGluYm94X3VzZXJzOiBpbmJveF91c2VyXG4gIH07XG4gIEZJRUxEUyA9IHtcbiAgICBuYW1lOiAxLFxuICAgIGFwcGxpY2FudF9uYW1lOiAxLFxuICAgIHN1Ym1pdF9kYXRlOiAxLFxuICAgIGZsb3dfdmVyc2lvbjogMSxcbiAgICBcInRyYWNlcy5zdGVwXCI6IDEsXG4gICAgZmxvdzogMVxuICB9O1xuICBpZiAoY2F0ZWdvcnlJZCkge1xuICAgIGlmIChjYXRlZ29yeUlkID09PSAnLTEnKSB7XG4gICAgICB1bkNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGbG93cyhzcGFjZSwge1xuICAgICAgICBfaWQ6IDFcbiAgICAgIH0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgICAkaW46IHVuQ2F0ZWdvcnlGbG93c1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldENhdGVnb3JpZXNGbG93cyhzcGFjZSwgY2F0ZWdvcnlJZCwge1xuICAgICAgICBfaWQ6IDFcbiAgICAgIH0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgICAkaW46IGNhdGVnb3J5Rmxvd3NcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGlmIChmbG93SWRzKSB7XG4gICAgcXVlcnkuZmxvdyA9IHtcbiAgICAgICRpbjogZmxvd0lkc1xuICAgIH07XG4gIH1cbiAgaW5ib3hfaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IEZJRUxEUyxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiAxMDBcbiAgfSk7XG4gIGluYm94X2luc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGlucykge1xuICAgIHZhciBjdXJyZW50U3RlcCwgY3VycmVudFN0ZXBJZCwgZmxvdztcbiAgICBjdXJyZW50U3RlcElkID0gXy5sYXN0KGlucy50cmFjZXMpLnN0ZXA7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnMuZmxvd1xuICAgIH0pO1xuICAgIGN1cnJlbnRTdGVwID0gc3RlcE1hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGN1cnJlbnRTdGVwSWQpO1xuICAgIGlmIChzdGVwTWFuYWdlci5hbGxvd0JhdGNoKGN1cnJlbnRTdGVwKSAmJiBJbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlKGlucy5faWQsIGluYm94X3VzZXIpKSB7XG4gICAgICBkZWxldGUgaW5zLmZsb3dfdmVyc2lvbjtcbiAgICAgIGRlbGV0ZSBpbnMudHJhY2VzO1xuICAgICAgZGVsZXRlIGlucy5mbG93O1xuICAgICAgcmV0dXJuIF9iYXRjaF9pbnN0YW5jZXMucHVzaChpbnMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzO1xufTtcbiIsIk1ldGVvci5wdWJsaXNoICdjYXRlZ29yaWVzJywgKHNwYWNlSWQpIC0+XG5cdGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCBzcGFjZTogMSwgc29ydF9ubzogMSwgYXBwOiAxIH0gfSkiLCJNZXRlb3IucHVibGlzaCgnY2F0ZWdvcmllcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBzb3J0X25vOiAxLFxuICAgICAgYXBwOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiXG5NZXRlb3IucHVibGlzaCAnY2ZzX2luc3RhbmNlcycsIChpbnN0YW5jZUlkcyktPlxuXHRjaGVjayhpbnN0YW5jZUlkcywgQXJyYXkpXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBpbnN0YW5jZUlkc1xuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IHskaW46IGluc3RhbmNlSWRzfSAsICRvcjogW3snbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHskbmU6IHRydWV9fSx7J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLCBcIm1ldGFkYXRhLm93bmVyXCI6IHRoaXMudXNlcklkfV19KVxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Nmc19pbnN0YW5jZXMnLCBmdW5jdGlvbihpbnN0YW5jZUlkcykge1xuICBjaGVjayhpbnN0YW5jZUlkcywgQXJyYXkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG4gICAgICAkaW46IGluc3RhbmNlSWRzXG4gICAgfSxcbiAgICAkb3I6IFtcbiAgICAgIHtcbiAgICAgICAgJ21ldGFkYXRhLmlzX3ByaXZhdGUnOiB7XG4gICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJ21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLFxuICAgICAgICBcIm1ldGFkYXRhLm93bmVyXCI6IHRoaXMudXNlcklkXG4gICAgICB9XG4gICAgXVxuICB9KTtcbn0pO1xuIiwiXG5cbk1ldGVvci5wdWJsaXNoICdmbG93X3Bvc2l0aW9ucycsIChzcGFjZUlkKS0+XG5cdFxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cdFxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRyZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7cm9sZToxLCB1c2VyczogMSwgb3JnOiAxfX0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfcG9zaXRpb25zJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICByb2xlOiAxLFxuICAgICAgdXNlcnM6IDEsXG4gICAgICBvcmc6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaENvbXBvc2l0ZSAnZmxvd19wb3NpdGlvbnNfdGFidWxhcicsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XG5cdGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcblx0Y2hlY2soaWRzLCBBcnJheSk7XG5cdGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHRoaXMudW5ibG9jaygpXG5cblx0ZmluZDogLT5cblx0XHR0aGlzLnVuYmxvY2soKVxuXHRcdGRiLmZsb3dfcG9zaXRpb25zLmZpbmQge19pZDogeyRpbjogaWRzfX0sIGZpZWxkczogZmllbGRzXG5cblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIGZsb3dfcm9sZXNcblx0XHRcdFx0ZGIuZmxvd19yb2xlcy5maW5kIHsgX2lkOiBwb3NpdGlvbi5yb2xlIH0sIGZpZWxkczogbmFtZTogMVxuXHRcdH1cblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIG9yZ2FuaXphdGlvbnNcblx0XHRcdFx0ZGIub3JnYW5pemF0aW9ucy5maW5kIHsgX2lkOiBwb3NpdGlvbi5vcmcgfSwgZmllbGRzOiBmdWxsbmFtZTogMVxuXHRcdH1cblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcblx0XHRcdFx0ZGIuc3BhY2VfdXNlcnMuZmluZCB7XG5cdFx0XHRcdFx0c3BhY2U6IHBvc2l0aW9uLnNwYWNlXG5cdFx0XHRcdFx0dXNlcjogJGluOiBwb3NpdGlvbi51c2Vyc1xuXHRcdFx0XHR9LCBmaWVsZHM6XG5cdFx0XHRcdFx0c3BhY2U6IDFcblx0XHRcdFx0XHR1c2VyOiAxXG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdH1cblx0XSIsIk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlKCdmbG93X3Bvc2l0aW9uc190YWJ1bGFyJywgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICB0aGlzLnVuYmxvY2soKTtcbiAgcmV0dXJuIHtcbiAgICBmaW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgcmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlkc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHBvc2l0aW9uLnJvbGVcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHBvc2l0aW9uLm9yZ1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IHBvc2l0aW9uLnNwYWNlLFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAkaW46IHBvc2l0aW9uLnVzZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICB1c2VyOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59KTtcbiIsIlxuXG5cdE1ldGVvci5wdWJsaXNoICdmbG93X3JvbGVzJywgKHNwYWNlSWQpLT5cblx0XHRcblx0XHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcblx0XHRcblx0XHR1bmxlc3Mgc3BhY2VJZFxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0XHRyZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtuYW1lOjF9fSk7XG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19yb2xlcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dzJywgKHNwYWNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdCMg56ys5LiA5qyh6K6i6ZiF5pe25Yid5aeL5YyW5bel5L2c5Yy6XG5cdGlmIGRiLmZsb3dzLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSkuY291bnQoKSA9PSAwXG5cdFx0ZGIuc3BhY2VzLmNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3coc3BhY2VJZClcblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7XG5cdFx0ZmllbGRzOiB7XG5cdFx0XHRuYW1lOiAxLFxuXHRcdFx0Zm9ybTogMSxcblx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0cGVybXM6IDEsXG5cdFx0XHRzcGFjZTogMSxcblx0XHRcdGNvbXBhbnlfaWQ6IDEsXG5cdFx0XHRzb3J0X25vOiAxXG5cdFx0fVxuXHR9KVxuXG5cbk1ldGVvci5wdWJsaXNoICdmbG93X3ZlcnNpb24nLCAoc3BhY2VJZCwgZmxvd0lkLCB2ZXJzaW9uSWQpIC0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZmxvd0lkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyB2ZXJzaW9uSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRzZWxmID0gdGhpcztcblxuXHRnZXRGbG93VmVyc2lvbiA9IChpZCAsIHZlcnNpb25JZCktPlxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQgOiBpZH0pO1xuXHRcdGlmIGZsb3dcblx0XHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudFxuXHRcdFx0Zmxvd192ZXJzaW9uLmxhdGVzdCA9IHRydWVcblxuXHRcdFx0aWYgZmxvd192ZXJzaW9uLl9pZCAhPSB2ZXJzaW9uSWRcblx0XHRcdFx0Zmxvd192ZXJzaW9uID0gZmxvdy5oaXN0b3J5cy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHZlcnNpb25JZClcblx0XHRcdFx0Zmxvd192ZXJzaW9uLmxhdGVzdCA9IGZhbHNlXG5cblx0XHRcdHJldHVybiBmbG93X3ZlcnNpb25cblx0aGFuZGxlID0gZGIuZmxvd3MuZmluZCh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7X2lkOiAxLCBcImN1cnJlbnQubW9kaWZpZWRcIjogMX19KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJmbG93X3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rmxvd1ZlcnNpb24oaWQsIHZlcnNpb25JZCkpO1xuXHR9XG5cblxuXHRzZWxmLmFkZGVkKFwiZmxvd192ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZsb3dWZXJzaW9uKGZsb3dJZCwgdmVyc2lvbklkKSk7XG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcblxuTWV0ZW9yLnB1Ymxpc2ggJ2Rpc3RyaWJ1dGVfb3B0aW9uYWxfZmxvd3MnLCAoZmxvd19pZHMpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBmbG93X2lkc1xuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7X2lkOiB7JGluOiBmbG93X2lkc319LCB7XG5cdFx0ZmllbGRzOiB7XG5cdFx0XHRuYW1lOiAxLFxuXHRcdFx0Zm9ybTogMSxcblx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0cGVybXM6IDEsXG5cdFx0XHRzcGFjZTogMSxcblx0XHRcdGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG5cdFx0XHRkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG5cdFx0XHRkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG5cdFx0XHRjb21wYW55X2lkOiAxXG5cdFx0fVxuXHR9KVxuXG5NZXRlb3IucHVibGlzaCAnZmxvdycsIChzcGFjZUlkLCBmbG93SWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBmbG93SWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7X2lkOiBmbG93SWQsIHNwYWNlOiBzcGFjZUlkfSwge1xuXHRcdGZpZWxkczoge1xuXHRcdFx0cHJpbnRfdGVtcGxhdGU6IDEsXG5cdFx0XHRpbnN0YW5jZV90ZW1wbGF0ZTogMSxcblx0XHRcdGV2ZW50czogMSxcblx0XHRcdGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG5cdFx0XHRkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG5cdFx0XHR1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQ6IDEsXG5cdFx0XHRkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG5cdFx0XHRjb21wYW55X2lkOiAxLFxuXHRcdFx0YWxsb3dfc2VsZWN0X3N0ZXA6IDFcblx0XHR9XG5cdH0pXG5cbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlICdmbG93c190YWJ1bGFyJywgKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpLT5cblx0Y2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuXHRjaGVjayhpZHMsIEFycmF5KTtcblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dGhpcy51bmJsb2NrKClcblxuXHRmaW5kOiAtPlxuXHRcdHRoaXMudW5ibG9jaygpXG5cdFx0ZGIuZmxvd3MuZmluZCB7X2lkOiB7JGluOiBpZHN9fSwgZmllbGRzOiBmaWVsZHNcblxuXHRjaGlsZHJlbjogW1xuXHRcdHtcblx0XHRcdGZpbmQ6IChmbG93KSAtPlxuXHRcdFx0XHRAdW5ibG9jaygpXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCB1c2VyXG5cdFx0XHRcdGRiLnNwYWNlX3VzZXJzLmZpbmQge1xuXHRcdFx0XHRcdHNwYWNlOiBmbG93LnNwYWNlLFxuXHRcdFx0XHRcdHVzZXI6IGZsb3cuY3VycmVudC5tb2RpZmllZF9ieVxuXHRcdFx0XHR9LCBmaWVsZHM6XG5cdFx0XHRcdFx0c3BhY2U6IDFcblx0XHRcdFx0XHR1c2VyOiAxXG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0ZmluZDogKGZsb3cpIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcblx0XHRcdFx0ZGIuZm9ybXMuZmluZCB7XG5cdFx0XHRcdFx0c3BhY2U6IGZsb3cuc3BhY2UsXG5cdFx0XHRcdFx0X2lkOiBmbG93LmZvcm1cblx0XHRcdFx0fSwgZmllbGRzOlxuXHRcdFx0XHRcdHNwYWNlOiAxXG5cdFx0XHRcdFx0X2lkOiAxXG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRjYXRlZ29yeTogMVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0ZmluZDogKGZsb3cpIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcblx0XHRcdFx0ZGIuY2F0ZWdvcmllcy5maW5kIHtcblx0XHRcdFx0XHRzcGFjZTogZmxvdy5zcGFjZVxuXHRcdFx0XHR9LCBmaWVsZHM6XG5cdFx0XHRcdFx0c3BhY2U6IDFcblx0XHRcdFx0XHRfaWQ6IDFcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0fVxuXHRdIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dzJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmIChkYi5mbG93cy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgZGIuc3BhY2VzLmNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3coc3BhY2VJZCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBmb3JtOiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBwZXJtczogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgY29tcGFueV9pZDogMSxcbiAgICAgIHNvcnRfbm86IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmbG93X3ZlcnNpb24nLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQsIHZlcnNpb25JZCkge1xuICB2YXIgZ2V0Rmxvd1ZlcnNpb24sIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCF2ZXJzaW9uSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRGbG93VmVyc2lvbiA9IGZ1bmN0aW9uKGlkLCB2ZXJzaW9uSWQpIHtcbiAgICB2YXIgZmxvdywgZmxvd192ZXJzaW9uO1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogaWRcbiAgICB9KTtcbiAgICBpZiAoZmxvdykge1xuICAgICAgZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xuICAgICAgZmxvd192ZXJzaW9uLmxhdGVzdCA9IHRydWU7XG4gICAgICBpZiAoZmxvd192ZXJzaW9uLl9pZCAhPT0gdmVyc2lvbklkKSB7XG4gICAgICAgIGZsb3dfdmVyc2lvbiA9IGZsb3cuaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpO1xuICAgICAgICBmbG93X3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmxvd192ZXJzaW9uO1xuICAgIH1cbiAgfTtcbiAgaGFuZGxlID0gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiBmbG93SWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDFcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihmbG93SWQsIHZlcnNpb25JZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Rpc3RyaWJ1dGVfb3B0aW9uYWxfZmxvd3MnLCBmdW5jdGlvbihmbG93X2lkcykge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dfaWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGZsb3dfaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgZm9ybTogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgcGVybXM6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG4gICAgICBkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG4gICAgICBjb21wYW55X2lkOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZmxvdycsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZmxvd0lkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiBmbG93SWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcHJpbnRfdGVtcGxhdGU6IDEsXG4gICAgICBpbnN0YW5jZV90ZW1wbGF0ZTogMSxcbiAgICAgIGV2ZW50czogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG4gICAgICB1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQ6IDEsXG4gICAgICBkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG4gICAgICBjb21wYW55X2lkOiAxLFxuICAgICAgYWxsb3dfc2VsZWN0X3N0ZXA6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlKCdmbG93c190YWJ1bGFyJywgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICB0aGlzLnVuYmxvY2soKTtcbiAgcmV0dXJuIHtcbiAgICBmaW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlkc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogZmxvdy5zcGFjZSxcbiAgICAgICAgICAgIHVzZXI6IGZsb3cuY3VycmVudC5tb2RpZmllZF9ieVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICAgICAgdXNlcjogMSxcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuZm9ybXMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogZmxvdy5zcGFjZSxcbiAgICAgICAgICAgIF9pZDogZmxvdy5mb3JtXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICBfaWQ6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICAgIGNhdGVnb3J5OiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IGZsb3cuc3BhY2VcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXVxuICB9O1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnZm9ybXMnLCAoc3BhY2VJZCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHNwYWNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRyZXR1cm4gZGIuZm9ybXMuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7bmFtZTogMSwgY2F0ZWdvcnk6IDEsIHN0YXRlOiAxLCBkZXNjcmlwdGlvbjogMSwgaW5zdGFuY2Vfc3R5bGU6IDF9fSlcblxuXG5NZXRlb3IucHVibGlzaCAnZm9ybV92ZXJzaW9uJywgKHNwYWNlSWQsIGZvcm1JZCwgdmVyc2lvbklkKSAtPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHNwYWNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGZvcm1JZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgdmVyc2lvbklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0Z2V0Rm9ybVZlcnNpb24gPSAoaWQgLCB2ZXJzaW9uSWQpLT5cblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkIDogaWR9KTtcblx0XHRpZiAhZm9ybVxuXHRcdFx0cmV0dXJuIHt9XG5cdFx0Zm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50XG5cdFx0Zm9ybV92ZXJzaW9uLmxhdGVzdCA9IHRydWVcblx0XHRpZiBmb3JtX3ZlcnNpb24uX2lkICE9IHZlcnNpb25JZFxuXHRcdFx0Zm9ybV92ZXJzaW9uID0gZm9ybS5oaXN0b3J5cy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHZlcnNpb25JZClcblx0XHRcdGZvcm1fdmVyc2lvbi5sYXRlc3QgPSBmYWxzZVxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb25cblxuXHRoYW5kbGUgPSBkYi5mb3Jtcy5maW5kKHtfaWQ6IGZvcm1JZH0sIHtmaWVsZHM6IHtfaWQ6IDEsIFwiY3VycmVudC5tb2RpZmllZFwiOiAxfX0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRjaGFuZ2VkOiAoaWQpLT5cblx0XHRcdHNlbGYuY2hhbmdlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG5cdH1cblxuXHRzZWxmLmFkZGVkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGZvcm1JZCwgdmVyc2lvbklkKSk7XG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKCkiLCJNZXRlb3IucHVibGlzaCgnZm9ybXMnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBjYXRlZ29yeTogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgZGVzY3JpcHRpb246IDEsXG4gICAgICBpbnN0YW5jZV9zdHlsZTogMVxuICAgIH1cbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Zvcm1fdmVyc2lvbicsIGZ1bmN0aW9uKHNwYWNlSWQsIGZvcm1JZCwgdmVyc2lvbklkKSB7XG4gIHZhciBnZXRGb3JtVmVyc2lvbiwgaGFuZGxlLCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZm9ybUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXZlcnNpb25JZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIGdldEZvcm1WZXJzaW9uID0gZnVuY3Rpb24oaWQsIHZlcnNpb25JZCkge1xuICAgIHZhciBmb3JtLCBmb3JtX3ZlcnNpb247XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpZFxuICAgIH0pO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnQ7XG4gICAgZm9ybV92ZXJzaW9uLmxhdGVzdCA9IHRydWU7XG4gICAgaWYgKGZvcm1fdmVyc2lvbi5faWQgIT09IHZlcnNpb25JZCkge1xuICAgICAgZm9ybV92ZXJzaW9uID0gZm9ybS5oaXN0b3J5cy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHZlcnNpb25JZCk7XG4gICAgICBmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBmb3JtX3ZlcnNpb247XG4gIH07XG4gIGhhbmRsZSA9IGRiLmZvcm1zLmZpbmQoe1xuICAgIF9pZDogZm9ybUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiAxXG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oaWQsIHZlcnNpb25JZCkpO1xuICAgIH1cbiAgfSk7XG4gIHNlbGYuYWRkZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oZm9ybUlkLCB2ZXJzaW9uSWQpKTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnaW5zdGFuY2VfZGF0YScsIChpbnN0YW5jZUlkLCBib3gpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBpbnN0YW5jZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLFxuXHRcdCdpc19yZWFkJywgJ2p1ZGdlJywgJ2ZpbmlzaF9kYXRlJywgJ2Zyb21fdXNlcl9uYW1lJywgJ2Zyb21fdXNlcicsICdjY19kZXNjcmlwdGlvbicsICdhdXRvX3N1Ym1pdHRlZCddXG5cblx0dHJpZ2dlckNoYW5nZUZpZWxkcyA9IFsnZm9ybV92ZXJzaW9uJywgJ2Zsb3dfdmVyc2lvbicsICdyZWxhdGVkX2luc3RhbmNlcycsICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ11cblxuXHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzID0ge31cblxuXHRpbnN0YW5jZV9maWVsZHNfMCA9IHtcblx0XHRcInJlY29yZF9zeW5jZWRcIjogMCxcblxuI1x0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvblwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmNvc3RfdGltZVwiOiAwLFxuI1x0XHRcInRyYWNlcy5hcHByb3Zlcy5yZWFkX2RhdGVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5pc19lcnJvclwiOiAwLFxuXHRcdCMgXCJ0cmFjZXMuYXBwcm92ZXMudXNlcl9uYW1lXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZGVhZGxpbmVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRfZGF0ZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZGVkX2NvdW50XCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRfYnlcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZFwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmdlb2xvY2F0aW9uXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuY2NfdXNlcnNcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5mcm9tX2FwcHJvdmVfaWRcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy52YWx1ZXNfaGlzdG9yeVwiOiAwXG5cdH1cblxuXHRnZXRNeWFwcHJvdmVNb2RpZmllZCA9ICh0cmFjZXMpLT5cblx0XHRteUFwcHJvdmVNb2RpZmllZHMgPSBuZXcgQXJyYXkoKVxuXG5cdFx0dHJhY2VzPy5mb3JFYWNoICh0cmFjZSktPlxuXHRcdFx0dHJhY2U/LmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKS0+XG5cdFx0XHRcdGlmIChhcHByb3ZlLnVzZXIgPT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09IHNlbGYudXNlcklkKVxuXHRcdFx0XHQjICYmICFhcHByb3ZlLmlzX2ZpbmlzaGVkXG4jXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiYXBwcm92ZVwiLCBhcHByb3ZlLl9pZCwgYXBwcm92ZS5yZWFkX2RhdGUpXG5cblx0XHRcdFx0XHRteUFwcHJvdmVNb2RpZmllZHMucHVzaChhcHByb3ZlLnJlYWRfZGF0ZSlcblxuXHRcdHJldHVybiBteUFwcHJvdmVNb2RpZmllZHNcblxuXG5cdGdldE1pbmlJbnN0YW5jZSA9IChfaW5zdGFuY2VJZCktPlxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogX2luc3RhbmNlSWR9LCB7ZmllbGRzOiBpbnN0YW5jZV9maWVsZHNfMH0pXG5cblx0XHRpZiBpbnN0YW5jZVxuXG5cdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzLmZvckVhY2ggKGtleSktPlxuXHRcdFx0XHRpZiBrZXkgPT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXG5cdFx0XHRcdFx0dHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoaW5zdGFuY2UudHJhY2VzKVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldID0gaW5zdGFuY2Vba2V5XVxuXG4jXHRcdFx0aGFzT3BpbmlvbkZpZWxkID0gSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZChpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXG5cblx0XHRcdHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHsgc3BhY2U6IGluc3RhbmNlLnNwYWNlLCBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwiIH0sIHsgZmllbGRzOiB7IHZhbHVlczogMSB9IH0pPy52YWx1ZXMgfHwgZmFsc2VcblxuXHRcdFx0aWYgc2hvd19tb2RhbF90cmFjZXNfbGlzdFxuXG5cdFx0XHRcdHRyYWNlcyA9IG5ldyBBcnJheSgpO1xuXG5cdFx0XHRcdGluc3RhbmNlPy50cmFjZXM/LmZvckVhY2ggKHRyYWNlKS0+XG5cdFx0XHRcdFx0X3RyYWNlID0gXy5jbG9uZSh0cmFjZSlcblxuXHRcdFx0XHRcdGFwcHJvdmVzID0gbmV3IEFycmF5KClcblxuXHRcdFx0XHRcdHRyYWNlPy5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSktPlxuXHRcdFx0XHRcdFx0aWYgYXBwcm92ZS50eXBlICE9ICdjYycgfHwgYXBwcm92ZS51c2VyID09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PSBzZWxmLnVzZXJJZCB8fCAoIV8uaXNFbXB0eShhcHByb3ZlLnNpZ25fZmllbGRfY29kZSkpXG5cdFx0XHRcdFx0XHRcdGFwcHJvdmVzLnB1c2goYXBwcm92ZSlcblxuXHRcdFx0XHRcdF90cmFjZS5hcHByb3ZlcyA9IGFwcHJvdmVzXG5cblx0XHRcdFx0XHR0cmFjZXMucHVzaChfdHJhY2UpXG5cblx0XHRcdFx0aW5zdGFuY2UudHJhY2VzID0gdHJhY2VzO1xuXG5cdFx0cmV0dXJuIGluc3RhbmNlXG5cblxuXHRuZWVkQ2hhbmdlID0gKGNoYW5nZUZpZWxkcyktPlxuXHRcdGlmIGNoYW5nZUZpZWxkc1xuXG5cdFx0XHRfY2hhbmdlID0gZmFsc2VcblxuXHRcdFx0X3JldiA9IF8uZmluZCB0cmlnZ2VyQ2hhbmdlRmllbGRzLCAoa2V5KS0+XG5cdFx0XHRcdF9rZXkgPSBrZXlcblxuXHRcdFx0XHRpZiBrZXkgPT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXG5cdFx0XHRcdFx0X2tleSA9ICd0cmFjZXMnXG5cblx0XHRcdFx0aWYgXy5oYXMoY2hhbmdlRmllbGRzLCBfa2V5KVxuXG5cdFx0XHRcdFx0aWYga2V5ID09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ1xuXG5cdFx0XHRcdFx0XHRfbXlfYXBwcm92ZV9tb2RpZmllZHMgPSBnZXRNeWFwcHJvdmVNb2RpZmllZChjaGFuZ2VGaWVsZHMudHJhY2VzKVxuXG4jXHRcdFx0XHRcdFx0Y29uc29sZS5sb2codHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBfbXlfYXBwcm92ZV9tb2RpZmllZHMpXG5cblx0XHRcdFx0XHRcdHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgX215X2FwcHJvdmVfbW9kaWZpZWRzKVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgY2hhbmdlRmllbGRzW2tleV0pXG5cblx0XHRcdGlmIF9yZXZcblx0XHRcdFx0X2NoYW5nZSA9IHRydWVcblxuI1x0XHRcdGNvbnNvbGUubG9nKF9yZXYsIF9jaGFuZ2UpXG5cblx0XHRcdHJldHVybiBfY2hhbmdlXG5cblx0XHRyZXR1cm4gdHJ1ZVxuXHQj5q2k5aSE5LiN6IO95re75YqgZmllbGRz6ZmQ5Yi277yM5ZCm5YiZ5Lya5a+86Ie05pWw5o2u5LiN5a6e5pe2XG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IGluc3RhbmNlSWR9KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0Y2hhbmdlZDogKGlkLCBmaWVsZHMpLT5cblx0XHRcdGlmKGJveCAhPSAnaW5ib3gnIHx8IG5lZWRDaGFuZ2UoZmllbGRzKSlcblx0XHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBnZXRNaW5pSW5zdGFuY2UoaWQpKTtcblx0XHRyZW1vdmVkOiAoaWQpLT5cblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG5cdH1cblxuXHRpbnN0YW5jZSA9IGdldE1pbmlJbnN0YW5jZShpbnN0YW5jZUlkKVxuXG5cdHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaW5zdGFuY2U/Ll9pZCwgaW5zdGFuY2UpO1xuXG5cdHNlbGYucmVhZHkoKTtcblxuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuXG5cbk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZV90cmFjZXMnLCAoaW5zdGFuY2VJZCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGluc3RhbmNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXNcblxuXHRnZXRJbnN0YW5jZVRyYWNlcyA9IChfaW5zSWQpLT5cblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogX2luc0lkfSwge2ZpZWxkczoge19pZDogMSwgdHJhY2VzOiAxfX0pXG5cblxuXHRoYW5kbGUgPSAgZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogaW5zdGFuY2VJZH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRjaGFuZ2VkOiAoaWQpLT5cblx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlX3RyYWNlc1wiLCBpbnN0YW5jZUlkLCBnZXRJbnN0YW5jZVRyYWNlcyhpbnN0YW5jZUlkKSk7XG5cdH1cblxuXHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcblxuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpIiwiTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlX2RhdGEnLCBmdW5jdGlvbihpbnN0YW5jZUlkLCBib3gpIHtcbiAgdmFyIGdldE1pbmlJbnN0YW5jZSwgZ2V0TXlhcHByb3ZlTW9kaWZpZWQsIGhhbmRsZSwgaW5zdGFuY2UsIGluc3RhbmNlX2ZpZWxkc18wLCBtaW5pQXBwcm92ZUZpZWxkcywgbmVlZENoYW5nZSwgc2VsZiwgdHJpZ2dlckNoYW5nZUZpZWxkcywgdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlcztcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgbWluaUFwcHJvdmVGaWVsZHMgPSBbJ19pZCcsICdpc19maW5pc2hlZCcsICd1c2VyJywgJ2hhbmRsZXInLCAnaGFuZGxlcl9uYW1lJywgJ3R5cGUnLCAnc3RhcnRfZGF0ZScsICdkZXNjcmlwdGlvbicsICdpc19yZWFkJywgJ2p1ZGdlJywgJ2ZpbmlzaF9kYXRlJywgJ2Zyb21fdXNlcl9uYW1lJywgJ2Zyb21fdXNlcicsICdjY19kZXNjcmlwdGlvbicsICdhdXRvX3N1Ym1pdHRlZCddO1xuICB0cmlnZ2VyQ2hhbmdlRmllbGRzID0gWydmb3JtX3ZlcnNpb24nLCAnZmxvd192ZXJzaW9uJywgJ3JlbGF0ZWRfaW5zdGFuY2VzJywgJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXTtcbiAgdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlcyA9IHt9O1xuICBpbnN0YW5jZV9maWVsZHNfMCA9IHtcbiAgICBcInJlY29yZF9zeW5jZWRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25cIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5jb3N0X3RpbWVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5pc19lcnJvclwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmRlYWRsaW5lXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kX2RhdGVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRlZF9jb3VudFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkX2J5XCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5nZW9sb2NhdGlvblwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmNjX3VzZXJzXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV9hcHByb3ZlX2lkXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMudmFsdWVzX2hpc3RvcnlcIjogMFxuICB9O1xuICBnZXRNeWFwcHJvdmVNb2RpZmllZCA9IGZ1bmN0aW9uKHRyYWNlcykge1xuICAgIHZhciBteUFwcHJvdmVNb2RpZmllZHM7XG4gICAgbXlBcHByb3ZlTW9kaWZpZWRzID0gbmV3IEFycmF5KCk7XG4gICAgaWYgKHRyYWNlcyAhPSBudWxsKSB7XG4gICAgICB0cmFjZXMuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICB2YXIgcmVmO1xuICAgICAgICByZXR1cm4gdHJhY2UgIT0gbnVsbCA/IChyZWYgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICBpZiAoYXBwcm92ZS51c2VyID09PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT09IHNlbGYudXNlcklkKSB7XG4gICAgICAgICAgICByZXR1cm4gbXlBcHByb3ZlTW9kaWZpZWRzLnB1c2goYXBwcm92ZS5yZWFkX2RhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkcztcbiAgfTtcbiAgZ2V0TWluaUluc3RhbmNlID0gZnVuY3Rpb24oX2luc3RhbmNlSWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgcmVmMSwgc2hvd19tb2RhbF90cmFjZXNfbGlzdCwgdHJhY2VzO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBfaW5zdGFuY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczogaW5zdGFuY2VfZmllbGRzXzBcbiAgICB9KTtcbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIHRyaWdnZXJDaGFuZ2VGaWVsZHMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnKSB7XG4gICAgICAgICAgcmV0dXJuIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGluc3RhbmNlLnRyYWNlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGluc3RhbmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2hvd19tb2RhbF90cmFjZXNfbGlzdCA9ICgocmVmID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7XG4gICAgICAgIHNwYWNlOiBpbnN0YW5jZS5zcGFjZSxcbiAgICAgICAga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIlxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB2YWx1ZXM6IDFcbiAgICAgICAgfVxuICAgICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICAgIGlmIChzaG93X21vZGFsX3RyYWNlc19saXN0KSB7XG4gICAgICAgIHRyYWNlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBpZiAoaW5zdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICAgIGlmICgocmVmMSA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVmMS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgICAgICAgIHZhciBfdHJhY2UsIGFwcHJvdmVzLCByZWYyO1xuICAgICAgICAgICAgICBfdHJhY2UgPSBfLmNsb25lKHRyYWNlKTtcbiAgICAgICAgICAgICAgYXBwcm92ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICAgaWYgKHRyYWNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHJlZjIgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgcmVmMi5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcHJvdmUudHlwZSAhPT0gJ2NjJyB8fCBhcHByb3ZlLnVzZXIgPT09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PT0gc2VsZi51c2VySWQgfHwgKCFfLmlzRW1wdHkoYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUpKSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHByb3Zlcy5wdXNoKGFwcHJvdmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX3RyYWNlLmFwcHJvdmVzID0gYXBwcm92ZXM7XG4gICAgICAgICAgICAgIHJldHVybiB0cmFjZXMucHVzaChfdHJhY2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuICBuZWVkQ2hhbmdlID0gZnVuY3Rpb24oY2hhbmdlRmllbGRzKSB7XG4gICAgdmFyIF9jaGFuZ2UsIF9yZXY7XG4gICAgaWYgKGNoYW5nZUZpZWxkcykge1xuICAgICAgX2NoYW5nZSA9IGZhbHNlO1xuICAgICAgX3JldiA9IF8uZmluZCh0cmlnZ2VyQ2hhbmdlRmllbGRzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgdmFyIF9rZXksIF9teV9hcHByb3ZlX21vZGlmaWVkcztcbiAgICAgICAgX2tleSA9IGtleTtcbiAgICAgICAgaWYgKGtleSA9PT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnKSB7XG4gICAgICAgICAgX2tleSA9ICd0cmFjZXMnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfLmhhcyhjaGFuZ2VGaWVsZHMsIF9rZXkpKSB7XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnKSB7XG4gICAgICAgICAgICBfbXlfYXBwcm92ZV9tb2RpZmllZHMgPSBnZXRNeWFwcHJvdmVNb2RpZmllZChjaGFuZ2VGaWVsZHMudHJhY2VzKTtcbiAgICAgICAgICAgIHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgX215X2FwcHJvdmVfbW9kaWZpZWRzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBjaGFuZ2VGaWVsZHNba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChfcmV2KSB7XG4gICAgICAgIF9jaGFuZ2UgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9jaGFuZ2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCwgZmllbGRzKSB7XG4gICAgICBpZiAoYm94ICE9PSAnaW5ib3gnIHx8IG5lZWRDaGFuZ2UoZmllbGRzKSkge1xuICAgICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBnZXRNaW5pSW5zdGFuY2UoaWQpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcbiAgICB9XG4gIH0pO1xuICBpbnN0YW5jZSA9IGdldE1pbmlJbnN0YW5jZShpbnN0YW5jZUlkKTtcbiAgc2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpbnN0YW5jZSAhPSBudWxsID8gaW5zdGFuY2UuX2lkIDogdm9pZCAwLCBpbnN0YW5jZSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnaW5zdGFuY2VfdHJhY2VzJywgZnVuY3Rpb24oaW5zdGFuY2VJZCkge1xuICB2YXIgZ2V0SW5zdGFuY2VUcmFjZXMsIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0SW5zdGFuY2VUcmFjZXMgPSBmdW5jdGlvbihfaW5zSWQpIHtcbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBfaW5zSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICB0cmFjZXM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuICAgIH1cbiAgfSk7XG4gIHNlbGYuYWRkZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIlxuXHRNZXRlb3IucHVibGlzaCAnaW5zdGFuY2VzX2xpc3QnLCAoc3BhY2VJZCwgYm94LCBmbG93SWQpLT5cblxuXHRcdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXHRcdFxuXHRcdHVubGVzcyBzcGFjZUlkXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0XHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cblx0XHRpZiBib3ggPT0gXCJpbmJveFwiXG5cdFx0XHRxdWVyeS5pbmJveF91c2VycyA9IHRoaXMudXNlcklkO1xuXHRcdGVsc2UgaWYgYm94ID09IFwib3V0Ym94XCJcblx0XHRcdHF1ZXJ5Lm91dGJveF91c2VycyA9IHRoaXMudXNlcklkO1xuXHRcdGVsc2UgaWYgYm94ID09IFwiZHJhZnRcIlxuXHRcdFx0cXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwiZHJhZnRcIlxuXHRcdGVsc2UgaWYgYm94ID09IFwicGVuZGluZ1wiXG5cdFx0XHRxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJwZW5kaW5nXCJcblx0XHRlbHNlIGlmIGJveCA9PSBcImNvbXBsZXRlZFwiXG5cdFx0XHRxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJjb21wbGV0ZWRcIlxuXHRcdGVsc2UgaWYgYm94ID09IFwibW9uaXRvclwiXG5cdFx0XHRxdWVyeS5mbG93ID0gZmxvd0lkO1xuXHRcdFx0cXVlcnkuc3RhdGUgPSB7JGluOiBbXCJwZW5kaW5nXCIsXCJjb21wbGV0ZWRcIl19O1xuXHRcdGVsc2Vcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJub25lXCJcblxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczoge25hbWU6MSwgY3JlYXRlZDoxLCBmb3JtOjEsIGZsb3c6IDEsIHNwYWNlOjEsIG1vZGlmaWVkOjEsIGFwcGxpY2FudDogMSwgaXNfYXJjaGl2ZWQ6MSwgZm9ybV92ZXJzaW9uOiAxLCBmbG93X3ZlcnNpb246IDF9fSlcblxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlc19saXN0JywgZnVuY3Rpb24oc3BhY2VJZCwgYm94LCBmbG93SWQpIHtcbiAgdmFyIHF1ZXJ5O1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHF1ZXJ5ID0ge1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIGlmIChib3ggPT09IFwiaW5ib3hcIikge1xuICAgIHF1ZXJ5LmluYm94X3VzZXJzID0gdGhpcy51c2VySWQ7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm91dGJveFwiKSB7XG4gICAgcXVlcnkub3V0Ym94X3VzZXJzID0gdGhpcy51c2VySWQ7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwiZHJhZnRcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwicGVuZGluZ1wiKSB7XG4gICAgcXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG4gICAgcXVlcnkuc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm1vbml0b3JcIikge1xuICAgIHF1ZXJ5LmZsb3cgPSBmbG93SWQ7XG4gICAgcXVlcnkuc3RhdGUgPSB7XG4gICAgICAkaW46IFtcInBlbmRpbmdcIiwgXCJjb21wbGV0ZWRcIl1cbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJub25lXCI7XG4gIH1cbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgY3JlYXRlZDogMSxcbiAgICAgIGZvcm06IDEsXG4gICAgICBmbG93OiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBtb2RpZmllZDogMSxcbiAgICAgIGFwcGxpY2FudDogMSxcbiAgICAgIGlzX2FyY2hpdmVkOiAxLFxuICAgICAgZm9ybV92ZXJzaW9uOiAxLFxuICAgICAgZmxvd192ZXJzaW9uOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwibGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSA9IChpbnN0YW5jZWlkLCB1c2VySWQsIGRhdGFNYXAsIGNhbGxiYWNrKS0+XG5cdG9wZXJhdGlvbiA9IFt7XG5cdFx0XCIkbWF0Y2hcIjoge1xuXHRcdFx0XCJfaWRcIjogaW5zdGFuY2VpZFxuXHRcdH1cblx0fSwge1wiJHByb2plY3RcIjoge1wibmFtZVwiOiAxLCBcIl9hcHByb3ZlXCI6IFwiJHRyYWNlcy5hcHByb3Zlc1wifX0sIHtcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIn0sIHtcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIn0sXG5cdFx0e1wiJG1hdGNoXCI6IHtcIl9hcHByb3ZlLmlzX2ZpbmlzaGVkXCI6IHRydWUsICRvcjpbe1wiX2FwcHJvdmUuaGFuZGxlclwiOiB1c2VySWR9LHtcIl9hcHByb3ZlLnVzZXJcIjogdXNlcklkfV19fSxcblx0XHR7XCIkZ3JvdXBcIjoge1wiX2lkXCI6IFwiJF9pZFwiLCBcImZpbmlzaF9kYXRlXCI6IHtcIiRsYXN0XCI6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJ9fX1cblx0XVxuXG5cdGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKG9wZXJhdGlvbikudG9BcnJheSAoZXJyLCBkYXRhKS0+XG5cdFx0aWYgZXJyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxuXG5cdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XG5cdFx0XHRkYXRhTWFwLnB1c2ggZG9jXG5cblx0XHRpZiBjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spXG5cdFx0XHRjYWxsYmFjaygpXG5cdFx0cmV0dXJuXG5cbmFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSA9IE1ldGVvci53cmFwQXN5bmMobGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSlcblxuTWV0ZW9yLnB1Ymxpc2ggXCJpbnN0YW5jZV90YWJ1bGFyXCIsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG5cblx0Y2hlY2soaWRzLCBBcnJheSk7XG5cblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKVxuXG5cdGZpZWxkcy5jY191c2VycyA9IDFcblxuXHRzZWxmID0gdGhpcztcblxuXHRnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUgPSAodXNlcklkLCBpbnN0YW5jZUlkKS0+XG5cdFx0ZGF0YSA9IFtdXG5cdFx0YXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlKGluc3RhbmNlSWQsIHVzZXJJZCwgZGF0YSlcblx0XHRpZiBkYXRhLmxlbmd0aCA+IDBcblx0XHRcdHJldHVybiBkYXRhWzBdXG5cblxuXHRnZXRNeUFwcHJvdmUgPSAodXNlcklkLCBpbnN0YW5jZUlkKS0+XG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZUlkfSwge2ZpZWxkczoge3RyYWNlczogMX19KVxuXHRcdG15QXBwcm92ZSA9IG51bGxcblxuXHRcdGlmICFpbnN0YW5jZVxuXHRcdFx0cmV0dXJuXG5cblx0XHRpZiAhaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxXG5cdFx0XHRyZXR1cm5cblxuXHRcdG5vdEZpbmlzaGVkVHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpXG5cblx0XHRpZiBub3RGaW5pc2hlZFRyYWNlcy5sZW5ndGggPiAwXG5cdFx0XHRhcHByb3ZlcyA9IG5vdEZpbmlzaGVkVHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCB1c2VySWQpO1xuXG5cdFx0XHRpZiBhcHByb3Zlcy5sZW5ndGggPiAwXG5cdFx0XHRcdGFwcHJvdmUgPSBhcHByb3Zlc1swXVxuXHRcdFx0XHRteUFwcHJvdmUgPSB7XG5cdFx0XHRcdFx0aWQ6IGFwcHJvdmUuX2lkLFxuXHRcdFx0XHRcdGluc3RhbmNlOiBhcHByb3ZlLmluc3RhbmNlLFxuXHRcdFx0XHRcdHRyYWNlOiBhcHByb3ZlLnRyYWNlLFxuXHRcdFx0XHRcdGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcblx0XHRcdFx0XHRzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRhZ2VudDogYXBwcm92ZS5hZ2VudFxuXHRcdFx0XHRcdHVzZXJfbmFtZTogYXBwcm92ZS51c2VyX25hbWVcblx0XHRcdFx0fVxuXG5cdFx0aWYgIW15QXBwcm92ZVxuXHRcdFx0aXNfcmVhZCA9IGZhbHNlXG5cdFx0XHRpbnN0YW5jZS50cmFjZXMuZm9yRWFjaCAodHJhY2UpIC0+XG5cdFx0XHRcdHRyYWNlPy5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSkgLT5cblx0XHRcdFx0XHRpZiBhcHByb3ZlLnR5cGUgPT0gJ2NjJyBhbmQgYXBwcm92ZS51c2VyID09IHVzZXJJZCBhbmQgYXBwcm92ZS5pc19maW5pc2hlZCA9PSBmYWxzZVxuXHRcdFx0XHRcdFx0aWYgYXBwcm92ZS5pc19yZWFkXG5cdFx0XHRcdFx0XHRcdGlzX3JlYWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRteUFwcHJvdmUgPSB7aWQ6IGFwcHJvdmUuX2lkLCBpc19yZWFkOiBpc19yZWFkLCBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsIGFnZW50OiBhcHByb3ZlLmFnZW50LCB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lfVxuXG5cdFx0cmV0dXJuIG15QXBwcm92ZVxuXG5cdGdldFN0ZXBDdXJyZW50TmFtZSA9IChpbnN0YW5jZUlkKSAtPlxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0sIHtmaWVsZHM6IHtcInRyYWNlcy5uYW1lXCI6IDEsIFwidHJhY2VzXCI6IHskc2xpY2U6IC0xfX19KVxuXHRcdGlmIGluc3RhbmNlXG5cdFx0XHRzdGVwQ3VycmVudE5hbWUgPSBpbnN0YW5jZS50cmFjZXM/WzBdPy5uYW1lXG5cblx0XHRyZXR1cm4gc3RlcEN1cnJlbnROYW1lXG5cblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaWRzfX0sIHtmaWVsZHM6IHt0cmFjZXM6IDB9fSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxuXHRcdFx0bXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcblx0XHRcdGlmIG15QXBwcm92ZVxuXHRcdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWRcblx0XHRcdFx0aW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlXG5cdFx0XHRcdGlmIG15QXBwcm92ZS5hZ2VudFxuXHRcdFx0XHRcdGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWVcblx0XHRcdGVsc2Vcblx0XHRcdFx0aW5zdGFuY2UuaXNfcmVhZCA9IHRydWVcblxuXHRcdFx0aWYgbXlMYXN0RmluaXNoZWRBcHByb3ZlXG5cdFx0XHRcdGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlXG5cblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0aW5zdGFuY2UuY2NfY291bnQgPSBpbnN0YW5jZS5jY191c2Vycz8ubGVuZ3RoIHx8IDBcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG5cdFx0cmVtb3ZlZDogKGlkKS0+XG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuXHR9XG5cblx0aWRzLmZvckVhY2ggKGlkKS0+XG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpXG5cdFx0bXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcblx0XHRpZiBteUFwcHJvdmVcblx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0aW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlXG5cdFx0XHRpZiBteUFwcHJvdmUuYWdlbnRcblx0XHRcdFx0XHRpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lXG5cdFx0ZWxzZVxuXHRcdFx0aW5zdGFuY2UuaXNfcmVhZCA9IHRydWVcblxuXHRcdGlmIG15TGFzdEZpbmlzaGVkQXBwcm92ZVxuXHRcdFx0aW5zdGFuY2UubXlfZmluaXNoX2RhdGUgPSBteUxhc3RGaW5pc2hlZEFwcHJvdmUuZmluaXNoX2RhdGVcblxuXHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdGluc3RhbmNlLmNjX2NvdW50ID0gaW5zdGFuY2UuY2NfdXNlcnM/Lmxlbmd0aCB8fCAwXG5cdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKCkiLCJ2YXIgYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlLCBsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlO1xuXG5sYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlID0gZnVuY3Rpb24oaW5zdGFuY2VpZCwgdXNlcklkLCBkYXRhTWFwLCBjYWxsYmFjaykge1xuICB2YXIgb3BlcmF0aW9uO1xuICBvcGVyYXRpb24gPSBbXG4gICAge1xuICAgICAgXCIkbWF0Y2hcIjoge1xuICAgICAgICBcIl9pZFwiOiBpbnN0YW5jZWlkXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgXCIkcHJvamVjdFwiOiB7XG4gICAgICAgIFwibmFtZVwiOiAxLFxuICAgICAgICBcIl9hcHByb3ZlXCI6IFwiJHRyYWNlcy5hcHByb3Zlc1wiXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgXCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJcbiAgICB9LCB7XG4gICAgICBcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIlxuICAgIH0sIHtcbiAgICAgIFwiJG1hdGNoXCI6IHtcbiAgICAgICAgXCJfYXBwcm92ZS5pc19maW5pc2hlZFwiOiB0cnVlLFxuICAgICAgICAkb3I6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcIl9hcHByb3ZlLmhhbmRsZXJcIjogdXNlcklkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgXCJfYXBwcm92ZS51c2VyXCI6IHVzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIFwiJGdyb3VwXCI6IHtcbiAgICAgICAgXCJfaWRcIjogXCIkX2lkXCIsXG4gICAgICAgIFwiZmluaXNoX2RhdGVcIjoge1xuICAgICAgICAgIFwiJGxhc3RcIjogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBdO1xuICByZXR1cm4gZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUob3BlcmF0aW9uKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbiAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gZGF0YU1hcC5wdXNoKGRvYyk7XG4gICAgfSk7XG4gICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSA9IE1ldGVvci53cmFwQXN5bmMobGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSk7XG5cbk1ldGVvci5wdWJsaXNoKFwiaW5zdGFuY2VfdGFidWxhclwiLCBmdW5jdGlvbih0YWJsZU5hbWUsIGlkcywgZmllbGRzKSB7XG4gIHZhciBnZXRNeUFwcHJvdmUsIGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSwgZ2V0U3RlcEN1cnJlbnROYW1lLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcbiAgY2hlY2soaWRzLCBBcnJheSk7XG4gIGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG4gIGZpZWxkcy5jY191c2VycyA9IDE7XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBmdW5jdGlvbih1c2VySWQsIGluc3RhbmNlSWQpIHtcbiAgICB2YXIgZGF0YTtcbiAgICBkYXRhID0gW107XG4gICAgYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlKGluc3RhbmNlSWQsIHVzZXJJZCwgZGF0YSk7XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGRhdGFbMF07XG4gICAgfVxuICB9O1xuICBnZXRNeUFwcHJvdmUgPSBmdW5jdGlvbih1c2VySWQsIGluc3RhbmNlSWQpIHtcbiAgICB2YXIgYXBwcm92ZSwgYXBwcm92ZXMsIGluc3RhbmNlLCBpc19yZWFkLCBteUFwcHJvdmUsIG5vdEZpbmlzaGVkVHJhY2VzO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHRyYWNlczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIG15QXBwcm92ZSA9IG51bGw7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWluc3RhbmNlLnRyYWNlcyB8fCBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBub3RGaW5pc2hlZFRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcy5maWx0ZXJQcm9wZXJ0eShcImlzX2ZpbmlzaGVkXCIsIGZhbHNlKTtcbiAgICBpZiAobm90RmluaXNoZWRUcmFjZXMubGVuZ3RoID4gMCkge1xuICAgICAgYXBwcm92ZXMgPSBub3RGaW5pc2hlZFRyYWNlc1swXS5hcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcImlzX2ZpbmlzaGVkXCIsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eShcImhhbmRsZXJcIiwgdXNlcklkKTtcbiAgICAgIGlmIChhcHByb3Zlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFwcHJvdmUgPSBhcHByb3Zlc1swXTtcbiAgICAgICAgbXlBcHByb3ZlID0ge1xuICAgICAgICAgIGlkOiBhcHByb3ZlLl9pZCxcbiAgICAgICAgICBpbnN0YW5jZTogYXBwcm92ZS5pbnN0YW5jZSxcbiAgICAgICAgICB0cmFjZTogYXBwcm92ZS50cmFjZSxcbiAgICAgICAgICBpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWQsXG4gICAgICAgICAgc3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlLFxuICAgICAgICAgIGFnZW50OiBhcHByb3ZlLmFnZW50LFxuICAgICAgICAgIHVzZXJfbmFtZTogYXBwcm92ZS51c2VyX25hbWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFteUFwcHJvdmUpIHtcbiAgICAgIGlzX3JlYWQgPSBmYWxzZTtcbiAgICAgIGluc3RhbmNlLnRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgIHZhciByZWY7XG4gICAgICAgIHJldHVybiB0cmFjZSAhPSBudWxsID8gKHJlZiA9IHRyYWNlLmFwcHJvdmVzKSAhPSBudWxsID8gcmVmLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgIGlmIChhcHByb3ZlLnR5cGUgPT09ICdjYycgJiYgYXBwcm92ZS51c2VyID09PSB1c2VySWQgJiYgYXBwcm92ZS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChhcHByb3ZlLmlzX3JlYWQpIHtcbiAgICAgICAgICAgICAgaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbXlBcHByb3ZlID0ge1xuICAgICAgICAgICAgICBpZDogYXBwcm92ZS5faWQsXG4gICAgICAgICAgICAgIGlzX3JlYWQ6IGlzX3JlYWQsXG4gICAgICAgICAgICAgIHN0YXJ0X2RhdGU6IGFwcHJvdmUuc3RhcnRfZGF0ZSxcbiAgICAgICAgICAgICAgYWdlbnQ6IGFwcHJvdmUuYWdlbnQsXG4gICAgICAgICAgICAgIHVzZXJfbmFtZTogYXBwcm92ZS51c2VyX25hbWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbXlBcHByb3ZlO1xuICB9O1xuICBnZXRTdGVwQ3VycmVudE5hbWUgPSBmdW5jdGlvbihpbnN0YW5jZUlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHJlZjEsIHN0ZXBDdXJyZW50TmFtZTtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy5uYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzXCI6IHtcbiAgICAgICAgICAkc2xpY2U6IC0xXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIHN0ZXBDdXJyZW50TmFtZSA9IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyAocmVmMSA9IHJlZlswXSkgIT0gbnVsbCA/IHJlZjEubmFtZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIHN0ZXBDdXJyZW50TmFtZTtcbiAgfTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDoge1xuICAgICAgJGluOiBpZHNcbiAgICB9XG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHRyYWNlczogMFxuICAgIH1cbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgaW5zdGFuY2UsIG15QXBwcm92ZSwgbXlMYXN0RmluaXNoZWRBcHByb3ZlLCByZWYsIHJlZjE7XG4gICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IGZpZWxkc1xuICAgICAgfSk7XG4gICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgICAgbXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgICBpZiAobXlBcHByb3ZlKSB7XG4gICAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZDtcbiAgICAgICAgaW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgICBpZiAobXlBcHByb3ZlLmFnZW50KSB7XG4gICAgICAgICAgaW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAobXlMYXN0RmluaXNoZWRBcHByb3ZlKSB7XG4gICAgICAgIGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2UuaXNfY2MgPSAoKHJlZiA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKHNlbGYudXNlcklkKSA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgICBpbnN0YW5jZS5jY19jb3VudCA9ICgocmVmMSA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmMS5sZW5ndGggOiB2b2lkIDApIHx8IDA7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnM7XG4gICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG4gICAgfSxcbiAgICByZW1vdmVkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG4gICAgfVxuICB9KTtcbiAgaWRzLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIG15QXBwcm92ZSwgbXlMYXN0RmluaXNoZWRBcHByb3ZlLCByZWYsIHJlZjE7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9KTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgIG15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgIGlmIChteUFwcHJvdmUpIHtcbiAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZDtcbiAgICAgIGluc3RhbmNlLnN0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZTtcbiAgICAgIGlmIChteUFwcHJvdmUuYWdlbnQpIHtcbiAgICAgICAgaW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChteUxhc3RGaW5pc2hlZEFwcHJvdmUpIHtcbiAgICAgIGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlO1xuICAgIH1cbiAgICBpbnN0YW5jZS5pc19jYyA9ICgocmVmID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoc2VsZi51c2VySWQpIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICBpbnN0YW5jZS5jY19jb3VudCA9ICgocmVmMSA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmMS5sZW5ndGggOiB2b2lkIDApIHx8IDA7XG4gICAgZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzO1xuICAgIHJldHVybiBzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG4gIH0pO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZXNfZHJhZnQnLCAoc3BhY2VJZCkgLT5cblx0Y2hlY2sgc3BhY2VJZCwgU3RyaW5nXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVzZXJJZCA9IHRoaXMudXNlcklkXG5cdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7c3RhdGU6XCJkcmFmdFwiLHNwYWNlOnNwYWNlSWQsc3VibWl0dGVyOnVzZXJJZCwkb3I6W3tpbmJveF91c2VyczogeyRleGlzdHM6ZmFsc2V9fSwge2luYm94X3VzZXJzOiBbXX1dfSwge2ZpZWxkczoge19pZDogMSwgc3RhdGU6IDEsIHNwYWNlOiAxLCBzdWJtaXR0ZXI6IDEsIGluYm94X3VzZXJzOiAxLCBtb2RpZmllZDogMSwgbmFtZTogMX0sIHNvcnQ6e21vZGlmaWVkOiAtMX19KSIsIk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZXNfZHJhZnQnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIHZhciB1c2VySWQ7XG4gIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHVzZXJJZCA9IHRoaXMudXNlcklkO1xuICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIHN0YXRlOiBcImRyYWZ0XCIsXG4gICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgc3VibWl0dGVyOiB1c2VySWQsXG4gICAgJG9yOiBbXG4gICAgICB7XG4gICAgICAgIGluYm94X3VzZXJzOiB7XG4gICAgICAgICAgJGV4aXN0czogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBpbmJveF91c2VyczogW11cbiAgICAgIH1cbiAgICBdXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBzdWJtaXR0ZXI6IDEsXG4gICAgICBpbmJveF91c2VyczogMSxcbiAgICAgIG1vZGlmaWVkOiAxLFxuICAgICAgbmFtZTogMVxuICAgIH0sXG4gICAgc29ydDoge1xuICAgICAgbW9kaWZpZWQ6IC0xXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Rpc3RyaWJ1dGVkX2luc3RhbmNlc19zdGF0ZV9ieV9pZHMnLCAoaW5zdGFuY2VfaWRzKS0+XG5cdGNoZWNrKGluc3RhbmNlX2lkcywgQXJyYXkpXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXHRcblx0dW5sZXNzIGluc3RhbmNlX2lkc1xuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRpZiBfLmlzRW1wdHkoaW5zdGFuY2VfaWRzKVxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpc1xuXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGluc3RhbmNlX2lkc319LCB7ZmllbGRzOiB7c3RhdGU6IDEsIHRyYWNlczp7JHNsaWNlOiAxfSB9IH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRhZGRlZDogKGlkLCBmaWVsZHMpLT5cblx0XHRcdHNlbGYuYWRkZWQoJ2luc3RhbmNlcycsIGlkLCB7c3RhdGU6IGZpZWxkcy5zdGF0ZSwgaXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkfSlcblxuXHRcdGNoYW5nZWQ6IChpZCwgZmllbGRzKS0+XG5cdFx0XHRpZiBmaWVsZHMuc3RhdGVcblx0XHRcdFx0c2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge3N0YXRlOiBmaWVsZHMuc3RhdGV9KVxuXHRcdFx0aWYgZmllbGRzLnRyYWNlc1xuXHRcdFx0XHRzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7aXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkfSlcblx0fVxuXG5cdHRoaXMucmVhZHkoKVxuXHR0aGlzLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Rpc3RyaWJ1dGVkX2luc3RhbmNlc19zdGF0ZV9ieV9pZHMnLCBmdW5jdGlvbihpbnN0YW5jZV9pZHMpIHtcbiAgdmFyIGhhbmRsZSwgc2VsZjtcbiAgY2hlY2soaW5zdGFuY2VfaWRzLCBBcnJheSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VfaWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoXy5pc0VtcHR5KGluc3RhbmNlX2lkcykpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGluc3RhbmNlX2lkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgc3RhdGU6IDEsXG4gICAgICB0cmFjZXM6IHtcbiAgICAgICAgJHNsaWNlOiAxXG4gICAgICB9XG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgYWRkZWQ6IGZ1bmN0aW9uKGlkLCBmaWVsZHMpIHtcbiAgICAgIHJldHVybiBzZWxmLmFkZGVkKCdpbnN0YW5jZXMnLCBpZCwge1xuICAgICAgICBzdGF0ZTogZmllbGRzLnN0YXRlLFxuICAgICAgICBpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQsIGZpZWxkcykge1xuICAgICAgaWYgKGZpZWxkcy5zdGF0ZSkge1xuICAgICAgICBzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7XG4gICAgICAgICAgc3RhdGU6IGZpZWxkcy5zdGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChmaWVsZHMudHJhY2VzKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7XG4gICAgICAgICAgaXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHRoaXMucmVhZHkoKTtcbiAgcmV0dXJuIHRoaXMub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ3JlbGF0ZWRfaW5zdGFjZXMnLCAoaW5zdGFuY2VJZCwgcmVsYXRlZF9pbnN0YW5jZXMpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBpbnN0YW5jZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJlbGF0ZWRfaW5zdGFuY2VfaWRzID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VJZCx7ZmllbGRzOiB7cmVsYXRlZF9pbnN0YW5jZXM6IDF9fSk/LnJlbGF0ZWRfaW5zdGFuY2VzXG5cblx0aWYgcmVsYXRlZF9pbnN0YW5jZV9pZHMgJiYgXy5pc0FycmF5KHJlbGF0ZWRfaW5zdGFuY2VfaWRzKVxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluIDogcmVsYXRlZF9pbnN0YW5jZV9pZHN9fSwge2ZpZWxkczoge19pZDogMSwgbmFtZTogMSwgc3BhY2U6IDF9fSlcblx0ZWxzZVxuXHRcdHJldHVybiB0aGlzLnJlYWR5KCkiLCJNZXRlb3IucHVibGlzaCgncmVsYXRlZF9pbnN0YWNlcycsIGZ1bmN0aW9uKGluc3RhbmNlSWQsIHJlbGF0ZWRfaW5zdGFuY2VzKSB7XG4gIHZhciByZWYsIHJlbGF0ZWRfaW5zdGFuY2VfaWRzO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJlbGF0ZWRfaW5zdGFuY2VfaWRzID0gKHJlZiA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlSWQsIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHJlbGF0ZWRfaW5zdGFuY2VzOiAxXG4gICAgfVxuICB9KSkgIT0gbnVsbCA/IHJlZi5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMDtcbiAgaWYgKHJlbGF0ZWRfaW5zdGFuY2VfaWRzICYmIF8uaXNBcnJheShyZWxhdGVkX2luc3RhbmNlX2lkcykpIHtcbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgX2lkOiB7XG4gICAgICAgICRpbjogcmVsYXRlZF9pbnN0YW5jZV9pZHNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICBuYW1lOiAxLFxuICAgICAgICBzcGFjZTogMVxuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbn0pO1xuIiwiaWYgTWV0ZW9yLmlzU2VydmVyXG4gICAgTWV0ZW9yLnB1Ymxpc2ggJ3NwYWNlX3VzZXJfc2lnbnMnLCAoc3BhY2VJZCkgLT5cbiAgICAgICAgY2hlY2sgc3BhY2VJZCwgU3RyaW5nXG5cbiAgICAgICAgdW5sZXNzIHRoaXMudXNlcklkXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkeSgpXG5cbiAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZCh7IHNwYWNlOiBzcGFjZUlkIH0sIHtmaWVsZHM6IHtjcmVhdGVkX2J5OiAwLCBjcmVhdGVkOiAwLCBtb2RpZmllZF9ieTogMH19KVxuIiwiaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBNZXRlb3IucHVibGlzaCgnc3BhY2VfdXNlcl9zaWducycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gICAgfVxuICAgIHJldHVybiBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY3JlYXRlZF9ieTogMCxcbiAgICAgICAgY3JlYXRlZDogMCxcbiAgICAgICAgbW9kaWZpZWRfYnk6IDBcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG4iLCIjIyNcbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlIFwidXNlcl9pbmJveF9pbnN0YW5jZVwiLCAoKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcblx0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcblx0cXVlcnkgPSB7c3BhY2U6IHskaW46IHVzZXJTcGFjZUlkc319XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRmaW5kOiAtPlxuXHRcdGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRcdGFwcGxpY2FudF9uYW1lOiAxLFxuXHRcdFx0XHRmbG93OiAxLFxuXHRcdFx0XHRpbmJveF91c2VyczogMSxcblx0XHRcdFx0Y2NfdXNlcnM6IDEsXG5cdFx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRtb2RpZmllZDogMSxcblx0XHRcdFx0Zm9ybTogMVxuXHRcdFx0fSwgc29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiAyMDBcblx0XHR9KTtcblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAoaW5zdGFuY2UsIHBvc3QpLT5cblx0XHRcdFx0ZGIuZmxvd3MuZmluZCh7X2lkOiBpbnN0YW5jZS5mbG93fSwge2ZpZWxkczoge25hbWU6IDEsIHNwYWNlOiAxfX0pO1xuXHRcdH1cblx0XVxuIyMjXG5cbiMjI1xuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2luc3RhbmNlcycsIChzcGFjZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpcztcblxuXHQjXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcblx0I1x0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0I1x0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdCNcdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcblxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGZpZWxkcyA9IHtcblx0XHRzcGFjZTogMSxcbiNcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0ZmxvdzogMSxcblx0XHRpbmJveF91c2VyczogMSxcblx0XHRjY191c2VyczogMSxcblx0XHRzdGF0ZTogMSxcbiNcdFx0bmFtZTogMSxcbiNcdFx0bW9kaWZpZWQ6IDEsXG5cdFx0Zm9ybTogMVxuXHR9XG5cblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDUwMH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRhZGRlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSlcblx0XHRjaGFuZ2VkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuXHRcdHJlbW92ZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcblx0fVxuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcbiMjI1xuXG5fZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IChzcGFjZUlkLCB1c2VySWQsIF9pdGVtcywgY2FsbGJhY2spLT5cblx0ZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoW1xuXHRcdHtcblx0XHRcdCRtYXRjaDoge1xuXHRcdFx0XHRzcGFjZTogc3BhY2VJZCxcblx0XHRcdFx0JG9yOiBbe2luYm94X3VzZXJzOiB1c2VySWR9LCB7Y2NfdXNlcnM6IHVzZXJJZH1dXG5cdFx0XHR9XG5cdFx0fSxcblx0XHR7XG5cdFx0XHQkZ3JvdXA6IHtcblx0XHRcdFx0X2lkOiB7ZmxvdzogXCIkZmxvd1wiLCBjYXRlZ29yeTogXCIkY2F0ZWdvcnlcIn0sIGNvdW50OiB7JHN1bTogMX1cblx0XHRcdH1cblx0XHR9XG5cdF0pLnRvQXJyYXkgKGVyciwgZGF0YSktPlxuXHRcdGlmIGVyclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcblxuXHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxuXHRcdFx0X2l0ZW1zLnB1c2ggZG9jXG5cblx0XHRpZiBjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spXG5cdFx0XHRjYWxsYmFjaygpXG5cdFx0cmV0dXJuXG5cbl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSlcblxuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2Zsb3dfaW5zdGFuY2VzX2NvdW50JywgKHNwYWNlSWQpLT5cblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRkYXRhID0gW10gICPmlbDmja7moLzlvI/vvJpbe19pZDpmbG93SWQsIGNvdW50OiDlvoXlip7mlbDph499LCB7X2lkOmZsb3dJZDIsIGNvdW50OiDlvoXlip7mlbDph48yfV1cblx0X2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUoc3BhY2VJZCwgc2VsZi51c2VySWQsIGRhdGEpXG5cblx0X2Zsb3dzRGF0YSA9IFtdXG5cblx0Xy5lYWNoIGRhdGEsIChkYXRhSXRlbSktPlxuXHRcdF9mbG93c0RhdGEucHVzaCh7X2lkOiBkYXRhSXRlbS5faWQuZmxvdywgY2F0ZWdvcnk6IGRhdGFJdGVtLl9pZC5jYXRlZ29yeSwgY291bnQ6IGRhdGFJdGVtLmNvdW50fSlcblxuXHRzZWxmLmFkZGVkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge2Zsb3dzOiBfZmxvd3NEYXRhfSk7XG5cblx0X2NoYW5nZURhdGEgPSAoZG9jLCBhY3Rpb24pLT5cblx0XHRmbG93X2luc3RhbmNlID0gXy5maW5kIF9mbG93c0RhdGEsIChmKS0+XG5cdFx0XHRyZXR1cm4gZi5faWQgPT0gZG9jLmZsb3dcblx0XHRpZiBmbG93X2luc3RhbmNlXG5cdFx0XHRpZiBhY3Rpb24gPT0gXCJhZGRlZFwiXG5cdFx0XHRcdGZsb3dfaW5zdGFuY2UuY291bnQrK1xuXHRcdFx0ZWxzZSBpZiBhY3Rpb24gPT0gXCJyZW1vdmVkXCJcblx0XHRcdFx0Zmxvd19pbnN0YW5jZS5jb3VudC0tXG5cdFx0ZWxzZSBpZiBhY3Rpb24gPT0gXCJhZGRlZFwiXG5cdFx0XHRfZmxvd3NEYXRhLnB1c2gge19pZDogZG9jLmZsb3csIGNhdGVnb3J5OiBkb2MuY2F0ZWdvcnksIGNvdW50OiAxfVxuXG5cdFx0c2VsZi5jaGFuZ2VkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge2Zsb3dzOiBfZmxvd3NEYXRhfSk7XG5cblx0X2luaXQgPSB0cnVlXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7X2lkOiAxLCBpbmJveF91c2VyczogMSwgY2NfdXNlcnM6IDEsIGZsb3c6IDEsIGNhdGVnb3J5OiAxfX0pLm9ic2VydmUge1xuXHRcdGFkZGVkOiAoZG9jKS0+XG5cdFx0XHRpZiAhX2luaXRcblx0XHRcdFx0X2NoYW5nZURhdGEoZG9jLCBcImFkZGVkXCIpXG5cdFx0cmVtb3ZlZDogKGRvYyktPlxuXHRcdFx0aWYgIV9pbml0XG5cdFx0XHRcdF9jaGFuZ2VEYXRhKGRvYywgXCJyZW1vdmVkXCIpXG5cdH1cblx0X2luaXQgPSBmYWxzZVxuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKCkiLCJcbi8qXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSBcInVzZXJfaW5ib3hfaW5zdGFuY2VcIiwgKCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdFx0dXNlcjogdGhpcy51c2VySWQsXG5cdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxuXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XG5cdHF1ZXJ5ID0ge3NwYWNlOiB7JGluOiB1c2VyU3BhY2VJZHN9fVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZmluZDogLT5cblx0XHRkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHNwYWNlOiAxLFxuXHRcdFx0XHRhcHBsaWNhbnRfbmFtZTogMSxcblx0XHRcdFx0ZmxvdzogMSxcblx0XHRcdFx0aW5ib3hfdXNlcnM6IDEsXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxuXHRcdFx0XHRzdGF0ZTogMSxcblx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0bW9kaWZpZWQ6IDEsXG5cdFx0XHRcdGZvcm06IDFcblx0XHRcdH0sIHNvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogMjAwXG5cdFx0fSk7XG5cdGNoaWxkcmVuOiBbXG5cdFx0e1xuXHRcdFx0ZmluZDogKGluc3RhbmNlLCBwb3N0KS0+XG5cdFx0XHRcdGRiLmZsb3dzLmZpbmQoe19pZDogaW5zdGFuY2UuZmxvd30sIHtmaWVsZHM6IHtuYW1lOiAxLCBzcGFjZTogMX19KTtcblx0XHR9XG5cdF1cbiAqL1xuXG4vKlxuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2luc3RhbmNlcycsIChzcGFjZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpcztcblxuXHQgKlx0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdCAqXHRcdHVzZXI6IHRoaXMudXNlcklkLFxuXHQgKlx0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdCAqXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XG5cblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRmaWVsZHMgPSB7XG5cdFx0c3BhY2U6IDEsXG4gKlx0XHRhcHBsaWNhbnRfbmFtZTogMSxcblx0XHRmbG93OiAxLFxuXHRcdGluYm94X3VzZXJzOiAxLFxuXHRcdGNjX3VzZXJzOiAxLFxuXHRcdHN0YXRlOiAxLFxuICpcdFx0bmFtZTogMSxcbiAqXHRcdG1vZGlmaWVkOiAxLFxuXHRcdGZvcm06IDFcblx0fVxuXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7c29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0YWRkZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpXG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcblx0XHRyZW1vdmVkOiAoaWQpLT5cblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG5cdH1cblxuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG4gKi9cbnZhciBfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSwgX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGU7XG5cbl9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gZnVuY3Rpb24oc3BhY2VJZCwgdXNlcklkLCBfaXRlbXMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShbXG4gICAge1xuICAgICAgJG1hdGNoOiB7XG4gICAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgICAkb3I6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbmJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2NfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRncm91cDoge1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICBmbG93OiBcIiRmbG93XCIsXG4gICAgICAgICAgY2F0ZWdvcnk6IFwiJGNhdGVnb3J5XCJcbiAgICAgICAgfSxcbiAgICAgICAgY291bnQ6IHtcbiAgICAgICAgICAkc3VtOiAxXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIF0pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfaXRlbXMucHVzaChkb2MpO1xuICAgIH0pO1xuICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5fYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUpO1xuXG5NZXRlb3IucHVibGlzaCgnbXlfaW5ib3hfZmxvd19pbnN0YW5jZXNfY291bnQnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIHZhciBfY2hhbmdlRGF0YSwgX2Zsb3dzRGF0YSwgX2luaXQsIGRhdGEsIGhhbmRsZSwgcXVlcnksIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBxdWVyeSA9IHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9O1xuICBxdWVyeS4kb3IgPSBbXG4gICAge1xuICAgICAgaW5ib3hfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgfSwge1xuICAgICAgY2NfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgfVxuICBdO1xuICBkYXRhID0gW107XG4gIF9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKHNwYWNlSWQsIHNlbGYudXNlcklkLCBkYXRhKTtcbiAgX2Zsb3dzRGF0YSA9IFtdO1xuICBfLmVhY2goZGF0YSwgZnVuY3Rpb24oZGF0YUl0ZW0pIHtcbiAgICByZXR1cm4gX2Zsb3dzRGF0YS5wdXNoKHtcbiAgICAgIF9pZDogZGF0YUl0ZW0uX2lkLmZsb3csXG4gICAgICBjYXRlZ29yeTogZGF0YUl0ZW0uX2lkLmNhdGVnb3J5LFxuICAgICAgY291bnQ6IGRhdGFJdGVtLmNvdW50XG4gICAgfSk7XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge1xuICAgIGZsb3dzOiBfZmxvd3NEYXRhXG4gIH0pO1xuICBfY2hhbmdlRGF0YSA9IGZ1bmN0aW9uKGRvYywgYWN0aW9uKSB7XG4gICAgdmFyIGZsb3dfaW5zdGFuY2U7XG4gICAgZmxvd19pbnN0YW5jZSA9IF8uZmluZChfZmxvd3NEYXRhLCBmdW5jdGlvbihmKSB7XG4gICAgICByZXR1cm4gZi5faWQgPT09IGRvYy5mbG93O1xuICAgIH0pO1xuICAgIGlmIChmbG93X2luc3RhbmNlKSB7XG4gICAgICBpZiAoYWN0aW9uID09PSBcImFkZGVkXCIpIHtcbiAgICAgICAgZmxvd19pbnN0YW5jZS5jb3VudCsrO1xuICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwicmVtb3ZlZFwiKSB7XG4gICAgICAgIGZsb3dfaW5zdGFuY2UuY291bnQtLTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJhZGRlZFwiKSB7XG4gICAgICBfZmxvd3NEYXRhLnB1c2goe1xuICAgICAgICBfaWQ6IGRvYy5mbG93LFxuICAgICAgICBjYXRlZ29yeTogZG9jLmNhdGVnb3J5LFxuICAgICAgICBjb3VudDogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7XG4gICAgICBmbG93czogX2Zsb3dzRGF0YVxuICAgIH0pO1xuICB9O1xuICBfaW5pdCA9IHRydWU7XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDEsXG4gICAgICBpbmJveF91c2VyczogMSxcbiAgICAgIGNjX3VzZXJzOiAxLFxuICAgICAgZmxvdzogMSxcbiAgICAgIGNhdGVnb3J5OiAxXG4gICAgfVxuICB9KS5vYnNlcnZlKHtcbiAgICBhZGRlZDogZnVuY3Rpb24oZG9jKSB7XG4gICAgICBpZiAoIV9pbml0KSB7XG4gICAgICAgIHJldHVybiBfY2hhbmdlRGF0YShkb2MsIFwiYWRkZWRcIik7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVkOiBmdW5jdGlvbihkb2MpIHtcbiAgICAgIGlmICghX2luaXQpIHtcbiAgICAgICAgcmV0dXJuIF9jaGFuZ2VEYXRhKGRvYywgXCJyZW1vdmVkXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIF9pbml0ID0gZmFsc2U7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiXG5NZXRlb3IucHVibGlzaCAnZmxvd19tYWluX2F0dGFjaF90ZW1wbGF0ZScsIChzcGFjZUlkLCBmbG93SWQpLT5cblx0Y2hlY2soc3BhY2VJZCwgU3RyaW5nKVxuXHRjaGVjayhmbG93SWQsIFN0cmluZylcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHNwYWNlSWQgJiYgZmxvd0lkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBDcmVhdG9yLmdldENvbGxlY3Rpb24oJ2Ntc19maWxlcycpLmZpbmQoeyBzcGFjZTogc3BhY2VJZCwgJ3BhcmVudC5vJzogJ2Zsb3dzJywgJ3BhcmVudC5pZHMnOiBmbG93SWQsICBuYW1lOiAn5q2j5paHLmRvY3gnIH0pXG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19tYWluX2F0dGFjaF90ZW1wbGF0ZScsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCkge1xuICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICBjaGVjayhmbG93SWQsIFN0cmluZyk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghKHNwYWNlSWQgJiYgZmxvd0lkKSkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIENyZWF0b3IuZ2V0Q29sbGVjdGlvbignY21zX2ZpbGVzJykuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgJ3BhcmVudC5vJzogJ2Zsb3dzJyxcbiAgICAncGFyZW50Lmlkcyc6IGZsb3dJZCxcbiAgICBuYW1lOiAn5q2j5paHLmRvY3gnXG4gIH0pO1xufSk7XG4iLCJ3b3JrZmxvd1RlbXBsYXRlID0ge31cblxuI+WPr+eUqOatpOiEmuacrOS7juaooeadv+W3peS9nOWMuuWBmuaJuemHj+WvvOWHuu+8mlxuI+S9v+eUqOeuoeeQhuWRmOi0puaIt+eZu+W9leWQju+8jOi/m+WFpUZsb3dNb2R1bGVz77yM5Zyo5o6n5Yi25Y+w5omn6KGM5Lul5LiL6ISa5pys5Y2z5Y+vXG4jZGIuZm9ybXMuZmluZCh7c3RhdGU6XCJlbmFibGVkXCJ9KS5mb3JFYWNoKGZ1bmN0aW9uKGZvcm0pe3dpbmRvdy5vcGVuKE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS93b3JrZmxvdy9leHBvcnQvZm9ybT9mb3JtPVwiK2Zvcm0uX2lkKSl9KVxud29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdID1bXVxuXG4j5Y+v55So5q2k6ISa5pys5LuO5qih5p2/5bel5L2c5Yy65YGa5om56YeP5a+85Ye677yaXG4j5L2/55So566h55CG5ZGY6LSm5oi355m75b2V5ZCO77yM6L+b5YWl5qih5p2/5LiT5Yy677yM5Zyo5o6n5Yi25Y+w5omn6KGM5Lul5LiL6ISa5pys5Y2z5Y+vXG4jZGIuZm9ybXMuZmluZCh7c3RhdGU6XCJlbmFibGVkXCJ9KS5mb3JFYWNoKGZ1bmN0aW9uKGZvcm0pe3dpbmRvdy5vcGVuKE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS93b3JrZmxvdy9leHBvcnQvZm9ybT9mb3JtPVwiK2Zvcm0uX2lkKSl9KVxud29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdID1bXVxuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdGZzID0gcmVxdWlyZSgnZnMnKVxuXHRwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5cdG1pbWUgPSByZXF1aXJlKCdtaW1lJylcblx0cmVhZEZpbGVMaXN0ID0gKHBhdGhEaXIsIGZpbGVzTGlzdCktPlxuXHRcdGZpbGVzID0gZnMucmVhZGRpclN5bmMocGF0aERpcilcblx0XHRmaWxlcy5mb3JFYWNoIChuYW1lLCBpbmRleCktPlxuXHRcdFx0c3RhdCA9IGZzLnN0YXRTeW5jKHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSlcblx0XHRcdGlmIHN0YXQuaXNEaXJlY3RvcnkoKVxuXHRcdFx0XHQjIOmAkuW9kuivu+WPluaWh+S7tlxuXHRcdFx0XHRyZWFkRmlsZUxpc3QocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpLCBmaWxlc0xpc3QpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdG9iaiA9IHt9XG5cdFx0XHRcdG9iai5wYXRoID0gcGF0aERpclxuXHRcdFx0XHRvYmoubmFtZSA9IG5hbWVcblx0XHRcdFx0ZmlsZXNMaXN0LnB1c2gob2JqKVxuXG5cdCPojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlxuXHRmaWxlc0xpc3RfY24gPSBbXVxuXHRwYXRoX2NuID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzPy5wYXRoX2NuXG5cdGlmIHBhdGhfY25cblx0XHRhYnNvbHV0ZV9wYXRoX2NuID0gcGF0aC5yZXNvbHZlKHBhdGhfY24pXG5cdFx0Y29uc29sZS5sb2cgXCJhYnNvbHV0ZV9wYXRoX2NuXCIsIGFic29sdXRlX3BhdGhfY25cblx0XHRpZiBmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfY24pXG5cdFx0XHRyZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF9jbiwgZmlsZXNMaXN0X2NuKVxuXHRcdFx0ZmlsZXNMaXN0X2NuLmZvckVhY2ggKGZpbGUpLT5cblx0XHRcdFx0dHJ5XG5cdFx0XHRcdFx0aWYgbWltZS5nZXRUeXBlKGZpbGUubmFtZSkgaXMgXCJhcHBsaWNhdGlvbi9qc29uXCJcblx0XHRcdFx0XHRcdGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKVxuXHRcdFx0XHRcdFx0d29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSlcblx0XHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCLojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cblx0I+iOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XG5cdGZpbGVzTGlzdF91cyA9IFtdXG5cdHBhdGhfdXMgPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXM/LnBhdGhfdXNcblx0aWYgcGF0aF91c1xuXHRcdGFic29sdXRlX3BhdGhfdXMgPSBwYXRoLnJlc29sdmUocGF0aF91cylcblx0XHRjb25zb2xlLmxvZyBcImFic29sdXRlX3BhdGhfdXNcIiwgYWJzb2x1dGVfcGF0aF91c1xuXHRcdGlmIGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF91cylcblx0XHRcdHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX3VzLCBmaWxlc0xpc3RfdXMpXG5cdFx0XHRmaWxlc0xpc3RfdXMuZm9yRWFjaCAoZmlsZSktPlxuXHRcdFx0XHR0cnlcblx0XHRcdFx0XHRpZiBtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSBpcyBcImFwcGxpY2F0aW9uL2pzb25cIlxuXHRcdFx0XHRcdFx0ZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpXG5cdFx0XHRcdFx0XHR3b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKVxuXHRcdFx0XHRjYXRjaCBlXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBcIuiOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSlcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRcdFx0XG5cdFx0XHRcdFx0XG5cblxuIiwiICAgICAgICAgICAgICAgICAgICAgXG5cbndvcmtmbG93VGVtcGxhdGUgPSB7fTtcblxud29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdID0gW107XG5cbndvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXSA9IFtdO1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgdmFyIGFic29sdXRlX3BhdGhfY24sIGFic29sdXRlX3BhdGhfdXMsIGZpbGVzTGlzdF9jbiwgZmlsZXNMaXN0X3VzLCBmcywgbWltZSwgcGF0aCwgcGF0aF9jbiwgcGF0aF91cywgcmVhZEZpbGVMaXN0LCByZWYsIHJlZjE7XG4gIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbiAgbWltZSA9IHJlcXVpcmUoJ21pbWUnKTtcbiAgcmVhZEZpbGVMaXN0ID0gZnVuY3Rpb24ocGF0aERpciwgZmlsZXNMaXN0KSB7XG4gICAgdmFyIGZpbGVzO1xuICAgIGZpbGVzID0gZnMucmVhZGRpclN5bmMocGF0aERpcik7XG4gICAgcmV0dXJuIGZpbGVzLmZvckVhY2goZnVuY3Rpb24obmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBvYmosIHN0YXQ7XG4gICAgICBzdGF0ID0gZnMuc3RhdFN5bmMocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpKTtcbiAgICAgIGlmIChzdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRGaWxlTGlzdChwYXRoLmpvaW4ocGF0aERpciwgbmFtZSksIGZpbGVzTGlzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmogPSB7fTtcbiAgICAgICAgb2JqLnBhdGggPSBwYXRoRGlyO1xuICAgICAgICBvYmoubmFtZSA9IG5hbWU7XG4gICAgICAgIHJldHVybiBmaWxlc0xpc3QucHVzaChvYmopO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBmaWxlc0xpc3RfY24gPSBbXTtcbiAgcGF0aF9jbiA9IChyZWYgPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXMpICE9IG51bGwgPyByZWYucGF0aF9jbiA6IHZvaWQgMDtcbiAgaWYgKHBhdGhfY24pIHtcbiAgICBhYnNvbHV0ZV9wYXRoX2NuID0gcGF0aC5yZXNvbHZlKHBhdGhfY24pO1xuICAgIGNvbnNvbGUubG9nKFwiYWJzb2x1dGVfcGF0aF9jblwiLCBhYnNvbHV0ZV9wYXRoX2NuKTtcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX2NuKSkge1xuICAgICAgcmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfY24sIGZpbGVzTGlzdF9jbik7XG4gICAgICBmaWxlc0xpc3RfY24uZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIHZhciBkYXRhLCBlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgICAgICAgIGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpKTtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZpbGVzTGlzdF91cyA9IFtdO1xuICBwYXRoX3VzID0gKHJlZjEgPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXMpICE9IG51bGwgPyByZWYxLnBhdGhfdXMgOiB2b2lkIDA7XG4gIGlmIChwYXRoX3VzKSB7XG4gICAgYWJzb2x1dGVfcGF0aF91cyA9IHBhdGgucmVzb2x2ZShwYXRoX3VzKTtcbiAgICBjb25zb2xlLmxvZyhcImFic29sdXRlX3BhdGhfdXNcIiwgYWJzb2x1dGVfcGF0aF91cyk7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF91cykpIHtcbiAgICAgIHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX3VzLCBmaWxlc0xpc3RfdXMpO1xuICAgICAgcmV0dXJuIGZpbGVzTGlzdF91cy5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgdmFyIGRhdGEsIGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgICAgICAgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpO1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtmbG93VGVtcGxhdGVbXCJlblwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuiOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSkpO1xuICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xuIiwiIyMjXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxuIyMjXG5NZXRlb3Iuc3RhcnR1cCAtPlxuXHRpZiBNZXRlb3Iuc2V0dGluZ3MuY3Jvbj8uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uXG5cdFx0c2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJylcblx0XHQjIOWumuaXtuaJp+ihjOWQjOatpVxuXHRcdHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb25cblx0XHRnb19uZXh0ID0gdHJ1ZVxuXHRcdHNjaGVkdWxlLnNjaGVkdWxlSm9iIHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQgKCktPlxuXHRcdFx0dHJ5XG5cdFx0XHRcdGlmICFnb19uZXh0XG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdGdvX25leHQgPSBmYWxzZVxuXHRcdFx0XHRjb25zb2xlLnRpbWUgJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbidcblxuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxuXG5cdFx0XHRcdCMg5bCG5aeU5omY6KeE5YiZ6K6+572u5Li65LiN5Y+v55SoXG5cdFx0XHRcdGRiLnByb2Nlc3NfZGVsZWdhdGlvbl9ydWxlcy51cGRhdGUoeyBlbmFibGVkOiB0cnVlLCBlbmRfdGltZTogeyAkbHRlOiBub3cgfSB9LCB7ICRzZXQ6IHsgZW5hYmxlZDogZmFsc2UgfSB9LCB7IG11bHRpIDp0cnVlIH0pXG5cblx0XHRcdFx0Y29uc29sZS50aW1lRW5kICdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXG5cblx0XHRcdGNhdGNoIGVcblx0XHRcdFx0Y29uc29sZS5lcnJvciBcIkFVVE8gQVVUT19GSU5JU0hfUFJPQ0VTU19ERUxFR0FUSU9OIEVSUk9SOiBcIlxuXHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcblxuXHRcdCwgKCktPlxuXHRcdFx0Y29uc29sZS5sb2cgJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50J1xuIiwiXG4vKlxuKiAgICAqICAgICogICAgKiAgICAqICAgICpcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcbiAqL1xuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHZhciBnb19uZXh0LCByZWYsIHJ1bGUsIHNjaGVkdWxlO1xuICBpZiAoKHJlZiA9IE1ldGVvci5zZXR0aW5ncy5jcm9uKSAhPSBudWxsID8gcmVmLmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbiA6IHZvaWQgMCkge1xuICAgIHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpO1xuICAgIHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb247XG4gICAgZ29fbmV4dCA9IHRydWU7XG4gICAgcmV0dXJuIHNjaGVkdWxlLnNjaGVkdWxlSm9iKHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZSwgbm93O1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFnb19uZXh0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdvX25leHQgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS50aW1lKCdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nKTtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIGRiLnByb2Nlc3NfZGVsZWdhdGlvbl9ydWxlcy51cGRhdGUoe1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgZW5kX3RpbWU6IHtcbiAgICAgICAgICAgICRsdGU6IG5vd1xuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgbXVsdGk6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJyk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFVVE8gQVVUT19GSU5JU0hfUFJPQ0VTU19ERUxFR0FUSU9OIEVSUk9SOiBcIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGJpbmQgZW52aXJvbm1lbnQnKTtcbiAgICB9KSk7XG4gIH1cbn0pO1xuIiwiIyMjXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxuIyMjXG5NZXRlb3Iuc3RhcnR1cCAtPlxuXHRpZiBNZXRlb3Iuc2V0dGluZ3MuY3Jvbj8udGltZW91dF9hdXRvX3N1Ym1pdFxuXHRcdHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpXG5cdFx0IyDlrprml7bmiafooYzlkIzmraVcblx0XHRydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24udGltZW91dF9hdXRvX3N1Ym1pdFxuXHRcdGdvX25leHQgPSB0cnVlXG5cdFx0c2NoZWR1bGUuc2NoZWR1bGVKb2IgcnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCAoKS0+XG5cdFx0XHR0cnlcblx0XHRcdFx0aWYgIWdvX25leHRcblx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0Z29fbmV4dCA9IGZhbHNlXG5cdFx0XHRcdGNvbnNvbGUudGltZSAndGltZW91dF9hdXRvX3N1Ym1pdCdcblxuXHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KClcblxuXHRcdFx0XHRjb25zb2xlLnRpbWVFbmQgJ3RpbWVvdXRfYXV0b19zdWJtaXQnXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXG5cblx0XHRcdGNhdGNoIGVcblx0XHRcdFx0Y29uc29sZS5lcnJvciBcIkFVVE8gVElNRU9VVF9BVVRPX1NVQk1JVCBFUlJPUjogXCJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXG5cblx0XHQsICgpLT5cblx0XHRcdGNvbnNvbGUubG9nICdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudCdcblxuTWV0ZW9yLm1ldGhvZHNcblx0dGltZW91dF9hdXRvX3N1Ym1pdDogKGluc19pZCktPlxuXHRcdHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoaW5zX2lkKVxuXHRcdHJldHVybiB0cnVlXG5cblxuIiwiXG4vKlxuKiAgICAqICAgICogICAgKiAgICAqICAgICpcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcbiAqL1xuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHZhciBnb19uZXh0LCByZWYsIHJ1bGUsIHNjaGVkdWxlO1xuICBpZiAoKHJlZiA9IE1ldGVvci5zZXR0aW5ncy5jcm9uKSAhPSBudWxsID8gcmVmLnRpbWVvdXRfYXV0b19zdWJtaXQgOiB2b2lkIDApIHtcbiAgICBzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKTtcbiAgICBydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24udGltZW91dF9hdXRvX3N1Ym1pdDtcbiAgICBnb19uZXh0ID0gdHJ1ZTtcbiAgICByZXR1cm4gc2NoZWR1bGUuc2NoZWR1bGVKb2IocnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFnb19uZXh0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdvX25leHQgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS50aW1lKCd0aW1lb3V0X2F1dG9fc3VibWl0Jyk7XG4gICAgICAgIHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoKTtcbiAgICAgICAgY29uc29sZS50aW1lRW5kKCd0aW1lb3V0X2F1dG9fc3VibWl0Jyk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFVVE8gVElNRU9VVF9BVVRPX1NVQk1JVCBFUlJPUjogXCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50Jyk7XG4gICAgfSkpO1xuICB9XG59KTtcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICB0aW1lb3V0X2F1dG9fc3VibWl0OiBmdW5jdGlvbihpbnNfaWQpIHtcbiAgICB1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KGluc19pZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9uZXh0U3RlcFVzZXJzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG5cdHZhclxuXHRcdGRlYWxfdHlwZSA9IHJlcS5xdWVyeS5kZWFsX3R5cGUsXG5cdFx0c3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxuXHRcdGVycm9yID0gXCJcIjtcblxuXHRpZiAoIWRlYWxfdHlwZSB8fCAhc3BhY2VJZCkge1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHR2YXJcblx0XHRib2R5ID0gcmVxLmJvZHksXG5cdFx0bmV4dFN0ZXBVc2VycyA9IFtdO1xuXG5cblx0c3dpdGNoIChkZWFsX3R5cGUpIHtcblx0XHRjYXNlICdzcGVjaWZ5VXNlcic6XG5cdFx0XHR2YXIgc3BlY2lmeVVzZXJJZHMgPSBib2R5LnNwZWNpZnlVc2VySWRzO1xuXG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIHNwZWNpZnlVc2VySWRzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ2FwcGxpY2FudFJvbGUnOlxuXHRcdFx0dmFyXG5cdFx0XHRcdGFwcGxpY2FudElkID0gYm9keS5hcHBsaWNhbnRJZCxcblx0XHRcdFx0YXBwcm92ZVJvbGVJZHMgPSBib2R5LmFwcHJvdmVSb2xlSWRzO1xuXHRcdFx0dmFyIGFwcGxpY2FudCA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VyKHNwYWNlSWQsIGFwcGxpY2FudElkKTtcblxuXHRcdFx0aWYgKGFwcGxpY2FudClcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeU9yZ3NBbmRSb2xlcyhzcGFjZUlkLCBhcHBsaWNhbnQub3JnYW5pemF0aW9ucywgYXBwcm92ZVJvbGVJZHMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnaHJSb2xlJzpcblx0XHRcdHZhciBhcHByb3ZlSHJSb2xlSWRzID0gYm9keS5hcHByb3ZlSHJSb2xlSWRzO1xuXHRcdFx0aWYgKGFwcHJvdmVIclJvbGVJZHMpXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SHJSb2xlc1VzZXJzKHNwYWNlSWQsIGFwcHJvdmVIclJvbGVJZHMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnYXBwbGljYW50U3VwZXJpb3InOlxuXHRcdFx0dmFyIGFwcGxpY2FudElkID0gYm9keS5hcHBsaWNhbnRJZDtcblx0XHRcdHZhciBhcHBsaWNhbnQgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcihzcGFjZUlkLCBhcHBsaWNhbnRJZCk7XG5cdFx0XHRpZiAoYXBwbGljYW50Lm1hbmFnZXIpIHtcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCBhcHBsaWNhbnQubWFuYWdlcik7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdhcHBsaWNhbnQnOlxuXHRcdFx0dmFyIGFwcGxpY2FudElkID0gYm9keS5hcHBsaWNhbnRJZDtcblx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgYXBwbGljYW50SWQpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAndXNlckZpZWxkJzpcblx0XHRcdHZhclxuXHRcdFx0XHR1c2VyRmllbGQgPSBib2R5LnVzZXJGaWVsZCxcblx0XHRcdFx0dXNlckZpZWxkVmFsdWUgPSBib2R5LnVzZXJGaWVsZFZhbHVlO1xuXHRcdFx0aWYgKHVzZXJGaWVsZC5pc19tdWx0aXNlbGVjdCkgeyAvL+WmguaenOWkmumAie+8jOS7pXVzZXJGaWVsZFZhbHVl5YC85Li6QXJyYXlcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCB1c2VyRmllbGRWYWx1ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRuZXh0U3RlcFVzZXJzLnB1c2goV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXIoc3BhY2VJZCwgdXNlckZpZWxkVmFsdWUpKTtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ29yZ0ZpZWxkJzpcblx0XHRcdHZhclxuXHRcdFx0XHRvcmdzLFxuXHRcdFx0XHRvcmdDaGlsZHJlbnMsXG5cdFx0XHRcdG9yZ0ZpZWxkID0gYm9keS5vcmdGaWVsZCxcblx0XHRcdFx0b3JnRmllbGRWYWx1ZSA9IGJvZHkub3JnRmllbGRWYWx1ZTtcblx0XHRcdGlmIChvcmdGaWVsZFZhbHVlKSB7XG5cdFx0XHRcdGlmIChvcmdGaWVsZC5pc19tdWx0aXNlbGVjdCkgeyAvL+WmguaenOWkmumAie+8jOS7pW9yZ0ZpZWxkVmFsdWXlgLzkuLpBcnJheVxuXHRcdFx0XHRcdG9yZ3MgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9ucyhvcmdGaWVsZFZhbHVlKTtcblx0XHRcdFx0XHRvcmdDaGlsZHJlbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc0NoaWxkcmVucyhzcGFjZUlkLCBvcmdGaWVsZFZhbHVlKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRvcmdzID0gW1dvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb24ob3JnRmllbGRWYWx1ZSldO1xuXHRcdFx0XHRcdG9yZ0NoaWxkcmVucyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25DaGlsZHJlbnMoc3BhY2VJZCwgb3JnRmllbGRWYWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgb3JnQ2hpbGRyZW5zKTtcblxuXHRcdFx0XHRvcmdGaWVsZFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBvcmdzKTtcblxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gbmV4dFN0ZXBVc2Vycy5jb25jYXQob3JnRmllbGRVc2Vycyk7XG5cblx0XHRcdFx0aWYgKCFuZXh0U3RlcFVzZXJzIHx8IG5leHRTdGVwVXNlcnMubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRcdGVycm9yID0gXCJPUkdfTk9fTUVNQkVSU1wiO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlcnJvciA9IFwiRklFTERfVkFMVUVfRU1QVFlcIjtcblx0XHRcdH1cblxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnc3BlY2lmeU9yZyc6XG5cdFx0XHR2YXIgc3BlY2lmeU9yZ0lkcyA9IGJvZHkuc3BlY2lmeU9yZ0lkcztcblx0XHRcdHZhciBzcGVjaWZ5T3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zKHNwZWNpZnlPcmdJZHMpO1xuXHRcdFx0dmFyIHNwZWNpZnlPcmdDaGlsZHJlbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc0NoaWxkcmVucyhzcGFjZUlkLCBzcGVjaWZ5T3JnSWRzKTtcblxuXHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgc3BlY2lmeU9yZ3MpO1xuXHRcdFx0bmV4dFN0ZXBVc2VycyA9IG5leHRTdGVwVXNlcnMuY29uY2F0KFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgc3BlY2lmeU9yZ0NoaWxkcmVucykpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAndXNlckZpZWxkUm9sZSc6XG5cdFx0XHR2YXJcblx0XHRcdFx0dXNlckZpZWxkID0gYm9keS51c2VyRmllbGQsXG5cdFx0XHRcdHVzZXJGaWVsZFZhbHVlID0gYm9keS51c2VyRmllbGRWYWx1ZSxcblx0XHRcdFx0YXBwcm92ZXJSb2xlSWRzID0gYm9keS5hcHByb3ZlclJvbGVJZHM7XG5cdFx0XHRpZiAodXNlckZpZWxkVmFsdWUpIHtcblx0XHRcdFx0aWYgKHVzZXJGaWVsZC5pc19tdWx0aXNlbGVjdCkgeyAvL+WmguaenOWkmumAie+8jOS7pXVzZXJGaWVsZFZhbHVl5YC85Li6QXJyYXlcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5VXNlcnNBbmRSb2xlcyhzcGFjZUlkLCB1c2VyRmllbGRWYWx1ZSwgYXBwcm92ZXJSb2xlSWRzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5VXNlcnNBbmRSb2xlcyhzcGFjZUlkLCBbdXNlckZpZWxkVmFsdWVdLCBhcHByb3ZlclJvbGVJZHMpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFuZXh0U3RlcFVzZXJzIHx8IG5leHRTdGVwVXNlcnMubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRcdGVycm9yID0gXCJST0xFX05PX01FTUJFUlNcIjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZXJyb3IgPSBcIkZJRUxEX1ZBTFVFX0VNUFRZXCI7XG5cdFx0XHR9XG5cblxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnb3JnRmllbGRSb2xlJzpcblx0XHRcdHZhclxuXHRcdFx0XHRvcmdGaWVsZCA9IGJvZHkub3JnRmllbGQsXG5cdFx0XHRcdG9yZ0ZpZWxkVmFsdWUgPSBib2R5Lm9yZ0ZpZWxkVmFsdWUsXG5cdFx0XHRcdGFwcHJvdmVyUm9sZUlkcyA9IGJvZHkuYXBwcm92ZXJSb2xlSWRzO1xuXG5cdFx0XHRpZiAob3JnRmllbGRWYWx1ZSkge1xuXHRcdFx0XHRpZiAob3JnRmllbGQuaXNfbXVsdGlzZWxlY3QpIHsgLy/lpoLmnpzlpJrpgInvvIzku6VvcmdGaWVsZFZhbHVl5YC85Li6QXJyYXlcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzKHNwYWNlSWQsIG9yZ0ZpZWxkVmFsdWUsIGFwcHJvdmVyUm9sZUlkcyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeU9yZ3NBbmRSb2xlcyhzcGFjZUlkLCBbb3JnRmllbGRWYWx1ZV0sIGFwcHJvdmVyUm9sZUlkcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIW5leHRTdGVwVXNlcnMgfHwgbmV4dFN0ZXBVc2Vycy5sZW5ndGggPCAxKSB7XG5cdFx0XHRcdFx0ZXJyb3IgPSBcIlJPTEVfTk9fTUVNQkVSU1wiO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlcnJvciA9IFwiRklFTERfVkFMVUVfRU1QVFlcIjtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRicmVhaztcblx0fVxuXG5cdHZhciByZXN1bHQgPSBbXTtcblxuXHRuZXh0U3RlcFVzZXJzLmZvckVhY2goZnVuY3Rpb24oc3UpIHtcblx0XHR2YXIgbyA9IHtcblx0XHRcdGlkOiBzdS5pZCxcblx0XHRcdG5hbWU6IHN1Lm5hbWVcblx0XHR9O1xuXHRcdHJlc3VsdC5wdXNoKG8pO1xuXHR9KVxuXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRjb2RlOiAyMDAsXG5cdFx0ZGF0YToge1xuXHRcdFx0J25leHRTdGVwVXNlcnMnOiBXb3JrZmxvd01hbmFnZXIudW5pcVVzZXJzKHJlc3VsdCksXG5cdFx0XHQnZXJyb3InOiBlcnJvclxuXHRcdH1cblx0fSk7XG59KSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0U3BhY2VVc2Vyc1wiLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyXG4gICAgdXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHMsXG4gICAgc3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxuICAgIHNwYWNlVXNlcnMgPSBbXVxuICA7XG5cbiAgaWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNwYWNlVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgdXNlcklkcyk7XG5cbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICAnc3BhY2VVc2Vycyc6IHNwYWNlVXNlcnNcbiAgICB9XG4gIH0pO1xufSlcblxuXG4gIFxuICAiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldEZvcm11bGFVc2VyT2JqZWN0c1wiLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyXG4gICAgdXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHMsXG4gICAgc3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxuICAgIHNwYWNlVXNlcnMgPSBbXVxuICA7XG5cbiAgaWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciB1c2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdChzcGFjZUlkLCB1c2VySWRzKTtcblxuICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgICdzcGFjZVVzZXJzJzogdXNlcnNcbiAgICB9XG4gIH0pO1xufSlcblxuXG4gIFxuICAiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2luaXRfZm9ybXVsYV92YWx1ZXNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcblx0dmFyXG5cdFx0ZmllbGRzID0gcmVxLmJvZHkuZmllbGRzLFxuXHRcdGF1dG9Gb3JtRG9jID0gcmVxLmJvZHkuYXV0b0Zvcm1Eb2MsXG5cdFx0YXBwcm92ZXIgPSByZXEuYm9keS5hcHByb3Zlcixcblx0XHRhcHBsaWNhbnQgPSByZXEuYm9keS5hcHBsaWNhbnQsXG5cblx0XHRzcGFjZUlkID0gcmVxLnF1ZXJ5LnNwYWNlSWQsXG5cblx0XHRzcGFjZVVzZXJzID0gW107XG5cblx0aWYgKCFmaWVsZHMgfHwgIXNwYWNlSWQgfHwgIWF1dG9Gb3JtRG9jIHx8ICFhcHByb3ZlciB8fCAhYXBwbGljYW50KSB7XG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRmb3JtdWxhX3ZhbHVlcyA9IEZvcm1fZm9ybXVsYS5pbml0X2Zvcm11bGFfdmFsdWVzKGZpZWxkcywgYXV0b0Zvcm1Eb2MsIGFwcHJvdmVyLCBhcHBsaWNhbnQsIHNwYWNlSWQpO1xuXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRjb2RlOiAyMDAsXG5cdFx0ZGF0YToge1xuXHRcdFx0J2Zvcm11bGFfdmFsdWVzJzogZm9ybXVsYV92YWx1ZXNcblx0XHR9XG5cdH0pO1xufSlcbiIsIkpzb25Sb3V0ZXMuYWRkIFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0TmFtZUZvclVzZXJcIiwgIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0dXNlcklkID0gcmVxLmJvZHkudXNlcklkXG5cblx0XHRpZiBub3QgdXNlcklkIFxuXHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywgXG5cdFx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuXHRcdFx0XHR9XG5cblx0XHR1c2VyID0gV29ya2Zsb3dNYW5hZ2VyLmdldE5hbWVGb3JVc2VyKHVzZXJJZClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIFxuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge3VzZXI6IHVzZXJ9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cblx0XG5cdFx0XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldE5hbWVGb3JVc2VyXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBlLCB1c2VyLCB1c2VySWQ7XG4gIHRyeSB7XG4gICAgdXNlcklkID0gcmVxLmJvZHkudXNlcklkO1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgdXNlciA9IFdvcmtmbG93TWFuYWdlci5nZXROYW1lRm9yVXNlcih1c2VySWQpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXI6IHVzZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS9kZXNpZ25lci9zdGFydHVwJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRjb21wYW55SWQgPSByZXEucXVlcnk/LmNvbXBhbnlJZCB8fCAnJ1xuXG5cdFx0c3BhY2VzUXVlcnkgPSB7IGFkbWluczogY3VycmVudF91c2VyIH1cblxuXHRcdGlmIGNvbXBhbnlJZFxuXHRcdFx0b3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGNvbXBhbnlJZCwgeyBmaWVsZHM6IHsgc3BhY2U6MSB9IH0pXG5cdFx0XHRpZiBub3Qgb3JnXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NvbXBhbnlJZCBpcyBpbnZhbGlkJylcblxuXHRcdFx0c3BhY2VzUXVlcnkgPSB7IF9pZDogb3JnLnNwYWNlIH1cblxuXHRcdHNwYWNlcyA9IGRiLnNwYWNlcy5maW5kKHNwYWNlc1F1ZXJ5KS5mZXRjaCgpXG5cblx0XHRzcGFjZUlkcyA9IF8ucGx1Y2sgc3BhY2VzLCAnX2lkJ1xuXG5cdFx0cXVlcnkgPSB7IHNwYWNlOiB7ICRpbjogc3BhY2VJZHMgfSB9XG5cdFx0aWYgY29tcGFueUlkXG5cdFx0XHRxdWVyeS5jb21wYW55X2lkID0gY29tcGFueUlkXG5cblx0XHRzcGFjZVVzZXJzID0gZGIuc3BhY2VfdXNlcnMuZmluZChxdWVyeSkuZmV0Y2goKVxuXG5cdFx0Zm9ybXMgPSBkYi5mb3Jtcy5maW5kKHF1ZXJ5LCB7IGZpZWxkczogeyBuYW1lOjEsIHN0YXRlOjEsIGlzX2RlbGV0ZWQ6MSwgaXNfdmFsaWQ6MSwgc3BhY2U6MSwgZGVzY3JpcHRpb246MSwgaGVscF90ZXh0OjEsXG5cdFx0Y3JlYXRlZDoxLCBjcmVhdGVkX2J5OjEsIGN1cnJlbnQ6MSwgY2F0ZWdvcnk6MSwgaW5zdGFuY2Vfc3R5bGU6MSwgY29tcGFueV9pZDoxIH0gfSkuZmV0Y2goKVxuXG5cdFx0Zmxvd3MgPSBkYi5mbG93cy5maW5kKHF1ZXJ5LCB7IGZpZWxkczogeyBuYW1lOjEsIG5hbWVfZm9ybXVsYToxLCBjb2RlX2Zvcm11bGE6MSwgc3BhY2U6MSwgZGVzY3JpcHRpb246MSwgaXNfdmFsaWQ6MSwgZm9ybToxLFxuXHRcdGZsb3d0eXBlOjEsIHN0YXRlOjEsIGlzX2RlbGV0ZWQ6MSwgY3JlYXRlZDoxLCBjcmVhdGVkX2J5OjEsIGhlbHBfdGV4dDoxLCBjdXJyZW50X25vOjEsIGN1cnJlbnQ6MSwgcGVybXM6MSwgZXJyb3JfbWVzc2FnZToxLCBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOjEsIGNvbXBhbnlfaWQ6MSB9IH0pLmZldGNoKClcblxuXHRcdHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHF1ZXJ5KS5mZXRjaCgpXG5cblx0XHRvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpXG5cblx0XHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpXG5cblx0XHRjYXRlZ29yaWVzID0gZGIuY2F0ZWdvcmllcy5maW5kKHsgc3BhY2U6IHsgJGluOiBzcGFjZUlkcyB9IH0pLmZldGNoKClcblxuXHRcdHVzZXJJZHMgPSBfLnBsdWNrIHNwYWNlVXNlcnMsICd1c2VyJ1xuXHRcdHVzZXJzID0gZGIudXNlcnMuZmluZCh7IF9pZDogeyAkaW46IHVzZXJJZHMgfSB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSkuZmV0Y2goKVxuXG5cdFx0cmVzdWx0ID0ge31cblx0XHRyZXN1bHQuU3BhY2VVc2VycyA9IHNwYWNlVXNlcnNcblx0XHRyZXN1bHQuVXNlcnMgPSB1c2Vyc1xuXHRcdHJlc3VsdC5Gb3JtcyA9IGZvcm1zXG5cdFx0cmVzdWx0LkZsb3dzID0gZmxvd3Ncblx0XHRyZXN1bHQuT3JnYW5pemF0aW9ucyA9IG9yZ2FuaXphdGlvbnNcblx0XHRyZXN1bHQuUG9zaXRpb25zID0gcG9zaXRpb25zXG5cdFx0cmVzdWx0LlJvbGVzID0gcm9sZXNcblx0XHRyZXN1bHQuQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXNcblx0XHRyZXN1bHQuU3BhY2VzID0gc3BhY2VzXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0ZGF0YTogcmVzdWx0XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cblxuIiwiSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL2Rlc2lnbmVyL3N0YXJ0dXAnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY2F0ZWdvcmllcywgY29tcGFueUlkLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93cywgZm9ybXMsIG9yZywgb3JnYW5pemF0aW9ucywgcG9zaXRpb25zLCBxdWVyeSwgcmVmLCByZXN1bHQsIHJvbGVzLCBzcGFjZUlkcywgc3BhY2VVc2Vycywgc3BhY2VzLCBzcGFjZXNRdWVyeSwgdXNlcklkcywgdXNlcnM7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgY29tcGFueUlkID0gKChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuY29tcGFueUlkIDogdm9pZCAwKSB8fCAnJztcbiAgICBzcGFjZXNRdWVyeSA9IHtcbiAgICAgIGFkbWluczogY3VycmVudF91c2VyXG4gICAgfTtcbiAgICBpZiAoY29tcGFueUlkKSB7XG4gICAgICBvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY29tcGFueUlkLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFvcmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY29tcGFueUlkIGlzIGludmFsaWQnKTtcbiAgICAgIH1cbiAgICAgIHNwYWNlc1F1ZXJ5ID0ge1xuICAgICAgICBfaWQ6IG9yZy5zcGFjZVxuICAgICAgfTtcbiAgICB9XG4gICAgc3BhY2VzID0gZGIuc3BhY2VzLmZpbmQoc3BhY2VzUXVlcnkpLmZldGNoKCk7XG4gICAgc3BhY2VJZHMgPSBfLnBsdWNrKHNwYWNlcywgJ19pZCcpO1xuICAgIHF1ZXJ5ID0ge1xuICAgICAgc3BhY2U6IHtcbiAgICAgICAgJGluOiBzcGFjZUlkc1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGNvbXBhbnlJZCkge1xuICAgICAgcXVlcnkuY29tcGFueV9pZCA9IGNvbXBhbnlJZDtcbiAgICB9XG4gICAgc3BhY2VVc2VycyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgZm9ybXMgPSBkYi5mb3Jtcy5maW5kKHF1ZXJ5LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogMSxcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX2RlbGV0ZWQ6IDEsXG4gICAgICAgIGlzX3ZhbGlkOiAxLFxuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgZGVzY3JpcHRpb246IDEsXG4gICAgICAgIGhlbHBfdGV4dDogMSxcbiAgICAgICAgY3JlYXRlZDogMSxcbiAgICAgICAgY3JlYXRlZF9ieTogMSxcbiAgICAgICAgY3VycmVudDogMSxcbiAgICAgICAgY2F0ZWdvcnk6IDEsXG4gICAgICAgIGluc3RhbmNlX3N0eWxlOiAxLFxuICAgICAgICBjb21wYW55X2lkOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICBmbG93cyA9IGRiLmZsb3dzLmZpbmQocXVlcnksIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxLFxuICAgICAgICBuYW1lX2Zvcm11bGE6IDEsXG4gICAgICAgIGNvZGVfZm9ybXVsYTogMSxcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAxLFxuICAgICAgICBpc192YWxpZDogMSxcbiAgICAgICAgZm9ybTogMSxcbiAgICAgICAgZmxvd3R5cGU6IDEsXG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19kZWxldGVkOiAxLFxuICAgICAgICBjcmVhdGVkOiAxLFxuICAgICAgICBjcmVhdGVkX2J5OiAxLFxuICAgICAgICBoZWxwX3RleHQ6IDEsXG4gICAgICAgIGN1cnJlbnRfbm86IDEsXG4gICAgICAgIGN1cnJlbnQ6IDEsXG4gICAgICAgIHBlcm1zOiAxLFxuICAgICAgICBlcnJvcl9tZXNzYWdlOiAxLFxuICAgICAgICBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuICAgICAgICBjb21wYW55X2lkOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByb2xlcyA9IGRiLmZsb3dfcm9sZXMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgY2F0ZWdvcmllcyA9IGRiLmNhdGVnb3JpZXMuZmluZCh7XG4gICAgICBzcGFjZToge1xuICAgICAgICAkaW46IHNwYWNlSWRzXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICB1c2VySWRzID0gXy5wbHVjayhzcGFjZVVzZXJzLCAndXNlcicpO1xuICAgIHVzZXJzID0gZGIudXNlcnMuZmluZCh7XG4gICAgICBfaWQ6IHtcbiAgICAgICAgJGluOiB1c2VySWRzXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJlc3VsdCA9IHt9O1xuICAgIHJlc3VsdC5TcGFjZVVzZXJzID0gc3BhY2VVc2VycztcbiAgICByZXN1bHQuVXNlcnMgPSB1c2VycztcbiAgICByZXN1bHQuRm9ybXMgPSBmb3JtcztcbiAgICByZXN1bHQuRmxvd3MgPSBmbG93cztcbiAgICByZXN1bHQuT3JnYW5pemF0aW9ucyA9IG9yZ2FuaXphdGlvbnM7XG4gICAgcmVzdWx0LlBvc2l0aW9ucyA9IHBvc2l0aW9ucztcbiAgICByZXN1bHQuUm9sZXMgPSByb2xlcztcbiAgICByZXN1bHQuQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7XG4gICAgcmVzdWx0LlNwYWNlcyA9IHNwYWNlcztcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L2VuZ2luZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydBcHByb3ZhbHMnXSwgKGFwcHJvdmVfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHR1dWZsb3dNYW5hZ2VyLndvcmtmbG93X2VuZ2luZShhcHByb3ZlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbywgY3VycmVudF91c2VyKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YToge31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2VuZ2luZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnQXBwcm92YWxzJ10sIGZ1bmN0aW9uKGFwcHJvdmVfZnJvbV9jbGllbnQpIHtcbiAgICAgIHJldHVybiB1dWZsb3dNYW5hZ2VyLndvcmtmbG93X2VuZ2luZShhcHByb3ZlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbywgY3VycmVudF91c2VyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZHJhZnRzJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cblx0XHRpbnNlcnRlZF9pbnN0YW5jZXMgPSBuZXcgQXJyYXlcblxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pXG5cblx0XHRcdG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogbmV3X2luc19pZCB9LCB7IGZpZWxkczogeyBzcGFjZTogMSwgZmxvdzogMSwgZmxvd192ZXJzaW9uOiAxLCBmb3JtOiAxLCBmb3JtX3ZlcnNpb246IDEgfSB9KVxuXG5cdFx0XHRpbnNlcnRlZF9pbnN0YW5jZXMucHVzaChuZXdfaW5zKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlcyB9XG5cdFx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxuXHRcdH1cblxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9kcmFmdHMnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGEsIGluc2VydGVkX2luc3RhbmNlcztcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIG5ld19pbnMsIG5ld19pbnNfaWQ7XG4gICAgICBuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogbmV3X2luc19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICBmbG93OiAxLFxuICAgICAgICAgIGZsb3dfdmVyc2lvbjogMSxcbiAgICAgICAgICBmb3JtOiAxLFxuICAgICAgICAgIGZvcm1fdmVyc2lvbjogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbnNlcnRlZF9pbnN0YW5jZXMucHVzaChuZXdfaW5zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVtb3ZlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cblx0XHRpbnNlcnRlZF9pbnN0YW5jZXMgPSBuZXcgQXJyYXlcblxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdCMg6I635Y+W5LiA5LiqaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2Vcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2Vcblx0XHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2XkuIvnmoTkuIDkuKp1c2VyXG5cdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZmxvd30pXG5cblx0XHRcdHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuXHRcdFx0XHRfaWQ6IHtcblx0XHRcdFx0XHQkaW46IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uc1xuXHRcdFx0XHR9XG5cdFx0XHR9KS5mZXRjaCgpO1xuXG5cdFx0XHQjIOWIpOaWreS4gOS4queUqOaIt+aYr+WQpuaYr+S4gOS4qmluc3RhbmNl55qE5o+Q5Lqk6ICF5oiW6ICF55Sz6K+35Lq6IOaIllNwYWNlQWRtaW5cblx0XHRcdGlmIChpbnN0YW5jZS5zdWJtaXR0ZXIgaXNudCBjdXJyZW50X3VzZXIpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyBjdXJyZW50X3VzZXIpIGFuZCAhV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsb3csIHNwYWNlX3VzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpXG5cdFx0XHRcdHRocm93IG5ldyAgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaCqOS4jeiDveWIoOmZpOatpOeUs+ivt+WNleOAglwiKVxuXG5cdFx0XHRkZWxldGVfb2JqID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXG5cdFx0XHRkZWxldGVfb2JqLmRlbGV0ZWQgPSBuZXcgRGF0ZVxuXHRcdFx0ZGVsZXRlX29iai5kZWxldGVkX2J5ID0gY3VycmVudF91c2VyXG5cblx0XHRcdGRiLmRlbGV0ZWRfaW5zdGFuY2VzLmluc2VydChkZWxldGVfb2JqKVxuXG5cdFx0XHQjIOWIoOmZpGluc3RhbmNlXG5cdFx0XHRkYi5pbnN0YW5jZXMucmVtb3ZlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxuXG5cdFx0XHRpZiBkZWxldGVfb2JqLnN0YXRlIGlzbnQgXCJkcmFmdFwiXG5cdFx0XHRcdCPlj5HpgIHnu5nlvoXlpITnkIbkurosICPlj5HpgIHnu5nooqvkvKDpmIXkurpcblx0XHRcdFx0aW5ib3hfdXNlcnMgPSBpZiBkZWxldGVfb2JqLmluYm94X3VzZXJzIHRoZW4gZGVsZXRlX29iai5pbmJveF91c2VycyBlbHNlIFtdXG5cdFx0XHRcdGNjX3VzZXJzID0gaWYgZGVsZXRlX29iai5jY191c2VycyB0aGVuIGRlbGV0ZV9vYmouY2NfdXNlcnMgZWxzZSBbXVxuXHRcdFx0XHR1c2VyX2lkcyA9IF8udW5pcShpbmJveF91c2Vycy5jb25jYXQoY2NfdXNlcnMpKVxuXHRcdFx0XHRfLmVhY2ggdXNlcl9pZHMsICh1X2lkKS0+XG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwidGVybWluYXRlX2FwcHJvdmFsXCIsIHVfaWQpXG5cblx0XHRcdFx0IyDlj5HpgIHliKDpmaTpgJrnn6Xpgq7ku7bnu5npgJrov4fmoKHpqoznmoTnlLPor7fkurov5aGr5Y2V5Lq677yM5a+555Sz6K+35Lq6L+Whq+WNleS6uuWQhOeUn+aIkOS4gOadoXNtdHAgbWVzc2FnZVxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcIm1vbml0b3JfZGVsZXRlX2FwcGxpY2FudFwiLCBkZWxldGVfb2JqLCBcIlwiLCBjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgaW5zZXJ0czogaW5zZXJ0ZWRfaW5zdGFuY2VzfVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cblx0XG5cdFx0IiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZW1vdmUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGEsIGluc2VydGVkX2luc3RhbmNlcztcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGNjX3VzZXJzLCBkZWxldGVfb2JqLCBmbG93LCBpbmJveF91c2VycywgaW5zdGFuY2UsIHNwYWNlLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zLCBzcGFjZV9pZCwgc3BhY2VfdXNlciwgdXNlcl9pZHM7XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2UuZmxvd1xuICAgICAgfSk7XG4gICAgICBzcGFjZVVzZXJPcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbnNcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIGlmICgoaW5zdGFuY2Uuc3VibWl0dGVyICE9PSBjdXJyZW50X3VzZXIpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpICYmICFXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmxvdywgc3BhY2VfdXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmgqjkuI3og73liKDpmaTmraTnlLPor7fljZXjgIJcIik7XG4gICAgICB9XG4gICAgICBkZWxldGVfb2JqID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgZGVsZXRlX29iai5kZWxldGVkID0gbmV3IERhdGU7XG4gICAgICBkZWxldGVfb2JqLmRlbGV0ZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZGVsZXRlX29iaik7XG4gICAgICBkYi5pbnN0YW5jZXMucmVtb3ZlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIGlmIChkZWxldGVfb2JqLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgICAgaW5ib3hfdXNlcnMgPSBkZWxldGVfb2JqLmluYm94X3VzZXJzID8gZGVsZXRlX29iai5pbmJveF91c2VycyA6IFtdO1xuICAgICAgICBjY191c2VycyA9IGRlbGV0ZV9vYmouY2NfdXNlcnMgPyBkZWxldGVfb2JqLmNjX3VzZXJzIDogW107XG4gICAgICAgIHVzZXJfaWRzID0gXy51bmlxKGluYm94X3VzZXJzLmNvbmNhdChjY191c2VycykpO1xuICAgICAgICBfLmVhY2godXNlcl9pZHMsIGZ1bmN0aW9uKHVfaWQpIHtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwidGVybWluYXRlX2FwcHJvdmFsXCIsIHVfaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwibW9uaXRvcl9kZWxldGVfYXBwbGljYW50XCIsIGRlbGV0ZV9vYmosIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvc3VibWl0JywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0cmVzdWx0ID0gW11cblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHRyID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvKVxuXHRcdFx0aWYgci5hbGVydHNcblx0XHRcdFx0cmVzdWx0LnB1c2gocilcblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoaW5zdGFuY2VfZnJvbV9jbGllbnRbJ2luYm94X3VzZXJzJ10pXG5cdFx0XHRcdCMg5aaC5p6c5piv6L2s5Y+R5bCx6ZyA6KaB57uZ5b2T5YmN55So5oi35Y+R6YCBcHVzaCDph43mlrDorqHnrpdiYWRnZVxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyKTtcblxuXHRcdFx0aWYgXy5pc0VtcHR5KHIuYWxlcnRzKVxuXHRcdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2Zyb21fY2xpZW50Ll9pZClcblx0XHRcdFx0Zmxvd19pZCA9IGluc3RhbmNlLmZsb3dcblx0XHRcdFx0Y3VycmVudF9hcHByb3ZlID0gaW5zdGFuY2VfZnJvbV9jbGllbnQudHJhY2VzWzBdLmFwcHJvdmVzWzBdXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgY3VycmVudF9hcHByb3ZlLCAnZHJhZnRfc3VibWl0JywgY3VycmVudF91c2VyLCBpbnN0YW5jZS5pbmJveF91c2VycylcblxuXHRcdFx0IyDliKTmlq3nlLPor7fljZXmmK/lkKbliIblj5HvvIzliIblj5Hmlofku7bnu5PmnZ/mj5DphpLlj5Hotbfkurpcblx0XHRcdHV1Zmxvd01hbmFnZXIuZGlzdHJpYnV0ZWRJbnN0YW5jZXNSZW1pbmQoaW5zdGFuY2VfZnJvbV9jbGllbnQpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0ZGF0YTogeyByZXN1bHQ6IHJlc3VsdCB9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvc3VibWl0JywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhLCByZXN1bHQ7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICByZXN1bHQgPSBbXTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGN1cnJlbnRfYXBwcm92ZSwgZmxvd19pZCwgaW5zdGFuY2UsIHI7XG4gICAgICByID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIGlmIChyLmFsZXJ0cykge1xuICAgICAgICByZXN1bHQucHVzaChyKTtcbiAgICAgIH1cbiAgICAgIGlmICghXy5pc0VtcHR5KGluc3RhbmNlX2Zyb21fY2xpZW50WydpbmJveF91c2VycyddKSkge1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyKTtcbiAgICAgIH1cbiAgICAgIGlmIChfLmlzRW1wdHkoci5hbGVydHMpKSB7XG4gICAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnQuX2lkKTtcbiAgICAgICAgZmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XG4gICAgICAgIGN1cnJlbnRfYXBwcm92ZSA9IGluc3RhbmNlX2Zyb21fY2xpZW50LnRyYWNlc1swXS5hcHByb3Zlc1swXTtcbiAgICAgICAgcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soZmxvd19pZCwgaW5zdGFuY2UsIGN1cnJlbnRfYXBwcm92ZSwgJ2RyYWZ0X3N1Ym1pdCcsIGN1cnJlbnRfdXNlciwgaW5zdGFuY2UuaW5ib3hfdXNlcnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHV1Zmxvd01hbmFnZXIuZGlzdHJpYnV0ZWRJbnN0YW5jZXNSZW1pbmQoaW5zdGFuY2VfZnJvbV9jbGllbnQpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHJlc3VsdDogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3Rlcm1pbmF0ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdHRlcm1pbmF0ZV9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRlcm1pbmF0ZV9yZWFzb25cIl1cblx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl1cblx0XHRcdCMg6I635Y+W5LiA5LiqaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2Vcblx0XHRcdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93XG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNlXG5cdFx0XHRzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0XHQjIOiOt+WPluS4gOS4qmZsb3dcblx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZClcblx0XHRcdCMg5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrlrqHmoLjkuK3nirbmgIFcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNl5LiL55qE5LiA5LiqdXNlclxuXHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHQjIOiOt+WPlnNwYWNlX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cblx0XHRcdHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcilcblx0XHRcdCMg6I635Y+W57uT5p2f6IqC54K5XG5cdFx0XHRpbnN0YW5jZV9mbG93X3ZlciA9IG51bGxcblx0XHRcdGZsb3dfdmVyX2VuZF9zdGVwID0gbnVsbFxuXHRcdFx0Zmxvd192ZXJzID0gbmV3IEFycmF5XG5cdFx0XHRmbG93X3ZlcnMucHVzaChmbG93LmN1cnJlbnQpXG5cdFx0XHRmbG93X3ZlcnMgPSBmbG93X3ZlcnMuY29uY2F0KGZsb3cuaGlzdG9yeXMpXG5cdFx0XHRpbnN0YW5jZV9mbG93X3ZlciA9IF8uZmluZChmbG93X3ZlcnMsIChmX3ZlciktPlxuXHRcdFx0XHRyZXR1cm4gZl92ZXIuX2lkIGlzIGluc3RhbmNlLmZsb3dfdmVyc2lvblxuXHRcdFx0KVxuXHRcdFx0aWYgbm90IGluc3RhbmNlX2Zsb3dfdmVyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2V5a+55bqU5rWB56iL54mI5pysXCIpXG5cdFx0XHRmbG93X3Zlcl9lbmRfc3RlcCA9IF8uZmluZChpbnN0YW5jZV9mbG93X3Zlci5zdGVwcywgKGZfc3RlcCktPlxuXHRcdFx0XHRyZXR1cm4gZl9zdGVwLnN0ZXBfdHlwZSBpcyBcImVuZFwiXG5cdFx0XHQpXG5cdFx0XHQjIOiwg+eUqGdldEZsb3dQZXJtaXNzaW9uc+aWueazle+8jOeci+i/lOWbnueahOe7k+aenOS4reaYr+WQpuaciWFkbWluXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93X2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdFx0IyBzcGFjZeeahGFkbWluLCDloavljZXkurog55Sz6K+35Lq6IOacieadg+mZkCDlj5bmtojnlLPor7dcblx0XHRcdGlmIHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikgb3Igc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikgb3IgaW5zdGFuY2Uuc3VibWl0dGVyIGlzIGN1cnJlbnRfdXNlciBvciBpbnN0YW5jZS5hcHBsaWNhbnQgaXMgY3VycmVudF91c2VyXG5cdFx0XHRcdGlmIG5vdCB0ZXJtaW5hdGVfcmVhc29uXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJyxcIui/mOacquWhq+WGmeW8uuWItue7k+adn+eUs+ivt+WNleeahOeQhueUse+8jOaTjeS9nOWksei0pVwiKVxuXG5cdFx0XHRcdGluc3RhbmNlX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKS0+XG5cdFx0XHRcdFx0cmV0dXJuIHRyYWNlLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXG5cdFx0XHRcdClcblxuXHRcdFx0XHR0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXNcblx0XHRcdFx0aSA9IDBcblx0XHRcdFx0d2hpbGUgaSA8IHRyYWNlcy5sZW5ndGhcblx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2XorrDlvZVcblx0XHRcdFx0XHRcdHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdHRyYWNlc1tpXS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0aCA9IDBcblx0XHRcdFx0XHRcdHdoaWxlIGggPCB0cmFjZXNbaV0uYXBwcm92ZXMubGVuZ3RoXG5cdFx0XHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCBpcyBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2UuYXBwcm92ZeiusOW9lVxuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uanVkZ2UgPSBudWxsXG5cdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmRlc2NyaXB0aW9uID0gbnVsbFxuXHRcdFx0XHRcdFx0XHRoKytcblx0XHRcdFx0XHRcdCMg5o+S5YWl5b2T5YmNVHJhY2UgdHJhY2UuYXBwcm92ZeiusOW9le+8muW9k3RyYWNlLnR5cGXkuLrlj5blm57jgIHlvLrliLbnu5PmnZ/ml7bvvIxpc19yZWFkPXRydWXkuJRyZWFkX2RhdGXkuLrlvZPliY3ml7bpl7TjgIJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS50cmFjZSA9IGluc3RhbmNlX3RyYWNlLl9pZFxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5kdWVfZGF0ZSA9IGluc3RhbmNlX3RyYWNlLmR1ZV9kYXRlXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnJlYWRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5qdWRnZSA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX3JlYWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmRlc2NyaXB0aW9uID0gdGVybWluYXRlX3JlYXNvblxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuY29zdF90aW1lID0gbmV3QXBwcm92ZS5maW5pc2hfZGF0ZSAtIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSlcblx0XHRcdFx0XHRpKytcblxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2luc3RhbmNlX3RyYWNlLl9pZF1cblx0XHRcdFx0IyB0eXBlLS0t5YGc55SoXG5cdFx0XHRcdCMgbmV3VHJhY2UudHlwZSA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gZmxvd192ZXJfZW5kX3N0ZXAuX2lkXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBmbG93X3Zlcl9lbmRfc3RlcC5uYW1lXG5cdFx0XHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0bmV3VHJhY2UuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0bmV3VHJhY2UuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxuXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwiY29tcGxldGVkXCJcblx0XHRcdFx0c2V0T2JqLmZpbmFsX2RlY2lzaW9uID0gXCJ0ZXJtaW5hdGVkXCJcblx0XHRcdFx0b2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcblx0XHRcdFx0b2xkX2NjX3VzZXJzID0gaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdFx0b2xkX291dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vyc1xuXHRcdFx0XHR0ZW1wVXNlcnMgPSBuZXcgQXJyYXlcblx0XHRcdFx0Xy5lYWNoKGluc3RhbmNlX3RyYWNlLmFwcHJvdmVzLCAobmZ0X2FwcHJvdmUpLT5cblx0XHRcdFx0XHR0ZW1wVXNlcnMucHVzaChuZnRfYXBwcm92ZS51c2VyKVxuXHRcdFx0XHRcdHRlbXBVc2Vycy5wdXNoKG5mdF9hcHByb3ZlLmhhbmRsZXIpXG5cdFx0XHRcdClcblx0XHRcdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KHRlbXBVc2VycykpXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IG5ldyBBcnJheVxuXHRcdFx0XHRzZXRPYmouY2NfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XG5cdFx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHR0cmFjZXMucHVzaChuZXdUcmFjZSlcblx0XHRcdFx0c2V0T2JqLnRyYWNlcyA9IHRyYWNlc1xuXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWVcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IGZhbHNlXG5cblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcblx0XHRcdFx0aWYgclxuXHRcdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRcdFx0I+mAmuefpeWhq+WNleS6uuOAgeeUs+ivt+S6ulxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwic3VibWl0X3Rlcm1pbmF0ZV9hcHBsaWNhbnRcIiwgaW5zLCB0ZXJtaW5hdGVfcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdFx0XHRcdCPlj5HpgIHnu5nlvoXlpITnkIbkurog6KKr5Lyg6ZiF5Lq6XG5cdFx0XHRcdFx0aWYgb2xkX2luYm94X3VzZXJzXG5cdFx0XHRcdFx0XHRfLmVhY2goXy51bmlxKG9sZF9pbmJveF91c2Vycy5jb25jYXQob2xkX2NjX3VzZXJzKSksICh1c2VyX2lkKS0+XG5cdFx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1c2VyX2lkKVxuXHRcdFx0XHRcdFx0KVxuXG5cdFx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICd0ZXJtaW5hdGUnLCBjdXJyZW50X3VzZXIsIFtdKVxuXG5cdFx0I+WPkemAgea2iOaBr+e7meW9k+WJjeeUqOaIt1xuXHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdGRhdGE6IHt9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvdGVybWluYXRlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBmbG93LCBmbG93X2lkLCBmbG93X3Zlcl9lbmRfc3RlcCwgZmxvd192ZXJzLCBoLCBpLCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9mbG93X3ZlciwgaW5zdGFuY2VfaWQsIGluc3RhbmNlX3RyYWNlLCBuZXdBcHByb3ZlLCBuZXdUcmFjZSwgbm93LCBvbGRfY2NfdXNlcnMsIG9sZF9pbmJveF91c2Vycywgb2xkX291dGJveF91c2VycywgcGVybWlzc2lvbnMsIHIsIHNldE9iaiwgc3BhY2UsIHNwYWNlX2lkLCBzcGFjZV91c2VyLCBzcGFjZV91c2VyX29yZ19pbmZvLCB0ZW1wVXNlcnMsIHRlcm1pbmF0ZV9yZWFzb24sIHRyYWNlcztcbiAgICAgIHRlcm1pbmF0ZV9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRlcm1pbmF0ZV9yZWFzb25cIl07XG4gICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcbiAgICAgIHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGZsb3dfaWQpO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSk7XG4gICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBzcGFjZV91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpO1xuICAgICAgaW5zdGFuY2VfZmxvd192ZXIgPSBudWxsO1xuICAgICAgZmxvd192ZXJfZW5kX3N0ZXAgPSBudWxsO1xuICAgICAgZmxvd192ZXJzID0gbmV3IEFycmF5O1xuICAgICAgZmxvd192ZXJzLnB1c2goZmxvdy5jdXJyZW50KTtcbiAgICAgIGZsb3dfdmVycyA9IGZsb3dfdmVycy5jb25jYXQoZmxvdy5oaXN0b3J5cyk7XG4gICAgICBpbnN0YW5jZV9mbG93X3ZlciA9IF8uZmluZChmbG93X3ZlcnMsIGZ1bmN0aW9uKGZfdmVyKSB7XG4gICAgICAgIHJldHVybiBmX3Zlci5faWQgPT09IGluc3RhbmNlLmZsb3dfdmVyc2lvbjtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFpbnN0YW5jZV9mbG93X3Zlcikge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOeUs+ivt+WNleWvueW6lOa1geeoi+eJiOacrFwiKTtcbiAgICAgIH1cbiAgICAgIGZsb3dfdmVyX2VuZF9zdGVwID0gXy5maW5kKGluc3RhbmNlX2Zsb3dfdmVyLnN0ZXBzLCBmdW5jdGlvbihmX3N0ZXApIHtcbiAgICAgICAgcmV0dXJuIGZfc3RlcC5zdGVwX3R5cGUgPT09IFwiZW5kXCI7XG4gICAgICB9KTtcbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBpZiAocGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSB8fCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSB8fCBpbnN0YW5jZS5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlciB8fCBpbnN0YW5jZS5hcHBsaWNhbnQgPT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICBpZiAoIXRlcm1pbmF0ZV9yZWFzb24pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIui/mOacquWhq+WGmeW8uuWItue7k+adn+eUs+ivt+WNleeahOeQhueUse+8jOaTjeS9nOWksei0pVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZV90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWNlLmlzX2ZpbmlzaGVkID09PSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdHJhY2VzLmxlbmd0aCkge1xuICAgICAgICAgIGlmICh0cmFjZXNbaV0uaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0cmFjZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHJhY2VzW2ldLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgaCA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaWYgKHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uanVkZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5kZXNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnRyYWNlID0gaW5zdGFuY2VfdHJhY2UuX2lkO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBpbnN0YW5jZV90cmFjZS5kdWVfZGF0ZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuZGVzY3JpcHRpb24gPSB0ZXJtaW5hdGVfcmVhc29uO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5jb3N0X3RpbWUgPSBuZXdBcHByb3ZlLmZpbmlzaF9kYXRlIC0gbmV3QXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtpbnN0YW5jZV90cmFjZS5faWRdO1xuICAgICAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSBmbG93X3Zlcl9lbmRfc3RlcC5faWQ7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBmbG93X3Zlcl9lbmRfc3RlcC5uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIjtcbiAgICAgICAgc2V0T2JqLmZpbmFsX2RlY2lzaW9uID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgIG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgICBvbGRfY2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2VycztcbiAgICAgICAgb2xkX291dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2VycztcbiAgICAgICAgdGVtcFVzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBfLmVhY2goaW5zdGFuY2VfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKG5mdF9hcHByb3ZlKSB7XG4gICAgICAgICAgdGVtcFVzZXJzLnB1c2gobmZ0X2FwcHJvdmUudXNlcik7XG4gICAgICAgICAgcmV0dXJuIHRlbXBVc2Vycy5wdXNoKG5mdF9hcHByb3ZlLmhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KHRlbXBVc2VycykpO1xuICAgICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIHNldE9iai5jY191c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIHRyYWNlcy5wdXNoKG5ld1RyYWNlKTtcbiAgICAgICAgc2V0T2JqLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gZmxvd192ZXJfZW5kX3N0ZXAubmFtZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IGZhbHNlO1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwic3VibWl0X3Rlcm1pbmF0ZV9hcHBsaWNhbnRcIiwgaW5zLCB0ZXJtaW5hdGVfcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgICAgaWYgKG9sZF9pbmJveF91c2Vycykge1xuICAgICAgICAgICAgXy5lYWNoKF8udW5pcShvbGRfaW5ib3hfdXNlcnMuY29uY2F0KG9sZF9jY191c2VycykpLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAndGVybWluYXRlJywgY3VycmVudF91c2VyLCBbXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVhc3NpZ24nLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydfaWQnXVxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0IyDpqozor4FpbnN0YW5jZeS4uuWuoeaguOS4reeKtuaAgVxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSlcblx0XHRcdCMg6aqM6K+B5b2T5YmN5omn6KGM6L2s562+5qC455qEdHJhY2XmnKrnu5PmnZ9cblx0XHRcdGxhc3RfdHJhY2VfZnJvbV9jbGllbnQgPSBfLmxhc3QoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0pXG5cdFx0XHRsYXN0X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKHQpIC0+XG5cdFx0XHRcdHJldHVybiB0Ll9pZCBpcyBsYXN0X3RyYWNlX2Zyb21fY2xpZW50W1wiX2lkXCJdXG5cdFx0XHQpXG5cdFx0XHRpZiBsYXN0X3RyYWNlLmlzX2ZpbmlzaGVkIGlzIHRydWVcblx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxuXHRcdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKVxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7IF9pZDogc3BhY2VfaWQgfSwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcblx0XHRcdGlmIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpXG5cblx0XHRcdGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcblx0XHRcdGluYm94X3VzZXJzX2Zyb21fY2xpZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXVxuXHRcdFx0cmVhc3NpZ25fcmVhc29uID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWFzc2lnbl9yZWFzb25cIl1cblx0XHRcdG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQpXG5cdFx0XHRuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQsIGluYm94X3VzZXJzKVxuXHRcdFx0IyDoi6Vhc3NpZ25lZT3ljp9pbmJveF91c2Vyc++8jOivtOaYjuS4jemcgOimgeaJp+ihjOi9rOetvuaguO+8jOezu+e7n+S7gOS5iOmDveS4jeWBmlxuXHRcdFx0cmV0dXJuIGlmIG5vdF9pbl9pbmJveF91c2Vycy5sZW5ndGggaXMgMCBhbmQgbmV3X2luYm94X3VzZXJzLmxlbmd0aCBpcyAwXG5cdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0aSA9IDBcblx0XHRcdGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMgPSBbXVxuXHRcdFx0d2hpbGUgaSA8IGxhc3RfdHJhY2UuYXBwcm92ZXMubGVuZ3RoXG5cdFx0XHRcdGlmIG5vdF9pbl9pbmJveF91c2Vycy5pbmNsdWRlcyhsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpXG5cdFx0XHRcdFx0aWYgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5pc19maW5pc2hlZCBpcyBmYWxzZSBhbmQgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS50eXBlIGlzbnQgXCJjY1wiIGFuZCBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgaXNudCBcImRpc3RyaWJ1dGVcIlxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5kZXNjcmlwdGlvbiA9IFwiXCJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uY29zdF90aW1lID0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSAtIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0YXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udXNlcilcblx0XHRcdFx0XHRcdGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMucHVzaChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpXG5cdFx0XHRcdGkrK1xuXHRcdFx0IyDlnKjlkIzkuIB0cmFjZeS4i+aPkuWFpei9rOetvuaguOaTjeS9nOiAheeahGFwcHJvdmXorrDlvZVcblx0XHRcdGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHRjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsIGZ1bGxuYW1lOiAxIH0gfSlcblx0XHRcdGFzc2lnbmVlX2FwcHIgPSBuZXcgT2JqZWN0XG5cdFx0XHRhc3NpZ25lZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlXG5cdFx0XHRhc3NpZ25lZV9hcHByLnRyYWNlID0gbGFzdF90cmFjZS5faWRcblx0XHRcdGFzc2lnbmVlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRhc3NpZ25lZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdGFzc2lnbmVlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWVcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXG5cdFx0XHRhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdGFzc2lnbmVlX2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlXG5cdFx0XHRhc3NpZ25lZV9hcHByLnJlYWRfZGF0ZSA9IG5vd1xuXHRcdFx0YXNzaWduZWVfYXBwci5qdWRnZSA9IFwicmVhc3NpZ25lZFwiXG5cdFx0XHRhc3NpZ25lZV9hcHByLmlzX3JlYWQgPSB0cnVlXG5cdFx0XHRhc3NpZ25lZV9hcHByLmRlc2NyaXB0aW9uID0gcmVhc3NpZ25fcmVhc29uXG5cdFx0XHRhc3NpZ25lZV9hcHByLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdGFzc2lnbmVlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0YXNzaWduZWVfYXBwci5jb3N0X3RpbWUgPSBhc3NpZ25lZV9hcHByLmZpbmlzaF9kYXRlIC0gYXNzaWduZWVfYXBwci5zdGFydF9kYXRlXG5cdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzLnB1c2goYXNzaWduZWVfYXBwcilcblx0XHRcdCMg5a+55paw5aKe55qE5q+P5L2N5b6F5a6h5qC45Lq677yM5ZCE5aKe5Yqg5LiA5p2h5paw55qEYXBwcm92ZVxuXHRcdFx0Xy5lYWNoKG5ld19pbmJveF91c2VycywgKHVzZXJfaWQpIC0+XG5cdFx0XHRcdG5ld191c2VyID0gZGIudXNlcnMuZmluZE9uZSh1c2VyX2lkLCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCB1c2VyX2lkKVxuXHRcdFx0XHR1c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShzcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwgeyBmaWVsZHM6IHsgbmFtZTogMSwgZnVsbG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRuZXdfYXBwciA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bmV3X2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRuZXdfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2Vcblx0XHRcdFx0bmV3X2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZFxuXHRcdFx0XHRuZXdfYXBwci5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRcdG5ld19hcHByLnVzZXIgPSB1c2VyX2lkXG5cdFx0XHRcdG5ld19hcHByLnVzZXJfbmFtZSA9IG5ld191c2VyLm5hbWVcblxuXHRcdFx0XHRoYW5kbGVyX2lkID0gdXNlcl9pZFxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBuZXdfdXNlclxuXHRcdFx0XHRhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJfaWQpXG5cdFx0XHRcdGlmIGFnZW50XG5cdFx0XHRcdFx0aW5ib3hfdXNlcnNfZnJvbV9jbGllbnRbaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQuaW5kZXhPZih1c2VyX2lkKV0gPSBhZ2VudFxuXHRcdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudFxuXHRcdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFnZW50IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRcdG5ld19hcHByLmFnZW50ID0gYWdlbnRcblxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyID0gaGFuZGxlcl9pZFxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5uYW1lXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWVcblx0XHRcdFx0bmV3X2FwcHIuZnJvbV91c2VyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdG5ld19hcHByLmZyb21fdXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0XHRuZXdfYXBwci50eXBlID0gXCJyZWFzc2lnblwiXG5cdFx0XHRcdG5ld19hcHByLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0bmV3X2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlXG5cdFx0XHRcdG5ld19hcHByLmlzX3JlYWQgPSBmYWxzZVxuXHRcdFx0XHRuZXdfYXBwci5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdG5ld19hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Rcblx0XHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3X2FwcHIpXG5cdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChuZXdfYXBwcilcblx0XHRcdClcblxuXHRcdFx0aW5zdGFuY2Uub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxuXHRcdFx0aW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChhcHByb3ZlX3VzZXJzX2hhbmRsZXJzKVxuXHRcdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpXG5cdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBpbmJveF91c2Vyc19mcm9tX2NsaWVudFxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gbGFzdF90cmFjZS5hcHByb3Zlc1xuXHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoeyBfaWQ6IGluc3RhbmNlX2lkLCBcInRyYWNlcy5faWRcIjogbGFzdF90cmFjZS5faWQgfSwgeyAkc2V0OiBzZXRPYmogfSlcblx0XHRcdGlmIHJcblx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdFx0IyDnu5nooqvliKDpmaTnmoRpbmJveF91c2VycyDlkowg5b2T5YmN55So5oi3IOWPkemAgXB1c2hcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcblx0XHRcdFx0Xy5lYWNoKG5vdF9pbl9pbmJveF91c2VycywgKHVzZXJfaWQpIC0+XG5cdFx0XHRcdFx0aWYgdXNlcl9pZCBpc250IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXG5cdFx0XHRcdClcblx0XHRcdFx0IyDmj5Dlj5ZpbnN0YW5jZXMub3V0Ym94X3VzZXJz5pWw57uE5ZKM5aGr5Y2V5Lq644CB55Sz6K+35Lq6XG5cdFx0XHRcdF91c2VycyA9IG5ldyBBcnJheVxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KVxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKVxuXHRcdFx0XHRfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSlcblx0XHRcdFx0Xy5lYWNoKF91c2VycywgKHVzZXJfaWQpIC0+XG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXG5cdFx0XHRcdClcblxuXHRcdFx0XHQjIOe7meaWsOWKoOWFpeeahGluYm94X3VzZXJz5Y+R6YCBcHVzaCBtZXNzYWdlXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmVhc3NpZ25fbmV3X2luYm94X3VzZXJzXCIsIGlucywgcmVhc3NpZ25fcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWFzc2lnbicsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7fVxuXHRcdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5tZXNzYWdlIH1dIH1cblx0XHR9XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlYXNzaWduJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBfdXNlcnMsIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMsIGFzc2lnbmVlX2FwcHIsIGN1cnJlbnRfc3BhY2VfdXNlciwgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiwgaSwgaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzX2Zyb21fY2xpZW50LCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbGFzdF90cmFjZSwgbGFzdF90cmFjZV9mcm9tX2NsaWVudCwgbmV3X2luYm94X3VzZXJzLCBub3RfaW5faW5ib3hfdXNlcnMsIG5vdywgcGVybWlzc2lvbnMsIHIsIHJlYXNzaWduX3JlYXNvbiwgc2V0T2JqLCBzcGFjZSwgc3BhY2VfaWQ7XG4gICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydfaWQnXTtcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSk7XG4gICAgICBsYXN0X3RyYWNlX2Zyb21fY2xpZW50ID0gXy5sYXN0KGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdKTtcbiAgICAgIGxhc3RfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9PT0gbGFzdF90cmFjZV9mcm9tX2NsaWVudFtcIl9pZFwiXTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGxhc3RfdHJhY2UuaXNfZmluaXNoZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKTtcbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHNwYWNlX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGFkbWluczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICgoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpO1xuICAgICAgfVxuICAgICAgaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2VycztcbiAgICAgIGluYm94X3VzZXJzX2Zyb21fY2xpZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXTtcbiAgICAgIHJlYXNzaWduX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVhc3NpZ25fcmVhc29uXCJdO1xuICAgICAgbm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCBpbmJveF91c2Vyc19mcm9tX2NsaWVudCk7XG4gICAgICBuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQsIGluYm94X3VzZXJzKTtcbiAgICAgIGlmIChub3RfaW5faW5ib3hfdXNlcnMubGVuZ3RoID09PSAwICYmIG5ld19pbmJveF91c2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgaSA9IDA7XG4gICAgICBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzID0gW107XG4gICAgICB3aGlsZSAoaSA8IGxhc3RfdHJhY2UuYXBwcm92ZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChub3RfaW5faW5ib3hfdXNlcnMuaW5jbHVkZXMobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5oYW5kbGVyKSkge1xuICAgICAgICAgIGlmIChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkID09PSBmYWxzZSAmJiBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgIT09IFwiY2NcIiAmJiBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgIT09IFwiZGlzdHJpYnV0ZVwiKSB7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmRlc2NyaXB0aW9uID0gXCJcIjtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uY29zdF90aW1lID0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSAtIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMucHVzaChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnVzZXIpO1xuICAgICAgICAgICAgYXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvblxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYXNzaWduZWVfYXBwciA9IG5ldyBPYmplY3Q7XG4gICAgICBhc3NpZ25lZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICBhc3NpZ25lZV9hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZDtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgYXNzaWduZWVfYXBwci51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgYXNzaWduZWVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgIGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICBhc3NpZ25lZV9hcHByLmR1ZV9kYXRlID0gbGFzdF90cmFjZS5kdWVfZGF0ZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgYXNzaWduZWVfYXBwci5qdWRnZSA9IFwicmVhc3NpZ25lZFwiO1xuICAgICAgYXNzaWduZWVfYXBwci5pc19yZWFkID0gdHJ1ZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuZGVzY3JpcHRpb24gPSByZWFzc2lnbl9yZWFzb247XG4gICAgICBhc3NpZ25lZV9hcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICBhc3NpZ25lZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICBhc3NpZ25lZV9hcHByLmNvc3RfdGltZSA9IGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgLSBhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGU7XG4gICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzLnB1c2goYXNzaWduZWVfYXBwcik7XG4gICAgICBfLmVhY2gobmV3X2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgIHZhciBhZ2VudCwgaGFuZGxlcl9pZCwgaGFuZGxlcl9pbmZvLCBuZXdfYXBwciwgbmV3X3VzZXIsIHNwYWNlX3VzZXIsIHVzZXJfb3JnYW5pemF0aW9uO1xuICAgICAgICBuZXdfdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcl9pZCwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgdXNlcl9pZCk7XG4gICAgICAgIHVzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHNwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdfYXBwciA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld19hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld19hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZTtcbiAgICAgICAgbmV3X2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZDtcbiAgICAgICAgbmV3X2FwcHIuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3X2FwcHIudXNlciA9IHVzZXJfaWQ7XG4gICAgICAgIG5ld19hcHByLnVzZXJfbmFtZSA9IG5ld191c2VyLm5hbWU7XG4gICAgICAgIGhhbmRsZXJfaWQgPSB1c2VyX2lkO1xuICAgICAgICBoYW5kbGVyX2luZm8gPSBuZXdfdXNlcjtcbiAgICAgICAgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VyX2lkKTtcbiAgICAgICAgaWYgKGFnZW50KSB7XG4gICAgICAgICAgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnRbaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQuaW5kZXhPZih1c2VyX2lkKV0gPSBhZ2VudDtcbiAgICAgICAgICBoYW5kbGVyX2lkID0gYWdlbnQ7XG4gICAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IGFnZW50XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuZXdfYXBwci5hZ2VudCA9IGFnZW50O1xuICAgICAgICB9XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLm5hbWU7XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWU7XG4gICAgICAgIG5ld19hcHByLmZyb21fdXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgbmV3X2FwcHIuZnJvbV91c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICBuZXdfYXBwci50eXBlID0gXCJyZWFzc2lnblwiO1xuICAgICAgICBuZXdfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGU7XG4gICAgICAgIG5ld19hcHByLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgICAgbmV3X2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgbmV3X2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgdXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3X2FwcHIpO1xuICAgICAgICByZXR1cm4gbGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKG5ld19hcHByKTtcbiAgICAgIH0pO1xuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICAgIGluc3RhbmNlLm91dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQoYXBwcm92ZV91c2Vyc19oYW5kbGVycyk7XG4gICAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycyk7XG4gICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBpbmJveF91c2Vyc19mcm9tX2NsaWVudDtcbiAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gbGFzdF90cmFjZS5hcHByb3ZlcztcbiAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IGxhc3RfdHJhY2UuX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgfSk7XG4gICAgICBpZiAocikge1xuICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIF8uZWFjaChub3RfaW5faW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICBpZiAodXNlcl9pZCAhPT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF91c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudCk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpO1xuICAgICAgICBfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSk7XG4gICAgICAgIF8uZWFjaChfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWFzc2lnbl9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmVhc3NpZ24nLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2Vycyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbG9jYXRlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxuXG5cdFx0XHRsYXN0X3RyYWNlID0gXy5sYXN0KGluc3RhbmNlLnRyYWNlcylcblxuXHRcdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGluc3RhbmNlLnNwYWNlLCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxuXHRcdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSlcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIilcblxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0aW5zdGFuY2VfaWQgPSBsYXN0X3RyYWNlLmluc3RhbmNlXG5cdFx0XHRpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXG5cdFx0XHRyZWxvY2F0ZV9pbmJveF91c2VycyA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfaW5ib3hfdXNlcnNcIl1cblx0XHRcdHJlbG9jYXRlX2NvbW1lbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX2NvbW1lbnRcIl1cblx0XHRcdHJlbG9jYXRlX25leHRfc3RlcCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfbmV4dF9zdGVwXCJdXG5cdFx0XHRub3RfaW5faW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnMsIHJlbG9jYXRlX2luYm94X3VzZXJzKVxuXHRcdFx0bmV3X2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKHJlbG9jYXRlX2luYm94X3VzZXJzLCBpbmJveF91c2VycylcblxuXHRcdFx0YXBwcm92ZV91c2VycyA9IFtdXG5cblx0XHRcdCMg6I635Y+W5LiA5LiqZmxvd1xuXHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXHRcdFx0bmV4dF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCByZWxvY2F0ZV9uZXh0X3N0ZXApXG5cdFx0XHRuZXh0X3N0ZXBfdHlwZSA9IG5leHRfc3RlcC5zdGVwX3R5cGVcblx0XHRcdG5leHRfc3RlcF9uYW1lID0gbmV4dF9zdGVwLm5hbWVcblx0XHRcdGN1cnJlbnRfc2V0cCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgbGFzdF90cmFjZS5zdGVwKVxuXHRcdFx0Y3VycmVudF9zZXRwX3R5cGUgPSBjdXJyZW50X3NldHAuc3RlcF90eXBlXG5cblx0XHRcdHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlc1xuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdFx0IyDph43lrprkvY3nmoTml7blgJnkvb/nlKhhcHByb3ZlLnZhbHVlc+WQiOW5tiBpbnN0YW5jZS52YWx1ZXPnlJ/miJDmlrDnmoRpbnN0YW5jZS52YWx1ZXMgIzEzMjhcblx0XHRcdHNldE9iai52YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0aSA9IDBcblx0XHRcdHdoaWxlIGkgPCB0cmFjZXMubGVuZ3RoXG5cdFx0XHRcdGlmIHRyYWNlc1tpXS5faWQgaXMgbGFzdF90cmFjZS5faWRcblx0XHRcdFx0XHRpZiBub3QgdHJhY2VzW2ldLmFwcHJvdmVzXG5cdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXMgPSBuZXcgQXJyYXlcblx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNlLmFwcHJvdmXorrDlvZVcblx0XHRcdFx0XHRoID0gMFxuXHRcdFx0XHRcdHdoaWxlIGggPCB0cmFjZXNbaV0uYXBwcm92ZXMubGVuZ3RoXG5cdFx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgaXMgZmFsc2UgYW5kIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlIGlzbnQgXCJjY1wiIGFuZCB0cmFjZXNbaV0uYXBwcm92ZXNbaF0udHlwZSBpc250IFwiZGlzdHJpYnV0ZVwiXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0ucmVhZF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19yZWFkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5jb3N0X3RpbWUgPSB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgLSB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0XHRhcHByb3ZlX3VzZXJzLnB1c2godHJhY2VzW2ldLmFwcHJvdmVzW2hdLnVzZXIpXG5cblx0XHRcdFx0XHRcdFx0IyBiZWdpbiDooqvph43lrprkvY3nu5lB77yM5YaN6KKr6YeN5a6a5L2N6LWw77yM5LmL5YmNQeeahOaEj+ingeWcqOaEj+ingeagj+S4reaYvuekuuS4jeWHuuadpeS6huOAgiAjMTkyMVxuXHRcdFx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc2lnbl9zaG93ID09IHRydWVcblx0XHRcdFx0XHRcdFx0XHR0YSA9IHRyYWNlc1tpXS5hcHByb3Zlc1toXVxuXHRcdFx0XHRcdFx0XHRcdHNhbWVUcmFjZXMgPSBfLmZpbHRlciB0cmFjZXMsICh0KS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdC5zdGVwID09IHRyYWNlc1tpXS5zdGVwXG5cblx0XHRcdFx0XHRcdFx0XHRsID0gc2FtZVRyYWNlcy5sZW5ndGggLSAxXG5cdFx0XHRcdFx0XHRcdFx0c2lnblNob3dBcHByb3ZlSWQgPSBudWxsXG5cblx0XHRcdFx0XHRcdFx0XHR3aGlsZSBsID4gLTFcblx0XHRcdFx0XHRcdFx0XHRcdF8uZWFjaCBzYW1lVHJhY2VzW2xdLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBhLnVzZXIgPT0gdGEudXNlciAmJiBhLmp1ZGdlICE9IFwidGVybWluYXRlZFwiICYmIGEuZGVzY3JpcHRpb24gJiYgIXNpZ25TaG93QXBwcm92ZUlkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2lnblNob3dBcHByb3ZlSWQgPSBhLl9pZFxuXHRcdFx0XHRcdFx0XHRcdFx0bC0tXG5cblx0XHRcdFx0XHRcdFx0XHRpZiBzaWduU2hvd0FwcHJvdmVJZFxuXHRcdFx0XHRcdFx0XHRcdFx0dGkgPSAwXG5cdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSB0aSA8IHRyYWNlcy5sZW5ndGhcblx0XHRcdFx0XHRcdFx0XHRcdFx0YWggPSAwXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlIGFoIDwgdHJhY2VzW3RpXS5hcHByb3Zlcy5sZW5ndGhcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiB0cmFjZXNbdGldLmFwcHJvdmVzW2FoXS5faWQgPT0gc2lnblNob3dBcHByb3ZlSWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYWNlc1t0aV0uYXBwcm92ZXNbYWhdLnNpZ25fc2hvdyA9IHRydWVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPSBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFoKytcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGkrK1xuXHRcdFx0XHRcdFx0XHQjIGVuZCDooqvph43lrprkvY3nu5lB77yM5YaN6KKr6YeN5a6a5L2N6LWw77yM5LmL5YmNQeeahOaEj+ingeWcqOaEj+ingeagj+S4reaYvuekuuS4jeWHuuadpeS6huOAgiAjMTkyMVxuXG5cdFx0XHRcdFx0XHRoKytcblxuXHRcdFx0XHRcdCMg5Zyo5ZCM5LiAdHJhY2XkuIvmj5LlhaXph43lrprkvY3mk43kvZzogIXnmoRhcHByb3Zl6K6w5b2VXG5cdFx0XHRcdFx0Y3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdFx0XHRjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHsgZmllbGRzOiB7IG5hbWU6IDEgLCBmdWxsbmFtZTogMSB9IH0pXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwciA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnRyYWNlID0gdHJhY2VzW2ldLl9pZFxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci51c2VyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmR1ZV9kYXRlID0gdHJhY2VzW2ldLmR1ZV9kYXRlXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5yZWFkX2RhdGUgPSBub3dcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIlxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaXNfcmVhZCA9IHRydWVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmRlc2NyaXB0aW9uID0gcmVsb2NhdGVfY29tbWVudFxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuY29zdF90aW1lID0gcmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSAtIHJlbG9jYXRlX2FwcHIuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlcy5wdXNoKHJlbG9jYXRlX2FwcHIpXG5cblx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXG5cdFx0XHRcdFx0dHJhY2VzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdHRyYWNlc1tpXS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdHRyYWNlc1tpXS5qdWRnZSA9IFwicmVsb2NhdGVkXCJcblxuXHRcdFx0XHRpKytcblxuXHRcdFx0aWYgbmV4dF9zdGVwX3R5cGUgaXMgXCJlbmRcIlxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXVxuXHRcdFx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0bmV3VHJhY2Uuc3RlcCA9IHJlbG9jYXRlX25leHRfc3RlcFxuXHRcdFx0XHRuZXdUcmFjZS5uYW1lID0gbmV4dF9zdGVwX25hbWVcblx0XHRcdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXG5cdFx0XHRcdCMg5pu05pawaW5zdGFuY2XorrDlvZVcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBbXVxuXHRcdFx0XHRzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIlxuXHRcdFx0XHRzZXRPYmouZmluaXNoX2RhdGUgPSBuZXcgRGF0ZVxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBuZXh0X3N0ZXBfbmFtZVxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2Vcblx0XHRcdGVsc2Vcblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxuXHRcdFx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF1cblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gcmVsb2NhdGVfbmV4dF9zdGVwXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKG5leHRfc3RlcC50aW1lb3V0X2hvdXJzKVxuXHRcdFx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXG5cdFx0XHRcdF8uZWFjaChyZWxvY2F0ZV9pbmJveF91c2VycywgKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpLT5cblx0XHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNlLmFwcHJvdmXorrDlvZVcblx0XHRcdFx0XHRuZXdBcHByb3ZlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRcdG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWRcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZFxuXG5cdFx0XHRcdFx0dXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZVxuXG5cdFx0XHRcdFx0aGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkXG5cdFx0XHRcdFx0aGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvXG5cdFx0XHRcdFx0YWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCBuZXh0X3N0ZXBfdXNlcl9pZClcblx0XHRcdFx0XHRpZiBhZ2VudFxuXHRcdFx0XHRcdFx0cmVsb2NhdGVfaW5ib3hfdXNlcnNbaWR4XSA9IGFnZW50XG5cdFx0XHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnRcblx0XHRcdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFnZW50IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50XG5cblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxuXG5cdFx0XHRcdFx0bmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZClcblx0XHRcdFx0XHQjIOiOt+WPlm5leHRfc3RlcF91c2Vy5omA5Zyo55qE6YOo6Zeo5L+h5oGvXG5cdFx0XHRcdFx0bmV4dF9zdGVwX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8obmV4dF9zdGVwX3NwYWNlX3VzZXIpXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxuXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2Vcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKVxuXHRcdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSlcblx0XHRcdFx0KVxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSByZWxvY2F0ZV9pbmJveF91c2Vyc1xuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBuZXh0X3N0ZXBfbmFtZVxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBuZXh0X3N0ZXAubGluZXMpXG5cblx0XHRcdGluc3RhbmNlLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcilcblx0XHRcdGluc3RhbmNlLm91dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQoaW5ib3hfdXNlcnMpLmNvbmNhdChhcHByb3ZlX3VzZXJzKVxuXHRcdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpXG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2Vcblx0XHRcdHRyYWNlcy5wdXNoKG5ld1RyYWNlKVxuXHRcdFx0c2V0T2JqLnRyYWNlcyA9IHRyYWNlc1xuXG5cdFx0XHRpZiBzZXRPYmouc3RhdGUgPT0gJ2NvbXBsZXRlZCdcblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcblx0XHRcdGVsc2Vcblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqLCAkdW5zZXQ6IHtmaW5pc2hfZGF0ZTogMX19KVxuXG5cdFx0XHRpZiByXG5cdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRcdCMg57uZ6KKr5Yig6Zmk55qEaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXG5cdFx0XHRcdF8uZWFjaChub3RfaW5faW5ib3hfdXNlcnMsICh1c2VyX2lkKS0+XG5cdFx0XHRcdFx0aWYgdXNlcl9pZCBpc250IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXG5cdFx0XHRcdClcblx0XHRcdFx0IyDmj5Dlj5ZpbnN0YW5jZXMub3V0Ym94X3VzZXJz5pWw57uE5ZKM5aGr5Y2V5Lq644CB55Sz6K+35Lq6XG5cdFx0XHRcdF91c2VycyA9IG5ldyBBcnJheVxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KVxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKVxuXHRcdFx0XHRfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSlcblx0XHRcdFx0Xy5lYWNoKF91c2VycywgKHVzZXJfaWQpLT5cblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRcdFx0KVxuXG5cdFx0XHRcdCMg57uZ5paw5Yqg5YWl55qEaW5ib3hfdXNlcnPlj5HpgIFwdXNoIG1lc3NhZ2Vcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWxvY2F0ZV9jb21tZW50LCBjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWxvY2F0ZScsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YToge31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHtlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVsb2NhdGUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIF91c2VycywgYWgsIGFwcHJvdmVfdXNlcnMsIGN1cnJlbnRfc2V0cCwgY3VycmVudF9zZXRwX3R5cGUsIGN1cnJlbnRfc3BhY2VfdXNlciwgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiwgZmxvdywgaCwgaSwgaW5ib3hfdXNlcnMsIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsLCBsYXN0X3RyYWNlLCBuZXdUcmFjZSwgbmV3X2luYm94X3VzZXJzLCBuZXh0X3N0ZXAsIG5leHRfc3RlcF9uYW1lLCBuZXh0X3N0ZXBfdHlwZSwgbm90X2luX2luYm94X3VzZXJzLCBub3csIHBlcm1pc3Npb25zLCByLCByZWxvY2F0ZV9hcHByLCByZWxvY2F0ZV9jb21tZW50LCByZWxvY2F0ZV9pbmJveF91c2VycywgcmVsb2NhdGVfbmV4dF9zdGVwLCBzYW1lVHJhY2VzLCBzZXRPYmosIHNpZ25TaG93QXBwcm92ZUlkLCBzcGFjZSwgc3BhY2VfaWQsIHRhLCB0aSwgdHJhY2VzO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIGxhc3RfdHJhY2UgPSBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKTtcbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcik7XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGluc3RhbmNlLnNwYWNlLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGFkbWluczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICgoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpO1xuICAgICAgfVxuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIGluc3RhbmNlX2lkID0gbGFzdF90cmFjZS5pbnN0YW5jZTtcbiAgICAgIGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICByZWxvY2F0ZV9pbmJveF91c2VycyA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfaW5ib3hfdXNlcnNcIl07XG4gICAgICByZWxvY2F0ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9jb21tZW50XCJdO1xuICAgICAgcmVsb2NhdGVfbmV4dF9zdGVwID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9uZXh0X3N0ZXBcIl07XG4gICAgICBub3RfaW5faW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnMsIHJlbG9jYXRlX2luYm94X3VzZXJzKTtcbiAgICAgIG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShyZWxvY2F0ZV9pbmJveF91c2VycywgaW5ib3hfdXNlcnMpO1xuICAgICAgYXBwcm92ZV91c2VycyA9IFtdO1xuICAgICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICAgIG5leHRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcmVsb2NhdGVfbmV4dF9zdGVwKTtcbiAgICAgIG5leHRfc3RlcF90eXBlID0gbmV4dF9zdGVwLnN0ZXBfdHlwZTtcbiAgICAgIG5leHRfc3RlcF9uYW1lID0gbmV4dF9zdGVwLm5hbWU7XG4gICAgICBjdXJyZW50X3NldHAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcCk7XG4gICAgICBjdXJyZW50X3NldHBfdHlwZSA9IGN1cnJlbnRfc2V0cC5zdGVwX3R5cGU7XG4gICAgICB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG4gICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgc2V0T2JqLnZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIGkgPSAwO1xuICAgICAgd2hpbGUgKGkgPCB0cmFjZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0cmFjZXNbaV0uX2lkID09PSBsYXN0X3RyYWNlLl9pZCkge1xuICAgICAgICAgIGlmICghdHJhY2VzW2ldLmFwcHJvdmVzKSB7XG4gICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXMgPSBuZXcgQXJyYXk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGggPSAwO1xuICAgICAgICAgIHdoaWxlIChoIDwgdHJhY2VzW2ldLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnR5cGUgIT09IFwiY2NcIiAmJiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0udHlwZSAhPT0gXCJkaXN0cmlidXRlXCIpIHtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5jb3N0X3RpbWUgPSB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgLSB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgYXBwcm92ZV91c2Vycy5wdXNoKHRyYWNlc1tpXS5hcHByb3Zlc1toXS51c2VyKTtcbiAgICAgICAgICAgICAgaWYgKHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0YSA9IHRyYWNlc1tpXS5hcHByb3Zlc1toXTtcbiAgICAgICAgICAgICAgICBzYW1lVHJhY2VzID0gXy5maWx0ZXIodHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdC5zdGVwID09PSB0cmFjZXNbaV0uc3RlcDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsID0gc2FtZVRyYWNlcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIHNpZ25TaG93QXBwcm92ZUlkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB3aGlsZSAobCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICBfLmVhY2goc2FtZVRyYWNlc1tsXS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYS51c2VyID09PSB0YS51c2VyICYmIGEuanVkZ2UgIT09IFwidGVybWluYXRlZFwiICYmIGEuZGVzY3JpcHRpb24gJiYgIXNpZ25TaG93QXBwcm92ZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpZ25TaG93QXBwcm92ZUlkID0gYS5faWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgbC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2lnblNob3dBcHByb3ZlSWQpIHtcbiAgICAgICAgICAgICAgICAgIHRpID0gMDtcbiAgICAgICAgICAgICAgICAgIHdoaWxlICh0aSA8IHRyYWNlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWggPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYWggPCB0cmFjZXNbdGldLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFjZXNbdGldLmFwcHJvdmVzW2FoXS5faWQgPT09IHNpZ25TaG93QXBwcm92ZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjZXNbdGldLmFwcHJvdmVzW2FoXS5zaWduX3Nob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnNpZ25fc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBhaCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRpKys7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoKys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgICAgIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwciA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnRyYWNlID0gdHJhY2VzW2ldLl9pZDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuZHVlX2RhdGUgPSB0cmFjZXNbaV0uZHVlX2RhdGU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5qdWRnZSA9IFwicmVsb2NhdGVkXCI7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmRlc2NyaXB0aW9uID0gcmVsb2NhdGVfY29tbWVudDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuY29zdF90aW1lID0gcmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSAtIHJlbG9jYXRlX2FwcHIuc3RhcnRfZGF0ZTtcbiAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChyZWxvY2F0ZV9hcHByKTtcbiAgICAgICAgICB0cmFjZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgIHRyYWNlc1tpXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICB0cmFjZXNbaV0uanVkZ2UgPSBcInJlbG9jYXRlZFwiO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIGlmIChuZXh0X3N0ZXBfdHlwZSA9PT0gXCJlbmRcIikge1xuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IHJlbG9jYXRlX25leHRfc3RlcDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIjtcbiAgICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gW107XG4gICAgICAgIHNldE9iai5maW5hbF9kZWNpc2lvbiA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICBzZXRPYmouZmluaXNoX2RhdGUgPSBuZXcgRGF0ZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXTtcbiAgICAgICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IHJlbG9jYXRlX25leHRfc3RlcDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShuZXh0X3N0ZXAudGltZW91dF9ob3Vycyk7XG4gICAgICAgIG5ld1RyYWNlLmFwcHJvdmVzID0gW107XG4gICAgICAgIF8uZWFjaChyZWxvY2F0ZV9pbmJveF91c2VycywgZnVuY3Rpb24obmV4dF9zdGVwX3VzZXJfaWQsIGlkeCkge1xuICAgICAgICAgIHZhciBhZ2VudCwgaGFuZGxlcl9pZCwgaGFuZGxlcl9pbmZvLCBuZXdBcHByb3ZlLCBuZXh0X3N0ZXBfc3BhY2VfdXNlciwgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8sIHVzZXJfaW5mbztcbiAgICAgICAgICBuZXdBcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICAgICAgICBuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgICAgbmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICAgIG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWQ7XG4gICAgICAgICAgbmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICAgIG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgICAgIHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUobmV4dF9zdGVwX3VzZXJfaWQsIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICBoYW5kbGVyX2lkID0gbmV4dF9zdGVwX3VzZXJfaWQ7XG4gICAgICAgICAgaGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvO1xuICAgICAgICAgIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpO1xuICAgICAgICAgIGlmIChhZ2VudCkge1xuICAgICAgICAgICAgcmVsb2NhdGVfaW5ib3hfdXNlcnNbaWR4XSA9IGFnZW50O1xuICAgICAgICAgICAgaGFuZGxlcl9pZCA9IGFnZW50O1xuICAgICAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgICAgIF9pZDogYWdlbnRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuYWdlbnQgPSBhZ2VudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZDtcbiAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgICAgIG5leHRfc3RlcF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGhhbmRsZXJfaWQpO1xuICAgICAgICAgIG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKTtcbiAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl07XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICAgICAgbmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgIG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBuZXdUcmFjZS5kdWVfZGF0ZTtcbiAgICAgICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgICAgICBuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgbmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld0FwcHJvdmUpO1xuICAgICAgICAgIHJldHVybiBuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gcmVsb2NhdGVfaW5ib3hfdXNlcnM7XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBuZXh0X3N0ZXBfbmFtZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IHV1Zmxvd01hbmFnZXIuZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0KGZsb3cudGltZW91dF9hdXRvX3N1Ym1pdCwgbmV4dF9zdGVwLmxpbmVzKTtcbiAgICAgIH1cbiAgICAgIGluc3RhbmNlLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcik7XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGluYm94X3VzZXJzKS5jb25jYXQoYXBwcm92ZV91c2Vycyk7XG4gICAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycyk7XG4gICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICBzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZTtcbiAgICAgIHRyYWNlcy5wdXNoKG5ld1RyYWNlKTtcbiAgICAgIHNldE9iai50cmFjZXMgPSB0cmFjZXM7XG4gICAgICBpZiAoc2V0T2JqLnN0YXRlID09PSAnY29tcGxldGVkJykge1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9iaixcbiAgICAgICAgICAkdW5zZXQ6IHtcbiAgICAgICAgICAgIGZpbmlzaF9kYXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChyKSB7XG4gICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgXy5lYWNoKG5vdF9pbl9pbmJveF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgIGlmICh1c2VyX2lkICE9PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLnN1Ym1pdHRlcik7XG4gICAgICAgIF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKTtcbiAgICAgICAgXy5lYWNoKF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJlYXNzaWduX25ld19pbmJveF91c2Vyc1wiLCBpbnMsIHJlbG9jYXRlX2NvbW1lbnQsIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmVsb2NhdGUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2Vycyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L2FyY2hpdmUnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdXG5cdFx0XHQjIOiOt+WPluS4gOS4qmluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNlXG5cdFx0XHRzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0XHQjIOWIpOaWreS4gOS4qmluc3RhbmNl5piv5ZCm5Li65a6M5oiQ5bm25LiU5pyq5b2S5qGj54q25oCBXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VGaW5pc2hlZEFuZE5vdEFyY2hpZXZlZChpbnN0YW5jZSlcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2XkuIvnmoTkuIDkuKp1c2VyXG5cdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdCMg5Yik5pat5LiA5Liq55So5oi35piv5ZCm5piv5LiA5LiqaW5zdGFuY2XnmoTmj5DkuqTogIUg5oiW6ICFc3BhY2XnmoTnrqHnkIblkZhcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVN1Ym1pdHRlck9yQXBwbGljYW50T3JTcGFjZUFkbWluKGluc3RhbmNlLCBjdXJyZW50X3VzZXIsIHNwYWNlKVxuXHRcdFx0XG5cdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0XHRzZXRPYmouaXNfYXJjaGl2ZWQgPSB0cnVlXG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZVxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXG5cblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRkYXRhOiB7fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XG5cdFxuXHRcdCIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvYXJjaGl2ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBzZXRPYmosIHNwYWNlLCBzcGFjZV9pZCwgc3BhY2VfdXNlcjtcbiAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl07XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VGaW5pc2hlZEFuZE5vdEFyY2hpZXZlZChpbnN0YW5jZSk7XG4gICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VTdWJtaXR0ZXJPckFwcGxpY2FudE9yU3BhY2VBZG1pbihpbnN0YW5jZSwgY3VycmVudF91c2VyLCBzcGFjZSk7XG4gICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgc2V0T2JqLmlzX2FyY2hpdmVkID0gdHJ1ZTtcbiAgICAgIHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlO1xuICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJNZXRlb3Iuc3RhcnR1cCAtPlxuXHRXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSBcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L2luc3RhbmNlc1wiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdFx0dHJ5XG5cdFx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cblx0XHRcdHF1ZXJ5ID0gcmVxLnF1ZXJ5XG5cdFx0XHRzcGFjZV9pZCA9IHF1ZXJ5LnNwYWNlX2lkXG5cdFx0XHRmbG93X2lkID0gcXVlcnkuZmxvd19pZFxuXHRcdFx0dHlwZSA9IHBhcnNlSW50KHF1ZXJ5LnR5cGUpXG5cdFx0XHR0aW1lem9uZW9mZnNldCA9IHBhcnNlSW50KHF1ZXJ5LnRpbWV6b25lb2Zmc2V0KVxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd19pZCB9LCB7IGZpZWxkczogeyBmb3JtOiAxIH0gfSlcblx0XHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93LmZvcm0gfSwgeyBmaWVsZHM6IHsgbmFtZTogMSwgJ2N1cnJlbnQuZmllbGRzJzogMSB9IH0pXG5cblx0XHRcdGZvcm1fbmFtZSA9IGZvcm0ubmFtZVxuXHRcdFx0ZmllbGRzID0gZm9ybS5jdXJyZW50LmZpZWxkc1xuXHRcdFx0dGFibGVfZmllbGRzID0gbmV3IEFycmF5XG5cdFx0XHRfLmVhY2ggZm9ybS5jdXJyZW50LmZpZWxkcywgKGZpZWxkKSAtPlxuXHRcdFx0XHRpZiBmaWVsZC50eXBlIGlzIFwidGFibGVcIlxuXHRcdFx0XHRcdHRhYmxlX2ZpZWxkcy5wdXNoKGZpZWxkKVxuXG5cdFx0XHRpbnNfdG9feGxzID0gbmV3IEFycmF5XG5cdFx0XHRzdGFydF9kYXRlID0gbnVsbFxuXHRcdFx0ZW5kX2RhdGUgPSBudWxsXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0IyAwLeacrOaciFxuXHRcdFx0aWYgdHlwZSBpcyAwXG5cdFx0XHRcdHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpXG5cdFx0XHRcdGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHRcdGZsb3c6IGZsb3dfaWQsXG5cdFx0XHRcdFx0c3RhdGU6IHsgJG5lOiBcImRyYWZ0XCIgfSxcblx0XHRcdFx0XHRzdWJtaXRfZGF0ZTogeyAkZ3RlOiBzdGFydF9kYXRlIH1cblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdHNvcnQ6IHsgc3VibWl0X2RhdGU6IDEgfVxuXHRcdFx0XHR9KS5mZXRjaCgpXG5cdFx0XHQjIDEt5LiK5pyIXG5cdFx0XHRlbHNlIGlmIHR5cGUgaXMgMVxuXHRcdFx0XHRsYXN0X21vbnRoX2RhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpIC0gMTAwMCAqIDYwICogNjAgKiAyNClcblx0XHRcdFx0c3RhcnRfZGF0ZSA9IG5ldyBEYXRlKGxhc3RfbW9udGhfZGF0ZS5nZXRGdWxsWWVhcigpLCBsYXN0X21vbnRoX2RhdGUuZ2V0TW9udGgoKSwgMSlcblx0XHRcdFx0ZW5kX2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpXG5cdFx0XHRcdGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHRcdGZsb3c6IGZsb3dfaWQsXG5cdFx0XHRcdFx0c3RhdGU6IHsgJG5lOiBcImRyYWZ0XCIgfSxcblx0XHRcdFx0XHQkYW5kOiBbeyBzdWJtaXRfZGF0ZTogeyAkZ3RlOiBzdGFydF9kYXRlIH0gfSwgeyBzdWJtaXRfZGF0ZTogeyAkbHRlOiBlbmRfZGF0ZSB9IH1dXG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cblx0XHRcdFx0fSkuZmV0Y2goKVxuXHRcdFx0IyAyLeaVtOS4quW5tOW6plxuXHRcdFx0ZWxzZSBpZiB0eXBlIGlzIDJcblx0XHRcdFx0c3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCAwLCAxKVxuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0XHRmbG93OiBmbG93X2lkLFxuXHRcdFx0XHRcdHN0YXRlOiB7ICRuZTogXCJkcmFmdFwiIH0sXG5cdFx0XHRcdFx0c3VibWl0X2RhdGU6IHsgJGd0ZTogc3RhcnRfZGF0ZSB9XG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cblx0XHRcdFx0fSkuZmV0Y2goKVxuXHRcdFx0IyAzLeaJgOaciVxuXHRcdFx0ZWxzZSBpZiB0eXBlIGlzIDNcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdFx0ZmxvdzogZmxvd19pZCxcblx0XHRcdFx0XHRzdGF0ZTogeyAkbmU6IFwiZHJhZnRcIiB9XG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cblx0XHRcdFx0fSkuZmV0Y2goKVxuXG5cdFx0XHRlanMgPSByZXF1aXJlKCdlanMnKVxuXHRcdFx0c3RyID0gQXNzZXRzLmdldFRleHQoJ3NlcnZlci9lanMvZXhwb3J0X2luc3RhbmNlcy5lanMnKVxuXG5cdFx0XHQjIOajgOa1i+aYr+WQpuacieivreazlemUmeivr1xuXHRcdFx0ZWpzTGludCA9IHJlcXVpcmUoJ2Vqcy1saW50Jylcblx0XHRcdGVycm9yX29iaiA9IGVqc0xpbnQubGludChzdHIsIHt9KVxuXHRcdFx0aWYgZXJyb3Jfb2JqXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCI9PT0vYXBpL3dvcmtmbG93L2V4cG9ydDpcIlxuXHRcdFx0XHRjb25zb2xlLmVycm9yIGVycm9yX29ialxuXG5cdFx0XHR0ZW1wbGF0ZSA9IGVqcy5jb21waWxlKHN0cilcblxuXHRcdFx0bGFuZyA9ICdlbidcblx0XHRcdGlmIGN1cnJlbnRfdXNlcl9pbmZvLmxvY2FsZSBpcyAnemgtY24nXG5cdFx0XHRcdGxhbmcgPSAnemgtQ04nXG5cblx0XHRcdHJldCA9IHRlbXBsYXRlKHtcblx0XHRcdFx0bGFuZzogbGFuZyxcblx0XHRcdFx0dGltZXpvbmVvZmZzZXQ6IHRpbWV6b25lb2Zmc2V0LFxuXHRcdFx0XHRmb3JtX25hbWU6IGZvcm1fbmFtZSxcblx0XHRcdFx0ZmllbGRzOiBmaWVsZHMsXG5cdFx0XHRcdHRhYmxlX2ZpZWxkczogdGFibGVfZmllbGRzLFxuXHRcdFx0XHRpbnNfdG9feGxzOiBpbnNfdG9feGxzXG5cdFx0XHR9KVxuXG5cdFx0XHRmaWxlTmFtZSA9IFwiU3RlZWRPU1dvcmtmbG93X1wiICsgbW9tZW50KCkuZm9ybWF0KCdZWVlZTU1EREhIbW0nKSArIFwiLnhsc1wiXG5cdFx0XHRyZXMuc2V0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpXG5cdFx0XHRyZXMuc2V0SGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiLCBcImF0dGFjaG1lbnQ7ZmlsZW5hbWU9XCIgKyBlbmNvZGVVUkkoZmlsZU5hbWUpKVxuXHRcdFx0cmVzLmVuZChyZXQpXG5cdFx0Y2F0Y2ggZVxuXHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0XHRyZXMuZW5kKGUubWVzc2FnZSkiLCJNZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFdlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlKFwiL2FwaS93b3JrZmxvdy9leHBvcnQvaW5zdGFuY2VzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBlanMsIGVqc0xpbnQsIGVuZF9kYXRlLCBlcnJvcl9vYmosIGZpZWxkcywgZmlsZU5hbWUsIGZsb3csIGZsb3dfaWQsIGZvcm0sIGZvcm1fbmFtZSwgaW5zX3RvX3hscywgbGFuZywgbGFzdF9tb250aF9kYXRlLCBub3csIHF1ZXJ5LCByZXQsIHNwYWNlX2lkLCBzdGFydF9kYXRlLCBzdHIsIHRhYmxlX2ZpZWxkcywgdGVtcGxhdGUsIHRpbWV6b25lb2Zmc2V0LCB0eXBlO1xuICAgIHRyeSB7XG4gICAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgICAgcXVlcnkgPSByZXEucXVlcnk7XG4gICAgICBzcGFjZV9pZCA9IHF1ZXJ5LnNwYWNlX2lkO1xuICAgICAgZmxvd19pZCA9IHF1ZXJ5LmZsb3dfaWQ7XG4gICAgICB0eXBlID0gcGFyc2VJbnQocXVlcnkudHlwZSk7XG4gICAgICB0aW1lem9uZW9mZnNldCA9IHBhcnNlSW50KHF1ZXJ5LnRpbWV6b25lb2Zmc2V0KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93X2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm06IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvdy5mb3JtXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZvcm1fbmFtZSA9IGZvcm0ubmFtZTtcbiAgICAgIGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHM7XG4gICAgICB0YWJsZV9maWVsZHMgPSBuZXcgQXJyYXk7XG4gICAgICBfLmVhY2goZm9ybS5jdXJyZW50LmZpZWxkcywgZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09IFwidGFibGVcIikge1xuICAgICAgICAgIHJldHVybiB0YWJsZV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaW5zX3RvX3hscyA9IG5ldyBBcnJheTtcbiAgICAgIHN0YXJ0X2RhdGUgPSBudWxsO1xuICAgICAgZW5kX2RhdGUgPSBudWxsO1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpZiAodHlwZSA9PT0gMCkge1xuICAgICAgICBzdGFydF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKTtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICAgZmxvdzogZmxvd19pZCxcbiAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgJG5lOiBcImRyYWZ0XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN1Ym1pdF9kYXRlOiB7XG4gICAgICAgICAgICAkZ3RlOiBzdGFydF9kYXRlXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDEpIHtcbiAgICAgICAgbGFzdF9tb250aF9kYXRlID0gbmV3IERhdGUobmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKSAtIDEwMDAgKiA2MCAqIDYwICogMjQpO1xuICAgICAgICBzdGFydF9kYXRlID0gbmV3IERhdGUobGFzdF9tb250aF9kYXRlLmdldEZ1bGxZZWFyKCksIGxhc3RfbW9udGhfZGF0ZS5nZXRNb250aCgpLCAxKTtcbiAgICAgICAgZW5kX2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpO1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICBmbG93OiBmbG93X2lkLFxuICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAkbmU6IFwiZHJhZnRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgJGFuZDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdWJtaXRfZGF0ZToge1xuICAgICAgICAgICAgICAgICRndGU6IHN0YXJ0X2RhdGVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBzdWJtaXRfZGF0ZToge1xuICAgICAgICAgICAgICAgICRsdGU6IGVuZF9kYXRlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMikge1xuICAgICAgICBzdGFydF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIDAsIDEpO1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICBmbG93OiBmbG93X2lkLFxuICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAkbmU6IFwiZHJhZnRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VibWl0X2RhdGU6IHtcbiAgICAgICAgICAgICRndGU6IHN0YXJ0X2RhdGVcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMykge1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICBmbG93OiBmbG93X2lkLFxuICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAkbmU6IFwiZHJhZnRcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfVxuICAgICAgZWpzID0gcmVxdWlyZSgnZWpzJyk7XG4gICAgICBzdHIgPSBBc3NldHMuZ2V0VGV4dCgnc2VydmVyL2Vqcy9leHBvcnRfaW5zdGFuY2VzLmVqcycpO1xuICAgICAgZWpzTGludCA9IHJlcXVpcmUoJ2Vqcy1saW50Jyk7XG4gICAgICBlcnJvcl9vYmogPSBlanNMaW50LmxpbnQoc3RyLCB7fSk7XG4gICAgICBpZiAoZXJyb3Jfb2JqKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCI9PT0vYXBpL3dvcmtmbG93L2V4cG9ydDpcIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Jfb2JqKTtcbiAgICAgIH1cbiAgICAgIHRlbXBsYXRlID0gZWpzLmNvbXBpbGUoc3RyKTtcbiAgICAgIGxhbmcgPSAnZW4nO1xuICAgICAgaWYgKGN1cnJlbnRfdXNlcl9pbmZvLmxvY2FsZSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsYW5nID0gJ3poLUNOJztcbiAgICAgIH1cbiAgICAgIHJldCA9IHRlbXBsYXRlKHtcbiAgICAgICAgbGFuZzogbGFuZyxcbiAgICAgICAgdGltZXpvbmVvZmZzZXQ6IHRpbWV6b25lb2Zmc2V0LFxuICAgICAgICBmb3JtX25hbWU6IGZvcm1fbmFtZSxcbiAgICAgICAgZmllbGRzOiBmaWVsZHMsXG4gICAgICAgIHRhYmxlX2ZpZWxkczogdGFibGVfZmllbGRzLFxuICAgICAgICBpbnNfdG9feGxzOiBpbnNfdG9feGxzXG4gICAgICB9KTtcbiAgICAgIGZpbGVOYW1lID0gXCJTdGVlZE9TV29ya2Zsb3dfXCIgKyBtb21lbnQoKS5mb3JtYXQoJ1lZWVlNTURESEhtbScpICsgXCIueGxzXCI7XG4gICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpO1xuICAgICAgcmVzLnNldEhlYWRlcihcIkNvbnRlbnQtRGlzcG9zaXRpb25cIiwgXCJhdHRhY2htZW50O2ZpbGVuYW1lPVwiICsgZW5jb2RlVVJJKGZpbGVOYW1lKSk7XG4gICAgICByZXR1cm4gcmVzLmVuZChyZXQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgcmV0dXJuIHJlcy5lbmQoZS5tZXNzYWdlKTtcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZCAnZ2V0JywgJy91Zi9zcGFjZS9jaGFuZ2VzZXQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdHF1ZXJ5ID0gcmVxLnF1ZXJ5XG5cdFx0YXV0aF90b2tlbiA9IGRiLmF1dGhfdG9rZW5zLmZpbmRPbmUoe2F1dGhfdG9rZW46IHF1ZXJ5LmF1dGhfdG9rZW59KVxuXG5cdFx0aWYgKG5vdCBhdXRoX3Rva2VuKSBvciAobm90IGF1dGhfdG9rZW4uZW5hYmxlZClcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IgNDAxLCAnVW5hdXRob3JpemVkJ1xuXG5cdFx0c3luY190b2tlbiA9IHF1ZXJ5W1wic3luY190b2tlblwiXVxuXHRcdGZvcm1pZHMgPSBxdWVyeVtcImZvcm1pZHNcIl0gIyDpgJflj7fpmpTlvIDlrZfnrKbkuLJcblx0XHRpc19hZG1pbiA9IHF1ZXJ5W1wiaXNfYWRtaW5cIl1cblxuXHRcdGRhdGEgPSB1dWZsb3dNYW5hZ2VyLmdldF9TcGFjZUNoYW5nZVNldChmb3JtaWRzLCBpc19hZG1pbiwgc3luY190b2tlbilcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRkYXRhOiBkYXRhXG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH0iLCJKc29uUm91dGVzLmFkZCgnZ2V0JywgJy91Zi9zcGFjZS9jaGFuZ2VzZXQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXV0aF90b2tlbiwgZGF0YSwgZSwgZm9ybWlkcywgaXNfYWRtaW4sIHF1ZXJ5LCBzeW5jX3Rva2VuO1xuICB0cnkge1xuICAgIHF1ZXJ5ID0gcmVxLnF1ZXJ5O1xuICAgIGF1dGhfdG9rZW4gPSBkYi5hdXRoX3Rva2Vucy5maW5kT25lKHtcbiAgICAgIGF1dGhfdG9rZW46IHF1ZXJ5LmF1dGhfdG9rZW5cbiAgICB9KTtcbiAgICBpZiAoKCFhdXRoX3Rva2VuKSB8fCAoIWF1dGhfdG9rZW4uZW5hYmxlZCkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNDAxLCAnVW5hdXRob3JpemVkJyk7XG4gICAgfVxuICAgIHN5bmNfdG9rZW4gPSBxdWVyeVtcInN5bmNfdG9rZW5cIl07XG4gICAgZm9ybWlkcyA9IHF1ZXJ5W1wiZm9ybWlkc1wiXTtcbiAgICBpc19hZG1pbiA9IHF1ZXJ5W1wiaXNfYWRtaW5cIl07XG4gICAgZGF0YSA9IHV1Zmxvd01hbmFnZXIuZ2V0X1NwYWNlQ2hhbmdlU2V0KGZvcm1pZHMsIGlzX2FkbWluLCBzeW5jX3Rva2VuKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZXRyaWV2ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcblx0XHRcdHJldHJpZXZlX2NvbW1lbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFsncmV0cmlldmVfY29tbWVudCddXG5cblx0XHRcdCMg6aqM6K+BaW5zdGFuY2XkuLrlrqHmoLjkuK3nirbmgIFcblx0XHRcdCMgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSlcblx0XHRcdCMg5qCh6aqM55Sz6K+35Y2V5piv5b2T5YmN55So5oi35bey5a6h5qC46L+H55qE5Y2V5a2Q5oiW6ICF5b2T5YmN55So5oi35piv5o+Q5Lqk5Lq65oiW55Sz6K+35Lq6XG5cdFx0XHRpZiAobm90IGluc3RhbmNlLm91dGJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSBhbmQgKGluc3RhbmNlLnN1Ym1pdHRlciBpc250IGN1cnJlbnRfdXNlciBhbmQgaW5zdGFuY2UuYXBwbGljYW50IGlzbnQgY3VycmVudF91c2VyKVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICflvZPliY3nlKjmiLfkuI3nrKblkIjlj5blm57mnaHku7YnKVxuXG5cdFx0XHRyZXRyaWV2ZV90eXBlID0gXCJcIlxuXG5cdFx0XHR0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXNcblxuXHRcdFx0I+iOt+WPluacgOaWsOeahHRyYWNl77yMIOWNs+WPluWbnuatpemqpFxuXHRcdFx0bGFzdF90cmFjZSA9IF8ubGFzdCh0cmFjZXMpXG5cdFx0XHRsYXN0X3RyYWNlX2lkID0gbGFzdF90cmFjZS5faWRcblx0XHRcdHByZXZpb3VzX3RyYWNlX2lkID0gbGFzdF90cmFjZS5wcmV2aW91c190cmFjZV9pZHNbMF07XG5cdFx0XHRwcmV2aW91c190cmFjZSA9IF8uZmluZCh0cmFjZXMsICh0KS0+XG5cdFx0XHRcdHJldHVybiB0Ll9pZCBpcyBwcmV2aW91c190cmFjZV9pZFxuXHRcdFx0KVxuXHRcdFx0cHJldmlvdXNfdHJhY2Vfc3RlcF9pZCA9IHByZXZpb3VzX3RyYWNlLnN0ZXBcblx0XHRcdHByZXZpb3VzX3RyYWNlX25hbWUgPSBwcmV2aW91c190cmFjZS5uYW1lXG5cdFx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXG5cdFx0XHRwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKVxuXHRcdFx0aWYgcHJldmlvdXNfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb3VudGVyU2lnblwiXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuS4jeiDveWPluWbnicpXG5cblx0XHRcdCMg5Y+W5Zue5q2l6aqk55qE5YmN5LiA5Liq5q2l6aqk5aSE55CG5Lq65ZSv5LiA77yI5Y2z5o6S6Zmk5o6J5Lyg6ZiF5ZKM6L2s5Y+R55qEYXBwcm92ZeWQju+8jOWJqeS9meeahGFwcHJvdmXlj6rmnInkuIDkuKrvvInlubbkuJTmmK/lvZPliY3nlKjmiLdcblx0XHRcdHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzID0gXy5maWx0ZXIgcHJldmlvdXNfdHJhY2UuYXBwcm92ZXMsIChhKS0+XG5cdFx0XHRcdHJldHVybiBhLnR5cGUgaXNudCAnY2MnIGFuZCBhLnR5cGUgaXNudCAnZGlzdHJpYnV0ZScgYW5kIGEudHlwZSBpc250ICdmb3J3YXJkJyBhbmQgWydhcHByb3ZlZCcsJ3N1Ym1pdHRlZCcsJ3JlamVjdGVkJ10uaW5jbHVkZXMoYS5qdWRnZSlcblxuXHRcdFx0aWYgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXMubGVuZ3RoIGlzIDEgYW5kIChwcmV2aW91c190cmFjZV9hcHByb3Zlc1swXS51c2VyIGlzIGN1cnJlbnRfdXNlciBvciBwcmV2aW91c190cmFjZV9hcHByb3Zlc1swXS5oYW5kbGVyIGlzIGN1cnJlbnRfdXNlcilcblx0XHRcdFx0cmV0cmlldmVfdHlwZSA9ICdub3JtYWwnICMg55Sz6K+35Y2V5q2j5bi45rWB6L2s55qE5Y+W5Zue77yM5Y2z6Z2e5Lyg6ZiF5Y+W5ZueXG5cblx0XHRcdGkgPSB0cmFjZXMubGVuZ3RoXG5cdFx0XHRyZXRyaWV2ZV9hcHByb3ZlID0ge31cblx0XHRcdHdoaWxlIGkgPiAwXG5cdFx0XHRcdF8uZWFjaCB0cmFjZXNbaS0xXS5hcHByb3ZlcywgKGEpLT5cblx0XHRcdFx0XHRpZiBhLnR5cGUgaXMgJ2NjJyBhbmQgYS5pc19maW5pc2hlZCBpcyB0cnVlIGFuZCBhLnVzZXIgaXMgY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV90eXBlID0gJ2NjJ1xuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwcm92ZSA9IGFcblxuXHRcdFx0XHRpZiByZXRyaWV2ZV90eXBlIGlzICdjYydcblx0XHRcdFx0XHRicmVha1xuXG5cdFx0XHRcdGktLVxuXG5cblx0XHRcdGlmIHJldHJpZXZlX3R5cGUgaXMgJ25vcm1hbCdcblx0XHRcdFx0IyDojrflj5bkuIDkuKpmbG93XG5cdFx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcblx0XHRcdFx0cHJldmlvdXNfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZClcblx0XHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZFxuXHRcdFx0XHRvbGRfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2Vyc1xuXHRcdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRcdF8uZWFjaCB0cmFjZXMsICh0KS0+XG5cdFx0XHRcdFx0aWYgdC5faWQgaXMgbGFzdF90cmFjZV9pZFxuXHRcdFx0XHRcdFx0aWYgbm90IHQuYXBwcm92ZXNcblx0XHRcdFx0XHRcdFx0dC5hcHByb3ZlcyA9IG5ldyBBcnJheVxuXHRcdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZS5hcHByb3Zl6K6w5b2VXG5cdFx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwcHIpLT5cblx0XHRcdFx0XHRcdFx0aWYgYXBwci5pc19maW5pc2hlZCA9PSBmYWxzZSBhbmQgYXBwci50eXBlIGlzbnQgXCJjY1wiXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdFx0YXBwci5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0XHRcdGFwcHIucmVhZF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdFx0YXBwci5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5pc19yZWFkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5qdWRnZSA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5jb3N0X3RpbWUgPSBhcHByLmZpbmlzaF9kYXRlIC0gYXBwci5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHQjIOWcqOWQjOS4gHRyYWNl5LiL5o+S5YWl5Y+W5Zue5pON5L2c6ICF55qEYXBwcm92ZeiusOW9lVxuXHRcdFx0XHRcdFx0Y3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdFx0XHRcdGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwgeyBmaWVsZHM6IHsgbmFtZTogMSwgZnVsbG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwciA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnRyYWNlID0gdC5faWRcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuZHVlX2RhdGUgPSB0LmR1ZV9kYXRlXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnJlYWRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5qdWRnZSA9IFwicmV0cmlldmVkXCJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaXNfcmVhZCA9IHRydWVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuZGVzY3JpcHRpb24gPSByZXRyaWV2ZV9jb21tZW50XG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5jb3N0X3RpbWUgPSByZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlIC0gcmV0cmlldmVfYXBwci5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHR0LmFwcHJvdmVzLnB1c2gocmV0cmlldmVfYXBwcilcblxuXHRcdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZeiusOW9lVxuXHRcdFx0XHRcdFx0dC5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdHQuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdHQuanVkZ2UgPSBcInJldHJpZXZlZFwiXG5cblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxuXHRcdFx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlX2lkXVxuXHRcdFx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSBwcmV2aW91c190cmFjZV9zdGVwX2lkXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lXG5cdFx0XHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0bmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJldmlvdXNfc3RlcC50aW1lb3V0X2hvdXJzKVxuXHRcdFx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2UuYXBwcm92ZeiusOW9lVxuXHRcdFx0XHRuZXdBcHByb3ZlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0bmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWRcblx0XHRcdFx0bmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRcdG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlclxuXG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyLCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxuXG5cdFx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXHRcdFx0XHQjIOiOt+WPlm5leHRfc3RlcF91c2Vy5omA5Zyo55qE6YOo6Zeo5L+h5oGvXG5cdFx0XHRcdG9yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxuXG5cdFx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdBcHByb3ZlLmR1ZV9kYXRlID0gbmV3VHJhY2UuZHVlX2RhdGVcblx0XHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2Vcblx0XHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdFxuXG5cdFx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld0FwcHJvdmUpXG5cblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBbY3VycmVudF91c2VyXVxuXG5cdFx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0dHJhY2VzLnB1c2gobmV3VHJhY2UpXG5cdFx0XHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXNcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcblx0XHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2VcblxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSB1dWZsb3dNYW5hZ2VyLmdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdChmbG93LnRpbWVvdXRfYXV0b19zdWJtaXQsIHByZXZpb3VzX3N0ZXAubGluZXMpXG5cblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcblx0XHRcdFx0aWYgclxuXHRcdFx0XHRcdCMg57uZ6KKr5Yig6Zmk55qEaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcblx0XHRcdFx0XHRfLmVhY2gob2xkX2luYm94X3VzZXJzLCAodXNlcl9pZCktPlxuXHRcdFx0XHRcdFx0aWYgdXNlcl9pZCBpc250IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRcdFx0XHQpXG5cblx0XHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2VycylcblxuXHRcdFx0ZWxzZSBpZiByZXRyaWV2ZV90eXBlIGlzICdjYydcblx0XHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZFxuXHRcdFx0XHR0aGVfdHJhY2UgPSBfLmZpbmQgdHJhY2VzLCAodCktPlxuXHRcdFx0XHRcdHJldHVybiB0Ll9pZCBpcyByZXRyaWV2ZV9hcHByb3ZlLnRyYWNlXG5cblx0XHRcdFx0Xy5lYWNoIHRoZV90cmFjZS5hcHByb3ZlcywgKGEpLT5cblx0XHRcdFx0XHRpZiBhLl9pZCBpcyByZXRyaWV2ZV9hcHByb3ZlLl9pZFxuXHRcdFx0XHRcdFx0YS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRcdFx0XHRhLmZpbmlzaF9kYXRlID0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0XHRhLmp1ZGdlID0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0XHRhLmNvc3RfdGltZSA9IHVuZGVmaW5lZFxuXG5cdFx0XHRcdGNjX3VzZXJzID0gaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdFx0Y2NfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXG5cblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XG5cdFx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxuXHRcdFx0XHRzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZVxuXHRcdFx0XHRzZXRPYmouY2NfdXNlcnMgPSBjY191c2Vyc1xuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzJ10gPSB0aGVfdHJhY2UuYXBwcm92ZXNcblxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZCwgJ3RyYWNlcy5faWQnOiByZXRyaWV2ZV9hcHByb3ZlLnRyYWNlfSwgeyRzZXQ6IHNldE9ian0pXG5cdFx0XHRcdGlmIHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxuXG5cdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JldHJpZXZlJywgY3VycmVudF91c2VyLCBbY3VycmVudF91c2VyXSlcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHt9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7ZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JldHJpZXZlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBjY191c2VycywgZmxvdywgaGFuZGxlcl9pbmZvLCBpLCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbGFzdF90cmFjZSwgbGFzdF90cmFjZV9pZCwgbmV3QXBwcm92ZSwgbmV3VHJhY2UsIG5vdywgb2xkX2luYm94X3VzZXJzLCBvcmdfaW5mbywgcHJldmlvdXNfc3RlcCwgcHJldmlvdXNfdHJhY2UsIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzLCBwcmV2aW91c190cmFjZV9pZCwgcHJldmlvdXNfdHJhY2VfbmFtZSwgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCwgciwgcmV0cmlldmVfYXBwcm92ZSwgcmV0cmlldmVfY29tbWVudCwgcmV0cmlldmVfdHlwZSwgc2V0T2JqLCBzcGFjZV9pZCwgc3BhY2VfdXNlciwgdGhlX3RyYWNlLCB0cmFjZXM7XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgcmV0cmlldmVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydyZXRyaWV2ZV9jb21tZW50J107XG4gICAgICBpZiAoKCFpbnN0YW5jZS5vdXRib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgJiYgKGluc3RhbmNlLnN1Ym1pdHRlciAhPT0gY3VycmVudF91c2VyICYmIGluc3RhbmNlLmFwcGxpY2FudCAhPT0gY3VycmVudF91c2VyKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICflvZPliY3nlKjmiLfkuI3nrKblkIjlj5blm57mnaHku7YnKTtcbiAgICAgIH1cbiAgICAgIHJldHJpZXZlX3R5cGUgPSBcIlwiO1xuICAgICAgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuICAgICAgbGFzdF90cmFjZSA9IF8ubGFzdCh0cmFjZXMpO1xuICAgICAgbGFzdF90cmFjZV9pZCA9IGxhc3RfdHJhY2UuX2lkO1xuICAgICAgcHJldmlvdXNfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLnByZXZpb3VzX3RyYWNlX2lkc1swXTtcbiAgICAgIHByZXZpb3VzX3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdC5faWQgPT09IHByZXZpb3VzX3RyYWNlX2lkO1xuICAgICAgfSk7XG4gICAgICBwcmV2aW91c190cmFjZV9zdGVwX2lkID0gcHJldmlvdXNfdHJhY2Uuc3RlcDtcbiAgICAgIHByZXZpb3VzX3RyYWNlX25hbWUgPSBwcmV2aW91c190cmFjZS5uYW1lO1xuICAgICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICAgIHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpO1xuICAgICAgaWYgKHByZXZpb3VzX3N0ZXAuc3RlcF90eXBlID09PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5LiN6IO95Y+W5ZueJyk7XG4gICAgICB9XG4gICAgICBwcmV2aW91c190cmFjZV9hcHByb3ZlcyA9IF8uZmlsdGVyKHByZXZpb3VzX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgIT09ICdjYycgJiYgYS50eXBlICE9PSAnZGlzdHJpYnV0ZScgJiYgYS50eXBlICE9PSAnZm9yd2FyZCcgJiYgWydhcHByb3ZlZCcsICdzdWJtaXR0ZWQnLCAncmVqZWN0ZWQnXS5pbmNsdWRlcyhhLmp1ZGdlKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzLmxlbmd0aCA9PT0gMSAmJiAocHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0udXNlciA9PT0gY3VycmVudF91c2VyIHx8IHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLmhhbmRsZXIgPT09IGN1cnJlbnRfdXNlcikpIHtcbiAgICAgICAgcmV0cmlldmVfdHlwZSA9ICdub3JtYWwnO1xuICAgICAgfVxuICAgICAgaSA9IHRyYWNlcy5sZW5ndGg7XG4gICAgICByZXRyaWV2ZV9hcHByb3ZlID0ge307XG4gICAgICB3aGlsZSAoaSA+IDApIHtcbiAgICAgICAgXy5lYWNoKHRyYWNlc1tpIC0gMV0uYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICBpZiAoYS50eXBlID09PSAnY2MnICYmIGEuaXNfZmluaXNoZWQgPT09IHRydWUgJiYgYS51c2VyID09PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgIHJldHJpZXZlX3R5cGUgPSAnY2MnO1xuICAgICAgICAgICAgcmV0dXJuIHJldHJpZXZlX2FwcHJvdmUgPSBhO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXRyaWV2ZV90eXBlID09PSAnY2MnKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaS0tO1xuICAgICAgfVxuICAgICAgaWYgKHJldHJpZXZlX3R5cGUgPT09ICdub3JtYWwnKSB7XG4gICAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgICAgIHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpO1xuICAgICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZDtcbiAgICAgICAgb2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBfLmVhY2godHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRfc3BhY2VfdXNlciwgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiwgcmV0cmlldmVfYXBwcjtcbiAgICAgICAgICBpZiAodC5faWQgPT09IGxhc3RfdHJhY2VfaWQpIHtcbiAgICAgICAgICAgIGlmICghdC5hcHByb3Zlcykge1xuICAgICAgICAgICAgICB0LmFwcHJvdmVzID0gbmV3IEFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwcHIpIHtcbiAgICAgICAgICAgICAgaWYgKGFwcHIuaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIGFwcHIudHlwZSAhPT0gXCJjY1wiKSB7XG4gICAgICAgICAgICAgICAgYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIGFwcHIuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXBwci5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHByLmNvc3RfdGltZSA9IGFwcHIuZmluaXNoX2RhdGUgLSBhcHByLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICAgICAgICBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHtcbiAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci50cmFjZSA9IHQuX2lkO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuZHVlX2RhdGUgPSB0LmR1ZV9kYXRlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmp1ZGdlID0gXCJyZXRyaWV2ZWRcIjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmRlc2NyaXB0aW9uID0gcmV0cmlldmVfY29tbWVudDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuY29zdF90aW1lID0gcmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSAtIHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIHQuYXBwcm92ZXMucHVzaChyZXRyaWV2ZV9hcHByKTtcbiAgICAgICAgICAgIHQuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgdC5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHVybiB0Lmp1ZGdlID0gXCJyZXRyaWV2ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlX2lkXTtcbiAgICAgICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQ7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShwcmV2aW91c19zdGVwLnRpbWVvdXRfaG91cnMpO1xuICAgICAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgICAgICBuZXdBcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWQ7XG4gICAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3QXBwcm92ZS51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlciwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgICBvcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld0FwcHJvdmUpO1xuICAgICAgICBuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBbY3VycmVudF91c2VyXTtcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIHRyYWNlcy5wdXNoKG5ld1RyYWNlKTtcbiAgICAgICAgc2V0T2JqLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBwcmV2aW91c19zdGVwLmxpbmVzKTtcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgICBfLmVhY2gob2xkX2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgICBpZiAodXNlcl9pZCAhPT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2Vycyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocmV0cmlldmVfdHlwZSA9PT0gJ2NjJykge1xuICAgICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWQ7XG4gICAgICAgIHRoZV90cmFjZSA9IF8uZmluZCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICByZXR1cm4gdC5faWQgPT09IHJldHJpZXZlX2FwcHJvdmUudHJhY2U7XG4gICAgICAgIH0pO1xuICAgICAgICBfLmVhY2godGhlX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgaWYgKGEuX2lkID09PSByZXRyaWV2ZV9hcHByb3ZlLl9pZCkge1xuICAgICAgICAgICAgYS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYS5maW5pc2hfZGF0ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGEuanVkZ2UgPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4gYS5jb3N0X3RpbWUgPSB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2VycztcbiAgICAgICAgY2NfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuICAgICAgICBzZXRPYmouY2NfdXNlcnMgPSBjY191c2VycztcbiAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3ZlcyddID0gdGhlX3RyYWNlLmFwcHJvdmVzO1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgICAgICAndHJhY2VzLl9pZCc6IHJldHJpZXZlX2FwcHJvdmUudHJhY2VcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIFtjdXJyZW50X3VzZXJdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZm9yd2FyZCcsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuXHR0cnkge1xuXHRcdHZhciBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG5cblx0XHR2YXIgaGFzaERhdGEgPSByZXEuYm9keTtcblx0XHR2YXIgaW5zdGFuY2VfaWQgPSBoYXNoRGF0YS5pbnN0YW5jZV9pZDtcblx0XHR2YXIgc3BhY2VfaWQgPSBoYXNoRGF0YS5zcGFjZV9pZDtcblx0XHR2YXIgZmxvd19pZCA9IGhhc2hEYXRhLmZsb3dfaWQ7XG5cdFx0dmFyIGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCA9IGhhc2hEYXRhLmhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudDtcblx0XHR2YXIgZGVzY3JpcHRpb24gPSBoYXNoRGF0YS5kZXNjcmlwdGlvbjtcblx0XHR2YXIgaXNGb3J3YXJkQXR0YWNobWVudHMgPSBoYXNoRGF0YS5pc0ZvcndhcmRBdHRhY2htZW50cztcblx0XHR2YXIgc2VsZWN0ZWRVc2VycyA9IGhhc2hEYXRhLnNlbGVjdGVkVXNlcnM7XG5cdFx0dmFyIGFjdGlvbl90eXBlID0gaGFzaERhdGEuYWN0aW9uX3R5cGU7XG5cdFx0dmFyIHJlbGF0ZWQgPSBoYXNoRGF0YS5yZWxhdGVkO1xuXHRcdHZhciBmcm9tX2FwcHJvdmVfaWQgPSBoYXNoRGF0YS5mcm9tX2FwcHJvdmVfaWQ7XG5cblx0XHRjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKTtcblx0XHRjaGVjayhzcGFjZV9pZCwgU3RyaW5nKTtcblx0XHRjaGVjayhmbG93X2lkLCBTdHJpbmcpO1xuXHRcdGNoZWNrKGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCwgQm9vbGVhbik7XG5cdFx0Y2hlY2soZGVzY3JpcHRpb24sIFN0cmluZyk7XG5cdFx0Y2hlY2soaXNGb3J3YXJkQXR0YWNobWVudHMsIEJvb2xlYW4pO1xuXHRcdGNoZWNrKHNlbGVjdGVkVXNlcnMsIEFycmF5KTtcblx0XHRjaGVjayhhY3Rpb25fdHlwZSwgTWF0Y2guT25lT2YoJ2ZvcndhcmQnLCAnZGlzdHJpYnV0ZScpKTtcblxuXHRcdGlmIChhY3Rpb25fdHlwZSA9PSBcImRpc3RyaWJ1dGVcIilcblx0XHRcdGNoZWNrKGZyb21fYXBwcm92ZV9pZCwgU3RyaW5nKTtcblxuXHRcdHZhciBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XG5cdFx0dmFyIG9sZF9zcGFjZV9pZCA9IGlucy5zcGFjZTtcblxuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkKTtcblxuXHRcdHZhciBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlX2lkKTtcblxuXHRcdGlmICghaW5zIHx8ICFmbG93IHx8ICFzcGFjZSkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcigncGFyYW1zIGVycm9yIScsICdyZWNvcmQgbm90IGV4aXN0cyEnKTtcblx0XHR9XG5cblx0XHR2YXIgZm9yd2FyZF91c2VycyA9IG5ldyBBcnJheTtcblx0XHRpZiAoXy5pc0VtcHR5KHNlbGVjdGVkVXNlcnMpKSB7XG5cdFx0XHRmb3J3YXJkX3VzZXJzID0gW2N1cnJlbnRfdXNlcl9pZF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvcndhcmRfdXNlcnMgPSBzZWxlY3RlZFVzZXJzO1xuXHRcdH1cblxuXHRcdC8vIOagoemqjOWIhuWPkeWvueixoeaYr+WQpuacieWIhuWPkea1geeoi+eahOaPkOS6pOadg+mZkFxuXHRcdHZhciBub19wZXJtaXNzaW9uX3VzZXJfaWRzID0gbmV3IEFycmF5KCk7XG5cdFx0Xy5lYWNoKGZvcndhcmRfdXNlcnMsIGZ1bmN0aW9uICh1aWQpIHtcblx0XHRcdHZhciBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93X2lkLCB1aWQpO1xuXHRcdFx0aWYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkZFwiKSkge1xuXHRcdFx0XHQvLyB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuivpeeUs+ivt+S6uuayoeacieaPkOS6pOatpOeUs+ivt+WNleeahOadg+mZkOOAglwiKVxuXHRcdFx0XHRub19wZXJtaXNzaW9uX3VzZXJfaWRzLnB1c2godWlkKTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdGlmICghXy5pc0VtcHR5KG5vX3Blcm1pc3Npb25fdXNlcl9pZHMpKSB7XG5cdFx0XHR2YXIgbm9fcGVybWlzc2lvbl91c2Vyc19uYW1lID0gbmV3IEFycmF5KCk7XG5cdFx0XHRkYi51c2Vycy5maW5kKHtcblx0XHRcdFx0X2lkOiB7XG5cdFx0XHRcdFx0JGluOiBub19wZXJtaXNzaW9uX3VzZXJfaWRzXG5cdFx0XHRcdH1cblx0XHRcdH0sIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KS5mb3JFYWNoKGZ1bmN0aW9uICh1KSB7XG5cdFx0XHRcdG5vX3Blcm1pc3Npb25fdXNlcnNfbmFtZS5wdXNoKHUubmFtZSk7XG5cdFx0XHR9KTtcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ25vX3Blcm1pc3Npb24nLCBcIuivpeaPkOS6pOS6uuayoeacieaPkOS6pOatpOeUs+ivt+WNleeahOadg+mZkOOAglwiLCBub19wZXJtaXNzaW9uX3VzZXJzX25hbWUuam9pbignLCcpKVxuXHRcdH1cblxuXHRcdHZhciBuZXdfaW5zX2lkcyA9IG5ldyBBcnJheTtcblxuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gbnVsbDtcblx0XHRpZiAoYWN0aW9uX3R5cGUgPT0gXCJkaXN0cmlidXRlXCIpIHtcblx0XHRcdF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbiAodCkge1xuXHRcdFx0XHRpZiAoIWN1cnJlbnRfdHJhY2UpIHtcblx0XHRcdFx0XHRfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24gKGEpIHtcblx0XHRcdFx0XHRcdGlmICghY3VycmVudF90cmFjZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoYS5faWQgPT0gZnJvbV9hcHByb3ZlX2lkKVxuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRfdHJhY2UgPSB0O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1cnJlbnRfdHJhY2UgPSBfLmxhc3QoaW5zLnRyYWNlcyk7XG5cdFx0fVxuXHRcdHZhciBjdXJyZW50X3RyYWNlX2lkID0gY3VycmVudF90cmFjZS5faWQ7XG5cdFx0dmFyIGZvcndhcmRfYXBwcm92ZXMgPSBbXTtcblx0XHR2YXIgZnJvbV91c2VyX25hbWUgPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcl9pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdG5hbWU6IDFcblx0XHRcdH1cblx0XHR9KS5uYW1lXG5cdFx0dmFyIHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXG5cdFx0Ly8g6K6h566XdmFsdWVzXG5cdFx0dmFyIG9sZF92YWx1ZXMgPSBpbnMudmFsdWVzLFxuXHRcdFx0bmV3X3ZhbHVlcyA9IHt9O1xuXHRcdHZhciBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmbG93LmZvcm0pO1xuXHRcdHZhciBmaWVsZHMgPSBmb3JtLmN1cnJlbnQuZmllbGRzIHx8IFtdO1xuXG5cdFx0dmFyIG9sZF9mb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnMuZm9ybSk7XG5cdFx0dmFyIG9sZF9mb3JtX3ZlcnNpb24gPSBpbnMuZm9ybV92ZXJzaW9uLFxuXHRcdFx0b2xkX2ZpZWxkcyA9IFtdLFxuXHRcdFx0Y29tbW9uX2ZpZWxkcyA9IFtdO1xuXG5cdFx0dmFyIHNlbGVjdF90b19pbnB1dF9maWVsZHMgPSBbXTtcblxuXHRcdGlmIChvbGRfZm9ybS5jdXJyZW50Ll9pZCA9PSBvbGRfZm9ybV92ZXJzaW9uKSB7XG5cdFx0XHRvbGRfZmllbGRzID0gb2xkX2Zvcm0uY3VycmVudC5maWVsZHM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChvbGRfZm9ybS5oaXN0b3J5cykge1xuXHRcdFx0XHRvbGRfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uIChoKSB7XG5cdFx0XHRcdFx0aWYgKGguX2lkID09IG9sZF9mb3JtX3ZlcnNpb24pXG5cdFx0XHRcdFx0XHRvbGRfZmllbGRzID0gaC5maWVsZHM7XG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG5cdFx0XHR2YXIgZXhpc3RzX2ZpZWxkID0gXy5maW5kKG9sZF9maWVsZHMsIGZ1bmN0aW9uIChmKSB7XG5cdFx0XHRcdHJldHVybiBmLnR5cGUgPT0gZmllbGQudHlwZSAmJiBmLmNvZGUgPT0gZmllbGQuY29kZTtcblx0XHRcdH0pXG5cdFx0XHRpZiAoZXhpc3RzX2ZpZWxkKVxuXHRcdFx0XHRjb21tb25fZmllbGRzLnB1c2goZmllbGQpO1xuXHRcdFx0dmFyIHNlbGVjdF9pbnB1dF9maWVsZCA9IF8uZmluZChvbGRfZmllbGRzLCBmdW5jdGlvbiAoZikge1xuXHRcdFx0XHRyZXR1cm4gZi50eXBlID09ICdzZWxlY3QnICYmIGZpZWxkLnR5cGUgPT0gJ2lucHV0JyAmJiBmLmNvZGUgPT0gZmllbGQuY29kZTtcblx0XHRcdH0pXG5cdFx0XHRpZiAoc2VsZWN0X2lucHV0X2ZpZWxkKVxuXHRcdFx0XHRzZWxlY3RfdG9faW5wdXRfZmllbGRzLnB1c2goc2VsZWN0X2lucHV0X2ZpZWxkKTtcblx0XHR9KVxuXG5cdFx0c2VsZWN0X3RvX2lucHV0X2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuXHRcdFx0aWYgKG9sZF92YWx1ZXNbZmllbGQuY29kZV0pIHtcblx0XHRcdFx0bmV3X3ZhbHVlc1tmaWVsZC5jb2RlXSA9IG9sZF92YWx1ZXNbZmllbGQuY29kZV07XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdGNvbW1vbl9maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcblx0XHRcdGlmIChmaWVsZC50eXBlID09ICdzZWN0aW9uJykge1xuXHRcdFx0XHRpZiAoZmllbGQuZmllbGRzKSB7XG5cdFx0XHRcdFx0ZmllbGQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcblx0XHRcdFx0XHRcdC8vIOi3qOW3peS9nOWMuui9rOWPkeS4jeWkjeWItumAieS6uumAiee7hFxuXHRcdFx0XHRcdFx0aWYgKFsnZ3JvdXAnLCAndXNlciddLmluY2x1ZGVzKGYudHlwZSkgJiYgb2xkX3NwYWNlX2lkICE9IHNwYWNlX2lkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBrZXkgPSBmLmNvZGU7XG5cdFx0XHRcdFx0XHR2YXIgb2xkX3YgPSBvbGRfdmFsdWVzW2tleV07XG5cdFx0XHRcdFx0XHRpZiAob2xkX3YpIHtcblx0XHRcdFx0XHRcdFx0Ly8g5qCh6aqMIOWNlemAie+8jOWkmumAie+8jOS4i+aLieahhiDlrZfmrrXlgLzmmK/lkKblnKjmlrDooajljZXlr7nlupTlrZfmrrXnmoTlj6/pgInlgLzojIPlm7TlhoVcblx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnc2VsZWN0JyB8fCBmLnR5cGUgPT0gJ3JhZGlvJykge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZi5vcHRpb25zLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaW5jbHVkZXMob2xkX3YpKVxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnbXVsdGlTZWxlY3QnKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBvbGRfbXVsdGlTZWxlY3RlZCA9IG9sZF92LnNwbGl0KCcsJyk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG5ld19tdWx0aVNlbGVjdGVkID0gXy5pbnRlcnNlY3Rpb24ob3B0aW9ucywgb2xkX211bHRpU2VsZWN0ZWQpO1xuXHRcdFx0XHRcdFx0XHRcdG9sZF92ID0gbmV3X211bHRpU2VsZWN0ZWQuam9pbignLCcpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0bmV3X3ZhbHVlc1trZXldID0gb2xkX3Y7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChmaWVsZC50eXBlID09ICd0YWJsZScpIHtcblx0XHRcdFx0aWYgKCFfLmlzRW1wdHkob2xkX3ZhbHVlc1tmaWVsZC5jb2RlXSkpIHtcblx0XHRcdFx0XHRuZXdfdmFsdWVzW2ZpZWxkLmNvZGVdID0gbmV3IEFycmF5O1xuXHRcdFx0XHRcdG9sZF92YWx1ZXNbZmllbGQuY29kZV0uZm9yRWFjaChmdW5jdGlvbiAob2xkX3RhYmxlX3Jvd192YWx1ZXMpIHtcblx0XHRcdFx0XHRcdHZhciBuZXdfdGFibGVfcm93X3ZhbHVlcyA9IHt9O1xuXG5cdFx0XHRcdFx0XHRpZiAoIV8uaXNFbXB0eShmaWVsZC5maWVsZHMpKSB7XG5cdFx0XHRcdFx0XHRcdGZpZWxkLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXG5cdFx0XHRcdFx0XHRcdFx0aWYgKFsnZ3JvdXAnLCAndXNlciddLmluY2x1ZGVzKGYudHlwZSkgJiYgb2xkX3NwYWNlX2lkICE9IHNwYWNlX2lkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHZhciBrZXkgPSBmLmNvZGU7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9sZF92ID0gb2xkX3RhYmxlX3Jvd192YWx1ZXNba2V5XTtcblx0XHRcdFx0XHRcdFx0XHRpZiAob2xkX3YpIHtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIOagoemqjCDljZXpgInvvIzlpJrpgInvvIzkuIvmi4nmoYYg5a2X5q615YC85piv5ZCm5Zyo5paw6KGo5Y2V5a+55bqU5a2X5q6155qE5Y+v6YCJ5YC86IyD5Zu05YaFXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdzZWxlY3QnIHx8IGYudHlwZSA9PSAncmFkaW8nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZi5vcHRpb25zLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmluY2x1ZGVzKG9sZF92KSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ211bHRpU2VsZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGYub3B0aW9ucy5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBvbGRfbXVsdGlTZWxlY3RlZCA9IG9sZF92LnNwbGl0KCcsJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBuZXdfbXVsdGlTZWxlY3RlZCA9IF8uaW50ZXJzZWN0aW9uKG9wdGlvbnMsIG9sZF9tdWx0aVNlbGVjdGVkKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0b2xkX3YgPSBuZXdfbXVsdGlTZWxlY3RlZC5qb2luKCcsJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdG5ld190YWJsZV9yb3dfdmFsdWVzW2tleV0gPSBvbGRfdjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmICghXy5pc0VtcHR5KG5ld190YWJsZV9yb3dfdmFsdWVzKSkge1xuXHRcdFx0XHRcdFx0XHRuZXdfdmFsdWVzW2ZpZWxkLmNvZGVdLnB1c2gobmV3X3RhYmxlX3Jvd192YWx1ZXMpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIOi3qOW3peS9nOWMuui9rOWPkeS4jeWkjeWItumAieS6uumAiee7hFxuXHRcdFx0XHRpZiAoWydncm91cCcsICd1c2VyJ10uaW5jbHVkZXMoZmllbGQudHlwZSkgJiYgb2xkX3NwYWNlX2lkICE9IHNwYWNlX2lkKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBrZXkgPSBmaWVsZC5jb2RlO1xuXHRcdFx0XHR2YXIgb2xkX3YgPSBvbGRfdmFsdWVzW2tleV07XG5cdFx0XHRcdGlmIChvbGRfdikge1xuXHRcdFx0XHRcdC8vIOagoemqjCDljZXpgInvvIzlpJrpgInvvIzkuIvmi4nmoYYg5a2X5q615YC85piv5ZCm5Zyo5paw6KGo5Y2V5a+55bqU5a2X5q6155qE5Y+v6YCJ5YC86IyD5Zu05YaFXG5cdFx0XHRcdFx0aWYgKGZpZWxkLnR5cGUgPT0gJ3NlbGVjdCcgfHwgZmllbGQudHlwZSA9PSAncmFkaW8nKSB7XG5cdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGZpZWxkLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmluY2x1ZGVzKG9sZF92KSlcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChmaWVsZC50eXBlID09ICdtdWx0aVNlbGVjdCcpIHtcblx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZmllbGQub3B0aW9ucy5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdFx0XHR2YXIgb2xkX211bHRpU2VsZWN0ZWQgPSBvbGRfdi5zcGxpdCgnLCcpO1xuXHRcdFx0XHRcdFx0dmFyIG5ld19tdWx0aVNlbGVjdGVkID0gXy5pbnRlcnNlY3Rpb24ob3B0aW9ucywgb2xkX211bHRpU2VsZWN0ZWQpO1xuXHRcdFx0XHRcdFx0b2xkX3YgPSBuZXdfbXVsdGlTZWxlY3RlZC5qb2luKCcsJyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bmV3X3ZhbHVlc1trZXldID0gb2xkX3Y7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH0pXG5cblx0XHQvL+WmguaenOaYr+WIhuWPke+8jOWImXZhbHVl5Lit55qEcmVjb3JkX25lZWTjgIFGT05EU0lE5LiN6ZyA6KaB5YiG5Y+R5Yiw5paw55Sz6K+35Y2V5LitXG5cdFx0aWYgKGFjdGlvbl90eXBlID09PSAnZGlzdHJpYnV0ZScpIHtcblx0XHRcdGRlbGV0ZSBuZXdfdmFsdWVzLnJlY29yZF9uZWVkO1xuXHRcdFx0ZGVsZXRlIG5ld192YWx1ZXMuRk9ORFNJRDtcblx0XHR9XG5cblx0XHQvLyDorqHnrpfnlLPor7fljZXmoIfpophcblx0XHR2YXIgaW5zdGFuY2VfbmFtZSA9IFwiXCI7XG5cdFx0dmFyIG5hbWVfZm9ydW1sYSA9IGZvcm0uY3VycmVudC5uYW1lX2ZvcnVtbGE7XG5cdFx0aWYgKG5hbWVfZm9ydW1sYSkge1xuXHRcdFx0dmFyIGlzY3JpcHQgPSBuYW1lX2ZvcnVtbGEucmVwbGFjZSgvXFx7L2csIFwiKG5ld192YWx1ZXNbJ1wiKS5yZXBsYWNlKC9cXH0vZywgXCInXSB8fCAnJylcIik7XG5cdFx0XHR2YXIgcmV2ID0gZXZhbChpc2NyaXB0KTtcblx0XHRcdGluc3RhbmNlX25hbWUgPSByZXYgfHwgZmxvdy5uYW1lO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpbnN0YW5jZV9uYW1lID0gZmxvdy5uYW1lO1xuXHRcdH1cblxuXHRcdC8vIGluc3RhbmNl5Lit6K6w5b2V5b2T5YmN5q2l6aqk5ZCN56ewICMxMzE0XG5cdFx0dmFyIHN0YXJ0X3N0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbiAoc3RlcCkge1xuXHRcdFx0cmV0dXJuIHN0ZXAuc3RlcF90eXBlID09ICdzdGFydCc7XG5cdFx0fSlcblxuXHRcdC8vIOaWsOW7uueUs+ivt+WNleaXtu+8jGluc3RhbmNlc+iusOW9lea1geeoi+WQjeensOOAgea1geeoi+WIhuexu+WQjeensCAjMTMxM1xuXHRcdHZhciBjYXRlZ29yeV9uYW1lID0gXCJcIjtcblx0XHRpZiAoZm9ybS5jYXRlZ29yeSkge1xuXHRcdFx0dmFyIGNhdGVnb3J5ID0gdXVmbG93TWFuYWdlci5nZXRDYXRlZ29yeShmb3JtLmNhdGVnb3J5KTtcblx0XHRcdGlmIChjYXRlZ29yeSlcblx0XHRcdFx0Y2F0ZWdvcnlfbmFtZSA9IGNhdGVnb3J5Lm5hbWU7XG5cdFx0fVxuXG5cdFx0Xy5lYWNoKGZvcndhcmRfdXNlcnMsIGZ1bmN0aW9uICh1c2VyX2lkKSB7XG5cblx0XHRcdHZhciB1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHVzZXJfaWQpO1xuXG5cdFx0XHR2YXIgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuXHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdHVzZXI6IHVzZXJfaWRcblx0XHRcdH0sIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0b3JnYW5pemF0aW9uOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dmFyIHNwYWNlX3VzZXJfb3JnX2luZm8gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuXHRcdFx0XHRfaWQ6IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdFx0ZnVsbG5hbWU6IDFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0dmFyIGluc19vYmogPSB7fTtcblxuXHRcdFx0dmFyIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgdXNlcl9pZCk7XG5cdFx0XHR2YXIgaGFuZGxlcl9pZCA9IHVzZXJfaWQ7XG5cdFx0XHR2YXIgaGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvO1xuXHRcdFx0dmFyIGhhbmRsZXJfc3BhY2VfdXNlciA9IHNwYWNlX3VzZXI7XG5cdFx0XHR2YXIgaGFuZGxlcl9vcmdfaW5mbyA9IHNwYWNlX3VzZXJfb3JnX2luZm87XG5cdFx0XHRpZiAoYWdlbnQpIHtcblx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50O1xuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGFnZW50KTtcblx0XHRcdFx0aGFuZGxlcl9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGFnZW50KTtcblx0XHRcdFx0aGFuZGxlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhoYW5kbGVyX3NwYWNlX3VzZXIpO1xuXHRcdFx0fVxuXHRcdFx0aW5zX29iai5faWQgPSBkYi5pbnN0YW5jZXMuX21ha2VOZXdJRCgpO1xuXHRcdFx0aW5zX29iai5zcGFjZSA9IHNwYWNlX2lkO1xuXHRcdFx0aW5zX29iai5mbG93ID0gZmxvd19pZDtcblx0XHRcdGluc19vYmouZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50Ll9pZDtcblx0XHRcdGluc19vYmouZm9ybSA9IGZsb3cuZm9ybTtcblx0XHRcdGluc19vYmouZm9ybV92ZXJzaW9uID0gZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcblx0XHRcdGluc19vYmoubmFtZSA9IGluc3RhbmNlX25hbWU7XG5cdFx0XHRpbnNfb2JqLnN1Ym1pdHRlciA9IGhhbmRsZXJfaWQ7XG5cdFx0XHRpbnNfb2JqLnN1Ym1pdHRlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudCA9IHVzZXJfaWQ7XG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9uYW1lID0gdXNlcl9pbmZvLm5hbWU7XG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcblx0XHRcdGluc19vYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mby5uYW1lO1xuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mby5mdWxsbmFtZTtcblx0XHRcdGluc19vYmouc3RhdGUgPSBcImRyYWZ0XCI7XG5cdFx0XHRpbnNfb2JqLmNvZGUgPSBcIlwiO1xuXHRcdFx0aW5zX29iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuXHRcdFx0aW5zX29iai5pc19kZWxldGVkID0gZmFsc2U7XG5cdFx0XHRpbnNfb2JqLmNyZWF0ZWQgPSBub3c7XG5cdFx0XHRpbnNfb2JqLmNyZWF0ZWRfYnkgPSBjdXJyZW50X3VzZXJfaWQ7XG5cdFx0XHRpbnNfb2JqLm1vZGlmaWVkID0gbm93O1xuXHRcdFx0aW5zX29iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcl9pZDtcblx0XHRcdGluc19vYmouaW5ib3hfdXNlcnMgPSBbaGFuZGxlcl9pZF07XG5cdFx0XHRpbnNfb2JqLnZhbHVlcyA9IG5ld192YWx1ZXM7XG5cdFx0XHRpZiAoYWN0aW9uX3R5cGUgPT0gJ2Rpc3RyaWJ1dGUnKSB7XG5cdFx0XHRcdC8vIOino+WGs+WkmuasoeWIhuWPkeeci+S4jeWIsOato+aWh+OAgemZhOS7tumXrumimFxuXHRcdFx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xuXHRcdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlID0gaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyA9IF8uY2xvbmUoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xuXHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMucHVzaChpbnN0YW5jZV9pZCk7XG5cblx0XHRcdFx0aWYgKHJlbGF0ZWQpIHtcblx0XHRcdFx0XHRpbnNfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gW2luc3RhbmNlX2lkXVxuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uX3R5cGUgPT0gJ2ZvcndhcmQnKSB7XG5cdFx0XHRcdGluc19vYmouZm9yd2FyZF9mcm9tX2luc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdH1cblxuXHRcdFx0Ly8g5paw5bu6VHJhY2Vcblx0XHRcdHZhciB0cmFjZV9vYmogPSB7fTtcblx0XHRcdHRyYWNlX29iai5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuXHRcdFx0dHJhY2Vfb2JqLmluc3RhbmNlID0gaW5zX29iai5faWQ7XG5cdFx0XHR0cmFjZV9vYmouaXNfZmluaXNoZWQgPSBmYWxzZTtcblxuXHRcdFx0Ly8g5b2T5YmN5pyA5paw54mIZmxvd+S4reW8gOWni+iKgueCueeahHN0ZXBfaWRcblx0XHRcdHZhciBzdGVwX2lkLCBzdGVwX25hbWUsIGNhbl9lZGl0X21haW5fYXR0YWNoLCBjYW5fZWRpdF9ub3JtYWxfYXR0YWNoO1xuXHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHN0ZXApIHtcblx0XHRcdFx0aWYgKHN0ZXAuc3RlcF90eXBlID09IFwic3RhcnRcIikge1xuXHRcdFx0XHRcdHN0ZXBfaWQgPSBzdGVwLl9pZDtcblx0XHRcdFx0XHRzdGVwX25hbWUgPSBzdGVwLm5hbWU7XG5cdFx0XHRcdFx0Y2FuX2VkaXRfbWFpbl9hdHRhY2ggPSBzdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoO1xuXHRcdFx0XHRcdGNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPSBzdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2g7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHR0cmFjZV9vYmouc3RlcCA9IHN0ZXBfaWQ7XG5cdFx0XHR0cmFjZV9vYmouc3RhcnRfZGF0ZSA9IG5vdztcblx0XHRcdHRyYWNlX29iai5uYW1lID0gc3RlcF9uYW1lO1xuXG5cdFx0XHQvLyDmlrDlu7pBcHByb3ZlXG5cdFx0XHR2YXIgYXBwcl9vYmogPSB7fTtcblx0XHRcdGFwcHJfb2JqLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG5cdFx0XHRhcHByX29iai5pbnN0YW5jZSA9IGluc19vYmouX2lkO1xuXHRcdFx0YXBwcl9vYmoudHJhY2UgPSB0cmFjZV9vYmouX2lkO1xuXHRcdFx0YXBwcl9vYmouaXNfZmluaXNoZWQgPSBmYWxzZTtcblx0XHRcdGFwcHJfb2JqLnVzZXIgPSB1c2VyX2lkO1xuXHRcdFx0YXBwcl9vYmoudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWU7XG5cdFx0XHRhcHByX29iai5oYW5kbGVyID0gaGFuZGxlcl9pZDtcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9vcmdhbml6YXRpb24gPSBoYW5kbGVyX3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGhhbmRsZXJfb3JnX2luZm8ubmFtZTtcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gaGFuZGxlcl9vcmdfaW5mby5mdWxsbmFtZTtcblx0XHRcdGFwcHJfb2JqLnR5cGUgPSBcImRyYWZ0XCI7XG5cdFx0XHRhcHByX29iai5zdGFydF9kYXRlID0gbm93O1xuXHRcdFx0YXBwcl9vYmoucmVhZF9kYXRlID0gbm93O1xuXHRcdFx0YXBwcl9vYmouaXNfcmVhZCA9IGZhbHNlO1xuXHRcdFx0YXBwcl9vYmouaXNfZXJyb3IgPSBmYWxzZTtcblxuXHRcdFx0YXBwcl9vYmoudmFsdWVzID0gbmV3X3ZhbHVlcztcblxuXHRcdFx0aWYgKGFnZW50KSB7XG5cdFx0XHRcdGFwcHJfb2JqLmFnZW50ID0gYWdlbnQ7XG5cdFx0XHR9XG5cblx0XHRcdHRyYWNlX29iai5hcHByb3ZlcyA9IFthcHByX29ial07XG5cdFx0XHRpbnNfb2JqLnRyYWNlcyA9IFt0cmFjZV9vYmpdO1xuXG5cdFx0XHRpZiAoZmxvdy5hdXRvX3JlbWluZCA9PSB0cnVlKVxuXHRcdFx0XHRpbnNfb2JqLmF1dG9fcmVtaW5kID0gdHJ1ZTtcblxuXHRcdFx0aW5zX29iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHN0YXJ0X3N0ZXAubmFtZTtcblxuXHRcdFx0aW5zX29iai5mbG93X25hbWUgPSBmbG93Lm5hbWU7XG5cdFx0XHRpZiAoY2F0ZWdvcnlfbmFtZSlcblx0XHRcdFx0aW5zX29iai5jYXRlZ29yeV9uYW1lID0gY2F0ZWdvcnkubmFtZTtcblx0XHRcdFx0aW5zX29iai5jYXRlZ29yeSA9IGNhdGVnb3J5Ll9pZDtcblxuXHRcdFx0bmV3X2luc19pZCA9IGRiLmluc3RhbmNlcy5pbnNlcnQoaW5zX29iaik7XG5cblx0XHRcdC8vIOWkjeWItumZhOS7tlxuXHRcdFx0dmFyIGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzO1xuXG5cdFx0XHQvL+WwhuWOn+ihqOWNleWGheWuueWtmOWCqOS4uuesrOS4gOS4qumZhOS7tlxuXHRcdFx0aWYgKGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCkge1xuXHRcdFx0XHQvLyB0cnkge1xuXG5cdFx0XHRcdGluc3RhbmNlSHRtbCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwodXNlcl9pbmZvLCBzcGFjZV9pZCwgaW5zLCB7XG5cdFx0XHRcdFx0YWJzb2x1dGU6IHRydWVcblx0XHRcdFx0fSlcblx0XHRcdFx0dmFyIGluc3RhbmNlRmlsZSA9IG5ldyBGUy5GaWxlKCk7XG5cdFx0XHRcdGluc3RhbmNlRmlsZS5hdHRhY2hEYXRhKEJ1ZmZlci5mcm9tKGluc3RhbmNlSHRtbCwgXCJ1dGYtOFwiKSwge1xuXHRcdFx0XHRcdHR5cGU6IFwidGV4dC9odG1sXCJcblx0XHRcdFx0fSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdFx0XHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKGVycm9yLmVycm9yLCBlcnJvci5yZWFzb24pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGluc3RhbmNlRmlsZS5uYW1lKGlucy5uYW1lICsgXCIuaHRtbFwiKTtcblx0XHRcdFx0XHRpbnN0YW5jZUZpbGUuc2l6ZShpbnN0YW5jZUh0bWwubGVuZ3RoKTtcblxuXHRcdFx0XHRcdHZhciBtZXRhZGF0YSA9IHtcblx0XHRcdFx0XHRcdG93bmVyOiB1c2VyX2lkLFxuXHRcdFx0XHRcdFx0b3duZXJfbmFtZTogdXNlcl9pbmZvLm5hbWUsXG5cdFx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdFx0XHRpbnN0YW5jZTogbmV3X2luc19pZCxcblx0XHRcdFx0XHRcdGFwcHJvdmU6IGFwcHJfb2JqLl9pZCxcblx0XHRcdFx0XHRcdGN1cnJlbnQ6IHRydWVcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGluc3RhbmNlRmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuXHRcdFx0XHRcdHZhciBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQoaW5zdGFuY2VGaWxlKTtcblx0XHRcdFx0XHRmaWxlT2JqLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHQkc2V0OiB7XG5cdFx0XHRcdFx0XHRcdCdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0pXG5cblx0XHRcdFx0Ly8gfSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyAgICAgY29uc29sZS5lcnJvcihlKTtcblx0XHRcdFx0Ly8gfVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXNGb3J3YXJkQXR0YWNobWVudHMgJiYgYWN0aW9uX3R5cGUgPT0gJ2ZvcndhcmQnKSB7XG5cdFx0XHRcdHZhciBmaWxlcyA9IGNvbGxlY3Rpb24uZmluZCh7XG5cdFx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2VfaWQsXG5cdFx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG5cdFx0XHRcdFx0Ly8g5Yik5pat5paw55qE5rWB56iL5byA5aeL6IqC54K55piv5ZCm5pyJ57yW6L6R5q2j5paH5ZKM57yW6L6R6ZmE5Lu25p2D6ZmQXG5cdFx0XHRcdFx0aWYgKGYubWV0YWRhdGEubWFpbiA9PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRpZiAoY2FuX2VkaXRfbWFpbl9hdHRhY2ggIT0gdHJ1ZSAmJiBjYW5fZWRpdF9ub3JtYWxfYXR0YWNoICE9IHRydWUpXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aWYgKGNhbl9lZGl0X25vcm1hbF9hdHRhY2ggIT0gdHJ1ZSlcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciBuZXdGaWxlID0gbmV3IEZTLkZpbGUoKTtcblx0XHRcdFx0XHRuZXdGaWxlLmF0dGFjaERhdGEoZi5jcmVhdGVSZWFkU3RyZWFtKCdpbnN0YW5jZXMnKSwge1xuXHRcdFx0XHRcdFx0dHlwZTogZi5vcmlnaW5hbC50eXBlXG5cdFx0XHRcdFx0fSwgZnVuY3Rpb24gKGVycikge1xuXHRcdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKGVyci5lcnJvciwgZXJyLnJlYXNvbik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRuZXdGaWxlLm5hbWUoZi5uYW1lKCkpO1xuXHRcdFx0XHRcdFx0bmV3RmlsZS5zaXplKGYuc2l6ZSgpKTtcblx0XHRcdFx0XHRcdHZhciBtZXRhZGF0YSA9IHtcblx0XHRcdFx0XHRcdFx0b3duZXI6IHVzZXJfaWQsXG5cdFx0XHRcdFx0XHRcdG93bmVyX25hbWU6IHVzZXJfaW5mby5uYW1lLFxuXHRcdFx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdFx0XHRcdGluc3RhbmNlOiBuZXdfaW5zX2lkLFxuXHRcdFx0XHRcdFx0XHRhcHByb3ZlOiBhcHByX29iai5faWQsXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnQ6IHRydWVcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRpZiAoZi5tZXRhZGF0YS5tYWluID09IHRydWUgJiYgY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5tYWluID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcblx0XHRcdFx0XHRcdHZhciBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQobmV3RmlsZSk7XG5cdFx0XHRcdFx0XHRmaWxlT2JqLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdCRzZXQ6IHtcblx0XHRcdFx0XHRcdFx0XHQnbWV0YWRhdGEucGFyZW50JzogZmlsZU9iai5faWRcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9KVxuXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cblx0XHRcdC8vIOe7meW9k+WJjeeahOeUs+ivt+WNleWinuWKoOi9rOWPkeiusOW9lVxuXHRcdFx0dmFyIGFwcHIgPSB7XG5cdFx0XHRcdCdfaWQnOiBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyLFxuXHRcdFx0XHQnaW5zdGFuY2UnOiBpbnN0YW5jZV9pZCxcblx0XHRcdFx0J3RyYWNlJzogY3VycmVudF90cmFjZV9pZCxcblx0XHRcdFx0J2lzX2ZpbmlzaGVkJzogdHJ1ZSxcblx0XHRcdFx0J3VzZXInOiB1c2VyX2lkLFxuXHRcdFx0XHQndXNlcl9uYW1lJzogdXNlcl9pbmZvLm5hbWUsXG5cdFx0XHRcdCdoYW5kbGVyJzogdXNlcl9pZCxcblx0XHRcdFx0J2hhbmRsZXJfbmFtZSc6IHVzZXJfaW5mby5uYW1lLFxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb24nOiBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbixcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUnOiBzcGFjZV91c2VyX29yZ19pbmZvLm5hbWUsXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSc6IHNwYWNlX3VzZXJfb3JnX2luZm8uZnVsbG5hbWUsXG5cdFx0XHRcdCd0eXBlJzogYWN0aW9uX3R5cGUsXG5cdFx0XHRcdCdzdGFydF9kYXRlJzogbmV3IERhdGUoKSxcblx0XHRcdFx0J2ZpbmlzaF9kYXRlJzogbmV3IERhdGUoKSxcblx0XHRcdFx0J2lzX3JlYWQnOiBmYWxzZSxcblx0XHRcdFx0J2p1ZGdlJzogJ3N1Ym1pdHRlZCcsXG5cdFx0XHRcdCdmcm9tX3VzZXInOiBjdXJyZW50X3VzZXJfaWQsXG5cdFx0XHRcdCdmcm9tX3VzZXJfbmFtZSc6IGZyb21fdXNlcl9uYW1lLFxuXHRcdFx0XHQnZm9yd2FyZF9zcGFjZSc6IHNwYWNlX2lkLFxuXHRcdFx0XHQnZm9yd2FyZF9pbnN0YW5jZSc6IG5ld19pbnNfaWQsXG5cdFx0XHRcdCdkZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uLFxuXHRcdFx0XHQnZnJvbV9hcHByb3ZlX2lkJzogZnJvbV9hcHByb3ZlX2lkXG5cdFx0XHR9O1xuXG5cdFx0XHRmb3J3YXJkX2FwcHJvdmVzLnB1c2goYXBwcik7XG5cblx0XHRcdG5ld19pbnNfaWRzLnB1c2gobmV3X2luc19pZCk7XG5cdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG5cdFx0fSlcblxuXHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJfaWQ7XG5cdFx0dmFyIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zdGFuY2VfaWQsXG5cdFx0XHRcInRyYWNlcy5faWRcIjogY3VycmVudF90cmFjZV9pZFxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldF9vYmosXG5cdFx0XHQkYWRkVG9TZXQ6IHtcblx0XHRcdFx0J3RyYWNlcy4kLmFwcHJvdmVzJzoge1xuXHRcdFx0XHRcdCRlYWNoOiBmb3J3YXJkX2FwcHJvdmVzXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGlmIChyKSB7XG5cdFx0XHRfLmVhY2goY3VycmVudF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRpZiAoYS5faWQgPT0gZnJvbV9hcHByb3ZlX2lkKSB7XG5cdFx0XHRcdFx0dmFyIHVwZGF0ZV9yZWFkID0ge307XG5cdFx0XHRcdFx0dXBkYXRlX3JlYWRbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxuXHRcdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IGN1cnJlbnRfdHJhY2VfaWRcblx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHQkc2V0OiB1cGRhdGVfcmVhZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXG5cdFx0fVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge31cblx0XHR9KVxuXHR9IGNhdGNoIChlKSB7XG5cdFx0Y29uc29sZS5lcnJvcihlLnN0YWNrKVxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0ZXJyb3JzOiBbZV1cblx0XHRcdH1cblx0XHR9KVxuXHR9XG5cbn0pIiwiSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL3dvcmtmbG93L2luc3RhbmNlLzppbnN0YW5jZUlkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEsIHJlcylcblx0XHRjdXJyZW50X3VzZXJfaWQgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGluc0lkID0gcmVxLnBhcmFtcy5pbnN0YW5jZUlkXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwgeyBmaWVsZHM6IHsgc3BhY2U6IDEsIGZsb3c6IDEsIHN0YXRlOiAxLCBpbmJveF91c2VyczogMSwgY2NfdXNlcnM6IDEsIG91dGJveF91c2VyczogMSwgc3VibWl0dGVyOiAxLCBhcHBsaWNhbnQ6IDEgfSB9KVxuXG5cdFx0aWYgbm90IGluc1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2VJZCBpcyB3cm9uZyBvciBpbnN0YW5jZSBub3QgZXhpc3RzLicpXG5cblx0XHRzcGFjZUlkID0gaW5zLnNwYWNlXG5cdFx0Zmxvd0lkID0gaW5zLmZsb3dcblxuXHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCwgdXNlcjogY3VycmVudF91c2VyX2lkIH0pLmNvdW50KCkgaXMgMFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAndXNlciBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UuJylcblxuXHRcdGJveCA9ICcnXG5cblx0XHRpZiAoaW5zLmluYm94X3VzZXJzPy5pbmNsdWRlcyBjdXJyZW50X3VzZXJfaWQpIG9yIChpbnMuY2NfdXNlcnM/LmluY2x1ZGVzIGN1cnJlbnRfdXNlcl9pZClcblx0XHRcdGJveCA9ICdpbmJveCdcblx0XHRlbHNlIGlmIGlucy5vdXRib3hfdXNlcnM/LmluY2x1ZGVzIGN1cnJlbnRfdXNlcl9pZFxuXHRcdFx0Ym94ID0gJ291dGJveCdcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAnZHJhZnQnIGFuZCBpbnMuc3VibWl0dGVyIGlzIGN1cnJlbnRfdXNlcl9pZFxuXHRcdFx0Ym94ID0gJ2RyYWZ0J1xuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdwZW5kaW5nJyBhbmQgKGlucy5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyX2lkIG9yIGlucy5hcHBsaWNhbnQgaXMgY3VycmVudF91c2VyX2lkKVxuXHRcdFx0Ym94ID0gJ3BlbmRpbmcnXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ2NvbXBsZXRlZCcgYW5kIGlucy5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyX2lkXG5cdFx0XHRib3ggPSAnY29tcGxldGVkJ1xuXHRcdGVsc2Vcblx0XHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxuXHRcdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd0lkLCBjdXJyZW50X3VzZXJfaWQpXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlSWQsIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXG5cdFx0XHRpZiAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpKVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwibm8gcGVybWlzc2lvbi5cIilcblx0XHRcdGJveCA9ICdtb25pdG9yJ1xuXG5cdFx0cmVkaXJlY3RUbyA9IE1ldGVvci5hYnNvbHV0ZVVybCBcIndvcmtmbG93L3NwYWNlLyN7c3BhY2VJZH0vI3tib3h9LyN7aW5zSWR9XCJcblxuXHRcdHJlcy5zZXRIZWFkZXIgXCJMb2NhdGlvblwiLCByZWRpcmVjdFRvXG5cdFx0cmVzLndyaXRlSGVhZCAzMDJcblx0XHRyZXMuZW5kKClcblx0XHRyZXR1cm5cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxuIiwiSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L2luc3RhbmNlLzppbnN0YW5jZUlkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGJveCwgY3VycmVudF91c2VyX2lkLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvd0lkLCBpbnMsIGluc0lkLCBwZXJtaXNzaW9ucywgcmVkaXJlY3RUbywgcmVmLCByZWYxLCByZWYyLCBzcGFjZSwgc3BhY2VJZDtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEsIHJlcyk7XG4gICAgY3VycmVudF91c2VyX2lkID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGluc0lkID0gcmVxLnBhcmFtcy5pbnN0YW5jZUlkO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGZsb3c6IDEsXG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpbmJveF91c2VyczogMSxcbiAgICAgICAgY2NfdXNlcnM6IDEsXG4gICAgICAgIG91dGJveF91c2VyczogMSxcbiAgICAgICAgc3VibWl0dGVyOiAxLFxuICAgICAgICBhcHBsaWNhbnQ6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2VJZCBpcyB3cm9uZyBvciBpbnN0YW5jZSBub3QgZXhpc3RzLicpO1xuICAgIH1cbiAgICBzcGFjZUlkID0gaW5zLnNwYWNlO1xuICAgIGZsb3dJZCA9IGlucy5mbG93O1xuICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgdXNlcjogY3VycmVudF91c2VyX2lkXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAndXNlciBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UuJyk7XG4gICAgfVxuICAgIGJveCA9ICcnO1xuICAgIGlmICgoKHJlZiA9IGlucy5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpIDogdm9pZCAwKSB8fCAoKHJlZjEgPSBpbnMuY2NfdXNlcnMpICE9IG51bGwgPyByZWYxLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkgOiB2b2lkIDApKSB7XG4gICAgICBib3ggPSAnaW5ib3gnO1xuICAgIH0gZWxzZSBpZiAoKHJlZjIgPSBpbnMub3V0Ym94X3VzZXJzKSAhPSBudWxsID8gcmVmMi5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpIDogdm9pZCAwKSB7XG4gICAgICBib3ggPSAnb3V0Ym94JztcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ2RyYWZ0JyAmJiBpbnMuc3VibWl0dGVyID09PSBjdXJyZW50X3VzZXJfaWQpIHtcbiAgICAgIGJveCA9ICdkcmFmdCc7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdwZW5kaW5nJyAmJiAoaW5zLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyX2lkIHx8IGlucy5hcHBsaWNhbnQgPT09IGN1cnJlbnRfdXNlcl9pZCkpIHtcbiAgICAgIGJveCA9ICdwZW5kaW5nJztcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcgJiYgaW5zLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyX2lkKSB7XG4gICAgICBib3ggPSAnY29tcGxldGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd0lkLCBjdXJyZW50X3VzZXJfaWQpO1xuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGFkbWluczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICgoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJubyBwZXJtaXNzaW9uLlwiKTtcbiAgICAgIH1cbiAgICAgIGJveCA9ICdtb25pdG9yJztcbiAgICB9XG4gICAgcmVkaXJlY3RUbyA9IE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgc3BhY2VJZCArIFwiL1wiICsgYm94ICsgXCIvXCIgKyBpbnNJZCk7XG4gICAgcmVzLnNldEhlYWRlcihcIkxvY2F0aW9uXCIsIHJlZGlyZWN0VG8pO1xuICAgIHJlcy53cml0ZUhlYWQoMzAyKTtcbiAgICByZXMuZW5kKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcbkBhcGkge2dldH0gL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcg6I635Y+W5b6F5Yqe5paH5Lu2XG5cbkBhcGlEZXNjcmlwdGlvbiDojrflj5blvZPliY3nlKjmiLfnmoTlvoXlip7kuovpobnliJfooahcblxuQGFwaU5hbWUgZ2V0SW5ib3hcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG5cdHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuXHR7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJpZFwiOiBcImc3d29rWE5rUjl5eEh2QTREXCIsXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh+a1geeoi1wiLFxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paH5rWB56iLIDFcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBudWxsLFxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNy0yNVQwNjozNjo0OC40OTJaXCIsXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiBmYWxzZSxcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwiaWRcIjogXCJXcUtTcldRb3l3Z0phTXA5a1wiLFxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMFpcIixcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlodcXG5cIixcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh1xcbiAxXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogXCLmrrfkuq7ovolcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDYtMjdUMTA6MjY6MTkuNDY4WlwiLFxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIxWlwiLFxuXHRcdFx0XHRcImlzX3JlYWRcIjogdHJ1ZSxcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cblx0XHRcdH1cblx0XHRdXG5cdH1cbiMjI1xuSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZycsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ10gfHwgcmVxLnF1ZXJ5Py5zcGFjZUlkXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3BhY2VfaWQnKVxuXG5cdFx0dXNlcl9pZCA9IHJlcS51c2VySWRcblxuXHRcdGlmICF1c2VyX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdOb3QgbG9nZ2VkIGluJylcblxuXHRcdGlmIGRiLnVzZXJzLmZpbmQoeyBfaWQ6IHVzZXJfaWQgfSkuY291bnQoKSBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHRsaW1pdCA9IHJlcS5xdWVyeT8ubGltaXQgfHwgNTAwXG5cblx0XHRsaW1pdCA9IHBhcnNlSW50KGxpbWl0KVxuXG5cdFx0dXNlcm5hbWUgPSByZXEucXVlcnk/LnVzZXJuYW1lXG5cblx0XHR1c2VyaWQgPSByZXEucXVlcnk/LnVzZXJpZFxuXG5cdFx0YXR0YWNoID0gcmVxLnF1ZXJ5Py5hdHRhY2hcblxuXHRcdHdvcmtmbG93X2NhdGVnb3JpZXMgPSByZXEucXVlcnk/LndvcmtmbG93X2NhdGVnb3JpZXNcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHRzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cblx0XHQjIOWmguaenOW9k+WJjeeUqOaIt+aYr+W3peS9nOWMuueuoeeQhuWRmO+8jOWImemAmui/h+afpeeci3VybOS4iuaYr+WQpuaciXVzZXJuYW1lXFx1c2VyaWQg77yMXG5cdFx0IyDlpoLmnpzmnInvvIzliJnov5Tlm551c2VybmFtZVxcdXNlcmlk5a+55bqU55qE55So5oi377yM5ZCm5YiZ6L+U5Zue5b2T5YmN55So5oi35b6F5Yqe44CCXG5cdFx0IyB1c2VybmFtZVxcdXNlcmlk6YO95a2Y5Zyo5pe277yMdXNlcmlk5LyY5YWIXG5cdFx0c3BlY2lhbF91c2VyX2lkXG5cdFx0aWYgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJfaWQpXG5cdFx0XHRpZiB1c2VyaWRcblx0XHRcdFx0aWYgZGIudXNlcnMuZmluZCh7IF9pZDogdXNlcmlkIH0pLmNvdW50KCkgPCAxXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJpZDogI3t1c2VyaWR9XCIpXG5cblx0XHRcdFx0c3BlY2lhbF91c2VyX2lkID0gdXNlcmlkXG5cdFx0XHRlbHNlIGlmIHVzZXJuYW1lXG5cdFx0XHRcdHUgPSBkYi51c2Vycy5maW5kT25lKHsgdXNlcm5hbWU6IHVzZXJuYW1lIH0sIHsgZmllbGRzOiB7IF9pZDogMSB9IH0pXG5cdFx0XHRcdGlmIF8uaXNFbXB0eSh1KVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJjYW4gbm90IGZpbmQgdXNlciBieSB1c2VybmFtZTogI3t1c2VybmFtZX1cIilcblxuXHRcdFx0XHRzcGVjaWFsX3VzZXJfaWQgPSB1Ll9pZFxuXG5cdFx0cmVzdWx0X2luc3RhbmNlcyA9IG5ldyBBcnJheVxuXG5cdFx0aXNfcmVhZCA9IGZhbHNlXG5cdFx0c3RhcnRfZGF0ZSA9ICcnXG5cdFx0dWlkID0gdXNlcl9pZFxuXHRcdHF1ZXJ5ID0ge1xuXHRcdFx0JG9yOiBbeyBpbmJveF91c2VyczogdXNlcl9pZCB9LCB7IGNjX3VzZXJzOiB1c2VyX2lkIH1dXG5cdFx0fVxuXG5cdFx0aWYgc3BlY2lhbF91c2VyX2lkXG5cdFx0XHR1aWQgPSBzcGVjaWFsX3VzZXJfaWRcblx0XHRcdHF1ZXJ5ID0ge1xuXHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdCRvcjogW3sgaW5ib3hfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZCB9LCB7IGNjX3VzZXJzOiBzcGVjaWFsX3VzZXJfaWQgfV1cblx0XHRcdH1cblxuXHRcdGlmIHdvcmtmbG93X2NhdGVnb3JpZXNcblx0XHRcdHF1ZXJ5LmNhdGVnb3J5ID0geyAkaW46IHdvcmtmbG93X2NhdGVnb3JpZXMuc3BsaXQoJywnKSB9XG5cblx0XHRzcGFjZV9uYW1lcyA9IHt9XG5cdFx0c3BhY2VfbmFtZXNbc3BhY2UuX2lkXSA9IHNwYWNlLm5hbWVcblxuXHRcdGlmIGxpbWl0ID4gMFxuXHRcdFx0ZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHsgc29ydDogeyBtb2RpZmllZDogLTEgfSwgbGltaXQ6IGxpbWl0IH0pLmZvckVhY2ggKGkpIC0+XG5cblx0XHRcdFx0aWYgaS5pbmJveF91c2Vycz8uaW5jbHVkZXModWlkKVxuXHRcdFx0XHRcdF8uZWFjaCBpLnRyYWNlcywgKHQpIC0+XG5cdFx0XHRcdFx0XHRpZiB0LmlzX2ZpbmlzaGVkIGlzIGZhbHNlXG5cdFx0XHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cblx0XHRcdFx0XHRcdFx0XHRpZiBhLnVzZXIgaXMgdWlkIGFuZCBhLnR5cGUgaXNudCAnY2MnIGFuZCBub3QgYS5pc19maW5pc2hlZFxuXHRcdFx0XHRcdFx0XHRcdFx0aXNfcmVhZCA9IGEuaXNfcmVhZFxuXHRcdFx0XHRcdFx0XHRcdFx0c3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0Xy5lYWNoIGkudHJhY2VzLCAodCkgLT5cblx0XHRcdFx0XHRcdGlmIG5vdCBzdGFydF9kYXRlIGFuZCB0LmFwcHJvdmVzXG5cdFx0XHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cblx0XHRcdFx0XHRcdFx0XHRpZiBub3Qgc3RhcnRfZGF0ZSBhbmQgYS51c2VyIGlzIHVpZCBhbmQgYS50eXBlIGlzICdjYycgYW5kIG5vdCBhLmlzX2ZpbmlzaGVkXG5cdFx0XHRcdFx0XHRcdFx0XHRpc19yZWFkID0gYS5pc19yZWFkXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlXG5cblx0XHRcdFx0aWYgbm90IHNwYWNlX25hbWVzW2kuc3BhY2VdXG5cdFx0XHRcdFx0c3BhY2VfbmFtZXNbaS5zcGFjZV0gPSBkYi5zcGFjZXMuZmluZE9uZShpLnNwYWNlLCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSk/Lm5hbWVcblxuXHRcdFx0XHRoID0gbmV3IE9iamVjdFxuXHRcdFx0XHRoW1wiaWRcIl0gPSBpW1wiX2lkXCJdXG5cdFx0XHRcdGhbXCJzdGFydF9kYXRlXCJdID0gc3RhcnRfZGF0ZVxuXHRcdFx0XHRoW1wiZmxvd19uYW1lXCJdID0gaS5mbG93X25hbWVcblx0XHRcdFx0aFtcInNwYWNlX25hbWVcIl0gPSBzcGFjZV9uYW1lc1tpLnNwYWNlXVxuXHRcdFx0XHRoW1wibmFtZVwiXSA9IGlbXCJuYW1lXCJdXG5cdFx0XHRcdGhbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfbmFtZVwiXVxuXHRcdFx0XHRoW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdID0gaVtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXVxuXHRcdFx0XHRoW1wic3VibWl0X2RhdGVcIl0gPSBpW1wic3VibWl0X2RhdGVcIl1cblx0XHRcdFx0aFtcInN0ZXBfbmFtZVwiXSA9IGkuY3VycmVudF9zdGVwX25hbWVcblx0XHRcdFx0aFtcInNwYWNlX2lkXCJdID0gaS5zcGFjZVxuXHRcdFx0XHRoW1wibW9kaWZpZWRcIl0gPSBpW1wibW9kaWZpZWRcIl1cblx0XHRcdFx0aFtcImlzX3JlYWRcIl0gPSBpc19yZWFkXG5cdFx0XHRcdGhbXCJ2YWx1ZXNcIl0gPSBpW1widmFsdWVzXCJdXG5cblx0XHRcdFx0aWYgYXR0YWNoIGlzICd0cnVlJ1xuXHRcdFx0XHRcdGguYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeyAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpLl9pZCwgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyAkbmU6IHRydWUgfSB9LCB7IGZpZWxkczogeyBjb3BpZXM6IDAgfSB9KS5mZXRjaCgpXG5cblx0XHRcdFx0cmVzdWx0X2luc3RhbmNlcy5wdXNoKGgpXG5cblx0XHRub19saW1pdF9jb3VudCA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5KS5jb3VudCgpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0X2luc3RhbmNlcywgY291bnQ6IG5vX2xpbWl0X2NvdW50IH1cblx0XHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUucmVhc29uIH1dIH1cblx0XHR9XG5cbiIsIlxuLypcbkBhcGkge2dldH0gL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcg6I635Y+W5b6F5Yqe5paH5Lu2XG5cbkBhcGlEZXNjcmlwdGlvbiDojrflj5blvZPliY3nlKjmiLfnmoTlvoXlip7kuovpobnliJfooahcblxuQGFwaU5hbWUgZ2V0SW5ib3hcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG5cdHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuXHR7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJpZFwiOiBcImc3d29rWE5rUjl5eEh2QTREXCIsXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh+a1geeoi1wiLFxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paH5rWB56iLIDFcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBudWxsLFxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNy0yNVQwNjozNjo0OC40OTJaXCIsXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiBmYWxzZSxcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwiaWRcIjogXCJXcUtTcldRb3l3Z0phTXA5a1wiLFxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMFpcIixcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlodcXG5cIixcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh1xcbiAxXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogXCLmrrfkuq7ovolcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDYtMjdUMTA6MjY6MTkuNDY4WlwiLFxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIxWlwiLFxuXHRcdFx0XHRcImlzX3JlYWRcIjogdHJ1ZSxcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cblx0XHRcdH1cblx0XHRdXG5cdH1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdHRhY2gsIGUsIGlzX3JlYWQsIGxpbWl0LCBub19saW1pdF9jb3VudCwgcXVlcnksIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVzdWx0X2luc3RhbmNlcywgc3BhY2UsIHNwYWNlX2lkLCBzcGFjZV9uYW1lcywgc3BlY2lhbF91c2VyX2lkLCBzdGFydF9kYXRlLCB1LCB1aWQsIHVzZXJfaWQsIHVzZXJpZCwgdXNlcm5hbWUsIHdvcmtmbG93X2NhdGVnb3JpZXM7XG4gIHRyeSB7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXSB8fCAoKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5zcGFjZUlkIDogdm9pZCAwKTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHNwYWNlX2lkJyk7XG4gICAgfVxuICAgIHVzZXJfaWQgPSByZXEudXNlcklkO1xuICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnTm90IGxvZ2dlZCBpbicpO1xuICAgIH1cbiAgICBpZiAoZGIudXNlcnMuZmluZCh7XG4gICAgICBfaWQ6IHVzZXJfaWRcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICBsaW1pdCA9ICgocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEubGltaXQgOiB2b2lkIDApIHx8IDUwMDtcbiAgICBsaW1pdCA9IHBhcnNlSW50KGxpbWl0KTtcbiAgICB1c2VybmFtZSA9IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi51c2VybmFtZSA6IHZvaWQgMDtcbiAgICB1c2VyaWQgPSAocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMudXNlcmlkIDogdm9pZCAwO1xuICAgIGF0dGFjaCA9IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5hdHRhY2ggOiB2b2lkIDA7XG4gICAgd29ya2Zsb3dfY2F0ZWdvcmllcyA9IChyZWY1ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNS53b3JrZmxvd19jYXRlZ29yaWVzIDogdm9pZCAwO1xuICAgIHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgc3BlY2lhbF91c2VyX2lkO1xuICAgIGlmIChzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgIGlmICh1c2VyaWQpIHtcbiAgICAgICAgaWYgKGRiLnVzZXJzLmZpbmQoe1xuICAgICAgICAgIF9pZDogdXNlcmlkXG4gICAgICAgIH0pLmNvdW50KCkgPCAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJpZDogXCIgKyB1c2VyaWQpO1xuICAgICAgICB9XG4gICAgICAgIHNwZWNpYWxfdXNlcl9pZCA9IHVzZXJpZDtcbiAgICAgIH0gZWxzZSBpZiAodXNlcm5hbWUpIHtcbiAgICAgICAgdSA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBfaWQ6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoXy5pc0VtcHR5KHUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJuYW1lOiBcIiArIHVzZXJuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBzcGVjaWFsX3VzZXJfaWQgPSB1Ll9pZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0X2luc3RhbmNlcyA9IG5ldyBBcnJheTtcbiAgICBpc19yZWFkID0gZmFsc2U7XG4gICAgc3RhcnRfZGF0ZSA9ICcnO1xuICAgIHVpZCA9IHVzZXJfaWQ7XG4gICAgcXVlcnkgPSB7XG4gICAgICAkb3I6IFtcbiAgICAgICAge1xuICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VyX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjY191c2VyczogdXNlcl9pZFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgICBpZiAoc3BlY2lhbF91c2VyX2lkKSB7XG4gICAgICB1aWQgPSBzcGVjaWFsX3VzZXJfaWQ7XG4gICAgICBxdWVyeSA9IHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAkb3I6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbmJveF91c2Vyczogc3BlY2lhbF91c2VyX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2NfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHdvcmtmbG93X2NhdGVnb3JpZXMpIHtcbiAgICAgIHF1ZXJ5LmNhdGVnb3J5ID0ge1xuICAgICAgICAkaW46IHdvcmtmbG93X2NhdGVnb3JpZXMuc3BsaXQoJywnKVxuICAgICAgfTtcbiAgICB9XG4gICAgc3BhY2VfbmFtZXMgPSB7fTtcbiAgICBzcGFjZV9uYW1lc1tzcGFjZS5faWRdID0gc3BhY2UubmFtZTtcbiAgICBpZiAobGltaXQgPiAwKSB7XG4gICAgICBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgbW9kaWZpZWQ6IC0xXG4gICAgICAgIH0sXG4gICAgICAgIGxpbWl0OiBsaW1pdFxuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciBoLCByZWY2LCByZWY3O1xuICAgICAgICBpZiAoKHJlZjYgPSBpLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmNi5pbmNsdWRlcyh1aWQpIDogdm9pZCAwKSB7XG4gICAgICAgICAgXy5lYWNoKGkudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBpZiAodC5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGEudXNlciA9PT0gdWlkICYmIGEudHlwZSAhPT0gJ2NjJyAmJiAhYS5pc19maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgaXNfcmVhZCA9IGEuaXNfcmVhZDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgXy5lYWNoKGkudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBpZiAoIXN0YXJ0X2RhdGUgJiYgdC5hcHByb3Zlcykge1xuICAgICAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0X2RhdGUgJiYgYS51c2VyID09PSB1aWQgJiYgYS50eXBlID09PSAnY2MnICYmICFhLmlzX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICBpc19yZWFkID0gYS5pc19yZWFkO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNwYWNlX25hbWVzW2kuc3BhY2VdKSB7XG4gICAgICAgICAgc3BhY2VfbmFtZXNbaS5zcGFjZV0gPSAocmVmNyA9IGRiLnNwYWNlcy5maW5kT25lKGkuc3BhY2UsIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpICE9IG51bGwgPyByZWY3Lm5hbWUgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaCA9IG5ldyBPYmplY3Q7XG4gICAgICAgIGhbXCJpZFwiXSA9IGlbXCJfaWRcIl07XG4gICAgICAgIGhbXCJzdGFydF9kYXRlXCJdID0gc3RhcnRfZGF0ZTtcbiAgICAgICAgaFtcImZsb3dfbmFtZVwiXSA9IGkuZmxvd19uYW1lO1xuICAgICAgICBoW1wic3BhY2VfbmFtZVwiXSA9IHNwYWNlX25hbWVzW2kuc3BhY2VdO1xuICAgICAgICBoW1wibmFtZVwiXSA9IGlbXCJuYW1lXCJdO1xuICAgICAgICBoW1wiYXBwbGljYW50X25hbWVcIl0gPSBpW1wiYXBwbGljYW50X25hbWVcIl07XG4gICAgICAgIGhbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBpW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICBoW1wic3VibWl0X2RhdGVcIl0gPSBpW1wic3VibWl0X2RhdGVcIl07XG4gICAgICAgIGhbXCJzdGVwX25hbWVcIl0gPSBpLmN1cnJlbnRfc3RlcF9uYW1lO1xuICAgICAgICBoW1wic3BhY2VfaWRcIl0gPSBpLnNwYWNlO1xuICAgICAgICBoW1wibW9kaWZpZWRcIl0gPSBpW1wibW9kaWZpZWRcIl07XG4gICAgICAgIGhbXCJpc19yZWFkXCJdID0gaXNfcmVhZDtcbiAgICAgICAgaFtcInZhbHVlc1wiXSA9IGlbXCJ2YWx1ZXNcIl07XG4gICAgICAgIGlmIChhdHRhY2ggPT09ICd0cnVlJykge1xuICAgICAgICAgIGguYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaS5faWQsXG4gICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICAgICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgY29waWVzOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0X2luc3RhbmNlcy5wdXNoKGgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIG5vX2xpbWl0X2NvdW50ID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnkpLmNvdW50KCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0X2luc3RhbmNlcyxcbiAgICAgICAgY291bnQ6IG5vX2xpbWl0X2NvdW50XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLnJlYXNvblxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKVxuXG5NZXRlb3Iuc3RhcnR1cCAtPlxuXHRXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSBcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L3RhbGJlX3RlbXBsYXRlXCIsIChyZXEsIHJlcywgbmV4dCktPlxuXHRcdGNvb2tpZXMgPSBuZXcgQ29va2llcyggcmVxLCByZXMgKTtcblx0XHQjIGZpcnN0IGNoZWNrIHJlcXVlc3QgYm9keVxuXHRcdGlmIHJlcS5ib2R5XG5cdFx0XHR1c2VySWQgPSByZXEuYm9keVtcIlgtVXNlci1JZFwiXVxuXHRcdFx0YXV0aFRva2VuID0gcmVxLmJvZHlbXCJYLUF1dGgtVG9rZW5cIl1cblxuXHRcdCMgdGhlbiBjaGVjayBjb29raWVcblx0XHRpZiAhdXNlcklkIG9yICFhdXRoVG9rZW5cblx0XHRcdHVzZXJJZCA9IGNvb2tpZXMuZ2V0KFwiWC1Vc2VyLUlkXCIpXG5cdFx0XHRhdXRoVG9rZW4gPSBjb29raWVzLmdldChcIlgtQXV0aC1Ub2tlblwiKVxuXG5cdFx0aWYgISh1c2VySWQgYW5kIGF1dGhUb2tlbilcblx0XHRcdHJlcy53cml0ZUhlYWQoNDAxKTtcblx0XHRcdHJlcy5lbmQgSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtQXV0aC1Ub2tlblwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdH0pXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Zmxvd0lkID0gcmVxLnF1ZXJ5Py5mbG93O1xuXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge3NwYWNlOiAxLCBmb3JtOiAxLCBuYW1lOiAxfX0pXG5cblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBmbG93LmZvcm19LCB7ZmllbGRzOiB7c3BhY2U6IDEsIFwiY3VycmVudC5faWRcIjogMX19KVxuXG5cdFx0aWYgXy5pc0VtcHR5KGZsb3cpXG5cdFx0XHRyZXMud3JpdGVIZWFkKDQwMSk7XG5cdFx0XHRyZXMuZW5kIEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gSW52YWxpZCBmb3JtSWRcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHR9KVxuXHRcdFx0cmV0dXJuIDtcblx0XHRlbHNlXG5cdFx0XHRpZiAhU3RlZWRvcy5pc1NwYWNlQWRtaW4oZmxvdy5zcGFjZSwgdXNlcklkKVxuXHRcdFx0XHRyZXMud3JpdGVIZWFkKDQwMSk7XG5cdFx0XHRcdHJlcy5lbmQgSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb25cIixcblx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdFx0fSlcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGZsb3cuc3BhY2UsIHsgZmllbGRzOiB7IGlzX3BhaWQ6IDEgfSB9KVxuXHRcdFx0aWYgIXNwYWNlPy5pc19wYWlkXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0Y29kZTogNDA0LFxuXHRcdFx0XHRcdGRhdGE6XG5cdFx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBOb24tcGFpZCBzcGFjZS5cIixcblx0XHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRkYXRhID0gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoe2Zvcm06IGZsb3cuZm9ybSwgZm9ybV92ZXJzaW9uOiBmb3JtPy5jdXJyZW50Py5faWR9LCB0cnVlKTtcblxuXHRcdGZpbGVOYW1lID0gZmxvdy5uYW1lXG5cblx0XHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG5cdFx0cmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsICdhdHRhY2htZW50O2ZpbGVuYW1lPScrZW5jb2RlVVJJKGZpbGVOYW1lKSsnLmh0bWwnKTtcblx0XHRyZXMuZW5kKGRhdGEpIiwidmFyIENvb2tpZXM7XG5cbkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZShcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L3RhbGJlX3RlbXBsYXRlXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIGF1dGhUb2tlbiwgY29va2llcywgZGF0YSwgZmlsZU5hbWUsIGZsb3csIGZsb3dJZCwgZm9ybSwgcmVmLCByZWYxLCBzcGFjZSwgdXNlcklkO1xuICAgIGNvb2tpZXMgPSBuZXcgQ29va2llcyhyZXEsIHJlcyk7XG4gICAgaWYgKHJlcS5ib2R5KSB7XG4gICAgICB1c2VySWQgPSByZXEuYm9keVtcIlgtVXNlci1JZFwiXTtcbiAgICAgIGF1dGhUb2tlbiA9IHJlcS5ib2R5W1wiWC1BdXRoLVRva2VuXCJdO1xuICAgIH1cbiAgICBpZiAoIXVzZXJJZCB8fCAhYXV0aFRva2VuKSB7XG4gICAgICB1c2VySWQgPSBjb29raWVzLmdldChcIlgtVXNlci1JZFwiKTtcbiAgICAgIGF1dGhUb2tlbiA9IGNvb2tpZXMuZ2V0KFwiWC1BdXRoLVRva2VuXCIpO1xuICAgIH1cbiAgICBpZiAoISh1c2VySWQgJiYgYXV0aFRva2VuKSkge1xuICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1BdXRoLVRva2VuXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmbG93SWQgPSAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmZsb3cgOiB2b2lkIDA7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93SWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGZvcm06IDEsXG4gICAgICAgIG5hbWU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3cuZm9ybVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgXCJjdXJyZW50Ll9pZFwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKF8uaXNFbXB0eShmbG93KSkge1xuICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIEludmFsaWQgZm9ybUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIVN0ZWVkb3MuaXNTcGFjZUFkbWluKGZsb3cuc3BhY2UsIHVzZXJJZCkpIHtcbiAgICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uXCIsXG4gICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShmbG93LnNwYWNlLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGlzX3BhaWQ6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIShzcGFjZSAhPSBudWxsID8gc3BhY2UuaXNfcGFpZCA6IHZvaWQgMCkpIHtcbiAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDQwNCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBOb24tcGFpZCBzcGFjZS5cIixcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgZGF0YSA9IFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKHtcbiAgICAgIGZvcm06IGZsb3cuZm9ybSxcbiAgICAgIGZvcm1fdmVyc2lvbjogZm9ybSAhPSBudWxsID8gKHJlZjEgPSBmb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYxLl9pZCA6IHZvaWQgMCA6IHZvaWQgMFxuICAgIH0sIHRydWUpO1xuICAgIGZpbGVOYW1lID0gZmxvdy5uYW1lO1xuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQnKTtcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JyArIGVuY29kZVVSSShmaWxlTmFtZSkgKyAnLmh0bWwnKTtcbiAgICByZXR1cm4gcmVzLmVuZChkYXRhKTtcbiAgfSk7XG59KTtcbiIsIiMjI1xuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2RyYWZ0cyDmlrDlu7rnlLPor7fljZVcblxuQGFwaU5hbWUgY3JlYXRlSW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcbntcbiAgICBcImZsb3dcIjog5rWB56iLSWQsXG4gICAgXCJhcHBsaWNhbnRcIjog55Sz6K+35Lq6SWQsXG4gICAgXCJ2YWx1ZXNcIjoge1xuICAgICAgICBcImZpZWxkczFcIiA6IOWtl+auteWAvCxcbiAgICAgICAgXCJmaWVsZHMyXCIgOiDlrZfmrrXlgLwsXG4gICAgICAgIC4uLlxuICAgIH1cbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuICAgIFwiZGF0YVwiOiB7aW5zdGFuY2V9XG59XG5cbkBhcGlFcnJvckV4YW1wbGUge2pzb259IGVycm9yLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwiZXJyb3JcIixcbiAgICBcImRhdGFcIjogey4uLn1cbn1cbiMjI1xuSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2RyYWZ0cycsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuXG5cblx0XHR1c2VyX2lkID0gcmVxLnVzZXJJZFxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiB1c2VyX2lkIH0pXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgeF9zcGFjZV9pZCcpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcl9pbmZvLl9pZClcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblxuXHRcdGlmIG5vdCBoYXNoRGF0YVtcImZsb3dcIl1cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbnVsbCcpXG5cblx0XHRmbG93X2lkICAgICAgPSBoYXNoRGF0YVtcImZsb3dcIl1cblx0XHRhcHBsaWNhbnRfaWQgPSBoYXNoRGF0YVtcImFwcGxpY2FudFwiXVxuXHRcdGFwcGxpY2FudF91c2VybmFtZSA9IGhhc2hEYXRhW1wiYXBwbGljYW50X3VzZXJuYW1lXCJdXG5cblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudCA9IG5ldyBPYmplY3RcblxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBmbG93X2lkIH0sIHsgZmllbGRzOiB7IHNwYWNlOiAxLCAnY3VycmVudC5faWQnOiAxIH0gfSlcblx0XHRpZiBub3QgZmxvd1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBub3QgZXhpc3RzJylcblxuXHRcdGlmIHNwYWNlX2lkIGlzbnQgZmxvdy5zcGFjZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UnKVxuXG5cdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogY3VycmVudF91c2VyX2luZm8uX2lkIH0pLmNvdW50KCkgaXMgMFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXV0aF90b2tlbiBpcyBub3QgYSBtZW1iZXIgb2YgdGhpcyBzcGFjZScpXG5cblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcInNwYWNlXCJdID0gc3BhY2VfaWRcblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dcIl0gPSBmbG93X2lkXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93X3ZlcnNpb25cIl0gPSBmbG93LmN1cnJlbnQuX2lkXG5cblx0XHRhcHBsaWNhbnQgPSBudWxsXG5cdFx0aWYgYXBwbGljYW50X2lkIG9yIGFwcGxpY2FudF91c2VybmFtZVxuXG5cdFx0XHRpZiBhcHBsaWNhbnRfaWRcblx0XHRcdFx0YXBwbGljYW50ID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYXBwbGljYW50X2lkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRpZiBub3QgYXBwbGljYW50XG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIHdyb25nJylcblxuXHRcdFx0ZWxzZSBpZiBhcHBsaWNhbnRfdXNlcm5hbWVcblx0XHRcdFx0YXBwbGljYW50ID0gZGIudXNlcnMuZmluZE9uZSh7IHVzZXJuYW1lOiBhcHBsaWNhbnRfdXNlcm5hbWUgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdGlmIG5vdCBhcHBsaWNhbnRcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnRfdXNlcm5hbWUgaXMgd3JvbmcnKVxuXG5cdFx0XHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwbGljYW50Ll9pZCB9KVxuXHRcdFx0aWYgbm90IHNwYWNlX3VzZXJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJylcblxuXHRcdFx0aWYgc3BhY2VfdXNlci51c2VyX2FjY2VwdGVkIGlzbnQgdHJ1ZVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgZGlzYWJsZWQgaW4gdGhpcyBzcGFjZScpXG5cblx0XHRcdHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcilcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50XCJdID0gYXBwbGljYW50Ll9pZFxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGFwcGxpY2FudC5uYW1lXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25cIl0gPSAgc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cblxuXHRcdGFwcGxpY2FudEluZm8gPSBhcHBsaWNhbnQgfHwgY3VycmVudF91c2VyX2luZm9cblxuXHRcdHRyYWNlcyA9IFtdXG5cdFx0dHJhY2UgPSBuZXcgT2JqZWN0XG5cdFx0YXBwcm92ZXMgPSBbXVxuXHRcdGFwcHJvdmUgPSBuZXcgT2JqZWN0XG5cdFx0YXBwcm92ZVtcInZhbHVlc1wiXSA9IGhhc2hEYXRhW1widmFsdWVzXCJdXG5cdFx0YXBwcm92ZXMucHVzaChhcHByb3ZlKVxuXHRcdHRyYWNlW1wiYXBwcm92ZXNcIl0gPSBhcHByb3Zlc1xuXHRcdHRyYWNlcy5wdXNoKHRyYWNlKVxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdID0gdHJhY2VzXG5cblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdID0gW2FwcGxpY2FudEluZm8uX2lkXVxuXG5cdFx0bmV3X2luc19pZCA9IHV1Zmxvd01hbmFnZXIuY3JlYXRlX2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBhcHBsaWNhbnRJbmZvKVxuXG5cdFx0bmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG5ld19pbnNfaWQpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogbmV3X2lucyB9XG5cdFx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxuXHRcdH1cbiIsIlxuLypcbkBhcGkge3Bvc3R9IC9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMg5paw5bu655Sz6K+35Y2VXG5cbkBhcGlOYW1lIGNyZWF0ZUluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XG57XG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxuICAgIFwiYXBwbGljYW50XCI6IOeUs+ivt+S6uklkLFxuICAgIFwidmFsdWVzXCI6IHtcbiAgICAgICAgXCJmaWVsZHMxXCIgOiDlrZfmrrXlgLwsXG4gICAgICAgIFwiZmllbGRzMlwiIDog5a2X5q615YC8LFxuICAgICAgICAuLi5cbiAgICB9XG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxufVxuXG5AYXBpRXJyb3JFeGFtcGxlIHtqc29ufSBlcnJvci1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcImVycm9yXCIsXG4gICAgXCJkYXRhXCI6IHsuLi59XG59XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXBwbGljYW50LCBhcHBsaWNhbnRJbmZvLCBhcHBsaWNhbnRfaWQsIGFwcGxpY2FudF91c2VybmFtZSwgYXBwcm92ZSwgYXBwcm92ZXMsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBmbG93X2lkLCBoYXNoRGF0YSwgaW5zdGFuY2VfZnJvbV9jbGllbnQsIG5ld19pbnMsIG5ld19pbnNfaWQsIHNwYWNlX2lkLCBzcGFjZV91c2VyLCBzcGFjZV91c2VyX29yZ19pbmZvLCB0cmFjZSwgdHJhY2VzLCB1c2VyX2lkO1xuICB0cnkge1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1c2VyX2lkID0gcmVxLnVzZXJJZDtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgX2lkOiB1c2VyX2lkXG4gICAgfSk7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIHhfc3BhY2VfaWQnKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcl9pbmZvLl9pZCk7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBpZiAoIWhhc2hEYXRhW1wiZmxvd1wiXSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBudWxsJyk7XG4gICAgfVxuICAgIGZsb3dfaWQgPSBoYXNoRGF0YVtcImZsb3dcIl07XG4gICAgYXBwbGljYW50X2lkID0gaGFzaERhdGFbXCJhcHBsaWNhbnRcIl07XG4gICAgYXBwbGljYW50X3VzZXJuYW1lID0gaGFzaERhdGFbXCJhcHBsaWNhbnRfdXNlcm5hbWVcIl07XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnQgPSBuZXcgT2JqZWN0O1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvd19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgJ2N1cnJlbnQuX2lkJzogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghZmxvdykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBub3QgZXhpc3RzJyk7XG4gICAgfVxuICAgIGlmIChzcGFjZV9pZCAhPT0gZmxvdy5zcGFjZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UnKTtcbiAgICB9XG4gICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogY3VycmVudF91c2VyX2luZm8uX2lkXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXV0aF90b2tlbiBpcyBub3QgYSBtZW1iZXIgb2YgdGhpcyBzcGFjZScpO1xuICAgIH1cbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInNwYWNlXCJdID0gc3BhY2VfaWQ7XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93XCJdID0gZmxvd19pZDtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dfdmVyc2lvblwiXSA9IGZsb3cuY3VycmVudC5faWQ7XG4gICAgYXBwbGljYW50ID0gbnVsbDtcbiAgICBpZiAoYXBwbGljYW50X2lkIHx8IGFwcGxpY2FudF91c2VybmFtZSkge1xuICAgICAgaWYgKGFwcGxpY2FudF9pZCkge1xuICAgICAgICBhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICBfaWQ6IGFwcGxpY2FudF9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFhcHBsaWNhbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgd3JvbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcHBsaWNhbnRfdXNlcm5hbWUpIHtcbiAgICAgICAgYXBwbGljYW50ID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgdXNlcm5hbWU6IGFwcGxpY2FudF91c2VybmFtZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFhcHBsaWNhbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnRfdXNlcm5hbWUgaXMgd3JvbmcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcGxpY2FudC5faWRcbiAgICAgIH0pO1xuICAgICAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBub3QgYSBtZW1iZXIgb2YgdGhpcyBzcGFjZScpO1xuICAgICAgfVxuICAgICAgaWYgKHNwYWNlX3VzZXIudXNlcl9hY2NlcHRlZCAhPT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgZGlzYWJsZWQgaW4gdGhpcyBzcGFjZScpO1xuICAgICAgfVxuICAgICAgc3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50XCJdID0gYXBwbGljYW50Ll9pZDtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X25hbWVcIl0gPSBhcHBsaWNhbnQubmFtZTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvblwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl07XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgfVxuICAgIGFwcGxpY2FudEluZm8gPSBhcHBsaWNhbnQgfHwgY3VycmVudF91c2VyX2luZm87XG4gICAgdHJhY2VzID0gW107XG4gICAgdHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgIGFwcHJvdmVzID0gW107XG4gICAgYXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgYXBwcm92ZVtcInZhbHVlc1wiXSA9IGhhc2hEYXRhW1widmFsdWVzXCJdO1xuICAgIGFwcHJvdmVzLnB1c2goYXBwcm92ZSk7XG4gICAgdHJhY2VbXCJhcHByb3Zlc1wiXSA9IGFwcHJvdmVzO1xuICAgIHRyYWNlcy5wdXNoKHRyYWNlKTtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSA9IHRyYWNlcztcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdID0gW2FwcGxpY2FudEluZm8uX2lkXTtcbiAgICBuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGFwcGxpY2FudEluZm8pO1xuICAgIG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShuZXdfaW5zX2lkKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiBuZXdfaW5zXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcbkBhcGkge2dldH0gL2FwaS93b3JrZmxvdy9vcGVuL2dldC86aW5zX2lkIOafpeeci+eUs+ivt+WNleivpuaDhVxuXG5AYXBpTmFtZSBnZXRJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy655qE566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBpbnNfaWQg55Sz6K+35Y2VSWRcbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuICAgIFwiZGF0YVwiOiB7aW5zdGFuY2V9XG59XG4jIyNcbkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2dldC86aW5zX2lkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVyblxuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZClcblx0XHRpZiBub3QgaW5zdGFuY2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBpbnN0YW5jZScpXG5cblx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IGluc3RhbmNlLnNwYWNlLCB1c2VyOiBjdXJyZW50X3VzZXIgfSkuY291bnQoKSBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIHdyb25nJylcblxuXHRcdCMg5p2D6ZmQ77ya5LuF5Lul5LiL5Lq65ZGY5Y+v5Lul5p+l55yL55Sz6K+35Y2V6K+m5oOF77ya5o+Q5Lqk6ICF44CB55Sz6K+36ICF44CB57uP5omL6ICF44CB5pys5rWB56iL55qE566h55CG5ZGY44CB5pys5rWB56iL55qE6KeC5a+f5ZGY44CB5pys5bel5L2c5Yy655qE566h55CG5ZGY44CB5pys5bel5L2c5Yy655qE5omA5pyJ6ICF44CCXG5cdFx0cGVybV91c2VycyA9IG5ldyBBcnJheVxuXHRcdHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpXG5cdFx0cGVybV91c2Vycy5wdXNoKGluc3RhbmNlLmFwcGxpY2FudClcblx0XHRpZiBpbnN0YW5jZS5vdXRib3hfdXNlcnNcblx0XHRcdHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChpbnN0YW5jZS5vdXRib3hfdXNlcnMpXG5cdFx0aWYgaW5zdGFuY2UuaW5ib3hfdXNlcnNcblx0XHRcdHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChpbnN0YW5jZS5pbmJveF91c2Vycylcblx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZS5zcGFjZSB9LCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxuXHRcdHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChzcGFjZS5hZG1pbnMpXG5cblx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpXG5cblx0XHRpZiAobm90IHBlcm1fdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgYW5kIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJtb25pdG9yXCIpKSBhbmQgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbm8gcGVybWlzc2lvbicpXG5cblx0XHRpbnN0YW5jZS5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHskbmU6IHRydWV9fSwge2ZpZWxkczoge2NvcGllczogMH19KS5mZXRjaCgpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogaW5zdGFuY2UgfVxuXHRcdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5tZXNzYWdlIH1dIH1cblx0XHR9XG5cbiIsIlxuLypcbkBhcGkge2dldH0gL2FwaS93b3JrZmxvdy9vcGVuL2dldC86aW5zX2lkIOafpeeci+eUs+ivt+WNleivpuaDhVxuXG5AYXBpTmFtZSBnZXRJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy655qE566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBpbnNfaWQg55Sz6K+35Y2VSWRcbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuICAgIFwiZGF0YVwiOiB7aW5zdGFuY2V9XG59XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2dldC86aW5zX2lkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgZSwgaW5zX2lkLCBpbnN0YW5jZSwgcGVybV91c2VycywgcGVybWlzc2lvbnMsIHNwYWNlLCBzcGFjZV9pZDtcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGluc3RhbmNlJyk7XG4gICAgfVxuICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBpbnN0YW5jZS5zcGFjZSxcbiAgICAgIHVzZXI6IGN1cnJlbnRfdXNlclxuICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgd3JvbmcnKTtcbiAgICB9XG4gICAgcGVybV91c2VycyA9IG5ldyBBcnJheTtcbiAgICBwZXJtX3VzZXJzLnB1c2goaW5zdGFuY2Uuc3VibWl0dGVyKTtcbiAgICBwZXJtX3VzZXJzLnB1c2goaW5zdGFuY2UuYXBwbGljYW50KTtcbiAgICBpZiAoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKSB7XG4gICAgICBwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLmluYm94X3VzZXJzKSB7XG4gICAgICBwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoaW5zdGFuY2UuaW5ib3hfdXNlcnMpO1xuICAgIH1cbiAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2Uuc3BhY2VcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgYWRtaW5zOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KHNwYWNlLmFkbWlucyk7XG4gICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKTtcbiAgICBpZiAoKCFwZXJtX3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpICYmICghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJtb25pdG9yXCIpKSAmJiAoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdubyBwZXJtaXNzaW9uJyk7XG4gICAgfVxuICAgIGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCxcbiAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICRuZTogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjb3BpZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IGluc3RhbmNlXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3N1Ym1pdC86aW5zX2lkIOaPkOS6pOeUs+ivt+WNlVxuXG5AYXBpRGVzY3JpcHRpb24g5pqC5LiN5pSv5oyB5byA5aeL6IqC54K55LiL5LiA6IqC54K55Li65p2h5Lu255qE5oOF5Ya1XG5cbkBhcGlOYW1lIHN1Ym1pdEluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbiAgICB7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbiAgICB7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cblx0fVxuIyMjXG5cbkpzb25Sb3V0ZXMuYWRkICdwdXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3N1Ym1pdC86aW5zX2lkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVybiA7XG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpXG5cblx0XHQjIOagoemqjOeUs+ivt+WNleeKtuaAgeS4uuiNieeov1xuXHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZURyYWZ0KGluc3RhbmNlKVxuXG5cdFx0aWYgc3BhY2VfaWQgaXNudCBpbnN0YW5jZVtcInNwYWNlXCJdXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdpbnN0YW5jZSBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UnKVxuXG5cdFx0IyDmoKHpqoznlLPor7fljZXlv4XloavlrZfmrrXmmK/lkKbmnInlgLxcblx0XHR2YWx1ZXMgPSBpbnN0YW5jZVtcInRyYWNlc1wiXVswXVtcImFwcHJvdmVzXCJdWzBdLnZhbHVlc1xuXG5cdFx0Zm9ybSA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybShpbnN0YW5jZS5mb3JtKVxuXG5cdFx0cmVxdWlyZV9idXRfZW1wdHlfZmllbGRzID0gdXVmbG93TWFuYWdlci5jaGVja1ZhbHVlRmllbGRzUmVxdWlyZSh2YWx1ZXMsIGZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcblxuXHRcdGlmIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPiAwXG5cdFx0XHRpZiByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmaWVsZHMgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBhcmUgcmVxdWlyZWQnKVxuXHRcdFx0ZWxzZSBpZiByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID0gMVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmaWVsZCA8JyArIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5qb2luKFwiLFwiKSArICc+IGlzIHJlcXVpcmVkJylcblxuXHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcblxuXHRcdHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGluc3RhbmNlW1widHJhY2VzXCJdWzBdLnN0ZXApXG5cblx0XHQjIOiuoeeul+S4i+S4gOatpemqpOmAiemhuVxuXHRcdG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBcInN1Ym1pdHRlZFwiKVxuXG5cdFx0aWYgbmV4dFN0ZXBzLmxlbmd0aCA8IDFcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBuZXh0IHN0ZXBzJylcblxuXHRcdGlmIG5leHRTdGVwcy5sZW5ndGggPiAxXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZXh0IHN0ZXAgbm90IHVuaXEnKVxuXG5cdFx0bmV4dF9zdGVwX2lkID0gbmV4dFN0ZXBzWzBdXG5cblx0XHQjIOiuoeeul+S4i+S4gOatpeWkhOeQhuS6uumAiemhuVxuXHRcdG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zX2lkLCBuZXh0X3N0ZXBfaWQpIHx8IFtdXG5cblx0XHRpZiBuZXh0X3VzZXJfaWRzLmxlbmd0aCA+IDFcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBoYW5kbGVyIG5vdCB1bmlxJylcblxuXHRcdGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF1bXCJuZXh0X3N0ZXBzXCJdID0gW3snc3RlcCc6IG5leHRfc3RlcF9pZCwgJ3VzZXJzJzogbmV4dF91c2VyX2lkc31dXG5cblx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XG5cblx0XHRzdWJtaXR0ZXIgPSBkYi51c2Vycy5maW5kT25lKGluc3RhbmNlLnN1Ym1pdHRlcilcblxuXHRcdGlmIG5vdCBzdWJtaXR0ZXJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBzdWJtaXR0ZXInKVxuXG5cdFx0ciA9IHV1Zmxvd01hbmFnZXIuc3VibWl0X2luc3RhbmNlKGluc3RhbmNlLCBzdWJtaXR0ZXIpXG5cblx0XHRpZiByLmFsZXJ0c1xuXHRcdFx0cmVzdWx0ID0gclxuXHRcdGVsc2Vcblx0XHRcdHJlc3VsdCA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZClcblx0XHRcdGlmIHJlc3VsdFxuXHRcdFx0XHRyZXN1bHQuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuIiwiXG4vKlxuQGFwaSB7cHV0fSAvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQg5o+Q5Lqk55Sz6K+35Y2VXG5cbkBhcGlEZXNjcmlwdGlvbiDmmoLkuI3mlK/mjIHlvIDlp4voioLngrnkuIvkuIDoioLngrnkuLrmnaHku7bnmoTmg4XlhrVcblxuQGFwaU5hbWUgc3VibWl0SW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuICAgIHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuICAgIHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxuXHR9XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwdXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3N1Ym1pdC86aW5zX2lkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGZvcm0sIGluc19pZCwgaW5zdGFuY2UsIG5leHRTdGVwcywgbmV4dF9zdGVwX2lkLCBuZXh0X3VzZXJfaWRzLCByLCByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMsIHJlc3VsdCwgc3BhY2VfaWQsIHN0ZXAsIHN1Ym1pdHRlciwgdmFsdWVzO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZURyYWZ0KGluc3RhbmNlKTtcbiAgICBpZiAoc3BhY2VfaWQgIT09IGluc3RhbmNlW1wic3BhY2VcIl0pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlIGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpO1xuICAgIH1cbiAgICB2YWx1ZXMgPSBpbnN0YW5jZVtcInRyYWNlc1wiXVswXVtcImFwcHJvdmVzXCJdWzBdLnZhbHVlcztcbiAgICBmb3JtID0gdXVmbG93TWFuYWdlci5nZXRGb3JtKGluc3RhbmNlLmZvcm0pO1xuICAgIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tWYWx1ZUZpZWxkc1JlcXVpcmUodmFsdWVzLCBmb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuICAgIGlmIChyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkcyA8JyArIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5qb2luKFwiLFwiKSArICc+IGFyZSByZXF1aXJlZCcpO1xuICAgICAgfSBlbHNlIGlmIChyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmaWVsZCA8JyArIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5qb2luKFwiLFwiKSArICc+IGlzIHJlcXVpcmVkJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF0uc3RlcCk7XG4gICAgbmV4dFN0ZXBzID0gdXVmbG93TWFuYWdlci5nZXROZXh0U3RlcHMoaW5zdGFuY2UsIGZsb3csIHN0ZXAsIFwic3VibWl0dGVkXCIpO1xuICAgIGlmIChuZXh0U3RlcHMubGVuZ3RoIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIG5leHQgc3RlcHMnKTtcbiAgICB9XG4gICAgaWYgKG5leHRTdGVwcy5sZW5ndGggPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZXh0IHN0ZXAgbm90IHVuaXEnKTtcbiAgICB9XG4gICAgbmV4dF9zdGVwX2lkID0gbmV4dFN0ZXBzWzBdO1xuICAgIG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zX2lkLCBuZXh0X3N0ZXBfaWQpIHx8IFtdO1xuICAgIGlmIChuZXh0X3VzZXJfaWRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBoYW5kbGVyIG5vdCB1bmlxJyk7XG4gICAgfVxuICAgIGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF1bXCJuZXh0X3N0ZXBzXCJdID0gW1xuICAgICAge1xuICAgICAgICAnc3RlcCc6IG5leHRfc3RlcF9pZCxcbiAgICAgICAgJ3VzZXJzJzogbmV4dF91c2VyX2lkc1xuICAgICAgfVxuICAgIF07XG4gICAgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICBzdWJtaXR0ZXIgPSBkYi51c2Vycy5maW5kT25lKGluc3RhbmNlLnN1Ym1pdHRlcik7XG4gICAgaWYgKCFzdWJtaXR0ZXIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBzdWJtaXR0ZXInKTtcbiAgICB9XG4gICAgciA9IHV1Zmxvd01hbmFnZXIuc3VibWl0X2luc3RhbmNlKGluc3RhbmNlLCBzdWJtaXR0ZXIpO1xuICAgIGlmIChyLmFsZXJ0cykge1xuICAgICAgcmVzdWx0ID0gcjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWQsXG4gICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIGNvcGllczogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCDmmoLlrZjnlLPor7fljZVcblxuQGFwaU5hbWUgc2F2ZUluc3RhbmNlc1xuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG4gICAge1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG4gICAge1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XG5cdH1cbiMjI1xuSnNvblJvdXRlcy5hZGQgJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVybiA7XG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdHZhbHVlcyA9IHJlcS5ib2R5XG5cblx0XHRpZiBub3QgdmFsdWVzXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHZhbHVlcycpXG5cblx0XHRjdXJyZW50X3RyYWNlID0gbnVsbFxuXHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxuXHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcblxuXHRcdF8uZWFjaCBpbnN0YW5jZS50cmFjZXMsICh0KS0+XG5cdFx0XHRpZiB0LmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxuXHRcdFx0XHRjdXJyZW50X3RyYWNlID0gdFxuXG5cdFx0Y3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBjdXJyZW50X3RyYWNlLnN0ZXApXG5cblx0XHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzIFwiY291bnRlclNpZ25cIlxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5q2l6aqk5LiN6IO95L+u5pS56KGo5Y2V5YC8JylcblxuXHRcdF8uZWFjaCBjdXJyZW50X3RyYWNlLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0aWYgYS5pc19maW5pc2hlZCBpc250IHRydWUgYW5kIGEudHlwZSBpc250IFwiY2NcIlxuXHRcdFx0XHRhLnZhbHVlcyA9IHZhbHVlc1xuXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGVcblx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlc1wiXSA9IGN1cnJlbnRfdHJhY2UuYXBwcm92ZXNcblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUge1xuXHRcdFx0X2lkOiBpbnNfaWRcblx0XHRcdCd0cmFjZXMuX2lkJzogY3VycmVudF90cmFjZS5faWRcblx0XHR9LCAkc2V0OiBzZXRPYmpcblxuXHRcdHJlc3VsdCA9IG5ldyBPYmplY3RcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIlxuLypcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCDmmoLlrZjnlLPor7fljZVcblxuQGFwaU5hbWUgc2F2ZUluc3RhbmNlc1xuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG4gICAge1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG4gICAge1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XG5cdH1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfc3RlcCwgY3VycmVudF90cmFjZSwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgaW5zX2lkLCBpbnN0YW5jZSwgcmVzdWx0LCBzZXRPYmosIHNwYWNlX2lkLCB2YWx1ZXM7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgdmFsdWVzID0gcmVxLmJvZHk7XG4gICAgaWYgKCF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgdmFsdWVzJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdHJhY2UgPSBudWxsO1xuICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICBpZiAodC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF90cmFjZSA9IHQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBjdXJyZW50X3RyYWNlLnN0ZXApO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuatpemqpOS4jeiDveS/ruaUueihqOWNleWAvCcpO1xuICAgIH1cbiAgICBfLmVhY2goY3VycmVudF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKGEuaXNfZmluaXNoZWQgIT09IHRydWUgJiYgYS50eXBlICE9PSBcImNjXCIpIHtcbiAgICAgICAgcmV0dXJuIGEudmFsdWVzID0gdmFsdWVzO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlO1xuICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gY3VycmVudF90cmFjZS5hcHByb3ZlcztcbiAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgIF9pZDogaW5zX2lkLFxuICAgICAgJ3RyYWNlcy5faWQnOiBjdXJyZW50X3RyYWNlLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHNldE9ialxuICAgIH0pO1xuICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcbkBhcGkge3Bvc3R9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lIOagueaNruatpemqpOWQjeensOiOt+WPlueUs+ivt+WNlVxuXG5AYXBpTmFtZSBnZXRJbnN0YW5jZUJ5U3RlcE5hbWVcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcbntcbiAgICBcImZsb3dcIjog5rWB56iLSWQsXG4gICAgXCJzdGVwbmFtZVwiOiDmraXpqqTlkI3np7Bcbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuXHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XCJkYXRhXCI6IFtcblx0XHR7XG5cdFx0XHRpbnN0YW5jZVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0aW5zdGFuY2Vcblx0XHR9XG5cdF1cbn1cbiMjI1xuSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVybiA7XG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblx0XHRzdGVwbmFtZSA9IGhhc2hEYXRhW1wic3RlcG5hbWVcIl1cblx0XHRmbG93ID0gaGFzaERhdGFbXCJmbG93XCJdXG5cblx0XHRpZiBub3Qgc3RlcG5hbWVcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3RlcG5hbWUnKVxuXG5cdFx0aWYgbm90IGZsb3dcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgZmxvdycpXG5cblx0XHQjIOWOu+aOiXtmaWVsZHM6IHtpbmJveF91ZXJzOiAwLCBjY191c2VyczogMCwgb3V0Ym94X3VzZXJzOiAwLCB0cmFjZXM6IDAsIGF0dGFjaG1lbnRzOiAwfVxuXHRcdGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHtzcGFjZTogc3BhY2VfaWQsIGZsb3c6IGZsb3csIHN0YXRlOidwZW5kaW5nJywgdHJhY2VzOnskZWxlbU1hdGNoOiB7aXNfZmluaXNoZWQ6IGZhbHNlLCBuYW1lOiBzdGVwbmFtZX19fSwge2ZpZWxkczoge2luYm94X3VlcnM6IDAsIGNjX3VzZXJzOiAwLCBvdXRib3hfdXNlcnM6IDAsIGF0dGFjaG1lbnRzOiAwLCB0cmFjZXM6IDB9fSkuZmV0Y2goKVxuXG5cdFx0aW5zdGFuY2VzLmZvckVhY2ggKGluc3RhbmNlKS0+XG5cdFx0XHRpbnN0YW5jZS5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHskbmU6IHRydWV9fSwge2ZpZWxkczoge2NvcGllczogMH19KS5mZXRjaCgpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IGluc3RhbmNlc31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJcbi8qXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZSDmoLnmja7mraXpqqTlkI3np7Dojrflj5bnlLPor7fljZVcblxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VCeVN0ZXBOYW1lXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XG57XG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxuICAgIFwic3RlcG5hbWVcIjog5q2l6aqk5ZCN56ewXG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcblx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFwiZGF0YVwiOiBbXG5cdFx0e1xuXHRcdFx0aW5zdGFuY2Vcblx0XHR9LFxuXHRcdHtcblx0XHRcdGluc3RhbmNlXG5cdFx0fVxuXHRdXG59XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGhhc2hEYXRhLCBpbnN0YW5jZXMsIHNwYWNlX2lkLCBzdGVwbmFtZTtcbiAgdHJ5IHtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIHN0ZXBuYW1lID0gaGFzaERhdGFbXCJzdGVwbmFtZVwiXTtcbiAgICBmbG93ID0gaGFzaERhdGFbXCJmbG93XCJdO1xuICAgIGlmICghc3RlcG5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3RlcG5hbWUnKTtcbiAgICB9XG4gICAgaWYgKCFmbG93KSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGZsb3cnKTtcbiAgICB9XG4gICAgaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgZmxvdzogZmxvdyxcbiAgICAgIHN0YXRlOiAncGVuZGluZycsXG4gICAgICB0cmFjZXM6IHtcbiAgICAgICAgJGVsZW1NYXRjaDoge1xuICAgICAgICAgIGlzX2ZpbmlzaGVkOiBmYWxzZSxcbiAgICAgICAgICBuYW1lOiBzdGVwbmFtZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGluYm94X3VlcnM6IDAsXG4gICAgICAgIGNjX3VzZXJzOiAwLFxuICAgICAgICBvdXRib3hfdXNlcnM6IDAsXG4gICAgICAgIGF0dGFjaG1lbnRzOiAwLFxuICAgICAgICB0cmFjZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsXG4gICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBjb3BpZXM6IDBcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiBpbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQ29udGVudC1UeXBl77yaYXBwbGljYXRpb24vanNvblxuZm9ybS1kYXRhIOagvOW8jzpcbmZkID0gbmV3IEZvcm1EYXRhO1xuZmQuYXBwZW5kKFwiZmlsZVwiLCBmaWxlKTtcblxuZmQuYXBwZW5kKFwiaXNfcHJpdmF0ZVwiLCBmYWxzZSk7XG5cbmlmIChpc0FkZFZlcnNpb24pIHtcblx0ZmQuYXBwZW5kKFwiaXNBZGRWZXJzaW9uXCIsIGlzQWRkVmVyc2lvbik7XG5cdGZkLmFwcGVuZChcInBhcmVudFwiLCBhdHRhY2hfcGFyZW50X2lkKTtcbn1cblxuaWYgKGlzTWFpbkF0dGFjaCkge1xuXHRmZC5hcHBlbmQoXCJtYWluXCIsIHRydWUpO1xufVxuIyMjXG5cbkJ1c2JveSA9IHJlcXVpcmUoJ2J1c2JveScpO1xuRmliZXIgPSByZXF1aXJlKCdmaWJlcnMnKTtcblxuSnNvblJvdXRlcy5wYXJzZUZpbGVzID0gKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHRmaWxlcyA9IFtdOyAjIFN0b3JlIGZpbGVzIGluIGFuIGFycmF5IGFuZCB0aGVuIHBhc3MgdGhlbSB0byByZXF1ZXN0LlxuXHRpbWFnZSA9IHt9OyAjIGNyYXRlIGFuIGltYWdlIG9iamVjdFxuXG5cdGlmIChyZXEubWV0aG9kID09IFwiUE9TVFwiKVxuXHRcdGJ1c2JveSA9IG5ldyBCdXNib3koeyBoZWFkZXJzOiByZXEuaGVhZGVycyB9KTtcblx0XHRidXNib3kub24gXCJmaWxlXCIsICAoZmllbGRuYW1lLCBmaWxlLCBmaWxlbmFtZSwgZW5jb2RpbmcsIG1pbWV0eXBlKSAtPlxuXHRcdFx0aW1hZ2UubWltZVR5cGUgPSBtaW1ldHlwZTtcblx0XHRcdGltYWdlLmVuY29kaW5nID0gZW5jb2Rpbmc7XG5cdFx0XHRpbWFnZS5maWxlbmFtZSA9IGZpbGVuYW1lO1xuXG5cdFx0XHQjIGJ1ZmZlciB0aGUgcmVhZCBjaHVua3Ncblx0XHRcdGJ1ZmZlcnMgPSBbXTtcblxuXHRcdFx0ZmlsZS5vbiAnZGF0YScsIChkYXRhKSAtPlxuXHRcdFx0XHRidWZmZXJzLnB1c2goZGF0YSk7XG5cblx0XHRcdGZpbGUub24gJ2VuZCcsICgpIC0+XG5cdFx0XHRcdCMgY29uY2F0IHRoZSBjaHVua3Ncblx0XHRcdFx0aW1hZ2UuZGF0YSA9IEJ1ZmZlci5jb25jYXQoYnVmZmVycyk7XG5cdFx0XHRcdCMgcHVzaCB0aGUgaW1hZ2Ugb2JqZWN0IHRvIHRoZSBmaWxlIGFycmF5XG5cdFx0XHRcdGZpbGVzLnB1c2goaW1hZ2UpO1xuXG5cblx0XHRidXNib3kub24gXCJmaWVsZFwiLCAoZmllbGRuYW1lLCB2YWx1ZSkgLT5cblx0XHRcdHJlcS5ib2R5W2ZpZWxkbmFtZV0gPSB2YWx1ZTtcblxuXHRcdGJ1c2JveS5vbiBcImZpbmlzaFwiLCAgKCkgLT5cblx0XHRcdCMgUGFzcyB0aGUgZmlsZSBhcnJheSB0b2dldGhlciB3aXRoIHRoZSByZXF1ZXN0XG5cdFx0XHRyZXEuZmlsZXMgPSBmaWxlcztcblxuXHRcdFx0RmliZXIgKCktPlxuXHRcdFx0XHRuZXh0KCk7XG5cdFx0XHQucnVuKCk7XG5cblx0XHQjIFBhc3MgcmVxdWVzdCB0byBidXNib3lcblx0XHRyZXEucGlwZShidXNib3kpO1xuXG5cdGVsc2Vcblx0XHRuZXh0KCk7XG5cbkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcblxuXHRcdGlmIGluc3RhbmNlLnN0YXRlIGlzbnQgXCJkcmFmdFwiXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73kuIrkvKAnKVxuXG5cdFx0YXBwcm92ZV9pZCA9IGluc3RhbmNlLnRyYWNlc1swXS5hcHByb3Zlc1swXS5faWRcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0SnNvblJvdXRlcy5wYXJzZUZpbGVzIHJlcSwgcmVzLCAoKS0+XG5cdFx0XHRjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlc1xuXG5cdFx0XHRpZiByZXEuZmlsZXMgYW5kIHJlcS5maWxlc1swXVxuXHRcdFx0XHQjIOmZhOS7tuS4iuS8oOaOpeWPo++8jOmZkOWItumZhOS7tuWkp+Wwj++8jOacgOWkp+S4ujEwME1cblx0XHRcdFx0aWYgcmVxLmZpbGVzWzBdLmRhdGEubGVuZ3RoID4gKDEwMCoxMDI0KjEwMjQpXG5cdFx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBcIui2hei/h+S4iuS8oOmZhOS7tuWkp+Wwj+mZkOWItigxMDBNKVwifV19XG5cdFx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdFx0bmV3RmlsZSA9IG5ldyBGUy5GaWxlKCk7XG5cdFx0XHRcdG5ld0ZpbGUuYXR0YWNoRGF0YSByZXEuZmlsZXNbMF0uZGF0YSwge3R5cGU6IHJlcS5maWxlc1swXS5taW1lVHlwZX0sIChlcnIpIC0+XG5cdFx0XHRcdFx0ZmlsZW5hbWUgPSByZXEuZmlsZXNbMF0uZmlsZW5hbWVcblxuXHRcdFx0XHRcdGlmIFtcImltYWdlLmpwZ1wiLCBcImltYWdlLmdpZlwiLCBcImltYWdlLmpwZWdcIiwgXCJpbWFnZS5wbmdcIl0uaW5jbHVkZXMoZmlsZW5hbWUudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0XHRcdGZpbGVuYW1lID0gXCJpbWFnZS1cIiArIG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoJ1lZWVlNTURESEhtbXNzJykgKyBcIi5cIiArIGZpbGVuYW1lLnNwbGl0KCcuJykucG9wKClcblxuXHRcdFx0XHRcdGJvZHkgPSByZXEuYm9keVxuXG5cdFx0XHRcdFx0Ym9keVsnb3duZXInXSA9IGluc3RhbmNlLnN1Ym1pdHRlclxuXHRcdFx0XHRcdGJvZHlbJ293bmVyX25hbWUnXSA9IGluc3RhbmNlLnN1Ym1pdHRlcl9uYW1lXG5cdFx0XHRcdFx0Ym9keVsnc3BhY2UnXSA9IHNwYWNlX2lkXG5cdFx0XHRcdFx0Ym9keVsnaW5zdGFuY2UnXSA9IGluc19pZFxuXHRcdFx0XHRcdGJvZHlbJ2FwcHJvdmUnXSA9IGFwcHJvdmVfaWRcblxuXHRcdFx0XHRcdHRyeVxuXHRcdFx0XHRcdFx0aWYgYm9keSAmJiAoYm9keVsndXBsb2FkX2Zyb20nXSBpcyBcIklFXCIgb3IgYm9keVsndXBsb2FkX2Zyb20nXSBpcyBcIm5vZGVcIilcblx0XHRcdFx0XHRcdFx0ZmlsZW5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoZmlsZW5hbWUpXG5cdFx0XHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihmaWxlbmFtZSlcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgZVxuXHRcdFx0XHRcdFx0ZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKC8lL2csIFwiLVwiKVxuXG5cdFx0XHRcdFx0bmV3RmlsZS5uYW1lKGZpbGVuYW1lKVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIGJvZHkgJiYgYm9keVsnb3duZXInXSAmJiBib2R5Wydvd25lcl9uYW1lJ10gJiYgYm9keVsnc3BhY2UnXSAmJiBib2R5WydpbnN0YW5jZSddICAmJiBib2R5WydhcHByb3ZlJ11cblx0XHRcdFx0XHRcdHBhcmVudCA9ICcnXG5cdFx0XHRcdFx0XHRtZXRhZGF0YSA9IHtvd25lcjpib2R5Wydvd25lciddLCBvd25lcl9uYW1lOmJvZHlbJ293bmVyX25hbWUnXSwgc3BhY2U6Ym9keVsnc3BhY2UnXSwgaW5zdGFuY2U6Ym9keVsnaW5zdGFuY2UnXSwgYXBwcm92ZTogYm9keVsnYXBwcm92ZSddLCBjdXJyZW50OiB0cnVlfVxuXG5cdFx0XHRcdFx0XHRpZiBib2R5W1wiaXNfcHJpdmF0ZVwiXSAmJiBib2R5W1wiaXNfcHJpdmF0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09IFwidHJ1ZVwiXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmlzX3ByaXZhdGUgPSB0cnVlXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmlzX3ByaXZhdGUgPSBmYWxzZVxuXG5cdFx0XHRcdFx0XHRpZiBib2R5WydtYWluJ10gPT0gXCJ0cnVlXCJcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEubWFpbiA9IHRydWVcblxuXHRcdFx0XHRcdFx0aWYgYm9keVsnaXNBZGRWZXJzaW9uJ10gJiYgYm9keVsncGFyZW50J11cblx0XHRcdFx0XHRcdFx0cGFyZW50ID0gYm9keVsncGFyZW50J11cblx0XHRcdFx0XHRcdCMgZWxzZVxuXHRcdFx0XHRcdFx0IyAgIGNvbGxlY3Rpb24uZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogYm9keVsnaW5zdGFuY2UnXSwgJ21ldGFkYXRhLmN1cnJlbnQnIDogdHJ1ZX0pLmZvckVhY2ggKGMpIC0+XG5cdFx0XHRcdFx0XHQjICAgICBpZiBjLm5hbWUoKSA9PSBmaWxlbmFtZVxuXHRcdFx0XHRcdFx0IyAgICAgICBwYXJlbnQgPSBjLm1ldGFkYXRhLnBhcmVudFxuXG5cdFx0XHRcdFx0XHRpZiBwYXJlbnRcblx0XHRcdFx0XHRcdFx0ciA9IGNvbGxlY3Rpb24udXBkYXRlKHsnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LCAnbWV0YWRhdGEuY3VycmVudCcgOiB0cnVlfSwgeyR1bnNldCA6IHsnbWV0YWRhdGEuY3VycmVudCcgOiAnJ319KVxuXHRcdFx0XHRcdFx0XHRpZiByXG5cdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGEucGFyZW50ID0gcGFyZW50XG5cdFx0XHRcdFx0XHRcdFx0aWYgYm9keVsnbG9ja2VkX2J5J10gJiYgYm9keVsnbG9ja2VkX2J5X25hbWUnXVxuXHRcdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGEubG9ja2VkX2J5ID0gYm9keVsnbG9ja2VkX2J5J11cblx0XHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmxvY2tlZF9ieV9uYW1lID0gYm9keVsnbG9ja2VkX2J5X25hbWUnXVxuXG5cdFx0XHRcdFx0XHRcdFx0bmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhXG5cdFx0XHRcdFx0XHRcdFx0ZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0IG5ld0ZpbGVcblxuXHRcdFx0XHRcdFx0XHRcdCMg5Yig6Zmk5ZCM5LiA5Liq55Sz6K+35Y2V5ZCM5LiA5Liq5q2l6aqk5ZCM5LiA5Liq5Lq65LiK5Lyg55qE6YeN5aSN55qE5paH5Lu2XG5cdFx0XHRcdFx0XHRcdFx0aWYgYm9keVtcIm92ZXJ3cml0ZVwiXSAmJiBib2R5W1wib3ZlcndyaXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gXCJ0cnVlXCJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb24ucmVtb3ZlKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBib2R5WydpbnN0YW5jZSddLCAnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LCAnbWV0YWRhdGEub3duZXInOiBib2R5Wydvd25lciddLCAnbWV0YWRhdGEuYXBwcm92ZSc6IGJvZHlbJ2FwcHJvdmUnXSwgJ21ldGFkYXRhLmN1cnJlbnQnOiB7JG5lOiB0cnVlfX0pXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YVxuXHRcdFx0XHRcdFx0XHRmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQgbmV3RmlsZVxuXHRcdFx0XHRcdFx0XHRmaWxlT2JqLnVwZGF0ZSh7JHNldDogeydtZXRhZGF0YS5wYXJlbnQnIDogZmlsZU9iai5faWR9fSlcblxuXHRcdFx0XHRcdCMg5YW85a656ICB54mI5pysXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0ZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0IG5ld0ZpbGVcblxuXHRcdFx0XHRcdHNpemUgPSBmaWxlT2JqLm9yaWdpbmFsLnNpemVcblx0XHRcdFx0XHRpZiAhc2l6ZVxuXHRcdFx0XHRcdFx0c2l6ZSA9IDEwMjRcblxuXHRcdFx0XHRcdHJlc3VsdCA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRyZXN1bHQgPVxuXHRcdFx0XHRcdFx0YXR0YWNoX2lkOiBmaWxlT2JqLl9pZCxcblx0XHRcdFx0XHRcdHNpemU6IHNpemVcblxuXHRcdFx0XHRcdHJlcy5zZXRIZWFkZXIoXCJ4LWFtei12ZXJzaW9uLWlkXCIsZmlsZU9iai5faWQpO1xuXG5cdFx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBcIm5lZWQgZmlsZVwifV19XG5cdFx0XHRcdHJldHVyblxuXG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuXG5Kc29uUm91dGVzLmFkZCBcImRlbGV0ZVwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZFwiLCAgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVybiA7XG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxuXG5cdFx0aWYgaW5zdGFuY2Uuc3RhdGUgaXNudCBcImRyYWZ0XCJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveWIoOmZpOmZhOS7ticpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHkgfHwge31cblx0XHRhdHRhY2hfaWQgPSBoYXNoRGF0YVtcImF0dGFjaF9pZFwiXVxuXG5cdFx0aWYgbm90IGF0dGFjaF9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGF0dGFjaF9pZCcpXG5cblx0XHRjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlc1xuXG5cdFx0ZmlsZSA9IGNvbGxlY3Rpb24uZmluZE9uZSh7IF9pZDogYXR0YWNoX2lkLCAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWR9KVxuXHRcdGlmIGZpbGVcblx0XHRcdGZpbGUucmVtb3ZlKClcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfmraTpmYTku7bkuI3lsZ7kuo7mraTnlLPor7fljZXvvIzmiJblt7LooqvliKDpmaQnKVxuXG5cdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cblxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzphdHRhY2hfaWRcIiwgIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0YXR0YWNoX2lkID0gcmVxLnBhcmFtcy5hdHRhY2hfaWRcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHRyZXMuc3RhdHVzQ29kZSA9IDMwMlxuXHRcdHJlcy5zZXRIZWFkZXIgXCJMb2NhdGlvblwiLCBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2luc3RhbmNlcy9cIikgKyBhdHRhY2hfaWQgKyBcIj9kb3dubG9hZD10cnVlXCJcblx0XHRyZXMuZW5kKClcblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJcbi8qXG5Db250ZW50LVR5cGXvvJphcHBsaWNhdGlvbi9qc29uXG5mb3JtLWRhdGEg5qC85byPOlxuZmQgPSBuZXcgRm9ybURhdGE7XG5mZC5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xuXG5mZC5hcHBlbmQoXCJpc19wcml2YXRlXCIsIGZhbHNlKTtcblxuaWYgKGlzQWRkVmVyc2lvbikge1xuXHRmZC5hcHBlbmQoXCJpc0FkZFZlcnNpb25cIiwgaXNBZGRWZXJzaW9uKTtcblx0ZmQuYXBwZW5kKFwicGFyZW50XCIsIGF0dGFjaF9wYXJlbnRfaWQpO1xufVxuXG5pZiAoaXNNYWluQXR0YWNoKSB7XG5cdGZkLmFwcGVuZChcIm1haW5cIiwgdHJ1ZSk7XG59XG4gKi9cbnZhciBCdXNib3ksIEZpYmVyO1xuXG5CdXNib3kgPSByZXF1aXJlKCdidXNib3knKTtcblxuRmliZXIgPSByZXF1aXJlKCdmaWJlcnMnKTtcblxuSnNvblJvdXRlcy5wYXJzZUZpbGVzID0gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGJ1c2JveSwgZmlsZXMsIGltYWdlO1xuICBmaWxlcyA9IFtdO1xuICBpbWFnZSA9IHt9O1xuICBpZiAocmVxLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICBidXNib3kgPSBuZXcgQnVzYm95KHtcbiAgICAgIGhlYWRlcnM6IHJlcS5oZWFkZXJzXG4gICAgfSk7XG4gICAgYnVzYm95Lm9uKFwiZmlsZVwiLCBmdW5jdGlvbihmaWVsZG5hbWUsIGZpbGUsIGZpbGVuYW1lLCBlbmNvZGluZywgbWltZXR5cGUpIHtcbiAgICAgIHZhciBidWZmZXJzO1xuICAgICAgaW1hZ2UubWltZVR5cGUgPSBtaW1ldHlwZTtcbiAgICAgIGltYWdlLmVuY29kaW5nID0gZW5jb2Rpbmc7XG4gICAgICBpbWFnZS5maWxlbmFtZSA9IGZpbGVuYW1lO1xuICAgICAgYnVmZmVycyA9IFtdO1xuICAgICAgZmlsZS5vbignZGF0YScsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcnMucHVzaChkYXRhKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZpbGUub24oJ2VuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpbWFnZS5kYXRhID0gQnVmZmVyLmNvbmNhdChidWZmZXJzKTtcbiAgICAgICAgcmV0dXJuIGZpbGVzLnB1c2goaW1hZ2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgYnVzYm95Lm9uKFwiZmllbGRcIiwgZnVuY3Rpb24oZmllbGRuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHJlcS5ib2R5W2ZpZWxkbmFtZV0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICBidXNib3kub24oXCJmaW5pc2hcIiwgZnVuY3Rpb24oKSB7XG4gICAgICByZXEuZmlsZXMgPSBmaWxlcztcbiAgICAgIHJldHVybiBGaWJlcihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH0pLnJ1bigpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXEucGlwZShidXNib3kpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH1cbn07XG5cbkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhcHByb3ZlX2lkLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBpbnNfaWQsIGluc3RhbmNlLCBzcGFjZV9pZDtcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95LiK5LygJyk7XG4gICAgfVxuICAgIGFwcHJvdmVfaWQgPSBpbnN0YW5jZS50cmFjZXNbMF0uYXBwcm92ZXNbMF0uX2lkO1xuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnBhcnNlRmlsZXMocmVxLCByZXMsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNvbGxlY3Rpb24sIG5ld0ZpbGU7XG4gICAgICBjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlcztcbiAgICAgIGlmIChyZXEuZmlsZXMgJiYgcmVxLmZpbGVzWzBdKSB7XG4gICAgICAgIGlmIChyZXEuZmlsZXNbMF0uZGF0YS5sZW5ndGggPiAoMTAwICogMTAyNCAqIDEwMjQpKSB7XG4gICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IFwi6LaF6L+H5LiK5Lyg6ZmE5Lu25aSn5bCP6ZmQ5Yi2KDEwME0pXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbmV3RmlsZSA9IG5ldyBGUy5GaWxlKCk7XG4gICAgICAgIHJldHVybiBuZXdGaWxlLmF0dGFjaERhdGEocmVxLmZpbGVzWzBdLmRhdGEsIHtcbiAgICAgICAgICB0eXBlOiByZXEuZmlsZXNbMF0ubWltZVR5cGVcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgdmFyIGJvZHksIGUsIGZpbGVPYmosIGZpbGVuYW1lLCBtZXRhZGF0YSwgcGFyZW50LCByLCByZXN1bHQsIHNpemU7XG4gICAgICAgICAgZmlsZW5hbWUgPSByZXEuZmlsZXNbMF0uZmlsZW5hbWU7XG4gICAgICAgICAgaWYgKFtcImltYWdlLmpwZ1wiLCBcImltYWdlLmdpZlwiLCBcImltYWdlLmpwZWdcIiwgXCJpbWFnZS5wbmdcIl0uaW5jbHVkZXMoZmlsZW5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIGZpbGVuYW1lID0gXCJpbWFnZS1cIiArIG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoJ1lZWVlNTURESEhtbXNzJykgKyBcIi5cIiArIGZpbGVuYW1lLnNwbGl0KCcuJykucG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJvZHkgPSByZXEuYm9keTtcbiAgICAgICAgICBib2R5Wydvd25lciddID0gaW5zdGFuY2Uuc3VibWl0dGVyO1xuICAgICAgICAgIGJvZHlbJ293bmVyX25hbWUnXSA9IGluc3RhbmNlLnN1Ym1pdHRlcl9uYW1lO1xuICAgICAgICAgIGJvZHlbJ3NwYWNlJ10gPSBzcGFjZV9pZDtcbiAgICAgICAgICBib2R5WydpbnN0YW5jZSddID0gaW5zX2lkO1xuICAgICAgICAgIGJvZHlbJ2FwcHJvdmUnXSA9IGFwcHJvdmVfaWQ7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChib2R5ICYmIChib2R5Wyd1cGxvYWRfZnJvbSddID09PSBcIklFXCIgfHwgYm9keVsndXBsb2FkX2Zyb20nXSA9PT0gXCJub2RlXCIpKSB7XG4gICAgICAgICAgICAgIGZpbGVuYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihmaWxlbmFtZSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKC8lL2csIFwiLVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3RmlsZS5uYW1lKGZpbGVuYW1lKTtcbiAgICAgICAgICBpZiAoYm9keSAmJiBib2R5Wydvd25lciddICYmIGJvZHlbJ293bmVyX25hbWUnXSAmJiBib2R5WydzcGFjZSddICYmIGJvZHlbJ2luc3RhbmNlJ10gJiYgYm9keVsnYXBwcm92ZSddKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSAnJztcbiAgICAgICAgICAgIG1ldGFkYXRhID0ge1xuICAgICAgICAgICAgICBvd25lcjogYm9keVsnb3duZXInXSxcbiAgICAgICAgICAgICAgb3duZXJfbmFtZTogYm9keVsnb3duZXJfbmFtZSddLFxuICAgICAgICAgICAgICBzcGFjZTogYm9keVsnc3BhY2UnXSxcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IGJvZHlbJ2luc3RhbmNlJ10sXG4gICAgICAgICAgICAgIGFwcHJvdmU6IGJvZHlbJ2FwcHJvdmUnXSxcbiAgICAgICAgICAgICAgY3VycmVudDogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChib2R5W1wiaXNfcHJpdmF0ZVwiXSAmJiBib2R5W1wiaXNfcHJpdmF0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICBtZXRhZGF0YS5pc19wcml2YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1ldGFkYXRhLmlzX3ByaXZhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib2R5WydtYWluJ10gPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgIG1ldGFkYXRhLm1haW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvZHlbJ2lzQWRkVmVyc2lvbiddICYmIGJvZHlbJ3BhcmVudCddKSB7XG4gICAgICAgICAgICAgIHBhcmVudCA9IGJvZHlbJ3BhcmVudCddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICByID0gY29sbGVjdGlvbi51cGRhdGUoe1xuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAkdW5zZXQ6IHtcbiAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICBpZiAoYm9keVsnbG9ja2VkX2J5J10gJiYgYm9keVsnbG9ja2VkX2J5X25hbWUnXSkge1xuICAgICAgICAgICAgICAgICAgbWV0YWRhdGEubG9ja2VkX2J5ID0gYm9keVsnbG9ja2VkX2J5J107XG4gICAgICAgICAgICAgICAgICBtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSA9IGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgICAgICBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQobmV3RmlsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGJvZHlbXCJvdmVyd3JpdGVcIl0gJiYgYm9keVtcIm92ZXJ3cml0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5yZW1vdmUoe1xuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBib2R5WydpbnN0YW5jZSddLFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEub3duZXInOiBib2R5Wydvd25lciddLFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuYXBwcm92ZSc6IGJvZHlbJ2FwcHJvdmUnXSxcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgICBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQobmV3RmlsZSk7XG4gICAgICAgICAgICAgIGZpbGVPYmoudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICAgICAnbWV0YWRhdGEucGFyZW50JzogZmlsZU9iai5faWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQobmV3RmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNpemUgPSBmaWxlT2JqLm9yaWdpbmFsLnNpemU7XG4gICAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICBzaXplID0gMTAyNDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICBhdHRhY2hfaWQ6IGZpbGVPYmouX2lkLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZVxuICAgICAgICAgIH07XG4gICAgICAgICAgcmVzLnNldEhlYWRlcihcIngtYW16LXZlcnNpb24taWRcIiwgZmlsZU9iai5faWQpO1xuICAgICAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IFwibmVlZCBmaWxlXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZGVsZXRlXCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdHRhY2hfaWQsIGNvbGxlY3Rpb24sIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZpbGUsIGhhc2hEYXRhLCBpbnNfaWQsIGluc3RhbmNlLCByZXN1bHQsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73liKDpmaTpmYTku7YnKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keSB8fCB7fTtcbiAgICBhdHRhY2hfaWQgPSBoYXNoRGF0YVtcImF0dGFjaF9pZFwiXTtcbiAgICBpZiAoIWF0dGFjaF9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGF0dGFjaF9pZCcpO1xuICAgIH1cbiAgICBjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlcztcbiAgICBmaWxlID0gY29sbGVjdGlvbi5maW5kT25lKHtcbiAgICAgIF9pZDogYXR0YWNoX2lkLFxuICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zX2lkXG4gICAgfSk7XG4gICAgaWYgKGZpbGUpIHtcbiAgICAgIGZpbGUucmVtb3ZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+atpOmZhOS7tuS4jeWxnuS6juatpOeUs+ivt+WNle+8jOaIluW3suiiq+WIoOmZpCcpO1xuICAgIH1cbiAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmF0dGFjaF9pZFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXR0YWNoX2lkLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBzcGFjZV9pZDtcbiAgdHJ5IHtcbiAgICBhdHRhY2hfaWQgPSByZXEucGFyYW1zLmF0dGFjaF9pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICByZXMuc3RhdHVzQ29kZSA9IDMwMjtcbiAgICByZXMuc2V0SGVhZGVyKFwiTG9jYXRpb25cIiwgU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9pbnN0YW5jZXMvXCIpICsgYXR0YWNoX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiKTtcbiAgICByZXR1cm4gcmVzLmVuZCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9mb3J3YXJkX3JlZmlsbFwiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdGNvbnNvbGUubG9nIFwiPT09PT09PT095Zue5aGr5a2Q6KGoPT09PT09PT09PVwiXG5cdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIixyZXE/LnF1ZXJ5Py5zdWJUYWJsZVxuXHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWIhuWPkeWbnuWhq+eahOWIlz09PT09PT09PT1cIlxuXHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LmNvbHVtblwiLHJlcT8ucXVlcnk/LmNvbHVtblxuXG5cdGNvbHVtbnMgPSByZXE/LnF1ZXJ5Py5jb2x1bW4uc3BsaXQoJzsnKVxuXHRjb25zb2xlLmxvZyBcImNvbHVtbnNcIixjb2x1bW5zXG5cblxuXHQjIOWIhuWPkeeahOeUs+ivt+WNlVxuXHRmb3J3YXJkX2lucyA9IHJlcT8uYm9keT8uaW5zdGFuY2VcblxuXHRzdWJUYWJsZSA9IHJlcT8ucXVlcnk/LnN1YlRhYmxlXG5cblx0aWYgZm9yd2FyZF9pbnM/LnN0YXRlID09IFwiY29tcGxldGVkXCIgJiYgZm9yd2FyZF9pbnM/LmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXM/Lmxlbmd0aD4wICYmIHN1YlRhYmxlICYmIGNvbHVtbnNcblx0XHRcblx0XHQjIOWIhuWPkeWbnuadpeeahOWAvFxuXHRcdGZvcndhcmRfaW5zX3ZhbHVlcyA9IGZvcndhcmRfaW5zPy52YWx1ZXNcblxuXHRcdCMgIyDljp/nlLPor7fljZXlrZfmrrVcblx0XHRvcmlnaW5hbF9pbnNfaWQgPSBfLmxhc3QgZm9yd2FyZF9pbnM/LmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcblx0XHRvcmlnaW5hbF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvcmlnaW5hbF9pbnNfaWQpXG5cdFx0b3JpZ2luYWxfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9yaWdpbmFsX2lucz8uZm9ybSlcblxuXHRcdG9yaWdpbmFsX2luc19maWVsZHMgPSBbXVxuXHRcdG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IFtdXG5cblx0XHRjb25zb2xlLmxvZyBcIm9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcIixvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXG5cdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvblwiLG9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uXG5cblx0XHQjIOafpeeci+WOn+eUs+ivt+WNleaYr+WQpuacieWvueW6lOeahOWtkOihqFxuXHRcdGlmIG9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uID09IG9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcblx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMgPSBvcmlnaW5hbF9pbnNfZm9ybS5jdXJyZW50Py5maWVsZHNcblx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaCAob3JpZ2luYWxfaW5zX2ZpZWxkKS0+XG5cdFx0XHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfaW5zX2ZpZWxkXCIsb3JpZ2luYWxfaW5zX2ZpZWxkPy5jb2RlXG5cdFx0XHRcdGlmIG9yaWdpbmFsX2luc19maWVsZD8uY29kZSA9PSBzdWJUYWJsZSAmJiBvcmlnaW5hbF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZD8uZmllbGRzXG5cdFx0ZWxzZVxuXHRcdFx0aWYgb3JpZ2luYWxfaW5zX2Zvcm0/Lmhpc3RvcnlzPy5sZW5ndGggPiAwXG5cdFx0XHRcdG9yaWdpbmFsX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2ggKG9oKS0+XG5cdFx0XHRcdFx0aWYgb3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb24gPT0gb2guX2lkXG5cdFx0XHRcdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzID0gb2g/LmZpZWxkc1xuXHRcdFx0XHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoIChvcmlnaW5hbF9pbnNfZmllbGQpLT5cblx0XHRcdFx0XHRcdFx0aWYgb3JpZ2luYWxfaW5zX2ZpZWxkPy5jb2RlID09IHN1YlRhYmxlICYmIG9yaWdpbmFsX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkPy5maWVsZHNcblxuXHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfc3VidGFibGVfZmllbGRzXCIsb3JpZ2luYWxfc3VidGFibGVfZmllbGRzPy5sZW5ndGhcblxuXHRcdGlmIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkc1xuXHRcdFx0IyAjIOabtOaWsOatpemqpOeahOWAvFxuXHRcdFx0IyAxLuaJvuWIsOW9k+WJjeeahOatpemqpFxuXHRcdFx0IyAyLuW9k+WJjeatpemqpOS4rWFwcHJvdmVz5Lit55qEdmFsdWVzXG5cdFx0XHQjIDMu5ZyodmFsdWVz5Lit5om+5Yiw6KGo5qC8XG5cdFx0XHQjIDQu5qC55o2u6KGo5qC855qEZmllbGRz5bGe5oCn77yM5LiA5Liq5Liq55qE6LWL5YC8XG5cdFx0XHQjIDUu5oqK5aSN5Yi255qEcHVzaOWIsOihqOagvOaVsOe7hOeahOWQjumdolxuXHRcdFx0dHJhY2VzID0gb3JpZ2luYWxfaW5zPy50cmFjZXNcblxuXHRcdFx0dHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXVxuXG5cdFx0XHRhcHByb3ZlID0gdHJhY2U/LmFwcHJvdmVzWzBdXG5cblx0XHRcdHRhYmxlX2RhdGEgPSBhcHByb3ZlPy52YWx1ZXNbc3ViVGFibGVdIHx8IFtdXG5cblx0XHRcdHJvd19kYXRhID0ge31cblxuXHRcdFx0Y29sdW1ucy5mb3JFYWNoIChjb2x1bW4pLT5cblx0XHRcdFx0cm93X2RhdGFbY29sdW1uXSA9IGZvcndhcmRfaW5zX3ZhbHVlc1tjb2x1bW5dIHx8IFwiXCJcblx0XHRcdFxuXHRcdFx0XG5cdFx0XHRpZiByb3dfZGF0YSAmJiByb3dfZGF0YSAhPSB7fVxuXHRcdFx0XHR0YWJsZV9kYXRhLnB1c2ggcm93X2RhdGFcblx0XHRcdFx0dHJhY2VzW3RyYWNlcy5sZW5ndGgtMV0uYXBwcm92ZXNbMF0udmFsdWVzW3N1YlRhYmxlXSA9IHRhYmxlX2RhdGFcblxuXHRcdFx0XHRjb25zb2xlLmxvZyB0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdXG5cblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZShvcmlnaW5hbF9pbnNfaWQse1xuXHRcdFx0XHRcdCRzZXQ6e1xuXHRcdFx0XHRcdFx0J3RyYWNlcyc6dHJhY2VzXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0XHQnc3VjY2Vzcyc6ICflm57loavmiJDlip8nXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0J2luZm8nOiAn5Zue5aGr5pWw5o2u5Li656m6J1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0ZWxzZVxuXHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHQnZXJyb3InOiAn5Y6f55Sz6K+35Y2V5peg55u45YWz5a2Q6KGoJ1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdGVsc2Vcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdzdWNjZXNzJzogJ+eUs+ivt+WNleacque7k+adnydcblx0XHRcdH1cblx0XHR9XG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9mb3J3YXJkX3JlZmlsbFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXBwcm92ZSwgY29sdW1ucywgZm9yd2FyZF9pbnMsIGZvcndhcmRfaW5zX3ZhbHVlcywgb3JpZ2luYWxfaW5zLCBvcmlnaW5hbF9pbnNfZmllbGRzLCBvcmlnaW5hbF9pbnNfZm9ybSwgb3JpZ2luYWxfaW5zX2lkLCBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVmNiwgcmVmNywgcmVmOCwgcmVmOSwgcm93X2RhdGEsIHN1YlRhYmxlLCB0YWJsZV9kYXRhLCB0cmFjZSwgdHJhY2VzO1xuICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWbnuWhq+WtkOihqD09PT09PT09PT1cIik7XG4gIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgY29uc29sZS5sb2coXCI9PT09PT09PT3liIblj5Hlm57loavnmoTliJc9PT09PT09PT09XCIpO1xuICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LmNvbHVtblwiLCByZXEgIT0gbnVsbCA/IChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5jb2x1bW4gOiB2b2lkIDAgOiB2b2lkIDApO1xuICBjb2x1bW5zID0gcmVxICE9IG51bGwgPyAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuY29sdW1uLnNwbGl0KCc7JykgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIGNvbnNvbGUubG9nKFwiY29sdW1uc1wiLCBjb2x1bW5zKTtcbiAgZm9yd2FyZF9pbnMgPSByZXEgIT0gbnVsbCA/IChyZWYzID0gcmVxLmJvZHkpICE9IG51bGwgPyByZWYzLmluc3RhbmNlIDogdm9pZCAwIDogdm9pZCAwO1xuICBzdWJUYWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY0LnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICBpZiAoKGZvcndhcmRfaW5zICE9IG51bGwgPyBmb3J3YXJkX2lucy5zdGF0ZSA6IHZvaWQgMCkgPT09IFwiY29tcGxldGVkXCIgJiYgKGZvcndhcmRfaW5zICE9IG51bGwgPyAocmVmNSA9IGZvcndhcmRfaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpICE9IG51bGwgPyByZWY1Lmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwICYmIHN1YlRhYmxlICYmIGNvbHVtbnMpIHtcbiAgICBmb3J3YXJkX2luc192YWx1ZXMgPSBmb3J3YXJkX2lucyAhPSBudWxsID8gZm9yd2FyZF9pbnMudmFsdWVzIDogdm9pZCAwO1xuICAgIG9yaWdpbmFsX2luc19pZCA9IF8ubGFzdChmb3J3YXJkX2lucyAhPSBudWxsID8gZm9yd2FyZF9pbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyA6IHZvaWQgMCk7XG4gICAgb3JpZ2luYWxfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob3JpZ2luYWxfaW5zX2lkKTtcbiAgICBvcmlnaW5hbF9pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMuZm9ybSA6IHZvaWQgMCk7XG4gICAgb3JpZ2luYWxfaW5zX2ZpZWxkcyA9IFtdO1xuICAgIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IFtdO1xuICAgIGNvbnNvbGUubG9nKFwib3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFwiLCBvcmlnaW5hbF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjYgPSBvcmlnaW5hbF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmNi5faWQgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwib3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb25cIiwgb3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKTtcbiAgICBpZiAoKG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IChvcmlnaW5hbF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjcgPSBvcmlnaW5hbF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmNy5faWQgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICBvcmlnaW5hbF9pbnNfZmllbGRzID0gKHJlZjggPSBvcmlnaW5hbF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmOC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICBvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob3JpZ2luYWxfaW5zX2ZpZWxkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwib3JpZ2luYWxfaW5zX2ZpZWxkXCIsIG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApO1xuICAgICAgICBpZiAoKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBzdWJUYWJsZSAmJiAob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKChvcmlnaW5hbF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjkgPSBvcmlnaW5hbF9pbnNfZm9ybS5oaXN0b3J5cykgIT0gbnVsbCA/IHJlZjkubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgb3JpZ2luYWxfaW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbihvaCkge1xuICAgICAgICAgIGlmICgob3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gb2guX2lkKSB7XG4gICAgICAgICAgICBvcmlnaW5hbF9pbnNfZmllbGRzID0gb2ggIT0gbnVsbCA/IG9oLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob3JpZ2luYWxfaW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgIGlmICgob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IHN1YlRhYmxlICYmIChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwib3JpZ2luYWxfc3VidGFibGVfZmllbGRzXCIsIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyAhPSBudWxsID8gb3JpZ2luYWxfc3VidGFibGVfZmllbGRzLmxlbmd0aCA6IHZvaWQgMCk7XG4gICAgaWYgKG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcykge1xuICAgICAgdHJhY2VzID0gb3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMudHJhY2VzIDogdm9pZCAwO1xuICAgICAgdHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdO1xuICAgICAgYXBwcm92ZSA9IHRyYWNlICE9IG51bGwgPyB0cmFjZS5hcHByb3Zlc1swXSA6IHZvaWQgMDtcbiAgICAgIHRhYmxlX2RhdGEgPSAoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS52YWx1ZXNbc3ViVGFibGVdIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgIHJvd19kYXRhID0ge307XG4gICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgIHJldHVybiByb3dfZGF0YVtjb2x1bW5dID0gZm9yd2FyZF9pbnNfdmFsdWVzW2NvbHVtbl0gfHwgXCJcIjtcbiAgICAgIH0pO1xuICAgICAgaWYgKHJvd19kYXRhICYmIHJvd19kYXRhICE9PSB7fSkge1xuICAgICAgICB0YWJsZV9kYXRhLnB1c2gocm93X2RhdGEpO1xuICAgICAgICB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdLmFwcHJvdmVzWzBdLnZhbHVlc1tzdWJUYWJsZV0gPSB0YWJsZV9kYXRhO1xuICAgICAgICBjb25zb2xlLmxvZyh0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdLmFwcHJvdmVzWzBdLnZhbHVlc1tzdWJUYWJsZV0pO1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKG9yaWdpbmFsX2luc19pZCwge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICd0cmFjZXMnOiB0cmFjZXNcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAnc3VjY2Vzcyc6ICflm57loavmiJDlip8nXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICdpbmZvJzogJ+WbnuWhq+aVsOaNruS4uuepuidcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAnZXJyb3InOiAn5Y6f55Sz6K+35Y2V5peg55u45YWz5a2Q6KGoJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ3N1Y2Nlc3MnOiAn55Sz6K+35Y2V5pyq57uT5p2fJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF90YWJsZV9yZWZpbGxcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWOn+ihqOWtkOihqD09PT09PT09PT1cIlxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8ub1RhYmxlXCIscmVxPy5xdWVyeT8ub1RhYmxlXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3njrDooajlrZDooag9PT09PT09PT09XCJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LmRUYWJsZVwiLHJlcT8ucXVlcnk/LmRUYWJsZVxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT095Y6f6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcIixyZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeeOsOihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIlxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uZE1hdGNoQ29sXCIscmVxPy5xdWVyeT8uZE1hdGNoQ29sXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3pnIDopoHlm57loavnmoTliJc9PT09PT09PT09XCJcdFxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8ucmVmaWxsQ29sXCIscmVxPy5xdWVyeT8ucmVmaWxsQ29sXG5cblx0XHQjIOWIhuWPkeeahOeUs+ivt+WNlVxuXHRcdGRfaW5zID0gcmVxPy5ib2R5Py5pbnN0YW5jZVxuXG5cdFx0XG5cdFx0aWYgZF9pbnM/LnN0YXRlID09IFwiY29tcGxldGVkXCJcblx0XHRcdGlmIHJlcT8ucXVlcnk/Lm9UYWJsZVxuXHRcdFx0XHRvX3RhYmxlID0gcmVxPy5xdWVyeT8ub1RhYmxlXG5cdFx0XHRcdGlmIHJlcT8ucXVlcnk/LmRUYWJsZVxuXHRcdFx0XHRcdGRfdGFibGUgPSByZXE/LnF1ZXJ5Py5kVGFibGVcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdGRfdGFibGUgPSBvX3RhYmxlXG5cdFx0XHRcdGlmIHJlcT8ucXVlcnk/LmFUYWJsZVxuXHRcdFx0XHRcdGFfdGFibGUgPSByZXE/LnF1ZXJ5Py5hVGFibGVcblx0XHRcdFx0aWYgcmVxPy5xdWVyeT8ub01hdGNoQ29sXG5cdFx0XHRcdFx0b19tYXRjaF9jb2wgPSByZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcblx0XHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sID0gcmVxPy5xdWVyeT8uZE1hdGNoQ29sXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2wgPSBvX21hdGNoX2NvbFxuXHRcdFx0XHRcdGNvbHVtbnMgPSByZXE/LnF1ZXJ5Py5yZWZpbGxDb2wuc3BsaXQoJzsnKSB8fCBbXVxuXHRcdFx0XHRcdGNvbnNvbGUubG9nIFwiY29sdW1uc1wiLGNvbHVtbnNcdFx0XHRcdFx0XG5cblx0XHRcdFx0XHRpZiBjb2x1bW5zIHx8IGNvbHVtbnMubGVuZ3RoPDFcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT09PT09PT09PT09PT09PVwiXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyBkX3RhYmxlLCBvX21hdGNoX2NvbCwgY29sdW1uc1xuXG5cdFx0XHRcdFx0XHQjIOWIhuWPkeWbnuadpeeahOWAvFxuXHRcdFx0XHRcdFx0ZF9pbnNfdmFsdWVzID0gZF9pbnM/LnZhbHVlc1xuXG5cdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNlSBmb3JtIOihqOWtl+autVxuXHRcdFx0XHRcdFx0b19pbnNfaWQgPSBfLmxhc3QgZF9pbnM/LmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcblx0XHRcdFx0XHRcdG9faW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob19pbnNfaWQpXG5cdFx0XHRcdFx0XHRvX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvX2lucz8uZm9ybSlcblxuXHRcdFx0XHRcdFx0ZF9pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZF9pbnM/LmZvcm0pXG5cblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qEIGZpZWxkc1xuXHRcdFx0XHRcdFx0b19pbnNfZmllbGRzID0gW11cblxuXHRcdFx0XHRcdFx0IyDljp/lrZDooajlrZfmrrVcblx0XHRcdFx0XHRcdG9fc3VidGFibGVfZmllbGRzID0gW11cblxuXHRcdFx0XHRcdFx0IyDliIblj5HnlLPor7fljZXnmoQgZmllbGRzXG5cdFx0XHRcdFx0XHRkX2luc19maWVsZHMgPSBbXVxuXHRcdFx0XHRcdFx0IyDnjrDnlLPor7fljZXlrZfooajlrZfmrrVcblx0XHRcdFx0XHRcdGRfc3VidGFibGVfZmllbGRzID0gW11cblxuXHRcdFx0XHRcdFx0IyDotYvlgLzlr7nlupTnmoTlrZfmrrVcblx0XHRcdFx0XHRcdGNvbHVtbl9saXN0ID0gW11cblxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQjIOWIhuWPkeWQjueUs+ivt+WNleeahCDlrZDooajlgLxcblx0XHRcdFx0XHRcdGRfdGFibGVfdmFsdWVzID0gW11cblxuXHRcdFx0XHRcdFx0IyDmn6XnnIvljp/nlLPor7fljZXmmK/lkKbmnInlr7nlupTnmoTlrZDooahcblx0XHRcdFx0XHRcdGlmIG9faW5zPy5mb3JtX3ZlcnNpb24gPT0gb19pbnNfZm9ybT8uY3VycmVudD8uX2lkXG5cdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcyA9IG9faW5zX2Zvcm0/LmN1cnJlbnQ/LmZpZWxkc1xuXHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMuZm9yRWFjaCAob19pbnNfZmllbGQpLT5cblx0XHRcdFx0XHRcdFx0XHRpZiBvX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIG9faW5zX2ZpZWxkPy5jb2RlID09IG9fdGFibGVcblx0XHRcdFx0XHRcdFx0XHRcdG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQ/LmZpZWxkc1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRpZiBvX2luc19mb3JtPy5oaXN0b3J5cz8ubGVuZ3RoID4gMFxuXHRcdFx0XHRcdFx0XHRcdG9faW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaCAob2gpLT5cblx0XHRcdFx0XHRcdFx0XHRcdGlmIG9faW5zPy5mb3JtX3ZlcnNpb24gPT0gb2guX2lkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcyA9IG9oPy5maWVsZHNcblx0XHRcdFx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzLmZvckVhY2ggKG9faW5zX2ZpZWxkKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgb19pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBvX2luc19maWVsZD8uY29kZSA9PSBvX3RhYmxlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkPy5maWVsZHNcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0IyDmn6XnnIvliIblj5HnmoTnlLPor7fljZXmmK/lkKbmnInlr7nlupTnmoTlrZfooahcblx0XHRcdFx0XHRcdGlmIGRfaW5zPy5mb3JtX3ZlcnNpb24gPT0gZF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXG5cdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcyA9IGRfaW5zX2Zvcm0/LmN1cnJlbnQ/LmZpZWxkc1xuXHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMuZm9yRWFjaCAoZF9pbnNfZmllbGQpLT5cblx0XHRcdFx0XHRcdFx0XHRpZigoZF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBkX2luc19maWVsZD8uY29kZSA9PSBkX3RhYmxlKXx8KGFfdGFibGUgJiYgZF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBkX2luc19maWVsZD8uY29kZSA9PSBhX3RhYmxlKSlcblx0XHRcdFx0XHRcdFx0XHRcdGRfc3VidGFibGVfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuY29uY2F0IGRfaW5zX2ZpZWxkPy5maWVsZHNcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0aWYgZF9pbnNfZm9ybT8uaGlzdG9yeXM/Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRcdFx0XHRkX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2ggKGRoKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBkX2lucz8uZm9ybV92ZXJzaW9uID09IGRoLl9pZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMgPSBkaD8uZmllbGRzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcy5mb3JFYWNoIChkX2luc19maWVsZCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKChkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGRfdGFibGUpfHwoYV90YWJsZSAmJiBkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGFfdGFibGUpKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQgZF9pbnNfZmllbGQ/LmZpZWxkc1xuXHRcdFx0XHRcdFx0XG5cblx0XHRcdFx0XHRcdFxuXG5cdFx0XHRcdFx0XHRpZiBvX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyBcIm9fc3VidGFibGVfZmllbGRzXCIsb19zdWJ0YWJsZV9maWVsZHNcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRpZiBkX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XG5cblx0XHRcdFx0XHRcdGRfdGFibGVfdmFsdWVzID0gZF9pbnM/LnZhbHVlc1tkX3RhYmxlXSB8fCBbXVxuXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGlmIGFfdGFibGVcblx0XHRcdFx0XHRcdFx0YV90YWJsZV92YWx1ZXMgPSAgZF9pbnM/LnZhbHVlc1thX3RhYmxlXSB8fCBbXVxuXHRcdFx0XHRcdFx0XHRpZiBhX3RhYmxlX3ZhbHVlcyAmJiBhX3RhYmxlX3ZhbHVlcz8ubGVuZ3RoPT1kX3RhYmxlX3ZhbHVlcz8ubGVuZ3RoXG5cdFx0XHRcdFx0XHRcdFx0YV90YWJsZV92YWx1ZXMuZm9yRWFjaCAoYV9yb3csaW5kZXgpLT5cblx0XHRcdFx0XHRcdFx0XHRcdGRfdGFibGVfdmFsdWVzW2luZGV4XVtrZXldID0gdmFsdWUgZm9yIGtleSx2YWx1ZSBvZiBhX3Jvd1xuXG5cdFx0XHRcdFx0XHRpZiBkX3RhYmxlX3ZhbHVlcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5pWw5o2u5Li656m6Jyk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdG9fbWF0Y2hfY29sX2ZpZWxkcyA9IG9fc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PW9fbWF0Y2hfY29sKVxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2xfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09ZF9tYXRjaF9jb2wpXG5cblx0XHRcdFx0XHRcdCMg5Yy56YWN5YiX5Yik5patXG5cdFx0XHRcdFx0XHRpZiBvX21hdGNoX2NvbF9maWVsZHMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xuXG5cdFx0XHRcdFx0XHRpZiBkX21hdGNoX2NvbF9maWVsZHMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xuXG5cdFx0XHRcdFx0XHQjIOWIpOaWreWMuemFjeWIl+Wtl+auteeahOWAvOexu+Wei+aYr+WQpuS4gOiHtFxuXHRcdFx0XHRcdFx0b19tYXRjaF9jb2xfZmllbGQgPSBvX21hdGNoX2NvbF9maWVsZHNbMF1cblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sX2ZpZWxkID0gZF9tYXRjaF9jb2xfZmllbGRzWzBdXG5cblx0XHRcdFx0XHRcdGlmIG9fbWF0Y2hfY29sX2ZpZWxkPy50eXBlICE9IGRfbWF0Y2hfY29sX2ZpZWxkPy50eXBlXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlkozljp/nlLPor7fljZXlrZDooajnmoTljLnphY3liJflrZfmrrXkuI3kuIDoh7QnKTtcblxuXHRcdFx0XHRcdFx0IyDlm57loavliJfliKTmlq1cblx0XHRcdFx0XHRcdGNvbHVtbnMuZm9yRWFjaCAoY29sdW1uKS0+XG5cdFx0XHRcdFx0XHRcdGNvbHMgPSBjb2x1bW4uc3BsaXQoJy0nKSB8fCBbXVxuXHRcdFx0XHRcdFx0XHRpZiBjb2xzLmxlbmd0aCA9PSAyXG5cdFx0XHRcdFx0XHRcdFx0b19jb2wgPSBjb2xzWzBdXG5cdFx0XHRcdFx0XHRcdFx0ZF9jb2wgPSBjb2xzWzFdXG5cdFx0XHRcdFx0XHRcdFx0b19jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09b19jb2wpXG5cdFx0XHRcdFx0XHRcdFx0ZF9jb2xfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09ZF9jb2wpXG5cblx0XHRcdFx0XHRcdFx0XHQjIOWIpOaWreaYr+WQpuacieWvueW6lOeahOWbnuWhq+WIl1xuXHRcdFx0XHRcdFx0XHRcdGlmIG9fY29sX2ZpZWxkcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgZF9jb2xfZmllbGRzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Zue5aGr5YiXJyk7XG5cblx0XHRcdFx0XHRcdFx0XHQjIOWIpOaWreWMuemFjeWIl+Wtl+auteeahOWAvOexu+Wei+aYr+WQpuS4gOiHtFxuXHRcdFx0XHRcdFx0XHRcdGlmIG9fY29sX2ZpZWxkcz8udHlwZSAhPSBkX2NvbF9maWVsZHM/LnR5cGVcblx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJflrZfmrrXnsbvlnovkuI3kuIDoh7QnKTtcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRjb2wgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvX2NvbDogb19jb2wsXG5cdFx0XHRcdFx0XHRcdFx0XHRkX2NvbDogZF9jb2xcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QucHVzaCBjb2xcblxuXHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+S4jeWMuemFjScpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQjIOi1i+WAvFxuXHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyAgJz09PT09PWNvbHVtbl9saXN0PT09PT09PScsY29sdW1uX2xpc3RcblxuXHRcdFx0XHRcdFx0dHJhY2VzID0gb19pbnM/LnRyYWNlc1xuXG5cdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNleeahCBzdGVwIFxuXHRcdFx0XHRcdFx0dHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXVxuXG5cdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNleeahOW9k+WJjeatpemqpFxuXHRcdFx0XHRcdFx0YXBwcm92ZSA9IHRyYWNlPy5hcHByb3Zlc1swXVxuXG5cdFx0XHRcdFx0XHQjIOWFg+eUs+ivt+WNleeahOW9k+WJjSB2YWx1ZSDnmoQg5a2Q6KGoXG5cdFx0XHRcdFx0XHR0YWJsZV9kYXRhID0gYXBwcm92ZT8udmFsdWVzW29fdGFibGVdIHx8IFtdXG5cblxuXHRcdFx0XHRcdFx0IyDmoLnmja4gY29sdW1uX2xpc3Qg6LWL5YC85a+55bqU5a2X5q616L+b6KGM6LWL5YC8XG5cdFx0XHRcdFx0XHQjIOW+queOr+WIhuWPkeeUs+ivt+WNleeahOavj+ihjFxuXHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXMuZm9yRWFjaCAoZF9yb3cpLT5cblx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImRfcm93XCIsZF9yb3dcblx0XHRcdFx0XHRcdFx0IyDmn6Xmib7ljLnphY3nmoTliJfmmK/lkKbkuI7lvZPliY3nmoTljLnphY3liJfkuIDoh7Rcblx0XHRcdFx0XHRcdFx0aGFzX29iaiA9IGZhbHNlXG5cdFx0XHRcdFx0XHRcdGNvdW50ID0gLTFcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdCMg55yL5Y6f5a2Q6KGo5piv5ZCm5pyJ6K+l5Yy56YWN5YiXXG5cdFx0XHRcdFx0XHRcdHRhYmxlX2RhdGEuZm9yRWFjaCAob19yb3csIGluZGV4KS0+XG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcIm9fcm93XCIsIG9fcm93XG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImluZGV4XCIsaW5kZXhcblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwib19yb3dbb19tYXRjaF9jb2xdXCIsb19yb3dbb19tYXRjaF9jb2xdXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImRfcm93W2RfbWF0Y2hfY29sXVwiLGRfcm93W2RfbWF0Y2hfY29sXVxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJvX3Jvd1tvX21hdGNoX2NvbF0gPT0gZF9yb3dbZF9tYXRjaF9jb2xdXCIsb19yb3dbb19tYXRjaF9jb2xdID09IGRfcm93W2RfbWF0Y2hfY29sXVxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgb19yb3dbb19tYXRjaF9jb2xdID09IGRfcm93W2RfbWF0Y2hfY29sXVxuXHRcdFx0XHRcdFx0XHRcdFx0aGFzX29iaiA9IHRydWVcblx0XHRcdFx0XHRcdFx0XHRcdGNvdW50ID0gaW5kZXhcblxuXHRcdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNleeahOWMuemFjeWtl+auteacieWAvFxuXHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiaGFzX29ialwiLGhhc19vYmpcblx0XHRcdFx0XHRcdFx0aWYgaGFzX29iaj09dHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdGNvbHVtbl9saXN0LmZvckVhY2ggKGNvbCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0dGFibGVfZGF0YVtjb3VudF1bY29sPy5vX2NvbF0gPSBkX3Jvd1tjb2w/LmRfY29sXVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdHJvd19kYXRhID0ge31cblx0XHRcdFx0XHRcdFx0XHRyb3dfZGF0YVtvX21hdGNoX2NvbF0gPSBkX3Jvd1tkX21hdGNoX2NvbF1cblx0XHRcdFx0XHRcdFx0XHRjb2x1bW5fbGlzdC5mb3JFYWNoIChjb2wpLT5cblx0XHRcdFx0XHRcdFx0XHRcdHJvd19kYXRhW2NvbD8ub19jb2xdID0gZF9yb3dbY29sPy5kX2NvbF1cblx0XHRcdFx0XHRcdFx0XHR0YWJsZV9kYXRhLnB1c2ggcm93X2RhdGFcblxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHR0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXMgPSBvX2lucz8udmFsdWVzXG5cdFx0XHRcdFx0XHR0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXNbb190YWJsZV0gPSB0YWJsZV9kYXRhXG5cblx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUob19pbnNfaWQse1xuXHRcdFx0XHRcdFx0XHQkc2V0Ontcblx0XHRcdFx0XHRcdFx0XHQndHJhY2VzJzp0cmFjZXNcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pXG5cblx0XHRcdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdFx0XHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0XHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0XHRcdFx0J3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWtkOihqOWbnuWhq+WIl+Wtl+autSBjb2x1bW5zIOWAvCcpO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljLnphY3liJflrZfmrrUgb01hdGNoQ29sIOWAvCcpO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWOn+ihqOWNleWtkOihqCBvVGFibGUg5YC8Jyk7XG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+eUs+ivt+WNleacque7k+adnycpO1xuXHRjYXRjaCBlXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRlcnJvcnM6IFtlXVxuXHRcdFx0fVxuXHRcdH1cbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfdGFibGVfcmVmaWxsXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhX3RhYmxlLCBhX3RhYmxlX3ZhbHVlcywgYXBwcm92ZSwgY29sdW1uX2xpc3QsIGNvbHVtbnMsIGRfaW5zLCBkX2luc19maWVsZHMsIGRfaW5zX2Zvcm0sIGRfaW5zX3ZhbHVlcywgZF9tYXRjaF9jb2wsIGRfbWF0Y2hfY29sX2ZpZWxkLCBkX21hdGNoX2NvbF9maWVsZHMsIGRfc3VidGFibGVfZmllbGRzLCBkX3RhYmxlLCBkX3RhYmxlX3ZhbHVlcywgZSwgb19pbnMsIG9faW5zX2ZpZWxkcywgb19pbnNfZm9ybSwgb19pbnNfaWQsIG9fbWF0Y2hfY29sLCBvX21hdGNoX2NvbF9maWVsZCwgb19tYXRjaF9jb2xfZmllbGRzLCBvX3N1YnRhYmxlX2ZpZWxkcywgb190YWJsZSwgcmVmLCByZWYxLCByZWYxMCwgcmVmMTEsIHJlZjEyLCByZWYxMywgcmVmMTQsIHJlZjE1LCByZWYxNiwgcmVmMTcsIHJlZjE4LCByZWYxOSwgcmVmMiwgcmVmMjAsIHJlZjIxLCByZWYyMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVmNiwgcmVmNywgcmVmOCwgcmVmOSwgdGFibGVfZGF0YSwgdHJhY2UsIHRyYWNlcztcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWOn+ihqOWtkOihqD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5vVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLm9UYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3njrDooajlrZDooag9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uZFRhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmRUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3ljp/ooajljZXnmoTlrZDooajljLnphY3liJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8ub01hdGNoQ29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLm9NYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3njrDooajljZXnmoTlrZDooajljLnphY3liJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uZE1hdGNoQ29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYzLmRNYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3pnIDopoHlm57loavnmoTliJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8ucmVmaWxsQ29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY0LnJlZmlsbENvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgZF9pbnMgPSByZXEgIT0gbnVsbCA/IChyZWY1ID0gcmVxLmJvZHkpICE9IG51bGwgPyByZWY1Lmluc3RhbmNlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICgoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnN0YXRlIDogdm9pZCAwKSA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY2Lm9UYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICBvX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmNyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjcub1RhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmOCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjguZFRhYmxlIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgICAgZF90YWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjkgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY5LmRUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkX3RhYmxlID0gb190YWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmMTAgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMC5hVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICBhX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmMTEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMS5hVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjEyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTIub01hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgICAgb19tYXRjaF9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWYxMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEzLm9NYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmMTQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxNC5kTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sID0gcmVxICE9IG51bGwgPyAocmVmMTUgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxNS5kTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sID0gb19tYXRjaF9jb2w7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbHVtbnMgPSAocmVxICE9IG51bGwgPyAocmVmMTYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxNi5yZWZpbGxDb2wuc3BsaXQoJzsnKSA6IHZvaWQgMCA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgY29uc29sZS5sb2coXCJjb2x1bW5zXCIsIGNvbHVtbnMpO1xuICAgICAgICAgIGlmIChjb2x1bW5zIHx8IGNvbHVtbnMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT09PT09PT09XCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZF90YWJsZSwgb19tYXRjaF9jb2wsIGNvbHVtbnMpO1xuICAgICAgICAgICAgZF9pbnNfdmFsdWVzID0gZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnZhbHVlcyA6IHZvaWQgMDtcbiAgICAgICAgICAgIG9faW5zX2lkID0gXy5sYXN0KGRfaW5zICE9IG51bGwgPyBkX2lucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIDogdm9pZCAwKTtcbiAgICAgICAgICAgIG9faW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob19pbnNfaWQpO1xuICAgICAgICAgICAgb19pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob19pbnMgIT0gbnVsbCA/IG9faW5zLmZvcm0gOiB2b2lkIDApO1xuICAgICAgICAgICAgZF9pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmZvcm0gOiB2b2lkIDApO1xuICAgICAgICAgICAgb19pbnNfZmllbGRzID0gW107XG4gICAgICAgICAgICBvX3N1YnRhYmxlX2ZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgZF9pbnNfZmllbGRzID0gW107XG4gICAgICAgICAgICBkX3N1YnRhYmxlX2ZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgY29sdW1uX2xpc3QgPSBbXTtcbiAgICAgICAgICAgIGRfdGFibGVfdmFsdWVzID0gW107XG4gICAgICAgICAgICBpZiAoKG9faW5zICE9IG51bGwgPyBvX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSAob19pbnNfZm9ybSAhPSBudWxsID8gKHJlZjE3ID0gb19pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMTcuX2lkIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICBvX2luc19maWVsZHMgPSBvX2luc19mb3JtICE9IG51bGwgPyAocmVmMTggPSBvX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYxOC5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIG9faW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9faW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgaWYgKChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gb190YWJsZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKChvX2luc19mb3JtICE9IG51bGwgPyAocmVmMTkgPSBvX2luc19mb3JtLmhpc3RvcnlzKSAhPSBudWxsID8gcmVmMTkubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICAgICAgICBvX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24ob2gpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgob19pbnMgIT0gbnVsbCA/IG9faW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IG9oLl9pZCkge1xuICAgICAgICAgICAgICAgICAgICBvX2luc19maWVsZHMgPSBvaCAhPSBudWxsID8gb2guZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb19pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob19pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBvX3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IChkX2luc19mb3JtICE9IG51bGwgPyAocmVmMjAgPSBkX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYyMC5faWQgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgIGRfaW5zX2ZpZWxkcyA9IGRfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYyMSA9IGRfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjIxLmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgZF9pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZF9pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gZF90YWJsZSkgfHwgKGFfdGFibGUgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBhX3RhYmxlKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRfc3VidGFibGVfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuY29uY2F0KGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoKGRfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYyMiA9IGRfaW5zX2Zvcm0uaGlzdG9yeXMpICE9IG51bGwgPyByZWYyMi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgICAgICAgIGRfaW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbihkaCkge1xuICAgICAgICAgICAgICAgICAgaWYgKChkX2lucyAhPSBudWxsID8gZF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gZGguX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRfaW5zX2ZpZWxkcyA9IGRoICE9IG51bGwgPyBkaC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihkX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICgoKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBkX3RhYmxlKSB8fCAoYV90YWJsZSAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGFfdGFibGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9fc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm9fc3VidGFibGVfZmllbGRzXCIsIG9fc3VidGFibGVfZmllbGRzKTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRfc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkX3RhYmxlX3ZhbHVlcyA9IChkX2lucyAhPSBudWxsID8gZF9pbnMudmFsdWVzW2RfdGFibGVdIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICAgIGlmIChhX3RhYmxlKSB7XG4gICAgICAgICAgICAgIGFfdGFibGVfdmFsdWVzID0gKGRfaW5zICE9IG51bGwgPyBkX2lucy52YWx1ZXNbYV90YWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgICAgICBpZiAoYV90YWJsZV92YWx1ZXMgJiYgKGFfdGFibGVfdmFsdWVzICE9IG51bGwgPyBhX3RhYmxlX3ZhbHVlcy5sZW5ndGggOiB2b2lkIDApID09PSAoZF90YWJsZV92YWx1ZXMgIT0gbnVsbCA/IGRfdGFibGVfdmFsdWVzLmxlbmd0aCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgICBhX3RhYmxlX3ZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGFfcm93LCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGtleSwgcmVzdWx0cywgdmFsdWU7XG4gICAgICAgICAgICAgICAgICByZXN1bHRzID0gW107XG4gICAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiBhX3Jvdykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFfcm93W2tleV07XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChkX3RhYmxlX3ZhbHVlc1tpbmRleF1ba2V5XSA9IHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZF90YWJsZV92YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajmlbDmja7kuLrnqbonKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9fbWF0Y2hfY29sX2ZpZWxkcyA9IG9fc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IG9fbWF0Y2hfY29sO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkX21hdGNoX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBkX21hdGNoX2NvbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKG9fbWF0Y2hfY29sX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRfbWF0Y2hfY29sX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb19tYXRjaF9jb2xfZmllbGQgPSBvX21hdGNoX2NvbF9maWVsZHNbMF07XG4gICAgICAgICAgICBkX21hdGNoX2NvbF9maWVsZCA9IGRfbWF0Y2hfY29sX2ZpZWxkc1swXTtcbiAgICAgICAgICAgIGlmICgob19tYXRjaF9jb2xfZmllbGQgIT0gbnVsbCA/IG9fbWF0Y2hfY29sX2ZpZWxkLnR5cGUgOiB2b2lkIDApICE9PSAoZF9tYXRjaF9jb2xfZmllbGQgIT0gbnVsbCA/IGRfbWF0Y2hfY29sX2ZpZWxkLnR5cGUgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlkozljp/nlLPor7fljZXlrZDooajnmoTljLnphY3liJflrZfmrrXkuI3kuIDoh7QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgICAgICAgdmFyIGNvbCwgY29scywgZF9jb2wsIGRfY29sX2ZpZWxkcywgb19jb2wsIG9fY29sX2ZpZWxkcztcbiAgICAgICAgICAgICAgY29scyA9IGNvbHVtbi5zcGxpdCgnLScpIHx8IFtdO1xuICAgICAgICAgICAgICBpZiAoY29scy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICBvX2NvbCA9IGNvbHNbMF07XG4gICAgICAgICAgICAgICAgZF9jb2wgPSBjb2xzWzFdO1xuICAgICAgICAgICAgICAgIG9fY29sX2ZpZWxkcyA9IG9fc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBvX2NvbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gZF9jb2w7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG9fY29sX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRfY29sX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChvX2NvbF9maWVsZHMgIT0gbnVsbCA/IG9fY29sX2ZpZWxkcy50eXBlIDogdm9pZCAwKSAhPT0gKGRfY29sX2ZpZWxkcyAhPSBudWxsID8gZF9jb2xfZmllbGRzLnR5cGUgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Zue5aGr5YiX5a2X5q6157G75Z6L5LiN5LiA6Ie0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbCA9IHtcbiAgICAgICAgICAgICAgICAgIG9fY29sOiBvX2NvbCxcbiAgICAgICAgICAgICAgICAgIGRfY29sOiBkX2NvbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbl9saXN0LnB1c2goY29sKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Zue5aGr5YiX5LiN5Yy56YWNJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhY2VzID0gb19pbnMgIT0gbnVsbCA/IG9faW5zLnRyYWNlcyA6IHZvaWQgMDtcbiAgICAgICAgICAgIHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGFwcHJvdmUgPSB0cmFjZSAhPSBudWxsID8gdHJhY2UuYXBwcm92ZXNbMF0gOiB2b2lkIDA7XG4gICAgICAgICAgICB0YWJsZV9kYXRhID0gKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUudmFsdWVzW29fdGFibGVdIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICAgIGRfdGFibGVfdmFsdWVzLmZvckVhY2goZnVuY3Rpb24oZF9yb3cpIHtcbiAgICAgICAgICAgICAgdmFyIGNvdW50LCBoYXNfb2JqLCByb3dfZGF0YTtcbiAgICAgICAgICAgICAgaGFzX29iaiA9IGZhbHNlO1xuICAgICAgICAgICAgICBjb3VudCA9IC0xO1xuICAgICAgICAgICAgICB0YWJsZV9kYXRhLmZvckVhY2goZnVuY3Rpb24ob19yb3csIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKG9fcm93W29fbWF0Y2hfY29sXSA9PT0gZF9yb3dbZF9tYXRjaF9jb2xdKSB7XG4gICAgICAgICAgICAgICAgICBoYXNfb2JqID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjb3VudCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmIChoYXNfb2JqID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbl9saXN0LmZvckVhY2goZnVuY3Rpb24oY29sKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVfZGF0YVtjb3VudF1bY29sICE9IG51bGwgPyBjb2wub19jb2wgOiB2b2lkIDBdID0gZF9yb3dbY29sICE9IG51bGwgPyBjb2wuZF9jb2wgOiB2b2lkIDBdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvd19kYXRhID0ge307XG4gICAgICAgICAgICAgICAgcm93X2RhdGFbb19tYXRjaF9jb2xdID0gZF9yb3dbZF9tYXRjaF9jb2xdO1xuICAgICAgICAgICAgICAgIGNvbHVtbl9saXN0LmZvckVhY2goZnVuY3Rpb24oY29sKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcm93X2RhdGFbY29sICE9IG51bGwgPyBjb2wub19jb2wgOiB2b2lkIDBdID0gZF9yb3dbY29sICE9IG51bGwgPyBjb2wuZF9jb2wgOiB2b2lkIDBdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZV9kYXRhLnB1c2gocm93X2RhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV0uYXBwcm92ZXNbMF0udmFsdWVzID0gb19pbnMgIT0gbnVsbCA/IG9faW5zLnZhbHVlcyA6IHZvaWQgMDtcbiAgICAgICAgICAgIHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV0uYXBwcm92ZXNbMF0udmFsdWVzW29fdGFibGVdID0gdGFibGVfZGF0YTtcbiAgICAgICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUob19pbnNfaWQsIHtcbiAgICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAgICd0cmFjZXMnOiB0cmFjZXNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5a2Q6KGo5Zue5aGr5YiX5a2X5q61IGNvbHVtbnMg5YC8Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5Yy56YWN5YiX5a2X5q61IG9NYXRjaENvbCDlgLwnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljp/ooajljZXlrZDooaggb1RhYmxlIOWAvCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn55Sz6K+35Y2V5pyq57uT5p2fJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtlXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvc3ViX3RhYmxlX3NvcnRcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooag9PT09PT09PT09XCJcbiAgICAgICAgY29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zdWJUYWJsZVwiLHJlcT8ucXVlcnk/LnN1YlRhYmxlXG4gICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT09PT095a2Q6KGo5oC75YiG5YiXPT09PT09PT09PVwiXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc3VtQ29sXCIscmVxPy5xdWVyeT8uc3VtQ29sXG4gICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT09PT095a2Q6KGo5o6S5bqP5YiXPT09PT09PT09PVwiXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc29ydENvbFwiLHJlcT8ucXVlcnk/LnNvcnRDb2xcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooajljZXliJfpnIDopoHorqHnrpfnmoTlkow9PT09PT09PT09XCJcbiAgICAgICAgY29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXCIscmVxPy5xdWVyeT8uc2luZ2xlQ29sc1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHN1Yl90YWJsZSA9IHJlcT8ucXVlcnk/LnN1YlRhYmxlXG4gICAgICAgIGlmICFzdWJfdGFibGVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zdWJfdGFibGU9PT09PT1cIlxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3ViVGFibGUg5a2X5q61JyApO1xuICAgICAgICBcbiAgICAgICAgc3VtX2NvbCA9IHJlcT8ucXVlcnk/LnN1bUNvbFxuICAgICAgICBpZiAhc3VtX2NvbFxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PXN1bV9jb2w9PT09PT1cIlxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3VtQ29sIOWtl+autScgKTtcbiAgICAgICAgXG4gICAgICAgIHNvcnRfY29sID0gcmVxPy5xdWVyeT8uc29ydENvbFxuICAgICAgICBpZiAhc29ydF9jb2xcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zb3J0X2NvbD09PT09PVwiXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzb3J0Q29sIOWtl+autScgKTtcbiAgICAgICAgXG4gICAgICAgICMgc2luZ2xlX2NvbHMgPSByZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXG4gICAgICAgICMgaWYgIXNpbmdsZV9jb2xzXG4gICAgICAgICMgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zaW5nbGVfY29scz09PT09PVwiXG5cbiAgICAgICAgIyAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc2luZ2xlQ29scyDlrZfmrrUnICk7XG4gICAgICAgIFxuICAgICAgICBpbnMgPSByZXE/LmJvZHk/Lmluc3RhbmNlXG4gICAgICAgIFxuICAgICAgICBzdWJfdGFibGVfdmFsdWVzID0gaW5zLnZhbHVlc1tzdWJfdGFibGVdXG4gICAgICAgIFxuICAgICAgICBpZiBzdWJfdGFibGVfdmFsdWVzPy5sZW5ndGggPiAwIFxuICAgICAgICAgICAgIyAjIOagueaNriBzdWJfdGFibGVfdmFsdWVzIOi/m+ihjOaOkuW6j1xuICAgICAgICAgICAgIyA9PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAgICAjIOaOkuW6j+Wtl+aute+8jOWFs+mUruWtl++8jOato+W6jyh0cnVlKS/lgJLluo8oZmFsc2UpXG4gICAgICAgICAgICBgZnVuY3Rpb24gSnNvblNvcnQoanNvbkFyciwga2V5LCBhc2Mpe1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaj0xLGpsPWpzb25BcnIubGVuZ3RoO2ogPCBqbDtqKyspe1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGpzb25BcnJbal0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgID0gTnVtYmVyKHRlbXBba2V5XSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpICAgID0gai0xO1xuICAgICAgICAgICAgICAgICAgICBpZihhc2M9PXRydWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk+dmFsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPHZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSB0ZW1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbkFycjtcbiAgICAgICAgICAgIH1gXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG5ld190YWJsZV92YWx1ZXMgPSBKc29uU29ydChzdWJfdGFibGVfdmFsdWVzLHN1bV9jb2wsZmFsc2UpXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwibmV3X3RhYmxlX3ZhbHVlc1wiLG5ld190YWJsZV92YWx1ZXNcblxuICAgICAgICAgICAgbmV3X3RhYmxlX3ZhbHVlcy5mb3JFYWNoIChvYmosIGluZGV4KS0+XG4gICAgICAgICAgICAgICAgaWYgc29ydF9jb2wgYW5kIG9ialtzdW1fY29sXVxuICAgICAgICAgICAgICAgICAgICBvYmpbc29ydF9jb2xdID0gKGluZGV4KzEpLnRvU3RyaW5nKClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCJuZXdfdGFibGVfdmFsdWVzXCIsbmV3X3RhYmxlX3ZhbHVlc1xuXG4gICAgICAgICAgICBpbnMudmFsdWVzW3N1Yl90YWJsZV0gPSBuZXdfdGFibGVfdmFsdWVzXG5cbiAgICAgICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoaW5zLl9pZCx7XG4gICAgICAgICAgICAgICAgJHNldDp7XG4gICAgICAgICAgICAgICAgICAgICd2YWx1ZXMnOmlucy52YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwic3VjY2Vzc1wiXG4gICAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiAn6K6h566X5o6S5bqP5oiQ5YqfJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAn5a2Q6KGo5pWw5o2u5Li656m6Jyk7XG4gICAgY2F0Y2ggZVxuICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZXJyb3JzOiBbZV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvc3ViX3RhYmxlX3NvcnRcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGUsIGlucywgbmV3X3RhYmxlX3ZhbHVlcywgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCByZWY1LCByZWY2LCByZWY3LCBzb3J0X2NvbCwgc3ViX3RhYmxlLCBzdWJfdGFibGVfdmFsdWVzLCBzdW1fY29sO1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGoPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooajmgLvliIbliJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc3VtQ29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLnN1bUNvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooajmjpLluo/liJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc29ydENvbFwiLCByZXEgIT0gbnVsbCA/IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi5zb3J0Q29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqOWNleWIl+mcgOimgeiuoeeul+eahOWSjD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXCIsIHJlcSAhPSBudWxsID8gKHJlZjMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYzLnNpbmdsZUNvbHMgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIHN1Yl90YWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY0LnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICghc3ViX3RhYmxlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIj09PT09c3ViX3RhYmxlPT09PT09XCIpO1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3ViVGFibGUg5a2X5q61Jyk7XG4gICAgfVxuICAgIHN1bV9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWY1ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNS5zdW1Db2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKCFzdW1fY29sKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIj09PT09c3VtX2NvbD09PT09PVwiKTtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHN1bUNvbCDlrZfmrrUnKTtcbiAgICB9XG4gICAgc29ydF9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWY2ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNi5zb3J0Q29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICghc29ydF9jb2wpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiPT09PT1zb3J0X2NvbD09PT09PVwiKTtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHNvcnRDb2wg5a2X5q61Jyk7XG4gICAgfVxuICAgIGlucyA9IHJlcSAhPSBudWxsID8gKHJlZjcgPSByZXEuYm9keSkgIT0gbnVsbCA/IHJlZjcuaW5zdGFuY2UgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgc3ViX3RhYmxlX3ZhbHVlcyA9IGlucy52YWx1ZXNbc3ViX3RhYmxlXTtcbiAgICBpZiAoKHN1Yl90YWJsZV92YWx1ZXMgIT0gbnVsbCA/IHN1Yl90YWJsZV92YWx1ZXMubGVuZ3RoIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIGZ1bmN0aW9uIEpzb25Tb3J0KGpzb25BcnIsIGtleSwgYXNjKXtcbiAgICAgICAgICAgICAgICBmb3IodmFyIGo9MSxqbD1qc29uQXJyLmxlbmd0aDtqIDwgamw7aisrKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBqc29uQXJyW2pdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsICA9IE51bWJlcih0ZW1wW2tleV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaSAgICA9IGotMTtcbiAgICAgICAgICAgICAgICAgICAgaWYoYXNjPT10cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPnZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKTx2YWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGktMTsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0gdGVtcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb25BcnI7XG4gICAgICAgICAgICB9O1xuICAgICAgbmV3X3RhYmxlX3ZhbHVlcyA9IEpzb25Tb3J0KHN1Yl90YWJsZV92YWx1ZXMsIHN1bV9jb2wsIGZhbHNlKTtcbiAgICAgIGNvbnNvbGUubG9nKFwibmV3X3RhYmxlX3ZhbHVlc1wiLCBuZXdfdGFibGVfdmFsdWVzKTtcbiAgICAgIG5ld190YWJsZV92YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihvYmosIGluZGV4KSB7XG4gICAgICAgIGlmIChzb3J0X2NvbCAmJiBvYmpbc3VtX2NvbF0pIHtcbiAgICAgICAgICByZXR1cm4gb2JqW3NvcnRfY29sXSA9IChpbmRleCArIDEpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coXCJuZXdfdGFibGVfdmFsdWVzXCIsIG5ld190YWJsZV92YWx1ZXMpO1xuICAgICAgaW5zLnZhbHVlc1tzdWJfdGFibGVdID0gbmV3X3RhYmxlX3ZhbHVlcztcbiAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoaW5zLl9pZCwge1xuICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgJ3ZhbHVlcyc6IGlucy52YWx1ZXNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIik7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAnc3VjY2Vzcyc6ICforqHnrpfmjpLluo/miJDlip8nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICflrZDooajmlbDmja7kuLrnqbonKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW2VdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiaWYgTWV0ZW9yLmlzRGV2ZWxvcG1lbnRcbiAgICBKc29uUm91dGVzLmFkZCAncG9zdCcsICcvdGVzdC93ZWJob29rJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuICAgICAgICB0cnlcblxuICAgICAgICAgICAgaGFzaERhdGEgPSByZXEuYm9keVxuICAgICAgICAgICAgY29uc29sZS5sb2cgJ2FjdGlvbjogJywgaGFzaERhdGEuYWN0aW9uXG4gICAgICAgICAgICBjb25zb2xlLmxvZyAnZnJvbV91c2VyOiAnLCBoYXNoRGF0YS5mcm9tX3VzZXJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nICd0b191c2VyczogJywgaGFzaERhdGEudG9fdXNlcnNcblxuXG4gICAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDBcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge31cbiAgICAgICAgY2F0Y2ggZVxuICAgICAgICAgICAgY29uc29sZS5lcnJvciBlLnN0YWNrXG4gICAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuICAgICAgICAgICAgICAgIGNvZGU6IDIwMFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfSIsImlmIChNZXRlb3IuaXNEZXZlbG9wbWVudCkge1xuICBKc29uUm91dGVzLmFkZCgncG9zdCcsICcvdGVzdC93ZWJob29rJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICB2YXIgZSwgaGFzaERhdGE7XG4gICAgdHJ5IHtcbiAgICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgICBjb25zb2xlLmxvZygnYWN0aW9uOiAnLCBoYXNoRGF0YS5hY3Rpb24pO1xuICAgICAgY29uc29sZS5sb2coJ2Zyb21fdXNlcjogJywgaGFzaERhdGEuZnJvbV91c2VyKTtcbiAgICAgIGNvbnNvbGUubG9nKCd0b191c2VyczogJywgaGFzaERhdGEudG9fdXNlcnMpO1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7fVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGUgPSBlcnJvcjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvdXNlcnNcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXG5cdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0dXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHNcblx0c3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWRcblx0c3BhY2VVc2VycyA9IFtdO1xuXG5cdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHt1c2VyOiBjdXJyZW50X3VzZXIsIHNwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge19pZDogMX19KVxuXHRpZiAhc3BhY2VfdXNlclxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdlcnJvcnMnOiAn5peg5p2D6ZmQJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdGlmICghdXNlcklkcyB8fCAhc3BhY2VJZClcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcblx0XHRcdH1cblx0XHR9KTtcblx0c3BhY2VVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdHMoc3BhY2VJZCwgdXNlcklkcylcblxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0Y29kZTogMjAwLFxuXHRcdGRhdGE6IHtcblx0XHRcdCdzcGFjZVVzZXJzJzogc3BhY2VVc2Vyc1xuXHRcdH1cblx0fVxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS91c2Vyc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgc3BhY2VJZCwgc3BhY2VVc2Vycywgc3BhY2VfdXNlciwgdXNlcklkcztcbiAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICB1c2VySWRzID0gcmVxLmJvZHkudXNlcklkcztcbiAgc3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWQ7XG4gIHNwYWNlVXNlcnMgPSBbXTtcbiAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgIHVzZXI6IGN1cnJlbnRfdXNlcixcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDFcbiAgICB9XG4gIH0pO1xuICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+aXoOadg+mZkCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBzcGFjZVVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0cyhzcGFjZUlkLCB1c2VySWRzKTtcbiAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgJ3NwYWNlVXNlcnMnOiBzcGFjZVVzZXJzXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL29yZ3NcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXHRvcmdJZHMgPSByZXEuYm9keS5vcmdJZHNcblx0c3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWRcblxuXHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7dXNlcjogY3VycmVudF91c2VyLCBzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtfaWQ6IDF9fSlcblx0aWYgIXNwYWNlX3VzZXJcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnZXJyb3JzJzogJ+aXoOadg+mZkCdcblx0XHRcdH1cblx0XHR9KTtcblxuXHRpZiAoIW9yZ0lkcyB8fCAhc3BhY2VJZClcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcblx0XHRcdH1cblx0XHR9KTtcblxuXHRvcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFPcmdPYmplY3RzKG9yZ0lkcylcblxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0Y29kZTogMjAwLFxuXHRcdGRhdGE6IHtcblx0XHRcdCdvcmdzJzogb3Jnc1xuXHRcdH1cblx0fSk7XG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL29yZ3NcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIG9yZ0lkcywgb3Jncywgc3BhY2VJZCwgc3BhY2VfdXNlcjtcbiAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICBvcmdJZHMgPSByZXEuYm9keS5vcmdJZHM7XG4gIHNwYWNlSWQgPSByZXEuYm9keS5zcGFjZUlkO1xuICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgdXNlcjogY3VycmVudF91c2VyLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMVxuICAgIH1cbiAgfSk7XG4gIGlmICghc3BhY2VfdXNlcikge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn5peg5p2D6ZmQJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmICghb3JnSWRzIHx8ICFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgb3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhT3JnT2JqZWN0cyhvcmdJZHMpO1xuICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICAnb3Jncyc6IG9yZ3NcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciA9IG5ldyBUYWJ1bGFyLlRhYmxlXG5cdFx0bmFtZTogXCJyZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyXCJcblx0XHRjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXNcblx0XHRjb2x1bW5zOiBbXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiX2lkXCIsXG5cdFx0XHRcdHRpdGxlOiAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJyZXZlcnNlXCIgaWQ9XCJyZXZlcnNlXCI+Jyxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d2lkdGg6ICcxcHgnLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpbnB1dCA9ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJyZWxhdGVkLWluc3RhbmNlcy1saXN0LWNoZWNrYm94XCIgbmFtZT1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIGlkPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgdmFsdWU9XCInICsgZG9jLl9pZCArICdcIidcblxuXHRcdFx0XHRcdGlmIFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhci5yZWxhdGVkX2luc3RhbmNlcz8uaW5jbHVkZXMoZG9jLl9pZClcblx0XHRcdFx0XHRcdGlucHV0ICs9IFwiIGNoZWNrZWQgXCJcblxuXHRcdFx0XHRcdGlucHV0ICs9IFwiPlwiXG5cdFx0XHRcdFx0cmV0dXJuIGlucHV0XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIm5hbWVcIixcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d2lkdGg6ICc0NSUnLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRocmVmID0gJyc7XG5cdFx0XHRcdFx0aWYgTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSlcblx0XHRcdFx0XHRcdGhyZWYgPSAnJ1xuXG5cdFx0XHRcdFx0YWJzb2x1dGUgPSBmYWxzZVxuXG5cdFx0XHRcdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRcdFx0XHRhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGVcblx0XHRcdFx0XHRpZiBhYnNvbHV0ZVxuXHRcdFx0XHRcdFx0aHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2RvYy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0aHJlZiA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitkb2Muc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxuXHRcdFx0XHRcdHJldHVybiBcIjxhIGRhdGEtaWQ9JyN7ZG9jLl9pZH0nIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIitocmVmK1wiJz5cIiArIGRvYy5uYW1lICsgXCI8L2E+XCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiZmxvd19uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiY3VycmVudF9zdGVwX25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLnN0YXRlID09IFwiY29tcGxldGVkXCJcblx0XHRcdFx0XHRcdGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIlxuXG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJydcblxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZXAtY3VycmVudC1zdGF0ZSAje2p1ZGdlfVwiPiN7c3RlcF9jdXJyZW50X25hbWV9PC9kaXY+XG5cdFx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdH1cblx0XHRdXG5cblx0XHRkb206IFwidHBcIixcblx0XHRsZW5ndGhDaGFuZ2U6IGZhbHNlLFxuXHRcdGV4dHJhRmllbGRzOiBbXCJzdGF0ZVwiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwic3BhY2VcIiwgXCJrZXl3b3Jkc1wiXSxcblx0XHRwYWdlTGVuZ3RoOiAxMCxcblx0XHRpbmZvOiBmYWxzZSxcblx0XHRzZWFyY2hpbmc6IHRydWUsXG5cdFx0cmVzcG9uc2l2ZTpcblx0XHRcdGRldGFpbHM6IGZhbHNlXG5cdFx0YXV0b1dpZHRoOiBmYWxzZSxcblx0XHRjaGFuZ2VTZWxlY3RvcjogKHNlbGVjdG9yLCB1c2VySWQpIC0+XG5cdFx0XHR1bmxlc3MgdXNlcklkXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cblxuXHRcdFx0c3BhY2VJZCA9IHNlbGVjdG9yLnNwYWNlXG5cdFx0XHR1bmxlc3Mgc3BhY2VJZFxuXHRcdFx0XHRpZiBzZWxlY3Rvcj8uJGFuZD8ubGVuZ3RoID4gMFxuXHRcdFx0XHRcdHNwYWNlSWQgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdXG5cdFx0XHR1bmxlc3Mgc3BhY2VJZFxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlSWQpXG5cdFx0XHRpZiAhc3BhY2Vcblx0XHRcdFx0c2VsZWN0b3Iuc3RhdGUgPSBcIm5vbmVcIlxuXHRcdFx0aWYgIXNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpXG5cblx0XHRcdFx0Zmxvd19pZHMgPSBbXVxuXHRcdFx0XHRjdXJTcGFjZVVzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcblx0XHRcdFx0XHRzcGFjZTogc3BhY2VJZCxcblx0XHRcdFx0XHQndXNlcic6IHVzZXJJZFxuXHRcdFx0XHR9KVxuXHRcdFx0XHRpZiBjdXJTcGFjZVVzZXJcblx0XHRcdFx0XHRvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcblx0XHRcdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdFx0XHQkaW46IGN1clNwYWNlVXNlci5vcmdhbml6YXRpb25zXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkuZmV0Y2goKVxuXHRcdFx0XHRcdGZsb3dzID0gZGIuZmxvd3MuZmluZCh7IHNwYWNlOiBzcGFjZUlkIH0pXG5cdFx0XHRcdFx0Zmxvd3MuZm9yRWFjaCAoZmwpLT5cblx0XHRcdFx0XHRcdGlmIFdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpIHx8IFdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmbCwgY3VyU3BhY2VVc2VyLCBvcmdhbml6YXRpb25zKVxuXHRcdFx0XHRcdFx0XHRmbG93X2lkcy5wdXNoKGZsLl9pZClcblxuXHRcdFx0XHRpZiBzZWxlY3Rvcj8uJGFuZD8ubGVuZ3RoID4gMFxuXHRcdFx0XHRcdHNlbGVjdG9yLiRhbmRbMF0uJG9yID0gW3tzdWJtaXR0ZXI6IHVzZXJJZH0sIHthcHBsaWNhbnQ6IHVzZXJJZH0sIHtpbmJveF91c2VyczogdXNlcklkfSwge291dGJveF91c2VyczogdXNlcklkfSxcblx0XHRcdFx0XHRcdFx0e2NjX3VzZXJzOiB1c2VySWR9LCB7IGZsb3c6IHsgJGluOiBmbG93X2lkcyB9IH1dXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRfLmV4dGVuZCBzZWxlY3Rvciwge1xuXHRcdFx0XHRcdFx0JG9yOiBbe3N1Ym1pdHRlcjogdXNlcklkfSwge2FwcGxpY2FudDogdXNlcklkfSwge2luYm94X3VzZXJzOiB1c2VySWR9LCB7b3V0Ym94X3VzZXJzOiB1c2VySWR9LFxuXHRcdFx0XHRcdFx0XHR7Y2NfdXNlcnM6IHVzZXJJZH0sIHsgZmxvdzogeyAkaW46IGZsb3dfaWRzIH0gfV1cblx0XHRcdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZWxlY3RvciIsIk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyID0gbmV3IFRhYnVsYXIuVGFibGUoe1xuICAgIG5hbWU6IFwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhclwiLFxuICAgIGNvbGxlY3Rpb246IGRiLmluc3RhbmNlcyxcbiAgICBjb2x1bW5zOiBbXG4gICAgICB7XG4gICAgICAgIGRhdGE6IFwiX2lkXCIsXG4gICAgICAgIHRpdGxlOiAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJyZXZlcnNlXCIgaWQ9XCJyZXZlcnNlXCI+JyxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6ICcxcHgnLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGlucHV0LCByZWY7XG4gICAgICAgICAgaW5wdXQgPSAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwicmVsYXRlZC1pbnN0YW5jZXMtbGlzdC1jaGVja2JveFwiIG5hbWU9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiBpZD1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIHZhbHVlPVwiJyArIGRvYy5faWQgKyAnXCInO1xuICAgICAgICAgIGlmICgocmVmID0gVGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLnJlbGF0ZWRfaW5zdGFuY2VzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKGRvYy5faWQpIDogdm9pZCAwKSB7XG4gICAgICAgICAgICBpbnB1dCArPSBcIiBjaGVja2VkIFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnB1dCArPSBcIj5cIjtcbiAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJuYW1lXCIsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAnNDUlJyxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBhYnNvbHV0ZSwgaHJlZjtcbiAgICAgICAgICBocmVmID0gJyc7XG4gICAgICAgICAgaWYgKE1ldGVvci5pc0NsaWVudCAmJiAoU3RlZWRvcy5pc01vYmlsZSgpIHx8IFN0ZWVkb3MuaXNDb3Jkb3ZhKCkpKSB7XG4gICAgICAgICAgICBocmVmID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFic29sdXRlID0gZmFsc2U7XG4gICAgICAgICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgICAgICAgYWJzb2x1dGUgPSB0aGlzLmFic29sdXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgICAgIGhyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGRvYy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhyZWYgPSBTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBkb2Muc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gKFwiPGEgZGF0YS1pZD0nXCIgKyBkb2MuX2lkICsgXCInIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIikgKyBocmVmICsgXCInPlwiICsgZG9jLm5hbWUgKyBcIjwvYT5cIjtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiZmxvd19uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGp1ZGdlLCBzdGVwX2N1cnJlbnRfbmFtZTtcbiAgICAgICAgICBpZiAoZG9jLnN0YXRlID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgICAgICAgICBqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLmN1cnJlbnRfc3RlcF9uYW1lIHx8ICcnO1xuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcInN0ZXAtY3VycmVudC1zdGF0ZSBcIiArIGp1ZGdlICsgXCJcXFwiPlwiICsgc3RlcF9jdXJyZW50X25hbWUgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXSxcbiAgICBkb206IFwidHBcIixcbiAgICBsZW5ndGhDaGFuZ2U6IGZhbHNlLFxuICAgIGV4dHJhRmllbGRzOiBbXCJzdGF0ZVwiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwic3BhY2VcIiwgXCJrZXl3b3Jkc1wiXSxcbiAgICBwYWdlTGVuZ3RoOiAxMCxcbiAgICBpbmZvOiBmYWxzZSxcbiAgICBzZWFyY2hpbmc6IHRydWUsXG4gICAgcmVzcG9uc2l2ZToge1xuICAgICAgZGV0YWlsczogZmFsc2VcbiAgICB9LFxuICAgIGF1dG9XaWR0aDogZmFsc2UsXG4gICAgY2hhbmdlU2VsZWN0b3I6IGZ1bmN0aW9uKHNlbGVjdG9yLCB1c2VySWQpIHtcbiAgICAgIHZhciBjdXJTcGFjZVVzZXIsIGZsb3dfaWRzLCBmbG93cywgb3JnYW5pemF0aW9ucywgcmVmLCByZWYxLCBzcGFjZSwgc3BhY2VJZDtcbiAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2VJZCA9IHNlbGVjdG9yLnNwYWNlO1xuICAgICAgaWYgKCFzcGFjZUlkKSB7XG4gICAgICAgIGlmICgoc2VsZWN0b3IgIT0gbnVsbCA/IChyZWYgPSBzZWxlY3Rvci4kYW5kKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgc3BhY2VJZCA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc3BhY2VJZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZCk7XG4gICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgIHNlbGVjdG9yLnN0YXRlID0gXCJub25lXCI7XG4gICAgICB9XG4gICAgICBpZiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpKSB7XG4gICAgICAgIGZsb3dfaWRzID0gW107XG4gICAgICAgIGN1clNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgICAgICd1c2VyJzogdXNlcklkXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY3VyU3BhY2VVc2VyKSB7XG4gICAgICAgICAgb3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAgICAgJGluOiBjdXJTcGFjZVVzZXIub3JnYW5pemF0aW9uc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmZldGNoKCk7XG4gICAgICAgICAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBzcGFjZUlkXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZmxvd3MuZm9yRWFjaChmdW5jdGlvbihmbCkge1xuICAgICAgICAgICAgaWYgKFdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpIHx8IFdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmbCwgY3VyU3BhY2VVc2VyLCBvcmdhbml6YXRpb25zKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmxvd19pZHMucHVzaChmbC5faWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc2VsZWN0b3IgIT0gbnVsbCA/IChyZWYxID0gc2VsZWN0b3IuJGFuZCkgIT0gbnVsbCA/IHJlZjEubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICBzZWxlY3Rvci4kYW5kWzBdLiRvciA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3VibWl0dGVyOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgYXBwbGljYW50OiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBvdXRib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBjY191c2VyczogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGZsb3c6IHtcbiAgICAgICAgICAgICAgICAkaW46IGZsb3dfaWRzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF8uZXh0ZW5kKHNlbGVjdG9yLCB7XG4gICAgICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1Ym1pdHRlcjogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBhcHBsaWNhbnQ6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgb3V0Ym94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGNjX3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGZsb3c6IHtcbiAgICAgICAgICAgICAgICAgICRpbjogZmxvd19pZHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIlN0ZWVkb3Muc3Vic1tcIkluc3RhbmNlVGFidWxhclwiXSA9IG5ldyBTdWJzTWFuYWdlcigpXG5cblxuX2hhbmRsZUxpc3RGaWVsZHMgPSAoZmllbGRzKSAtPlxuXHRpbnNfZmllbGRzID0gbmV3IEFycmF5KCk7XG5cblx0ZmllbGRzPy5mb3JFYWNoIChmKS0+XG5cdFx0aWYgZi50eXBlID09ICd0YWJsZSdcblx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcblx0XHRlbHNlIGlmIGYudHlwZSA9PSAnc2VjdGlvbidcblx0XHRcdGY/LmZpZWxkcz8uZm9yRWFjaCAoZjEpLT5cblx0XHRcdFx0aW5zX2ZpZWxkcy5wdXNoIGYxXG5cdFx0ZWxzZVxuXHRcdFx0aW5zX2ZpZWxkcy5wdXNoIGZcblxuXHRyZXR1cm4gaW5zX2ZpZWxkc1xuXG5cbnVwZGF0ZVRhYnVsYXJUaXRsZSA9ICgpLT5cblxuIyDlpoLmnpxjb2x1bW5z5pyJ5Yqg5YeP77yM6K+35L+u5pS5VGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zIOWHveaVsFxuaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciA9IChmbG93SWQsIGZpZWxkcyktPlxuXHRvcHRpb25zID0ge1xuXHRcdG5hbWU6IFwiaW5zdGFuY2VzXCIsXG5cdFx0Y29sbGVjdGlvbjogZGIuaW5zdGFuY2VzLFxuXHRcdHB1YjogXCJpbnN0YW5jZV90YWJ1bGFyXCIsXG5cdFx0b25VbmxvYWQ6ICgpLT5cblx0XHRcdE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKVxuXG5cdFx0ZHJhd0NhbGxiYWNrOiAoc2V0dGluZ3MpLT5cblx0XHRcdGVtcHR5VGQgPSAkKFwiLmRhdGFUYWJsZXNfZW1wdHlcIilcblx0XHRcdGlmIGVtcHR5VGQubGVuZ3RoXG5cdFx0XHRcdGVtcHR5VGRbMF0uY29sU3BhbiA9IFwiNlwiXG5cdFx0XHRpZiAhU3RlZWRvcy5pc01vYmlsZSgpICYmICFTdGVlZG9zLmlzUGFkKClcblx0XHRcdFx0TWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApXG5cdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMCkucmVhZHkgLT5cblx0XHRcdFx0XHQkKFwiLmluc3RhbmNlLWxpc3RcIikucGVyZmVjdFNjcm9sbGJhcihcInVwZGF0ZVwiKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHQkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApXG5cblx0XHRcdHRpdGxlID0gdCBcInBhZ2VyX2lucHV0X2hpbnRcIlxuXHRcdFx0ZWxsaXBzaXNMaW5rID0gc2V0dGluZ3Mub0luc3RhbmNlLnBhcmVudCgpLmZpbmQoJy5wYWdpbmdfbnVtYmVycyAucGFnaW5hdGlvbiAuZGlzYWJsZWQgYScpXG5cdFx0XHRlbGxpcHNpc0xpbmsuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5jc3MoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpLmNsaWNrIC0+XG5cdFx0XHRcdGlmICEkKHRoaXMpLmZpbmQoJ2lucHV0JykubGVuZ3RoXG5cdFx0XHRcdFx0aW5wdXQgPSAkKCc8aW5wdXQgY2xhc3M9XCJwYWdpbmF0ZV9pbnB1dCBmb3JtLWNvbnRyb2wgaW5wdXQtc21cIiB0eXBlPVwidGV4dFwiIHN0eWxlPVwiYm9yZGVyOiBub25lOyBwYWRkaW5nOjAgMnB4O1wiLz4nKVxuXHRcdFx0XHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdFx0XHRcdFx0aW5wdXQuY3NzKHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6XCI1MnB4XCJcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjIwcHhcIlxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRpbnB1dC5jc3Moe1xuXHRcdFx0XHRcdFx0XHR3aWR0aDpcIjUycHhcIlxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMTZweFwiXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdGlucHV0LmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuYXR0cihcInBsYWNlaG9sZGVyXCIsIHRpdGxlKVxuXHRcdFx0XHRcdCQodGhpcykuZW1wdHkoKS5hcHBlbmQgaW5wdXRcblx0XHRcdFx0XHRnb1BhZ2UgPSAoaW5kZXgpLT5cblx0XHRcdFx0XHRcdGlmIGluZGV4ID4gMFxuXHRcdFx0XHRcdFx0XHRwYWdlcyA9IE1hdGguY2VpbChzZXR0aW5ncy5mblJlY29yZHNEaXNwbGF5KCkgLyBzZXR0aW5ncy5faURpc3BsYXlMZW5ndGgpXG5cdFx0XHRcdFx0XHRcdGlmIGluZGV4ID4gcGFnZXNcblx0XHRcdFx0XHRcdFx0XHQjIOmhteeggei2heWHuue0ouW8leaXtui3s+i9rOWIsOacgOWQjuS4gOmhtVxuXHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gcGFnZXNcblx0XHRcdFx0XHRcdFx0aW5kZXgtLVxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5vSW5zdGFuY2UuRGF0YVRhYmxlKCkucGFnZShpbmRleCkuZHJhdygncGFnZScpXG5cdFx0XHRcdFx0aW5wdXQuYmx1ciAoZSktPlxuXHRcdFx0XHRcdFx0Y3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpXG5cdFx0XHRcdFx0XHRnb1BhZ2UgY3VycmVudFBhZ2Vcblx0XHRcdFx0XHRcdCQodGhpcykucGFyZW50KCkuaHRtbCAnLi4uJ1xuXHRcdFx0XHRcdGlucHV0LmtleWRvd24gKGUpLT5cblx0XHRcdFx0XHRcdGlmKGUua2V5Q29kZS50b1N0cmluZygpID09IFwiMTNcIilcblx0XHRcdFx0XHRcdFx0Y3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpXG5cdFx0XHRcdFx0XHRcdGdvUGFnZSBjdXJyZW50UGFnZVxuXG5cdFx0Y3JlYXRlZFJvdzogKHJvdywgZGF0YSwgZGF0YUluZGV4KSAtPlxuXHRcdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRcdGlmIGRhdGEuX2lkID09IEZsb3dSb3V0ZXIuY3VycmVudCgpLnBhcmFtcy5pbnN0YW5jZUlkXG5cdFx0XHRcdFx0cm93LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic2VsZWN0ZWRcIilcblx0XHRjb2x1bW5zOiBbXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiX2lkXCIsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0bW9kaWZpZWRTdHJpbmcgPSBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcblxuXHRcdFx0XHRcdG1vZGlmaWVkID0gZG9jLm1vZGlmaWVkXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94JyAmJiBkb2Muc3RhdGUgIT0gJ2RyYWZ0J1xuXHRcdFx0XHRcdFx0bW9kaWZpZWQgPSBkb2Muc3RhcnRfZGF0ZSB8fCBkb2MubW9kaWZpZWRcblxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdvdXRib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdtb25pdG9yJ1xuXHRcdFx0XHRcdFx0bW9kaWZpZWQgPSBkb2Muc3VibWl0X2RhdGUgfHwgZG9jLnN1Ym1pdF9kYXRlXG5cblx0XHRcdFx0XHRtb2RpZmllZEZyb21Ob3cgPSBTdGVlZG9zLm1vbWVudFJlYWN0aXZlRnJvbU5vdyhtb2RpZmllZCk7XG5cdFx0XHRcdFx0Zmxvd19uYW1lID0gZG9jLmZsb3dfbmFtZVxuXHRcdFx0XHRcdGNjX3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdCMg5b2T5YmN55So5oi35ZyoY2MgdXNlcuS4re+8jOS9huaYr+S4jeWcqGluYm94IHVzZXJz5pe25omN5pi+56S6J+S8oOmYhSfmloflrZdcblx0XHRcdFx0XHRpZiBkb2MuaXNfY2MgJiYgIWRvYy5pbmJveF91c2Vycz8uaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXG5cdFx0XHRcdFx0XHRjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIlxuXHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08c3Bhbj4oI3tkb2MuY3VycmVudF9zdGVwX25hbWV9KTwvc3Bhbj48L2Rpdj5cIlxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9ICdkcmFmdCcgJiYgZG9jLmN1cnJlbnRfc3RlcF9uYW1lXG5cdFx0XHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+I3tmbG93X25hbWV9PHNwYW4+KCN7ZG9jLmN1cnJlbnRfc3RlcF9uYW1lfSk8L3NwYW4+PC9kaXY+XCJcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08L2Rpdj5cIlxuXG5cdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0aWYgZG9jLmFnZW50X3VzZXJfbmFtZSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXG5cdFx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7dXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWV9KSArIFwiKTwvbGFiZWw+XCJcblxuXHRcdFx0XHRcdHVucmVhZCA9ICcnXG5cblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09IGZhbHNlXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+J1xuXHRcdFx0XHRcdGVsc2UgaWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT0gdHJ1ZVxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nXG5cblx0XHRcdFx0XHRwcmlvcml0eUljb24gPSBcIlwiXG5cdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiXG5cdFx0XHRcdFx0cHJpb3JpdHlWYWx1ZSA9IGRvYy52YWx1ZXM/LnByaW9yaXR5XG5cdFx0XHRcdFx0c3dpdGNoIHByaW9yaXR5VmFsdWVcblx0XHRcdFx0XHRcdHdoZW4gXCLnibnmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCJcblx0XHRcdFx0XHRcdHdoZW4gXCLntKfmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiXG5cdFx0XHRcdFx0XHR3aGVuIFwi5Yqe5paHXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCJcblx0XHRcdFx0XHRpZiBwcmlvcml0eUljb25DbGFzc1xuXHRcdFx0XHRcdFx0aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktI3twcmlvcml0eUljb25DbGFzc31cIlxuXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz4je3VucmVhZH08L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lICN7aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzc30nPiN7ZG9jLm5hbWV9I3tjY192aWV3fSN7YWdlbnRfdmlld31cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuPiN7ZG9jLmFwcGxpY2FudF9uYW1lfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1kZXRhaWwnPiN7c3RlcF9jdXJyZW50X25hbWVfdmlld31cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPSdpbnN0YW5jZS1tb2RpZmllZCcgdGl0bGU9JyN7bW9kaWZpZWRTdHJpbmd9Jz4je21vZGlmaWVkRnJvbU5vd308L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIpLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19uYW1lXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRjY192aWV3ID0gXCJcIjtcblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcblx0XHRcdFx0XHQjIOW9k+WJjeeUqOaIt+WcqGNjIHVzZXLkuK3vvIzkvYbmmK/kuI3lnKhpbmJveCB1c2Vyc+aXtuaJjeaYvuekuifkvKDpmIUn5paH5a2XXG5cdFx0XHRcdFx0aWYgZG9jLmlzX2NjICYmICFkb2MuaW5ib3hfdXNlcnM/LmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRcdFx0Y2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCJcblxuXHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdGlmIGRvYy5hZ2VudF91c2VyX25hbWVcblx0XHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZX0pICsgXCIpPC9sYWJlbD5cIlxuXG5cdFx0XHRcdFx0dW5yZWFkID0gJydcblxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT0gZmFsc2Vcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nXG5cdFx0XHRcdFx0ZWxzZSBpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PSB0cnVlXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPidcblxuXHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIlxuXHRcdFx0XHRcdHByaW9yaXR5VmFsdWUgPSBkb2MudmFsdWVzPy5wcmlvcml0eVxuXHRcdFx0XHRcdHN3aXRjaCBwcmlvcml0eVZhbHVlXG5cdFx0XHRcdFx0XHR3aGVuIFwi54m55oClXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiXG5cdFx0XHRcdFx0XHR3aGVuIFwi57Sn5oClXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIlxuXHRcdFx0XHRcdFx0d2hlbiBcIuWKnuaWh1wiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiXG5cdFx0XHRcdFx0aWYgcHJpb3JpdHlJY29uQ2xhc3Ncblx0XHRcdFx0XHRcdGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LSN7cHJpb3JpdHlJY29uQ2xhc3N9XCJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz4je3VucmVhZH08L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSAje2luc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3N9Jz4je2RvYy5uYW1lfSN7Y2Nfdmlld30je2FnZW50X3ZpZXd9PC9kaXY+XG5cdFx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcInN1Ym1pdF9kYXRlXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N1Ym1pdF9kYXRlXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2Muc3VibWl0X2RhdGVcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLnN1Ym1pdF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcblx0XHRcdFx0LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImZsb3dfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19zdGVwX2N1cnJlbnRfbmFtZVwiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLnN0YXRlID09IFwiY29tcGxldGVkXCJcblx0XHRcdFx0XHRcdGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIlxuXG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJydcblxuXHRcdFx0XHRcdGNjX3RhZyA9ICcnXG5cblx0XHRcdFx0XHRpZiBkb2MuY2NfY291bnQgPiAwXG5cdFx0XHRcdFx0XHRjY190YWcgPSBUQVBpMThuLl9fKCdjY190YWcnKVxuXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZXAtY3VycmVudC1zdGF0ZSAje2p1ZGdlfVwiPiN7c3RlcF9jdXJyZW50X25hbWV9I3tjY190YWd9PC9kaXY+XG5cdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIm1vZGlmaWVkXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX21vZGlmaWVkXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG5cdFx0XHRcdCxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJzdGFydF9kYXRlXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0YXJ0X2RhdGVcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5zdGFydF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcblx0XHRcdFx0LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIm15X2ZpbmlzaF9kYXRlXCIsXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5teV9maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2MubXlfZmluaXNoX2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuXHRcdFx0XHQsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibW9kaWZpZWRcIixcblx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwia2V5d29yZHNcIixcblx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiaXNfYXJjaGl2ZWRcIixcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jPy52YWx1ZXM/LnJlY29yZF9uZWVkICYmIGRvYy52YWx1ZXMucmVjb3JkX25lZWQgPT0gXCJ0cnVlXCJcblx0XHRcdFx0XHRcdGlmIGRvYz8uaXNfYXJjaGl2ZWRcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHQoXCJZRVNcIilcblx0XHRcdFx0XHRcdHJldHVybiB0KFwiTk9cIilcblx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0ZG9tOiBkbyAtPlxuXHRcdFx0IyDmiYvmnLrkuIrkuI3mmL7npLrkuIDpobXmmL7npLrlpJrlsJHmnaHorrDlvZXpgInpoblcblx0XHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdFx0XHQndHAnXG5cdFx0XHRlbHNlXG5cdFx0XHRcdCd0cGwnXG5cdFx0b3JkZXI6IFtbNCwgXCJkZXNjXCJdXSxcblx0XHRleHRyYUZpZWxkczogW1wiZm9ybVwiLCBcImZsb3dcIiwgXCJpbmJveF91c2Vyc1wiLCBcInN0YXRlXCIsIFwic3BhY2VcIiwgXCJhcHBsaWNhbnRcIiwgXCJmb3JtX3ZlcnNpb25cIixcblx0XHRcdFwiZmxvd192ZXJzaW9uXCIsIFwiaXNfY2NcIiwgXCJjY19jb3VudFwiLCBcImlzX3JlYWRcIiwgXCJjdXJyZW50X3N0ZXBfbmFtZVwiLCBcInZhbHVlc1wiLCBcImtleXdvcmRzXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJmbG93X25hbWVcIiwgXCJpc19oaWRkZW5cIiwgXCJhZ2VudF91c2VyX25hbWVcIl0sXG5cdFx0bGVuZ3RoQ2hhbmdlOiB0cnVlLFxuXHRcdGxlbmd0aE1lbnU6IFsxMCwxNSwyMCwyNSw1MCwxMDBdLFxuXHRcdHBhZ2VMZW5ndGg6IDEwLFxuXHRcdGluZm86IGZhbHNlLFxuXHRcdHNlYXJjaGluZzogdHJ1ZSxcblx0XHRyZXNwb25zaXZlOlxuXHRcdFx0ZGV0YWlsczogZmFsc2Vcblx0XHRhdXRvV2lkdGg6IGZhbHNlLFxuXHRcdGNoYW5nZVNlbGVjdG9yOiAoc2VsZWN0b3IsIHVzZXJJZCkgLT5cblx0XHRcdHVubGVzcyB1c2VySWRcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXHRcdFx0c3BhY2UgPSBzZWxlY3Rvci5zcGFjZVxuXHRcdFx0dW5sZXNzIHNwYWNlXG5cdFx0XHRcdGlmIHNlbGVjdG9yPy4kYW5kPy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0c3BhY2UgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdXG5cdFx0XHR1bmxlc3Mgc3BhY2Vcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXHRcdFx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe3VzZXI6IHVzZXJJZCwgc3BhY2U6IHNwYWNlfSwge2ZpZWxkczoge19pZDogMX19KVxuXHRcdFx0dW5sZXNzIHNwYWNlX3VzZXJcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXHRcdFx0cmV0dXJuIHNlbGVjdG9yXG5cdFx0cGFnaW5nVHlwZTogXCJudW1iZXJzXCJcblxuXHR9XG5cblx0aWYgZmxvd0lkXG5cdFx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGZsb3dJZFxuXG5cdFx0b3B0aW9ucy5uYW1lID0ga2V5XG5cblx0XHRUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHMgPSBmaWVsZHNcblxuXHRcdGluc19maWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyBUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHNcblxuXHRcdGluc19maWVsZHMuZm9yRWFjaCAoZiktPlxuXHRcdFx0aWYgZi50eXBlICE9ICd0YWJsZScgJiYgZi5pc19saXN0X2Rpc3BsYXlcblx0XHRcdFx0b3B0aW9ucy5jb2x1bW5zLnB1c2hcblx0XHRcdFx0XHRkYXRhOiAoZi5uYW1lIHx8IGYuY29kZSksXG5cdFx0XHRcdFx0dGl0bGU6IHQoZi5uYW1lIHx8IGYuY29kZSksXG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXG5cdFx0XHRcdFx0XHR2YWx1ZXMgPSBkb2MudmFsdWVzIHx8IHt9XG5cblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWVzW2YuY29kZV1cblxuXHRcdFx0XHRcdFx0c3dpdGNoIGYudHlwZVxuXHRcdFx0XHRcdFx0XHR3aGVuICd1c2VyJ1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWU/Lm5hbWVcblx0XHRcdFx0XHRcdFx0d2hlbiAnZ3JvdXAnXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZnVsbG5hbWVcblx0XHRcdFx0XHRcdFx0d2hlbiAnZGF0ZSdcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2RhdGVUaW1lJ1xuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJylcblx0XHRcdFx0XHRcdFx0d2hlbiAnY2hlY2tib3gnXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWUgPT0gdHJ1ZSB8fCB2YWx1ZSA9PSAndHJ1ZSdcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIik7XG5cdFx0XHRcdFx0XHRcdHdoZW4gJ29kYXRhJ1xuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBfLmlzQXJyYXkodmFsdWUpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKClcblx0XHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZVsnQGxhYmVsJ11cblxuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlXG5cblxuXHRyZXR1cm4gb3B0aW9ucztcblxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxuXHRUYWJ1bGFyVGFibGVzLmluc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlIGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoKVxuXG5cbkdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zID0gKGJveCwgZmxvd0lkLCBmaWVsZHMpLT5cblx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZFxuXHRpZiBib3ggPT0gXCJpbmJveFwiXG5cdFx0b3B0aW9ucyA9IF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcylcblx0ZWxzZSBpZiBib3ggPT0gXCJvdXRib3hcIlxuXHRcdG9wdGlvbnMgPSBfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKVxuXHRlbHNlXG5cdFx0b3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXG5cdFx0aWYgIWZsb3dJZFxuXHRcdFx0b3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIlxuXHRpZiBmbG93SWRcblx0XHRvcHRpb25zLm5hbWUgPSBrZXlcblx0cmV0dXJuIG9wdGlvbnNcblxuXG5cbl9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IChmbG93SWQsIGZpZWxkcyktPlxuXHRvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcylcblxuXHRpZiAhZmxvd0lkXG5cdFx0b3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIlxuXG5cdG9wdGlvbnMub3JkZXIgPSBbWzgsIFwiZGVzY1wiXV1cblx0b3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9ICh0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpLT5cblx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xuXHRcdFx0e1xuXHRcdFx0XHQkbWF0Y2g6IHNlbGVjdG9yXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkcHJvamVjdDoge1xuXHRcdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdFx0XCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3Zlcydcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JG1hdGNoOiB7XG5cdFx0XHRcdFx0J19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogZmFsc2Vcblx0XHRcdFx0XHQnX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZCxcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdF1cblx0XHRpZiBzb3J0IGFuZCBzb3J0Lmxlbmd0aCA+IDBcblx0XHRcdHMxID0gc29ydFswXVxuXHRcdFx0czFfMCA9IHMxWzBdXG5cdFx0XHRzMV8xID0gczFbMV1cblx0XHRcdGlmIHMxXzAgPT0gJ3N0YXJ0X2RhdGUnXG5cblx0XHRcdFx0ZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dXG5cblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRncm91cDoge19pZDogXCIkX2lkXCIsIFwiYXBwcm92ZV9zdGFydF9kYXRlXCI6IHskZmlyc3Q6IFwiJF9hcHByb3ZlLnN0YXJ0X2RhdGVcIn19XG5cblx0XHRcdFx0YWdfc29ydCA9ICdhcHByb3ZlX3N0YXJ0X2RhdGUnOiBpZiBzMV8xID09ICdhc2MnIHRoZW4gMSBlbHNlIC0xXG5cblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRzb3J0OiBhZ19zb3J0XG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkc2tpcDogc2tpcFxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJGxpbWl0OiBsaW1pdFxuXHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpXG5cblx0XHRcdFx0YWdncmVnYXRlID0gKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIC0+XG5cdFx0XHRcdFx0dGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkgKGVyciwgZGF0YSkgLT5cblx0XHRcdFx0XHRcdGlmIGVyclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxuXHRcdFx0XHRcdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XG5cdFx0XHRcdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzLnB1c2ggZG9jLl9pZFxuXHRcdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRcdGlmIGNiXG5cdFx0XHRcdFx0XHRcdGNiKClcblx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKVxuXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSB0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHNcblxuXHRcdFx0XHRyZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHNcblxuXHRyZXR1cm4gb3B0aW9uc1xuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdFRhYnVsYXJUYWJsZXMuaW5ib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJpbmJveFwiKVxuXG5cbl9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSAoZmxvd0lkLCBmaWVsZHMpLT5cblx0b3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXG5cblx0aWYgIWZsb3dJZFxuXHRcdG9wdGlvbnMubmFtZSA9IFwib3V0Ym94X2luc3RhbmNlc1wiXG5cblx0b3B0aW9ucy5vcmRlciA9IFtbOSwgXCJkZXNjXCJdXVxuXHRvcHRpb25zLmZpbHRlcmVkUmVjb3JkSWRzID0gKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucyktPlxuXHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXG5cdFx0XHR7XG5cdFx0XHRcdCRtYXRjaDogc2VsZWN0b3Jcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCRwcm9qZWN0OiB7XG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRcIl9hcHByb3ZlXCI6ICckdHJhY2VzLmFwcHJvdmVzJ1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkbWF0Y2g6IHtcblx0XHRcdFx0XHQnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiB0cnVlXG5cdFx0XHRcdFx0JG9yOiBbeydfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkfSx7J19hcHByb3ZlLnVzZXInOiB1c2VySWR9XVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XVxuXHRcdGlmIHNvcnQgYW5kIHNvcnQubGVuZ3RoID4gMFxuXHRcdFx0czEgPSBzb3J0WzBdXG5cdFx0XHRzMV8wID0gczFbMF1cblx0XHRcdHMxXzEgPSBzMVsxXVxuXHRcdFx0aWYgczFfMCA9PSAnbXlfZmluaXNoX2RhdGUnXG5cblx0XHRcdFx0ZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dXG5cblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRncm91cDoge19pZDogXCIkX2lkXCIsIFwiYXBwcm92ZV9maW5pc2hfZGF0ZVwiOiB7JGxhc3Q6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJ9fVxuXG5cdFx0XHRcdGFnX3NvcnQgPSAnYXBwcm92ZV9maW5pc2hfZGF0ZSc6IGlmIHMxXzEgPT0gJ2FzYycgdGhlbiAxIGVsc2UgLTFcblxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJHNvcnQ6IGFnX3NvcnRcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRza2lwOiBza2lwXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkbGltaXQ6IGxpbWl0XG5cdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KClcblxuXHRcdFx0XHRhZ2dyZWdhdGUgPSAodGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikgLT5cblx0XHRcdFx0XHR0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheSAoZXJyLCBkYXRhKSAtPlxuXHRcdFx0XHRcdFx0aWYgZXJyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihlcnIpXG5cdFx0XHRcdFx0XHRkYXRhLmZvckVhY2ggKGRvYykgLT5cblx0XHRcdFx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMucHVzaCBkb2MuX2lkXG5cdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0aWYgY2Jcblx0XHRcdFx0XHRcdFx0Y2IoKVxuXHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhhZ2dyZWdhdGUpXG5cblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlIHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkc1xuXG5cdFx0XHRcdHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKClcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkc1xuXG5cdHJldHVybiBvcHRpb25zXG5cbk1ldGVvci5zdGFydHVwICgpLT5cblx0VGFidWxhclRhYmxlcy5vdXRib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJvdXRib3hcIilcblxuaWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcyA9IG5ldyBSZWFjdGl2ZVZhcigpXG5cbk1ldGVvci5zdGFydHVwICgpLT5cblx0VHJhY2tlci5hdXRvcnVuIChjKSAtPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudCAmJiAhU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRpZiBTZXNzaW9uLmdldChcImZsb3dJZFwiKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSAhPSAnZHJhZnQnXG5cdFx0XHRcdE1ldGVvci5jYWxsIFwibmV3SW5zdGFuY2VzTGlzdFRhYnVsYXJcIiwgU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCAoZXJyb3IsIHJlc3VsdCkgLT5cblx0XHRcdFx0XHRuZXdJbnN0YW5jZXNMaXN0VGFidWxhciBTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIHJlc3VsdFxuXHRcdFx0XHRcdFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX2NoYW5nZU9yZGVyKClcblxuXG5uZXdJbnN0YW5jZXNMaXN0VGFidWxhciA9IChib3gsIGZsb3dJZCwgZmllbGRzKS0+XG5cdGlmICFmaWVsZHNcblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7Zm9ybTogMX19KVxuXHRcdGZpZWxkcyA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3c/LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuZmllbGRzJzogMSB9IH0pPy5jdXJyZW50Py5maWVsZHNcblxuXHRmaWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyBmaWVsZHNcblxuXHRpZiBmaWVsZHM/LmZpbHRlclByb3BlcnR5KFwiaXNfbGlzdF9kaXNwbGF5XCIsIHRydWUpPy5sZW5ndGggPiAwXG5cdFx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZFxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0VGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzLnNldChuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSlcblx0XHRlbHNlXG5cdFx0XHRuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKVxuXHRcdGNvbnNvbGUubG9nIFwibmV3IFRhYnVsYXJUYWJsZXMgXCIsIGtleVxuXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0TWV0ZW9yLm1ldGhvZHNcblx0XHRuZXdJbnN0YW5jZXNMaXN0VGFidWxhcjogKGJveCwgZmxvd0lkKS0+XG5cdFx0XHRuZXdJbnN0YW5jZXNMaXN0VGFidWxhcihib3gsIGZsb3dJZClcblxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge2Zvcm06IDF9fSlcblx0XHRcdGZpZWxkcyA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3c/LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuZmllbGRzJzogMSB9IH0pPy5jdXJyZW50Py5maWVsZHNcblx0XHRcdHJldHVybiBmaWVsZHNcblxuXG4iLCJ2YXIgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMsIF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucywgX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucywgX2hhbmRsZUxpc3RGaWVsZHMsIGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIsIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyLCB1cGRhdGVUYWJ1bGFyVGl0bGU7XG5cblN0ZWVkb3Muc3Vic1tcIkluc3RhbmNlVGFidWxhclwiXSA9IG5ldyBTdWJzTWFuYWdlcigpO1xuXG5faGFuZGxlTGlzdEZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcykge1xuICB2YXIgaW5zX2ZpZWxkcztcbiAgaW5zX2ZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICBpZiAoZmllbGRzICE9IG51bGwpIHtcbiAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICB2YXIgcmVmO1xuICAgICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJyk7XG4gICAgICB9IGVsc2UgaWYgKGYudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICAgIHJldHVybiBpbnNfZmllbGRzLnB1c2goZjEpO1xuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnNfZmllbGRzLnB1c2goZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGluc19maWVsZHM7XG59O1xuXG51cGRhdGVUYWJ1bGFyVGl0bGUgPSBmdW5jdGlvbigpIHt9O1xuXG5pbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyID0gZnVuY3Rpb24oZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGluc19maWVsZHMsIGtleSwgb3B0aW9ucztcbiAgb3B0aW9ucyA9IHtcbiAgICBuYW1lOiBcImluc3RhbmNlc1wiLFxuICAgIGNvbGxlY3Rpb246IGRiLmluc3RhbmNlcyxcbiAgICBwdWI6IFwiaW5zdGFuY2VfdGFidWxhclwiLFxuICAgIG9uVW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MCk7XG4gICAgfSxcbiAgICBkcmF3Q2FsbGJhY2s6IGZ1bmN0aW9uKHNldHRpbmdzKSB7XG4gICAgICB2YXIgZWxsaXBzaXNMaW5rLCBlbXB0eVRkLCB0aXRsZTtcbiAgICAgIGVtcHR5VGQgPSAkKFwiLmRhdGFUYWJsZXNfZW1wdHlcIik7XG4gICAgICBpZiAoZW1wdHlUZC5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlUZFswXS5jb2xTcGFuID0gXCI2XCI7XG4gICAgICB9XG4gICAgICBpZiAoIVN0ZWVkb3MuaXNNb2JpbGUoKSAmJiAhU3RlZWRvcy5pc1BhZCgpKSB7XG4gICAgICAgIE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKTtcbiAgICAgICAgJChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChcIi5pbnN0YW5jZS1saXN0XCIpLnBlcmZlY3RTY3JvbGxiYXIoXCJ1cGRhdGVcIik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKTtcbiAgICAgIH1cbiAgICAgIHRpdGxlID0gdChcInBhZ2VyX2lucHV0X2hpbnRcIik7XG4gICAgICBlbGxpcHNpc0xpbmsgPSBzZXR0aW5ncy5vSW5zdGFuY2UucGFyZW50KCkuZmluZCgnLnBhZ2luZ19udW1iZXJzIC5wYWdpbmF0aW9uIC5kaXNhYmxlZCBhJyk7XG4gICAgICByZXR1cm4gZWxsaXBzaXNMaW5rLmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGdvUGFnZSwgaW5wdXQ7XG4gICAgICAgIGlmICghJCh0aGlzKS5maW5kKCdpbnB1dCcpLmxlbmd0aCkge1xuICAgICAgICAgIGlucHV0ID0gJCgnPGlucHV0IGNsYXNzPVwicGFnaW5hdGVfaW5wdXQgZm9ybS1jb250cm9sIGlucHV0LXNtXCIgdHlwZT1cInRleHRcIiBzdHlsZT1cImJvcmRlcjogbm9uZTsgcGFkZGluZzowIDJweDtcIi8+Jyk7XG4gICAgICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgaW5wdXQuY3NzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNTJweFwiLFxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMjBweFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQuY3NzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNTJweFwiLFxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTZweFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5wdXQuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgdGl0bGUpO1xuICAgICAgICAgICQodGhpcykuZW1wdHkoKS5hcHBlbmQoaW5wdXQpO1xuICAgICAgICAgIGdvUGFnZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcGFnZXM7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgIHBhZ2VzID0gTWF0aC5jZWlsKHNldHRpbmdzLmZuUmVjb3Jkc0Rpc3BsYXkoKSAvIHNldHRpbmdzLl9pRGlzcGxheUxlbmd0aCk7XG4gICAgICAgICAgICAgIGlmIChpbmRleCA+IHBhZ2VzKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBwYWdlcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3Mub0luc3RhbmNlLkRhdGFUYWJsZSgpLnBhZ2UoaW5kZXgpLmRyYXcoJ3BhZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlucHV0LmJsdXIoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgZ29QYWdlKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLnBhcmVudCgpLmh0bWwoJy4uLicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBpbnB1dC5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZTtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUudG9TdHJpbmcoKSA9PT0gXCIxM1wiKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGdvUGFnZShjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY3JlYXRlZFJvdzogZnVuY3Rpb24ocm93LCBkYXRhLCBkYXRhSW5kZXgpIHtcbiAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgICAgaWYgKGRhdGEuX2lkID09PSBGbG93Um91dGVyLmN1cnJlbnQoKS5wYXJhbXMuaW5zdGFuY2VJZCkge1xuICAgICAgICAgIHJldHVybiByb3cuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY29sdW1uczogW1xuICAgICAge1xuICAgICAgICBkYXRhOiBcIl9pZFwiLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFnZW50X3ZpZXcsIGNjX3ZpZXcsIGZsb3dfbmFtZSwgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcywgbW9kaWZpZWQsIG1vZGlmaWVkRnJvbU5vdywgbW9kaWZpZWRTdHJpbmcsIHByaW9yaXR5SWNvbiwgcHJpb3JpdHlJY29uQ2xhc3MsIHByaW9yaXR5VmFsdWUsIHJlZiwgcmVmMSwgc3RlcF9jdXJyZW50X25hbWVfdmlldywgdW5yZWFkO1xuICAgICAgICAgIG1vZGlmaWVkU3RyaW5nID0gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgICAgICAgbW9kaWZpZWQgPSBkb2MubW9kaWZpZWQ7XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnICYmIGRvYy5zdGF0ZSAhPT0gJ2RyYWZ0Jykge1xuICAgICAgICAgICAgbW9kaWZpZWQgPSBkb2Muc3RhcnRfZGF0ZSB8fCBkb2MubW9kaWZpZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ291dGJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdtb25pdG9yJykge1xuICAgICAgICAgICAgbW9kaWZpZWQgPSBkb2Muc3VibWl0X2RhdGUgfHwgZG9jLnN1Ym1pdF9kYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtb2RpZmllZEZyb21Ob3cgPSBTdGVlZG9zLm1vbWVudFJlYWN0aXZlRnJvbU5vdyhtb2RpZmllZCk7XG4gICAgICAgICAgZmxvd19uYW1lID0gZG9jLmZsb3dfbmFtZTtcbiAgICAgICAgICBjY192aWV3ID0gXCJcIjtcbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmlzX2NjICYmICEoKHJlZiA9IGRvYy5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpIDogdm9pZCAwKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICAgICAgY2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCI7XG4gICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8c3Bhbj4oXCIgKyBkb2MuY3VycmVudF9zdGVwX25hbWUgKyBcIik8L3NwYW4+PC9kaXY+XCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSAhPT0gJ2RyYWZ0JyAmJiBkb2MuY3VycmVudF9zdGVwX25hbWUpIHtcbiAgICAgICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz5cIiArIGZsb3dfbmFtZSArIFwiPHNwYW4+KFwiICsgZG9jLmN1cnJlbnRfc3RlcF9uYW1lICsgXCIpPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz5cIiArIGZsb3dfbmFtZSArIFwiPC9kaXY+XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuYWdlbnRfdXNlcl9uYW1lICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICAgICAgICAgIHVzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lXG4gICAgICAgICAgICB9KSArIFwiKTwvbGFiZWw+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVucmVhZCA9ICcnO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaW9yaXR5SWNvbiA9IFwiXCI7XG4gICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5VmFsdWUgPSAocmVmMSA9IGRvYy52YWx1ZXMpICE9IG51bGwgPyByZWYxLnByaW9yaXR5IDogdm9pZCAwO1xuICAgICAgICAgIHN3aXRjaCAocHJpb3JpdHlWYWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBcIueJueaApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIue0p+aApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLlip7mlodcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmlvcml0eUljb25DbGFzcykge1xuICAgICAgICAgICAgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktXCIgKyBwcmlvcml0eUljb25DbGFzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPlwiICsgdW5yZWFkICsgXCI8L2Rpdj5cXG48ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lIFwiICsgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyArIFwiJz5cIiArIGRvYy5uYW1lICsgY2NfdmlldyArIGFnZW50X3ZpZXcgKyBcIlxcblx0PHNwYW4+XCIgKyBkb2MuYXBwbGljYW50X25hbWUgKyBcIjwvc3Bhbj5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPSdpbnN0YW5jZS1kZXRhaWwnPlwiICsgc3RlcF9jdXJyZW50X25hbWVfdmlldyArIFwiXFxuXHQ8c3BhbiBjbGFzcz0naW5zdGFuY2UtbW9kaWZpZWQnIHRpdGxlPSdcIiArIG1vZGlmaWVkU3RyaW5nICsgXCInPlwiICsgbW9kaWZpZWRGcm9tTm93ICsgXCI8L3NwYW4+XFxuPC9kaXY+XCI7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm5hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfbmFtZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBhZ2VudF92aWV3LCBjY192aWV3LCBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzLCBwcmlvcml0eUljb25DbGFzcywgcHJpb3JpdHlWYWx1ZSwgcmVmLCByZWYxLCBzdGVwX2N1cnJlbnRfbmFtZV92aWV3LCB1bnJlYWQ7XG4gICAgICAgICAgY2NfdmlldyA9IFwiXCI7XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5pc19jYyAmJiAhKChyZWYgPSBkb2MuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSA6IHZvaWQgMCkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgICAgIGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZ2VudF92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmFnZW50X3VzZXJfbmFtZSkge1xuICAgICAgICAgICAgYWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge1xuICAgICAgICAgICAgICB1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZVxuICAgICAgICAgICAgfSkgKyBcIik8L2xhYmVsPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1bnJlYWQgPSAnJztcbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiXCI7XG4gICAgICAgICAgcHJpb3JpdHlWYWx1ZSA9IChyZWYxID0gZG9jLnZhbHVlcykgIT0gbnVsbCA/IHJlZjEucHJpb3JpdHkgOiB2b2lkIDA7XG4gICAgICAgICAgc3dpdGNoIChwcmlvcml0eVZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFwi54m55oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi57Sn5oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIuWKnuaWh1wiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByaW9yaXR5SWNvbkNsYXNzKSB7XG4gICAgICAgICAgICBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS1cIiArIHByaW9yaXR5SWNvbkNsYXNzO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS1yZWFkLWJhcic+XCIgKyB1bnJlYWQgKyBcIjwvZGl2PlxcbjxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgXCIgKyBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzICsgXCInPlwiICsgZG9jLm5hbWUgKyBjY192aWV3ICsgYWdlbnRfdmlldyArIFwiPC9kaXY+XCI7XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwic3VibWl0X2RhdGVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfc3VibWl0X2RhdGVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLnN1Ym1pdF9kYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5zdWJtaXRfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiZmxvd19uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiY3VycmVudF9zdGVwX25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RlcF9jdXJyZW50X25hbWVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgY2NfdGFnLCBqdWRnZSwgc3RlcF9jdXJyZW50X25hbWU7XG4gICAgICAgICAgaWYgKGRvYy5zdGF0ZSA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgICAgICAganVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJztcbiAgICAgICAgICBjY190YWcgPSAnJztcbiAgICAgICAgICBpZiAoZG9jLmNjX2NvdW50ID4gMCkge1xuICAgICAgICAgICAgY2NfdGFnID0gVEFQaTE4bi5fXygnY2NfdGFnJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcInN0ZXAtY3VycmVudC1zdGF0ZSBcIiArIGp1ZGdlICsgXCJcXFwiPlwiICsgc3RlcF9jdXJyZW50X25hbWUgKyBjY190YWcgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm1vZGlmaWVkXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX21vZGlmaWVkXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgcmV0dXJuIG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwic3RhcnRfZGF0ZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdGFydF9kYXRlXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5zdGFydF9kYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5zdGFydF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJteV9maW5pc2hfZGF0ZVwiLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5teV9maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2MubXlfZmluaXNoX2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm1vZGlmaWVkXCIsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwia2V5d29yZHNcIixcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJpc19hcmNoaXZlZFwiLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgICBpZiAoKGRvYyAhPSBudWxsID8gKHJlZiA9IGRvYy52YWx1ZXMpICE9IG51bGwgPyByZWYucmVjb3JkX25lZWQgOiB2b2lkIDAgOiB2b2lkIDApICYmIGRvYy52YWx1ZXMucmVjb3JkX25lZWQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICBpZiAoZG9jICE9IG51bGwgPyBkb2MuaXNfYXJjaGl2ZWQgOiB2b2lkIDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHQoXCJZRVNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdChcIk5PXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLFxuICAgIGRvbTogKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICByZXR1cm4gJ3RwJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAndHBsJztcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIG9yZGVyOiBbWzQsIFwiZGVzY1wiXV0sXG4gICAgZXh0cmFGaWVsZHM6IFtcImZvcm1cIiwgXCJmbG93XCIsIFwiaW5ib3hfdXNlcnNcIiwgXCJzdGF0ZVwiLCBcInNwYWNlXCIsIFwiYXBwbGljYW50XCIsIFwiZm9ybV92ZXJzaW9uXCIsIFwiZmxvd192ZXJzaW9uXCIsIFwiaXNfY2NcIiwgXCJjY19jb3VudFwiLCBcImlzX3JlYWRcIiwgXCJjdXJyZW50X3N0ZXBfbmFtZVwiLCBcInZhbHVlc1wiLCBcImtleXdvcmRzXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJmbG93X25hbWVcIiwgXCJpc19oaWRkZW5cIiwgXCJhZ2VudF91c2VyX25hbWVcIl0sXG4gICAgbGVuZ3RoQ2hhbmdlOiB0cnVlLFxuICAgIGxlbmd0aE1lbnU6IFsxMCwgMTUsIDIwLCAyNSwgNTAsIDEwMF0sXG4gICAgcGFnZUxlbmd0aDogMTAsXG4gICAgaW5mbzogZmFsc2UsXG4gICAgc2VhcmNoaW5nOiB0cnVlLFxuICAgIHJlc3BvbnNpdmU6IHtcbiAgICAgIGRldGFpbHM6IGZhbHNlXG4gICAgfSxcbiAgICBhdXRvV2lkdGg6IGZhbHNlLFxuICAgIGNoYW5nZVNlbGVjdG9yOiBmdW5jdGlvbihzZWxlY3RvciwgdXNlcklkKSB7XG4gICAgICB2YXIgcmVmLCBzcGFjZSwgc3BhY2VfdXNlcjtcbiAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBzZWxlY3Rvci5zcGFjZTtcbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsID8gKHJlZiA9IHNlbGVjdG9yLiRhbmQpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICBzcGFjZSA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICAgIHVzZXI6IHVzZXJJZCxcbiAgICAgICAgc3BhY2U6IHNwYWNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIF9pZDogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghc3BhY2VfdXNlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICB9LFxuICAgIHBhZ2luZ1R5cGU6IFwibnVtYmVyc1wiXG4gIH07XG4gIGlmIChmbG93SWQpIHtcbiAgICBrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgZmxvd0lkO1xuICAgIG9wdGlvbnMubmFtZSA9IGtleTtcbiAgICBUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHMgPSBmaWVsZHM7XG4gICAgaW5zX2ZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzKFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkcyk7XG4gICAgaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgIGlmIChmLnR5cGUgIT09ICd0YWJsZScgJiYgZi5pc19saXN0X2Rpc3BsYXkpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuY29sdW1ucy5wdXNoKHtcbiAgICAgICAgICBkYXRhOiBmLm5hbWUgfHwgZi5jb2RlLFxuICAgICAgICAgIHRpdGxlOiB0KGYubmFtZSB8fCBmLmNvZGUpLFxuICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgICAgdmFyIHZhbHVlLCB2YWx1ZXM7XG4gICAgICAgICAgICB2YWx1ZXMgPSBkb2MudmFsdWVzIHx8IHt9O1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbZi5jb2RlXTtcbiAgICAgICAgICAgIHN3aXRjaCAoZi50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLm5hbWUgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5mdWxsbmFtZSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdkYXRlVGltZSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnb2RhdGEnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKF8uaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfLnBsdWNrKHZhbHVlLCAnQGxhYmVsJykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVbJ0BsYWJlbCddO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLmluc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlKGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoKSk7XG59KTtcblxuR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMgPSBmdW5jdGlvbihib3gsIGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBrZXksIG9wdGlvbnM7XG4gIGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWQ7XG4gIGlmIChib3ggPT09IFwiaW5ib3hcIikge1xuICAgIG9wdGlvbnMgPSBfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJvdXRib3hcIikge1xuICAgIG9wdGlvbnMgPSBfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcyk7XG4gICAgaWYgKCFmbG93SWQpIHtcbiAgICAgIG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCI7XG4gICAgfVxuICB9XG4gIGlmIChmbG93SWQpIHtcbiAgICBvcHRpb25zLm5hbWUgPSBrZXk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5fZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSBmdW5jdGlvbihmbG93SWQsIGZpZWxkcykge1xuICB2YXIgb3B0aW9ucztcbiAgb3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpO1xuICBpZiAoIWZsb3dJZCkge1xuICAgIG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCI7XG4gIH1cbiAgb3B0aW9ucy5vcmRlciA9IFtbOCwgXCJkZXNjXCJdXTtcbiAgb3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9IGZ1bmN0aW9uKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucykge1xuICAgIHZhciBhZ19zb3J0LCBhZ2dyZWdhdGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGFzeW5jX2FnZ3JlZ2F0ZSwgZmlsdGVyZWRSZWNvcmRJZHMsIHMxLCBzMV8wLCBzMV8xO1xuICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXG4gICAgICB7XG4gICAgICAgICRtYXRjaDogc2VsZWN0b3JcbiAgICAgIH0sIHtcbiAgICAgICAgJHByb2plY3Q6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgIFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICdfYXBwcm92ZS5pc19maW5pc2hlZCc6IGZhbHNlLFxuICAgICAgICAgICdfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICAgIGlmIChzb3J0ICYmIHNvcnQubGVuZ3RoID4gMCkge1xuICAgICAgczEgPSBzb3J0WzBdO1xuICAgICAgczFfMCA9IHMxWzBdO1xuICAgICAgczFfMSA9IHMxWzFdO1xuICAgICAgaWYgKHMxXzAgPT09ICdzdGFydF9kYXRlJykge1xuICAgICAgICBmaW5kT3B0aW9ucy5zb3J0ID0gW1snbW9kaWZpZWQnLCBzMV8xXV07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGdyb3VwOiB7XG4gICAgICAgICAgICBfaWQ6IFwiJF9pZFwiLFxuICAgICAgICAgICAgXCJhcHByb3ZlX3N0YXJ0X2RhdGVcIjoge1xuICAgICAgICAgICAgICAkZmlyc3Q6IFwiJF9hcHByb3ZlLnN0YXJ0X2RhdGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFnX3NvcnQgPSB7XG4gICAgICAgICAgJ2FwcHJvdmVfc3RhcnRfZGF0ZSc6IHMxXzEgPT09ICdhc2MnID8gMSA6IC0xXG4gICAgICAgIH07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNvcnQ6IGFnX3NvcnRcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNraXA6IHNraXBcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGxpbWl0OiBsaW1pdFxuICAgICAgICB9KTtcbiAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgYWdncmVnYXRlID0gZnVuY3Rpb24odGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikge1xuICAgICAgICAgIHRhYmxlLmNvbGxlY3Rpb24ucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVfb3BlcmF0aW9uKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMucHVzaChkb2MuX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcyk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMuaW5ib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJpbmJveFwiKSk7XG59KTtcblxuX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IGZ1bmN0aW9uKGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBvcHRpb25zO1xuICBvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcyk7XG4gIGlmICghZmxvd0lkKSB7XG4gICAgb3B0aW9ucy5uYW1lID0gXCJvdXRib3hfaW5zdGFuY2VzXCI7XG4gIH1cbiAgb3B0aW9ucy5vcmRlciA9IFtbOSwgXCJkZXNjXCJdXTtcbiAgb3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9IGZ1bmN0aW9uKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucykge1xuICAgIHZhciBhZ19zb3J0LCBhZ2dyZWdhdGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGFzeW5jX2FnZ3JlZ2F0ZSwgZmlsdGVyZWRSZWNvcmRJZHMsIHMxLCBzMV8wLCBzMV8xO1xuICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXG4gICAgICB7XG4gICAgICAgICRtYXRjaDogc2VsZWN0b3JcbiAgICAgIH0sIHtcbiAgICAgICAgJHByb2plY3Q6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgIFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICdfYXBwcm92ZS5pc19maW5pc2hlZCc6IHRydWUsXG4gICAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICdfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICdfYXBwcm92ZS51c2VyJzogdXNlcklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgICBpZiAoc29ydCAmJiBzb3J0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHMxID0gc29ydFswXTtcbiAgICAgIHMxXzAgPSBzMVswXTtcbiAgICAgIHMxXzEgPSBzMVsxXTtcbiAgICAgIGlmIChzMV8wID09PSAnbXlfZmluaXNoX2RhdGUnKSB7XG4gICAgICAgIGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkZ3JvdXA6IHtcbiAgICAgICAgICAgIF9pZDogXCIkX2lkXCIsXG4gICAgICAgICAgICBcImFwcHJvdmVfZmluaXNoX2RhdGVcIjoge1xuICAgICAgICAgICAgICAkbGFzdDogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFnX3NvcnQgPSB7XG4gICAgICAgICAgJ2FwcHJvdmVfZmluaXNoX2RhdGUnOiBzMV8xID09PSAnYXNjJyA/IDEgOiAtMVxuICAgICAgICB9O1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRzb3J0OiBhZ19zb3J0XG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRza2lwOiBza2lwXG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRsaW1pdDogbGltaXRcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGFnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIHtcbiAgICAgICAgICB0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzLnB1c2goZG9jLl9pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSk7XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkcztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLm91dGJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcIm91dGJveFwiKSk7XG59KTtcblxuaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICBUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMgPSBuZXcgUmVhY3RpdmVWYXIoKTtcbn1cblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUcmFja2VyLmF1dG9ydW4oZnVuY3Rpb24oYykge1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQgJiYgIVN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9PSAnZHJhZnQnKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuY2FsbChcIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyXCIsIFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkge1xuICAgICAgICAgIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyKFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgcmVzdWx0KTtcbiAgICAgICAgICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fY2hhbmdlT3JkZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0pO1xuXG5uZXdJbnN0YW5jZXNMaXN0VGFidWxhciA9IGZ1bmN0aW9uKGJveCwgZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGZsb3csIGtleSwgcmVmLCByZWYxLCByZWYyO1xuICBpZiAoIWZpZWxkcykge1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvd0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGZvcm06IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBmaWVsZHMgPSAocmVmID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3cgIT0gbnVsbCA/IGZsb3cuZm9ybSA6IHZvaWQgMFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICAnY3VycmVudC5maWVsZHMnOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jdXJyZW50KSAhPSBudWxsID8gcmVmMS5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIH1cbiAgZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMoZmllbGRzKTtcbiAgaWYgKChmaWVsZHMgIT0gbnVsbCA/IChyZWYyID0gZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfbGlzdF9kaXNwbGF5XCIsIHRydWUpKSAhPSBudWxsID8gcmVmMi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgIGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWQ7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgVGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzLnNldChuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSk7XG4gICAgfVxuICAgIHJldHVybiBjb25zb2xlLmxvZyhcIm5ldyBUYWJ1bGFyVGFibGVzIFwiLCBrZXkpO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIE1ldGVvci5tZXRob2RzKHtcbiAgICBuZXdJbnN0YW5jZXNMaXN0VGFidWxhcjogZnVuY3Rpb24oYm94LCBmbG93SWQpIHtcbiAgICAgIHZhciBmaWVsZHMsIGZsb3csIHJlZiwgcmVmMTtcbiAgICAgIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyKGJveCwgZmxvd0lkKTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93SWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZm9ybTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZpZWxkcyA9IChyZWYgPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93ICE9IG51bGwgPyBmbG93LmZvcm0gOiB2b2lkIDBcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgICB9XG4gICAgICB9KSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmN1cnJlbnQpICE9IG51bGwgPyByZWYxLmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==
