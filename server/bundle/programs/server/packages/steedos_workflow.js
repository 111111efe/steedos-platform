(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;
var global = Package.meteor.global;
var meteorEnv = Package.meteor.meteorEnv;
var ReactiveVar = Package['reactive-var'].ReactiveVar;
var ReactiveDict = Package['reactive-dict'].ReactiveDict;
var ECMAScript = Package.ecmascript.ECMAScript;
var Random = Package.random.Random;
var DDP = Package['ddp-client'].DDP;
var DDPServer = Package['ddp-server'].DDPServer;
var check = Package.check.check;
var Match = Package.check.Match;
var DDPRateLimiter = Package['ddp-rate-limiter'].DDPRateLimiter;
var _ = Package.underscore._;
var Tracker = Package.tracker.Tracker;
var Deps = Package.tracker.Deps;
var Blaze = Package.blaze.Blaze;
var UI = Package.blaze.UI;
var Handlebars = Package.blaze.Handlebars;
var JsonRoutes = Package['simple:json-routes'].JsonRoutes;
var RestMiddleware = Package['simple:json-routes'].RestMiddleware;
var Restivus = Package['nimble:restivus'].Restivus;
var SimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;
var MongoObject = Package['aldeed:simple-schema'].MongoObject;
var Tabular = Package['aldeed:tabular'].Tabular;
var CollectionHooks = Package['matb33:collection-hooks'].CollectionHooks;
var BlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;
var FlowRouter = Package['kadira:flow-router'].FlowRouter;
var WorkflowManager = Package['steedos:app-workflow'].WorkflowManager;
var uuflowManager = Package['steedos:app-workflow'].uuflowManager;
var pushManager = Package['steedos:app-workflow'].pushManager;
var steedosExport = Package['steedos:app-workflow'].steedosExport;
var steedosImport = Package['steedos:app-workflow'].steedosImport;
var Template = Package['meteorhacks:ssr'].Template;
var SSR = Package['meteorhacks:ssr'].SSR;
var SubsManager = Package['meteorhacks:subs-manager'].SubsManager;
var WebApp = Package.webapp.WebApp;
var WebAppInternals = Package.webapp.WebAppInternals;
var main = Package.webapp.main;
var moment = Package['momentjs:moment'].moment;
var CFDataManager = Package['steedos:autoform'].CFDataManager;
var ServerSession = Package['steedos:base'].ServerSession;
var Selector = Package['steedos:base'].Selector;
var Steedos = Package['steedos:base'].Steedos;
var AjaxCollection = Package['steedos:base'].AjaxCollection;
var SteedosDataManager = Package['steedos:base'].SteedosDataManager;
var SteedosOffice = Package['steedos:base'].SteedosOffice;
var billingManager = Package['steedos:base'].billingManager;
var MailQueue = Package['steedos:mailqueue'].MailQueue;
var WebhookQueue = Package['steedos:webhookqueue'].WebhookQueue;
var _i18n = Package['universe:i18n']._i18n;
var i18n = Package['universe:i18n'].i18n;
var meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;
var Promise = Package.promise.Promise;
var meteorInstall = Package.modules.meteorInstall;
var HTML = Package.htmljs.HTML;
var Collection2 = Package['aldeed:collection2-core'].Collection2;
var FS = Package['steedos:cfs-base-package'].FS;
var MongoInternals = Package.mongo.MongoInternals;
var Mongo = Package.mongo.Mongo;

/* Package-scope variables */
var __coffeescriptShare, Workflow, InstanceReadOnlyTemplate, TemplateManager, SteedosTable, year, month, date, hours, seconds, locale, utcOffset, str, addItemTr, values_history, current_user_info, flow_id, userId, orgFieldUsers, formula_values, new_ins_id, instanceHtml, Form_formula, getHandlersManager, permissionManager, approveManager, flowManager, formManager, stepManager, workflowTemplate, InstanceManager, WorkflowManager_format, CoreForm, InstanceNumberRules;

var require = meteorInstall({"node_modules":{"meteor":{"steedos:workflow":{"i18n":{"en.i18n.json.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/i18n/en.i18n.json.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Package['universe:i18n'].i18n.addTranslations('en','',{"Steedos Workflow":"Workflow","inbox":"Inbox","outbox":"Outbox","draft":"Draft","pending":"In Progress","completed":"Finished","monitor":"Monitor","FlowName":"Workflow Name","Search":"Search","My Approval":"My Approval","My Applications":"My Applications","Submit":"Submit","steedos_desktop":"Steedos Desktop","menu_navigation":"Navigation","Workflow":"Workflow","form_new":"New","instances":"Request","instances_name":"Title","instances_applicant_name":"Applicant","instances_modified":"Modified","instances_applicant_organization_name":"Organization","instances_submit_date":"Submit Date","instances_flow":"Workflow","instances_step_current_name":"Current step","instances_flow_name":"Workflow","instances_current_step_name":"Current step","instance_approve":"Approve","instance_reject":"Reject","instance_readed":"Read","instance_next_step":"Next Step","instance_next_step_users":"Next Step User(s)","instance_initiator":"Initiator","instance_approval_history":"Approval History","instance_in_progress":"In Progress","instance_submit":"Submit","instance_save":"Save","instance_delete":"Delete","instance_attachment":"Attachments","instance_cancel":"Cancel Request","instance_reassign":"Reassign","instance_relocate":"Relocate","instance_print":"Print","flow_roles":"Workflow Positions","flow_roles_name":"Position Name","flow_positions":"Positions Users","flow_positions_role":"Position","flow_positions_org":"Organization","flow_positions_users":"Users","flow_positions_role_name()":"Position","flow_positions_org_name()":"Organization","flow_positions_users_name()":"Users","workflow_table_confirm":"OK","workflow_table_delete":"Delete","Attachment deleted successfully":"Attachment deleted successfully!","Attachment was added successfully":"Attachment was added successfully!","Saved successfully":"Saved successfully!","Added successfully":"Added successfully!","Deleted successfully":"Deleted successfully!","Submitted successfully":"Submitted successfully!","Canceled successfully":"Canceled successfully!","Reassigned successfully":"Reassigned successfully!","Relocated successfully":"Relocated successfully!","Attachments":"Attachments","Versions":"Versions","Current Version":"（Current Version）","workflow_attachment_free_size_limit":"Sorry, Attachment larger than 1M is not accepted for free version.","workflow_attachment_paid_size_limit":"Failed to upload, because attachment size is over ","workflow_attachment_download":"Download","workflow_attachment_view":"View","workflow_attachment_isReadOnly":"ReadOnly-","workflow_attachment_versions":"Versions","workflow_attachment_uploading":"Uploading ","workflow_attachment_downloading":"Downloading %s...","workflow_attachment_creating":"Creating a new file: %s...","workflow_attachment_officeOnline":"Edit","workflow_attachment_save":"Save","workflow_attachment_close":"Close","workflow_attachment_delete":"Delete","workflow_attachment_convert_to_pdf":"Converting '%s' to pdf format...","workflow_attachment_wordToPdf":"Convert To Pdf","workflow_attachment_wordToPdf_failed":"Convert to PDF failed!","workflow_attachment_locked_tip":"Unlock the file, then submit","Instance State approved":"Approved","Instance State rejected":"Rejected","Instance State terminated":"Cancelled","Instance State finished":"Completed","Instance State pending":"In Progress","Instance State reassigned":"Reassigned","Instance State relocated":"Relocated","Instance Relocate Hint":"Enter your comments here.","Instance Relocate Title":"Relocate","Instance Relocate Reason":"Comments are required.","Instance Relocate NewInboxUsers":"Please select a user.","Instance Relocate Ok":"Relocated successfully.","Instance Relocate CurStep":"Current Step: ","instance_reassign_title":"Reassign","instance_reassign_curstep":"Current Step: ","instance_reassign_reason":"Enter your comments here.","instance_reassign_ok":"Reassigned successfully.","instance_reassign_user":"Select User(s)","instance_cancel_title":"Cancel Request","instance_cancel_reason":"Enter your comments here","instance_reassign_error_reason_required":"Comments are required.","instance_reassign_error_users_required":"Please select a user.","instance_cancel_error_reason_required":"Comments are required.","instance_select_next_step":"Please select next step","instance_multi_next_step_tips":"Multi next steps，please select next step，and send the request by click the bottom Send button","instance_next_step_user":"Please select next step user(s)","instance_reasons_reject":"Reasons necessary when reject the application","instance_field":"The field","instance_is_required":"is required","instance_email_format_error":"Format error of the email address","node_office_edit_online":"Edit Online","node_office_message":"You are editing document, please save and exit Office software when done.","node_office_warning":"The file has been modified, do you want to save it as a new version?","node_office_upload":"Upload ","node_office_confirm":"Confirm","node_office_cancel":"Cancel","node_office_uploaded":"The attachment has been uploaded","node_office_filePath":"File: ","node_office_exists_message":"File already exists, replace it?","node_office_workflow":"Workflow","node_pdf_error":"Pdf signature failed, please re-sign!","node_pdf_sign_online":"Sign Online","node_pdf_message":"You are signing pdf file.","node_pdf_filePath":"File: ","workflow_export_thismonth":"Export requests this month","workflow_export_lastmonth":"Export requests last month","workflow_export_thisyear":"Export requests this year","workflow_export_all":"Export all requests","workflow_export_filter":"Filter by process","workflow_export_search":"Search for requests according to the workflow","workflow_export_data":"Export to Excel","spaces_isarrearageSpace":"your space is arrearage","cc_help":"https://www.steedos.com/us/help/workflow/instance_carboncopy.html","relocate_help":"https://www.steedos.com/us/help/workflow/instance_relocate.html","reassign_help":"https://www.steedos.com/us/help/workflow/instance_reassign.html","forward_help":"https://www.steedos.com/us/help/workflow/instance_forward.html","export_filter_help":"https://www.steedos.com/us/help/workflow/instance_search.html","new_help":"https://www.steedos.com/us/help/workflow/instance_add.html","Inbox Suggestion NextSteps Label":"Next step: ","Inbox Suggestion NextSteps Handler Label":"Assignee: ","Workflow Designer":"Workflow Designer","User Management":"User Management","All flows":"All workflows","Select a flow":"Select a workflow","Fill in form":"New Request","Flow upgraded":"The workflow has been upgraded. Please make sure this request meet the requirements of the new version.","Are you sure?":"Are you sure?","Select placeholder":"Please select","workflow_no_category":"No category","space_users_error_space_required":"Space required","flow_roles_error_positions_exists":"Users exised in the role","workflow_left_parenthesis":"(","workflow_right_parenthesis":")","instance_cc_description":"Carbon Description","instance_cc_from":"Carbon Form","instance_cc_title":"Carbon Copy","instance_cc_done":"Carbon copied!","instance_curstep":"Current Step: ","instance_cc_user":"Carbon Copy To","instance_cc_error_users_required":"Please select user.","workflow_form_edit":"Workflow List","flows_template":"Request Template","flows_name":"Workflow Name","flows_print_template":"Print Template","flows_instance_template":"Form Template","flows_description":"Flow Description","workflow_attach_unlock":"Unlock","workflow_attach_locked_by":"%s is editing","workflow_attach_confirm_delete":"Are you sure?","workflow_attach_confirm_delete_messages":"You will not be able to recover this imaginary file!","workflow_attach_confirm":"Delete","workflow_attach_cancel":"Cancel","workflow_attach_to_pdf":"Convert to PDF","workflow_attach_to_pdf_message":"Convert '%s' to pdf format?","workflow_attach_upload":"Upload","workflow_attach_new":"New","workflow_attachment_signature":"Signature","workflow_select_an_app":"Steedos Apps","workflow_suggestion_placeholder":"Please fill in comments.","instance_opinion_title":"Opinions","instance_opinion_btn":"Opinions","instance_opinion_input":"Add a opinion","instance_opinion_add_success":"Add successfully!","instance_opinion_remove_success":"Remove successfully!","instance_opinion_error":"Error","instance_opinion_exists":"Opinion exists","instance_opinion_add_tip":"You have not set up common comments yet.","instance_forward_title":"Request Forward","form_field_checkbox_yes":"YES","form_field_checkbox_no":"NO","flows_events":"Events","flows_events_error":"Workflow Script Error: ","instance_search_advanced_search":"Advanced search","instance_search_flow":"Workflow","instance_search_name":"Request Title","instance_search_file":"Request Title","instance_search_applicant_name":"Applicant Name","instance_search_applicant_organization_name":"Applicant Organization","instance_search_submit_date":"Submit Date","instance_search_start":"Start","instance_search_end":"End","instance_search_result_tip":"Filtered Result","instance_search_state":"Request State","instance_search_state_options":{"pending":"Pending","completed":"Completed"},"instance":{"formatter":{"date":{"simple_date":"bb DD, YYYY","simple_datetime":"bb DD, YYYY HH:MM","export_date":"YYYY-MM-DD","export_datetime":"YYYY-MM-DD HH:MM"},"checkbox":{"checked":"YES","unchecked":"NO"}},"instance_view":"<br/><br/>Following are the contents of the request:<br/>Space : {$space_name};<br/>Initiator : {$applicant_name};<br/>Submit Date : {$submit_date};","push":{"final_decision_approved":"Approved","final_decision_rejected":"Rejected","final_decision_nil":"","title":{"first_submit_applicant":"{$from_username}","first_submit_inbox":"{$from_username}","submit_pending_rejected_applicant_inbox":"{$from_username}","submit_pending_rejected_applicant":"{$from_username}","submit_pending_rejected_approve":"{$from_username}","submit_pending_rejected_inbox":"{$from_username}","submit_pending_inbox":"{$from_username}","submit_terminate_applicant":"{$from_username}","submit_terminate_approve":"{$from_username}","monitor_delete_applicant":"{$applicant_name}","submit_completed_applicant":"{$applicant_name}","submit_completed_approve":"{$from_username}","approved_completed_applicant":"{$applicant_name}","approved_completed_approve":"{$from_username}","rejected_completed_applicant":"{$applicant_name}","rejected_completed_approve":"{$from_username}","reassign_new_inbox_users":"{$from_username}","trace_approve_cc":"{$from_username}","trace_approve_cc_submit":"{$from_username}","auto_submit_pending_inbox":"{$from_username}","return_pending_inbox":"{$from_username}"},"body":{"input":"input","approval":"approval","first_submit_applicant":"I have submitted a {$instance_name} request for you","first_submit_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_rejected_applicant_inbox":"Request for {$instance_name} has been rejected","submit_pending_rejected_applicant":"Request for {$instance_name} has been rejected to {$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_inbox":"My {$instance_name} request needs your {$approve_type}","submit_terminate_applicant":"Request for {$instance_name} has been cancelled","submit_terminate_approve":"","monitor_delete_applicant":"Request for {$instance_name} has been deleted","submit_completed_applicant":"Request for {$instance_name} has been approved","submit_completed_approve":"","approved_completed_applicant":"Request for {$instance_name} has been approved","approved_completed_approve":"","rejected_completed_applicant":"Request for {$instance_name} has been rejected","rejected_completed_approve":"","reassign_new_inbox_users":"My {$instance_name} request needs your {$approve_type}","trace_approve_cc":"My {$instance_name} request needs your {$approve_type}","remind":"Remind：{$instance_name}, Deadline：{$deadline}","trace_approve_cc_submit":"I have submitted a cc {$instance_name}","distribute_remind":"My {$instance_name} has been end","auto_submit_pending_inbox":"Your {$instance_name} auto submitted to {$current_step_name}","return_pending_inbox":"Request for {$instance_name} has been returned"}},"email":{"final_decision_approved":"Approved","final_decision_rejected":"Rejected","final_decision_nil":"","inscribed":"<br/><br/>Sincerely,<br/>","footnote":"This is an automatically generated email, please do not reply to it.","title":{"input":"input","approval":"approval","first_submit_applicant":"I have submitted a {$instance_name} request for you","first_submit_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_rejected_applicant_inbox":"Request for {$instance_name} has been rejected","submit_pending_rejected_applicant":"Request for {$instance_name} has been rejected to {$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_inbox":"My {$instance_name} request needs your {$approve_type}","submit_terminate_applicant":"Request for {$instance_name} has been cancelled","submit_terminate_approve":"","monitor_delete_applicant":"{$instance_name} has been deleted","submit_completed_applicant":"I have approved your request for {$instance_name}","submit_completed_approve":"","approved_completed_applicant":"I have approved your request for {$instance_name}","approved_completed_approve":"","rejected_completed_applicant":"I have rejected your request for {$instance_name}","rejected_completed_approve":"","reassign_new_inbox_users":"My {$instance_name} request needs your {$approve_type}","trace_approve_cc":"My {$instance_name} request needs your {$approve_type}","auto_submit_pending_inbox":"Your {$instance_name} has been submitted automatically","return_pending_inbox":"I have returned your request for {$instance_name}"},"body":{"url_input":"input","url_approval":"approval","input":"input","approval":"approval","judge_approved":"approved","judge_submitted":"provided his input for","email_description":"Comments : {$description}.","first_submit_applicant":"Hi {$to_username},<br/><br/>I have submitted a {$instance_name} request on behalf of you.<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>I have submitted a {$instance_name} request on behalf of you, and attached the following comments with the request.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_inbox":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}.<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_inbox_beApproveDescription":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. He / she has attached the following comments with the request.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_applicant_inbox":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been rejected by {$lastApprove_usersname} with the following comments.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been rejected by {$lastApprove_usersname}.He / She has attached the following comments with the request, and has sent it to {$nextApprove_usersname}<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"Hi {$to_username},<br/><br/>{$applicant_name}'s request for {$instance_name} needs your {$approve_type}, which has been rejected by {$lastApprove_usersname} with the following comments.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has {$last_approve_judge} this request.<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox_beApproveDescription":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has {$last_approve_judge} this request with the following comments.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox_beApproveDescription_counterSign":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has provided their input for this request with the following comments.<br/>Comments : <br/>","submit_terminate_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been cancelled by {$current_username}.He / She has attached the following comments with the request.<br/>Comments : {$description}.","submit_terminate_approve":"","monitor_delete_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been deleted.","submit_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}.<br/><a href = {$href}>Please click here to view this request.</a>","submit_completed_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}. He / she has attached the following comments with the request. <br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_completed_applicant_beApproveDescription_counterSign":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}. They has attached the following comments with the request. <br/>Comments :<br/>","submit_completed_approve":"","approved_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final approved by {$lastApprove_usersname}.<br/><a href = {$href}>Please click here to view this request.</a>","approved_completed_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final approved by {$lastApprove_usersname}. He / she has attached the following comments with the request. <br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","approved_completed_approve":"","rejected_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final rejected by {$lastApprove_usersname}. He / She has attached the following comments with the request.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","rejected_completed_approve":"","reassign_new_inbox_users":"Hi {$to_username},<br/><br/>{$current_user_name} has transferred {$applicant_name}'s {$instance_name} to you with the following comments. <br/>Comments : {$description}<br/><a href = {$href}>Please click here to view this request.</a>。","trace_approve_cc":"Hi {$to_username},<br/><br/>{$applicant_name} has cc a {$instance_name} request, which needs your {$approve_type}.<br/><a href = {$href}>Please click here to view this request.</a>","auto_submit_pending_inbox":"Hi {$to_username},<br/><br/>Your {$instance_name} has been submitted to {$current_step_name} automatically.","return_pending_inbox":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been returned by {$current_username}.He / She has attached the following comments with the request.<br/>Comments : {$description}."}},"remindMessage":{"update_failed":"Requested action not taken, because this request has been updated.","has_deleted":"This report has been deleted."},"judge":{"approved":"approved","rejected":"rejected"}},"flow":{"point_upgraded":"The workflow has been upgraded. Please make sure this request meet the requirements of the new version.","print_select_template_alert":"Please upgraded to Professional Version.","print_select_title":"Select Template","print_default_print_title":"Default","print_custom_print_title":"Custom","print_button_title":"Print","print_html_title":"SteedOS"},"help":{"href":"<a href = {$href}>Please click here to view this request.</a>","approves":"Approval History","initiator":"Initiator : ","attachment":"Attachment"},"export":{"code":"Code","name":"Name","initiator":"Initiator","initiator_org":"Initiator's Organization","submit_date":"Submit Time","status":"Status","current_step_name":"Current Step Name","current_step_start_date":"Current Step Start Time","state":{"pending":"In Progress","approved":"Approved","rejected":"Rejected","terminated":"Cancelled","finished":"Completed","reassigned":"Reassigned","inhand":"In Progress","relocated":"Relocated"}},"steedos":"Steedos","cc":"cc","saveInstanceToAttachment":"Save request form as an attachment.","forwardFlowText":"Forward description","instanceForwardNote":"Forward the currently selected request to a new workflow and proceed with the approval process.","button_preview":"Preview","remove_cc_approve":"Deleted success","forward_instance_success":"Forward success","isForwardAttachments":"Is forward attachments.","instance_retrieve":"Retrieve","instance_retrieve_reason":"Remarks","instance_retrieve_rules_title":"Retrieve failed","instance_retrieve_rules_content":"You can not retrive a request if user in next step has read the request, or you are in a concurrent signed step.","Retrieved successfully":"Retrieved successfully!","Instance State retrieved":"Retrieved","instance_chrome_print_warning":"Please use the Chrome browser to print.","instance_sign":"Sign","instance_default_opinion":"Already read","instance_submit_date":"Submit date","instance_opinion_edit":"Edit the opinion","instance_opinion_edit_success":"Edit successfully!","instance_opinion_field":"Sign field","instance_cc_error_opinion_field_required":"Please select the sign field","instance_suggestion_toggle":"Sign","instance_approve_read":"Read","instance_approve_from_user_name_label":"cc from","instance_approve_status_text_label":"status","instance_approve_description_label":"suggestion","instance_approve_start_date_label":"start date","instance_approve_finish_date_label":"finish date","instance_approve_read_yes":"yes","instance_approve_read_no":"no","instance_approve_cc_remove":"cancel cc","instance_approve_close_modal":"close","instance_approve_title_label":"Handler:","instance_forward_users":"Forward To","instance_forward_error_users_required":"Users required!","instance_approve_from_user_name_label_forward":"Forward from","instance_approve_forward_remove":"Cancel forward","instance_approve_forward_remove_success":"Request cancelled successfully!","instance_forward_instance_look":"Look the forwarded request","instance_forward_cannot_cancel":"Can not cancel!","instance_forward_instance_state_changed":"Request state has hanged, can not cancel.","webhooks":"Webhooks","webhooks_flow":"Workflow","webhooks_payload_url":"URL","webhooks_content_type":"Content type","webhooks_active":"Active","webhooks_flow_name()":"Workflow","webhooks_description":"Description","workflow_list":"Workflow List","workflow_import_flow":"Import Workflow","workflow_import_flow_success":"Import success","workflow_import_flow_error":"Import failed","workflow_import_flow_info":"Please select the workflow you want to import","flows":"Workflow","instance_readonly_view_url_copy":"Copy Link","instance_readonly_view_url_copy_success":"Tableau Web Data Connector copy successful","instance_related_instances":"Related requests","instance_related_instances_title":"Linked requests","instance_related_instances_placeholder":"Please enter the file name to search for the associated file","workflow_install_desktop":"Install Desktop","workflow_chart":"Workflow Chart","instance_return":"Return","instance_return_success":"Return successfully","instance_return_confirm":"Return the request to {$step_name}({$handlers_name})?","Instance State returned":"Returned","instance_main_attachment":"Main attach","flows_field_map":"Field Map","Instance State readed":"Read","instance_distribute_title":"Distribute","instance_distribute_users":"Users","instance_distribute_error_users_required":"Users required!","instance_distribute_approve_from_user_name_label":"Distribute from","instance_distribute_approve_remove":"Cancel distribute","instance_distribute_instance_look":"Look the distributed request","instance_distribute_note":"Distribute the currently selected request to a new workflow and proceed with the approval process.","instance_distribute_attachments":"Is distribute attachments.","instance_distribute_success":"Distribute success","instance_no_add_permission":"{$actiontype} failed, users no create permission: {$usernames}","instance_workflow_chart_ie_warning":"Do not support viewing the workflow chart in IE, please do this on client software or chrome.","instance_remind_title":"Remind","instance_remind_select_users":"Users","instance_remind_count":"Mode","instance_remind_deadline":"Deadline","instance_remind_success":"Remind successfully","instance_remind_need_remind_users":"Need users","instance_remind_need_remind_count":"Need mode","instance_remind_need_remind_deadline":"Need deadline","instance_remind_count_options":{"single":"single","multi":"multi"},"instance_opinion_title_select":"Select opinions","categories":"Workflow categories","categories_name":"Name","categories_sort_no":"Sort no","not_found_user":"Not Found User","next_step_users_not_found":{"aplicant_superior":"The applicant's superior is not configured, please contact the Administrator.","applicant_role":"The <{$role_name}> you are looking for have not configured,Please contact the administrator.","field_value_empty":"Please enter the value of the <{$field_name}>field","org_no_members":"The next step need <{$org_name}> processing,Please contact the administrator."},"instanc_admin_role_text":"<a href='%s' target='_blank'> configuration in position</a>","instanc_user_role_text":" configuration in position","instanc_set_applicant_role_text":"set positions users","instance_sign_read":"Read","instance_sign_done":"Done","instance_sign_agree":"Agree","instance_sign_period":"。","instance_cc_alert":"Please confirm whether it need to circulate","instance_cc_must_finished":"The cc users：{$not_finished_users_name} had not deal with this request, so you can not submitt this instance to next step","instance_number_rules":"Request number rules","instance_number_rules_name":"Name","instance_number_rules_year":"Year","instance_number_rules_first_number":"Start sequence","instance_number_rules_number":"Sequence","instance_number_rules_rules":"Rules","instance_number_rules_number_builder_error_title":"Builder number error","instance_number_rules_number_builder_error_not_exist":"The number rule does not exist: ","ConfirmDeletion?":"Are you sure?","instance_number_rules_name_only":"The name can not be repeated","flows_btn_export_title":"Export Flow","flows_btn_copylink_title":"Copy Link","instance_distribute_related_instances_title":"Automatically create associated requests","instance_next_step_users_placeholder":"Please select the approver","instance_distribute_to_self":"Also distributed to yourself","my_instances":"My Requests","workflow_import_export_flows":"Workflow import or export","workflow_history_approve_counts":"Show %s history descriptions","workflow_history_approve_description":"History description","instances_start_date":"Receiving time","instances_is_archived":"Archived","instances_archive":"Archive","instances_archived":"Archived","instances_not_archived":"Not archived","workflow_more_inbox":"More Inbox","instance_back":"Back","steedos_tableau_statistical_analysis":"Statistical analysis","steedos_tableau_copy_link":"Copy link","tableau_introduction_modal_close":"Close","ERROR":"Error","steedos_table_add_item":"Add item","approved_description":"Approved","rejected_description":"Rejected","copy":"Copy and Create","from":"From","admin_flow_roles_create":"Create","flow_roles_delete_success":"Delete successfully","add_positions":"Add","save_role":"Save","delete_role":"Delete","flow_roles_update_success":"Update successfully","flow_roles_necessary":"Please fill in role's name","flow_positions_add_suceess":"Add successfully","flow_positions_add_failed":"Be failed to add","flow_positions_update_suceess":"Update successfully","flow_positions_update_failed":"Be failed to update","flow_positions_delete_suceess":"Delete successfully","instance_role_set_is_complete":"Role set up?","instance_set_is_complete":"set up?","flow_roles_help":"Help","set_org_members":"Set department members","set_applicant_manager":"Set the applicant supervisor","instance_permissions_error":"You do not have permission to view this request","start_flows":"Start flows","chart_traces":"Chart Traces","cc_tag":"(Carbon Copying)","workflow_batch_approval":"Batch approval","workflow_batch_approval_btn":"Batch<br/>approval","workflow_batch_approval_processing":"Processing","workflow_batch_approval_message":"This processing file %s","workflow_error_multiple_next_step_users":"'{$insname}' the next person can not handle more than one","workflow_error_multiple_next_step":"'{$insname}' can not have more than one next step","workflow_batch_instances_empty":"There is no data for batch approval","workflow_sign_opinion_to_completed_instance":"This document is over and the signed opinion will not be displayed on the application","workflow_copy_flow":"Copy flow","workflow_copy_flow_text":"Please fill in the new flow name","workflow_copy_flow_success":"The copy flow is successful","workflow_copy_flow_error_reason_required":"Comments are required.","workflow_enabled":"Enabled","workflow_disabled":"Disabled","flows_state":"State","flows_current_modified":"Modified","flows_modified_by_name()":"Editor","flows_category_name()":"Categories","flow_list_title_set_template":"Set Template","flow_list_title_set_script":"Set Script","flow_list_title_set_fieldsMap":"Set Archive relationship","distribute_edit_flow_select_users":"users options","distribute_edit_flow_select_flows":"flows options","flow_list_title_set_distribute":"Set Distribute","distribute_to_self":"can distribute to self","distribute_end_notification":"notificate user after distributed end","instance_deleted":"Deleted","workflow_flow_state_disabled":"The state of flow({$name}) is disabled, Administrator can enable flow.","flow_roles_error_flows_used":"Role has been used by flows: {$names}","instance_approve_not_yet_handled":"Not yet handled","instance_approve_distribute_date_label":"Distribute date","flows_auto_remind":"Auto remind","flows_upload_after_being_distributed":"Allow upload after being distributed","instances_my_finish_date":"Modified","pager_input_hint":"Click and input page number, then press Enter to jump to the specified page","instance_hide_title":"Hide","instance_hide_success":"Hide Success","instance_reopen_title":"Unhide","instance_reopen_success":"Unhide Success","workflow_design_flow":"Design flow","process_delegation_rules":"Process Delegation","process_delegation_rules_from":"From","process_delegation_rules_to":"To","process_delegation_rules_enabled":"Enabled","process_delegation_rules_start_time":"Strat Time","process_delegation_rules_end_time":"End Time","process_delegation_rules_from_name":"From","process_delegation_rules_to_name":"To","process_delegation_rules_start_must_lt_end":"Strat time must less than end time","process_delegation_rules_description":"{$userName} delegated","instance_handler_name":"Handler","instance_handler_organization_fullname":"Organization","url_invalid":"Invalid link","instance_approve_timeout_auto_submitted":"Timeout auto submitted"});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"zh-CN.i18n.json.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/i18n/zh-CN.i18n.json.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Package['universe:i18n'].i18n.addTranslations('zh-CN','',{"Steedos Workflow":"审批","inbox":"待审核","outbox":"已审核","draft":"草稿","pending":"进行中","completed":"已完成","monitor":"监控箱","FlowName":"名称","Search":"搜索","My Approval":"审核","My Applications":"我的申请单","Submit":"提交","steedos_desktop":"华炎云","menu_navigation":"导航","Workflow":"审批","form_new":"新建表单","instances":"审批","instances_name":"标题","instances_applicant_name":"提交人","instances_modified":"处理时间","instances_applicant_organization_name":"部门","instances_submit_date":"提交时间","instances_flow":"流程","instances_step_current_name":"当前步骤","instances_flow_name":"流程","instances_current_step_name":"当前步骤","instance_approve":"核准","instance_reject":"驳回","instance_readed":"已阅","instance_next_step":"下一步","instance_next_step_users":"处理人","instance_initiator":"提交人","instance_approval_history":"签核历程","instance_in_progress":"处理中","instance_submit":"提交","instance_save":"保存","instance_delete":"删除","instance_attachment":"附件","instance_cancel":"取消申请","instance_reassign":"转签核","instance_relocate":"重定位","instance_print":"打印","flow_roles":"审批岗位","flow_roles_name":"岗位名称","flow_positions":"岗位成员","flow_positions_role":"岗位","flow_positions_org":"审批范围","flow_positions_users":"岗位成员","flow_positions_role_name()":"岗位","flow_positions_org_name()":"审批范围","flow_positions_users_name()":"岗位成员","workflow_table_confirm":"确认","workflow_table_delete":"删除","Attachment deleted successfully":"文件删除成功!","Attachment was added successfully":"文件添加成功!","Saved successfully":"申请单已暂存.","Added successfully":"创建成功!","Deleted successfully":"删除成功!","Submitted successfully":"提交成功!","Canceled successfully":"取消申请成功!","Reasigned successfully":"转签核成功!","Relocated successfully":"重定位成功!","Attachments":"附件","Versions":"版本","Current Version":"（最新版本）","workflow_attachment_free_size_limit":"抱歉，免费版工作区只能上传1M以内的文件。","workflow_attachment_paid_size_limit":"您上传的文件大小不得超过","workflow_attachment_download":"下载","workflow_attachment_view":"查看","workflow_attachment_isReadOnly":"只读-","workflow_attachment_versions":"历史版本","workflow_attachment_uploading":"正在上传 ","workflow_attachment_downloading":"正在下载 %s...","workflow_attachment_creating":"正在新建word文档 %s...","workflow_attachment_officeOnline":"编辑","workflow_attachment_save":"保存","workflow_attachment_close":"关闭","workflow_attachment_delete":"删除","workflow_attachment_convert_to_pdf":"正在将 '%s' 转换为pdf格式文件...","workflow_attachment_wordToPdf":"转为pdf","workflow_attachment_wordToPdf_failed":"未转换成功，请重新尝试！","workflow_attachment_locked_tip":"您有文件正在编辑，请解锁后提交","Instance State approved":"已核准","Instance State rejected":"已驳回","Instance State terminated":"被取回","Instance State finished":"已完成","Instance State pending":"审核中","Instance State reassigned":"转签核","Instance State relocated":"重定位","Instance Relocate Hint":"请填写重定位的理由。","Instance Relocate Title":"重定位","Instance Relocate Reason":"请填写重定位的理由。","Instance Relocate NewInboxUsers":"请选择重定位审核人。","Instance Relocate Ok":"重定位提交成功。","Instance Relocate CurStep":"当前步骤: ","instance_reassign_title":"转签核","instance_reassign_curstep":"当前步骤: ","instance_reassign_reason":"请填写转签核的理由。","instance_reassign_ok":"转签核提交成功。","instance_reassign_user":"变更处理人","instance_cancel_title":"取消申请","instance_cancel_reason":"请填写取消申请的理由","instance_reassign_error_reason_required":"请填写转签核的理由。","instance_reassign_error_users_required":"请指定处理人。","instance_cancel_error_reason_required":"请填写取消申请的理由。","instance_select_next_step":"请选择下一步步骤","instance_multi_next_step_tips":"步骤选项有多个，请选择下一步步骤，并使用底部发送按钮提交文件","instance_next_step_user":"请选择下一步处理人","instance_reasons_reject":"驳回时必须填写意见","instance_field":"字段","instance_is_required":"为必填","instance_email_format_error":"邮件地址格式错误","node_office_edit_online":"在线编辑","node_office_message":"您正在使用在线编辑功能，编辑完成后请关闭Office软件。","node_office_warning":"文件已修改，请确认是否保存为新版本？","node_office_upload":"上传 ","node_office_confirm":"确定","node_office_cancel":"取消","node_office_uploaded":"文件已上传","node_office_filePath":"文件：","node_office_exists_message":"文件已存在，是否替换？","node_office_workflow":"审批王","node_pdf_error":"pdf签章失败，请重新进行签章！","node_pdf_sign_online":"在线签章","node_pdf_message":"您正在使用在线签章功能。","node_pdf_filePath":"文件：","workflow_export_thismonth":"导出当月申请单","workflow_export_lastmonth":"导出上月申请单","workflow_export_thisyear":"导出当年申请单","workflow_export_all":"导出所有申请单","workflow_export_filter":"按流程过滤","workflow_export_search":"按流程查看申请单","workflow_export_data":"导出申请单","spaces_isarrearageSpace":"您的工作区已欠费","cc_help":"https://www.steedos.com/cn/help/workflow/instance_carboncopy.html","relocate_help":"https://www.steedos.com/cn/help/workflow/instance_relocate.html","reassign_help":"https://www.steedos.com/cn/help/workflow/instance_reassign.html","forward_help":"https://www.steedos.com/cn/help/workflow/instance_forward.html","export_filter_help":"https://www.steedos.com/cn/help/workflow/instance_search.html","new_help":"https://www.steedos.com/cn/help/workflow/instance_add.html","Inbox Suggestion NextSteps Label":"下一步骤: ","Inbox Suggestion NextSteps Handler Label":"处理人: ","Workflow Designer":"流程设计器","User Management":"用户管理","All flows":"所有流程","Select a flow":"请点击流程分类选择相应流程","Fill in form":"填写表单","Flow upgraded":"流程已升级，请检查您填写的内容是否符合修改后的要求。","Are you sure?":"确认删除吗？","Select placeholder":"请选择","workflow_no_category":"未分类","space_users_error_space_required":"工作区必填","flow_roles_error_positions_exists":"已有用户担任该角色","workflow_left_parenthesis":"（","workflow_right_parenthesis":"）","instance_cc_description":"传阅说明","instance_cc_from":"传阅自","instance_cc_title":"传阅","instance_cc_done":"已传阅","instance_curstep":"当前步骤: ","instance_cc_user":"传阅对象","instance_cc_error_users_required":"请选择传阅对象。","workflow_form_edit":"流程列表","flows_template":"申请单模板","flows_name":"流程名称","flows_print_template":"打印模板","flows_instance_template":"表单模板","flows_description":"流程描述","workflow_attach_unlock":"解锁","workflow_attach_locked_by":"%s 正在编辑","workflow_attach_confirm_delete":"确认删除","workflow_attach_confirm_delete_messages":"你确定删除'%s'吗？","workflow_attach_confirm":"删除","workflow_attach_cancel":"取消","workflow_attach_to_pdf":"转为pdf","workflow_attach_to_pdf_message":"是否将'%s'转为pdf格式文件？","workflow_attach_upload":"上传","workflow_attach_new":"新建","workflow_attachment_signature":"签章","workflow_select_an_app":"应用","workflow_suggestion_placeholder":"请填写意见。","instance_opinion_title":"常用意见","instance_opinion_btn":"常用</br>意见","instance_opinion_input":"请输入常用意见","instance_opinion_add_success":"添加成功!","instance_opinion_remove_success":"移除成功!","instance_opinion_error":"出错了","instance_opinion_exists":"常用意见已存在","instance_opinion_add_tip":"您还没有设置常用意见。","instance_forward_title":"转发","form_field_checkbox_yes":"是","form_field_checkbox_no":"否","flows_events":"自定义脚本","flows_events_error":"自定义脚本错误: ","instance_search_advanced_search":"高级搜索","instance_search_flow":"流程","instance_search_name":"申请单标题","instance_search_file":"文件标题","instance_search_applicant_name":"提交人姓名","instance_search_applicant_organization_name":"提交人所属部门名称","instance_search_submit_date":"提交日期","instance_search_start":"起","instance_search_end":"至","instance_search_result_tip":"过滤的结果","instance_search_state":"申请单状态","instance_search_state_options":{"pending":"流转中","completed":"已结束"},"instance":{"formatter":{"date":{"simple_date":"YYYY年MM月DD日","simple_datetime":"YYYY年MM月DD日 HH:mm","export_date":"YYYY-MM-DD","export_datetime":"YYYY-MM-DD HH:mm"},"checkbox":{"checked":"是","unchecked":"否"}},"instance_view":"<br/><br/>申请单内容摘要如下:<br/>工作区 : {$space_name};<br/>提交 : {$applicant_name};<br/>提交日期 : {$submit_date};","push":{"final_decision_approved":"被核准，","final_decision_rejected":"被驳回，","final_decision_nil":"","title":{"first_submit_applicant":"{$from_username}","first_submit_inbox":"{$from_username}","submit_pending_rejected_applicant_inbox":"{$from_username}","submit_pending_rejected_applicant":"{$from_username}","submit_pending_rejected_approve":"{$from_username}","submit_pending_rejected_inbox":"{$from_username}","submit_pending_inbox":"{$from_username}","submit_terminate_applicant":"{$from_username}","submit_terminate_approve":"{$from_username}","monitor_delete_applicant":"{$applicant_name}","submit_completed_applicant":"{$applicant_name}","submit_completed_approve":"{$from_username}","approved_completed_applicant":"{$applicant_name}","approved_completed_approve":"{$from_username}","rejected_completed_applicant":"{$applicant_name}","rejected_completed_approve":"{$from_username}","reassign_new_inbox_users":"{$from_username}","trace_approve_cc":"{$from_username}","trace_approve_cc_submit":"{$from_username}","auto_submit_pending_inbox":"{$from_username}","return_pending_inbox":"{$from_username}"},"body":{"input":"确认","approval":"审批","first_submit_applicant":"请确认:我已代您提交了{$instance_name}","first_submit_inbox":"{$instance_name}","submit_pending_rejected_applicant_inbox":"请修改:{$instance_name}","submit_pending_rejected_applicant":"您的{$instance_name}已驳回给{$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"{$instance_name}","submit_pending_inbox":"{$instance_name}","submit_terminate_applicant":"{$instance_name}被我取消申请了","submit_terminate_approve":"","monitor_delete_applicant":"您的{$instance_name}已被删除","submit_completed_applicant":"您的{$instance_name}已被确认","submit_completed_approve":"","approved_completed_applicant":"您的{$instance_name}已被核准","approved_completed_approve":"","rejected_completed_applicant":"您的{$instance_name}已被驳回","rejected_completed_approve":"","reassign_new_inbox_users":"{$instance_name}","trace_approve_cc":"{$instance_name}","remind":"催办通知：{$instance_name}，办结时限：{$deadline}。","trace_approve_cc_submit":"我已提交了传阅的申请单{$instance_name}","distribute_remind":"您分发的{$instance_name}申请单已结束。","auto_submit_pending_inbox":"您的申请单{$instance_name}处理已超时，现已自动发送至{$current_step_name}","return_pending_inbox":"您的{$instance_name}已被退回"}},"email":{"final_decision_approved":"被核准，","final_decision_rejected":"被驳回，","final_decision_nil":"","inscribed":"<br/><br/>","footnote":"这是由审批王自动发送的邮件, 请不要直接回复。","title":{"input":"确认","approval":"审批","first_submit_applicant":"{$from_username}代您提交了{$instance_name}","first_submit_inbox":"请{$approve_type}:{$instance_name}","submit_pending_rejected_applicant_inbox":"请修改:{$instance_name}","submit_pending_rejected_applicant":"您的{$instance_name}已驳回给{$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"请重新{$approve_type}:{$instance_name}","submit_pending_inbox":"请{$approve_type}:{$instance_name}","submit_terminate_applicant":"{$instance_name}被我取消申请了","submit_terminate_approve":"","monitor_delete_applicant":"删除了您的{$instance_name}","submit_completed_applicant":"确认了您的{$instance_name}","submit_completed_approve":"","approved_completed_applicant":"核准了您的{$instance_name}","approved_completed_approve":"","rejected_completed_applicant":"驳回了您的{$instance_name}","rejected_completed_approve":"","reassign_new_inbox_users":"请{$approve_type}:{$instance_name}","trace_approve_cc":"请{$approve_type}:{$instance_name}","auto_submit_pending_inbox":"您的{$instance_name}已超时自动流转","return_pending_inbox":"退回了您的{$instance_name}"},"body":{"url_input":"查看并确认","url_approval":"进行审批","input":"确认","approval":"审批","judge_approved":"核准","judge_submitted":"确认","email_description":"驳回理由是:{$description} 。","first_submit_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>我已代您提交了{$instance_name}。<br/><a href = {$href}>请点击查看</a>。","first_submit_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>我已代您提交了{$instance_name}。<br/>备注是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","first_submit_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}提交了{$instance_name}。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","first_submit_inbox_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}提交了{$instance_name}。<br/>备注是 : {$approves_description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_rejected_applicant_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>您的申请单被{$lastApprove_usersname}驳回，请确认是否要修改。<br/>{$description}<br/><a href = {$href}>请点击查看</a>。","submit_pending_rejected_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被{$lastApprove_usersname}驳回, 目前{$nextApprove_usersname}正在处理中。<br/>{$description} <br/><a href = {$href}>请点击查看</a>。","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>请重新{$approve_type} : {$applicant_name}的{$instance_name}, 此申请单被{$lastApprove_usersname}驳回。<br/>{$description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已{$last_approve_judge}此申请单。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已{$last_approve_judge}此申请单。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox_beApproveDescription_counterSign":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已确认此申请单。<br/>他/她们的意见是 : <br/>","submit_terminate_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被取消申请。<br/>取消申请的理由是：{$description}。","submit_terminate_approve":"","monitor_delete_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被删除。","submit_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/><a href = {$href}>请点击查看</a>。","submit_completed_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","submit_completed_applicant_beApproveDescription_counterSign":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/>他/她们的意见是 :<br/> ","submit_completed_approve":"","approved_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}核准, 完成审核。<br/><a href = {$href}>请点击查看</a>。","approved_completed_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}核准, 完成审核。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","approved_completed_approve":"","rejected_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}驳回。<br/>{$description}<br/><a href = {$href}>请点击查看</a>。","rejected_completed_approve":"","reassign_new_inbox_users":"{$to_username}:<br/><br/>您好！<br/><br/>{$current_user_name}将{$applicant_name}的{$instance_name}转发给您{$approve_type}。<br/>转发的理由是：{$description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","trace_approve_cc":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}传阅了{$instance_name}。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","auto_submit_pending_inbox":"您的申请单{$instance_name}处理已超时，现已自动发送至{$current_step_name}","return_pending_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被退回。<br/>退回的理由是：{$description}。"}},"remindMessage":{"update_failed":"申请单状态已更新，您的操作未能执行。","has_deleted":"申请单已删除。"},"judge":{"approved":"核准","rejected":"驳回"}},"flow":{"point_upgraded":"流程已升级，请检查您填写的内容是否符合修改后的要求。","print_select_template_alert":"只有专业版才有自定义模板功能，如有需要请升级到专业版或联系客服","print_select_title":"打印样式","print_default_print_title":"默认","print_custom_print_title":"自定义","print_button_title":"打印","print_html_title":"审批王"},"help":{"href":"<a href = {$href}>请点击查看</a>。","approves":"签核历程","initiator":"提交人 : ","attachment":"附件"},"export":{"code":"编号","name":"名称","initiator":"提交人","initiator_org":"提交人所属部门","submit_date":"提交日期","status":"状态","current_step_name":"当前步骤","current_step_start_date":"当前步骤开始日期","state":{"pending":"审核中","approved":"已核准","rejected":"已驳回","terminated":"被取回","finished":"已完成","reassigned":"转签核","inhand":"处理中","relocated":"重定位"}},"steedos":"华炎云","cc":"传阅","saveInstanceToAttachment":"将原表单存储为附件","forwardFlowText":"备注","instanceForwardNote":"将当前选中的文件转发到新的流程，继续执行审批操作","isForwardAttachments":"同时转发原表单附件","button_preview":"预览","remove_cc_approve":"传阅删除成功","forward_instance_success":"文件转发成功","instance_retrieve":"取回","instance_retrieve_reason":"备注","instance_retrieve_rules_title":"无法取回","instance_retrieve_rules_content":"下一步处理人已读无法取回；会签节点无法取回。","Retrieved successfully":"取回成功!","Instance State retrieved":"取回","instance_chrome_print_warning":"请使用Chrome浏览器进行打印","instance_sign":"签批","instance_default_opinion":"已阅","instance_submit_date":"提交日期","instance_opinion_edit":"请修改常用意见","instance_opinion_edit_success":"修改成功","instance_opinion_field":"签批字段","instance_cc_error_opinion_field_required":"请选择签批字段","instance_suggestion_toggle":"签批","instance_approve_read":"已读","instance_approve_from_user_name_label":"传阅自","instance_approve_status_text_label":"操作","instance_approve_description_label":"处理意见","instance_approve_start_date_label":"开始时间","instance_approve_finish_date_label":"结束时间","instance_approve_read_yes":"是","instance_approve_read_no":"否","instance_approve_cc_remove":"取消传阅","instance_approve_close_modal":"关闭","instance_approve_title_label":"处理人：","instance_forward_users":"转发对象","instance_forward_error_users_required":"请选择对象!","instance_approve_from_user_name_label_forward":"转发自","instance_approve_forward_remove":"取消转发","instance_approve_forward_remove_success":"取消成功","instance_forward_instance_look":"查看转发后申请单","instance_forward_cannot_cancel":"不符合取消条件！","instance_forward_instance_state_changed":"申请单状态已更新，不能取消！","instance_approve_modal_modification":"修改","instance_approve_modal_save":"保存","instance_approve_moda_back":"取消","instance_approve_modal_modificationsave":"您的修改保存成功","webhooks":"Webhooks","webhooks_flow":"流程","webhooks_payload_url":"URL","webhooks_active":"激活","webhooks_content_type":"传输数据类型","edit":"编辑","flow_list":"流程列表","import_flow":"导入流程","import_flow_success":"导入成功","import_flow_error":"导入失败","import_flow_info":"请选择需要导入的流程","webhooks_flow_name()":"流程","webhooks_description":"描述","workflow_list":"流程列表","workflow_import_flow":"导入流程","workflow_import_flow_success":"导入成功","workflow_import_flow_error":"导入失败","workflow_import_flow_info":"请选择需要导入的流程","flows":"流程","instance_readonly_view_url_copy":"复制链接","instance_readonly_view_url_copy_success":"Tableau Web 数据连接器已复制","instance_related_instances":"相关文件","instance_related_instances_title":"关联文件","instance_related_instances_placeholder":"请输入文件名称搜索关联文件","workflow_install_desktop":"安装客户端","workflow_chart":"流程图","instance_return":"退回","instance_return_success":"退回成功","instance_return_confirm":"确认退回至{$step_name}({$handlers_name})?","Instance State returned":"已退回","instance_main_attachment":"正文","flows_field_map":"归档关系","Instance State readed":"已阅","instance_distribute_title":"分发","instance_distribute_users":"分发对象","instance_distribute_error_users_required":"请选择分发对象!","instance_distribute_approve_from_user_name_label":"分发自","instance_distribute_approve_remove":"取消分发","instance_distribute_instance_look":"查看分发后申请单","instance_distribute_note":"将当前选中的文件分发到新的流程，继续执行审批操作","instance_distribute_attachments":"同时分发原表单附件","instance_distribute_success":"文件分发成功","instance_no_add_permission":"{$actiontype}未成功。以下用户没有新建此申请单的权限：{$usernames}","instance_workflow_chart_ie_warning":"暂不支持在IE中查看流程图，请在客户端软件或chrome上执行该操作。","instance_remind_title":"催办","instance_remind_select_users":"催办对象","instance_remind_count":"催办方式","instance_remind_deadline":"办结时限","instance_remind_success":"催办成功","instance_remind_need_remind_users":"缺少催办对象","instance_remind_need_remind_count":"缺少催办方式","instance_remind_need_remind_deadline":"缺少办结时限","instance_remind_count_options":{"single":"单次提醒","multi":"多次提醒"},"instance_opinion_title_select":"其他常用意见","categories":"流程分类","categories_name":"名称","categories_sort_no":"排序号","not_found_user":"未找到处理人","next_step_users_not_found":{"aplicant_superior":"申请人上级未配置，请联系管理员。","applicant_role":"您要找的「{$role_name}」还未配置，请联系管理员。","field_value_empty":"获取处理人，请先填写「{$field_name}」。","org_no_members":"下一步需「{$org_name}」处理，请联系管理员。"},"instanc_admin_role_text":"<a href='%s' target='_blank'>岗位中进行配置。</a>","instanc_user_role_text":"岗位中进行配置","instanc_set_applicant_role_text":"设置","instance_sign_read":"已阅","instance_sign_done":"已办","instance_sign_agree":"同意","instance_sign_period":"。","instance_cc_alert":"还需传阅给其他人员吗？","instance_cc_must_finished":"当前步骤被传阅人员：{$not_finished_users_name} 还未处理，故不能提交至下一步","instance_number_rules":"流程编号规则","instance_number_rules_name":"名称","instance_number_rules_year":"年份","instance_number_rules_first_number":"起始序号","instance_number_rules_number":"序号","instance_number_rules_rules":"编号规则","instance_number_rules_number_builder_error_title":"文件编号生成失败","instance_number_rules_number_builder_error_not_exist":"流程编号规则不存在: ","ConfirmDeletion?":"确认删除?","instance_number_rules_name_only":"名称已存在","flows_btn_export_title":"导出流程","flows_btn_copylink_title":"复制链接","instance_distribute_related_instances_title":"自动创建关联文件","instance_next_step_users_placeholder":"请选择下一步处理人","instance_distribute_to_self":"同时分发给自己","my_instances":"我的文件","workflow_import_export_flows":"流程导入导出","workflow_history_approve_counts":"已显示%s条历史意见","workflow_history_approve_description":"历史意见","instances_start_date":"接收时间","instances_is_archived":"已归档","instances_archive":"归档","instances_archived":"已归档","instances_not_archived":"未归档","workflow_more_inbox":"更多待审核","instance_back":"返回","steedos_tableau_statistical_analysis":"统计分析","steedos_tableau_copy_link":"复制链接","tableau_introduction_modal_close":"关闭","ERROR":"错误","steedos_table_add_item":"新增一行","approved_description":"同意","rejected_description":"不同意","copy":"复制并新建","from":"来自","admin_flow_roles_create":"新建","flow_roles_delete_success":"删除成功","add_positions":"新增","save_role":"保存","delete_role":"删除","flow_roles_update_success":"更新成功","flow_roles_necessary":"请填写岗位名称","flow_positions_add_suceess":"添加成功","flow_positions_add_failed":"添加失败","flow_positions_update_suceess":"更新成功","flow_positions_update_failed":"更新失败","flow_positions_delete_suceess":"删除成功","instance_role_set_is_complete":"岗位设置完成？","instance_set_is_complete":"设置完成？","flow_roles_help":"帮助","set_org_members":"设置部门成员","set_applicant_manager":"设置申请人上级主管","instance_permissions_error":"您没有权限查看此申请单","start_flows":"星标流程","chart_traces":"图形化历程","cc_tag":"（传阅中）","workflow_batch_approval":"批量审批","workflow_batch_approval_btn":"批量<br/>审批","workflow_batch_approval_processing":"处理中","workflow_batch_approval_message":"本次处理文件%s份","workflow_error_multiple_next_step_users":"「{$insname}」的下一步处理人有多个","workflow_error_multiple_next_step":"「{$insname}」的下一步步骤有多个","workflow_batch_instances_empty":"没有可批量审批的数据","workflow_sign_opinion_to_completed_instance":"此文件已结束，签署的意见不会显示在申请单上","workflow_copy_flow":"复制流程","workflow_copy_flow_text":"请填写新流程名称","workflow_copy_flow_success":"复制流程成功","workflow_copy_flow_error_reason_required":"请填写新流程名称","workflow_enabled":"启用","workflow_disabled":"停用","flows_state":"状态","flows_current_modified":"修改时间","flows_modified_by_name()":"修改者","flows_category_name()":"流程分类","flow_list_title_set_template":"设置模版","flow_list_title_set_script":"设置脚本","flow_list_title_set_fieldsMap":"设置归档关系","distribute_edit_flow_select_users":"流程被分发时分发对象选择范围","distribute_edit_flow_select_flows":"搜索此步骤可分发流程","flow_list_title_set_distribute":"设置分发","distribute_to_self":"分发时可分发给自己","distribute_end_notification":"分发结束后提醒发起人","instance_deleted":"已删除","workflow_flow_state_disabled":"此申请单对应流程\"{$name}\"已被禁用，如想正常修改及提交请联系管理员启用流程","flow_roles_error_flows_used":"已有以下流程使用此角色：{$names}","instance_approve_not_yet_handled":"未处理","instance_approve_distribute_date_label":"分发时间","flows_auto_remind":"自动催办","flows_upload_after_being_distributed":"被分发后是否允许上传附件","instances_my_finish_date":"处理时间","pager_input_hint":"点击输入页码，然后按回车可跳转到指定页","instance_hide_title":"隐藏","instance_hide_success":"隐藏成功","instance_reopen_title":"取消隐藏","instance_reopen_success":"取消隐藏成功","workflow_design_flow":"设计流程","process_delegation_rules":"流程委托","process_delegation_rules_from":"委托人","process_delegation_rules_to":"被委托人","process_delegation_rules_enabled":"启用","process_delegation_rules_start_time":"委托开始","process_delegation_rules_end_time":"委托结束","process_delegation_rules_from_name":"委托人","process_delegation_rules_to_name":"被委托人","process_delegation_rules_start_must_lt_end":"开始时间应小于结束时间","process_delegation_rules_description":"{$userName}委托","instance_handler_name":"处理人","instance_handler_organization_fullname":"部门","url_invalid":"无效的链接","instance_approve_timeout_auto_submitted":"超时通过"});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"checkNpm.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/checkNpm.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let checkNpmVersions;
module.link("meteor/tmeasday:check-npm-versions", {
  checkNpmVersions(v) {
    checkNpmVersions = v;
  }

}, 0);
checkNpmVersions({
  "node-schedule": "^1.3.1",
  cookies: "^0.6.2",
  "xml2js": "^0.4.19",
  mkdirp: "^0.3.5",
  "sprintf-js": "^1.0.3"
}, 'steedos:workflow');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"lib":{"collection_helpers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/collection_helpers.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tapi18n.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/tapi18n.coffee                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"core.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/core.coffee                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Workflow = {};
this.ImageSign = {};
this.TracesTemplate = {};
this.InstanceformTemplate = {};
this.InstanceAttachmentTemplate = {};
this.InstanceSignText = {};
this.RelatedInstances = {};
this.InstanceMacro = {
  context: {}
};
this.TracesManager = {};

if (Meteor.isClient) {
  Meteor.startup(function () {
    var workflow_three_columns;
    workflow_three_columns = localStorage.getItem("workflow_three_columns");

    if (workflow_three_columns && workflow_three_columns === "off") {
      return $("body").removeClass("three-columns");
    } else {
      return $("body").addClass("three-columns");
    }
  });
}

InstanceSignText.isOpinionField_from_string = function (field_formula) {
  return (field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{yijianlan:") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{\"yijianlan\":") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{'yijianlan':") : void 0) > -1;
};

InstanceSignText.includesOpinionField = function (form, form_version) {
  var _form_version, field_formulas, fields;

  field_formulas = new Array();
  _form_version = {};

  if (Meteor.isServer) {
    _form_version = uuflowManager.getFormVersion(db.forms.findOne({
      _id: form
    }), form_version);
  } else {
    _form_version = db.form_versions.findOne({
      _id: form_version,
      form: form
    });
  }

  fields = (_form_version != null ? _form_version.fields : void 0) || [];
  fields.forEach(function (f) {
    var ref;

    if (f.type === 'table') {
      return console.log('ignore opinion field in table');
    } else if (f.type === 'section') {
      return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
        return field_formulas.push(f1.formula);
      }) : void 0 : void 0;
    } else {
      return field_formulas.push(f.formula);
    }
  });
  return _.some(field_formulas, function (field_formula) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"models":{"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/forms.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flows.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_roles.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_positions.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/instances.coffee                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/categories.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"spaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/spaces.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"deleted_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/deleted_instances.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"auth_tokens.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/auth_tokens.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
db.auth_tokens = new Meteor.Collection('auth_tokens');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webhooks.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/webhooks.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_user_signs.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_users.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cfs":{"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/cfs/instances.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"admin.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/admin.coffee                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"client":{"lib":{"instance_readonly_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/instance_readonly_template.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _getLocale, _getRequiredFields, _getStartStepEditableFields, _getStartStepRequiredFields, _getTemplateData, _getViewHtml;

InstanceReadOnlyTemplate = {};
InstanceReadOnlyTemplate.instance_attachment = "<tr>\n	<td class=\"ins-attach-view\">\n		<a href=\"{{ins_attach_download_url _id absolute}}\" class=\"ins_attach_href\" target=\"_parent\" data-name=\"{{this.name}}\" data-type=\"{{this.original.type}}\" data-id=\"{{_id}}\">{{this.name}}</a>\n	</td>\n</tr>";
InstanceReadOnlyTemplate.afSelectUserRead = "<div class='selectUser form-control ins_applicant'>{{value}}</div>";
InstanceReadOnlyTemplate.afFormGroupRead = "<div class='form-group'>\n	{{#with getField this.name}}\n		{{#if equals type 'section'}}\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if showLabel}}\n					<label>{{getLabel code}}</label>\n				{{/if}}\n				<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n			{{/if}}\n		{{/if}}\n	{{/with}}\n</div>";
InstanceReadOnlyTemplate.afFormGroup = "\n{{#with getField this.name}}\n		{{#if equals type 'section'}}\n			<div class=\"form-group\">\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n  				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if equals type 'input'}}\n					<div class=\"form-group\" data-required=\"{{#if is_required}}true{{/if}}\">\n						<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n						<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n					</div>\n				{{else}}\n					{{#if equals type 'number'}}\n						<div class=\"form-group\">\n							<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n							<input type=\"number\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						</div>\n					{{else}}\n						{{#if equals type 'date'}}\n							<div class=\"form-group\">\n								<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n								<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type=\"date\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n							</div>\n						{{else}}\n							{{#if equals type 'dateTime'}}\n								<div class=\"form-group\">\n									<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n									<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type='datetime' data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n								</div>\n							{{else}}\n								{{#if equals type 'password'}}\n									<div class=\"form-group\">\n										<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n										<input type=\"password\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n									</div>\n								{{else}}\n									{{#if equals type 'select'}}\n										<div class=\"form-group\">\n											<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n											<select name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n												{{#each options this}}\n													<option value=\"{{value}}\">{{label}}</option>\n												{{/each}}\n											</select>\n										</div>\n									{{else}}\n										{{#if equals type 'radio'}}\n											<div class=\"form-group\">\n												<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n												<div class=\"af-radio-group\" data-schema-key=\"{{getLabel code}}\">\n													{{#each options this}}\n        												<label class=\"radio-inline fix-indent\"><input type=\"radio\" value=\"{{value}}\" name=\"{{../code}}\" class=\"radio-inline fix-indent\"> {{label}}</label>\n    													{{/each}}\n    												</div>\n											</div>\n										{{else}}\n											{{#if equals type 'multiSelect'}}\n												<div class=\"form-group\">\n													<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n													<div class=\"af-checkbox-group\" data-schema-key=\"{{getLabel code}}\">\n														{{#each options this}}\n														<label class=\"checkbox-inline fix-indent\"><input type=\"checkbox\" value=\"{{value}}\" name=\"{{../code}}\" class=\"checkbox-inline fix-indent\"> {{label}}</label>\n														{{/each}}\n													</div>\n												</div>\n											{{else}}\n												{{#if equals type 'url'}}\n													<div class=\"form-group\">\n														<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n														<input type=\"url\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n													</div>\n												{{else}}\n													{{#if equals type 'email'}}\n														<div class=\"form-group\">\n															<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n															<input type=\"email\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n														</div>\n													{{else}}\n														{{#if equals type 'checkbox'}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class=\"checkbox\" data-schema-key=\"{{getLabel code}}\">\n																	<label style=\"width: 100%;\"><input type=\"checkbox\" value=\"true\" name=\"{{code}}\" class=\"checkbox-inline fix-indent\"></label>\n																</div>\n															</div>\n														{{else}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n															</div>\n														{{/if}}\n													{{/if}}\n												{{/if}}\n											{{/if}}\n										{{/if}}\n									{{/if}}\n								{{/if}}\n							{{/if}}\n						{{/if}}\n					{{/if}}\n				{{/if}}\n			{{/if}}\n		{{/if}}\n	{{/with}}";

InstanceReadOnlyTemplate.create = function (tempalteName, steedosData) {
  var template, templateCompiled, templateRenderFunction;
  template = InstanceReadOnlyTemplate[tempalteName];
  templateCompiled = SpacebarsCompiler.compile(template, {
    isBody: true
  });
  templateRenderFunction = eval(templateCompiled);
  Template[tempalteName] = new Blaze.Template(tempalteName, templateRenderFunction);
  Template[tempalteName].steedosData = steedosData;
  return Template[tempalteName].helpers(InstanceformTemplate.helpers);
};

InstanceReadOnlyTemplate.createInstanceSignText = function (steedosData) {
  var instanceSignTextCompiled, instanceSignTextHtml, instanceSignTextRenderFunction;
  instanceSignTextHtml = _getViewHtml('client/views/instance/instance_sign_text.html');
  instanceSignTextCompiled = SpacebarsCompiler.compile(instanceSignTextHtml, {
    isBody: true
  });
  instanceSignTextRenderFunction = eval(instanceSignTextCompiled);
  Template.instanceSignText = new Blaze.Template("instanceSignText", instanceSignTextRenderFunction);
  Template.instanceSignText.steedosData = steedosData;
  return Template.instanceSignText.helpers(InstanceSignText.helpers);
};

InstanceReadOnlyTemplate.createImageSign = function (steedosData) {
  var imageSignCompiled, imageSignHtml, imageSignRenderFunction;
  imageSignHtml = _getViewHtml('client/views/instance/image_sign.html');
  imageSignCompiled = SpacebarsCompiler.compile(imageSignHtml, {
    isBody: true
  });
  imageSignRenderFunction = eval(imageSignCompiled);
  Template.imageSign = new Blaze.Template("imageSign", imageSignRenderFunction);
  Template.imageSign.steedosData = steedosData;
  return Template.imageSign.helpers(ImageSign.helpers);
};

InstanceReadOnlyTemplate.init = function (steedosData) {
  InstanceReadOnlyTemplate.create("afSelectUserRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("afFormGroup", steedosData);
  }

  InstanceReadOnlyTemplate.create("afFormGroupRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("instance_attachment", {
      absolute: steedosData.absolute
    });
    InstanceReadOnlyTemplate.createImageSign(steedosData);
    return InstanceReadOnlyTemplate.createInstanceSignText(steedosData);
  }
};

InstanceReadOnlyTemplate.getValue = function (value, field, locale, utcOffset) {
  var date, e, hours, month, seconds, t, t0, t1, year;

  if (!value && value !== false) {
    return '';
  }

  switch (field.type) {
    case 'email':
      value = value ? '<a href=\'mailto:' + value + '\'>' + value + '</a>' : '';
      break;

    case 'url':
      if (value) {
        if (value.indexOf("http") === 0) {
          try {
            value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
          } catch (error) {
            e = error;
            value = "<a href='' target='_blank'>" + value + "</a>";
          }
        } else {
          value = "<a href='http://" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
        }
      } else {
        value = '';
      }

      break;

    case 'group':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("fullname").toString() : void 0;
      } else {
        value = value != null ? value.fullname : void 0;
      }

      break;

    case 'user':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("name").toString() : void 0;
      } else {
        value = value != null ? value.name : void 0;
      }

      break;

    case 'password':
      value = '******';
      break;

    case 'checkbox':
      if (value && value !== 'false') {
        value = TAPi18n.__("form_field_checkbox_yes", {}, locale);
      } else {
        value = TAPi18n.__("form_field_checkbox_no", {}, locale);
      }

      break;

    case 'dateTime':
      if (value && value.length === 16) {
        t = value.split("T");
        t0 = t[0].split("-");
        t1 = t[1].split(":");
        year = t0[0];
        month = t0[1];
        date = t0[2];
        hours = t1[0];
        seconds = t1[1];
        value = new Date(year, month - 1, date, hours, seconds);
      } else {
        value = new Date(value);
      }

      value = InstanceReadOnlyTemplate.formatDate(value, utcOffset);
      break;

    case 'input':
      if (field.is_textarea) {
        value = Spacebars.SafeString(Markdown(value));
      }

      break;

    case 'number':
      if (value || value === 0) {
        if (typeof value === 'string') {
          value = parseFloat(value);
        }

        value = value.toFixed(field.digits);
        value = Steedos.numberToString(value, locale);
      }

      break;

    case 'odata':
      value = value['@label'];
  }

  return value;
};

InstanceReadOnlyTemplate.getLabel = function (fields, code) {
  var field;
  field = fields.findPropertyByPK("code", code);

  if (field) {
    if (field.name) {
      return field.name;
    } else {
      return field.code;
    }
  }
};

InstanceReadOnlyTemplate.getInstanceFormVersion = function (instance) {
  var form, form_fields, form_version;
  form = db.forms.findOne(instance.form);
  form_version = {};
  form_fields = [];

  if (form.current._id === instance.form_version) {
    form_version = form.current;
  } else {
    form_version = _.where(form.historys, {
      _id: instance.form_version
    })[0];
  }

  form_version.fields.forEach(function (field) {
    if (field.type === 'section') {
      form_fields.push(field);

      if (field.fields) {
        return field.fields.forEach(function (f) {
          return form_fields.push(f);
        });
      }
    } else if (field.type === 'table') {
      field['sfields'] = field['fields'];
      delete field['fields'];
      return form_fields.push(field);
    } else {
      return form_fields.push(field);
    }
  });
  form_version.fields = form_fields;
  return form_version;
};

InstanceReadOnlyTemplate.getFlowVersion = function (instance) {
  var flow, flow_version;
  flow = db.flows.findOne(instance.flow);
  flow_version = {};

  if (flow.current._id === instance.flow_version) {
    flow_version = flow.current;
  } else {
    flow_version = _.where(flow.historys, {
      _id: instance.flow_version
    })[0];
  }

  return flow_version;
};

_getViewHtml = function (path) {
  var viewHtml;
  viewHtml = Assets.getText(path);

  if (viewHtml) {
    viewHtml = viewHtml.replace(/<template[\w\s\"\=']+>/i, "").replace(/<\/template>/i, "");
  }

  return viewHtml;
};

_getLocale = function (user) {
  var locale, ref, ref1;

  if ((user != null ? (ref = user.locale) != null ? ref.toLocaleLowerCase() : void 0 : void 0) === 'zh-cn') {
    locale = "zh-CN";
  } else if ((user != null ? (ref1 = user.locale) != null ? ref1.toLocaleLowerCase() : void 0 : void 0) === 'en-us') {
    locale = "en";
  } else {
    locale = "zh-CN";
  }

  return locale;
};

_getRequiredFields = function (fields, rev) {
  if (!rev) {
    rev = [];
  }

  fields.forEach(function (field) {
    if (field.type === 'section') {
      return _getRequiredFields(field.fields, rev);
    } else if (field.type === 'table') {} else {
      if (field.is_required) {
        return rev.push(field.code);
      }
    }
  });
  return rev;
};

_getStartStepEditableFields = function (fields, steps) {
  var editableCode, startStep;
  startStep = steps.findPropertyByPK("step_type", "start");
  editableCode = [];

  _.keys(startStep.permissions).forEach(function (key) {
    if (startStep.permissions[key] === 'editable') {
      return editableCode.push(key);
    }
  });

  return editableCode;
};

_getStartStepRequiredFields = function (fields, steps) {
  var editableCode, requiredFields;
  requiredFields = _getRequiredFields(fields);
  editableCode = _getStartStepEditableFields(fields, steps);
  return _.intersection(requiredFields, editableCode);
};

_getTemplateData = function (user, space, instance, options) {
  var flow, form, form_version, locale, steedosData;

  if (Meteor.isServer) {
    form_version = InstanceReadOnlyTemplate.getInstanceFormVersion(instance);
  } else {
    form_version = WorkflowManager.getInstanceFormVersion(instance);
  }

  locale = _getLocale(user);
  steedosData = {};

  if (Meteor.isClient) {
    steedosData = _.clone(WorkflowManager_format.getAutoformSchemaValues());
    steedosData.insname = instance.name;
    steedosData.ins_state = instance.state;
    steedosData.ins_final_decision = instance.ins_final_decision;
    steedosData.ins_code = instance.code;
    steedosData.ins_is_archived = instance.is_archived;
    steedosData.ins_is_deleted = instance.ins_is_deleted;
    steedosData.applicant_name = instance.applicant_name;
    steedosData.applicantContext = instance.applicant_name;
  }

  steedosData.instance = instance;
  steedosData.form_version = form_version;
  steedosData.locale = locale;
  steedosData.utcOffset = user.utcOffset;
  steedosData.space = instance.space;
  steedosData.sessionUserId = user._id;

  if (Meteor.isServer) {
    if (options != null ? options.editable : void 0) {
      form = db.forms.findOne({
        _id: instance.form
      });
      flow = db.flows.findOne({
        _id: instance.flow
      });
      steedosData.startStepEditableFields = _getStartStepEditableFields(form.current.fields, flow.current.steps);
    }
  }

  return steedosData;
};

InstanceReadOnlyTemplate.formatDate = function (date, utcOffset) {
  var passing;

  if (Meteor.isServer) {
    passing = false;
  } else {
    passing = true;
  }

  if (!utcOffset && utcOffset !== 0) {
    utcOffset = 8;
  }

  return moment(date).utcOffset(utcOffset, passing).format("YYYY-MM-DD HH:mm");
};

InstanceReadOnlyTemplate.getInstanceView = function (user, space, instance, options) {
  var body, instanceCompiled, instanceRenderFunction, instanceTemplate, steedosData;
  steedosData = _getTemplateData(user, space, instance, options);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  instanceTemplate = TemplateManager.getTemplate(instance, options != null ? options.templateName : void 0);
  instanceTemplate = instanceTemplate.replace(/afSelectUser/g, "afSelectUserRead");

  if (!(options != null ? options.editable : void 0)) {
    instanceTemplate = instanceTemplate.replace(/afFormGroup/g, "afFormGroupRead");
  }

  instanceCompiled = SpacebarsCompiler.compile(instanceTemplate, {
    isBody: true
  });
  instanceRenderFunction = eval(instanceCompiled);
  Template.instance_readonly_view = new Blaze.Template("instance_readonly_view", instanceRenderFunction);
  Template.instance_readonly_view.steedosData = steedosData;
  Template.instance_readonly_view.helpers(InstanceformTemplate.helpers);
  InstanceReadOnlyTemplate.init(steedosData);
  body = Blaze.toHTMLWithData(Template.instance_readonly_view, steedosData);
  return "<div id='instanceform' >\n	" + body + "\n</div>";
};

InstanceReadOnlyTemplate.getTracesView = function (user, space, instance, options) {
  var body, form, steedosData, traceCompiled, traceRenderFunction, tracesHtml;
  steedosData = _getTemplateData(user, space, instance);
  form = db.forms.findOne(instance.form);

  if (form.instance_style === "table" || (options != null ? options.templateName : void 0) === "table") {
    tracesHtml = _getViewHtml('client/views/instance/traces_table.html');
  } else {
    tracesHtml = _getViewHtml('client/views/instance/traces.html');
  }

  traceCompiled = SpacebarsCompiler.compile(tracesHtml, {
    isBody: true
  });
  traceRenderFunction = eval(traceCompiled);
  Template.trace_readonly_view = new Blaze.Template("trace_readonly_view", traceRenderFunction);
  Template.trace_readonly_view.steedosData = steedosData;
  Template.trace_readonly_view.helpers(TracesTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.trace_readonly_view, instance.traces);
  return body;
};

InstanceReadOnlyTemplate.getAttachmentView = function (user, space, instance) {
  var attachmentCompiled, attachmentHtml, attachmentRenderFunction, body, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  attachmentHtml = _getViewHtml('client/views/instance/instance_attachments.html');
  attachmentCompiled = SpacebarsCompiler.compile(attachmentHtml, {
    isBody: true
  });
  attachmentRenderFunction = eval(attachmentCompiled);
  Template.attachments_readonly_view = new Blaze.Template("attachments_readonly_view", attachmentRenderFunction);
  Template.attachments_readonly_view.steedosData = steedosData;
  Template.attachments_readonly_view.helpers(InstanceAttachmentTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.attachments_readonly_view);
  return body;
};

InstanceReadOnlyTemplate.getRelatedInstancesView = function (user, space, instance, options) {
  var body, relatedInstancesCompiled, relatedInstancesHtml, relatedInstancesRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedInstancesHtml = _getViewHtml('client/views/instance/related_instances.html');
  relatedInstancesCompiled = SpacebarsCompiler.compile(relatedInstancesHtml, {
    isBody: true
  });
  relatedInstancesRenderFunction = eval(relatedInstancesCompiled);
  Template.related_instances_view = new Blaze.Template("related_instances_view", relatedInstancesRenderFunction);
  Template.related_instances_view.steedosData = steedosData;
  Template.related_instances_view.helpers(RelatedInstances.helpers);
  body = Blaze.toHTMLWithData(Template.related_instances_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getOnLoadScript = function (instance) {
  var form_script, form_version;
  form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
  form_script = form_version.form_script;

  if (form_script && form_script.replace(/\n/g, "").replace(/\s/g, "").length > 0) {
    form_script = "CoreForm = {};CoreForm.instanceform = {};" + form_script;
    return form_script += ";if(CoreForm.form_OnLoad){window.onload = CoreForm.form_OnLoad();}";
  } else {
    return form_script = "";
  }
};

InstanceReadOnlyTemplate.getInstanceHtml = function (user, space, instance, options) {
  var absoluteUrl, allCssLink, attachment, body, cssHref, form, formDescription, formDescriptionHtml, html, instanceBoxStyle, instanceTracesStyle, instance_style, onLoadScript, openFileScript, related_instances, showTracesBtn, showTracesScript, submit_btn, trace, width;
  body = InstanceReadOnlyTemplate.getInstanceView(user, space, instance, options);
  onLoadScript = InstanceReadOnlyTemplate.getOnLoadScript(instance);
  openFileScript = "if(window.isNode && isNode()){\n	attachs = document.getElementsByClassName(\"ins_attach_href\");\n	for(var i = 0; i < attachs.length; i++){\n		attach = attachs[i];\n		attach.addEventListener(\"click\", function(e){\n			if(isImage(this.dataset.type) || isHtml(this.dataset.type)){\n				e.preventDefault();\n				openWindow(\"/api/files/instances/\" + this.dataset.id);\n			}else if(nw_core.canOpenFile(this.dataset.name)){\n				e.preventDefault();\n				nw_core.openFile(this.href, this.dataset.name)\n			}\n		});\n	}\n}\n\nvar flow = \"" + instance.flow + "\";\nvar space = \"" + instance.space + "\";\n";

  if (!Steedos.isMobile()) {
    form = db.forms.findOne(instance.form);

    if ((form != null ? form.instance_style : void 0) === 'table') {
      instance_style = "instance-table";
    }
  }

  if ((options != null ? options.templateName : void 0) === 'table') {
    instance_style = "instance-table";
  }

  if (options != null ? options.instance_style : void 0) {
    instance_style = options.instance_style;
  }

  if (!options || options.showTrace === true) {
    trace = InstanceReadOnlyTemplate.getTracesView(user, space, instance);
  } else {
    trace = "";
  }

  instanceBoxStyle = "";

  if (instance && instance.final_decision) {
    if (instance.final_decision === "approved") {
      instanceBoxStyle = "box-success";
    } else if (instance.final_decision === "rejected") {
      instanceBoxStyle = "box-danger";
    }
  }

  if (!options || options.showAttachments === true) {
    attachment = InstanceReadOnlyTemplate.getAttachmentView(user, space, instance);
  } else {
    attachment = "";
  }

  related_instances = InstanceReadOnlyTemplate.getRelatedInstancesView(user, space, instance, options);
  absoluteUrl = Meteor.absoluteUrl();
  width = "960px";

  if (options != null ? options.width : void 0) {
    width = "";
  }

  cssHref = Meteor.absoluteUrl("steedos-css");
  allCssLink = "<link rel=\"stylesheet\" type=\"text/css\" class=\"__meteor-css__\" href=\"" + cssHref + "\">";
  submit_btn = "";
  instanceTracesStyle = "";

  if ((options != null ? options.tagger : void 0) === 'email') {
    showTracesBtn = "";
  } else {
    showTracesBtn = "<div class=\"print-tool\">\n	<label class=\"cbx-label\"><input type=\"checkbox\" checked class=\"cbx-print cbx-print-traces\" id=\"cbx-print-traces\"/><span>" + t('instance_approval_history') + "</span></label>\n</div>";
    instanceTracesStyle = ".instance-view .instance-traces{\n	padding-left: 15px;\n	padding-right: 15px;\n}";
  }

  showTracesScript = "$( document ).ready(function(){\n	var b = document.getElementById('cbx-print-traces');\n	var t = document.getElementsByClassName('instance-traces')[0];\n	if (b.checked){\n		t.style = 'display: block;'\n	} else {\n		t.style = 'display: none;'\n	}\n	b.addEventListener('change', function(e){\n		if (e.target.checked){\n			t.style = 'display: block;'\n		} else {\n			t.style = 'display: none;'\n		}\n	});\n});\n";

  if (options != null ? options.styles : void 0) {
    allCssLink = "";
  }

  form = db.forms.findOne({
    _id: instance.form
  });
  formDescriptionHtml = "";

  if (form) {
    formDescription = form.description;

    if (formDescription) {
      formDescription = formDescription.replace(/\n/g, "<br/>");
      formDescriptionHtml = "<div class=\"box-header  with-border instance-header\">\n	<div>\n		" + formDescription + "\n	</div>\n</div>";
    }
  }

  html = "<!DOCTYPE html>\n<html>\n	<head>\n		<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n		" + allCssLink + "\n		<script src=\"https://www.steedos.com/website/libs/jquery.min.js\" type=\"text/javascript\"></script>\n		<script src=\"/js/nw_core.js\" type=\"text/javascript\"></script>\n		" + (options.plugins || "") + "\n\n		<style>\n			.steedos{\n				width: " + width + ";\n				margin-left: auto;\n				margin-right: auto;\n			}\n\n			.instance-view .instance-name{\n				display: inline !important\n			}\n			.box-tools{\n				display: none;\n			}\n			.box.collapsed-box .box-body,.box.collapsed-box .box-footer {\n			  display: block;\n			}\n\n			body{\n				background: azure !important;\n			}\n\n			" + instanceTracesStyle + "\n\n			" + ((options != null ? options.styles : void 0) || "") + "\n		</style>\n	</head>\n	<body>\n		<div class=\"steedos\">\n			" + submit_btn + "\n			" + showTracesBtn + "\n			<div class=\"instance-view\">\n				<div class=\"instance " + instance_style + "\">\n					<form name=\"instanceForm\">\n						<div class=\"instance-form box " + instanceBoxStyle + "\">\n							" + formDescriptionHtml + "\n							<div class=\"box-body\">\n								<div class=\"col-md-12\">\n									" + body + "\n									" + attachment + "\n									" + related_instances + "\n								</div>\n							</div>\n						</div>\n					</form>\n					" + trace + "\n				</div>\n			</div>\n		</div>\n	</body>\n	<script>" + openFileScript + ";" + onLoadScript + ";" + showTracesScript + "</script>\n</html>";
  return html;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/template_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var formId;
TemplateManager = {};
formId = 'instanceform';

TemplateManager.instance_title = function () {
  var pageTitle, pageTitleTrClass, val;
  pageTitle = "{{instance.name}}";
  pageTitleTrClass = "instance-name";

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) {
    pageTitle = "{{> afFormGroup name=\"" + CoreForm.pageTitleFieldName + "\" label=false}}";
    pageTitleTrClass = "";
  }

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitle : void 0) {
    pageTitle = "" + CoreForm.pageTitle;
    pageTitleTrClass = "";
  }

  val = {
    pageTitle: pageTitle,
    pageTitleTrClass: pageTitleTrClass
  };
  return val;
};

TemplateManager.handleTableTemplate = function (instance, _export) {
  var table_fields, template;
  template = "<div class='instance-template'>\n	<table class=\"table-page-title form-table no-border text-align-center\" style=\"width: 100%;display: inline-table;\">\n		<tr class=\"" + this.instance_title().pageTitleTrClass + "\">\n			<td class=\"instance-table-name-td page-title\">\n				" + this.instance_title().pageTitle + "\n			</td>\n		</tr>\n\n	</table>\n	<table class=\"table-page-body form-table\">\n			<tr style=\"height:0px\">\n				<th style='width: 16%'></th>\n				<th></th>\n				<th style='width: 16%'></th>\n				<th></th>\n			</tr>";
  table_fields = InstanceformTemplate.helpers.table_fields(instance);
  table_fields.forEach(function (table_field) {
    var field_permission, pureCode, required, title_permission;
    required = "";

    if (!(typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) || (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) !== table_field.code) {
      if (table_field.is_required) {
        required = "is-required";
      }

      if (_export) {
        required = "";
      }

      pureCode = Steedos.removeSpecialCharacter(table_field.code);

      if (InstanceformTemplate.helpers.isOpinionField(table_field)) {
        template += table_field.tr_start;
        template += "<td class=\"td-title " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field opinion-field opinion-field-" + pureCode + " automatic\" colspan = \"" + table_field.td_colspan + "\">\n	{{> instanceSignText name=\"" + table_field.code + "\"}}\n</td>";
        return template += table_field.tr_end;
      } else {
        if (InstanceformTemplate.helpers.includes(table_field.type, 'section,table')) {
          template += table_field.tr_start;
          template += "<td class=\"td-childfield td-childfield-" + pureCode + "\" colspan = \"" + table_field.td_colspan + "\">\n   {{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        } else {
          template += table_field.tr_start;

          if (_export) {
            title_permission = "";
            field_permission = "";
          } else {
            title_permission = "title-" + table_field.permission;
            field_permission = "field-" + table_field.permission;
          }

          template += "<td class=\"td-title td-title-" + pureCode + " " + title_permission + " " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field td-field-" + pureCode + " " + field_permission + "\" colspan = \"" + table_field.td_colspan + "\">\n	{{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        }
      }
    }
  });
  template += "	</table>\n\n	<table class=\"table-page-footer form-table no-border\">\n		<tr class=\"applicant-wrapper\">\n			<td class=\"nowrap\">\n				<div class='inline-left'>\n					<label class=\"control-label\">{{_t \"instance_initiator\"}}：</label>\n				</div>\n				<div class='instance-table-wrapper-td inline-left'>\n					{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n				</div>\n			</td>\n			<td class=\"nowrap\">\n				<div class='pull-left'>\n					<div class='inline-left'>\n						<label>{{_t \"instance_submit_date\"}}：</label>\n					</div>\n					<div class='inline-right'>\n						<div class=\"form-group\">\n							{{formatDate instance.submit_date '{\"format\":\"YYYY-MM-DD\"}'}}\n						</div>\n					</div>\n				</div>\n			</td>\n		</tr>\n	</table>\n</div>";
  return template;
};

TemplateManager._template = {
  "default": function (instance) {
    var template;
    template = "<div class=\"with-border col-md-12\">\n	<div class=\"instance-name\">\n		<h3 class=\"box-title\">" + TemplateManager.instance_title().pageTitle + "</h3>\n		<span class=\"help-block\"></span>\n	</div>\n	<span class=\"help-block\"></span>\n</div>\n{{#each steedos_form.fields}}\n	{{#if isOpinionField this}}\n		<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}}\">\n			<div class=\"form-group automatic opinion-field-{{this.code}}\">\n				<label class=\"control-label\">{{afFieldLabelText name=this.code}}</label>\n\n				{{> instanceSignText name=this.code}}\n			</div>\n		</div>\n	{{else}}\n		{{#if includes this.type 'section,table'}}\n			<div class=\"col-md-12\">\n				{{> afFormGroup name=this.code label=false}}\n			</div>\n		{{else}}\n			<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}}\">\n			{{> afFormGroup name=this.code}}\n			</div>\n		{{/if}}\n	{{/if}}\n{{/each}}\n<div class=\"col-md-12\">\n	<div class=\"applicant-wrapper form-group form-horizontal\">\n	<div class=\"input-group\">\n		<div class=\"input-group-addon\">\n		  {{_t \"instance_initiator\"}}&nbsp;:\n		</div>\n		{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n	  </div>\n	</div>\n</div>";
    return template;
  },
  table: function (instance) {
    return TemplateManager.handleTableTemplate(instance);
  }
};
TemplateManager._templateHelps = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control',
        style: 'padding:6px 12px;width:140px;display:inline'
      }
    };
    data.atts.disabled = true;
    return data;
  }
};
({
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = formId;
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  }
});

TemplateManager.getTemplate = function (instance, templateName) {
  var flow, form;
  flow = db.flows.findOne(instance.flow);
  form = db.forms.findOne(instance.form);

  if (templateName) {
    if (templateName === 'table') {
      return TemplateManager._template.table(instance);
    }

    return TemplateManager._template["default"](instance);
  }

  if (typeof Session !== "undefined" && Session !== null ? Session.get("instancePrint") : void 0) {
    if (flow != null ? flow.print_template : void 0) {
      return "<div class='instance-template'>" + flow.print_template + "</div>";
    } else {
      if (flow != null ? flow.instance_template : void 0) {
        return "<div class='instance-template'>" + flow.instance_template + "</div>";
      } else {
        return TemplateManager._template.table(instance);
      }
    }
  } else {
    if (Steedos.isMobile()) {
      return TemplateManager._template["default"](instance);
    }

    if (flow != null ? flow.instance_template : void 0) {
      return "<div class='instance-template'>" + flow.instance_template + "</div>";
    }

    if (form != null ? form.instance_style : void 0) {
      if (form.instance_style === 'table') {
        return TemplateManager._template.table(instance);
      }

      return TemplateManager._template["default"](instance);
    } else {
      return TemplateManager._template["default"](instance);
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"coreform":{"inputTypes":{"coreform-table":{"steedos-table.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/coreform/inputTypes/coreform-table/steedos-table.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
SteedosTable = {};
SteedosTable.formId = "instanceform";

SteedosTable.checkItem = function (field, item_index) {
  var fieldObj = SteedosTable.getField(field);
  var fieldVal = SteedosTable.getItemModalValue(field, item_index);
  var sf_name = '';
  var rev = true;
  fieldObj.sfields.forEach(function (sf) {
    if (sf.permission == 'editable') {
      sf_name = fieldObj.code + "." + sf.code;

      if (!InstanceManager.checkFormFieldValue($("[name='" + sf_name + "']")[0])) {
        rev = false;
      }
    }
  });
  return rev;
};

SteedosTable.setTableItemValue = function (field, item_index, item_value) {
  var tableValue = SteedosTable.getTableValue(field);
  tableValue[item_index] = item_value;
};

SteedosTable.getTableItemValue = function (field, item_index) {
  return SteedosTable.getTableValue(field)[item_index];
};

SteedosTable.removeTableItem = function (field, item_index) {
  var item_value = SteedosTable.getTableItemValue(field, item_index);
  item_value.removed = true;
};

SteedosTable.setTableValue = function (field, value) {
  $("table[name='" + field + "']").val({
    val: value
  });
};

SteedosTable.getTableValue = function (field) {
  return $("table[name='" + field + "']").val().val;
};

SteedosTable.getValidValue = function (field) {
  var value = SteedosTable.getTableValue(field);

  if (!value) {
    return;
  }

  var validValue = [];
  value.forEach(function (v) {
    if (!v.removed) {
      validValue.push(v);
    }
  });
  return validValue;
};

SteedosTable.handleData = function (field, values) {
  if (!values || !(values instanceof Array)) {
    return values;
  }

  var fieldObj = SteedosTable.getField(field);
  values.forEach(function (v) {
    fieldObj.sfields.forEach(function (f) {
      if (f.type == 'user' || f.type == 'group') {
        var value = v[f.code];

        if (f.is_multiselect) {
          if (value && value.length > 0 && typeof value[0] == 'object') {
            v[f.code] = v[f.code].getProperty("id");
          }
        } else {
          if (value && typeof value == 'object') {
            v[f.code] = v[f.code].id;
          }
        }
      } else if (f.type == 'dateTime') {
        var value = v[f.code];

        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
            v[f.code] = value;
          }
        }
      }
    });
  });
  return values;
};

SteedosTable.getField = function (field) {
  var instanceFields = WorkflowManager.getInstanceFields();
  if (!instanceFields) return;
  var fieldObj = instanceFields.findPropertyByPK("code", field);
  return fieldObj;
};

SteedosTable.getModalData = function (field, index) {
  var data = {};
  var fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return;
  }

  data.field = fieldObj;
  data.field.formula = Form_formula.getFormulaFieldVariable("Form_formula.field_values", fieldObj.sfields);
  data.value = {};
  data.value[field] = SteedosTable.getTableItemValue(field, index);
  data.index = index;
  return data;
};

SteedosTable.getItemModalValue = function (field, item_index) {
  if (!AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index)) {
    return {};
  }

  var item_value = AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index).insertDoc[field];
  return item_value;
};

SteedosTable.addItem = function (field, index, _item_value) {
  var keys = SteedosTable.getKeys(field);

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  $("tbody[name='" + field + "Tbody']").append(SteedosTable.getTr(keys, item_value, index, field, true));
};

SteedosTable.updateItem = function (field, index, _item_value) {
  var item = $("tr[name='" + field + "_item_" + index + "']");

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  if (item && item.length > 0) {
    var keys = SteedosTable.getKeys(field);
    var tds = SteedosTable.getRemoveTd(field, index);
    var sfields = SteedosTable.getField(field).sfields;
    keys.forEach(function (key) {
      var sfield = sfields.findPropertyByPK("code", key);
      var value = item_value[key];
      tds = tds + SteedosTable.getTd(sfield, index, value);
    });
    item.empty();
    item.append(tds);
  } else {
    SteedosTable.addItem(field, index);
  }

  if (SteedosTable.getTableValue(field)) {
    SteedosTable.setTableItemValue(field, index, item_value); //SteedosTable.valueHash[field][index] = item_value;
  } else {
    //SteedosTable.valueHash[field] = [item_value];
    SteedosTable.setTableValue(field, [item_value]);
  } //执行主表公式计算


  InstanceManager.runFormula(field);
};

SteedosTable.removeItem = function (field, index) {
  $("tr[name='" + field + "_item_" + index + "']").hide();
  SteedosTable.removeTableItem(field, index);
  InstanceManager.runFormula(field);
};

SteedosTable.showModal = function (field, index, method) {
  var modalData = SteedosTable.getModalData(field, index);
  modalData.method = method;
  Modal.show("steedosTableModal", modalData);
};

SteedosTable.getKeys = function (field) {
  if (!AutoForm.getCurrentDataForForm(SteedosTable.formId)) {
    return [];
  }

  var ss = AutoForm.getFormSchema(SteedosTable.formId);
  var keys = [];

  if (ss.schema(field + ".$").type === Object) {
    keys = ss.objectKeys(SimpleSchema._makeGeneric(field) + '.$');
  }

  return keys;
};

SteedosTable.getThead = function (field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return '';
  }

  var thead = '',
      trs = '',
      label = '',
      width = 100;

  if (editable) {
    // trs = "<th class='removed'></th>"
    trs = "";
  }

  var sfields = fieldObj.sfields;

  if (!sfields) {
    return thead;
  }

  var sf_length = sfields.length;

  if (sf_length > 0) {
    var wide_fields = sfields.filterProperty("is_wide", true);
    width = 100 / (sf_length + wide_fields.length);
  }

  sfields.forEach(function (sf, index) {
    label = sf.name != null && sf.name.length > 0 ? sf.name : sf.code;
    trs = trs + "<td "; // nowrap='nowrap'

    trs = trs + " class='title " + sf.type + "'";

    if (index != sf_length - 1) {
      if (sf.is_wide) {
        trs = trs + "style='width:" + width * 2 + "%'";
      } else {
        trs = trs + "style='width:" + width + "%'";
      }
    }

    trs = trs + ">" + label + "</td>";
  });
  thead = '<tr>' + trs + '</tr>';
  return thead;
};

SteedosTable.getTbody = function (keys, field, values, editable) {
  var tbody = "";

  if (values instanceof Array) {
    values.forEach(function (value, index) {
      tbody = tbody + SteedosTable.getTr(keys, value, index, field, editable);
    });
  }

  return tbody;
};

SteedosTable.getTr = function (keys, item_value, index, field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);
  var tr = "<tr id='" + fieldObj.code + "_item_" + index + "' name='" + fieldObj.code + "_item_" + index + "' data-index='" + index + "'";

  if (editable) {
    tr = tr + "' class='item edit'";
  } else {
    if (Steedos.isMobile()) {
      tr = tr + " class='item item-readonly'";
    } else {
      tr = tr + " class='item '";
    }
  }

  if (item_value.removed) {
    tr = tr + " style='display:none' ";
  }

  tr = tr + "'>";
  var tds = "";

  if (editable) {
    tds = SteedosTable.getRemoveTd(fieldObj.code, index);
  }

  var sfields = fieldObj.sfields;
  keys.forEach(function (key) {
    var sfield = sfields.findPropertyByPK("code", key);
    var value = item_value[key];
    tds = tds + SteedosTable.getTd(sfield, index, value);
  });
  tr = tr + tds + "</tr>";
  return tr;
};

SteedosTable.getRemoveTd = function (field, index) {
  // return "<td class='steedosTable-item-remove removed' data-index='" + index + "'><i class='fa fa-times' aria-hidden='true'></td>";
  return "";
};

SteedosTable.getTd = function (field, index, value) {
  var td = "<td ";
  td = td + " class='steedosTable-item-field " + field.type + "' ";
  var td_value = "";

  if (Meteor.isClient) {
    td_value = SteedosTable.getTDValue(field, value);
  } else {
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    td_value = InstanceReadOnlyTemplate.getValue(value, field, locale, utcOffset);
  }

  td = td + " data-index='" + index + "'>" + td_value + "</td>";
  return td;
};

SteedosTable.getTDValue = function (field, value) {
  var td_value = "";

  if (!field) {
    return td_value;
  }

  try {
    switch (field.type) {
      case 'user':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaSpaceUsers(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var u = CFDataManager.getFormulaSpaceUsers(value);
              td_value = u ? u.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'group':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaOrganizations(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var o = CFDataManager.getFormulaOrganization(value);
              td_value = o ? o.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'checkbox':
        if (value === true || value == 'true') {
          td_value = TAPi18n.__("form_field_checkbox_yes");
        } else {
          td_value = TAPi18n.__("form_field_checkbox_no");
        }

        break;

      case 'email':
        td_value = value ? "<a href='mailto:" + value + "'>" + value + "</a>" : "";
        break;

      case 'url':
        if (value) {
          if (value.indexOf("http") == 0) {
            try {
              td_value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
            } catch (e) {
              td_value = "<a href='' target='_blank'>" + value + "</a>";
            }
          } else {
            td_value = "<a href='http://" + encodeURI(value) + "' target='_blank'>http://" + value + "</a>";
          }
        } else {
          td_value = "";
        }

        break;

      case 'password':
        td_value = '******';
        break;

      case 'date':
        if (value) {
          if (value.length == 10) {
            var t = value.split("-");
            year = t[0];
            month = t[1];
            date = t[2];
            value = new Date(year, month - 1, date);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd');
        }

        break;

      case 'dateTime':
        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd HH:mm');
        }

        break;

      case 'number':
        if (value || value == 0) {
          if (typeof value == 'string') {
            value = parseFloat(value);
          }

          td_value = value.toFixed(field.digits);
          td_value = Steedos.numberToString(td_value);
        }

        break;

      case 'odata':
        if (value) {
          td_value = value['@label'];
        }

        break;

      default:
        td_value = value ? value : '';
        break;
    }
  } catch (e) {
    e;
    return '';
  }

  return td_value;
};

if (Meteor.isClient) {
  AutoForm.addInputType("table", {
    template: "afTable",
    valueOut: function () {
      var name = this.data("schemaKey");
      return SteedosTable.getValidValue(name);
    },
    valueConverters: {
      "stringArray": AutoForm.valueConverters.stringToStringArray,
      "number": AutoForm.valueConverters.stringToNumber,
      "numerArray": AutoForm.valueConverters.stringToNumberArray,
      "boolean": AutoForm.valueConverters.stringToBoolean,
      "booleanArray": AutoForm.valueConverters.stringToBooleanArray,
      "date": AutoForm.valueConverters.stringToDate,
      "dateArray": AutoForm.valueConverters.stringToDateArray
    },
    contextAdjust: function (context) {
      if (typeof context.atts.maxlength === 'undefined' && typeof context.max === 'number') {
        context.atts.maxlength = context.max;
      }

      return context;
    }
  });
  Template.afTable.events({
    'tap .steedos-table .steedosTable-item-add,.add-item-tr': function (event, template) {
      var name = template.data.name;
      var tableValue = SteedosTable.getTableValue(name);
      var new_item_index = tableValue ? tableValue.length : 0;
      SteedosTable.showModal(name, new_item_index, "add");
    },
    'tap .steedos-table .steedosTable-item-field': function (event, template) {
      if (template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "edit");
      }
    },
    'tap .steedos-table .steedosTable-item-remove': function (event, template) {
      var field = template.data.name;
      var item_index = event.currentTarget.dataset.index;
      Session.set("instance_change", true);
      SteedosTable.removeItem(field, item_index);
    },
    'tap .steedos-table .item-readonly': function (event, template) {
      if (!template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "read");
      }
    }
  });

  Template.afTable.rendered = function () {
    var field = this.data.name;
    var keys = SteedosTable.getKeys(field);
    var validValue = SteedosTable.handleData(field, this.data.value);
    SteedosTable.setTableValue(field, validValue);
    $("thead[name='" + field + "Thead']").html(SteedosTable.getThead(field, this.data.atts.editable));
    $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), this.data.atts.editable));
    str = t("steedos_table_add_item");
    addItemTr = "<tr class='add-item-tr'><td colspan='" + keys.length + "'><i class='ion ion-plus-round'></i>" + str + "</td></tr>";

    if (this.data.atts.editable) {
      $("tfoot[name='" + field + "Tfoot']").append(addItemTr);
    }
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"views":{"instance":{"_image_sign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_image_sign.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
ImageSign.helpers = {
  spaceUserSign: function (userId) {
    var space, spaceUserSign;
    space = "";

    if (Meteor.isServer) {
      space = Template.instance().view.template.steedosData.space;
    } else {
      space = Session.get("spaceId");
    }

    spaceUserSign = db.space_user_signs.findOne({
      space: space,
      user: userId
    });
    return spaceUserSign;
  },
  imageURL: function (userId) {
    var absolute, spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(userId);
    absolute = false;

    if (Meteor.isServer) {
      absolute = Template.instance().view.template.steedosData.absolute;
    }

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      if (absolute) {
        return Meteor.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      } else {
        return Steedos.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_form.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_form.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceformTemplate.helpers = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: steedos_instance.applicant_name
    };

    if (!steedos_instance || steedos_instance.state !== "draft") {
      data.atts.disabled = true;
    }

    return data;
  },
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = "instanceform";
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  empty: function (val) {
    if (val) {
      return false;
    } else {
      return true;
    }
  },
  unempty: function (val) {
    if (val) {
      return true;
    } else {
      return false;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  unequals: function (a, b) {
    return !(a === b);
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  include: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  formatDate: function (date, options) {
    if (!date) {
      return "";
    }

    if (options && typeof options === 'string') {
      options = JSON.parse(options);
    }

    if (!options.format) {
      options = {
        format: "YYYY-MM-DD HH:mm"
      };
    }

    return moment(date).format(options.format);
  },
  traces: function () {
    var flow, instance, locale, ref, ref1, ref2, ref3, steedosData, steps, traces;

    if (Meteor.isServer) {
      steedosData = (ref = Template.instance()) != null ? (ref1 = ref.view) != null ? (ref2 = ref1.template) != null ? ref2.steedosData : void 0 : void 0 : void 0;
      instance = steedosData != null ? steedosData.instance : void 0;
      flow = InstanceReadOnlyTemplate.getFlowVersion(instance);
      locale = steedosData != null ? steedosData.locale : void 0;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      instance = WorkflowManager.getInstance();
      flow = WorkflowManager.getInstanceFlowVersion();
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (!instance || !flow) {
      return {};
    }

    steps = flow.steps;
    traces = {};

    if ((ref3 = instance.traces) != null) {
      ref3.forEach(function (trace) {
        var approves, ref4, step;
        step = steps.findPropertyByPK("_id", trace.step);
        approves = [];

        if ((ref4 = trace.approves) != null) {
          ref4.forEach(function (approve) {
            var judge_name;

            if (trace.is_finished === true) {
              if (approve.judge === 'approved') {
                judge_name = TAPi18n.__("Instance State approved", {}, locale);
              } else if (approve.judge === 'rejected') {
                judge_name = TAPi18n.__("Instance State rejected", {}, locale);
              } else if (approve.judge === 'terminated') {
                judge_name = TAPi18n.__("Instance State terminated", {}, locale);
              } else if (approve.judge === 'reassigned') {
                judge_name = TAPi18n.__("Instance State reassigned", {}, locale);
              } else if (approve.judge === 'relocated') {
                judge_name = TAPi18n.__("Instance State relocated", {}, locale);
              } else if (approve.judge === '') {
                judge_name = "";
              } else {
                judge_name = "";
              }
            } else {
              judge_name = TAPi18n.__("Instance State pending", {}, locale);
            }

            return approves.push({
              _id: approve._id,
              handler: approve.user,
              handler_name: approve.handler_name,
              handler_organization_name: approve.handler_organization_name,
              handler_organization_fullname: approve.handler_organization_fullname,
              finish_date: approve.finish_date,
              judge: approve.judge,
              judge_name: judge_name,
              description: approve.description,
              is_finished: approve.is_finished,
              type: approve.type,
              opinion_fields_code: approve.opinion_fields_code,
              sign_field_code: approve.sign_field_code,
              is_read: approve.is_read,
              sign_show: approve.sign_show
            });
          });
        }

        if (step) {
          if (step.name in traces) {
            return traces[step.name] = traces[step.name].concat(approves);
          } else {
            return traces[step.name] = approves;
          }
        }
      });
    }

    return traces;
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  },
  table_fields: function (instance) {
    var fields, form_version;

    if (Meteor.isClient) {
      form_version = WorkflowManager.getInstanceFormVersion();
    } else {
      form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
    }

    if (form_version) {
      fields = _.clone(form_version.fields);
      fields.forEach(function (field, index) {
        var after_field, before_field, pre_fields, pre_wide_fields, td_colspan, tr_end, tr_start;
        field.tr_start = "";
        field.tr_end = "";
        td_colspan = 1;

        if ((typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) === field.code) {
          field.is_wide = true;
        }

        if (field.formula && field.type !== 'odata') {
          field.permission = "readonly";
        }

        if (Steedos.isMobile()) {
          if (field.type === 'section' || field.type === 'table') {
            field.td_colspan = 4;
          } else {
            field.td_colspan = 3;
          }

          if (index !== 0) {
            field.tr_start = "<tr>";
            return field.tr_end = "</tr>";
          }
        } else {
          pre_fields = fields.slice(0, index);
          pre_wide_fields = pre_fields.filterProperty("is_wide", true);
          tr_start = "";
          tr_end = "";
          before_field = null;
          after_field = null;

          if (index > 0) {
            before_field = fields[index - 1];
          }

          if (index < fields.length - 1) {
            after_field = fields[index + 1];
          }

          if (field.type === 'section' || field.type === 'table') {
            td_colspan = 4;
          } else if (field.is_wide) {
            td_colspan = 3;
          } else {
            if (before_field && after_field && before_field.is_wide && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field === null) {
              field.is_wide = true;
              td_colspan = 3;
            }
          }

          field.td_colspan = td_colspan;

          if (index === 0) {
            tr_start = "<tr>";
          } else {
            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 || field.is_wide) {
              if (field.type === 'table') {
                tr_start = "<tr class = \"tr-child-table\">";
              } else {
                tr_start = "<tr>";
              }
            }
          }

          field.tr_start = tr_start;

          if (index + 1 === fields.length || field.type === 'section' || field.type === 'table' || field.is_wide) {
            tr_end = "</tr>";
          }

          if ((pre_fields.length + pre_wide_fields.length) % 2 !== 0) {
            tr_end = "</tr>";
          }

          return field.tr_end = tr_end;
        }
      });
      return fields;
    }
  },
  sort_approve: function (approves, order) {
    if (!approves) {
      return [];
    }

    if (!approves instanceof Array) {
      return [];
    } else {
      if (order === 'desc') {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p2 - _p1;
        });
      } else {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p1 - _p2;
        });
      }
    }

    return approves;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  getField: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;

    if (form_version) {
      return form_version.fields.findPropertyByPK("code", code);
    }
  },
  getValue: function (code) {
    var form_version, instance, locale, utcOffset, values;
    instance = Template.instance().view.template.steedosData.instance;
    form_version = Template.instance().view.template.steedosData.form_version;
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    values = instance.values || {};

    if (Meteor.isClient) {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    return InstanceReadOnlyTemplate.getValue(values[code], form_version.fields.findPropertyByPK("code", code), locale, utcOffset);
  },
  getLabel: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, code);
  },
  getCfClass: function (field) {
    if ((field != null ? field.type : void 0) === "input" && (field != null ? field.is_textarea : void 0)) {
      return "cfTextarea";
    }
  },
  getTableThead: function (field) {
    return SteedosTable.getThead(field, false);
  },
  getTableBody: function (field) {
    var instance, tableValue, values;

    if (Meteor.isServer) {
      instance = Template.instance().view.template.steedosData.instance;
      values = instance.values || {};
    } else {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    tableValue = values[field.code];
    return SteedosTable.getTbody(field.sfields.getProperty("code"), field, tableValue, false);
  },
  showLabel: function (field) {
    var templateData;
    templateData = Template.instance().data;

    if (templateData.label === false) {
      return false;
    }

    return true;
  },
  isOpinionField: function (field) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field.formula);
  },
  isOpinionField_from_string: function (field_formula) {
    return InstanceSignText.isOpinionField_from_string(field_formula);
  },
  includesOpinionField: function (form, form_version) {
    var field_formulas, fields, ref;
    field_formulas = new Array();
    fields = ((ref = db.form_versions.findOne({
      _id: form_version,
      form: form
    })) != null ? ref.fields : void 0) || [];
    fields.forEach(function (f) {
      var ref1;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref1 = f.fields) != null ? ref1.forEach(function (f1) {
          return field_formulas.push(f1.formula);
        }) : void 0 : void 0;
      } else {
        return field_formulas.push(f.formula);
      }
    });
    return _.some(field_formulas, function (field_formula) {
      return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
    });
  },
  getOpinionFieldStepsName: function (field_formula, top_keywords) {
    var foo1, opinionFields;
    opinionFields = new Array();

    if (InstanceformTemplate.helpers.isOpinionField_from_string(field_formula)) {
      if (field_formula) {
        foo1 = field_formula.split(";");
        foo1.forEach(function (foo) {
          var json_formula, ref, ref1, s1, sf;
          json_formula = {};

          try {
            json_formula = eval("(" + foo + ")");
          } catch (error1) {
            json_formula = {};
          }

          if (json_formula != null ? json_formula.yijianlan : void 0) {
            sf = {};
            sf.stepName = json_formula.yijianlan.step;
            sf.image_sign = json_formula.yijianlan.image_sign || false;
            sf.only_cc_opinion = json_formula.yijianlan.only_cc || false;
            sf.default_description = json_formula.yijianlan["default"];
            sf.only_handler = json_formula.yijianlan.only_handler;
            sf.top_keywords = json_formula.yijianlan.top_keywords || top_keywords;
            return opinionFields.push(sf);
          } else if ((field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1) {
            sf = {
              only_cc_opinion: false,
              image_sign: false,
              top_keywords: top_keywords
            };

            if (foo.indexOf("{signature.") > -1) {
              sf.image_sign = true;
              foo = foo.replace("{signature.", "");
            }

            s1 = foo.replace("{", "").replace("}", "");

            if (s1.split(".").length > 1) {
              sf.stepName = s1.split(".")[1];

              if (opinionFields.filterProperty("stepName", sf.stepName).length > 0) {
                if ((ref = opinionFields.findPropertyByPK("stepName", sf.stepName)) != null) {
                  ref.only_cc_opinion = true;
                }
              } else {
                if (s1.split(".").length > 2) {
                  if (((ref1 = s1.split(".")[2]) != null ? ref1.toLocaleLowerCase() : void 0) === 'cc') {
                    sf.only_cc_opinion = true;
                  }
                }
              }
            }

            return opinionFields.push(sf);
          }
        });
      }
    }

    return opinionFields;
  },
  showCCOpinion: function (field) {
    var ref, ref1, ref2, s1;

    if (((ref = field.formula) != null ? ref.indexOf("{traces.") : void 0) > -1 || ((ref1 = field.formula) != null ? ref1.indexOf("{signature.traces.") : void 0) > -1) {
      s1 = field.formula.replace("{signature.", "").replace("{", "").replace("}", "");

      if (s1.split(".").length > 2) {
        if (((ref2 = s1.split(".")[2]) != null ? ref2.toLocaleLowerCase() : void 0) === 'cc') {
          return true;
        }
      }
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  f_label: function (that) {
    return that.name || that.code;
  }
};

if (Meteor.isServer) {
  InstanceformTemplate.helpers.steedos_form = function () {
    return this.form_version;
  };

  InstanceformTemplate.helpers.isSection = function (code) {
    var form_version;
    form_version = this.form_version;
    return form_version.fields.findPropertyByPK("code", code).type === 'section';
  };

  InstanceformTemplate.helpers.doc_values = function () {
    var instance;
    instance = this.instance;
    return instance.values;
  };

  InstanceformTemplate.helpers.applicantContext = function () {
    var data, instance;
    instance = this.instance;
    return data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: instance.applicant_name
    };
  };

  InstanceformTemplate.helpers.instance = function () {
    return this.instance;
  };

  InstanceformTemplate.helpers.fields = function () {
    var form_version;
    form_version = this.form_version;

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  };

  InstanceformTemplate.helpers.form_types = function () {
    return "disabled";
  };

  Template.registerHelper("afFieldLabelText", function (op) {
    var form_version, ref;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, op != null ? (ref = op.hash) != null ? ref.name : void 0 : void 0);
  });

  InstanceformTemplate.helpers._t = function (key) {
    var locale;
    locale = this.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceformTemplate.helpers.ins_attach_download_url = function (_id, absolute) {
    if (absolute) {
      return Meteor.absoluteUrl("/api/files/instances/" + _id + "?download=true");
    } else {
      return "/api/files/instances/" + _id + "?download=true";
    }
  };

  InstanceformTemplate.helpers.options = function (field) {
    var options, ref, rev;
    options = field != null ? (ref = field.options) != null ? ref.split("\n") : void 0 : void 0;
    rev = [];

    if (options != null) {
      options.forEach(function (item) {
        return rev.push({
          label: item,
          value: item
        });
      });
    }

    return rev;
  };

  InstanceformTemplate.helpers.getPermissions = function (code) {
    var ref;

    if (!((ref = Template.instance().view.template.steedosData.startStepEditableFields) != null ? ref.includes(code) : void 0)) {
      return "readonly disabled";
    }

    return "";
  };
}

InstanceformTemplate.events = {
  'change .form-control,.checkbox input,.af-radio-group input,.af-checkbox-group input': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'typeahead:change .form-control': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'click .cfTextarea a': function (event) {
    event.preventDefault();
    return Steedos.openWindow(event.target.href);
  }
};

InstanceformTemplate.onCreated = function () {
  var compiled, e, instance, instanceCustomTemplate, instanceView, renderFunction, template;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  template = TemplateManager.getTemplate(instance);

  try {
    compiled = SpacebarsCompiler.compile(template, {
      isBody: true
    });
  } catch (error1) {
    e = error1;
    console.log("Instance Template Error", e);
    compiled = SpacebarsCompiler.compile("", {
      isBody: true
    });
  }

  renderFunction = eval(compiled);
  instanceView = new Blaze.View("custom_instance_template", renderFunction);
  instanceCustomTemplate = new Blaze.Template(instanceView.name, renderFunction);
  Template.instance_custom_template = instanceCustomTemplate;
  return Template.instance_custom_template.helpers(InstanceformTemplate.helpers);
};

InstanceformTemplate.onRendered = function () {
  var currentApprove, currentStep, form_version, formula_fields, instance, instanceNumberFields, judge, ref;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  if ((ref = $("input[name='ins_applicant']")[0]) != null) {
    ref.dataset.values = instance.applicant;
  }

  $("input[name='ins_applicant']").val(instance.applicant_name);
  ApproveManager.error = {
    nextSteps: '',
    nextStepUsers: ''
  };

  if (Session.get("box") === 'inbox' || Session.get("box") === 'draft') {
    InstanceEvent.initEvents(instance.flow);
  }

  if (!ApproveManager.isReadOnly()) {
    currentApprove = InstanceManager.getCurrentApprove();
    instanceNumberFields = $("[data-formula]", $("#instanceform"));
    instanceNumberFields.each(function () {
      var element, schemaKey;
      schemaKey = this.dataset.schemaKey;
      element = $(this);

      if (!$(this).val() && schemaKey && Session.get("instanceId")) {
        return Meteor.call('getInstanceValues', Session.get("instanceId"), function (error, result) {
          var key, ref1;

          if (error) {
            toastr.error(error.reason);
          }

          if (!result[schemaKey]) {
            key = (ref1 = element.data("formula")) != null ? ref1.replace("auto_number(", "").replace(")", "") : void 0;
            key = key.replace(/\"/g, "").replace(/\'/g, "");

            if (key.indexOf("{") > -1) {
              key = key.replace("{", "").replace("}", "");
              key = key.trim();
              key = AutoForm.getFieldValue(key, 'instanceform');
            }

            return InstanceNumberRules.instanceNumberBuilder(element, key);
          } else {
            return element != null ? element.val(result[schemaKey]).trigger("change") : void 0;
          }
        });
      }
    });
    judge = currentApprove.judge;
    currentStep = InstanceManager.getCurrentStep();
    form_version = WorkflowManager.getInstanceFormVersion();
    formula_fields = Form_formula.getFormulaFieldVariable("Form_formula.field_values", form_version.fields);
    Form_formula.run("", "", formula_fields, AutoForm.getFormValues("instanceform").insertDoc, form_version.fields);
    return Session.set("instance_form_values", {
      instanceId: instance._id,
      values: AutoForm.getFormValues("instanceform").insertDoc
    });
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_attachments.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_attachments.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
InstanceAttachmentTemplate.helpers = {
  showMainTitle: function () {
    return Template.instance().workflowMainAttachTitle.get();
  },
  enabled_add_main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    var current_step = InstanceManager.getCurrentStep();
    if (!current_step) return false; // 分发的正文或者附件不显示转为pdf按钮
    // 如果有正文权限则为正文，否则分发为附件
    // 分发的附件不允许修改 删除 新增版本

    var main_attach_count = cfs.instances.find({
      'metadata.instance': ins._id,
      'metadata.current': true,
      'metadata.main': true
    }).count();
    var distribute_main_attach_count = 0;

    if (ins.distribute_from_instance) {
      var start_step = InstanceManager.getStartStep();

      if (start_step.can_edit_main_attach) {
        var distribute_main_attach_count = cfs.instances.find({
          'metadata.instance': ins.distribute_from_instance,
          'metadata.current': true,
          'metadata.main': true
        }).count();
      }
    }

    if (current_step.can_edit_main_attach == true && main_attach_count < 1 && distribute_main_attach_count < 1) {
      return true;
    } // 正文最多只能有一个


    if (main_attach_count >= 1 || distribute_main_attach_count >= 1) {
      return false;
    } // 开始节点并且设置了可以上传正文才显示上传正文的按钮


    var current_step = InstanceManager.getCurrentStep();
    if (current_step && current_step.step_type == "start" && current_step.can_edit_main_attach == true) return true;
    return false;
  },
  enabled_edit_normal_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;
    var flow = WorkflowManager.getFlow(ins.flow);
    if (!flow) return false; // 分发后的 附件，不可以编辑/删除，也不让上传新的附件, 流程列表：添加属性 ‘被分发后是否允许上传附件’ #1837

    if (ins.distribute_from_instance && !flow.upload_after_being_distributed) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    if (InstanceManager.isCC(ins)) {
      var step = InstanceManager.getCCStep();
      if (step && (step.can_edit_normal_attach == true || step.can_edit_normal_attach == undefined)) return true;
    } else {
      var current_step = InstanceManager.getCurrentStep();
      if (current_step && (current_step.can_edit_normal_attach == true || current_step.can_edit_normal_attach == undefined)) return true;
    }

    return false;
  },
  main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var start_step = InstanceManager.getStartStep(); // 如果是被分发的申请单并且有修改正文的权限，则优先显示原申请单文件

    var main_attach = null;

    if (ins.distribute_from_instance && start_step.can_edit_main_attach == true) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins.distribute_from_instance,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    if (!main_attach) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins._id,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    return main_attach;
  },
  normal_attachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var selector = {
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      }
    };
    var atts = new Array();

    if (ins.distribute_from_instance) {
      // 如果是被分发的申请单，则显示原申请单文件, 如果选择了将原表单存储为附件也要显示, 同时也要显示新上传的附件
      var dfis = _.clone(ins.distribute_from_instances) || [];
      dfis.push(ins._id);
      selector['metadata.instance'] = {
        $in: dfis
      };
      selector["$or"] = [{
        "metadata.instance": ins._id
      }, {
        "metadata.instance": {
          $in: ins.distribute_from_instances
        },
        "metadata.is_private": {
          $ne: true
        }
      }]; // 如果原申请单有正文但是分发后没有正文权限，则原申请单正文显示在附件栏

      var start_step = InstanceManager.getStartStep();

      if (start_step && start_step.can_edit_main_attach != true) {
        var distribute_main = cfs.instances.findOne({
          'metadata.instance': {
            $in: ins.distribute_from_instances
          },
          'metadata.current': true,
          'metadata.main': true
        });

        if (distribute_main) {
          var firstVersionMain = cfs.instances.findOne(distribute_main.metadata.parent);
          distribute_main.attachmentUploadedAt = firstVersionMain ? firstVersionMain.uploadedAt : distribute_main.uploadedAt;
          atts.push(distribute_main);
        }
      }
    } else {
      selector['metadata.instance'] = ins._id;
    }

    cfs.instances.find(selector).forEach(function (c) {
      var firstVersion = cfs.instances.findOne(c.metadata.parent);
      c.attachmentUploadedAt = firstVersion ? firstVersion.uploadedAt : c.uploadedAt;
      atts.push(c);
    });
    return _.sortBy(atts, 'attachmentUploadedAt');
  },
  showAttachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false; // 如果是被分发的申请单，则显示原申请单文件 和分发后申请单文件

    var instanceIds = _.clone(ins.distribute_from_instances) || [];
    instanceIds.push(ins._id);
    var attachments_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).count();
    if (Session && Session.get("instancePrint") && attachments_count < 1) return false;
    if (Session.get("box") == "draft" || Session.get("box") == "inbox" || attachments_count > 0) return true;else return false;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  }
};

if (Meteor.isServer) {
  InstanceAttachmentTemplate.helpers._t = function (key) {
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceAttachmentTemplate.helpers.enabled_add_main_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.enabled_edit_normal_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.main_attachment = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var attachment = cfs.instances.findOne({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    });
    return attachment;
  };

  InstanceAttachmentTemplate.helpers.normal_attachments = function () {
    var steedosData = Template.instance().view.template.steedosData;
    var instance = steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      },
      $or: [{
        'metadata.is_private': {
          $ne: true
        }
      }, {
        'metadata.is_private': true,
        "metadata.owner": steedosData.userId
      }]
    }).fetch();
    return attachments;
  };

  InstanceAttachmentTemplate.helpers.showAttachments = function () {
    var instance = Template.instance().view.template.steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).fetch();

    if (attachments && attachments.length > 0) {
      return true;
    }

    return false;
  };

  InstanceAttachmentTemplate.helpers.showMainTitle = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var main_attach_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    }).count();
    return main_attach_count > 0;
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_sign_text.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_sign_text.coffee                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceSignText.helpers = {
  show: function (stepName) {
    var instance, myApprove, myTrace, ref;

    if (Meteor.isClient) {
      if (Session.get('instancePrint')) {
        return false;
      }

      if (InstanceManager.isInbox()) {
        myApprove = InstanceManager.getCurrentApprove();

        if (myApprove) {
          instance = WorkflowManager.getInstance();
          myTrace = instance != null ? (ref = instance.traces) != null ? ref.findPropertyByPK("_id", myApprove.trace) : void 0 : void 0;
          return (myTrace != null ? myTrace.name : void 0) === stepName;
        }
      }
    }

    return false;
  },
  defaultDescription: function () {
    return Template.instance().data.default_description;
  },
  traces: function () {
    return InstanceformTemplate.helpers.traces();
  },
  trace: function (stepName, only_cc_opinion, image_sign, top_keywords) {
    var approve_sort, approves, approvesGroup, approves_sorted, completed_date, hasNext, haveDescriptionApprove, instance, is_completed, ref, ref1, ref2, traces;
    instance = InstanceformTemplate.helpers.instance();
    is_completed = (instance != null ? instance.state : void 0) === "completed";
    completed_date = is_completed ? (ref = _.last(instance.traces)) != null ? (ref1 = ref.finish_date) != null ? ref1.getTime() : void 0 : void 0 : 0;

    if (is_completed && instance.finish_date) {
      completed_date = (ref2 = instance.finish_date) != null ? ref2.getTime() : void 0;
    }

    traces = InstanceformTemplate.helpers.traces();
    approves = _.clone(traces[stepName]);

    approve_sort = function (approves, top_keywords) {
      var approves_sorted, top_approves;
      approves_sorted = _.sortBy(approves, function (approve) {
        return -(approve.finish_date || new Date()).getTime();
      });

      if (top_keywords) {
        top_approves = new Array();
        top_keywords.split(",").forEach(function (key) {
          return top_approves = _.union(top_approves, _.filter(approves_sorted, function (approve) {
            var ref3;
            return (approve != null ? (ref3 = approve.handler_name) != null ? ref3.indexOf(key) : void 0 : void 0) > -1;
          }));
        });
        top_approves = _.sortBy(top_approves, function (top_approve) {
          return -(top_approve.finish_date || new Date()).getTime();
        });
        approves_sorted = _.union(top_approves, approves_sorted);
      }

      return approves_sorted || [];
    };

    approves = _.filter(approves, function (a) {
      return a.type !== "forward" && a.type !== "distribute" && a.type !== "terminated";
    });

    if (only_cc_opinion) {
      approves = approves != null ? approves.filterProperty("type", "cc") : void 0;
    }

    approves_sorted = approve_sort(approves, top_keywords);
    approvesGroup = _.groupBy(approves, "handler");

    hasNext = function (approve, approvesGroup) {
      var handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      return _.indexOf(handlerApproves, approve) + 1 < handlerApproves.length;
    };

    haveDescriptionApprove = function (approve, approvesGroup) {
      var descriptionApproves, handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      descriptionApproves = _.filter(handlerApproves, function (a) {
        if (a.description) {
          return true;
        }

        return false;
      });

      if (descriptionApproves.length === 0) {
        return false;
      }

      return true;
    };

    approves_sorted.forEach(function (approve) {
      if (approve.sign_show !== false && (approve.description || !approve.description && !hasNext(approve, approvesGroup))) {
        if (approve.judge !== 'terminated') {
          return approve._display = true;
        }
      }
    });
    approves_sorted = _.filter(approves_sorted, function (a) {
      var ref3;

      if (is_completed) {
        return a._display === true && a.is_finished && ((ref3 = a.finish_date) != null ? ref3.getTime() : void 0) <= completed_date;
      } else {
        return a._display === true;
      }
    });
    return approves_sorted;
  },
  include: function (a, b) {
    return InstanceformTemplate.helpers.include(a, b);
  },
  unempty: function (val) {
    return InstanceformTemplate.helpers.unempty(val);
  },
  formatDate: function (date, options) {
    if (!options) {
      options = {
        "format": "YYYY-MM-DD"
      };
    }

    return InstanceformTemplate.helpers.formatDate(date, options);
  },
  isMyApprove: function (approve, only_cc_opinion) {
    var currentApprove, ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
      currentApprove = InstanceManager.getCurrentApprove();

      if (!(approve != null ? approve._id : void 0)) {
        approve = currentApprove;
      }

      if (approve._id === (currentApprove != null ? currentApprove._id : void 0) && (currentApprove != null ? currentApprove.type : void 0) === 'cc' && Template.instance().data.name) {
        if (_.indexOf(currentApprove != null ? currentApprove.opinion_fields_code : void 0, Template.instance().data.name) > -1) {
          return true;
        } else {
          return false;
        }
      }

      if (!((currentApprove != null ? currentApprove.type : void 0) === 'cc') && only_cc_opinion) {
        return false;
      }

      if (currentApprove && approve._id === currentApprove._id) {
        return true;
      }
    }

    return false;
  },
  myApproveDescription: function (approveId) {
    if (Meteor.isClient) {
      return TracesTemplate.helpers.myApproveDescription(approveId);
    }
  },
  now: function () {
    return new Date();
  },
  isReadOnly: function () {
    if (Meteor.isClient) {
      return ApproveManager.isReadOnly();
    }

    return false;
  },
  isOpinionOfField: function (approve) {
    if (approve.type === "cc" && Template.instance().data.name) {
      if (Template.instance().data.name === approve.sign_field_code) {
        return true;
      } else {
        return false;
      }
    } else {
      return true;
    }
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  steps: function (field_formula, step, only_cc_opinion, image_sign) {
    var ref, ref1, ref2, steps;
    steps = [];

    if (!step) {
      if (!field_formula) {
        field_formula = (ref = WorkflowManager.getInstanceFormVersion()) != null ? (ref1 = ref.fields) != null ? ref1.findPropertyByPK("code", this.name).formula : void 0 : void 0;
      }

      steps = InstanceformTemplate.helpers.getOpinionFieldStepsName(field_formula, (ref2 = Template.instance()) != null ? ref2.data.top_keywords : void 0);
    } else {
      steps = [{
        stepName: step,
        only_cc_opinion: only_cc_opinion,
        image_sign: image_sign
      }];
    }

    return steps;
  },
  imageSignData: function (handler) {
    return {
      user: handler
    };
  },
  showSignImage: function (handler, image_sign) {
    var spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if ((spaceUserSign != null ? spaceUserSign.sign : void 0) && image_sign) {
      return true;
    } else {
      return false;
    }
  },
  getLastSignApprove: function () {
    var ins;
    ins = WorkflowManager.getInstance();
    return _.last(TracesManager.getHandlerSignShowApproves(ins, Meteor.userId()));
  },
  lastMyApproveDescription: function () {
    var approves, currentStep, ref, traces;
    traces = InstanceformTemplate.helpers.traces();
    currentStep = InstanceManager.getCurrentStep();
    approves = _.clone(traces[currentStep.name]);
    approves = approves.filterProperty("handler", Meteor.userId());

    if (approves.length > 1) {
      return (ref = approves[approves.length - 2]) != null ? ref.description : void 0;
    }

    return "";
  },
  showApprove: function (approve) {
    if (approve != null ? approve.is_read : void 0) {
      if (approve.is_finished) {
        return ["approved", "rejected", "submitted", "readed"].includes(approve.judge);
      } else {
        return true;
      }
    }

    return false;
  },
  judge_description: function (judge) {
    return t(judge + "_description");
  },
  is_approved: function (judge) {
    return "approved" === judge;
  },
  is_rejected: function (judge) {
    return "rejected" === judge;
  },
  is_readed: function (judge) {
    return ["approved", "rejected", "submitted", "readed"].includes(judge);
  },
  addClass: function () {
    var name, ref, ref1;
    name = (ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0;
    setTimeout(function () {
      var e, element;

      try {
        element = $(".automatic.opinion-field-" + name);

        if (element.length > 0) {
          if (element != null ? element.is("td") : void 0) {
            return element.addClass('field-editable');
          } else {
            return $(".instance-sign", element).addClass('field-editable');
          }
        }
      } catch (error) {
        e = error;
        return console.log(e);
      }
    }, 1);
    return '';
  }
};

if (Meteor.isServer) {
  InstanceSignText.helpers.defaultDescription = function () {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return Template.instance().data.default_description || TAPi18n.__("instance_default_opinion", {}, locale);
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_help.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_help.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesTemplate.helpers = {
  equals: function (a, b) {
    return a === b;
  },
  empty: function (a) {
    if (a) {
      return a.toString().trim().length < 1;
    } else {
      return true;
    }
  },
  unempty: function (a) {
    if (a) {
      return a.toString().trim().length > 0;
    } else {
      return false;
    }
  },
  append: function (a, b) {
    return a + b;
  },
  dateFormat: function (date) {
    if (Steedos.isMobile() && (date != null ? date.getFullYear() : void 0) === new Date().getFullYear()) {
      return $.format.date(new Date(date), "MM-dd HH:mm");
    } else {
      return $.format.date(new Date(date), "yyyy-MM-dd HH:mm");
    }
  },
  getStepName: function (stepId) {
    var step;
    step = WorkflowManager.getInstanceStep(stepId);

    if (step) {
      return step.name;
    }

    return null;
  },
  showDeleteButton: function (approved) {
    if (approved && approved.type === 'cc' && approved.from_user === Meteor.userId() && approved.is_finished !== true && !Session.get("instancePrint")) {
      return true;
    }

    return false;
  },
  isShowModificationButton: function (approved) {
    var approve_admins, isShow, ref, ref1, ref2;
    approve_admins = (ref = Meteor.settings) != null ? (ref1 = ref["public"]) != null ? (ref2 = ref1.workflow) != null ? ref2.approve_admins : void 0 : void 0 : void 0;

    if (approve_admins != null ? approve_admins.length : void 0) {
      isShow = approve_admins != null ? approve_admins.contains(Meteor.userId()) : void 0;
    }

    if (!isShow) {
      return false;
    }

    return approved.handler === Meteor.userId();
  },
  isEditing: function () {
    var ref;
    return (ref = Template.instance().is_editing) != null ? ref.get() : void 0;
  },
  isShowDescription: function (approved) {
    var ref;

    if (TracesTemplate.helpers.isShowModificationButton(approved)) {
      return true;
    }

    return ((ref = approved.description) != null ? ref.toString().trim().length : void 0) > 0;
  },
  isCC: function (approved) {
    if (approved && approved.type === 'cc') {
      return true;
    }

    return false;
  },
  getApproveStatusIcon: function (approveJudge) {
    var approveStatusIcon;
    approveStatusIcon = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusIcon = 'ion ion-checkmark-round';
        break;

      case 'rejected':
        approveStatusIcon = 'ion ion-close-round';
        break;

      case 'terminated':
        approveStatusIcon = 'fa fa-ban';
        break;

      case 'reassigned':
        approveStatusIcon = 'ion ion-android-contact';
        break;

      case 'relocated':
        approveStatusIcon = 'ion ion-arrow-shrink';
        break;

      case 'retrieved':
        approveStatusIcon = 'fa fa-undo';
        break;

      default:
        approveStatusIcon = '';
        break;
    }

    return approveStatusIcon;
  },
  getApproveStatusText: function (approveJudge) {
    var approveStatusText, locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    approveStatusText = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusText = TAPi18n.__('Instance State approved', {}, locale);
        break;

      case 'rejected':
        approveStatusText = TAPi18n.__('Instance State rejected', {}, locale);
        break;

      case 'terminated':
        approveStatusText = TAPi18n.__('Instance State terminated', {}, locale);
        break;

      case 'reassigned':
        approveStatusText = TAPi18n.__('Instance State reassigned', {}, locale);
        break;

      case 'relocated':
        approveStatusText = TAPi18n.__('Instance State relocated', {}, locale);
        break;

      case 'retrieved':
        approveStatusText = TAPi18n.__('Instance State retrieved', {}, locale);
        break;

      case 'returned':
        approveStatusText = TAPi18n.__('Instance State returned', {}, locale);
        break;

      case 'readed':
        approveStatusText = TAPi18n.__('Instance State readed', {}, locale);
        break;

      default:
        approveStatusText = '';
        break;
    }

    return approveStatusText;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!Session.get("instance_my_approve_description")) {
            return (myApprove != null ? myApprove.description : void 0) || "";
          }

          return Session.get("instance_my_approve_description");
        }
      }
    }
  },
  isForward: function (approved) {
    if (approved && approved.type === 'forward') {
      return true;
    }

    return false;
  },
  showForwardDeleteButton: function (approve) {
    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'forward' && approve.from_user === Meteor.userId() && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      return true;
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  isDistribute: function (approve) {
    if (approve && approve.type === 'distribute') {
      return true;
    }

    return false;
  },
  showDistributeDeleteButton: function (approve) {
    var ins;

    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'distribute' && !Session.get("instancePrint") && approve.judge !== 'terminated' && Steedos.isLegalVersion('', "workflow.enterprise")) {
      ins = db.instances.findOne({
        _id: approve.instance
      }, {
        fields: {
          flow: 1,
          space: 1
        }
      });

      if (ins && ins.flow && ins.space) {
        if (WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, Meteor.userId())) {
          return true;
        }
      }

      if (approve.from_user === Meteor.userId()) {
        return true;
      }
    }

    return false;
  },
  finishDateSchema: function () {
    if (Steedos.isAndroidOrIOS()) {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "datetime-local"
          },
          optional: false,
          type: Date
        }
      });
    } else {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "bootstrap-datetimepicker",
            readonly: true,
            dateTimePickerOptions: {
              format: "YYYY-MM-DD HH:mm",
              ignoreReadonly: true,
              locale: Session.get("TAPi18n::loaded_lang"),
              widgetPositioning: {
                horizontal: 'right'
              }
            }
          },
          optional: false,
          type: Date
        }
      });
    }
  },
  finishDateValues: function () {
    return {
      finish_date: this.finish_date
    };
  },
  /*
     	此函数用于控制是否显示traces view
     	true: 显示traces view,签核历程按钮点击后是直接定位到traces view
     	false: 不显示traces view，签核历程按钮点击后,以Modal 方式显示traces view
   */showTracesView: function (form, form_version) {
    var ref, show_modal_traces_list;
    show_modal_traces_list = ((ref = db.space_settings.findOne({
      space: Session.get("spaceId"),
      key: "show_modal_traces_list"
    })) != null ? ref.values : void 0) || false;
    return !show_modal_traces_list;
  },
  getInstanceStateText: function (instance_id) {
    var ins, locale, text;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return TAPi18n.__('instance_deleted', {}, locale);
    }

    text = '';

    if (ins.state === 'completed') {
      text = TAPi18n.__('completed', {}, locale);
    } else if (ins.state === 'pending') {
      text = TAPi18n.__('pending', {}, locale);
    } else if (ins.state === 'draft') {
      if (ins.is_read) {
        text = TAPi18n.__('instance_approve_read', {}, locale);
      } else {
        text = TAPi18n.__('instance_approve_not_yet_handled', {}, locale);
      }
    }

    return text;
  },
  getInstanceStateColor: function (instance_id) {
    var cla, ins;
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return "";
    }

    cla = '';

    if (ins.state === 'draft') {
      if (ins.is_read) {
        cla = 'blue';
      } else {
        cla = 'red';
      }
    }

    return cla;
  },
  firstTrace: function (index) {
    return index === 0;
  },
  last_distribute_from: function (instance_id) {
    var dis_info, ins, user;
    ins = db.instances.findOne({
      _id: instance_id,
      distribute_from_instance: {
        $exists: true
      }
    }, {
      fields: {
        created: 1,
        created_by: 1
      }
    });

    if (ins) {
      dis_info = {};
      user = {};

      if (Meteor.isClient) {
        user = UUflow_api.getNameForUser(ins.created_by);
      } else if (Meteor.isServer) {
        user = db.users.findOne({
          _id: ins.created_by
        }, {
          fields: {
            name: 1
          }
        });
      }

      if (user.name) {
        dis_info.from_user_name = user.name;
        dis_info.created = ins.created;
      }

      if (!_.isEmpty(dis_info)) {
        return dis_info;
      }
    }
  },
  isCCOrDistributeOrForwardTerminated: function (approve) {
    if ((approve.type === 'cc' || approve.type === 'distribute' || approve.type === 'forward') && approve.judge === 'terminated') {
      return true;
    }

    return false;
  },
  judgeTerminated: function (judge) {
    return judge === 'terminated';
  },
  instanceExists: function (instance_id) {
    return !!db.instances.find(instance_id).count();
  },
  agentDescription: function (userName) {
    var locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    return TAPi18n.__('process_delegation_rules_description', {
      userName: userName
    }, locale);
  },
  traceName: function (instance_id, traceId) {
    var ref, ref1;
    return (ref = _.find((ref1 = db.instances.findOne(instance_id, {
      fields: {
        traces: 1
      }
    })) != null ? ref1.traces : void 0, function (trace) {
      return trace._id === traceId;
    })) != null ? ref.name : void 0;
  }
};

if (Meteor.isServer) {
  TracesTemplate.helpers.dateFormat = function (date) {
    var utcOffset;

    if (date) {
      utcOffset = Template.instance().view.template.steedosData.utcOffset;
      return InstanceReadOnlyTemplate.formatDate(date, utcOffset);
    }
  };

  TracesTemplate.helpers._t = function (key) {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  TracesTemplate.helpers.showDeleteButton = function (approved) {
    return false;
  };
}

TracesTemplate.events = {
  'click .cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    event.stopPropagation();

    if (event.currentTarget.dataset.calling * 1 !== 1) {
      event.currentTarget.dataset.calling = 1;
      $("i", event.currentTarget).addClass("fa-spin");
      instanceId = Session.get('instanceId');
      approveId = event.target.dataset.approve;
      $("body").addClass("loading");
      Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
        $("body").removeClass("loading");

        if (err) {
          toastr.error(err);
          event.currentTarget.dataset.calling = 0;
          $("i", event.currentTarget).removeClass("fa-spin");
        }

        if (result === true) {
          toastr.success(TAPi18n.__("remove_cc_approve"));

          if ($(".instance-trace-detail-modal").length) {
            Modal.hide("instance_trace_detail_modal");
          }
        }
      });
    }
  },
  'click .instance-trace-detail-modal .btn-cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    $("body").addClass("loading");
    Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(err);
      }

      if (result === true) {
        toastr.success(TAPi18n.__("remove_cc_approve"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .approve-item,.approve-description': function (event, template) {
    return Modal.show("instance_trace_detail_modal", this);
  },
  'taphold .approve-item,.approve-description': function (event, template) {
    return Modal.show("instance_trace_detail_modal", this);
  },
  'tapend .approve-item,.approve-description': function (event, template) {
    event.stopPropagation();
    event.preventDefault();
    return false;
  },
  'click .instance-trace-detail-modal .btn-forward-approve-remove': function (event, template) {
    var approveId, instanceId, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    $("body").addClass("loading");
    Meteor.call('forward_remove', instanceId, traceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(TAPi18n.__("instance_approve_forward_remove_success"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-forward-instance-look': function (event, template) {
    var forward_instance, forward_space;
    forward_space = event.target.dataset.forwardspace;
    forward_instance = event.target.dataset.forwardinstance;
    return Steedos.openWindow(Steedos.absoluteUrl("workflow/space/" + forward_space + "/view/readonly/" + forward_instance));
  },
  'click .btn-modification': function (event, template) {
    template.is_editing.set(!template.is_editing.get());

    if (!Steedos.isAndroidOrIOS()) {
      return Tracker.afterFlush(function () {
        return $("#instance_trace_detail_modal #finish_input").on("dp.show", function () {
          return $(".modal-body").scrollTop(100);
        });
      });
    }
  },
  'click .btn-cancelBut': function (event, template) {
    return template.is_editing.set(!template.is_editing.get());
  },
  'click .btn-saveBut': function (event, template) {
    var approveId, finish_input, instanceId, opinion_input, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    opinion_input = $('#opinion_input').val();
    finish_input = AutoForm.getFieldValue("finish_date", "finishDateAutoForm");
    $("body").addClass("loading");
    return Meteor.call('change_approve_info', instanceId, traceId, approveId, opinion_input, finish_input, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(t("instance_approve_modal_modificationsave"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-distribute-approve-remove': function (event, template) {
    Modal.allowMultiple = true;
    return Modal.show('cancel_distribute_modal');
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_instances.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedInstances.helpers = {
  showRelatedInstaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      if (db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).count() > 0) {
        return true;
      }

      return false;
    } else {
      return false;
    }
  },
  related_instaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      return db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).fetch();
    }
  },
  related_instace_url: function (ins) {
    var absolute;

    if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
      return '';
    }

    absolute = false;

    if (Meteor.isServer) {
      absolute = this.absolute;
    }

    if (absolute) {
      return Meteor.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    } else {
      return Steedos.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    }
  },
  _t: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  show_delete: function () {
    var ins;

    if (!Meteor.isClient) {
      return false;
    } else {
      ins = WorkflowManager.getInstance();
      return ins.state === 'draft';
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"server":{"methods":{"set_instance_step_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/set_instance_step_approve.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_instance_step_approve: function (ins_id, step_approve) {
    var ins;

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        state: 1
      }
    });

    if (ins.state !== 'draft') {
      return;
    }

    return db.instances.update({
      _id: ins_id
    }, {
      $set: {
        step_approve: step_approve
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_instance_data.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/get_instance_data.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  get_instance_data: function (instance_id, formCached, flowCached) {
    check(instance_id, String);
    check(formCached, Boolean);
    check(flowCached, Boolean);
    var instance = db.instances.findOne(instance_id);
    if (!instance) return {
      instance: null
    };
    if (formCached && flowCached) return {
      instance: instance
    };

    if (!formCached) {
      var form = db.forms.findOne(instance.form);
      var form_version = {};

      if (form.current._id == instance.form_version) {
        form_version = form.current;
      } else {
        form_version = _.where(form.historys, {
          _id: instance.form_version
        })[0];
      }
    }

    if (!flowCached) {
      var flow = db.flows.findOne(instance.flow);
      var flow_version = {};

      if (flow.current._id == instance.flow_version) {
        flow_version = flow.current;
      } else {
        flow_version = _.where(flow.historys, {
          _id: instance.flow_version
        })[0];
      }
    }

    return {
      instance: instance,
      form_version: form_version,
      flow_version: flow_version
    };
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"save_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/save_instance.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  draft_save_instance: function (ins) {
    if (!this.userId) return;
    var result = true;
    var setObj = {};
    var index = 0;
    var ins_id = ins._id;
    var trace_id = ins.traces[0]._id;
    var approve_id = ins.traces[0].approves[0]._id;
    var description = ins.traces[0].approves[0].description;
    var next_steps = ins.traces[0].approves[0].next_steps;
    var values = ins.traces[0].approves[0].values || {};
    var applicant_id = ins.applicant;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        applicant: 1,
        state: 1,
        submitter: 1,
        traces: 1,
        form: 1,
        flow_version: 1,
        space: 1,
        flow: 1
      }
    });
    var space_id = instance.space;
    var flow_id = instance.flow;
    var form_id = instance.form;
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.'; // 判断一个instance是否为拟稿状态

    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';
    uuflowManager.isInstanceDraft(instance, lang); // 判断一个用户是否是一个instance的提交者

    uuflowManager.isInstanceSubmitter(instance, this.userId);
    var flow = db.flows.findOne(flow_id, {
      fields: {
        "current._id": 1,
        "current.form_version": 1,
        "name": 1,
        "current.steps": 1
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (flow.current._id != instance.flow_version) {
      result = "upgraded";

      var start_step = _.find(flow.current.steps, function (s) {
        return s.step_type == "start";
      }); // 流程已升级


      setObj.flow_version = flow.current._id;
      setObj.form_version = flow.current.form_version; // 存入当前最新版flow中开始节点的step_id

      setObj["traces.$.step"] = start_step._id;
      setObj["traces.$.name"] = start_step.name;
    }

    if (instance.applicant != applicant_id) {
      // 申请人已变换
      var user = db.users.findOne(applicant_id, {
        fields: {
          name: 1
        }
      });
      var applicant = db.space_users.find({
        space: space_id,
        user: applicant_id
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = applicant.fetch()[0].organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      setObj.applicant = applicant_id;
      setObj.applicant_name = user.name;
      setObj.applicant_organization = org_id;
      setObj.applicant_organization_name = organization.name;
      setObj.applicant_organization_fullname = organization.fullname;
      setObj[key_str + 'user'] = applicant_id;
      setObj[key_str + 'user_name'] = user.name;
    }

    setObj[key_str + 'values'] = values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'judge'] = 'submitted';
    setObj[key_str + 'read_date'] = new Date();

    if (result != "upgraded" && next_steps) {
      setObj[key_str + 'next_steps'] = next_steps;
    } // 计算申请单标题


    var form = db.forms.findOne({
      _id: form_id
    }, {
      fields: {
        "current.name_forumla": 1
      }
    });
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      // var iscript = name_forumla.replace(/\{/g, "(values['").replace(/\}/g, "'] || '')");
      // var rev = eval(iscript);
      setObj.name = uuflowManager.getInstanceName(ins, values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return result;
  },
  inbox_save_instance: function (approve) {
    if (!this.userId) return;
    var setObj = {};
    var index = 0;
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve.id;
    var values = approve.values;
    var next_steps = approve.next_steps;
    var description = approve.description;
    var judge = approve.judge;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        flow_version: 1,
        flow: 1,
        state: 1,
        form: 1,
        form_version: 1,
        values: 1
      }
    });
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    var current_approve = _.find(current_trace.approves, function (a) {
      return a._id == approve_id;
    }); // 判断一个instance是否为审核中状态


    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';

    try {
      uuflowManager.isInstancePending(instance, lang); // 判断一个trace是否为未完成状态

      uuflowManager.isTraceNotFinished(current_trace); // 判断一个approve是否为未完成状态

      uuflowManager.isApproveNotFinished(current_approve); // 判断当前用户是否approve 对应的处理人或代理人

      uuflowManager.isHandlerOrAgent(current_approve, this.userId);
    } catch (e) {
      console.log(e.stack);
      return true;
    }

    var flow_version = instance.flow_version;
    var flow_id = instance.flow;
    var step_id = "";
    step_id = current_trace.step;
    var flow = db.flows.findOne(flow_id, {
      fields: {
        current: 1,
        historys: 1
      }
    });
    var step = null;

    if (flow.current._id == flow_version) {
      flow.current.steps.forEach(function (s) {
        if (s._id == step_id) step = s;
      });
    } else {
      flow.historys.forEach(function (h) {
        h.steps.forEach(function (s) {
          if (s._id == step_id) step = s;
        });
      });
    }

    if (!step) return false;
    var step_type = step.step_type;
    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.';
    var permissions_values = uuflowManager.getApproveValues(approve.values, step.permissions, instance.form, instance.form_version);
    var change_values = approveManager.getChangeValues(instance.values, permissions_values);
    setObj.values = _.extend(instance.values || {}, permissions_values);

    if (!_.isEmpty(change_values)) {
      values_history = current_approve.values_history || [];
      values_history.push({
        values: change_values,
        create: new Date()
      });
      setObj[key_str + 'values_history'] = values_history;
    }

    setObj[key_str + 'is_read'] = true;
    setObj[key_str + 'read_date'] = new Date();
    setObj[key_str + 'values'] = setObj.values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'next_steps'] = next_steps;

    if (step_type == "submit" || step_type == "start") {
      setObj[key_str + 'judge'] = "submitted";
    } else {
      setObj[key_str + 'judge'] = judge;
    }

    setObj.modified = new Date();
    setObj.modified_by = this.userId; // 计算申请单标题

    var form = db.forms.findOne(instance.form);
    var form_v = uuflowManager.getFormVersion(form, instance.form_version);
    var name_forumla = form_v.name_forumla;

    if (name_forumla) {
      setObj.name = uuflowManager.getInstanceName(instance, setObj.values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"trace_approve_cc.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/trace_approve_cc.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // ??? 能否传阅给当前步骤处理人 如果当前步骤是会签。
  cc_do: function (approve, cc_user_ids, description) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve._id;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        space: 1,
        traces: 1,
        cc_users: 1,
        values: 1
      }
    });
    var current_user_id = this.userId;
    var space_id = instance.space;
    var new_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    cc_user_ids.forEach(function (userId, idx) {
      var user = db.users.findOne(userId, {
        fields: {
          name: 1
        }
      });
      var space_user = db.space_users.findOne({
        space: space_id,
        user: userId
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = space_user.organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var agent = uuflowManager.getAgent(space_id, userId);
      var handler_id = userId;
      var handler_info = user;
      var handler_space_user = space_user;
      var handler_org_info = organization;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent, {
          fileds: {
            name: 1
          }
        });
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
        cc_user_ids[idx] = agent;
      }

      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': ins_id,
        'trace': trace_id,
        'is_finished': false,
        'user': userId,
        'user_name': user.name,
        'handler': handler_id,
        'handler_name': handler_info.name,
        'handler_organization': handler_space_user.organization,
        'handler_organization_name': handler_org_info.name,
        'handler_organization_fullname': handler_org_info.fullname,
        'type': 'cc',
        'start_date': new Date(),
        'is_read': false,
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'opinion_fields_code': approve.opinion_fields_code,
        'sign_field_code': approve.opinion_fields_code && approve.opinion_fields_code.length == 1 ? approve.opinion_fields_code[0] : "",
        'from_approve_id': approve_id,
        'cc_description': description
      };

      if (agent) {
        appr.agent = agent;
      }

      uuflowManager.setRemindInfo(instance.values, appr);
      new_approves.push(appr);
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj,
      $addToSet: {
        'traces.$.approves': {
          $each: new_approves
        }
      },
      $push: {
        cc_users: {
          $each: cc_user_ids
        }
      }
    });
    instance = db.instances.findOne(ins_id);
    current_user_info = db.users.findOne(current_user_id);
    pushManager.send_instance_notification("trace_approve_cc", instance, "", current_user_info, cc_user_ids);
    flow_id = instance.flow;
    approve.cc_user_ids = cc_user_ids; // 记录下本次传阅的人员ID作为hook接口中的参数
    // 如果已经配置webhook并已激活则触发

    pushManager.triggerWebhook(flow_id, instance, approve, 'cc_do', current_user_id, cc_user_ids);
    return true;
  },
  cc_read: function (approve) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var current_user_id = this.userId;

    var current_trace = _.find(instance.traces, function (t) {
      return t._id == trace_id;
    });

    var index = 0;
    current_trace.approves.forEach(function (a, idx) {
      if (a.type == 'cc' && a.handler == current_user_id && !a.is_read) {
        index = idx;
      }
    });
    setObj['traces.$.approves.' + index + '.is_read'] = true;
    setObj['traces.$.approves.' + index + '.read_date'] = new Date();
    setObj.traces = traces;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj
    });
    return true;
  },
  cc_submit: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        cc_users: 1,
        outbox_users: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.type == 'cc' && a.handler == current_user_id && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.is_finished'] = true;
            upobj['traces.$.approves.' + idx + '.is_read'] = true;
            upobj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.cost_time'] = new Date() - a.start_date;
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });

    if (current_approve) {
      var index = 0; //设置意见，意见只添加到最后一条approve中

      traces.forEach(function (t) {
        if (current_approve && t._id === current_approve.trace) {
          if (t.approves) {
            t.approves.forEach(function (a, idx) {
              if (a._id === current_approve._id) {
                a.description = description;
                index = idx;
              }
            });
          }
        }
      });
      setObj.modified = new Date();
      setObj.modified_by = this.userId;
      setObj['traces.$.approves.' + index + '.description'] = description;
      db.instances.update({
        _id: ins_id,
        'traces._id': current_approve.trace
      }, {
        $set: setObj,
        $pull: {
          cc_users: current_user_id
        },
        $addToSet: {
          outbox_users: {
            $each: [current_user_id, current_approve.user]
          }
        }
      });
      instance = db.instances.findOne(ins_id);
      current_user_info = db.users.findOne(current_user_id); //传阅提交不通知传阅者

      if (false && description && current_approve && current_approve.from_user) {
        pushManager.send_instance_notification("trace_approve_cc_submit", instance, "", current_user_info, [current_approve.from_user]);
      }

      pushManager.send_message_to_specifyUser("current_user", current_user_id);
      flow_id = instance.flow; // 如果已经配置webhook并已激活则触发

      pushManager.triggerWebhook(flow_id, instance, current_approve, 'cc_submit', current_user_id, []);
    }

    return true;
  },
  cc_remove: function (instanceId, approveId) {
    var setObj = {};
    var instance = db.instances.findOne(instanceId, {
      fields: {
        traces: 1,
        cc_users: 1
      }
    });
    var traces = instance.traces;
    var trace_id,
        remove_user_id,
        multi = false;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a._id == approveId) {
            trace_id = a.trace;
            remove_user_id = a.handler;
            setObj['traces.$.approves.' + idx + '.judge'] = 'terminated';
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.read_date'] = new Date();
          }
        });
      }
    });
    if (!trace_id || !remove_user_id) return;
    var multi = 0;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a) {
          if (a.handler == remove_user_id && a.type == 'cc' && a.is_finished == false) {
            multi++;
          }
        });
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (multi > 1) {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj
      });
    } else {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj,
        $pull: {
          cc_users: remove_user_id
        }
      });
    }

    pushManager.send_message_to_specifyUser("current_user", remove_user_id);
    return true;
  },
  cc_save: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.handler == current_user_id && a.type == 'cc' && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.read_date'] = new Date();
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });
    var index = 0; //设置意见，意见只添加到最后一条approve中

    traces.forEach(function (t) {
      if (current_approve && t._id === current_approve.trace) {
        if (t.approves) {
          t.approves.forEach(function (a, idx) {
            if (a._id === current_approve._id) {
              index = idx;
            }
          });
        }
      }
    });
    setObj['traces.$.approves.' + index + '.description'] = description;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_approve.trace
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forward_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/forward_instance.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // 改为通过api调用
  forward_instance: function (instance_id, space_id, flow_id, hasSaveInstanceToAttachment, description, isForwardAttachments, selectedUsers, action_type, related, from_approve_id) {
    if (!this.userId) throw new Meteor.Error('not-authorized');
    return;
  },
  forward_remove: function (instance_id, trace_id, approve_id) {
    check(instance_id, String);
    check(trace_id, String);
    check(approve_id, String);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var trace = _.find(ins.traces, function (t) {
      return t._id == trace_id;
    });

    var approve = _.find(trace.approves, function (appr) {
      return appr._id == approve_id;
    });

    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, this.userId);

    if (!approve || !['forward', 'distribute'].includes(approve.type) || !approve.forward_instance) {
      if (!hasAdminPermission) {
        if (approve.from_user != this.userId) throw new Meteor.Error('error!', 'instance_forward_cannot_cancel');
      }
    }

    var forward_instance_id = approve.forward_instance;
    var forward_instance = db.instances.findOne(forward_instance_id);

    if (forward_instance) {
      if (forward_instance.state != "draft") {
        if (!hasAdminPermission) throw new Meteor.Error('error!', 'instance_forward_instance_state_changed');
      }

      var inbox_users = forward_instance.inbox_users || [];
      forward_instance.deleted = new Date();
      forward_instance.deleted_by = this.userId;
      var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

      if (deleted_forward_instance_id) {
        db.instances.remove({
          _id: forward_instance_id
        }); // 删除申请单后重新计算inbox_users的badge

        _.each(inbox_users, function (u_id) {
          pushManager.send_message_to_specifyUser("current_user", u_id);
        });
      }
    }

    var set_obj = new Object();
    set_obj.modified = new Date();
    set_obj.modified_by = this.userId;

    _.each(trace.approves, function (appr, idx) {
      if (appr._id == approve_id) {
        set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
        set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
        set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
        set_obj['traces.$.approves.' + idx + '.is_read'] = true;
        set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
      }
    });

    db.instances.update({
      _id: instance_id,
      "traces._id": trace_id
    }, {
      $set: set_obj
    });
    return true;
  },
  cancelDistribute: function (instance_id, approve_ids) {
    check(instance_id, String);
    check(approve_ids, Array);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    userId = this.userId;
    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, userId);

    _.each(ins.traces, function (t) {
      if (t.approves) {
        var exists = false;
        var set_obj = new Object();

        _.each(t.approves, function (a, idx) {
          if (approve_ids.includes(a._id) && (a.from_user == userId || hasAdminPermission) && 'distribute' == a.type && a.forward_instance) {
            var forward_instance_id = a.forward_instance;
            var forward_instance = db.instances.findOne(forward_instance_id);

            if (forward_instance) {
              if (forward_instance.state != "draft") {
                return;
              }

              var inbox_users = forward_instance.inbox_users || [];
              forward_instance.deleted = new Date();
              forward_instance.deleted_by = userId;
              var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

              if (deleted_forward_instance_id) {
                db.instances.remove({
                  _id: forward_instance_id
                }); // 删除申请单后重新计算inbox_users的badge

                _.each(inbox_users, function (u_id) {
                  pushManager.send_message_to_specifyUser("current_user", u_id);
                });
              }

              set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
              set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
              set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
              set_obj['traces.$.approves.' + idx + '.is_read'] = true;
              set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
            }

            exists = true;
          }
        });

        if (!exists) return;
        set_obj.modified = new Date();
        set_obj.modified_by = userId;
        db.instances.update({
          _id: instance_id,
          "traces._id": t._id
        }, {
          $set: set_obj
        });
      }
    });

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.js":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/cfs_instances.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cfs_instances_remove: function (file_id) {
    check(file_id, String);
    cfs.instances.remove(file_id);
    return true;
  },
  cfs_instances_set_current: function (file_id) {
    check(file_id, String);
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.current': true
      }
    });
    return true;
  },
  cfs_instances_lock: function (file_id, user_id, user_name) {
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.locked_by': user_id,
        'metadata.locked_by_name': user_name,
        'metadata.locked_time': new Date()
      }
    });
    return true;
  },
  cfs_instances_unlock: function (file_id) {
    cfs.instances.update({
      _id: file_id
    }, {
      $unset: {
        'metadata.locked_by': '',
        'metadata.locked_by_name': '',
        'metadata.locked_time': ''
      }
    });
    return true;
  },
  download_space_instance_attachments_to_disk: function (spaceId, cfsRecordIds) {
    if (!this.userId) return "不符合执行条件";
    if (Meteor.users.find({
      _id: this.userId,
      is_cloudadmin: true
    }).count() < 1) return "不符合执行条件";
    check(spaceId, String);
    var store = "instances";

    var fs = require('fs');

    var path = require('path');

    var mkdirp = require('mkdirp');

    var pathname = path.join(__meteor_bootstrap__.serverDir, '../../../cfs/spaceInstanceAttachments'); // Set absolute path

    var absolutePath = path.resolve(pathname); // Ensure the path exists

    mkdirp.sync(absolutePath);
    console.log('absolutePath: ', absolutePath);
    console.time('download_space_instance_attachments_to_disk');
    var query = {
      'metadata.space': spaceId
    };

    if (cfsRecordIds) {
      query._id = {
        $in: cfsRecordIds
      };
    }

    var downloadFailedRecordIds = [];
    cfs.instances.find(query).forEach(function (c) {
      try {
        var fileName = store + '-' + c._id + '-' + c.name();
        var filePath = path.join(absolutePath, fileName);
        Meteor.wrapAsync(function (callback) {
          try {
            var writer = fs.createWriteStream(filePath);
            writer.on('finish', function () {
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            var reader = c.createReadStream(store);
            reader.on('error', function (error) {
              downloadFailedRecordIds.push(c._id);
              console.error('download_space_instance_attachments_to_disk: ', c._id);
              console.error(error.stack);
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            reader.pipe(writer);
          } catch (error) {
            console.error('download_space_instance_attachments_to_disk: ', c._id);
            console.error(error.stack);
            if (callback && _.isFunction(callback)) callback();
            return;
          }
        })();
      } catch (error) {
        console.error('download_space_instance_attachments_to_disk: ', c._id);
        console.error(error.stack);
      }
    });

    if (downloadFailedRecordIds.length > 0) {
      console.error('downloadFailedRecordIds: ');
      console.error(downloadFailedRecordIds);
    }

    console.timeEnd('download_space_instance_attachments_to_disk');
    return downloadFailedRecordIds;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_approve.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_approve_have_read: function (instanceId, traceId, approveId) {
    var instance, ref, self, setObj, trace;

    if (!this.userId) {
      return;
    }

    self = this;
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {
        modified: new Date(),
        modified_by: self.userId
      };
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId && !approve.is_read) {
          setObj["traces.$.approves." + idx + ".is_read"] = true;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  change_approve_info: function (instanceId, traceId, approveId, description, finish_date) {
    var instance, ref, setObj, trace;

    if (!this.userId) {
      return;
    }

    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(description, String);
    check(finish_date, Date);
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          setObj["traces.$.approves." + idx + ".description"] = description;
          setObj["traces.$.approves." + idx + ".finish_date"] = finish_date;
          setObj["traces.$.approves." + idx + ".cost_time"] = new Date() - approve.start_date;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  update_approve_sign: function (instanceId, traceId, approveId, sign_field_code, description, sign_type, lastSignApprove) {
    var instance, lastTrace, ref, session_userId, setObj, trace, upObj;
    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(sign_field_code, String);
    check(description, String);

    if (!this.userId) {
      return;
    }

    session_userId = this.userId;

    if (lastSignApprove) {
      if (lastSignApprove.custom_sign_show) {
        return;
      }

      instance = db.instances.findOne({
        _id: instanceId,
        "traces._id": lastSignApprove.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });
      lastTrace = _.find(instance != null ? instance.traces : void 0, function (t) {
        return t._id = lastSignApprove.trace;
      });

      if (lastTrace) {
        setObj = {};

        if (lastTrace != null) {
          lastTrace.approves.forEach(function (a, idx) {
            if (a._id === lastSignApprove._id) {
              if (sign_type === "update") {
                setObj["traces.$.approves." + idx + ".sign_show"] = false;
                setObj["traces.$.approves." + idx + ".modified"] = new Date();
                return setObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
              }
            }
          });
        }

        if (!_.isEmpty(setObj)) {
          db.instances.update({
            _id: instanceId,
            "traces._id": lastTrace._id
          }, {
            $set: setObj
          });
        }
      }
    }

    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      upObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          if (sign_field_code) {
            upObj["traces.$.approves." + idx + ".sign_field_code"] = sign_field_code;
          }

          upObj["traces.$.approves." + idx + ".description"] = description;
          upObj["traces.$.approves." + idx + ".sign_show"] = true;
          upObj["traces.$.approves." + idx + ".modified"] = new Date();
          upObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
          return upObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(upObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: upObj
        });
      }

      return true;
    }
  },
  update_sign_show: function (objs, myApprove_id) {
    objs.forEach(function (obj, index) {
      var instance, ref, setObj, trace;
      instance = db.instances.findOne({
        _id: obj.instance,
        "traces._id": obj.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });

      if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
        trace = instance.traces[0];
        setObj = {};
        trace.approves.forEach(function (approve, idx) {
          if (approve._id === obj._id) {
            setObj["traces.$.approves." + idx + ".sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".custom_sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }

          if (approve._id === myApprove_id) {
            return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }
        });

        if (!_.isEmpty(setObj)) {
          return db.instances.update({
            _id: obj.instance,
            "traces._id": obj.trace
          }, {
            $set: setObj
          });
        }
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_return.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_return.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_return: function (approve, reason) {
    var approve_values, b, current_step, current_user, current_user_info, flow, ins, instance, instance_id, last_trace, newTrace, new_inbox_users, now, pre_step, pre_trace, r, rest_counter_users, setObj, space_id, traces;
    check(approve, Object);
    current_user = this.userId;
    instance_id = approve.instance;
    ins = uuflowManager.getInstance(instance_id);
    space_id = ins.space;

    if (ins.state !== "pending" || !ins.inbox_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.type === "cc" && ins.cc_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (ins.traces.length < 2) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    flow = uuflowManager.getFlow(ins.flow);
    pre_trace = ins.traces[ins.traces.length - 2];
    pre_step = uuflowManager.getStep(ins, flow, pre_trace.step);

    if (pre_step.step_type === "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    last_trace = _.last(ins.traces);
    current_step = uuflowManager.getStep(ins, flow, last_trace.step);

    if (current_step.step_type !== "submit" && current_step.step_type !== "sign" && current_step.step_type !== "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.trace !== last_trace._id) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    new_inbox_users = new Array();

    _.each(pre_trace.approves, function (a) {
      if ((!a.type || a.type === "draft" || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected")) {
        return new_inbox_users.push(a.user);
      }
    });

    if (_.isEmpty(new_inbox_users)) {
      throw new Meteor.Error('error!', "未找到下一步处理人，退回失败");
    }

    traces = ins.traces;
    approve_values = uuflowManager.getApproveValues(approve.values || {}, current_step.permissions, ins.form, ins.form_version);
    setObj = new Object();
    now = new Date();
    rest_counter_users = new Array();

    _.each(traces, function (t) {
      if (t._id === last_trace._id) {
        if (!t.approves) {
          t.approves = new Array();
        }

        _.each(t.approves, function (a, idx) {
          if ((!a.type || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected" || a.judge === "readed") && a.is_finished !== true) {
            setObj['traces.$.approves.' + idx + '.finish_date'] = now;
            setObj['traces.$.approves.' + idx + '.read_date'] = now;
            setObj['traces.$.approves.' + idx + '.is_error'] = false;
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.cost_time'] = now - a.start_date;
            setObj['traces.$.approves.' + idx + '.values'] = approve_values;

            if (a.handler === current_user) {
              setObj['traces.$.approves.' + idx + '.judge'] = "returned";
              return setObj['traces.$.approves.' + idx + '.description'] = reason;
            } else {
              return rest_counter_users.push(a.handler);
            }
          }
        });

        setObj['traces.$.is_finished'] = true;
        setObj['traces.$.finish_date'] = true;
        return setObj['traces.$.judge'] = "returned";
      }
    });

    ins.values = _.extend(ins.values || {}, approve_values);
    newTrace = new Object();
    newTrace._id = new Mongo.ObjectID()._str;
    newTrace.instance = instance_id;
    newTrace.previous_trace_ids = [last_trace._id];
    newTrace.is_finished = false;
    newTrace.step = pre_trace.step;
    newTrace.name = pre_trace.name;
    newTrace.start_date = now;
    newTrace.due_date = uuflowManager.getDueDate(pre_step.timeout_hours);
    newTrace.approves = [];

    _.each(new_inbox_users, function (next_step_user_id, idx) {
      var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
      newApprove = new Object();
      newApprove._id = new Mongo.ObjectID()._str;
      newApprove.instance = instance_id;
      newApprove.trace = newTrace._id;
      newApprove.is_finished = false;
      newApprove.user = next_step_user_id;
      user_info = db.users.findOne(next_step_user_id, {
        fields: {
          name: 1
        }
      });
      newApprove.user_name = user_info.name;
      handler_id = next_step_user_id;
      handler_info = user_info;
      agent = uuflowManager.getAgent(space_id, next_step_user_id);

      if (agent) {
        new_inbox_users[idx] = agent;
        handler_id = agent;
        handler_info = db.users.findOne({
          _id: agent
        }, {
          fields: {
            name: 1
          }
        });
        newApprove.agent = agent;
      }

      newApprove.handler = handler_id;
      newApprove.handler_name = handler_info.name;
      next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
      next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
      newApprove.handler_organization = next_step_user_org_info["organization"];
      newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
      newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
      newApprove.start_date = now;
      newApprove.is_read = false;
      newApprove.is_error = false;
      newApprove.values = new Object();
      uuflowManager.setRemindInfo(ins.values, newApprove);
      return newTrace.approves.push(newApprove);
    });

    setObj.inbox_users = new_inbox_users;
    setObj.state = "pending";
    ins.outbox_users.push(current_user);
    setObj.outbox_users = _.uniq(ins.outbox_users);
    setObj.modified = now;
    setObj.modified_by = current_user;
    setObj.values = ins.values;
    setObj.current_step_name = pre_trace.name;
    r = db.instances.update({
      _id: instance_id,
      'traces._id': last_trace._id
    }, {
      $set: setObj
    });
    b = db.instances.update({
      _id: instance_id
    }, {
      $push: {
        traces: newTrace
      }
    });

    if (r && b) {
      pushManager.send_message_to_specifyUser("current_user", current_user);
      instance = uuflowManager.getInstance(instance_id);
      current_user_info = db.users.findOne(current_user);
      pushManager.send_instance_notification("return_pending_inbox", instance, reason, current_user_info);

      _.each(rest_counter_users, function (user_id) {
        return pushManager.send_message_to_specifyUser("current_user", user_id);
      });
    }

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_remind.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_remind.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_remind: function (remind_users, remind_count, remind_deadline, instance_id, action_types, trace_id) {
    var current_user_id, ins, last_remind_users, now, priority, trace;
    check(remind_users, Array);
    check(remind_count, Match.OneOf('single', 'multi'));
    check(remind_deadline, Date);
    check(instance_id, String);
    check(action_types, Array);
    check(trace_id, String);
    current_user_id = this.userId;
    last_remind_users = new Array();
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        name: 1,
        traces: 1,
        values: 1,
        space: 1
      }
    });

    if (action_types.includes('admin')) {
      if (remind_count === 'single') {
        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              return last_remind_users.push(ap.user);
            }
          });
        });
      } else if (remind_count === 'multi') {
        now = new Date();
        priority = ins.values.priority;

        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            var caculate_date;

            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              last_remind_users.push(ap.user);
              ap.manual_deadline = remind_deadline;

              if (priority === "普通" || !priority) {} else if (priority === "办文") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "紧急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "特急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              }
            }
          });
        });

        if (!_.isEmpty(last_remind_users)) {
          db.instances.update({
            _id: instance_id
          }, {
            $set: {
              'traces': ins.traces
            }
          });
        }
      }
    } else if (action_types.includes('applicant')) {
      trace = _.find(ins.traces, function (t) {
        return t._id === trace_id;
      });

      _.each(trace.approves, function (ap) {
        if (remind_users.includes(ap.user) && ap.is_finished !== true) {
          return last_remind_users.push(ap.user);
        }
      });
    } else if (action_types.includes('cc')) {
      _.each(ins.traces, function (t) {
        return _.each(t.approves, function (ap) {
          if (remind_users.includes(ap.user) && ap.is_finished !== true && ap.type === 'cc' && ap.from_user === current_user_id) {
            return last_remind_users.push(ap.user);
          }
        });
      });
    }

    uuflowManager.sendRemindSMS(ins.name, remind_deadline, last_remind_users, ins.space, ins._id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"next_step_users_not_found.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/next_step_users_not_found.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  next_step_users_not_found: function (deal_type, step_name, params) {
    var approver_roles, lang, roles, roles_name, str, user;
    check(deal_type, String);
    check(step_name, String);
    check(params, Object);
    str = "";
    user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    lang = 'en';

    if (user.locale === 'zh-cn') {
      lang = 'zh-CN';
    }

    if (deal_type === 'applicantRole') {
      approver_roles = params.approver_roles;
      roles = db.flow_roles.find({
        _id: {
          $in: approver_roles
        }
      }, {
        fields: {
          name: 1
        }
      }).fetch();
      roles_name = _.pluck(roles, 'name').toString();
      str = TAPi18n.__('next_step_users_not_found.applicant_role', {
        step_name: step_name,
        role_name: roles_name
      }, lang);
    }

    return str;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_number_rules.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_number_rules.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval;

_eval = require('eval');
Meteor.methods({
  instanceNumberBuilder: function (spaceId, name) {
    var _NUMBER, _YYYY, context, date, e, numberRules, res, rules, script;

    numberRules = db.instance_number_rules.findOne({
      space: spaceId,
      name: name
    });

    if (!numberRules) {
      throw new Meteor.Error('error!', "" + name);
    }

    date = new Date();
    context = {};
    context._ = _;
    _YYYY = date.getFullYear();
    _NUMBER = (numberRules.number || 0) + 1;
    context.YYYY = _.clone(_YYYY);
    context.MM = date.getMonth() + 1;
    context.mm = date.getMonth() + 1;

    if (context.MM < 10) {
      context.MM = "0" + context.MM;
    }

    context.DD = date.getDate();
    context.dd = date.getDate();

    if (context.DD < 10) {
      context.DD = "0" + context.DD;
    }

    if (context.YYYY !== numberRules.year) {
      _NUMBER = numberRules.first_number || 1;
    }

    context.NUMBER = _.clone(_NUMBER);
    rules = numberRules.rules.replace("{YYYY}", "' + YYYY + '").replace("{MM}", "' + MM + '").replace("{NUMBER}", "' + NUMBER + '");
    script = "var newNo = '" + rules + "'; exports.newNo = newNo";

    try {
      res = _eval(script, "newNo", context, false).newNo;
      db.instance_number_rules.update({
        _id: numberRules._id
      }, {
        $set: {
          year: _YYYY,
          number: _NUMBER
        }
      });
      console.log(this.userId, res);
    } catch (error) {
      e = error;
      res = {
        _error: e
      };
    }

    return res;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"check_main_attach.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/check_main_attach.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  check_main_attach: function (ins_id, name) {
    check(ins_id, String);
    uuflowManager.checkMainAttach(ins_id, name);
    return 'success';
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/related_instances.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  remove_related: function (ins_id, re_ins_id) {
    var index, ins, res, set_obj;
    check(ins_id, String);
    check(re_ins_id, String);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        related_instances: 1
      }
    });

    if (ins) {
      res = ins.related_instances || [];
      index = res.indexOf(re_ins_id);

      if (index > -1) {
        res.remove(index);
      }

      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = res;
      return db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }
  },
  update_instance_related: function (ins_id, related_instances) {
    var ins, set_obj;
    check(ins_id, String);
    check(related_instances, Array);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id,
      $or: [{
        submitter: this.userId
      }, {
        applicant: this.userId
      }]
    }, {
      fields: {
        state: 1
      }
    });

    if (ins) {
      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = related_instances;
      db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }

    return db.instances.find({
      _id: {
        $in: related_instances
      }
    }, {
      fields: {
        _id: 1,
        values: 1
      }
    }).fetch();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"edit_flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/edit_flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  updateFlowPosition: function (data) {
    return db.flow_positions.update({
      _id: data._id
    }, {
      $set: {
        role: data.role,
        users: data.users,
        org: data.org
      }
    });
  },
  updateFlowRole: function (data) {
    console.log(data._id);
    console.log(data.name);
    return db.flow_roles.update({
      _id: data._id
    }, {
      $set: {
        name: data.name
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"start_flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/start_flow.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  start_flow: function (space, flowId, start) {
    var keyValue, start_flows;
    keyValue = db.steedos_keyvalues.findOne({
      space: space,
      user: this.userId,
      key: 'start_flows'
    }, {
      fields: {
        value: 1
      }
    });
    start_flows = (keyValue != null ? keyValue.value : void 0) || [];

    if (start) {
      start_flows.push(flowId);
      start_flows = _.uniq(start_flows);
    } else {
      start_flows.remove(start_flows.indexOf(flowId));
    }

    if (keyValue) {
      return db.steedos_keyvalues.update({
        _id: keyValue._id
      }, {
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    } else {
      return db.steedos_keyvalues.insert({
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_traces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_traces.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  get_instance_traces: function (ins_id) {
    var ins, miniApproveFields;

    if (!this.userId) {
      return;
    }

    miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description'];
    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        "traces._id": 1,
        "traces.is_finished": 1,
        "traces.step": 1,
        "traces.start_date": 1,
        "traces.name": 1,
        "traces.finish_date": 1,
        "traces.judge": 1,
        "traces.approves._id": 1,
        "traces.approves.is_finished": 1,
        "traces.approves.user": 1,
        "traces.approves.handler": 1,
        "traces.approves.handler_name": 1,
        "traces.approves.handler_organization_fullname": 1,
        "traces.approves.type": 1,
        "traces.approves.start_date": 1,
        "traces.approves.description": 1,
        "traces.approves.is_read": 1,
        "traces.approves.judge": 1,
        "traces.approves.finish_date": 1,
        "traces.approves.from_user_name": 1,
        "traces.approves.from_user": 1,
        "traces.approves.cc_description": 1,
        "traces.approves.trace": 1,
        "traces.approves.forward_space": 1,
        "traces.approves.forward_instance": 1
      }
    });

    if (!ins) {
      return;
    }

    return ins != null ? ins.traces : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_batch.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_batch.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  'get_batch_instances': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return _batch_instances;
  },
  'get_batch_instances_count': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return (_batch_instances != null ? _batch_instances.length : void 0) || 0;
  },
  'get_my_approves': function (instanceIds) {
    var myApproves, that;
    that = this;

    if (!that.userId) {
      return;
    }

    myApproves = new Array();
    instanceIds.forEach(function (insId) {
      var my_approve;
      my_approve = InstanceManager.getMyApprove(insId, that.userId);

      if (my_approve) {
        return myApproves.push(my_approve);
      }
    });
    return myApproves;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/flow.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  change_flow_state: function (flows) {
    var _userId;

    check(flows, Array);
    _userId = this.userId;

    if (!_userId) {
      return;
    }

    return flows.forEach(function (flow) {
      var _flows, _flows_state, flowId, form, formId, form_current_fields_code, now, spaceId, state;

      spaceId = flow.space;
      formId = flow.form;
      flowId = flow.id;
      state = flow.state;

      if (!Steedos.isSpaceAdmin(spaceId, _userId)) {
        throw Meteor.Error(401, "No permission");
      }

      form = db.forms.findOne({
        _id: formId
      }, {
        fields: {
          historys: 0
        }
      });
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          historys: 0
        }
      });

      if (state !== 'enabled' && state !== 'disabled') {
        throw new Meteor.Error(500, "state无效");
      }

      if (!form) {
        throw new Meteor.Error(500, "form无效");
      }

      if (!flow) {
        throw new Meteor.Error(500, "flow无效");
      }

      if (!form.is_valid) {
        throw new Meteor.Error(500, "流程引用的表单[" + form.name + "]验证未通过，请打开流程设计器检查表单设置");
      }

      if (!flow.is_valid) {
        throw new Meteor.Error(500, "流程验证未通过，请打开流程设计器检查流程设置");
      }

      if (!['new', 'modify', 'delete'].includes(flow.flowtype)) {
        throw new Meteor.Error(500, "流程验证未通过，flowtype值必须是new、modify、delete其中之一");
      }

      if (!_.isArray(flow.current.steps)) {
        throw new Meteor.Error(500, "流程验证未通过，流程的步骤不能为空");
      }

      if (_.uniq(flow.current.steps, 'name').length !== flow.current.steps.length) {
        throw new Meteor.Error(500, "流程验证未通过，同一个流程下的步骤的名称不能重复");
      }

      now = new Date();

      if (state === 'enabled') {
        flow.current.steps.forEach(function (step) {
          var specifyStep;

          if (['specifyStepUser', 'specifyStepRole'].includes(step.deal_type)) {
            if (!step.approver_step) {
              throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
            } else {
              specifyStep = _.find(flow.current.steps, function (_step) {
                return step.approver_step === _step._id;
              });

              if (!specifyStep) {
                throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
              }
            }
          }
        });
        form_current_fields_code = form.current.fields.getProperty("code");
        flow.current.steps.forEach(function (step) {
          return step.fields_modifiable = _.intersection(step.fields_modifiable, form_current_fields_code);
        });

        if (form.state === 'disabled') {
          db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "enabled",
              "current.start_date": now,
              "current.modified": now,
              "current.modified_by": _userId
            }
          });
        }

        flow.current.modified = now;
        flow.current.start_date = now;
        flow.current.modified_by = _userId;
        return db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "enabled",
            "current": flow.current
          }
        });
      } else {
        db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "disabled",
            "current.modified": now,
            "current.start_date": now,
            "current.modified_by": _userId
          }
        });
        _flows = db.flows.find({
          form: form._id
        }, {
          fields: {
            _id: 1,
            state: 1
          }
        }).fetch();
        _flows_state = _flows.getProperty("state");

        if (!_flows_state.includes('enabled')) {
          return db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "disabled",
              "current.modified": now,
              "current.start_date": now,
              "current.modified_by": _userId
            }
          });
        }
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distribute.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/distribute.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"hide_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/hide_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  hide_instance: function (insId, is_hidden) {
    var instance, permissions, space, userId;

    if (!this.userId) {
      return;
    }

    check(insId, String);
    check(is_hidden, Boolean);
    userId = this.userId;
    instance = db.instances.findOne(insId, {
      fields: {
        state: 1,
        flow: 1,
        space: 1
      }
    });

    if (!instance) {
      throw new Meteor.Error('error!', "未找到申请单");
    }

    if (instance.state !== 'completed') {
      throw new Meteor.Error('error!', "申请单状态不是已结束");
    }

    permissions = permissionManager.getFlowPermissions(instance.flow, userId);
    space = db.spaces.findOne(instance.space, {
      fields: {
        admins: 1
      }
    });

    if (!permissions.includes("admin") && !space.admins.includes(userId)) {
      throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
    }

    db.instances.update(insId, {
      $set: {
        is_hidden: is_hidden
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_value.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_value.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  getInstanceValues: function (insId) {
    var ref;

    if (!this.userId) {
      return;
    }

    return (ref = db.instances.findOne({
      _id: insId
    }, {
      fields: {
        values: 1
      }
    })) != null ? ref.values : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"routes":{"instance.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies, getInstanceReadOnly;
Cookies = require("cookies");

getInstanceReadOnly = function (req, res, next, options) {
  var _hasPermission, _locale, _parent_instances, dataBuf, error, hide_traces, html, instance, instanceId, ref, ref1, space, spaceId, spaceUserCount, user, userId;

  user = Steedos.getAPILoginUser(req, res);

  if (req != null ? (ref = req.query) != null ? ref.access_token : void 0 : void 0) {
    userId = Steedos.getUserIdFromAccessToken(req.query.access_token);

    if (userId) {
      user = Meteor.users.findOne({
        _id: userId
      });
    }
  }

  spaceId = req.params.space;
  instanceId = req.params.instance_id;
  instance = db.instances.findOne({
    _id: instanceId
  });
  space = db.spaces.findOne({
    _id: spaceId
  });
  hide_traces = (ref1 = req.query) != null ? ref1.hide_traces : void 0;

  if (!options) {
    options = {
      showTrace: true
    };
  } else {
    options.showTrace = true;
  }

  if (hide_traces === "1") {
    if (options) {
      options.showTrace = false;
    } else {
      options = {
        showTrace: false
      };
    }
  }

  if (!options.showAttachments) {
    options.showAttachments = true;
  }

  if (!space) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space",
        "success": false
      }
    });
    return;
  }

  if (!instance) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing instance",
        "success": false
      }
    });
    return;
  }

  if (!user) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Auth-Token,X-User-Id",
        "success": false
      }
    });
    return;
  }

  if (instance.space !== spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space or instance",
        "success": false
      }
    });
    return;
  }

  spaceUserCount = db.space_users.find({
    user: user._id,
    space: spaceId
  }).count();

  if (spaceUserCount === 0) {
    if (!space) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- Missing sapceUser",
          "success": false
        }
      });
      return;
    }
  }

  _hasPermission = WorkflowManager.hasInstancePermissions(user, instance);

  if (!_hasPermission && instance.distribute_from_instance) {
    _parent_instances = _.union([instance.distribute_from_instance], instance.distribute_from_instances || []);
    _hasPermission = _.find(_parent_instances, function (_parent_id) {
      var _parent_ins;

      _parent_ins = db.instances.findOne({
        _id: _parent_id
      }, {
        fields: {
          traces: 0
        }
      });
      return WorkflowManager.hasInstancePermissions(user, _parent_ins);
    });
  }

  if (!_hasPermission) {
    _locale = Steedos.locale(user._id, true);
    error = TAPi18n.__("instance_permissions_error", {}, _locale);
    res.charset = "utf-8";
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": error,
        "success": false
      }
    });
    return;
  }

  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
};

JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id", getInstanceReadOnly);
JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id/:instance_name", function (req, res, next) {
  var options;
  res.setHeader('Content-type', 'application/x-msdownload');
  res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(req.params.instance_name));
  res.setHeader('Transfer-Encoding', '');
  options = {
    absolute: true
  };
  return getInstanceReadOnly(req, res, next, options);
}); /*
    	获取申请单列表：
        final_decision：审批结果
        state: 申请单状态
     */
JsonRoutes.add("get", "/api/workflow/instances", function (req, res, next) {
  var f, flowId, flowIds, flows, i, instances, query, ref, ref1, ref2, ref3, ret_sync_token, spaceId, spaceUser, spaceUserOrganizations, sync_token, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  spaceId = req.headers["x-space-id"];

  if (!spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Space-Id",
        "success": false
      }
    });
    return;
  }

  flowId = (ref = req.query) != null ? ref.flowId : void 0;

  if (!flowId) {
    JsonRoutes.sendResult(res, {
      code: 400,
      data: {
        "error": "Validate Request -- Missing flowId",
        "success": false
      }
    });
    return;
  }

  query = {};
  ret_sync_token = new Date().getTime();
  flowIds = flowId.split(",");
  flows = db.flows.find({
    _id: {
      $in: flowIds
    }
  }).fetch();
  i = 0;

  while (i < flows.length) {
    f = flows[i];
    spaceUser = db.space_users.findOne({
      space: f.space,
      user: user_id
    });

    if (!spaceUser) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- No permission, flow is " + f._id,
          "success": false
        }
      });
      return;
    } else {}

    if (!Steedos.isSpaceAdmin(spaceId, user_id)) {
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: spaceUser.organizations
        }
      }).fetch();

      if (!WorkflowManager.canMonitor(f, spaceUser, spaceUserOrganizations) && !WorkflowManager.canAdmin(f, spaceUser, spaceUserOrganizations)) {
        JsonRoutes.sendResult(res, {
          code: 401,
          data: {
            "error": "Validate Request -- No permission, flow is " + f._id,
            "success": false
          }
        });
        return;
      }
    }

    i++;
  }

  query.flow = {
    $in: flowIds
  };
  query.space = spaceId;

  if ((ref1 = req.query) != null ? ref1.sync_token : void 0) {
    sync_token = new Date(Number(req.query.sync_token));
    query.modified = {
      $gt: sync_token
    };
  }

  if ((ref2 = req.query) != null ? ref2.final_decision : void 0) {
    query.final_decision = {
      $in: req.query.final_decision.split(",")
    };
  } else {
    query.final_decision = {
      $nin: ["terminated", "rejected"]
    };
  }

  if ((ref3 = req.query) != null ? ref3.state : void 0) {
    query.state = {
      $in: req.query.state.split(",")
    };
  } else {
    query.state = "completed";
  }

  instances = db.instances.find(query, {
    fields: {
      inbox_uers: 0,
      cc_users: 0,
      outbox_users: 0,
      traces: 0,
      attachments: 0
    },
    skip: 0,
    limit: 500
  }).fetch();
  instances.forEach(function (instance) {
    var attachments;
    attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return instance.attachments = attachments;
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      "status": "success",
      "sync_token": ret_sync_token,
      "data": instances
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steedos_css.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/steedos_css.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/steedos-css", function (req, res, next) {
  var allCss, allCssLink;
  allCss = WebApp.getRefreshableAssets();
  allCssLink = "";
  allCss.forEach(function (css) {
    var cssHref;
    cssHref = Meteor.absoluteUrl(css.url);
    return allCssLink += "@import url(" + cssHref + ");";
  });
  res.statusCode = 200;
  return res.end(allCssLink);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft_view.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance_draft_view.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/api/workflow/space/:space/view/draft/:flow", function (req, res, next) {
  var dataBuf, flow, flowId, form, html, instance, options, space, spaceId, user, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  user = db.users.findOne({
    _id: user_id
  });
  spaceId = req.params.space;
  flowId = req.params.flow;
  space = db.spaces.findOne({
    _id: spaceId
  });
  flow = db.flows.findOne({
    _id: flowId
  }, {
    fields: {
      name: 1,
      'current._id': 1,
      form: 1
    }
  });
  form = db.forms.findOne({
    _id: flow.form
  }, {
    fields: {
      'current._id': 1
    }
  });
  options = {
    showTrace: false,
    showAttachments: false,
    templateName: "default",
    editable: true,
    width: "100%",
    instance_style: "instance-default",
    plugins: "\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n<title>" + flow.name + "</title>\n<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />\n<meta name=\"viewport\" content=\"width=device-width\" />\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css\">\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js\" type=\"text/javascript\"></script>\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js\" type=\"text/javascript\" charset=\"UTF-8\"></script>\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/toastr/toastr.min.css\">\n<script src=\"/plugins/toastr/toastr.min.js\" type=\"text/javascript\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/workflow_client.css\">\n<script src=\"/js/workflow_client.js\" type=\"text/javascript\"></script>"
  };
  instance = {
    flow: flow._id,
    flow_version: flow.current._id,
    form: form._id,
    form_version: form.current._id,
    values: {},
    name: flow.name,
    space: spaceId
  };
  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"lib":{"1_form_formula.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/1_form_formula.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Array.prototype.filterProperty = function (h, l) {
  var g = [];
  this.forEach(function (t) {
    var m = t ? t[h] : null;
    var d = false;

    if (m instanceof Array) {
      d = m.includes(l);
    } else {
      d = l === undefined ? false : m == l;
    }

    if (d) {
      g.push(t);
    }
  });
  return g;
};

Array.prototype.getProperty = function (k) {
  var v = new Array();
  this.forEach(function (t) {
    var m = t ? t[k] : null;
    v.push(m);
  });
  return v;
};

Array.prototype.getEach = function (code) {
  var rev = [];

  for (var i = 0; i < this.length; i++) {
    rev.push(this[i][code]);
  }

  return rev;
};

Array.prototype.uniq = function () {
  var a = [];
  this.forEach(function (b) {
    if (a.indexOf(b) < 0) {
      a[a.length] = b;
    }
  });
  return a;
};

Form_formula = {};

Form_formula.mixin = function (dest, src) {
  for (var key in src) {
    dest[key] = src[key];
  }

  return dest;
};

Form_formula.handerUserObject = function (u) {
  if (u instanceof Array) {
    var user = {};
    user.name = u.getProperty("name");
    user.organization = {};
    user.organization.name = u.getProperty("organization").getProperty("name");
    user.organization.fullname = u.getProperty("organization").getProperty("fullname");
    user.hr = u.getProperty("hr");
    user.sort_no = u.getProperty("sort_no");
    user.mobile = u.getProperty("mobile");
    user.work_phone = u.getProperty("work_phone");
    user.position = u.getProperty("position");
    var userRoles = u.getProperty("roles");
    var roles = new Array();
    userRoles.forEach(function (i) {
      roles = roles.concat(i);
    });
    roles.uniq();
    user.roles = roles;
    return user;
  } else {
    return u;
  }
};

Form_formula.handerOrgObject = function (o) {
  if (o instanceof Array) {
    var org = {};
    org.id = o.getProperty("_id");
    org.name = o.getProperty("name");
    org.fullname = o.getProperty("fullname");
    return org;
  } else {
    return o;
  }
};
/**
    * 获得公式需要用到的初始值
    * 输入：fields, values, applicant
    * 输出：__values
**/


Form_formula.init_formula_values = function (fields, autoFormDoc, approver, applicant, spaceId) {
  var __values = {}; //申请单中填的值处理

  if (fields && fields.length && autoFormDoc) {
    //debugger;
    fields.forEach(function (field) {
      var type = field.type;

      if (type) {
        if (type === 'table') {
          /*
          * 将表格字段的值进行转换后传入__values中
          * values中表格的值格式为
          * [{"a":1,"b":4},{"a":2,"b":5},{"a":3,"b":6}]
          * __values需要转化为下面格式且和主表的值一样放到第一层
          * {"a":[1,2,3],"b":[4,5,6]}
          **/
          var tableFields = field.sfields,
              tableValues = autoFormDoc[field.code],
              formulaTableValues = [],
              __tableValues = {}; //按公式的格式转换值为__tableValues

          if (tableFields && tableFields.length && tableValues && tableValues instanceof Array) {
            tableValues.forEach(function (tableValue) {
              formulaTableValues.push(Form_formula.init_formula_values(tableFields, tableValue));
            }, this); //按主表的格式转换__tableValues加到

            tableFields.forEach(function (tablefield) {
              __tableValues[tablefield.code] = formulaTableValues.getEach(tablefield.code);
            });
            __values = Form_formula.mixin(__values, __tableValues);
          }
        } else if (type == 'user') {
          __values[field.code] = Form_formula.handerUserObject(WorkflowManager.getFormulaUserObjects(spaceId, autoFormDoc[field.code]));
        } else if (type == 'group') {
          __values[field.code] = Form_formula.handerOrgObject(WorkflowManager.getFormulaOrgObjects(autoFormDoc[field.code]));
        } else if (type == 'odata') {
          __values[field.code] = autoFormDoc[field.code] || {};
        } else {
          //此处传spaceId给选人控件的旧数据计算roles和organization
          __values[field.code] = autoFormDoc[field.code];
        }
      }
    }, this);
  } //当前处理人


  __values["approver"] = WorkflowManager.getFormulaUserObject(spaceId, approver); //申请人

  __values["applicant"] = WorkflowManager.getFormulaUserObject(spaceId, applicant);
  return __values;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_handlers_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/get_handlers_manager.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
getHandlersManager = {};

getHandlersManager.getHandlersByUsersAndRoles = function (user_ids, role_ids, space_id) {
  var approve_users;
  approve_users = new Array();

  _.each(user_ids, function (user_id) {
    var users;

    if (db.users.find({
      _id: user_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRoles(user_id, role_ids, space_id);

      if (users.length > 0) {
        return approve_users = approve_users.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "user_id不合法不合法");
    }
  });

  approve_users = _.uniq(approve_users);
  return approve_users;
};

getHandlersManager.getHandlersByUserAndRoles = function (user_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;

    if (db.flow_roles.find({
      _id: role_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRole(user_id, role_id, space_id);

      if (users.length > 0) {
        return user_ids = user_ids.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "role_id已经被删除");
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据user_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByUserAndRole = function (user_id, role_id, space_id) {
  var orgs, user_ids;
  orgs = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      _id: 1
    }
  }).fetch();
  user_ids = new Array();

  _.each(orgs, function (org) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org._id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgsAndRoles = function (org_ids, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(org_ids, function (org_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRoles(org_id, role_ids, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgAndRoles = function (org_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org_id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据org_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByOrgAndRole = function (org_id, role_id, space_id) {
  var org, parents, positions, user_ids;
  org = db.organizations.findOne({
    _id: org_id
  }, {
    fields: {
      parents: 1
    }
  });
  user_ids = new Array();
  positions = db.flow_positions.find({
    space: space_id,
    org: org_id,
    role: role_id
  }, {
    fields: {
      users: 1
    }
  }).fetch();

  _.each(positions, function (position) {
    return user_ids = user_ids.concat(position.users);
  });

  if (user_ids.length === 0) {
    parents = org.parents;

    _.each(parents, function (parent_id) {
      positions = db.flow_positions.find({
        space: space_id,
        org: parent_id,
        role: role_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();

      if (positions.length > 0) {
        return _.each(positions, function (position) {
          return user_ids = user_ids.concat(position.users);
        });
      }
    });
  }

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlers = function (instance_id, step_id) {
  var _approve, _space_user, _trace, applicant, applicantSuperiors, approve_users, approver_org_field, approver_org_ids, approver_step, approver_user_field, approver_user_ids, current, current_flow, current_flow_version, current_form, current_step, current_steps, deal_type, field_code, finished_traces, flow_id, flow_rev, form, form_fields, form_id, form_rev, handlers, instance, max_startDate_trace, new_approver_user_ids, new_org_user_ids, newest_values, next_step_users, org_ids, org_ids_names, org_user_ids, space_id, space_user_count, submitter, submitter_user_count, unfinished_trace, user_ids, user_ids_names, users, valid_approver_org_ids;

  instance = db.instances.findOne(instance_id);

  if (instance.step_approve && instance.step_approve[step_id]) {
    return instance.step_approve[step_id];
  }

  approve_users = new Array();
  space_id = instance.space;
  flow_id = instance.flow;
  flow_rev = instance.flow_version;
  current_flow = db.flows.findOne(flow_id);
  current_step = null;
  current_steps = new Array();

  if (current_flow.current._id === flow_rev) {
    current_steps = current_flow.current.steps;
  } else {
    current = _.find(current_flow.historys, function (history) {
      return history._id === flow_rev;
    });
    current_steps = current.steps;
  }

  current_step = _.find(current_steps, function (step) {
    return step._id === step_id;
  });

  if (current_step.step_type === "condition") {
    unfinished_trace = _.find(instance.traces, function (trace) {
      return trace.is_finished === false;
    });
    return new Array(unfinished_trace.approves[0].user);
  }

  if (current_step.step_type === "start") {
    handlers = new Array();
    handlers.push(instance.applicant);
    handlers.push(instance.submitter);
    handlers = _.uniq(handlers);
    return handlers;
  }

  deal_type = current_step.deal_type;
  users = new Array();

  if (deal_type === "applicantRole") {
    applicant = instance.applicant;

    if (applicant) {
      space_user_count = db.space_users.find({
        space: space_id,
        user: applicant
      }).count();

      if (space_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
      }

      if (current_step.approver_roles && current_step.approver_roles.length > 0) {
        _.each(current_step.approver_roles, function (approver_role) {
          var role_count;
          role_count = db.flow_roles.find({
            _id: approver_role
          }).count();

          if (role_count === 0) {
            throw new Meteor.Error('error!', "角色已经被删除");
          }
        });

        return getHandlersManager.getHandlersByUserAndRoles(applicant, current_step.approver_roles, space_id);
      } else {
        throw new Meteor.Error('error!', "审批岗位未指定");
      }
    } else {
      throw new Meteor.Error('error!', "Instance的提交人为空");
    }
  } else if (deal_type === "applicant") {
    applicant = instance.applicant;
    space_user_count = db.space_users.find({
      space: space_id,
      user: applicant
    }).count();

    if (space_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
    } else {
      return new Array(applicant);
    }
  } else if (deal_type === "orgFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByOrgsAndRoles(org_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "orgField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    user_ids = new Array();

    _.each(org_ids, function (org_id) {
      var check_orgs, org, org_children, org_users;
      org = db.organizations.findOne({
        _id: org_id
      }, {
        fields: {
          users: 1
        }
      });
      org_children = db.organizations.find({
        space: space_id,
        parents: org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      org_children.unshift(org);
      check_orgs = org_children;
      org_users = new Array();

      _.each(check_orgs, function (check_org_user) {
        if (check_org_user.users) {
          _.each(check_org_user.users, function (org_user) {
            if (db.space_users.find({
              space: space_id,
              user: org_user
            }).count() === 0) {
              throw new Meteor.Error('error!', "space下不存在此user");
            }
          });
        }

        user_ids = user_ids.concat(check_org_user.users);
        return org_users = org_users.concat(check_org_user.users);
      });

      if (org_users.length === 0) {
        throw new Meteor.Error('error!', "组织" + org_id + "不存在处理人");
      }
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "userFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByUsersAndRoles(user_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "userField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "specifyStepRole") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    if (current_step.approver_roles) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', "角色已经被删除");
        }
      });
    }

    _.each(approve_users, function (approve_user) {
      if (db.space_users.find({
        space: space_id,
        user: approve_user
      }).count() === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    return getHandlersManager.getHandlersByUsersAndRoles(approve_users, current_step.approver_roles, space_id);
  } else if (deal_type === "specifyStepUser") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    _.each(approve_users, function (approve_user) {
      var check_approve_user_count;
      check_approve_user_count = db.space_users.find({
        space: space_id,
        user: approve_user
      }).count();

      if (check_approve_user_count === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    approve_users = _.uniq(approve_users);
    return approve_users;
  } else if (deal_type === "submitterRole") {
    submitter = instance.submitter;

    if (!submitter) {
      submitter_user_count = db.space_users.find({
        space: space_id,
        user: submitter
      }).count();

      if (submitter_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
      } else {
        if (current_step.approver_roles && current_step.approver_roles.length > 0) {
          _.each(current_step.approver_roles, function (approver_role) {
            var role_count;
            role_count = db.flow_roles.find({
              _id: approver_role
            }).count();

            if (role_count === 0) {
              throw new Meteor.Error('error!', approver_role + "已经被删除");
            }
          });

          return getHandlersManager.getHandlersByUserAndRoles(submitter, current_step.approver_roles, space_id);
        } else {
          throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
        }
      }
    } else {
      throw new Meteor.Error('error!', "申请单的提交人为空");
    }
  } else if (deal_type === "submitter") {
    submitter = instance.submitter;
    submitter_user_count = db.space_users.find({
      space: space_id,
      user: submitter
    }).count();

    if (submitter_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
    } else {
      return new Array(submitter);
    }
  } else if (deal_type === "specifyOrg") {
    approver_org_ids = current_step.approver_orgs;

    if (!approver_org_ids || approver_org_ids.length === 0) {
      throw new Meteor.Error('error!', "未定义用于查找下一步处理人的部门，请联系管理员调查流程图的配置是否正确");
    }

    valid_approver_org_ids = new Array();

    _.each(approver_org_ids, function (approver_org_id) {
      if (db.organizations.find({
        _id: approver_org_id
      }).count() > 0) {
        return valid_approver_org_ids.unshift(approver_org_id);
      }
    });

    org_user_ids = new Array();

    _.each(valid_approver_org_ids, function (valid_approver_org_id) {
      var child_orgs, valid_approver_org;
      valid_approver_org = db.organizations.findOne({
        _id: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      });

      if (valid_approver_org.users) {
        org_user_ids = org_user_ids.concat(valid_approver_org.users);
      }

      child_orgs = db.organizations.find({
        space: space_id,
        parents: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      return _.each(child_orgs, function (child_org) {
        if (child_org.users) {
          return org_user_ids = org_user_ids.concat(child_org.users);
        }
      });
    });

    org_user_ids = _.uniq(org_user_ids);
    new_org_user_ids = new Array();

    _.each(org_user_ids, function (org_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: org_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_org_user_ids.push(org_user_id);
      }
    });

    return new_org_user_ids;
  } else if (deal_type === "specifyUser") {
    approver_user_ids = current_step.approver_users;
    approver_user_ids = _.uniq(approver_user_ids);
    new_approver_user_ids = new Array();

    _.each(approver_user_ids, function (approver_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: approver_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_approver_user_ids.push(approver_user_id);
      }
    });

    return new_approver_user_ids;
  } else if (deal_type === "pickupAtRuntime") {
    next_step_users = new Array();
    _trace = _.find(instance.traces, function (_tr) {
      return _tr.is_finished === false;
    });
    _approve = _.find(_trace.approves, function (_app) {
      return _app.is_finished === false && _app.type !== 'cc';
    });

    if (_approve.next_steps) {
      if (_approve.next_steps[0]["users"]) {
        next_step_users = _approve.next_steps[0]["users"];
      }
    }

    return next_step_users;
  } else if (deal_type === "applicantSuperior") {
    applicantSuperiors = new Array();
    _space_user = db.space_users.findOne({
      space: space_id,
      user: instance.applicant
    }, {
      fields: {
        manager: 1
      }
    });

    if (_space_user.manager) {
      applicantSuperiors.push(_space_user.manager);
    }

    return applicantSuperiors;
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"permission_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/permission_manager.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
permissionManager = {};

permissionManager.getFlowPermissions = function (flow_id, user_id) {
  var flow, my_permissions, org_ids, organizations, orgs_can_add, orgs_can_admin, orgs_can_monitor, space_id, users_can_add, users_can_admin, users_can_monitor;
  flow = uuflowManager.getFlow(flow_id);
  space_id = flow.space;
  org_ids = new Array();
  organizations = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      parents: 1
    }
  }).fetch();

  _.each(organizations, function (org) {
    org_ids.push(org._id);

    if (org.parents) {
      return _.each(org.parents, function (parent_id) {
        return org_ids.push(parent_id);
      });
    }
  });

  org_ids = _.uniq(org_ids);
  my_permissions = new Array();

  if (flow.perms) {
    if (flow.perms.users_can_add) {
      users_can_add = flow.perms.users_can_add;

      if (users_can_add.includes(user_id)) {
        my_permissions.push("add");
      }
    }

    if (flow.perms.orgs_can_add) {
      orgs_can_add = flow.perms.orgs_can_add;

      _.each(org_ids, function (org_id) {
        if (orgs_can_add.includes(org_id)) {
          return my_permissions.push("add");
        }
      });
    }

    if (flow.perms.users_can_monitor) {
      users_can_monitor = flow.perms.users_can_monitor;

      if (users_can_monitor.includes(user_id)) {
        my_permissions.push("monitor");
      }
    }

    if (flow.perms.orgs_can_monitor) {
      orgs_can_monitor = flow.perms.orgs_can_monitor;

      _.each(org_ids, function (org_id) {
        if (orgs_can_monitor.includes(org_id)) {
          return my_permissions.push("monitor");
        }
      });
    }

    if (flow.perms.users_can_admin) {
      users_can_admin = flow.perms.users_can_admin;

      if (users_can_admin.includes(user_id)) {
        my_permissions.push("admin");
      }
    }

    if (flow.perms.orgs_can_admin) {
      orgs_can_admin = flow.perms.orgs_can_admin;

      _.each(org_ids, function (org_id) {
        if (orgs_can_admin.includes(org_id)) {
          return my_permissions.push("admin");
        }
      });
    }
  }

  my_permissions = _.uniq(my_permissions);
  return my_permissions;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"approve_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/approve_manager.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
approveManager = {}; /*
                         对比approve_values与last_values 对象， 返回approve_values比last_values多出的或者改变的部分
                      */

approveManager.getChangeValues = function (last_values, approve_values) {
  var approve_values_keys, changeValues, last_values_keys;
  changeValues = {};
  last_values_keys = _.keys(last_values);
  approve_values_keys = _.keys(approve_values);
  approve_values_keys.forEach(function (key) {
    if (_.contains(last_values_keys, key)) {
      if (!_.isEqual(last_values[key], approve_values[key])) {
        return changeValues[key] = approve_values[key];
      }
    } else {
      if (approve_values[key] !== '') {
        return changeValues[key] = approve_values[key];
      }
    }
  });
  return changeValues;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/flow_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
flowManager = {};

flowManager.getCategoriesFlows = function (spaceId, categorieId, fields) {
  var categoriesForms;
  categoriesForms = formManager.getCategoriesForms(spaceId, categorieId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: categoriesForms.getProperty("_id")
    }
  });
};

flowManager.getUnCategoriesFlows = function (spaceId, fields) {
  var unCategoriesForms;
  unCategoriesForms = formManager.getUnCategoriesForms(spaceId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: unCategoriesForms.getProperty("_id")
    }
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"form_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/form_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
formManager = {};

formManager.getCategoriesForms = function (spaceId, categorieId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: categorieId,
    state: "enabled"
  }, _fields);
};

formManager.getUnCategoriesForms = function (spaceId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: {
      $in: [null, ""]
    },
    state: "enabled"
  }, _fields);
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/step_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
stepManager = {};

stepManager.allowBatch = function (step) {
  return step.step_type === 'counterSign' && step.allowBatch;
};

stepManager.getStep = function (instance, flow, step_id) {
  var flow_rev, isExistStep;
  flow_rev = instance.flow_version;
  isExistStep = null;

  if (flow.current._id === flow_rev) {
    isExistStep = _.find(flow.current.steps, function (step) {
      return step._id === step_id;
    });
  } else {
    _.each(flow.historys, function (history) {
      if (history._id === flow_rev) {
        return isExistStep = _.find(history.steps, function (step) {
          return step._id === step_id;
        });
      }
    });
  }

  if (!isExistStep) {
    throw new Meteor.Error('error!', "不能获取step");
  }

  return isExistStep;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_manager.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/instance_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval, logger;

_eval = require('eval');
InstanceManager = {};
logger = new Logger('Workflow -> InstanceManager');

InstanceManager.handlerInstanceByFieldMap = function (ins, field_map) {
  var context, e, flow, res, script;
  res = ins;

  if (ins) {
    if (!field_map) {
      flow = db.flows.findOne({
        _id: ins.flow
      }, {
        fields: {
          field_map: 1
        }
      });

      if (flow != null ? flow.field_map : void 0) {
        field_map = flow.field_map;
      }
    }

    if (field_map) {
      context = _.clone(ins);
      context._ = _;
      script = "var instances = " + field_map + "; exports.instances = instances";

      try {
        res = _eval(script, "handlerInstanceByFieldMap", context, false).instances;
      } catch (error) {
        e = error;
        res = {
          _error: e
        };
        logger.error(e);
      }
    }
  }

  return res;
};

InstanceManager.getCurrentApprove = function (instance, handler) {
  var currentApprove, currentApproves, currentTraces;

  if (!instance || !instance.traces || instance.traces.length < 1) {
    return;
  }

  currentTraces = instance.traces.filterProperty('is_finished', false);

  if (currentTraces.length) {
    currentApproves = currentTraces[0].approves.filterProperty('is_finished', false).filterProperty('handler', handler);
    currentApprove = currentApproves.length > 0 ? currentApproves[0] : null;
  }

  if (!currentApprove || currentApprove.type === 'cc') {
    _.each(instance.traces, function (t) {
      _.each(t.approves, function (a) {
        if (a.type === 'cc' && a.user === handler && a.is_finished === false) {
          currentApprove = a;
        }
      });
    });
  }

  if (!currentApprove) {
    return;
  }

  return currentApprove;
};

InstanceManager.getCurrentTrace = function (instance, traceId) {
  return instance.traces.findPropertyByPK("_id", traceId);
};

InstanceManager.getMyApprove = function (instanceId, userId) {
  var flow, instance, my_approve, nextSteps, next_user_ids, step, trace;
  instance = db.instances.findOne({
    _id: instanceId
  });
  flow = uuflowManager.getFlow(instance.flow);
  my_approve = InstanceManager.getCurrentApprove(instance, userId);

  if (my_approve) {
    trace = InstanceManager.getCurrentTrace(instance, my_approve.trace);
    step = uuflowManager.getStep(instance, flow, trace.step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "");

    if (nextSteps.length === 1) {
      next_user_ids = getHandlersManager.getHandlers(instance._id, nextSteps[0]);

      if (next_user_ids.length === 1) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: next_user_ids
        }];
        return my_approve;
      }
    }
  }
};

InstanceManager.getBatchInstances = function (space, categoryId, flowIds, inbox_user) {
  var FIELDS, _batch_instances, categoryFlows, inbox_instances, query, unCategoryFlows;

  _batch_instances = new Array();
  query = {
    space: space,
    inbox_users: inbox_user
  };
  FIELDS = {
    name: 1,
    applicant_name: 1,
    submit_date: 1,
    flow_version: 1,
    "traces.step": 1,
    flow: 1
  };

  if (categoryId) {
    if (categoryId === '-1') {
      unCategoryFlows = flowManager.getUnCategoriesFlows(space, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: unCategoryFlows
      };
    } else {
      categoryFlows = flowManager.getCategoriesFlows(space, categoryId, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: categoryFlows
      };
    }
  }

  if (flowIds) {
    query.flow = {
      $in: flowIds
    };
  }

  inbox_instances = db.instances.find(query, {
    fields: FIELDS,
    skip: 0,
    limit: 100
  });
  inbox_instances.forEach(function (ins) {
    var currentStep, currentStepId, flow;
    currentStepId = _.last(ins.traces).step;
    flow = db.flows.findOne({
      _id: ins.flow
    });
    currentStep = stepManager.getStep(ins, flow, currentStepId);

    if (stepManager.allowBatch(currentStep) && InstanceManager.getMyApprove(ins._id, inbox_user)) {
      delete ins.flow_version;
      delete ins.traces;
      delete ins.flow;
      return _batch_instances.push(ins);
    }
  });
  return _batch_instances;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"publications":{"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/categories.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('categories', function (spaceId) {
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.categories.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      space: 1,
      sort_no: 1,
      app: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/cfs_instances.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('cfs_instances', function (instanceIds) {
  check(instanceIds, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceIds) {
    return this.ready();
  }

  return cfs.instances.find({
    'metadata.instance': {
      $in: instanceIds
    },
    $or: [{
      'metadata.is_private': {
        $ne: true
      }
    }, {
      'metadata.is_private': true,
      "metadata.owner": this.userId
    }]
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_positions', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_positions.find({
    space: spaceId
  }, {
    fields: {
      role: 1,
      users: 1,
      org: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions_tabular.coffee                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publishComposite('flow_positions_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flow_positions.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (position) {
        this.unblock();
        return db.flow_roles.find({
          _id: position.role
        }, {
          fields: {
            name: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.organizations.find({
          _id: position.org
        }, {
          fields: {
            fullname: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.space_users.find({
          space: position.space,
          user: {
            $in: position.users
          }
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_roles.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_roles', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_roles.find({
    space: spaceId
  }, {
    fields: {
      name: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flows.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flows', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (db.flows.find({
    space: spaceId
  }).count() === 0) {
    db.spaces.createTemplateFormAndFlow(spaceId);
  }

  return db.flows.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      company_id: 1,
      sort_no: 1
    }
  });
});
Meteor.publish('flow_version', function (spaceId, flowId, versionId) {
  var getFlowVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFlowVersion = function (id, versionId) {
    var flow, flow_version;
    flow = db.flows.findOne({
      _id: id
    });

    if (flow) {
      flow_version = flow.current;
      flow_version.latest = true;

      if (flow_version._id !== versionId) {
        flow_version = flow.historys.findPropertyByPK("_id", versionId);
        flow_version.latest = false;
      }

      return flow_version;
    }
  };

  handle = db.flows.find({
    _id: flowId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("flow_versions", versionId, getFlowVersion(id, versionId));
    }
  });
  self.added("flow_versions", versionId, getFlowVersion(flowId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('distribute_optional_flows', function (flow_ids) {
  if (!this.userId) {
    return this.ready();
  }

  if (!flow_ids) {
    return this.ready();
  }

  return db.flows.find({
    _id: {
      $in: flow_ids
    }
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publish('flow', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return db.flows.find({
    _id: flowId,
    space: spaceId
  }, {
    fields: {
      print_template: 1,
      instance_template: 1,
      events: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      upload_after_being_distributed: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publishComposite('flows_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flows.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (flow) {
        this.unblock();
        return db.space_users.find({
          space: flow.space,
          user: flow.current.modified_by
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.forms.find({
          space: flow.space,
          _id: flow.form
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1,
            category: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.categories.find({
          space: flow.space
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/forms.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('forms', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.forms.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      category: 1,
      state: 1,
      description: 1,
      instance_style: 1
    }
  });
});
Meteor.publish('form_version', function (spaceId, formId, versionId) {
  var getFormVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!formId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFormVersion = function (id, versionId) {
    var form, form_version;
    form = db.forms.findOne({
      _id: id
    });

    if (!form) {
      return {};
    }

    form_version = form.current;
    form_version.latest = true;

    if (form_version._id !== versionId) {
      form_version = form.historys.findPropertyByPK("_id", versionId);
      form_version.latest = false;
    }

    return form_version;
  };

  handle = db.forms.find({
    _id: formId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("form_versions", versionId, getFormVersion(id, versionId));
    }
  });
  self.added("form_versions", versionId, getFormVersion(formId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_data.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_data.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instance_data', function (instanceId, box) {
  var getMiniInstance, getMyapproveModified, handle, instance, instance_fields_0, miniApproveFields, needChange, self, triggerChangeFields, triggerChangeFieldsValues;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;
  miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description', 'auto_submitted'];
  triggerChangeFields = ['form_version', 'flow_version', 'related_instances', '_my_approve_read_dates'];
  triggerChangeFieldsValues = {};
  instance_fields_0 = {
    "record_synced": 0,
    "traces.approves.handler_organization_name": 0,
    "traces.approves.handler_organization": 0,
    "traces.approves.cost_time": 0,
    "traces.approves.is_error": 0,
    "traces.approves.deadline": 0,
    "traces.approves.remind_date": 0,
    "traces.approves.reminded_count": 0,
    "traces.approves.modified_by": 0,
    "traces.approves.modified": 0,
    "traces.approves.geolocation": 0,
    "traces.approves.cc_users": 0,
    "traces.approves.from_approve_id": 0,
    "traces.approves.values_history": 0
  };

  getMyapproveModified = function (traces) {
    var myApproveModifieds;
    myApproveModifieds = new Array();

    if (traces != null) {
      traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.user === self.userId || approve.handler === self.userId) {
            return myApproveModifieds.push(approve.read_date);
          }
        }) : void 0 : void 0;
      });
    }

    return myApproveModifieds;
  };

  getMiniInstance = function (_instanceId) {
    var instance, ref, ref1, show_modal_traces_list, traces;
    instance = db.instances.findOne({
      _id: _instanceId
    }, {
      fields: instance_fields_0
    });

    if (instance) {
      triggerChangeFields.forEach(function (key) {
        if (key === '_my_approve_read_dates') {
          return triggerChangeFieldsValues[key] = getMyapproveModified(instance.traces);
        } else {
          return triggerChangeFieldsValues[key] = instance[key];
        }
      });
      show_modal_traces_list = ((ref = db.space_settings.findOne({
        space: instance.space,
        key: "show_modal_traces_list"
      }, {
        fields: {
          values: 1
        }
      })) != null ? ref.values : void 0) || false;

      if (show_modal_traces_list) {
        traces = new Array();

        if (instance != null) {
          if ((ref1 = instance.traces) != null) {
            ref1.forEach(function (trace) {
              var _trace, approves, ref2;

              _trace = _.clone(trace);
              approves = new Array();

              if (trace != null) {
                if ((ref2 = trace.approves) != null) {
                  ref2.forEach(function (approve) {
                    if (approve.type !== 'cc' || approve.user === self.userId || approve.handler === self.userId || !_.isEmpty(approve.sign_field_code)) {
                      return approves.push(approve);
                    }
                  });
                }
              }

              _trace.approves = approves;
              return traces.push(_trace);
            });
          }
        }

        instance.traces = traces;
      }
    }

    return instance;
  };

  needChange = function (changeFields) {
    var _change, _rev;

    if (changeFields) {
      _change = false;
      _rev = _.find(triggerChangeFields, function (key) {
        var _key, _my_approve_modifieds;

        _key = key;

        if (key === '_my_approve_read_dates') {
          _key = 'traces';
        }

        if (_.has(changeFields, _key)) {
          if (key === '_my_approve_read_dates') {
            _my_approve_modifieds = getMyapproveModified(changeFields.traces);
            return !_.isEqual(triggerChangeFieldsValues[key], _my_approve_modifieds);
          } else {
            return !_.isEqual(triggerChangeFieldsValues[key], changeFields[key]);
          }
        }
      });

      if (_rev) {
        _change = true;
      }

      return _change;
    }

    return true;
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id, fields) {
      if (box !== 'inbox' || needChange(fields)) {
        return self.changed("instances", id, getMiniInstance(id));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  instance = getMiniInstance(instanceId);
  self.added("instances", instance != null ? instance._id : void 0, instance);
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('instance_traces', function (instanceId) {
  var getInstanceTraces, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;

  getInstanceTraces = function (_insId) {
    return db.instances.findOne({
      _id: _insId
    }, {
      fields: {
        _id: 1,
        traces: 1
      }
    });
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id) {
      return self.changed("instance_traces", instanceId, getInstanceTraces(instanceId));
    }
  });
  self.added("instance_traces", instanceId, getInstanceTraces(instanceId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_list.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_list.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_list', function (spaceId, box, flowId) {
  var query;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  query = {
    space: spaceId
  };

  if (box === "inbox") {
    query.inbox_users = this.userId;
  } else if (box === "outbox") {
    query.outbox_users = this.userId;
  } else if (box === "draft") {
    query.submitter = this.userId;
    query.state = "draft";
  } else if (box === "pending") {
    query.submitter = this.userId;
    query.state = "pending";
  } else if (box === "completed") {
    query.submitter = this.userId;
    query.state = "completed";
  } else if (box === "monitor") {
    query.flow = flowId;
    query.state = {
      $in: ["pending", "completed"]
    };
  } else {
    query.state = "none";
  }

  return db.instances.find(query, {
    fields: {
      name: 1,
      created: 1,
      form: 1,
      flow: 1,
      space: 1,
      modified: 1,
      applicant: 1,
      is_archived: 1,
      form_version: 1,
      flow_version: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_tabular.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var asyncLastFinishedApprove, lastFinishedApproveAggregate;

lastFinishedApproveAggregate = function (instanceid, userId, dataMap, callback) {
  var operation;
  operation = [{
    "$match": {
      "_id": instanceid
    }
  }, {
    "$project": {
      "name": 1,
      "_approve": "$traces.approves"
    }
  }, {
    "$unwind": "$_approve"
  }, {
    "$unwind": "$_approve"
  }, {
    "$match": {
      "_approve.is_finished": true,
      $or: [{
        "_approve.handler": userId
      }, {
        "_approve.user": userId
      }]
    }
  }, {
    "$group": {
      "_id": "$_id",
      "finish_date": {
        "$last": "$_approve.finish_date"
      }
    }
  }];
  return db.instances.rawCollection().aggregate(operation).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return dataMap.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

asyncLastFinishedApprove = Meteor.wrapAsync(lastFinishedApproveAggregate);
Meteor.publish("instance_tabular", function (tableName, ids, fields) {
  var getMyApprove, getMyLastFinishedApprove, getStepCurrentName, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  fields.cc_users = 1;
  self = this;

  getMyLastFinishedApprove = function (userId, instanceId) {
    var data;
    data = [];
    asyncLastFinishedApprove(instanceId, userId, data);

    if (data.length > 0) {
      return data[0];
    }
  };

  getMyApprove = function (userId, instanceId) {
    var approve, approves, instance, is_read, myApprove, notFinishedTraces;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        traces: 1
      }
    });
    myApprove = null;

    if (!instance) {
      return;
    }

    if (!instance.traces || instance.traces.length < 1) {
      return;
    }

    notFinishedTraces = instance.traces.filterProperty("is_finished", false);

    if (notFinishedTraces.length > 0) {
      approves = notFinishedTraces[0].approves.filterProperty("is_finished", false).filterProperty("handler", userId);

      if (approves.length > 0) {
        approve = approves[0];
        myApprove = {
          id: approve._id,
          instance: approve.instance,
          trace: approve.trace,
          is_read: approve.is_read,
          start_date: approve.start_date,
          agent: approve.agent,
          user_name: approve.user_name
        };
      }
    }

    if (!myApprove) {
      is_read = false;
      instance.traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.type === 'cc' && approve.user === userId && approve.is_finished === false) {
            if (approve.is_read) {
              is_read = true;
            }

            return myApprove = {
              id: approve._id,
              is_read: is_read,
              start_date: approve.start_date,
              agent: approve.agent,
              user_name: approve.user_name
            };
          }
        }) : void 0 : void 0;
      });
    }

    return myApprove;
  };

  getStepCurrentName = function (instanceId) {
    var instance, ref, ref1, stepCurrentName;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        "traces.name": 1,
        "traces": {
          $slice: -1
        }
      }
    });

    if (instance) {
      stepCurrentName = (ref = instance.traces) != null ? (ref1 = ref[0]) != null ? ref1.name : void 0 : void 0;
    }

    return stepCurrentName;
  };

  handle = db.instances.find({
    _id: {
      $in: ids
    }
  }, {
    fields: {
      traces: 0
    }
  }).observeChanges({
    changed: function (id) {
      var instance, myApprove, myLastFinishedApprove, ref, ref1;
      instance = db.instances.findOne({
        _id: id
      }, {
        fields: fields
      });

      if (!instance) {
        return;
      }

      myApprove = getMyApprove(self.userId, id);
      myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

      if (myApprove) {
        instance.is_read = myApprove.is_read;
        instance.start_date = myApprove.start_date;

        if (myApprove.agent) {
          instance.agent_user_name = myApprove.user_name;
        }
      } else {
        instance.is_read = true;
      }

      if (myLastFinishedApprove) {
        instance.my_finish_date = myLastFinishedApprove.finish_date;
      }

      instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
      instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
      delete instance.cc_users;
      return self.changed("instances", id, instance);
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  ids.forEach(function (id) {
    var instance, myApprove, myLastFinishedApprove, ref, ref1;
    instance = db.instances.findOne({
      _id: id
    }, {
      fields: fields
    });

    if (!instance) {
      return;
    }

    myApprove = getMyApprove(self.userId, id);
    myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

    if (myApprove) {
      instance.is_read = myApprove.is_read;
      instance.start_date = myApprove.start_date;

      if (myApprove.agent) {
        instance.agent_user_name = myApprove.user_name;
      }
    } else {
      instance.is_read = true;
    }

    if (myLastFinishedApprove) {
      instance.my_finish_date = myLastFinishedApprove.finish_date;
    }

    instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
    instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
    delete instance.cc_users;
    return self.added("instances", id, instance);
  });
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_draft.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_draft', function (spaceId) {
  var userId;
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  userId = this.userId;
  return db.instances.find({
    state: "draft",
    space: spaceId,
    submitter: userId,
    $or: [{
      inbox_users: {
        $exists: false
      }
    }, {
      inbox_users: []
    }]
  }, {
    fields: {
      _id: 1,
      state: 1,
      space: 1,
      submitter: 1,
      inbox_users: 1,
      modified: 1,
      name: 1
    },
    sort: {
      modified: -1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distributed_instances_state_by_ids.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/distributed_instances_state_by_ids.coffee                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('distributed_instances_state_by_ids', function (instance_ids) {
  var handle, self;
  check(instance_ids, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instance_ids) {
    return this.ready();
  }

  if (_.isEmpty(instance_ids)) {
    return this.ready();
  }

  self = this;
  handle = db.instances.find({
    _id: {
      $in: instance_ids
    }
  }, {
    fields: {
      state: 1,
      traces: {
        $slice: 1
      }
    }
  }).observeChanges({
    added: function (id, fields) {
      return self.added('instances', id, {
        state: fields.state,
        is_read: fields.traces[0].approves[0].is_read
      });
    },
    changed: function (id, fields) {
      if (fields.state) {
        self.changed('instances', id, {
          state: fields.state
        });
      }

      if (fields.traces) {
        return self.changed('instances', id, {
          is_read: fields.traces[0].approves[0].is_read
        });
      }
    }
  });
  this.ready();
  return this.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/related_instaces.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('related_instaces', function (instanceId, related_instances) {
  var ref, related_instance_ids;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  related_instance_ids = (ref = db.instances.findOne(instanceId, {
    fields: {
      related_instances: 1
    }
  })) != null ? ref.related_instances : void 0;

  if (related_instance_ids && _.isArray(related_instance_ids)) {
    return db.instances.find({
      _id: {
        $in: related_instance_ids
      }
    }, {
      fields: {
        _id: 1,
        name: 1,
        space: 1
      }
    });
  } else {
    return this.ready();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/space_user_signs.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isServer) {
  Meteor.publish('space_user_signs', function (spaceId) {
    check(spaceId, String);

    if (!this.userId) {
      return this.ready();
    }

    return db.space_user_signs.find({
      space: spaceId
    }, {
      fields: {
        created_by: 0,
        created: 0,
        modified_by: 0
      }
    });
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"user_inbox_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/user_inbox_instance.coffee                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Meteor.publishComposite "user_inbox_instance", ()->
	unless this.userId
		return this.ready()

	userSpaceIds = db.space_users.find({
		user: this.userId,
		user_accepted: true
	}, {fields: {space: 1}}).fetch().getEach("space");
	query = {space: {$in: userSpaceIds}}

	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]

	find: ->
		db.instances.find(query, {
			fields: {
				space: 1,
				applicant_name: 1,
				flow: 1,
				inbox_users: 1,
				cc_users: 1,
				state: 1,
				name: 1,
				modified: 1,
				form: 1
			}, sort: {modified: -1}, skip: 0, limit: 200
		});
	children: [
		{
			find: (instance, post)->
				db.flows.find({_id: instance.flow}, {fields: {name: 1, space: 1}});
		}
	]
 */ /*
    Meteor.publish 'my_inbox_instances', (spaceId)->
    	unless this.userId
    		return this.ready()
    
    	self = this;
    
    	 *	userSpaceIds = db.space_users.find({
    	 *		user: this.userId,
    	 *		user_accepted: true
    	 *	}, {fields: {space: 1}}).fetch().getEach("space");
    
    	query = {space: spaceId}
    
    	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]
    
    	fields = {
    		space: 1,
     *		applicant_name: 1,
    		flow: 1,
    		inbox_users: 1,
    		cc_users: 1,
    		state: 1,
     *		name: 1,
     *		modified: 1,
    		form: 1
    	}
    
    	handle = db.instances.find(query, {sort: {modified: -1}, skip: 0, limit: 500}).observeChanges {
    		added: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.added("instances", id, instance)
    		changed: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.changed("instances", id, instance);
    		removed: (id)->
    			self.removed("instances", id);
    	}
    
    	self.ready();
    	self.onStop ()->
    		handle.stop()
     */var _async_get_flow_instances_aggregate, _get_flow_instances_aggregate;

_get_flow_instances_aggregate = function (spaceId, userId, _items, callback) {
  return db.instances.rawCollection().aggregate([{
    $match: {
      space: spaceId,
      $or: [{
        inbox_users: userId
      }, {
        cc_users: userId
      }]
    }
  }, {
    $group: {
      _id: {
        flow: "$flow",
        category: "$category"
      },
      count: {
        $sum: 1
      }
    }
  }]).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return _items.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

_async_get_flow_instances_aggregate = Meteor.wrapAsync(_get_flow_instances_aggregate);
Meteor.publish('my_inbox_flow_instances_count', function (spaceId) {
  var _changeData, _flowsData, _init, data, handle, query, self;

  if (!this.userId) {
    return this.ready();
  }

  self = this;
  query = {
    space: spaceId
  };
  query.$or = [{
    inbox_users: this.userId
  }, {
    cc_users: this.userId
  }];
  data = [];

  _async_get_flow_instances_aggregate(spaceId, self.userId, data);

  _flowsData = [];

  _.each(data, function (dataItem) {
    return _flowsData.push({
      _id: dataItem._id.flow,
      category: dataItem._id.category,
      count: dataItem.count
    });
  });

  self.added("flow_instances", spaceId, {
    flows: _flowsData
  });

  _changeData = function (doc, action) {
    var flow_instance;
    flow_instance = _.find(_flowsData, function (f) {
      return f._id === doc.flow;
    });

    if (flow_instance) {
      if (action === "added") {
        flow_instance.count++;
      } else if (action === "removed") {
        flow_instance.count--;
      }
    } else if (action === "added") {
      _flowsData.push({
        _id: doc.flow,
        category: doc.category,
        count: 1
      });
    }

    return self.changed("flow_instances", spaceId, {
      flows: _flowsData
    });
  };

  _init = true;
  handle = db.instances.find(query, {
    fields: {
      _id: 1,
      inbox_users: 1,
      cc_users: 1,
      flow: 1,
      category: 1
    }
  }).observe({
    added: function (doc) {
      if (!_init) {
        return _changeData(doc, "added");
      }
    },
    removed: function (doc) {
      if (!_init) {
        return _changeData(doc, "removed");
      }
    }
  });
  _init = false;
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_main_attach_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_main_attach_template.coffee                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_main_attach_template', function (spaceId, flowId) {
  check(spaceId, String);
  check(flowId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!(spaceId && flowId)) {
    return this.ready();
  }

  return Creator.getCollection('cms_files').find({
    space: spaceId,
    'parent.o': 'flows',
    'parent.ids': flowId,
    name: '正文.docx'
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"flow-template":{"workflow_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/flow-template/workflow_template.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
workflowTemplate = {};
workflowTemplate["en"] = [];
workflowTemplate["zh-CN"] = [];
Meteor.startup(function () {
  var absolute_path_cn, absolute_path_us, filesList_cn, filesList_us, fs, mime, path, path_cn, path_us, readFileList, ref, ref1;
  fs = require('fs');
  path = require('path');
  mime = require('mime');

  readFileList = function (pathDir, filesList) {
    var files;
    files = fs.readdirSync(pathDir);
    return files.forEach(function (name, index) {
      var obj, stat;
      stat = fs.statSync(path.join(pathDir, name));

      if (stat.isDirectory()) {
        return readFileList(path.join(pathDir, name), filesList);
      } else {
        obj = {};
        obj.path = pathDir;
        obj.name = name;
        return filesList.push(obj);
      }
    });
  };

  filesList_cn = [];
  path_cn = (ref = Meteor.settings.workflowTemplates) != null ? ref.path_cn : void 0;

  if (path_cn) {
    absolute_path_cn = path.resolve(path_cn);
    console.log("absolute_path_cn", absolute_path_cn);

    if (fs.existsSync(absolute_path_cn)) {
      readFileList(absolute_path_cn, filesList_cn);
      filesList_cn.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["zh-CN"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取zh-cn文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }

  filesList_us = [];
  path_us = (ref1 = Meteor.settings.workflowTemplates) != null ? ref1.path_us : void 0;

  if (path_us) {
    absolute_path_us = path.resolve(path_us);
    console.log("absolute_path_us", absolute_path_us);

    if (fs.existsSync(absolute_path_us)) {
      readFileList(absolute_path_us, filesList_us);
      return filesList_us.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["en"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取en-us文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/startup.coffee                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"schedule":{"auto_finish_process_delegation.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/auto_finish_process_delegation.coffee                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.auto_finish_process_delegation : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.auto_finish_process_delegation;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e, now;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('auto_finish_process_delegation');
        now = new Date();
        db.process_delegation_rules.update({
          enabled: true,
          end_time: {
            $lte: now
          }
        }, {
          $set: {
            enabled: false
          }
        }, {
          multi: true
        });
        console.timeEnd('auto_finish_process_delegation');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO AUTO_FINISH_PROCESS_DELEGATION ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function () {
      return console.log('Failed to bind environment');
    }));
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeout_auto_submit.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/timeout_auto_submit.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.timeout_auto_submit : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.timeout_auto_submit;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('timeout_auto_submit');
        uuflowManager.timeoutAutoSubmit();
        console.timeEnd('timeout_auto_submit');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO TIMEOUT_AUTO_SUBMIT ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function () {
      return console.log('Failed to bind environment');
    }));
  }
});
Meteor.methods({
  timeout_auto_submit: function (ins_id) {
    uuflowManager.timeoutAutoSubmit(ins_id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"routes":{"nextStepUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/nextStepUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/nextStepUsers", function (req, res, next) {
  var deal_type = req.query.deal_type,
      spaceId = req.query.spaceId,
      error = "";

  if (!deal_type || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var body = req.body,
      nextStepUsers = [];

  switch (deal_type) {
    case 'specifyUser':
      var specifyUserIds = body.specifyUserIds;
      nextStepUsers = WorkflowManager.getUsers(spaceId, specifyUserIds);
      break;

    case 'applicantRole':
      var applicantId = body.applicantId,
          approveRoleIds = body.approveRoleIds;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);
      if (applicant) nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, applicant.organizations, approveRoleIds);
      break;

    case 'applicantSuperior':
      var applicantId = body.applicantId;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);

      if (applicant.manager) {
        nextStepUsers = WorkflowManager.getUsers(spaceId, applicant.manager);
      }

      break;

    case 'applicant':
      var applicantId = body.applicantId;
      nextStepUsers = WorkflowManager.getUsers(spaceId, applicantId);
      break;

    case 'userField':
      var userField = body.userField,
          userFieldValue = body.userFieldValue;

      if (userField.is_multiselect) {
        //如果多选，以userFieldValue值为Array
        nextStepUsers = WorkflowManager.getUsers(spaceId, userFieldValue);
      } else {
        nextStepUsers.push(WorkflowManager.getUser(spaceId, userFieldValue));
      }

      break;

    case 'orgField':
      var orgs,
          orgChildrens,
          orgField = body.orgField,
          orgFieldValue = body.orgFieldValue;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          orgs = WorkflowManager.getOrganizations(orgFieldValue);
          orgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, orgFieldValue);
        } else {
          orgs = [WorkflowManager.getOrganization(orgFieldValue)];
          orgChildrens = WorkflowManager.getOrganizationChildrens(spaceId, orgFieldValue);
        }

        nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgChildrens);
        orgFieldUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgs);
        nextStepUsers = nextStepUsers.concat(orgFieldUsers);

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ORG_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'specifyOrg':
      var specifyOrgIds = body.specifyOrgIds;
      var specifyOrgs = WorkflowManager.getOrganizations(specifyOrgIds);
      var specifyOrgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, specifyOrgIds);
      nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgs);
      nextStepUsers = nextStepUsers.concat(WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgChildrens));
      break;

    case 'userFieldRole':
      var userField = body.userField,
          userFieldValue = body.userFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (userFieldValue) {
        if (userField.is_multiselect) {
          //如果多选，以userFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, userFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, [userFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'orgFieldRole':
      var orgField = body.orgField,
          orgFieldValue = body.orgFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, orgFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, [orgFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    default:
      break;
  }

  var result = [];
  nextStepUsers.forEach(function (su) {
    var o = {
      id: su.id,
      name: su.name
    };
    result.push(o);
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'nextStepUsers': WorkflowManager.uniqUsers(result),
      'error': error
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getSpaceUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getSpaceUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getSpaceUsers", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getUsers(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getFormulaUserObjects.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getFormulaUserObjects.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getFormulaUserObjects", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var users = WorkflowManager.getFormulaUserObject(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': users
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"init_formula_values.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/init_formula_values.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/init_formula_values", function (req, res, next) {
  var fields = req.body.fields,
      autoFormDoc = req.body.autoFormDoc,
      approver = req.body.approver,
      applicant = req.body.applicant,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!fields || !spaceId || !autoFormDoc || !approver || !applicant) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
    return;
  }

  formula_values = Form_formula.init_formula_values(fields, autoFormDoc, approver, applicant, spaceId);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'formula_values': formula_values
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getNameForUser.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getNameForUser.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/getNameForUser", function (req, res, next) {
  var e, user, userId;

  try {
    userId = req.body.userId;

    if (!userId) {
      JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'errors': '缺少参数'
        }
      });
    }

    user = WorkflowManager.getNameForUser(userId);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        user: user
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_designer_startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_designer_startup.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/designer/startup', function (req, res, next) {
  var categories, companyId, current_user, current_user_info, e, flows, forms, org, organizations, positions, query, ref, result, roles, spaceIds, spaceUsers, spaces, spacesQuery, userIds, users;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    companyId = ((ref = req.query) != null ? ref.companyId : void 0) || '';
    spacesQuery = {
      admins: current_user
    };

    if (companyId) {
      org = db.organizations.findOne(companyId, {
        fields: {
          space: 1
        }
      });

      if (!org) {
        throw new Meteor.Error('error', 'companyId is invalid');
      }

      spacesQuery = {
        _id: org.space
      };
    }

    spaces = db.spaces.find(spacesQuery).fetch();
    spaceIds = _.pluck(spaces, '_id');
    query = {
      space: {
        $in: spaceIds
      }
    };

    if (companyId) {
      query.company_id = companyId;
    }

    spaceUsers = db.space_users.find(query).fetch();
    forms = db.forms.find(query, {
      fields: {
        name: 1,
        state: 1,
        is_deleted: 1,
        is_valid: 1,
        space: 1,
        description: 1,
        help_text: 1,
        created: 1,
        created_by: 1,
        current: 1,
        category: 1,
        instance_style: 1,
        company_id: 1
      }
    }).fetch();
    flows = db.flows.find(query, {
      fields: {
        name: 1,
        name_formula: 1,
        code_formula: 1,
        space: 1,
        description: 1,
        is_valid: 1,
        form: 1,
        flowtype: 1,
        state: 1,
        is_deleted: 1,
        created: 1,
        created_by: 1,
        help_text: 1,
        current_no: 1,
        current: 1,
        perms: 1,
        error_message: 1,
        distribute_optional_users: 1,
        company_id: 1
      }
    }).fetch();
    roles = db.flow_roles.find(query).fetch();
    organizations = db.organizations.find(query).fetch();
    positions = db.flow_positions.find(query).fetch();
    categories = db.categories.find({
      space: {
        $in: spaceIds
      }
    }).fetch();
    userIds = _.pluck(spaceUsers, 'user');
    users = db.users.find({
      _id: {
        $in: userIds
      }
    }, {
      fields: {
        name: 1
      }
    }).fetch();
    result = {};
    result.SpaceUsers = spaceUsers;
    result.Users = users;
    result.Forms = forms;
    result.Flows = flows;
    result.Organizations = organizations;
    result.Positions = positions;
    result.Roles = roles;
    result.Categories = categories;
    result.Spaces = spaces;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: result
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_engine.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_engine.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/engine', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Approvals'], function (approve_from_client) {
      return uuflowManager.workflow_engine(approve_from_client, current_user_info, current_user);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_drafts.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/drafts', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var new_ins, new_ins_id;
      new_ins_id = uuflowManager.create_instance(instance_from_client, current_user_info);
      new_ins = db.instances.findOne({
        _id: new_ins_id
      }, {
        fields: {
          space: 1,
          flow: 1,
          flow_version: 1,
          form: 1,
          form_version: 1
        }
      });
      return inserted_instances.push(new_ins);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_remove.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_remove.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/remove', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, delete_obj, flow, inbox_users, instance, space, spaceUserOrganizations, space_id, space_user, user_ids;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      flow = db.flows.findOne({
        _id: instance.flow
      });
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: space_user.organizations
        }
      }).fetch();

      if (instance.submitter !== current_user && !space.admins.includes(current_user) && !WorkflowManager.canAdmin(flow, space_user, spaceUserOrganizations)) {
        throw new Meteor.Error('error!', "您不能删除此申请单。");
      }

      delete_obj = db.instances.findOne(instance_from_client["_id"]);
      delete_obj.deleted = new Date();
      delete_obj.deleted_by = current_user;
      db.deleted_instances.insert(delete_obj);
      db.instances.remove(instance_from_client["_id"]);

      if (delete_obj.state !== "draft") {
        inbox_users = delete_obj.inbox_users ? delete_obj.inbox_users : [];
        cc_users = delete_obj.cc_users ? delete_obj.cc_users : [];
        user_ids = _.uniq(inbox_users.concat(cc_users));

        _.each(user_ids, function (u_id) {
          return pushManager.send_message_to_specifyUser("terminate_approval", u_id);
        });

        return pushManager.send_instance_notification("monitor_delete_applicant", delete_obj, "", current_user_info);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_submit.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/submit', function (req, res, next) {
  var current_user, current_user_info, e, hashData, result;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    result = [];

    _.each(hashData['Instances'], function (instance_from_client) {
      var current_approve, flow_id, instance, r;
      r = uuflowManager.submit_instance(instance_from_client, current_user_info);

      if (r.alerts) {
        result.push(r);
      }

      if (!_.isEmpty(instance_from_client['inbox_users'])) {
        pushManager.send_message_to_specifyUser("current_user", current_user);
      }

      if (_.isEmpty(r.alerts)) {
        instance = db.instances.findOne(instance_from_client._id);
        flow_id = instance.flow;
        current_approve = instance_from_client.traces[0].approves[0];
        pushManager.triggerWebhook(flow_id, instance, current_approve, 'draft_submit', current_user, instance.inbox_users);
      }

      return uuflowManager.distributedInstancesRemind(instance_from_client);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        result: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_terminate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_terminate.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/terminate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var flow, flow_id, flow_ver_end_step, flow_vers, h, i, ins, instance, instance_flow_ver, instance_id, instance_trace, newApprove, newTrace, now, old_cc_users, old_inbox_users, old_outbox_users, permissions, r, setObj, space, space_id, space_user, space_user_org_info, tempUsers, terminate_reason, traces;
      terminate_reason = instance_from_client["terminate_reason"];
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      flow_id = instance.flow;
      space = uuflowManager.getSpace(space_id);
      flow = uuflowManager.getFlow(flow_id);
      uuflowManager.isInstancePending(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_flow_ver = null;
      flow_ver_end_step = null;
      flow_vers = new Array();
      flow_vers.push(flow.current);
      flow_vers = flow_vers.concat(flow.historys);
      instance_flow_ver = _.find(flow_vers, function (f_ver) {
        return f_ver._id === instance.flow_version;
      });

      if (!instance_flow_ver) {
        throw new Meteor.Error('error!', "未找到申请单对应流程版本");
      }

      flow_ver_end_step = _.find(instance_flow_ver.steps, function (f_step) {
        return f_step.step_type === "end";
      });
      permissions = permissionManager.getFlowPermissions(flow_id, current_user);
      now = new Date();
      setObj = new Object();

      if (permissions.includes("admin") || space.admins.includes(current_user) || instance.submitter === current_user || instance.applicant === current_user) {
        if (!terminate_reason) {
          throw new Meteor.Error('error!', "还未填写强制结束申请单的理由，操作失败");
        }

        instance_trace = _.find(instance.traces, function (trace) {
          return trace.is_finished === false;
        });
        traces = instance.traces;
        i = 0;

        while (i < traces.length) {
          if (traces[i].is_finished === false) {
            traces[i].is_finished = true;
            traces[i].finish_date = now;
            h = 0;

            while (h < traces[i].approves.length) {
              if (traces[i].approves[h].is_finished === false) {
                traces[i].approves[h].is_finished = true;
                traces[i].approves[h].finish_date = now;
                traces[i].approves[h].judge = null;
                traces[i].approves[h].description = null;
              }

              h++;
            }

            newApprove = new Object();
            newApprove._id = new Mongo.ObjectID()._str;
            newApprove.instance = instance_id;
            newApprove.trace = instance_trace._id;
            newApprove.is_finished = true;
            newApprove.user = current_user;
            newApprove.user_name = current_user_info.name;
            newApprove.handler = current_user;
            newApprove.handler_name = current_user_info.name;
            newApprove.handler_organization = space_user_org_info["organization"];
            newApprove.handler_organization_name = space_user_org_info["organization_name"];
            newApprove.handler_organization_fullname = space_user_org_info["organization_fullname"];
            newApprove.start_date = now;
            newApprove.finish_date = now;
            newApprove.due_date = instance_trace.due_date;
            newApprove.read_date = now;
            newApprove.judge = "terminated";
            newApprove.is_read = true;
            newApprove.description = terminate_reason;
            newApprove.is_error = false;
            newApprove.values = new Object();
            newApprove.cost_time = newApprove.finish_date - newApprove.start_date;
            traces[i].approves.push(newApprove);
          }

          i++;
        }

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [instance_trace._id];
        newTrace.is_finished = true;
        newTrace.step = flow_ver_end_step._id;
        newTrace.name = flow_ver_end_step.name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.judge = "terminated";
        setObj.state = "completed";
        setObj.final_decision = "terminated";
        old_inbox_users = instance.inbox_users;
        old_cc_users = instance.cc_users;
        old_outbox_users = instance.outbox_users;
        tempUsers = new Array();

        _.each(instance_trace.approves, function (nft_approve) {
          tempUsers.push(nft_approve.user);
          return tempUsers.push(nft_approve.handler);
        });

        setObj.outbox_users = _.uniq(instance.outbox_users.concat(tempUsers));
        setObj.inbox_users = new Array();
        setObj.cc_users = new Array();
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.current_step_name = flow_ver_end_step.name;
        setObj.current_step_auto_submit = false;
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          ins = uuflowManager.getInstance(instance_id);
          pushManager.send_instance_notification("submit_terminate_applicant", ins, terminate_reason, current_user_info);

          if (old_inbox_users) {
            _.each(_.uniq(old_inbox_users.concat(old_cc_users)), function (user_id) {
              return pushManager.send_message_to_specifyUser("terminate_approval", user_id);
            });
          }

          return pushManager.triggerWebhook(ins.flow, ins, {}, 'terminate', current_user, []);
        }
      }
    });

    pushManager.send_message_current_user(current_user_info);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_reassign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_reassign.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/reassign', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, approve_users_handlers, assignee_appr, current_space_user, current_user_organization, i, inbox_users, inbox_users_from_client, ins, instance, instance_id, last_trace, last_trace_from_client, new_inbox_users, not_in_inbox_users, now, permissions, r, reassign_reason, setObj, space, space_id;

      instance_id = instance_from_client['_id'];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      uuflowManager.isInstancePending(instance);
      last_trace_from_client = _.last(instance_from_client["traces"]);
      last_trace = _.find(instance.traces, function (t) {
        return t._id === last_trace_from_client["_id"];
      });

      if (last_trace.is_finished === true) {
        return;
      }

      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne({
        _id: space_id
      }, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      inbox_users = instance.inbox_users;
      inbox_users_from_client = instance_from_client["inbox_users"];
      reassign_reason = instance_from_client["reassign_reason"];
      not_in_inbox_users = _.difference(inbox_users, inbox_users_from_client);
      new_inbox_users = _.difference(inbox_users_from_client, inbox_users);

      if (not_in_inbox_users.length === 0 && new_inbox_users.length === 0) {
        return;
      }

      setObj = new Object();
      now = new Date();
      i = 0;
      approve_users_handlers = [];

      while (i < last_trace.approves.length) {
        if (not_in_inbox_users.includes(last_trace.approves[i].handler)) {
          if (last_trace.approves[i].is_finished === false && last_trace.approves[i].type !== "cc" && last_trace.approves[i].type !== "distribute") {
            last_trace.approves[i].is_finished = true;
            last_trace.approves[i].finish_date = now;
            last_trace.approves[i].judge = "terminated";
            last_trace.approves[i].description = "";
            last_trace.approves[i].cost_time = last_trace.approves[i].finish_date - last_trace.approves[i].start_date;
            approve_users_handlers.push(last_trace.approves[i].user);
            approve_users_handlers.push(last_trace.approves[i].handler);
          }
        }

        i++;
      }

      current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
      current_user_organization = db.organizations.findOne({
        _id: current_space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      assignee_appr = new Object();
      assignee_appr._id = new Mongo.ObjectID()._str;
      assignee_appr.instance = last_trace.instance;
      assignee_appr.trace = last_trace._id;
      assignee_appr.is_finished = true;
      assignee_appr.user = current_user;
      assignee_appr.user_name = current_user_info.name;
      assignee_appr.handler = current_user;
      assignee_appr.handler_name = current_user_info.name;
      assignee_appr.handler_organization = current_space_user.organization;
      assignee_appr.handler_organization_name = current_user_organization.name;
      assignee_appr.handler_organization_fullname = current_user_organization.fullname;
      assignee_appr.start_date = now;
      assignee_appr.finish_date = now;
      assignee_appr.due_date = last_trace.due_date;
      assignee_appr.read_date = now;
      assignee_appr.judge = "reassigned";
      assignee_appr.is_read = true;
      assignee_appr.description = reassign_reason;
      assignee_appr.is_error = false;
      assignee_appr.values = new Object();
      assignee_appr.cost_time = assignee_appr.finish_date - assignee_appr.start_date;
      last_trace.approves.push(assignee_appr);

      _.each(new_inbox_users, function (user_id) {
        var agent, handler_id, handler_info, new_appr, new_user, space_user, user_organization;
        new_user = db.users.findOne(user_id, {
          fields: {
            name: 1
          }
        });
        space_user = uuflowManager.getSpaceUser(space_id, user_id);
        user_organization = db.organizations.findOne(space_user.organization, {
          fields: {
            name: 1,
            fullname: 1
          }
        });
        new_appr = new Object();
        new_appr._id = new Mongo.ObjectID()._str;
        new_appr.instance = last_trace.instance;
        new_appr.trace = last_trace._id;
        new_appr.is_finished = false;
        new_appr.user = user_id;
        new_appr.user_name = new_user.name;
        handler_id = user_id;
        handler_info = new_user;
        agent = uuflowManager.getAgent(space_id, user_id);

        if (agent) {
          inbox_users_from_client[inbox_users_from_client.indexOf(user_id)] = agent;
          handler_id = agent;
          handler_info = db.users.findOne({
            _id: agent
          }, {
            fields: {
              name: 1
            }
          });
          new_appr.agent = agent;
        }

        new_appr.handler = handler_id;
        new_appr.handler_name = handler_info.name;
        new_appr.handler_organization = space_user.organization;
        new_appr.handler_organization_name = user_organization.name;
        new_appr.handler_organization_fullname = user_organization.fullname;
        new_appr.from_user = current_user;
        new_appr.from_user_name = current_user_info.name;
        new_appr.type = "reassign";
        new_appr.start_date = now;
        new_appr.due_date = last_trace.due_date;
        new_appr.is_read = false;
        new_appr.is_error = false;
        new_appr.values = new Object();
        uuflowManager.setRemindInfo(instance.values, new_appr);
        return last_trace.approves.push(new_appr);
      });

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(approve_users_handlers);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.inbox_users = inbox_users_from_client;
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj["traces.$.approves"] = last_trace.approves;
      r = db.instances.update({
        _id: instance_id,
        "traces._id": last_trace._id
      }, {
        $set: setObj
      });

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, reassign_reason, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'reassign', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_relocate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_relocate.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/relocate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, ah, approve_users, current_setp, current_setp_type, current_space_user, current_user_organization, flow, h, i, inbox_users, ins, instance, instance_id, l, last_trace, newTrace, new_inbox_users, next_step, next_step_name, next_step_type, not_in_inbox_users, now, permissions, r, relocate_appr, relocate_comment, relocate_inbox_users, relocate_next_step, sameTraces, setObj, signShowApproveId, space, space_id, ta, ti, traces;

      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      last_trace = _.last(instance.traces);
      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne(instance.space, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      space_id = instance.space;
      instance_id = last_trace.instance;
      inbox_users = instance.inbox_users;
      relocate_inbox_users = instance_from_client["relocate_inbox_users"];
      relocate_comment = instance_from_client["relocate_comment"];
      relocate_next_step = instance_from_client["relocate_next_step"];
      not_in_inbox_users = _.difference(inbox_users, relocate_inbox_users);
      new_inbox_users = _.difference(relocate_inbox_users, inbox_users);
      approve_users = [];
      flow = uuflowManager.getFlow(instance.flow);
      next_step = uuflowManager.getStep(instance, flow, relocate_next_step);
      next_step_type = next_step.step_type;
      next_step_name = next_step.name;
      current_setp = uuflowManager.getStep(instance, flow, last_trace.step);
      current_setp_type = current_setp.step_type;
      traces = instance.traces;
      setObj = new Object();
      setObj.values = uuflowManager.getUpdatedValues(instance);
      now = new Date();
      i = 0;

      while (i < traces.length) {
        if (traces[i]._id === last_trace._id) {
          if (!traces[i].approves) {
            traces[i].approves = new Array();
          }

          h = 0;

          while (h < traces[i].approves.length) {
            if (traces[i].approves[h].is_finished === false && traces[i].approves[h].type !== "cc" && traces[i].approves[h].type !== "distribute") {
              traces[i].approves[h].start_date = now;
              traces[i].approves[h].finish_date = now;
              traces[i].approves[h].read_date = now;
              traces[i].approves[h].is_error = false;
              traces[i].approves[h].is_read = true;
              traces[i].approves[h].is_finished = true;
              traces[i].approves[h].judge = "terminated";
              traces[i].approves[h].cost_time = traces[i].approves[h].finish_date - traces[i].approves[h].start_date;
              approve_users.push(traces[i].approves[h].user);

              if (traces[i].approves[h].sign_show === true) {
                ta = traces[i].approves[h];
                sameTraces = _.filter(traces, function (t) {
                  return t.step === traces[i].step;
                });
                l = sameTraces.length - 1;
                signShowApproveId = null;

                while (l > -1) {
                  _.each(sameTraces[l].approves, function (a) {
                    if (a.user === ta.user && a.judge !== "terminated" && a.description && !signShowApproveId) {
                      return signShowApproveId = a._id;
                    }
                  });

                  l--;
                }

                if (signShowApproveId) {
                  ti = 0;

                  while (ti < traces.length) {
                    ah = 0;

                    while (ah < traces[ti].approves.length) {
                      if (traces[ti].approves[ah]._id === signShowApproveId) {
                        traces[ti].approves[ah].sign_show = true;
                        traces[i].approves[h].sign_show = false;
                      }

                      ah++;
                    }

                    ti++;
                  }
                }
              }
            }

            h++;
          }

          current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
          current_user_organization = db.organizations.findOne(current_space_user.organization, {
            fields: {
              name: 1,
              fullname: 1
            }
          });
          relocate_appr = new Object();
          relocate_appr._id = new Mongo.ObjectID()._str;
          relocate_appr.instance = instance_id;
          relocate_appr.trace = traces[i]._id;
          relocate_appr.is_finished = true;
          relocate_appr.user = current_user;
          relocate_appr.user_name = current_user_info.name;
          relocate_appr.handler = current_user;
          relocate_appr.handler_name = current_user_info.name;
          relocate_appr.handler_organization = current_space_user.organization;
          relocate_appr.handler_organization_name = current_user_organization.name;
          relocate_appr.handler_organization_fullname = current_user_organization.fullname;
          relocate_appr.start_date = now;
          relocate_appr.finish_date = now;
          relocate_appr.due_date = traces[i].due_date;
          relocate_appr.read_date = now;
          relocate_appr.judge = "relocated";
          relocate_appr.is_read = true;
          relocate_appr.description = relocate_comment;
          relocate_appr.is_error = false;
          relocate_appr.values = new Object();
          relocate_appr.cost_time = relocate_appr.finish_date - relocate_appr.start_date;
          traces[i].approves.push(relocate_appr);
          traces[i].is_finished = true;
          traces[i].finish_date = now;
          traces[i].judge = "relocated";
        }

        i++;
      }

      if (next_step_type === "end") {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = true;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.approves = [];
        setObj.state = "completed";
        setObj.inbox_users = [];
        setObj.final_decision = "terminated";
        setObj.finish_date = new Date();
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = false;
      } else {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = false;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(next_step.timeout_hours);
        newTrace.approves = [];

        _.each(relocate_inbox_users, function (next_step_user_id, idx) {
          var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
          newApprove = new Object();
          newApprove._id = new Mongo.ObjectID()._str;
          newApprove.instance = instance_id;
          newApprove.trace = newTrace._id;
          newApprove.is_finished = false;
          newApprove.user = next_step_user_id;
          user_info = db.users.findOne(next_step_user_id, {
            fields: {
              name: 1
            }
          });
          newApprove.user_name = user_info.name;
          handler_id = next_step_user_id;
          handler_info = user_info;
          agent = uuflowManager.getAgent(space_id, next_step_user_id);

          if (agent) {
            relocate_inbox_users[idx] = agent;
            handler_id = agent;
            handler_info = db.users.findOne({
              _id: agent
            }, {
              fields: {
                name: 1
              }
            });
            newApprove.agent = agent;
          }

          newApprove.handler = handler_id;
          newApprove.handler_name = handler_info.name;
          next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
          next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
          newApprove.handler_organization = next_step_user_org_info["organization"];
          newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
          newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
          newApprove.start_date = now;
          newApprove.due_date = newTrace.due_date;
          newApprove.is_read = false;
          newApprove.is_error = false;
          newApprove.values = new Object();
          uuflowManager.setRemindInfo(instance.values, newApprove);
          return newTrace.approves.push(newApprove);
        });

        setObj.inbox_users = relocate_inbox_users;
        setObj.state = "pending";
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, next_step.lines);
      }

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(inbox_users).concat(approve_users);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj.is_archived = false;
      traces.push(newTrace);
      setObj.traces = traces;

      if (setObj.state === 'completed') {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });
      } else {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj,
          $unset: {
            finish_date: 1
          }
        });
      }

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, relocate_comment, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'relocate', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_archive.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_archive.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/archive', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var instance, instance_id, setObj, space, space_id, space_user;
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      uuflowManager.isInstanceFinishedAndNotArchieved(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      uuflowManager.isInstanceSubmitterOrApplicantOrSpaceAdmin(instance, current_user, space);
      setObj = new Object();
      setObj.is_archived = true;
      setObj.modified = new Date();
      setObj.modified_by = current_user;
      return db.instances.update({
        _id: instance_id
      }, {
        $set: setObj
      });
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_export.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_export.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/instances", function (req, res, next) {
    var current_user_info, e, ejs, ejsLint, end_date, error_obj, fields, fileName, flow, flow_id, form, form_name, ins_to_xls, lang, last_month_date, now, query, ret, space_id, start_date, str, table_fields, template, timezoneoffset, type;

    try {
      current_user_info = uuflowManager.check_authorization(req);
      query = req.query;
      space_id = query.space_id;
      flow_id = query.flow_id;
      type = parseInt(query.type);
      timezoneoffset = parseInt(query.timezoneoffset);
      flow = db.flows.findOne({
        _id: flow_id
      }, {
        fields: {
          form: 1
        }
      });
      form = db.forms.findOne({
        _id: flow.form
      }, {
        fields: {
          name: 1,
          'current.fields': 1
        }
      });
      form_name = form.name;
      fields = form.current.fields;
      table_fields = new Array();

      _.each(form.current.fields, function (field) {
        if (field.type === "table") {
          return table_fields.push(field);
        }
      });

      ins_to_xls = new Array();
      start_date = null;
      end_date = null;
      now = new Date();

      if (type === 0) {
        start_date = new Date(now.getFullYear(), now.getMonth(), 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          submit_date: {
            $gte: start_date
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 1) {
        last_month_date = new Date(new Date(now.getFullYear(), now.getMonth(), 1) - 1000 * 60 * 60 * 24);
        start_date = new Date(last_month_date.getFullYear(), last_month_date.getMonth(), 1);
        end_date = new Date(now.getFullYear(), now.getMonth(), 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          $and: [{
            submit_date: {
              $gte: start_date
            }
          }, {
            submit_date: {
              $lte: end_date
            }
          }]
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 2) {
        start_date = new Date(now.getFullYear(), 0, 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          submit_date: {
            $gte: start_date
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 3) {
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      }

      ejs = require('ejs');
      str = Assets.getText('server/ejs/export_instances.ejs');
      ejsLint = require('ejs-lint');
      error_obj = ejsLint.lint(str, {});

      if (error_obj) {
        console.error("===/api/workflow/export:");
        console.error(error_obj);
      }

      template = ejs.compile(str);
      lang = 'en';

      if (current_user_info.locale === 'zh-cn') {
        lang = 'zh-CN';
      }

      ret = template({
        lang: lang,
        timezoneoffset: timezoneoffset,
        form_name: form_name,
        fields: fields,
        table_fields: table_fields,
        ins_to_xls: ins_to_xls
      });
      fileName = "SteedOSWorkflow_" + moment().format('YYYYMMDDHHmm') + ".xls";
      res.setHeader("Content-type", "application/octet-stream");
      res.setHeader("Content-Disposition", "attachment;filename=" + encodeURI(fileName));
      return res.end(ret);
    } catch (error) {
      e = error;
      console.error(e.stack);
      return res.end(e.message);
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_space_changeset.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_space_changeset.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/uf/space/changeset', function (req, res, next) {
  var auth_token, data, e, formids, is_admin, query, sync_token;

  try {
    query = req.query;
    auth_token = db.auth_tokens.findOne({
      auth_token: query.auth_token
    });

    if (!auth_token || !auth_token.enabled) {
      throw new Meteor.Error(401, 'Unauthorized');
    }

    sync_token = query["sync_token"];
    formids = query["formids"];
    is_admin = query["is_admin"];
    data = uuflowManager.get_SpaceChangeSet(formids, is_admin, sync_token);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: data
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_retrieve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_retrieve.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/retrieve', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, flow, handler_info, i, ins, instance, instance_id, last_trace, last_trace_id, newApprove, newTrace, now, old_inbox_users, org_info, previous_step, previous_trace, previous_trace_approves, previous_trace_id, previous_trace_name, previous_trace_step_id, r, retrieve_approve, retrieve_comment, retrieve_type, setObj, space_id, space_user, the_trace, traces;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      retrieve_comment = instance_from_client['retrieve_comment'];

      if (!instance.outbox_users.includes(current_user) && instance.submitter !== current_user && instance.applicant !== current_user) {
        throw new Meteor.Error('error', '当前用户不符合取回条件');
      }

      retrieve_type = "";
      traces = instance.traces;
      last_trace = _.last(traces);
      last_trace_id = last_trace._id;
      previous_trace_id = last_trace.previous_trace_ids[0];
      previous_trace = _.find(traces, function (t) {
        return t._id === previous_trace_id;
      });
      previous_trace_step_id = previous_trace.step;
      previous_trace_name = previous_trace.name;
      flow = uuflowManager.getFlow(instance.flow);
      previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);

      if (previous_step.step_type === "counterSign") {
        throw new Meteor.Error('error', '会签不能取回');
      }

      previous_trace_approves = _.filter(previous_trace.approves, function (a) {
        return a.type !== 'cc' && a.type !== 'distribute' && a.type !== 'forward' && ['approved', 'submitted', 'rejected'].includes(a.judge);
      });

      if (previous_trace_approves.length === 1 && (previous_trace_approves[0].user === current_user || previous_trace_approves[0].handler === current_user)) {
        retrieve_type = 'normal';
      }

      i = traces.length;
      retrieve_approve = {};

      while (i > 0) {
        _.each(traces[i - 1].approves, function (a) {
          if (a.type === 'cc' && a.is_finished === true && a.user === current_user) {
            retrieve_type = 'cc';
            return retrieve_approve = a;
          }
        });

        if (retrieve_type === 'cc') {
          break;
        }

        i--;
      }

      if (retrieve_type === 'normal') {
        flow = uuflowManager.getFlow(instance.flow);
        previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);
        space_id = instance.space;
        instance_id = instance._id;
        old_inbox_users = instance.inbox_users;
        setObj = new Object();
        now = new Date();

        _.each(traces, function (t) {
          var current_space_user, current_user_organization, retrieve_appr;

          if (t._id === last_trace_id) {
            if (!t.approves) {
              t.approves = new Array();
            }

            _.each(t.approves, function (appr) {
              if (appr.is_finished === false && appr.type !== "cc") {
                appr.start_date = now;
                appr.finish_date = now;
                appr.read_date = now;
                appr.is_error = false;
                appr.is_read = true;
                appr.is_finished = true;
                appr.judge = "terminated";
                return appr.cost_time = appr.finish_date - appr.start_date;
              }
            });

            current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
            current_user_organization = db.organizations.findOne(current_space_user.organization, {
              fields: {
                name: 1,
                fullname: 1
              }
            });
            retrieve_appr = new Object();
            retrieve_appr._id = new Mongo.ObjectID()._str;
            retrieve_appr.instance = instance_id;
            retrieve_appr.trace = t._id;
            retrieve_appr.is_finished = true;
            retrieve_appr.user = current_user;
            retrieve_appr.user_name = current_user_info.name;
            retrieve_appr.handler = current_user;
            retrieve_appr.handler_name = current_user_info.name;
            retrieve_appr.handler_organization = current_space_user.organization;
            retrieve_appr.handler_organization_name = current_user_organization.name;
            retrieve_appr.handler_organization_fullname = current_user_organization.fullname;
            retrieve_appr.start_date = now;
            retrieve_appr.finish_date = now;
            retrieve_appr.due_date = t.due_date;
            retrieve_appr.read_date = now;
            retrieve_appr.judge = "retrieved";
            retrieve_appr.is_read = true;
            retrieve_appr.description = retrieve_comment;
            retrieve_appr.is_error = false;
            retrieve_appr.values = new Object();
            retrieve_appr.cost_time = retrieve_appr.finish_date - retrieve_appr.start_date;
            t.approves.push(retrieve_appr);
            t.is_finished = true;
            t.finish_date = now;
            return t.judge = "retrieved";
          }
        });

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace_id];
        newTrace.is_finished = false;
        newTrace.step = previous_trace_step_id;
        newTrace.name = previous_trace_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(previous_step.timeout_hours);
        newTrace.approves = [];
        newApprove = new Object();
        newApprove._id = new Mongo.ObjectID()._str;
        newApprove.instance = instance_id;
        newApprove.trace = newTrace._id;
        newApprove.is_finished = false;
        newApprove.user = current_user;
        handler_info = db.users.findOne(current_user, {
          fields: {
            name: 1
          }
        });
        newApprove.user_name = handler_info.name;
        newApprove.handler = current_user;
        newApprove.handler_name = handler_info.name;
        space_user = uuflowManager.getSpaceUser(space_id, current_user);
        org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
        newApprove.handler_organization = org_info["organization"];
        newApprove.handler_organization_name = org_info["organization_name"];
        newApprove.handler_organization_fullname = org_info["organization_fullname"];
        newApprove.start_date = now;
        newApprove.due_date = newTrace.due_date;
        newApprove.is_read = false;
        newApprove.is_error = false;
        newApprove.values = new Object();
        uuflowManager.setRemindInfo(instance.values, newApprove);
        newTrace.approves.push(newApprove);
        setObj.inbox_users = [current_user];
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.current_step_name = previous_trace_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, previous_step.lines);
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);

          _.each(old_inbox_users, function (user_id) {
            if (user_id !== current_user) {
              return pushManager.send_message_to_specifyUser("current_user", user_id);
            }
          });

          ins = uuflowManager.getInstance(instance_id);
          return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, ins.inbox_users);
        }
      } else if (retrieve_type === 'cc') {
        setObj = new Object();
        now = new Date();
        instance_id = instance._id;
        the_trace = _.find(traces, function (t) {
          return t._id === retrieve_approve.trace;
        });

        _.each(the_trace.approves, function (a) {
          if (a._id === retrieve_approve._id) {
            a.is_finished = false;
            a.finish_date = void 0;
            a.judge = void 0;
            return a.cost_time = void 0;
          }
        });

        cc_users = instance.cc_users;
        cc_users.push(current_user);
        setObj.modified = now;
        setObj.modified_by = current_user;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.cc_users = cc_users;
        setObj['traces.$.approves'] = the_trace.approves;
        r = db.instances.update({
          _id: instance_id,
          'traces._id': retrieve_approve.trace
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);
        }

        ins = uuflowManager.getInstance(instance_id);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, [current_user]);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add('post', '/api/workflow/forward', function (req, res, next) {
  try {
    var current_user_info = uuflowManager.check_authorization(req);
    var current_user_id = current_user_info._id;
    var hashData = req.body;
    var instance_id = hashData.instance_id;
    var space_id = hashData.space_id;
    var flow_id = hashData.flow_id;
    var hasSaveInstanceToAttachment = hashData.hasSaveInstanceToAttachment;
    var description = hashData.description;
    var isForwardAttachments = hashData.isForwardAttachments;
    var selectedUsers = hashData.selectedUsers;
    var action_type = hashData.action_type;
    var related = hashData.related;
    var from_approve_id = hashData.from_approve_id;
    check(instance_id, String);
    check(space_id, String);
    check(flow_id, String);
    check(hasSaveInstanceToAttachment, Boolean);
    check(description, String);
    check(isForwardAttachments, Boolean);
    check(selectedUsers, Array);
    check(action_type, Match.OneOf('forward', 'distribute'));
    if (action_type == "distribute") check(from_approve_id, String);
    var ins = db.instances.findOne(instance_id);
    var old_space_id = ins.space;
    var flow = db.flows.findOne(flow_id);
    var space = db.spaces.findOne(space_id);

    if (!ins || !flow || !space) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var forward_users = new Array();

    if (_.isEmpty(selectedUsers)) {
      forward_users = [current_user_id];
    } else {
      forward_users = selectedUsers;
    } // 校验分发对象是否有分发流程的提交权限


    var no_permission_user_ids = new Array();

    _.each(forward_users, function (uid) {
      var permissions = permissionManager.getFlowPermissions(flow_id, uid);

      if (!permissions.includes("add")) {
        // throw new Meteor.Error('error!', "该申请人没有提交此申请单的权限。")
        no_permission_user_ids.push(uid);
      }
    });

    if (!_.isEmpty(no_permission_user_ids)) {
      var no_permission_users_name = new Array();
      db.users.find({
        _id: {
          $in: no_permission_user_ids
        }
      }, {
        fields: {
          name: 1
        }
      }).forEach(function (u) {
        no_permission_users_name.push(u.name);
      });
      throw new Meteor.Error('no_permission', "该提交人没有提交此申请单的权限。", no_permission_users_name.join(','));
    }

    var new_ins_ids = new Array();
    var current_trace = null;

    if (action_type == "distribute") {
      _.each(ins.traces, function (t) {
        if (!current_trace) {
          _.each(t.approves, function (a) {
            if (!current_trace) {
              if (a._id == from_approve_id) current_trace = t;
            }
          });
        }
      });
    } else {
      current_trace = _.last(ins.traces);
    }

    var current_trace_id = current_trace._id;
    var forward_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    var set_obj = new Object(); // 计算values

    var old_values = ins.values,
        new_values = {};
    var form = db.forms.findOne(flow.form);
    var fields = form.current.fields || [];
    var old_form = db.forms.findOne(ins.form);
    var old_form_version = ins.form_version,
        old_fields = [],
        common_fields = [];
    var select_to_input_fields = [];

    if (old_form.current._id == old_form_version) {
      old_fields = old_form.current.fields;
    } else {
      if (old_form.historys) {
        old_form.historys.forEach(function (h) {
          if (h._id == old_form_version) old_fields = h.fields;
        });
      }
    }

    fields.forEach(function (field) {
      var exists_field = _.find(old_fields, function (f) {
        return f.type == field.type && f.code == field.code;
      });

      if (exists_field) common_fields.push(field);

      var select_input_field = _.find(old_fields, function (f) {
        return f.type == 'select' && field.type == 'input' && f.code == field.code;
      });

      if (select_input_field) select_to_input_fields.push(select_input_field);
    });
    select_to_input_fields.forEach(function (field) {
      if (old_values[field.code]) {
        new_values[field.code] = old_values[field.code];
      }
    });
    common_fields.forEach(function (field) {
      if (field.type == 'section') {
        if (field.fields) {
          field.fields.forEach(function (f) {
            // 跨工作区转发不复制选人选组
            if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
              return;
            }

            var key = f.code;
            var old_v = old_values[key];

            if (old_v) {
              // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
              if (f.type == 'select' || f.type == 'radio') {
                var options = f.options.split('\n');
                if (!options.includes(old_v)) return;
              }

              if (f.type == 'multiSelect') {
                var options = f.options.split('\n');
                var old_multiSelected = old_v.split(',');

                var new_multiSelected = _.intersection(options, old_multiSelected);

                old_v = new_multiSelected.join(',');
              }

              new_values[key] = old_v;
            }
          });
        }
      } else if (field.type == 'table') {
        if (!_.isEmpty(old_values[field.code])) {
          new_values[field.code] = new Array();
          old_values[field.code].forEach(function (old_table_row_values) {
            var new_table_row_values = {};

            if (!_.isEmpty(field.fields)) {
              field.fields.forEach(function (f) {
                // 跨工作区转发不复制选人选组
                if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
                  return;
                }

                var key = f.code;
                var old_v = old_table_row_values[key];

                if (old_v) {
                  // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
                  if (f.type == 'select' || f.type == 'radio') {
                    var options = f.options.split('\n');
                    if (!options.includes(old_v)) return;
                  }

                  if (f.type == 'multiSelect') {
                    var options = f.options.split('\n');
                    var old_multiSelected = old_v.split(',');

                    var new_multiSelected = _.intersection(options, old_multiSelected);

                    old_v = new_multiSelected.join(',');
                  }

                  new_table_row_values[key] = old_v;
                }
              });
            }

            if (!_.isEmpty(new_table_row_values)) {
              new_values[field.code].push(new_table_row_values);
            }
          });
        }
      } else {
        // 跨工作区转发不复制选人选组
        if (['group', 'user'].includes(field.type) && old_space_id != space_id) {
          return;
        }

        var key = field.code;
        var old_v = old_values[key];

        if (old_v) {
          // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
          if (field.type == 'select' || field.type == 'radio') {
            var options = field.options.split('\n');
            if (!options.includes(old_v)) return;
          }

          if (field.type == 'multiSelect') {
            var options = field.options.split('\n');
            var old_multiSelected = old_v.split(',');

            var new_multiSelected = _.intersection(options, old_multiSelected);

            old_v = new_multiSelected.join(',');
          }

          new_values[key] = old_v;
        }
      }
    }); //如果是分发，则value中的record_need、FONDSID不需要分发到新申请单中

    if (action_type === 'distribute') {
      delete new_values.record_need;
      delete new_values.FONDSID;
    } // 计算申请单标题


    var instance_name = "";
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      var iscript = name_forumla.replace(/\{/g, "(new_values['").replace(/\}/g, "'] || '')");
      var rev = eval(iscript);
      instance_name = rev || flow.name;
    } else {
      instance_name = flow.name;
    } // instance中记录当前步骤名称 #1314


    var start_step = _.find(flow.current.steps, function (step) {
      return step.step_type == 'start';
    }); // 新建申请单时，instances记录流程名称、流程分类名称 #1313


    var category_name = "";

    if (form.category) {
      var category = uuflowManager.getCategory(form.category);
      if (category) category_name = category.name;
    }

    _.each(forward_users, function (user_id) {
      var user_info = db.users.findOne(user_id);
      var space_user = db.space_users.findOne({
        space: space_id,
        user: user_id
      }, {
        fields: {
          organization: 1
        }
      });
      var space_user_org_info = db.organizations.findOne({
        _id: space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var now = new Date();
      var ins_obj = {};
      var agent = uuflowManager.getAgent(space_id, user_id);
      var handler_id = user_id;
      var handler_info = user_info;
      var handler_space_user = space_user;
      var handler_org_info = space_user_org_info;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent);
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
      }

      ins_obj._id = db.instances._makeNewID();
      ins_obj.space = space_id;
      ins_obj.flow = flow_id;
      ins_obj.flow_version = flow.current._id;
      ins_obj.form = flow.form;
      ins_obj.form_version = flow.current.form_version;
      ins_obj.name = instance_name;
      ins_obj.submitter = handler_id;
      ins_obj.submitter_name = handler_info.name;
      ins_obj.applicant = user_id;
      ins_obj.applicant_name = user_info.name;
      ins_obj.applicant_organization = space_user.organization;
      ins_obj.applicant_organization_name = space_user_org_info.name;
      ins_obj.applicant_organization_fullname = space_user_org_info.fullname;
      ins_obj.state = "draft";
      ins_obj.code = "";
      ins_obj.is_archived = false;
      ins_obj.is_deleted = false;
      ins_obj.created = now;
      ins_obj.created_by = current_user_id;
      ins_obj.modified = now;
      ins_obj.modified_by = current_user_id;
      ins_obj.inbox_users = [handler_id];
      ins_obj.values = new_values;

      if (action_type == 'distribute') {
        // 解决多次分发看不到正文、附件问题
        if (ins.distribute_from_instance) {
          ins_obj.distribute_from_instance = ins.distribute_from_instance;
        } else {
          ins_obj.distribute_from_instance = instance_id;
        }

        ins_obj.distribute_from_instances = _.clone(ins.distribute_from_instances) || [];
        ins_obj.distribute_from_instances.push(instance_id);

        if (related) {
          ins_obj.related_instances = [instance_id];
        }
      } else if (action_type == 'forward') {
        ins_obj.forward_from_instance = instance_id;
      } // 新建Trace


      var trace_obj = {};
      trace_obj._id = new Mongo.ObjectID()._str;
      trace_obj.instance = ins_obj._id;
      trace_obj.is_finished = false; // 当前最新版flow中开始节点的step_id

      var step_id, step_name, can_edit_main_attach, can_edit_normal_attach;
      flow.current.steps.forEach(function (step) {
        if (step.step_type == "start") {
          step_id = step._id;
          step_name = step.name;
          can_edit_main_attach = step.can_edit_main_attach;
          can_edit_normal_attach = step.can_edit_normal_attach;
        }
      });
      trace_obj.step = step_id;
      trace_obj.start_date = now;
      trace_obj.name = step_name; // 新建Approve

      var appr_obj = {};
      appr_obj._id = new Mongo.ObjectID()._str;
      appr_obj.instance = ins_obj._id;
      appr_obj.trace = trace_obj._id;
      appr_obj.is_finished = false;
      appr_obj.user = user_id;
      appr_obj.user_name = user_info.name;
      appr_obj.handler = handler_id;
      appr_obj.handler_name = handler_info.name;
      appr_obj.handler_organization = handler_space_user.organization;
      appr_obj.handler_organization_name = handler_org_info.name;
      appr_obj.handler_organization_fullname = handler_org_info.fullname;
      appr_obj.type = "draft";
      appr_obj.start_date = now;
      appr_obj.read_date = now;
      appr_obj.is_read = false;
      appr_obj.is_error = false;
      appr_obj.values = new_values;

      if (agent) {
        appr_obj.agent = agent;
      }

      trace_obj.approves = [appr_obj];
      ins_obj.traces = [trace_obj];
      if (flow.auto_remind == true) ins_obj.auto_remind = true;
      ins_obj.current_step_name = start_step.name;
      ins_obj.flow_name = flow.name;
      if (category_name) ins_obj.category_name = category.name;
      ins_obj.category = category._id;
      new_ins_id = db.instances.insert(ins_obj); // 复制附件

      var collection = cfs.instances; //将原表单内容存储为第一个附件

      if (hasSaveInstanceToAttachment) {
        // try {
        instanceHtml = InstanceReadOnlyTemplate.getInstanceHtml(user_info, space_id, ins, {
          absolute: true
        });
        var instanceFile = new FS.File();
        instanceFile.attachData(Buffer.from(instanceHtml, "utf-8"), {
          type: "text/html"
        }, function (error) {
          if (error) {
            throw new Meteor.Error(error.error, error.reason);
          }

          instanceFile.name(ins.name + ".html");
          instanceFile.size(instanceHtml.length);
          var metadata = {
            owner: user_id,
            owner_name: user_info.name,
            space: space_id,
            instance: new_ins_id,
            approve: appr_obj._id,
            current: true
          };
          instanceFile.metadata = metadata;
          var fileObj = collection.insert(instanceFile);
          fileObj.update({
            $set: {
              'metadata.parent': fileObj._id
            }
          });
        }); // } catch (e) {
        //     console.error(e);
        // }
      }

      if (isForwardAttachments && action_type == 'forward') {
        var files = collection.find({
          'metadata.instance': instance_id,
          'metadata.current': true
        });
        files.forEach(function (f) {
          // 判断新的流程开始节点是否有编辑正文和编辑附件权限
          if (f.metadata.main == true) {
            if (can_edit_main_attach != true && can_edit_normal_attach != true) return;
          } else {
            if (can_edit_normal_attach != true) return;
          }

          var newFile = new FS.File();
          newFile.attachData(f.createReadStream('instances'), {
            type: f.original.type
          }, function (err) {
            if (err) {
              throw new Meteor.Error(err.error, err.reason);
            }

            newFile.name(f.name());
            newFile.size(f.size());
            var metadata = {
              owner: user_id,
              owner_name: user_info.name,
              space: space_id,
              instance: new_ins_id,
              approve: appr_obj._id,
              current: true
            };

            if (f.metadata.main == true && can_edit_main_attach == true) {
              metadata.main = true;
            }

            newFile.metadata = metadata;
            var fileObj = collection.insert(newFile);
            fileObj.update({
              $set: {
                'metadata.parent': fileObj._id
              }
            });
          });
        });
      } // 给当前的申请单增加转发记录


      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': instance_id,
        'trace': current_trace_id,
        'is_finished': true,
        'user': user_id,
        'user_name': user_info.name,
        'handler': user_id,
        'handler_name': user_info.name,
        'handler_organization': space_user.organization,
        'handler_organization_name': space_user_org_info.name,
        'handler_organization_fullname': space_user_org_info.fullname,
        'type': action_type,
        'start_date': new Date(),
        'finish_date': new Date(),
        'is_read': false,
        'judge': 'submitted',
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'forward_space': space_id,
        'forward_instance': new_ins_id,
        'description': description,
        'from_approve_id': from_approve_id
      };
      forward_approves.push(appr);
      new_ins_ids.push(new_ins_id);
      pushManager.send_message_to_specifyUser("current_user", user_id);
    });

    set_obj.modified = new Date();
    set_obj.modified_by = current_user_id;
    var r = db.instances.update({
      _id: instance_id,
      "traces._id": current_trace_id
    }, {
      $set: set_obj,
      $addToSet: {
        'traces.$.approves': {
          $each: forward_approves
        }
      }
    });

    if (r) {
      _.each(current_trace.approves, function (a, idx) {
        if (a._id == from_approve_id) {
          var update_read = {};
          update_read["traces.$.approves." + idx + ".read_date"] = new Date();
          db.instances.update({
            _id: instance_id,
            "traces._id": current_trace_id
          }, {
            $set: update_read
          });
        }
      });
    }

    JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (e) {
    console.error(e.stack);
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/workflow/instance/:instanceId', function (req, res, next) {
  var box, current_user_id, current_user_info, e, flowId, ins, insId, permissions, redirectTo, ref, ref1, ref2, space, spaceId;

  try {
    current_user_info = uuflowManager.check_authorization(req, res);
    current_user_id = current_user_info._id;
    insId = req.params.instanceId;
    ins = db.instances.findOne(insId, {
      fields: {
        space: 1,
        flow: 1,
        state: 1,
        inbox_users: 1,
        cc_users: 1,
        outbox_users: 1,
        submitter: 1,
        applicant: 1
      }
    });

    if (!ins) {
      throw new Meteor.Error('error', 'instanceId is wrong or instance not exists.');
    }

    spaceId = ins.space;
    flowId = ins.flow;

    if (db.space_users.find({
      space: spaceId,
      user: current_user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'user is not belong to this space.');
    }

    box = '';

    if (((ref = ins.inbox_users) != null ? ref.includes(current_user_id) : void 0) || ((ref1 = ins.cc_users) != null ? ref1.includes(current_user_id) : void 0)) {
      box = 'inbox';
    } else if ((ref2 = ins.outbox_users) != null ? ref2.includes(current_user_id) : void 0) {
      box = 'outbox';
    } else if (ins.state === 'draft' && ins.submitter === current_user_id) {
      box = 'draft';
    } else if (ins.state === 'pending' && (ins.submitter === current_user_id || ins.applicant === current_user_id)) {
      box = 'pending';
    } else if (ins.state === 'completed' && ins.submitter === current_user_id) {
      box = 'completed';
    } else {
      permissions = permissionManager.getFlowPermissions(flowId, current_user_id);
      space = db.spaces.findOne(spaceId, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user_id)) {
        throw new Meteor.Error('error', "no permission.");
      }

      box = 'monitor';
    }

    redirectTo = Meteor.absoluteUrl("workflow/space/" + spaceId + "/" + box + "/" + insId);
    res.setHeader("Location", redirectTo);
    res.writeHead(302);
    res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_pending.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_pending.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/pending 获取待办文件

@apiDescription 获取当前用户的待办事项列表

@apiName getInbox

@apiGroup Workflow

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
	{
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
	{
		"status": "success",
		"data": [
			{
				"id": "g7wokXNkR9yxHvA4D",
				"start_date": "2017-11-23T02:28:53.164Z",
				"flow_name": "正文流程",
				"space_name": "审批王",
				"name": "正文流程 1",
				"applicant_name": null,
				"applicant_organization_name": "审批王",
				"submit_date": "2017-07-25T06:36:48.492Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-11-23T02:28:53.164Z",
				"is_read": false,
				"values": {}
			},
			{
				"id": "WqKSrWQoywgJaMp9k",
				"start_date": "2017-08-17T07:38:35.420Z",
				"flow_name": "正文\n",
				"space_name": "审批王",
				"name": "正文\n 1",
				"applicant_name": "殷亮辉",
				"applicant_organization_name": "审批王",
				"submit_date": "2017-06-27T10:26:19.468Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-08-17T07:38:35.421Z",
				"is_read": true,
				"values": {}
			}
		]
	}
 */JsonRoutes.add('get', '/api/workflow/open/pending', function (req, res, next) {
  var attach, e, is_read, limit, no_limit_count, query, ref, ref1, ref2, ref3, ref4, ref5, result_instances, space, space_id, space_names, special_user_id, start_date, u, uid, user_id, userid, username, workflow_categories;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    space_id = req.headers['x-space-id'] || ((ref = req.query) != null ? ref.spaceId : void 0);

    if (!space_id) {
      throw new Meteor.Error('error', 'need space_id');
    }

    user_id = req.userId;

    if (!user_id) {
      throw new Meteor.Error('error', 'Not logged in');
    }

    if (db.users.find({
      _id: user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'can not find user');
    }

    limit = ((ref1 = req.query) != null ? ref1.limit : void 0) || 500;
    limit = parseInt(limit);
    username = (ref2 = req.query) != null ? ref2.username : void 0;
    userid = (ref3 = req.query) != null ? ref3.userid : void 0;
    attach = (ref4 = req.query) != null ? ref4.attach : void 0;
    workflow_categories = (ref5 = req.query) != null ? ref5.workflow_categories : void 0;
    space = uuflowManager.getSpace(space_id);
    special_user_id;

    if (space.admins.includes(user_id)) {
      if (userid) {
        if (db.users.find({
          _id: userid
        }).count() < 1) {
          throw new Meteor.Error('error', "can not find user by userid: " + userid);
        }

        special_user_id = userid;
      } else if (username) {
        u = db.users.findOne({
          username: username
        }, {
          fields: {
            _id: 1
          }
        });

        if (_.isEmpty(u)) {
          throw new Meteor.Error('error', "can not find user by username: " + username);
        }

        special_user_id = u._id;
      }
    }

    result_instances = new Array();
    is_read = false;
    start_date = '';
    uid = user_id;
    query = {
      $or: [{
        inbox_users: user_id
      }, {
        cc_users: user_id
      }]
    };

    if (special_user_id) {
      uid = special_user_id;
      query = {
        space: space_id,
        $or: [{
          inbox_users: special_user_id
        }, {
          cc_users: special_user_id
        }]
      };
    }

    if (workflow_categories) {
      query.category = {
        $in: workflow_categories.split(',')
      };
    }

    space_names = {};
    space_names[space._id] = space.name;

    if (limit > 0) {
      db.instances.find(query, {
        sort: {
          modified: -1
        },
        limit: limit
      }).forEach(function (i) {
        var h, ref6, ref7;

        if ((ref6 = i.inbox_users) != null ? ref6.includes(uid) : void 0) {
          _.each(i.traces, function (t) {
            if (t.is_finished === false) {
              return _.each(t.approves, function (a) {
                if (a.user === uid && a.type !== 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        } else {
          _.each(i.traces, function (t) {
            if (!start_date && t.approves) {
              return _.each(t.approves, function (a) {
                if (!start_date && a.user === uid && a.type === 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        }

        if (!space_names[i.space]) {
          space_names[i.space] = (ref7 = db.spaces.findOne(i.space, {
            fields: {
              name: 1
            }
          })) != null ? ref7.name : void 0;
        }

        h = new Object();
        h["id"] = i["_id"];
        h["start_date"] = start_date;
        h["flow_name"] = i.flow_name;
        h["space_name"] = space_names[i.space];
        h["name"] = i["name"];
        h["applicant_name"] = i["applicant_name"];
        h["applicant_organization_name"] = i["applicant_organization_name"];
        h["submit_date"] = i["submit_date"];
        h["step_name"] = i.current_step_name;
        h["space_id"] = i.space;
        h["modified"] = i["modified"];
        h["is_read"] = is_read;
        h["values"] = i["values"];

        if (attach === 'true') {
          h.attachments = cfs.instances.find({
            'metadata.instance': i._id,
            'metadata.current': true,
            "metadata.is_private": {
              $ne: true
            }
          }, {
            fields: {
              copies: 0
            }
          }).fetch();
        }

        return result_instances.push(h);
      });
    }

    no_limit_count = db.instances.find(query).count();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result_instances,
        count: no_limit_count
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.reason
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"export_table_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/export_table_template.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies;
Cookies = require("cookies");
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/talbe_template", function (req, res, next) {
    var authToken, cookies, data, fileName, flow, flowId, form, ref, ref1, space, userId;
    cookies = new Cookies(req, res);

    if (req.body) {
      userId = req.body["X-User-Id"];
      authToken = req.body["X-Auth-Token"];
    }

    if (!userId || !authToken) {
      userId = cookies.get("X-User-Id");
      authToken = cookies.get("X-Auth-Token");
    }

    if (!(userId && authToken)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Missing X-Auth-Token",
        "success": false
      }));
      return;
    }

    flowId = (ref = req.query) != null ? ref.flow : void 0;
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        space: 1,
        form: 1,
        name: 1
      }
    });
    form = db.forms.findOne({
      _id: flow.form
    }, {
      fields: {
        space: 1,
        "current._id": 1
      }
    });

    if (_.isEmpty(flow)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Invalid formId",
        "success": false
      }));
      return;
    } else {
      if (!Steedos.isSpaceAdmin(flow.space, userId)) {
        res.writeHead(401);
        res.end(JSON.stringify({
          "error": "Validate Request -- No permission",
          "success": false
        }));
        return;
      }

      space = db.spaces.findOne(flow.space, {
        fields: {
          is_paid: 1
        }
      });

      if (!(space != null ? space.is_paid : void 0)) {
        JsonRoutes.sendResult(res, {
          code: 404,
          data: {
            "error": "Validate Request -- Non-paid space.",
            "success": false
          }
        });
        return;
      }
    }

    data = TemplateManager.handleTableTemplate({
      form: flow.form,
      form_version: form != null ? (ref1 = form.current) != null ? ref1._id : void 0 : void 0
    }, true);
    fileName = flow.name;
    res.setHeader('Content-type', 'application/x-msdownload');
    res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(fileName) + '.html');
    return res.end(data);
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_drafts.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/drafts 新建申请单

@apiName createInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "applicant": 申请人Id,
    "values": {
        "fields1" : 字段值,
        "fields2" : 字段值,
        ...
    }
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}

@apiErrorExample {json} error-Response:
{
    "status": "error",
    "data": {...}
}
 */JsonRoutes.add('post', '/api/workflow/open/drafts', function (req, res, next) {
  var applicant, applicantInfo, applicant_id, applicant_username, approve, approves, current_user_info, e, flow, flow_id, hashData, instance_from_client, new_ins, new_ins_id, space_id, space_user, space_user_org_info, trace, traces, user_id;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    user_id = req.userId;
    current_user_info = db.users.findOne({
      _id: user_id
    });
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header x_space_id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user_info._id);
    hashData = req.body;

    if (!hashData["flow"]) {
      throw new Meteor.Error('error', 'flow is null');
    }

    flow_id = hashData["flow"];
    applicant_id = hashData["applicant"];
    applicant_username = hashData["applicant_username"];
    instance_from_client = new Object();
    flow = db.flows.findOne({
      _id: flow_id
    }, {
      fields: {
        space: 1,
        'current._id': 1
      }
    });

    if (!flow) {
      throw new Meteor.Error('error', 'flow is not exists');
    }

    if (space_id !== flow.space) {
      throw new Meteor.Error('error', 'flow is not belong to this space');
    }

    if (db.space_users.find({
      space: space_id,
      user: current_user_info._id
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is not a member of this space');
    }

    instance_from_client["space"] = space_id;
    instance_from_client["flow"] = flow_id;
    instance_from_client["flow_version"] = flow.current._id;
    applicant = null;

    if (applicant_id || applicant_username) {
      if (applicant_id) {
        applicant = db.users.findOne({
          _id: applicant_id
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant is wrong');
        }
      } else if (applicant_username) {
        applicant = db.users.findOne({
          username: applicant_username
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant_username is wrong');
        }
      }

      space_user = db.space_users.findOne({
        space: space_id,
        user: applicant._id
      });

      if (!space_user) {
        throw new Meteor.Error('error', 'applicant is not a member of this space');
      }

      if (space_user.user_accepted !== true) {
        throw new Meteor.Error('error', 'applicant is disabled in this space');
      }

      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_from_client["applicant"] = applicant._id;
      instance_from_client["applicant_name"] = applicant.name;
      instance_from_client["applicant_organization"] = space_user_org_info["organization"];
      instance_from_client["applicant_organization_fullname"] = space_user_org_info["organization_fullname"];
      instance_from_client["applicant_organization_name"] = space_user_org_info["organization_name"];
    }

    applicantInfo = applicant || current_user_info;
    traces = [];
    trace = new Object();
    approves = [];
    approve = new Object();
    approve["values"] = hashData["values"];
    approves.push(approve);
    trace["approves"] = approves;
    traces.push(trace);
    instance_from_client["traces"] = traces;
    instance_from_client["inbox_users"] = [applicantInfo._id];
    new_ins_id = uuflowManager.create_instance(instance_from_client, applicantInfo);
    new_ins = db.instances.findOne(new_ins_id);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: new_ins
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/get/:ins_id 查看申请单详情

@apiName getInstance

@apiGroup Workflow

@apiPermission 工作区的管理员

@apiParam {String} ins_id 申请单Id
@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}
 */JsonRoutes.add('get', '/api/workflow/open/get/:ins_id', function (req, res, next) {
  var current_user, e, ins_id, instance, perm_users, permissions, space, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = db.instances.findOne(ins_id);

    if (!instance) {
      throw new Meteor.Error('error', 'can not find instance');
    }

    if (db.space_users.find({
      space: instance.space,
      user: current_user
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is wrong');
    }

    perm_users = new Array();
    perm_users.push(instance.submitter);
    perm_users.push(instance.applicant);

    if (instance.outbox_users) {
      perm_users = perm_users.concat(instance.outbox_users);
    }

    if (instance.inbox_users) {
      perm_users = perm_users.concat(instance.inbox_users);
    }

    space = db.spaces.findOne({
      _id: instance.space
    }, {
      fields: {
        admins: 1
      }
    });
    perm_users = perm_users.concat(space.admins);
    permissions = permissionManager.getFlowPermissions(instance.flow, current_user);

    if (!perm_users.includes(current_user) && !permissions.includes("monitor") && !permissions.includes("admin")) {
      throw new Meteor.Error('error', 'no permission');
    }

    instance.attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instance
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_submit.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/submit/:ins_id 提交申请单

@apiDescription 暂不支持开始节点下一节点为条件的情况

@apiName submitInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/submit/:ins_id', function (req, res, next) {
  var current_user, current_user_info, e, flow, form, ins_id, instance, nextSteps, next_step_id, next_user_ids, r, require_but_empty_fields, result, space_id, step, submitter, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = uuflowManager.getInstance(ins_id);
    uuflowManager.isInstanceDraft(instance);

    if (space_id !== instance["space"]) {
      throw new Meteor.Error('error', 'instance is not belong to this space');
    }

    values = instance["traces"][0]["approves"][0].values;
    form = uuflowManager.getForm(instance.form);
    require_but_empty_fields = uuflowManager.checkValueFieldsRequire(values, form, instance.form_version);

    if (require_but_empty_fields.length > 0) {
      if (require_but_empty_fields.length > 1) {
        throw new Meteor.Error('error', 'fields <' + require_but_empty_fields.join(",") + '> are required');
      } else if (require_but_empty_fields.length = 1) {
        throw new Meteor.Error('error', 'field <' + require_but_empty_fields.join(",") + '> is required');
      }
    }

    flow = uuflowManager.getFlow(instance.flow);
    step = uuflowManager.getStep(instance, flow, instance["traces"][0].step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "submitted");

    if (nextSteps.length < 1) {
      throw new Meteor.Error('error', 'can not find next steps');
    }

    if (nextSteps.length > 1) {
      throw new Meteor.Error('error', 'next step not uniq');
    }

    next_step_id = nextSteps[0];
    next_user_ids = getHandlersManager.getHandlers(ins_id, next_step_id) || [];

    if (next_user_ids.length > 1) {
      throw new Meteor.Error('error', 'next step handler not uniq');
    }

    instance["traces"][0]["approves"][0]["next_steps"] = [{
      'step': next_step_id,
      'users': next_user_ids
    }];
    result = new Object();
    submitter = db.users.findOne(instance.submitter);

    if (!submitter) {
      throw new Meteor.Error('error', 'can not find submitter');
    }

    r = uuflowManager.submit_instance(instance, submitter);

    if (r.alerts) {
      result = r;
    } else {
      result = db.instances.findOne(ins_id);

      if (result) {
        result.attachments = cfs.instances.find({
          'metadata.instance': ins_id,
          'metadata.current': true,
          "metadata.is_private": {
            $ne: true
          }
        }, {
          fields: {
            copies: 0
          }
        }).fetch();
      }
    }

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_save.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_save.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/save/:ins_id 暂存申请单

@apiName saveInstances

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/save/:ins_id', function (req, res, next) {
  var current_step, current_trace, current_user, current_user_info, e, flow, ins_id, instance, result, setObj, space_id, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    values = req.body;

    if (!values) {
      throw new Meteor.Error('error', 'need values');
    }

    current_trace = null;
    setObj = new Object();
    instance = uuflowManager.getInstance(ins_id);
    flow = uuflowManager.getFlow(instance.flow);

    _.each(instance.traces, function (t) {
      if (t.is_finished !== true) {
        return current_trace = t;
      }
    });

    current_step = uuflowManager.getStep(instance, flow, current_trace.step);

    if (current_step.step_type === "counterSign") {
      throw new Meteor.Error('error', '会签步骤不能修改表单值');
    }

    _.each(current_trace.approves, function (a) {
      if (a.is_finished !== true && a.type !== "cc") {
        return a.values = values;
      }
    });

    setObj.modified = new Date();
    setObj["traces.$.approves"] = current_trace.approves;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_trace._id
    }, {
      $set: setObj
    });
    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get_by_stepname.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get_by_stepname.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/getbystepname 根据步骤名称获取申请单

@apiName getInstanceByStepName

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "stepname": 步骤名称
}

@apiSuccessExample {json} Success-Response:
{
	"status": "success",
	"data": [
		{
			instance
		},
		{
			instance
		}
	]
}
 */JsonRoutes.add('post', '/api/workflow/open/getbystepname', function (req, res, next) {
  var current_user, current_user_info, e, flow, hashData, instances, space_id, stepname;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body;
    stepname = hashData["stepname"];
    flow = hashData["flow"];

    if (!stepname) {
      throw new Meteor.Error('error', 'need stepname');
    }

    if (!flow) {
      throw new Meteor.Error('error', 'need flow');
    }

    instances = db.instances.find({
      space: space_id,
      flow: flow,
      state: 'pending',
      traces: {
        $elemMatch: {
          is_finished: false,
          name: stepname
        }
      }
    }, {
      fields: {
        inbox_uers: 0,
        cc_users: 0,
        outbox_users: 0,
        attachments: 0,
        traces: 0
      }
    }).fetch();
    instances.forEach(function (instance) {
      return instance.attachments = cfs.instances.find({
        'metadata.instance': instance._id,
        'metadata.current': true,
        "metadata.is_private": {
          $ne: true
        }
      }, {
        fields: {
          copies: 0
        }
      }).fetch();
    });
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_cfs.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_cfs.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Content-Type：application/json
form-data 格式:
fd = new FormData;
fd.append("file", file);

fd.append("is_private", false);

if (isAddVersion) {
	fd.append("isAddVersion", isAddVersion);
	fd.append("parent", attach_parent_id);
}

if (isMainAttach) {
	fd.append("main", true);
}
 */var Busboy, Fiber;
Busboy = require('busboy');
Fiber = require('fibers');

JsonRoutes.parseFiles = function (req, res, next) {
  var busboy, files, image;
  files = [];
  image = {};

  if (req.method === "POST") {
    busboy = new Busboy({
      headers: req.headers
    });
    busboy.on("file", function (fieldname, file, filename, encoding, mimetype) {
      var buffers;
      image.mimeType = mimetype;
      image.encoding = encoding;
      image.filename = filename;
      buffers = [];
      file.on('data', function (data) {
        return buffers.push(data);
      });
      return file.on('end', function () {
        image.data = Buffer.concat(buffers);
        return files.push(image);
      });
    });
    busboy.on("field", function (fieldname, value) {
      return req.body[fieldname] = value;
    });
    busboy.on("finish", function () {
      req.files = files;
      return Fiber(function () {
        return next();
      }).run();
    });
    return req.pipe(busboy);
  } else {
    return next();
  }
};

JsonRoutes.add('post', '/api/workflow/open/cfs/:ins_id', function (req, res, next) {
  var approve_id, current_user, current_user_info, e, ins_id, instance, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能上传');
    }

    approve_id = instance.traces[0].approves[0]._id;
    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    return JsonRoutes.parseFiles(req, res, function () {
      var collection, newFile;
      collection = cfs.instances;

      if (req.files && req.files[0]) {
        if (req.files[0].data.length > 100 * 1024 * 1024) {
          JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              errors: [{
                errorMessage: "超过上传附件大小限制(100M)"
              }]
            }
          });
          return;
        }

        newFile = new FS.File();
        return newFile.attachData(req.files[0].data, {
          type: req.files[0].mimeType
        }, function (err) {
          var body, e, fileObj, filename, metadata, parent, r, result, size;
          filename = req.files[0].filename;

          if (["image.jpg", "image.gif", "image.jpeg", "image.png"].includes(filename.toLowerCase())) {
            filename = "image-" + moment(new Date()).format('YYYYMMDDHHmmss') + "." + filename.split('.').pop();
          }

          body = req.body;
          body['owner'] = instance.submitter;
          body['owner_name'] = instance.submitter_name;
          body['space'] = space_id;
          body['instance'] = ins_id;
          body['approve'] = approve_id;

          try {
            if (body && (body['upload_from'] === "IE" || body['upload_from'] === "node")) {
              filename = decodeURIComponent(filename);
            }
          } catch (error) {
            e = error;
            console.error(filename);
            console.error(e);
            filename = filename.replace(/%/g, "-");
          }

          newFile.name(filename);

          if (body && body['owner'] && body['owner_name'] && body['space'] && body['instance'] && body['approve']) {
            parent = '';
            metadata = {
              owner: body['owner'],
              owner_name: body['owner_name'],
              space: body['space'],
              instance: body['instance'],
              approve: body['approve'],
              current: true
            };

            if (body["is_private"] && body["is_private"].toLocaleLowerCase() === "true") {
              metadata.is_private = true;
            } else {
              metadata.is_private = false;
            }

            if (body['main'] === "true") {
              metadata.main = true;
            }

            if (body['isAddVersion'] && body['parent']) {
              parent = body['parent'];
            }

            if (parent) {
              r = collection.update({
                'metadata.parent': parent,
                'metadata.current': true
              }, {
                $unset: {
                  'metadata.current': ''
                }
              });

              if (r) {
                metadata.parent = parent;

                if (body['locked_by'] && body['locked_by_name']) {
                  metadata.locked_by = body['locked_by'];
                  metadata.locked_by_name = body['locked_by_name'];
                }

                newFile.metadata = metadata;
                fileObj = collection.insert(newFile);

                if (body["overwrite"] && body["overwrite"].toLocaleLowerCase() === "true") {
                  collection.remove({
                    'metadata.instance': body['instance'],
                    'metadata.parent': parent,
                    'metadata.owner': body['owner'],
                    'metadata.approve': body['approve'],
                    'metadata.current': {
                      $ne: true
                    }
                  });
                }
              }
            } else {
              newFile.metadata = metadata;
              fileObj = collection.insert(newFile);
              fileObj.update({
                $set: {
                  'metadata.parent': fileObj._id
                }
              });
            }
          } else {
            fileObj = collection.insert(newFile);
          }

          size = fileObj.original.size;

          if (!size) {
            size = 1024;
          }

          result = new Object();
          result = {
            attach_id: fileObj._id,
            size: size
          };
          res.setHeader("x-amz-version-id", fileObj._id);
          return JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              status: "success",
              data: result
            }
          });
        });
      } else {
        JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            errors: [{
              errorMessage: "need file"
            }]
          }
        });
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("delete", "/api/workflow/open/cfs/:ins_id", function (req, res, next) {
  var attach_id, collection, current_user, current_user_info, e, file, hashData, ins_id, instance, result, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能删除附件');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body || {};
    attach_id = hashData["attach_id"];

    if (!attach_id) {
      throw new Meteor.Error('error', 'can not find attach_id');
    }

    collection = cfs.instances;
    file = collection.findOne({
      _id: attach_id,
      'metadata.instance': ins_id
    });

    if (file) {
      file.remove();
    } else {
      throw new Meteor.Error('error', '此附件不属于此申请单，或已被删除');
    }

    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("get", "/api/workflow/open/cfs/:attach_id", function (req, res, next) {
  var attach_id, current_user, current_user_info, e, space_id;

  try {
    attach_id = req.params.attach_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    res.statusCode = 302;
    res.setHeader("Location", Steedos.absoluteUrl("api/files/instances/") + attach_id + "?download=true");
    return res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_refill.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_refill", function (req, res, next) {
  var approve, columns, forward_ins, forward_ins_values, original_ins, original_ins_fields, original_ins_form, original_ins_id, original_subtable_fields, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, row_data, subTable, table_data, trace, traces;
  console.log("=========回填子表==========");
  console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
  console.log("=========分发回填的列==========");
  console.log("req?.query?.column", req != null ? (ref1 = req.query) != null ? ref1.column : void 0 : void 0);
  columns = req != null ? (ref2 = req.query) != null ? ref2.column.split(';') : void 0 : void 0;
  console.log("columns", columns);
  forward_ins = req != null ? (ref3 = req.body) != null ? ref3.instance : void 0 : void 0;
  subTable = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

  if ((forward_ins != null ? forward_ins.state : void 0) === "completed" && (forward_ins != null ? (ref5 = forward_ins.distribute_from_instances) != null ? ref5.length : void 0 : void 0) > 0 && subTable && columns) {
    forward_ins_values = forward_ins != null ? forward_ins.values : void 0;
    original_ins_id = _.last(forward_ins != null ? forward_ins.distribute_from_instances : void 0);
    original_ins = db.instances.findOne(original_ins_id);
    original_ins_form = db.forms.findOne(original_ins != null ? original_ins.form : void 0);
    original_ins_fields = [];
    original_subtable_fields = [];
    console.log("original_ins_form?.current?._id", original_ins_form != null ? (ref6 = original_ins_form.current) != null ? ref6._id : void 0 : void 0);
    console.log("original_ins?.form_version", original_ins != null ? original_ins.form_version : void 0);

    if ((original_ins != null ? original_ins.form_version : void 0) === (original_ins_form != null ? (ref7 = original_ins_form.current) != null ? ref7._id : void 0 : void 0)) {
      original_ins_fields = (ref8 = original_ins_form.current) != null ? ref8.fields : void 0;
      original_ins_fields.forEach(function (original_ins_field) {
        console.log("original_ins_field", original_ins_field != null ? original_ins_field.code : void 0);

        if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
          return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
        }
      });
    } else {
      if ((original_ins_form != null ? (ref9 = original_ins_form.historys) != null ? ref9.length : void 0 : void 0) > 0) {
        original_ins_form.historys.forEach(function (oh) {
          if ((original_ins != null ? original_ins.form_version : void 0) === oh._id) {
            original_ins_fields = oh != null ? oh.fields : void 0;
            return original_ins_fields.forEach(function (original_ins_field) {
              if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
                return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
              }
            });
          }
        });
      }
    }

    console.log("original_subtable_fields", original_subtable_fields != null ? original_subtable_fields.length : void 0);

    if (original_subtable_fields) {
      traces = original_ins != null ? original_ins.traces : void 0;
      trace = traces[traces.length - 1];
      approve = trace != null ? trace.approves[0] : void 0;
      table_data = (approve != null ? approve.values[subTable] : void 0) || [];
      row_data = {};
      columns.forEach(function (column) {
        return row_data[column] = forward_ins_values[column] || "";
      });

      if (row_data && row_data !== {}) {
        table_data.push(row_data);
        traces[traces.length - 1].approves[0].values[subTable] = table_data;
        console.log(traces[traces.length - 1].approves[0].values[subTable]);
        db.instances.update(original_ins_id, {
          $set: {
            'traces': traces
          }
        });
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'success': '回填成功'
          }
        });
      } else {
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'info': '回填数据为空'
          }
        });
      }
    } else {
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'error': '原申请单无相关子表'
        }
      });
    }
  } else {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'success': '申请单未结束'
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_table_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_table_refill.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_table_refill", function (req, res, next) {
  var a_table, a_table_values, approve, column_list, columns, d_ins, d_ins_fields, d_ins_form, d_ins_values, d_match_col, d_match_col_field, d_match_col_fields, d_subtable_fields, d_table, d_table_values, e, o_ins, o_ins_fields, o_ins_form, o_ins_id, o_match_col, o_match_col_field, o_match_col_fields, o_subtable_fields, o_table, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref22, ref3, ref4, ref5, ref6, ref7, ref8, ref9, table_data, trace, traces;

  try {
    console.log("=========原表子表==========");
    console.log("req?.query?.oTable", req != null ? (ref = req.query) != null ? ref.oTable : void 0 : void 0);
    console.log("=========现表子表==========");
    console.log("req?.query?.dTable", req != null ? (ref1 = req.query) != null ? ref1.dTable : void 0 : void 0);
    console.log("=========原表单的子表匹配列==========");
    console.log("req?.query?.oMatchCol", req != null ? (ref2 = req.query) != null ? ref2.oMatchCol : void 0 : void 0);
    console.log("=========现表单的子表匹配列==========");
    console.log("req?.query?.dMatchCol", req != null ? (ref3 = req.query) != null ? ref3.dMatchCol : void 0 : void 0);
    console.log("=========需要回填的列==========");
    console.log("req?.query?.refillCol", req != null ? (ref4 = req.query) != null ? ref4.refillCol : void 0 : void 0);
    d_ins = req != null ? (ref5 = req.body) != null ? ref5.instance : void 0 : void 0;

    if ((d_ins != null ? d_ins.state : void 0) === "completed") {
      if (req != null ? (ref6 = req.query) != null ? ref6.oTable : void 0 : void 0) {
        o_table = req != null ? (ref7 = req.query) != null ? ref7.oTable : void 0 : void 0;

        if (req != null ? (ref8 = req.query) != null ? ref8.dTable : void 0 : void 0) {
          d_table = req != null ? (ref9 = req.query) != null ? ref9.dTable : void 0 : void 0;
        } else {
          d_table = o_table;
        }

        if (req != null ? (ref10 = req.query) != null ? ref10.aTable : void 0 : void 0) {
          a_table = req != null ? (ref11 = req.query) != null ? ref11.aTable : void 0 : void 0;
        }

        if (req != null ? (ref12 = req.query) != null ? ref12.oMatchCol : void 0 : void 0) {
          o_match_col = req != null ? (ref13 = req.query) != null ? ref13.oMatchCol : void 0 : void 0;

          if (req != null ? (ref14 = req.query) != null ? ref14.dMatchCol : void 0 : void 0) {
            d_match_col = req != null ? (ref15 = req.query) != null ? ref15.dMatchCol : void 0 : void 0;
          } else {
            d_match_col = o_match_col;
          }

          columns = (req != null ? (ref16 = req.query) != null ? ref16.refillCol.split(';') : void 0 : void 0) || [];
          console.log("columns", columns);

          if (columns || columns.length < 1) {
            console.log("======================");
            console.log(d_table, o_match_col, columns);
            d_ins_values = d_ins != null ? d_ins.values : void 0;
            o_ins_id = _.last(d_ins != null ? d_ins.distribute_from_instances : void 0);
            o_ins = db.instances.findOne(o_ins_id);
            o_ins_form = db.forms.findOne(o_ins != null ? o_ins.form : void 0);
            d_ins_form = db.forms.findOne(d_ins != null ? d_ins.form : void 0);
            o_ins_fields = [];
            o_subtable_fields = [];
            d_ins_fields = [];
            d_subtable_fields = [];
            column_list = [];
            d_table_values = [];

            if ((o_ins != null ? o_ins.form_version : void 0) === (o_ins_form != null ? (ref17 = o_ins_form.current) != null ? ref17._id : void 0 : void 0)) {
              o_ins_fields = o_ins_form != null ? (ref18 = o_ins_form.current) != null ? ref18.fields : void 0 : void 0;
              o_ins_fields.forEach(function (o_ins_field) {
                if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                  return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                }
              });
            } else {
              if ((o_ins_form != null ? (ref19 = o_ins_form.historys) != null ? ref19.length : void 0 : void 0) > 0) {
                o_ins_form.historys.forEach(function (oh) {
                  if ((o_ins != null ? o_ins.form_version : void 0) === oh._id) {
                    o_ins_fields = oh != null ? oh.fields : void 0;
                    return o_ins_fields.forEach(function (o_ins_field) {
                      if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                        return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                      }
                    });
                  }
                });
              }
            }

            if ((d_ins != null ? d_ins.form_version : void 0) === (d_ins_form != null ? (ref20 = d_ins_form.current) != null ? ref20._id : void 0 : void 0)) {
              d_ins_fields = d_ins_form != null ? (ref21 = d_ins_form.current) != null ? ref21.fields : void 0 : void 0;
              d_ins_fields.forEach(function (d_ins_field) {
                if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                  return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                }
              });
            } else {
              if ((d_ins_form != null ? (ref22 = d_ins_form.historys) != null ? ref22.length : void 0 : void 0) > 0) {
                d_ins_form.historys.forEach(function (dh) {
                  if ((d_ins != null ? d_ins.form_version : void 0) === dh._id) {
                    d_ins_fields = dh != null ? dh.fields : void 0;
                    return d_ins_fields.forEach(function (d_ins_field) {
                      if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                        return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                      }
                    });
                  }
                });
              }
            }

            if (o_subtable_fields.length === 0) {
              console.log("o_subtable_fields", o_subtable_fields);
              throw new Meteor.Error('forward table refill error!', '原申请单无对应子表');
            }

            if (d_subtable_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单无对应子表');
            }

            d_table_values = (d_ins != null ? d_ins.values[d_table] : void 0) || [];

            if (a_table) {
              a_table_values = (d_ins != null ? d_ins.values[a_table] : void 0) || [];

              if (a_table_values && (a_table_values != null ? a_table_values.length : void 0) === (d_table_values != null ? d_table_values.length : void 0)) {
                a_table_values.forEach(function (a_row, index) {
                  var key, results, value;
                  results = [];

                  for (key in meteorBabelHelpers.sanitizeForInObject(a_row)) {
                    value = a_row[key];
                    results.push(d_table_values[index][key] = value);
                  }

                  return results;
                });
              }
            }

            if (d_table_values.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表数据为空');
            }

            o_match_col_fields = o_subtable_fields.filter(function (m) {
              return m.code === o_match_col;
            });
            d_match_col_fields = d_subtable_fields.filter(function (m) {
              return m.code === d_match_col;
            });

            if (o_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '原申请单子表无对应匹配列');
            }

            if (d_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应匹配列');
            }

            o_match_col_field = o_match_col_fields[0];
            d_match_col_field = d_match_col_fields[0];

            if ((o_match_col_field != null ? o_match_col_field.type : void 0) !== (d_match_col_field != null ? d_match_col_field.type : void 0)) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单和原申请单子表的匹配列字段不一致');
            }

            columns.forEach(function (column) {
              var col, cols, d_col, d_col_fields, o_col, o_col_fields;
              cols = column.split('-') || [];

              if (cols.length === 2) {
                o_col = cols[0];
                d_col = cols[1];
                o_col_fields = o_subtable_fields.filter(function (m) {
                  return m.code === o_col;
                });
                d_col_fields = d_subtable_fields.filter(function (m) {
                  return m.code === d_col;
                });

                if (o_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '原申请单子表无对应回填列');
                }

                if (d_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应回填列');
                }

                if ((o_col_fields != null ? o_col_fields.type : void 0) !== (d_col_fields != null ? d_col_fields.type : void 0)) {
                  throw new Meteor.Error('forward table refill error!', '回填列字段类型不一致');
                }

                col = {
                  o_col: o_col,
                  d_col: d_col
                };
                return column_list.push(col);
              } else {
                throw new Meteor.Error('forward table refill error!', '回填列不匹配');
              }
            });
            traces = o_ins != null ? o_ins.traces : void 0;
            trace = traces[traces.length - 1];
            approve = trace != null ? trace.approves[0] : void 0;
            table_data = (approve != null ? approve.values[o_table] : void 0) || [];
            d_table_values.forEach(function (d_row) {
              var count, has_obj, row_data;
              has_obj = false;
              count = -1;
              table_data.forEach(function (o_row, index) {
                if (o_row[o_match_col] === d_row[d_match_col]) {
                  has_obj = true;
                  return count = index;
                }
              });

              if (has_obj === true) {
                return column_list.forEach(function (col) {
                  return table_data[count][col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
              } else {
                row_data = {};
                row_data[o_match_col] = d_row[d_match_col];
                column_list.forEach(function (col) {
                  return row_data[col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
                return table_data.push(row_data);
              }
            });
            traces[traces.length - 1].approves[0].values = o_ins != null ? o_ins.values : void 0;
            traces[traces.length - 1].approves[0].values[o_table] = table_data;
            db.instances.update(o_ins_id, {
              $set: {
                'traces': traces
              }
            });
            JsonRoutes.sendResult(res, {
              code: 200,
              data: {
                'success': '回填成功'
              }
            });
          } else {
            throw new Meteor.Error('forward table refill error!', 'webhook未配置子表回填列字段 columns 值');
          }
        } else {
          throw new Meteor.Error('forward table refill error!', 'webhook未配置匹配列字段 oMatchCol 值');
        }
      } else {
        throw new Meteor.Error('forward table refill error!', 'webhook未配置原表单子表 oTable 值');
      }
    } else {
      throw new Meteor.Error('forward table refill error!', '申请单未结束');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_sub_table_sort.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_sub_table_sort.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/sub_table_sort", function (req, res, next) {
  var e, ins, new_table_values, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, sort_col, sub_table, sub_table_values, sum_col;

  try {
    console.log("=========子表==========");
    console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
    console.log("=========子表总分列==========");
    console.log("req?.query?.sumCol", req != null ? (ref1 = req.query) != null ? ref1.sumCol : void 0 : void 0);
    console.log("=========子表排序列==========");
    console.log("req?.query?.sortCol", req != null ? (ref2 = req.query) != null ? ref2.sortCol : void 0 : void 0);
    console.log("=========子表单列需要计算的和==========");
    console.log("req?.query?.singleCols", req != null ? (ref3 = req.query) != null ? ref3.singleCols : void 0 : void 0);
    sub_table = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

    if (!sub_table) {
      console.log("=====sub_table======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 subTable 字段');
    }

    sum_col = req != null ? (ref5 = req.query) != null ? ref5.sumCol : void 0 : void 0;

    if (!sum_col) {
      console.log("=====sum_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sumCol 字段');
    }

    sort_col = req != null ? (ref6 = req.query) != null ? ref6.sortCol : void 0 : void 0;

    if (!sort_col) {
      console.log("=====sort_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sortCol 字段');
    }

    ins = req != null ? (ref7 = req.body) != null ? ref7.instance : void 0 : void 0;
    sub_table_values = ins.values[sub_table];

    if ((sub_table_values != null ? sub_table_values.length : void 0) > 0) {
      var JsonSort = function (jsonArr, key, asc) {
        for (var j = 1, jl = jsonArr.length; j < jl; j++) {
          var temp = jsonArr[j],
              val = Number(temp[key]),
              i = j - 1;

          if (asc == true) {
            while (i >= 0 && Number(jsonArr[i][key]) > val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          } else {
            while (i >= 0 && Number(jsonArr[i][key]) < val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          }

          jsonArr[i + 1] = temp;
        }

        return jsonArr;
      };

      ;
      new_table_values = JsonSort(sub_table_values, sum_col, false);
      console.log("new_table_values", new_table_values);
      new_table_values.forEach(function (obj, index) {
        if (sort_col && obj[sum_col]) {
          return obj[sort_col] = (index + 1).toString();
        }
      });
      console.log("new_table_values", new_table_values);
      ins.values[sub_table] = new_table_values;
      db.instances.update(ins._id, {
        $set: {
          'values': ins.values
        }
      });
      console.log("success");
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'success': '计算排序成功'
        }
      });
    } else {
      throw new Meteor.Error('table sort error!', '子表数据为空');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"test_webhook.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/test_webhook.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isDevelopment) {
  JsonRoutes.add('post', '/test/webhook', function (req, res, next) {
    var e, hashData;

    try {
      hashData = req.body;
      console.log('action: ', hashData.action);
      console.log('from_user: ', hashData.from_user);
      console.log('to_users: ', hashData.to_users);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {}
      });
    } catch (error) {
      e = error;
      console.error(e.stack);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          errors: [{
            errorMessage: e.message
          }]
        }
      });
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_users.coffee                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/users", function (req, res, next) {
  var current_user, current_user_info, spaceId, spaceUsers, space_user, userIds;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  userIds = req.body.userIds;
  spaceId = req.body.spaceId;
  spaceUsers = [];
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!userIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getFormulaUserObjects(spaceId, userIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_organizations.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_organizations.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/orgs", function (req, res, next) {
  var current_user, current_user_info, orgIds, orgs, spaceId, space_user;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  orgIds = req.body.orgIds;
  spaceId = req.body.spaceId;
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!orgIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  orgs = WorkflowManager.getFormulaOrgObjects(orgIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'orgs': orgs
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"related_instances_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/related_instances_tabular.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return TabularTables.related_instances_tabular = new Tabular.Table({
    name: "related_instances_tabular",
    collection: db.instances,
    columns: [{
      data: "_id",
      title: '<input type="checkbox" name="reverse" id="reverse">',
      orderable: false,
      width: '1px',
      render: function (val, type, doc) {
        var input, ref;
        input = '<input type="checkbox" class="related-instances-list-checkbox" name="related_instances_ids" id="related_instances_ids" value="' + doc._id + '"';

        if ((ref = TabularTables.related_instances_tabular.related_instances) != null ? ref.includes(doc._id) : void 0) {
          input += " checked ";
        }

        input += ">";
        return input;
      }
    }, {
      data: "name",
      orderable: false,
      width: '45%',
      render: function (val, type, doc) {
        return "<div data-id='" + doc._id + "'>" + doc.name + "</div>";
      }
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      orderable: false
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_flow"),
      render: function (val, type, doc) {
        var judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + "</div>";
      }
    }],
    dom: "tp",
    lengthChange: false,
    extraFields: ["state", "final_decision", "space", "keywords"],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var space;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;
      delete selector.space;
      selector.$or = [{
        space: space
      }, {
        submitter: userId
      }, {
        applicant: userId
      }, {
        inbox_users: userId
      }, {
        outbox_users: userId
      }, {
        cc_users: userId
      }];
      return selector;
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/tabular.coffee                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var GetBoxInstancesTabularOptions, _get_inbox_instances_tabular_options, _get_outbox_instances_tabular_options, _handleListFields, instancesListTableTabular, newInstancesListTabular, updateTabularTitle;

Steedos.subs["InstanceTabular"] = new SubsManager();

_handleListFields = function (fields) {
  var ins_fields;
  ins_fields = new Array();

  if (fields != null) {
    fields.forEach(function (f) {
      var ref;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
          return ins_fields.push(f1);
        }) : void 0 : void 0;
      } else {
        return ins_fields.push(f);
      }
    });
  }

  return ins_fields;
};

updateTabularTitle = function () {};

instancesListTableTabular = function (flowId, fields) {
  var ins_fields, key, options;
  options = {
    name: "instances",
    collection: db.instances,
    pub: "instance_tabular",
    onUnload: function () {
      return Meteor.setTimeout(Template.instance_list._tableColumns, 150);
    },
    drawCallback: function (settings) {
      var ellipsisLink, emptyTd, title;
      emptyTd = $(".dataTables_empty");

      if (emptyTd.length) {
        emptyTd[0].colSpan = "6";
      }

      if (!Steedos.isMobile() && !Steedos.isPad()) {
        Meteor.setTimeout(Template.instance_list._tableColumns, 150);
        $(".instance-list").scrollTop(0).ready(function () {
          return $(".instance-list").perfectScrollbar("update");
        });
      } else {
        $(".instance-list").scrollTop(0);
      }

      title = t("pager_input_hint");
      ellipsisLink = settings.oInstance.parent().find('.paging_numbers .pagination .disabled a');
      return ellipsisLink.attr("title", title).css("cursor", "pointer").click(function () {
        var goPage, input;

        if (!$(this).find('input').length) {
          input = $('<input class="paginate_input form-control input-sm" type="text" style="border: none; padding:0 2px;"/>');

          if (Steedos.isMobile()) {
            input.css({
              width: "52px",
              height: "20px"
            });
          } else {
            input.css({
              width: "52px",
              height: "16px"
            });
          }

          input.attr("title", title).attr("placeholder", title);
          $(this).empty().append(input);

          goPage = function (index) {
            var pages;

            if (index > 0) {
              pages = Math.ceil(settings.fnRecordsDisplay() / settings._iDisplayLength);

              if (index > pages) {
                index = pages;
              }

              index--;
              return settings.oInstance.DataTable().page(index).draw('page');
            }
          };

          input.blur(function (e) {
            var currentPage;
            currentPage = $(this).val();
            goPage(currentPage);
            return $(this).parent().html('...');
          });
          return input.keydown(function (e) {
            var currentPage;

            if (e.keyCode.toString() === "13") {
              currentPage = $(this).val();
              return goPage(currentPage);
            }
          });
        }
      });
    },
    createdRow: function (row, data, dataIndex) {
      if (Meteor.isClient) {
        if (data._id === FlowRouter.current().params.instanceId) {
          return row.setAttribute("class", "selected");
        }
      }
    },
    columns: [{
      data: "_id",
      orderable: false,
      render: function (val, type, doc) {
        var agent_view, cc_view, flow_name, instanceNamePriorityClass, modified, modifiedFromNow, modifiedString, priorityIcon, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        modifiedString = moment(doc.modified).format('YYYY-MM-DD');
        modified = doc.modified;

        if (Session.get("box") === 'inbox' && doc.state !== 'draft') {
          modified = doc.start_date || doc.modified;
        }

        if (Session.get("box") === 'outbox' || Session.get("box") === 'monitor') {
          modified = doc.submit_date || doc.submit_date;
        }

        modifiedFromNow = Steedos.momentReactiveFromNow(modified);
        flow_name = doc.flow_name;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
          step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
        } else {
          if (Session.get("box") !== 'draft' && doc.current_step_name) {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
          } else {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "</div>";
          }
        }

        agent_view = "";

        if (doc.agent_user_name && Session.get("box") === 'inbox') {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIcon = "";
        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "\n	<span>" + doc.applicant_name + "</span>\n</div>\n<div class='instance-detail'>" + step_current_name_view + "\n	<span class='instance-modified' title='" + modifiedString + "'>" + modifiedFromNow + "</span>\n</div>";
      }
    }, {
      data: "applicant_organization_name",
      title: t("instances_applicant_organization_name"),
      visible: false
    }, {
      data: "name",
      title: t("instances_name"),
      render: function (val, type, doc) {
        var agent_view, cc_view, instanceNamePriorityClass, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
        }

        agent_view = "";

        if (doc.agent_user_name) {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      visible: false,
      orderable: false
    }, {
      data: "submit_date",
      title: t("instances_submit_date"),
      render: function (val, type, doc) {
        if (doc.submit_date) {
          return moment(doc.submit_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      visible: false,
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_step_current_name"),
      render: function (val, type, doc) {
        var cc_tag, judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        cc_tag = '';

        if (doc.cc_count > 0) {
          cc_tag = TAPi18n.__('cc_tag');
        }

        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + cc_tag + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "modified",
      title: t("instances_modified"),
      render: function (val, type, doc) {
        return moment(doc.modified).format('YYYY-MM-DD HH:mm');
      },
      visible: false,
      orderable: true
    }, {
      data: "start_date",
      title: t("instances_start_date"),
      render: function (val, type, doc) {
        if (doc.start_date) {
          return moment(doc.start_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "my_finish_date",
      render: function (val, type, doc) {
        if (doc.my_finish_date) {
          return moment(doc.my_finish_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "modified",
      visible: false
    }, {
      data: "keywords",
      visible: false
    }, {
      data: "is_archived",
      render: function (val, type, doc) {
        var ref;

        if ((doc != null ? (ref = doc.values) != null ? ref.record_need : void 0 : void 0) && doc.values.record_need === "true") {
          if (doc != null ? doc.is_archived : void 0) {
            return t("YES");
          }

          return t("NO");
        }
      },
      visible: false,
      orderable: false
    }],
    dom: function () {
      if (Steedos.isMobile()) {
        return 'tp';
      } else {
        return 'tpl';
      }
    }(),
    order: [[4, "desc"]],
    extraFields: ["form", "flow", "inbox_users", "state", "space", "applicant", "form_version", "flow_version", "is_cc", "cc_count", "is_read", "current_step_name", "values", "keywords", "final_decision", "flow_name", "is_hidden", "agent_user_name"],
    lengthChange: true,
    lengthMenu: [10, 15, 20, 25, 50, 100],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var ref, space, space_user;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;

      if (!space) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          space = selector.$and.getProperty('space')[0];
        }
      }

      if (!space) {
        return {
          _id: -1
        };
      }

      space_user = db.space_users.findOne({
        user: userId,
        space: space
      }, {
        fields: {
          _id: 1
        }
      });

      if (!space_user) {
        return {
          _id: -1
        };
      }

      return selector;
    },
    pagingType: "numbers"
  };

  if (flowId) {
    key = "instanceFlow" + flowId;
    options.name = key;
    TabularTables.instances.fields = fields;
    ins_fields = _handleListFields(TabularTables.instances.fields);
    ins_fields.forEach(function (f) {
      if (f.type !== 'table' && f.is_list_display) {
        return options.columns.push({
          data: f.name || f.code,
          title: t(f.name || f.code),
          visible: false,
          orderable: false,
          render: function (val, type, doc) {
            var value, values;
            values = doc.values || {};
            value = values[f.code];

            switch (f.type) {
              case 'user':
                value = value != null ? value.name : void 0;
                break;

              case 'group':
                value = value != null ? value.fullname : void 0;
                break;

              case 'date':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD');
                }

                break;

              case 'dateTime':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD HH:mm');
                }

                break;

              case 'checkbox':
                if (value === true || value === 'true') {
                  value = TAPi18n.__("form_field_checkbox_yes");
                } else {
                  value = TAPi18n.__("form_field_checkbox_no");
                }

                break;

              case 'odata':
                if (value) {
                  value = value['@label'];
                }

            }

            return value;
          }
        });
      }
    });
  }

  return options;
};

Meteor.startup(function () {
  return TabularTables.instances = new Tabular.Table(instancesListTableTabular());
});

GetBoxInstancesTabularOptions = function (box, flowId, fields) {
  var key, options;
  key = "instanceFlow" + box + flowId;

  if (box === "inbox") {
    options = _get_inbox_instances_tabular_options(flowId, fields);
  } else if (box === "outbox") {
    options = _get_outbox_instances_tabular_options(flowId, fields);
  } else {
    options = instancesListTableTabular(flowId, fields);

    if (!flowId) {
      options.name = "inbox_instances";
    }
  }

  if (flowId) {
    options.name = key;
  }

  return options;
};

_get_inbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "inbox_instances";
  }

  options.order = [[8, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': false,
        '_approve.handler': userId
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'start_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_start_date": {
              $first: "$_approve.start_date"
            }
          }
        });
        ag_sort = {
          'approve_start_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.inbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("inbox"));
});

_get_outbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "outbox_instances";
  }

  options.order = [[9, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': true,
        $or: [{
          '_approve.handler': userId
        }, {
          '_approve.user': userId
        }]
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'my_finish_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_finish_date": {
              $last: "$_approve.finish_date"
            }
          }
        });
        ag_sort = {
          'approve_finish_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.outbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("outbox"));
});

if (Meteor.isClient) {
  TabularTables.flowInstances = new ReactiveVar();
}

Meteor.startup(function () {
  return Tracker.autorun(function (c) {
    if (Meteor.isClient && !Steedos.isMobile()) {
      if (Session.get("flowId") && Session.get("box") !== 'draft') {
        return Meteor.call("newInstancesListTabular", Session.get("box"), Session.get("flowId"), function (error, result) {
          newInstancesListTabular(Session.get("box"), Session.get("flowId"), result);
          return Template.instance_list._changeOrder();
        });
      }
    }
  });
});

newInstancesListTabular = function (box, flowId, fields) {
  var flow, key, ref, ref1, ref2;

  if (!fields) {
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        form: 1
      }
    });
    fields = (ref = db.forms.findOne({
      _id: flow != null ? flow.form : void 0
    }, {
      fields: {
        'current.fields': 1
      }
    })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
  }

  fields = _handleListFields(fields);

  if ((fields != null ? (ref2 = fields.filterProperty("is_list_display", true)) != null ? ref2.length : void 0 : void 0) > 0) {
    key = "instanceFlow" + box + flowId;

    if (Meteor.isClient) {
      TabularTables.flowInstances.set(new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields)));
    } else {
      new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields));
    }

    return console.log("new TabularTables ", key);
  }
};

if (Meteor.isServer) {
  Meteor.methods({
    newInstancesListTabular: function (box, flowId) {
      var fields, flow, ref, ref1;
      newInstancesListTabular(box, flowId);
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          form: 1
        }
      });
      fields = (ref = db.forms.findOne({
        _id: flow != null ? flow.form : void 0
      }, {
        fields: {
          'current.fields': 1
        }
      })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
      return fields;
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}}},{
  "extensions": [
    ".js",
    ".json",
    ".i18n.json",
    ".coffee"
  ]
});

require("/node_modules/meteor/steedos:workflow/i18n/en.i18n.json.js");
require("/node_modules/meteor/steedos:workflow/i18n/zh-CN.i18n.json.js");
require("/node_modules/meteor/steedos:workflow/checkNpm.js");
require("/node_modules/meteor/steedos:workflow/lib/collection_helpers.js");
require("/node_modules/meteor/steedos:workflow/lib/tapi18n.coffee");
require("/node_modules/meteor/steedos:workflow/lib/core.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/forms.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flows.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/categories.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/spaces.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/deleted_instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/auth_tokens.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/webhooks.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_users.coffee");
require("/node_modules/meteor/steedos:workflow/lib/cfs/instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/instance_readonly_template.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/template_manager.coffee");
require("/node_modules/meteor/steedos:workflow/client/coreform/inputTypes/coreform-table/steedos-table.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_image_sign.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_form.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_attachments.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_sign_text.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_help.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/set_instance_step_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/get_instance_data.js");
require("/node_modules/meteor/steedos:workflow/server/methods/save_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/trace_approve_cc.js");
require("/node_modules/meteor/steedos:workflow/server/methods/forward_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/cfs_instances.js");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_return.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_remind.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/next_step_users_not_found.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_number_rules.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/check_main_attach.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/edit_flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/start_flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_traces.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_batch.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/distribute.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/hide_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_value.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/steedos_css.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance_draft_view.coffee");
require("/node_modules/meteor/steedos:workflow/routes/nextStepUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getSpaceUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getFormulaUserObjects.js");
require("/node_modules/meteor/steedos:workflow/routes/init_formula_values.js");
require("/node_modules/meteor/steedos:workflow/routes/getNameForUser.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_designer_startup.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_engine.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_remove.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_terminate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_reassign.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_relocate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_archive.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_export.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_space_changeset.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_retrieve.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward.js");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_instance.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_pending.coffee");
require("/node_modules/meteor/steedos:workflow/routes/export_table_template.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_save.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get_by_stepname.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_cfs.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_table_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_sub_table_sort.coffee");
require("/node_modules/meteor/steedos:workflow/routes/test_webhook.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/1_form_formula.js");
require("/node_modules/meteor/steedos:workflow/server/lib/get_handlers_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/permission_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/approve_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/flow_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/form_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/step_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/categories.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/cfs_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flows.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/forms.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_data.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_list.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_draft.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/distributed_instances_state_by_ids.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/related_instaces.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/user_inbox_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_main_attach_template.coffee");
require("/node_modules/meteor/steedos:workflow/lib/admin.coffee");
require("/node_modules/meteor/steedos:workflow/related_instances_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/tabular.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_users.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_organizations.coffee");
require("/node_modules/meteor/steedos:workflow/server/flow-template/workflow_template.coffee");
require("/node_modules/meteor/steedos:workflow/server/startup.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/instance_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/auto_finish_process_delegation.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/timeout_auto_submit.coffee");

/* Exports */
Package._define("steedos:workflow", {
  InstanceManager: InstanceManager,
  WorkflowManager_format: WorkflowManager_format,
  Workflow: Workflow,
  SteedosTable: SteedosTable,
  InstanceReadOnlyTemplate: InstanceReadOnlyTemplate,
  TemplateManager: TemplateManager,
  CoreForm: CoreForm,
  InstanceNumberRules: InstanceNumberRules,
  getHandlersManager: getHandlersManager,
  permissionManager: permissionManager,
  workflowTemplate: workflowTemplate,
  approveManager: approveManager,
  stepManager: stepManager,
  flowManager: flowManager,
  formManager: formManager
});

})();

//# sourceURL=meteor://💻app/packages/steedos_workflow.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jaGVja05wbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9saWIvY29yZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL2xpYi9jb3JlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9saWIvbW9kZWxzL2F1dGhfdG9rZW5zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvbGliL2luc3RhbmNlX3JlYWRvbmx5X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L2xpYi9pbnN0YW5jZV9yZWFkb25seV90ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L2xpYi90ZW1wbGF0ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L2xpYi90ZW1wbGF0ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvY29yZWZvcm0vaW5wdXRUeXBlcy9jb3JlZm9ybS10YWJsZS9zdGVlZG9zLXRhYmxlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW1hZ2Vfc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW1hZ2Vfc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX2luc3RhbmNlX2F0dGFjaG1lbnRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW5zdGFuY2Vfc2lnbl90ZXh0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9zaWduX3RleHQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9fdHJhY2VzX2hlbHAuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oZWxwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvc2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL3NldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2dldF9pbnN0YW5jZV9kYXRhLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL3NhdmVfaW5zdGFuY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvdHJhY2VfYXBwcm92ZV9jYy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9mb3J3YXJkX2luc3RhbmNlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2Nmc19pbnN0YW5jZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9uZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9jaGVja19tYWluX2F0dGFjaC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvcmVsYXRlZF9pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvZWRpdF9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2VkaXRfZmxvd19wb3NpdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL3N0YXJ0X2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9zdGFydF9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2JhdGNoLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYmF0Y2guY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9oaWRlX2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaGlkZV9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfdmFsdWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV92YWx1ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3JvdXRlcy9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9yb3V0ZXMvaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9yb3V0ZXMvc3RlZWRvc19jc3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL3N0ZWVkb3NfY3NzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9saWIvMV9mb3JtX2Zvcm11bGEuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL2xpYi9nZXRfaGFuZGxlcnNfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZ2V0X2hhbmRsZXJzX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvcGVybWlzc2lvbl9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9wZXJtaXNzaW9uX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvYXBwcm92ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9hcHByb3ZlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvZmxvd19tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2Zvcm1fbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZm9ybV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL3N0ZXBfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvc3RlcF9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zvcm1zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mb3Jtcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kcmFmdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfZHJhZnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvZmxvdy10ZW1wbGF0ZS93b3JrZmxvd190ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9mbG93LXRlbXBsYXRlL3dvcmtmbG93X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvc2NoZWR1bGUvYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3NjaGVkdWxlL2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3NjaGVkdWxlL3RpbWVvdXRfYXV0b19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvc2NoZWR1bGUvdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL25leHRTdGVwVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldFNwYWNlVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldEZvcm11bGFVc2VyT2JqZWN0cy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvaW5pdF9mb3JtdWxhX3ZhbHVlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvZ2V0TmFtZUZvclVzZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvZ2V0TmFtZUZvclVzZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZGVzaWduZXJfc3RhcnR1cC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfZGVzaWduZXJfc3RhcnR1cC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19lbmdpbmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2VuZ2luZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19kcmFmdHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZW1vdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbW92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd190ZXJtaW5hdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3Rlcm1pbmF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZWFzc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVhc3NpZ24uY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVsb2NhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbG9jYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2FyY2hpdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2FyY2hpdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZXhwb3J0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19leHBvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfc3BhY2VfY2hhbmdlc2V0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19zcGFjZV9jaGFuZ2VzZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfcmV0cmlldmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JldHJpZXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9wZW5kaW5nLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3BlbmRpbmcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9leHBvcnRfdGFibGVfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvZXhwb3J0X3RhYmxlX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9nZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc3VibWl0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc2F2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zYXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0X2J5X3N0ZXBuYW1lLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldF9ieV9zdGVwbmFtZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2Nmcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9jZnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfdGFibGVfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19mb3J3YXJkX3RhYmxlX3JlZmlsbC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9zdWJfdGFibGVfc29ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfc3ViX3RhYmxlX3NvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy90ZXN0X3dlYmhvb2suY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvdGVzdF93ZWJob29rLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX2Zvcm11bGFfdXNlcnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX2Zvcm11bGFfdXNlcnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZm9ybXVsYV9vcmdhbml6YXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9mb3JtdWxhX29yZ2FuaXphdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy90YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvdGFidWxhci5jb2ZmZWUiXSwibmFtZXMiOlsiY2hlY2tOcG1WZXJzaW9ucyIsIm1vZHVsZSIsImxpbmsiLCJ2IiwiY29va2llcyIsIm1rZGlycCIsIldvcmtmbG93IiwiSW1hZ2VTaWduIiwiVHJhY2VzVGVtcGxhdGUiLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZSIsIkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlIiwiSW5zdGFuY2VTaWduVGV4dCIsIlJlbGF0ZWRJbnN0YW5jZXMiLCJJbnN0YW5jZU1hY3JvIiwiY29udGV4dCIsIlRyYWNlc01hbmFnZXIiLCJNZXRlb3IiLCJpc0NsaWVudCIsInN0YXJ0dXAiLCJ3b3JrZmxvd190aHJlZV9jb2x1bW5zIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIiQiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmciLCJmaWVsZF9mb3JtdWxhIiwiaW5kZXhPZiIsImluY2x1ZGVzT3BpbmlvbkZpZWxkIiwiZm9ybSIsImZvcm1fdmVyc2lvbiIsIl9mb3JtX3ZlcnNpb24iLCJmaWVsZF9mb3JtdWxhcyIsImZpZWxkcyIsIkFycmF5IiwiaXNTZXJ2ZXIiLCJ1dWZsb3dNYW5hZ2VyIiwiZ2V0Rm9ybVZlcnNpb24iLCJkYiIsImZvcm1zIiwiZmluZE9uZSIsIl9pZCIsImZvcm1fdmVyc2lvbnMiLCJmb3JFYWNoIiwiZiIsInJlZiIsInR5cGUiLCJjb25zb2xlIiwibG9nIiwiZjEiLCJwdXNoIiwiZm9ybXVsYSIsIl8iLCJzb21lIiwiaGVscGVycyIsImF1dGhfdG9rZW5zIiwiQ29sbGVjdGlvbiIsIl9nZXRMb2NhbGUiLCJfZ2V0UmVxdWlyZWRGaWVsZHMiLCJfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMiLCJfZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMiLCJfZ2V0VGVtcGxhdGVEYXRhIiwiX2dldFZpZXdIdG1sIiwiSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlIiwiaW5zdGFuY2VfYXR0YWNobWVudCIsImFmU2VsZWN0VXNlclJlYWQiLCJhZkZvcm1Hcm91cFJlYWQiLCJhZkZvcm1Hcm91cCIsImNyZWF0ZSIsInRlbXBhbHRlTmFtZSIsInN0ZWVkb3NEYXRhIiwidGVtcGxhdGUiLCJ0ZW1wbGF0ZUNvbXBpbGVkIiwidGVtcGxhdGVSZW5kZXJGdW5jdGlvbiIsIlNwYWNlYmFyc0NvbXBpbGVyIiwiY29tcGlsZSIsImlzQm9keSIsImV2YWwiLCJUZW1wbGF0ZSIsIkJsYXplIiwiY3JlYXRlSW5zdGFuY2VTaWduVGV4dCIsImluc3RhbmNlU2lnblRleHRDb21waWxlZCIsImluc3RhbmNlU2lnblRleHRIdG1sIiwiaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uIiwiaW5zdGFuY2VTaWduVGV4dCIsImNyZWF0ZUltYWdlU2lnbiIsImltYWdlU2lnbkNvbXBpbGVkIiwiaW1hZ2VTaWduSHRtbCIsImltYWdlU2lnblJlbmRlckZ1bmN0aW9uIiwiaW1hZ2VTaWduIiwiaW5pdCIsImFic29sdXRlIiwiZ2V0VmFsdWUiLCJ2YWx1ZSIsImZpZWxkIiwibG9jYWxlIiwidXRjT2Zmc2V0IiwiZGF0ZSIsImUiLCJob3VycyIsIm1vbnRoIiwic2Vjb25kcyIsInQiLCJ0MCIsInQxIiwieWVhciIsImVuY29kZVVSSSIsImVycm9yIiwiaXNfbXVsdGlzZWxlY3QiLCJnZXRQcm9wZXJ0eSIsInRvU3RyaW5nIiwiZnVsbG5hbWUiLCJuYW1lIiwiVEFQaTE4biIsIl9fIiwibGVuZ3RoIiwic3BsaXQiLCJEYXRlIiwiZm9ybWF0RGF0ZSIsImlzX3RleHRhcmVhIiwiU3BhY2ViYXJzIiwiU2FmZVN0cmluZyIsIk1hcmtkb3duIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJkaWdpdHMiLCJTdGVlZG9zIiwibnVtYmVyVG9TdHJpbmciLCJnZXRMYWJlbCIsImNvZGUiLCJmaW5kUHJvcGVydHlCeVBLIiwiZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbiIsImluc3RhbmNlIiwiZm9ybV9maWVsZHMiLCJjdXJyZW50Iiwid2hlcmUiLCJoaXN0b3J5cyIsImdldEZsb3dWZXJzaW9uIiwiZmxvdyIsImZsb3dfdmVyc2lvbiIsImZsb3dzIiwicGF0aCIsInZpZXdIdG1sIiwiQXNzZXRzIiwiZ2V0VGV4dCIsInJlcGxhY2UiLCJ1c2VyIiwicmVmMSIsInRvTG9jYWxlTG93ZXJDYXNlIiwicmV2IiwiaXNfcmVxdWlyZWQiLCJzdGVwcyIsImVkaXRhYmxlQ29kZSIsInN0YXJ0U3RlcCIsImtleXMiLCJwZXJtaXNzaW9ucyIsImtleSIsInJlcXVpcmVkRmllbGRzIiwiaW50ZXJzZWN0aW9uIiwic3BhY2UiLCJvcHRpb25zIiwiV29ya2Zsb3dNYW5hZ2VyIiwiY2xvbmUiLCJXb3JrZmxvd01hbmFnZXJfZm9ybWF0IiwiZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMiLCJpbnNuYW1lIiwiaW5zX3N0YXRlIiwic3RhdGUiLCJpbnNfZmluYWxfZGVjaXNpb24iLCJpbnNfY29kZSIsImluc19pc19hcmNoaXZlZCIsImlzX2FyY2hpdmVkIiwiaW5zX2lzX2RlbGV0ZWQiLCJhcHBsaWNhbnRfbmFtZSIsImFwcGxpY2FudENvbnRleHQiLCJzZXNzaW9uVXNlcklkIiwiZWRpdGFibGUiLCJzdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyIsInBhc3NpbmciLCJtb21lbnQiLCJmb3JtYXQiLCJnZXRJbnN0YW5jZVZpZXciLCJib2R5IiwiaW5zdGFuY2VDb21waWxlZCIsImluc3RhbmNlUmVuZGVyRnVuY3Rpb24iLCJpbnN0YW5jZVRlbXBsYXRlIiwiVGVtcGxhdGVNYW5hZ2VyIiwiZ2V0VGVtcGxhdGUiLCJ0ZW1wbGF0ZU5hbWUiLCJpbnN0YW5jZV9yZWFkb25seV92aWV3IiwidG9IVE1MV2l0aERhdGEiLCJnZXRUcmFjZXNWaWV3IiwidHJhY2VDb21waWxlZCIsInRyYWNlUmVuZGVyRnVuY3Rpb24iLCJ0cmFjZXNIdG1sIiwiaW5zdGFuY2Vfc3R5bGUiLCJ0cmFjZV9yZWFkb25seV92aWV3IiwidHJhY2VzIiwiZ2V0QXR0YWNobWVudFZpZXciLCJhdHRhY2htZW50Q29tcGlsZWQiLCJhdHRhY2htZW50SHRtbCIsImF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiIsImF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXciLCJnZXRSZWxhdGVkSW5zdGFuY2VzVmlldyIsInJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCIsInJlbGF0ZWRJbnN0YW5jZXNIdG1sIiwicmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uIiwicmVsYXRlZF9pbnN0YW5jZXNfdmlldyIsImdldE9uTG9hZFNjcmlwdCIsImZvcm1fc2NyaXB0IiwiZ2V0SW5zdGFuY2VIdG1sIiwiYWJzb2x1dGVVcmwiLCJhbGxDc3NMaW5rIiwiYXR0YWNobWVudCIsImNzc0hyZWYiLCJmb3JtRGVzY3JpcHRpb24iLCJmb3JtRGVzY3JpcHRpb25IdG1sIiwiaHRtbCIsImluc3RhbmNlQm94U3R5bGUiLCJpbnN0YW5jZVRyYWNlc1N0eWxlIiwib25Mb2FkU2NyaXB0Iiwib3BlbkZpbGVTY3JpcHQiLCJyZWxhdGVkX2luc3RhbmNlcyIsInNob3dUcmFjZXNCdG4iLCJzaG93VHJhY2VzU2NyaXB0Iiwic3VibWl0X2J0biIsInRyYWNlIiwid2lkdGgiLCJpc01vYmlsZSIsInNob3dUcmFjZSIsImZpbmFsX2RlY2lzaW9uIiwic2hvd0F0dGFjaG1lbnRzIiwidGFnZ2VyIiwic3R5bGVzIiwiZGVzY3JpcHRpb24iLCJwbHVnaW5zIiwiZm9ybUlkIiwiaW5zdGFuY2VfdGl0bGUiLCJwYWdlVGl0bGUiLCJwYWdlVGl0bGVUckNsYXNzIiwidmFsIiwiQ29yZUZvcm0iLCJwYWdlVGl0bGVGaWVsZE5hbWUiLCJoYW5kbGVUYWJsZVRlbXBsYXRlIiwiX2V4cG9ydCIsInRhYmxlX2ZpZWxkcyIsInRhYmxlX2ZpZWxkIiwiZmllbGRfcGVybWlzc2lvbiIsInB1cmVDb2RlIiwicmVxdWlyZWQiLCJ0aXRsZV9wZXJtaXNzaW9uIiwicmVtb3ZlU3BlY2lhbENoYXJhY3RlciIsImlzT3BpbmlvbkZpZWxkIiwidHJfc3RhcnQiLCJ0ZF9jb2xzcGFuIiwidHJfZW5kIiwiaW5jbHVkZXMiLCJwZXJtaXNzaW9uIiwiX3RlbXBsYXRlIiwidGFibGUiLCJfdGVtcGxhdGVIZWxwcyIsImRhdGEiLCJzdGVlZG9zX2luc3RhbmNlIiwiZ2V0SW5zdGFuY2UiLCJhdHRzIiwiaWQiLCJzdHlsZSIsImRpc2FibGVkIiwiaW5zdGFuY2VJZCIsImZvcm1fdHlwZXMiLCJBcHByb3ZlTWFuYWdlciIsImlzUmVhZE9ubHkiLCJzdGVlZG9zX2Zvcm0iLCJpbm5lcnN1YmZvcm1Db250ZXh0Iiwib2JqIiwiZG9jX3ZhbHVlcyIsIlNlc3Npb24iLCJnZXQiLCJlcXVhbHMiLCJhIiwiYiIsIlNpbXBsZVNjaGVtYSIsImdldEF1dG9mb3JtU2NoZW1hIiwiaW5zdGFuY2VfYm94X3N0eWxlIiwiYm94IiwiaW5zIiwianVkZ2UiLCJwcmludF90ZW1wbGF0ZSIsImluc3RhbmNlX3RlbXBsYXRlIiwiU3RlZWRvc1RhYmxlIiwiY2hlY2tJdGVtIiwiaXRlbV9pbmRleCIsImZpZWxkT2JqIiwiZ2V0RmllbGQiLCJmaWVsZFZhbCIsImdldEl0ZW1Nb2RhbFZhbHVlIiwic2ZfbmFtZSIsInNmaWVsZHMiLCJzZiIsIkluc3RhbmNlTWFuYWdlciIsImNoZWNrRm9ybUZpZWxkVmFsdWUiLCJzZXRUYWJsZUl0ZW1WYWx1ZSIsIml0ZW1fdmFsdWUiLCJ0YWJsZVZhbHVlIiwiZ2V0VGFibGVWYWx1ZSIsImdldFRhYmxlSXRlbVZhbHVlIiwicmVtb3ZlVGFibGVJdGVtIiwicmVtb3ZlZCIsInNldFRhYmxlVmFsdWUiLCJnZXRWYWxpZFZhbHVlIiwidmFsaWRWYWx1ZSIsImhhbmRsZURhdGEiLCJ2YWx1ZXMiLCJpbnN0YW5jZUZpZWxkcyIsImdldEluc3RhbmNlRmllbGRzIiwiZ2V0TW9kYWxEYXRhIiwiaW5kZXgiLCJGb3JtX2Zvcm11bGEiLCJnZXRGb3JtdWxhRmllbGRWYXJpYWJsZSIsIkF1dG9Gb3JtIiwiZ2V0Rm9ybVZhbHVlcyIsImluc2VydERvYyIsImFkZEl0ZW0iLCJfaXRlbV92YWx1ZSIsImdldEtleXMiLCJhcHBlbmQiLCJnZXRUciIsInVwZGF0ZUl0ZW0iLCJpdGVtIiwidGRzIiwiZ2V0UmVtb3ZlVGQiLCJzZmllbGQiLCJnZXRUZCIsImVtcHR5IiwicnVuRm9ybXVsYSIsInJlbW92ZUl0ZW0iLCJoaWRlIiwic2hvd01vZGFsIiwibWV0aG9kIiwibW9kYWxEYXRhIiwiTW9kYWwiLCJzaG93IiwiZ2V0Q3VycmVudERhdGFGb3JGb3JtIiwic3MiLCJnZXRGb3JtU2NoZW1hIiwic2NoZW1hIiwiT2JqZWN0Iiwib2JqZWN0S2V5cyIsIl9tYWtlR2VuZXJpYyIsImdldFRoZWFkIiwiaXNPYmplY3QiLCJ0aGVhZCIsInRycyIsImxhYmVsIiwic2ZfbGVuZ3RoIiwid2lkZV9maWVsZHMiLCJmaWx0ZXJQcm9wZXJ0eSIsImlzX3dpZGUiLCJnZXRUYm9keSIsInRib2R5IiwidHIiLCJ0ZCIsInRkX3ZhbHVlIiwiZ2V0VERWYWx1ZSIsInZpZXciLCJDRkRhdGFNYW5hZ2VyIiwiZ2V0Rm9ybXVsYVNwYWNlVXNlcnMiLCJ1IiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbnMiLCJvIiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbiIsImFkZElucHV0VHlwZSIsInZhbHVlT3V0IiwidmFsdWVDb252ZXJ0ZXJzIiwic3RyaW5nVG9TdHJpbmdBcnJheSIsInN0cmluZ1RvTnVtYmVyIiwic3RyaW5nVG9OdW1iZXJBcnJheSIsInN0cmluZ1RvQm9vbGVhbiIsInN0cmluZ1RvQm9vbGVhbkFycmF5Iiwic3RyaW5nVG9EYXRlIiwic3RyaW5nVG9EYXRlQXJyYXkiLCJjb250ZXh0QWRqdXN0IiwibWF4bGVuZ3RoIiwibWF4IiwiYWZUYWJsZSIsImV2ZW50cyIsImV2ZW50IiwibmV3X2l0ZW1faW5kZXgiLCJjdXJyZW50VGFyZ2V0IiwiZGF0YXNldCIsInNldCIsInJlbmRlcmVkIiwic3RyIiwiYWRkSXRlbVRyIiwic3BhY2VVc2VyU2lnbiIsInVzZXJJZCIsInNwYWNlX3VzZXJfc2lnbnMiLCJpbWFnZVVSTCIsInNpZ24iLCJ1bmVtcHR5IiwidW5lcXVhbHMiLCJpbmNsdWRlIiwiSlNPTiIsInBhcnNlIiwicmVmMiIsInJlZjMiLCJnZXRJbnN0YW5jZUZsb3dWZXJzaW9uIiwiYXBwcm92ZXMiLCJyZWY0Iiwic3RlcCIsImFwcHJvdmUiLCJqdWRnZV9uYW1lIiwiaXNfZmluaXNoZWQiLCJoYW5kbGVyIiwiaGFuZGxlcl9uYW1lIiwiaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSIsImhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lIiwiZmluaXNoX2RhdGUiLCJvcGluaW9uX2ZpZWxkc19jb2RlIiwic2lnbl9maWVsZF9jb2RlIiwiaXNfcmVhZCIsInNpZ25fc2hvdyIsImNvbmNhdCIsImFmdGVyX2ZpZWxkIiwiYmVmb3JlX2ZpZWxkIiwicHJlX2ZpZWxkcyIsInByZV93aWRlX2ZpZWxkcyIsInNsaWNlIiwic29ydF9hcHByb3ZlIiwib3JkZXIiLCJzb3J0IiwicDEiLCJwMiIsIl9wMSIsIl9wMiIsImdldFRpbWUiLCJfdCIsImdldENmQ2xhc3MiLCJnZXRUYWJsZVRoZWFkIiwiZ2V0VGFibGVCb2R5Iiwic2hvd0xhYmVsIiwidGVtcGxhdGVEYXRhIiwiZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lIiwidG9wX2tleXdvcmRzIiwiZm9vMSIsIm9waW5pb25GaWVsZHMiLCJmb28iLCJqc29uX2Zvcm11bGEiLCJzMSIsImVycm9yMSIsInlpamlhbmxhbiIsInN0ZXBOYW1lIiwiaW1hZ2Vfc2lnbiIsIm9ubHlfY2Nfb3BpbmlvbiIsIm9ubHlfY2MiLCJkZWZhdWx0X2Rlc2NyaXB0aW9uIiwib25seV9oYW5kbGVyIiwic2hvd0NDT3BpbmlvbiIsIm1hcmtEb3duVG9IdG1sIiwibWFya0Rvd25TdHJpbmciLCJyZW5kZXJlciIsIlJlbmRlcmVyIiwiaHJlZiIsInRpdGxlIiwidGV4dCIsImZfbGFiZWwiLCJ0aGF0IiwiaXNTZWN0aW9uIiwicmVnaXN0ZXJIZWxwZXIiLCJvcCIsImhhc2giLCJpbnNfYXR0YWNoX2Rvd25sb2FkX3VybCIsImdldFBlcm1pc3Npb25zIiwiaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIm9wZW5XaW5kb3ciLCJ0YXJnZXQiLCJvbkNyZWF0ZWQiLCJjb21waWxlZCIsImluc3RhbmNlQ3VzdG9tVGVtcGxhdGUiLCJpbnN0YW5jZVZpZXciLCJyZW5kZXJGdW5jdGlvbiIsIlZpZXciLCJpbnN0YW5jZV9jdXN0b21fdGVtcGxhdGUiLCJvblJlbmRlcmVkIiwiY3VycmVudEFwcHJvdmUiLCJjdXJyZW50U3RlcCIsImZvcm11bGFfZmllbGRzIiwiaW5zdGFuY2VOdW1iZXJGaWVsZHMiLCJhcHBsaWNhbnQiLCJuZXh0U3RlcHMiLCJuZXh0U3RlcFVzZXJzIiwiSW5zdGFuY2VFdmVudCIsImluaXRFdmVudHMiLCJnZXRDdXJyZW50QXBwcm92ZSIsImVhY2giLCJlbGVtZW50Iiwic2NoZW1hS2V5IiwiY2FsbCIsInJlc3VsdCIsInRvYXN0ciIsInJlYXNvbiIsInRyaW0iLCJnZXRGaWVsZFZhbHVlIiwiSW5zdGFuY2VOdW1iZXJSdWxlcyIsImluc3RhbmNlTnVtYmVyQnVpbGRlciIsInRyaWdnZXIiLCJnZXRDdXJyZW50U3RlcCIsInJ1biIsInNob3dNYWluVGl0bGUiLCJ3b3JrZmxvd01haW5BdHRhY2hUaXRsZSIsImVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudCIsImN1cnJlbnRfc3RlcCIsIm1haW5fYXR0YWNoX2NvdW50IiwiY2ZzIiwiaW5zdGFuY2VzIiwiZmluZCIsImNvdW50IiwiZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCIsImRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSIsInN0YXJ0X3N0ZXAiLCJnZXRTdGFydFN0ZXAiLCJjYW5fZWRpdF9tYWluX2F0dGFjaCIsInN0ZXBfdHlwZSIsImVuYWJsZWRfZWRpdF9ub3JtYWxfYXR0YWNobWVudCIsImdldEZsb3ciLCJ1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQiLCJpc0NDIiwiZ2V0Q0NTdGVwIiwiY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCIsInVuZGVmaW5lZCIsIm1haW5fYXR0YWNobWVudCIsIm1haW5fYXR0YWNoIiwibm9ybWFsX2F0dGFjaG1lbnRzIiwic2VsZWN0b3IiLCIkbmUiLCJkZmlzIiwiZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyIsIiRpbiIsImRpc3RyaWJ1dGVfbWFpbiIsImZpcnN0VmVyc2lvbk1haW4iLCJtZXRhZGF0YSIsInBhcmVudCIsImF0dGFjaG1lbnRVcGxvYWRlZEF0IiwidXBsb2FkZWRBdCIsImMiLCJmaXJzdFZlcnNpb24iLCJzb3J0QnkiLCJpbnN0YW5jZUlkcyIsImF0dGFjaG1lbnRzX2NvdW50IiwiY29tcGFjdCIsImF0dGFjaG1lbnRzIiwiJG9yIiwiZmV0Y2giLCJteUFwcHJvdmUiLCJteVRyYWNlIiwiaXNJbmJveCIsImRlZmF1bHREZXNjcmlwdGlvbiIsImFwcHJvdmVfc29ydCIsImFwcHJvdmVzR3JvdXAiLCJhcHByb3Zlc19zb3J0ZWQiLCJjb21wbGV0ZWRfZGF0ZSIsImhhc05leHQiLCJoYXZlRGVzY3JpcHRpb25BcHByb3ZlIiwiaXNfY29tcGxldGVkIiwibGFzdCIsInRvcF9hcHByb3ZlcyIsInVuaW9uIiwiZmlsdGVyIiwidG9wX2FwcHJvdmUiLCJncm91cEJ5IiwiaGFuZGxlckFwcHJvdmVzIiwiZGVzY3JpcHRpb25BcHByb3ZlcyIsIl9kaXNwbGF5IiwiaXNNeUFwcHJvdmUiLCJteUFwcHJvdmVEZXNjcmlwdGlvbiIsImFwcHJvdmVJZCIsIm5vdyIsImlzT3Bpbmlvbk9mRmllbGQiLCJpbWFnZVNpZ25EYXRhIiwic2hvd1NpZ25JbWFnZSIsImdldExhc3RTaWduQXBwcm92ZSIsImdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzIiwibGFzdE15QXBwcm92ZURlc2NyaXB0aW9uIiwic2hvd0FwcHJvdmUiLCJqdWRnZV9kZXNjcmlwdGlvbiIsImlzX2FwcHJvdmVkIiwiaXNfcmVqZWN0ZWQiLCJpc19yZWFkZWQiLCJzZXRUaW1lb3V0IiwiaXMiLCJkYXRlRm9ybWF0IiwiZ2V0RnVsbFllYXIiLCJnZXRTdGVwTmFtZSIsInN0ZXBJZCIsImdldEluc3RhbmNlU3RlcCIsInNob3dEZWxldGVCdXR0b24iLCJhcHByb3ZlZCIsImZyb21fdXNlciIsImlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbiIsImFwcHJvdmVfYWRtaW5zIiwiaXNTaG93Iiwic2V0dGluZ3MiLCJ3b3JrZmxvdyIsImNvbnRhaW5zIiwiaXNFZGl0aW5nIiwiaXNfZWRpdGluZyIsImlzU2hvd0Rlc2NyaXB0aW9uIiwiZ2V0QXBwcm92ZVN0YXR1c0ljb24iLCJhcHByb3ZlSnVkZ2UiLCJhcHByb3ZlU3RhdHVzSWNvbiIsImdldEFwcHJvdmVTdGF0dXNUZXh0IiwiYXBwcm92ZVN0YXR1c1RleHQiLCJpc0ZvcndhcmQiLCJzaG93Rm9yd2FyZERlbGV0ZUJ1dHRvbiIsImZvcndhcmRfaW5zdGFuY2UiLCJpc0Rpc3RyaWJ1dGUiLCJzaG93RGlzdHJpYnV0ZURlbGV0ZUJ1dHRvbiIsImlzTGVnYWxWZXJzaW9uIiwiaGFzRmxvd0FkbWluUGVybWlzc2lvbiIsImZpbmlzaERhdGVTY2hlbWEiLCJpc0FuZHJvaWRPcklPUyIsImF1dG9mb3JtIiwib3B0aW9uYWwiLCJyZWFkb25seSIsImRhdGVUaW1lUGlja2VyT3B0aW9ucyIsImlnbm9yZVJlYWRvbmx5Iiwid2lkZ2V0UG9zaXRpb25pbmciLCJob3Jpem9udGFsIiwiZmluaXNoRGF0ZVZhbHVlcyIsInNob3dUcmFjZXNWaWV3Iiwic2hvd19tb2RhbF90cmFjZXNfbGlzdCIsInNwYWNlX3NldHRpbmdzIiwiZ2V0SW5zdGFuY2VTdGF0ZVRleHQiLCJpbnN0YW5jZV9pZCIsImdldEluc3RhbmNlU3RhdGVDb2xvciIsImNsYSIsImZpcnN0VHJhY2UiLCJsYXN0X2Rpc3RyaWJ1dGVfZnJvbSIsImRpc19pbmZvIiwiJGV4aXN0cyIsImNyZWF0ZWQiLCJjcmVhdGVkX2J5IiwiVVVmbG93X2FwaSIsImdldE5hbWVGb3JVc2VyIiwidXNlcnMiLCJmcm9tX3VzZXJfbmFtZSIsImlzRW1wdHkiLCJpc0NDT3JEaXN0cmlidXRlT3JGb3J3YXJkVGVybWluYXRlZCIsImp1ZGdlVGVybWluYXRlZCIsImluc3RhbmNlRXhpc3RzIiwiYWdlbnREZXNjcmlwdGlvbiIsInVzZXJOYW1lIiwidHJhY2VOYW1lIiwidHJhY2VJZCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbGxpbmciLCJlcnIiLCJzdWNjZXNzIiwiZm9yd2FyZF9zcGFjZSIsImZvcndhcmRzcGFjZSIsImZvcndhcmRpbnN0YW5jZSIsIlRyYWNrZXIiLCJhZnRlckZsdXNoIiwib24iLCJzY3JvbGxUb3AiLCJmaW5pc2hfaW5wdXQiLCJvcGluaW9uX2lucHV0IiwiYWxsb3dNdWx0aXBsZSIsInNob3dSZWxhdGVkSW5zdGFjZXMiLCJpc0FycmF5IiwicmVsYXRlZF9pbnN0YWNlcyIsInJlbGF0ZWRfaW5zdGFjZV91cmwiLCJpc0NvcmRvdmEiLCJzaG93X2RlbGV0ZSIsIm1ldGhvZHMiLCJzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlIiwiaW5zX2lkIiwic3RlcF9hcHByb3ZlIiwidXBkYXRlIiwiJHNldCIsImdldF9pbnN0YW5jZV9kYXRhIiwiZm9ybUNhY2hlZCIsImZsb3dDYWNoZWQiLCJjaGVjayIsIlN0cmluZyIsIkJvb2xlYW4iLCJkcmFmdF9zYXZlX2luc3RhbmNlIiwic2V0T2JqIiwidHJhY2VfaWQiLCJhcHByb3ZlX2lkIiwibmV4dF9zdGVwcyIsImFwcGxpY2FudF9pZCIsInN1Ym1pdHRlciIsInNwYWNlX2lkIiwiZmxvd19pZCIsImZvcm1faWQiLCJjdXJyZW50X3RyYWNlIiwiaWR4Iiwia2V5X3N0ciIsImN1cnJlbnRfdXNlciIsImxhbmciLCJpc0luc3RhbmNlRHJhZnQiLCJpc0luc3RhbmNlU3VibWl0dGVyIiwibW9kaWZpZWQiLCJtb2RpZmllZF9ieSIsInMiLCJzcGFjZV91c2VycyIsIm9yZ2FuaXphdGlvbiIsIm9yZ19pZCIsIm9yZ2FuaXphdGlvbnMiLCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uIiwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lIiwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZSIsIm5hbWVfZm9ydW1sYSIsImdldEluc3RhbmNlTmFtZSIsImluYm94X3NhdmVfaW5zdGFuY2UiLCJjdXJyZW50X2FwcHJvdmUiLCJpc0luc3RhbmNlUGVuZGluZyIsImlzVHJhY2VOb3RGaW5pc2hlZCIsImlzQXBwcm92ZU5vdEZpbmlzaGVkIiwiaXNIYW5kbGVyT3JBZ2VudCIsInN0YWNrIiwic3RlcF9pZCIsImgiLCJwZXJtaXNzaW9uc192YWx1ZXMiLCJnZXRBcHByb3ZlVmFsdWVzIiwiY2hhbmdlX3ZhbHVlcyIsImFwcHJvdmVNYW5hZ2VyIiwiZ2V0Q2hhbmdlVmFsdWVzIiwiZXh0ZW5kIiwidmFsdWVzX2hpc3RvcnkiLCJmb3JtX3YiLCJjY19kbyIsImNjX3VzZXJfaWRzIiwiY2NfdXNlcnMiLCJjdXJyZW50X3VzZXJfaWQiLCJuZXdfYXBwcm92ZXMiLCJzcGFjZV91c2VyIiwiYWdlbnQiLCJnZXRBZ2VudCIsImhhbmRsZXJfaWQiLCJoYW5kbGVyX2luZm8iLCJoYW5kbGVyX3NwYWNlX3VzZXIiLCJoYW5kbGVyX29yZ19pbmZvIiwiZmlsZWRzIiwiZ2V0U3BhY2VVc2VyIiwiZ2V0U3BhY2VVc2VyT3JnSW5mbyIsImFwcHIiLCJNb25nbyIsIk9iamVjdElEIiwiX3N0ciIsInNldFJlbWluZEluZm8iLCIkYWRkVG9TZXQiLCIkZWFjaCIsIiRwdXNoIiwiY3VycmVudF91c2VyX2luZm8iLCJwdXNoTWFuYWdlciIsInNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uIiwidHJpZ2dlcldlYmhvb2siLCJjY19yZWFkIiwiY2Nfc3VibWl0Iiwib3V0Ym94X3VzZXJzIiwidXBvYmoiLCJzdGFydF9kYXRlIiwiJHB1bGwiLCJzZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIiLCJjY19yZW1vdmUiLCJyZW1vdmVfdXNlcl9pZCIsIm11bHRpIiwiY2Nfc2F2ZSIsImhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCIsImlzRm9yd2FyZEF0dGFjaG1lbnRzIiwic2VsZWN0ZWRVc2VycyIsImFjdGlvbl90eXBlIiwicmVsYXRlZCIsImZyb21fYXBwcm92ZV9pZCIsIkVycm9yIiwiZm9yd2FyZF9yZW1vdmUiLCJoYXNBZG1pblBlcm1pc3Npb24iLCJmb3J3YXJkX2luc3RhbmNlX2lkIiwiaW5ib3hfdXNlcnMiLCJkZWxldGVkIiwiZGVsZXRlZF9ieSIsImRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCIsImRlbGV0ZWRfaW5zdGFuY2VzIiwiaW5zZXJ0IiwicmVtb3ZlIiwidV9pZCIsInNldF9vYmoiLCJjYW5jZWxEaXN0cmlidXRlIiwiYXBwcm92ZV9pZHMiLCJleGlzdHMiLCJjZnNfaW5zdGFuY2VzX3JlbW92ZSIsImZpbGVfaWQiLCJjZnNfaW5zdGFuY2VzX3NldF9jdXJyZW50IiwiY2ZzX2luc3RhbmNlc19sb2NrIiwidXNlcl9pZCIsInVzZXJfbmFtZSIsImNmc19pbnN0YW5jZXNfdW5sb2NrIiwiJHVuc2V0IiwiZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzayIsInNwYWNlSWQiLCJjZnNSZWNvcmRJZHMiLCJpc19jbG91ZGFkbWluIiwic3RvcmUiLCJmcyIsInJlcXVpcmUiLCJwYXRobmFtZSIsImpvaW4iLCJfX21ldGVvcl9ib290c3RyYXBfXyIsInNlcnZlckRpciIsImFic29sdXRlUGF0aCIsInJlc29sdmUiLCJzeW5jIiwidGltZSIsInF1ZXJ5IiwiZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMiLCJmaWxlTmFtZSIsImZpbGVQYXRoIiwid3JhcEFzeW5jIiwiY2FsbGJhY2siLCJ3cml0ZXIiLCJjcmVhdGVXcml0ZVN0cmVhbSIsImlzRnVuY3Rpb24iLCJyZWFkZXIiLCJjcmVhdGVSZWFkU3RyZWFtIiwicGlwZSIsInRpbWVFbmQiLCJzZXRfYXBwcm92ZV9oYXZlX3JlYWQiLCJzZWxmIiwiY2hhbmdlX2FwcHJvdmVfaW5mbyIsInVwZGF0ZV9hcHByb3ZlX3NpZ24iLCJzaWduX3R5cGUiLCJsYXN0U2lnbkFwcHJvdmUiLCJsYXN0VHJhY2UiLCJzZXNzaW9uX3VzZXJJZCIsInVwT2JqIiwiY3VzdG9tX3NpZ25fc2hvdyIsInVwZGF0ZV9zaWduX3Nob3ciLCJvYmpzIiwibXlBcHByb3ZlX2lkIiwiaW5zdGFuY2VfcmV0dXJuIiwiYXBwcm92ZV92YWx1ZXMiLCJsYXN0X3RyYWNlIiwibmV3VHJhY2UiLCJuZXdfaW5ib3hfdXNlcnMiLCJwcmVfc3RlcCIsInByZV90cmFjZSIsInIiLCJyZXN0X2NvdW50ZXJfdXNlcnMiLCJnZXRTdGVwIiwicHJldmlvdXNfdHJhY2VfaWRzIiwiZHVlX2RhdGUiLCJnZXREdWVEYXRlIiwidGltZW91dF9ob3VycyIsIm5leHRfc3RlcF91c2VyX2lkIiwibmV3QXBwcm92ZSIsIm5leHRfc3RlcF9zcGFjZV91c2VyIiwibmV4dF9zdGVwX3VzZXJfb3JnX2luZm8iLCJ1c2VyX2luZm8iLCJoYW5kbGVyX29yZ2FuaXphdGlvbiIsImlzX2Vycm9yIiwidW5pcSIsImN1cnJlbnRfc3RlcF9uYW1lIiwiaW5zdGFuY2VfcmVtaW5kIiwicmVtaW5kX3VzZXJzIiwicmVtaW5kX2NvdW50IiwicmVtaW5kX2RlYWRsaW5lIiwiYWN0aW9uX3R5cGVzIiwibGFzdF9yZW1pbmRfdXNlcnMiLCJwcmlvcml0eSIsIk1hdGNoIiwiT25lT2YiLCJhcCIsImNhY3VsYXRlX2RhdGUiLCJtYW51YWxfZGVhZGxpbmUiLCJjYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheSIsInJlbWluZF9kYXRlIiwiY2FjdWxhdGVXb3JraW5nVGltZSIsImJhc2VfZGF0ZSIsInBsdXNfaGFsZmRheV9kYXRlIiwic2VuZFJlbWluZFNNUyIsIm5leHRfc3RlcF91c2Vyc19ub3RfZm91bmQiLCJkZWFsX3R5cGUiLCJzdGVwX25hbWUiLCJwYXJhbXMiLCJhcHByb3Zlcl9yb2xlcyIsInJvbGVzIiwicm9sZXNfbmFtZSIsImZsb3dfcm9sZXMiLCJwbHVjayIsInJvbGVfbmFtZSIsIl9ldmFsIiwiX05VTUJFUiIsIl9ZWVlZIiwibnVtYmVyUnVsZXMiLCJyZXMiLCJydWxlcyIsInNjcmlwdCIsImluc3RhbmNlX251bWJlcl9ydWxlcyIsIm51bWJlciIsIllZWVkiLCJNTSIsImdldE1vbnRoIiwibW0iLCJERCIsImdldERhdGUiLCJkZCIsImZpcnN0X251bWJlciIsIk5VTUJFUiIsIm5ld05vIiwiX2Vycm9yIiwiY2hlY2tfbWFpbl9hdHRhY2giLCJjaGVja01haW5BdHRhY2giLCJyZW1vdmVfcmVsYXRlZCIsInJlX2luc19pZCIsInVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkIiwidXBkYXRlRmxvd1Bvc2l0aW9uIiwiZmxvd19wb3NpdGlvbnMiLCJyb2xlIiwib3JnIiwidXBkYXRlRmxvd1JvbGUiLCJzdGFydF9mbG93IiwiZmxvd0lkIiwic3RhcnQiLCJrZXlWYWx1ZSIsInN0YXJ0X2Zsb3dzIiwic3RlZWRvc19rZXl2YWx1ZXMiLCJnZXRfaW5zdGFuY2VfdHJhY2VzIiwibWluaUFwcHJvdmVGaWVsZHMiLCJjYXRlZ29yeUlkIiwiZmxvd0lkcyIsIl9iYXRjaF9pbnN0YW5jZXMiLCJnZXRCYXRjaEluc3RhbmNlcyIsIm15QXBwcm92ZXMiLCJpbnNJZCIsIm15X2FwcHJvdmUiLCJnZXRNeUFwcHJvdmUiLCJjaGFuZ2VfZmxvd19zdGF0ZSIsIl91c2VySWQiLCJfZmxvd3MiLCJfZmxvd3Nfc3RhdGUiLCJmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUiLCJpc1NwYWNlQWRtaW4iLCJpc192YWxpZCIsImZsb3d0eXBlIiwic3BlY2lmeVN0ZXAiLCJhcHByb3Zlcl9zdGVwIiwiX3N0ZXAiLCJmaWVsZHNfbW9kaWZpYWJsZSIsImhpZGVfaW5zdGFuY2UiLCJpc19oaWRkZW4iLCJwZXJtaXNzaW9uTWFuYWdlciIsImdldEZsb3dQZXJtaXNzaW9ucyIsInNwYWNlcyIsImFkbWlucyIsImdldEluc3RhbmNlVmFsdWVzIiwiQ29va2llcyIsImdldEluc3RhbmNlUmVhZE9ubHkiLCJyZXEiLCJuZXh0IiwiX2hhc1Blcm1pc3Npb24iLCJfbG9jYWxlIiwiX3BhcmVudF9pbnN0YW5jZXMiLCJkYXRhQnVmIiwiaGlkZV90cmFjZXMiLCJzcGFjZVVzZXJDb3VudCIsImdldEFQSUxvZ2luVXNlciIsImFjY2Vzc190b2tlbiIsImdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbiIsIkpzb25Sb3V0ZXMiLCJzZW5kUmVzdWx0IiwiaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyIsIl9wYXJlbnRfaWQiLCJfcGFyZW50X2lucyIsImNoYXJzZXQiLCJCdWZmZXIiLCJzZXRIZWFkZXIiLCJzdGF0dXNDb2RlIiwiZW5kIiwiYWRkIiwiaW5zdGFuY2VfbmFtZSIsImkiLCJyZXRfc3luY190b2tlbiIsInNwYWNlVXNlciIsInNwYWNlVXNlck9yZ2FuaXphdGlvbnMiLCJzeW5jX3Rva2VuIiwiQVBJQXV0aGVudGljYXRpb25DaGVjayIsImhlYWRlcnMiLCJjYW5Nb25pdG9yIiwiY2FuQWRtaW4iLCJOdW1iZXIiLCIkZ3QiLCIkbmluIiwiaW5ib3hfdWVycyIsInNraXAiLCJsaW1pdCIsImNvcGllcyIsImFsbENzcyIsIldlYkFwcCIsImdldFJlZnJlc2hhYmxlQXNzZXRzIiwiY3NzIiwidXJsIiwicHJvdG90eXBlIiwibCIsImciLCJtIiwiZCIsImsiLCJnZXRFYWNoIiwibWl4aW4iLCJkZXN0Iiwic3JjIiwiaGFuZGVyVXNlck9iamVjdCIsImhyIiwic29ydF9ubyIsIm1vYmlsZSIsIndvcmtfcGhvbmUiLCJwb3NpdGlvbiIsInVzZXJSb2xlcyIsImhhbmRlck9yZ09iamVjdCIsImluaXRfZm9ybXVsYV92YWx1ZXMiLCJhdXRvRm9ybURvYyIsImFwcHJvdmVyIiwiX192YWx1ZXMiLCJ0YWJsZUZpZWxkcyIsInRhYmxlVmFsdWVzIiwiZm9ybXVsYVRhYmxlVmFsdWVzIiwiX190YWJsZVZhbHVlcyIsInRhYmxlZmllbGQiLCJnZXRGb3JtdWxhVXNlck9iamVjdHMiLCJnZXRGb3JtdWxhT3JnT2JqZWN0cyIsImdldEZvcm11bGFVc2VyT2JqZWN0IiwiZ2V0SGFuZGxlcnNNYW5hZ2VyIiwiZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMiLCJ1c2VyX2lkcyIsInJvbGVfaWRzIiwiYXBwcm92ZV91c2VycyIsImdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMiLCJyb2xlX2lkIiwiZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlIiwib3JncyIsImdldEhhbmRsZXJzQnlPcmdBbmRSb2xlIiwiZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyIsIm9yZ19pZHMiLCJnZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMiLCJwYXJlbnRzIiwicG9zaXRpb25zIiwicGFyZW50X2lkIiwiZ2V0SGFuZGxlcnMiLCJfYXBwcm92ZSIsIl9zcGFjZV91c2VyIiwiX3RyYWNlIiwiYXBwbGljYW50U3VwZXJpb3JzIiwiYXBwcm92ZXJfb3JnX2ZpZWxkIiwiYXBwcm92ZXJfb3JnX2lkcyIsImFwcHJvdmVyX3VzZXJfZmllbGQiLCJhcHByb3Zlcl91c2VyX2lkcyIsImN1cnJlbnRfZmxvdyIsImN1cnJlbnRfZmxvd192ZXJzaW9uIiwiY3VycmVudF9mb3JtIiwiY3VycmVudF9zdGVwcyIsImZpZWxkX2NvZGUiLCJmaW5pc2hlZF90cmFjZXMiLCJmbG93X3JldiIsImZvcm1fcmV2IiwiaGFuZGxlcnMiLCJtYXhfc3RhcnREYXRlX3RyYWNlIiwibmV3X2FwcHJvdmVyX3VzZXJfaWRzIiwibmV3X29yZ191c2VyX2lkcyIsIm5ld2VzdF92YWx1ZXMiLCJuZXh0X3N0ZXBfdXNlcnMiLCJvcmdfaWRzX25hbWVzIiwib3JnX3VzZXJfaWRzIiwic3BhY2VfdXNlcl9jb3VudCIsInN1Ym1pdHRlcl91c2VyX2NvdW50IiwidW5maW5pc2hlZF90cmFjZSIsInVzZXJfaWRzX25hbWVzIiwidmFsaWRfYXBwcm92ZXJfb3JnX2lkcyIsImhpc3RvcnkiLCJhcHByb3Zlcl9yb2xlIiwicm9sZV9jb3VudCIsImN1cnJlbnRfZmxvd19oaXN0b3J5IiwiZm9ybV9oaXN0b3J5IiwiZm9ybV9maWVsZCIsImdldFVwZGF0ZWRWYWx1ZXMiLCJjaGVja19vcmdfY291bnQiLCJjaGVja19vcmdzIiwib3JnX2NoaWxkcmVuIiwib3JnX3VzZXJzIiwidW5zaGlmdCIsImNoZWNrX29yZ191c2VyIiwib3JnX3VzZXIiLCJjaGVja191c2VyX2NvdW50IiwiYXBwcm92ZV91c2VyIiwiY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50IiwiYXBwcm92ZXJfb3JncyIsImFwcHJvdmVyX29yZ19pZCIsInZhbGlkX2FwcHJvdmVyX29yZ19pZCIsImNoaWxkX29yZ3MiLCJ2YWxpZF9hcHByb3Zlcl9vcmciLCJjaGlsZF9vcmciLCJvcmdfdXNlcl9pZCIsInNwYWNlX3VzZXJfaW5mb19jb3VudCIsImFwcHJvdmVyX3VzZXJzIiwiYXBwcm92ZXJfdXNlcl9pZCIsIl90ciIsIl9hcHAiLCJtYW5hZ2VyIiwibXlfcGVybWlzc2lvbnMiLCJvcmdzX2Nhbl9hZGQiLCJvcmdzX2Nhbl9hZG1pbiIsIm9yZ3NfY2FuX21vbml0b3IiLCJ1c2Vyc19jYW5fYWRkIiwidXNlcnNfY2FuX2FkbWluIiwidXNlcnNfY2FuX21vbml0b3IiLCJwZXJtcyIsImxhc3RfdmFsdWVzIiwiYXBwcm92ZV92YWx1ZXNfa2V5cyIsImNoYW5nZVZhbHVlcyIsImxhc3RfdmFsdWVzX2tleXMiLCJpc0VxdWFsIiwiZmxvd01hbmFnZXIiLCJnZXRDYXRlZ29yaWVzRmxvd3MiLCJjYXRlZ29yaWVJZCIsImNhdGVnb3JpZXNGb3JtcyIsImZvcm1NYW5hZ2VyIiwiZ2V0Q2F0ZWdvcmllc0Zvcm1zIiwiZ2V0VW5DYXRlZ29yaWVzRmxvd3MiLCJ1bkNhdGVnb3JpZXNGb3JtcyIsImdldFVuQ2F0ZWdvcmllc0Zvcm1zIiwiX2ZpZWxkcyIsImNhdGVnb3J5Iiwic3RlcE1hbmFnZXIiLCJhbGxvd0JhdGNoIiwiaXNFeGlzdFN0ZXAiLCJsb2dnZXIiLCJMb2dnZXIiLCJoYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwIiwiZmllbGRfbWFwIiwiY3VycmVudEFwcHJvdmVzIiwiY3VycmVudFRyYWNlcyIsImdldEN1cnJlbnRUcmFjZSIsIm5leHRfdXNlcl9pZHMiLCJnZXROZXh0U3RlcHMiLCJpbmJveF91c2VyIiwiRklFTERTIiwiY2F0ZWdvcnlGbG93cyIsImluYm94X2luc3RhbmNlcyIsInVuQ2F0ZWdvcnlGbG93cyIsInN1Ym1pdF9kYXRlIiwiY3VycmVudFN0ZXBJZCIsInB1Ymxpc2giLCJyZWFkeSIsImNhdGVnb3JpZXMiLCJhcHAiLCJwdWJsaXNoQ29tcG9zaXRlIiwidGFibGVOYW1lIiwiaWRzIiwiT3B0aW9uYWwiLCJ1bmJsb2NrIiwiY2hpbGRyZW4iLCJjcmVhdGVUZW1wbGF0ZUZvcm1BbmRGbG93IiwiY29tcGFueV9pZCIsInZlcnNpb25JZCIsImhhbmRsZSIsImxhdGVzdCIsIm9ic2VydmVDaGFuZ2VzIiwiY2hhbmdlZCIsImFkZGVkIiwib25TdG9wIiwic3RvcCIsImZsb3dfaWRzIiwiZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VycyIsImRpc3RyaWJ1dGVfdG9fc2VsZiIsImRpc3RyaWJ1dGVfZW5kX25vdGlmaWNhdGlvbiIsImdldE1pbmlJbnN0YW5jZSIsImdldE15YXBwcm92ZU1vZGlmaWVkIiwiaW5zdGFuY2VfZmllbGRzXzAiLCJuZWVkQ2hhbmdlIiwidHJpZ2dlckNoYW5nZUZpZWxkcyIsInRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMiLCJteUFwcHJvdmVNb2RpZmllZHMiLCJyZWFkX2RhdGUiLCJfaW5zdGFuY2VJZCIsImNoYW5nZUZpZWxkcyIsIl9jaGFuZ2UiLCJfcmV2IiwiX2tleSIsIl9teV9hcHByb3ZlX21vZGlmaWVkcyIsImhhcyIsImdldEluc3RhbmNlVHJhY2VzIiwiX2luc0lkIiwiYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlIiwibGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSIsImluc3RhbmNlaWQiLCJkYXRhTWFwIiwib3BlcmF0aW9uIiwicmF3Q29sbGVjdGlvbiIsImFnZ3JlZ2F0ZSIsInRvQXJyYXkiLCJkb2MiLCJnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUiLCJnZXRTdGVwQ3VycmVudE5hbWUiLCJub3RGaW5pc2hlZFRyYWNlcyIsInN0ZXBDdXJyZW50TmFtZSIsIiRzbGljZSIsIm15TGFzdEZpbmlzaGVkQXBwcm92ZSIsImFnZW50X3VzZXJfbmFtZSIsIm15X2ZpbmlzaF9kYXRlIiwiaXNfY2MiLCJjY19jb3VudCIsImluc3RhbmNlX2lkcyIsInJlbGF0ZWRfaW5zdGFuY2VfaWRzIiwiX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUiLCJfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSIsIl9pdGVtcyIsIiRtYXRjaCIsIiRncm91cCIsIiRzdW0iLCJfY2hhbmdlRGF0YSIsIl9mbG93c0RhdGEiLCJfaW5pdCIsImRhdGFJdGVtIiwiYWN0aW9uIiwiZmxvd19pbnN0YW5jZSIsIm9ic2VydmUiLCJDcmVhdG9yIiwiZ2V0Q29sbGVjdGlvbiIsIndvcmtmbG93VGVtcGxhdGUiLCJhYnNvbHV0ZV9wYXRoX2NuIiwiYWJzb2x1dGVfcGF0aF91cyIsImZpbGVzTGlzdF9jbiIsImZpbGVzTGlzdF91cyIsIm1pbWUiLCJwYXRoX2NuIiwicGF0aF91cyIsInJlYWRGaWxlTGlzdCIsInBhdGhEaXIiLCJmaWxlc0xpc3QiLCJmaWxlcyIsInJlYWRkaXJTeW5jIiwic3RhdCIsInN0YXRTeW5jIiwiaXNEaXJlY3RvcnkiLCJ3b3JrZmxvd1RlbXBsYXRlcyIsImV4aXN0c1N5bmMiLCJmaWxlIiwiZ2V0VHlwZSIsInJlYWRGaWxlU3luYyIsImdvX25leHQiLCJydWxlIiwic2NoZWR1bGUiLCJjcm9uIiwiYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uIiwic2NoZWR1bGVKb2IiLCJiaW5kRW52aXJvbm1lbnQiLCJwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMiLCJlbmFibGVkIiwiZW5kX3RpbWUiLCIkbHRlIiwidGltZW91dF9hdXRvX3N1Ym1pdCIsInRpbWVvdXRBdXRvU3VibWl0Iiwic3BlY2lmeVVzZXJJZHMiLCJnZXRVc2VycyIsImFwcGxpY2FudElkIiwiYXBwcm92ZVJvbGVJZHMiLCJnZXRVc2VyIiwiZ2V0Um9sZVVzZXJzQnlPcmdzQW5kUm9sZXMiLCJ1c2VyRmllbGQiLCJ1c2VyRmllbGRWYWx1ZSIsIm9yZ0NoaWxkcmVucyIsIm9yZ0ZpZWxkIiwib3JnRmllbGRWYWx1ZSIsImdldE9yZ2FuaXphdGlvbnMiLCJnZXRPcmdhbml6YXRpb25zQ2hpbGRyZW5zIiwiZ2V0T3JnYW5pemF0aW9uIiwiZ2V0T3JnYW5pemF0aW9uQ2hpbGRyZW5zIiwiZ2V0T3JnYW5pemF0aW9uc1VzZXJzIiwib3JnRmllbGRVc2VycyIsInNwZWNpZnlPcmdJZHMiLCJzcGVjaWZ5T3JncyIsInNwZWNpZnlPcmdDaGlsZHJlbnMiLCJhcHByb3ZlclJvbGVJZHMiLCJnZXRSb2xlVXNlcnNCeVVzZXJzQW5kUm9sZXMiLCJzdSIsInVuaXFVc2VycyIsInVzZXJJZHMiLCJzcGFjZVVzZXJzIiwiZm9ybXVsYV92YWx1ZXMiLCJlcnJvcnMiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwiY29tcGFueUlkIiwic3BhY2VJZHMiLCJzcGFjZXNRdWVyeSIsImNoZWNrX2F1dGhvcml6YXRpb24iLCJpc19kZWxldGVkIiwiaGVscF90ZXh0IiwibmFtZV9mb3JtdWxhIiwiY29kZV9mb3JtdWxhIiwiY3VycmVudF9ubyIsImVycm9yX21lc3NhZ2UiLCJTcGFjZVVzZXJzIiwiVXNlcnMiLCJGb3JtcyIsIkZsb3dzIiwiT3JnYW5pemF0aW9ucyIsIlBvc2l0aW9ucyIsIlJvbGVzIiwiQ2F0ZWdvcmllcyIsIlNwYWNlcyIsImhhc2hEYXRhIiwiYXBwcm92ZV9mcm9tX2NsaWVudCIsIndvcmtmbG93X2VuZ2luZSIsImluc2VydGVkX2luc3RhbmNlcyIsImluc3RhbmNlX2Zyb21fY2xpZW50IiwibmV3X2lucyIsIm5ld19pbnNfaWQiLCJjcmVhdGVfaW5zdGFuY2UiLCJpbnNlcnRzIiwiZGVsZXRlX29iaiIsImdldFNwYWNlIiwic3VibWl0X2luc3RhbmNlIiwiYWxlcnRzIiwiZGlzdHJpYnV0ZWRJbnN0YW5jZXNSZW1pbmQiLCJmbG93X3Zlcl9lbmRfc3RlcCIsImZsb3dfdmVycyIsImluc3RhbmNlX2Zsb3dfdmVyIiwiaW5zdGFuY2VfdHJhY2UiLCJvbGRfY2NfdXNlcnMiLCJvbGRfaW5ib3hfdXNlcnMiLCJvbGRfb3V0Ym94X3VzZXJzIiwic3BhY2VfdXNlcl9vcmdfaW5mbyIsInRlbXBVc2VycyIsInRlcm1pbmF0ZV9yZWFzb24iLCJmX3ZlciIsImZfc3RlcCIsImNvc3RfdGltZSIsIm5mdF9hcHByb3ZlIiwiY3VycmVudF9zdGVwX2F1dG9fc3VibWl0Iiwic2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlciIsIl91c2VycyIsImFwcHJvdmVfdXNlcnNfaGFuZGxlcnMiLCJhc3NpZ25lZV9hcHByIiwiY3VycmVudF9zcGFjZV91c2VyIiwiY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiIsImluYm94X3VzZXJzX2Zyb21fY2xpZW50IiwibGFzdF90cmFjZV9mcm9tX2NsaWVudCIsIm5vdF9pbl9pbmJveF91c2VycyIsInJlYXNzaWduX3JlYXNvbiIsImRpZmZlcmVuY2UiLCJuZXdfYXBwciIsIm5ld191c2VyIiwidXNlcl9vcmdhbml6YXRpb24iLCJhaCIsImN1cnJlbnRfc2V0cCIsImN1cnJlbnRfc2V0cF90eXBlIiwibmV4dF9zdGVwIiwibmV4dF9zdGVwX25hbWUiLCJuZXh0X3N0ZXBfdHlwZSIsInJlbG9jYXRlX2FwcHIiLCJyZWxvY2F0ZV9jb21tZW50IiwicmVsb2NhdGVfaW5ib3hfdXNlcnMiLCJyZWxvY2F0ZV9uZXh0X3N0ZXAiLCJzYW1lVHJhY2VzIiwic2lnblNob3dBcHByb3ZlSWQiLCJ0YSIsInRpIiwiZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0IiwibGluZXMiLCJpc0luc3RhbmNlRmluaXNoZWRBbmROb3RBcmNoaWV2ZWQiLCJpc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4iLCJjb25uZWN0SGFuZGxlcnMiLCJ1c2UiLCJlanMiLCJlanNMaW50IiwiZW5kX2RhdGUiLCJlcnJvcl9vYmoiLCJmb3JtX25hbWUiLCJpbnNfdG9feGxzIiwibGFzdF9tb250aF9kYXRlIiwicmV0IiwidGltZXpvbmVvZmZzZXQiLCJwYXJzZUludCIsIiRndGUiLCIkYW5kIiwibGludCIsImF1dGhfdG9rZW4iLCJmb3JtaWRzIiwiaXNfYWRtaW4iLCJnZXRfU3BhY2VDaGFuZ2VTZXQiLCJsYXN0X3RyYWNlX2lkIiwib3JnX2luZm8iLCJwcmV2aW91c19zdGVwIiwicHJldmlvdXNfdHJhY2UiLCJwcmV2aW91c190cmFjZV9hcHByb3ZlcyIsInByZXZpb3VzX3RyYWNlX2lkIiwicHJldmlvdXNfdHJhY2VfbmFtZSIsInByZXZpb3VzX3RyYWNlX3N0ZXBfaWQiLCJyZXRyaWV2ZV9hcHByb3ZlIiwicmV0cmlldmVfY29tbWVudCIsInJldHJpZXZlX3R5cGUiLCJ0aGVfdHJhY2UiLCJyZXRyaWV2ZV9hcHByIiwib2xkX3NwYWNlX2lkIiwiZm9yd2FyZF91c2VycyIsIm5vX3Blcm1pc3Npb25fdXNlcl9pZHMiLCJ1aWQiLCJub19wZXJtaXNzaW9uX3VzZXJzX25hbWUiLCJuZXdfaW5zX2lkcyIsImN1cnJlbnRfdHJhY2VfaWQiLCJmb3J3YXJkX2FwcHJvdmVzIiwib2xkX3ZhbHVlcyIsIm5ld192YWx1ZXMiLCJvbGRfZm9ybSIsIm9sZF9mb3JtX3ZlcnNpb24iLCJvbGRfZmllbGRzIiwiY29tbW9uX2ZpZWxkcyIsInNlbGVjdF90b19pbnB1dF9maWVsZHMiLCJleGlzdHNfZmllbGQiLCJzZWxlY3RfaW5wdXRfZmllbGQiLCJvbGRfdiIsIm9sZF9tdWx0aVNlbGVjdGVkIiwibmV3X211bHRpU2VsZWN0ZWQiLCJvbGRfdGFibGVfcm93X3ZhbHVlcyIsIm5ld190YWJsZV9yb3dfdmFsdWVzIiwicmVjb3JkX25lZWQiLCJGT05EU0lEIiwiaXNjcmlwdCIsImNhdGVnb3J5X25hbWUiLCJnZXRDYXRlZ29yeSIsImluc19vYmoiLCJfbWFrZU5ld0lEIiwic3VibWl0dGVyX25hbWUiLCJmb3J3YXJkX2Zyb21faW5zdGFuY2UiLCJ0cmFjZV9vYmoiLCJhcHByX29iaiIsImF1dG9fcmVtaW5kIiwiZmxvd19uYW1lIiwiY29sbGVjdGlvbiIsImluc3RhbmNlSHRtbCIsImluc3RhbmNlRmlsZSIsIkZTIiwiRmlsZSIsImF0dGFjaERhdGEiLCJmcm9tIiwic2l6ZSIsIm93bmVyIiwib3duZXJfbmFtZSIsImZpbGVPYmoiLCJtYWluIiwibmV3RmlsZSIsIm9yaWdpbmFsIiwidXBkYXRlX3JlYWQiLCJyZWRpcmVjdFRvIiwid3JpdGVIZWFkIiwiYXR0YWNoIiwibm9fbGltaXRfY291bnQiLCJyZWY1IiwicmVzdWx0X2luc3RhbmNlcyIsInNwYWNlX25hbWVzIiwic3BlY2lhbF91c2VyX2lkIiwidXNlcmlkIiwidXNlcm5hbWUiLCJ3b3JrZmxvd19jYXRlZ29yaWVzIiwicmVmNiIsInJlZjciLCJzdGF0dXMiLCJhdXRoVG9rZW4iLCJzdHJpbmdpZnkiLCJpc19wYWlkIiwiYXBwbGljYW50SW5mbyIsImFwcGxpY2FudF91c2VybmFtZSIsInVzZXJfYWNjZXB0ZWQiLCJwZXJtX3VzZXJzIiwibmV4dF9zdGVwX2lkIiwicmVxdWlyZV9idXRfZW1wdHlfZmllbGRzIiwiZ2V0Rm9ybSIsImNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlIiwic3RlcG5hbWUiLCIkZWxlbU1hdGNoIiwiQnVzYm95IiwiRmliZXIiLCJwYXJzZUZpbGVzIiwiYnVzYm95IiwiaW1hZ2UiLCJmaWVsZG5hbWUiLCJmaWxlbmFtZSIsImVuY29kaW5nIiwibWltZXR5cGUiLCJidWZmZXJzIiwibWltZVR5cGUiLCJ0b0xvd2VyQ2FzZSIsInBvcCIsImRlY29kZVVSSUNvbXBvbmVudCIsImlzX3ByaXZhdGUiLCJsb2NrZWRfYnkiLCJsb2NrZWRfYnlfbmFtZSIsImF0dGFjaF9pZCIsImNvbHVtbnMiLCJmb3J3YXJkX2lucyIsImZvcndhcmRfaW5zX3ZhbHVlcyIsIm9yaWdpbmFsX2lucyIsIm9yaWdpbmFsX2luc19maWVsZHMiLCJvcmlnaW5hbF9pbnNfZm9ybSIsIm9yaWdpbmFsX2luc19pZCIsIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyIsInJlZjgiLCJyZWY5Iiwicm93X2RhdGEiLCJzdWJUYWJsZSIsInRhYmxlX2RhdGEiLCJjb2x1bW4iLCJvcmlnaW5hbF9pbnNfZmllbGQiLCJvaCIsImFfdGFibGUiLCJhX3RhYmxlX3ZhbHVlcyIsImNvbHVtbl9saXN0IiwiZF9pbnMiLCJkX2luc19maWVsZHMiLCJkX2luc19mb3JtIiwiZF9pbnNfdmFsdWVzIiwiZF9tYXRjaF9jb2wiLCJkX21hdGNoX2NvbF9maWVsZCIsImRfbWF0Y2hfY29sX2ZpZWxkcyIsImRfc3VidGFibGVfZmllbGRzIiwiZF90YWJsZSIsImRfdGFibGVfdmFsdWVzIiwib19pbnMiLCJvX2luc19maWVsZHMiLCJvX2luc19mb3JtIiwib19pbnNfaWQiLCJvX21hdGNoX2NvbCIsIm9fbWF0Y2hfY29sX2ZpZWxkIiwib19tYXRjaF9jb2xfZmllbGRzIiwib19zdWJ0YWJsZV9maWVsZHMiLCJvX3RhYmxlIiwicmVmMTAiLCJyZWYxMSIsInJlZjEyIiwicmVmMTMiLCJyZWYxNCIsInJlZjE1IiwicmVmMTYiLCJyZWYxNyIsInJlZjE4IiwicmVmMTkiLCJyZWYyMCIsInJlZjIxIiwicmVmMjIiLCJvVGFibGUiLCJkVGFibGUiLCJvTWF0Y2hDb2wiLCJkTWF0Y2hDb2wiLCJyZWZpbGxDb2wiLCJhVGFibGUiLCJvX2luc19maWVsZCIsImRfaW5zX2ZpZWxkIiwiZGgiLCJhX3JvdyIsInJlc3VsdHMiLCJjb2wiLCJjb2xzIiwiZF9jb2wiLCJkX2NvbF9maWVsZHMiLCJvX2NvbCIsIm9fY29sX2ZpZWxkcyIsImRfcm93IiwiaGFzX29iaiIsIm9fcm93IiwibmV3X3RhYmxlX3ZhbHVlcyIsInNvcnRfY29sIiwic3ViX3RhYmxlIiwic3ViX3RhYmxlX3ZhbHVlcyIsInN1bV9jb2wiLCJzdW1Db2wiLCJzb3J0Q29sIiwic2luZ2xlQ29scyIsIkpzb25Tb3J0IiwianNvbkFyciIsImFzYyIsImoiLCJqbCIsInRlbXAiLCJpc0RldmVsb3BtZW50IiwidG9fdXNlcnMiLCJvcmdJZHMiLCJUYWJ1bGFyVGFibGVzIiwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciIsIlRhYnVsYXIiLCJUYWJsZSIsIm9yZGVyYWJsZSIsInJlbmRlciIsImlucHV0Iiwic3RlcF9jdXJyZW50X25hbWUiLCJkb20iLCJsZW5ndGhDaGFuZ2UiLCJleHRyYUZpZWxkcyIsInBhZ2VMZW5ndGgiLCJpbmZvIiwic2VhcmNoaW5nIiwicmVzcG9uc2l2ZSIsImRldGFpbHMiLCJhdXRvV2lkdGgiLCJjaGFuZ2VTZWxlY3RvciIsIkdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zIiwiX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zIiwiX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyIsIl9oYW5kbGVMaXN0RmllbGRzIiwiaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciIsIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyIiwidXBkYXRlVGFidWxhclRpdGxlIiwic3VicyIsIlN1YnNNYW5hZ2VyIiwiaW5zX2ZpZWxkcyIsInB1YiIsIm9uVW5sb2FkIiwiaW5zdGFuY2VfbGlzdCIsIl90YWJsZUNvbHVtbnMiLCJkcmF3Q2FsbGJhY2siLCJlbGxpcHNpc0xpbmsiLCJlbXB0eVRkIiwiY29sU3BhbiIsImlzUGFkIiwicGVyZmVjdFNjcm9sbGJhciIsIm9JbnN0YW5jZSIsImF0dHIiLCJjbGljayIsImdvUGFnZSIsImhlaWdodCIsInBhZ2VzIiwiTWF0aCIsImNlaWwiLCJmblJlY29yZHNEaXNwbGF5IiwiX2lEaXNwbGF5TGVuZ3RoIiwiRGF0YVRhYmxlIiwicGFnZSIsImRyYXciLCJibHVyIiwiY3VycmVudFBhZ2UiLCJrZXlkb3duIiwia2V5Q29kZSIsImNyZWF0ZWRSb3ciLCJyb3ciLCJkYXRhSW5kZXgiLCJGbG93Um91dGVyIiwic2V0QXR0cmlidXRlIiwiYWdlbnRfdmlldyIsImNjX3ZpZXciLCJpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzIiwibW9kaWZpZWRGcm9tTm93IiwibW9kaWZpZWRTdHJpbmciLCJwcmlvcml0eUljb24iLCJwcmlvcml0eUljb25DbGFzcyIsInByaW9yaXR5VmFsdWUiLCJzdGVwX2N1cnJlbnRfbmFtZV92aWV3IiwidW5yZWFkIiwibW9tZW50UmVhY3RpdmVGcm9tTm93IiwidmlzaWJsZSIsImNjX3RhZyIsImxlbmd0aE1lbnUiLCJwYWdpbmdUeXBlIiwiaXNfbGlzdF9kaXNwbGF5IiwiZmlsdGVyZWRSZWNvcmRJZHMiLCJvbGRfZmlsdGVyZWRSZWNvcmRJZHMiLCJmaW5kT3B0aW9ucyIsImFnX3NvcnQiLCJhZ2dyZWdhdGVfb3BlcmF0aW9uIiwiYXN5bmNfYWdncmVnYXRlIiwiczFfMCIsInMxXzEiLCIkcHJvamVjdCIsIiR1bndpbmQiLCIkZmlyc3QiLCIkc29ydCIsIiRza2lwIiwiJGxpbWl0IiwiY2IiLCIkbGFzdCIsIm91dGJveF9pbnN0YW5jZXMiLCJmbG93SW5zdGFuY2VzIiwiUmVhY3RpdmVWYXIiLCJhdXRvcnVuIiwiX2NoYW5nZU9yZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxnQkFBSjtBQUFxQkMsTUFBTSxDQUFDQyxJQUFQLENBQVksb0NBQVosRUFBaUQ7QUFBQ0Ysa0JBQWdCLENBQUNHLENBQUQsRUFBRztBQUFDSCxvQkFBZ0IsR0FBQ0csQ0FBakI7QUFBbUI7O0FBQXhDLENBQWpELEVBQTJGLENBQTNGO0FBQ3JCSCxnQkFBZ0IsQ0FBQztBQUNoQixtQkFBaUIsUUFERDtBQUVoQkksU0FBTyxFQUFFLFFBRk87QUFHaEIsWUFBVSxTQUhNO0FBSWhCQyxRQUFNLEVBQUUsUUFKUTtBQUtoQixnQkFBYztBQUxFLENBQUQsRUFNYixrQkFOYSxDQUFoQixDOzs7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M0I7QUFBTixPQUFqQixFQUFnQztBQUFDMzNCLGdCQUFRO0FBQUNKLGdCQUFNO0FBQVA7QUFBVCxPQUFoQyxDQUFQO0FBQ0FJLGVBQUEsQ0FBQVksTUFBQVAsR0FBQUMsS0FBQSxDQUFBQyxPQUFBO0FDa0dLQyxhQUFLaUcsUUFBUSxJQUFSLEdBQWVBLEtBQUs3RyxJQUFwQixHQUEyQixLQUFLO0FEbEcxQyxTQ21HTTtBQUNESSxnQkFBUTtBQUNOLDRCQUFrQjtBQURaO0FBRFAsT0RuR04sTUN1R1UsSUR2R1YsR0N1R2lCLENBQUNrSCxPQUFPdEcsSUFBSXlGLE9BQVosS0FBd0IsSUFBeEIsR0FBK0JhLEtEdkc4Q2xILE1DdUc3RSxHRHZHNkUsTUFBOUYsR0FBOEYsTUFBOUY7QUFDQSxhQUFPQSxNQUFQO0FBTEQ7QUFBQSxHQUREO0FDZ0hBLEMiLCJmaWxlIjoiL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaGVja05wbVZlcnNpb25zIH0gZnJvbSAnbWV0ZW9yL3RtZWFzZGF5OmNoZWNrLW5wbS12ZXJzaW9ucyc7XG5jaGVja05wbVZlcnNpb25zKHtcblx0XCJub2RlLXNjaGVkdWxlXCI6IFwiXjEuMy4xXCIsXG5cdGNvb2tpZXM6IFwiXjAuNi4yXCIsXG5cdFwieG1sMmpzXCI6IFwiXjAuNC4xOVwiLFxuXHRta2RpcnA6IFwiXjAuMy41XCIsXG5cdFwic3ByaW50Zi1qc1wiOiBcIl4xLjAuM1wiLFxufSwgJ3N0ZWVkb3M6d29ya2Zsb3cnKTsiLCJXb3JrZmxvdyA9IHt9XG5cbkBJbWFnZVNpZ24gPSB7fTtcblxuQFRyYWNlc1RlbXBsYXRlID0ge307XG5cbkBJbnN0YW5jZWZvcm1UZW1wbGF0ZSA9IHt9O1xuXG5ASW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUgPSB7fTtcblxuQEluc3RhbmNlU2lnblRleHQgPSB7fVxuXG5AUmVsYXRlZEluc3RhbmNlcyA9IHt9XG5cbkBJbnN0YW5jZU1hY3JvID0ge2NvbnRleHQ6IHt9fVxuXG5AVHJhY2VzTWFuYWdlciA9IHt9O1xuXG5pZiBNZXRlb3IuaXNDbGllbnRcblx0TWV0ZW9yLnN0YXJ0dXAgLT5cblx0XHR3b3JrZmxvd190aHJlZV9jb2x1bW5zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ3b3JrZmxvd190aHJlZV9jb2x1bW5zXCIpXG5cdFx0aWYgd29ya2Zsb3dfdGhyZWVfY29sdW1ucyBhbmQgd29ya2Zsb3dfdGhyZWVfY29sdW1ucyA9PSBcIm9mZlwiXG5cdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcInRocmVlLWNvbHVtbnNcIilcblx0XHRlbHNlXG5cdFx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcInRocmVlLWNvbHVtbnNcIilcblxuXG5JbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nID0gKGZpZWxkX2Zvcm11bGEpLT5cblx0cmV0dXJuIChmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3RyYWNlcy5cIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt5aWppYW5sYW46XCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntcXFwieWlqaWFubGFuXFxcIjpcIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwieyd5aWppYW5sYW4nOlwiKSA+IC0xKVxuXG5JbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkID0gKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxuXHRmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuXG5cdF9mb3JtX3ZlcnNpb24gPSB7fVxuXG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdF9mb3JtX3ZlcnNpb24gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGRiLmZvcm1zLmZpbmRPbmUoe19pZDogZm9ybX0pLCBmb3JtX3ZlcnNpb24pXG5cdGVsc2Vcblx0XHRfZm9ybV92ZXJzaW9uID0gZGIuZm9ybV92ZXJzaW9ucy5maW5kT25lKHtfaWQ6IGZvcm1fdmVyc2lvbiwgZm9ybTogZm9ybX0pXG5cblx0ZmllbGRzID0gX2Zvcm1fdmVyc2lvbj8uZmllbGRzIHx8IFtdXG5cblx0ZmllbGRzLmZvckVhY2ggKGYpLT5cblx0XHRpZiBmLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0Y29uc29sZS5sb2cgJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJ1xuXHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0Zj8uZmllbGRzPy5mb3JFYWNoIChmMSktPlxuXHRcdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYxLmZvcm11bGFcblx0XHRlbHNlXG5cdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYuZm9ybXVsYVxuXG5cdF8uc29tZSBmaWVsZF9mb3JtdWxhcywgKGZpZWxkX2Zvcm11bGEpLT5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxuXG4iLCIgICAgICAgICAgICAgXG5cbldvcmtmbG93ID0ge307XG5cbnRoaXMuSW1hZ2VTaWduID0ge307XG5cbnRoaXMuVHJhY2VzVGVtcGxhdGUgPSB7fTtcblxudGhpcy5JbnN0YW5jZWZvcm1UZW1wbGF0ZSA9IHt9O1xuXG50aGlzLkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlID0ge307XG5cbnRoaXMuSW5zdGFuY2VTaWduVGV4dCA9IHt9O1xuXG50aGlzLlJlbGF0ZWRJbnN0YW5jZXMgPSB7fTtcblxudGhpcy5JbnN0YW5jZU1hY3JvID0ge1xuICBjb250ZXh0OiB7fVxufTtcblxudGhpcy5UcmFjZXNNYW5hZ2VyID0ge307XG5cbmlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHdvcmtmbG93X3RocmVlX2NvbHVtbnM7XG4gICAgd29ya2Zsb3dfdGhyZWVfY29sdW1ucyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwid29ya2Zsb3dfdGhyZWVfY29sdW1uc1wiKTtcbiAgICBpZiAod29ya2Zsb3dfdGhyZWVfY29sdW1ucyAmJiB3b3JrZmxvd190aHJlZV9jb2x1bW5zID09PSBcIm9mZlwiKSB7XG4gICAgICByZXR1cm4gJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJChcImJvZHlcIikuYWRkQ2xhc3MoXCJ0aHJlZS1jb2x1bW5zXCIpO1xuICAgIH1cbiAgfSk7XG59XG5cbkluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcgPSBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gIHJldHVybiAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3lpamlhbmxhbjpcIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntcXFwieWlqaWFubGFuXFxcIjpcIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInsneWlqaWFubGFuJzpcIikgOiB2b2lkIDApID4gLTE7XG59O1xuXG5JbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkID0gZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gIHZhciBfZm9ybV92ZXJzaW9uLCBmaWVsZF9mb3JtdWxhcywgZmllbGRzO1xuICBmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuICBfZm9ybV92ZXJzaW9uID0ge307XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBfZm9ybV92ZXJzaW9uID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybVxuICAgIH0pLCBmb3JtX3ZlcnNpb24pO1xuICB9IGVsc2Uge1xuICAgIF9mb3JtX3ZlcnNpb24gPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmb3JtX3ZlcnNpb24sXG4gICAgICBmb3JtOiBmb3JtXG4gICAgfSk7XG4gIH1cbiAgZmllbGRzID0gKF9mb3JtX3ZlcnNpb24gIT0gbnVsbCA/IF9mb3JtX3ZlcnNpb24uZmllbGRzIDogdm9pZCAwKSB8fCBbXTtcbiAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgIHZhciByZWY7XG4gICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZScpO1xuICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmMS5mb3JtdWxhKTtcbiAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmLmZvcm11bGEpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfLnNvbWUoZmllbGRfZm9ybXVsYXMsIGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgfSk7XG59O1xuIiwiZGIuYXV0aF90b2tlbnMgPSBuZXcgTWV0ZW9yLkNvbGxlY3Rpb24oJ2F1dGhfdG9rZW5zJykiLCJJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUgPSB7fTtcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiXCJcIlxuXHQ8dHI+XG5cdFx0PHRkIGNsYXNzPVwiaW5zLWF0dGFjaC12aWV3XCI+XG5cdFx0XHQ8YSBocmVmPVwie3tpbnNfYXR0YWNoX2Rvd25sb2FkX3VybCBfaWQgYWJzb2x1dGV9fVwiIGNsYXNzPVwiaW5zX2F0dGFjaF9ocmVmXCIgdGFyZ2V0PVwiX3BhcmVudFwiIGRhdGEtbmFtZT1cInt7dGhpcy5uYW1lfX1cIiBkYXRhLXR5cGU9XCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XCIgZGF0YS1pZD1cInt7X2lkfX1cIj57e3RoaXMubmFtZX19PC9hPlxuXHRcdDwvdGQ+XG5cdDwvdHI+XG5cIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmU2VsZWN0VXNlclJlYWQgPSBcIlwiXCJcblx0PGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XG5cIlwiXCJcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXBSZWFkID0gXCJcIlwiXG5cdDxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxuXHRcdHt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd0YWJsZSd9fVxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCIgc3R5bGU9XCJwYWRkaW5nOjBweDtcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiA+XG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInJlYWRvbmx5LXRhYmxlXCIgc3R5bGU9XCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cInt7dGhpcy5jb2RlfX1UYWJsZVwiIG5hbWU9XCJ7e3RoaXMuY29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3t0aGlzLm5hbWV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XCJ7e3RoaXMubmFtZX19VGhlYWRcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRoZWFkXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cInt7dGhpcy5uYW1lfX1UYm9keVwiIG5hbWU9XCJ7e3RoaXMubmFtZX19VGJvZHlcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5PlxuXHRcdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxuXHRcdFx0XHRcdFx0PGxhYmVsPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svaWZ9fVxuXHRcdHt7L3dpdGh9fVxuXHQ8L2Rpdj5cblwiXCJcIlxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlwiXCJcblxuXHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XG5cdFx0XHRcdFx0PC9kaXY+XG4gIFx0XHRcdFx0PC9kaXY+XG5cdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiIHN0eWxlPVwicGFkZGluZzowcHg7XCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgPlxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGVzY3JpcHRpb25cIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJyZWFkb25seS10YWJsZVwiIHN0eWxlPVwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1wiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XCJ7e3RoaXMuY29kZX19VGFibGVcIiBuYW1lPVwie3t0aGlzLmNvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7dGhpcy5uYW1lfX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVwie3t0aGlzLm5hbWV9fVRoZWFkXCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UaGVhZFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XCJ7e3RoaXMubmFtZX19VGJvZHlcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRib2R5XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2lucHV0J319XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiIGRhdGEtcmVxdWlyZWQ9XCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cIj5cblx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIge3tnZXRQZXJtaXNzaW9ucyBjb2RlfX0gZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdudW1iZXInfX1cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJudW1iZXJcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlJ319XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXR5cGU9XCJkYXRlXCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlVGltZSd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS10eXBlPSdkYXRldGltZScgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdwYXNzd29yZCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VsZWN0J319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzZWxlY3QgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cInt7dmFsdWV9fVwiPnt7bGFiZWx9fTwvb3B0aW9uPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvc2VsZWN0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdyYWRpbyd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWYtcmFkaW8tZ3JvdXBcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cbiAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgdmFsdWU9XCJ7e3ZhbHVlfX1cIiBuYW1lPVwie3suLi9jb2RlfX1cIiBjbGFzcz1cInJhZGlvLWlubGluZSBmaXgtaW5kZW50XCI+IHt7bGFiZWx9fTwvbGFiZWw+XG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbXVsdGlTZWxlY3QnfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFmLWNoZWNrYm94LWdyb3VwXCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwie3t2YWx1ZX19XCIgbmFtZT1cInt7Li4vY29kZX19XCIgY2xhc3M9XCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFwiPiB7e2xhYmVsfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3VybCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInVybFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2VtYWlsJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiZW1haWxcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdjaGVja2JveCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2hlY2tib3hcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwidHJ1ZVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGNsYXNzPVwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcIj48L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J3t7Z2V0Q2ZDbGFzcyB0aGlzfX0gZm9ybS1jb250cm9sJyByZWFkb25seSBkaXNhYmxlZD57e3tnZXRWYWx1ZSBjb2RlfX19PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svaWZ9fVxuXHRcdHt7L3dpdGh9fVxuXCJcIlwiXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUgPSAodGVtcGFsdGVOYW1lLCBzdGVlZG9zRGF0YSkgLT5cblx0dGVtcGxhdGUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGVbdGVtcGFsdGVOYW1lXVxuXG5cdHRlbXBsYXRlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0dGVtcGxhdGVSZW5kZXJGdW5jdGlvbiA9IGV2YWwodGVtcGxhdGVDb21waWxlZCk7XG5cblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZSh0ZW1wYWx0ZU5hbWUsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24pO1xuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUluc3RhbmNlU2lnblRleHQgPSAoc3RlZWRvc0RhdGEpLT5cblx0aW5zdGFuY2VTaWduVGV4dEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9zaWduX3RleHQuaHRtbCcpXG5cblx0aW5zdGFuY2VTaWduVGV4dENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVNpZ25UZXh0SHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VTaWduVGV4dFwiLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24pO1xuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzIEluc3RhbmNlU2lnblRleHQuaGVscGVyc1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduID0gKHN0ZWVkb3NEYXRhKSAtPlxuXHRpbWFnZVNpZ25IdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW1hZ2Vfc2lnbi5odG1sJylcblx0aW1hZ2VTaWduQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGltYWdlU2lnbkh0bWwsIHtpc0JvZHk6IHRydWV9KTtcblx0aW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24gPSBldmFsKGltYWdlU2lnbkNvbXBpbGVkKTtcblx0VGVtcGxhdGUuaW1hZ2VTaWduID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW1hZ2VTaWduXCIsIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uKTtcblx0VGVtcGxhdGUuaW1hZ2VTaWduLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGUuaW1hZ2VTaWduLmhlbHBlcnMgSW1hZ2VTaWduLmhlbHBlcnNcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdCA9IChzdGVlZG9zRGF0YSkgLT5cblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmU2VsZWN0VXNlclJlYWRcIiwgc3RlZWRvc0RhdGEpO1xuXG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFwiLCBzdGVlZG9zRGF0YSk7XG5cblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJpbnN0YW5jZV9hdHRhY2htZW50XCIsIHthYnNvbHV0ZTogc3RlZWRvc0RhdGEuYWJzb2x1dGV9KTtcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduKHN0ZWVkb3NEYXRhKVxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0KHN0ZWVkb3NEYXRhKVxuXG5cblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlID0gKHZhbHVlLCBmaWVsZCwgbG9jYWxlLCB1dGNPZmZzZXQpIC0+XG5cdGlmICF2YWx1ZSAmJiB2YWx1ZSAhPSBmYWxzZVxuXHRcdHJldHVybiAnJ1xuXHRzd2l0Y2ggZmllbGQudHlwZVxuXHRcdHdoZW4gJ2VtYWlsJ1xuXHRcdFx0dmFsdWUgPSBpZiB2YWx1ZSB0aGVuICc8YSBocmVmPVxcJ21haWx0bzonICsgdmFsdWUgKyAnXFwnPicgKyB2YWx1ZSArICc8L2E+JyBlbHNlICcnXG5cdFx0d2hlbiAndXJsJ1xuXHRcdFx0aWYgdmFsdWVcblx0XHRcdFx0aWYgdmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT0gMFxuXHRcdFx0XHRcdHRyeVxuXHRcdFx0XHRcdFx0dmFsdWUgPSBcIjxhIGhyZWY9J1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuXHRcdFx0XHRcdGNhdGNoIGVcblx0XHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG5cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gJydcblx0XHR3aGVuICdncm91cCdcblx0XHRcdGlmIGZpZWxkLmlzX211bHRpc2VsZWN0XG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/LmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIikudG9TdHJpbmcoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5mdWxsbmFtZVxuXHRcdHdoZW4gJ3VzZXInXG5cdFx0XHRpZiBmaWVsZC5pc19tdWx0aXNlbGVjdFxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5uYW1lXG5cdFx0d2hlbiAncGFzc3dvcmQnXG5cdFx0XHR2YWx1ZSA9ICcqKioqKionXG5cdFx0d2hlbiAnY2hlY2tib3gnXG5cdFx0XHRpZiB2YWx1ZSAmJiB2YWx1ZSAhPSAnZmFsc2UnXG5cdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIiwge30sIGxvY2FsZSlcblx0XHR3aGVuICdkYXRlVGltZSdcblx0XHRcdGlmIHZhbHVlICYmIHZhbHVlLmxlbmd0aCA9PSAxNlxuXHRcdFx0XHR0ID0gdmFsdWUuc3BsaXQoXCJUXCIpXG5cdFx0XHRcdHQwID0gdFswXS5zcGxpdChcIi1cIik7XG5cdFx0XHRcdHQxID0gdFsxXS5zcGxpdChcIjpcIik7XG5cblx0XHRcdFx0eWVhciA9IHQwWzBdO1xuXHRcdFx0XHRtb250aCA9IHQwWzFdO1xuXHRcdFx0XHRkYXRlID0gdDBbMl07XG5cdFx0XHRcdGhvdXJzID0gdDFbMF07XG5cdFx0XHRcdHNlY29uZHMgPSB0MVsxXTtcblxuXHRcdFx0XHR2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gbmV3IERhdGUodmFsdWUpXG5cblx0XHRcdHZhbHVlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUodmFsdWUsIHV0Y09mZnNldCk7XG5cdFx0d2hlbiAnaW5wdXQnXG5cdFx0XHRpZiBmaWVsZC5pc190ZXh0YXJlYVxuXHRcdFx0XHR2YWx1ZSA9IFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKHZhbHVlKSlcblx0XHR3aGVuICdudW1iZXInXG5cdFx0XHRpZiB2YWx1ZSBvciB2YWx1ZSA9PSAwXG5cdFx0XHRcdGlmIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJ1xuXHRcdFx0XHRcdHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSlcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZS50b0ZpeGVkKGZpZWxkLmRpZ2l0cylcblx0XHRcdFx0dmFsdWUgPSBTdGVlZG9zLm51bWJlclRvU3RyaW5nIHZhbHVlLCBsb2NhbGVcblx0XHR3aGVuICdvZGF0YSdcblx0XHRcdHZhbHVlID0gdmFsdWVbJ0BsYWJlbCddXG5cblx0cmV0dXJuIHZhbHVlO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgPSAoZmllbGRzLCBjb2RlKSAtPlxuXHRmaWVsZCA9IGZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKVxuXHRpZiBmaWVsZFxuXHRcdGlmIGZpZWxkLm5hbWVcblx0XHRcdHJldHVybiBmaWVsZC5uYW1lXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZpZWxkLmNvZGVcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbiA9IChpbnN0YW5jZSktPlxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblxuXHRmb3JtX3ZlcnNpb24gPSB7fVxuXG5cdGZvcm1fZmllbGRzID0gW107XG5cblx0aWYgZm9ybS5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mb3JtX3ZlcnNpb25cblx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnRcblx0ZWxzZVxuXHRcdGZvcm1fdmVyc2lvbiA9IF8ud2hlcmUoZm9ybS5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9ufSlbMF1cblxuXHRmb3JtX3ZlcnNpb24uZmllbGRzLmZvckVhY2ggKGZpZWxkKS0+XG5cdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbidcblx0XHRcdGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuXHRcdFx0aWYgZmllbGQuZmllbGRzXG5cdFx0XHRcdGZpZWxkLmZpZWxkcy5mb3JFYWNoIChmKSAtPlxuXHRcdFx0XHRcdGZvcm1fZmllbGRzLnB1c2goZik7XG5cdFx0ZWxzZSBpZiBmaWVsZC50eXBlID09ICd0YWJsZSdcblx0XHRcdGZpZWxkWydzZmllbGRzJ10gPSBmaWVsZFsnZmllbGRzJ11cblx0XHRcdGRlbGV0ZSBmaWVsZFsnZmllbGRzJ11cblx0XHRcdGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuXHRcdGVsc2Vcblx0XHRcdGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuXG5cdGZvcm1fdmVyc2lvbi5maWVsZHMgPSBmb3JtX2ZpZWxkcztcblxuXHRyZXR1cm4gZm9ybV92ZXJzaW9uO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24gPSAoaW5zdGFuY2UpLT5cblx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XG5cdGZsb3dfdmVyc2lvbiA9IHt9XG5cdGlmIGZsb3cuY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uXG5cdFx0Zmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50XG5cdGVsc2Vcblx0XHRmbG93X3ZlcnNpb24gPSBfLndoZXJlKGZsb3cuaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZsb3dfdmVyc2lvbn0pWzBdXG5cblx0cmV0dXJuIGZsb3dfdmVyc2lvbjtcblxuXG5fZ2V0Vmlld0h0bWwgPSAocGF0aCkgLT5cblx0dmlld0h0bWwgPSBBc3NldHMuZ2V0VGV4dChwYXRoKVxuXG5cdGlmIHZpZXdIdG1sXG5cdFx0dmlld0h0bWwgPSB2aWV3SHRtbC5yZXBsYWNlKC88dGVtcGxhdGVbXFx3XFxzXFxcIlxcPSddKz4vaSxcIlwiKS5yZXBsYWNlKC88XFwvdGVtcGxhdGU+L2ksXCJcIilcblxuXHRyZXR1cm4gdmlld0h0bWw7XG5cbl9nZXRMb2NhbGUgPSAodXNlciktPlxuXHRpZiB1c2VyPy5sb2NhbGU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRlbHNlIGlmIHVzZXI/LmxvY2FsZT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnZW4tdXMnXG5cdFx0bG9jYWxlID0gXCJlblwiXG5cdGVsc2Vcblx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0cmV0dXJuIGxvY2FsZVxuXG5cbl9nZXRSZXF1aXJlZEZpZWxkcyA9IChmaWVsZHMsIHJldiktPlxuXHRpZiAhcmV2XG5cdFx0cmV2ID0gW107XG5cblx0ZmllbGRzLmZvckVhY2ggKGZpZWxkKS0+XG5cdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbidcblx0XHRcdF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZC5maWVsZHMsIHJldilcblx0XHRlbHNlIGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXG5cdFx0ZWxzZVxuXHRcdFx0aWYgZmllbGQuaXNfcmVxdWlyZWRcblx0XHRcdFx0cmV2LnB1c2ggZmllbGQuY29kZVxuXHRyZXR1cm4gcmV2O1xuXG5fZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSAoZmllbGRzLCBzdGVwcyktPlxuXHRzdGFydFN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcF90eXBlXCIsXCJzdGFydFwiKVxuXG5cdGVkaXRhYmxlQ29kZSA9IFtdXG5cblx0Xy5rZXlzKHN0YXJ0U3RlcC5wZXJtaXNzaW9ucykuZm9yRWFjaCAoa2V5KS0+XG5cdFx0aWYgc3RhcnRTdGVwLnBlcm1pc3Npb25zW2tleV0gPT0gJ2VkaXRhYmxlJ1xuXHRcdFx0ZWRpdGFibGVDb2RlLnB1c2gga2V5XG5cblx0cmV0dXJuIGVkaXRhYmxlQ29kZVxuXG5fZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMgPSAoZmllbGRzLCBzdGVwcyktPlxuXHRyZXF1aXJlZEZpZWxkcyA9IF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZHMpXG5cblx0ZWRpdGFibGVDb2RlID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZpZWxkcywgc3RlcHMpXG5cblx0cmV0dXJuIF8uaW50ZXJzZWN0aW9uKHJlcXVpcmVkRmllbGRzLCBlZGl0YWJsZUNvZGUpXG5cbl9nZXRUZW1wbGF0ZURhdGEgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdGZvcm1fdmVyc2lvbiA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKVxuXHRlbHNlXG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpXG5cblx0bG9jYWxlID0gX2dldExvY2FsZSh1c2VyKVxuXG5cdHN0ZWVkb3NEYXRhID0ge31cblxuXHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRzdGVlZG9zRGF0YSA9IF8uY2xvbmUoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpKVxuXHRcdHN0ZWVkb3NEYXRhLmluc25hbWUgPSBpbnN0YW5jZS5uYW1lXG5cdFx0c3RlZWRvc0RhdGEuaW5zX3N0YXRlID0gaW5zdGFuY2Uuc3RhdGVcblx0XHRzdGVlZG9zRGF0YS5pbnNfZmluYWxfZGVjaXNpb24gPSBpbnN0YW5jZS5pbnNfZmluYWxfZGVjaXNpb25cblx0XHRzdGVlZG9zRGF0YS5pbnNfY29kZSA9IGluc3RhbmNlLmNvZGVcblx0XHRzdGVlZG9zRGF0YS5pbnNfaXNfYXJjaGl2ZWQgPSBpbnN0YW5jZS5pc19hcmNoaXZlZFxuXHRcdHN0ZWVkb3NEYXRhLmluc19pc19kZWxldGVkID0gaW5zdGFuY2UuaW5zX2lzX2RlbGV0ZWRcblx0XHRzdGVlZG9zRGF0YS5hcHBsaWNhbnRfbmFtZSA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lXG5cdFx0c3RlZWRvc0RhdGEuYXBwbGljYW50Q29udGV4dCA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lXG5cblx0c3RlZWRvc0RhdGEuaW5zdGFuY2UgPSBpbnN0YW5jZVxuXHRzdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb24gPSBmb3JtX3ZlcnNpb25cblx0c3RlZWRvc0RhdGEubG9jYWxlID0gbG9jYWxlXG5cdHN0ZWVkb3NEYXRhLnV0Y09mZnNldCA9IHVzZXIudXRjT2Zmc2V0XG5cdHN0ZWVkb3NEYXRhLnNwYWNlID0gaW5zdGFuY2Uuc3BhY2Vcblx0c3RlZWRvc0RhdGEuc2Vzc2lvblVzZXJJZCA9IHVzZXIuX2lkXG5cblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0aWYgb3B0aW9ucz8uZWRpdGFibGVcblx0XHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlLmZvcm19KVxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mbG93fSlcblxuXHRcdFx0c3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZm9ybS5jdXJyZW50LmZpZWxkcywgZmxvdy5jdXJyZW50LnN0ZXBzKTtcblxuXHRyZXR1cm4gc3RlZWRvc0RhdGE7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlID0gKGRhdGUsIHV0Y09mZnNldCktPlxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRwYXNzaW5nID0gZmFsc2U7XG5cdGVsc2Vcblx0XHRwYXNzaW5nID0gdHJ1ZTtcblxuXHRpZiAhdXRjT2Zmc2V0ICYmIHV0Y09mZnNldCAhPTBcblx0XHR1dGNPZmZzZXQgPSA4XG5cblx0cmV0dXJuIG1vbWVudChkYXRlKS51dGNPZmZzZXQodXRjT2Zmc2V0LCBwYXNzaW5nKS5mb3JtYXQoXCJZWVlZLU1NLUREIEhIOm1tXCIpO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxuXG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXG5cblx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcblxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxuXHRcdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcblxuXHRpbnN0YW5jZVRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlLCBvcHRpb25zPy50ZW1wbGF0ZU5hbWUpO1xuXG5cdGluc3RhbmNlVGVtcGxhdGUgPSBpbnN0YW5jZVRlbXBsYXRlLnJlcGxhY2UoL2FmU2VsZWN0VXNlci9nLFwiYWZTZWxlY3RVc2VyUmVhZFwiKVxuXG5cdGlmICFvcHRpb25zPy5lZGl0YWJsZVxuXHRcdGluc3RhbmNlVGVtcGxhdGUgPSBpbnN0YW5jZVRlbXBsYXRlLnJlcGxhY2UoL2FmRm9ybUdyb3VwL2csXCJhZkZvcm1Hcm91cFJlYWRcIilcblxuXHRpbnN0YW5jZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVRlbXBsYXRlLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0aW5zdGFuY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VDb21waWxlZCk7XG5cblx0VGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlX3JlYWRvbmx5X3ZpZXdcIiwgaW5zdGFuY2VSZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXG5cblx0VGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcblxuXHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdChzdGVlZG9zRGF0YSk7XG5cblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcsIHN0ZWVkb3NEYXRhKVxuXG5cdHJldHVybiBcIlwiXCJcblx0XHQ8ZGl2IGlkPSdpbnN0YW5jZWZvcm0nID5cblx0XHRcdCN7Ym9keX1cblx0XHQ8L2Rpdj5cblx0XCJcIlwiXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxuXG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cdGlmIGZvcm0uaW5zdGFuY2Vfc3R5bGUgPT0gXCJ0YWJsZVwiIHx8IG9wdGlvbnM/LnRlbXBsYXRlTmFtZSA9PSBcInRhYmxlXCJcblx0XHR0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzX3RhYmxlLmh0bWwnKVxuXHRlbHNlXG5cdFx0dHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlcy5odG1sJylcblxuXHR0cmFjZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0cmFjZXNIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0dHJhY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VDb21waWxlZCk7XG5cblx0VGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInRyYWNlX3JlYWRvbmx5X3ZpZXdcIiwgdHJhY2VSZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXG5cblx0VGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnNcblxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldywgaW5zdGFuY2UudHJhY2VzKVxuXG5cdHJldHVybiBib2R5O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlKS0+XG5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblxuXHRhdHRhY2htZW50SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX2F0dGFjaG1lbnRzLmh0bWwnKVxuXG5cdGF0dGFjaG1lbnRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoYXR0YWNobWVudEh0bWwsIHtpc0JvZHk6IHRydWV9KTtcblxuXHRhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24gPSBldmFsKGF0dGFjaG1lbnRDb21waWxlZCk7XG5cblx0VGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXdcIiwgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblxuXHRUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LmhlbHBlcnMgSW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVyc1xuXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3KVxuXG5cdHJldHVybiBib2R5O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cblx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcblxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxuXHRcdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcblxuXHRyZWxhdGVkSW5zdGFuY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfaW5zdGFuY2VzLmh0bWwnKVxuXG5cdHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZEluc3RhbmNlc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcblxuXHRyZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24gPSBldmFsKHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCk7XG5cblx0VGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXdcIiwgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LmhlbHBlcnMgUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzXG5cblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcsIHN0ZWVkb3NEYXRhKVxuXG5cdHJldHVybiBib2R5O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0ID0gKGluc3RhbmNlKS0+XG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXG5cblx0Zm9ybV9zY3JpcHQgPSBmb3JtX3ZlcnNpb24uZm9ybV9zY3JpcHQ7XG5cblx0aWYgZm9ybV9zY3JpcHQgJiYgZm9ybV9zY3JpcHQucmVwbGFjZSgvXFxuL2csXCJcIikucmVwbGFjZSgvXFxzL2csXCJcIikubGVuZ3RoID4gMFxuXHRcdGZvcm1fc2NyaXB0ID0gXCJDb3JlRm9ybSA9IHt9O0NvcmVGb3JtLmluc3RhbmNlZm9ybSA9IHt9O1wiICsgZm9ybV9zY3JpcHRcblx0XHRmb3JtX3NjcmlwdCArPSBcIjtpZihDb3JlRm9ybS5mb3JtX09uTG9hZCl7d2luZG93Lm9ubG9hZCA9IENvcmVGb3JtLmZvcm1fT25Mb2FkKCk7fVwiXG5cdGVsc2Vcblx0XHRmb3JtX3NjcmlwdCA9IFwiXCJcblxuXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cblx0Ym9keSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcblxuXHRvbkxvYWRTY3JpcHQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0KGluc3RhbmNlKTtcblxuXHRvcGVuRmlsZVNjcmlwdCA9IFwiXCJcIlxuXHRcdFx0aWYod2luZG93LmlzTm9kZSAmJiBpc05vZGUoKSl7XG5cdFx0XHRcdGF0dGFjaHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5zX2F0dGFjaF9ocmVmXCIpO1xuXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYXR0YWNocy5sZW5ndGg7IGkrKyl7XG5cdFx0XHRcdFx0YXR0YWNoID0gYXR0YWNoc1tpXTtcblx0XHRcdFx0XHRhdHRhY2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRcdFx0aWYoaXNJbWFnZSh0aGlzLmRhdGFzZXQudHlwZSkgfHwgaXNIdG1sKHRoaXMuZGF0YXNldC50eXBlKSl7XG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0b3BlbldpbmRvdyhcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgdGhpcy5kYXRhc2V0LmlkKTtcblx0XHRcdFx0XHRcdH1lbHNlIGlmKG53X2NvcmUuY2FuT3BlbkZpbGUodGhpcy5kYXRhc2V0Lm5hbWUpKXtcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRud19jb3JlLm9wZW5GaWxlKHRoaXMuaHJlZiwgdGhpcy5kYXRhc2V0Lm5hbWUpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dmFyIGZsb3cgPSBcIiN7aW5zdGFuY2UuZmxvd31cIjtcblx0XHRcdHZhciBzcGFjZSA9IFwiI3tpbnN0YW5jZS5zcGFjZX1cIjtcblxuXHRcIlwiXCI7XG5cblxuXHRpZiAhU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cdFx0aWYgZm9ybT8uaW5zdGFuY2Vfc3R5bGUgPT0gJ3RhYmxlJ1xuXHRcdFx0aW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCJcblxuXHRpZiBvcHRpb25zPy50ZW1wbGF0ZU5hbWUgPT0gJ3RhYmxlJ1xuXHRcdGluc3RhbmNlX3N0eWxlID0gXCJpbnN0YW5jZS10YWJsZVwiXG5cblx0aWYgb3B0aW9ucz8uaW5zdGFuY2Vfc3R5bGVcblx0XHRpbnN0YW5jZV9zdHlsZSA9IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGVcblxuXHRpZiAhb3B0aW9ucyB8fCBvcHRpb25zLnNob3dUcmFjZSA9PSB0cnVlXG5cdFx0dHJhY2UgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cdGVsc2Vcblx0XHR0cmFjZSA9IFwiXCJcblxuXHRpbnN0YW5jZUJveFN0eWxlID0gXCJcIjtcblxuXHRpZiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5maW5hbF9kZWNpc2lvblxuXHRcdGlmIGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09IFwiYXBwcm92ZWRcIlxuXHRcdFx0aW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LXN1Y2Nlc3NcIlxuXHRcdGVsc2UgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09IFwicmVqZWN0ZWRcIilcblx0XHRcdGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1kYW5nZXJcIlxuXHRpZiAhb3B0aW9ucyB8fCBvcHRpb25zLnNob3dBdHRhY2htZW50cyA9PSB0cnVlXG5cdFx0YXR0YWNobWVudCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50Vmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cdGVsc2Vcblx0XHRhdHRhY2htZW50ID0gXCJcIlxuXG5cdHJlbGF0ZWRfaW5zdGFuY2VzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblxuXHRhYnNvbHV0ZVVybCA9IE1ldGVvci5hYnNvbHV0ZVVybCgpXG5cblx0d2lkdGggPSBcIjk2MHB4XCJcbiNcdOWmguaenOe7mXRhYmxl55qEcGFyZW506K6+572ud2lkdGjvvIzliJnkvJrlr7zoh7TpmL/ph4zkupHpgq7nrrHmmL7npLp0YWJsZSDlvILluLhcblx0aWYgb3B0aW9ucz8ud2lkdGhcblx0XHR3aWR0aCA9IFwiXCJcblxuXHRjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwic3RlZWRvcy1jc3NcIilcblxuXHRhbGxDc3NMaW5rID0gXCJcIlwiPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGNsYXNzPVwiX19tZXRlb3ItY3NzX19cIiBocmVmPVwiI3tjc3NIcmVmfVwiPlwiXCJcIlxuXG5cdHN1Ym1pdF9idG4gPSBcIlwiXG5cdGluc3RhbmNlVHJhY2VzU3R5bGUgPSBcIlwiXG5cbiNcdGlmIG9wdGlvbnM/LmVkaXRhYmxlXG4jXHRcdHN1Ym1pdF9idG4gPSAnPGEgY2xhc3M9XCJidG4gYnRuLWJsb2NrIGJ0bi1zb2NpYWwgYnRuLXN0ZWVkb3Mtd29ya2Zsb3dcIiBvbmNsaWNrPVwid2Muc3VibWl0KClcIj48aSBjbGFzcz1cImZhIGZhLWZhY2Vib29rXCI+PC9pPiDmj5DkuqTliLDlrqHmibnnjos8L2E+J1xuXHRpZiBvcHRpb25zPy50YWdnZXIgPT0gJ2VtYWlsJ1xuXHRcdHNob3dUcmFjZXNCdG4gPSBcIlwiXG5cdGVsc2Vcblx0XHRzaG93VHJhY2VzQnRuID0gXCJcIlwiXG5cdFx0XHQ8ZGl2IGNsYXNzPVwicHJpbnQtdG9vbFwiPlxuXHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjYngtbGFiZWxcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2hlY2tlZCBjbGFzcz1cImNieC1wcmludCBjYngtcHJpbnQtdHJhY2VzXCIgaWQ9XCJjYngtcHJpbnQtdHJhY2VzXCIvPjxzcGFuPiN7dCgnaW5zdGFuY2VfYXBwcm92YWxfaGlzdG9yeScpfTwvc3Bhbj48L2xhYmVsPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHRcIlwiXCJcblx0XHRpbnN0YW5jZVRyYWNlc1N0eWxlID0gXCJcIlwiXG5cdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtdHJhY2Vze1xuXHRcdFx0XHRwYWRkaW5nLWxlZnQ6IDE1cHg7XG5cdFx0XHRcdHBhZGRpbmctcmlnaHQ6IDE1cHg7XG5cdFx0XHR9XG5cdFx0XCJcIlwiXG5cblx0c2hvd1RyYWNlc1NjcmlwdCA9IFwiXCJcIlxuXHRcdCQoIGRvY3VtZW50ICkucmVhZHkoZnVuY3Rpb24oKXtcblx0XHRcdHZhciBiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieC1wcmludC10cmFjZXMnKTtcblx0XHRcdHZhciB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5zdGFuY2UtdHJhY2VzJylbMF07XG5cdFx0XHRpZiAoYi5jaGVja2VkKXtcblx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xuXHRcdFx0fVxuXHRcdFx0Yi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xuXHRcdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFwiXCJcIlxuXG5cdGlmIG9wdGlvbnM/LnN0eWxlc1xuXHRcdGFsbENzc0xpbmsgPSBcIlwiXG5cblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZm9ybX0pO1xuXHRmb3JtRGVzY3JpcHRpb25IdG1sID0gXCJcIlxuXHRpZiBmb3JtXG5cdFx0Zm9ybURlc2NyaXB0aW9uID0gZm9ybS5kZXNjcmlwdGlvblxuXHRcdGlmIGZvcm1EZXNjcmlwdGlvblxuXHRcdFx0Zm9ybURlc2NyaXB0aW9uID0gZm9ybURlc2NyaXB0aW9uLnJlcGxhY2UoL1xcbi9nLFwiPGJyLz5cIilcblx0XHRcdGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiXCJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImJveC1oZWFkZXIgIHdpdGgtYm9yZGVyIGluc3RhbmNlLWhlYWRlclwiPlxuXHRcdFx0XHRcdDxkaXY+XG5cdFx0XHRcdFx0XHQje2Zvcm1EZXNjcmlwdGlvbn1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFwiXCJcIlxuXG5cdGh0bWwgPSBcIlwiXCJcblx0XHQ8IURPQ1RZUEUgaHRtbD5cblx0XHQ8aHRtbD5cblx0XHRcdDxoZWFkPlxuXHRcdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwiQ29udGVudC1UeXBlXCIgY29udGVudD1cInRleHQvaHRtbDsgY2hhcnNldD1VVEYtOFwiLz5cblx0XHRcdFx0I3thbGxDc3NMaW5rfVxuXHRcdFx0XHQ8c2NyaXB0IHNyYz1cImh0dHBzOi8vd3d3LnN0ZWVkb3MuY29tL3dlYnNpdGUvbGlicy9qcXVlcnkubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXHRcdFx0XHQ8c2NyaXB0IHNyYz1cIi9qcy9ud19jb3JlLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXHRcdFx0XHQje29wdGlvbnMucGx1Z2lucyB8fCBcIlwifVxuXG5cdFx0XHRcdDxzdHlsZT5cblx0XHRcdFx0XHQuc3RlZWRvc3tcblx0XHRcdFx0XHRcdHdpZHRoOiAje3dpZHRofTtcblx0XHRcdFx0XHRcdG1hcmdpbi1sZWZ0OiBhdXRvO1xuXHRcdFx0XHRcdFx0bWFyZ2luLXJpZ2h0OiBhdXRvO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS1uYW1le1xuXHRcdFx0XHRcdFx0ZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnRcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LmJveC10b29sc3tcblx0XHRcdFx0XHRcdGRpc3BsYXk6IG5vbmU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC5ib3guY29sbGFwc2VkLWJveCAuYm94LWJvZHksLmJveC5jb2xsYXBzZWQtYm94IC5ib3gtZm9vdGVyIHtcblx0XHRcdFx0XHQgIGRpc3BsYXk6IGJsb2NrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJvZHl7XG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBhenVyZSAhaW1wb3J0YW50O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCN7aW5zdGFuY2VUcmFjZXNTdHlsZX1cblxuXHRcdFx0XHRcdCN7b3B0aW9ucz8uc3R5bGVzIHx8IFwiXCJ9XG5cdFx0XHRcdDwvc3R5bGU+XG5cdFx0XHQ8L2hlYWQ+XG5cdFx0XHQ8Ym9keT5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZWVkb3NcIj5cblx0XHRcdFx0XHQje3N1Ym1pdF9idG59XG5cdFx0XHRcdFx0I3tzaG93VHJhY2VzQnRufVxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZS12aWV3XCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UgI3tpbnN0YW5jZV9zdHlsZX1cIj5cblx0XHRcdFx0XHRcdFx0PGZvcm0gbmFtZT1cImluc3RhbmNlRm9ybVwiPlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZS1mb3JtIGJveCAje2luc3RhbmNlQm94U3R5bGV9XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQje2Zvcm1EZXNjcmlwdGlvbkh0bWx9XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94LWJvZHlcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7Ym9keX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje2F0dGFjaG1lbnR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tyZWxhdGVkX2luc3RhbmNlc31cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PC9mb3JtPlxuXHRcdFx0XHRcdFx0XHQje3RyYWNlfVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9ib2R5PlxuXHRcdFx0PHNjcmlwdD4je29wZW5GaWxlU2NyaXB0fTsje29uTG9hZFNjcmlwdH07I3tzaG93VHJhY2VzU2NyaXB0fTwvc2NyaXB0PlxuXHRcdDwvaHRtbD5cblx0XCJcIlwiXG5cblx0cmV0dXJuIGh0bWwiLCJ2YXIgX2dldExvY2FsZSwgX2dldFJlcXVpcmVkRmllbGRzLCBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMsIF9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcywgX2dldFRlbXBsYXRlRGF0YSwgX2dldFZpZXdIdG1sOyAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSA9IHt9O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiPHRyPlxcblx0PHRkIGNsYXNzPVxcXCJpbnMtYXR0YWNoLXZpZXdcXFwiPlxcblx0XHQ8YSBocmVmPVxcXCJ7e2luc19hdHRhY2hfZG93bmxvYWRfdXJsIF9pZCBhYnNvbHV0ZX19XFxcIiBjbGFzcz1cXFwiaW5zX2F0dGFjaF9ocmVmXFxcIiB0YXJnZXQ9XFxcIl9wYXJlbnRcXFwiIGRhdGEtbmFtZT1cXFwie3t0aGlzLm5hbWV9fVxcXCIgZGF0YS10eXBlPVxcXCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XFxcIiBkYXRhLWlkPVxcXCJ7e19pZH19XFxcIj57e3RoaXMubmFtZX19PC9hPlxcblx0PC90ZD5cXG48L3RyPlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZTZWxlY3RVc2VyUmVhZCA9IFwiPGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cFJlYWQgPSBcIjxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxcblx0e3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxcblx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdHt7ZWxzZX19XFxuXHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3RhYmxlJ319XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcXFwiPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIiBzdHlsZT1cXFwicGFkZGluZzowcHg7XFxcIj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIiA+XFxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9J2NvbnRyb2wtbGFiZWwnPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVxcXCJkZXNjcmlwdGlvblxcXCI+e3t7ZGVzY3JpcHRpb259fX08L3NwYW4+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicmVhZG9ubHktdGFibGVcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXFxcIiBzdHlsZT0nbWFyZ2luLWJvdHRvbTowcHg7JyB7e3RoaXMuYXR0c319IGlkPVxcXCJ7e3RoaXMuY29kZX19VGFibGVcXFwiIG5hbWU9XFxcInt7dGhpcy5jb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3t0aGlzLm5hbWV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVxcXCJ7e3RoaXMubmFtZX19VGhlYWRcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZVRoZWFkIHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxcblx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cXFwie3t0aGlzLm5hbWV9fVRib2R5XFxcIiBuYW1lPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5Plxcblx0XHRcdFx0XHRcdFx0XHQ8L3RhYmxlPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxcblx0XHRcdFx0XHQ8bGFiZWw+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cXG5cdFx0XHR7ey9pZn19XFxuXHRcdHt7L2lmfX1cXG5cdHt7L3dpdGh9fVxcbjwvZGl2PlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlxcbnt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cXG5cdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlY3Rpb24nfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxcblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxcblx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cXG5cdFx0XHRcdDwvZGl2PlxcbiAgXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtcXFwiPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiID5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJyZWFkb25seS10YWJsZVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcXFwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XFxcInt7dGhpcy5jb2RlfX1UYWJsZVxcXCIgbmFtZT1cXFwie3t0aGlzLmNvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e3RoaXMubmFtZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XFxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdpbnB1dCd9fVxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBkYXRhLXJlcXVpcmVkPVxcXCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cXFwiPlxcblx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbnVtYmVyJ319XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJudW1iZXJcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlJ319XFxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXR5cGU9XFxcImRhdGVcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlVGltZSd9fVxcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS10eXBlPSdkYXRldGltZScgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3Bhc3N3b3JkJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJwYXNzd29yZFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlbGVjdCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c2VsZWN0IG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8b3B0aW9uIHZhbHVlPVxcXCJ7e3ZhbHVlfX1cXFwiPnt7bGFiZWx9fTwvb3B0aW9uPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NlbGVjdD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAncmFkaW8nfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiYWYtcmFkaW8tZ3JvdXBcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxcbiAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJyYWRpby1pbmxpbmUgZml4LWluZGVudFxcXCI+PGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiB2YWx1ZT1cXFwie3t2YWx1ZX19XFxcIiBuYW1lPVxcXCJ7ey4uL2NvZGV9fVxcXCIgY2xhc3M9XFxcInJhZGlvLWlubGluZSBmaXgtaW5kZW50XFxcIj4ge3tsYWJlbH19PC9sYWJlbD5cXG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cXG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ211bHRpU2VsZWN0J319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImFmLWNoZWNrYm94LWdyb3VwXFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIHZhbHVlPVxcXCJ7e3ZhbHVlfX1cXFwiIG5hbWU9XFxcInt7Li4vY29kZX19XFxcIiBjbGFzcz1cXFwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcXFwiPiB7e2xhYmVsfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd1cmwnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInVybFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2VtYWlsJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJlbWFpbFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2NoZWNrYm94J319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImNoZWNrYm94XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTtcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgdmFsdWU9XFxcInRydWVcXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBjbGFzcz1cXFwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcXFwiPjwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdHt7L2lmfX1cXG5cdFx0e3svaWZ9fVxcblx0e3svd2l0aH19XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUgPSBmdW5jdGlvbih0ZW1wYWx0ZU5hbWUsIHN0ZWVkb3NEYXRhKSB7XG4gIHZhciB0ZW1wbGF0ZSwgdGVtcGxhdGVDb21waWxlZCwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbjtcbiAgdGVtcGxhdGUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGVbdGVtcGFsdGVOYW1lXTtcbiAgdGVtcGxhdGVDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRlbXBsYXRlQ29tcGlsZWQpO1xuICBUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdID0gbmV3IEJsYXplLlRlbXBsYXRlKHRlbXBhbHRlTmFtZSwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uaGVscGVycyhJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0ID0gZnVuY3Rpb24oc3RlZWRvc0RhdGEpIHtcbiAgdmFyIGluc3RhbmNlU2lnblRleHRDb21waWxlZCwgaW5zdGFuY2VTaWduVGV4dEh0bWwsIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbjtcbiAgaW5zdGFuY2VTaWduVGV4dEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9zaWduX3RleHQuaHRtbCcpO1xuICBpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlU2lnblRleHRIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlU2lnblRleHRDb21waWxlZCk7XG4gIFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZVNpZ25UZXh0XCIsIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuaGVscGVycyhJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbiA9IGZ1bmN0aW9uKHN0ZWVkb3NEYXRhKSB7XG4gIHZhciBpbWFnZVNpZ25Db21waWxlZCwgaW1hZ2VTaWduSHRtbCwgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb247XG4gIGltYWdlU2lnbkh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbWFnZV9zaWduLmh0bWwnKTtcbiAgaW1hZ2VTaWduQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGltYWdlU2lnbkh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uID0gZXZhbChpbWFnZVNpZ25Db21waWxlZCk7XG4gIFRlbXBsYXRlLmltYWdlU2lnbiA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImltYWdlU2lnblwiLCBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmltYWdlU2lnbi5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGUuaW1hZ2VTaWduLmhlbHBlcnMoSW1hZ2VTaWduLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQgPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZTZWxlY3RVc2VyUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBcIiwgc3RlZWRvc0RhdGEpO1xuICB9XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFJlYWRcIiwgc3RlZWRvc0RhdGEpO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImluc3RhbmNlX2F0dGFjaG1lbnRcIiwge1xuICAgICAgYWJzb2x1dGU6IHN0ZWVkb3NEYXRhLmFic29sdXRlXG4gICAgfSk7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbihzdGVlZG9zRGF0YSk7XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0KHN0ZWVkb3NEYXRhKTtcbiAgfVxufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlID0gZnVuY3Rpb24odmFsdWUsIGZpZWxkLCBsb2NhbGUsIHV0Y09mZnNldCkge1xuICB2YXIgZGF0ZSwgZSwgaG91cnMsIG1vbnRoLCBzZWNvbmRzLCB0LCB0MCwgdDEsIHllYXI7XG4gIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IGZhbHNlKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgIHZhbHVlID0gdmFsdWUgPyAnPGEgaHJlZj1cXCdtYWlsdG86JyArIHZhbHVlICsgJ1xcJz4nICsgdmFsdWUgKyAnPC9hPicgOiAnJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VybCc6XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJodHRwXCIpID09PSAwKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9JycgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5nZXRQcm9wZXJ0eShcImZ1bGxuYW1lXCIpLnRvU3RyaW5nKCkgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5mdWxsbmFtZSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VzZXInOlxuICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUubmFtZSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgIHZhbHVlID0gJyoqKioqKic7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUgIT09ICdmYWxzZScpIHtcbiAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIiwge30sIGxvY2FsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGF0ZVRpbWUnOlxuICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA9PT0gMTYpIHtcbiAgICAgICAgdCA9IHZhbHVlLnNwbGl0KFwiVFwiKTtcbiAgICAgICAgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgdDEgPSB0WzFdLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgeWVhciA9IHQwWzBdO1xuICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICBkYXRlID0gdDBbMl07XG4gICAgICAgIGhvdXJzID0gdDFbMF07XG4gICAgICAgIHNlY29uZHMgPSB0MVsxXTtcbiAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSh2YWx1ZSwgdXRjT2Zmc2V0KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGlmIChmaWVsZC5pc190ZXh0YXJlYSkge1xuICAgICAgICB2YWx1ZSA9IFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKHZhbHVlKSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgaWYgKHZhbHVlIHx8IHZhbHVlID09PSAwKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvRml4ZWQoZmllbGQuZGlnaXRzKTtcbiAgICAgICAgdmFsdWUgPSBTdGVlZG9zLm51bWJlclRvU3RyaW5nKHZhbHVlLCBsb2NhbGUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb2RhdGEnOlxuICAgICAgdmFsdWUgPSB2YWx1ZVsnQGxhYmVsJ107XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsID0gZnVuY3Rpb24oZmllbGRzLCBjb2RlKSB7XG4gIHZhciBmaWVsZDtcbiAgZmllbGQgPSBmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSk7XG4gIGlmIChmaWVsZCkge1xuICAgIGlmIChmaWVsZC5uYW1lKSB7XG4gICAgICByZXR1cm4gZmllbGQubmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpZWxkLmNvZGU7XG4gICAgfVxuICB9XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbiA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIHZhciBmb3JtLCBmb3JtX2ZpZWxkcywgZm9ybV92ZXJzaW9uO1xuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgZm9ybV92ZXJzaW9uID0ge307XG4gIGZvcm1fZmllbGRzID0gW107XG4gIGlmIChmb3JtLmN1cnJlbnQuX2lkID09PSBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnQ7XG4gIH0gZWxzZSB7XG4gICAgZm9ybV92ZXJzaW9uID0gXy53aGVyZShmb3JtLmhpc3RvcnlzLCB7XG4gICAgICBfaWQ6IGluc3RhbmNlLmZvcm1fdmVyc2lvblxuICAgIH0pWzBdO1xuICB9XG4gIGZvcm1fdmVyc2lvbi5maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xuICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgaWYgKGZpZWxkLmZpZWxkcykge1xuICAgICAgICByZXR1cm4gZmllbGQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgICAgIHJldHVybiBmb3JtX2ZpZWxkcy5wdXNoKGYpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgIGZpZWxkWydzZmllbGRzJ10gPSBmaWVsZFsnZmllbGRzJ107XG4gICAgICBkZWxldGUgZmllbGRbJ2ZpZWxkcyddO1xuICAgICAgcmV0dXJuIGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgfVxuICB9KTtcbiAgZm9ybV92ZXJzaW9uLmZpZWxkcyA9IGZvcm1fZmllbGRzO1xuICByZXR1cm4gZm9ybV92ZXJzaW9uO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEZsb3dWZXJzaW9uID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZsb3csIGZsb3dfdmVyc2lvbjtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XG4gIGZsb3dfdmVyc2lvbiA9IHt9O1xuICBpZiAoZmxvdy5jdXJyZW50Ll9pZCA9PT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uKSB7XG4gICAgZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xuICB9IGVsc2Uge1xuICAgIGZsb3dfdmVyc2lvbiA9IF8ud2hlcmUoZmxvdy5oaXN0b3J5cywge1xuICAgICAgX2lkOiBpbnN0YW5jZS5mbG93X3ZlcnNpb25cbiAgICB9KVswXTtcbiAgfVxuICByZXR1cm4gZmxvd192ZXJzaW9uO1xufTtcblxuX2dldFZpZXdIdG1sID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgdmlld0h0bWw7XG4gIHZpZXdIdG1sID0gQXNzZXRzLmdldFRleHQocGF0aCk7XG4gIGlmICh2aWV3SHRtbCkge1xuICAgIHZpZXdIdG1sID0gdmlld0h0bWwucmVwbGFjZSgvPHRlbXBsYXRlW1xcd1xcc1xcXCJcXD0nXSs+L2ksIFwiXCIpLnJlcGxhY2UoLzxcXC90ZW1wbGF0ZT4vaSwgXCJcIik7XG4gIH1cbiAgcmV0dXJuIHZpZXdIdG1sO1xufTtcblxuX2dldExvY2FsZSA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgdmFyIGxvY2FsZSwgcmVmLCByZWYxO1xuICBpZiAoKHVzZXIgIT0gbnVsbCA/IChyZWYgPSB1c2VyLmxvY2FsZSkgIT0gbnVsbCA/IHJlZi50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwIDogdm9pZCAwKSA9PT0gJ3poLWNuJykge1xuICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgfSBlbHNlIGlmICgodXNlciAhPSBudWxsID8gKHJlZjEgPSB1c2VyLmxvY2FsZSkgIT0gbnVsbCA/IHJlZjEudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCA6IHZvaWQgMCkgPT09ICdlbi11cycpIHtcbiAgICBsb2NhbGUgPSBcImVuXCI7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICB9XG4gIHJldHVybiBsb2NhbGU7XG59O1xuXG5fZ2V0UmVxdWlyZWRGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMsIHJldikge1xuICBpZiAoIXJldikge1xuICAgIHJldiA9IFtdO1xuICB9XG4gIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgcmV0dXJuIF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZC5maWVsZHMsIHJldik7XG4gICAgfSBlbHNlIGlmIChmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGZpZWxkLmlzX3JlcXVpcmVkKSB7XG4gICAgICAgIHJldHVybiByZXYucHVzaChmaWVsZC5jb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmV2O1xufTtcblxuX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gZnVuY3Rpb24oZmllbGRzLCBzdGVwcykge1xuICB2YXIgZWRpdGFibGVDb2RlLCBzdGFydFN0ZXA7XG4gIHN0YXJ0U3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwX3R5cGVcIiwgXCJzdGFydFwiKTtcbiAgZWRpdGFibGVDb2RlID0gW107XG4gIF8ua2V5cyhzdGFydFN0ZXAucGVybWlzc2lvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKHN0YXJ0U3RlcC5wZXJtaXNzaW9uc1trZXldID09PSAnZWRpdGFibGUnKSB7XG4gICAgICByZXR1cm4gZWRpdGFibGVDb2RlLnB1c2goa2V5KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZWRpdGFibGVDb2RlO1xufTtcblxuX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzID0gZnVuY3Rpb24oZmllbGRzLCBzdGVwcykge1xuICB2YXIgZWRpdGFibGVDb2RlLCByZXF1aXJlZEZpZWxkcztcbiAgcmVxdWlyZWRGaWVsZHMgPSBfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGRzKTtcbiAgZWRpdGFibGVDb2RlID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZpZWxkcywgc3RlcHMpO1xuICByZXR1cm4gXy5pbnRlcnNlY3Rpb24ocmVxdWlyZWRGaWVsZHMsIGVkaXRhYmxlQ29kZSk7XG59O1xuXG5fZ2V0VGVtcGxhdGVEYXRhID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBmbG93LCBmb3JtLCBmb3JtX3ZlcnNpb24sIGxvY2FsZSwgc3RlZWRvc0RhdGE7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpO1xuICB9XG4gIGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcik7XG4gIHN0ZWVkb3NEYXRhID0ge307XG4gIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICBzdGVlZG9zRGF0YSA9IF8uY2xvbmUoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpKTtcbiAgICBzdGVlZG9zRGF0YS5pbnNuYW1lID0gaW5zdGFuY2UubmFtZTtcbiAgICBzdGVlZG9zRGF0YS5pbnNfc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcbiAgICBzdGVlZG9zRGF0YS5pbnNfZmluYWxfZGVjaXNpb24gPSBpbnN0YW5jZS5pbnNfZmluYWxfZGVjaXNpb247XG4gICAgc3RlZWRvc0RhdGEuaW5zX2NvZGUgPSBpbnN0YW5jZS5jb2RlO1xuICAgIHN0ZWVkb3NEYXRhLmluc19pc19hcmNoaXZlZCA9IGluc3RhbmNlLmlzX2FyY2hpdmVkO1xuICAgIHN0ZWVkb3NEYXRhLmluc19pc19kZWxldGVkID0gaW5zdGFuY2UuaW5zX2lzX2RlbGV0ZWQ7XG4gICAgc3RlZWRvc0RhdGEuYXBwbGljYW50X25hbWUgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZTtcbiAgICBzdGVlZG9zRGF0YS5hcHBsaWNhbnRDb250ZXh0ID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWU7XG4gIH1cbiAgc3RlZWRvc0RhdGEuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uID0gZm9ybV92ZXJzaW9uO1xuICBzdGVlZG9zRGF0YS5sb2NhbGUgPSBsb2NhbGU7XG4gIHN0ZWVkb3NEYXRhLnV0Y09mZnNldCA9IHVzZXIudXRjT2Zmc2V0O1xuICBzdGVlZG9zRGF0YS5zcGFjZSA9IGluc3RhbmNlLnNwYWNlO1xuICBzdGVlZG9zRGF0YS5zZXNzaW9uVXNlcklkID0gdXNlci5faWQ7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5lZGl0YWJsZSA6IHZvaWQgMCkge1xuICAgICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlLmZvcm1cbiAgICAgIH0pO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlLmZsb3dcbiAgICAgIH0pO1xuICAgICAgc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZm9ybS5jdXJyZW50LmZpZWxkcywgZmxvdy5jdXJyZW50LnN0ZXBzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0ZWVkb3NEYXRhO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlLCB1dGNPZmZzZXQpIHtcbiAgdmFyIHBhc3Npbmc7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBwYXNzaW5nID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcGFzc2luZyA9IHRydWU7XG4gIH1cbiAgaWYgKCF1dGNPZmZzZXQgJiYgdXRjT2Zmc2V0ICE9PSAwKSB7XG4gICAgdXRjT2Zmc2V0ID0gODtcbiAgfVxuICByZXR1cm4gbW9tZW50KGRhdGUpLnV0Y09mZnNldCh1dGNPZmZzZXQsIHBhc3NpbmcpLmZvcm1hdChcIllZWVktTU0tREQgSEg6bW1cIik7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCBpbnN0YW5jZUNvbXBpbGVkLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uLCBpbnN0YW5jZVRlbXBsYXRlLCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmFic29sdXRlIDogdm9pZCAwKSB7XG4gICAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuICB9XG4gIGluc3RhbmNlVGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UsIG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGVtcGxhdGVOYW1lIDogdm9pZCAwKTtcbiAgaW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZTZWxlY3RVc2VyL2csIFwiYWZTZWxlY3RVc2VyUmVhZFwiKTtcbiAgaWYgKCEob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5lZGl0YWJsZSA6IHZvaWQgMCkpIHtcbiAgICBpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZkZvcm1Hcm91cC9nLCBcImFmRm9ybUdyb3VwUmVhZFwiKTtcbiAgfVxuICBpbnN0YW5jZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVRlbXBsYXRlLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZUNvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlX3JlYWRvbmx5X3ZpZXdcIiwgaW5zdGFuY2VSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xuICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdChzdGVlZG9zRGF0YSk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LCBzdGVlZG9zRGF0YSk7XG4gIHJldHVybiBcIjxkaXYgaWQ9J2luc3RhbmNlZm9ybScgPlxcblx0XCIgKyBib2R5ICsgXCJcXG48L2Rpdj5cIjtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCBmb3JtLCBzdGVlZG9zRGF0YSwgdHJhY2VDb21waWxlZCwgdHJhY2VSZW5kZXJGdW5jdGlvbiwgdHJhY2VzSHRtbDtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICBpZiAoZm9ybS5pbnN0YW5jZV9zdHlsZSA9PT0gXCJ0YWJsZVwiIHx8IChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRlbXBsYXRlTmFtZSA6IHZvaWQgMCkgPT09IFwidGFibGVcIikge1xuICAgIHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfdGFibGUuaHRtbCcpO1xuICB9IGVsc2Uge1xuICAgIHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXMuaHRtbCcpO1xuICB9XG4gIHRyYWNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRyYWNlc0h0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHRyYWNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRyYWNlQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwidHJhY2VfcmVhZG9ubHlfdmlld1wiLCB0cmFjZVJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LmhlbHBlcnMoVHJhY2VzVGVtcGxhdGUuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LCBpbnN0YW5jZS50cmFjZXMpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50VmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSkge1xuICB2YXIgYXR0YWNobWVudENvbXBpbGVkLCBhdHRhY2htZW50SHRtbCwgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uLCBib2R5LCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIGF0dGFjaG1lbnRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2VfYXR0YWNobWVudHMuaHRtbCcpO1xuICBhdHRhY2htZW50Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGF0dGFjaG1lbnRIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24gPSBldmFsKGF0dGFjaG1lbnRDb21waWxlZCk7XG4gIFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJhdHRhY2htZW50c19yZWFkb25seV92aWV3XCIsIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5oZWxwZXJzKEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCByZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQsIHJlbGF0ZWRJbnN0YW5jZXNIdG1sLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24sIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuYWJzb2x1dGUgOiB2b2lkIDApIHtcbiAgICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG4gIH1cbiAgcmVsYXRlZEluc3RhbmNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX2luc3RhbmNlcy5odG1sJyk7XG4gIHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZEluc3RhbmNlc0h0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXdcIiwgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LmhlbHBlcnMoUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcsIHN0ZWVkb3NEYXRhKTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0ID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZvcm1fc2NyaXB0LCBmb3JtX3ZlcnNpb247XG4gIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuICBmb3JtX3NjcmlwdCA9IGZvcm1fdmVyc2lvbi5mb3JtX3NjcmlwdDtcbiAgaWYgKGZvcm1fc2NyaXB0ICYmIGZvcm1fc2NyaXB0LnJlcGxhY2UoL1xcbi9nLCBcIlwiKS5yZXBsYWNlKC9cXHMvZywgXCJcIikubGVuZ3RoID4gMCkge1xuICAgIGZvcm1fc2NyaXB0ID0gXCJDb3JlRm9ybSA9IHt9O0NvcmVGb3JtLmluc3RhbmNlZm9ybSA9IHt9O1wiICsgZm9ybV9zY3JpcHQ7XG4gICAgcmV0dXJuIGZvcm1fc2NyaXB0ICs9IFwiO2lmKENvcmVGb3JtLmZvcm1fT25Mb2FkKXt3aW5kb3cub25sb2FkID0gQ29yZUZvcm0uZm9ybV9PbkxvYWQoKTt9XCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZvcm1fc2NyaXB0ID0gXCJcIjtcbiAgfVxufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYWJzb2x1dGVVcmwsIGFsbENzc0xpbmssIGF0dGFjaG1lbnQsIGJvZHksIGNzc0hyZWYsIGZvcm0sIGZvcm1EZXNjcmlwdGlvbiwgZm9ybURlc2NyaXB0aW9uSHRtbCwgaHRtbCwgaW5zdGFuY2VCb3hTdHlsZSwgaW5zdGFuY2VUcmFjZXNTdHlsZSwgaW5zdGFuY2Vfc3R5bGUsIG9uTG9hZFNjcmlwdCwgb3BlbkZpbGVTY3JpcHQsIHJlbGF0ZWRfaW5zdGFuY2VzLCBzaG93VHJhY2VzQnRuLCBzaG93VHJhY2VzU2NyaXB0LCBzdWJtaXRfYnRuLCB0cmFjZSwgd2lkdGg7XG4gIGJvZHkgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIG9uTG9hZFNjcmlwdCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRPbkxvYWRTY3JpcHQoaW5zdGFuY2UpO1xuICBvcGVuRmlsZVNjcmlwdCA9IFwiaWYod2luZG93LmlzTm9kZSAmJiBpc05vZGUoKSl7XFxuXHRhdHRhY2hzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcXFwiaW5zX2F0dGFjaF9ocmVmXFxcIik7XFxuXHRmb3IodmFyIGkgPSAwOyBpIDwgYXR0YWNocy5sZW5ndGg7IGkrKyl7XFxuXHRcdGF0dGFjaCA9IGF0dGFjaHNbaV07XFxuXHRcdGF0dGFjaC5hZGRFdmVudExpc3RlbmVyKFxcXCJjbGlja1xcXCIsIGZ1bmN0aW9uKGUpe1xcblx0XHRcdGlmKGlzSW1hZ2UodGhpcy5kYXRhc2V0LnR5cGUpIHx8IGlzSHRtbCh0aGlzLmRhdGFzZXQudHlwZSkpe1xcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xcblx0XHRcdFx0b3BlbldpbmRvdyhcXFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXFxcIiArIHRoaXMuZGF0YXNldC5pZCk7XFxuXHRcdFx0fWVsc2UgaWYobndfY29yZS5jYW5PcGVuRmlsZSh0aGlzLmRhdGFzZXQubmFtZSkpe1xcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xcblx0XHRcdFx0bndfY29yZS5vcGVuRmlsZSh0aGlzLmhyZWYsIHRoaXMuZGF0YXNldC5uYW1lKVxcblx0XHRcdH1cXG5cdFx0fSk7XFxuXHR9XFxufVxcblxcbnZhciBmbG93ID0gXFxcIlwiICsgaW5zdGFuY2UuZmxvdyArIFwiXFxcIjtcXG52YXIgc3BhY2UgPSBcXFwiXCIgKyBpbnN0YW5jZS5zcGFjZSArIFwiXFxcIjtcXG5cIjtcbiAgaWYgKCFTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgICBpZiAoKGZvcm0gIT0gbnVsbCA/IGZvcm0uaW5zdGFuY2Vfc3R5bGUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgICBpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIjtcbiAgICB9XG4gIH1cbiAgaWYgKChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRlbXBsYXRlTmFtZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICBpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIjtcbiAgfVxuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZSA6IHZvaWQgMCkge1xuICAgIGluc3RhbmNlX3N0eWxlID0gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZTtcbiAgfVxuICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93VHJhY2UgPT09IHRydWUpIHtcbiAgICB0cmFjZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgdHJhY2UgPSBcIlwiO1xuICB9XG4gIGluc3RhbmNlQm94U3R5bGUgPSBcIlwiO1xuICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuZmluYWxfZGVjaXNpb24pIHtcbiAgICBpZiAoaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgaW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LXN1Y2Nlc3NcIjtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgIGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1kYW5nZXJcIjtcbiAgICB9XG4gIH1cbiAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzID09PSB0cnVlKSB7XG4gICAgYXR0YWNobWVudCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50Vmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIGF0dGFjaG1lbnQgPSBcIlwiO1xuICB9XG4gIHJlbGF0ZWRfaW5zdGFuY2VzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIGFic29sdXRlVXJsID0gTWV0ZW9yLmFic29sdXRlVXJsKCk7XG4gIHdpZHRoID0gXCI5NjBweFwiO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy53aWR0aCA6IHZvaWQgMCkge1xuICAgIHdpZHRoID0gXCJcIjtcbiAgfVxuICBjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwic3RlZWRvcy1jc3NcIik7XG4gIGFsbENzc0xpbmsgPSBcIjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGNsYXNzPVxcXCJfX21ldGVvci1jc3NfX1xcXCIgaHJlZj1cXFwiXCIgKyBjc3NIcmVmICsgXCJcXFwiPlwiO1xuICBzdWJtaXRfYnRuID0gXCJcIjtcbiAgaW5zdGFuY2VUcmFjZXNTdHlsZSA9IFwiXCI7XG4gIGlmICgob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50YWdnZXIgOiB2b2lkIDApID09PSAnZW1haWwnKSB7XG4gICAgc2hvd1RyYWNlc0J0biA9IFwiXCI7XG4gIH0gZWxzZSB7XG4gICAgc2hvd1RyYWNlc0J0biA9IFwiPGRpdiBjbGFzcz1cXFwicHJpbnQtdG9vbFxcXCI+XFxuXHQ8bGFiZWwgY2xhc3M9XFxcImNieC1sYWJlbFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjaGVja2VkIGNsYXNzPVxcXCJjYngtcHJpbnQgY2J4LXByaW50LXRyYWNlc1xcXCIgaWQ9XFxcImNieC1wcmludC10cmFjZXNcXFwiLz48c3Bhbj5cIiArICh0KCdpbnN0YW5jZV9hcHByb3ZhbF9oaXN0b3J5JykpICsgXCI8L3NwYW4+PC9sYWJlbD5cXG48L2Rpdj5cIjtcbiAgICBpbnN0YW5jZVRyYWNlc1N0eWxlID0gXCIuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtdHJhY2Vze1xcblx0cGFkZGluZy1sZWZ0OiAxNXB4O1xcblx0cGFkZGluZy1yaWdodDogMTVweDtcXG59XCI7XG4gIH1cbiAgc2hvd1RyYWNlc1NjcmlwdCA9IFwiJCggZG9jdW1lbnQgKS5yZWFkeShmdW5jdGlvbigpe1xcblx0dmFyIGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LXRyYWNlcycpO1xcblx0dmFyIHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnN0YW5jZS10cmFjZXMnKVswXTtcXG5cdGlmIChiLmNoZWNrZWQpe1xcblx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdH0gZWxzZSB7XFxuXHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHR9XFxuXHRiLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xcblx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XFxuXHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHRcdH0gZWxzZSB7XFxuXHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcXG5cdFx0fVxcblx0fSk7XFxufSk7XFxuXCI7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnN0eWxlcyA6IHZvaWQgMCkge1xuICAgIGFsbENzc0xpbmsgPSBcIlwiO1xuICB9XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICBfaWQ6IGluc3RhbmNlLmZvcm1cbiAgfSk7XG4gIGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiO1xuICBpZiAoZm9ybSkge1xuICAgIGZvcm1EZXNjcmlwdGlvbiA9IGZvcm0uZGVzY3JpcHRpb247XG4gICAgaWYgKGZvcm1EZXNjcmlwdGlvbikge1xuICAgICAgZm9ybURlc2NyaXB0aW9uID0gZm9ybURlc2NyaXB0aW9uLnJlcGxhY2UoL1xcbi9nLCBcIjxici8+XCIpO1xuICAgICAgZm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiPGRpdiBjbGFzcz1cXFwiYm94LWhlYWRlciAgd2l0aC1ib3JkZXIgaW5zdGFuY2UtaGVhZGVyXFxcIj5cXG5cdDxkaXY+XFxuXHRcdFwiICsgZm9ybURlc2NyaXB0aW9uICsgXCJcXG5cdDwvZGl2PlxcbjwvZGl2PlwiO1xuICAgIH1cbiAgfVxuICBodG1sID0gXCI8IURPQ1RZUEUgaHRtbD5cXG48aHRtbD5cXG5cdDxoZWFkPlxcblx0XHQ8bWV0YSBodHRwLWVxdWl2PVxcXCJDb250ZW50LVR5cGVcXFwiIGNvbnRlbnQ9XFxcInRleHQvaHRtbDsgY2hhcnNldD1VVEYtOFxcXCIvPlxcblx0XHRcIiArIGFsbENzc0xpbmsgKyBcIlxcblx0XHQ8c2NyaXB0IHNyYz1cXFwiaHR0cHM6Ly93d3cuc3RlZWRvcy5jb20vd2Vic2l0ZS9saWJzL2pxdWVyeS5taW4uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuXHRcdDxzY3JpcHQgc3JjPVxcXCIvanMvbndfY29yZS5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG5cdFx0XCIgKyAob3B0aW9ucy5wbHVnaW5zIHx8IFwiXCIpICsgXCJcXG5cXG5cdFx0PHN0eWxlPlxcblx0XHRcdC5zdGVlZG9ze1xcblx0XHRcdFx0d2lkdGg6IFwiICsgd2lkdGggKyBcIjtcXG5cdFx0XHRcdG1hcmdpbi1sZWZ0OiBhdXRvO1xcblx0XHRcdFx0bWFyZ2luLXJpZ2h0OiBhdXRvO1xcblx0XHRcdH1cXG5cXG5cdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtbmFtZXtcXG5cdFx0XHRcdGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50XFxuXHRcdFx0fVxcblx0XHRcdC5ib3gtdG9vbHN7XFxuXHRcdFx0XHRkaXNwbGF5OiBub25lO1xcblx0XHRcdH1cXG5cdFx0XHQuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1ib2R5LC5ib3guY29sbGFwc2VkLWJveCAuYm94LWZvb3RlciB7XFxuXHRcdFx0ICBkaXNwbGF5OiBibG9jaztcXG5cdFx0XHR9XFxuXFxuXHRcdFx0Ym9keXtcXG5cdFx0XHRcdGJhY2tncm91bmQ6IGF6dXJlICFpbXBvcnRhbnQ7XFxuXHRcdFx0fVxcblxcblx0XHRcdFwiICsgaW5zdGFuY2VUcmFjZXNTdHlsZSArIFwiXFxuXFxuXHRcdFx0XCIgKyAoKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuc3R5bGVzIDogdm9pZCAwKSB8fCBcIlwiKSArIFwiXFxuXHRcdDwvc3R5bGU+XFxuXHQ8L2hlYWQ+XFxuXHQ8Ym9keT5cXG5cdFx0PGRpdiBjbGFzcz1cXFwic3RlZWRvc1xcXCI+XFxuXHRcdFx0XCIgKyBzdWJtaXRfYnRuICsgXCJcXG5cdFx0XHRcIiArIHNob3dUcmFjZXNCdG4gKyBcIlxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlLXZpZXdcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UgXCIgKyBpbnN0YW5jZV9zdHlsZSArIFwiXFxcIj5cXG5cdFx0XHRcdFx0PGZvcm0gbmFtZT1cXFwiaW5zdGFuY2VGb3JtXFxcIj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1mb3JtIGJveCBcIiArIGluc3RhbmNlQm94U3R5bGUgKyBcIlxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcIiArIGZvcm1EZXNjcmlwdGlvbkh0bWwgKyBcIlxcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiYm94LWJvZHlcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFwiICsgYm9keSArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XCIgKyBhdHRhY2htZW50ICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcIiArIHJlbGF0ZWRfaW5zdGFuY2VzICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PC9mb3JtPlxcblx0XHRcdFx0XHRcIiArIHRyYWNlICsgXCJcXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvZGl2Plxcblx0XHQ8L2Rpdj5cXG5cdDwvYm9keT5cXG5cdDxzY3JpcHQ+XCIgKyBvcGVuRmlsZVNjcmlwdCArIFwiO1wiICsgb25Mb2FkU2NyaXB0ICsgXCI7XCIgKyBzaG93VHJhY2VzU2NyaXB0ICsgXCI8L3NjcmlwdD5cXG48L2h0bWw+XCI7XG4gIHJldHVybiBodG1sO1xufTtcbiIsIlRlbXBsYXRlTWFuYWdlciA9IHt9O1xuXG5mb3JtSWQgPSAnaW5zdGFuY2Vmb3JtJztcblxuXG5UZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUgPSAoKS0+XG5cdHBhZ2VUaXRsZSA9IFwiXCJcIlxuXHRcdHt7aW5zdGFuY2UubmFtZX19XG5cdFwiXCJcIlxuXG5cdHBhZ2VUaXRsZVRyQ2xhc3MgPSBcImluc3RhbmNlLW5hbWVcIlxuXG5cdGlmIENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWVcblx0XHRwYWdlVGl0bGUgPSBcIlwiXCJcblx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9XCIje0NvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZX1cIiBsYWJlbD1mYWxzZX19XG5cdFx0XCJcIlwiXG5cdFx0cGFnZVRpdGxlVHJDbGFzcyA9IFwiXCJcblxuXHRpZiBDb3JlRm9ybT8ucGFnZVRpdGxlXG5cdFx0cGFnZVRpdGxlID0gXCJcIlwiXG5cdFx0XHQje0NvcmVGb3JtLnBhZ2VUaXRsZX1cblx0XHRcIlwiXCJcblx0XHRwYWdlVGl0bGVUckNsYXNzID0gXCJcIlxuXG5cdHZhbCA9XG5cdFx0cGFnZVRpdGxlOiBwYWdlVGl0bGVcblx0XHRwYWdlVGl0bGVUckNsYXNzOiBwYWdlVGl0bGVUckNsYXNzXG5cblx0cmV0dXJuIHZhbFxuXG5UZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSA9IChpbnN0YW5jZSwgX2V4cG9ydCkgLT5cblxuXHR0ZW1wbGF0ZSA9IFwiXCJcIlxuXHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS10aXRsZSBmb3JtLXRhYmxlIG5vLWJvcmRlciB0ZXh0LWFsaWduLWNlbnRlclwiIHN0eWxlPVwid2lkdGg6IDEwMCU7ZGlzcGxheTogaW5saW5lLXRhYmxlO1wiPlxuXHRcdFx0PHRyIGNsYXNzPVwiI3t0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlVHJDbGFzc31cIj5cblx0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZCBwYWdlLXRpdGxlXCI+XG5cdFx0XHRcdFx0I3t0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlfVxuXHRcdFx0XHQ8L3RkPlxuXHRcdFx0PC90cj5cblxuXHRcdDwvdGFibGU+XG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS1ib2R5IGZvcm0tdGFibGVcIj5cblx0XHRcdFx0PHRyIHN0eWxlPVwiaGVpZ2h0OjBweFwiPlxuXHRcdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cblx0XHRcdFx0XHQ8dGg+PC90aD5cblx0XHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XG5cdFx0XHRcdFx0PHRoPjwvdGg+XG5cdFx0XHRcdDwvdHI+XG5cdFwiXCJcIjtcblxuXHR0YWJsZV9maWVsZHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRhYmxlX2ZpZWxkcyhpbnN0YW5jZSlcblxuXHR0YWJsZV9maWVsZHMuZm9yRWFjaCAodGFibGVfZmllbGQpLT5cblxuXHRcdHJlcXVpcmVkID0gXCJcIlxuXHRcdGlmICFDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lIHx8IENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWUgIT0gdGFibGVfZmllbGQuY29kZVxuXHRcdFx0aWYgdGFibGVfZmllbGQuaXNfcmVxdWlyZWRcblx0XHRcdFx0cmVxdWlyZWQgPSBcImlzLXJlcXVpcmVkXCJcblxuXHRcdFx0aWYgX2V4cG9ydFxuXHRcdFx0XHRyZXF1aXJlZCA9IFwiXCI7XG5cblx0XHRcdHB1cmVDb2RlID0gU3RlZWRvcy5yZW1vdmVTcGVjaWFsQ2hhcmFjdGVyKHRhYmxlX2ZpZWxkLmNvZGUpO1xuXG5cdFx0XHRpZiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkKHRhYmxlX2ZpZWxkKVxuXHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxuXHRcdFx0XHR0ZW1wbGF0ZSArPSBcIlwiXCJcblx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSAje3JlcXVpcmVkfVwiPlxuXHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxuXHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgb3Bpbmlvbi1maWVsZCBvcGluaW9uLWZpZWxkLSN7cHVyZUNvZGV9IGF1dG9tYXRpY1wiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cblx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxuXHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFwiXCJcIlxuXHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmRcblx0XHRcdGVsc2Vcblx0XHRcdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlcyh0YWJsZV9maWVsZC50eXBlLCAnc2VjdGlvbix0YWJsZScpXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSBcIlwiXCJcblx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWNoaWxkZmllbGQgdGQtY2hpbGRmaWVsZC0je3B1cmVDb2RlfVwiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cblx0XHRcdFx0XHRcdCAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwiIGxhYmVsPWZhbHNlfX1cblx0XHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxuXG5cdFx0XHRcdFx0aWYgX2V4cG9ydFxuXHRcdFx0XHRcdFx0dGl0bGVfcGVybWlzc2lvbiA9IFwiXCJcblx0XHRcdFx0XHRcdGZpZWxkX3Blcm1pc3Npb24gPSBcIlwiXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0dGl0bGVfcGVybWlzc2lvbiA9IFwidGl0bGUtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uXG5cdFx0XHRcdFx0XHRmaWVsZF9wZXJtaXNzaW9uID0gXCJmaWVsZC1cIiArIHRhYmxlX2ZpZWxkLnBlcm1pc3Npb25cblxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IFwiXCJcIlxuXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUgdGQtdGl0bGUtI3twdXJlQ29kZX0gI3t0aXRsZV9wZXJtaXNzaW9ufSAje3JlcXVpcmVkfVwiPlxuXHRcdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIn19XG5cdFx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgdGQtZmllbGQtI3twdXJlQ29kZX0gI3tmaWVsZF9wZXJtaXNzaW9ufVwiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cblx0XHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCIgbGFiZWw9ZmFsc2V9fVxuXHRcdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmRcblxuXHR0ZW1wbGF0ZSArPSBcIlwiXCJcblx0XHQ8L3RhYmxlPlxuXG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS1mb290ZXIgZm9ybS10YWJsZSBuby1ib3JkZXJcIj5cblx0XHRcdDx0ciBjbGFzcz1cImFwcGxpY2FudC13cmFwcGVyXCI+XG5cdFx0XHRcdDx0ZCBjbGFzcz1cIm5vd3JhcFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cblx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e190IFwiaW5zdGFuY2VfaW5pdGlhdG9yXCJ9fe+8mjwvbGFiZWw+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZCBpbmxpbmUtbGVmdCc+XG5cdFx0XHRcdFx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cImFmU2VsZWN0VXNlclwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdDx0ZCBjbGFzcz1cIm5vd3JhcFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3B1bGwtbGVmdCc+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XG5cdFx0XHRcdFx0XHRcdDxsYWJlbD57e190IFwiaW5zdGFuY2Vfc3VibWl0X2RhdGVcIn1977yaPC9sYWJlbD5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLXJpZ2h0Jz5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHR7e2Zvcm1hdERhdGUgaW5zdGFuY2Uuc3VibWl0X2RhdGUgJ3tcImZvcm1hdFwiOlwiWVlZWS1NTS1ERFwifSd9fVxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L3RkPlxuXHRcdFx0PC90cj5cblx0XHQ8L3RhYmxlPlxuXHQ8L2Rpdj5cblx0XCJcIlwiXG5cdHJldHVybiB0ZW1wbGF0ZVxuXG4j5q2k5aSE5qih5p2/5YWs55So5LiO77yaaW5zdGFuY2Ug57yW6L6R44CB5p+l55yL44CB5omT5Y2w44CB6L2s5Y+R5pe255Sf5oiQ6ZmE5Lu244CB5Y+R6YCB6YKu5Lu2Ym9keemDqOWIhih0YWJsZSDmqKHmnb8pXG4j5aaC5p6c5pyJ5L+u5pS577yM6K+35rWL6K+V56Gu6K6k5YW25LuW5Yqf6IO95piv5ZCm5q2j5bi444CCXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlID1cblx0ZGVmYXVsdDogKGluc3RhbmNlKS0+XG5cblx0XHR0ZW1wbGF0ZSA9IFwiXCJcIlxuXHRcdFx0PGRpdiBjbGFzcz1cIndpdGgtYm9yZGVyIGNvbC1tZC0xMlwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UtbmFtZVwiPlxuXHRcdFx0XHRcdDxoMyBjbGFzcz1cImJveC10aXRsZVwiPiN7VGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlfTwvaDM+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJoZWxwLWJsb2NrXCI+PC9zcGFuPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJoZWxwLWJsb2NrXCI+PC9zcGFuPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHR7eyNlYWNoIHN0ZWVkb3NfZm9ybS5maWVsZHN9fVxuXHRcdFx0XHR7eyNpZiBpc09waW5pb25GaWVsZCB0aGlzfX1cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fVwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgYXV0b21hdGljIG9waW5pb24tZmllbGQte3t0aGlzLmNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9dGhpcy5jb2RlfX08L2xhYmVsPlxuXG5cdFx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9dGhpcy5jb2RlfX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdHt7I2lmIGluY2x1ZGVzIHRoaXMudHlwZSAnc2VjdGlvbix0YWJsZSd9fVxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiPlxuXHRcdFx0XHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGUgbGFiZWw9ZmFsc2V9fVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19XCI+XG5cdFx0XHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGV9fVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHR7ey9pZn19XG5cdFx0XHR7ey9lYWNofX1cblx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtbWQtMTJcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImFwcGxpY2FudC13cmFwcGVyIGZvcm0tZ3JvdXAgZm9ybS1ob3Jpem9udGFsXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1hZGRvblwiPlxuXHRcdFx0XHRcdCAge3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX0mbmJzcDs6XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxuXHRcdFx0XHQgIDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdFwiXCJcIlxuXHRcdHJldHVybiB0ZW1wbGF0ZVxuXG5cdHRhYmxlOiAoaW5zdGFuY2UpLT5cblx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoaW5zdGFuY2UpXG4jXHR0YWJsZTogJycnXG4jXHRcdDx0YWJsZSBjbGFzcz1cImJveC1oZWFkZXIgIHdpdGgtYm9yZGVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XCI+XG4jXHRcdFx0PHRyIGNsYXNzPVwiaW5zdGFuY2UtbmFtZVwiPlxuI1x0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZFwiPlxuI1x0XHRcdFx0XHQ8aDMgY2xhc3M9XCJib3gtdGl0bGVcIj57e2luc3RhbmNlLm5hbWV9fTwvaDM+XG4jXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaGVscC1ibG9ja1wiPjwvc3Bhbj5cbiNcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0PC90cj5cbiMgICAgICAgICAgICA8dHIgY2xhc3M9XCJhcHBsaWNhbnQtd3JhcHBlclwiPlxuI1x0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZFwiPlxuI1x0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX0mbmJzcDs6PC9sYWJlbD5cbiNcdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxuI1x0XHRcdFx0PC90ZD5cbiNcdFx0XHQ8L3RyPlxuIyAgICAgICAgPC90YWJsZT5cbiNcdFx0PHRhYmxlIGNsYXNzPVwiZm9ybS10YWJsZVwiPlxuI1x0XHQgICAge3sjZWFjaCB0YWJsZV9maWVsZHN9fVxuI1x0XHRcdFx0e3sjaWYgaXNPcGluaW9uRmllbGQgdGhpc319XG4jXHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XG4jXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUge3sjaWYgaXNfcmVxdWlyZWR9fWlzLXJlcXVpcmVke3svaWZ9fVwiPlxuI1x0XHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9dGhpcy5jb2RlfX1cbiNcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIG9waW5pb24tZmllbGRcIiBjb2xzcGFuID0gJ3t7dGRfY29sc3Bhbn19Jz5cbiNcdFx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IHN0ZXA9KGdldE9waW5pb25GaWVsZFN0ZXBOYW1lIHRoaXMpIGRlZmF1bHQ9Jyd9fVxuI1x0XHRcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0XHRcdHt7e3RyX2VuZH19fVxuI1x0XHRcdFx0e3tlbHNlfX1cbiNcdFx0XHRcdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XG4jXHRcdFx0XHRcdFx0e3t7dHJfc3RhcnR9fX1cbiNcdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWNoaWxkZmllbGRcIiBjb2xzcGFuID0gJ3t7dGRfY29sc3Bhbn19Jz5cbiNcdFx0XHRcdFx0XHRcdCAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHRcdHt7e3RyX2VuZH19fVxuI1x0XHRcdFx0XHR7e2Vsc2V9fVxuI1x0XHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XG4jXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSB7eyNpZiBpc19yZXF1aXJlZH19aXMtcmVxdWlyZWR7ey9pZn19XCI+XG4jXHRcdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19XG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQge3twZXJtaXNzaW9ufX1cIiBjb2xzcGFuID0gJ3t7dGRfY29sc3Bhbn19Jz5cbiNcdFx0XHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cbiNcdFx0XHRcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0XHRcdFx0e3t7dHJfZW5kfX19XG4jXHRcdFx0XHRcdHt7L2lmfX1cbiNcdFx0XHRcdHt7L2lmfX1cbiNcbiNcdFx0ICAgIHt7L2VhY2h9fVxuI1x0XHQ8L3RhYmxlPlxuI1x0JycnXG5cblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVIZWxwcyA9XG5cdGFwcGxpY2FudENvbnRleHQ6IC0+XG5cdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGRhdGEgPSB7XG5cdFx0XHRuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRhdHRzOiB7XG5cdFx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50Jyxcblx0XHRcdFx0aWQ6ICdpbnNfYXBwbGljYW50Jyxcblx0XHRcdFx0Y2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCcsXG5cdFx0XHRcdHN0eWxlOiAncGFkZGluZzo2cHggMTJweDt3aWR0aDoxNDBweDtkaXNwbGF5OmlubGluZSdcblx0XHRcdH1cblx0XHR9XG4jXHRcdGlmIG5vdCBzdGVlZG9zX2luc3RhbmNlIHx8IHN0ZWVkb3NfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiXG5cdFx0ZGF0YS5hdHRzLmRpc2FibGVkID0gdHJ1ZVxuXHRcdHJldHVybiBkYXRhO1xuXG5pbnN0YW5jZUlkOiAtPlxuXHRyZXR1cm4gJ2luc3RhbmNlZm9ybSc7I1wiaW5zdGFuY2VfXCIgKyBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIik7XG5cbmZvcm1fdHlwZXM6IC0+XG5cdGlmIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxuXHRcdHJldHVybiAnZGlzYWJsZWQnO1xuXHRlbHNlXG5cdFx0cmV0dXJuICdtZXRob2QnO1xuXG5zdGVlZG9zX2Zvcm06IC0+XG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdGlmIGZvcm1fdmVyc2lvblxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb25cblxuaW5uZXJzdWJmb3JtQ29udGV4dDogKG9iaiktPlxuXHRkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuXHRvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGlmIGRvY192YWx1ZXMgdGhlbiBkb2NfdmFsdWVzW29iai5jb2RlXSBlbHNlIFtdXG5cdG9ialtcImZvcm1JZFwiXSA9IGZvcm1JZDtcblx0cmV0dXJuIG9iajtcblxuaW5zdGFuY2U6IC0+XG5cdFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIilcblx0aWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSlcblx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0cmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG5cbmVxdWFsczogKGEsIGIpIC0+XG5cdHJldHVybiAoYSA9PSBiKVxuXG5pbmNsdWRlczogKGEsIGIpIC0+XG5cdHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG5cbmZpZWxkczogLT5cblx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcblx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcblxuZG9jX3ZhbHVlczogLT5cblx0V29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuXG5pbnN0YW5jZV9ib3hfc3R5bGU6IC0+XG5cdGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpXG5cdGlmIGJveCA9PSBcImluYm94XCIgfHwgYm94ID09IFwiZHJhZnRcIlxuXHRcdGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKVxuXHRcdGlmIGp1ZGdlXG5cdFx0XHRpZiAoanVkZ2UgPT0gXCJhcHByb3ZlZFwiKVxuXHRcdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXG5cdFx0XHRlbHNlIGlmIChqdWRnZSA9PSBcInJlamVjdGVkXCIpXG5cdFx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxuXHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgaW5zICYmIGlucy5maW5hbF9kZWNpc2lvblxuXHRcdGlmIGlucy5maW5hbF9kZWNpc2lvbiA9PSBcImFwcHJvdmVkXCJcblx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcblx0XHRlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJyZWplY3RlZFwiKVxuXHRcdFx0cmV0dXJuIFwiYm94LWRhbmdlclwiXG5cblxuVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlID0gKGluc3RhbmNlLCB0ZW1wbGF0ZU5hbWUpIC0+XG5cdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblxuXHRpZiB0ZW1wbGF0ZU5hbWVcblx0XHRpZiB0ZW1wbGF0ZU5hbWUgPT0gJ3RhYmxlJ1xuXHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXG5cdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcblxuXHRpZiBTZXNzaW9uPy5nZXQoXCJpbnN0YW5jZVByaW50XCIpXG5cdFx0aWYgZmxvdz8ucHJpbnRfdGVtcGxhdGVcblx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cucHJpbnRfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXG5cdFx0ZWxzZVxuXHRcdFx0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcblx0XHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXG5cdGVsc2Vcblx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXG5cblx0XHRpZiBmbG93Py5pbnN0YW5jZV90ZW1wbGF0ZVxuXHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcblxuXHRcdGlmIGZvcm0/Lmluc3RhbmNlX3N0eWxlXG5cdFx0XHRpZiBmb3JtLmluc3RhbmNlX3N0eWxlID09ICd0YWJsZSdcblx0XHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS5kZWZhdWx0KGluc3RhbmNlKVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXG5cbiNUZW1wbGF0ZU1hbmFnZXIuZXhwb3J0VGVtcGxhdGUgPSAoZmxvd0lkKSAtPlxuI1x0dGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoZmxvd0lkKTtcbiNcbiNcdGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93SWQpO1xuI1xuI1x0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcbiNcdFx0cmV0dXJuIHRlbXBsYXRlO1xuI1xuI1x0cmV0dXJuIHRlbXBsYXRlO1xuXG4iLCJ2YXIgZm9ybUlkOyAgICAgICAgICAgICAgICAgXG5cblRlbXBsYXRlTWFuYWdlciA9IHt9O1xuXG5mb3JtSWQgPSAnaW5zdGFuY2Vmb3JtJztcblxuVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYWdlVGl0bGUsIHBhZ2VUaXRsZVRyQ2xhc3MsIHZhbDtcbiAgcGFnZVRpdGxlID0gXCJ7e2luc3RhbmNlLm5hbWV9fVwiO1xuICBwYWdlVGl0bGVUckNsYXNzID0gXCJpbnN0YW5jZS1uYW1lXCI7XG4gIGlmICh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApIHtcbiAgICBwYWdlVGl0bGUgPSBcInt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSArIFwiXFxcIiBsYWJlbD1mYWxzZX19XCI7XG4gICAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZSA6IHZvaWQgMCkge1xuICAgIHBhZ2VUaXRsZSA9IFwiXCIgKyBDb3JlRm9ybS5wYWdlVGl0bGU7XG4gICAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiXCI7XG4gIH1cbiAgdmFsID0ge1xuICAgIHBhZ2VUaXRsZTogcGFnZVRpdGxlLFxuICAgIHBhZ2VUaXRsZVRyQ2xhc3M6IHBhZ2VUaXRsZVRyQ2xhc3NcbiAgfTtcbiAgcmV0dXJuIHZhbDtcbn07XG5cblRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlID0gZnVuY3Rpb24oaW5zdGFuY2UsIF9leHBvcnQpIHtcbiAgdmFyIHRhYmxlX2ZpZWxkcywgdGVtcGxhdGU7XG4gIHRlbXBsYXRlID0gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XFxuXHQ8dGFibGUgY2xhc3M9XFxcInRhYmxlLXBhZ2UtdGl0bGUgZm9ybS10YWJsZSBuby1ib3JkZXIgdGV4dC1hbGlnbi1jZW50ZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XFxcIj5cXG5cdFx0PHRyIGNsYXNzPVxcXCJcIiArICh0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlVHJDbGFzcykgKyBcIlxcXCI+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJpbnN0YW5jZS10YWJsZS1uYW1lLXRkIHBhZ2UtdGl0bGVcXFwiPlxcblx0XHRcdFx0XCIgKyAodGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZSkgKyBcIlxcblx0XHRcdDwvdGQ+XFxuXHRcdDwvdHI+XFxuXFxuXHQ8L3RhYmxlPlxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLWJvZHkgZm9ybS10YWJsZVxcXCI+XFxuXHRcdFx0PHRyIHN0eWxlPVxcXCJoZWlnaHQ6MHB4XFxcIj5cXG5cdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cXG5cdFx0XHRcdDx0aD48L3RoPlxcblx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxcblx0XHRcdFx0PHRoPjwvdGg+XFxuXHRcdFx0PC90cj5cIjtcbiAgdGFibGVfZmllbGRzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50YWJsZV9maWVsZHMoaW5zdGFuY2UpO1xuICB0YWJsZV9maWVsZHMuZm9yRWFjaChmdW5jdGlvbih0YWJsZV9maWVsZCkge1xuICAgIHZhciBmaWVsZF9wZXJtaXNzaW9uLCBwdXJlQ29kZSwgcmVxdWlyZWQsIHRpdGxlX3Blcm1pc3Npb247XG4gICAgcmVxdWlyZWQgPSBcIlwiO1xuICAgIGlmICghKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgfHwgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgIT09IHRhYmxlX2ZpZWxkLmNvZGUpIHtcbiAgICAgIGlmICh0YWJsZV9maWVsZC5pc19yZXF1aXJlZCkge1xuICAgICAgICByZXF1aXJlZCA9IFwiaXMtcmVxdWlyZWRcIjtcbiAgICAgIH1cbiAgICAgIGlmIChfZXhwb3J0KSB7XG4gICAgICAgIHJlcXVpcmVkID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIHB1cmVDb2RlID0gU3RlZWRvcy5yZW1vdmVTcGVjaWFsQ2hhcmFjdGVyKHRhYmxlX2ZpZWxkLmNvZGUpO1xuICAgICAgaWYgKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGQodGFibGVfZmllbGQpKSB7XG4gICAgICAgIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0O1xuICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtdGl0bGUgXCIgKyByZXF1aXJlZCArIFwiXFxcIj5cXG5cdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XFxuPHRkIGNsYXNzPVxcXCJ0ZC1maWVsZCBvcGluaW9uLWZpZWxkIG9waW5pb24tZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiIGF1dG9tYXRpY1xcXCIgY29sc3BhbiA9IFxcXCJcIiArIHRhYmxlX2ZpZWxkLnRkX2NvbHNwYW4gKyBcIlxcXCI+XFxuXHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XCI7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlcyh0YWJsZV9maWVsZC50eXBlLCAnc2VjdGlvbix0YWJsZScpKSB7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnQ7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9XFxcInRkLWNoaWxkZmllbGQgdGQtY2hpbGRmaWVsZC1cIiArIHB1cmVDb2RlICsgXCJcXFwiIGNvbHNwYW4gPSBcXFwiXCIgKyB0YWJsZV9maWVsZC50ZF9jb2xzcGFuICsgXCJcXFwiPlxcbiAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVxcbjwvdGQ+XCI7XG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydDtcbiAgICAgICAgICBpZiAoX2V4cG9ydCkge1xuICAgICAgICAgICAgdGl0bGVfcGVybWlzc2lvbiA9IFwiXCI7XG4gICAgICAgICAgICBmaWVsZF9wZXJtaXNzaW9uID0gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGl0bGVfcGVybWlzc2lvbiA9IFwidGl0bGUtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uO1xuICAgICAgICAgICAgZmllbGRfcGVybWlzc2lvbiA9IFwiZmllbGQtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtdGl0bGUgdGQtdGl0bGUtXCIgKyBwdXJlQ29kZSArIFwiIFwiICsgdGl0bGVfcGVybWlzc2lvbiArIFwiIFwiICsgcmVxdWlyZWQgKyBcIlxcXCI+XFxuXHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwifX1cXG48L3RkPlxcbjx0ZCBjbGFzcz1cXFwidGQtZmllbGQgdGQtZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiIFwiICsgZmllbGRfcGVybWlzc2lvbiArIFwiXFxcIiBjb2xzcGFuID0gXFxcIlwiICsgdGFibGVfZmllbGQudGRfY29sc3BhbiArIFwiXFxcIj5cXG5cdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVxcbjwvdGQ+XCI7XG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHRlbXBsYXRlICs9IFwiXHQ8L3RhYmxlPlxcblxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLWZvb3RlciBmb3JtLXRhYmxlIG5vLWJvcmRlclxcXCI+XFxuXHRcdDx0ciBjbGFzcz1cXFwiYXBwbGljYW50LXdyYXBwZXJcXFwiPlxcblx0XHRcdDx0ZCBjbGFzcz1cXFwibm93cmFwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e190IFxcXCJpbnN0YW5jZV9pbml0aWF0b3JcXFwifX3vvJo8L2xhYmVsPlxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10YWJsZS13cmFwcGVyLXRkIGlubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XFxcImFmU2VsZWN0VXNlclxcXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvdGQ+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJub3dyYXBcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz0ncHVsbC1sZWZ0Jz5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxcblx0XHRcdFx0XHRcdDxsYWJlbD57e190IFxcXCJpbnN0YW5jZV9zdWJtaXRfZGF0ZVxcXCJ9fe+8mjwvbGFiZWw+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtcmlnaHQnPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0e3tmb3JtYXREYXRlIGluc3RhbmNlLnN1Ym1pdF9kYXRlICd7XFxcImZvcm1hdFxcXCI6XFxcIllZWVktTU0tRERcXFwifSd9fVxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvdGQ+XFxuXHRcdDwvdHI+XFxuXHQ8L3RhYmxlPlxcbjwvZGl2PlwiO1xuICByZXR1cm4gdGVtcGxhdGU7XG59O1xuXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlID0ge1xuICBcImRlZmF1bHRcIjogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB2YXIgdGVtcGxhdGU7XG4gICAgdGVtcGxhdGUgPSBcIjxkaXYgY2xhc3M9XFxcIndpdGgtYm9yZGVyIGNvbC1tZC0xMlxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1uYW1lXFxcIj5cXG5cdFx0PGgzIGNsYXNzPVxcXCJib3gtdGl0bGVcXFwiPlwiICsgKFRlbXBsYXRlTWFuYWdlci5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZSkgKyBcIjwvaDM+XFxuXHRcdDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj48L3NwYW4+XFxuXHQ8L2Rpdj5cXG5cdDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj48L3NwYW4+XFxuPC9kaXY+XFxue3sjZWFjaCBzdGVlZG9zX2Zvcm0uZmllbGRzfX1cXG5cdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxcblx0XHQ8ZGl2IGNsYXNzPVxcXCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19XFxcIj5cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGF1dG9tYXRpYyBvcGluaW9uLWZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fTwvbGFiZWw+XFxuXFxuXHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPXRoaXMuY29kZX19XFxuXHRcdFx0PC9kaXY+XFxuXHRcdDwvZGl2Plxcblx0e3tlbHNlfX1cXG5cdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XFxuXHRcdFx0PC9kaXY+XFxuXHRcdHt7ZWxzZX19XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fVxcXCI+XFxuXHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlfX1cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0e3svaWZ9fVxcblx0e3svaWZ9fVxcbnt7L2VhY2h9fVxcbjxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJhcHBsaWNhbnQtd3JhcHBlciBmb3JtLWdyb3VwIGZvcm0taG9yaXpvbnRhbFxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxuXHRcdDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwLWFkZG9uXFxcIj5cXG5cdFx0ICB7e190IFxcXCJpbnN0YW5jZV9pbml0aWF0b3JcXFwifX0mbmJzcDs6XFxuXHRcdDwvZGl2Plxcblx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cXFwiYWZTZWxlY3RVc2VyXFxcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxcblx0ICA8L2Rpdj5cXG5cdDwvZGl2PlxcbjwvZGl2PlwiO1xuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfSxcbiAgdGFibGU6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKGluc3RhbmNlKTtcbiAgfVxufTtcblxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZUhlbHBzID0ge1xuICBhcHBsaWNhbnRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSwgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgZGF0YSA9IHtcbiAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgIGF0dHM6IHtcbiAgICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBpZDogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBcImNsYXNzXCI6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCcsXG4gICAgICAgIHN0eWxlOiAncGFkZGluZzo2cHggMTJweDt3aWR0aDoxNDBweDtkaXNwbGF5OmlubGluZSdcbiAgICAgIH1cbiAgICB9O1xuICAgIGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWU7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn07XG5cbih7XG4gIGluc3RhbmNlSWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnaW5zdGFuY2Vmb3JtJztcbiAgfSxcbiAgZm9ybV90eXBlczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKSkge1xuICAgICAgcmV0dXJuICdkaXNhYmxlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbWV0aG9kJztcbiAgICB9XG4gIH0sXG4gIHN0ZWVkb3NfZm9ybTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBmb3JtX3ZlcnNpb247XG4gICAgfVxuICB9LFxuICBpbm5lcnN1YmZvcm1Db250ZXh0OiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZG9jX3ZhbHVlcztcbiAgICBkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIG9ialtcInRhYmxlVmFsdWVzXCJdID0gZG9jX3ZhbHVlcyA/IGRvY192YWx1ZXNbb2JqLmNvZGVdIDogW107XG4gICAgb2JqW1wiZm9ybUlkXCJdID0gZm9ybUlkO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGluc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpO1xuICAgIGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuICAgIH1cbiAgfSxcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIGluY2x1ZGVzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgZmllbGRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcbiAgICB9XG4gIH0sXG4gIGRvY192YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gIH0sXG4gIGluc3RhbmNlX2JveF9zdHlsZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJveCwgaW5zLCBqdWRnZTtcbiAgICBib3ggPSBTZXNzaW9uLmdldChcImJveFwiKTtcbiAgICBpZiAoYm94ID09PSBcImluYm94XCIgfHwgYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICAgIGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKTtcbiAgICAgIGlmIChqdWRnZSkge1xuICAgICAgICBpZiAoanVkZ2UgPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoanVkZ2UgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zICYmIGlucy5maW5hbF9kZWNpc2lvbikge1xuICAgICAgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICB9IGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG5UZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbihpbnN0YW5jZSwgdGVtcGxhdGVOYW1lKSB7XG4gIHZhciBmbG93LCBmb3JtO1xuICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gIGlmICh0ZW1wbGF0ZU5hbWUpIHtcbiAgICBpZiAodGVtcGxhdGVOYW1lID09PSAndGFibGUnKSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBTZXNzaW9uICE9PSBcInVuZGVmaW5lZFwiICYmIFNlc3Npb24gIT09IG51bGwgPyBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgOiB2b2lkIDApIHtcbiAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5wcmludF90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5wcmludF90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlIDogdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgfVxuICAgIGlmIChmb3JtICE9IG51bGwgPyBmb3JtLmluc3RhbmNlX3N0eWxlIDogdm9pZCAwKSB7XG4gICAgICBpZiAoZm9ybS5pbnN0YW5jZV9zdHlsZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufTtcbiIsIlN0ZWVkb3NUYWJsZSA9IHt9O1xuXG5TdGVlZG9zVGFibGUuZm9ybUlkID0gXCJpbnN0YW5jZWZvcm1cIjtcblxuU3RlZWRvc1RhYmxlLmNoZWNrSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIHZhciBmaWVsZFZhbCA9IFN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZShmaWVsZCwgaXRlbV9pbmRleCk7XG5cbiAgICB2YXIgc2ZfbmFtZSA9ICcnO1xuICAgIHZhciByZXYgPSB0cnVlO1xuICAgIGZpZWxkT2JqLnNmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihzZikge1xuICAgICAgICBpZiAoc2YucGVybWlzc2lvbiA9PSAnZWRpdGFibGUnKSB7XG4gICAgICAgICAgICBzZl9uYW1lID0gZmllbGRPYmouY29kZSArIFwiLlwiICsgc2YuY29kZTtcbiAgICAgICAgICAgIGlmICghSW5zdGFuY2VNYW5hZ2VyLmNoZWNrRm9ybUZpZWxkVmFsdWUoJChcIltuYW1lPSdcIiArIHNmX25hbWUgKyBcIiddXCIpWzBdKSkge1xuICAgICAgICAgICAgICAgIHJldiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV2O1xufVxuXG5TdGVlZG9zVGFibGUuc2V0VGFibGVJdGVtVmFsdWUgPSBmdW5jdGlvbihmaWVsZCwgaXRlbV9pbmRleCwgaXRlbV92YWx1ZSkge1xuXG4gICAgdmFyIHRhYmxlVmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCk7XG4gICAgdGFibGVWYWx1ZVtpdGVtX2luZGV4XSA9IGl0ZW1fdmFsdWU7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUYWJsZUl0ZW1WYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKVtpdGVtX2luZGV4XTtcbn1cblxuU3RlZWRvc1RhYmxlLnJlbW92ZVRhYmxlSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVJdGVtVmFsdWUoZmllbGQsIGl0ZW1faW5kZXgpO1xuICAgIGl0ZW1fdmFsdWUucmVtb3ZlZCA9IHRydWU7XG59XG5cblN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlKSB7XG4gICAgJChcInRhYmxlW25hbWU9J1wiICsgZmllbGQgKyBcIiddXCIpLnZhbCh7XG4gICAgICAgIHZhbDogdmFsdWVcbiAgICB9KTtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUgPSBmdW5jdGlvbihmaWVsZCkge1xuICAgIHJldHVybiAkKFwidGFibGVbbmFtZT0nXCIgKyBmaWVsZCArIFwiJ11cIikudmFsKCkudmFsO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0VmFsaWRWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIHZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgdmFsaWRWYWx1ZSA9IFtdO1xuXG4gICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbih2KSB7XG4gICAgICAgIGlmICghdi5yZW1vdmVkKSB7XG4gICAgICAgICAgICB2YWxpZFZhbHVlLnB1c2godik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmFsaWRWYWx1ZTtcbn1cblxuXG5TdGVlZG9zVGFibGUuaGFuZGxlRGF0YSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZXMpIHtcblxuICAgIGlmICghdmFsdWVzIHx8ICEodmFsdWVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgZmllbGRPYmouc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgIGlmIChmLnR5cGUgPT0gJ3VzZXInIHx8IGYudHlwZSA9PSAnZ3JvdXAnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdltmLmNvZGVdXG4gICAgICAgICAgICAgICAgaWYgKGYuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA+IDAgJiYgdHlwZW9mKHZhbHVlWzBdKSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdltmLmNvZGVdID0gdltmLmNvZGVdLmdldFByb3BlcnR5KFwiaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mKHZhbHVlKSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdltmLmNvZGVdID0gdltmLmNvZGVdLmlkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChmLnR5cGUgPT0gJ2RhdGVUaW1lJykge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZbZi5jb2RlXVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHZhbHVlLnNwbGl0KFwiVFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MCA9IHRbMF0uc3BsaXQoXCItXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQxID0gdFsxXS5zcGxpdChcIjpcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgPSB0MFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdDBbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdDBbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IHQxWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IHQxWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbZi5jb2RlXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZXM7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRGaWVsZCA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIGluc3RhbmNlRmllbGRzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRmllbGRzKCk7XG4gICAgaWYgKCFpbnN0YW5jZUZpZWxkcylcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgdmFyIGZpZWxkT2JqID0gaW5zdGFuY2VGaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgZmllbGQpO1xuXG4gICAgcmV0dXJuIGZpZWxkT2JqO1xufVxuXG5cblN0ZWVkb3NUYWJsZS5nZXRNb2RhbERhdGEgPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgpIHtcblxuICAgIHZhciBkYXRhID0ge307XG5cbiAgICB2YXIgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgaWYgKCFmaWVsZE9iaikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGF0YS5maWVsZCA9IGZpZWxkT2JqO1xuXG4gICAgZGF0YS5maWVsZC5mb3JtdWxhID0gRm9ybV9mb3JtdWxhLmdldEZvcm11bGFGaWVsZFZhcmlhYmxlKFwiRm9ybV9mb3JtdWxhLmZpZWxkX3ZhbHVlc1wiLCBmaWVsZE9iai5zZmllbGRzKTtcblxuICAgIGRhdGEudmFsdWUgPSB7fTtcblxuICAgIGRhdGEudmFsdWVbZmllbGRdID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpbmRleCk7XG5cbiAgICBkYXRhLmluZGV4ID0gaW5kZXg7XG5cbiAgICByZXR1cm4gZGF0YTtcbn1cblxuXG5cblN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XG5cbiAgICBpZiAoIUF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJzdGVlZG9zX3RhYmxlX21vZGFsX1wiICsgZmllbGQgKyBcIl9cIiArIGl0ZW1faW5kZXgpKSB7XG4gICAgICAgIHJldHVybiB7fVxuICAgIH1cblxuICAgIHZhciBpdGVtX3ZhbHVlID0gQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcInN0ZWVkb3NfdGFibGVfbW9kYWxfXCIgKyBmaWVsZCArIFwiX1wiICsgaXRlbV9pbmRleCkuaW5zZXJ0RG9jW2ZpZWxkXTtcbiAgICByZXR1cm4gaXRlbV92YWx1ZTtcbn1cblxuXG5TdGVlZG9zVGFibGUuYWRkSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCwgX2l0ZW1fdmFsdWUpIHtcbiAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcbiAgICB2YXIgaXRlbV92YWx1ZSA9IF9pdGVtX3ZhbHVlIHx8IFN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZShmaWVsZCwgaW5kZXgpO1xuICAgICQoXCJ0Ym9keVtuYW1lPSdcIiArIGZpZWxkICsgXCJUYm9keSddXCIpLmFwcGVuZChTdGVlZG9zVGFibGUuZ2V0VHIoa2V5cywgaXRlbV92YWx1ZSwgaW5kZXgsIGZpZWxkLCB0cnVlKSlcblxufVxuXG5TdGVlZG9zVGFibGUudXBkYXRlSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCwgX2l0ZW1fdmFsdWUpIHtcblxuICAgIHZhciBpdGVtID0gJChcInRyW25hbWU9J1wiICsgZmllbGQgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIiddXCIpO1xuXG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBfaXRlbV92YWx1ZSB8fCBTdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUoZmllbGQsIGluZGV4KTtcblxuICAgIGlmIChpdGVtICYmIGl0ZW0ubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcbiAgICAgICAgdmFyIHRkcyA9IFN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZChmaWVsZCwgaW5kZXgpO1xuXG4gICAgICAgIHZhciBzZmllbGRzID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKS5zZmllbGRzO1xuXG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHZhciBzZmllbGQgPSBzZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGtleSk7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1fdmFsdWVba2V5XTtcblxuICAgICAgICAgICAgdGRzID0gdGRzICsgU3RlZWRvc1RhYmxlLmdldFRkKHNmaWVsZCwgaW5kZXgsIHZhbHVlKTtcblxuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLmVtcHR5KCk7XG5cbiAgICAgICAgaXRlbS5hcHBlbmQodGRzKTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgU3RlZWRvc1RhYmxlLmFkZEl0ZW0oZmllbGQsIGluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAoU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpKSB7XG5cbiAgICAgICAgU3RlZWRvc1RhYmxlLnNldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpbmRleCwgaXRlbV92YWx1ZSk7XG5cbiAgICAgICAgLy9TdGVlZG9zVGFibGUudmFsdWVIYXNoW2ZpZWxkXVtpbmRleF0gPSBpdGVtX3ZhbHVlO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy9TdGVlZG9zVGFibGUudmFsdWVIYXNoW2ZpZWxkXSA9IFtpdGVtX3ZhbHVlXTtcblxuICAgICAgICBTdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZShmaWVsZCwgW2l0ZW1fdmFsdWVdKVxuXG4gICAgfVxuXG4gICAgLy/miafooYzkuLvooajlhazlvI/orqHnrpdcbiAgICBJbnN0YW5jZU1hbmFnZXIucnVuRm9ybXVsYShmaWVsZCk7XG5cbn1cblxuU3RlZWRvc1RhYmxlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgpIHtcblxuICAgICQoXCJ0cltuYW1lPSdcIiArIGZpZWxkICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInXVwiKS5oaWRlKCk7XG5cbiAgICBTdGVlZG9zVGFibGUucmVtb3ZlVGFibGVJdGVtKGZpZWxkLCBpbmRleCk7XG5cbiAgICBJbnN0YW5jZU1hbmFnZXIucnVuRm9ybXVsYShmaWVsZCk7XG59XG5cblN0ZWVkb3NUYWJsZS5zaG93TW9kYWwgPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgsIG1ldGhvZCkge1xuXG5cbiAgICB2YXIgbW9kYWxEYXRhID0gU3RlZWRvc1RhYmxlLmdldE1vZGFsRGF0YShmaWVsZCwgaW5kZXgpO1xuXG4gICAgbW9kYWxEYXRhLm1ldGhvZCA9IG1ldGhvZDtcblxuICAgIE1vZGFsLnNob3coXCJzdGVlZG9zVGFibGVNb2RhbFwiLCBtb2RhbERhdGEpO1xuXG59XG5cblN0ZWVkb3NUYWJsZS5nZXRLZXlzID0gZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoIUF1dG9Gb3JtLmdldEN1cnJlbnREYXRhRm9yRm9ybShTdGVlZG9zVGFibGUuZm9ybUlkKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgdmFyIHNzID0gQXV0b0Zvcm0uZ2V0Rm9ybVNjaGVtYShTdGVlZG9zVGFibGUuZm9ybUlkKTtcblxuICAgIHZhciBrZXlzID0gW107XG5cbiAgICBpZiAoc3Muc2NoZW1hKGZpZWxkICsgXCIuJFwiKS50eXBlID09PSBPYmplY3QpIHtcbiAgICAgICAga2V5cyA9IHNzLm9iamVjdEtleXMoU2ltcGxlU2NoZW1hLl9tYWtlR2VuZXJpYyhmaWVsZCkgKyAnLiQnKVxuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xuXG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUaGVhZCA9IGZ1bmN0aW9uKGZpZWxkLCBlZGl0YWJsZSkge1xuXG4gICAgdmFyIGZpZWxkT2JqID0gZmllbGQ7XG4gICAgaWYgKCFfLmlzT2JqZWN0KGZpZWxkKSlcbiAgICAgICAgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgaWYgKCFmaWVsZE9iaikge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIHRoZWFkID0gJycsXG4gICAgICAgIHRycyA9ICcnLFxuICAgICAgICBsYWJlbCA9ICcnLFxuICAgICAgICB3aWR0aCA9IDEwMDtcblxuICAgIGlmIChlZGl0YWJsZSkge1xuICAgICAgICAvLyB0cnMgPSBcIjx0aCBjbGFzcz0ncmVtb3ZlZCc+PC90aD5cIlxuXHRcdHRycyA9IFwiXCJcbiAgICB9XG5cbiAgICB2YXIgc2ZpZWxkcyA9IGZpZWxkT2JqLnNmaWVsZHM7XG5cbiAgICBpZighc2ZpZWxkcyl7XG4gICAgXHRyZXR1cm4gdGhlYWQ7XG5cdH1cblxuICAgIHZhciBzZl9sZW5ndGggPSBzZmllbGRzLmxlbmd0aDtcblxuICAgIGlmIChzZl9sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB3aWRlX2ZpZWxkcyA9IHNmaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xuXG4gICAgICAgIHdpZHRoID0gMTAwIC8gKHNmX2xlbmd0aCArIHdpZGVfZmllbGRzLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHNmLCBpbmRleCkge1xuXG4gICAgICAgIGxhYmVsID0gKHNmLm5hbWUgIT0gbnVsbCAmJiBzZi5uYW1lLmxlbmd0aCA+IDApID8gc2YubmFtZSA6IHNmLmNvZGU7XG5cbiAgICAgICAgdHJzID0gdHJzICsgXCI8dGQgXCI7IC8vIG5vd3JhcD0nbm93cmFwJ1xuXG4gICAgICAgIHRycyA9IHRycyArIFwiIGNsYXNzPSd0aXRsZSBcIiArIHNmLnR5cGUgKyBcIidcIjtcblxuICAgICAgICBpZiAoaW5kZXggIT0gKHNmX2xlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgICBpZiAoc2YuaXNfd2lkZSkge1xuICAgICAgICAgICAgICAgIHRycyA9IHRycyArIFwic3R5bGU9J3dpZHRoOlwiICsgd2lkdGggKiAyICsgXCIlJ1wiXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRycyA9IHRycyArIFwic3R5bGU9J3dpZHRoOlwiICsgd2lkdGggKyBcIiUnXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRycyA9IHRycyArIFwiPlwiICsgbGFiZWwgKyBcIjwvdGQ+XCJcbiAgICB9KTtcblxuICAgIHRoZWFkID0gJzx0cj4nICsgdHJzICsgJzwvdHI+JztcblxuICAgIHJldHVybiB0aGVhZDtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRib2R5ID0gZnVuY3Rpb24oa2V5cywgZmllbGQsIHZhbHVlcywgZWRpdGFibGUpIHtcbiAgICB2YXIgdGJvZHkgPSBcIlwiO1xuXG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgdGJvZHkgPSB0Ym9keSArIFN0ZWVkb3NUYWJsZS5nZXRUcihrZXlzLCB2YWx1ZSwgaW5kZXgsIGZpZWxkLCBlZGl0YWJsZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0Ym9keTtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRyID0gZnVuY3Rpb24oa2V5cywgaXRlbV92YWx1ZSwgaW5kZXgsIGZpZWxkLCBlZGl0YWJsZSkge1xuXG4gICAgdmFyIGZpZWxkT2JqID0gZmllbGQ7XG4gICAgaWYgKCFfLmlzT2JqZWN0KGZpZWxkKSlcbiAgICAgICAgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgdmFyIHRyID0gXCI8dHIgaWQ9J1wiICsgZmllbGRPYmouY29kZSArIFwiX2l0ZW1fXCIgKyBpbmRleCArIFwiJyBuYW1lPSdcIiArIGZpZWxkT2JqLmNvZGUgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIicgZGF0YS1pbmRleD0nXCIgKyBpbmRleCArIFwiJ1wiXG5cbiAgICBpZiAoZWRpdGFibGUpIHtcbiAgICAgICAgdHIgPSB0ciArIFwiJyBjbGFzcz0naXRlbSBlZGl0J1wiXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYoU3RlZWRvcy5pc01vYmlsZSgpKXtcblx0XHRcdHRyID0gdHIgKyBcIiBjbGFzcz0naXRlbSBpdGVtLXJlYWRvbmx5J1wiXG4gICAgICAgIH1lbHNle1xuXHRcdFx0dHIgPSB0ciArIFwiIGNsYXNzPSdpdGVtICdcIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGl0ZW1fdmFsdWUucmVtb3ZlZCkge1xuICAgICAgICB0ciA9IHRyICsgXCIgc3R5bGU9J2Rpc3BsYXk6bm9uZScgXCI7XG4gICAgfVxuXG4gICAgdHIgPSB0ciArIFwiJz5cIjtcblxuICAgIHZhciB0ZHMgPSBcIlwiO1xuXG4gICAgaWYgKGVkaXRhYmxlKSB7XG4gICAgICAgIHRkcyA9IFN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZChmaWVsZE9iai5jb2RlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgdmFyIHNmaWVsZHMgPSBmaWVsZE9iai5zZmllbGRzO1xuXG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICB2YXIgc2ZpZWxkID0gc2ZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBrZXkpO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1fdmFsdWVba2V5XTtcblxuICAgICAgICB0ZHMgPSB0ZHMgKyBTdGVlZG9zVGFibGUuZ2V0VGQoc2ZpZWxkLCBpbmRleCwgdmFsdWUpO1xuXG4gICAgfSk7XG5cbiAgICB0ciA9IHRyICsgdGRzICsgXCI8L3RyPlwiO1xuICAgIHJldHVybiB0cjtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFJlbW92ZVRkID0gZnVuY3Rpb24oZmllbGQsIGluZGV4KSB7XG4gICAgLy8gcmV0dXJuIFwiPHRkIGNsYXNzPSdzdGVlZG9zVGFibGUtaXRlbS1yZW1vdmUgcmVtb3ZlZCcgZGF0YS1pbmRleD0nXCIgKyBpbmRleCArIFwiJz48aSBjbGFzcz0nZmEgZmEtdGltZXMnIGFyaWEtaGlkZGVuPSd0cnVlJz48L3RkPlwiO1xuXHRyZXR1cm4gXCJcIlxufVxuXG5TdGVlZG9zVGFibGUuZ2V0VGQgPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgsIHZhbHVlKSB7XG4gICAgdmFyIHRkID0gXCI8dGQgXCI7XG5cbiAgICB0ZCA9IHRkICsgXCIgY2xhc3M9J3N0ZWVkb3NUYWJsZS1pdGVtLWZpZWxkIFwiICsgZmllbGQudHlwZSArIFwiJyBcIjtcblxuICAgIHZhciB0ZF92YWx1ZSA9IFwiXCI7XG5cbiAgICBpZihNZXRlb3IuaXNDbGllbnQpe1xuICAgICAgICB0ZF92YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRURFZhbHVlKGZpZWxkLCB2YWx1ZSlcbiAgICB9ZWxzZXtcbiAgICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXG4gICAgICAgIHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcblxuICAgICAgICB0ZF92YWx1ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSh2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KVxuICAgIH1cblxuICAgIHRkID0gdGQgKyBcIiBkYXRhLWluZGV4PSdcIiArIGluZGV4ICsgXCInPlwiICsgdGRfdmFsdWUgKyBcIjwvdGQ+XCJcblxuICAgIHJldHVybiB0ZDtcbn1cblxuXG5TdGVlZG9zVGFibGUuZ2V0VERWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZSkge1xuICAgIHZhciB0ZF92YWx1ZSA9IFwiXCI7XG4gICAgaWYgKCFmaWVsZCkge1xuICAgICAgICByZXR1cm4gdGRfdmFsdWVcbiAgICB9XG4gICAgdHJ5IHtcblxuICAgICAgICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mKHZhbHVlWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYVNwYWNlVXNlcnModmFsdWUpLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUuZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1ID0gQ0ZEYXRhTWFuYWdlci5nZXRGb3JtdWxhU3BhY2VVc2Vycyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB1ID8gdS5uYW1lIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZih2YWx1ZVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb25zKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBvID8gby5uYW1lIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUgPyBcIjxhIGhyZWY9J21haWx0bzpcIiArIHZhbHVlICsgXCInPlwiICsgdmFsdWUgKyBcIjwvYT5cIiA6IFwiXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd1cmwnOlxuICAgICAgICAgICAgICAgIGlmKHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFwiPGEgaHJlZj0nJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPmh0dHA6Ly9cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICcqKioqKionO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCItXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHRbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSAkLmZvcm1hdC5kYXRlKHZhbHVlLCAneXl5eS1NTS1kZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdDBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHQwWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSB0MVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0MVsxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJC5mb3JtYXQuZGF0ZSh2YWx1ZSwgJ3l5eXktTU0tZGQgSEg6bW0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodmFsdWUpID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZS50b0ZpeGVkKGZpZWxkLmRpZ2l0cyk7XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gU3RlZWRvcy5udW1iZXJUb1N0cmluZyh0ZF92YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnb2RhdGEnOlxuICAgICAgICAgICAgICAgIGlmKHZhbHVlKXtcblx0XHRcdFx0XHR0ZF92YWx1ZSA9IHZhbHVlWydAbGFiZWwnXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZSA/IHZhbHVlIDogJyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGU7XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gdGRfdmFsdWU7XG59O1xuXG5pZihNZXRlb3IuaXNDbGllbnQpe1xuICAgIEF1dG9Gb3JtLmFkZElucHV0VHlwZShcInRhYmxlXCIsIHtcbiAgICAgICAgdGVtcGxhdGU6IFwiYWZUYWJsZVwiLFxuICAgICAgICB2YWx1ZU91dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHRoaXMuZGF0YShcInNjaGVtYUtleVwiKTtcbiAgICAgICAgICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VmFsaWRWYWx1ZShuYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWVDb252ZXJ0ZXJzOiB7XG4gICAgICAgICAgICBcInN0cmluZ0FycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb1N0cmluZ0FycmF5LFxuICAgICAgICAgICAgXCJudW1iZXJcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvTnVtYmVyLFxuICAgICAgICAgICAgXCJudW1lckFycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb051bWJlckFycmF5LFxuICAgICAgICAgICAgXCJib29sZWFuXCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0Jvb2xlYW4sXG4gICAgICAgICAgICBcImJvb2xlYW5BcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9Cb29sZWFuQXJyYXksXG4gICAgICAgICAgICBcImRhdGVcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvRGF0ZSxcbiAgICAgICAgICAgIFwiZGF0ZUFycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0RhdGVBcnJheVxuICAgICAgICB9LFxuICAgICAgICBjb250ZXh0QWRqdXN0OiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQuYXR0cy5tYXhsZW5ndGggPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb250ZXh0Lm1heCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmF0dHMubWF4bGVuZ3RoID0gY29udGV4dC5tYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuYWZUYWJsZS5ldmVudHMoe1xuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5zdGVlZG9zVGFibGUtaXRlbS1hZGQsLmFkZC1pdGVtLXRyJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHRlbXBsYXRlLmRhdGEubmFtZTtcblxuICAgICAgICAgICAgdmFyIHRhYmxlVmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShuYW1lKTtcblxuICAgICAgICAgICAgdmFyIG5ld19pdGVtX2luZGV4ID0gdGFibGVWYWx1ZSA/IHRhYmxlVmFsdWUubGVuZ3RoIDogMDtcblxuICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnNob3dNb2RhbChuYW1lLCBuZXdfaXRlbV9pbmRleCwgXCJhZGRcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tZmllbGQnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZS5kYXRhLmF0dHMuZWRpdGFibGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xuICAgICAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5zaG93TW9kYWwoZmllbGQsIGluZGV4LCBcImVkaXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XG4gICAgICAgICAgICB2YXIgaXRlbV9pbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcbiAgICAgICAgICAgIFNlc3Npb24uc2V0KFwiaW5zdGFuY2VfY2hhbmdlXCIsIHRydWUpO1xuICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnJlbW92ZUl0ZW0oZmllbGQsIGl0ZW1faW5kZXgpO1xuICAgICAgICB9LFxuXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLml0ZW0tcmVhZG9ubHknOiBmdW5jdGlvbiAoZXZlbnQsIHRlbXBsYXRlKSB7XG5cdFx0XHRpZiAoIXRlbXBsYXRlLmRhdGEuYXR0cy5lZGl0YWJsZSkge1xuXHRcdFx0XHR2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XG5cdFx0XHRcdHZhciBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcblx0XHRcdFx0U3RlZWRvc1RhYmxlLnNob3dNb2RhbChmaWVsZCwgaW5kZXgsIFwicmVhZFwiKTtcblx0XHRcdH1cblx0XHR9XG4gICAgfSk7XG5cblxuXG4gICAgVGVtcGxhdGUuYWZUYWJsZS5yZW5kZXJlZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZGF0YS5uYW1lO1xuXG4gICAgICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xuICAgICAgICB2YXIgdmFsaWRWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5oYW5kbGVEYXRhKGZpZWxkLCB0aGlzLmRhdGEudmFsdWUpO1xuICAgICAgICBTdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZShmaWVsZCwgdmFsaWRWYWx1ZSk7XG5cbiAgICAgICAgJChcInRoZWFkW25hbWU9J1wiICsgZmllbGQgKyBcIlRoZWFkJ11cIikuaHRtbChTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIHRoaXMuZGF0YS5hdHRzLmVkaXRhYmxlKSk7XG5cbiAgICAgICAgJChcInRib2R5W25hbWU9J1wiICsgZmllbGQgKyBcIlRib2R5J11cIikuaHRtbChTdGVlZG9zVGFibGUuZ2V0VGJvZHkoa2V5cywgZmllbGQsIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKSwgdGhpcy5kYXRhLmF0dHMuZWRpdGFibGUpKTtcbiAgICAgICAgXG4gICAgICAgIHN0ciA9IHQoXCJzdGVlZG9zX3RhYmxlX2FkZF9pdGVtXCIpO1xuICAgICAgICBhZGRJdGVtVHIgPSBcIjx0ciBjbGFzcz0nYWRkLWl0ZW0tdHInPjx0ZCBjb2xzcGFuPSdcIitrZXlzLmxlbmd0aCtcIic+PGkgY2xhc3M9J2lvbiBpb24tcGx1cy1yb3VuZCc+PC9pPlwiK3N0citcIjwvdGQ+PC90cj5cIjtcblxuICAgICAgICBpZiAodGhpcy5kYXRhLmF0dHMuZWRpdGFibGUpIHtcbiAgICAgICAgICAgJChcInRmb290W25hbWU9J1wiICsgZmllbGQgKyBcIlRmb290J11cIikuYXBwZW5kKGFkZEl0ZW1Ucik7XG4gICAgICAgIH1cbiAgICB9O1xufSIsIkltYWdlU2lnbi5oZWxwZXJzID1cblx0c3BhY2VVc2VyU2lnbjogKHVzZXJJZCktPlxuXHRcdHNwYWNlID0gXCJcIlxuXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRzcGFjZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5zcGFjZVxuXHRcdGVsc2Vcblx0XHRcdHNwYWNlID0gU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpXG5cblx0XHRzcGFjZVVzZXJTaWduID0gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kT25lKHtzcGFjZTogc3BhY2UsIHVzZXI6IHVzZXJJZH0pO1xuXHRcdHJldHVybiBzcGFjZVVzZXJTaWduXG5cblx0aW1hZ2VVUkw6ICh1c2VySWQpLT5cblxuXHRcdHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKHVzZXJJZCk7XG5cblx0XHRhYnNvbHV0ZSA9IGZhbHNlXG5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGFic29sdXRlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmFic29sdXRlXG5cblx0XHRpZiBzcGFjZVVzZXJTaWduPy5zaWduXG5cdFx0XHRpZiBhYnNvbHV0ZVxuXHRcdFx0XHRyZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcbiIsIkltYWdlU2lnbi5oZWxwZXJzID0ge1xuICBzcGFjZVVzZXJTaWduOiBmdW5jdGlvbih1c2VySWQpIHtcbiAgICB2YXIgc3BhY2UsIHNwYWNlVXNlclNpZ247XG4gICAgc3BhY2UgPSBcIlwiO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIHNwYWNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnNwYWNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGFjZSA9IFNlc3Npb24uZ2V0KFwic3BhY2VJZFwiKTtcbiAgICB9XG4gICAgc3BhY2VVc2VyU2lnbiA9IGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2UsXG4gICAgICB1c2VyOiB1c2VySWRcbiAgICB9KTtcbiAgICByZXR1cm4gc3BhY2VVc2VyU2lnbjtcbiAgfSxcbiAgaW1hZ2VVUkw6IGZ1bmN0aW9uKHVzZXJJZCkge1xuICAgIHZhciBhYnNvbHV0ZSwgc3BhY2VVc2VyU2lnbjtcbiAgICBzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbih1c2VySWQpO1xuICAgIGFic29sdXRlID0gZmFsc2U7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgYWJzb2x1dGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuYWJzb2x1dGU7XG4gICAgfVxuICAgIGlmIChzcGFjZVVzZXJTaWduICE9IG51bGwgPyBzcGFjZVVzZXJTaWduLnNpZ24gOiB2b2lkIDApIHtcbiAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICByZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuIiwiSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyA9XG5cdGFwcGxpY2FudENvbnRleHQ6IC0+XG5cdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGRhdGEgPSB7XG5cdFx0XHRuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRhdHRzOiB7bmFtZTogJ2luc19hcHBsaWNhbnQnLCBpZDogJ2luc19hcHBsaWNhbnQnLCBjbGFzczogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnfSxcblx0XHRcdHZhbHVlOiBzdGVlZG9zX2luc3RhbmNlLmFwcGxpY2FudF9uYW1lXG5cdFx0fVxuXHRcdGlmIG5vdCBzdGVlZG9zX2luc3RhbmNlIHx8IHN0ZWVkb3NfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiXG5cdFx0XHRkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlXG5cdFx0cmV0dXJuIGRhdGE7XG5cblx0aW5zdGFuY2VJZDogLT5cblx0XHRyZXR1cm4gJ2luc3RhbmNlZm9ybSc7I1wiaW5zdGFuY2VfXCIgKyBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIik7XG5cblx0Zm9ybV90eXBlczogLT5cblx0XHRpZiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcblx0XHRcdHJldHVybiAnZGlzYWJsZWQnO1xuXHRcdGVsc2Vcblx0XHRcdHJldHVybiAnbWV0aG9kJztcblxuXHRzdGVlZG9zX2Zvcm06IC0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdHJldHVybiBmb3JtX3ZlcnNpb25cblxuXHRpbm5lcnN1YmZvcm1Db250ZXh0OiAob2JqKS0+XG5cdFx0ZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcblx0XHRvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGlmIGRvY192YWx1ZXMgdGhlbiBkb2NfdmFsdWVzW29iai5jb2RlXSBlbHNlIFtdXG5cdFx0b2JqW1wiZm9ybUlkXCJdID0gXCJpbnN0YW5jZWZvcm1cIjtcblx0XHRyZXR1cm4gb2JqO1xuXG5cdGluc3RhbmNlOiAtPlxuXHRcdFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIilcblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKVxuXHRcdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdFx0cmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG5cblx0ZW1wdHk6ICh2YWwpIC0+XG5cdFx0aWYgdmFsXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR1bmVtcHR5OiAodmFsKSAtPlxuXHRcdGlmIHZhbFxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdGVxdWFsczogKGEsIGIpIC0+XG5cdFx0cmV0dXJuIChhID09IGIpXG5cblx0dW5lcXVhbHM6IChhLCBiKSAtPlxuXHRcdHJldHVybiAhKGEgPT0gYilcblxuXHRpbmNsdWRlczogKGEsIGIpIC0+XG5cdFx0cmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcblxuXHRpbmNsdWRlOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuXG5cdGZpZWxkczogLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXHRcdGlmIGZvcm1fdmVyc2lvblxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcblxuXHRmb3JtYXREYXRlOiAoZGF0ZSwgb3B0aW9ucyktPlxuXHRcdGlmICFkYXRlXG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHRpZiBvcHRpb25zICYmIHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJ1xuXHRcdFx0b3B0aW9ucyA9IEpTT04ucGFyc2Uob3B0aW9ucyk7XG5cblx0XHRpZiAhb3B0aW9ucy5mb3JtYXRcblx0XHRcdG9wdGlvbnMgPSB7Zm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIn1cblxuXHRcdHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KG9wdGlvbnMuZm9ybWF0KTtcblxuXHR0cmFjZXM6IC0+XG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRzdGVlZG9zRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCk/LnZpZXc/LnRlbXBsYXRlPy5zdGVlZG9zRGF0YVxuXHRcdFx0aW5zdGFuY2UgPSBzdGVlZG9zRGF0YT8uaW5zdGFuY2Vcblx0XHRcdGZsb3cgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24oaW5zdGFuY2UpO1xuXHRcdFx0bG9jYWxlID0gc3RlZWRvc0RhdGE/LmxvY2FsZVxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0XHRlbHNlXG5cdFx0XHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG5cdFx0XHRmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRmxvd1ZlcnNpb24oKVxuXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXG5cblx0XHRpZiAhaW5zdGFuY2UgfHwgIWZsb3dcblx0XHRcdHJldHVybiB7fTtcblxuXHRcdHN0ZXBzID0gZmxvdy5zdGVwcztcblxuXHRcdHRyYWNlcyA9IHt9O1xuXG5cdFx0aW5zdGFuY2UudHJhY2VzPy5mb3JFYWNoICh0cmFjZSktPlxuXHRcdFx0c3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdHJhY2Uuc3RlcClcblxuXHRcdFx0YXBwcm92ZXMgPSBbXVxuXG5cdFx0XHR0cmFjZS5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSkgLT5cblx0XHRcdFx0aWYgdHJhY2UuaXNfZmluaXNoZWQgPT0gdHJ1ZVxuIyDlt7Lnu5PmnZ/nmoTmmL7npLrkuLrmoLjlh4Yv6amz5ZueL+WPlua2iOeUs+ivt1xuXHRcdFx0XHRcdGlmIGFwcHJvdmUuanVkZ2UgPT0gJ2FwcHJvdmVkJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZFwiLCB7fSwgbG9jYWxlKVxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAncmVqZWN0ZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlamVjdGVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSB0ZXJtaW5hdGVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWFzc2lnbmVkJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWxvY2F0ZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlbG9jYXRlZFwiLCB7fSwgbG9jYWxlKVxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAnJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFwiXCJcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gXCJcIlxuXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHBlbmRpbmdcIiwge30sIGxvY2FsZSlcblxuXHRcdFx0XHRhcHByb3Zlcy5wdXNoXG5cdFx0XHRcdFx0X2lkOiBhcHByb3ZlLl9pZFxuXHRcdFx0XHRcdGhhbmRsZXI6IGFwcHJvdmUudXNlclxuXHRcdFx0XHRcdGhhbmRsZXJfbmFtZTogYXBwcm92ZS5oYW5kbGVyX25hbWVcblx0XHRcdFx0XHRoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWVcblx0XHRcdFx0XHRoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZVxuXHRcdFx0XHRcdGZpbmlzaF9kYXRlOiBhcHByb3ZlLmZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0anVkZ2U6IGFwcHJvdmUuanVkZ2Vcblx0XHRcdFx0XHRqdWRnZV9uYW1lOiBqdWRnZV9uYW1lXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246IGFwcHJvdmUuZGVzY3JpcHRpb25cblx0XHRcdFx0XHRpc19maW5pc2hlZDogYXBwcm92ZS5pc19maW5pc2hlZFxuXHRcdFx0XHRcdHR5cGU6IGFwcHJvdmUudHlwZVxuXHRcdFx0XHRcdG9waW5pb25fZmllbGRzX2NvZGU6IGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZVxuXHRcdFx0XHRcdHNpZ25fZmllbGRfY29kZTogYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGVcblx0XHRcdFx0XHRpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWRcblx0XHRcdFx0XHRzaWduX3Nob3c6IGFwcHJvdmUuc2lnbl9zaG93XG5cblxuXHRcdFx0aWYgc3RlcFxuXHRcdFx0XHRpZiBzdGVwLm5hbWUgb2YgdHJhY2VzXG5cdFx0XHRcdFx0dHJhY2VzW3N0ZXAubmFtZV0gPSB0cmFjZXNbc3RlcC5uYW1lXS5jb25jYXQoYXBwcm92ZXMpXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0cmFjZXNbc3RlcC5uYW1lXSA9IGFwcHJvdmVzXG5cblx0XHRyZXR1cm4gdHJhY2VzO1xuXG5cblxuXHRkb2NfdmFsdWVzOiAtPlxuXHRcdFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcblxuXHRpbnN0YW5jZV9ib3hfc3R5bGU6IC0+XG5cdFx0Ym94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIilcblx0XHRpZiBib3ggPT0gXCJpbmJveFwiIHx8IGJveCA9PSBcImRyYWZ0XCJcblx0XHRcdGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKVxuXHRcdFx0aWYganVkZ2Vcblx0XHRcdFx0aWYgKGp1ZGdlID09IFwiYXBwcm92ZWRcIilcblx0XHRcdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXG5cdFx0XHRcdGVsc2UgaWYgKGp1ZGdlID09IFwicmVqZWN0ZWRcIilcblx0XHRcdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcblx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiBpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uXG5cdFx0XHRpZiBpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXG5cdFx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcblx0XHRcdGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PSBcInJlamVjdGVkXCIpXG5cdFx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxuXG4jaXNfZGlzYWJsZWQ6IC0+XG4jICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuIyAgICBpZiAhaW5zXG4jICAgICAgICByZXR1cm47XG4jICAgIGlmIGlucy5zdGF0ZSE9XCJkcmFmdFwiXG4jICAgICAgICByZXR1cm4gXCJkaXNhYmxlZFwiO1xuIyAgICByZXR1cm47XG5cblx0dGFibGVfZmllbGRzOiAoaW5zdGFuY2UpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdFx0ZWxzZVxuXHRcdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdGZpZWxkcyA9IF8uY2xvbmUoZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG5cblx0XHRcdGZpZWxkcy5mb3JFYWNoIChmaWVsZCwgaW5kZXgpIC0+XG5cdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gXCJcIjtcblx0XHRcdFx0ZmllbGQudHJfZW5kID0gXCJcIjtcblx0XHRcdFx0dGRfY29sc3BhbiA9IDE7XG4jXHRcdFx0XHTlvLrliLborr7nva7moIflpLTlrZfmrrXkuLrlrr3lrZfmrrVcblx0XHRcdFx0aWYgQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZSA9PSBmaWVsZC5jb2RlXG5cdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWVcblxuXHRcdFx0XHRpZiBmaWVsZC5mb3JtdWxhICYmIGZpZWxkLnR5cGUgIT0gJ29kYXRhJ1xuXHRcdFx0XHRcdGZpZWxkLnBlcm1pc3Npb24gPSBcInJlYWRvbmx5XCI7XG5cblx0XHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG4jIOWmguaenOW9k+WJjeWtl+auteaYr+WIhue7hOOAgeihqOagvOOAgeWuveWtl+autVxuXHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdFx0ZmllbGQudGRfY29sc3BhbiA9IDQ7XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0ZmllbGQudGRfY29sc3BhbiA9IDM7XG5cblx0XHRcdFx0XHRpZiBpbmRleCAhPSAwXG5cdFx0XHRcdFx0XHRmaWVsZC50cl9zdGFydCA9IFwiPHRyPlwiO1xuXHRcdFx0XHRcdFx0ZmllbGQudHJfZW5kID0gXCI8L3RyPlwiO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0cHJlX2ZpZWxkcyA9IGZpZWxkcy5zbGljZSgwLCBpbmRleCk7XG5cblx0XHRcdFx0XHRwcmVfd2lkZV9maWVsZHMgPSBwcmVfZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfd2lkZVwiLCB0cnVlKTtcblxuXHRcdFx0XHRcdHRyX3N0YXJ0ID0gXCJcIjtcblxuXHRcdFx0XHRcdHRyX2VuZCA9IFwiXCI7XG5cblx0XHRcdFx0XHQjIOWFiOiuoeeul+W9k+WJjeWtl+auteaYr+WQpuS4uuWuveWtl+autVxuXHRcdFx0XHRcdGJlZm9yZV9maWVsZCA9IG51bGw7XG5cdFx0XHRcdFx0YWZ0ZXJfZmllbGQgPSBudWxsO1xuXG5cdFx0XHRcdFx0aWYgaW5kZXggPiAwXG5cdFx0XHRcdFx0XHRiZWZvcmVfZmllbGQgPSBmaWVsZHNbaW5kZXggLSAxXVxuXG5cdFx0XHRcdFx0aWYgaW5kZXggPCBmaWVsZHMubGVuZ3RoIC0gMVxuXHRcdFx0XHRcdFx0YWZ0ZXJfZmllbGQgPSBmaWVsZHNbaW5kZXggKyAxXVxuXG5cdFx0XHRcdFx0IyDlpoLmnpzlvZPliY3lrZfmrrXmmK/liIbnu4TjgIHooajmoLzjgIHlrr3lrZfmrrVcblx0XHRcdFx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09ICd0YWJsZSdcblx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSA0O1xuXHRcdFx0XHRcdGVsc2UgaWYgZmllbGQuaXNfd2lkZVxuXHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XG5cdFx0XHRcdFx0ZWxzZVxuIyDliY3lkI7pg73mmK/lrr3lrZfmrrVcblx0XHRcdFx0XHRcdGlmIGJlZm9yZV9maWVsZCAmJiBhZnRlcl9maWVsZCAmJiBiZWZvcmVfZmllbGQuaXNfd2lkZSAmJiBhZnRlcl9maWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcblxuXHRcdFx0XHRcdFx0IyDlvZPliY3mmK90ciDkuIvnmoQg56ys5LiA5LiqdGQgJiDlkI7ovrnnmoTlrZfmrrXmmK/lrr3lrZfmrrVcblx0XHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PSAwICYmIGFmdGVyX2ZpZWxkICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xuXG5cdFx0XHRcdFx0XHQjIOW9k+WJjeaYr3RyIOS4i+eahCDnrKzkuIDkuKp0ZCAmIOW9k+WJjeWtl+auteaYr+acgOWQjuS4gOS4quWtl+autVxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgJiYgYWZ0ZXJfZmllbGQgPT0gbnVsbFxuXHRcdFx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XG5cblx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gdGRfY29sc3BhbjtcblxuXG5cdFx0XHRcdFx0aWYgaW5kZXggPT0gMFxuIyB0cl9zdGFydCA9IFwiPHRyPlwiOyDnlLHkuo5UZW1wbGF0ZeeahOe8luivkWJ1Z++8jOWvvOiHtOavj+asoee7meS4gOS4qnRy5byA5aeL5pe277yM5Lya6Ieq5Yqo6KGl5aS05oiW6KGl5bC+44CC5Zug5q2k5Zyo56ys5LiA6KGM6L+U5Zue5LiA5Liq56m65a2X56ym5LiyLlxuXHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0cj5cIjtcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT0gMCB8fCBmaWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdFx0XHRcdHRyX3N0YXJ0ID0gXCI8dHIgY2xhc3MgPSBcXFwidHItY2hpbGQtdGFibGVcXFwiPlwiO1xuXHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0cj5cIjtcblxuXHRcdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gdHJfc3RhcnQ7XG5cblxuXHRcdFx0XHRcdGlmIGluZGV4ICsgMSA9PSBmaWVsZHMubGVuZ3RoIHx8IGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT0gJ3RhYmxlJyB8fCBmaWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHR0cl9lbmQgPSBcIjwvdHI+XCI7XG5cblx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgIT0gMFxuXHRcdFx0XHRcdFx0dHJfZW5kID0gXCI8L3RyPlwiO1xuXG5cdFx0XHRcdFx0ZmllbGQudHJfZW5kID0gdHJfZW5kO1xuXG5cdFx0XHRyZXR1cm4gZmllbGRzO1xuXG5cdHNvcnRfYXBwcm92ZTogKGFwcHJvdmVzLCBvcmRlciktPlxuXHRcdGlmICFhcHByb3Zlc1xuXHRcdFx0cmV0dXJuIFtdXG5cblx0XHRpZiAhYXBwcm92ZXMgaW5zdGFuY2VvZiBBcnJheVxuXHRcdFx0cmV0dXJuIFtdXG5cdFx0ZWxzZVxuXHRcdFx0aWYgb3JkZXIgPT0gJ2Rlc2MnXG5cdFx0XHRcdGFwcHJvdmVzLnNvcnQgKHAxLCBwMikgLT5cblx0XHRcdFx0XHRfcDEgPSAwXG5cdFx0XHRcdFx0X3AyID0gMFxuXG5cdFx0XHRcdFx0aWYgcDEuZmluaXNoX2RhdGVcblx0XHRcdFx0XHRcdF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKVxuXG5cdFx0XHRcdFx0aWYgcDIuZmluaXNoX2RhdGVcblx0XHRcdFx0XHRcdF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcblxuXHRcdFx0XHRcdHJldHVybiBfcDIgLSBfcDFcblx0XHRcdGVsc2Vcblx0XHRcdFx0YXBwcm92ZXMuc29ydCAocDEsIHAyKSAtPlxuXHRcdFx0XHRcdF9wMSA9IDBcblx0XHRcdFx0XHRfcDIgPSAwXG5cblx0XHRcdFx0XHRpZiBwMS5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0X3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpXG5cblx0XHRcdFx0XHRpZiBwMi5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0X3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIF9wMSAtIF9wMlxuXHRcdHJldHVybiBhcHByb3Zlc1xuXG5cdF90OiAoa2V5KS0+XG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxuXHRnZXRGaWVsZDogKGNvZGUpLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG5cdFx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKVxuXG5cdGdldFZhbHVlOiAoY29kZSktPlxuXHRcdGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlXG5cblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG5cblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cblx0XHR1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0XG5cblx0XHR2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge31cblxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0dmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpXG5cblx0XHRyZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlIHZhbHVlc1tjb2RlXSwgZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKSwgbG9jYWxlLCB1dGNPZmZzZXRcblxuXHRnZXRMYWJlbDogKGNvZGUpLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsIGZvcm1fdmVyc2lvbi5maWVsZHMsIGNvZGVcblxuXHRnZXRDZkNsYXNzOiAoZmllbGQpLT5cblx0XHRpZiBmaWVsZD8udHlwZSA9PSBcImlucHV0XCIgJiYgZmllbGQ/LmlzX3RleHRhcmVhXG5cdFx0XHRyZXR1cm4gXCJjZlRleHRhcmVhXCJcblxuXHRnZXRUYWJsZVRoZWFkOiAoZmllbGQpLT5cblx0XHRyZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRoZWFkKGZpZWxkLCBmYWxzZSlcblxuXHRnZXRUYWJsZUJvZHk6IChmaWVsZCktPlxuXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZVxuXHRcdFx0dmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9XG5cdFx0ZWxzZVxuXHRcdFx0dmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpXG5cblx0XHR0YWJsZVZhbHVlID0gdmFsdWVzW2ZpZWxkLmNvZGVdO1xuXHRcdHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGJvZHkoZmllbGQuc2ZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIiksIGZpZWxkLCB0YWJsZVZhbHVlLCBmYWxzZSlcblxuXHRzaG93TGFiZWw6IChmaWVsZCktPlxuXHRcdHRlbXBsYXRlRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YVxuXHRcdGlmIHRlbXBsYXRlRGF0YS5sYWJlbCA9PSBmYWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0cmV0dXJuIHRydWVcblxuI1x0YWZGaWVsZExhYmVsVGV4dDogKG9wKS0+XG4jXHRcdGlmICFUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGFcbiNcdFx0XHRyZXR1cm4gQXV0b0Zvcm0uZ2V0TGFiZWxGb3JGaWVsZChvcC5uYW1lKVxuI1x0XHRlbHNlXG4jXHRcdFx0Zm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvblxuI1x0XHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCBmb3JtX3ZlcnNpb24uZmllbGRzLCBvcD8uaGFzaD8ubmFtZVxuXG5cdGlzT3BpbmlvbkZpZWxkOiAoZmllbGQpLT5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZC5mb3JtdWxhKVxuXG5cdGlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nOiAoZmllbGRfZm9ybXVsYSktPlxuXHRcdHJldHVybiBJbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXG5cblx0aW5jbHVkZXNPcGluaW9uRmllbGQ6IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cblxuXHRcdGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XG5cblx0XHRmaWVsZHMgPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe19pZDogZm9ybV92ZXJzaW9uLCBmb3JtOiBmb3JtfSk/LmZpZWxkcyB8fCBbXVxuXG5cdFx0ZmllbGRzLmZvckVhY2ggKGYpLT5cblx0XHRcdGlmIGYudHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcblx0XHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0XHRmPy5maWVsZHM/LmZvckVhY2ggKGYxKS0+XG5cdFx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmMS5mb3JtdWxhXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGZpZWxkX2Zvcm11bGFzLnB1c2ggZi5mb3JtdWxhXG5cblx0XHRfLnNvbWUgZmllbGRfZm9ybXVsYXMsIChmaWVsZF9mb3JtdWxhKS0+XG5cdFx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxuXG5cdGdldE9waW5pb25GaWVsZFN0ZXBzTmFtZTogKGZpZWxkX2Zvcm11bGEsIHRvcF9rZXl3b3JkcyktPlxuXG5cdFx0b3BpbmlvbkZpZWxkcyA9IG5ldyBBcnJheSgpO1xuI1x0XHRjb25zb2xlLmxvZyhcImZpZWxkX2Zvcm11bGFcIiwgZmllbGRfZm9ybXVsYSlcblx0XHRpZiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXG5cdFx0XHRpZiBmaWVsZF9mb3JtdWxhXG5cbiNcdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiLFwiKVxuXHRcdFx0XHRmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIjtcIilcblxuI1x0XHRcdFx0aWYgdG9wX2tleXdvcmRzXG4jXHRcdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKVxuXG5cdFx0XHRcdGZvbzEuZm9yRWFjaCAoZm9vKS0+XG5cdFx0XHRcdFx0anNvbl9mb3JtdWxhID0ge31cblxuXHRcdFx0XHRcdHRyeVxuXHRcdFx0XHRcdFx0anNvbl9mb3JtdWxhID0gZXZhbChcIihcIiArIGZvbyArIFwiKVwiKVxuXHRcdFx0XHRcdGNhdGNoXG5cdFx0XHRcdFx0XHRqc29uX2Zvcm11bGEgPSB7fVxuXG5cdFx0XHRcdFx0aWYganNvbl9mb3JtdWxhPy55aWppYW5sYW5cblx0XHRcdFx0XHRcdHNmID0ge31cblxuXHRcdFx0XHRcdFx0c2Yuc3RlcE5hbWUgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnN0ZXBcblxuXHRcdFx0XHRcdFx0c2YuaW1hZ2Vfc2lnbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uaW1hZ2Vfc2lnbiB8fCBmYWxzZVxuXG5cdFx0XHRcdFx0XHRzZi5vbmx5X2NjX29waW5pb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfY2MgfHwgZmFsc2VcblxuXHRcdFx0XHRcdFx0c2YuZGVmYXVsdF9kZXNjcmlwdGlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uZGVmYXVsdFxuXG5cdFx0XHRcdFx0XHRzZi5vbmx5X2hhbmRsZXIgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfaGFuZGxlclxuXG5cdFx0XHRcdFx0XHRzZi50b3Bfa2V5d29yZHMgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnRvcF9rZXl3b3JkcyB8fCB0b3Bfa2V5d29yZHNcblxuXHRcdFx0XHRcdFx0b3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcblxuXHRcdFx0XHRcdGVsc2UgaWYoZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt0cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA+IC0xKVxuXG5cdFx0XHRcdFx0XHRzZiA9IHtvbmx5X2NjX29waW5pb246IGZhbHNlLCBpbWFnZV9zaWduOiBmYWxzZSwgdG9wX2tleXdvcmRzOiB0b3Bfa2V5d29yZHN9XG5cblx0XHRcdFx0XHRcdGlmIGZvby5pbmRleE9mKFwie3NpZ25hdHVyZS5cIikgPiAtMVxuXHRcdFx0XHRcdFx0XHRzZi5pbWFnZV9zaWduID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRmb28gPSBmb28ucmVwbGFjZShcIntzaWduYXR1cmUuXCIsXCJcIik7XG5cblx0XHRcdFx0XHRcdHMxID0gZm9vLnJlcGxhY2UoXCJ7XCIsXCJcIikucmVwbGFjZShcIn1cIixcIlwiKVxuXHRcdFx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDFcblx0XHRcdFx0XHRcdFx0c2Yuc3RlcE5hbWUgPSBzMS5zcGxpdChcIi5cIilbMV1cblx0XHRcdFx0XHRcdFx0aWYgb3BpbmlvbkZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcInN0ZXBOYW1lXCIsc2Yuc3RlcE5hbWUpLmxlbmd0aCA+IDBcblx0XHRcdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwTmFtZVwiLCBzZi5zdGVwTmFtZSk/Lm9ubHlfY2Nfb3BpbmlvbiA9IHRydWVcblx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIilbMl0/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ2NjJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZi5vbmx5X2NjX29waW5pb24gPSB0cnVlXG5cdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuXG5cdFx0cmV0dXJuIG9waW5pb25GaWVsZHNcblxuXHRzaG93Q0NPcGluaW9uOiAoZmllbGQpLT5cblx0XHRpZiBmaWVsZC5mb3JtdWxhPy5pbmRleE9mKFwie3RyYWNlcy5cIikgPiAtMSB8fCBmaWVsZC5mb3JtdWxhPy5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpID4gLTFcblx0XHRcdHMxID0gZmllbGQuZm9ybXVsYS5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIixcIlwiKS5yZXBsYWNlKFwie1wiLFwiXCIpLnJlcGxhY2UoXCJ9XCIsXCJcIilcblx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyXG5cdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKVsyXT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnY2MnXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcblx0XHRcdHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG5cdFx0XHRyZW5kZXJlci5saW5rID0gKCBocmVmLCB0aXRsZSwgdGV4dCApIC0+XG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcblx0XHRcdHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge3JlbmRlcmVyOnJlbmRlcmVyfSkpXG5cblx0Zl9sYWJlbDogKHRoYXQpLT5cblx0XHRyZXR1cm4gdGhhdC5uYW1lIHx8IHRoYXQuY29kZVxuXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5zdGVlZG9zX2Zvcm0gPSAtPlxuXHRcdHJldHVybiB0aGlzLmZvcm1fdmVyc2lvblxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNTZWN0aW9uID0gKGNvZGUpLT5cblx0XHRmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvblxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLnR5cGUgPT0gJ3NlY3Rpb24nXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5kb2NfdmFsdWVzID0gLT5cblx0XHRpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG5cdFx0cmV0dXJuIGluc3RhbmNlLnZhbHVlcztcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmFwcGxpY2FudENvbnRleHQgPSAtPlxuXHRcdGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcblx0XHRkYXRhID0ge1xuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxuXHRcdFx0YXR0czoge25hbWU6ICdpbnNfYXBwbGljYW50JywgaWQ6ICdpbnNfYXBwbGljYW50JywgY2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J30sXG5cdFx0XHR2YWx1ZTogaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblx0XHR9XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSA9IC0+XG5cdFx0cmV0dXJuIHRoaXMuaW5zdGFuY2VcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZpZWxkcyA9IC0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb25cblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtX3R5cGVzID0gLT5cblx0XHRyZXR1cm4gXCJkaXNhYmxlZFwiXG5cblx0VGVtcGxhdGUucmVnaXN0ZXJIZWxwZXIgXCJhZkZpZWxkTGFiZWxUZXh0XCIsIChvcCktPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgb3A/Lmhhc2g/Lm5hbWVcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLl90ID0gKGtleSktPlxuXHRcdGxvY2FsZSA9IHRoaXMubG9jYWxlXG5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnNfYXR0YWNoX2Rvd25sb2FkX3VybCA9IChfaWQsIGFic29sdXRlKS0+XG5cdFx0aWYgYWJzb2x1dGVcblx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiKTtcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiO1xuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMub3B0aW9ucyA9IChmaWVsZCktPlxuXHRcdG9wdGlvbnMgPSBmaWVsZD8ub3B0aW9ucz8uc3BsaXQoXCJcXG5cIilcblx0XHRyZXYgPSBbXVxuXHRcdG9wdGlvbnM/LmZvckVhY2ggKGl0ZW0pLT5cblx0XHRcdHJldi5wdXNoKHtsYWJlbDogaXRlbSwgdmFsdWU6IGl0ZW19KVxuXG5cdFx0cmV0dXJuIHJldlxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0UGVybWlzc2lvbnMgPSAoY29kZSktPlxuXHRcdGlmICFUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHM/LmluY2x1ZGVzKGNvZGUpXG5cdFx0XHRyZXR1cm4gXCJyZWFkb25seSBkaXNhYmxlZFwiXG5cdFx0cmV0dXJuIFwiXCJcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUuZXZlbnRzID1cblx0J2NoYW5nZSAuZm9ybS1jb250cm9sLC5jaGVja2JveCBpbnB1dCwuYWYtcmFkaW8tZ3JvdXAgaW5wdXQsLmFmLWNoZWNrYm94LWdyb3VwIGlucHV0JzogKGV2ZW50KS0+XG5cdFx0SW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KVxuXG5cdCd0eXBlYWhlYWQ6Y2hhbmdlIC5mb3JtLWNvbnRyb2wnOiAoZXZlbnQpIC0+XG5cdFx0SW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KVxuXG5cdCdjbGljayAuY2ZUZXh0YXJlYSBhJzogKGV2ZW50KS0+XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRTdGVlZG9zLm9wZW5XaW5kb3coZXZlbnQudGFyZ2V0LmhyZWYpO1xuXG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uQ3JlYXRlZCA9ICgpLT5cblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgIWluc3RhbmNlXG5cdFx0cmV0dXJuO1xuXG5cdHRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlKTtcblxuXHR0cnlcblx0XHRjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUubG9nIFwiSW5zdGFuY2UgVGVtcGxhdGUgRXJyb3JcIiwgZVxuXHRcdGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShcIlwiLCB7aXNCb2R5OiB0cnVlfSk7XG5cblxuXHRyZW5kZXJGdW5jdGlvbiA9IGV2YWwoY29tcGlsZWQpO1xuXG5cdGluc3RhbmNlVmlldyA9IG5ldyBCbGF6ZS5WaWV3KFwiY3VzdG9tX2luc3RhbmNlX3RlbXBsYXRlXCIsIHJlbmRlckZ1bmN0aW9uKTtcblxuXHRpbnN0YW5jZUN1c3RvbVRlbXBsYXRlID0gbmV3IEJsYXplLlRlbXBsYXRlKGluc3RhbmNlVmlldy5uYW1lLCByZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlID0gaW5zdGFuY2VDdXN0b21UZW1wbGF0ZVxuXG5cdFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcblxuXG5cblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25SZW5kZXJlZCA9ICgpLT5cblx0IyB0ID0gdGhpcztcblxuXHQjdC5zdWJzY3JpYmUgXCJpbnN0YW5jZV9kYXRhXCIsIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSwgLT5cblx0IyAgICBUcmFja2VyLmFmdGVyRmx1c2ggLT5cblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgIWluc3RhbmNlXG5cdFx0cmV0dXJuO1xuXG5cdCMkKFwiI2luc19hcHBsaWNhbnRcIikuc2VsZWN0MigpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHQjJChcIiNpbnNfYXBwbGljYW50XCIpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuXHQkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpWzBdPy5kYXRhc2V0LnZhbHVlcyA9IGluc3RhbmNlLmFwcGxpY2FudDtcblx0JChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKS52YWwoaW5zdGFuY2UuYXBwbGljYW50X25hbWUpXG5cblxuXHRBcHByb3ZlTWFuYWdlci5lcnJvciA9IHtuZXh0U3RlcHM6ICcnLCBuZXh0U3RlcFVzZXJzOiAnJ307XG5cblx0IyBpbnN0YW5jZSBmcm9t57uR5a6a5LqL5Lu2XG5cdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2RyYWZ0J1xuXHRcdEluc3RhbmNlRXZlbnQuaW5pdEV2ZW50cyhpbnN0YW5jZS5mbG93KTtcblxuXHRpZiAhQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXG5cblx0XHRjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuXG5cblx0XHRpbnN0YW5jZU51bWJlckZpZWxkcyA9ICQoXCJbZGF0YS1mb3JtdWxhXVwiLCAkKFwiI2luc3RhbmNlZm9ybVwiKSlcblxuXHRcdGluc3RhbmNlTnVtYmVyRmllbGRzLmVhY2ggKCktPlxuXHRcdFx0c2NoZW1hS2V5ID0gdGhpcy5kYXRhc2V0LnNjaGVtYUtleVxuXHRcdFx0ZWxlbWVudCA9ICQodGhpcylcblx0XHRcdGlmICEkKHRoaXMpLnZhbCgpICYmIHNjaGVtYUtleSAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIilcblx0XHRcdFx0TWV0ZW9yLmNhbGwgJ2dldEluc3RhbmNlVmFsdWVzJywgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpLCAoZXJyb3IsIHJlc3VsdCktPlxuXHRcdFx0XHRcdGlmIGVycm9yXG5cdFx0XHRcdFx0XHR0b2FzdHIuZXJyb3IoZXJyb3IucmVhc29uKVxuXG5cdFx0XHRcdFx0aWYgIXJlc3VsdFtzY2hlbWFLZXldXG5cdFx0XHRcdFx0XHRrZXkgPSBlbGVtZW50LmRhdGEoXCJmb3JtdWxhXCIpPy5yZXBsYWNlKFwiYXV0b19udW1iZXIoXCIsIFwiXCIpLnJlcGxhY2UoXCIpXCIsIFwiXCIpXG5cblx0XHRcdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFwiL2csIFwiXCIpLnJlcGxhY2UoL1xcJy9nLCBcIlwiKVxuXG5cdFx0XHRcdFx0XHRpZiBrZXkuaW5kZXhPZihcIntcIikgPiAtMVxuXHRcdFx0XHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXG5cdFx0XHRcdFx0XHRcdGtleSA9IGtleS50cmltKClcblx0XHRcdFx0XHRcdFx0a2V5ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShrZXksICdpbnN0YW5jZWZvcm0nKVxuXHRcdFx0XHRcdFx0SW5zdGFuY2VOdW1iZXJSdWxlcy5pbnN0YW5jZU51bWJlckJ1aWxkZXIgZWxlbWVudCwga2V5XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0ZWxlbWVudD8udmFsKHJlc3VsdFtzY2hlbWFLZXldKS50cmlnZ2VyKFwiY2hhbmdlXCIpXG5cblx0XHRqdWRnZSA9IGN1cnJlbnRBcHByb3ZlLmp1ZGdlXG5cdFx0Y3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXG5cdFx0Zm9ybXVsYV9maWVsZHMgPSBGb3JtX2Zvcm11bGEuZ2V0Rm9ybXVsYUZpZWxkVmFyaWFibGUoXCJGb3JtX2Zvcm11bGEuZmllbGRfdmFsdWVzXCIsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuXHRcdEZvcm1fZm9ybXVsYS5ydW4oXCJcIiwgXCJcIiwgZm9ybXVsYV9maWVsZHMsIEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcblx0XHQj5Zyo5q2k5aSE5Yid5aeL5YyWc2Vzc2lvbiDkuK3nmoQgZm9ybV92YWx1ZXMg5Y+Y6YeP77yM55So5LqO6Kem5Y+R5LiL5LiA5q2l5q2l6aqk6K6h566XXG5cdFx0U2Vzc2lvbi5zZXQoXCJpbnN0YW5jZV9mb3JtX3ZhbHVlc1wiLCB7aW5zdGFuY2VJZDogaW5zdGFuY2UuX2lkLCB2YWx1ZXM6IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jfSk7XG5cblxuXG4iLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzID0ge1xuICBhcHBsaWNhbnRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSwgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgZGF0YSA9IHtcbiAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgIGF0dHM6IHtcbiAgICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBpZDogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBcImNsYXNzXCI6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J1xuICAgICAgfSxcbiAgICAgIHZhbHVlOiBzdGVlZG9zX2luc3RhbmNlLmFwcGxpY2FudF9uYW1lXG4gICAgfTtcbiAgICBpZiAoIXN0ZWVkb3NfaW5zdGFuY2UgfHwgc3RlZWRvc19pbnN0YW5jZS5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICBkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfSxcbiAgaW5zdGFuY2VJZDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICdpbnN0YW5jZWZvcm0nO1xuICB9LFxuICBmb3JtX3R5cGVzOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpKSB7XG4gICAgICByZXR1cm4gJ2Rpc2FibGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdtZXRob2QnO1xuICAgIH1cbiAgfSxcbiAgc3RlZWRvc19mb3JtOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgICB9XG4gIH0sXG4gIGlubmVyc3ViZm9ybUNvbnRleHQ6IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBkb2NfdmFsdWVzO1xuICAgIGRvY192YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgb2JqW1widGFibGVWYWx1ZXNcIl0gPSBkb2NfdmFsdWVzID8gZG9jX3ZhbHVlc1tvYmouY29kZV0gOiBbXTtcbiAgICBvYmpbXCJmb3JtSWRcIl0gPSBcImluc3RhbmNlZm9ybVwiO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGluc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpO1xuICAgIGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuICAgIH1cbiAgfSxcbiAgZW1wdHk6IGZ1bmN0aW9uKHZhbCkge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICB1bmVtcHR5OiBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIHVuZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuICEoYSA9PT0gYik7XG4gIH0sXG4gIGluY2x1ZGVzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgaW5jbHVkZTogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG4gIH0sXG4gIGZpZWxkczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG4gICAgfVxuICB9LFxuICBmb3JtYXREYXRlOiBmdW5jdGlvbihkYXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFkYXRlKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRpb25zID0gSlNPTi5wYXJzZShvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmZvcm1hdCkge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgZm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQob3B0aW9ucy5mb3JtYXQpO1xuICB9LFxuICB0cmFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmbG93LCBpbnN0YW5jZSwgbG9jYWxlLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHN0ZWVkb3NEYXRhLCBzdGVwcywgdHJhY2VzO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIHN0ZWVkb3NEYXRhID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi52aWV3KSAhPSBudWxsID8gKHJlZjIgPSByZWYxLnRlbXBsYXRlKSAhPSBudWxsID8gcmVmMi5zdGVlZG9zRGF0YSA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIGluc3RhbmNlID0gc3RlZWRvc0RhdGEgIT0gbnVsbCA/IHN0ZWVkb3NEYXRhLmluc3RhbmNlIDogdm9pZCAwO1xuICAgICAgZmxvdyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbihpbnN0YW5jZSk7XG4gICAgICBsb2NhbGUgPSBzdGVlZG9zRGF0YSAhPSBudWxsID8gc3RlZWRvc0RhdGEubG9jYWxlIDogdm9pZCAwO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGbG93VmVyc2lvbigpO1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZSB8fCAhZmxvdykge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBzdGVwcyA9IGZsb3cuc3RlcHM7XG4gICAgdHJhY2VzID0ge307XG4gICAgaWYgKChyZWYzID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsKSB7XG4gICAgICByZWYzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIGFwcHJvdmVzLCByZWY0LCBzdGVwO1xuICAgICAgICBzdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZS5zdGVwKTtcbiAgICAgICAgYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgaWYgKChyZWY0ID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwpIHtcbiAgICAgICAgICByZWY0LmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgICAgdmFyIGp1ZGdlX25hbWU7XG4gICAgICAgICAgICBpZiAodHJhY2UuaXNfZmluaXNoZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdhcHByb3ZlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIGFwcHJvdmVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlamVjdGVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAncmVhc3NpZ25lZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlYXNzaWduZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3JlbG9jYXRlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlbG9jYXRlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAnJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHBlbmRpbmdcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXBwcm92ZXMucHVzaCh7XG4gICAgICAgICAgICAgIF9pZDogYXBwcm92ZS5faWQsXG4gICAgICAgICAgICAgIGhhbmRsZXI6IGFwcHJvdmUudXNlcixcbiAgICAgICAgICAgICAgaGFuZGxlcl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfbmFtZSxcbiAgICAgICAgICAgICAgaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lLFxuICAgICAgICAgICAgICBoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSxcbiAgICAgICAgICAgICAgZmluaXNoX2RhdGU6IGFwcHJvdmUuZmluaXNoX2RhdGUsXG4gICAgICAgICAgICAgIGp1ZGdlOiBhcHByb3ZlLmp1ZGdlLFxuICAgICAgICAgICAgICBqdWRnZV9uYW1lOiBqdWRnZV9uYW1lLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYXBwcm92ZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgaXNfZmluaXNoZWQ6IGFwcHJvdmUuaXNfZmluaXNoZWQsXG4gICAgICAgICAgICAgIHR5cGU6IGFwcHJvdmUudHlwZSxcbiAgICAgICAgICAgICAgb3Bpbmlvbl9maWVsZHNfY29kZTogYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlLFxuICAgICAgICAgICAgICBzaWduX2ZpZWxkX2NvZGU6IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlLFxuICAgICAgICAgICAgICBpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWQsXG4gICAgICAgICAgICAgIHNpZ25fc2hvdzogYXBwcm92ZS5zaWduX3Nob3dcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGVwKSB7XG4gICAgICAgICAgaWYgKHN0ZXAubmFtZSBpbiB0cmFjZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFjZXNbc3RlcC5uYW1lXSA9IHRyYWNlc1tzdGVwLm5hbWVdLmNvbmNhdChhcHByb3Zlcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFjZXNbc3RlcC5uYW1lXSA9IGFwcHJvdmVzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cmFjZXM7XG4gIH0sXG4gIGRvY192YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gIH0sXG4gIGluc3RhbmNlX2JveF9zdHlsZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJveCwgaW5zLCBqdWRnZTtcbiAgICBib3ggPSBTZXNzaW9uLmdldChcImJveFwiKTtcbiAgICBpZiAoYm94ID09PSBcImluYm94XCIgfHwgYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICAgIGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKTtcbiAgICAgIGlmIChqdWRnZSkge1xuICAgICAgICBpZiAoanVkZ2UgPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoanVkZ2UgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zICYmIGlucy5maW5hbF9kZWNpc2lvbikge1xuICAgICAgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICB9IGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHRhYmxlX2ZpZWxkczogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB2YXIgZmllbGRzLCBmb3JtX3ZlcnNpb247XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XG4gICAgfVxuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIGZpZWxkcyA9IF8uY2xvbmUoZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGFmdGVyX2ZpZWxkLCBiZWZvcmVfZmllbGQsIHByZV9maWVsZHMsIHByZV93aWRlX2ZpZWxkcywgdGRfY29sc3BhbiwgdHJfZW5kLCB0cl9zdGFydDtcbiAgICAgICAgZmllbGQudHJfc3RhcnQgPSBcIlwiO1xuICAgICAgICBmaWVsZC50cl9lbmQgPSBcIlwiO1xuICAgICAgICB0ZF9jb2xzcGFuID0gMTtcbiAgICAgICAgaWYgKCh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApID09PSBmaWVsZC5jb2RlKSB7XG4gICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkLmZvcm11bGEgJiYgZmllbGQudHlwZSAhPT0gJ29kYXRhJykge1xuICAgICAgICAgIGZpZWxkLnBlcm1pc3Npb24gPSBcInJlYWRvbmx5XCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgZmllbGQudGRfY29sc3BhbiA9IDQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpZWxkLnRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggIT09IDApIHtcbiAgICAgICAgICAgIGZpZWxkLnRyX3N0YXJ0ID0gXCI8dHI+XCI7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQudHJfZW5kID0gXCI8L3RyPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmVfZmllbGRzID0gZmllbGRzLnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgICBwcmVfd2lkZV9maWVsZHMgPSBwcmVfZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfd2lkZVwiLCB0cnVlKTtcbiAgICAgICAgICB0cl9zdGFydCA9IFwiXCI7XG4gICAgICAgICAgdHJfZW5kID0gXCJcIjtcbiAgICAgICAgICBiZWZvcmVfZmllbGQgPSBudWxsO1xuICAgICAgICAgIGFmdGVyX2ZpZWxkID0gbnVsbDtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICBiZWZvcmVfZmllbGQgPSBmaWVsZHNbaW5kZXggLSAxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGluZGV4IDwgZmllbGRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGFmdGVyX2ZpZWxkID0gZmllbGRzW2luZGV4ICsgMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgdGRfY29sc3BhbiA9IDQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChmaWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGJlZm9yZV9maWVsZCAmJiBhZnRlcl9maWVsZCAmJiBiZWZvcmVfZmllbGQuaXNfd2lkZSAmJiBhZnRlcl9maWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT09IDAgJiYgYWZ0ZXJfZmllbGQgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09PSAwICYmIGFmdGVyX2ZpZWxkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGQudGRfY29sc3BhbiA9IHRkX2NvbHNwYW47XG4gICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICB0cl9zdGFydCA9IFwiPHRyPlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09PSAwIHx8IGZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgICAgICB0cl9zdGFydCA9IFwiPHRyIGNsYXNzID0gXFxcInRyLWNoaWxkLXRhYmxlXFxcIj5cIjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cl9zdGFydCA9IFwiPHRyPlwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkLnRyX3N0YXJ0ID0gdHJfc3RhcnQ7XG4gICAgICAgICAgaWYgKGluZGV4ICsgMSA9PT0gZmllbGRzLmxlbmd0aCB8fCBmaWVsZC50eXBlID09PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PT0gJ3RhYmxlJyB8fCBmaWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICB0cl9lbmQgPSBcIjwvdHI+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIHRyX2VuZCA9IFwiPC90cj5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZpZWxkLnRyX2VuZCA9IHRyX2VuZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmllbGRzO1xuICAgIH1cbiAgfSxcbiAgc29ydF9hcHByb3ZlOiBmdW5jdGlvbihhcHByb3Zlcywgb3JkZXIpIHtcbiAgICBpZiAoIWFwcHJvdmVzKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICghYXBwcm92ZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3JkZXIgPT09ICdkZXNjJykge1xuICAgICAgICBhcHByb3Zlcy5zb3J0KGZ1bmN0aW9uKHAxLCBwMikge1xuICAgICAgICAgIHZhciBfcDEsIF9wMjtcbiAgICAgICAgICBfcDEgPSAwO1xuICAgICAgICAgIF9wMiA9IDA7XG4gICAgICAgICAgaWYgKHAxLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwMi5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3AyIC0gX3AxO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcHJvdmVzLnNvcnQoZnVuY3Rpb24ocDEsIHAyKSB7XG4gICAgICAgICAgdmFyIF9wMSwgX3AyO1xuICAgICAgICAgIF9wMSA9IDA7XG4gICAgICAgICAgX3AyID0gMDtcbiAgICAgICAgICBpZiAocDEuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHAyLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcDEgLSBfcDI7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZXM7XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuICB9LFxuICBnZXRGaWVsZDogZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKTtcbiAgICB9XG4gIH0sXG4gIGdldFZhbHVlOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbiwgaW5zdGFuY2UsIGxvY2FsZSwgdXRjT2Zmc2V0LCB2YWx1ZXM7XG4gICAgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgIHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXQ7XG4gICAgdmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9O1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICB9XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSh2YWx1ZXNbY29kZV0sIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSksIGxvY2FsZSwgdXRjT2Zmc2V0KTtcbiAgfSxcbiAgZ2V0TGFiZWw6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbChmb3JtX3ZlcnNpb24uZmllbGRzLCBjb2RlKTtcbiAgfSxcbiAgZ2V0Q2ZDbGFzczogZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoKGZpZWxkICE9IG51bGwgPyBmaWVsZC50eXBlIDogdm9pZCAwKSA9PT0gXCJpbnB1dFwiICYmIChmaWVsZCAhPSBudWxsID8gZmllbGQuaXNfdGV4dGFyZWEgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gXCJjZlRleHRhcmVhXCI7XG4gICAgfVxuICB9LFxuICBnZXRUYWJsZVRoZWFkOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIGZhbHNlKTtcbiAgfSxcbiAgZ2V0VGFibGVCb2R5OiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciBpbnN0YW5jZSwgdGFibGVWYWx1ZSwgdmFsdWVzO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuICAgICAgdmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgfVxuICAgIHRhYmxlVmFsdWUgPSB2YWx1ZXNbZmllbGQuY29kZV07XG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYm9keShmaWVsZC5zZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKSwgZmllbGQsIHRhYmxlVmFsdWUsIGZhbHNlKTtcbiAgfSxcbiAgc2hvd0xhYmVsOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciB0ZW1wbGF0ZURhdGE7XG4gICAgdGVtcGxhdGVEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhO1xuICAgIGlmICh0ZW1wbGF0ZURhdGEubGFiZWwgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBpc09waW5pb25GaWVsZDogZnVuY3Rpb24oZmllbGQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZC5mb3JtdWxhKTtcbiAgfSxcbiAgaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmc6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgfSxcbiAgaW5jbHVkZXNPcGluaW9uRmllbGQ6IGZ1bmN0aW9uKGZvcm0sIGZvcm1fdmVyc2lvbikge1xuICAgIHZhciBmaWVsZF9mb3JtdWxhcywgZmllbGRzLCByZWY7XG4gICAgZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcbiAgICBmaWVsZHMgPSAoKHJlZiA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZvcm1fdmVyc2lvbixcbiAgICAgIGZvcm06IGZvcm1cbiAgICB9KSkgIT0gbnVsbCA/IHJlZi5maWVsZHMgOiB2b2lkIDApIHx8IFtdO1xuICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgIHZhciByZWYxO1xuICAgICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJyk7XG4gICAgICB9IGVsc2UgaWYgKGYudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmMSA9IGYuZmllbGRzKSAhPSBudWxsID8gcmVmMS5mb3JFYWNoKGZ1bmN0aW9uKGYxKSB7XG4gICAgICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZjEuZm9ybXVsYSk7XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZi5mb3JtdWxhKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gXy5zb21lKGZpZWxkX2Zvcm11bGFzLCBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gICAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lOiBmdW5jdGlvbihmaWVsZF9mb3JtdWxhLCB0b3Bfa2V5d29yZHMpIHtcbiAgICB2YXIgZm9vMSwgb3BpbmlvbkZpZWxkcztcbiAgICBvcGluaW9uRmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgaWYgKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSkpIHtcbiAgICAgIGlmIChmaWVsZF9mb3JtdWxhKSB7XG4gICAgICAgIGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKTtcbiAgICAgICAgZm9vMS5mb3JFYWNoKGZ1bmN0aW9uKGZvbykge1xuICAgICAgICAgIHZhciBqc29uX2Zvcm11bGEsIHJlZiwgcmVmMSwgczEsIHNmO1xuICAgICAgICAgIGpzb25fZm9ybXVsYSA9IHt9O1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBqc29uX2Zvcm11bGEgPSBldmFsKFwiKFwiICsgZm9vICsgXCIpXCIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgICAgICAgICAganNvbl9mb3JtdWxhID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChqc29uX2Zvcm11bGEgIT0gbnVsbCA/IGpzb25fZm9ybXVsYS55aWppYW5sYW4gOiB2b2lkIDApIHtcbiAgICAgICAgICAgIHNmID0ge307XG4gICAgICAgICAgICBzZi5zdGVwTmFtZSA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uc3RlcDtcbiAgICAgICAgICAgIHNmLmltYWdlX3NpZ24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLmltYWdlX3NpZ24gfHwgZmFsc2U7XG4gICAgICAgICAgICBzZi5vbmx5X2NjX29waW5pb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfY2MgfHwgZmFsc2U7XG4gICAgICAgICAgICBzZi5kZWZhdWx0X2Rlc2NyaXB0aW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbltcImRlZmF1bHRcIl07XG4gICAgICAgICAgICBzZi5vbmx5X2hhbmRsZXIgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfaGFuZGxlcjtcbiAgICAgICAgICAgIHNmLnRvcF9rZXl3b3JkcyA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4udG9wX2tleXdvcmRzIHx8IHRvcF9rZXl3b3JkcztcbiAgICAgICAgICAgIHJldHVybiBvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInt0cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgOiB2b2lkIDApID4gLTEpIHtcbiAgICAgICAgICAgIHNmID0ge1xuICAgICAgICAgICAgICBvbmx5X2NjX29waW5pb246IGZhbHNlLFxuICAgICAgICAgICAgICBpbWFnZV9zaWduOiBmYWxzZSxcbiAgICAgICAgICAgICAgdG9wX2tleXdvcmRzOiB0b3Bfa2V5d29yZHNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZm9vLmluZGV4T2YoXCJ7c2lnbmF0dXJlLlwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgIHNmLmltYWdlX3NpZ24gPSB0cnVlO1xuICAgICAgICAgICAgICBmb28gPSBmb28ucmVwbGFjZShcIntzaWduYXR1cmUuXCIsIFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgczEgPSBmb28ucmVwbGFjZShcIntcIiwgXCJcIikucmVwbGFjZShcIn1cIiwgXCJcIik7XG4gICAgICAgICAgICBpZiAoczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgc2Yuc3RlcE5hbWUgPSBzMS5zcGxpdChcIi5cIilbMV07XG4gICAgICAgICAgICAgIGlmIChvcGluaW9uRmllbGRzLmZpbHRlclByb3BlcnR5KFwic3RlcE5hbWVcIiwgc2Yuc3RlcE5hbWUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoKHJlZiA9IG9waW5pb25GaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBOYW1lXCIsIHNmLnN0ZXBOYW1lKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgcmVmLm9ubHlfY2Nfb3BpbmlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgaWYgKCgocmVmMSA9IHMxLnNwbGl0KFwiLlwiKVsyXSkgIT0gbnVsbCA/IHJlZjEudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCkgPT09ICdjYycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Yub25seV9jY19vcGluaW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcGluaW9uRmllbGRzO1xuICB9LFxuICBzaG93Q0NPcGluaW9uOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciByZWYsIHJlZjEsIHJlZjIsIHMxO1xuICAgIGlmICgoKHJlZiA9IGZpZWxkLmZvcm11bGEpICE9IG51bGwgPyByZWYuaW5kZXhPZihcInt0cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8ICgocmVmMSA9IGZpZWxkLmZvcm11bGEpICE9IG51bGwgPyByZWYxLmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgOiB2b2lkIDApID4gLTEpIHtcbiAgICAgIHMxID0gZmllbGQuZm9ybXVsYS5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIiwgXCJcIikucmVwbGFjZShcIntcIiwgXCJcIikucmVwbGFjZShcIn1cIiwgXCJcIik7XG4gICAgICBpZiAoczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgaWYgKCgocmVmMiA9IHMxLnNwbGl0KFwiLlwiKVsyXSkgIT0gbnVsbCA/IHJlZjIudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCkgPT09ICdjYycpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIG1hcmtEb3duVG9IdG1sOiBmdW5jdGlvbihtYXJrRG93blN0cmluZykge1xuICAgIHZhciByZW5kZXJlcjtcbiAgICBpZiAobWFya0Rvd25TdHJpbmcpIHtcbiAgICAgIHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG4gICAgICByZW5kZXJlci5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgICAgcmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiICsgaHJlZiArIFwiJyB0aXRsZT0nXCIgKyB0aXRsZSArIFwiJz5cIiArIHRleHQgKyBcIjwvYT5cIjtcbiAgICAgIH07XG4gICAgICByZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtcbiAgICAgICAgcmVuZGVyZXI6IHJlbmRlcmVyXG4gICAgICB9KSk7XG4gICAgfVxuICB9LFxuICBmX2xhYmVsOiBmdW5jdGlvbih0aGF0KSB7XG4gICAgcmV0dXJuIHRoYXQubmFtZSB8fCB0aGF0LmNvZGU7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5zdGVlZG9zX2Zvcm0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtX3ZlcnNpb247XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNTZWN0aW9uID0gZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSkudHlwZSA9PT0gJ3NlY3Rpb24nO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmRvY192YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zdGFuY2U7XG4gICAgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xuICAgIHJldHVybiBpbnN0YW5jZS52YWx1ZXM7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuYXBwbGljYW50Q29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBpbnN0YW5jZTtcbiAgICBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG4gICAgcmV0dXJuIGRhdGEgPSB7XG4gICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICBhdHRzOiB7XG4gICAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgaWQ6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgXCJjbGFzc1wiOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCdcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogaW5zdGFuY2UuYXBwbGljYW50X25hbWVcbiAgICB9O1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZmllbGRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvbjtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuICAgIH1cbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtX3R5cGVzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiZGlzYWJsZWRcIjtcbiAgfTtcbiAgVGVtcGxhdGUucmVnaXN0ZXJIZWxwZXIoXCJhZkZpZWxkTGFiZWxUZXh0XCIsIGZ1bmN0aW9uKG9wKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbiwgcmVmO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbChmb3JtX3ZlcnNpb24uZmllbGRzLCBvcCAhPSBudWxsID8gKHJlZiA9IG9wLmhhc2gpICE9IG51bGwgPyByZWYubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIH0pO1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLl90ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSB0aGlzLmxvY2FsZTtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc19hdHRhY2hfZG93bmxvYWRfdXJsID0gZnVuY3Rpb24oX2lkLCBhYnNvbHV0ZSkge1xuICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgcmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXCIgKyBfaWQgKyBcIj9kb3dubG9hZD10cnVlXCI7XG4gICAgfVxuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLm9wdGlvbnMgPSBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciBvcHRpb25zLCByZWYsIHJldjtcbiAgICBvcHRpb25zID0gZmllbGQgIT0gbnVsbCA/IChyZWYgPSBmaWVsZC5vcHRpb25zKSAhPSBudWxsID8gcmVmLnNwbGl0KFwiXFxuXCIpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHJldiA9IFtdO1xuICAgIGlmIChvcHRpb25zICE9IG51bGwpIHtcbiAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiByZXYucHVzaCh7XG4gICAgICAgICAgbGFiZWw6IGl0ZW0sXG4gICAgICAgICAgdmFsdWU6IGl0ZW1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldjtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmICghKChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoY29kZSkgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gXCJyZWFkb25seSBkaXNhYmxlZFwiO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfTtcbn1cblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUuZXZlbnRzID0ge1xuICAnY2hhbmdlIC5mb3JtLWNvbnRyb2wsLmNoZWNrYm94IGlucHV0LC5hZi1yYWRpby1ncm91cCBpbnB1dCwuYWYtY2hlY2tib3gtZ3JvdXAgaW5wdXQnOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpO1xuICB9LFxuICAndHlwZWFoZWFkOmNoYW5nZSAuZm9ybS1jb250cm9sJzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KTtcbiAgfSxcbiAgJ2NsaWNrIC5jZlRleHRhcmVhIGEnOiBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIFN0ZWVkb3Mub3BlbldpbmRvdyhldmVudC50YXJnZXQuaHJlZik7XG4gIH1cbn07XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uQ3JlYXRlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29tcGlsZWQsIGUsIGluc3RhbmNlLCBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlLCBpbnN0YW5jZVZpZXcsIHJlbmRlckZ1bmN0aW9uLCB0ZW1wbGF0ZTtcbiAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0ZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSk7XG4gIHRyeSB7XG4gICAgY29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7XG4gICAgICBpc0JvZHk6IHRydWVcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgZSA9IGVycm9yMTtcbiAgICBjb25zb2xlLmxvZyhcIkluc3RhbmNlIFRlbXBsYXRlIEVycm9yXCIsIGUpO1xuICAgIGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShcIlwiLCB7XG4gICAgICBpc0JvZHk6IHRydWVcbiAgICB9KTtcbiAgfVxuICByZW5kZXJGdW5jdGlvbiA9IGV2YWwoY29tcGlsZWQpO1xuICBpbnN0YW5jZVZpZXcgPSBuZXcgQmxhemUuVmlldyhcImN1c3RvbV9pbnN0YW5jZV90ZW1wbGF0ZVwiLCByZW5kZXJGdW5jdGlvbik7XG4gIGluc3RhbmNlQ3VzdG9tVGVtcGxhdGUgPSBuZXcgQmxhemUuVGVtcGxhdGUoaW5zdGFuY2VWaWV3Lm5hbWUsIHJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlID0gaW5zdGFuY2VDdXN0b21UZW1wbGF0ZTtcbiAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25SZW5kZXJlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY3VycmVudEFwcHJvdmUsIGN1cnJlbnRTdGVwLCBmb3JtX3ZlcnNpb24sIGZvcm11bGFfZmllbGRzLCBpbnN0YW5jZSwgaW5zdGFuY2VOdW1iZXJGaWVsZHMsIGp1ZGdlLCByZWY7XG4gIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKChyZWYgPSAkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpWzBdKSAhPSBudWxsKSB7XG4gICAgcmVmLmRhdGFzZXQudmFsdWVzID0gaW5zdGFuY2UuYXBwbGljYW50O1xuICB9XG4gICQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIikudmFsKGluc3RhbmNlLmFwcGxpY2FudF9uYW1lKTtcbiAgQXBwcm92ZU1hbmFnZXIuZXJyb3IgPSB7XG4gICAgbmV4dFN0ZXBzOiAnJyxcbiAgICBuZXh0U3RlcFVzZXJzOiAnJ1xuICB9O1xuICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdkcmFmdCcpIHtcbiAgICBJbnN0YW5jZUV2ZW50LmluaXRFdmVudHMoaW5zdGFuY2UuZmxvdyk7XG4gIH1cbiAgaWYgKCFBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCkpIHtcbiAgICBjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuICAgIGluc3RhbmNlTnVtYmVyRmllbGRzID0gJChcIltkYXRhLWZvcm11bGFdXCIsICQoXCIjaW5zdGFuY2Vmb3JtXCIpKTtcbiAgICBpbnN0YW5jZU51bWJlckZpZWxkcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVsZW1lbnQsIHNjaGVtYUtleTtcbiAgICAgIHNjaGVtYUtleSA9IHRoaXMuZGF0YXNldC5zY2hlbWFLZXk7XG4gICAgICBlbGVtZW50ID0gJCh0aGlzKTtcbiAgICAgIGlmICghJCh0aGlzKS52YWwoKSAmJiBzY2hlbWFLZXkgJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuY2FsbCgnZ2V0SW5zdGFuY2VWYWx1ZXMnLCBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIiksIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpIHtcbiAgICAgICAgICB2YXIga2V5LCByZWYxO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yLnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcmVzdWx0W3NjaGVtYUtleV0pIHtcbiAgICAgICAgICAgIGtleSA9IChyZWYxID0gZWxlbWVudC5kYXRhKFwiZm9ybXVsYVwiKSkgIT0gbnVsbCA/IHJlZjEucmVwbGFjZShcImF1dG9fbnVtYmVyKFwiLCBcIlwiKS5yZXBsYWNlKFwiKVwiLCBcIlwiKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9cXFwiL2csIFwiXCIpLnJlcGxhY2UoL1xcJy9nLCBcIlwiKTtcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihcIntcIikgPiAtMSkge1xuICAgICAgICAgICAgICBrZXkgPSBrZXkucmVwbGFjZShcIntcIiwgXCJcIikucmVwbGFjZShcIn1cIiwgXCJcIik7XG4gICAgICAgICAgICAgIGtleSA9IGtleS50cmltKCk7XG4gICAgICAgICAgICAgIGtleSA9IEF1dG9Gb3JtLmdldEZpZWxkVmFsdWUoa2V5LCAnaW5zdGFuY2Vmb3JtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSW5zdGFuY2VOdW1iZXJSdWxlcy5pbnN0YW5jZU51bWJlckJ1aWxkZXIoZWxlbWVudCwga2V5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQgIT0gbnVsbCA/IGVsZW1lbnQudmFsKHJlc3VsdFtzY2hlbWFLZXldKS50cmlnZ2VyKFwiY2hhbmdlXCIpIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAganVkZ2UgPSBjdXJyZW50QXBwcm92ZS5qdWRnZTtcbiAgICBjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgZm9ybXVsYV9maWVsZHMgPSBGb3JtX2Zvcm11bGEuZ2V0Rm9ybXVsYUZpZWxkVmFyaWFibGUoXCJGb3JtX2Zvcm11bGEuZmllbGRfdmFsdWVzXCIsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuICAgIEZvcm1fZm9ybXVsYS5ydW4oXCJcIiwgXCJcIiwgZm9ybXVsYV9maWVsZHMsIEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcbiAgICByZXR1cm4gU2Vzc2lvbi5zZXQoXCJpbnN0YW5jZV9mb3JtX3ZhbHVlc1wiLCB7XG4gICAgICBpbnN0YW5jZUlkOiBpbnN0YW5jZS5faWQsXG4gICAgICB2YWx1ZXM6IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jXG4gICAgfSk7XG4gIH1cbn07XG4iLCJJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzID0ge1xuXG5cdHNob3dNYWluVGl0bGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLndvcmtmbG93TWFpbkF0dGFjaFRpdGxlLmdldCgpO1xuXHR9LFxuXHRlbmFibGVkX2FkZF9tYWluX2F0dGFjaG1lbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJkcmFmdFwiICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiaW5ib3hcIikge1xuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0fVxuXG5cdFx0Ly8g5bey57uP57uT5p2f55qE5Y2V5a2Q5LiN6IO95pS56ZmE5Lu2XG5cdFx0aWYgKGlucy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHR2YXIgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG5cblx0XHRpZiAoIWN1cnJlbnRfc3RlcClcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdC8vIOWIhuWPkeeahOato+aWh+aIluiAhemZhOS7tuS4jeaYvuekuui9rOS4unBkZuaMiemSrlxuXHRcdC8vIOWmguaenOacieato+aWh+adg+mZkOWImeS4uuato+aWh++8jOWQpuWImeWIhuWPkeS4uumZhOS7tlxuXHRcdC8vIOWIhuWPkeeahOmZhOS7tuS4jeWFgeiuuOS/ruaUuSDliKDpmaQg5paw5aKe54mI5pysXG5cdFx0dmFyIG1haW5fYXR0YWNoX2NvdW50ID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5faWQsXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcblx0XHR9KS5jb3VudCgpO1xuXG5cdFx0dmFyIGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPSAwO1xuXG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcblx0XHRcdHZhciBzdGFydF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldFN0YXJ0U3RlcCgpO1xuXHRcdFx0aWYgKHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2gpIHtcblx0XHRcdFx0dmFyIGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsXG5cdFx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdFx0XHR9KS5jb3VudCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSAmJiBtYWluX2F0dGFjaF9jb3VudCA8IDEgJiYgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA8IDEpIHtcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0fVxuXG5cdFx0Ly8g5q2j5paH5pyA5aSa5Y+q6IO95pyJ5LiA5LiqXG5cdFx0aWYgKG1haW5fYXR0YWNoX2NvdW50ID49IDEgfHwgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA+PSAxKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8g5byA5aeL6IqC54K55bm25LiU6K6+572u5LqG5Y+v5Lul5LiK5Lyg5q2j5paH5omN5pi+56S65LiK5Lyg5q2j5paH55qE5oyJ6ZKuXG5cdFx0dmFyIGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuXHRcdGlmIChjdXJyZW50X3N0ZXAgJiYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PSBcInN0YXJ0XCIgJiYgY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoID09IHRydWUpXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cdFx0cmV0dXJuIGZhbHNlXG5cdH0sXG5cblx0ZW5hYmxlZF9lZGl0X25vcm1hbF9hdHRhY2htZW50OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSlcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0dmFyIGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdyk7XG5cdFx0aWYgKCFmbG93KVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblxuXHRcdC8vIOWIhuWPkeWQjueahCDpmYTku7bvvIzkuI3lj6/ku6XnvJbovpEv5Yig6Zmk77yM5Lmf5LiN6K6p5LiK5Lyg5paw55qE6ZmE5Lu2LCDmtYHnqIvliJfooajvvJrmt7vliqDlsZ7mgKcg4oCY6KKr5YiG5Y+R5ZCO5piv5ZCm5YWB6K645LiK5Lyg6ZmE5Lu24oCZICMxODM3XG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgJiYgIWZsb3cudXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJkcmFmdFwiICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiaW5ib3hcIikge1xuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0fVxuXG5cdFx0Ly8g5bey57uP57uT5p2f55qE5Y2V5a2Q5LiN6IO95pS56ZmE5Lu2XG5cdFx0aWYgKGlucy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHRpZiAoSW5zdGFuY2VNYW5hZ2VyLmlzQ0MoaW5zKSkge1xuXHRcdFx0dmFyIHN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q0NTdGVwKCk7XG5cdFx0XHRpZiAoc3RlcCAmJiAoc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHRydWUgfHwgc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHVuZGVmaW5lZCkpXG5cdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblx0XHRcdGlmIChjdXJyZW50X3N0ZXAgJiYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHRydWUgfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdW5kZWZpbmVkKSlcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2Vcblx0fSxcblxuXHRtYWluX2F0dGFjaG1lbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0dmFyIHN0YXJ0X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0U3RhcnRTdGVwKCk7XG5cblx0XHQvLyDlpoLmnpzmmK/ooqvliIblj5HnmoTnlLPor7fljZXlubbkuJTmnInkv67mlLnmraPmlofnmoTmnYPpmZDvvIzliJnkvJjlhYjmmL7npLrljp/nlLPor7fljZXmlofku7Zcblx0XHR2YXIgbWFpbl9hdHRhY2ggPSBudWxsO1xuXHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlICYmIHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSkge1xuXHRcdFx0bWFpbl9hdHRhY2ggPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLFxuXHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKCFtYWluX2F0dGFjaCkge1xuXHRcdFx0bWFpbl9hdHRhY2ggPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuX2lkLFxuXHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1haW5fYXR0YWNoO1xuXHR9LFxuXG5cdG5vcm1hbF9hdHRhY2htZW50czogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHR2YXIgc2VsZWN0b3IgPSB7XG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHtcblx0XHRcdFx0JG5lOiB0cnVlXG5cdFx0XHR9LFxuXHRcdH07XG5cblx0XHR2YXIgYXR0cyA9IG5ldyBBcnJheSgpO1xuXG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcblx0XHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNle+8jOWImeaYvuekuuWOn+eUs+ivt+WNleaWh+S7tiwg5aaC5p6c6YCJ5oup5LqG5bCG5Y6f6KGo5Y2V5a2Y5YKo5Li66ZmE5Lu25Lmf6KaB5pi+56S6LCDlkIzml7bkuZ/opoHmmL7npLrmlrDkuIrkvKDnmoTpmYTku7Zcblx0XHRcdHZhciBkZmlzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG5cdFx0XHRkZmlzLnB1c2goaW5zLl9pZCk7XG5cdFx0XHRzZWxlY3RvclsnbWV0YWRhdGEuaW5zdGFuY2UnXSA9IHtcblx0XHRcdFx0JGluOiBkZmlzXG5cdFx0XHR9O1xuXG5cblx0XHRcdHNlbGVjdG9yW1wiJG9yXCJdID0gW3tcblx0XHRcdFx0XCJtZXRhZGF0YS5pbnN0YW5jZVwiOiBpbnMuX2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdFwibWV0YWRhdGEuaW5zdGFuY2VcIjoge1xuXHRcdFx0XHRcdCRpbjogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcblx0XHRcdFx0fSxcblx0XHRcdFx0XCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcblx0XHRcdFx0XHQkbmU6IHRydWVcblx0XHRcdFx0fVxuXHRcdFx0fV1cblxuXHRcdFx0Ly8g5aaC5p6c5Y6f55Sz6K+35Y2V5pyJ5q2j5paH5L2G5piv5YiG5Y+R5ZCO5rKh5pyJ5q2j5paH5p2D6ZmQ77yM5YiZ5Y6f55Sz6K+35Y2V5q2j5paH5pi+56S65Zyo6ZmE5Lu25qCPXG5cdFx0XHR2YXIgc3RhcnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRTdGFydFN0ZXAoKTtcblx0XHRcdGlmIChzdGFydF9zdGVwICYmIHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggIT0gdHJ1ZSkge1xuXHRcdFx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcblx0XHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdFx0XHQkaW46IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlLFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKGRpc3RyaWJ1dGVfbWFpbikge1xuXHRcdFx0XHRcdHZhciBmaXJzdFZlcnNpb25NYWluID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKGRpc3RyaWJ1dGVfbWFpbi5tZXRhZGF0YS5wYXJlbnQpO1xuXHRcdFx0XHRcdGRpc3RyaWJ1dGVfbWFpbi5hdHRhY2htZW50VXBsb2FkZWRBdCA9IGZpcnN0VmVyc2lvbk1haW4gPyBmaXJzdFZlcnNpb25NYWluLnVwbG9hZGVkQXQgOiBkaXN0cmlidXRlX21haW4udXBsb2FkZWRBdDtcblx0XHRcdFx0XHRhdHRzLnB1c2goZGlzdHJpYnV0ZV9tYWluKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZWxlY3RvclsnbWV0YWRhdGEuaW5zdGFuY2UnXSA9IGlucy5faWQ7XG5cdFx0fVxuXG5cdFx0Y2ZzLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcblx0XHRcdHZhciBmaXJzdFZlcnNpb24gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoYy5tZXRhZGF0YS5wYXJlbnQpO1xuXHRcdFx0Yy5hdHRhY2htZW50VXBsb2FkZWRBdCA9IGZpcnN0VmVyc2lvbiA/IGZpcnN0VmVyc2lvbi51cGxvYWRlZEF0IDogYy51cGxvYWRlZEF0O1xuXHRcdFx0YXR0cy5wdXNoKGMpO1xuXHRcdH0pXG5cblx0XHRyZXR1cm4gXy5zb3J0QnkoYXR0cywgJ2F0dGFjaG1lbnRVcGxvYWRlZEF0Jyk7XG5cdH0sXG5cblx0c2hvd0F0dGFjaG1lbnRzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHQvLyDlpoLmnpzmmK/ooqvliIblj5HnmoTnlLPor7fljZXvvIzliJnmmL7npLrljp/nlLPor7fljZXmlofku7Yg5ZKM5YiG5Y+R5ZCO55Sz6K+35Y2V5paH5Lu2XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG5cdFx0aW5zdGFuY2VJZHMucHVzaChpbnMuX2lkKTtcblx0XHR2YXIgYXR0YWNobWVudHNfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXG5cdFx0XHR9LFxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXG5cdFx0fSkuY291bnQoKTtcblxuXHRcdGlmIChTZXNzaW9uICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSAmJiBhdHRhY2htZW50c19jb3VudCA8IDEpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gXCJpbmJveFwiIHx8IGF0dGFjaG1lbnRzX2NvdW50ID4gMClcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfdDogZnVuY3Rpb24oa2V5KSB7XG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxuXHR9XG5cbn1cblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLl90ID0gZnVuY3Rpb24oa2V5KSB7XG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcblx0fVxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLmVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9O1xuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLmVuYWJsZWRfZWRpdF9ub3JtYWxfYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9O1xuXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMubWFpbl9hdHRhY2htZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY29tcGFjdChbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLCBpbnN0YW5jZS5faWRdKTtcblx0XHR2YXIgYXR0YWNobWVudCA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcblx0XHR9KTtcblxuXHRcdHJldHVybiBhdHRhY2htZW50O1xuXHR9O1xuXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMubm9ybWFsX2F0dGFjaG1lbnRzID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHN0ZWVkb3NEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhXG5cdFx0dmFyIGluc3RhbmNlID0gc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGluc3RhbmNlLl9pZCk7XG5cdFx0dmFyIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xuXHRcdFx0fSxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzoge1xuXHRcdFx0XHQkbmU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHQkb3I6IFt7XG5cdFx0XHRcdCdtZXRhZGF0YS5pc19wcml2YXRlJzoge1xuXHRcdFx0XHRcdCRuZTogdHJ1ZVxuXHRcdFx0XHR9XG5cdFx0XHR9LCB7XG5cdFx0XHRcdCdtZXRhZGF0YS5pc19wcml2YXRlJzogdHJ1ZSxcblx0XHRcdFx0XCJtZXRhZGF0YS5vd25lclwiOiBzdGVlZG9zRGF0YS51c2VySWRcblx0XHRcdH1dXG5cdFx0fSkuZmV0Y2goKTtcblxuXHRcdHJldHVybiBhdHRhY2htZW50cztcblx0fTtcblxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLnNob3dBdHRhY2htZW50cyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNsb25lKGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xuXHRcdGluc3RhbmNlSWRzLnB1c2goaW5zdGFuY2UuX2lkKTtcblxuXHRcdHZhciBhdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcblx0XHR9KS5mZXRjaCgpO1xuXG5cdFx0aWYgKGF0dGFjaG1lbnRzICYmIGF0dGFjaG1lbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLnNob3dNYWluVGl0bGUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jb21wYWN0KFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsIGluc3RhbmNlLl9pZF0pO1xuXHRcdHZhciBtYWluX2F0dGFjaF9jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcblx0XHR9KS5jb3VudCgpO1xuXG5cdFx0cmV0dXJuIG1haW5fYXR0YWNoX2NvdW50ID4gMFxuXHR9XG59XG4iLCJJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMgPVxuXHRzaG93OiAoc3RlcE5hbWUpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlmIFNlc3Npb24uZ2V0KCdpbnN0YW5jZVByaW50Jylcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0XHRpZiBJbnN0YW5jZU1hbmFnZXIuaXNJbmJveCgpXG5cdFx0XHRcdG15QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpXG5cdFx0XHRcdGlmIG15QXBwcm92ZVxuXHRcdFx0XHRcdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0XHRcdFx0bXlUcmFjZSA9IGluc3RhbmNlPy50cmFjZXM/LmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgbXlBcHByb3ZlLnRyYWNlKVxuXHRcdFx0XHRcdHJldHVybiBteVRyYWNlPy5uYW1lID09IHN0ZXBOYW1lXG5cdFx0cmV0dXJuIGZhbHNlXG5cblx0ZGVmYXVsdERlc2NyaXB0aW9uOiAoKS0+XG4jXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIpXG5cdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uXG5cblx0dHJhY2VzOiAoKS0+XG5cdFx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKVxuXG5cdHRyYWNlOiAoc3RlcE5hbWUsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiwgdG9wX2tleXdvcmRzKS0+XG5cdFx0aW5zdGFuY2UgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlKClcblxuXHRcdGlzX2NvbXBsZXRlZCA9IGluc3RhbmNlPy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXG5cblx0XHRjb21wbGV0ZWRfZGF0ZSA9IGlmIGlzX2NvbXBsZXRlZCB0aGVuIF8ubGFzdChpbnN0YW5jZS50cmFjZXMpPy5maW5pc2hfZGF0ZT8uZ2V0VGltZSgpIGVsc2UgMFxuXG5cdFx0aWYgaXNfY29tcGxldGVkICYmIGluc3RhbmNlLmZpbmlzaF9kYXRlXG5cdFx0XHRjb21wbGV0ZWRfZGF0ZSA9IGluc3RhbmNlLmZpbmlzaF9kYXRlPy5nZXRUaW1lKClcblxuXHRcdHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKClcblxuXHRcdGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbc3RlcE5hbWVdKVxuXG5cdFx0YXBwcm92ZV9zb3J0ID0gKGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpLT5cblxuI+WvuUFwcHJvdmVz5o6S5bqP77yMIOaMieeFp+aPkOS6pOaXtumXtOaOkuWAkuW6j++8jOWmguaenOayoeacieaPkOS6pOWImeaYvuekuuWcqOacgOS4iui+uVxuXHRcdFx0YXBwcm92ZXNfc29ydGVkID0gXy5zb3J0QnkgYXBwcm92ZXMsIChhcHByb3ZlKS0+XG5cdFx0XHRcdHJldHVybiAtKGFwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpXG5cblx0XHRcdCPpgJrov4flhbPplK7lrZfmjpLluo9cblx0XHRcdGlmIHRvcF9rZXl3b3Jkc1xuXHRcdFx0XHR0b3BfYXBwcm92ZXMgPSBuZXcgQXJyYXkoKVxuXG5cdFx0XHRcdHRvcF9rZXl3b3Jkcy5zcGxpdChcIixcIikuZm9yRWFjaCAoa2V5KSAtPlxuXHRcdFx0XHRcdHRvcF9hcHByb3ZlcyA9IF8udW5pb24gdG9wX2FwcHJvdmVzLCBfLmZpbHRlcihhcHByb3Zlc19zb3J0ZWQsIChhcHByb3ZlKS0+XG5cdFx0XHRcdFx0XHRyZXR1cm4gYXBwcm92ZT8uaGFuZGxlcl9uYW1lPy5pbmRleE9mKGtleSkgPiAtMVxuXHRcdFx0XHRcdClcblx0XHRcdFx0IyDlr7nnva7pobbmhI/op4HmjInnhaflpITnkIbkuovku7bmjpLlgJLluo9cblx0XHRcdFx0dG9wX2FwcHJvdmVzID0gXy5zb3J0QnkgdG9wX2FwcHJvdmVzLCAodG9wX2FwcHJvdmUpLT5cblx0XHRcdFx0XHRyZXR1cm4gLSh0b3BfYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKClcblxuXHRcdFx0XHRhcHByb3Zlc19zb3J0ZWQgPSBfLnVuaW9uIHRvcF9hcHByb3ZlcywgYXBwcm92ZXNfc29ydGVkXG5cdFx0XHRyZXR1cm4gYXBwcm92ZXNfc29ydGVkIHx8IFtdXG5cblx0XHRhcHByb3ZlcyA9IF8uZmlsdGVyIGFwcHJvdmVzLCAoYSktPlxuXHRcdFx0cmV0dXJuIGEudHlwZSBpc250IFwiZm9yd2FyZFwiIGFuZCBhLnR5cGUgaXNudCBcImRpc3RyaWJ1dGVcIiBhbmQgYS50eXBlIGlzbnQgXCJ0ZXJtaW5hdGVkXCJcblxuXHRcdGlmIG9ubHlfY2Nfb3BpbmlvblxuXHRcdFx0YXBwcm92ZXMgPSBhcHByb3Zlcz8uZmlsdGVyUHJvcGVydHkoXCJ0eXBlXCIsIFwiY2NcIilcblxuXHRcdGFwcHJvdmVzX3NvcnRlZCA9IGFwcHJvdmVfc29ydChhcHByb3ZlcywgdG9wX2tleXdvcmRzKVxuXG5cdFx0YXBwcm92ZXNHcm91cCA9IF8uZ3JvdXBCeShhcHByb3ZlcywgXCJoYW5kbGVyXCIpO1xuXG5cdFx0aGFzTmV4dCA9IChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAtPlxuXHRcdFx0aGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdXG5cdFx0XHRyZXR1cm4gXy5pbmRleE9mKGhhbmRsZXJBcHByb3ZlcywgYXBwcm92ZSkgKyAxIDwgaGFuZGxlckFwcHJvdmVzLmxlbmd0aFxuXG5cdFx0aGF2ZURlc2NyaXB0aW9uQXBwcm92ZSA9IChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAtPlxuXHRcdFx0aGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdXG5cblx0XHRcdGRlc2NyaXB0aW9uQXBwcm92ZXMgPSBfLmZpbHRlciBoYW5kbGVyQXBwcm92ZXMsIChhKS0+XG5cdFx0XHRcdGlmIGEuZGVzY3JpcHRpb25cblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdFx0aWYgZGVzY3JpcHRpb25BcHByb3Zlcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdFx0cmV0dXJuIHRydWVcblxuXG5cdFx0YXBwcm92ZXNfc29ydGVkLmZvckVhY2ggKGFwcHJvdmUpIC0+XG4jXHRcdFx05pyJ6L6T5YWl5oSP6KeBIOaIliDmnIDmlrDkuIDmnaHlubbkuJTnlKjmiLfmsqHmnInovpPlhaXov4fmhI/op4FcbiNcdFx0XHRpZiAhYXBwcm92ZS5pc19maW5pc2hlZCB8fCBhcHByb3ZlLmRlc2NyaXB0aW9uIHx8ICghaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAmJiAhaGF2ZURlc2NyaXB0aW9uQXBwcm92ZShhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSlcbiNcdFx0XHRpZiAhaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKVxuXHRcdFx0aWYgYXBwcm92ZS5zaWduX3Nob3cgIT0gZmFsc2UgJiYgKGFwcHJvdmUuZGVzY3JpcHRpb24gfHwgKCFhcHByb3ZlLmRlc2NyaXB0aW9uICYmICFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApKSApXG5cdFx0XHRcdGlmIGFwcHJvdmUuanVkZ2UgaXNudCAndGVybWluYXRlZCdcblx0XHRcdFx0XHRhcHByb3ZlLl9kaXNwbGF5ID0gdHJ1ZVxuXG5cdFx0YXBwcm92ZXNfc29ydGVkID0gXy5maWx0ZXIgYXBwcm92ZXNfc29ydGVkLCAoYSkgLT5cblx0XHRcdGlmIGlzX2NvbXBsZXRlZFxuXHRcdFx0XHRyZXR1cm4gYS5fZGlzcGxheSA9PSB0cnVlICYmIGEuaXNfZmluaXNoZWQgJiYgYS5maW5pc2hfZGF0ZT8uZ2V0VGltZSgpIDw9IGNvbXBsZXRlZF9kYXRlXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBhLl9kaXNwbGF5ID09IHRydWVcblxuXHRcdHJldHVybiBhcHByb3Zlc19zb3J0ZWRcblxuXHRpbmNsdWRlOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlKGEsIGIpXG5cblx0dW5lbXB0eTogKHZhbCktPlxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnVuZW1wdHkodmFsKVxuXG5cdGZvcm1hdERhdGU6IChkYXRlLCBvcHRpb25zKS0+XG5cdFx0aWYgIW9wdGlvbnNcblx0XHRcdG9wdGlvbnMgPSB7XCJmb3JtYXRcIjogXCJZWVlZLU1NLUREXCJ9XG5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtYXREYXRlKGRhdGUsIG9wdGlvbnMpXG5cblx0aXNNeUFwcHJvdmU6IChhcHByb3ZlLCBvbmx5X2NjX29waW5pb24pIC0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuXHRcdFx0Y3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKVxuXG5cdFx0XHRpZiAhYXBwcm92ZT8uX2lkXG5cdFx0XHRcdGFwcHJvdmUgPSBjdXJyZW50QXBwcm92ZVxuXG5cdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBjdXJyZW50QXBwcm92ZT8uX2lkICYmIGN1cnJlbnRBcHByb3ZlPy50eXBlID09ICdjYycgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWVcblx0XHRcdFx0aWYgXy5pbmRleE9mKGN1cnJlbnRBcHByb3ZlPy5vcGluaW9uX2ZpZWxkc19jb2RlLCBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkgPiAtMVxuXHRcdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdFx0aWYgIShjdXJyZW50QXBwcm92ZT8udHlwZSA9PSAnY2MnKSAmJiBvbmx5X2NjX29waW5pb25cblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRcdGlmIGN1cnJlbnRBcHByb3ZlICYmIGFwcHJvdmUuX2lkID09IGN1cnJlbnRBcHByb3ZlLl9pZFxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdG15QXBwcm92ZURlc2NyaXB0aW9uOiAoYXBwcm92ZUlkKS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRyZXR1cm4gVHJhY2VzVGVtcGxhdGUuaGVscGVycy5teUFwcHJvdmVEZXNjcmlwdGlvbihhcHByb3ZlSWQpXG5cblx0bm93OiAoKS0+XG5cdFx0cmV0dXJuIG5ldyBEYXRlKCk7XG5cblx0aXNSZWFkT25seTogKCktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0cmV0dXJuIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdGlzT3Bpbmlvbk9mRmllbGQ6IChhcHByb3ZlKS0+XG5cdFx0aWYgYXBwcm92ZS50eXBlID09IFwiY2NcIiAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZVxuXHRcdFx0aWYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUgPT0gYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGVcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cblx0bWFya0Rvd25Ub0h0bWw6IChtYXJrRG93blN0cmluZyktPlxuXHRcdGlmIG1hcmtEb3duU3RyaW5nXG5cdFx0XHRyZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuXHRcdFx0cmVuZGVyZXIubGluayA9IChocmVmLCB0aXRsZSwgdGV4dCkgLT5cblx0XHRcdFx0cmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9JyN7aHJlZn0nIHRpdGxlPScje3RpdGxlfSc+I3t0ZXh0fTwvYT5cIlxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7cmVuZGVyZXI6IHJlbmRlcmVyfSkpXG5cblx0c3RlcHM6IChmaWVsZF9mb3JtdWxhLCBzdGVwLCBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ24pLT5cblx0XHRzdGVwcyA9IFtdXG5cdFx0aWYgIXN0ZXBcblx0XHRcdGlmICFmaWVsZF9mb3JtdWxhXG5cdFx0XHRcdGZpZWxkX2Zvcm11bGEgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpPy5maWVsZHM/LmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIHRoaXMubmFtZSkuZm9ybXVsYVxuXHRcdFx0c3RlcHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmdldE9waW5pb25GaWVsZFN0ZXBzTmFtZShmaWVsZF9mb3JtdWxhLCBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhLnRvcF9rZXl3b3Jkcylcblx0XHRlbHNlXG5cdFx0XHRzdGVwcyA9IFt7c3RlcE5hbWU6IHN0ZXAsIG9ubHlfY2Nfb3Bpbmlvbjogb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduOiBpbWFnZV9zaWdufV1cblx0XHRyZXR1cm4gc3RlcHNcblxuXHRpbWFnZVNpZ25EYXRhOiAoaGFuZGxlcikgLT5cblx0XHRyZXR1cm4ge3VzZXI6IGhhbmRsZXJ9XG5cblx0c2hvd1NpZ25JbWFnZTogKGhhbmRsZXIsIGltYWdlX3NpZ24pIC0+XG5cdFx0c3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24oaGFuZGxlcik7XG5cblx0XHRpZiBzcGFjZVVzZXJTaWduPy5zaWduICYmIGltYWdlX3NpZ25cblx0XHRcdHJldHVybiB0cnVlXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0Z2V0TGFzdFNpZ25BcHByb3ZlOiAoKS0+XG5cdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cblx0XHRyZXR1cm4gXy5sYXN0KFRyYWNlc01hbmFnZXIuZ2V0SGFuZGxlclNpZ25TaG93QXBwcm92ZXMgaW5zLCBNZXRlb3IudXNlcklkKCkpXG5cblxuXHRsYXN0TXlBcHByb3ZlRGVzY3JpcHRpb246ICgpLT5cblx0XHR0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpXG5cdFx0Y3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblx0XHRhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW2N1cnJlbnRTdGVwLm5hbWVdKVxuXG5cdFx0YXBwcm92ZXMgPSBhcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcImhhbmRsZXJcIiwgTWV0ZW9yLnVzZXJJZCgpKVxuXG5cdFx0aWYgYXBwcm92ZXMubGVuZ3RoID4gMVxuXHRcdFx0cmV0dXJuIGFwcHJvdmVzW2FwcHJvdmVzLmxlbmd0aCAtIDJdPy5kZXNjcmlwdGlvblxuXG5cdFx0cmV0dXJuIFwiXCI7XG5cblx0c2hvd0FwcHJvdmU6IChhcHByb3ZlKS0+XG5cdFx0aWYgYXBwcm92ZT8uaXNfcmVhZFxuXHRcdFx0aWYgYXBwcm92ZS5pc19maW5pc2hlZFxuXHRcdFx0XHRyZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhhcHByb3ZlLmp1ZGdlKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0anVkZ2VfZGVzY3JpcHRpb246IChqdWRnZSktPlxuXHRcdHJldHVybiB0KGp1ZGdlICsgXCJfZGVzY3JpcHRpb25cIilcblxuXHRpc19hcHByb3ZlZDogKGp1ZGdlKS0+XG5cdFx0cmV0dXJuIFwiYXBwcm92ZWRcIiA9PSBqdWRnZVxuXG5cdGlzX3JlamVjdGVkOiAoanVkZ2UpLT5cblx0XHRyZXR1cm4gXCJyZWplY3RlZFwiID09IGp1ZGdlXG5cblx0aXNfcmVhZGVkOiAoanVkZ2UpLT5cblx0XHRyZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhqdWRnZSlcblxuXHRhZGRDbGFzczogKCktPlxuXHRcdG5hbWUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhPy5uYW1lXG5cdFx0c2V0VGltZW91dCAoKSAtPlxuXHRcdFx0dHJ5XG5cdFx0XHRcdGVsZW1lbnQgPSAkKFwiLmF1dG9tYXRpYy5vcGluaW9uLWZpZWxkLVwiICsgbmFtZSlcblx0XHRcdFx0aWYgZWxlbWVudC5sZW5ndGggPiAwXG5cdFx0XHRcdFx0aWYgZWxlbWVudD8uaXMoXCJ0ZFwiKVxuXHRcdFx0XHRcdFx0ZWxlbWVudC5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdCQoXCIuaW5zdGFuY2Utc2lnblwiLCBlbGVtZW50KS5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKVxuXHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRjb25zb2xlLmxvZyBlXG5cdFx0LCAxXG5cdFx0cmV0dXJuICcnXG5cbmlmIE1ldGVvci5pc1NlcnZlclxuXHRJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMuZGVmYXVsdERlc2NyaXB0aW9uID0gLT5cblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uIHx8IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9kZWZhdWx0X29waW5pb25cIiwge30sIGxvY2FsZSkiLCJJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMgPSB7XG4gIHNob3c6IGZ1bmN0aW9uKHN0ZXBOYW1lKSB7XG4gICAgdmFyIGluc3RhbmNlLCBteUFwcHJvdmUsIG15VHJhY2UsIHJlZjtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoJ2luc3RhbmNlUHJpbnQnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoSW5zdGFuY2VNYW5hZ2VyLmlzSW5ib3goKSkge1xuICAgICAgICBteUFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcbiAgICAgICAgaWYgKG15QXBwcm92ZSkge1xuICAgICAgICAgIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgbXlUcmFjZSA9IGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgbXlBcHByb3ZlLnRyYWNlKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm4gKG15VHJhY2UgIT0gbnVsbCA/IG15VHJhY2UubmFtZSA6IHZvaWQgMCkgPT09IHN0ZXBOYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZGVmYXVsdERlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb247XG4gIH0sXG4gIHRyYWNlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKCk7XG4gIH0sXG4gIHRyYWNlOiBmdW5jdGlvbihzdGVwTmFtZSwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduLCB0b3Bfa2V5d29yZHMpIHtcbiAgICB2YXIgYXBwcm92ZV9zb3J0LCBhcHByb3ZlcywgYXBwcm92ZXNHcm91cCwgYXBwcm92ZXNfc29ydGVkLCBjb21wbGV0ZWRfZGF0ZSwgaGFzTmV4dCwgaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSwgaW5zdGFuY2UsIGlzX2NvbXBsZXRlZCwgcmVmLCByZWYxLCByZWYyLCB0cmFjZXM7XG4gICAgaW5zdGFuY2UgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlKCk7XG4gICAgaXNfY29tcGxldGVkID0gKGluc3RhbmNlICE9IG51bGwgPyBpbnN0YW5jZS5zdGF0ZSA6IHZvaWQgMCkgPT09IFwiY29tcGxldGVkXCI7XG4gICAgY29tcGxldGVkX2RhdGUgPSBpc19jb21wbGV0ZWQgPyAocmVmID0gXy5sYXN0KGluc3RhbmNlLnRyYWNlcykpICE9IG51bGwgPyAocmVmMSA9IHJlZi5maW5pc2hfZGF0ZSkgIT0gbnVsbCA/IHJlZjEuZ2V0VGltZSgpIDogdm9pZCAwIDogdm9pZCAwIDogMDtcbiAgICBpZiAoaXNfY29tcGxldGVkICYmIGluc3RhbmNlLmZpbmlzaF9kYXRlKSB7XG4gICAgICBjb21wbGV0ZWRfZGF0ZSA9IChyZWYyID0gaW5zdGFuY2UuZmluaXNoX2RhdGUpICE9IG51bGwgPyByZWYyLmdldFRpbWUoKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKTtcbiAgICBhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW3N0ZXBOYW1lXSk7XG4gICAgYXBwcm92ZV9zb3J0ID0gZnVuY3Rpb24oYXBwcm92ZXMsIHRvcF9rZXl3b3Jkcykge1xuICAgICAgdmFyIGFwcHJvdmVzX3NvcnRlZCwgdG9wX2FwcHJvdmVzO1xuICAgICAgYXBwcm92ZXNfc29ydGVkID0gXy5zb3J0QnkoYXBwcm92ZXMsIGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgcmV0dXJuIC0oYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICB9KTtcbiAgICAgIGlmICh0b3Bfa2V5d29yZHMpIHtcbiAgICAgICAgdG9wX2FwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRvcF9rZXl3b3Jkcy5zcGxpdChcIixcIikuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZXR1cm4gdG9wX2FwcHJvdmVzID0gXy51bmlvbih0b3BfYXBwcm92ZXMsIF8uZmlsdGVyKGFwcHJvdmVzX3NvcnRlZCwgZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgICAgdmFyIHJlZjM7XG4gICAgICAgICAgICByZXR1cm4gKGFwcHJvdmUgIT0gbnVsbCA/IChyZWYzID0gYXBwcm92ZS5oYW5kbGVyX25hbWUpICE9IG51bGwgPyByZWYzLmluZGV4T2Yoa2V5KSA6IHZvaWQgMCA6IHZvaWQgMCkgPiAtMTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0b3BfYXBwcm92ZXMgPSBfLnNvcnRCeSh0b3BfYXBwcm92ZXMsIGZ1bmN0aW9uKHRvcF9hcHByb3ZlKSB7XG4gICAgICAgICAgcmV0dXJuIC0odG9wX2FwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgYXBwcm92ZXNfc29ydGVkID0gXy51bmlvbih0b3BfYXBwcm92ZXMsIGFwcHJvdmVzX3NvcnRlZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXBwcm92ZXNfc29ydGVkIHx8IFtdO1xuICAgIH07XG4gICAgYXBwcm92ZXMgPSBfLmZpbHRlcihhcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGEudHlwZSAhPT0gXCJmb3J3YXJkXCIgJiYgYS50eXBlICE9PSBcImRpc3RyaWJ1dGVcIiAmJiBhLnR5cGUgIT09IFwidGVybWluYXRlZFwiO1xuICAgIH0pO1xuICAgIGlmIChvbmx5X2NjX29waW5pb24pIHtcbiAgICAgIGFwcHJvdmVzID0gYXBwcm92ZXMgIT0gbnVsbCA/IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwidHlwZVwiLCBcImNjXCIpIDogdm9pZCAwO1xuICAgIH1cbiAgICBhcHByb3Zlc19zb3J0ZWQgPSBhcHByb3ZlX3NvcnQoYXBwcm92ZXMsIHRvcF9rZXl3b3Jkcyk7XG4gICAgYXBwcm92ZXNHcm91cCA9IF8uZ3JvdXBCeShhcHByb3ZlcywgXCJoYW5kbGVyXCIpO1xuICAgIGhhc05leHQgPSBmdW5jdGlvbihhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSB7XG4gICAgICB2YXIgaGFuZGxlckFwcHJvdmVzO1xuICAgICAgaGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdO1xuICAgICAgcmV0dXJuIF8uaW5kZXhPZihoYW5kbGVyQXBwcm92ZXMsIGFwcHJvdmUpICsgMSA8IGhhbmRsZXJBcHByb3Zlcy5sZW5ndGg7XG4gICAgfTtcbiAgICBoYXZlRGVzY3JpcHRpb25BcHByb3ZlID0gZnVuY3Rpb24oYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkge1xuICAgICAgdmFyIGRlc2NyaXB0aW9uQXBwcm92ZXMsIGhhbmRsZXJBcHByb3ZlcztcbiAgICAgIGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXTtcbiAgICAgIGRlc2NyaXB0aW9uQXBwcm92ZXMgPSBfLmZpbHRlcihoYW5kbGVyQXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgaWYgKGEuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGlmIChkZXNjcmlwdGlvbkFwcHJvdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIGFwcHJvdmVzX3NvcnRlZC5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgIGlmIChhcHByb3ZlLnNpZ25fc2hvdyAhPT0gZmFsc2UgJiYgKGFwcHJvdmUuZGVzY3JpcHRpb24gfHwgKCFhcHByb3ZlLmRlc2NyaXB0aW9uICYmICFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApKSkpIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgICAgIHJldHVybiBhcHByb3ZlLl9kaXNwbGF5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGFwcHJvdmVzX3NvcnRlZCA9IF8uZmlsdGVyKGFwcHJvdmVzX3NvcnRlZCwgZnVuY3Rpb24oYSkge1xuICAgICAgdmFyIHJlZjM7XG4gICAgICBpZiAoaXNfY29tcGxldGVkKSB7XG4gICAgICAgIHJldHVybiBhLl9kaXNwbGF5ID09PSB0cnVlICYmIGEuaXNfZmluaXNoZWQgJiYgKChyZWYzID0gYS5maW5pc2hfZGF0ZSkgIT0gbnVsbCA/IHJlZjMuZ2V0VGltZSgpIDogdm9pZCAwKSA8PSBjb21wbGV0ZWRfZGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhLl9kaXNwbGF5ID09PSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBhcHByb3Zlc19zb3J0ZWQ7XG4gIH0sXG4gIGluY2x1ZGU6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlKGEsIGIpO1xuICB9LFxuICB1bmVtcHR5OiBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy51bmVtcHR5KHZhbCk7XG4gIH0sXG4gIGZvcm1hdERhdGU6IGZ1bmN0aW9uKGRhdGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIFwiZm9ybWF0XCI6IFwiWVlZWS1NTS1ERFwiXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtYXREYXRlKGRhdGUsIG9wdGlvbnMpO1xuICB9LFxuICBpc015QXBwcm92ZTogZnVuY3Rpb24oYXBwcm92ZSwgb25seV9jY19vcGluaW9uKSB7XG4gICAgdmFyIGN1cnJlbnRBcHByb3ZlLCBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICBjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuICAgICAgaWYgKCEoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS5faWQgOiB2b2lkIDApKSB7XG4gICAgICAgIGFwcHJvdmUgPSBjdXJyZW50QXBwcm92ZTtcbiAgICAgIH1cbiAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gKGN1cnJlbnRBcHByb3ZlICE9IG51bGwgPyBjdXJyZW50QXBwcm92ZS5faWQgOiB2b2lkIDApICYmIChjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUudHlwZSA6IHZvaWQgMCkgPT09ICdjYycgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpIHtcbiAgICAgICAgaWYgKF8uaW5kZXhPZihjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZSA6IHZvaWQgMCwgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpID4gLTEpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghKChjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUudHlwZSA6IHZvaWQgMCkgPT09ICdjYycpICYmIG9ubHlfY2Nfb3Bpbmlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudEFwcHJvdmUgJiYgYXBwcm92ZS5faWQgPT09IGN1cnJlbnRBcHByb3ZlLl9pZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBteUFwcHJvdmVEZXNjcmlwdGlvbjogZnVuY3Rpb24oYXBwcm92ZUlkKSB7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgcmV0dXJuIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMubXlBcHByb3ZlRGVzY3JpcHRpb24oYXBwcm92ZUlkKTtcbiAgICB9XG4gIH0sXG4gIG5vdzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gIH0sXG4gIGlzUmVhZE9ubHk6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNPcGluaW9uT2ZGaWVsZDogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChhcHByb3ZlLnR5cGUgPT09IFwiY2NcIiAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkge1xuICAgICAgaWYgKFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lID09PSBhcHByb3ZlLnNpZ25fZmllbGRfY29kZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICBtYXJrRG93blRvSHRtbDogZnVuY3Rpb24obWFya0Rvd25TdHJpbmcpIHtcbiAgICB2YXIgcmVuZGVyZXI7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuICAgICAgcmVuZGVyZXIubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIiArIGhyZWYgKyBcIicgdGl0bGU9J1wiICsgdGl0bGUgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2E+XCI7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7XG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJlclxuICAgICAgfSkpO1xuICAgIH1cbiAgfSxcbiAgc3RlcHM6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEsIHN0ZXAsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbikge1xuICAgIHZhciByZWYsIHJlZjEsIHJlZjIsIHN0ZXBzO1xuICAgIHN0ZXBzID0gW107XG4gICAgaWYgKCFzdGVwKSB7XG4gICAgICBpZiAoIWZpZWxkX2Zvcm11bGEpIHtcbiAgICAgICAgZmllbGRfZm9ybXVsYSA9IChyZWYgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZmllbGRzKSAhPSBudWxsID8gcmVmMS5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCB0aGlzLm5hbWUpLmZvcm11bGEgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBzdGVwcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lKGZpZWxkX2Zvcm11bGEsIChyZWYyID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IHJlZjIuZGF0YS50b3Bfa2V5d29yZHMgOiB2b2lkIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGVwcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHN0ZXBOYW1lOiBzdGVwLFxuICAgICAgICAgIG9ubHlfY2Nfb3Bpbmlvbjogb25seV9jY19vcGluaW9uLFxuICAgICAgICAgIGltYWdlX3NpZ246IGltYWdlX3NpZ25cbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ZXBzO1xuICB9LFxuICBpbWFnZVNpZ25EYXRhOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXI6IGhhbmRsZXJcbiAgICB9O1xuICB9LFxuICBzaG93U2lnbkltYWdlOiBmdW5jdGlvbihoYW5kbGVyLCBpbWFnZV9zaWduKSB7XG4gICAgdmFyIHNwYWNlVXNlclNpZ247XG4gICAgc3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24oaGFuZGxlcik7XG4gICAgaWYgKChzcGFjZVVzZXJTaWduICE9IG51bGwgPyBzcGFjZVVzZXJTaWduLnNpZ24gOiB2b2lkIDApICYmIGltYWdlX3NpZ24pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBnZXRMYXN0U2lnbkFwcHJvdmU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuIF8ubGFzdChUcmFjZXNNYW5hZ2VyLmdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzKGlucywgTWV0ZW9yLnVzZXJJZCgpKSk7XG4gIH0sXG4gIGxhc3RNeUFwcHJvdmVEZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFwcHJvdmVzLCBjdXJyZW50U3RlcCwgcmVmLCB0cmFjZXM7XG4gICAgdHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKTtcbiAgICBjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuICAgIGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbY3VycmVudFN0ZXAubmFtZV0pO1xuICAgIGFwcHJvdmVzID0gYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIE1ldGVvci51c2VySWQoKSk7XG4gICAgaWYgKGFwcHJvdmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybiAocmVmID0gYXBwcm92ZXNbYXBwcm92ZXMubGVuZ3RoIC0gMl0pICE9IG51bGwgPyByZWYuZGVzY3JpcHRpb24gOiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9LFxuICBzaG93QXBwcm92ZTogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChhcHByb3ZlICE9IG51bGwgPyBhcHByb3ZlLmlzX3JlYWQgOiB2b2lkIDApIHtcbiAgICAgIGlmIChhcHByb3ZlLmlzX2ZpbmlzaGVkKSB7XG4gICAgICAgIHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGFwcHJvdmUuanVkZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAganVkZ2VfZGVzY3JpcHRpb246IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIHQoanVkZ2UgKyBcIl9kZXNjcmlwdGlvblwiKTtcbiAgfSxcbiAgaXNfYXBwcm92ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFwiYXBwcm92ZWRcIiA9PT0ganVkZ2U7XG4gIH0sXG4gIGlzX3JlamVjdGVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBcInJlamVjdGVkXCIgPT09IGp1ZGdlO1xuICB9LFxuICBpc19yZWFkZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoanVkZ2UpO1xuICB9LFxuICBhZGRDbGFzczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5hbWUsIHJlZiwgcmVmMTtcbiAgICBuYW1lID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5kYXRhKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZSwgZWxlbWVudDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVsZW1lbnQgPSAkKFwiLmF1dG9tYXRpYy5vcGluaW9uLWZpZWxkLVwiICsgbmFtZSk7XG4gICAgICAgIGlmIChlbGVtZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAoZWxlbWVudCAhPSBudWxsID8gZWxlbWVudC5pcyhcInRkXCIpIDogdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICQoXCIuaW5zdGFuY2Utc2lnblwiLCBlbGVtZW50KS5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfVxuICAgIH0sIDEpO1xuICAgIHJldHVybiAnJztcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMuZGVmYXVsdERlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIsIHt9LCBsb2NhbGUpO1xuICB9O1xufVxuIiwiVHJhY2VzVGVtcGxhdGUuaGVscGVycyA9XG5cdGVxdWFsczogKGEsIGIpIC0+XG5cdFx0YSA9PSBiXG5cdGVtcHR5OiAoYSkgLT5cblx0XHRpZiBhXG5cdFx0XHRhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA8IDFcblx0XHRlbHNlXG5cdFx0XHR0cnVlXG5cdHVuZW1wdHk6IChhKSAtPlxuXHRcdGlmIGFcblx0XHRcdGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMFxuXHRcdGVsc2Vcblx0XHRcdGZhbHNlXG5cblx0YXBwZW5kOiAoYSwgYikgLT5cblx0XHRhICsgYlxuXG5cdGRhdGVGb3JtYXQ6IChkYXRlKSAtPlxuXHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpICYmIGRhdGU/LmdldEZ1bGxZZWFyKCkgPT0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpXG5cdFx0XHRcdHJldHVybiAkLmZvcm1hdC5kYXRlIG5ldyBEYXRlKGRhdGUpLCBcIk1NLWRkIEhIOm1tXCJcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuICQuZm9ybWF0LmRhdGUgbmV3IERhdGUoZGF0ZSksIFwieXl5eS1NTS1kZCBISDptbVwiXG5cblx0Z2V0U3RlcE5hbWU6IChzdGVwSWQpIC0+XG5cdFx0c3RlcCA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZVN0ZXAoc3RlcElkKVxuXHRcdGlmIHN0ZXBcblx0XHRcdHJldHVybiBzdGVwLm5hbWVcblx0XHRudWxsXG5cdHNob3dEZWxldGVCdXR0b246IChhcHByb3ZlZCkgLT5cblx0XHRpZiBhcHByb3ZlZCBhbmQgYXBwcm92ZWQudHlwZSA9PSAnY2MnIGFuZCBhcHByb3ZlZC5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpIGFuZCBhcHByb3ZlZC5pc19maW5pc2hlZCAhPSB0cnVlIGFuZCAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdGlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbjogKGFwcHJvdmVkKSAtPlxuXHRcdGFwcHJvdmVfYWRtaW5zID0gTWV0ZW9yLnNldHRpbmdzPy5wdWJsaWM/LndvcmtmbG93Py5hcHByb3ZlX2FkbWluc1xuXHRcdGlmIGFwcHJvdmVfYWRtaW5zPy5sZW5ndGhcblx0XHRcdGlzU2hvdyA9IGFwcHJvdmVfYWRtaW5zPy5jb250YWlucyBNZXRlb3IudXNlcklkKClcblx0XHR1bmxlc3MgaXNTaG93XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRyZXR1cm4gYXBwcm92ZWQuaGFuZGxlciA9PSBNZXRlb3IudXNlcklkKClcblx0aXNFZGl0aW5nOiAoKSAtPlxuXHRcdCByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5pc19lZGl0aW5nPy5nZXQoKVxuXHRpc1Nob3dEZXNjcmlwdGlvbjogKGFwcHJvdmVkKS0+XG5cdFx0IyBkZWJ1Z2dlclxuXHRcdGlmIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuaXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uIGFwcHJvdmVkXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdHJldHVybiBhcHByb3ZlZC5kZXNjcmlwdGlvbj8udG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMFxuXHRpc0NDOiAoYXBwcm92ZWQpIC0+XG5cdFx0aWYgYXBwcm92ZWQgYW5kIGFwcHJvdmVkLnR5cGUgPT0gJ2NjJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRnZXRBcHByb3ZlU3RhdHVzSWNvbjogKGFwcHJvdmVKdWRnZSkgLT5cblx0XHQj5bey57uT5p2f55qE5pi+56S65Li65qC45YeGL+mps+Wbni/lj5bmtojnlLPor7fvvIzlubbmmL7npLrlpITnkIbnirbmgIHlm77moIdcblx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9IHVuZGVmaW5lZFxuXHRcdHN3aXRjaCBhcHByb3ZlSnVkZ2Vcblx0XHRcdHdoZW4gJ2FwcHJvdmVkJ1xuXHRcdFx0XHQjIOW3suaguOWHhlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWNoZWNrbWFyay1yb3VuZCdcblx0XHRcdHdoZW4gJ3JlamVjdGVkJ1xuXHRcdFx0XHQjIOW3sumps+WbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWNsb3NlLXJvdW5kJ1xuXHRcdFx0d2hlbiAndGVybWluYXRlZCdcblx0XHRcdFx0IyDlt7Llj5bmtohcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtYmFuJ1xuXHRcdFx0d2hlbiAncmVhc3NpZ25lZCdcblx0XHRcdFx0IyDovaznrb7moLhcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1hbmRyb2lkLWNvbnRhY3QnXG5cdFx0XHR3aGVuICdyZWxvY2F0ZWQnXG5cdFx0XHRcdCMg6YeN5a6a5L2NXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYXJyb3ctc2hyaW5rJ1xuXHRcdFx0d2hlbiAncmV0cmlldmVkJ1xuXHRcdFx0XHQjIOW3suWPluWbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdmYSBmYS11bmRvJ1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICcnXG5cdFx0XHRcdGJyZWFrXG5cdFx0YXBwcm92ZVN0YXR1c0ljb25cblx0Z2V0QXBwcm92ZVN0YXR1c1RleHQ6IChhcHByb3ZlSnVkZ2UpIC0+XG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRcdGVsc2Vcblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcblx0XHQj5bey57uT5p2f55qE5pi+56S65Li65qC45YeGL+mps+Wbni/lj5bmtojnlLPor7fvvIzlubbmmL7npLrlpITnkIbnirbmgIHlm77moIdcblx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IHVuZGVmaW5lZFxuXHRcdHN3aXRjaCBhcHByb3ZlSnVkZ2Vcblx0XHRcdHdoZW4gJ2FwcHJvdmVkJ1xuXHRcdFx0XHQjIOW3suaguOWHhlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIGFwcHJvdmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JlamVjdGVkJ1xuXHRcdFx0XHQjIOW3sumps+WbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlamVjdGVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5raIXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZWFzc2lnbmVkJ1xuXHRcdFx0XHQjIOi9rOetvuaguFxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYXNzaWduZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0d2hlbiAncmVsb2NhdGVkJ1xuXHRcdFx0XHQjIOmHjeWumuS9jVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlbG9jYXRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZXRyaWV2ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5ZueXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0cmlldmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JldHVybmVkJ1xuXHRcdFx0XHQjIOW3sumAgOWbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHVybmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JlYWRlZCdcblx0XHRcdFx0IyDlt7LpmIVcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFkZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9ICcnXG5cdFx0XHRcdGJyZWFrXG5cdFx0YXBwcm92ZVN0YXR1c1RleHRcblx0X3Q6IChrZXkpLT5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXG5cblx0bXlBcHByb3ZlRGVzY3JpcHRpb246IChhcHByb3ZlSWQpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0bXlBcHByb3ZlID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8ubXlBcHByb3ZlPy5nZXQoKVxuXHRcdFx0XHRpZiBteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmlkID09IGFwcHJvdmVJZFxuXHRcdFx0XHRcdGlmICFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcblx0XHRcdFx0XHRcdHJldHVybiBteUFwcHJvdmU/LmRlc2NyaXB0aW9uIHx8IFwiXCJcblx0XHRcdFx0XHRyZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXG5cdGlzRm9yd2FyZDogKGFwcHJvdmVkKSAtPlxuXHRcdGlmIGFwcHJvdmVkIGFuZCBhcHByb3ZlZC50eXBlID09ICdmb3J3YXJkJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRzaG93Rm9yd2FyZERlbGV0ZUJ1dHRvbjogKGFwcHJvdmUpIC0+XG5cdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpIGlzIDBcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGlmIGFwcHJvdmUgYW5kIGFwcHJvdmUudHlwZSA9PSAnZm9yd2FyZCcgYW5kIGFwcHJvdmUuZnJvbV91c2VyID09IE1ldGVvci51c2VySWQoKSBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSBhbmQgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcblx0XHRcdHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG5cdFx0XHRyZW5kZXJlci5saW5rID0gKCBocmVmLCB0aXRsZSwgdGV4dCApIC0+XG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcblx0XHRcdHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge3JlbmRlcmVyOnJlbmRlcmVyfSkpXG5cdGlzRGlzdHJpYnV0ZTogKGFwcHJvdmUpIC0+XG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRzaG93RGlzdHJpYnV0ZURlbGV0ZUJ1dHRvbjogKGFwcHJvdmUpIC0+XG5cdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpIGlzIDBcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJyBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSBhbmQgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJyBhbmQgU3RlZWRvcy5pc0xlZ2FsVmVyc2lvbignJyxcIndvcmtmbG93LmVudGVycHJpc2VcIilcblx0XHRcdCMg5rWB56iL566h55CG5ZGY5ZKM57O757uf566h55CG5ZGY77yM5Y+v5Lul5omn6KGM5Lu75L2V5oOF5Ya15LiL55qE5paH5Lu25Y+W5raI5YiG5Y+RXG5cdFx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBhcHByb3ZlLmluc3RhbmNlfSwge2ZpZWxkczoge2Zsb3c6IDEsIHNwYWNlOiAxfX0pXG5cdFx0XHRpZiBpbnMgYW5kIGlucy5mbG93IGFuZCBpbnMuc3BhY2Vcblx0XHRcdFx0aWYgV29ya2Zsb3dNYW5hZ2VyLmhhc0Zsb3dBZG1pblBlcm1pc3Npb24oaW5zLmZsb3csIGlucy5zcGFjZSwgTWV0ZW9yLnVzZXJJZCgpKVxuXHRcdFx0XHRcdHJldHVybiB0cnVlXG5cblx0XHRcdGlmIGFwcHJvdmUuZnJvbV91c2VyID09IE1ldGVvci51c2VySWQoKVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cdFx0ZmFsc2VcblxuXHRmaW5pc2hEYXRlU2NoZW1hOiAoKSAtPlxuXHRcdGlmIFN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKVxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xuXHRcdFx0XHRmaW5pc2hfZGF0ZToge1xuXHRcdFx0XHRcdGF1dG9mb3JtOiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImRhdGV0aW1lLWxvY2FsXCJcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG9wdGlvbmFsOiBmYWxzZSxcblx0XHRcdFx0XHR0eXBlOiBEYXRlXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xuXHRcdFx0XHRmaW5pc2hfZGF0ZToge1xuXHRcdFx0XHRcdGF1dG9mb3JtOiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImJvb3RzdHJhcC1kYXRldGltZXBpY2tlclwiXG5cdFx0XHRcdFx0XHRyZWFkb25seTogdHJ1ZVxuXHRcdFx0XHRcdFx0ZGF0ZVRpbWVQaWNrZXJPcHRpb25zOntcblx0XHRcdFx0XHRcdFx0Zm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIixcblx0XHRcdFx0XHRcdFx0aWdub3JlUmVhZG9ubHk6dHJ1ZSxcblx0XHRcdFx0XHRcdFx0bG9jYWxlOiBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpLFxuXHRcdFx0XHRcdFx0XHR3aWRnZXRQb3NpdGlvbmluZzp7XG5cdFx0XHRcdFx0XHRcdFx0aG9yaXpvbnRhbDogJ3JpZ2h0J1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRvcHRpb25hbDogZmFsc2UsXG5cdFx0XHRcdFx0dHlwZTogRGF0ZVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXG5cdGZpbmlzaERhdGVWYWx1ZXM6ICgpIC0+XG5cdFx0cmV0dXJuIHtcblx0XHRcdGZpbmlzaF9kYXRlOnRoaXMuZmluaXNoX2RhdGVcblx0XHR9O1xuXG5cdCMjI1xuICAgIFx05q2k5Ye95pWw55So5LqO5o6n5Yi25piv5ZCm5pi+56S6dHJhY2VzIHZpZXdcbiAgICBcdHRydWU6IOaYvuekunRyYWNlcyB2aWV3LOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjuaYr+ebtOaOpeWumuS9jeWIsHRyYWNlcyB2aWV3XG4gICAgXHRmYWxzZTog5LiN5pi+56S6dHJhY2VzIHZpZXfvvIznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI4s5LulTW9kYWwg5pa55byP5pi+56S6dHJhY2VzIHZpZXdcblx0IyMjXG5cdHNob3dUcmFjZXNWaWV3OiAoZm9ybSwgZm9ybV92ZXJzaW9uKS0+XG4jXHRcdHJldHVybiAhKEluc3RhbmNlTWFuYWdlci5pc1RhYmxlU3R5bGUoZm9ybSkgJiYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlc09waW5pb25GaWVsZChmb3JtLCBmb3JtX3ZlcnNpb24pKVxuXG5cdFx0c2hvd19tb2RhbF90cmFjZXNfbGlzdCA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoe3NwYWNlOiBTZXNzaW9uLmdldChcInNwYWNlSWRcIiksIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCJ9KT8udmFsdWVzIHx8IGZhbHNlXG5cblx0XHRyZXR1cm4gIXNob3dfbW9kYWxfdHJhY2VzX2xpc3RcblxuXHRnZXRJbnN0YW5jZVN0YXRlVGV4dDogKGluc3RhbmNlX2lkKS0+XG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRcdGVsc2Vcblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcblxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkfSwge2ZpZWxkczoge3N0YXRlOiAxLCBpc19yZWFkOiAxfX0pXG5cdFx0aWYgbm90IGluc1xuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oJ2luc3RhbmNlX2RlbGV0ZWQnLCB7fSwgbG9jYWxlKVxuXG5cdFx0dGV4dCA9ICcnXG5cdFx0aWYgaW5zLnN0YXRlIGlzICdjb21wbGV0ZWQnXG5cdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygnY29tcGxldGVkJywge30sIGxvY2FsZSlcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAncGVuZGluZydcblx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdwZW5kaW5nJywge30sIGxvY2FsZSlcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAnZHJhZnQnXG5cdFx0XHRpZiBpbnMuaXNfcmVhZFxuXHRcdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9yZWFkJywge30sIGxvY2FsZSlcblx0XHRcdGVsc2Vcblx0XHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfbm90X3lldF9oYW5kbGVkJywge30sIGxvY2FsZSlcblxuXHRcdHJldHVybiB0ZXh0XG5cblx0Z2V0SW5zdGFuY2VTdGF0ZUNvbG9yOiAoaW5zdGFuY2VfaWQpLT5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHtmaWVsZHM6IHtzdGF0ZTogMSwgaXNfcmVhZDogMX19KVxuXHRcdGlmIG5vdCBpbnNcblx0XHRcdHJldHVybiBcIlwiXG5cblx0XHRjbGEgPSAnJ1xuXHRcdGlmIGlucy5zdGF0ZSBpcyAnZHJhZnQnXG5cdFx0XHRpZiBpbnMuaXNfcmVhZFxuXHRcdFx0XHRjbGEgPSAnYmx1ZSdcblx0XHRcdGVsc2Vcblx0XHRcdFx0Y2xhID0gJ3JlZCdcblx0XHRyZXR1cm4gY2xhXG5cblx0Zmlyc3RUcmFjZTogKGluZGV4KS0+XG5cdFx0cmV0dXJuIGluZGV4IGlzIDBcblxuXHRsYXN0X2Rpc3RyaWJ1dGVfZnJvbTogKGluc3RhbmNlX2lkKS0+XG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWQsIGRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZTogeyRleGlzdHM6IHRydWV9fSx7ZmllbGRzOntjcmVhdGVkOiAxLCBjcmVhdGVkX2J5OiAxfX0pXG5cdFx0aWYgaW5zXG5cdFx0XHRkaXNfaW5mbyA9IHt9XG5cdFx0XHR1c2VyID0ge31cblx0XHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0XHR1c2VyID0gVVVmbG93X2FwaS5nZXROYW1lRm9yVXNlcihpbnMuY3JlYXRlZF9ieSlcblx0XHRcdGVsc2UgaWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRcdHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtfaWQ6IGlucy5jcmVhdGVkX2J5fSwge2ZpZWxkczoge25hbWU6IDF9fSlcblxuXHRcdFx0aWYgdXNlci5uYW1lXG5cdFx0XHRcdGRpc19pbmZvLmZyb21fdXNlcl9uYW1lID0gdXNlci5uYW1lXG5cdFx0XHRcdGRpc19pbmZvLmNyZWF0ZWQgPSBpbnMuY3JlYXRlZFxuXG5cdFx0XHRpZiBub3QgXy5pc0VtcHR5KGRpc19pbmZvKVxuXHRcdFx0XHRyZXR1cm4gZGlzX2luZm9cblx0XHRyZXR1cm5cblxuXHRpc0NDT3JEaXN0cmlidXRlT3JGb3J3YXJkVGVybWluYXRlZDogKGFwcHJvdmUpLT5cblx0XHRpZiAoYXBwcm92ZS50eXBlIGlzICdjYycgb3IgYXBwcm92ZS50eXBlIGlzICdkaXN0cmlidXRlJyBvciBhcHByb3ZlLnR5cGUgaXMgJ2ZvcndhcmQnKSBhbmQgYXBwcm92ZS5qdWRnZSBpcyAndGVybWluYXRlZCdcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0cmV0dXJuIGZhbHNlXG5cblx0anVkZ2VUZXJtaW5hdGVkOiAoanVkZ2UpLT5cblx0XHRyZXR1cm4ganVkZ2UgaXMgJ3Rlcm1pbmF0ZWQnXG5cblx0aW5zdGFuY2VFeGlzdHM6IChpbnN0YW5jZV9pZCktPlxuXHRcdHJldHVybiAhIWRiLmluc3RhbmNlcy5maW5kKGluc3RhbmNlX2lkKS5jb3VudCgpXG5cblx0YWdlbnREZXNjcmlwdGlvbjogKHVzZXJOYW1lKS0+XG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRcdGVsc2Vcblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcblxuXHRcdHJldHVybiBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7dXNlck5hbWU6IHVzZXJOYW1lfSwgbG9jYWxlKVxuXHR0cmFjZU5hbWU6IChpbnN0YW5jZV9pZCwgdHJhY2VJZCktPlxuXHRcdHJldHVybiBfLmZpbmQoZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQsIHtmaWVsZHM6IHt0cmFjZXM6IDF9fSk/LnRyYWNlcywgKHRyYWNlKS0+XG5cdFx0XHRcdFx0cmV0dXJuIHRyYWNlLl9pZCA9PSAgdHJhY2VJZFxuXHRcdCk/Lm5hbWVcbmlmIE1ldGVvci5pc1NlcnZlclxuXHRUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLmRhdGVGb3JtYXQgPSAoZGF0ZSktPlxuXHRcdGlmIGRhdGVcblx0XHRcdHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcblx0XHRcdHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZShkYXRlLCB1dGNPZmZzZXQpO1xuXG5cdFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuX3QgPSAoa2V5KS0+XG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcblxuXHRUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLnNob3dEZWxldGVCdXR0b24gPSAoYXBwcm92ZWQpIC0+XG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5UcmFjZXNUZW1wbGF0ZS5ldmVudHMgPVxuXHQnY2xpY2sgLmNjLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXHRcdGlmIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nICogMSAhPSAxXG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDFcblx0XHRcdCQoXCJpXCIsZXZlbnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJmYS1zcGluXCIpXG5cdFx0XHRpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKVxuXHRcdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxuXHRcdFx0IyBDQUxMIOWIoOmZpGFwcHJvdmXlh73mlbDjgIJcblx0XHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0TWV0ZW9yLmNhbGwgJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgKGVyciwgcmVzdWx0KSAtPlxuXHRcdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIilcblx0XHRcdFx0aWYgZXJyXG5cdFx0XHRcdFx0dG9hc3RyLmVycm9yIGVyclxuXHRcdFx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nID0gMFxuXHRcdFx0XHRcdCQoXCJpXCIsZXZlbnQuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJmYS1zcGluXCIpXG5cdFx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXG5cdFx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcblx0XHRcdFx0XHRpZiAkKFwiLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbFwiKS5sZW5ndGhcblx0XHRcdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0XHRyZXR1cm5cblx0XHRcdHJldHVyblxuXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tY2MtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXG5cdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxuXHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXG5cdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0TWV0ZW9yLmNhbGwgJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgKGVyciwgcmVzdWx0KSAtPlxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0XHRpZiBlcnJcblx0XHRcdFx0dG9hc3RyLmVycm9yIGVyclxuXHRcdFx0aWYgcmVzdWx0ID09IHRydWVcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcblx0XHRcdFx0TW9kYWwuaGlkZSBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiXG5cdFx0XHRyZXR1cm5cblx0XHRyZXR1cm5cblxuXHQnY2xpY2sgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0TW9kYWwuc2hvdyBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzXG5cblx0J3RhcGhvbGQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0TW9kYWwuc2hvdyBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzXG5cblx0J3RhcGVuZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHQjIOS4iui/sOmVv+aMieaJk+W8gGFwcHJvdmXor6bnu4bnqpflj6PnmoTkuovku7Z0YXBob2xk5Lya6Kem5Y+R5omT5byA56qX5Y+j5ZCO55qEdG91Y2hlbmTkuovku7bvvIzpgKDmiJDplb/mjInmiZPlvIDnqpflj6PlkI7kuIDmlL7miYvnqpflj6PlsLHlj4jlhbPmjonkuoZcblx0XHQjIOi/memHjOWPquiDvemAmui/h+mYu+atonRhcGVuZOS6i+S7tijkuI3lj6/ku6XnlKh0b3VjaGVuZOS6i+S7tu+8jOWboOS4uuS8muW9seWTjXRhcGhvbGTlip/og73vvIzpgKDmiJDmsqHmnInplb/mjInmlYjmnpzml7bkuZ/kvJrop6blj5F0YXBob2xk5LqL5Lu2KeWGkuazoeadpemBv+WFjemXrumimOOAglxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXG5cdFx0dHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlXG5cdFx0IyBDQUxMIOWIoOmZpGFwcHJvdmXlh73mlbDjgIJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcblx0XHRNZXRlb3IuY2FsbCAnZm9yd2FyZF9yZW1vdmUnLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0aWYgZXJyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBUQVBpMThuLl9fKGVyci5yZWFzb24pXG5cdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwiaW5zdGFuY2VfYXBwcm92ZV9mb3J3YXJkX3JlbW92ZV9zdWNjZXNzXCIpKTtcblx0XHRcdFx0TW9kYWwuaGlkZSBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiXG5cdFx0XHRyZXR1cm5cblx0XHRyZXR1cm5cblxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtaW5zdGFuY2UtbG9vayc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0Zm9yd2FyZF9zcGFjZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRzcGFjZVxuXHRcdGZvcndhcmRfaW5zdGFuY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkaW5zdGFuY2Vcblx0XHRTdGVlZG9zLm9wZW5XaW5kb3coU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZm9yd2FyZF9zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBmb3J3YXJkX2luc3RhbmNlKSlcblxuXHQnY2xpY2sgLmJ0bi1tb2RpZmljYXRpb24nXHQ6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0dGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuXHRcdHVubGVzcyBTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKClcblx0XHRcdFRyYWNrZXIuYWZ0ZXJGbHVzaCAtPlxuXHRcdFx0XHQjIOaYvuekuuaXpeW/l+eahOaXtuWAmeaKiua7muWKqOadoeW+gOS4i+enu+eCue+8jOiuqeaXpeacn+aOp+S7tuaYvuekuuWHuuS4gOmDqOWIhu+8jOS7pemBv+WFjeeUqOaIt+eci+S4jeWIsOaXpeacn+aOp+S7tlxuXHRcdFx0XHQkKFwiI2luc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbCAjZmluaXNoX2lucHV0XCIpLm9uIFwiZHAuc2hvd1wiLCAoKSAtPlxuXHRcdFx0XHRcdCQoXCIubW9kYWwtYm9keVwiKS5zY3JvbGxUb3AoMTAwKVxuXG5cdCdjbGljayAuYnRuLWNhbmNlbEJ1dCcgOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXG5cdFx0dGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuXG5cdCdjbGljayAuYnRuLXNhdmVCdXQnIDogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHQjIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKVxuXG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXG5cdFx0dHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlXG5cdFx0b3Bpbmlvbl9pbnB1dCA9ICQoJyNvcGluaW9uX2lucHV0JykudmFsKClcblx0XHRmaW5pc2hfaW5wdXQgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKFwiZmluaXNoX2RhdGVcIiwgXCJmaW5pc2hEYXRlQXV0b0Zvcm1cIilcblxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxuXHRcdE1ldGVvci5jYWxsICdjaGFuZ2VfYXBwcm92ZV9pbmZvJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBvcGluaW9uX2lucHV0LCBmaW5pc2hfaW5wdXQsIChlcnIsIHJlc3VsdCktPlxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0XHRpZiBlcnJcblx0XHRcdFx0dG9hc3RyLmVycm9yIFRBUGkxOG4uX18oZXJyLnJlYXNvbilcblx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKHQoXCJpbnN0YW5jZV9hcHByb3ZlX21vZGFsX21vZGlmaWNhdGlvbnNhdmVcIikpXG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0cmV0dXJuXG5cblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1kaXN0cmlidXRlLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHRNb2RhbC5hbGxvd011bHRpcGxlID0gdHJ1ZVxuXHRcdE1vZGFsLnNob3cgJ2NhbmNlbF9kaXN0cmlidXRlX21vZGFsJ1xuIiwiVHJhY2VzVGVtcGxhdGUuaGVscGVycyA9IHtcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIGVtcHR5OiBmdW5jdGlvbihhKSB7XG4gICAgaWYgKGEpIHtcbiAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA8IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24oYSkge1xuICAgIGlmIChhKSB7XG4gICAgICByZXR1cm4gYS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBhcHBlbmQ6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSArIGI7XG4gIH0sXG4gIGRhdGVGb3JtYXQ6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpICYmIChkYXRlICE9IG51bGwgPyBkYXRlLmdldEZ1bGxZZWFyKCkgOiB2b2lkIDApID09PSAobmV3IERhdGUpLmdldEZ1bGxZZWFyKCkpIHtcbiAgICAgIHJldHVybiAkLmZvcm1hdC5kYXRlKG5ldyBEYXRlKGRhdGUpLCBcIk1NLWRkIEhIOm1tXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJC5mb3JtYXQuZGF0ZShuZXcgRGF0ZShkYXRlKSwgXCJ5eXl5LU1NLWRkIEhIOm1tXCIpO1xuICAgIH1cbiAgfSxcbiAgZ2V0U3RlcE5hbWU6IGZ1bmN0aW9uKHN0ZXBJZCkge1xuICAgIHZhciBzdGVwO1xuICAgIHN0ZXAgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VTdGVwKHN0ZXBJZCk7XG4gICAgaWYgKHN0ZXApIHtcbiAgICAgIHJldHVybiBzdGVwLm5hbWU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBzaG93RGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnY2MnICYmIGFwcHJvdmVkLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpICYmIGFwcHJvdmVkLmlzX2ZpbmlzaGVkICE9PSB0cnVlICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICB2YXIgYXBwcm92ZV9hZG1pbnMsIGlzU2hvdywgcmVmLCByZWYxLCByZWYyO1xuICAgIGFwcHJvdmVfYWRtaW5zID0gKHJlZiA9IE1ldGVvci5zZXR0aW5ncykgIT0gbnVsbCA/IChyZWYxID0gcmVmW1wicHVibGljXCJdKSAhPSBudWxsID8gKHJlZjIgPSByZWYxLndvcmtmbG93KSAhPSBudWxsID8gcmVmMi5hcHByb3ZlX2FkbWlucyA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoYXBwcm92ZV9hZG1pbnMgIT0gbnVsbCA/IGFwcHJvdmVfYWRtaW5zLmxlbmd0aCA6IHZvaWQgMCkge1xuICAgICAgaXNTaG93ID0gYXBwcm92ZV9hZG1pbnMgIT0gbnVsbCA/IGFwcHJvdmVfYWRtaW5zLmNvbnRhaW5zKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGlmICghaXNTaG93KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlZC5oYW5kbGVyID09PSBNZXRlb3IudXNlcklkKCk7XG4gIH0sXG4gIGlzRWRpdGluZzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlZjtcbiAgICByZXR1cm4gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkuaXNfZWRpdGluZykgIT0gbnVsbCA/IHJlZi5nZXQoKSA6IHZvaWQgMDtcbiAgfSxcbiAgaXNTaG93RGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoVHJhY2VzVGVtcGxhdGUuaGVscGVycy5pc1Nob3dNb2RpZmljYXRpb25CdXR0b24oYXBwcm92ZWQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuICgocmVmID0gYXBwcm92ZWQuZGVzY3JpcHRpb24pICE9IG51bGwgPyByZWYudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoIDogdm9pZCAwKSA+IDA7XG4gIH0sXG4gIGlzQ0M6IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgaWYgKGFwcHJvdmVkICYmIGFwcHJvdmVkLnR5cGUgPT09ICdjYycpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGdldEFwcHJvdmVTdGF0dXNJY29uOiBmdW5jdGlvbihhcHByb3ZlSnVkZ2UpIHtcbiAgICB2YXIgYXBwcm92ZVN0YXR1c0ljb247XG4gICAgYXBwcm92ZVN0YXR1c0ljb24gPSB2b2lkIDA7XG4gICAgc3dpdGNoIChhcHByb3ZlSnVkZ2UpIHtcbiAgICAgIGNhc2UgJ2FwcHJvdmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jaGVja21hcmstcm91bmQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlamVjdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jbG9zZS1yb3VuZCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLWJhbic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhc3NpZ25lZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYW5kcm9pZC1jb250YWN0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWxvY2F0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFycm93LXNocmluayc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0cmlldmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtdW5kbyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlU3RhdHVzSWNvbjtcbiAgfSxcbiAgZ2V0QXBwcm92ZVN0YXR1c1RleHQ6IGZ1bmN0aW9uKGFwcHJvdmVKdWRnZSkge1xuICAgIHZhciBhcHByb3ZlU3RhdHVzVGV4dCwgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKGFwcHJvdmVKdWRnZSkge1xuICAgICAgY2FzZSAnYXBwcm92ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIGFwcHJvdmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVqZWN0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlamVjdGVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYXNzaWduZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYXNzaWduZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWxvY2F0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlbG9jYXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHJpZXZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0cmlldmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0dXJuZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHVybmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhZGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFkZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9ICcnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGFwcHJvdmVTdGF0dXNUZXh0O1xuICB9LFxuICBfdDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcbiAgfSxcbiAgbXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVJZCkge1xuICAgIHZhciBteUFwcHJvdmUsIHJlZiwgcmVmMTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5teUFwcHJvdmUpICE9IG51bGwgPyByZWYxLmdldCgpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAobXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKCFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiAobXlBcHByb3ZlICE9IG51bGwgPyBteUFwcHJvdmUuZGVzY3JpcHRpb24gOiB2b2lkIDApIHx8IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGlzRm9yd2FyZDogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICBpZiAoYXBwcm92ZWQgJiYgYXBwcm92ZWQudHlwZSA9PT0gJ2ZvcndhcmQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzaG93Rm9yd2FyZERlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUgJiYgYXBwcm92ZS50eXBlID09PSAnZm9yd2FyZCcgJiYgYXBwcm92ZS5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbWFya0Rvd25Ub0h0bWw6IGZ1bmN0aW9uKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgdmFyIHJlbmRlcmVyO1xuICAgIGlmIChtYXJrRG93blN0cmluZykge1xuICAgICAgcmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcbiAgICAgIHJlbmRlcmVyLmxpbmsgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgICByZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIgKyBocmVmICsgXCInIHRpdGxlPSdcIiArIHRpdGxlICsgXCInPlwiICsgdGV4dCArIFwiPC9hPlwiO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge1xuICAgICAgICByZW5kZXJlcjogcmVuZGVyZXJcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sXG4gIGlzRGlzdHJpYnV0ZTogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChhcHByb3ZlICYmIGFwcHJvdmUudHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzaG93RGlzdHJpYnV0ZURlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZSAmJiBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJyAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJyAmJiBTdGVlZG9zLmlzTGVnYWxWZXJzaW9uKCcnLCBcIndvcmtmbG93LmVudGVycHJpc2VcIikpIHtcbiAgICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBhcHByb3ZlLmluc3RhbmNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZsb3c6IDEsXG4gICAgICAgICAgc3BhY2U6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoaW5zICYmIGlucy5mbG93ICYmIGlucy5zcGFjZSkge1xuICAgICAgICBpZiAoV29ya2Zsb3dNYW5hZ2VyLmhhc0Zsb3dBZG1pblBlcm1pc3Npb24oaW5zLmZsb3csIGlucy5zcGFjZSwgTWV0ZW9yLnVzZXJJZCgpKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXBwcm92ZS5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBmaW5pc2hEYXRlU2NoZW1hOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG4gICAgICAgIGZpbmlzaF9kYXRlOiB7XG4gICAgICAgICAgYXV0b2Zvcm06IHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGF0ZXRpbWUtbG9jYWxcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICAgIHR5cGU6IERhdGVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcbiAgICAgICAgZmluaXNoX2RhdGU6IHtcbiAgICAgICAgICBhdXRvZm9ybToge1xuICAgICAgICAgICAgdHlwZTogXCJib290c3RyYXAtZGF0ZXRpbWVwaWNrZXJcIixcbiAgICAgICAgICAgIHJlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgZGF0ZVRpbWVQaWNrZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgIGZvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCIsXG4gICAgICAgICAgICAgIGlnbm9yZVJlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgICBsb2NhbGU6IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIiksXG4gICAgICAgICAgICAgIHdpZGdldFBvc2l0aW9uaW5nOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ3JpZ2h0J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgICAgdHlwZTogRGF0ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGZpbmlzaERhdGVWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBmaW5pc2hfZGF0ZTogdGhpcy5maW5pc2hfZGF0ZVxuICAgIH07XG4gIH0sXG5cbiAgLypcbiAgICAgXHTmraTlh73mlbDnlKjkuo7mjqfliLbmmK/lkKbmmL7npLp0cmFjZXMgdmlld1xuICAgICBcdHRydWU6IOaYvuekunRyYWNlcyB2aWV3LOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjuaYr+ebtOaOpeWumuS9jeWIsHRyYWNlcyB2aWV3XG4gICAgIFx0ZmFsc2U6IOS4jeaYvuekunRyYWNlcyB2aWV377yM562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCOLOS7pU1vZGFsIOaWueW8j+aYvuekunRyYWNlcyB2aWV3XG4gICAqL1xuICBzaG93VHJhY2VzVmlldzogZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gICAgdmFyIHJlZiwgc2hvd19tb2RhbF90cmFjZXNfbGlzdDtcbiAgICBzaG93X21vZGFsX3RyYWNlc19saXN0ID0gKChyZWYgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBTZXNzaW9uLmdldChcInNwYWNlSWRcIiksXG4gICAgICBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwiXG4gICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICByZXR1cm4gIXNob3dfbW9kYWxfdHJhY2VzX2xpc3Q7XG4gIH0sXG4gIGdldEluc3RhbmNlU3RhdGVUZXh0OiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBpbnMsIGxvY2FsZSwgdGV4dDtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfcmVhZDogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfZGVsZXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgICB0ZXh0ID0gJyc7XG4gICAgaWYgKGlucy5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdjb21wbGV0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICB0ZXh0ID0gVEFQaTE4bi5fXygncGVuZGluZycsIHt9LCBsb2NhbGUpO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAnZHJhZnQnKSB7XG4gICAgICBpZiAoaW5zLmlzX3JlYWQpIHtcbiAgICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfcmVhZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfbm90X3lldF9oYW5kbGVkJywge30sIGxvY2FsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9LFxuICBnZXRJbnN0YW5jZVN0YXRlQ29sb3I6IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgdmFyIGNsYSwgaW5zO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX3JlYWQ6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNsYSA9ICcnO1xuICAgIGlmIChpbnMuc3RhdGUgPT09ICdkcmFmdCcpIHtcbiAgICAgIGlmIChpbnMuaXNfcmVhZCkge1xuICAgICAgICBjbGEgPSAnYmx1ZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGEgPSAncmVkJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsYTtcbiAgfSxcbiAgZmlyc3RUcmFjZTogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggPT09IDA7XG4gIH0sXG4gIGxhc3RfZGlzdHJpYnV0ZV9mcm9tOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBkaXNfaW5mbywgaW5zLCB1c2VyO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICBkaXN0cmlidXRlX2Zyb21faW5zdGFuY2U6IHtcbiAgICAgICAgJGV4aXN0czogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjcmVhdGVkOiAxLFxuICAgICAgICBjcmVhdGVkX2J5OiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucykge1xuICAgICAgZGlzX2luZm8gPSB7fTtcbiAgICAgIHVzZXIgPSB7fTtcbiAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgICAgdXNlciA9IFVVZmxvd19hcGkuZ2V0TmFtZUZvclVzZXIoaW5zLmNyZWF0ZWRfYnkpO1xuICAgICAgfSBlbHNlIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgICAgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIF9pZDogaW5zLmNyZWF0ZWRfYnlcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodXNlci5uYW1lKSB7XG4gICAgICAgIGRpc19pbmZvLmZyb21fdXNlcl9uYW1lID0gdXNlci5uYW1lO1xuICAgICAgICBkaXNfaW5mby5jcmVhdGVkID0gaW5zLmNyZWF0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoIV8uaXNFbXB0eShkaXNfaW5mbykpIHtcbiAgICAgICAgcmV0dXJuIGRpc19pbmZvO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQ6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICBpZiAoKGFwcHJvdmUudHlwZSA9PT0gJ2NjJyB8fCBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJyB8fCBhcHByb3ZlLnR5cGUgPT09ICdmb3J3YXJkJykgJiYgYXBwcm92ZS5qdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBqdWRnZVRlcm1pbmF0ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIGp1ZGdlID09PSAndGVybWluYXRlZCc7XG4gIH0sXG4gIGluc3RhbmNlRXhpc3RzOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHJldHVybiAhIWRiLmluc3RhbmNlcy5maW5kKGluc3RhbmNlX2lkKS5jb3VudCgpO1xuICB9LFxuICBhZ2VudERlc2NyaXB0aW9uOiBmdW5jdGlvbih1c2VyTmFtZSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICAgIGlmIChsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIik7XG4gICAgfVxuICAgIHJldHVybiBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICB1c2VyTmFtZTogdXNlck5hbWVcbiAgICB9LCBsb2NhbGUpO1xuICB9LFxuICB0cmFjZU5hbWU6IGZ1bmN0aW9uKGluc3RhbmNlX2lkLCB0cmFjZUlkKSB7XG4gICAgdmFyIHJlZiwgcmVmMTtcbiAgICByZXR1cm4gKHJlZiA9IF8uZmluZCgocmVmMSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyByZWYxLnRyYWNlcyA6IHZvaWQgMCwgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIHJldHVybiB0cmFjZS5faWQgPT09IHRyYWNlSWQ7XG4gICAgfSkpICE9IG51bGwgPyByZWYubmFtZSA6IHZvaWQgMDtcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLmRhdGVGb3JtYXQgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIHV0Y09mZnNldDtcbiAgICBpZiAoZGF0ZSkge1xuICAgICAgdXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldDtcbiAgICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZShkYXRlLCB1dGNPZmZzZXQpO1xuICAgIH1cbiAgfTtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5fdCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICB9O1xuICBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLnNob3dEZWxldGVCdXR0b24gPSBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cblxuVHJhY2VzVGVtcGxhdGUuZXZlbnRzID0ge1xuICAnY2xpY2sgLmNjLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZDtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgKiAxICE9PSAxKSB7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDE7XG4gICAgICAkKFwiaVwiLCBldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImZhLXNwaW5cIik7XG4gICAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBNZXRlb3IuY2FsbCgnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICB0b2FzdHIuZXJyb3IoZXJyKTtcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDA7XG4gICAgICAgICAgJChcImlcIiwgZXZlbnQuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJmYS1zcGluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xuICAgICAgICAgIGlmICgkKFwiLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbFwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tY2MtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBpbnN0YW5jZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgIE1ldGVvci5jYWxsKCdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihlcnIpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICB0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xuICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAnY2xpY2sgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHJldHVybiBNb2RhbC5zaG93KFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXMpO1xuICB9LFxuICAndGFwaG9sZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIE1vZGFsLnNob3coXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIiwgdGhpcyk7XG4gIH0sXG4gICd0YXBlbmQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBpbnN0YW5jZUlkLCB0cmFjZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgdHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlO1xuICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICBNZXRlb3IuY2FsbCgnZm9yd2FyZF9yZW1vdmUnLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihUQVBpMThuLl9fKGVyci5yZWFzb24pKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcImluc3RhbmNlX2FwcHJvdmVfZm9yd2FyZF9yZW1vdmVfc3VjY2Vzc1wiKSk7XG4gICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1pbnN0YW5jZS1sb29rJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGZvcndhcmRfaW5zdGFuY2UsIGZvcndhcmRfc3BhY2U7XG4gICAgZm9yd2FyZF9zcGFjZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRzcGFjZTtcbiAgICBmb3J3YXJkX2luc3RhbmNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZGluc3RhbmNlO1xuICAgIHJldHVybiBTdGVlZG9zLm9wZW5XaW5kb3coU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZm9yd2FyZF9zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBmb3J3YXJkX2luc3RhbmNlKSk7XG4gIH0sXG4gICdjbGljayAuYnRuLW1vZGlmaWNhdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcbiAgICBpZiAoIVN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKSkge1xuICAgICAgcmV0dXJuIFRyYWNrZXIuYWZ0ZXJGbHVzaChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQoXCIjaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsICNmaW5pc2hfaW5wdXRcIikub24oXCJkcC5zaG93XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKFwiLm1vZGFsLWJvZHlcIikuc2Nyb2xsVG9wKDEwMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmJ0bi1jYW5jZWxCdXQnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuICB9LFxuICAnY2xpY2sgLmJ0bi1zYXZlQnV0JzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgZmluaXNoX2lucHV0LCBpbnN0YW5jZUlkLCBvcGluaW9uX2lucHV0LCB0cmFjZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgdHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlO1xuICAgIG9waW5pb25faW5wdXQgPSAkKCcjb3Bpbmlvbl9pbnB1dCcpLnZhbCgpO1xuICAgIGZpbmlzaF9pbnB1dCA9IEF1dG9Gb3JtLmdldEZpZWxkVmFsdWUoXCJmaW5pc2hfZGF0ZVwiLCBcImZpbmlzaERhdGVBdXRvRm9ybVwiKTtcbiAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgcmV0dXJuIE1ldGVvci5jYWxsKCdjaGFuZ2VfYXBwcm92ZV9pbmZvJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBvcGluaW9uX2lucHV0LCBmaW5pc2hfaW5wdXQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihUQVBpMThuLl9fKGVyci5yZWFzb24pKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3ModChcImluc3RhbmNlX2FwcHJvdmVfbW9kYWxfbW9kaWZpY2F0aW9uc2F2ZVwiKSk7XG4gICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZGlzdHJpYnV0ZS1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIE1vZGFsLmFsbG93TXVsdGlwbGUgPSB0cnVlO1xuICAgIHJldHVybiBNb2RhbC5zaG93KCdjYW5jZWxfZGlzdHJpYnV0ZV9tb2RhbCcpO1xuICB9XG59O1xuIiwiUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzID1cblx0c2hvd1JlbGF0ZWRJbnN0YWNlczogLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGVsc2Vcblx0XHRcdGlucyA9IHRoaXMuaW5zdGFuY2Vcblx0XHRpZiBpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzICYmIF8uaXNBcnJheShpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzKVxuXHRcdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzfX0sIHtmaWVsZHM6IHtzcGFjZTogMSwgbmFtZTogMX19KS5jb3VudCgpID4gMFxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0cmVsYXRlZF9pbnN0YWNlczogLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGVsc2Vcblx0XHRcdGlucyA9IHRoaXMuaW5zdGFuY2Vcblx0XHRpZiBpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzICYmIF8uaXNBcnJheShpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzKVxuXHRcdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7c3BhY2U6IDEsIG5hbWU6IDF9fSkuZmV0Y2goKVxuXG5cdHJlbGF0ZWRfaW5zdGFjZV91cmw6IChpbnMpIC0+XG5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKVxuXHRcdFx0cmV0dXJuICcnXG5cblx0XHRhYnNvbHV0ZSA9IGZhbHNlXG5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZVxuXHRcdGlmIGFic29sdXRlXG5cdFx0XHRyZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIraW5zLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBpbnMuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2lucy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXG5cblx0X3Q6IChrZXkpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKGtleSlcblx0XHRlbHNlXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cblx0c2hvd19kZWxldGU6ICgpLT5cblx0XHRpZiAhTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRcdHJldHVybiBpbnMuc3RhdGUgPT0gJ2RyYWZ0JyIsIlJlbGF0ZWRJbnN0YW5jZXMuaGVscGVycyA9IHtcbiAgc2hvd1JlbGF0ZWRJbnN0YWNlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zID0gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG4gICAgaWYgKChpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkgJiYgXy5pc0FycmF5KGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSkge1xuICAgICAgaWYgKGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXNcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmNvdW50KCkgPiAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICByZWxhdGVkX2luc3RhY2VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnMgPSB0aGlzLmluc3RhbmNlO1xuICAgIH1cbiAgICBpZiAoKGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSAmJiBfLmlzQXJyYXkoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICB9XG4gIH0sXG4gIHJlbGF0ZWRfaW5zdGFjZV91cmw6IGZ1bmN0aW9uKGlucykge1xuICAgIHZhciBhYnNvbHV0ZTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSkpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgYWJzb2x1dGUgPSBmYWxzZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGU7XG4gICAgfVxuICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgcmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgaW5zLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGlucy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBpbnMuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgfVxuICB9LFxuICBfdDogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcbiAgICB9XG4gIH0sXG4gIHNob3dfZGVsZXRlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmICghTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgcmV0dXJuIGlucy5zdGF0ZSA9PT0gJ2RyYWZ0JztcbiAgICB9XG4gIH1cbn07XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlOiAoaW5zX2lkLCBzdGVwX2FwcHJvdmUpLT5cblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zX2lkfSwge2ZpZWxkczoge3N0YXRlOiAxfX0pXG5cblx0XHRpZiBpbnMuc3RhdGUgIT0gJ2RyYWZ0J1xuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUge19pZDogaW5zX2lkfSwgeyRzZXQ6IHtzdGVwX2FwcHJvdmU6IHN0ZXBfYXBwcm92ZX19IiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlOiBmdW5jdGlvbihpbnNfaWQsIHN0ZXBfYXBwcm92ZSkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMuc3RhdGUgIT09ICdkcmFmdCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnNfaWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIHN0ZXBfYXBwcm92ZTogc3RlcF9hcHByb3ZlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuXG5cdGdldF9pbnN0YW5jZV9kYXRhOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIGZvcm1DYWNoZWQsIGZsb3dDYWNoZWQpIHtcblxuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpO1xuXHRcdGNoZWNrKGZvcm1DYWNoZWQsIEJvb2xlYW4pO1xuXHRcdGNoZWNrKGZsb3dDYWNoZWQsIEJvb2xlYW4pO1xuXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xuXG5cdFx0aWYgKCFpbnN0YW5jZSlcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGluc3RhbmNlOiBudWxsXG5cdFx0XHR9O1xuXG5cdFx0aWYgKGZvcm1DYWNoZWQgJiYgZmxvd0NhY2hlZClcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGluc3RhbmNlOiBpbnN0YW5jZVxuXHRcdFx0fTtcblxuXHRcdGlmICghZm9ybUNhY2hlZCkge1xuXHRcdFx0dmFyIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuXHRcdFx0dmFyIGZvcm1fdmVyc2lvbiA9IHt9O1xuXHRcdFx0aWYgKGZvcm0uY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZm9ybV92ZXJzaW9uKSB7XG5cdFx0XHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRmb3JtX3ZlcnNpb24gPSBfLndoZXJlKGZvcm0uaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZvcm1fdmVyc2lvbn0pWzBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXG5cdFx0aWYgKCFmbG93Q2FjaGVkKSB7XG5cdFx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XG5cdFx0XHR2YXIgZmxvd192ZXJzaW9uID0ge307XG5cdFx0XHRpZiAoZmxvdy5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mbG93X3ZlcnNpb24pIHtcblx0XHRcdFx0Zmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGZsb3dfdmVyc2lvbiA9IF8ud2hlcmUoZmxvdy5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZmxvd192ZXJzaW9ufSlbMF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGluc3RhbmNlOiBpbnN0YW5jZSxcblx0XHRcdGZvcm1fdmVyc2lvbjogZm9ybV92ZXJzaW9uLFxuXHRcdFx0Zmxvd192ZXJzaW9uOiBmbG93X3ZlcnNpb25cblx0XHR9XG5cblx0fVxuXG59KTtcbiIsIk1ldGVvci5tZXRob2RzKHtcblxuXHRkcmFmdF9zYXZlX2luc3RhbmNlOiBmdW5jdGlvbiAoaW5zKSB7XG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcblx0XHRcdHJldHVybjtcblx0XHR2YXIgcmVzdWx0ID0gdHJ1ZTtcblx0XHR2YXIgc2V0T2JqID0ge307XG5cdFx0dmFyIGluZGV4ID0gMDtcblx0XHR2YXIgaW5zX2lkID0gaW5zLl9pZDtcblx0XHR2YXIgdHJhY2VfaWQgPSBpbnMudHJhY2VzWzBdLl9pZDtcblx0XHR2YXIgYXBwcm92ZV9pZCA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uX2lkO1xuXHRcdHZhciBkZXNjcmlwdGlvbiA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uZGVzY3JpcHRpb247XG5cdFx0dmFyIG5leHRfc3RlcHMgPSBpbnMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLm5leHRfc3RlcHM7XG5cdFx0dmFyIHZhbHVlcyA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0udmFsdWVzIHx8IHt9O1xuXHRcdHZhciBhcHBsaWNhbnRfaWQgPSBpbnMuYXBwbGljYW50O1xuXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0YXBwbGljYW50OiAxLFxuXHRcdFx0XHRzdGF0ZTogMSxcblx0XHRcdFx0c3VibWl0dGVyOiAxLFxuXHRcdFx0XHR0cmFjZXM6IDEsXG5cdFx0XHRcdGZvcm06IDEsXG5cdFx0XHRcdGZsb3dfdmVyc2lvbjogMSxcblx0XHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRcdGZsb3c6IDFcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHZhciBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuXHRcdHZhciBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcblx0XHR2YXIgZm9ybV9pZCA9IGluc3RhbmNlLmZvcm07XG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcblx0XHR2YXIgY3VycmVudF90cmFjZSA9IF8uZmluZCh0cmFjZXMsIGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VfaWQ7XG5cdFx0fSk7XG5cdFx0Y3VycmVudF90cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlX2lkKSB7XG5cdFx0XHRcdGluZGV4ID0gaWR4O1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0dmFyIGtleV9zdHIgPSAndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy4nO1xuXG5cdFx0Ly8g5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrmi5/nqL/nirbmgIFcblx0XHR2YXIgY3VycmVudF91c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XG5cdFx0XHRfaWQ6IHRoaXMudXNlcklkXG5cdFx0fSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdGxvY2FsZTogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBsYW5nID0gY3VycmVudF91c2VyLmxvY2FsZSA9PSAnemgtY24nID8gJ3poLUNOJyA6ICdlbic7XG5cdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlRHJhZnQoaW5zdGFuY2UsIGxhbmcpO1xuXHRcdC8vIOWIpOaWreS4gOS4queUqOaIt+aYr+WQpuaYr+S4gOS4qmluc3RhbmNl55qE5o+Q5Lqk6ICFXG5cdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlU3VibWl0dGVyKGluc3RhbmNlLCB0aGlzLnVzZXJJZCk7XG5cblx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFwiY3VycmVudC5faWRcIjogMSxcblx0XHRcdFx0XCJjdXJyZW50LmZvcm1fdmVyc2lvblwiOiAxLFxuXHRcdFx0XHRcIm5hbWVcIjogMSxcblx0XHRcdFx0XCJjdXJyZW50LnN0ZXBzXCI6IDFcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cblx0XHRpZiAoZmxvdy5jdXJyZW50Ll9pZCAhPSBpbnN0YW5jZS5mbG93X3ZlcnNpb24pIHtcblx0XHRcdHJlc3VsdCA9IFwidXBncmFkZWRcIjtcblx0XHRcdHZhciBzdGFydF9zdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24gKHMpIHtcblx0XHRcdFx0cmV0dXJuIHMuc3RlcF90eXBlID09IFwic3RhcnRcIjtcblx0XHRcdH0pO1xuXHRcdFx0Ly8g5rWB56iL5bey5Y2H57qnXG5cdFx0XHRzZXRPYmouZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50Ll9pZDtcblx0XHRcdHNldE9iai5mb3JtX3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuXHRcdFx0Ly8g5a2Y5YWl5b2T5YmN5pyA5paw54mIZmxvd+S4reW8gOWni+iKgueCueeahHN0ZXBfaWRcblx0XHRcdHNldE9ialtcInRyYWNlcy4kLnN0ZXBcIl0gPSBzdGFydF9zdGVwLl9pZDtcblx0XHRcdHNldE9ialtcInRyYWNlcy4kLm5hbWVcIl0gPSBzdGFydF9zdGVwLm5hbWU7XG5cdFx0fVxuXG5cdFx0aWYgKGluc3RhbmNlLmFwcGxpY2FudCAhPSBhcHBsaWNhbnRfaWQpIHtcblx0XHRcdC8vIOeUs+ivt+S6uuW3suWPmOaNolxuXHRcdFx0dmFyIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKGFwcGxpY2FudF9pZCwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dmFyIGFwcGxpY2FudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdHVzZXI6IGFwcGxpY2FudF9pZFxuXHRcdFx0fSwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRvcmdhbml6YXRpb246IDFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgb3JnX2lkID0gYXBwbGljYW50LmZldGNoKClbMF0ub3JnYW5pemF0aW9uO1xuXHRcdFx0dmFyIG9yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShvcmdfaWQsIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0c2V0T2JqLmFwcGxpY2FudCA9IGFwcGxpY2FudF9pZDtcblx0XHRcdHNldE9iai5hcHBsaWNhbnRfbmFtZSA9IHVzZXIubmFtZTtcblx0XHRcdHNldE9iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uID0gb3JnX2lkO1xuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZSA9IG9yZ2FuaXphdGlvbi5uYW1lO1xuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBvcmdhbml6YXRpb24uZnVsbG5hbWU7XG5cblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ3VzZXInXSA9IGFwcGxpY2FudF9pZDtcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ3VzZXJfbmFtZSddID0gdXNlci5uYW1lO1xuXHRcdH1cblxuXHRcdHNldE9ialtrZXlfc3RyICsgJ3ZhbHVlcyddID0gdmFsdWVzO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ2Rlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcblx0XHRzZXRPYmpba2V5X3N0ciArICdqdWRnZSddID0gJ3N1Ym1pdHRlZCc7XG5cdFx0c2V0T2JqW2tleV9zdHIgKyAncmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xuXHRcdGlmIChyZXN1bHQgIT0gXCJ1cGdyYWRlZFwiICYmIG5leHRfc3RlcHMpIHtcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ25leHRfc3RlcHMnXSA9IG5leHRfc3RlcHM7XG5cdFx0fVxuXG5cdFx0Ly8g6K6h566X55Sz6K+35Y2V5qCH6aKYXG5cdFx0dmFyIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcblx0XHRcdF9pZDogZm9ybV9pZFxuXHRcdH0sIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcImN1cnJlbnQubmFtZV9mb3J1bWxhXCI6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybS5jdXJyZW50Lm5hbWVfZm9ydW1sYTtcblx0XHRpZiAobmFtZV9mb3J1bWxhKSB7XG5cdFx0XHQvLyB2YXIgaXNjcmlwdCA9IG5hbWVfZm9ydW1sYS5yZXBsYWNlKC9cXHsvZywgXCIodmFsdWVzWydcIikucmVwbGFjZSgvXFx9L2csIFwiJ10gfHwgJycpXCIpO1xuXHRcdFx0Ly8gdmFyIHJldiA9IGV2YWwoaXNjcmlwdCk7XG5cdFx0XHRzZXRPYmoubmFtZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VOYW1lKGlucywgdmFsdWVzKTtcblx0XHR9XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlX2lkXG5cdFx0fSwge1xuXHRcdFx0JHNldDogc2V0T2JqXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHRpbmJveF9zYXZlX2luc3RhbmNlOiBmdW5jdGlvbiAoYXBwcm92ZSkge1xuXHRcdGlmICghdGhpcy51c2VySWQpXG5cdFx0XHRyZXR1cm47XG5cblx0XHR2YXIgc2V0T2JqID0ge307XG5cdFx0dmFyIGluZGV4ID0gMDtcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xuXHRcdHZhciBhcHByb3ZlX2lkID0gYXBwcm92ZS5pZDtcblx0XHR2YXIgdmFsdWVzID0gYXBwcm92ZS52YWx1ZXM7XG5cdFx0dmFyIG5leHRfc3RlcHMgPSBhcHByb3ZlLm5leHRfc3RlcHM7XG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gYXBwcm92ZS5kZXNjcmlwdGlvbjtcblx0XHR2YXIganVkZ2UgPSBhcHByb3ZlLmp1ZGdlO1xuXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxLFxuXHRcdFx0XHRmbG93X3ZlcnNpb246IDEsXG5cdFx0XHRcdGZsb3c6IDEsXG5cdFx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0XHRmb3JtOiAxLFxuXHRcdFx0XHRmb3JtX3ZlcnNpb246IDEsXG5cdFx0XHRcdHZhbHVlczogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcblxuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KTtcblx0XHR2YXIgY3VycmVudF9hcHByb3ZlID0gXy5maW5kKGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhKSB7XG5cdFx0XHRyZXR1cm4gYS5faWQgPT0gYXBwcm92ZV9pZDtcblx0XHR9KTtcblxuXHRcdC8vIOWIpOaWreS4gOS4qmluc3RhbmNl5piv5ZCm5Li65a6h5qC45Lit54q25oCBXG5cdFx0dmFyIGN1cnJlbnRfdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuXHRcdFx0X2lkOiB0aGlzLnVzZXJJZFxuXHRcdH0sIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRsb2NhbGU6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgbGFuZyA9IGN1cnJlbnRfdXNlci5sb2NhbGUgPT0gJ3poLWNuJyA/ICd6aC1DTicgOiAnZW4nO1xuXHRcdHRyeSB7XG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlLCBsYW5nKTtcblx0XHRcdC8vIOWIpOaWreS4gOS4qnRyYWNl5piv5ZCm5Li65pyq5a6M5oiQ54q25oCBXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzVHJhY2VOb3RGaW5pc2hlZChjdXJyZW50X3RyYWNlKTtcblx0XHRcdC8vIOWIpOaWreS4gOS4qmFwcHJvdmXmmK/lkKbkuLrmnKrlrozmiJDnirbmgIFcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNBcHByb3ZlTm90RmluaXNoZWQoY3VycmVudF9hcHByb3ZlKTtcblx0XHRcdC8vIOWIpOaWreW9k+WJjeeUqOaIt+aYr+WQpmFwcHJvdmUg5a+55bqU55qE5aSE55CG5Lq65oiW5Luj55CG5Lq6XG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSGFuZGxlck9yQWdlbnQoY3VycmVudF9hcHByb3ZlLCB0aGlzLnVzZXJJZCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coZS5zdGFjaylcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0fVxuXG5cblx0XHR2YXIgZmxvd192ZXJzaW9uID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuXHRcdHZhciBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcblx0XHR2YXIgc3RlcF9pZCA9IFwiXCI7XG5cdFx0c3RlcF9pZCA9IGN1cnJlbnRfdHJhY2Uuc3RlcDtcblx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdGN1cnJlbnQ6IDEsXG5cdFx0XHRcdGhpc3RvcnlzOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIHN0ZXAgPSBudWxsO1xuXHRcdGlmIChmbG93LmN1cnJlbnQuX2lkID09IGZsb3dfdmVyc2lvbikge1xuXHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcblx0XHRcdFx0aWYgKHMuX2lkID09IHN0ZXBfaWQpXG5cdFx0XHRcdFx0c3RlcCA9IHM7XG5cdFx0XHR9KVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmbG93Lmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24gKGgpIHtcblx0XHRcdFx0aC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG5cdFx0XHRcdFx0aWYgKHMuX2lkID09IHN0ZXBfaWQpXG5cdFx0XHRcdFx0XHRzdGVwID0gcztcblx0XHRcdFx0fSlcblx0XHRcdH0pXG5cdFx0fVxuXG5cdFx0aWYgKCFzdGVwKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdHZhciBzdGVwX3R5cGUgPSBzdGVwLnN0ZXBfdHlwZTtcblxuXHRcdGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRpZiAoYS5faWQgPT0gYXBwcm92ZV9pZCkge1xuXHRcdFx0XHRpbmRleCA9IGlkeDtcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0dmFyIGtleV9zdHIgPSAndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy4nO1xuXG5cdFx0dmFyIHBlcm1pc3Npb25zX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhhcHByb3ZlLnZhbHVlcywgc3RlcC5wZXJtaXNzaW9ucywgaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcblxuXHRcdHZhciBjaGFuZ2VfdmFsdWVzID0gYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzKGluc3RhbmNlLnZhbHVlcywgcGVybWlzc2lvbnNfdmFsdWVzKTtcblxuXHRcdHNldE9iai52YWx1ZXMgPSBfLmV4dGVuZCgoaW5zdGFuY2UudmFsdWVzIHx8IHt9KSwgcGVybWlzc2lvbnNfdmFsdWVzKTtcblxuXHRcdGlmICghXy5pc0VtcHR5KGNoYW5nZV92YWx1ZXMpKSB7XG5cblx0XHRcdHZhbHVlc19oaXN0b3J5ID0gY3VycmVudF9hcHByb3ZlLnZhbHVlc19oaXN0b3J5IHx8IFtdXG5cblx0XHRcdHZhbHVlc19oaXN0b3J5LnB1c2goe1xuXHRcdFx0XHR2YWx1ZXM6IGNoYW5nZV92YWx1ZXMsXG5cdFx0XHRcdGNyZWF0ZTogbmV3IERhdGUoKVxuXHRcdFx0fSlcblxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzX2hpc3RvcnknXSA9IHZhbHVlc19oaXN0b3J5XG5cdFx0fVxuXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnaXNfcmVhZCddID0gdHJ1ZTtcblx0XHRzZXRPYmpba2V5X3N0ciArICdyZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzJ10gPSBzZXRPYmoudmFsdWVzO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ2Rlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcblx0XHRzZXRPYmpba2V5X3N0ciArICduZXh0X3N0ZXBzJ10gPSBuZXh0X3N0ZXBzO1xuXHRcdGlmIChzdGVwX3R5cGUgPT0gXCJzdWJtaXRcIiB8fCBzdGVwX3R5cGUgPT0gXCJzdGFydFwiKSB7XG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICdqdWRnZSddID0gXCJzdWJtaXR0ZWRcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAnanVkZ2UnXSA9IGp1ZGdlO1xuXHRcdH1cblxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cblx0XHQvLyDorqHnrpfnlLPor7fljZXmoIfpophcblx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cdFx0dmFyIGZvcm1fdiA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybV92Lm5hbWVfZm9ydW1sYTtcblx0XHRpZiAobmFtZV9mb3J1bWxhKSB7XG5cdFx0XHRzZXRPYmoubmFtZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VOYW1lKGluc3RhbmNlLCBzZXRPYmoudmFsdWVzKTtcblx0XHR9XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlX2lkXG5cdFx0fSwge1xuXHRcdFx0JHNldDogc2V0T2JqXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxufSkiLCJNZXRlb3IubWV0aG9kcyh7XG5cdC8vID8/PyDog73lkKbkvKDpmIXnu5nlvZPliY3mraXpqqTlpITnkIbkurog5aaC5p6c5b2T5YmN5q2l6aqk5piv5Lya562+44CCXG5cdGNjX2RvOiBmdW5jdGlvbiAoYXBwcm92ZSwgY2NfdXNlcl9pZHMsIGRlc2NyaXB0aW9uKSB7XG5cblx0XHR2YXIgc2V0T2JqID0ge307XG5cdFx0dmFyIGluc19pZCA9IGFwcHJvdmUuaW5zdGFuY2U7XG5cdFx0dmFyIHRyYWNlX2lkID0gYXBwcm92ZS50cmFjZTtcblx0XHR2YXIgYXBwcm92ZV9pZCA9IGFwcHJvdmUuX2lkO1xuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHNwYWNlOiAxLFxuXHRcdFx0XHR0cmFjZXM6IDEsXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxuXHRcdFx0XHR2YWx1ZXM6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG5cdFx0dmFyIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG5cdFx0dmFyIG5ld19hcHByb3ZlcyA9IFtdO1xuXG5cdFx0dmFyIGZyb21fdXNlcl9uYW1lID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRuYW1lOiAxXG5cdFx0XHR9XG5cdFx0fSkubmFtZVxuXG5cdFx0Y2NfdXNlcl9pZHMuZm9yRWFjaChmdW5jdGlvbiAodXNlcklkLCBpZHgpIHtcblx0XHRcdHZhciB1c2VyID0gZGIudXNlcnMuZmluZE9uZSh1c2VySWQsIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0dXNlcjogdXNlcklkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBvcmdfaWQgPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcblx0XHRcdHZhciBvcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUob3JnX2lkLCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdFx0ZnVsbG5hbWU6IDFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VySWQpO1xuXHRcdFx0dmFyIGhhbmRsZXJfaWQgPSB1c2VySWQ7XG5cdFx0XHR2YXIgaGFuZGxlcl9pbmZvID0gdXNlcjtcblx0XHRcdHZhciBoYW5kbGVyX3NwYWNlX3VzZXIgPSBzcGFjZV91c2VyO1xuXHRcdFx0dmFyIGhhbmRsZXJfb3JnX2luZm8gPSBvcmdhbml6YXRpb247XG5cdFx0XHRpZiAoYWdlbnQpIHtcblx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50O1xuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGFnZW50LCB7XG5cdFx0XHRcdFx0ZmlsZWRzOiB7XG5cdFx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0aGFuZGxlcl9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGFnZW50KTtcblx0XHRcdFx0aGFuZGxlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhoYW5kbGVyX3NwYWNlX3VzZXIpO1xuXHRcdFx0XHRjY191c2VyX2lkc1tpZHhdID0gYWdlbnQ7XG5cdFx0XHR9XG5cdFx0XHR2YXIgYXBwciA9IHtcblx0XHRcdFx0J19pZCc6IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHIsXG5cdFx0XHRcdCdpbnN0YW5jZSc6IGluc19pZCxcblx0XHRcdFx0J3RyYWNlJzogdHJhY2VfaWQsXG5cdFx0XHRcdCdpc19maW5pc2hlZCc6IGZhbHNlLFxuXHRcdFx0XHQndXNlcic6IHVzZXJJZCxcblx0XHRcdFx0J3VzZXJfbmFtZSc6IHVzZXIubmFtZSxcblx0XHRcdFx0J2hhbmRsZXInOiBoYW5kbGVyX2lkLFxuXHRcdFx0XHQnaGFuZGxlcl9uYW1lJzogaGFuZGxlcl9pbmZvLm5hbWUsXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbic6IGhhbmRsZXJfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lJzogaGFuZGxlcl9vcmdfaW5mby5uYW1lLFxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUnOiBoYW5kbGVyX29yZ19pbmZvLmZ1bGxuYW1lLFxuXHRcdFx0XHQndHlwZSc6ICdjYycsXG5cdFx0XHRcdCdzdGFydF9kYXRlJzogbmV3IERhdGUoKSxcblx0XHRcdFx0J2lzX3JlYWQnOiBmYWxzZSxcblx0XHRcdFx0J2Zyb21fdXNlcic6IGN1cnJlbnRfdXNlcl9pZCxcblx0XHRcdFx0J2Zyb21fdXNlcl9uYW1lJzogZnJvbV91c2VyX25hbWUsXG5cdFx0XHRcdCdvcGluaW9uX2ZpZWxkc19jb2RlJzogYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlLFxuXHRcdFx0XHQnc2lnbl9maWVsZF9jb2RlJzogKGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZSAmJiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUubGVuZ3RoID09IDEpID8gYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlWzBdIDogXCJcIixcblx0XHRcdFx0J2Zyb21fYXBwcm92ZV9pZCc6IGFwcHJvdmVfaWQsXG5cdFx0XHRcdCdjY19kZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uXG5cdFx0XHR9O1xuXHRcdFx0aWYgKGFnZW50KSB7XG5cdFx0XHRcdGFwcHIuYWdlbnQgPSBhZ2VudDtcblx0XHRcdH1cblx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIGFwcHIpXG5cdFx0XHRuZXdfYXBwcm92ZXMucHVzaChhcHByKTtcblx0XHR9KVxuXG5cblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmosXG5cdFx0XHQkYWRkVG9TZXQ6IHtcblx0XHRcdFx0J3RyYWNlcy4kLmFwcHJvdmVzJzoge1xuXHRcdFx0XHRcdCRlYWNoOiBuZXdfYXBwcm92ZXNcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdCRwdXNoOiB7XG5cdFx0XHRcdGNjX3VzZXJzOiB7XG5cdFx0XHRcdFx0JGVhY2g6IGNjX3VzZXJfaWRzXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkKTtcblx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInRyYWNlX2FwcHJvdmVfY2NcIiwgaW5zdGFuY2UsIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvLCBjY191c2VyX2lkcyk7XG5cblx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcblx0XHRhcHByb3ZlLmNjX3VzZXJfaWRzID0gY2NfdXNlcl9pZHM7IC8vIOiusOW9leS4i+acrOasoeS8oOmYheeahOS6uuWRmElE5L2c5Li6aG9va+aOpeWPo+S4reeahOWPguaVsFxuXHRcdC8vIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgYXBwcm92ZSwgJ2NjX2RvJywgY3VycmVudF91c2VyX2lkLCBjY191c2VyX2lkcylcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRjY19yZWFkOiBmdW5jdGlvbiAoYXBwcm92ZSkge1xuXHRcdHZhciBzZXRPYmogPSB7fTtcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHRyYWNlczogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcblx0XHR2YXIgY3VycmVudF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VfaWQ7XG5cdFx0fSlcblxuXHRcdHZhciBpbmRleCA9IDA7XG5cblx0XHRjdXJyZW50X3RyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0aWYgKGEudHlwZSA9PSAnY2MnICYmIGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgIWEuaXNfcmVhZCkge1xuXHRcdFx0XHRpbmRleCA9IGlkeDtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xuXHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cblx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmpcblx0XHR9KTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRjY19zdWJtaXQ6IGZ1bmN0aW9uIChpbnNfaWQsIGRlc2NyaXB0aW9uKSB7XG5cdFx0dmFyIHNldE9iaiA9IHt9O1xuXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxLFxuXHRcdFx0XHRjY191c2VyczogMSxcblx0XHRcdFx0b3V0Ym94X3VzZXJzOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG5cdFx0dmFyIGN1cnJlbnRfYXBwcm92ZTtcblxuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdGlmIChhLnR5cGUgPT0gJ2NjJyAmJiBhLmhhbmRsZXIgPT0gY3VycmVudF91c2VyX2lkICYmIGEuaXNfZmluaXNoZWQgPT0gZmFsc2UpIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRfYXBwcm92ZSA9IGE7XG5cdFx0XHRcdFx0XHR2YXIgdXBvYmogPSB7fTtcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmNvc3RfdGltZSddID0gbmV3IERhdGUoKSAtIGEuc3RhcnRfZGF0ZTtcblx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdFx0XHRcdFx0J3RyYWNlcy5faWQnOiB0Ll9pZFxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHQkc2V0OiB1cG9ialxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0aWYgKGN1cnJlbnRfYXBwcm92ZSkge1xuXHRcdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdFx0Ly/orr7nva7mhI/op4HvvIzmhI/op4Hlj6rmt7vliqDliLDmnIDlkI7kuIDmnaFhcHByb3Zl5LitXG5cdFx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuXHRcdFx0XHRpZiAoY3VycmVudF9hcHByb3ZlICYmIHQuX2lkID09PSBjdXJyZW50X2FwcHJvdmUudHJhY2UpIHtcblx0XHRcdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGEuX2lkID09PSBjdXJyZW50X2FwcHJvdmUuX2lkKSB7XG5cdFx0XHRcdFx0XHRcdFx0YS5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuXHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gaWR4O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcuZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xuXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHRcdCd0cmFjZXMuX2lkJzogY3VycmVudF9hcHByb3ZlLnRyYWNlXG5cdFx0XHR9LCB7XG5cdFx0XHRcdCRzZXQ6IHNldE9iaixcblx0XHRcdFx0JHB1bGw6IHtcblx0XHRcdFx0XHRjY191c2VyczogY3VycmVudF91c2VyX2lkXG5cdFx0XHRcdH0sXG5cdFx0XHRcdCRhZGRUb1NldDoge1xuXHRcdFx0XHRcdG91dGJveF91c2Vyczoge1xuXHRcdFx0XHRcdFx0JGVhY2g6IFtjdXJyZW50X3VzZXJfaWQsIGN1cnJlbnRfYXBwcm92ZS51c2VyXVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcblxuXHRcdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcl9pZCk7XG5cdFx0XHQvL+S8oOmYheaPkOS6pOS4jemAmuefpeS8oOmYheiAhVxuXHRcdFx0aWYgKGZhbHNlICYmIGRlc2NyaXB0aW9uICYmIGN1cnJlbnRfYXBwcm92ZSAmJiBjdXJyZW50X2FwcHJvdmUuZnJvbV91c2VyKSB7XG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwidHJhY2VfYXBwcm92ZV9jY19zdWJtaXRcIiwgaW5zdGFuY2UsIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvLCBbY3VycmVudF9hcHByb3ZlLmZyb21fdXNlcl0pO1xuXHRcdFx0fVxuXG5cdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyX2lkKTtcblxuXHRcdFx0Zmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XG5cdFx0XHQvLyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgY3VycmVudF9hcHByb3ZlLCAnY2Nfc3VibWl0JywgY3VycmVudF91c2VyX2lkLCBbXSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Y2NfcmVtb3ZlOiBmdW5jdGlvbiAoaW5zdGFuY2VJZCwgYXBwcm92ZUlkKSB7XG5cdFx0dmFyIHNldE9iaiA9IHt9O1xuXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VJZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHRyYWNlczogMSxcblx0XHRcdFx0Y2NfdXNlcnM6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuXHRcdHZhciB0cmFjZV9pZCwgcmVtb3ZlX3VzZXJfaWQsIG11bHRpID0gZmFsc2U7XG5cblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcblx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdFx0XHRpZiAoYS5faWQgPT0gYXBwcm92ZUlkKSB7XG5cdFx0XHRcdFx0XHR0cmFjZV9pZCA9IGEudHJhY2U7XG5cdFx0XHRcdFx0XHRyZW1vdmVfdXNlcl9pZCA9IGEuaGFuZGxlcjtcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJztcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0aWYgKCF0cmFjZV9pZCB8fCAhcmVtb3ZlX3VzZXJfaWQpXG5cdFx0XHRyZXR1cm47XG5cblx0XHR2YXIgbXVsdGkgPSAwO1xuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEpIHtcblx0XHRcdFx0XHRpZiAoYS5oYW5kbGVyID09IHJlbW92ZV91c2VyX2lkICYmIGEudHlwZSA9PSAnY2MnICYmIGEuaXNfZmluaXNoZWQgPT0gZmFsc2UpIHtcblx0XHRcdFx0XHRcdG11bHRpKys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblxuXHRcdGlmIChtdWx0aSA+IDEpIHtcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcblx0XHRcdH0sIHtcblx0XHRcdFx0JHNldDogc2V0T2JqXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcblx0XHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxuXHRcdFx0fSwge1xuXHRcdFx0XHQkc2V0OiBzZXRPYmosXG5cdFx0XHRcdCRwdWxsOiB7XG5cdFx0XHRcdFx0Y2NfdXNlcnM6IHJlbW92ZV91c2VyX2lkXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXG5cdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHJlbW92ZV91c2VyX2lkKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRjY19zYXZlOiBmdW5jdGlvbiAoaW5zX2lkLCBkZXNjcmlwdGlvbikge1xuXHRcdHZhciBzZXRPYmogPSB7fTtcblxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHRyYWNlczogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xuXG5cdFx0dmFyIGN1cnJlbnRfYXBwcm92ZTtcblxuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdGlmIChhLmhhbmRsZXIgPT0gY3VycmVudF91c2VyX2lkICYmIGEudHlwZSA9PSAnY2MnICYmIGEuaXNfZmluaXNoZWQgPT0gZmFsc2UpIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRfYXBwcm92ZSA9IGE7XG5cdFx0XHRcdFx0XHR2YXIgdXBvYmogPSB7fTtcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJzdWJtaXR0ZWRcIjtcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHRcdFx0XHRcdCd0cmFjZXMuX2lkJzogdC5faWRcblx0XHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdFx0JHNldDogdXBvYmpcblx0XHRcdFx0XHRcdH0pXG5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHR2YXIgaW5kZXggPSAwO1xuXG5cdFx0Ly/orr7nva7mhI/op4HvvIzmhI/op4Hlj6rmt7vliqDliLDmnIDlkI7kuIDmnaFhcHByb3Zl5LitXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmIChjdXJyZW50X2FwcHJvdmUgJiYgdC5faWQgPT09IGN1cnJlbnRfYXBwcm92ZS50cmFjZSkge1xuXHRcdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRcdFx0XHRpZiAoYS5faWQgPT09IGN1cnJlbnRfYXBwcm92ZS5faWQpIHtcblx0XHRcdFx0XHRcdFx0aW5kZXggPSBpZHg7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5kZXNjcmlwdGlvbiddID0gZGVzY3JpcHRpb247XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0J3RyYWNlcy5faWQnOiBjdXJyZW50X2FwcHJvdmUudHJhY2Vcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmpcblx0XHR9KTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG59KSIsIk1ldGVvci5tZXRob2RzKHtcblx0Ly8g5pS55Li66YCa6L+HYXBp6LCD55SoXG5cdGZvcndhcmRfaW5zdGFuY2U6IGZ1bmN0aW9uIChpbnN0YW5jZV9pZCwgc3BhY2VfaWQsIGZsb3dfaWQsIGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCwgZGVzY3JpcHRpb24sIGlzRm9yd2FyZEF0dGFjaG1lbnRzLCBzZWxlY3RlZFVzZXJzLCBhY3Rpb25fdHlwZSwgcmVsYXRlZCwgZnJvbV9hcHByb3ZlX2lkKSB7XG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ25vdC1hdXRob3JpemVkJyk7XG5cblx0XHRyZXR1cm47XG5cdH0sXG5cblxuXHRmb3J3YXJkX3JlbW92ZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCB0cmFjZV9pZCwgYXBwcm92ZV9pZCkge1xuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpO1xuXHRcdGNoZWNrKHRyYWNlX2lkLCBTdHJpbmcpO1xuXHRcdGNoZWNrKGFwcHJvdmVfaWQsIFN0cmluZyk7XG5cblx0XHR2YXIgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xuXG5cdFx0aWYgKCFpbnMpIHtcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3BhcmFtcyBlcnJvciEnLCAncmVjb3JkIG5vdCBleGlzdHMhJyk7XG5cdFx0fVxuXG5cdFx0dmFyIHRyYWNlID0gXy5maW5kKGlucy50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VfaWQ7XG5cdFx0fSk7XG5cblx0XHR2YXIgYXBwcm92ZSA9IF8uZmluZCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGFwcHIpIHtcblx0XHRcdHJldHVybiBhcHByLl9pZCA9PSBhcHByb3ZlX2lkO1xuXHRcdH0pXG5cblx0XHR2YXIgaGFzQWRtaW5QZXJtaXNzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmhhc0Zsb3dBZG1pblBlcm1pc3Npb24oaW5zLmZsb3csIGlucy5zcGFjZSwgdGhpcy51c2VySWQpXG5cblx0XHRpZiAoIWFwcHJvdmUgfHwgIVsnZm9yd2FyZCcsICdkaXN0cmlidXRlJ10uaW5jbHVkZXMoYXBwcm92ZS50eXBlKSB8fCAhYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKSB7XG5cdFx0XHRpZiAoIWhhc0FkbWluUGVybWlzc2lvbikge1xuXHRcdFx0XHRpZiAoYXBwcm92ZS5mcm9tX3VzZXIgIT0gdGhpcy51c2VySWQpXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgJ2luc3RhbmNlX2ZvcndhcmRfY2Fubm90X2NhbmNlbCcpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBmb3J3YXJkX2luc3RhbmNlX2lkID0gYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlO1xuXHRcdHZhciBmb3J3YXJkX2luc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoZm9yd2FyZF9pbnN0YW5jZV9pZCk7XG5cdFx0aWYgKGZvcndhcmRfaW5zdGFuY2UpIHtcblx0XHRcdGlmIChmb3J3YXJkX2luc3RhbmNlLnN0YXRlICE9IFwiZHJhZnRcIikge1xuXHRcdFx0XHRpZiAoIWhhc0FkbWluUGVybWlzc2lvbilcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCAnaW5zdGFuY2VfZm9yd2FyZF9pbnN0YW5jZV9zdGF0ZV9jaGFuZ2VkJyk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgaW5ib3hfdXNlcnMgPSBmb3J3YXJkX2luc3RhbmNlLmluYm94X3VzZXJzIHx8IFtdO1xuXG5cdFx0XHRmb3J3YXJkX2luc3RhbmNlLmRlbGV0ZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0Zm9yd2FyZF9pbnN0YW5jZS5kZWxldGVkX2J5ID0gdGhpcy51c2VySWQ7XG5cdFx0XHR2YXIgZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkID0gZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGZvcndhcmRfaW5zdGFuY2UpO1xuXHRcdFx0aWYgKGRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCkge1xuXHRcdFx0XHRkYi5pbnN0YW5jZXMucmVtb3ZlKHtcblx0XHRcdFx0XHRfaWQ6IGZvcndhcmRfaW5zdGFuY2VfaWRcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8g5Yig6Zmk55Sz6K+35Y2V5ZCO6YeN5paw6K6h566XaW5ib3hfdXNlcnPnmoRiYWRnZVxuXHRcdFx0XHRfLmVhY2goaW5ib3hfdXNlcnMsIGZ1bmN0aW9uICh1X2lkKSB7XG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVfaWQpO1xuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBzZXRfb2JqID0gbmV3IE9iamVjdDtcblx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cblx0XHRfLmVhY2godHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhcHByLCBpZHgpIHtcblx0XHRcdGlmIChhcHByLl9pZCA9PSBhcHByb3ZlX2lkKSB7XG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSAndGVybWluYXRlZCc7XG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZTtcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zdGFuY2VfaWQsXG5cdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRfb2JqXG5cdFx0fSlcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGNhbmNlbERpc3RyaWJ1dGU6IGZ1bmN0aW9uIChpbnN0YW5jZV9pZCwgYXBwcm92ZV9pZHMpIHtcblx0XHRjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKVxuXHRcdGNoZWNrKGFwcHJvdmVfaWRzLCBBcnJheSlcblxuXHRcdHZhciBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZClcblxuXHRcdGlmICghaW5zKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdwYXJhbXMgZXJyb3IhJywgJ3JlY29yZCBub3QgZXhpc3RzIScpXG5cdFx0fVxuXG5cdFx0dXNlcklkID0gdGhpcy51c2VySWRcblxuXHRcdHZhciBoYXNBZG1pblBlcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCB1c2VySWQpXG5cblx0XHRfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdHZhciBleGlzdHMgPSBmYWxzZVxuXHRcdFx0XHR2YXIgc2V0X29iaiA9IG5ldyBPYmplY3Rcblx0XHRcdFx0Xy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdFx0XHRpZiAoYXBwcm92ZV9pZHMuaW5jbHVkZXMoYS5faWQpICYmIChhLmZyb21fdXNlciA9PSB1c2VySWQgfHwgaGFzQWRtaW5QZXJtaXNzaW9uKSAmJiAnZGlzdHJpYnV0ZScgPT0gYS50eXBlICYmIGEuZm9yd2FyZF9pbnN0YW5jZSkge1xuXHRcdFx0XHRcdFx0dmFyIGZvcndhcmRfaW5zdGFuY2VfaWQgPSBhLmZvcndhcmRfaW5zdGFuY2Vcblx0XHRcdFx0XHRcdHZhciBmb3J3YXJkX2luc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoZm9yd2FyZF9pbnN0YW5jZV9pZClcblx0XHRcdFx0XHRcdGlmIChmb3J3YXJkX2luc3RhbmNlKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChmb3J3YXJkX2luc3RhbmNlLnN0YXRlICE9IFwiZHJhZnRcIikge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHZhciBpbmJveF91c2VycyA9IGZvcndhcmRfaW5zdGFuY2UuaW5ib3hfdXNlcnMgfHwgW11cblxuXHRcdFx0XHRcdFx0XHRmb3J3YXJkX2luc3RhbmNlLmRlbGV0ZWQgPSBuZXcgRGF0ZSgpXG5cdFx0XHRcdFx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZF9ieSA9IHVzZXJJZFxuXHRcdFx0XHRcdFx0XHR2YXIgZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkID0gZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGZvcndhcmRfaW5zdGFuY2UpXG5cdFx0XHRcdFx0XHRcdGlmIChkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQpIHtcblx0XHRcdFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMucmVtb3ZlKHtcblx0XHRcdFx0XHRcdFx0XHRcdF9pZDogZm9yd2FyZF9pbnN0YW5jZV9pZFxuXHRcdFx0XHRcdFx0XHRcdH0pXG5cblx0XHRcdFx0XHRcdFx0XHQvLyDliKDpmaTnlLPor7fljZXlkI7ph43mlrDorqHnrpdpbmJveF91c2Vyc+eahGJhZGdlXG5cdFx0XHRcdFx0XHRcdFx0Xy5lYWNoKGluYm94X3VzZXJzLCBmdW5jdGlvbiAodV9pZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVfaWQpXG5cdFx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSAndGVybWluYXRlZCdcblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWVcblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKClcblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKClcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZXhpc3RzID0gdHJ1ZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblxuXHRcdFx0XHRpZiAoIWV4aXN0cylcblx0XHRcdFx0XHRyZXR1cm5cblxuXHRcdFx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKVxuXHRcdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdXNlcklkXG5cblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcblx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogdC5faWRcblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdCRzZXQ6IHNldF9vYmpcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0cmV0dXJuIHRydWVcblx0fVxuXG5cbn0pIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICAgIGNmc19pbnN0YW5jZXNfcmVtb3ZlOiBmdW5jdGlvbiAoZmlsZV9pZCkge1xuICAgICAgICBjaGVjayhmaWxlX2lkLCBTdHJpbmcpO1xuICAgICAgICBjZnMuaW5zdGFuY2VzLnJlbW92ZShmaWxlX2lkKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIGNmc19pbnN0YW5jZXNfc2V0X2N1cnJlbnQ6IGZ1bmN0aW9uIChmaWxlX2lkKSB7XG4gICAgICAgIGNoZWNrKGZpbGVfaWQsIFN0cmluZyk7XG4gICAgICAgIGNmcy5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogZmlsZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgY2ZzX2luc3RhbmNlc19sb2NrOiBmdW5jdGlvbiAoZmlsZV9pZCwgdXNlcl9pZCwgdXNlcl9uYW1lKSB7XG4gICAgICAgIGNmcy5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogZmlsZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF9ieSc6IHVzZXJfaWQsXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF9ieV9uYW1lJzogdXNlcl9uYW1lLFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfdGltZSc6IG5ldyBEYXRlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBjZnNfaW5zdGFuY2VzX3VubG9jazogZnVuY3Rpb24gKGZpbGVfaWQpIHtcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICR1bnNldDoge1xuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfYnknOiAnJyxcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5X25hbWUnOiAnJyxcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX3RpbWUnOiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIGRvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6IGZ1bmN0aW9uIChzcGFjZUlkLCBjZnNSZWNvcmRJZHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLnVzZXJJZClcbiAgICAgICAgICAgIHJldHVybiBcIuS4jeespuWQiOaJp+ihjOadoeS7tlwiXG5cbiAgICAgICAgaWYgKE1ldGVvci51c2Vycy5maW5kKHtcbiAgICAgICAgICAgICAgICBfaWQ6IHRoaXMudXNlcklkLFxuICAgICAgICAgICAgICAgIGlzX2Nsb3VkYWRtaW46IHRydWVcbiAgICAgICAgICAgIH0pLmNvdW50KCkgPCAxKVxuICAgICAgICAgICAgcmV0dXJuIFwi5LiN56ym5ZCI5omn6KGM5p2h5Lu2XCJcblxuICAgICAgICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdG9yZSA9IFwiaW5zdGFuY2VzXCI7XG4gICAgICAgIHZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gICAgICAgIHZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuICAgICAgICB2YXIgbWtkaXJwID0gcmVxdWlyZSgnbWtkaXJwJyk7XG4gICAgICAgIHZhciBwYXRobmFtZSA9IHBhdGguam9pbihfX21ldGVvcl9ib290c3RyYXBfXy5zZXJ2ZXJEaXIsICcuLi8uLi8uLi9jZnMvc3BhY2VJbnN0YW5jZUF0dGFjaG1lbnRzJyk7XG4gICAgICAgIC8vIFNldCBhYnNvbHV0ZSBwYXRoXG4gICAgICAgIHZhciBhYnNvbHV0ZVBhdGggPSBwYXRoLnJlc29sdmUocGF0aG5hbWUpO1xuICAgICAgICAvLyBFbnN1cmUgdGhlIHBhdGggZXhpc3RzXG4gICAgICAgIG1rZGlycC5zeW5jKGFic29sdXRlUGF0aCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdhYnNvbHV0ZVBhdGg6ICcsIGFic29sdXRlUGF0aCk7XG4gICAgICAgIGNvbnNvbGUudGltZSgnZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzaycpO1xuICAgICAgICB2YXIgcXVlcnkgPSB7XG4gICAgICAgICAgICAnbWV0YWRhdGEuc3BhY2UnOiBzcGFjZUlkXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNmc1JlY29yZElkcykge1xuICAgICAgICAgICAgcXVlcnkuX2lkID0ge1xuICAgICAgICAgICAgICAgICRpbjogY2ZzUmVjb3JkSWRzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBkb3dubG9hZEZhaWxlZFJlY29yZElkcyA9IFtdO1xuICAgICAgICBjZnMuaW5zdGFuY2VzLmZpbmQocXVlcnkpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVOYW1lID0gc3RvcmUgKyAnLScgKyBjLl9pZCArICctJyArIGMubmFtZSgpO1xuICAgICAgICAgICAgICAgIHZhciBmaWxlUGF0aCA9IHBhdGguam9pbihhYnNvbHV0ZVBhdGgsIGZpbGVOYW1lKTtcbiAgICAgICAgICAgICAgICBNZXRlb3Iud3JhcEFzeW5jKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdyaXRlciA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGZpbGVQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci5vbignZmluaXNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBjLmNyZWF0ZVJlYWRTdHJlYW0oc3RvcmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzLnB1c2goYy5faWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6ICcsIGMuX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucGlwZSh3cml0ZXIpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogJywgYy5faWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5zdGFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKClcblxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrOiAnLCBjLl9pZCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5zdGFjayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRGYWlsZWRSZWNvcmRJZHM6ICcpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihkb3dubG9hZEZhaWxlZFJlY29yZElkcyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2snKTtcblxuICAgICAgICByZXR1cm4gZG93bmxvYWRGYWlsZWRSZWNvcmRJZHM7XG4gICAgfVxufSkiLCJNZXRlb3IubWV0aG9kc1xuXHRzZXRfYXBwcm92ZV9oYXZlX3JlYWQ6IChpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQpIC0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdHNlbGYgPSB0aGlzXG5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZUlkLCBcInRyYWNlcy5faWRcIjogdHJhY2VJZCB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxuXG5cdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cblx0XHRcdHNldE9iaiA9IHtcblx0XHRcdFx0bW9kaWZpZWQ6IG5ldyBEYXRlLFxuXHRcdFx0XHRtb2RpZmllZF9ieTogc2VsZi51c2VySWRcblx0XHRcdH1cblx0XHRcdHRyYWNlLmFwcHJvdmVzLmZvckVhY2ggKGFwcHJvdmUsIGlkeCkgLT5cblx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gYXBwcm92ZUlkICYmICFhcHByb3ZlLmlzX3JlYWRcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uaXNfcmVhZFwiXSA9IHRydWVcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKVxuXG5cdFx0XHRpZiBub3QgXy5pc0VtcHR5KHNldE9iailcblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxuXHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHQkc2V0OiBzZXRPYmpcblx0XHRcdFx0fSlcblx0XHRcdHJldHVybiB0cnVlXG5cblx0Y2hhbmdlX2FwcHJvdmVfaW5mbzogKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgZGVzY3JpcHRpb24sIGZpbmlzaF9kYXRlKSAtPlxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cdFx0Y2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKHRyYWNlSWQsIFN0cmluZylcblx0XHRjaGVjayhhcHByb3ZlSWQsIFN0cmluZylcblx0XHRjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKVxuXHRcdGNoZWNrKGZpbmlzaF9kYXRlLCBEYXRlKVxuXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2VJZCwgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWQgfSwgeyBmaWVsZHM6IHsgXCJ0cmFjZXMuJFwiOiAxIH0gfSlcblxuXHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcblx0XHRcdHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdXG5cdFx0XHRzZXRPYmogPSB7fVxuXHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxuXHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBhcHByb3ZlSWRcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvblxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5maW5pc2hfZGF0ZVwiXSA9IGZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmNvc3RfdGltZVwiXSA9IG5ldyBEYXRlKCkgLSBhcHByb3ZlLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKVxuXG5cdFx0XHRpZiBub3QgXy5pc0VtcHR5KHNldE9iailcblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxuXHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHQkc2V0OiBzZXRPYmpcblx0XHRcdFx0fSlcblx0XHRcdHJldHVybiB0cnVlXG5cblx0dXBkYXRlX2FwcHJvdmVfc2lnbjogKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgc2lnbl9maWVsZF9jb2RlLCBkZXNjcmlwdGlvbiwgc2lnbl90eXBlLCBsYXN0U2lnbkFwcHJvdmUpLT5cblx0XHRjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2sodHJhY2VJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKHNpZ25fZmllbGRfY29kZSwgU3RyaW5nKVxuXHRcdGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpXG5cblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0c2Vzc2lvbl91c2VySWQgPSB0aGlzLnVzZXJJZFxuXG5cdFx0aWYgbGFzdFNpZ25BcHByb3ZlXG5cblx0XHRcdGlmIGxhc3RTaWduQXBwcm92ZS5jdXN0b21fc2lnbl9zaG93XG5cdFx0XHRcdHJldHVyblxuXG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcblx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxuXHRcdFx0XHRcInRyYWNlcy5faWRcIjogbGFzdFNpZ25BcHByb3ZlLnRyYWNlXG5cdFx0XHR9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxuXG5cdFx0XHRsYXN0VHJhY2UgPSBfLmZpbmQgaW5zdGFuY2U/LnRyYWNlcywgKHQpIC0+XG5cdFx0XHRcdHJldHVybiB0Ll9pZCA9IGxhc3RTaWduQXBwcm92ZS50cmFjZVxuXG5cdFx0XHRpZiBsYXN0VHJhY2Vcblx0XHRcdFx0c2V0T2JqID0ge31cblx0XHRcdFx0bGFzdFRyYWNlPy5hcHByb3Zlcy5mb3JFYWNoIChhLCBpZHgpIC0+XG5cdFx0XHRcdFx0aWYgYS5faWQgPT0gbGFzdFNpZ25BcHByb3ZlLl9pZFxuXHRcdFx0XHRcdFx0aWYgc2lnbl90eXBlID09IFwidXBkYXRlXCJcblx0XHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fc2hvd1wiXSA9IGZhbHNlXG5cdFx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5tb2RpZmllZFwiXSA9IG5ldyBEYXRlKClcblx0XHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkX2J5XCJdID0gc2Vzc2lvbl91c2VySWRcblxuXHRcdFx0XHRpZiBub3QgXy5pc0VtcHR5KHNldE9iailcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcblx0XHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBsYXN0VHJhY2UuX2lkXG5cdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0JHNldDogc2V0T2JqXG5cdFx0XHRcdFx0fSlcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlSWQsIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXG5cblx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXG5cblx0XHRcdHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdXG5cdFx0XHR1cE9iaiA9IHt9XG5cdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XG5cdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGFwcHJvdmVJZFxuXHRcdFx0XHRcdGlmIHNpZ25fZmllbGRfY29kZVxuXHRcdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9maWVsZF9jb2RlXCJdID0gc2lnbl9maWVsZF9jb2RlXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvblxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fc2hvd1wiXSA9IHRydWVcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5tb2RpZmllZFwiXSA9IG5ldyBEYXRlKClcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5tb2RpZmllZF9ieVwiXSA9IHNlc3Npb25fdXNlcklkXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKVxuXG5cdFx0XHRpZiBub3QgXy5pc0VtcHR5KHVwT2JqKVxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdCRzZXQ6IHVwT2JqXG5cdFx0XHRcdH0pXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cblx0dXBkYXRlX3NpZ25fc2hvdzogKG9ianMsIG15QXBwcm92ZV9pZCkgLT5cblx0XHRvYmpzLmZvckVhY2ggKG9iaiwgaW5kZXgpIC0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBvYmouaW5zdGFuY2UsIFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2UgfSwgeyBmaWVsZHM6IHsgXCJ0cmFjZXMuJFwiOiAxIH0gfSlcblx0XHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcblx0XHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cblx0XHRcdFx0c2V0T2JqID0ge31cblx0XHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxuXHRcdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IG9iai5faWRcblx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5zaWduX3Nob3dcIl0gPSBvYmouc2lnbl9zaG93XG5cdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uY3VzdG9tX3NpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3dcblx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXG5cblx0XHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBteUFwcHJvdmVfaWRcblx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXG5cblx0XHRcdFx0aWYgbm90IF8uaXNFbXB0eShzZXRPYmopXG5cdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRfaWQ6IG9iai5pbnN0YW5jZSxcblx0XHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2Vcblx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHQkc2V0OiBzZXRPYmpcblx0XHRcdFx0XHR9KVxuXG5cdFx0cmV0dXJuIHRydWVcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgc2V0X2FwcHJvdmVfaGF2ZV9yZWFkOiBmdW5jdGlvbihpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgc2VsZiwgc2V0T2JqLCB0cmFjZTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNlbGYgPSB0aGlzO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKChpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgdHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF07XG4gICAgICBzZXRPYmogPSB7XG4gICAgICAgIG1vZGlmaWVkOiBuZXcgRGF0ZSxcbiAgICAgICAgbW9kaWZpZWRfYnk6IHNlbGYudXNlcklkXG4gICAgICB9O1xuICAgICAgdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlLCBpZHgpIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBhcHByb3ZlSWQgJiYgIWFwcHJvdmUuaXNfcmVhZCkge1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuaXNfcmVhZFwiXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIV8uaXNFbXB0eShzZXRPYmopKSB7XG4gICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICBjaGFuZ2VfYXBwcm92ZV9pbmZvOiBmdW5jdGlvbihpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIGRlc2NyaXB0aW9uLCBmaW5pc2hfZGF0ZSkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCBzZXRPYmosIHRyYWNlO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKTtcbiAgICBjaGVjayh0cmFjZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKTtcbiAgICBjaGVjayhmaW5pc2hfZGF0ZSwgRGF0ZSk7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgIHNldE9iaiA9IHt9O1xuICAgICAgdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlLCBpZHgpIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBhcHByb3ZlSWQpIHtcbiAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5maW5pc2hfZGF0ZVwiXSA9IGZpbmlzaF9kYXRlO1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuY29zdF90aW1lXCJdID0gbmV3IERhdGUoKSAtIGFwcHJvdmUuc3RhcnRfZGF0ZTtcbiAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZV9hcHByb3ZlX3NpZ246IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgc2lnbl9maWVsZF9jb2RlLCBkZXNjcmlwdGlvbiwgc2lnbl90eXBlLCBsYXN0U2lnbkFwcHJvdmUpIHtcbiAgICB2YXIgaW5zdGFuY2UsIGxhc3RUcmFjZSwgcmVmLCBzZXNzaW9uX3VzZXJJZCwgc2V0T2JqLCB0cmFjZSwgdXBPYmo7XG4gICAgY2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKTtcbiAgICBjaGVjayh0cmFjZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhzaWduX2ZpZWxkX2NvZGUsIFN0cmluZyk7XG4gICAgY2hlY2soZGVzY3JpcHRpb24sIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXNzaW9uX3VzZXJJZCA9IHRoaXMudXNlcklkO1xuICAgIGlmIChsYXN0U2lnbkFwcHJvdmUpIHtcbiAgICAgIGlmIChsYXN0U2lnbkFwcHJvdmUuY3VzdG9tX3NpZ25fc2hvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICBcInRyYWNlcy5faWRcIjogbGFzdFNpZ25BcHByb3ZlLnRyYWNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGxhc3RUcmFjZSA9IF8uZmluZChpbnN0YW5jZSAhPSBudWxsID8gaW5zdGFuY2UudHJhY2VzIDogdm9pZCAwLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9IGxhc3RTaWduQXBwcm92ZS50cmFjZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGxhc3RUcmFjZSkge1xuICAgICAgICBzZXRPYmogPSB7fTtcbiAgICAgICAgaWYgKGxhc3RUcmFjZSAhPSBudWxsKSB7XG4gICAgICAgICAgbGFzdFRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYSwgaWR4KSB7XG4gICAgICAgICAgICBpZiAoYS5faWQgPT09IGxhc3RTaWduQXBwcm92ZS5faWQpIHtcbiAgICAgICAgICAgICAgaWYgKHNpZ25fdHlwZSA9PT0gXCJ1cGRhdGVcIikge1xuICAgICAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuc2lnbl9zaG93XCJdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5tb2RpZmllZFwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiBsYXN0VHJhY2UuX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgIHVwT2JqID0ge307XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIGlmIChzaWduX2ZpZWxkX2NvZGUpIHtcbiAgICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5zaWduX2ZpZWxkX2NvZGVcIl0gPSBzaWduX2ZpZWxkX2NvZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uO1xuICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5zaWduX3Nob3dcIl0gPSB0cnVlO1xuICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5tb2RpZmllZFwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLm1vZGlmaWVkX2J5XCJdID0gc2Vzc2lvbl91c2VySWQ7XG4gICAgICAgICAgcmV0dXJuIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghXy5pc0VtcHR5KHVwT2JqKSkge1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHVwT2JqXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICB1cGRhdGVfc2lnbl9zaG93OiBmdW5jdGlvbihvYmpzLCBteUFwcHJvdmVfaWQpIHtcbiAgICBvYmpzLmZvckVhY2goZnVuY3Rpb24ob2JqLCBpbmRleCkge1xuICAgICAgdmFyIGluc3RhbmNlLCByZWYsIHNldE9iaiwgdHJhY2U7XG4gICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBvYmouaW5zdGFuY2UsXG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKChpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgICAgc2V0T2JqID0ge307XG4gICAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBvYmouX2lkKSB7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3c7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmN1c3RvbV9zaWduX3Nob3dcIl0gPSBvYmouc2lnbl9zaG93O1xuICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IG15QXBwcm92ZV9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIV8uaXNFbXB0eShzZXRPYmopKSB7XG4gICAgICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBvYmouaW5zdGFuY2UsXG4gICAgICAgICAgICBcInRyYWNlcy5faWRcIjogb2JqLnRyYWNlXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRpbnN0YW5jZV9yZXR1cm46IChhcHByb3ZlLCByZWFzb24pLT5cblx0XHRjaGVjayhhcHByb3ZlLCBPYmplY3QpXG5cblx0XHRjdXJyZW50X3VzZXIgPSB0aGlzLnVzZXJJZFxuXHRcdGluc3RhbmNlX2lkID0gYXBwcm92ZS5pbnN0YW5jZVxuXG5cdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRzcGFjZV9pZCA9IGlucy5zcGFjZVxuXG5cdFx0IyAtIOW+heWuoeaguOeusVxuXHRcdGlmIGlucy5zdGF0ZSBpc250IFwicGVuZGluZ1wiIG9yICFpbnMuaW5ib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcblxuXHRcdCMgLSDmlofku7bkuI3mmK/kvKDpmIVcblx0XHRpZiBhcHByb3ZlLnR5cGUgaXMgXCJjY1wiIGFuZCBpbnMuY2NfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcblxuXHRcdCMgLSDnrb7moLjljobnqIvkuK3lvZPliY3mraXpqqTkuIrkuIDmraXpqqTkuI3mmK/kvJrnrb5cblx0XHRpZiBpbnMudHJhY2VzLmxlbmd0aCA8IDJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXG5cdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdylcblx0XHRwcmVfdHJhY2UgPSBpbnMudHJhY2VzW2lucy50cmFjZXMubGVuZ3RoIC0gMl1cblx0XHRwcmVfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIHByZV90cmFjZS5zdGVwKVxuXHRcdGlmIHByZV9zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXG5cblx0XHQjIC0g5b2T5YmN5q2l6aqk5Li65aGr5YaZ5oiW6ICF5a6h5om5XG5cdFx0bGFzdF90cmFjZSA9IF8ubGFzdChpbnMudHJhY2VzKVxuXHRcdGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcClcblx0XHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJzdWJtaXRcIiBhbmQgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpc250IFwic2lnblwiIGFuZCBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJjb3VudGVyU2lnblwiXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxuXG5cdFx0IyAtIOWPguaVsGFwcHJvdmXkuK10cmFjZeS4juW9k+WJjeiOt+WPlueahHRyYWNl5piv5ZCm5Yy56YWNXG5cdFx0aWYgYXBwcm92ZS50cmFjZSBpc250IGxhc3RfdHJhY2UuX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxuXG5cdFx0bmV3X2luYm94X3VzZXJzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoIHByZV90cmFjZS5hcHByb3ZlcywgKGEpLT5cblx0XHRcdGlmICghYS50eXBlIG9yIGEudHlwZSBpcyBcImRyYWZ0XCIgb3IgYS50eXBlIGlzIFwicmVhc3NpZ25cIikgYW5kICghYS5qdWRnZSBvciBhLmp1ZGdlIGlzIFwic3VibWl0dGVkXCIgb3IgYS5qdWRnZSBpcyBcImFwcHJvdmVkXCIgb3IgYS5qdWRnZSBpcyBcInJlamVjdGVkXCIpXG5cdFx0XHRcdG5ld19pbmJveF91c2Vycy5wdXNoKGEudXNlcilcblxuXHRcdGlmIF8uaXNFbXB0eShuZXdfaW5ib3hfdXNlcnMpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOS4i+S4gOatpeWkhOeQhuS6uu+8jOmAgOWbnuWksei0pVwiKVxuXG5cdFx0dHJhY2VzID0gaW5zLnRyYWNlc1xuXG5cdFx0YXBwcm92ZV92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldEFwcHJvdmVWYWx1ZXMoYXBwcm92ZS52YWx1ZXMgfHwge30sIGN1cnJlbnRfc3RlcC5wZXJtaXNzaW9ucywgaW5zLmZvcm0sIGlucy5mb3JtX3ZlcnNpb24pXG5cblx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0bm93ID0gbmV3IERhdGVcblx0XHRyZXN0X2NvdW50ZXJfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2ggdHJhY2VzLCAodCktPlxuXHRcdFx0aWYgdC5faWQgaXMgbGFzdF90cmFjZS5faWRcblx0XHRcdFx0aWYgbm90IHQuYXBwcm92ZXNcblx0XHRcdFx0XHR0LmFwcHJvdmVzID0gbmV3IEFycmF5XG5cdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSwgaWR4KS0+XG5cdFx0XHRcdFx0aWYgKCFhLnR5cGUgb3IgYS50eXBlIGlzIFwicmVhc3NpZ25cIikgYW5kICghYS5qdWRnZSBvciBhLmp1ZGdlIGlzIFwic3VibWl0dGVkXCIgb3IgYS5qdWRnZSBpcyBcImFwcHJvdmVkXCIgb3IgYS5qdWRnZSBpcyBcInJlamVjdGVkXCIgb3IgYS5qdWRnZSBpcyBcInJlYWRlZFwiKSBhbmQgYS5pc19maW5pc2hlZCBpc250IHRydWVcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5vd1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5vd1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19lcnJvciddID0gZmFsc2Vcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5jb3N0X3RpbWUnXSA9IG5vdyAtIGEuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy52YWx1ZXMnXSA9IGFwcHJvdmVfdmFsdWVzXG5cdFx0XHRcdFx0XHRpZiBhLmhhbmRsZXIgaXMgY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9IFwicmV0dXJuZWRcIlxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmRlc2NyaXB0aW9uJ10gPSByZWFzb25cblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0cmVzdF9jb3VudGVyX3VzZXJzLnB1c2ggYS5oYW5kbGVyXG5cblx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZeiusOW9lVxuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmlzX2ZpbmlzaGVkJ10gPSB0cnVlXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuZmluaXNoX2RhdGUnXSA9IHRydWVcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5qdWRnZSddID0gXCJyZXR1cm5lZFwiXG5cblx0XHRpbnMudmFsdWVzID0gXy5leHRlbmQoKGlucy52YWx1ZXMgfHwge30pLCBhcHByb3ZlX3ZhbHVlcylcblxuXHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcblx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3Rcblx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF1cblx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0bmV3VHJhY2Uuc3RlcCA9IHByZV90cmFjZS5zdGVwXG5cdFx0bmV3VHJhY2UubmFtZSA9IHByZV90cmFjZS5uYW1lXG5cdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZV9zdGVwLnRpbWVvdXRfaG91cnMpXG5cdFx0bmV3VHJhY2UuYXBwcm92ZXMgPSBbXVxuXHRcdF8uZWFjaCBuZXdfaW5ib3hfdXNlcnMsIChuZXh0X3N0ZXBfdXNlcl9pZCwgaWR4KS0+XG5cdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNlLmFwcHJvdmXorrDlvZVcblx0XHRcdG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0XG5cdFx0XHRuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0bmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZFxuXHRcdFx0bmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZFxuXG5cdFx0XHR1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKG5leHRfc3RlcF91c2VyX2lkLCB7ZmllbGRzOiB7bmFtZTogMX19KVxuXHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZVxuXG5cdFx0XHRoYW5kbGVyX2lkID0gbmV4dF9zdGVwX3VzZXJfaWRcblx0XHRcdGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mb1xuXHRcdFx0YWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCBuZXh0X3N0ZXBfdXNlcl9pZClcblx0XHRcdGlmIGFnZW50XG5cdFx0XHRcdG5ld19pbmJveF91c2Vyc1tpZHhdID0gYWdlbnRcblx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50XG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFnZW50IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnRcblxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZFxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxuXG5cdFx0XHRuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKVxuXHRcdFx0IyDojrflj5ZuZXh0X3N0ZXBfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xuXHRcdFx0bmV4dF9zdGVwX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8obmV4dF9zdGVwX3NwYWNlX3VzZXIpXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxuXG5cdFx0XHRuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlXG5cdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGlucy52YWx1ZXMsIG5ld0FwcHJvdmUpXG5cdFx0XHRuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpXG5cblx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBuZXdfaW5ib3hfdXNlcnNcblx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxuXG5cdFx0aW5zLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcilcblx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGlucy5vdXRib3hfdXNlcnMpXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXG5cdFx0c2V0T2JqLnZhbHVlcyA9IGlucy52YWx1ZXNcblxuXHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHByZV90cmFjZS5uYW1lXG5cblx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZCwgJ3RyYWNlcy5faWQnOiBsYXN0X3RyYWNlLl9pZH0sIHskc2V0OiBzZXRPYmp9KVxuXHRcdGIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRwdXNoOiB7dHJhY2VzOiBuZXdUcmFjZX19KVxuXHRcdGlmIHIgJiYgYlxuXHRcdFx0IyDmlrBpbmJveF91c2VycyDlkowg5b2T5YmN55So5oi3IOWPkemAgXB1c2hcblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZXR1cm5fcGVuZGluZ19pbmJveFwiLCBpbnN0YW5jZSwgcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbylcblx0XHRcdCMg5aaC5p6c5piv5Lya562+5YiZ57uZ5Lya562+5pyq5o+Q5Lqk55qE5Lq65Y+R6YCBcHVzaFxuXHRcdFx0Xy5lYWNoIHJlc3RfY291bnRlcl91c2VycywgKHVzZXJfaWQpLT5cblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXG5cdFx0cmV0dXJuIHRydWUiLCJNZXRlb3IubWV0aG9kcyh7XG4gIGluc3RhbmNlX3JldHVybjogZnVuY3Rpb24oYXBwcm92ZSwgcmVhc29uKSB7XG4gICAgdmFyIGFwcHJvdmVfdmFsdWVzLCBiLCBjdXJyZW50X3N0ZXAsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGZsb3csIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsYXN0X3RyYWNlLCBuZXdUcmFjZSwgbmV3X2luYm94X3VzZXJzLCBub3csIHByZV9zdGVwLCBwcmVfdHJhY2UsIHIsIHJlc3RfY291bnRlcl91c2Vycywgc2V0T2JqLCBzcGFjZV9pZCwgdHJhY2VzO1xuICAgIGNoZWNrKGFwcHJvdmUsIE9iamVjdCk7XG4gICAgY3VycmVudF91c2VyID0gdGhpcy51c2VySWQ7XG4gICAgaW5zdGFuY2VfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xuICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgIHNwYWNlX2lkID0gaW5zLnNwYWNlO1xuICAgIGlmIChpbnMuc3RhdGUgIT09IFwicGVuZGluZ1wiIHx8ICFpbnMuaW5ib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGlmIChhcHByb3ZlLnR5cGUgPT09IFwiY2NcIiAmJiBpbnMuY2NfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGlmIChpbnMudHJhY2VzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGlucy5mbG93KTtcbiAgICBwcmVfdHJhY2UgPSBpbnMudHJhY2VzW2lucy50cmFjZXMubGVuZ3RoIC0gMl07XG4gICAgcHJlX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBwcmVfdHJhY2Uuc3RlcCk7XG4gICAgaWYgKHByZV9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgbGFzdF90cmFjZSA9IF8ubGFzdChpbnMudHJhY2VzKTtcbiAgICBjdXJyZW50X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBsYXN0X3RyYWNlLnN0ZXApO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlICE9PSBcInN1Ym1pdFwiICYmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgIT09IFwic2lnblwiICYmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgIT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGlmIChhcHByb3ZlLnRyYWNlICE9PSBsYXN0X3RyYWNlLl9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIG5ld19pbmJveF91c2VycyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2gocHJlX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICBpZiAoKCFhLnR5cGUgfHwgYS50eXBlID09PSBcImRyYWZ0XCIgfHwgYS50eXBlID09PSBcInJlYXNzaWduXCIpICYmICghYS5qdWRnZSB8fCBhLmp1ZGdlID09PSBcInN1Ym1pdHRlZFwiIHx8IGEuanVkZ2UgPT09IFwiYXBwcm92ZWRcIiB8fCBhLmp1ZGdlID09PSBcInJlamVjdGVkXCIpKSB7XG4gICAgICAgIHJldHVybiBuZXdfaW5ib3hfdXNlcnMucHVzaChhLnVzZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChfLmlzRW1wdHkobmV3X2luYm94X3VzZXJzKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDkuIvkuIDmraXlpITnkIbkurrvvIzpgIDlm57lpLHotKVcIik7XG4gICAgfVxuICAgIHRyYWNlcyA9IGlucy50cmFjZXM7XG4gICAgYXBwcm92ZV92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldEFwcHJvdmVWYWx1ZXMoYXBwcm92ZS52YWx1ZXMgfHwge30sIGN1cnJlbnRfc3RlcC5wZXJtaXNzaW9ucywgaW5zLmZvcm0sIGlucy5mb3JtX3ZlcnNpb24pO1xuICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgbm93ID0gbmV3IERhdGU7XG4gICAgcmVzdF9jb3VudGVyX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGlmICh0Ll9pZCA9PT0gbGFzdF90cmFjZS5faWQpIHtcbiAgICAgICAgaWYgKCF0LmFwcHJvdmVzKSB7XG4gICAgICAgICAgdC5hcHByb3ZlcyA9IG5ldyBBcnJheTtcbiAgICAgICAgfVxuICAgICAgICBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYSwgaWR4KSB7XG4gICAgICAgICAgaWYgKCghYS50eXBlIHx8IGEudHlwZSA9PT0gXCJyZWFzc2lnblwiKSAmJiAoIWEuanVkZ2UgfHwgYS5qdWRnZSA9PT0gXCJzdWJtaXR0ZWRcIiB8fCBhLmp1ZGdlID09PSBcImFwcHJvdmVkXCIgfHwgYS5qdWRnZSA9PT0gXCJyZWplY3RlZFwiIHx8IGEuanVkZ2UgPT09IFwicmVhZGVkXCIpICYmIGEuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5vdztcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBub3c7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2Vycm9yJ10gPSBmYWxzZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWU7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmNvc3RfdGltZSddID0gbm93IC0gYS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy52YWx1ZXMnXSA9IGFwcHJvdmVfdmFsdWVzO1xuICAgICAgICAgICAgaWYgKGEuaGFuZGxlciA9PT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9IFwicmV0dXJuZWRcIjtcbiAgICAgICAgICAgICAgcmV0dXJuIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZGVzY3JpcHRpb24nXSA9IHJlYXNvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN0X2NvdW50ZXJfdXNlcnMucHVzaChhLmhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNldE9ialsndHJhY2VzLiQuaXNfZmluaXNoZWQnXSA9IHRydWU7XG4gICAgICAgIHNldE9ialsndHJhY2VzLiQuZmluaXNoX2RhdGUnXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBzZXRPYmpbJ3RyYWNlcy4kLmp1ZGdlJ10gPSBcInJldHVybmVkXCI7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaW5zLnZhbHVlcyA9IF8uZXh0ZW5kKGlucy52YWx1ZXMgfHwge30sIGFwcHJvdmVfdmFsdWVzKTtcbiAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF07XG4gICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICBuZXdUcmFjZS5zdGVwID0gcHJlX3RyYWNlLnN0ZXA7XG4gICAgbmV3VHJhY2UubmFtZSA9IHByZV90cmFjZS5uYW1lO1xuICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgbmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJlX3N0ZXAudGltZW91dF9ob3Vycyk7XG4gICAgbmV3VHJhY2UuYXBwcm92ZXMgPSBbXTtcbiAgICBfLmVhY2gobmV3X2luYm94X3VzZXJzLCBmdW5jdGlvbihuZXh0X3N0ZXBfdXNlcl9pZCwgaWR4KSB7XG4gICAgICB2YXIgYWdlbnQsIGhhbmRsZXJfaWQsIGhhbmRsZXJfaW5mbywgbmV3QXBwcm92ZSwgbmV4dF9zdGVwX3NwYWNlX3VzZXIsIG5leHRfc3RlcF91c2VyX29yZ19pbmZvLCB1c2VyX2luZm87XG4gICAgICBuZXdBcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICAgIG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgIG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWQ7XG4gICAgICBuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICBuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgIHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUobmV4dF9zdGVwX3VzZXJfaWQsIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWU7XG4gICAgICBoYW5kbGVyX2lkID0gbmV4dF9zdGVwX3VzZXJfaWQ7XG4gICAgICBoYW5kbGVyX2luZm8gPSB1c2VyX2luZm87XG4gICAgICBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIG5leHRfc3RlcF91c2VyX2lkKTtcbiAgICAgIGlmIChhZ2VudCkge1xuICAgICAgICBuZXdfaW5ib3hfdXNlcnNbaWR4XSA9IGFnZW50O1xuICAgICAgICBoYW5kbGVyX2lkID0gYWdlbnQ7XG4gICAgICAgIGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIF9pZDogYWdlbnRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld0FwcHJvdmUuYWdlbnQgPSBhZ2VudDtcbiAgICAgIH1cbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGhhbmRsZXJfaWQ7XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgbmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZCk7XG4gICAgICBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhuZXh0X3N0ZXBfc3BhY2VfdXNlcik7XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl07XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgbmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgbmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2U7XG4gICAgICBuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zLnZhbHVlcywgbmV3QXBwcm92ZSk7XG4gICAgICByZXR1cm4gbmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICB9KTtcbiAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBuZXdfaW5ib3hfdXNlcnM7XG4gICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgaW5zLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcik7XG4gICAgc2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnMub3V0Ym94X3VzZXJzKTtcbiAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgIHNldE9iai52YWx1ZXMgPSBpbnMudmFsdWVzO1xuICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHByZV90cmFjZS5uYW1lO1xuICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICAndHJhY2VzLl9pZCc6IGxhc3RfdHJhY2UuX2lkXG4gICAgfSwge1xuICAgICAgJHNldDogc2V0T2JqXG4gICAgfSk7XG4gICAgYiA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgICRwdXNoOiB7XG4gICAgICAgIHRyYWNlczogbmV3VHJhY2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAociAmJiBiKSB7XG4gICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyKTtcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmV0dXJuX3BlbmRpbmdfaW5ib3hcIiwgaW5zdGFuY2UsIHJlYXNvbiwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgXy5lYWNoKHJlc3RfY291bnRlcl91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdGluc3RhbmNlX3JlbWluZDogKHJlbWluZF91c2VycywgcmVtaW5kX2NvdW50LCByZW1pbmRfZGVhZGxpbmUsIGluc3RhbmNlX2lkLCBhY3Rpb25fdHlwZXMsIHRyYWNlX2lkKS0+XG5cdFx0Y2hlY2sgcmVtaW5kX3VzZXJzLCBBcnJheVxuXHRcdGNoZWNrIHJlbWluZF9jb3VudCwgTWF0Y2guT25lT2YoJ3NpbmdsZScsICdtdWx0aScpXG5cdFx0Y2hlY2sgcmVtaW5kX2RlYWRsaW5lLCBEYXRlXG5cdFx0Y2hlY2sgaW5zdGFuY2VfaWQsIFN0cmluZ1xuXHRcdGNoZWNrIGFjdGlvbl90eXBlcywgQXJyYXlcblx0XHRjaGVjayB0cmFjZV9pZCwgU3RyaW5nXG5cblx0XHRjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZFxuXHRcdGxhc3RfcmVtaW5kX3VzZXJzID0gbmV3IEFycmF5XG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWR9LCB7ZmllbGRzOiB7bmFtZTogMSwgdHJhY2VzOiAxLCB2YWx1ZXM6IDEsIHNwYWNlOiAxfX0pXG5cdFx0aWYgYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdhZG1pbicpXG5cdFx0XHRpZiByZW1pbmRfY291bnQgaXMgJ3NpbmdsZSdcblx0XHRcdFx0Xy5lYWNoIGlucy50cmFjZXMsICh0KS0+XG5cdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhcCktPlxuXHRcdFx0XHRcdFx0aWYgcmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpIGFuZCBhcC5pc19maW5pc2hlZCBpc250IHRydWVcblx0XHRcdFx0XHRcdFx0bGFzdF9yZW1pbmRfdXNlcnMucHVzaCBhcC51c2VyXG5cdFx0XHRlbHNlIGlmIHJlbWluZF9jb3VudCBpcyAnbXVsdGknXG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRcdHByaW9yaXR5ID0gaW5zLnZhbHVlcy5wcmlvcml0eVxuXHRcdFx0XHRfLmVhY2ggaW5zLnRyYWNlcywgKHQpLT5cblx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwKS0+XG5cdFx0XHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxuXHRcdFx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcblx0XHRcdFx0XHRcdFx0YXAubWFudWFsX2RlYWRsaW5lID0gcmVtaW5kX2RlYWRsaW5lXG5cdFx0XHRcdFx0XHRcdCMg77yIMe+8ieKAnOaZrumAmuKAne+8muWmguS4ieS4quW3peS9nOaXpeWGheacquWkhOeQhu+8jOezu+e7n+iHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4uuS6jOaXpeWGhe+8m1xuXHRcdFx0XHRcdFx0XHQjICDlpoLkuozml6XlkI7ku43mnKrlpITnkIbvvIzns7vnu5/mr4/lpKnoh6rliqjlj5Hnn63kv6Hmj5DphpLvvIzlip7nu5Pml7bpmZDkuLrkuIDml6XlhoXjgIJcblx0XHRcdFx0XHRcdFx0aWYgcHJpb3JpdHkgaXMgXCLmma7pgJpcIiBvciBub3QgcHJpb3JpdHlcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRcdFx0IyDvvIgy77yJ4oCc5Yqe5paH4oCd77ya5aaC5LiA5Liq5bel5L2c5pel5YaF5pyq5aSE55CG77yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li66KGo5Y2V5LiK55qE4oCc5Yqe57uT5pe26ZmQ4oCd77yI5paH5Lmm5b2V5YWl55qE5pe26Ze077yJ77ybXG5cdFx0XHRcdFx0XHRcdCMgIOWmguS4gOaXpeWQjuS7jeacquWkhOeQhu+8jOezu+e7n+avj+WkqeiHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4jeWPmO+8m1xuXHRcdFx0XHRcdFx0XHQjICDot53nprvlip7nu5Pml7bpmZDkuLrljYrml6Xml7bvvIzliJnmr4/ljYrkuKrlt6XkvZzml6Xmj5DphpLlm5vmrKHvvJvotoXov4flip7nu5Pml7bpmZDlkI7ku43nhLbmjInnhafmr4/ljYrml6Xlm5vmrKHmj5DphpLjgIJcblx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBwcmlvcml0eSBpcyBcIuWKnuaWh1wiXG5cdFx0XHRcdFx0XHRcdFx0aWYgU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lICMg6LaF6L+H5LqG5Yqe57uT5pe26ZmQ5oiW6ICF6Led56a75Yqe57uT5pe26ZmQ5Y2K5pel5YaFXG5cdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKVxuXHRcdFx0XHRcdFx0XHRcdGVsc2UgaWYgU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUgPSAoYmFzZV9kYXRlKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGVcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUobm93KVxuXG5cdFx0XHRcdFx0XHRcdCMg77yIM++8ieKAnOe0p+aApeKAne+8muWcqOWPkemAgeeahOWQjOaXtu+8jOezu+e7n+iHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4uuihqOWNleS4iueahOKAnOWKnue7k+aXtumZkOKAne+8iOaWh+S5puW9leWFpeeahOaXtumXtO+8ie+8m1xuXHRcdFx0XHRcdFx0XHQjICDlpoLljYrml6XlhoXku43mnKrlpITnkIbvvIzns7vnu5/mr4/ljYrlpKnoh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuI3lj5jvvJvot53nprvlip7nu5Pml7bpmZDkuLrljYrml6Xml7bvvIzmr4/ljYrkuKrlt6XkvZzml6Xmj5DphpLlm5vmrKHvvJvotoXov4flip7nu5Pml7bpmZDlkI7ku43nhLbmjInnhafmr4/ljYrml6Xlm5vmrKHmj5DphpLjgIJcblx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBwcmlvcml0eSBpcyBcIue0p+aApVwiXG5cdFx0XHRcdFx0XHRcdFx0aWYgU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lICMg6LaF6L+H5LqG5Yqe57uT5pe26ZmQ5oiW6ICF6Led56a75Yqe57uT5pe26ZmQ5Y2K5pel5YaFXG5cdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKVxuXHRcdFx0XHRcdFx0XHRcdGVsc2UgaWYgU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUgPSAoYmFzZV9kYXRlKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGVcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUobm93KVxuXG5cdFx0XHRcdFx0XHRcdCMg77yINO+8ieKAnOeJueaApeKAne+8muWcqOWPkemAgeeahOWQjOaXtu+8jOezu+e7n+iHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4uuihqOWNleS4iueahOKAnOWKnue7k+aXtumZkOKAne+8iOaWh+S5puW9leWFpeeahOaXtumXtO+8ie+8m1xuXHRcdFx0XHRcdFx0XHQjICDlpoLljYrml6XlhoXku43mnKrlpITnkIbvvIzns7vnu5/mr4/ljYrkuKrlt6XkvZzml6Xmj5DphpLlm5vmrKHvvJrlip7nu5Pml7bpmZDkuI3lj5jvvJvotoXov4flip7nu5Pml7bpmZDlkI7ku43nhLbmjInnhafmr4/ljYrml6Xlm5vmrKHmj5DphpLjgIJcblx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBwcmlvcml0eSBpcyBcIueJueaApVwiXG5cdFx0XHRcdFx0XHRcdFx0aWYgU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lICMg6LaF6L+H5LqG5Yqe57uT5pe26ZmQ5oiW6ICF6Led56a75Yqe57uT5pe26ZmQ5Y2K5pel5YaFXG5cdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKVxuXHRcdFx0XHRcdFx0XHRcdGVsc2UgaWYgU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUgPSAoYmFzZV9kYXRlKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGVcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUobm93KVxuXG5cdFx0XHRcdGlmIG5vdCBfLmlzRW1wdHkobGFzdF9yZW1pbmRfdXNlcnMpXG5cdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiB7J3RyYWNlcyc6IGlucy50cmFjZXN9fSlcblxuXHRcdGVsc2UgaWYgYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdhcHBsaWNhbnQnKVxuXHRcdFx0dHJhY2UgPSBfLmZpbmQgaW5zLnRyYWNlcywgKHQpLT5cblx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIHRyYWNlX2lkXG5cdFx0XHRfLmVhY2ggdHJhY2UuYXBwcm92ZXMsIChhcCktPlxuXHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxuXHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxuXG5cdFx0ZWxzZSBpZiBhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2NjJylcblx0XHRcdF8uZWFjaCBpbnMudHJhY2VzLCAodCktPlxuXHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwKS0+XG5cdFx0XHRcdFx0aWYgcmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpIGFuZCBhcC5pc19maW5pc2hlZCBpc250IHRydWUgYW5kIGFwLnR5cGUgaXMgJ2NjJyBhbmQgYXAuZnJvbV91c2VyIGlzIGN1cnJlbnRfdXNlcl9pZFxuXHRcdFx0XHRcdFx0bGFzdF9yZW1pbmRfdXNlcnMucHVzaCBhcC51c2VyXG5cblx0XHR1dWZsb3dNYW5hZ2VyLnNlbmRSZW1pbmRTTVMgaW5zLm5hbWUsIHJlbWluZF9kZWFkbGluZSwgbGFzdF9yZW1pbmRfdXNlcnMsIGlucy5zcGFjZSwgaW5zLl9pZFxuXG5cdFx0cmV0dXJuIHRydWVcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgaW5zdGFuY2VfcmVtaW5kOiBmdW5jdGlvbihyZW1pbmRfdXNlcnMsIHJlbWluZF9jb3VudCwgcmVtaW5kX2RlYWRsaW5lLCBpbnN0YW5jZV9pZCwgYWN0aW9uX3R5cGVzLCB0cmFjZV9pZCkge1xuICAgIHZhciBjdXJyZW50X3VzZXJfaWQsIGlucywgbGFzdF9yZW1pbmRfdXNlcnMsIG5vdywgcHJpb3JpdHksIHRyYWNlO1xuICAgIGNoZWNrKHJlbWluZF91c2VycywgQXJyYXkpO1xuICAgIGNoZWNrKHJlbWluZF9jb3VudCwgTWF0Y2guT25lT2YoJ3NpbmdsZScsICdtdWx0aScpKTtcbiAgICBjaGVjayhyZW1pbmRfZGVhZGxpbmUsIERhdGUpO1xuICAgIGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGFjdGlvbl90eXBlcywgQXJyYXkpO1xuICAgIGNoZWNrKHRyYWNlX2lkLCBTdHJpbmcpO1xuICAgIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xuICAgIGxhc3RfcmVtaW5kX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogMSxcbiAgICAgICAgdHJhY2VzOiAxLFxuICAgICAgICB2YWx1ZXM6IDEsXG4gICAgICAgIHNwYWNlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGFjdGlvbl90eXBlcy5pbmNsdWRlcygnYWRtaW4nKSkge1xuICAgICAgaWYgKHJlbWluZF9jb3VudCA9PT0gJ3NpbmdsZScpIHtcbiAgICAgICAgXy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwKSB7XG4gICAgICAgICAgICBpZiAocmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpICYmIGFwLmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBsYXN0X3JlbWluZF91c2Vycy5wdXNoKGFwLnVzZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocmVtaW5kX2NvdW50ID09PSAnbXVsdGknKSB7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBwcmlvcml0eSA9IGlucy52YWx1ZXMucHJpb3JpdHk7XG4gICAgICAgIF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICAgICAgdmFyIGNhY3VsYXRlX2RhdGU7XG4gICAgICAgICAgICBpZiAocmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpICYmIGFwLmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgICAgICAgIGFwLm1hbnVhbF9kZWFkbGluZSA9IHJlbWluZF9kZWFkbGluZTtcbiAgICAgICAgICAgICAgaWYgKHByaW9yaXR5ID09PSBcIuaZrumAmlwiIHx8ICFwcmlvcml0eSkge1xuXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPT09IFwi5Yqe5paHXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZSA9IGZ1bmN0aW9uKGJhc2VfZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGx1c19oYWxmZGF5X2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2FjdWxhdGVfZGF0ZShub3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA9PT0gXCLntKfmgKVcIikge1xuICAgICAgICAgICAgICAgIGlmIChTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlID0gZnVuY3Rpb24oYmFzZV9kYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbHVzX2hhbGZkYXlfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgcGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYWN1bGF0ZV9kYXRlKG5vdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09PSBcIueJueaApVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUgPSBmdW5jdGlvbihiYXNlX2RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdXNfaGFsZmRheV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICBwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY3VsYXRlX2RhdGUobm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghXy5pc0VtcHR5KGxhc3RfcmVtaW5kX3VzZXJzKSkge1xuICAgICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgJ3RyYWNlcyc6IGlucy50cmFjZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdhcHBsaWNhbnQnKSkge1xuICAgICAgdHJhY2UgPSBfLmZpbmQoaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdC5faWQgPT09IHRyYWNlX2lkO1xuICAgICAgfSk7XG4gICAgICBfLmVhY2godHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwKSB7XG4gICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICByZXR1cm4gbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2NjJykpIHtcbiAgICAgIF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgICBpZiAocmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpICYmIGFwLmlzX2ZpbmlzaGVkICE9PSB0cnVlICYmIGFwLnR5cGUgPT09ICdjYycgJiYgYXAuZnJvbV91c2VyID09PSBjdXJyZW50X3VzZXJfaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0X3JlbWluZF91c2Vycy5wdXNoKGFwLnVzZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5zZW5kUmVtaW5kU01TKGlucy5uYW1lLCByZW1pbmRfZGVhZGxpbmUsIGxhc3RfcmVtaW5kX3VzZXJzLCBpbnMuc3BhY2UsIGlucy5faWQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdG5leHRfc3RlcF91c2Vyc19ub3RfZm91bmQ6IChkZWFsX3R5cGUsIHN0ZXBfbmFtZSwgcGFyYW1zKSAtPlxuXHRcdGNoZWNrIGRlYWxfdHlwZSwgU3RyaW5nXG5cdFx0Y2hlY2sgc3RlcF9uYW1lLCBTdHJpbmdcblx0XHRjaGVjayBwYXJhbXMsIE9iamVjdFxuXG5cdFx0c3RyID0gXCJcIlxuXHRcdHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiB0aGlzLnVzZXJJZCB9LCB7IGZpZWxkczogeyBsb2NhbGU6IDEgfSB9KVxuXHRcdCPorr7nva7lvZPliY3or63oqIDnjq/looNcblx0XHRsYW5nID0gJ2VuJ1xuXHRcdGlmIHVzZXIubG9jYWxlIGlzICd6aC1jbidcblx0XHRcdGxhbmcgPSAnemgtQ04nXG5cblx0XHQjIOaMh+WumuWuoeaJueWyl+S9jVxuXHRcdGlmIGRlYWxfdHlwZSBpcyAnYXBwbGljYW50Um9sZSdcblx0XHRcdGFwcHJvdmVyX3JvbGVzID0gcGFyYW1zLmFwcHJvdmVyX3JvbGVzXG5cdFx0XHRyb2xlcyA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogeyAkaW46IGFwcHJvdmVyX3JvbGVzIH0gfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pLmZldGNoKClcblx0XHRcdHJvbGVzX25hbWUgPSBfLnBsdWNrKHJvbGVzLCAnbmFtZScpLnRvU3RyaW5nKClcblx0XHRcdHN0ciA9IFRBUGkxOG4uX18gJ25leHRfc3RlcF91c2Vyc19ub3RfZm91bmQuYXBwbGljYW50X3JvbGUnLCB7IHN0ZXBfbmFtZTogc3RlcF9uYW1lLCByb2xlX25hbWU6IHJvbGVzX25hbWUgfSwgbGFuZ1xuXG5cblx0XHRyZXR1cm4gc3RyXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIG5leHRfc3RlcF91c2Vyc19ub3RfZm91bmQ6IGZ1bmN0aW9uKGRlYWxfdHlwZSwgc3RlcF9uYW1lLCBwYXJhbXMpIHtcbiAgICB2YXIgYXBwcm92ZXJfcm9sZXMsIGxhbmcsIHJvbGVzLCByb2xlc19uYW1lLCBzdHIsIHVzZXI7XG4gICAgY2hlY2soZGVhbF90eXBlLCBTdHJpbmcpO1xuICAgIGNoZWNrKHN0ZXBfbmFtZSwgU3RyaW5nKTtcbiAgICBjaGVjayhwYXJhbXMsIE9iamVjdCk7XG4gICAgc3RyID0gXCJcIjtcbiAgICB1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICBfaWQ6IHRoaXMudXNlcklkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGxvY2FsZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGxhbmcgPSAnZW4nO1xuICAgIGlmICh1c2VyLmxvY2FsZSA9PT0gJ3poLWNuJykge1xuICAgICAgbGFuZyA9ICd6aC1DTic7XG4gICAgfVxuICAgIGlmIChkZWFsX3R5cGUgPT09ICdhcHBsaWNhbnRSb2xlJykge1xuICAgICAgYXBwcm92ZXJfcm9sZXMgPSBwYXJhbXMuYXBwcm92ZXJfcm9sZXM7XG4gICAgICByb2xlcyA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogYXBwcm92ZXJfcm9sZXNcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICByb2xlc19uYW1lID0gXy5wbHVjayhyb2xlcywgJ25hbWUnKS50b1N0cmluZygpO1xuICAgICAgc3RyID0gVEFQaTE4bi5fXygnbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5hcHBsaWNhbnRfcm9sZScsIHtcbiAgICAgICAgc3RlcF9uYW1lOiBzdGVwX25hbWUsXG4gICAgICAgIHJvbGVfbmFtZTogcm9sZXNfbmFtZVxuICAgICAgfSwgbGFuZyk7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH1cbn0pO1xuIiwiX2V2YWwgPSByZXF1aXJlKCdldmFsJylcblxuTWV0ZW9yLm1ldGhvZHNcblx0aW5zdGFuY2VOdW1iZXJCdWlsZGVyOiAoc3BhY2VJZCwgbmFtZSktPlxuXG5cdFx0bnVtYmVyUnVsZXMgPSBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMuZmluZE9uZSh7c3BhY2U6IHNwYWNlSWQsIG5hbWU6IG5hbWV9KVxuXG5cdFx0aWYgIW51bWJlclJ1bGVzXG5cdFx0XHR0aHJvdyBuZXcgIE1ldGVvci5FcnJvcignZXJyb3IhJywgXCIje25hbWV9XCIpXG5cblx0XHRkYXRlID0gbmV3IERhdGUoKVxuXG5cdFx0Y29udGV4dCA9IHt9XG5cblx0XHRjb250ZXh0Ll8gPSBfXG5cblx0XHRfWVlZWSA9IGRhdGUuZ2V0RnVsbFllYXIoKVxuXG5cdFx0X05VTUJFUiA9IChudW1iZXJSdWxlcy5udW1iZXIgfHwgMCkgKyAxXG5cblx0XHRjb250ZXh0LllZWVkgPSBfLmNsb25lKF9ZWVlZKVxuXG5cdFx0Y29udGV4dC5NTSA9IGRhdGUuZ2V0TW9udGgoKSArIDFcblxuXHRcdGNvbnRleHQubW0gPSBkYXRlLmdldE1vbnRoKCkgKyAxXG5cblx0XHRpZiBjb250ZXh0Lk1NIDwgMTBcblx0XHRcdGNvbnRleHQuTU0gPSBcIjBcIiArIGNvbnRleHQuTU1cblxuXHRcdGNvbnRleHQuREQgPSBkYXRlLmdldERhdGUoKVxuXG5cdFx0Y29udGV4dC5kZCA9IGRhdGUuZ2V0RGF0ZSgpXG5cblx0XHRpZiBjb250ZXh0LkREIDwgMTBcblx0XHRcdGNvbnRleHQuREQgPSBcIjBcIiArIGNvbnRleHQuRERcblxuXHRcdGlmIGNvbnRleHQuWVlZWSAhPSBudW1iZXJSdWxlcy55ZWFyXG5cdFx0XHRfTlVNQkVSID0gbnVtYmVyUnVsZXMuZmlyc3RfbnVtYmVyIHx8IDFcblxuXHRcdGNvbnRleHQuTlVNQkVSID0gXy5jbG9uZShfTlVNQkVSKVxuXG5cdFx0cnVsZXMgPSBudW1iZXJSdWxlcy5ydWxlcy5yZXBsYWNlKFwie1lZWVl9XCIsIFwiJyArIFlZWVkgKyAnXCIpLnJlcGxhY2UoXCJ7TU19XCIsIFwiJyArIE1NICsgJ1wiKS5yZXBsYWNlKFwie05VTUJFUn1cIiwgXCInICsgTlVNQkVSICsgJ1wiKVxuXG5cdFx0c2NyaXB0ID0gXCJ2YXIgbmV3Tm8gPSAnI3tydWxlc30nOyBleHBvcnRzLm5ld05vID0gbmV3Tm9cIjtcblxuXHRcdHRyeVxuXHRcdFx0cmVzID0gX2V2YWwoc2NyaXB0LCBcIm5ld05vXCIsIGNvbnRleHQsIGZhbHNlKS5uZXdOb1xuXG5cdFx0XHRkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMudXBkYXRlKHtfaWQ6IG51bWJlclJ1bGVzLl9pZH0sIHskc2V0OiB7eWVhcjogX1lZWVksIG51bWJlcjogX05VTUJFUn19KVxuXG5cdFx0XHRjb25zb2xlLmxvZyB0aGlzLnVzZXJJZCwgcmVzXG5cblx0XHRjYXRjaCBlXG5cdFx0XHRyZXMgPSB7X2Vycm9yOiBlfVxuXG5cdFx0cmV0dXJuIHJlcztcbiIsInZhciBfZXZhbDtcblxuX2V2YWwgPSByZXF1aXJlKCdldmFsJyk7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgaW5zdGFuY2VOdW1iZXJCdWlsZGVyOiBmdW5jdGlvbihzcGFjZUlkLCBuYW1lKSB7XG4gICAgdmFyIF9OVU1CRVIsIF9ZWVlZLCBjb250ZXh0LCBkYXRlLCBlLCBudW1iZXJSdWxlcywgcmVzLCBydWxlcywgc2NyaXB0O1xuICAgIG51bWJlclJ1bGVzID0gZGIuaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgICBuYW1lOiBuYW1lXG4gICAgfSk7XG4gICAgaWYgKCFudW1iZXJSdWxlcykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJcIiArIG5hbWUpO1xuICAgIH1cbiAgICBkYXRlID0gbmV3IERhdGUoKTtcbiAgICBjb250ZXh0ID0ge307XG4gICAgY29udGV4dC5fID0gXztcbiAgICBfWVlZWSA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICBfTlVNQkVSID0gKG51bWJlclJ1bGVzLm51bWJlciB8fCAwKSArIDE7XG4gICAgY29udGV4dC5ZWVlZID0gXy5jbG9uZShfWVlZWSk7XG4gICAgY29udGV4dC5NTSA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgY29udGV4dC5tbSA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgaWYgKGNvbnRleHQuTU0gPCAxMCkge1xuICAgICAgY29udGV4dC5NTSA9IFwiMFwiICsgY29udGV4dC5NTTtcbiAgICB9XG4gICAgY29udGV4dC5ERCA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIGNvbnRleHQuZGQgPSBkYXRlLmdldERhdGUoKTtcbiAgICBpZiAoY29udGV4dC5ERCA8IDEwKSB7XG4gICAgICBjb250ZXh0LkREID0gXCIwXCIgKyBjb250ZXh0LkREO1xuICAgIH1cbiAgICBpZiAoY29udGV4dC5ZWVlZICE9PSBudW1iZXJSdWxlcy55ZWFyKSB7XG4gICAgICBfTlVNQkVSID0gbnVtYmVyUnVsZXMuZmlyc3RfbnVtYmVyIHx8IDE7XG4gICAgfVxuICAgIGNvbnRleHQuTlVNQkVSID0gXy5jbG9uZShfTlVNQkVSKTtcbiAgICBydWxlcyA9IG51bWJlclJ1bGVzLnJ1bGVzLnJlcGxhY2UoXCJ7WVlZWX1cIiwgXCInICsgWVlZWSArICdcIikucmVwbGFjZShcIntNTX1cIiwgXCInICsgTU0gKyAnXCIpLnJlcGxhY2UoXCJ7TlVNQkVSfVwiLCBcIicgKyBOVU1CRVIgKyAnXCIpO1xuICAgIHNjcmlwdCA9IFwidmFyIG5ld05vID0gJ1wiICsgcnVsZXMgKyBcIic7IGV4cG9ydHMubmV3Tm8gPSBuZXdOb1wiO1xuICAgIHRyeSB7XG4gICAgICByZXMgPSBfZXZhbChzY3JpcHQsIFwibmV3Tm9cIiwgY29udGV4dCwgZmFsc2UpLm5ld05vO1xuICAgICAgZGIuaW5zdGFuY2VfbnVtYmVyX3J1bGVzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogbnVtYmVyUnVsZXMuX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHtcbiAgICAgICAgICB5ZWFyOiBfWVlZWSxcbiAgICAgICAgICBudW1iZXI6IF9OVU1CRVJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLnVzZXJJZCwgcmVzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZSA9IGVycm9yO1xuICAgICAgcmVzID0ge1xuICAgICAgICBfZXJyb3I6IGVcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0Y2hlY2tfbWFpbl9hdHRhY2g6IChpbnNfaWQsIG5hbWUpLT5cblx0XHRjaGVjayBpbnNfaWQsIFN0cmluZ1xuXHRcdHV1Zmxvd01hbmFnZXIuY2hlY2tNYWluQXR0YWNoKGluc19pZCwgbmFtZSlcblx0XHRyZXR1cm4gJ3N1Y2Nlc3MnXG5cbiIsIk1ldGVvci5tZXRob2RzXG5cdHJlbW92ZV9yZWxhdGVkOiAoaW5zX2lkLCByZV9pbnNfaWQpLT5cblx0XHRjaGVjayhpbnNfaWQsIFN0cmluZylcblx0XHRjaGVjayhyZV9pbnNfaWQsIFN0cmluZylcblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zX2lkfSwge2ZpZWxkczoge3JlbGF0ZWRfaW5zdGFuY2VzOiAxfX0pXG5cblx0XHRpZiBpbnNcblx0XHRcdHJlcyA9IGlucy5yZWxhdGVkX2luc3RhbmNlcyB8fCBbXVxuXG5cdFx0XHRpbmRleCA9IHJlcy5pbmRleE9mKHJlX2luc19pZClcblxuXHRcdFx0aWYgaW5kZXggPiAtMVxuXHRcdFx0XHRyZXMucmVtb3ZlKGluZGV4KVxuXG5cdFx0XHRzZXRfb2JqID0gbmV3IE9iamVjdDtcblx0XHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0c2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuXHRcdFx0c2V0X29iai5yZWxhdGVkX2luc3RhbmNlcyA9IHJlc1xuXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc19pZH0sIHskc2V0OiBzZXRfb2JqfSlcblxuXHR1cGRhdGVfaW5zdGFuY2VfcmVsYXRlZDogKGluc19pZCwgcmVsYXRlZF9pbnN0YW5jZXMpLT5cblx0XHRjaGVjayhpbnNfaWQsIFN0cmluZylcblx0XHRjaGVjayhyZWxhdGVkX2luc3RhbmNlcywgQXJyYXkpXG5cblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zX2lkLCAkb3I6IFt7c3VibWl0dGVyOiB0aGlzLnVzZXJJZH0sIHthcHBsaWNhbnQ6IHRoaXMudXNlcklkfV19LCB7ZmllbGRzOiB7c3RhdGU6IDF9fSlcblxuXHRcdGlmIGluc1xuXHRcdFx0c2V0X29iaiA9IG5ldyBPYmplY3Q7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZWxhdGVkX2luc3RhbmNlc1xuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnNfaWR9LCB7JHNldDogc2V0X29ian0pXG5cblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogIHJlbGF0ZWRfaW5zdGFuY2VzfX0sIHtmaWVsZHM6IHtfaWQ6IDEsIHZhbHVlczogMX19KS5mZXRjaCgpXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIHJlbW92ZV9yZWxhdGVkOiBmdW5jdGlvbihpbnNfaWQsIHJlX2luc19pZCkge1xuICAgIHZhciBpbmRleCwgaW5zLCByZXMsIHNldF9vYmo7XG4gICAgY2hlY2soaW5zX2lkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHJlX2luc19pZCwgU3RyaW5nKTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHJlbGF0ZWRfaW5zdGFuY2VzOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucykge1xuICAgICAgcmVzID0gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIHx8IFtdO1xuICAgICAgaW5kZXggPSByZXMuaW5kZXhPZihyZV9pbnNfaWQpO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgcmVzLnJlbW92ZShpbmRleCk7XG4gICAgICB9XG4gICAgICBzZXRfb2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuICAgICAgc2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuICAgICAgc2V0X29iai5yZWxhdGVkX2luc3RhbmNlcyA9IHJlcztcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnNfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0X29ialxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICB1cGRhdGVfaW5zdGFuY2VfcmVsYXRlZDogZnVuY3Rpb24oaW5zX2lkLCByZWxhdGVkX2luc3RhbmNlcykge1xuICAgIHZhciBpbnMsIHNldF9vYmo7XG4gICAgY2hlY2soaW5zX2lkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHJlbGF0ZWRfaW5zdGFuY2VzLCBBcnJheSk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZCxcbiAgICAgICRvcjogW1xuICAgICAgICB7XG4gICAgICAgICAgc3VibWl0dGVyOiB0aGlzLnVzZXJJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgYXBwbGljYW50OiB0aGlzLnVzZXJJZFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucykge1xuICAgICAgc2V0X29iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcbiAgICAgIHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcbiAgICAgIHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZWxhdGVkX2luc3RhbmNlcztcbiAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc19pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiBzZXRfb2JqXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgIF9pZDoge1xuICAgICAgICAkaW46IHJlbGF0ZWRfaW5zdGFuY2VzXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIF9pZDogMSxcbiAgICAgICAgdmFsdWVzOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHR1cGRhdGVGbG93UG9zaXRpb246IChkYXRhKSAtPlxuXHRcdGRiLmZsb3dfcG9zaXRpb25zLnVwZGF0ZSB7IF9pZDogZGF0YS5faWQgfSwgJHNldDpcblx0XHRcdHJvbGU6IGRhdGEucm9sZVxuXHRcdFx0dXNlcnM6IGRhdGEudXNlcnNcblx0XHRcdG9yZzogZGF0YS5vcmdcblxuXHR1cGRhdGVGbG93Um9sZTogKGRhdGEpIC0+XG5cdFx0Y29uc29sZS5sb2cgZGF0YS5faWRcblx0XHRjb25zb2xlLmxvZyBkYXRhLm5hbWVcblx0XHRkYi5mbG93X3JvbGVzLnVwZGF0ZSB7IF9pZDogZGF0YS5faWQgfSwgJHNldDpcblx0XHRcdG5hbWU6IGRhdGEubmFtZSIsIk1ldGVvci5tZXRob2RzKHtcbiAgdXBkYXRlRmxvd1Bvc2l0aW9uOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgcmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGRhdGEuX2lkXG4gICAgfSwge1xuICAgICAgJHNldDoge1xuICAgICAgICByb2xlOiBkYXRhLnJvbGUsXG4gICAgICAgIHVzZXJzOiBkYXRhLnVzZXJzLFxuICAgICAgICBvcmc6IGRhdGEub3JnXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIHVwZGF0ZUZsb3dSb2xlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgY29uc29sZS5sb2coZGF0YS5faWQpO1xuICAgIGNvbnNvbGUubG9nKGRhdGEubmFtZSk7XG4gICAgcmV0dXJuIGRiLmZsb3dfcm9sZXMudXBkYXRlKHtcbiAgICAgIF9pZDogZGF0YS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdHN0YXJ0X2Zsb3c6IChzcGFjZSwgZmxvd0lkLCBzdGFydCkgLT5cblxuXHRcdGtleVZhbHVlID0gZGIuc3RlZWRvc19rZXl2YWx1ZXMuZmluZE9uZSh7IHNwYWNlOiBzcGFjZSwgdXNlcjogdGhpcy51c2VySWQsIGtleTogJ3N0YXJ0X2Zsb3dzJyB9LCB7IGZpZWxkczogeyB2YWx1ZTogMSB9IH0pXG5cblx0XHRzdGFydF9mbG93cyA9IGtleVZhbHVlPy52YWx1ZSB8fCBbXVxuXG5cdFx0aWYgc3RhcnRcblx0XHRcdHN0YXJ0X2Zsb3dzLnB1c2goZmxvd0lkKVxuXG5cdFx0XHRzdGFydF9mbG93cyA9IF8udW5pcShzdGFydF9mbG93cylcblx0XHRlbHNlXG5cdFx0XHRzdGFydF9mbG93cy5yZW1vdmUoc3RhcnRfZmxvd3MuaW5kZXhPZihmbG93SWQpKVxuXG5cdFx0aWYga2V5VmFsdWVcblx0XHRcdGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLnVwZGF0ZSh7IF9pZDoga2V5VmFsdWUuX2lkIH0sIHsgc3BhY2U6IHNwYWNlLCB1c2VyOiB0aGlzLnVzZXJJZCwga2V5OiAnc3RhcnRfZmxvd3MnLCB2YWx1ZTogc3RhcnRfZmxvd3MgfSlcblx0XHRlbHNlXG5cdFx0XHRkYi5zdGVlZG9zX2tleXZhbHVlcy5pbnNlcnQoeyBzcGFjZTogc3BhY2UsIHVzZXI6IHRoaXMudXNlcklkLCBrZXk6ICdzdGFydF9mbG93cycsIHZhbHVlOiBzdGFydF9mbG93cyB9KVxuXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIHN0YXJ0X2Zsb3c6IGZ1bmN0aW9uKHNwYWNlLCBmbG93SWQsIHN0YXJ0KSB7XG4gICAgdmFyIGtleVZhbHVlLCBzdGFydF9mbG93cztcbiAgICBrZXlWYWx1ZSA9IGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlLFxuICAgICAgdXNlcjogdGhpcy51c2VySWQsXG4gICAgICBrZXk6ICdzdGFydF9mbG93cydcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdmFsdWU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzdGFydF9mbG93cyA9IChrZXlWYWx1ZSAhPSBudWxsID8ga2V5VmFsdWUudmFsdWUgOiB2b2lkIDApIHx8IFtdO1xuICAgIGlmIChzdGFydCkge1xuICAgICAgc3RhcnRfZmxvd3MucHVzaChmbG93SWQpO1xuICAgICAgc3RhcnRfZmxvd3MgPSBfLnVuaXEoc3RhcnRfZmxvd3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydF9mbG93cy5yZW1vdmUoc3RhcnRfZmxvd3MuaW5kZXhPZihmbG93SWQpKTtcbiAgICB9XG4gICAgaWYgKGtleVZhbHVlKSB7XG4gICAgICByZXR1cm4gZGIuc3RlZWRvc19rZXl2YWx1ZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBrZXlWYWx1ZS5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgc3BhY2U6IHNwYWNlLFxuICAgICAgICB1c2VyOiB0aGlzLnVzZXJJZCxcbiAgICAgICAga2V5OiAnc3RhcnRfZmxvd3MnLFxuICAgICAgICB2YWx1ZTogc3RhcnRfZmxvd3NcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGIuc3RlZWRvc19rZXl2YWx1ZXMuaW5zZXJ0KHtcbiAgICAgICAgc3BhY2U6IHNwYWNlLFxuICAgICAgICB1c2VyOiB0aGlzLnVzZXJJZCxcbiAgICAgICAga2V5OiAnc3RhcnRfZmxvd3MnLFxuICAgICAgICB2YWx1ZTogc3RhcnRfZmxvd3NcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRnZXRfaW5zdGFuY2VfdHJhY2VzOiAoaW5zX2lkKS0+XG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcblx0XHRcdHJldHVybjtcblx0XHRtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJyxcblx0XHRcdCdpc19yZWFkJywgJ2p1ZGdlJywgJ2ZpbmlzaF9kYXRlJywgJ2Zyb21fdXNlcl9uYW1lJywgJ2Zyb21fdXNlcicsICdjY19kZXNjcmlwdGlvbiddXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSB7X2lkOiBpbnNfaWR9LCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmlzX2ZpbmlzaGVkXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLnN0ZXBcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuc3RhcnRfZGF0ZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5uYW1lXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmZpbmlzaF9kYXRlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmp1ZGdlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLl9pZFwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5pc19maW5pc2hlZFwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy51c2VyXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9uYW1lXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnR5cGVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuc3RhcnRfZGF0ZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5kZXNjcmlwdGlvblwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5pc19yZWFkXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmp1ZGdlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZpbmlzaF9kYXRlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZyb21fdXNlcl9uYW1lXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZyb21fdXNlclwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5jY19kZXNjcmlwdGlvblwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy50cmFjZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5mb3J3YXJkX3NwYWNlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfaW5zdGFuY2VcIjogMVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICFpbnNcblx0XHRcdHJldHVyblxuXG5cdFx0cmV0dXJuIGlucz8udHJhY2VzXG5cbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgZ2V0X2luc3RhbmNlX3RyYWNlczogZnVuY3Rpb24oaW5zX2lkKSB7XG4gICAgdmFyIGlucywgbWluaUFwcHJvdmVGaWVsZHM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJywgJ2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJ107XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmlzX2ZpbmlzaGVkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLnN0ZXBcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuc3RhcnRfZGF0ZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5uYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmZpbmlzaF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmp1ZGdlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLl9pZFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5pc19maW5pc2hlZFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy51c2VyXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9uYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnR5cGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuc3RhcnRfZGF0ZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5kZXNjcmlwdGlvblwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5pc19yZWFkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmp1ZGdlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZpbmlzaF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZyb21fdXNlcl9uYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZyb21fdXNlclwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5jY19kZXNjcmlwdGlvblwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy50cmFjZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5mb3J3YXJkX3NwYWNlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfaW5zdGFuY2VcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBpbnMgIT0gbnVsbCA/IGlucy50cmFjZXMgOiB2b2lkIDA7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0J2dldF9iYXRjaF9pbnN0YW5jZXMnOiAoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMpLT5cblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0aWYgIXNwYWNlXG5cdFx0XHRyZXR1cm5cblxuXHRcdF9iYXRjaF9pbnN0YW5jZXMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIHRoaXMudXNlcklkKVxuXG5cdFx0cmV0dXJuIF9iYXRjaF9pbnN0YW5jZXNcblxuXHQnZ2V0X2JhdGNoX2luc3RhbmNlc19jb3VudCc6IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcyktPlxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpZiAhc3BhY2Vcblx0XHRcdHJldHVyblxuXG5cdFx0X2JhdGNoX2luc3RhbmNlcyA9IEluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyhzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgdGhpcy51c2VySWQpXG5cblx0XHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlcz8ubGVuZ3RoIHx8IDBcblxuXHQnZ2V0X215X2FwcHJvdmVzJzogKGluc3RhbmNlSWRzKS0+XG5cblx0XHR0aGF0ID0gdGhpc1xuXG5cdFx0aWYgIXRoYXQudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdG15QXBwcm92ZXMgPSBuZXcgQXJyYXkoKVxuXG5cdFx0aW5zdGFuY2VJZHMuZm9yRWFjaCAoaW5zSWQpLT5cblx0XHRcdG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlKGluc0lkLCB0aGF0LnVzZXJJZClcblx0XHRcdGlmIG15X2FwcHJvdmVcblx0XHRcdFx0bXlBcHByb3Zlcy5wdXNoKG15X2FwcHJvdmUpXG5cblx0XHRyZXR1cm4gbXlBcHByb3Zlc1xuXG5cblxuXG5cblxuXG5cblxuXG5cbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgJ2dldF9iYXRjaF9pbnN0YW5jZXMnOiBmdW5jdGlvbihzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcykge1xuICAgIHZhciBfYmF0Y2hfaW5zdGFuY2VzO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZCk7XG4gICAgcmV0dXJuIF9iYXRjaF9pbnN0YW5jZXM7XG4gIH0sXG4gICdnZXRfYmF0Y2hfaW5zdGFuY2VzX2NvdW50JzogZnVuY3Rpb24oc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMpIHtcbiAgICB2YXIgX2JhdGNoX2luc3RhbmNlcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc3BhY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX2JhdGNoX2luc3RhbmNlcyA9IEluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyhzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgdGhpcy51c2VySWQpO1xuICAgIHJldHVybiAoX2JhdGNoX2luc3RhbmNlcyAhPSBudWxsID8gX2JhdGNoX2luc3RhbmNlcy5sZW5ndGggOiB2b2lkIDApIHx8IDA7XG4gIH0sXG4gICdnZXRfbXlfYXBwcm92ZXMnOiBmdW5jdGlvbihpbnN0YW5jZUlkcykge1xuICAgIHZhciBteUFwcHJvdmVzLCB0aGF0O1xuICAgIHRoYXQgPSB0aGlzO1xuICAgIGlmICghdGhhdC51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbXlBcHByb3ZlcyA9IG5ldyBBcnJheSgpO1xuICAgIGluc3RhbmNlSWRzLmZvckVhY2goZnVuY3Rpb24oaW5zSWQpIHtcbiAgICAgIHZhciBteV9hcHByb3ZlO1xuICAgICAgbXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zSWQsIHRoYXQudXNlcklkKTtcbiAgICAgIGlmIChteV9hcHByb3ZlKSB7XG4gICAgICAgIHJldHVybiBteUFwcHJvdmVzLnB1c2gobXlfYXBwcm92ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG15QXBwcm92ZXM7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0Y2hhbmdlX2Zsb3dfc3RhdGU6IChmbG93cykgLT5cblx0XHRjaGVjayBmbG93cywgQXJyYXlcblxuXHRcdF91c2VySWQgPSB0aGlzLnVzZXJJZFxuXG5cdFx0aWYgIV91c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0Zmxvd3MuZm9yRWFjaCAoZmxvdykgLT5cblx0XHRcdHNwYWNlSWQgPSBmbG93LnNwYWNlXG5cdFx0XHRmb3JtSWQgPSBmbG93LmZvcm1cblx0XHRcdGZsb3dJZCA9IGZsb3cuaWRcblx0XHRcdHN0YXRlID0gZmxvdy5zdGF0ZVxuXG5cdFx0XHRpZiAhU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgX3VzZXJJZClcblx0XHRcdFx0dGhyb3cgIE1ldGVvci5FcnJvcig0MDEsIFwiTm8gcGVybWlzc2lvblwiKVxuXG5cdFx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZm9ybUlkIH0sIHsgZmllbGRzOiB7IGhpc3RvcnlzOiAwIH0gfSlcblxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGZsb3dJZCB9LCB7IGZpZWxkczogeyBoaXN0b3J5czogMCB9IH0pXG5cblx0XHRcdGlmIHN0YXRlICE9ICdlbmFibGVkJyAmJiBzdGF0ZSAhPSAnZGlzYWJsZWQnXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcInN0YXRl5peg5pWIXCIpXG5cblx0XHRcdGlmICFmb3JtXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZvcm3ml6DmlYhcIilcblxuXHRcdFx0aWYgIWZsb3dcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZmxvd+aXoOaViFwiKVxuXG5cdFx0XHRpZiAhZm9ybS5pc192YWxpZFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvlvJXnlKjnmoTooajljZVbI3tmb3JtLm5hbWV9XemqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpeihqOWNleiuvue9rlwiKVxuXG5cdFx0XHRpZiAhZmxvdy5pc192YWxpZFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzor7fmiZPlvIDmtYHnqIvorr7orqHlmajmo4Dmn6XmtYHnqIvorr7nva5cIilcblxuXHRcdFx0aWYgIVsnbmV3JywgJ21vZGlmeScsICdkZWxldGUnXS5pbmNsdWRlcyhmbG93LmZsb3d0eXBlKVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIxmbG93dHlwZeWAvOW/hemhu+aYr25ld+OAgW1vZGlmeeOAgWRlbGV0ZeWFtuS4reS5i+S4gFwiKVxuXG5cdFx0XHRpZiAhXy5pc0FycmF5KGZsb3cuY3VycmVudC5zdGVwcylcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5rWB56iL55qE5q2l6aqk5LiN6IO95Li656m6XCIpXG5cblx0XHRcdGlmIF8udW5pcShmbG93LmN1cnJlbnQuc3RlcHMsICduYW1lJykubGVuZ3RoICE9IGZsb3cuY3VycmVudC5zdGVwcy5sZW5ndGhcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5ZCM5LiA5Liq5rWB56iL5LiL55qE5q2l6aqk55qE5ZCN56ew5LiN6IO96YeN5aSNXCIpXG5cblx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cblx0XHRcdGlmIHN0YXRlID09ICdlbmFibGVkJ1xuXHRcdFx0XHQj5rWB56iL5ZCv55So5YmN77yM5qCh6aqM5YW24oCc5oyH5a6a5Y6G5Y+y5q2l6aqk4oCd5bGe5oCn5Lit6KKr5byV55So55qE5q2l6aqk5piv5ZCm5a2Y5Zyo5LiU6IO96KKr5om+5Yiw77yI5LuF6ZmQ5LqO5rWB56iL55qE5pyA5paw54mI77yJXG5cdFx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoIChzdGVwKSAtPlxuXHRcdFx0XHRcdGlmIFsnc3BlY2lmeVN0ZXBVc2VyJywgJ3NwZWNpZnlTdGVwUm9sZSddLmluY2x1ZGVzKHN0ZXAuZGVhbF90eXBlKVxuXHRcdFx0XHRcdFx0aWYgIXN0ZXAuYXBwcm92ZXJfc3RlcFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmraXpqqRbI3tzdGVwLm5hbWV9XeS4reeahOaMh+WumuWOhuWPsuatpemqpOS4jeWtmOWcqOOAglwiKVxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRzcGVjaWZ5U3RlcCA9IF8uZmluZCBmbG93LmN1cnJlbnQuc3RlcHMsIChfc3RlcCkgLT5cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc3RlcC5hcHByb3Zlcl9zdGVwID09IF9zdGVwLl9pZFxuXG5cdFx0XHRcdFx0XHRcdGlmICFzcGVjaWZ5U3RlcFxuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFsje3N0ZXAubmFtZX1d5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpXG5cblx0XHRcdFx0Zm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlID0gZm9ybS5jdXJyZW50LmZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIilcblxuXHRcdFx0XHRmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaCAoc3RlcCkgLT5cblx0XHRcdFx0XHRzdGVwLmZpZWxkc19tb2RpZmlhYmxlID0gXy5pbnRlcnNlY3Rpb24oc3RlcC5maWVsZHNfbW9kaWZpYWJsZSwgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlKVxuXG5cdFx0XHRcdCPlpoLmnpwg5rWB56iL5a+55bqU6KGo5Y2VIOaYr+WBnOeUqOeahCDliJnlkK/nlKhcblx0XHRcdFx0aWYgZm9ybS5zdGF0ZSA9PSAnZGlzYWJsZWQnXG5cdFx0XHRcdFx0ZGIuZm9ybXMudXBkYXRlKHtfaWQ6IGZvcm0uX2lkfSwgeyRzZXQ6IHtcInN0YXRlXCI6IFwiZW5hYmxlZFwiLCBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkfX0pXG5cblx0XHRcdFx0Zmxvdy5jdXJyZW50Lm1vZGlmaWVkID0gbm93XG5cdFx0XHRcdGZsb3cuY3VycmVudC5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdGZsb3cuY3VycmVudC5tb2RpZmllZF9ieSA9IF91c2VySWRcblxuXHRcdFx0XHRkYi5mbG93cy51cGRhdGUoeyBfaWQ6IGZsb3cuX2lkIH0sIHsgJHNldDogeyBcInN0YXRlXCI6IFwiZW5hYmxlZFwiLCBcImN1cnJlbnRcIjogZmxvdy5jdXJyZW50IH0gfSlcblxuXHRcdFx0ZWxzZVxuXHRcdFx0XHQj56aB55So5rWB56iLXG5cdFx0XHRcdGRiLmZsb3dzLnVwZGF0ZSh7X2lkOiBmbG93Ll9pZH0sIHskc2V0OiB7XCJzdGF0ZVwiOiBcImRpc2FibGVkXCIsIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWR9fSlcblxuXHRcdFx0XHQjIOWIpOaWreihqOWNleaJgOaciea1geeoi+aYr+WQpuW3sue7j+WFqOmDqOWBnOeUqCDlpoLmnpzlt7Llhajpg6jlgZznlKgg5YiZ5L+u5pS56KGo5Y2V54q25oCB5Li65YGc55SoXG5cdFx0XHRcdF9mbG93cyA9IGRiLmZsb3dzLmZpbmQoeyBmb3JtOiBmb3JtLl9pZCB9LCB7IGZpZWxkczogeyBfaWQ6IDEsIHN0YXRlOiAxIH0gfSkuZmV0Y2goKVxuXG5cdFx0XHRcdF9mbG93c19zdGF0ZSA9IF9mbG93cy5nZXRQcm9wZXJ0eShcInN0YXRlXCIpXG5cblx0XHRcdFx0aWYgIV9mbG93c19zdGF0ZS5pbmNsdWRlcygnZW5hYmxlZCcpXG5cdFx0XHRcdFx0ZGIuZm9ybXMudXBkYXRlKHtfaWQ6IGZvcm0uX2lkfSwgeyRzZXQ6IHtcInN0YXRlXCI6IFwiZGlzYWJsZWRcIiwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZH19KVxuXG5cblxuXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIGNoYW5nZV9mbG93X3N0YXRlOiBmdW5jdGlvbihmbG93cykge1xuICAgIHZhciBfdXNlcklkO1xuICAgIGNoZWNrKGZsb3dzLCBBcnJheSk7XG4gICAgX3VzZXJJZCA9IHRoaXMudXNlcklkO1xuICAgIGlmICghX3VzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZmxvd3MuZm9yRWFjaChmdW5jdGlvbihmbG93KSB7XG4gICAgICB2YXIgX2Zsb3dzLCBfZmxvd3Nfc3RhdGUsIGZsb3dJZCwgZm9ybSwgZm9ybUlkLCBmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUsIG5vdywgc3BhY2VJZCwgc3RhdGU7XG4gICAgICBzcGFjZUlkID0gZmxvdy5zcGFjZTtcbiAgICAgIGZvcm1JZCA9IGZsb3cuZm9ybTtcbiAgICAgIGZsb3dJZCA9IGZsb3cuaWQ7XG4gICAgICBzdGF0ZSA9IGZsb3cuc3RhdGU7XG4gICAgICBpZiAoIVN0ZWVkb3MuaXNTcGFjZUFkbWluKHNwYWNlSWQsIF91c2VySWQpKSB7XG4gICAgICAgIHRocm93IE1ldGVvci5FcnJvcig0MDEsIFwiTm8gcGVybWlzc2lvblwiKTtcbiAgICAgIH1cbiAgICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmb3JtSWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgaGlzdG9yeXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvd0lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGhpc3RvcnlzOiAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHN0YXRlICE9PSAnZW5hYmxlZCcgJiYgc3RhdGUgIT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwic3RhdGXml6DmlYhcIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZvcm0pIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZm9ybeaXoOaViFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmxvdykge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmbG935peg5pWIXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmb3JtLmlzX3ZhbGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+W8leeUqOeahOihqOWNlVtcIiArIGZvcm0ubmFtZSArIFwiXemqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpeihqOWNleiuvue9rlwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmxvdy5pc192YWxpZCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzor7fmiZPlvIDmtYHnqIvorr7orqHlmajmo4Dmn6XmtYHnqIvorr7nva5cIik7XG4gICAgICB9XG4gICAgICBpZiAoIVsnbmV3JywgJ21vZGlmeScsICdkZWxldGUnXS5pbmNsdWRlcyhmbG93LmZsb3d0eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIxmbG93dHlwZeWAvOW/hemhu+aYr25ld+OAgW1vZGlmeeOAgWRlbGV0ZeWFtuS4reS5i+S4gFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghXy5pc0FycmF5KGZsb3cuY3VycmVudC5zdGVwcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5rWB56iL55qE5q2l6aqk5LiN6IO95Li656m6XCIpO1xuICAgICAgfVxuICAgICAgaWYgKF8udW5pcShmbG93LmN1cnJlbnQuc3RlcHMsICduYW1lJykubGVuZ3RoICE9PSBmbG93LmN1cnJlbnQuc3RlcHMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOWQjOS4gOS4qua1geeoi+S4i+eahOatpemqpOeahOWQjeensOS4jeiDvemHjeWkjVwiKTtcbiAgICAgIH1cbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgaWYgKHN0YXRlID09PSAnZW5hYmxlZCcpIHtcbiAgICAgICAgZmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICAgIHZhciBzcGVjaWZ5U3RlcDtcbiAgICAgICAgICBpZiAoWydzcGVjaWZ5U3RlcFVzZXInLCAnc3BlY2lmeVN0ZXBSb2xlJ10uaW5jbHVkZXMoc3RlcC5kZWFsX3R5cGUpKSB7XG4gICAgICAgICAgICBpZiAoIXN0ZXAuYXBwcm92ZXJfc3RlcCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmraXpqqRbXCIgKyBzdGVwLm5hbWUgKyBcIl3kuK3nmoTmjIflrprljoblj7LmraXpqqTkuI3lrZjlnKjjgIJcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzcGVjaWZ5U3RlcCA9IF8uZmluZChmbG93LmN1cnJlbnQuc3RlcHMsIGZ1bmN0aW9uKF9zdGVwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXAuYXBwcm92ZXJfc3RlcCA9PT0gX3N0ZXAuX2lkO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKCFzcGVjaWZ5U3RlcCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFtcIiArIHN0ZXAubmFtZSArIFwiXeS4reeahOaMh+WumuWOhuWPsuatpemqpOS4jeWtmOWcqOOAglwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSA9IGZvcm0uY3VycmVudC5maWVsZHMuZ2V0UHJvcGVydHkoXCJjb2RlXCIpO1xuICAgICAgICBmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXAuZmllbGRzX21vZGlmaWFibGUgPSBfLmludGVyc2VjdGlvbihzdGVwLmZpZWxkc19tb2RpZmlhYmxlLCBmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZvcm0uc3RhdGUgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgICBkYi5mb3Jtcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmb3JtLl9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImVuYWJsZWRcIixcbiAgICAgICAgICAgICAgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LFxuICAgICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LFxuICAgICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZsb3cuY3VycmVudC5tb2RpZmllZCA9IG5vdztcbiAgICAgICAgZmxvdy5jdXJyZW50LnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIGZsb3cuY3VycmVudC5tb2RpZmllZF9ieSA9IF91c2VySWQ7XG4gICAgICAgIHJldHVybiBkYi5mbG93cy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogZmxvdy5faWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgIFwic3RhdGVcIjogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICBcImN1cnJlbnRcIjogZmxvdy5jdXJyZW50XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRiLmZsb3dzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBmbG93Ll9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImRpc2FibGVkXCIsXG4gICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LFxuICAgICAgICAgICAgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LFxuICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfZmxvd3MgPSBkYi5mbG93cy5maW5kKHtcbiAgICAgICAgICBmb3JtOiBmb3JtLl9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBfaWQ6IDEsXG4gICAgICAgICAgICBzdGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgICAgX2Zsb3dzX3N0YXRlID0gX2Zsb3dzLmdldFByb3BlcnR5KFwic3RhdGVcIik7XG4gICAgICAgIGlmICghX2Zsb3dzX3N0YXRlLmluY2x1ZGVzKCdlbmFibGVkJykpIHtcbiAgICAgICAgICByZXR1cm4gZGIuZm9ybXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogZm9ybS5faWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgIFwic3RhdGVcIjogXCJkaXNhYmxlZFwiLFxuICAgICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LFxuICAgICAgICAgICAgICBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXG5cdGhpZGVfaW5zdGFuY2U6IChpbnNJZCwgaXNfaGlkZGVuKSAtPlxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRjaGVjayhpbnNJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKGlzX2hpZGRlbiwgQm9vbGVhbilcblxuXHRcdHVzZXJJZCA9IHRoaXMudXNlcklkXG5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7IGZpZWxkczogeyBzdGF0ZTogMSwgZmxvdzogMSwgc3BhY2U6IDEgfSB9KVxuXG5cdFx0aWYgbm90IGluc3RhbmNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOeUs+ivt+WNlVwiKVxuXG5cdFx0aWYgaW5zdGFuY2Uuc3RhdGUgaXNudCAnY29tcGxldGVkJ1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlLPor7fljZXnirbmgIHkuI3mmK/lt7Lnu5PmnZ9cIilcblxuXHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxuXHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIHVzZXJJZClcblx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGluc3RhbmNlLnNwYWNlLCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxuXHRcdGlmIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZCkpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKVxuXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZShpbnNJZCwgeyAkc2V0OiB7IGlzX2hpZGRlbjogaXNfaGlkZGVuIH0gfSlcblxuXHRcdHJldHVybiB0cnVlO1xuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBoaWRlX2luc3RhbmNlOiBmdW5jdGlvbihpbnNJZCwgaXNfaGlkZGVuKSB7XG4gICAgdmFyIGluc3RhbmNlLCBwZXJtaXNzaW9ucywgc3BhY2UsIHVzZXJJZDtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNoZWNrKGluc0lkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGlzX2hpZGRlbiwgQm9vbGVhbik7XG4gICAgdXNlcklkID0gdGhpcy51c2VySWQ7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBmbG93OiAxLFxuICAgICAgICBzcGFjZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2VXCIpO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGUgIT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeKtuaAgeS4jeaYr+W3sue7k+adn1wiKTtcbiAgICB9XG4gICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgdXNlcklkKTtcbiAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGluc3RhbmNlLnNwYWNlLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgYWRtaW5zOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKSkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpO1xuICAgIH1cbiAgICBkYi5pbnN0YW5jZXMudXBkYXRlKGluc0lkLCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIGlzX2hpZGRlbjogaXNfaGlkZGVuXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0Z2V0SW5zdGFuY2VWYWx1ZXM6IChpbnNJZCktPlxuXHRcdGlmICghdGhpcy51c2VySWQpXG5cdFx0XHRyZXR1cm47XG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc0lkfSwge2ZpZWxkczoge3ZhbHVlczogMX19KT8udmFsdWVzIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBnZXRJbnN0YW5jZVZhbHVlczogZnVuY3Rpb24oaW5zSWQpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIChyZWYgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHZhbHVlczogMVxuICAgICAgfVxuICAgIH0pKSAhPSBudWxsID8gcmVmLnZhbHVlcyA6IHZvaWQgMDtcbiAgfVxufSk7XG4iLCJDb29raWVzID0gcmVxdWlyZShcImNvb2tpZXNcIilcblxuZ2V0SW5zdGFuY2VSZWFkT25seSA9IChyZXEsIHJlcywgbmV4dCwgb3B0aW9ucykgLT5cblxuXHR1c2VyID0gU3RlZWRvcy5nZXRBUElMb2dpblVzZXIocmVxLCByZXMpXG5cblx0aWYgcmVxPy5xdWVyeT8uYWNjZXNzX3Rva2VuXG5cdFx0dXNlcklkID0gU3RlZWRvcy5nZXRVc2VySWRGcm9tQWNjZXNzVG9rZW4ocmVxLnF1ZXJ5LmFjY2Vzc190b2tlbilcblx0XHRpZiB1c2VySWRcblx0XHRcdHVzZXIgPSBNZXRlb3IudXNlcnMuZmluZE9uZSh7X2lkOiB1c2VySWR9KVxuXG5cdHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlXG5cblx0aW5zdGFuY2VJZCA9IHJlcS5wYXJhbXMuaW5zdGFuY2VfaWRcblxuXHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlSWR9KTtcblxuXHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtfaWQ6IHNwYWNlSWR9KTtcblxuXHRoaWRlX3RyYWNlcyA9IHJlcS5xdWVyeT8uaGlkZV90cmFjZXNcblxuXHRpZiAhb3B0aW9uc1xuXHRcdG9wdGlvbnMgPSB7c2hvd1RyYWNlOiB0cnVlfVxuXHRlbHNlXG5cdFx0b3B0aW9ucy5zaG93VHJhY2UgPSB0cnVlXG5cblx0aWYgaGlkZV90cmFjZXMgaXMgXCIxXCJcblx0XHRpZiBvcHRpb25zXG5cdFx0XHRvcHRpb25zLnNob3dUcmFjZSA9IGZhbHNlXG5cdFx0ZWxzZVxuXHRcdFx0b3B0aW9ucyA9IHtzaG93VHJhY2U6IGZhbHNlfVxuXG5cdGlmICFvcHRpb25zLnNob3dBdHRhY2htZW50c1xuXHRcdG9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzID0gdHJ1ZVxuXG5cdGlmICFzcGFjZVxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiA0MDEsXG5cdFx0XHRkYXRhOlxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNwYWNlXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRpZiAgIWluc3RhbmNlXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgaW5zdGFuY2VcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGlmICF1c2VyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1BdXRoLVRva2VuLFgtVXNlci1JZFwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRyZXR1cm47XG5cblx0aWYgaW5zdGFuY2Uuc3BhY2UgIT0gc3BhY2VJZFxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiA0MDEsXG5cdFx0XHRkYXRhOlxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNwYWNlIG9yIGluc3RhbmNlXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXG5cblx0c3BhY2VVc2VyQ291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgdXNlcjogdXNlci5faWQsIHNwYWNlOiBzcGFjZUlkIH0pLmNvdW50KClcblxuXHRpZiBzcGFjZVVzZXJDb3VudCBpcyAwXG5cdFx0aWYgIXNwYWNlXG5cdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRjb2RlOiA0MDEsXG5cdFx0XHRcdGRhdGE6XG5cdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBzYXBjZVVzZXJcIixcblx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdHJldHVybjtcblxuXHQj5qCh6aqMdXNlcuaYr+WQpuWvuWluc3RhbmNl5pyJ5p+l55yL5p2D6ZmQXG5cdF9oYXNQZXJtaXNzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgaW5zdGFuY2UpXG5cblx0aWYgIV9oYXNQZXJtaXNzaW9uICAmJiBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2Vcblx0XHRfcGFyZW50X2luc3RhbmNlcyA9IF8udW5pb24oW2luc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZV0sIGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgfHwgW10pXG5cblx0XHRfaGFzUGVybWlzc2lvbiA9IF8uZmluZCBfcGFyZW50X2luc3RhbmNlcywgKF9wYXJlbnRfaWQpLT5cblx0XHRcdF9wYXJlbnRfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDpfcGFyZW50X2lkfSwge2ZpZWxkczoge3RyYWNlczogMH19KVxuXG5cdFx0XHRyZXR1cm4gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgX3BhcmVudF9pbnMpXG5cblx0aWYgIV9oYXNQZXJtaXNzaW9uXG5cdFx0X2xvY2FsZSA9IFN0ZWVkb3MubG9jYWxlKHVzZXIuX2lkLCB0cnVlKVxuXHRcdGVycm9yID0gVEFQaTE4bi5fXyhcImluc3RhbmNlX3Blcm1pc3Npb25zX2Vycm9yXCIsIHt9LCBfbG9jYWxlKVxuXHRcdHJlcy5jaGFyc2V0ID0gXCJ1dGYtOFwiXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogZXJyb3IsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXG5cdGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpO1xuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKVxuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LXJhbmdlJywgXCJieXRlcyAwLSN7ZGF0YUJ1Zi5sZW5ndGggLSAxfS8je2RhdGFCdWYubGVuZ3RofVwiKVxuXHRyZXMuc3RhdHVzQ29kZSA9IDIwMFxuXHRyZXMuZW5kKGh0bWwpXG5cbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZFwiLCBnZXRJbnN0YW5jZVJlYWRPbmx5XG5cbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZC86aW5zdGFuY2VfbmFtZVwiLCAocmVxLCByZXMsIG5leHQpLT5cblx0cmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuXHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JytlbmNvZGVVUkkocmVxLnBhcmFtcy5pbnN0YW5jZV9uYW1lKSk7XG5cdHJlcy5zZXRIZWFkZXIoJ1RyYW5zZmVyLUVuY29kaW5nJywgJycpXG5cblx0b3B0aW9ucyA9IHthYnNvbHV0ZTogdHJ1ZX1cblxuXHRyZXR1cm4gZ2V0SW5zdGFuY2VSZWFkT25seShyZXEsIHJlcywgbmV4dCwgb3B0aW9ucylcbiMjI1xuXHTojrflj5bnlLPor7fljZXliJfooajvvJpcbiAgICBmaW5hbF9kZWNpc2lvbu+8muWuoeaJuee7k+aenFxuICAgIHN0YXRlOiDnlLPor7fljZXnirbmgIFcbiMjI1xuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L2luc3RhbmNlc1wiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cblx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRyZXR1cm4gO1xuXG5cdHVzZXJfaWQgPSByZXEudXNlcklkXG5cblx0c3BhY2VJZCA9IHJlcS5oZWFkZXJzW1wieC1zcGFjZS1pZFwiXVxuXG5cdGlmIG5vdCBzcGFjZUlkXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1TcGFjZS1JZFwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRyZXR1cm47XG5cblx0Zmxvd0lkID0gcmVxLnF1ZXJ5Py5mbG93SWRcblxuXHRpZiAhZmxvd0lkXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMCxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgZmxvd0lkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRxdWVyeSA9IHt9XG5cblx0cmV0X3N5bmNfdG9rZW4gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuXG5cdGZsb3dJZHMgPSBmbG93SWQuc3BsaXQoXCIsXCIpXG5cblxuXHRmbG93cyA9IGRiLmZsb3dzLmZpbmQoe19pZDogeyRpbjogZmxvd0lkc319KS5mZXRjaCgpXG5cblx0aSA9IDBcblx0d2hpbGUgaSA8IGZsb3dzLmxlbmd0aFxuXHRcdGYgPSBmbG93c1tpXVxuXHRcdHNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe3NwYWNlOiBmLnNwYWNlLCB1c2VyOiB1c2VyX2lkfSlcblx0XHRpZiAhc3BhY2VVc2VyXG5cdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRjb2RlOiA0MDEsXG5cdFx0XHRcdGRhdGE6XG5cdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyAje2YuX2lkfVwiLFxuXHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0cmV0dXJuO1xuXHRcdGVsc2VcblxuXHQjXHTmmK/lkKblt6XkvZzljLrnrqHnkIblkZhcblx0XHRpZiAhU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgdXNlcl9pZClcblx0XHRcdHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuXHRcdFx0XHRfaWQ6IHtcblx0XHRcdFx0XHQkaW46IHNwYWNlVXNlci5vcmdhbml6YXRpb25zXG5cdFx0XHRcdH1cblx0XHRcdH0pLmZldGNoKCk7XG5cblx0XHRcdGlmICFXb3JrZmxvd01hbmFnZXIuY2FuTW9uaXRvcihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpICYmICFXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZiwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKVxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdFx0XHRkYXRhOlxuXHRcdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyAje2YuX2lkfVwiLFxuXHRcdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHRcdHJldHVybjtcblx0XHRpKytcblxuXG5cdHF1ZXJ5LmZsb3cgPSB7JGluOiBmbG93SWRzfVxuXG5cdHF1ZXJ5LnNwYWNlID0gc3BhY2VJZFxuXG5cdGlmIHJlcS5xdWVyeT8uc3luY190b2tlblxuXHRcdHN5bmNfdG9rZW4gPSBuZXcgRGF0ZShOdW1iZXIocmVxLnF1ZXJ5LnN5bmNfdG9rZW4pKVxuXHRcdHF1ZXJ5Lm1vZGlmaWVkID0geyRndDogc3luY190b2tlbn1cblxuXHRpZiByZXEucXVlcnk/LmZpbmFsX2RlY2lzaW9uXG5cdFx0cXVlcnkuZmluYWxfZGVjaXNpb24gPSB7JGluIDogcmVxLnF1ZXJ5LmZpbmFsX2RlY2lzaW9uLnNwbGl0KFwiLFwiKX1cblx0ZWxzZVxuXHRcdHF1ZXJ5LmZpbmFsX2RlY2lzaW9uID0geyRuaW46IFtcInRlcm1pbmF0ZWRcIiwgXCJyZWplY3RlZFwiXX1cblxuXHRpZiByZXEucXVlcnk/LnN0YXRlXG5cdFx0cXVlcnkuc3RhdGUgPSB7JGluOiByZXEucXVlcnkuc3RhdGUuc3BsaXQoXCIsXCIpfVxuXHRlbHNlXG5cdFx0cXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiXG5cbiNcdOacgOWkmui/lOWbnjUwMOadoeaVsOaNrlxuXHRpbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczoge2luYm94X3VlcnM6IDAsIGNjX3VzZXJzOiAwLCBvdXRib3hfdXNlcnM6IDAsIHRyYWNlczogMCwgYXR0YWNobWVudHM6IDB9LCBza2lwOiAwLCBsaW1pdDogNTAwfSkuZmV0Y2goKVxuXHRpbnN0YW5jZXMuZm9yRWFjaCAoaW5zdGFuY2UpLT5cblxuXHRcdGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcblxuXHRcdGluc3RhbmNlLmF0dGFjaG1lbnRzID0gYXR0YWNobWVudHNcblxuXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOlxuXHRcdFx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcdFx0XCJzeW5jX3Rva2VuXCI6IHJldF9zeW5jX3Rva2VuXG5cdFx0XHRcdFwiZGF0YVwiOiBpbnN0YW5jZXNcblx0cmV0dXJuO1xuIiwidmFyIENvb2tpZXMsIGdldEluc3RhbmNlUmVhZE9ubHk7XG5cbkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKTtcblxuZ2V0SW5zdGFuY2VSZWFkT25seSA9IGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKSB7XG4gIHZhciBfaGFzUGVybWlzc2lvbiwgX2xvY2FsZSwgX3BhcmVudF9pbnN0YW5jZXMsIGRhdGFCdWYsIGVycm9yLCBoaWRlX3RyYWNlcywgaHRtbCwgaW5zdGFuY2UsIGluc3RhbmNlSWQsIHJlZiwgcmVmMSwgc3BhY2UsIHNwYWNlSWQsIHNwYWNlVXNlckNvdW50LCB1c2VyLCB1c2VySWQ7XG4gIHVzZXIgPSBTdGVlZG9zLmdldEFQSUxvZ2luVXNlcihyZXEsIHJlcyk7XG4gIGlmIChyZXEgIT0gbnVsbCA/IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuYWNjZXNzX3Rva2VuIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgdXNlcklkID0gU3RlZWRvcy5nZXRVc2VySWRGcm9tQWNjZXNzVG9rZW4ocmVxLnF1ZXJ5LmFjY2Vzc190b2tlbik7XG4gICAgaWYgKHVzZXJJZCkge1xuICAgICAgdXNlciA9IE1ldGVvci51c2Vycy5maW5kT25lKHtcbiAgICAgICAgX2lkOiB1c2VySWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZTtcbiAgaW5zdGFuY2VJZCA9IHJlcS5wYXJhbXMuaW5zdGFuY2VfaWQ7XG4gIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KTtcbiAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7XG4gICAgX2lkOiBzcGFjZUlkXG4gIH0pO1xuICBoaWRlX3RyYWNlcyA9IChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5oaWRlX3RyYWNlcyA6IHZvaWQgMDtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIHNob3dUcmFjZTogdHJ1ZVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgb3B0aW9ucy5zaG93VHJhY2UgPSB0cnVlO1xuICB9XG4gIGlmIChoaWRlX3RyYWNlcyA9PT0gXCIxXCIpIHtcbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgb3B0aW9ucy5zaG93VHJhY2UgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgc2hvd1RyYWNlOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgaWYgKCFvcHRpb25zLnNob3dBdHRhY2htZW50cykge1xuICAgIG9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgfVxuICBpZiAoIXNwYWNlKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAxLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNwYWNlXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWluc3RhbmNlKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAxLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIGluc3RhbmNlXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIXVzZXIpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1BdXRoLVRva2VuLFgtVXNlci1JZFwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGluc3RhbmNlLnNwYWNlICE9PSBzcGFjZUlkKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAxLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNwYWNlIG9yIGluc3RhbmNlXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBzcGFjZVVzZXJDb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgIHVzZXI6IHVzZXIuX2lkLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0pLmNvdW50KCk7XG4gIGlmIChzcGFjZVVzZXJDb3VudCA9PT0gMCkge1xuICAgIGlmICghc3BhY2UpIHtcbiAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogNDAxLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBzYXBjZVVzZXJcIixcbiAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIF9oYXNQZXJtaXNzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgaW5zdGFuY2UpO1xuICBpZiAoIV9oYXNQZXJtaXNzaW9uICYmIGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xuICAgIF9wYXJlbnRfaW5zdGFuY2VzID0gXy51bmlvbihbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlXSwgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyB8fCBbXSk7XG4gICAgX2hhc1Blcm1pc3Npb24gPSBfLmZpbmQoX3BhcmVudF9pbnN0YW5jZXMsIGZ1bmN0aW9uKF9wYXJlbnRfaWQpIHtcbiAgICAgIHZhciBfcGFyZW50X2lucztcbiAgICAgIF9wYXJlbnRfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IF9wYXJlbnRfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdHJhY2VzOiAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFdvcmtmbG93TWFuYWdlci5oYXNJbnN0YW5jZVBlcm1pc3Npb25zKHVzZXIsIF9wYXJlbnRfaW5zKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoIV9oYXNQZXJtaXNzaW9uKSB7XG4gICAgX2xvY2FsZSA9IFN0ZWVkb3MubG9jYWxlKHVzZXIuX2lkLCB0cnVlKTtcbiAgICBlcnJvciA9IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9wZXJtaXNzaW9uc19lcnJvclwiLCB7fSwgX2xvY2FsZSk7XG4gICAgcmVzLmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAxLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IGVycm9yLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaHRtbCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LXJhbmdlJywgXCJieXRlcyAwLVwiICsgKGRhdGFCdWYubGVuZ3RoIC0gMSkgKyBcIi9cIiArIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7XG4gIHJldHVybiByZXMuZW5kKGh0bWwpO1xufTtcblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkXCIsIGdldEluc3RhbmNlUmVhZE9ubHkpO1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWQvOmluc3RhbmNlX25hbWVcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIG9wdGlvbnM7XG4gIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQnKTtcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsICdhdHRhY2htZW50O2ZpbGVuYW1lPScgKyBlbmNvZGVVUkkocmVxLnBhcmFtcy5pbnN0YW5jZV9uYW1lKSk7XG4gIHJlcy5zZXRIZWFkZXIoJ1RyYW5zZmVyLUVuY29kaW5nJywgJycpO1xuICBvcHRpb25zID0ge1xuICAgIGFic29sdXRlOiB0cnVlXG4gIH07XG4gIHJldHVybiBnZXRJbnN0YW5jZVJlYWRPbmx5KHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKTtcbn0pO1xuXG5cbi8qXG5cdOiOt+WPlueUs+ivt+WNleWIl+ihqO+8mlxuICAgIGZpbmFsX2RlY2lzaW9u77ya5a6h5om557uT5p6cXG4gICAgc3RhdGU6IOeUs+ivt+WNleeKtuaAgVxuICovXG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9pbnN0YW5jZXNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGYsIGZsb3dJZCwgZmxvd0lkcywgZmxvd3MsIGksIGluc3RhbmNlcywgcXVlcnksIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmV0X3N5bmNfdG9rZW4sIHNwYWNlSWQsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucywgc3luY190b2tlbiwgdXNlcl9pZDtcbiAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHVzZXJfaWQgPSByZXEudXNlcklkO1xuICBzcGFjZUlkID0gcmVxLmhlYWRlcnNbXCJ4LXNwYWNlLWlkXCJdO1xuICBpZiAoIXNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1TcGFjZS1JZFwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgZmxvd0lkID0gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5mbG93SWQgOiB2b2lkIDA7XG4gIGlmICghZmxvd0lkKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIGZsb3dJZFwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgcXVlcnkgPSB7fTtcbiAgcmV0X3N5bmNfdG9rZW4gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgZmxvd0lkcyA9IGZsb3dJZC5zcGxpdChcIixcIik7XG4gIGZsb3dzID0gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGZsb3dJZHNcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIGkgPSAwO1xuICB3aGlsZSAoaSA8IGZsb3dzLmxlbmd0aCkge1xuICAgIGYgPSBmbG93c1tpXTtcbiAgICBzcGFjZVVzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBmLnNwYWNlLFxuICAgICAgdXNlcjogdXNlcl9pZFxuICAgIH0pO1xuICAgIGlmICghc3BhY2VVc2VyKSB7XG4gICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb24sIGZsb3cgaXMgXCIgKyBmLl9pZCxcbiAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcblxuICAgIH1cbiAgICBpZiAoIVN0ZWVkb3MuaXNTcGFjZUFkbWluKHNwYWNlSWQsIHVzZXJfaWQpKSB7XG4gICAgICBzcGFjZVVzZXJPcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBzcGFjZVVzZXIub3JnYW5pemF0aW9uc1xuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgaWYgKCFXb3JrZmxvd01hbmFnZXIuY2FuTW9uaXRvcihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpICYmICFXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZiwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKSkge1xuICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogNDAxLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb24sIGZsb3cgaXMgXCIgKyBmLl9pZCxcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaSsrO1xuICB9XG4gIHF1ZXJ5LmZsb3cgPSB7XG4gICAgJGluOiBmbG93SWRzXG4gIH07XG4gIHF1ZXJ5LnNwYWNlID0gc3BhY2VJZDtcbiAgaWYgKChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5zeW5jX3Rva2VuIDogdm9pZCAwKSB7XG4gICAgc3luY190b2tlbiA9IG5ldyBEYXRlKE51bWJlcihyZXEucXVlcnkuc3luY190b2tlbikpO1xuICAgIHF1ZXJ5Lm1vZGlmaWVkID0ge1xuICAgICAgJGd0OiBzeW5jX3Rva2VuXG4gICAgfTtcbiAgfVxuICBpZiAoKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLmZpbmFsX2RlY2lzaW9uIDogdm9pZCAwKSB7XG4gICAgcXVlcnkuZmluYWxfZGVjaXNpb24gPSB7XG4gICAgICAkaW46IHJlcS5xdWVyeS5maW5hbF9kZWNpc2lvbi5zcGxpdChcIixcIilcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHF1ZXJ5LmZpbmFsX2RlY2lzaW9uID0ge1xuICAgICAgJG5pbjogW1widGVybWluYXRlZFwiLCBcInJlamVjdGVkXCJdXG4gICAgfTtcbiAgfVxuICBpZiAoKHJlZjMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYzLnN0YXRlIDogdm9pZCAwKSB7XG4gICAgcXVlcnkuc3RhdGUgPSB7XG4gICAgICAkaW46IHJlcS5xdWVyeS5zdGF0ZS5zcGxpdChcIixcIilcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJjb21wbGV0ZWRcIjtcbiAgfVxuICBpbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgIGZpZWxkczoge1xuICAgICAgaW5ib3hfdWVyczogMCxcbiAgICAgIGNjX3VzZXJzOiAwLFxuICAgICAgb3V0Ym94X3VzZXJzOiAwLFxuICAgICAgdHJhY2VzOiAwLFxuICAgICAgYXR0YWNobWVudHM6IDBcbiAgICB9LFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IDUwMFxuICB9KS5mZXRjaCgpO1xuICBpbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciBhdHRhY2htZW50cztcbiAgICBhdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsXG4gICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAkbmU6IHRydWVcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY29waWVzOiAwXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByZXR1cm4gaW5zdGFuY2UuYXR0YWNobWVudHMgPSBhdHRhY2htZW50cztcbiAgfSk7XG4gIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgICBcInN5bmNfdG9rZW5cIjogcmV0X3N5bmNfdG9rZW4sXG4gICAgICBcImRhdGFcIjogaW5zdGFuY2VzXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9zdGVlZG9zLWNzc1wiLCAocmVxLCByZXMsIG5leHQpLT5cblxuXHRhbGxDc3MgPSBXZWJBcHAuZ2V0UmVmcmVzaGFibGVBc3NldHMoKVxuXG5cdGFsbENzc0xpbmsgPSBcIlwiXG5cblx0YWxsQ3NzLmZvckVhY2ggKGNzcykgLT5cblx0XHRjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKGNzcy51cmwpXG5cdFx0YWxsQ3NzTGluayArPSBcIkBpbXBvcnQgdXJsKCN7Y3NzSHJlZn0pO1wiXG5cblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcblx0cmVzLmVuZChhbGxDc3NMaW5rKSIsIkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3N0ZWVkb3MtY3NzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhbGxDc3MsIGFsbENzc0xpbms7XG4gIGFsbENzcyA9IFdlYkFwcC5nZXRSZWZyZXNoYWJsZUFzc2V0cygpO1xuICBhbGxDc3NMaW5rID0gXCJcIjtcbiAgYWxsQ3NzLmZvckVhY2goZnVuY3Rpb24oY3NzKSB7XG4gICAgdmFyIGNzc0hyZWY7XG4gICAgY3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChjc3MudXJsKTtcbiAgICByZXR1cm4gYWxsQ3NzTGluayArPSBcIkBpbXBvcnQgdXJsKFwiICsgY3NzSHJlZiArIFwiKTtcIjtcbiAgfSk7XG4gIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICByZXR1cm4gcmVzLmVuZChhbGxDc3NMaW5rKTtcbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L2RyYWZ0LzpmbG93XCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRyZXR1cm5cblxuXHR1c2VyX2lkID0gcmVxLnVzZXJJZFxuXG5cdHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiB1c2VyX2lkIH0pXG5cblx0c3BhY2VJZCA9IHJlcS5wYXJhbXMuc3BhY2VcblxuXHRmbG93SWQgPSByZXEucGFyYW1zLmZsb3dcblxuXHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHsgX2lkOiBzcGFjZUlkIH0pXG5cblx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGZsb3dJZCB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCAnY3VycmVudC5faWQnOiAxLCBmb3JtOiAxIH0gfSlcblxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZmxvdy5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50Ll9pZCc6IDEgfSB9KVxuXG5cdG9wdGlvbnMgPSB7XG5cdFx0c2hvd1RyYWNlOiBmYWxzZSxcblx0XHRzaG93QXR0YWNobWVudHM6IGZhbHNlLFxuXHRcdHRlbXBsYXRlTmFtZTogXCJkZWZhdWx0XCIsXG5cdFx0ZWRpdGFibGU6IHRydWUsXG5cdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdGluc3RhbmNlX3N0eWxlOiBcImluc3RhbmNlLWRlZmF1bHRcIixcblx0XHRwbHVnaW5zOiBcIlwiXCJcblxuXHRcdFx0PG1ldGEgaHR0cC1lcXVpdj1cIlgtVUEtQ29tcGF0aWJsZVwiIGNvbnRlbnQ9XCJJRT1lZGdlLGNocm9tZT0xXCIgLz5cblx0XHRcdDxtZXRhIG5hbWU9XCJmb3JtYXQtZGV0ZWN0aW9uXCIgY29udGVudD1cInRlbGVwaG9uZT1ub1wiPlxuXHRcdFx0PG1ldGEgaHR0cC1lcXVpdj1cIngtcmltLWF1dG8tbWF0Y2hcIiBjb250ZW50PVwibm9uZVwiPlxuXHRcdFx0PHRpdGxlPiN7Zmxvdy5uYW1lfTwvdGl0bGU+XG5cdFx0XHQ8bWV0YSBjb250ZW50PSd3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT0wJyBuYW1lPSd2aWV3cG9ydCcgLz5cblx0XHRcdDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGhcIiAvPlxuXG5cdFx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9jc3MvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLm1pbi5jc3NcIj5cblxuXHRcdFx0PHNjcmlwdCBzcmM9XCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLm1pbi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cblxuXHRcdFx0PHNjcmlwdCBzcmM9XCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvbG9jYWxlcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIuemgtQ04uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgY2hhcnNldD1cIlVURi04XCI+PC9zY3JpcHQ+XG5cblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uY3NzXCI+XG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXHRcdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCIvanMvd29ya2Zsb3dfY2xpZW50LmNzc1wiPlxuXHRcdFx0PHNjcmlwdCBzcmM9XCIvanMvd29ya2Zsb3dfY2xpZW50LmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXHRcdFwiXCJcIlxuXHR9XG5cblx0aW5zdGFuY2UgPSB7XG5cdFx0ZmxvdzogZmxvdy5faWQsXG5cdFx0Zmxvd192ZXJzaW9uOiBmbG93LmN1cnJlbnQuX2lkLFxuXHRcdGZvcm06IGZvcm0uX2lkLFxuXHRcdGZvcm1fdmVyc2lvbjogZm9ybS5jdXJyZW50Ll9pZCxcblx0XHR2YWx1ZXM6IHt9LFxuXHRcdG5hbWU6IGZsb3cubmFtZSxcblx0XHRzcGFjZTogc3BhY2VJZFxuXHR9XG5cblx0aHRtbCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxuXG5cdGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpXG5cblx0cmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aClcblxuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LXJhbmdlJywgXCJieXRlcyAwLSN7ZGF0YUJ1Zi5sZW5ndGggLSAxfS8je2RhdGFCdWYubGVuZ3RofVwiKVxuXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXG5cblx0cmVzLmVuZChodG1sKVxuIiwiSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L2RyYWZ0LzpmbG93XCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBkYXRhQnVmLCBmbG93LCBmbG93SWQsIGZvcm0sIGh0bWwsIGluc3RhbmNlLCBvcHRpb25zLCBzcGFjZSwgc3BhY2VJZCwgdXNlciwgdXNlcl9pZDtcbiAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHVzZXJfaWQgPSByZXEudXNlcklkO1xuICB1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgX2lkOiB1c2VyX2lkXG4gIH0pO1xuICBzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZTtcbiAgZmxvd0lkID0gcmVxLnBhcmFtcy5mbG93O1xuICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICBfaWQ6IHNwYWNlSWRcbiAgfSk7XG4gIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICBfaWQ6IGZsb3dJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgJ2N1cnJlbnQuX2lkJzogMSxcbiAgICAgIGZvcm06IDFcbiAgICB9XG4gIH0pO1xuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgX2lkOiBmbG93LmZvcm1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgJ2N1cnJlbnQuX2lkJzogMVxuICAgIH1cbiAgfSk7XG4gIG9wdGlvbnMgPSB7XG4gICAgc2hvd1RyYWNlOiBmYWxzZSxcbiAgICBzaG93QXR0YWNobWVudHM6IGZhbHNlLFxuICAgIHRlbXBsYXRlTmFtZTogXCJkZWZhdWx0XCIsXG4gICAgZWRpdGFibGU6IHRydWUsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIGluc3RhbmNlX3N0eWxlOiBcImluc3RhbmNlLWRlZmF1bHRcIixcbiAgICBwbHVnaW5zOiBcIlxcbjxtZXRhIGh0dHAtZXF1aXY9XFxcIlgtVUEtQ29tcGF0aWJsZVxcXCIgY29udGVudD1cXFwiSUU9ZWRnZSxjaHJvbWU9MVxcXCIgLz5cXG48bWV0YSBuYW1lPVxcXCJmb3JtYXQtZGV0ZWN0aW9uXFxcIiBjb250ZW50PVxcXCJ0ZWxlcGhvbmU9bm9cXFwiPlxcbjxtZXRhIGh0dHAtZXF1aXY9XFxcIngtcmltLWF1dG8tbWF0Y2hcXFwiIGNvbnRlbnQ9XFxcIm5vbmVcXFwiPlxcbjx0aXRsZT5cIiArIGZsb3cubmFtZSArIFwiPC90aXRsZT5cXG48bWV0YSBjb250ZW50PSd3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT0wJyBuYW1lPSd2aWV3cG9ydCcgLz5cXG48bWV0YSBuYW1lPVxcXCJ2aWV3cG9ydFxcXCIgY29udGVudD1cXFwid2lkdGg9ZGV2aWNlLXdpZHRoXFxcIiAvPlxcblxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9jc3MvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLm1pbi5jc3NcXFwiPlxcblxcbjxzY3JpcHQgc3JjPVxcXCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLm1pbi5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG5cXG48c2NyaXB0IHNyYz1cXFwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2pzL2xvY2FsZXMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLnpoLUNOLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiIGNoYXJzZXQ9XFxcIlVURi04XFxcIj48L3NjcmlwdD5cXG5cXG48bGluayByZWw9XFxcInN0eWxlc2hlZXRcXFwiIHR5cGU9XFxcInRleHQvY3NzXFxcIiBocmVmPVxcXCIvcGx1Z2lucy90b2FzdHIvdG9hc3RyLm1pbi5jc3NcXFwiPlxcbjxzY3JpcHQgc3JjPVxcXCIvcGx1Z2lucy90b2FzdHIvdG9hc3RyLm1pbi5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG48bGluayByZWw9XFxcInN0eWxlc2hlZXRcXFwiIHR5cGU9XFxcInRleHQvY3NzXFxcIiBocmVmPVxcXCIvanMvd29ya2Zsb3dfY2xpZW50LmNzc1xcXCI+XFxuPHNjcmlwdCBzcmM9XFxcIi9qcy93b3JrZmxvd19jbGllbnQuanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XCJcbiAgfTtcbiAgaW5zdGFuY2UgPSB7XG4gICAgZmxvdzogZmxvdy5faWQsXG4gICAgZmxvd192ZXJzaW9uOiBmbG93LmN1cnJlbnQuX2lkLFxuICAgIGZvcm06IGZvcm0uX2lkLFxuICAgIGZvcm1fdmVyc2lvbjogZm9ybS5jdXJyZW50Ll9pZCxcbiAgICB2YWx1ZXM6IHt9LFxuICAgIG5hbWU6IGZsb3cubmFtZSxcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9O1xuICBodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtXCIgKyAoZGF0YUJ1Zi5sZW5ndGggLSAxKSArIFwiL1wiICsgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgcmV0dXJuIHJlcy5lbmQoaHRtbCk7XG59KTtcbiIsIkFycmF5LnByb3RvdHlwZS5maWx0ZXJQcm9wZXJ0eSA9IGZ1bmN0aW9uKGgsIGwpe1xuICAgIHZhciBnID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1xuICAgICAgICB2YXIgbSA9IHQ/IHRbaF06bnVsbDtcbiAgICAgICAgdmFyIGQgPSBmYWxzZTtcbiAgICAgICAgaWYobSBpbnN0YW5jZW9mIEFycmF5KXtcbiAgICAgICAgICAgIGQgPSBtLmluY2x1ZGVzKGwpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGQgPSAobCA9PT0gdW5kZWZpbmVkKT8gZmFsc2U6bT09bDtcbiAgICAgICAgfVxuICAgICAgICBpZihkKXtcbiAgICAgICAgICAgIGcucHVzaCh0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBnO1xufTtcblxuQXJyYXkucHJvdG90eXBlLmdldFByb3BlcnR5ID0gZnVuY3Rpb24oayl7XG4gICAgdmFyIHYgPSBuZXcgQXJyYXkoKTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7XG4gICAgICAgIHZhciBtID0gdD8gdFtrXTpudWxsO1xuICAgICAgICB2LnB1c2gobSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHY7XG59XG5cbkFycmF5LnByb3RvdHlwZS5nZXRFYWNoID0gZnVuY3Rpb24oY29kZSl7XG4gICAgdmFyIHJldiA9IFtdO1xuICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgdGhpcy5sZW5ndGggOyBpKyspe1xuICAgICAgICByZXYucHVzaCh0aGlzW2ldW2NvZGVdKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldjtcbn07XG5cbkFycmF5LnByb3RvdHlwZS51bmlxID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgYSA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbihiKXsgXG4gICAgICAgIGlmKGEuaW5kZXhPZihiKSA8IDApXG4gICAgICAgICAgICB7YVthLmxlbmd0aF0gPSBifVxuICAgIH0pO1xuICAgIHJldHVybiBhO1xufTtcblxuRm9ybV9mb3JtdWxhID0ge307XG5cblxuRm9ybV9mb3JtdWxhLm1peGluID0gZnVuY3Rpb24oZGVzdCwgc3JjKXtcbiAgICBmb3IodmFyIGtleSBpbiBzcmMpe1xuICAgICAgICBkZXN0W2tleV0gPSBzcmNba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG59O1xuXG5cbkZvcm1fZm9ybXVsYS5oYW5kZXJVc2VyT2JqZWN0ID0gZnVuY3Rpb24odSl7XG5cbiAgICBpZih1IGluc3RhbmNlb2YgQXJyYXkpe1xuICAgICAgICB2YXIgdXNlciA9IHt9O1xuXG4gICAgICAgIHVzZXIubmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJuYW1lXCIpXG4gICAgICAgIHVzZXIub3JnYW5pemF0aW9uID0ge307XG4gICAgICAgIHVzZXIub3JnYW5pemF0aW9uLm5hbWUgPSB1LmdldFByb3BlcnR5KFwib3JnYW5pemF0aW9uXCIpLmdldFByb3BlcnR5KFwibmFtZVwiKTtcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24uZnVsbG5hbWUgPSB1LmdldFByb3BlcnR5KFwib3JnYW5pemF0aW9uXCIpLmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIik7XG5cbiAgICAgICAgdXNlci5ociA9IHUuZ2V0UHJvcGVydHkoXCJoclwiKVxuXG4gICAgICAgIHVzZXIuc29ydF9ubyA9IHUuZ2V0UHJvcGVydHkoXCJzb3J0X25vXCIpXG5cblx0XHR1c2VyLm1vYmlsZSA9IHUuZ2V0UHJvcGVydHkoXCJtb2JpbGVcIilcblxuXHRcdHVzZXIud29ya19waG9uZSA9IHUuZ2V0UHJvcGVydHkoXCJ3b3JrX3Bob25lXCIpXG5cblx0XHR1c2VyLnBvc2l0aW9uID0gdS5nZXRQcm9wZXJ0eShcInBvc2l0aW9uXCIpXG5cbiAgICAgICAgdmFyIHVzZXJSb2xlcyA9IHUuZ2V0UHJvcGVydHkoXCJyb2xlc1wiKTtcbiAgICAgICAgdmFyIHJvbGVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHVzZXJSb2xlcy5mb3JFYWNoKGZ1bmN0aW9uKGkpe1xuICAgICAgICAgICAgcm9sZXMgPSByb2xlcy5jb25jYXQoaSk7XG4gICAgICAgIH0pOyBcbiAgICAgICAgcm9sZXMudW5pcSgpO1xuICAgICAgICB1c2VyLnJvbGVzID0gcm9sZXM7XG4gICAgICAgIHJldHVybiB1c2VyO1xuICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdTtcbiAgICB9XG59XG5cbkZvcm1fZm9ybXVsYS5oYW5kZXJPcmdPYmplY3QgPSBmdW5jdGlvbihvKXtcblxuICAgIGlmKG8gaW5zdGFuY2VvZiBBcnJheSl7XG4gICAgICAgIHZhciBvcmcgPSB7fTtcblx0XHRvcmcuaWQgPSBvLmdldFByb3BlcnR5KFwiX2lkXCIpO1xuICAgICAgICBvcmcubmFtZSA9IG8uZ2V0UHJvcGVydHkoXCJuYW1lXCIpO1xuICAgICAgICBvcmcuZnVsbG5hbWUgPSBvLmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIik7XG5cbiAgICAgICAgcmV0dXJuIG9yZztcbiAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgfVxufVxuXG5cblxuLyoqXG4gICAgKiDojrflvpflhazlvI/pnIDopoHnlKjliLDnmoTliJ3lp4vlgLxcbiAgICAqIOi+k+WFpe+8mmZpZWxkcywgdmFsdWVzLCBhcHBsaWNhbnRcbiAgICAqIOi+k+WHuu+8ml9fdmFsdWVzXG4qKi9cbkZvcm1fZm9ybXVsYS5pbml0X2Zvcm11bGFfdmFsdWVzID0gZnVuY3Rpb24oZmllbGRzLCBhdXRvRm9ybURvYywgYXBwcm92ZXIsIGFwcGxpY2FudCwgc3BhY2VJZCl7XG4gICAgdmFyIF9fdmFsdWVzID0ge307XG4gICAgLy/nlLPor7fljZXkuK3loavnmoTlgLzlpITnkIZcbiAgICBpZihmaWVsZHMgJiYgZmllbGRzLmxlbmd0aCAmJiBhdXRvRm9ybURvYykge1xuICAgICAgICAvL2RlYnVnZ2VyO1xuICAgICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCl7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGZpZWxkLnR5cGU7XG4gICAgICAgICAgICBpZih0eXBlKSB7XG4gICAgICAgICAgICAgICAgaWYodHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAqIOWwhuihqOagvOWtl+auteeahOWAvOi/m+ihjOi9rOaNouWQjuS8oOWFpV9fdmFsdWVz5LitXG4gICAgICAgICAgICAgICAgICAgICogdmFsdWVz5Lit6KGo5qC855qE5YC85qC85byP5Li6XG4gICAgICAgICAgICAgICAgICAgICogW3tcImFcIjoxLFwiYlwiOjR9LHtcImFcIjoyLFwiYlwiOjV9LHtcImFcIjozLFwiYlwiOjZ9XVxuICAgICAgICAgICAgICAgICAgICAqIF9fdmFsdWVz6ZyA6KaB6L2s5YyW5Li65LiL6Z2i5qC85byP5LiU5ZKM5Li76KGo55qE5YC85LiA5qC35pS+5Yiw56ys5LiA5bGCXG4gICAgICAgICAgICAgICAgICAgICoge1wiYVwiOlsxLDIsM10sXCJiXCI6WzQsNSw2XX1cbiAgICAgICAgICAgICAgICAgICAgKiovXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZUZpZWxkcyA9IGZpZWxkLnNmaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcyA9IGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybXVsYVRhYmxlVmFsdWVzID0gW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBfX3RhYmxlVmFsdWVzID0ge307XG4gICAgICAgICAgICAgICAgICAgIC8v5oyJ5YWs5byP55qE5qC85byP6L2s5o2i5YC85Li6X190YWJsZVZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBpZih0YWJsZUZpZWxkcyAmJiB0YWJsZUZpZWxkcy5sZW5ndGggJiYgdGFibGVWYWx1ZXMgJiYgdGFibGVWYWx1ZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVWYWx1ZXMuZm9yRWFjaChmdW5jdGlvbih0YWJsZVZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtdWxhVGFibGVWYWx1ZXMucHVzaChGb3JtX2Zvcm11bGEuaW5pdF9mb3JtdWxhX3ZhbHVlcyh0YWJsZUZpZWxkcywgdGFibGVWYWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL+aMieS4u+ihqOeahOagvOW8j+i9rOaNol9fdGFibGVWYWx1ZXPliqDliLBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlRmllbGRzLmZvckVhY2goZnVuY3Rpb24odGFibGVmaWVsZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX190YWJsZVZhbHVlc1t0YWJsZWZpZWxkLmNvZGVdID0gZm9ybXVsYVRhYmxlVmFsdWVzLmdldEVhY2godGFibGVmaWVsZC5jb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX192YWx1ZXMgPSBGb3JtX2Zvcm11bGEubWl4aW4oX192YWx1ZXMsIF9fdGFibGVWYWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICd1c2VyJyl7XG4gICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gRm9ybV9mb3JtdWxhLmhhbmRlclVzZXJPYmplY3QoV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0cyhzcGFjZUlkLCBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXSkpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdncm91cCcpe1xuICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IEZvcm1fZm9ybXVsYS5oYW5kZXJPcmdPYmplY3QoV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFPcmdPYmplY3RzKGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdKSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ29kYXRhJyl7XG5cdFx0XHRcdFx0X192YWx1ZXNbZmllbGQuY29kZV0gPSBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXSB8fCB7fVxuXG5cdFx0XHRcdH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8v5q2k5aSE5Lygc3BhY2VJZOe7memAieS6uuaOp+S7tueahOaXp+aVsOaNruiuoeeul3JvbGVz5ZKMb3JnYW5pemF0aW9uXG4gICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG4gICAgLy/lvZPliY3lpITnkIbkurpcbiAgICBfX3ZhbHVlc1tcImFwcHJvdmVyXCJdID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0KHNwYWNlSWQsIGFwcHJvdmVyKTtcbiAgICAvL+eUs+ivt+S6ulxuICAgIF9fdmFsdWVzW1wiYXBwbGljYW50XCJdID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0KHNwYWNlSWQsIGFwcGxpY2FudCk7XG5cbiAgICByZXR1cm4gX192YWx1ZXM7XG59O1xuXG4iLCJnZXRIYW5kbGVyc01hbmFnZXIgPSB7fVxuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMgPSAodXNlcl9pZHMsIHJvbGVfaWRzLCBzcGFjZV9pZCktPlxuXHRhcHByb3ZlX3VzZXJzID0gbmV3IEFycmF5XG5cdF8uZWFjaCh1c2VyX2lkcywgKHVzZXJfaWQpLT5cblx0XHRpZiBkYi51c2Vycy5maW5kKHtfaWQ6IHVzZXJfaWR9KS5jb3VudCgpID4gMFxuXHRcdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyh1c2VyX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpXG5cdFx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXG5cdFx0XHRcdGFwcHJvdmVfdXNlcnMgPSBhcHByb3ZlX3VzZXJzLmNvbmNhdCh1c2Vycylcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInVzZXJfaWTkuI3lkIjms5XkuI3lkIjms5VcIilcblx0KVxuXHRhcHByb3ZlX3VzZXJzID0gXy51bmlxKGFwcHJvdmVfdXNlcnMpXG5cdHJldHVybiBhcHByb3ZlX3VzZXJzXG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzID0gKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCktPlxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRfLmVhY2gocm9sZV9pZHMsIChyb2xlX2lkKS0+XG5cdFx0aWYgZGIuZmxvd19yb2xlcy5maW5kKHtfaWQ6IHJvbGVfaWR9KS5jb3VudCgpID4gMFxuXHRcdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKVxuXHRcdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxuXHRcdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycylcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInJvbGVfaWTlt7Lnu4/ooqvliKDpmaRcIilcblx0KVxuXHRpZiB1c2VyX2lkcy5sZW5ndGggPiAwXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdFx0cmV0dXJuIHVzZXJfaWRzXG5cdGVsc2Vcblx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuagueaNrnVzZXJfaWTlkoxyb2xlX2lkc+ayoeafpeWIsOWvueW6lOeahOWkhOeQhuS6ulwiKVxuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlID0gKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKSAtPlxuXHRvcmdzID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyczogdXNlcl9pZCB9LCB7IGZpZWxkczogeyBfaWQ6IDEgfSB9KS5mZXRjaCgpXG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdF8uZWFjaChvcmdzLCAob3JnKSAtPlxuXHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlKG9yZy5faWQsIHJvbGVfaWQsIHNwYWNlX2lkKVxuXHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcblx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxuXHQpXG5cdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxuXHRyZXR1cm4gdXNlcl9pZHNcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdzQW5kUm9sZXMgPSAob3JnX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKS0+XG5cdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKVxuXHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcblx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxuXHQpXG5cdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxuXHRyZXR1cm4gdXNlcl9pZHNcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyA9IChvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCktPlxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRfLmVhY2gocm9sZV9pZHMsIChyb2xlX2lkKS0+XG5cdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnX2lkLCByb2xlX2lkLCBzcGFjZV9pZClcblx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXG5cdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycylcblx0KVxuXHRpZiB1c2VyX2lkcy5sZW5ndGggPiAwXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdFx0cmV0dXJuIHVzZXJfaWRzXG5cdGVsc2Vcblx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuagueaNrm9yZ19pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpXG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZSA9IChvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKSAtPlxuXHRvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IG9yZ19pZCB9LCB7IGZpZWxkczogeyBwYXJlbnRzOiAxIH0gfSlcblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0cG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgb3JnOiBvcmdfaWQsIHJvbGU6IHJvbGVfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KS5mZXRjaCgpXG5cdF8uZWFjaChwb3NpdGlvbnMsIChwb3NpdGlvbikgLT5cblx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2Vycylcblx0KVxuXHRpZiB1c2VyX2lkcy5sZW5ndGggaXMgMFxuXHRcdHBhcmVudHMgPSBvcmcucGFyZW50c1xuXHRcdF8uZWFjaChwYXJlbnRzLCAocGFyZW50X2lkKSAtPlxuXHRcdFx0cG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgb3JnOiBwYXJlbnRfaWQsIHJvbGU6IHJvbGVfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KS5mZXRjaCgpXG5cdFx0XHRpZiBwb3NpdGlvbnMubGVuZ3RoID4gMFxuXHRcdFx0XHRfLmVhY2gocG9zaXRpb25zLCAocG9zaXRpb24pIC0+XG5cdFx0XHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQocG9zaXRpb24udXNlcnMpXG5cdFx0XHRcdClcblx0XHQpXG5cblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdHJldHVybiB1c2VyX2lkc1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMgPSAoaW5zdGFuY2VfaWQsIHN0ZXBfaWQpIC0+XG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpXG5cblx0IyDmi5/nqL/ml7YsIOWPr+S7peiuvuWumuWQjue7reavj+S4quatpemqpOeahOWkhOeQhuS6uiAjMTkyNlxuXHRpZiBpbnN0YW5jZS5zdGVwX2FwcHJvdmUgJiYgaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWRdXG5cdFx0cmV0dXJuIGluc3RhbmNlLnN0ZXBfYXBwcm92ZVtzdGVwX2lkXVxuXG5cdGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXlcblx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRmbG93X2lkID0gaW5zdGFuY2UuZmxvd1xuXHRmbG93X3JldiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvblxuXHRjdXJyZW50X2Zsb3cgPSBkYi5mbG93cy5maW5kT25lKGZsb3dfaWQpXG5cdGN1cnJlbnRfc3RlcCA9IG51bGxcblx0Y3VycmVudF9zdGVwcyA9IG5ldyBBcnJheVxuXG5cdGlmIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCBpcyBmbG93X3JldlxuXHRcdGN1cnJlbnRfc3RlcHMgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5zdGVwc1xuXHRlbHNlXG5cdFx0Y3VycmVudCA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChoaXN0b3J5KSAtPlxuXHRcdFx0cmV0dXJuIGhpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XG5cdFx0KVxuXHRcdGN1cnJlbnRfc3RlcHMgPSBjdXJyZW50LnN0ZXBzXG5cblx0IyDku47ojrflj5bnmoRzdGVwc+S4reagueaNrjpzdGVwX2lk5o+Q5Y+W5a+55bqU55qEc3RlcOWvueixoVxuXHRjdXJyZW50X3N0ZXAgPSBfLmZpbmQoY3VycmVudF9zdGVwcywgKHN0ZXApIC0+XG5cdFx0cmV0dXJuIHN0ZXAuX2lkIGlzIHN0ZXBfaWRcblx0KVxuXHQjIOWIpOaWrXN0ZXBfdHlwZVxuXHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzIFwiY29uZGl0aW9uXCJcblx0XHR1bmZpbmlzaGVkX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKSAtPlxuXHRcdFx0cmV0dXJuIHRyYWNlLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXG5cdFx0KVxuXG5cdFx0cmV0dXJuIG5ldyBBcnJheSh1bmZpbmlzaGVkX3RyYWNlLmFwcHJvdmVzWzBdLnVzZXIpXG5cblx0aWYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpcyBcInN0YXJ0XCJcblx0XHRoYW5kbGVycyA9IG5ldyBBcnJheVxuXHRcdGhhbmRsZXJzLnB1c2goaW5zdGFuY2UuYXBwbGljYW50KVxuXHRcdGhhbmRsZXJzLnB1c2goaW5zdGFuY2Uuc3VibWl0dGVyKVxuXHRcdGhhbmRsZXJzID0gXy51bmlxKGhhbmRsZXJzKVxuXHRcdHJldHVybiBoYW5kbGVyc1xuXHQjIOW+l+WIsHN0ZXDnmoRcImRlYWxfdHlwZVwi77yM5bm26L+b6KGM6YC76L6R5Yik5pat5om+5Yiw5a+55bqU55qE5aSE55CG5Lq6XG5cdGRlYWxfdHlwZSA9IGN1cnJlbnRfc3RlcC5kZWFsX3R5cGVcblx0dXNlcnMgPSBuZXcgQXJyYXlcblx0aWYgZGVhbF90eXBlIGlzIFwiYXBwbGljYW50Um9sZVwiXG5cdFx0IyAxLioqKioqKioqKioq55Sz6K+35Lq65omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcblx0XHRhcHBsaWNhbnQgPSBpbnN0YW5jZS5hcHBsaWNhbnRcblx0XHRpZiBhcHBsaWNhbnRcblx0XHRcdHNwYWNlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHBsaWNhbnQgfSkuY291bnQoKVxuXHRcdFx0aWYgc3BhY2VfdXNlcl9jb3VudCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIilcblxuXHRcdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzIGFuZCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMFxuXHRcdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cblx0XHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcblx0XHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcblx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6KeS6Imy5bey57uP6KKr5Yig6ZmkXCIpXG5cdFx0XHRcdClcblxuXHRcdFx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoYXBwbGljYW50LCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKVxuXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJJbnN0YW5jZeeahOaPkOS6pOS6uuS4uuepulwiKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcImFwcGxpY2FudFwiXG5cdFx0IyAyLioqKioqKioqKioq55Sz6K+35Lq6KioqKioqKioqKipcblx0XHRhcHBsaWNhbnQgPSBpbnN0YW5jZS5hcHBsaWNhbnRcblx0XHRzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwbGljYW50IH0pLmNvdW50KClcblx0XHRpZiBzcGFjZV91c2VyX2NvdW50IGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIilcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gbmV3IEFycmF5KGFwcGxpY2FudClcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJvcmdGaWVsZFJvbGVcIlxuXHRcdCMgMy4qKioqKioqKioqKumDqOmXqOWtl+auteaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXG5cdFx0Zm9ybV9yZXYgPSBudWxsXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XG5cdFx0XHQpXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxuXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XG5cdFx0XHQpXG5cblx0XHRhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKSAtPlxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfb3JnX2ZpZWxkXG5cdFx0XHRcdGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGVcblx0XHQpXG5cblx0XHQjIOWPluW+l+acgOaWsOeahHZhbHVlc1xuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXG5cdFx0b3JnX2lkcyA9IG5ldyBBcnJheVxuXHRcdG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXlcblx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcblx0XHRcdFx0b3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGVsc2Vcblx0XHRcdFx0b3JnX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXG5cblx0XHQjIOagoemqjG9yZ19pZOaVsOe7hOS4rW9yZ19pZOaYr+WQpuWQiOazlVxuXHRcdF8uZWFjaChvcmdfaWRzX25hbWVzLCAob3JnKSAtPlxuXHRcdFx0Y2hlY2tfb3JnX2NvdW50ID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgX2lkOiBvcmdbXCJpZFwiXSB9KS5jb3VudCgpXG5cdFx0XHRpZiBjaGVja19vcmdfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpXG5cdFx0XHRvcmdfaWRzLnB1c2gob3JnW1wiaWRcIl0pXG5cdFx0KVxuXG5cdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzIGFuZCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMFxuXHRcdFx0IyDmo4Dmn6VhcHByb3Zlcl9yb2xlc+S4rXJvbGXmmK/lkKbkuI3lrZjlnKjmiJblt7Lnu4/ooqvliKDpmaRcblx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxuXHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcblx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpXG5cdFx0XHQpXG5cdFx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdzQW5kUm9sZXMob3JnX2lkcywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBpbnN0YW5jZS5zcGFjZSlcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcIm9yZ0ZpZWxkXCJcblx0XHQjIDQuKioqKioqKioqKirpg6jpl6jlrZfmrrXmiYDlsZ7nu4Tnu4fkuK3nmoTkurrlkZgqKioqKioqKioqKlxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxuXHRcdGZvcm1fcmV2ID0gbnVsbFxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0KVxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cblxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxuXHRcdFx0KVxuXG5cdFx0YXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZFxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xuXHRcdGZpZWxkX2NvZGUgPSBudWxsXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCktPlxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfb3JnX2ZpZWxkXG5cdFx0XHRcdGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGVcblx0XHQpXG5cblx0XHQjIOWPluW+l+acgOaWsOeahHZhbHVlc1xuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXG5cblx0XHRvcmdfaWRzID0gbmV3IEFycmF5XG5cdFx0b3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheVxuXHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheVxuXHRcdFx0XHRvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSlcblxuXHRcdCMg5qCh6aqMb3JnX2lk5pWw57uE5Litb3JnX2lk5piv5ZCm5ZCI5rOVXG5cdFx0Xy5lYWNoKG9yZ19pZHNfbmFtZXMsIChvcmcpIC0+XG5cdFx0XHRjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBfaWQ6IG9yZ1tcImlkXCJdIH0pLmNvdW50KClcblx0XHRcdGlmIGNoZWNrX29yZ19jb3VudCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHSUTkuI3lkIjms5VcIilcblx0XHRcdG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSlcblx0XHQpXG5cblx0XHQjIOagoemqjG9yZ+S4i+WtmOWcqOWkhOeQhuS6ulxuXHRcdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpIC0+XG5cdFx0XHRvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IG9yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pXG5cdFx0XHRvcmdfY2hpbGRyZW4gPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHBhcmVudHM6IG9yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcblx0XHRcdG9yZ19jaGlsZHJlbi51bnNoaWZ0KG9yZylcblx0XHRcdGNoZWNrX29yZ3MgPSBvcmdfY2hpbGRyZW5cblx0XHRcdG9yZ191c2VycyA9IG5ldyBBcnJheVxuXHRcdFx0Xy5lYWNoKGNoZWNrX29yZ3MsIChjaGVja19vcmdfdXNlcikgLT5cblx0XHRcdFx0aWYgY2hlY2tfb3JnX3VzZXIudXNlcnNcblx0XHRcdFx0XHRfLmVhY2goY2hlY2tfb3JnX3VzZXIudXNlcnMsIChvcmdfdXNlcikgLT5cblx0XHRcdFx0XHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IG9yZ191c2VyIH0pLmNvdW50KCkgaXMgMFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInNwYWNl5LiL5LiN5a2Y5Zyo5q2kdXNlclwiKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpXG5cdFx0XHRcdG9yZ191c2VycyA9IG9yZ191c2Vycy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpXG5cdFx0XHQpXG5cblx0XHRcdGlmIG9yZ191c2Vycy5sZW5ndGggaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h1wiICsgb3JnX2lkICsgXCLkuI3lrZjlnKjlpITnkIbkurpcIilcblxuXHRcdClcblxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxuXHRcdHJldHVybiB1c2VyX2lkc1xuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInVzZXJGaWVsZFJvbGVcIlxuXHRcdCMgNS4qKioqKioqKioqKuS6uuWRmOWtl+auteaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXG5cdFx0Zm9ybV9yZXYgPSBudWxsXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XG5cdFx0XHQpXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxuXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XG5cdFx0XHQpXG5cblx0XHRhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGRcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpIC0+XG5cdFx0XHRpZiBmb3JtX2ZpZWxkLl9pZCBpcyBhcHByb3Zlcl91c2VyX2ZpZWxkXG5cdFx0XHRcdGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGVcblx0XHQpXG5cblx0XHQjIOWPluW+l+acgOaWsOeahHZhbHVlc1xuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXG5cdFx0IyDojrflj5Z1c2VyX2lk5pWw57uEXG5cdFx0dXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXlcblx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcblx0XHRcdFx0dXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSlcblxuXHRcdCMg5qCh6aqMdXNlcl9pZOaVsOe7hOS4rXVzZXJfaWTmmK/lkKblkIjms5Vcblx0XHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaCh1c2VyX2lkc19uYW1lcywgKHVzZXIpIC0+XG5cdFx0XHRjaGVja191c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogdXNlcltcImlkXCJdIH0pLmNvdW50KClcblx0XHRcdGlmIGNoZWNrX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpXG5cdFx0XHR1c2VyX2lkcy5wdXNoKHVzZXJbXCJpZFwiXSlcblx0XHQpXG5cblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXG5cdFx0XHQjIOajgOafpWFwcHJvdmVyX3JvbGVz5Litcm9sZeaYr+WQpuS4jeWtmOWcqOaIluW3sue7j+iiq+WIoOmZpFxuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XG5cdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIilcblx0XHRcdClcblx0XHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXModXNlcl9pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJ1c2VyRmllbGRcIlxuXHRcdCMgNi4qKioqKioqKioqKuihqOWNleS6uuWRmOWtl+autSoqKioqKioqKioqXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXG5cdFx0Zm9ybV9yZXYgPSBudWxsXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XG5cdFx0XHQpXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxuXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XG5cdFx0XHQpXG5cblx0XHRhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGRcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpLT5cblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX3VzZXJfZmllbGRcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxuXHRcdClcblxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXG5cdFx0bmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcblxuXHRcdCMg6I635Y+WdXNlcl9pZOaVsOe7hFxuXHRcdHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5XG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXG5cblx0XHQjIOagoemqjHVzZXJfaWTmlbDnu4TkuK11c2VyX2lk5piv5ZCm5ZCI5rOVXG5cdFx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2godXNlcl9pZHNfbmFtZXMsICh1c2VyKSAtPlxuXHRcdFx0Y2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHVzZXJbXCJpZFwiXSB9KS5jb3VudCgpXG5cdFx0XHRpZiBjaGVja191c2VyX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKVxuXHRcdFx0dXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pXG5cdFx0KVxuXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdFx0cmV0dXJuIHVzZXJfaWRzXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeVN0ZXBSb2xlXCJcblx0XHQjIDcuKioqKioqKioqKirmjIflrprmraXpqqTlpITnkIblrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdGFwcHJvdmVyX3N0ZXAgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfc3RlcFxuXHRcdGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaChpbnN0YW5jZS50cmFjZXMsICh0cmFjZSkgLT5cblx0XHRcdGlmIHRyYWNlLnN0ZXAgaXMgYXBwcm92ZXJfc3RlcFxuXHRcdFx0XHRmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSlcblx0XHQpXG5cdFx0IyDmoLnmja5zdGFydF9kYXRl5Y+W5pyA5paw55qEdHJhY2Vcblx0XHRtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCAodCkgLT5cblx0XHRcdHJldHVybiB0LnN0YXJ0X2RhdGVcblx0XHQpXG5cblx0XHRhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIilcblxuXHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlc1xuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XG5cdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKVxuXHRcdFx0KVxuXG5cdFx0IyDpqozor4Hmn6XliLDnmoR1c2Vy5piv5ZCm6YO95ZCI5rOVXG5cdFx0Xy5lYWNoKGFwcHJvdmVfdXNlcnMsIChhcHByb3ZlX3VzZXIpIC0+XG5cdFx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHByb3ZlX3VzZXIgfSkuY291bnQoKSBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpXG5cdFx0KVxuXG5cdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyhhcHByb3ZlX3VzZXJzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlTdGVwVXNlclwiXG5cdFx0IyA4LioqKioqKioqKioq5oyH5a6a5q2l6aqk5aSE55CG5Lq6KioqKioqKioqKipcblx0XHRhcHByb3Zlcl9zdGVwID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3N0ZXBcblx0XHRmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2goaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpIC0+XG5cdFx0XHRpZiB0cmFjZS5zdGVwIGlzIGFwcHJvdmVyX3N0ZXBcblx0XHRcdFx0ZmluaXNoZWRfdHJhY2VzLnB1c2godHJhY2UpXG5cdFx0KVxuXHRcdCMg5qC55o2uc3RhcnRfZGF0ZeWPluacgOaWsOeahHRyYWNlXG5cdFx0bWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgKHQpIC0+XG5cdFx0XHRyZXR1cm4gdC5zdGFydF9kYXRlXG5cdFx0KVxuXG5cdFx0YXBwcm92ZV91c2VycyA9IF8ucGx1Y2sobWF4X3N0YXJ0RGF0ZV90cmFjZS5hcHByb3ZlcywgXCJ1c2VyXCIpXG5cblx0XHQjIOmqjOivgeafpeWIsOeahHVzZXLmmK/lkKbpg73lkIjms5Vcblx0XHRfLmVhY2goYXBwcm92ZV91c2VycywgKGFwcHJvdmVfdXNlciktPlxuXHRcdFx0Y2hlY2tfYXBwcm92ZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZV91c2VyIH0pLmNvdW50KClcblx0XHRcdGlmIGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpXG5cdFx0KVxuXG5cdFx0YXBwcm92ZV91c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKVxuXHRcdHJldHVybiBhcHByb3ZlX3VzZXJzXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3VibWl0dGVyUm9sZVwiXG5cdFx0IyA5LioqKioqKioqKioq5aGr5Y2V5Lq65omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcblx0XHRzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXJcblx0XHRpZiBub3Qgc3VibWl0dGVyXG5cdFx0XHQjIOWIpOaWreaPkOS6pOS6uuaYr+WQpuW3sue7j+iiq+WIoOmZpFxuXHRcdFx0c3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBzdWJtaXR0ZXIgfSkuY291bnQoKVxuXHRcdFx0aWYgc3VibWl0dGVyX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0IyDmo4Dmn6VhcHByb3Zlcl9yb2xlc+S4rXJvbGXmmK/lkKbkuI3lrZjlnKjmiJblt7Lnu4/ooqvliKDpmaRcblx0XHRcdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cblx0XHRcdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoc3VibWl0dGVyLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIilcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeahOaPkOS6pOS6uuS4uuepulwiKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInN1Ym1pdHRlclwiXG5cdFx0IyAxMC4qKioqKioqKioqKuaPkOS6pOS6uioqKioqKioqKioqXG5cdFx0c3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyXG5cdFx0IyDliKTmlq3mj5DkuqTkurrmmK/lkKblt7Lnu4/ooqvliKDpmaRcblx0XHRzdWJtaXR0ZXJfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHN1Ym1pdHRlciB9KS5jb3VudCgpXG5cdFx0aWYgc3VibWl0dGVyX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIilcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gbmV3IEFycmF5KHN1Ym1pdHRlcilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5T3JnXCJcblx0XHQjIDExLioqKioqKioqKioq5p+Q6YOo6Zeo5YaF55qE5omA5pyJ5Lq6KioqKioqKioqKipcblx0XHRhcHByb3Zlcl9vcmdfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ3Ncblx0XHRpZiBub3QgYXBwcm92ZXJfb3JnX2lkcyBvciBhcHByb3Zlcl9vcmdfaWRzLmxlbmd0aCBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquWumuS5ieeUqOS6juafpeaJvuS4i+S4gOatpeWkhOeQhuS6uueahOmDqOmXqO+8jOivt+iBlOezu+euoeeQhuWRmOiwg+afpea1geeoi+WbvueahOmFjee9ruaYr+WQpuato+ehrlwiKVxuXG5cdFx0IyDpqozor4HmiYDmjIflrprnmoRvcmdhbml6YXRpb25faWTpg73lrZjlnKhcblx0XHR2YWxpZF9hcHByb3Zlcl9vcmdfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKGFwcHJvdmVyX29yZ19pZHMsIChhcHByb3Zlcl9vcmdfaWQpIC0+XG5cdFx0XHRpZiBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX29yZ19pZCB9KS5jb3VudCgpID4gMFxuXHRcdFx0XHR2YWxpZF9hcHByb3Zlcl9vcmdfaWRzLnVuc2hpZnQoYXBwcm92ZXJfb3JnX2lkKVxuXHRcdClcblxuXHRcdG9yZ191c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaCh2YWxpZF9hcHByb3Zlcl9vcmdfaWRzLCAodmFsaWRfYXBwcm92ZXJfb3JnX2lkKSAtPlxuXHRcdFx0dmFsaWRfYXBwcm92ZXJfb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KVxuXHRcdFx0aWYgdmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzXG5cdFx0XHRcdG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKVxuXG5cdFx0XHRjaGlsZF9vcmdzID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBwYXJlbnRzOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KS5mZXRjaCgpXG5cdFx0XHRfLmVhY2goY2hpbGRfb3JncywgKGNoaWxkX29yZykgLT5cblx0XHRcdFx0aWYgY2hpbGRfb3JnLnVzZXJzXG5cdFx0XHRcdFx0b3JnX3VzZXJfaWRzID0gb3JnX3VzZXJfaWRzLmNvbmNhdChjaGlsZF9vcmcudXNlcnMpXG5cdFx0XHQpXG5cdFx0KVxuXG5cdFx0b3JnX3VzZXJfaWRzID0gXy51bmlxKG9yZ191c2VyX2lkcylcblx0XHRuZXdfb3JnX3VzZXJfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKG9yZ191c2VyX2lkcywgKG9yZ191c2VyX2lkKSAtPlxuXHRcdFx0c3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogb3JnX3VzZXJfaWQgfSkuY291bnQoKVxuXHRcdFx0aWYgc3BhY2VfdXNlcl9pbmZvX2NvdW50ID4gMFxuXHRcdFx0XHRuZXdfb3JnX3VzZXJfaWRzLnB1c2gob3JnX3VzZXJfaWQpXG5cdFx0KVxuXG5cdFx0cmV0dXJuIG5ld19vcmdfdXNlcl9pZHNcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5VXNlclwiXG5cdFx0IyAxMi4qKioqKioqKioqKuaMh+WumueahOS6uuWRmCoqKioqKioqKioqXG5cdFx0YXBwcm92ZXJfdXNlcl9pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcnNcblx0XHRhcHByb3Zlcl91c2VyX2lkcyA9IF8udW5pcShhcHByb3Zlcl91c2VyX2lkcylcblx0XHRuZXdfYXBwcm92ZXJfdXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2goYXBwcm92ZXJfdXNlcl9pZHMsIChhcHByb3Zlcl91c2VyX2lkKSAtPlxuXHRcdFx0c3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZXJfdXNlcl9pZCB9KS5jb3VudCgpXG5cdFx0XHRpZiBzcGFjZV91c2VyX2luZm9fY291bnQgPiAwXG5cdFx0XHRcdG5ld19hcHByb3Zlcl91c2VyX2lkcy5wdXNoKGFwcHJvdmVyX3VzZXJfaWQpXG5cdFx0KVxuXG5cdFx0cmV0dXJuIG5ld19hcHByb3Zlcl91c2VyX2lkc1xuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInBpY2t1cEF0UnVudGltZVwiXG5cdFx0IyAxMy4qKioqKioqKioqKuWuoeaJueaXtuaMh+WumioqKioqKioqKioqXG5cdFx0bmV4dF9zdGVwX3VzZXJzID0gbmV3IEFycmF5XG5cdFx0X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKF90cikgLT5cblx0XHRcdHJldHVybiBfdHIuaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHQpXG5cdFx0X2FwcHJvdmUgPSBfLmZpbmQoX3RyYWNlLmFwcHJvdmVzLCAoX2FwcCkgLT5cblx0XHRcdHJldHVybiBfYXBwLmlzX2ZpbmlzaGVkIGlzIGZhbHNlIGFuZCBfYXBwLnR5cGUgaXNudCAnY2MnXG5cdFx0KVxuXG5cdFx0aWYgX2FwcHJvdmUubmV4dF9zdGVwc1xuXHRcdFx0aWYgX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdXG5cdFx0XHRcdG5leHRfc3RlcF91c2VycyA9IF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXVxuXG5cdFx0cmV0dXJuIG5leHRfc3RlcF91c2Vyc1xuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcImFwcGxpY2FudFN1cGVyaW9yXCJcblx0XHQjIDE0LioqKioqKioqKioq55Sz6K+35Lq65LiK57qn5Li7566hKioqKioqKioqKipcblx0XHRhcHBsaWNhbnRTdXBlcmlvcnMgPSBuZXcgQXJyYXlcblx0XHRfc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGluc3RhbmNlLmFwcGxpY2FudCB9LCB7IGZpZWxkczogeyBtYW5hZ2VyOiAxIH0gfSlcblx0XHRpZiBfc3BhY2VfdXNlci5tYW5hZ2VyXG5cdFx0XHRhcHBsaWNhbnRTdXBlcmlvcnMucHVzaChfc3BhY2VfdXNlci5tYW5hZ2VyKVxuXG5cdFx0cmV0dXJuIGFwcGxpY2FudFN1cGVyaW9ycyIsIiAgICAgICAgICAgICAgICAgICAgICAgXG5cbmdldEhhbmRsZXJzTWFuYWdlciA9IHt9O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMgPSBmdW5jdGlvbih1c2VyX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciBhcHByb3ZlX3VzZXJzO1xuICBhcHByb3ZlX3VzZXJzID0gbmV3IEFycmF5O1xuICBfLmVhY2godXNlcl9pZHMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgaWYgKGRiLnVzZXJzLmZpbmQoe1xuICAgICAgX2lkOiB1c2VyX2lkXG4gICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXModXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKTtcbiAgICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBhcHByb3ZlX3VzZXJzID0gYXBwcm92ZV91c2Vycy5jb25jYXQodXNlcnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInVzZXJfaWTkuI3lkIjms5XkuI3lkIjms5VcIik7XG4gICAgfVxuICB9KTtcbiAgYXBwcm92ZV91c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKTtcbiAgcmV0dXJuIGFwcHJvdmVfdXNlcnM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyA9IGZ1bmN0aW9uKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgdXNlcl9pZHM7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gocm9sZV9pZHMsIGZ1bmN0aW9uKHJvbGVfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgaWYgKGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICBfaWQ6IHJvbGVfaWRcbiAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKTtcbiAgICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwicm9sZV9pZOW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICB9XG4gIH0pO1xuICBpZiAodXNlcl9pZHMubGVuZ3RoID4gMCkge1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmoLnmja51c2VyX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIik7XG4gIH1cbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUgPSBmdW5jdGlvbih1c2VyX2lkLCByb2xlX2lkLCBzcGFjZV9pZCkge1xuICB2YXIgb3JncywgdXNlcl9pZHM7XG4gIG9yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICB1c2VyczogdXNlcl9pZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDFcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gob3JncywgZnVuY3Rpb24ob3JnKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlKG9yZy5faWQsIHJvbGVfaWQsIHNwYWNlX2lkKTtcbiAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICB9XG4gIH0pO1xuICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIHJldHVybiB1c2VyX2lkcztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzID0gZnVuY3Rpb24ob3JnX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciB1c2VyX2lkcztcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKTtcbiAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICB9XG4gIH0pO1xuICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIHJldHVybiB1c2VyX2lkcztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMgPSBmdW5jdGlvbihvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgdXNlcl9pZHM7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gocm9sZV9pZHMsIGZ1bmN0aW9uKHJvbGVfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnX2lkLCByb2xlX2lkLCBzcGFjZV9pZCk7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgfVxuICB9KTtcbiAgaWYgKHVzZXJfaWRzLmxlbmd0aCA+IDApIHtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2ub3JnX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIik7XG4gIH1cbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZSA9IGZ1bmN0aW9uKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIHtcbiAgdmFyIG9yZywgcGFyZW50cywgcG9zaXRpb25zLCB1c2VyX2lkcztcbiAgb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICBfaWQ6IG9yZ19pZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBwYXJlbnRzOiAxXG4gICAgfVxuICB9KTtcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICBvcmc6IG9yZ19pZCxcbiAgICByb2xlOiByb2xlX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHVzZXJzOiAxXG4gICAgfVxuICB9KS5mZXRjaCgpO1xuICBfLmVhY2gocG9zaXRpb25zLCBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2Vycyk7XG4gIH0pO1xuICBpZiAodXNlcl9pZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcGFyZW50cyA9IG9yZy5wYXJlbnRzO1xuICAgIF8uZWFjaChwYXJlbnRzLCBmdW5jdGlvbihwYXJlbnRfaWQpIHtcbiAgICAgIHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIG9yZzogcGFyZW50X2lkLFxuICAgICAgICByb2xlOiByb2xlX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAocG9zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIF8uZWFjaChwb3NpdGlvbnMsIGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICByZXR1cm4gdXNlcl9pZHM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMgPSBmdW5jdGlvbihpbnN0YW5jZV9pZCwgc3RlcF9pZCkge1xuICB2YXIgX2FwcHJvdmUsIF9zcGFjZV91c2VyLCBfdHJhY2UsIGFwcGxpY2FudCwgYXBwbGljYW50U3VwZXJpb3JzLCBhcHByb3ZlX3VzZXJzLCBhcHByb3Zlcl9vcmdfZmllbGQsIGFwcHJvdmVyX29yZ19pZHMsIGFwcHJvdmVyX3N0ZXAsIGFwcHJvdmVyX3VzZXJfZmllbGQsIGFwcHJvdmVyX3VzZXJfaWRzLCBjdXJyZW50LCBjdXJyZW50X2Zsb3csIGN1cnJlbnRfZmxvd192ZXJzaW9uLCBjdXJyZW50X2Zvcm0sIGN1cnJlbnRfc3RlcCwgY3VycmVudF9zdGVwcywgZGVhbF90eXBlLCBmaWVsZF9jb2RlLCBmaW5pc2hlZF90cmFjZXMsIGZsb3dfaWQsIGZsb3dfcmV2LCBmb3JtLCBmb3JtX2ZpZWxkcywgZm9ybV9pZCwgZm9ybV9yZXYsIGhhbmRsZXJzLCBpbnN0YW5jZSwgbWF4X3N0YXJ0RGF0ZV90cmFjZSwgbmV3X2FwcHJvdmVyX3VzZXJfaWRzLCBuZXdfb3JnX3VzZXJfaWRzLCBuZXdlc3RfdmFsdWVzLCBuZXh0X3N0ZXBfdXNlcnMsIG9yZ19pZHMsIG9yZ19pZHNfbmFtZXMsIG9yZ191c2VyX2lkcywgc3BhY2VfaWQsIHNwYWNlX3VzZXJfY291bnQsIHN1Ym1pdHRlciwgc3VibWl0dGVyX3VzZXJfY291bnQsIHVuZmluaXNoZWRfdHJhY2UsIHVzZXJfaWRzLCB1c2VyX2lkc19uYW1lcywgdXNlcnMsIHZhbGlkX2FwcHJvdmVyX29yZ19pZHM7XG4gIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xuICBpZiAoaW5zdGFuY2Uuc3RlcF9hcHByb3ZlICYmIGluc3RhbmNlLnN0ZXBfYXBwcm92ZVtzdGVwX2lkXSkge1xuICAgIHJldHVybiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbc3RlcF9pZF07XG4gIH1cbiAgYXBwcm92ZV91c2VycyA9IG5ldyBBcnJheTtcbiAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgZmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XG4gIGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICBjdXJyZW50X2Zsb3cgPSBkYi5mbG93cy5maW5kT25lKGZsb3dfaWQpO1xuICBjdXJyZW50X3N0ZXAgPSBudWxsO1xuICBjdXJyZW50X3N0ZXBzID0gbmV3IEFycmF5O1xuICBpZiAoY3VycmVudF9mbG93LmN1cnJlbnQuX2lkID09PSBmbG93X3Jldikge1xuICAgIGN1cnJlbnRfc3RlcHMgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5zdGVwcztcbiAgfSBlbHNlIHtcbiAgICBjdXJyZW50ID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oaGlzdG9yeSkge1xuICAgICAgcmV0dXJuIGhpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICB9KTtcbiAgICBjdXJyZW50X3N0ZXBzID0gY3VycmVudC5zdGVwcztcbiAgfVxuICBjdXJyZW50X3N0ZXAgPSBfLmZpbmQoY3VycmVudF9zdGVwcywgZnVuY3Rpb24oc3RlcCkge1xuICAgIHJldHVybiBzdGVwLl9pZCA9PT0gc3RlcF9pZDtcbiAgfSk7XG4gIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09PSBcImNvbmRpdGlvblwiKSB7XG4gICAgdW5maW5pc2hlZF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICByZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgPT09IGZhbHNlO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgQXJyYXkodW5maW5pc2hlZF90cmFjZS5hcHByb3Zlc1swXS51c2VyKTtcbiAgfVxuICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJzdGFydFwiKSB7XG4gICAgaGFuZGxlcnMgPSBuZXcgQXJyYXk7XG4gICAgaGFuZGxlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuICAgIGhhbmRsZXJzLnB1c2goaW5zdGFuY2Uuc3VibWl0dGVyKTtcbiAgICBoYW5kbGVycyA9IF8udW5pcShoYW5kbGVycyk7XG4gICAgcmV0dXJuIGhhbmRsZXJzO1xuICB9XG4gIGRlYWxfdHlwZSA9IGN1cnJlbnRfc3RlcC5kZWFsX3R5cGU7XG4gIHVzZXJzID0gbmV3IEFycmF5O1xuICBpZiAoZGVhbF90eXBlID09PSBcImFwcGxpY2FudFJvbGVcIikge1xuICAgIGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudDtcbiAgICBpZiAoYXBwbGljYW50KSB7XG4gICAgICBzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwbGljYW50XG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHNwYWNlX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKGFwcGxpY2FudCwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJJbnN0YW5jZeeahOaPkOS6pOS6uuS4uuepulwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcImFwcGxpY2FudFwiKSB7XG4gICAgYXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50O1xuICAgIHNwYWNlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IGFwcGxpY2FudFxuICAgIH0pLmNvdW50KCk7XG4gICAgaWYgKHNwYWNlX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgQXJyYXkoYXBwbGljYW50KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcIm9yZ0ZpZWxkUm9sZVwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX29yZ19maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIF8uZWFjaChvcmdfaWRzX25hbWVzLCBmdW5jdGlvbihvcmcpIHtcbiAgICAgIHZhciBjaGVja19vcmdfY291bnQ7XG4gICAgICBjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IG9yZ1tcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX29yZ19jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyhvcmdfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJvcmdGaWVsZFwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX29yZ19maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIF8uZWFjaChvcmdfaWRzX25hbWVzLCBmdW5jdGlvbihvcmcpIHtcbiAgICAgIHZhciBjaGVja19vcmdfY291bnQ7XG4gICAgICBjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IG9yZ1tcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX29yZ19jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgdmFyIGNoZWNrX29yZ3MsIG9yZywgb3JnX2NoaWxkcmVuLCBvcmdfdXNlcnM7XG4gICAgICBvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IG9yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9yZ19jaGlsZHJlbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgcGFyZW50czogb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBvcmdfY2hpbGRyZW4udW5zaGlmdChvcmcpO1xuICAgICAgY2hlY2tfb3JncyA9IG9yZ19jaGlsZHJlbjtcbiAgICAgIG9yZ191c2VycyA9IG5ldyBBcnJheTtcbiAgICAgIF8uZWFjaChjaGVja19vcmdzLCBmdW5jdGlvbihjaGVja19vcmdfdXNlcikge1xuICAgICAgICBpZiAoY2hlY2tfb3JnX3VzZXIudXNlcnMpIHtcbiAgICAgICAgICBfLmVhY2goY2hlY2tfb3JnX3VzZXIudXNlcnMsIGZ1bmN0aW9uKG9yZ191c2VyKSB7XG4gICAgICAgICAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICAgICAgdXNlcjogb3JnX3VzZXJcbiAgICAgICAgICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJzcGFjZeS4i+S4jeWtmOWcqOatpHVzZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpO1xuICAgICAgICByZXR1cm4gb3JnX3VzZXJzID0gb3JnX3VzZXJzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2Vycyk7XG4gICAgICB9KTtcbiAgICAgIGlmIChvcmdfdXNlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHXCIgKyBvcmdfaWQgKyBcIuS4jeWtmOWcqOWkhOeQhuS6ulwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJ1c2VyRmllbGRSb2xlXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGQ7XG4gICAgZm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzO1xuICAgIGZpZWxkX2NvZGUgPSBudWxsO1xuICAgIF8uZWFjaChmb3JtX2ZpZWxkcywgZnVuY3Rpb24oZm9ybV9maWVsZCkge1xuICAgICAgaWYgKGZvcm1fZmllbGQuX2lkID09PSBhcHByb3Zlcl91c2VyX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5O1xuICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKSB7XG4gICAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVzZXJfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaCh1c2VyX2lkc19uYW1lcywgZnVuY3Rpb24odXNlcikge1xuICAgICAgdmFyIGNoZWNrX3VzZXJfY291bnQ7XG4gICAgICBjaGVja191c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogdXNlcltcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1c2VyX2lkcy5wdXNoKHVzZXJbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKHVzZXJfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJ1c2VyRmllbGRcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX3VzZXJfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgdXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHVzZXJfaWRzX25hbWVzLCBmdW5jdGlvbih1c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfdXNlcl9jb3VudDtcbiAgICAgIGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiB1c2VyW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKTtcbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzcGVjaWZ5U3RlcFJvbGVcIikge1xuICAgIGFwcHJvdmVyX3N0ZXAgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfc3RlcDtcbiAgICBmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIGlmICh0cmFjZS5zdGVwID09PSBhcHByb3Zlcl9zdGVwKSB7XG4gICAgICAgIHJldHVybiBmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgcmV0dXJuIHQuc3RhcnRfZGF0ZTtcbiAgICB9KTtcbiAgICBhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIik7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcykge1xuICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBfLmVhY2goYXBwcm92ZV91c2VycywgZnVuY3Rpb24oYXBwcm92ZV91c2VyKSB7XG4gICAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwcm92ZV91c2VyXG4gICAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMoYXBwcm92ZV91c2VycywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZCk7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlTdGVwVXNlclwiKSB7XG4gICAgYXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwO1xuICAgIGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgaWYgKHRyYWNlLnN0ZXAgPT09IGFwcHJvdmVyX3N0ZXApIHtcbiAgICAgICAgcmV0dXJuIGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICByZXR1cm4gdC5zdGFydF9kYXRlO1xuICAgIH0pO1xuICAgIGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKTtcbiAgICBfLmVhY2goYXBwcm92ZV91c2VycywgZnVuY3Rpb24oYXBwcm92ZV91c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50O1xuICAgICAgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwcm92ZV91c2VyXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhcHByb3ZlX3VzZXJzID0gXy51bmlxKGFwcHJvdmVfdXNlcnMpO1xuICAgIHJldHVybiBhcHByb3ZlX3VzZXJzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzdWJtaXR0ZXJSb2xlXCIpIHtcbiAgICBzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXI7XG4gICAgaWYgKCFzdWJtaXR0ZXIpIHtcbiAgICAgIHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogc3VibWl0dGVyXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHN1Ym1pdHRlcl91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmN5bel5L2c5Yy6XCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoc3VibWl0dGVyLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeahOaPkOS6pOS6uuS4uuepulwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInN1Ym1pdHRlclwiKSB7XG4gICAgc3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyO1xuICAgIHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBzdWJtaXR0ZXJcbiAgICB9KS5jb3VudCgpO1xuICAgIGlmIChzdWJtaXR0ZXJfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgQXJyYXkoc3VibWl0dGVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlPcmdcIikge1xuICAgIGFwcHJvdmVyX29yZ19pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JncztcbiAgICBpZiAoIWFwcHJvdmVyX29yZ19pZHMgfHwgYXBwcm92ZXJfb3JnX2lkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5a6a5LmJ55So5LqO5p+l5om+5LiL5LiA5q2l5aSE55CG5Lq655qE6YOo6Zeo77yM6K+36IGU57O7566h55CG5ZGY6LCD5p+l5rWB56iL5Zu+55qE6YWN572u5piv5ZCm5q2j56GuXCIpO1xuICAgIH1cbiAgICB2YWxpZF9hcHByb3Zlcl9vcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChhcHByb3Zlcl9vcmdfaWRzLCBmdW5jdGlvbihhcHByb3Zlcl9vcmdfaWQpIHtcbiAgICAgIGlmIChkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IGFwcHJvdmVyX29yZ19pZFxuICAgICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkX2FwcHJvdmVyX29yZ19pZHMudW5zaGlmdChhcHByb3Zlcl9vcmdfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9yZ191c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godmFsaWRfYXBwcm92ZXJfb3JnX2lkcywgZnVuY3Rpb24odmFsaWRfYXBwcm92ZXJfb3JnX2lkKSB7XG4gICAgICB2YXIgY2hpbGRfb3JncywgdmFsaWRfYXBwcm92ZXJfb3JnO1xuICAgICAgdmFsaWRfYXBwcm92ZXJfb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICAgICAgX2lkOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKSB7XG4gICAgICAgIG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkX29yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHBhcmVudHM6IHZhbGlkX2FwcHJvdmVyX29yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgcmV0dXJuIF8uZWFjaChjaGlsZF9vcmdzLCBmdW5jdGlvbihjaGlsZF9vcmcpIHtcbiAgICAgICAgaWYgKGNoaWxkX29yZy51c2Vycykge1xuICAgICAgICAgIHJldHVybiBvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KGNoaWxkX29yZy51c2Vycyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIG9yZ191c2VyX2lkcyA9IF8udW5pcShvcmdfdXNlcl9pZHMpO1xuICAgIG5ld19vcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKG9yZ191c2VyX2lkcywgZnVuY3Rpb24ob3JnX3VzZXJfaWQpIHtcbiAgICAgIHZhciBzcGFjZV91c2VyX2luZm9fY291bnQ7XG4gICAgICBzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBvcmdfdXNlcl9pZFxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzcGFjZV91c2VyX2luZm9fY291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiBuZXdfb3JnX3VzZXJfaWRzLnB1c2gob3JnX3VzZXJfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXdfb3JnX3VzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzcGVjaWZ5VXNlclwiKSB7XG4gICAgYXBwcm92ZXJfdXNlcl9pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcnM7XG4gICAgYXBwcm92ZXJfdXNlcl9pZHMgPSBfLnVuaXEoYXBwcm92ZXJfdXNlcl9pZHMpO1xuICAgIG5ld19hcHByb3Zlcl91c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goYXBwcm92ZXJfdXNlcl9pZHMsIGZ1bmN0aW9uKGFwcHJvdmVyX3VzZXJfaWQpIHtcbiAgICAgIHZhciBzcGFjZV91c2VyX2luZm9fY291bnQ7XG4gICAgICBzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHByb3Zlcl91c2VyX2lkXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG5ld19hcHByb3Zlcl91c2VyX2lkcy5wdXNoKGFwcHJvdmVyX3VzZXJfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXdfYXBwcm92ZXJfdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInBpY2t1cEF0UnVudGltZVwiKSB7XG4gICAgbmV4dF9zdGVwX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKF90cikge1xuICAgICAgcmV0dXJuIF90ci5pc19maW5pc2hlZCA9PT0gZmFsc2U7XG4gICAgfSk7XG4gICAgX2FwcHJvdmUgPSBfLmZpbmQoX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihfYXBwKSB7XG4gICAgICByZXR1cm4gX2FwcC5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgX2FwcC50eXBlICE9PSAnY2MnO1xuICAgIH0pO1xuICAgIGlmIChfYXBwcm92ZS5uZXh0X3N0ZXBzKSB7XG4gICAgICBpZiAoX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdKSB7XG4gICAgICAgIG5leHRfc3RlcF91c2VycyA9IF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5leHRfc3RlcF91c2VycztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwiYXBwbGljYW50U3VwZXJpb3JcIikge1xuICAgIGFwcGxpY2FudFN1cGVyaW9ycyA9IG5ldyBBcnJheTtcbiAgICBfc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogaW5zdGFuY2UuYXBwbGljYW50XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG1hbmFnZXI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoX3NwYWNlX3VzZXIubWFuYWdlcikge1xuICAgICAgYXBwbGljYW50U3VwZXJpb3JzLnB1c2goX3NwYWNlX3VzZXIubWFuYWdlcik7XG4gICAgfVxuICAgIHJldHVybiBhcHBsaWNhbnRTdXBlcmlvcnM7XG4gIH1cbn07XG4iLCJwZXJtaXNzaW9uTWFuYWdlciA9IHt9XG5cbnBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyA9IChmbG93X2lkLCB1c2VyX2lkKSAtPlxuXHQjIOagueaNrjpmbG93X2lk5p+l5Yiw5a+55bqU55qEZmxvd1xuXHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGZsb3dfaWQpXG5cdHNwYWNlX2lkID0gZmxvdy5zcGFjZVxuXHQjIOagueaNrnNwYWNlX2lk5ZKMOnVzZXJfaWTliLBvcmdhbml6YXRpb25z6KGo5Lit5p+l5Yiw55So5oi35omA5bGe5omA5pyJ55qEb3JnX2lk77yI5YyF5ous5LiK57qn57uESUTvvIlcblx0b3JnX2lkcyA9IG5ldyBBcnJheVxuXHRvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcblx0XHRzcGFjZTogc3BhY2VfaWQsIHVzZXJzOiB1c2VyX2lkIH0sIHsgZmllbGRzOiB7IHBhcmVudHM6IDEgfSB9KS5mZXRjaCgpXG5cdF8uZWFjaChvcmdhbml6YXRpb25zLCAob3JnKSAtPlxuXHRcdG9yZ19pZHMucHVzaChvcmcuX2lkKVxuXHRcdGlmIG9yZy5wYXJlbnRzXG5cdFx0XHRfLmVhY2gob3JnLnBhcmVudHMsIChwYXJlbnRfaWQpIC0+XG5cdFx0XHRcdG9yZ19pZHMucHVzaChwYXJlbnRfaWQpXG5cdFx0XHQpXG5cdClcblx0b3JnX2lkcyA9IF8udW5pcShvcmdfaWRzKVxuXHRteV9wZXJtaXNzaW9ucyA9IG5ldyBBcnJheVxuXHRpZiBmbG93LnBlcm1zXG5cdFx0IyDliKTmlq1mbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbuS4reaYr+WQpuWMheWQq+W9k+WJjeeUqOaIt++8jFxuXHRcdCMg5oiW6ICFZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGTmmK/lkKbljIXlkKs05q2l5b6X5Yiw55qEb3JnX2lk5pWw57uE5Lit55qE5Lu75L2V5LiA5Liq77yMXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIphZGRcblx0XHRpZiBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZGRcblx0XHRcdHVzZXJzX2Nhbl9hZGQgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZGRcblx0XHRcdGlmIHVzZXJzX2Nhbl9hZGQuaW5jbHVkZXModXNlcl9pZClcblx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcImFkZFwiKVxuXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGRcblx0XHRcdG9yZ3NfY2FuX2FkZCA9IGZsb3cucGVybXMub3Jnc19jYW5fYWRkXG5cdFx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cblx0XHRcdFx0aWYgb3Jnc19jYW5fYWRkLmluY2x1ZGVzKG9yZ19pZClcblx0XHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpXG5cdFx0XHQpXG5cdFx0IyDliKTmlq1mbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9y5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3LmmK/lkKbljIXlkKs05q2l5b6X5Yiw55qEb3JnX2lk5pWw57uE5Lit55qE5Lu75L2V5LiA5Liq77yMXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIptb25pdG9yXG5cdFx0aWYgZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvclxuXHRcdFx0dXNlcnNfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yXG5cdFx0XHRpZiB1c2Vyc19jYW5fbW9uaXRvci5pbmNsdWRlcyh1c2VyX2lkKVxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKVxuXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yXG5cdFx0XHRvcmdzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yXG5cdFx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cblx0XHRcdFx0aWYgb3Jnc19jYW5fbW9uaXRvci5pbmNsdWRlcyhvcmdfaWQpXG5cdFx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcIm1vbml0b3JcIilcblx0XHRcdClcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX2FkbWlu5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWlu5piv5ZCm5YyF5ZCrNOatpeW+l+WIsOeahG9yZ19pZOaVsOe7hOS4reeahOS7u+S9leS4gOS4qu+8jFxuXHRcdCMg6Iul5piv77yM5YiZ5Zyo6L+U5Zue55qE5pWw57uE5Lit5Yqg5LiKYWRtaW5cblx0XHRpZiBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pblxuXHRcdFx0dXNlcnNfY2FuX2FkbWluID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW5cblx0XHRcdGlmIHVzZXJzX2Nhbl9hZG1pbi5pbmNsdWRlcyh1c2VyX2lkKVxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIilcblxuXHRcdGlmIGZsb3cucGVybXMub3Jnc19jYW5fYWRtaW5cblx0XHRcdG9yZ3NfY2FuX2FkbWluID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pblxuXHRcdFx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpIC0+XG5cdFx0XHRcdGlmIG9yZ3NfY2FuX2FkbWluLmluY2x1ZGVzKG9yZ19pZClcblx0XHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIilcblx0XHRcdClcblxuXHRteV9wZXJtaXNzaW9ucyA9IF8udW5pcShteV9wZXJtaXNzaW9ucylcblx0cmV0dXJuIG15X3Blcm1pc3Npb25zIiwiICAgICAgICAgICAgICAgICAgICAgIFxuXG5wZXJtaXNzaW9uTWFuYWdlciA9IHt9O1xuXG5wZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMgPSBmdW5jdGlvbihmbG93X2lkLCB1c2VyX2lkKSB7XG4gIHZhciBmbG93LCBteV9wZXJtaXNzaW9ucywgb3JnX2lkcywgb3JnYW5pemF0aW9ucywgb3Jnc19jYW5fYWRkLCBvcmdzX2Nhbl9hZG1pbiwgb3Jnc19jYW5fbW9uaXRvciwgc3BhY2VfaWQsIHVzZXJzX2Nhbl9hZGQsIHVzZXJzX2Nhbl9hZG1pbiwgdXNlcnNfY2FuX21vbml0b3I7XG4gIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZCk7XG4gIHNwYWNlX2lkID0gZmxvdy5zcGFjZTtcbiAgb3JnX2lkcyA9IG5ldyBBcnJheTtcbiAgb3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgIHVzZXJzOiB1c2VyX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHBhcmVudHM6IDFcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIF8uZWFjaChvcmdhbml6YXRpb25zLCBmdW5jdGlvbihvcmcpIHtcbiAgICBvcmdfaWRzLnB1c2gob3JnLl9pZCk7XG4gICAgaWYgKG9yZy5wYXJlbnRzKSB7XG4gICAgICByZXR1cm4gXy5lYWNoKG9yZy5wYXJlbnRzLCBmdW5jdGlvbihwYXJlbnRfaWQpIHtcbiAgICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChwYXJlbnRfaWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgb3JnX2lkcyA9IF8udW5pcShvcmdfaWRzKTtcbiAgbXlfcGVybWlzc2lvbnMgPSBuZXcgQXJyYXk7XG4gIGlmIChmbG93LnBlcm1zKSB7XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX2FkZCkge1xuICAgICAgdXNlcnNfY2FuX2FkZCA9IGZsb3cucGVybXMudXNlcnNfY2FuX2FkZDtcbiAgICAgIGlmICh1c2Vyc19jYW5fYWRkLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZCkge1xuICAgICAgb3Jnc19jYW5fYWRkID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGQ7XG4gICAgICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgICAgIGlmIChvcmdzX2Nhbl9hZGQuaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3IpIHtcbiAgICAgIHVzZXJzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvcjtcbiAgICAgIGlmICh1c2Vyc19jYW5fbW9uaXRvci5pbmNsdWRlcyh1c2VyX2lkKSkge1xuICAgICAgICBteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcikge1xuICAgICAgb3Jnc19jYW5fbW9uaXRvciA9IGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcjtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX21vbml0b3IuaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbikge1xuICAgICAgdXNlcnNfY2FuX2FkbWluID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW47XG4gICAgICBpZiAodXNlcnNfY2FuX2FkbWluLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fYWRtaW4pIHtcbiAgICAgIG9yZ3NfY2FuX2FkbWluID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pbjtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX2FkbWluLmluY2x1ZGVzKG9yZ19pZCkpIHtcbiAgICAgICAgICByZXR1cm4gbXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgbXlfcGVybWlzc2lvbnMgPSBfLnVuaXEobXlfcGVybWlzc2lvbnMpO1xuICByZXR1cm4gbXlfcGVybWlzc2lvbnM7XG59O1xuIiwiYXBwcm92ZU1hbmFnZXIgPSB7fVxuXG5cbiMjI1xuICAgIOWvueavlGFwcHJvdmVfdmFsdWVz5LiObGFzdF92YWx1ZXMg5a+56LGh77yMIOi/lOWbnmFwcHJvdmVfdmFsdWVz5q+UbGFzdF92YWx1ZXPlpJrlh7rnmoTmiJbogIXmlLnlj5jnmoTpg6jliIZcbiMjI1xuYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzID0gKGxhc3RfdmFsdWVzLGFwcHJvdmVfdmFsdWVzKSAtPlxuXG5cdGNoYW5nZVZhbHVlcyA9IHt9XG5cblx0bGFzdF92YWx1ZXNfa2V5cyA9IF8ua2V5cyhsYXN0X3ZhbHVlcylcblxuXHRhcHByb3ZlX3ZhbHVlc19rZXlzID0gXy5rZXlzKGFwcHJvdmVfdmFsdWVzKVxuXG4jXHRjb25zb2xlLmxvZyhcImxhc3RfdmFsdWVzX2tleXNcIiwgbGFzdF92YWx1ZXNfa2V5cylcbiNcbiNcdGNvbnNvbGUubG9nKFwiYXBwcm92ZV92YWx1ZXNfa2V5c1wiLCBhcHByb3ZlX3ZhbHVlc19rZXlzKVxuXG5cdGFwcHJvdmVfdmFsdWVzX2tleXMuZm9yRWFjaCAoa2V5KS0+XG5cdFx0aWYgXy5jb250YWlucyhsYXN0X3ZhbHVlc19rZXlzLCBrZXkpXG5cdFx0XHRpZiAhXy5pc0VxdWFsKGxhc3RfdmFsdWVzW2tleV0sIGFwcHJvdmVfdmFsdWVzW2tleV0pXG5cdFx0XHRcdGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XVxuXHRcdGVsc2Vcblx0XHRcdGlmIGFwcHJvdmVfdmFsdWVzW2tleV0gIT0gJydcbiNcdFx0XHRcdGNvbnNvbGUubG9nKGtleSxhcHByb3ZlX3ZhbHVlc1trZXldKVxuXHRcdFx0XHRjaGFuZ2VWYWx1ZXNba2V5XSA9IGFwcHJvdmVfdmFsdWVzW2tleV1cblxuXHRyZXR1cm4gY2hhbmdlVmFsdWVzXG4iLCIgICAgICAgICAgICAgICAgICAgXG5cbmFwcHJvdmVNYW5hZ2VyID0ge307XG5cblxuLypcbiAgICDlr7nmr5RhcHByb3ZlX3ZhbHVlc+S4jmxhc3RfdmFsdWVzIOWvueixoe+8jCDov5Tlm55hcHByb3ZlX3ZhbHVlc+avlGxhc3RfdmFsdWVz5aSa5Ye655qE5oiW6ICF5pS55Y+Y55qE6YOo5YiGXG4gKi9cblxuYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzID0gZnVuY3Rpb24obGFzdF92YWx1ZXMsIGFwcHJvdmVfdmFsdWVzKSB7XG4gIHZhciBhcHByb3ZlX3ZhbHVlc19rZXlzLCBjaGFuZ2VWYWx1ZXMsIGxhc3RfdmFsdWVzX2tleXM7XG4gIGNoYW5nZVZhbHVlcyA9IHt9O1xuICBsYXN0X3ZhbHVlc19rZXlzID0gXy5rZXlzKGxhc3RfdmFsdWVzKTtcbiAgYXBwcm92ZV92YWx1ZXNfa2V5cyA9IF8ua2V5cyhhcHByb3ZlX3ZhbHVlcyk7XG4gIGFwcHJvdmVfdmFsdWVzX2tleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoXy5jb250YWlucyhsYXN0X3ZhbHVlc19rZXlzLCBrZXkpKSB7XG4gICAgICBpZiAoIV8uaXNFcXVhbChsYXN0X3ZhbHVlc1trZXldLCBhcHByb3ZlX3ZhbHVlc1trZXldKSkge1xuICAgICAgICByZXR1cm4gY2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYXBwcm92ZV92YWx1ZXNba2V5XSAhPT0gJycpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2hhbmdlVmFsdWVzO1xufTtcbiIsImZsb3dNYW5hZ2VyID0ge31cblxuZmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zsb3dzID0gKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCBmaWVsZHMpLT5cblxuXHRjYXRlZ29yaWVzRm9ybXMgPSBmb3JtTWFuYWdlci5nZXRDYXRlZ29yaWVzRm9ybXMoc3BhY2VJZCwgY2F0ZWdvcmllSWQsIHtfaWQ6IDF9KS5mZXRjaCgpXG5cblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe2Zvcm06IHskaW4gOiBjYXRlZ29yaWVzRm9ybXMuZ2V0UHJvcGVydHkoXCJfaWRcIil9fSlcblxuZmxvd01hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRmxvd3MgPSAoc3BhY2VJZCwgZmllbGRzKS0+XG5cblx0dW5DYXRlZ29yaWVzRm9ybXMgPSBmb3JtTWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGb3JtcyhzcGFjZUlkLCB7X2lkOiAxfSkuZmV0Y2goKVxuXG5cdHJldHVybiBkYi5mbG93cy5maW5kKHtmb3JtOiB7JGluIDogdW5DYXRlZ29yaWVzRm9ybXMuZ2V0UHJvcGVydHkoXCJfaWRcIil9fSlcblxuXG5cblxuXG5cblxuIiwiZm9ybU1hbmFnZXIgPSB7fVxuXG5mb3JtTWFuYWdlci5nZXRDYXRlZ29yaWVzRm9ybXMgPSAoc3BhY2VJZCwgY2F0ZWdvcmllSWQsIGZpZWxkcyktPlxuXHRpZiBmaWVsZHNcblx0XHRfZmllbGRzID0ge2ZpZWxkczogZmllbGRzfVxuXG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZCwgY2F0ZWdvcnk6IGNhdGVnb3JpZUlkLCBzdGF0ZTogXCJlbmFibGVkXCJ9LCBfZmllbGRzKVxuXG5mb3JtTWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGb3JtcyA9IChzcGFjZUlkLCBmaWVsZHMpIC0+XG5cdGlmIGZpZWxkc1xuXHRcdF9maWVsZHMgPSB7ZmllbGRzOiBmaWVsZHN9XG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZCwgY2F0ZWdvcnk6IHskaW46IFtudWxsLCBcIlwiXX0sIHN0YXRlOiBcImVuYWJsZWRcIn0sIF9maWVsZHMpXG4iLCIgICAgICAgICAgICAgICAgXG5cbmZvcm1NYW5hZ2VyID0ge307XG5cbmZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyA9IGZ1bmN0aW9uKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCBmaWVsZHMpIHtcbiAgdmFyIF9maWVsZHM7XG4gIGlmIChmaWVsZHMpIHtcbiAgICBfZmllbGRzID0ge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9O1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBjYXRlZ29yeTogY2F0ZWdvcmllSWQsXG4gICAgc3RhdGU6IFwiZW5hYmxlZFwiXG4gIH0sIF9maWVsZHMpO1xufTtcblxuZm9ybU1hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRm9ybXMgPSBmdW5jdGlvbihzcGFjZUlkLCBmaWVsZHMpIHtcbiAgdmFyIF9maWVsZHM7XG4gIGlmIChmaWVsZHMpIHtcbiAgICBfZmllbGRzID0ge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9O1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBjYXRlZ29yeToge1xuICAgICAgJGluOiBbbnVsbCwgXCJcIl1cbiAgICB9LFxuICAgIHN0YXRlOiBcImVuYWJsZWRcIlxuICB9LCBfZmllbGRzKTtcbn07XG4iLCJzdGVwTWFuYWdlciA9IHt9XG5cbnN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2ggPSAoc3RlcCktPlxuXHRyZXR1cm4gc3RlcC5zdGVwX3R5cGUgPT0gJ2NvdW50ZXJTaWduJyAmJiBzdGVwLmFsbG93QmF0Y2hcblxuc3RlcE1hbmFnZXIuZ2V0U3RlcCA9IChpbnN0YW5jZSwgZmxvdywgc3RlcF9pZCktPlxuXHRmbG93X3JldiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvblxuXHRpc0V4aXN0U3RlcCA9IG51bGxcblx0aWYgZmxvdy5jdXJyZW50Ll9pZCBpcyBmbG93X3JldlxuXHRcdGlzRXhpc3RTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgKHN0ZXApLT5cblx0XHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXG5cdFx0KVxuXHRlbHNlXG5cdFx0Xy5lYWNoKGZsb3cuaGlzdG9yeXMsIChoaXN0b3J5KS0+XG5cdFx0XHRpZiBoaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0XHRpc0V4aXN0U3RlcCA9IF8uZmluZChoaXN0b3J5LnN0ZXBzLCAoc3RlcCktPlxuXHRcdFx0XHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXG5cdFx0XHRcdClcblx0XHQpXG5cblx0aWYgbm90IGlzRXhpc3RTdGVwXG5cdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3og73ojrflj5ZzdGVwXCIpXG5cblx0cmV0dXJuIGlzRXhpc3RTdGVwIiwiICAgICAgICAgICAgICAgIFxuXG5zdGVwTWFuYWdlciA9IHt9O1xuXG5zdGVwTWFuYWdlci5hbGxvd0JhdGNoID0gZnVuY3Rpb24oc3RlcCkge1xuICByZXR1cm4gc3RlcC5zdGVwX3R5cGUgPT09ICdjb3VudGVyU2lnbicgJiYgc3RlcC5hbGxvd0JhdGNoO1xufTtcblxuc3RlcE1hbmFnZXIuZ2V0U3RlcCA9IGZ1bmN0aW9uKGluc3RhbmNlLCBmbG93LCBzdGVwX2lkKSB7XG4gIHZhciBmbG93X3JldiwgaXNFeGlzdFN0ZXA7XG4gIGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICBpc0V4aXN0U3RlcCA9IG51bGw7XG4gIGlmIChmbG93LmN1cnJlbnQuX2lkID09PSBmbG93X3Jldikge1xuICAgIGlzRXhpc3RTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24oc3RlcCkge1xuICAgICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIF8uZWFjaChmbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihoaXN0b3J5KSB7XG4gICAgICBpZiAoaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2KSB7XG4gICAgICAgIHJldHVybiBpc0V4aXN0U3RlcCA9IF8uZmluZChoaXN0b3J5LnN0ZXBzLCBmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIWlzRXhpc3RTdGVwKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3og73ojrflj5ZzdGVwXCIpO1xuICB9XG4gIHJldHVybiBpc0V4aXN0U3RlcDtcbn07XG4iLCJfZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKVxuXG5JbnN0YW5jZU1hbmFnZXIgPSB7fVxuXG5sb2dnZXIgPSBuZXcgTG9nZ2VyICdXb3JrZmxvdyAtPiBJbnN0YW5jZU1hbmFnZXInXG5cbkluc3RhbmNlTWFuYWdlci5oYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwID0gKGlucywgZmllbGRfbWFwKSAtPlxuXHRyZXMgPSBpbnNcblx0aWYgaW5zXG5cdFx0aWYgIWZpZWxkX21hcFxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogaW5zLmZsb3cgfSwgeyBmaWVsZHM6IHsgZmllbGRfbWFwOiAxIH0gfSlcblxuXHRcdFx0aWYgZmxvdz8uZmllbGRfbWFwXG5cdFx0XHRcdGZpZWxkX21hcCA9IGZsb3cuZmllbGRfbWFwXG5cblx0XHRpZiBmaWVsZF9tYXBcblx0XHRcdGNvbnRleHQgPSBfLmNsb25lKGlucylcblxuXHRcdFx0Y29udGV4dC5fID0gX1xuXG5cdFx0XHRzY3JpcHQgPSBcInZhciBpbnN0YW5jZXMgPSAje2ZpZWxkX21hcH07IGV4cG9ydHMuaW5zdGFuY2VzID0gaW5zdGFuY2VzXCJcblx0XHRcdHRyeVxuXHRcdFx0XHRyZXMgPSBfZXZhbChzY3JpcHQsIFwiaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcFwiLCBjb250ZXh0LCBmYWxzZSkuaW5zdGFuY2VzXG5cdFx0XHRjYXRjaCBlXG5cdFx0XHRcdHJlcyA9IHsgX2Vycm9yOiBlIH1cblx0XHRcdFx0bG9nZ2VyLmVycm9yIGVcblx0cmV0dXJuIHJlc1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUgPSAoaW5zdGFuY2UsIGhhbmRsZXIpLT5cblxuXHRpZiAhaW5zdGFuY2Ugb3IgIWluc3RhbmNlLnRyYWNlcyBvciBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMVxuXHRcdHJldHVyblxuXG5cdGN1cnJlbnRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpXG5cblx0aWYgY3VycmVudFRyYWNlcy5sZW5ndGhcblx0XHRjdXJyZW50QXBwcm92ZXMgPSBjdXJyZW50VHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eSgnaGFuZGxlcicsIGhhbmRsZXIpXG5cdFx0Y3VycmVudEFwcHJvdmUgPSBpZiBjdXJyZW50QXBwcm92ZXMubGVuZ3RoID4gMCB0aGVuIGN1cnJlbnRBcHByb3Zlc1swXSBlbHNlIG51bGxcblxuXHQj5Lyg6ZiF55qEYXBwcm92Zei/lOWbnuacgOaWsOS4gOadoVxuXHRpZiAhY3VycmVudEFwcHJvdmUgb3IgY3VycmVudEFwcHJvdmUudHlwZSA9PSAnY2MnXG5cdFx0IyDlvZPliY3mmK/kvKDpmIVcblx0XHRfLmVhY2ggaW5zdGFuY2UudHJhY2VzLCAodCkgLT5cblx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cblx0XHRcdFx0aWYgYS50eXBlID09ICdjYycgYW5kIGEudXNlciA9PSBoYW5kbGVyIGFuZCBhLmlzX2ZpbmlzaGVkID09IGZhbHNlXG5cdFx0XHRcdFx0Y3VycmVudEFwcHJvdmUgPSBhXG5cdFx0XHRcdHJldHVyblxuXHRcdFx0cmV0dXJuXG5cblx0aWYgIWN1cnJlbnRBcHByb3ZlXG5cdFx0cmV0dXJuXG5cblx0cmV0dXJuIGN1cnJlbnRBcHByb3ZlXG5cbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UgPSAoaW5zdGFuY2UsIHRyYWNlSWQpLT5cblx0cmV0dXJuIGluc3RhbmNlLnRyYWNlcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlSWQpXG5cbkluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUgPSAoaW5zdGFuY2VJZCwgdXNlcklkKS0+XG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pXG5cblx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXG5cdG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoaW5zdGFuY2UsIHVzZXJJZClcblxuXHRpZiBteV9hcHByb3ZlXG5cbiNcdFx0bGFuZyA9IFN0ZWVkb3MubG9jYWxlKHRoYXQudXNlcklkLCB0cnVlKVxuXG5cdFx0dHJhY2UgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlKGluc3RhbmNlLCBteV9hcHByb3ZlLnRyYWNlKVxuXG5cdFx0c3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgdHJhY2Uuc3RlcClcblxuXHRcdG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBcIlwiKVxuXG5cdFx0aWYgbmV4dFN0ZXBzLmxlbmd0aCA9PSAxXG5cdFx0XHRuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc3RhbmNlLl9pZCAsIG5leHRTdGVwc1swXSlcblx0XHRcdGlmIG5leHRfdXNlcl9pZHMubGVuZ3RoID09IDFcblx0XHRcdFx0bXlfYXBwcm92ZS5uZXh0X3N0ZXBzID0gW3tzdGVwOiBuZXh0U3RlcHNbMF0sIHVzZXJzOiBuZXh0X3VzZXJfaWRzfV1cblx0XHRcdFx0cmV0dXJuIG15X2FwcHJvdmVcbiNcdFx0XHRlbHNlXG4jXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBUQVBpMThuLl9fKCd3b3JrZmxvd19lcnJvcl9tdWx0aXBsZV9uZXh0X3N0ZXBfdXNlcnMnLCB7aW5zbmFtZTogaW5zdGFuY2UubmFtZX0sIGxhbmcpKVxuI1x0XHRlbHNlXG4jXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgVEFQaTE4bi5fXygnd29ya2Zsb3dfZXJyb3JfbXVsdGlwbGVfbmV4dF9zdGVwJywge2luc25hbWU6IGluc3RhbmNlLm5hbWV9LCBsYW5nKSlcblxuXHRyZXR1cm5cblxuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMgPSAoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIGluYm94X3VzZXIpLT5cblx0X2JhdGNoX2luc3RhbmNlcyA9IG5ldyBBcnJheSgpXG5cblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlLCBpbmJveF91c2VyczogaW5ib3hfdXNlcn1cblxuXHRGSUVMRFMgPSB7bmFtZTogMSwgYXBwbGljYW50X25hbWU6IDEsIHN1Ym1pdF9kYXRlOiAxLCBmbG93X3ZlcnNpb246IDEsIFwidHJhY2VzLnN0ZXBcIjogMSwgZmxvdzogMX1cblxuXHRpZiBjYXRlZ29yeUlkXG5cblx0XHRpZiBjYXRlZ29yeUlkID09ICctMSdcblx0XHRcdHVuQ2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCB7X2lkOiAxfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKVxuXHRcdFx0cXVlcnkuZmxvdyA9IHskaW46IHVuQ2F0ZWdvcnlGbG93c31cblx0XHRlbHNlXG5cdFx0XHRjYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCBjYXRlZ29yeUlkLCB7X2lkOiAxfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKVxuXHRcdFx0cXVlcnkuZmxvdyA9IHskaW46IGNhdGVnb3J5Rmxvd3N9XG5cblx0aWYgZmxvd0lkc1xuXHRcdHF1ZXJ5LmZsb3cgPSB7JGluOiBmbG93SWRzfVxuXG4jXHRjb25zb2xlLmxvZyhcInF1ZXJ5XCIsIEpTT04uc3RyaW5naWZ5KHF1ZXJ5KSlcblxuXHRpbmJveF9pbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczogRklFTERTLCBza2lwOiAwLCBsaW1pdDogMTAwfSlcblxuXHRpbmJveF9pbnN0YW5jZXMuZm9yRWFjaCAoaW5zKS0+XG5cdFx0Y3VycmVudFN0ZXBJZCA9IF8ubGFzdChpbnMudHJhY2VzKS5zdGVwICNUT0RPIOatpOS7o+eggeS4jemAgueUqOS8oOmYheaJueWkhOeQhlxuXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogaW5zLmZsb3d9KVxuXG5cdFx0Y3VycmVudFN0ZXAgPSBzdGVwTWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgY3VycmVudFN0ZXBJZClcblxuXHRcdGlmIHN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2goY3VycmVudFN0ZXApICYmIEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zLl9pZCwgaW5ib3hfdXNlcilcblxuXHRcdFx0ZGVsZXRlIGlucy5mbG93X3ZlcnNpb25cblxuXHRcdFx0ZGVsZXRlIGlucy50cmFjZXNcblxuXHRcdFx0ZGVsZXRlIGlucy5mbG93XG5cblx0XHRcdF9iYXRjaF9pbnN0YW5jZXMucHVzaChpbnMpXG4jXHRcdGVsc2VcbiNcdFx0XHRjb25zb2xlLmxvZyhcIuaJuemHj+WuoeaJuS3lvILluLjmlbDmja5cIiwgaW5zLl9pZClcblxuXHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlc1xuIiwidmFyIF9ldmFsLCBsb2dnZXI7ICAgICAgICAgICAgICAgICBcblxuX2V2YWwgPSByZXF1aXJlKCdldmFsJyk7XG5cbkluc3RhbmNlTWFuYWdlciA9IHt9O1xuXG5sb2dnZXIgPSBuZXcgTG9nZ2VyKCdXb3JrZmxvdyAtPiBJbnN0YW5jZU1hbmFnZXInKTtcblxuSW5zdGFuY2VNYW5hZ2VyLmhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXAgPSBmdW5jdGlvbihpbnMsIGZpZWxkX21hcCkge1xuICB2YXIgY29udGV4dCwgZSwgZmxvdywgcmVzLCBzY3JpcHQ7XG4gIHJlcyA9IGlucztcbiAgaWYgKGlucykge1xuICAgIGlmICghZmllbGRfbWFwKSB7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zLmZsb3dcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZmllbGRfbWFwOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cuZmllbGRfbWFwIDogdm9pZCAwKSB7XG4gICAgICAgIGZpZWxkX21hcCA9IGZsb3cuZmllbGRfbWFwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmllbGRfbWFwKSB7XG4gICAgICBjb250ZXh0ID0gXy5jbG9uZShpbnMpO1xuICAgICAgY29udGV4dC5fID0gXztcbiAgICAgIHNjcmlwdCA9IFwidmFyIGluc3RhbmNlcyA9IFwiICsgZmllbGRfbWFwICsgXCI7IGV4cG9ydHMuaW5zdGFuY2VzID0gaW5zdGFuY2VzXCI7XG4gICAgICB0cnkge1xuICAgICAgICByZXMgPSBfZXZhbChzY3JpcHQsIFwiaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcFwiLCBjb250ZXh0LCBmYWxzZSkuaW5zdGFuY2VzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICByZXMgPSB7XG4gICAgICAgICAgX2Vycm9yOiBlXG4gICAgICAgIH07XG4gICAgICAgIGxvZ2dlci5lcnJvcihlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCBoYW5kbGVyKSB7XG4gIHZhciBjdXJyZW50QXBwcm92ZSwgY3VycmVudEFwcHJvdmVzLCBjdXJyZW50VHJhY2VzO1xuICBpZiAoIWluc3RhbmNlIHx8ICFpbnN0YW5jZS50cmFjZXMgfHwgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDEpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY3VycmVudFRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcy5maWx0ZXJQcm9wZXJ0eSgnaXNfZmluaXNoZWQnLCBmYWxzZSk7XG4gIGlmIChjdXJyZW50VHJhY2VzLmxlbmd0aCkge1xuICAgIGN1cnJlbnRBcHByb3ZlcyA9IGN1cnJlbnRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpLmZpbHRlclByb3BlcnR5KCdoYW5kbGVyJywgaGFuZGxlcik7XG4gICAgY3VycmVudEFwcHJvdmUgPSBjdXJyZW50QXBwcm92ZXMubGVuZ3RoID4gMCA/IGN1cnJlbnRBcHByb3Zlc1swXSA6IG51bGw7XG4gIH1cbiAgaWYgKCFjdXJyZW50QXBwcm92ZSB8fCBjdXJyZW50QXBwcm92ZS50eXBlID09PSAnY2MnKSB7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgaWYgKGEudHlwZSA9PT0gJ2NjJyAmJiBhLnVzZXIgPT09IGhhbmRsZXIgJiYgYS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBjdXJyZW50QXBwcm92ZSA9IGE7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGlmICghY3VycmVudEFwcHJvdmUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnRBcHByb3ZlO1xufTtcblxuSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRUcmFjZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCB0cmFjZUlkKSB7XG4gIHJldHVybiBpbnN0YW5jZS50cmFjZXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZUlkKTtcbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUgPSBmdW5jdGlvbihpbnN0YW5jZUlkLCB1c2VySWQpIHtcbiAgdmFyIGZsb3csIGluc3RhbmNlLCBteV9hcHByb3ZlLCBuZXh0U3RlcHMsIG5leHRfdXNlcl9pZHMsIHN0ZXAsIHRyYWNlO1xuICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSk7XG4gIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gIG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoaW5zdGFuY2UsIHVzZXJJZCk7XG4gIGlmIChteV9hcHByb3ZlKSB7XG4gICAgdHJhY2UgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlKGluc3RhbmNlLCBteV9hcHByb3ZlLnRyYWNlKTtcbiAgICBzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCB0cmFjZS5zdGVwKTtcbiAgICBuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwgXCJcIik7XG4gICAgaWYgKG5leHRTdGVwcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zdGFuY2UuX2lkLCBuZXh0U3RlcHNbMF0pO1xuICAgICAgaWYgKG5leHRfdXNlcl9pZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIG15X2FwcHJvdmUubmV4dF9zdGVwcyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdGVwOiBuZXh0U3RlcHNbMF0sXG4gICAgICAgICAgICB1c2VyczogbmV4dF91c2VyX2lkc1xuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIG15X2FwcHJvdmU7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMgPSBmdW5jdGlvbihzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgaW5ib3hfdXNlcikge1xuICB2YXIgRklFTERTLCBfYmF0Y2hfaW5zdGFuY2VzLCBjYXRlZ29yeUZsb3dzLCBpbmJveF9pbnN0YW5jZXMsIHF1ZXJ5LCB1bkNhdGVnb3J5Rmxvd3M7XG4gIF9iYXRjaF9pbnN0YW5jZXMgPSBuZXcgQXJyYXkoKTtcbiAgcXVlcnkgPSB7XG4gICAgc3BhY2U6IHNwYWNlLFxuICAgIGluYm94X3VzZXJzOiBpbmJveF91c2VyXG4gIH07XG4gIEZJRUxEUyA9IHtcbiAgICBuYW1lOiAxLFxuICAgIGFwcGxpY2FudF9uYW1lOiAxLFxuICAgIHN1Ym1pdF9kYXRlOiAxLFxuICAgIGZsb3dfdmVyc2lvbjogMSxcbiAgICBcInRyYWNlcy5zdGVwXCI6IDEsXG4gICAgZmxvdzogMVxuICB9O1xuICBpZiAoY2F0ZWdvcnlJZCkge1xuICAgIGlmIChjYXRlZ29yeUlkID09PSAnLTEnKSB7XG4gICAgICB1bkNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGbG93cyhzcGFjZSwge1xuICAgICAgICBfaWQ6IDFcbiAgICAgIH0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgICAkaW46IHVuQ2F0ZWdvcnlGbG93c1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldENhdGVnb3JpZXNGbG93cyhzcGFjZSwgY2F0ZWdvcnlJZCwge1xuICAgICAgICBfaWQ6IDFcbiAgICAgIH0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgICAkaW46IGNhdGVnb3J5Rmxvd3NcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGlmIChmbG93SWRzKSB7XG4gICAgcXVlcnkuZmxvdyA9IHtcbiAgICAgICRpbjogZmxvd0lkc1xuICAgIH07XG4gIH1cbiAgaW5ib3hfaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IEZJRUxEUyxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiAxMDBcbiAgfSk7XG4gIGluYm94X2luc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGlucykge1xuICAgIHZhciBjdXJyZW50U3RlcCwgY3VycmVudFN0ZXBJZCwgZmxvdztcbiAgICBjdXJyZW50U3RlcElkID0gXy5sYXN0KGlucy50cmFjZXMpLnN0ZXA7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnMuZmxvd1xuICAgIH0pO1xuICAgIGN1cnJlbnRTdGVwID0gc3RlcE1hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGN1cnJlbnRTdGVwSWQpO1xuICAgIGlmIChzdGVwTWFuYWdlci5hbGxvd0JhdGNoKGN1cnJlbnRTdGVwKSAmJiBJbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlKGlucy5faWQsIGluYm94X3VzZXIpKSB7XG4gICAgICBkZWxldGUgaW5zLmZsb3dfdmVyc2lvbjtcbiAgICAgIGRlbGV0ZSBpbnMudHJhY2VzO1xuICAgICAgZGVsZXRlIGlucy5mbG93O1xuICAgICAgcmV0dXJuIF9iYXRjaF9pbnN0YW5jZXMucHVzaChpbnMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzO1xufTtcbiIsIk1ldGVvci5wdWJsaXNoICdjYXRlZ29yaWVzJywgKHNwYWNlSWQpIC0+XG5cdGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCBzcGFjZTogMSwgc29ydF9ubzogMSwgYXBwOiAxIH0gfSkiLCJNZXRlb3IucHVibGlzaCgnY2F0ZWdvcmllcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBzb3J0X25vOiAxLFxuICAgICAgYXBwOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiXG5NZXRlb3IucHVibGlzaCAnY2ZzX2luc3RhbmNlcycsIChpbnN0YW5jZUlkcyktPlxuXHRjaGVjayhpbnN0YW5jZUlkcywgQXJyYXkpXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBpbnN0YW5jZUlkc1xuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IHskaW46IGluc3RhbmNlSWRzfSAsICRvcjogW3snbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHskbmU6IHRydWV9fSx7J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLCBcIm1ldGFkYXRhLm93bmVyXCI6IHRoaXMudXNlcklkfV19KVxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Nmc19pbnN0YW5jZXMnLCBmdW5jdGlvbihpbnN0YW5jZUlkcykge1xuICBjaGVjayhpbnN0YW5jZUlkcywgQXJyYXkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG4gICAgICAkaW46IGluc3RhbmNlSWRzXG4gICAgfSxcbiAgICAkb3I6IFtcbiAgICAgIHtcbiAgICAgICAgJ21ldGFkYXRhLmlzX3ByaXZhdGUnOiB7XG4gICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJ21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLFxuICAgICAgICBcIm1ldGFkYXRhLm93bmVyXCI6IHRoaXMudXNlcklkXG4gICAgICB9XG4gICAgXVxuICB9KTtcbn0pO1xuIiwiXG5cbk1ldGVvci5wdWJsaXNoICdmbG93X3Bvc2l0aW9ucycsIChzcGFjZUlkKS0+XG5cdFxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cdFxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRyZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7cm9sZToxLCB1c2VyczogMSwgb3JnOiAxfX0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfcG9zaXRpb25zJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICByb2xlOiAxLFxuICAgICAgdXNlcnM6IDEsXG4gICAgICBvcmc6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaENvbXBvc2l0ZSAnZmxvd19wb3NpdGlvbnNfdGFidWxhcicsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XG5cdGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcblx0Y2hlY2soaWRzLCBBcnJheSk7XG5cdGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHRoaXMudW5ibG9jaygpXG5cblx0ZmluZDogLT5cblx0XHR0aGlzLnVuYmxvY2soKVxuXHRcdGRiLmZsb3dfcG9zaXRpb25zLmZpbmQge19pZDogeyRpbjogaWRzfX0sIGZpZWxkczogZmllbGRzXG5cblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIGZsb3dfcm9sZXNcblx0XHRcdFx0ZGIuZmxvd19yb2xlcy5maW5kIHsgX2lkOiBwb3NpdGlvbi5yb2xlIH0sIGZpZWxkczogbmFtZTogMVxuXHRcdH1cblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIG9yZ2FuaXphdGlvbnNcblx0XHRcdFx0ZGIub3JnYW5pemF0aW9ucy5maW5kIHsgX2lkOiBwb3NpdGlvbi5vcmcgfSwgZmllbGRzOiBmdWxsbmFtZTogMVxuXHRcdH1cblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcblx0XHRcdFx0ZGIuc3BhY2VfdXNlcnMuZmluZCB7XG5cdFx0XHRcdFx0c3BhY2U6IHBvc2l0aW9uLnNwYWNlXG5cdFx0XHRcdFx0dXNlcjogJGluOiBwb3NpdGlvbi51c2Vyc1xuXHRcdFx0XHR9LCBmaWVsZHM6XG5cdFx0XHRcdFx0c3BhY2U6IDFcblx0XHRcdFx0XHR1c2VyOiAxXG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdH1cblx0XSIsIk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlKCdmbG93X3Bvc2l0aW9uc190YWJ1bGFyJywgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICB0aGlzLnVuYmxvY2soKTtcbiAgcmV0dXJuIHtcbiAgICBmaW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgcmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlkc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHBvc2l0aW9uLnJvbGVcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHBvc2l0aW9uLm9yZ1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IHBvc2l0aW9uLnNwYWNlLFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAkaW46IHBvc2l0aW9uLnVzZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICB1c2VyOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59KTtcbiIsIlxuXG5cdE1ldGVvci5wdWJsaXNoICdmbG93X3JvbGVzJywgKHNwYWNlSWQpLT5cblx0XHRcblx0XHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcblx0XHRcblx0XHR1bmxlc3Mgc3BhY2VJZFxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0XHRyZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtuYW1lOjF9fSk7XG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19yb2xlcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dzJywgKHNwYWNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdCMg56ys5LiA5qyh6K6i6ZiF5pe25Yid5aeL5YyW5bel5L2c5Yy6XG5cdGlmIGRiLmZsb3dzLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSkuY291bnQoKSA9PSAwXG5cdFx0ZGIuc3BhY2VzLmNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3coc3BhY2VJZClcblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7XG5cdFx0ZmllbGRzOiB7XG5cdFx0XHRuYW1lOiAxLFxuXHRcdFx0Zm9ybTogMSxcblx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0cGVybXM6IDEsXG5cdFx0XHRzcGFjZTogMSxcblx0XHRcdGNvbXBhbnlfaWQ6IDEsXG5cdFx0XHRzb3J0X25vOiAxXG5cdFx0fVxuXHR9KVxuXG5cbk1ldGVvci5wdWJsaXNoICdmbG93X3ZlcnNpb24nLCAoc3BhY2VJZCwgZmxvd0lkLCB2ZXJzaW9uSWQpIC0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZmxvd0lkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyB2ZXJzaW9uSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRzZWxmID0gdGhpcztcblxuXHRnZXRGbG93VmVyc2lvbiA9IChpZCAsIHZlcnNpb25JZCktPlxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQgOiBpZH0pO1xuXHRcdGlmIGZsb3dcblx0XHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudFxuXHRcdFx0Zmxvd192ZXJzaW9uLmxhdGVzdCA9IHRydWVcblxuXHRcdFx0aWYgZmxvd192ZXJzaW9uLl9pZCAhPSB2ZXJzaW9uSWRcblx0XHRcdFx0Zmxvd192ZXJzaW9uID0gZmxvdy5oaXN0b3J5cy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHZlcnNpb25JZClcblx0XHRcdFx0Zmxvd192ZXJzaW9uLmxhdGVzdCA9IGZhbHNlXG5cblx0XHRcdHJldHVybiBmbG93X3ZlcnNpb25cblx0aGFuZGxlID0gZGIuZmxvd3MuZmluZCh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7X2lkOiAxLCBcImN1cnJlbnQubW9kaWZpZWRcIjogMX19KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJmbG93X3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rmxvd1ZlcnNpb24oaWQsIHZlcnNpb25JZCkpO1xuXHR9XG5cblxuXHRzZWxmLmFkZGVkKFwiZmxvd192ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZsb3dWZXJzaW9uKGZsb3dJZCwgdmVyc2lvbklkKSk7XG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcblxuTWV0ZW9yLnB1Ymxpc2ggJ2Rpc3RyaWJ1dGVfb3B0aW9uYWxfZmxvd3MnLCAoZmxvd19pZHMpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBmbG93X2lkc1xuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7X2lkOiB7JGluOiBmbG93X2lkc319LCB7XG5cdFx0ZmllbGRzOiB7XG5cdFx0XHRuYW1lOiAxLFxuXHRcdFx0Zm9ybTogMSxcblx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0cGVybXM6IDEsXG5cdFx0XHRzcGFjZTogMSxcblx0XHRcdGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG5cdFx0XHRkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG5cdFx0XHRkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG5cdFx0XHRjb21wYW55X2lkOiAxXG5cdFx0fVxuXHR9KVxuXG5NZXRlb3IucHVibGlzaCAnZmxvdycsIChzcGFjZUlkLCBmbG93SWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBmbG93SWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7X2lkOiBmbG93SWQsIHNwYWNlOiBzcGFjZUlkfSwge1xuXHRcdGZpZWxkczoge1xuXHRcdFx0cHJpbnRfdGVtcGxhdGU6IDEsXG5cdFx0XHRpbnN0YW5jZV90ZW1wbGF0ZTogMSxcblx0XHRcdGV2ZW50czogMSxcblx0XHRcdGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG5cdFx0XHRkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG5cdFx0XHR1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQ6IDEsXG5cdFx0XHRkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG5cdFx0XHRjb21wYW55X2lkOiAxXG5cdFx0fVxuXHR9KVxuXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSAnZmxvd3NfdGFidWxhcicsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XG5cdGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcblx0Y2hlY2soaWRzLCBBcnJheSk7XG5cdGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHRoaXMudW5ibG9jaygpXG5cblx0ZmluZDogLT5cblx0XHR0aGlzLnVuYmxvY2soKVxuXHRcdGRiLmZsb3dzLmZpbmQge19pZDogeyRpbjogaWRzfX0sIGZpZWxkczogZmllbGRzXG5cblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAoZmxvdykgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxuXHRcdFx0XHRkYi5zcGFjZV91c2Vycy5maW5kIHtcblx0XHRcdFx0XHRzcGFjZTogZmxvdy5zcGFjZSxcblx0XHRcdFx0XHR1c2VyOiBmbG93LmN1cnJlbnQubW9kaWZpZWRfYnlcblx0XHRcdFx0fSwgZmllbGRzOlxuXHRcdFx0XHRcdHNwYWNlOiAxXG5cdFx0XHRcdFx0dXNlcjogMVxuXHRcdFx0XHRcdG5hbWU6IDFcblx0XHR9LFxuXHRcdHtcblx0XHRcdGZpbmQ6IChmbG93KSAtPlxuXHRcdFx0XHRAdW5ibG9jaygpXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCB1c2VyXG5cdFx0XHRcdGRiLmZvcm1zLmZpbmQge1xuXHRcdFx0XHRcdHNwYWNlOiBmbG93LnNwYWNlLFxuXHRcdFx0XHRcdF9pZDogZmxvdy5mb3JtXG5cdFx0XHRcdH0sIGZpZWxkczpcblx0XHRcdFx0XHRzcGFjZTogMVxuXHRcdFx0XHRcdF9pZDogMVxuXHRcdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdFx0Y2F0ZWdvcnk6IDFcblx0XHR9LFxuXHRcdHtcblx0XHRcdGZpbmQ6IChmbG93KSAtPlxuXHRcdFx0XHRAdW5ibG9jaygpXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCB1c2VyXG5cdFx0XHRcdGRiLmNhdGVnb3JpZXMuZmluZCB7XG5cdFx0XHRcdFx0c3BhY2U6IGZsb3cuc3BhY2Vcblx0XHRcdFx0fSwgZmllbGRzOlxuXHRcdFx0XHRcdHNwYWNlOiAxXG5cdFx0XHRcdFx0X2lkOiAxXG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdH1cblx0XSIsIk1ldGVvci5wdWJsaXNoKCdmbG93cycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoZGIuZmxvd3MuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgIGRiLnNwYWNlcy5jcmVhdGVUZW1wbGF0ZUZvcm1BbmRGbG93KHNwYWNlSWQpO1xuICB9XG4gIHJldHVybiBkYi5mbG93cy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgZm9ybTogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgcGVybXM6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIGNvbXBhbnlfaWQ6IDEsXG4gICAgICBzb3J0X25vOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZmxvd192ZXJzaW9uJywgZnVuY3Rpb24oc3BhY2VJZCwgZmxvd0lkLCB2ZXJzaW9uSWQpIHtcbiAgdmFyIGdldEZsb3dWZXJzaW9uLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmbG93SWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghdmVyc2lvbklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0Rmxvd1ZlcnNpb24gPSBmdW5jdGlvbihpZCwgdmVyc2lvbklkKSB7XG4gICAgdmFyIGZsb3csIGZsb3dfdmVyc2lvbjtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlkXG4gICAgfSk7XG4gICAgaWYgKGZsb3cpIHtcbiAgICAgIGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudDtcbiAgICAgIGZsb3dfdmVyc2lvbi5sYXRlc3QgPSB0cnVlO1xuICAgICAgaWYgKGZsb3dfdmVyc2lvbi5faWQgIT09IHZlcnNpb25JZCkge1xuICAgICAgICBmbG93X3ZlcnNpb24gPSBmbG93Lmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKTtcbiAgICAgICAgZmxvd192ZXJzaW9uLmxhdGVzdCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZsb3dfdmVyc2lvbjtcbiAgICB9XG4gIH07XG4gIGhhbmRsZSA9IGRiLmZsb3dzLmZpbmQoe1xuICAgIF9pZDogZmxvd0lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiAxXG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJmbG93X3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rmxvd1ZlcnNpb24oaWQsIHZlcnNpb25JZCkpO1xuICAgIH1cbiAgfSk7XG4gIHNlbGYuYWRkZWQoXCJmbG93X3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rmxvd1ZlcnNpb24oZmxvd0lkLCB2ZXJzaW9uSWQpKTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdkaXN0cmlidXRlX29wdGlvbmFsX2Zsb3dzJywgZnVuY3Rpb24oZmxvd19pZHMpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmbG93X2lkcykge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgIF9pZDoge1xuICAgICAgJGluOiBmbG93X2lkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGZvcm06IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHBlcm1zOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuICAgICAgZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxuICAgICAgZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxuICAgICAgY29tcGFueV9pZDogMVxuICAgIH1cbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Zsb3cnLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgIF9pZDogZmxvd0lkLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHByaW50X3RlbXBsYXRlOiAxLFxuICAgICAgaW5zdGFuY2VfdGVtcGxhdGU6IDEsXG4gICAgICBldmVudHM6IDEsXG4gICAgICBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuICAgICAgZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxuICAgICAgdXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkOiAxLFxuICAgICAgZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxuICAgICAgY29tcGFueV9pZDogMVxuICAgIH1cbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUoJ2Zsb3dzX3RhYnVsYXInLCBmdW5jdGlvbih0YWJsZU5hbWUsIGlkcywgZmllbGRzKSB7XG4gIGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcbiAgY2hlY2soaWRzLCBBcnJheSk7XG4gIGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHRoaXMudW5ibG9jaygpO1xuICByZXR1cm4ge1xuICAgIGZpbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaWRzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlLFxuICAgICAgICAgICAgdXNlcjogZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICB1c2VyOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlLFxuICAgICAgICAgICAgX2lkOiBmbG93LmZvcm1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihmbG93KSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmNhdGVnb3JpZXMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogZmxvdy5zcGFjZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICAgICAgX2lkOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdmb3JtcycsIChzcGFjZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtuYW1lOiAxLCBjYXRlZ29yeTogMSwgc3RhdGU6IDEsIGRlc2NyaXB0aW9uOiAxLCBpbnN0YW5jZV9zdHlsZTogMX19KVxuXG5cbk1ldGVvci5wdWJsaXNoICdmb3JtX3ZlcnNpb24nLCAoc3BhY2VJZCwgZm9ybUlkLCB2ZXJzaW9uSWQpIC0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZm9ybUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyB2ZXJzaW9uSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRzZWxmID0gdGhpcztcblxuXHRnZXRGb3JtVmVyc2lvbiA9IChpZCAsIHZlcnNpb25JZCktPlxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQgOiBpZH0pO1xuXHRcdGlmICFmb3JtXG5cdFx0XHRyZXR1cm4ge31cblx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnRcblx0XHRmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZVxuXHRcdGlmIGZvcm1fdmVyc2lvbi5faWQgIT0gdmVyc2lvbklkXG5cdFx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKVxuXHRcdFx0Zm9ybV92ZXJzaW9uLmxhdGVzdCA9IGZhbHNlXG5cdFx0cmV0dXJuIGZvcm1fdmVyc2lvblxuXG5cdGhhbmRsZSA9IGRiLmZvcm1zLmZpbmQoe19pZDogZm9ybUlkfSwge2ZpZWxkczoge19pZDogMSwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDF9fSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcblx0fVxuXG5cdHNlbGYuYWRkZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oZm9ybUlkLCB2ZXJzaW9uSWQpKTtcblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKSIsIk1ldGVvci5wdWJsaXNoKCdmb3JtcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZm9ybXMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGNhdGVnb3J5OiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBkZXNjcmlwdGlvbjogMSxcbiAgICAgIGluc3RhbmNlX3N0eWxlOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZm9ybV92ZXJzaW9uJywgZnVuY3Rpb24oc3BhY2VJZCwgZm9ybUlkLCB2ZXJzaW9uSWQpIHtcbiAgdmFyIGdldEZvcm1WZXJzaW9uLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmb3JtSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghdmVyc2lvbklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0Rm9ybVZlcnNpb24gPSBmdW5jdGlvbihpZCwgdmVyc2lvbklkKSB7XG4gICAgdmFyIGZvcm0sIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlkXG4gICAgfSk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcbiAgICBmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uLl9pZCAhPT0gdmVyc2lvbklkKSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBmb3JtLmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKTtcbiAgICAgIGZvcm1fdmVyc2lvbi5sYXRlc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgfTtcbiAgaGFuZGxlID0gZGIuZm9ybXMuZmluZCh7XG4gICAgX2lkOiBmb3JtSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDFcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihmb3JtSWQsIHZlcnNpb25JZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZV9kYXRhJywgKGluc3RhbmNlSWQsIGJveCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGluc3RhbmNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0bWluaUFwcHJvdmVGaWVsZHMgPSBbJ19pZCcsICdpc19maW5pc2hlZCcsICd1c2VyJywgJ2hhbmRsZXInLCAnaGFuZGxlcl9uYW1lJywgJ3R5cGUnLCAnc3RhcnRfZGF0ZScsICdkZXNjcmlwdGlvbicsXG5cdFx0J2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJywgJ2F1dG9fc3VibWl0dGVkJ11cblxuXHR0cmlnZ2VyQ2hhbmdlRmllbGRzID0gWydmb3JtX3ZlcnNpb24nLCAnZmxvd192ZXJzaW9uJywgJ3JlbGF0ZWRfaW5zdGFuY2VzJywgJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXVxuXG5cdHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMgPSB7fVxuXG5cdGluc3RhbmNlX2ZpZWxkc18wID0ge1xuXHRcdFwicmVjb3JkX3N5bmNlZFwiOiAwLFxuXG4jXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuY29zdF90aW1lXCI6IDAsXG4jXHRcdFwidHJhY2VzLmFwcHJvdmVzLnJlYWRfZGF0ZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX2Vycm9yXCI6IDAsXG5cdFx0IyBcInRyYWNlcy5hcHByb3Zlcy51c2VyX25hbWVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5kZWFkbGluZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZF9kYXRlXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kZWRfY291bnRcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZF9ieVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZ2VvbG9jYXRpb25cIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5jY191c2Vyc1wiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmZyb21fYXBwcm92ZV9pZFwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLnZhbHVlc19oaXN0b3J5XCI6IDBcblx0fVxuXG5cdGdldE15YXBwcm92ZU1vZGlmaWVkID0gKHRyYWNlcyktPlxuXHRcdG15QXBwcm92ZU1vZGlmaWVkcyA9IG5ldyBBcnJheSgpXG5cblx0XHR0cmFjZXM/LmZvckVhY2ggKHRyYWNlKS0+XG5cdFx0XHR0cmFjZT8uYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpLT5cblx0XHRcdFx0aWYgKGFwcHJvdmUudXNlciA9PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT0gc2VsZi51c2VySWQpXG5cdFx0XHRcdCMgJiYgIWFwcHJvdmUuaXNfZmluaXNoZWRcbiNcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJhcHByb3ZlXCIsIGFwcHJvdmUuX2lkLCBhcHByb3ZlLnJlYWRfZGF0ZSlcblxuXHRcdFx0XHRcdG15QXBwcm92ZU1vZGlmaWVkcy5wdXNoKGFwcHJvdmUucmVhZF9kYXRlKVxuXG5cdFx0cmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkc1xuXG5cblx0Z2V0TWluaUluc3RhbmNlID0gKF9pbnN0YW5jZUlkKS0+XG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBfaW5zdGFuY2VJZH0sIHtmaWVsZHM6IGluc3RhbmNlX2ZpZWxkc18wfSlcblxuXHRcdGlmIGluc3RhbmNlXG5cblx0XHRcdHRyaWdnZXJDaGFuZ2VGaWVsZHMuZm9yRWFjaCAoa2V5KS0+XG5cdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcblx0XHRcdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBnZXRNeWFwcHJvdmVNb2RpZmllZChpbnN0YW5jZS50cmFjZXMpXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBpbnN0YW5jZVtrZXldXG5cbiNcdFx0XHRoYXNPcGluaW9uRmllbGQgPSBJbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcblxuXHRcdFx0c2hvd19tb2RhbF90cmFjZXNfbGlzdCA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoeyBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCIgfSwgeyBmaWVsZHM6IHsgdmFsdWVzOiAxIH0gfSk/LnZhbHVlcyB8fCBmYWxzZVxuXG5cdFx0XHRpZiBzaG93X21vZGFsX3RyYWNlc19saXN0XG5cblx0XHRcdFx0dHJhY2VzID0gbmV3IEFycmF5KCk7XG5cblx0XHRcdFx0aW5zdGFuY2U/LnRyYWNlcz8uZm9yRWFjaCAodHJhY2UpLT5cblx0XHRcdFx0XHRfdHJhY2UgPSBfLmNsb25lKHRyYWNlKVxuXG5cdFx0XHRcdFx0YXBwcm92ZXMgPSBuZXcgQXJyYXkoKVxuXG5cdFx0XHRcdFx0dHJhY2U/LmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKS0+XG5cdFx0XHRcdFx0XHRpZiBhcHByb3ZlLnR5cGUgIT0gJ2NjJyB8fCBhcHByb3ZlLnVzZXIgPT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09IHNlbGYudXNlcklkIHx8ICghXy5pc0VtcHR5KGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSlcblx0XHRcdFx0XHRcdFx0YXBwcm92ZXMucHVzaChhcHByb3ZlKVxuXG5cdFx0XHRcdFx0X3RyYWNlLmFwcHJvdmVzID0gYXBwcm92ZXNcblxuXHRcdFx0XHRcdHRyYWNlcy5wdXNoKF90cmFjZSlcblxuXHRcdFx0XHRpbnN0YW5jZS50cmFjZXMgPSB0cmFjZXM7XG5cblx0XHRyZXR1cm4gaW5zdGFuY2VcblxuXG5cdG5lZWRDaGFuZ2UgPSAoY2hhbmdlRmllbGRzKS0+XG5cdFx0aWYgY2hhbmdlRmllbGRzXG5cblx0XHRcdF9jaGFuZ2UgPSBmYWxzZVxuXG5cdFx0XHRfcmV2ID0gXy5maW5kIHRyaWdnZXJDaGFuZ2VGaWVsZHMsIChrZXkpLT5cblx0XHRcdFx0X2tleSA9IGtleVxuXG5cdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcblx0XHRcdFx0XHRfa2V5ID0gJ3RyYWNlcydcblxuXHRcdFx0XHRpZiBfLmhhcyhjaGFuZ2VGaWVsZHMsIF9rZXkpXG5cblx0XHRcdFx0XHRpZiBrZXkgPT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXG5cblx0XHRcdFx0XHRcdF9teV9hcHByb3ZlX21vZGlmaWVkcyA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGNoYW5nZUZpZWxkcy50cmFjZXMpXG5cbiNcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIF9teV9hcHByb3ZlX21vZGlmaWVkcylcblxuXHRcdFx0XHRcdFx0cmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBfbXlfYXBwcm92ZV9tb2RpZmllZHMpXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0cmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBjaGFuZ2VGaWVsZHNba2V5XSlcblxuXHRcdFx0aWYgX3JldlxuXHRcdFx0XHRfY2hhbmdlID0gdHJ1ZVxuXG4jXHRcdFx0Y29uc29sZS5sb2coX3JldiwgX2NoYW5nZSlcblxuXHRcdFx0cmV0dXJuIF9jaGFuZ2VcblxuXHRcdHJldHVybiB0cnVlXG5cdCPmraTlpITkuI3og73mt7vliqBmaWVsZHPpmZDliLbvvIzlkKbliJnkvJrlr7zoh7TmlbDmja7kuI3lrp7ml7Zcblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogaW5zdGFuY2VJZH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRjaGFuZ2VkOiAoaWQsIGZpZWxkcyktPlxuXHRcdFx0aWYoYm94ICE9ICdpbmJveCcgfHwgbmVlZENoYW5nZShmaWVsZHMpKVxuXHRcdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGdldE1pbmlJbnN0YW5jZShpZCkpO1xuXHRcdHJlbW92ZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcblx0fVxuXG5cdGluc3RhbmNlID0gZ2V0TWluaUluc3RhbmNlKGluc3RhbmNlSWQpXG5cblx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpbnN0YW5jZT8uX2lkLCBpbnN0YW5jZSk7XG5cblx0c2VsZi5yZWFkeSgpO1xuXG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG5cblxuTWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlX3RyYWNlcycsIChpbnN0YW5jZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgaW5zdGFuY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpc1xuXG5cdGdldEluc3RhbmNlVHJhY2VzID0gKF9pbnNJZCktPlxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBfaW5zSWR9LCB7ZmllbGRzOiB7X2lkOiAxLCB0cmFjZXM6IDF9fSlcblxuXG5cdGhhbmRsZSA9ICBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiBpbnN0YW5jZUlkfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcblx0fVxuXG5cdHNlbGYuYWRkZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKCkiLCJNZXRlb3IucHVibGlzaCgnaW5zdGFuY2VfZGF0YScsIGZ1bmN0aW9uKGluc3RhbmNlSWQsIGJveCkge1xuICB2YXIgZ2V0TWluaUluc3RhbmNlLCBnZXRNeWFwcHJvdmVNb2RpZmllZCwgaGFuZGxlLCBpbnN0YW5jZSwgaW5zdGFuY2VfZmllbGRzXzAsIG1pbmlBcHByb3ZlRmllbGRzLCBuZWVkQ2hhbmdlLCBzZWxmLCB0cmlnZ2VyQ2hhbmdlRmllbGRzLCB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJywgJ2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJywgJ2F1dG9fc3VibWl0dGVkJ107XG4gIHRyaWdnZXJDaGFuZ2VGaWVsZHMgPSBbJ2Zvcm1fdmVyc2lvbicsICdmbG93X3ZlcnNpb24nLCAncmVsYXRlZF9pbnN0YW5jZXMnLCAnX215X2FwcHJvdmVfcmVhZF9kYXRlcyddO1xuICB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzID0ge307XG4gIGluc3RhbmNlX2ZpZWxkc18wID0ge1xuICAgIFwicmVjb3JkX3N5bmNlZFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvblwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmNvc3RfdGltZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX2Vycm9yXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuZGVhZGxpbmVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRfZGF0ZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZGVkX2NvdW50XCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRfYnlcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmdlb2xvY2F0aW9uXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuY2NfdXNlcnNcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5mcm9tX2FwcHJvdmVfaWRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy52YWx1ZXNfaGlzdG9yeVwiOiAwXG4gIH07XG4gIGdldE15YXBwcm92ZU1vZGlmaWVkID0gZnVuY3Rpb24odHJhY2VzKSB7XG4gICAgdmFyIG15QXBwcm92ZU1vZGlmaWVkcztcbiAgICBteUFwcHJvdmVNb2RpZmllZHMgPSBuZXcgQXJyYXkoKTtcbiAgICBpZiAodHJhY2VzICE9IG51bGwpIHtcbiAgICAgIHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgIHZhciByZWY7XG4gICAgICAgIHJldHVybiB0cmFjZSAhPSBudWxsID8gKHJlZiA9IHRyYWNlLmFwcHJvdmVzKSAhPSBudWxsID8gcmVmLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgIGlmIChhcHByb3ZlLnVzZXIgPT09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PT0gc2VsZi51c2VySWQpIHtcbiAgICAgICAgICAgIHJldHVybiBteUFwcHJvdmVNb2RpZmllZHMucHVzaChhcHByb3ZlLnJlYWRfZGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbXlBcHByb3ZlTW9kaWZpZWRzO1xuICB9O1xuICBnZXRNaW5pSW5zdGFuY2UgPSBmdW5jdGlvbihfaW5zdGFuY2VJZCkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCByZWYxLCBzaG93X21vZGFsX3RyYWNlc19saXN0LCB0cmFjZXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IF9pbnN0YW5jZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiBpbnN0YW5jZV9maWVsZHNfMFxuICAgIH0pO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgdHJpZ2dlckNoYW5nZUZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycpIHtcbiAgICAgICAgICByZXR1cm4gdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoaW5zdGFuY2UudHJhY2VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldID0gaW5zdGFuY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzaG93X21vZGFsX3RyYWNlc19saXN0ID0gKChyZWYgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHtcbiAgICAgICAgc3BhY2U6IGluc3RhbmNlLnNwYWNlLFxuICAgICAgICBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwiXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHZhbHVlczogMVxuICAgICAgICB9XG4gICAgICB9KSkgIT0gbnVsbCA/IHJlZi52YWx1ZXMgOiB2b2lkIDApIHx8IGZhbHNlO1xuICAgICAgaWYgKHNob3dfbW9kYWxfdHJhY2VzX2xpc3QpIHtcbiAgICAgICAgdHJhY2VzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGlmIChpbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKChyZWYxID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZWYxLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgICAgICAgdmFyIF90cmFjZSwgYXBwcm92ZXMsIHJlZjI7XG4gICAgICAgICAgICAgIF90cmFjZSA9IF8uY2xvbmUodHJhY2UpO1xuICAgICAgICAgICAgICBhcHByb3ZlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgICBpZiAodHJhY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICgocmVmMiA9IHRyYWNlLmFwcHJvdmVzKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICByZWYyLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXBwcm92ZS50eXBlICE9PSAnY2MnIHx8IGFwcHJvdmUudXNlciA9PT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09PSBzZWxmLnVzZXJJZCB8fCAoIV8uaXNFbXB0eShhcHByb3ZlLnNpZ25fZmllbGRfY29kZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcHJvdmVzLnB1c2goYXBwcm92ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfdHJhY2UuYXBwcm92ZXMgPSBhcHByb3ZlcztcbiAgICAgICAgICAgICAgcmV0dXJuIHRyYWNlcy5wdXNoKF90cmFjZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UudHJhY2VzID0gdHJhY2VzO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG4gIG5lZWRDaGFuZ2UgPSBmdW5jdGlvbihjaGFuZ2VGaWVsZHMpIHtcbiAgICB2YXIgX2NoYW5nZSwgX3JldjtcbiAgICBpZiAoY2hhbmdlRmllbGRzKSB7XG4gICAgICBfY2hhbmdlID0gZmFsc2U7XG4gICAgICBfcmV2ID0gXy5maW5kKHRyaWdnZXJDaGFuZ2VGaWVsZHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICB2YXIgX2tleSwgX215X2FwcHJvdmVfbW9kaWZpZWRzO1xuICAgICAgICBfa2V5ID0ga2V5O1xuICAgICAgICBpZiAoa2V5ID09PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycpIHtcbiAgICAgICAgICBfa2V5ID0gJ3RyYWNlcyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8uaGFzKGNoYW5nZUZpZWxkcywgX2tleSkpIHtcbiAgICAgICAgICBpZiAoa2V5ID09PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycpIHtcbiAgICAgICAgICAgIF9teV9hcHByb3ZlX21vZGlmaWVkcyA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGNoYW5nZUZpZWxkcy50cmFjZXMpO1xuICAgICAgICAgICAgcmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBfbXlfYXBwcm92ZV9tb2RpZmllZHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIGNoYW5nZUZpZWxkc1trZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKF9yZXYpIHtcbiAgICAgICAgX2NoYW5nZSA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2NoYW5nZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkLCBmaWVsZHMpIHtcbiAgICAgIGlmIChib3ggIT09ICdpbmJveCcgfHwgbmVlZENoYW5nZShmaWVsZHMpKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGdldE1pbmlJbnN0YW5jZShpZCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuICAgIH1cbiAgfSk7XG4gIGluc3RhbmNlID0gZ2V0TWluaUluc3RhbmNlKGluc3RhbmNlSWQpO1xuICBzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGluc3RhbmNlICE9IG51bGwgPyBpbnN0YW5jZS5faWQgOiB2b2lkIDAsIGluc3RhbmNlKTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZV90cmFjZXMnLCBmdW5jdGlvbihpbnN0YW5jZUlkKSB7XG4gIHZhciBnZXRJbnN0YW5jZVRyYWNlcywgaGFuZGxlLCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRJbnN0YW5jZVRyYWNlcyA9IGZ1bmN0aW9uKF9pbnNJZCkge1xuICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IF9pbnNJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBfaWQ6IDEsXG4gICAgICAgIHRyYWNlczogMVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImluc3RhbmNlX3RyYWNlc1wiLCBpbnN0YW5jZUlkLCBnZXRJbnN0YW5jZVRyYWNlcyhpbnN0YW5jZUlkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImluc3RhbmNlX3RyYWNlc1wiLCBpbnN0YW5jZUlkLCBnZXRJbnN0YW5jZVRyYWNlcyhpbnN0YW5jZUlkKSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiXG5cdE1ldGVvci5wdWJsaXNoICdpbnN0YW5jZXNfbGlzdCcsIChzcGFjZUlkLCBib3gsIGZsb3dJZCktPlxuXG5cdFx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cdFx0XG5cdFx0dW5sZXNzIHNwYWNlSWRcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRcdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxuXHRcdGlmIGJveCA9PSBcImluYm94XCJcblx0XHRcdHF1ZXJ5LmluYm94X3VzZXJzID0gdGhpcy51c2VySWQ7XG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJvdXRib3hcIlxuXHRcdFx0cXVlcnkub3V0Ym94X3VzZXJzID0gdGhpcy51c2VySWQ7XG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJkcmFmdFwiXG5cdFx0XHRxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJkcmFmdFwiXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJwZW5kaW5nXCJcblx0XHRcdHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuXHRcdFx0cXVlcnkuc3RhdGUgPSBcInBlbmRpbmdcIlxuXHRcdGVsc2UgaWYgYm94ID09IFwiY29tcGxldGVkXCJcblx0XHRcdHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuXHRcdFx0cXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJtb25pdG9yXCJcblx0XHRcdHF1ZXJ5LmZsb3cgPSBmbG93SWQ7XG5cdFx0XHRxdWVyeS5zdGF0ZSA9IHskaW46IFtcInBlbmRpbmdcIixcImNvbXBsZXRlZFwiXX07XG5cdFx0ZWxzZVxuXHRcdFx0cXVlcnkuc3RhdGUgPSBcIm5vbmVcIlxuXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7bmFtZToxLCBjcmVhdGVkOjEsIGZvcm06MSwgZmxvdzogMSwgc3BhY2U6MSwgbW9kaWZpZWQ6MSwgYXBwbGljYW50OiAxLCBpc19hcmNoaXZlZDoxLCBmb3JtX3ZlcnNpb246IDEsIGZsb3dfdmVyc2lvbjogMX19KVxuXG4iLCJNZXRlb3IucHVibGlzaCgnaW5zdGFuY2VzX2xpc3QnLCBmdW5jdGlvbihzcGFjZUlkLCBib3gsIGZsb3dJZCkge1xuICB2YXIgcXVlcnk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcXVlcnkgPSB7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfTtcbiAgaWYgKGJveCA9PT0gXCJpbmJveFwiKSB7XG4gICAgcXVlcnkuaW5ib3hfdXNlcnMgPSB0aGlzLnVzZXJJZDtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwib3V0Ym94XCIpIHtcbiAgICBxdWVyeS5vdXRib3hfdXNlcnMgPSB0aGlzLnVzZXJJZDtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwiZHJhZnRcIikge1xuICAgIHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJkcmFmdFwiO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgIHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJjb21wbGV0ZWRcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwibW9uaXRvclwiKSB7XG4gICAgcXVlcnkuZmxvdyA9IGZsb3dJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IHtcbiAgICAgICRpbjogW1wicGVuZGluZ1wiLCBcImNvbXBsZXRlZFwiXVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuc3RhdGUgPSBcIm5vbmVcIjtcbiAgfVxuICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBjcmVhdGVkOiAxLFxuICAgICAgZm9ybTogMSxcbiAgICAgIGZsb3c6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIG1vZGlmaWVkOiAxLFxuICAgICAgYXBwbGljYW50OiAxLFxuICAgICAgaXNfYXJjaGl2ZWQ6IDEsXG4gICAgICBmb3JtX3ZlcnNpb246IDEsXG4gICAgICBmbG93X3ZlcnNpb246IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlID0gKGluc3RhbmNlaWQsIHVzZXJJZCwgZGF0YU1hcCwgY2FsbGJhY2spLT5cblx0b3BlcmF0aW9uID0gW3tcblx0XHRcIiRtYXRjaFwiOiB7XG5cdFx0XHRcIl9pZFwiOiBpbnN0YW5jZWlkXG5cdFx0fVxuXHR9LCB7XCIkcHJvamVjdFwiOiB7XCJuYW1lXCI6IDEsIFwiX2FwcHJvdmVcIjogXCIkdHJhY2VzLmFwcHJvdmVzXCJ9fSwge1wiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwifSwge1wiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwifSxcblx0XHR7XCIkbWF0Y2hcIjoge1wiX2FwcHJvdmUuaXNfZmluaXNoZWRcIjogdHJ1ZSwgJG9yOlt7XCJfYXBwcm92ZS5oYW5kbGVyXCI6IHVzZXJJZH0se1wiX2FwcHJvdmUudXNlclwiOiB1c2VySWR9XX19LFxuXHRcdHtcIiRncm91cFwiOiB7XCJfaWRcIjogXCIkX2lkXCIsIFwiZmluaXNoX2RhdGVcIjoge1wiJGxhc3RcIjogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIn19fVxuXHRdXG5cblx0ZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUob3BlcmF0aW9uKS50b0FycmF5IChlcnIsIGRhdGEpLT5cblx0XHRpZiBlcnJcblx0XHRcdHRocm93IG5ldyBFcnJvcihlcnIpXG5cblx0XHRkYXRhLmZvckVhY2ggKGRvYykgLT5cblx0XHRcdGRhdGFNYXAucHVzaCBkb2NcblxuXHRcdGlmIGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaylcblx0XHRcdGNhbGxiYWNrKClcblx0XHRyZXR1cm5cblxuYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlID0gTWV0ZW9yLndyYXBBc3luYyhsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlKVxuXG5NZXRlb3IucHVibGlzaCBcImluc3RhbmNlX3RhYnVsYXJcIiwgKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcblxuXHRjaGVjayhpZHMsIEFycmF5KTtcblxuXHRjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpXG5cblx0ZmllbGRzLmNjX3VzZXJzID0gMVxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSA9ICh1c2VySWQsIGluc3RhbmNlSWQpLT5cblx0XHRkYXRhID0gW11cblx0XHRhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUoaW5zdGFuY2VJZCwgdXNlcklkLCBkYXRhKVxuXHRcdGlmIGRhdGEubGVuZ3RoID4gMFxuXHRcdFx0cmV0dXJuIGRhdGFbMF1cblxuXG5cdGdldE15QXBwcm92ZSA9ICh1c2VySWQsIGluc3RhbmNlSWQpLT5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlSWR9LCB7ZmllbGRzOiB7dHJhY2VzOiAxfX0pXG5cdFx0bXlBcHByb3ZlID0gbnVsbFxuXG5cdFx0aWYgIWluc3RhbmNlXG5cdFx0XHRyZXR1cm5cblxuXHRcdGlmICFpbnN0YW5jZS50cmFjZXMgfHwgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDFcblx0XHRcdHJldHVyblxuXG5cdFx0bm90RmluaXNoZWRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSlcblxuXHRcdGlmIG5vdEZpbmlzaGVkVHJhY2VzLmxlbmd0aCA+IDBcblx0XHRcdGFwcHJvdmVzID0gbm90RmluaXNoZWRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIHVzZXJJZCk7XG5cblx0XHRcdGlmIGFwcHJvdmVzLmxlbmd0aCA+IDBcblx0XHRcdFx0YXBwcm92ZSA9IGFwcHJvdmVzWzBdXG5cdFx0XHRcdG15QXBwcm92ZSA9IHtcblx0XHRcdFx0XHRpZDogYXBwcm92ZS5faWQsXG5cdFx0XHRcdFx0aW5zdGFuY2U6IGFwcHJvdmUuaW5zdGFuY2UsXG5cdFx0XHRcdFx0dHJhY2U6IGFwcHJvdmUudHJhY2UsXG5cdFx0XHRcdFx0aXNfcmVhZDogYXBwcm92ZS5pc19yZWFkLFxuXHRcdFx0XHRcdHN0YXJ0X2RhdGU6IGFwcHJvdmUuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdGFnZW50OiBhcHByb3ZlLmFnZW50XG5cdFx0XHRcdFx0dXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxuXHRcdFx0XHR9XG5cblx0XHRpZiAhbXlBcHByb3ZlXG5cdFx0XHRpc19yZWFkID0gZmFsc2Vcblx0XHRcdGluc3RhbmNlLnRyYWNlcy5mb3JFYWNoICh0cmFjZSkgLT5cblx0XHRcdFx0dHJhY2U/LmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKSAtPlxuXHRcdFx0XHRcdGlmIGFwcHJvdmUudHlwZSA9PSAnY2MnIGFuZCBhcHByb3ZlLnVzZXIgPT0gdXNlcklkIGFuZCBhcHByb3ZlLmlzX2ZpbmlzaGVkID09IGZhbHNlXG5cdFx0XHRcdFx0XHRpZiBhcHByb3ZlLmlzX3JlYWRcblx0XHRcdFx0XHRcdFx0aXNfcmVhZCA9IHRydWVcblx0XHRcdFx0XHRcdG15QXBwcm92ZSA9IHtpZDogYXBwcm92ZS5faWQsIGlzX3JlYWQ6IGlzX3JlYWQsIHN0YXJ0X2RhdGU6IGFwcHJvdmUuc3RhcnRfZGF0ZSwgYWdlbnQ6IGFwcHJvdmUuYWdlbnQsIHVzZXJfbmFtZTogYXBwcm92ZS51c2VyX25hbWV9XG5cblx0XHRyZXR1cm4gbXlBcHByb3ZlXG5cblx0Z2V0U3RlcEN1cnJlbnROYW1lID0gKGluc3RhbmNlSWQpIC0+XG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZUlkfSwge2ZpZWxkczoge1widHJhY2VzLm5hbWVcIjogMSwgXCJ0cmFjZXNcIjogeyRzbGljZTogLTF9fX0pXG5cdFx0aWYgaW5zdGFuY2Vcblx0XHRcdHN0ZXBDdXJyZW50TmFtZSA9IGluc3RhbmNlLnRyYWNlcz9bMF0/Lm5hbWVcblxuXHRcdHJldHVybiBzdGVwQ3VycmVudE5hbWVcblxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpZHN9fSwge2ZpZWxkczoge3RyYWNlczogMH19KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpXG5cdFx0XHRteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxuXHRcdFx0aWYgbXlBcHByb3ZlXG5cdFx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0XHRpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGVcblx0XHRcdFx0aWYgbXlBcHByb3ZlLmFnZW50XG5cdFx0XHRcdFx0aW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZVxuXG5cdFx0XHRpZiBteUxhc3RGaW5pc2hlZEFwcHJvdmVcblx0XHRcdFx0aW5zdGFuY2UubXlfZmluaXNoX2RhdGUgPSBteUxhc3RGaW5pc2hlZEFwcHJvdmUuZmluaXNoX2RhdGVcblxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRpbnN0YW5jZS5jY19jb3VudCA9IGluc3RhbmNlLmNjX3VzZXJzPy5sZW5ndGggfHwgMFxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcblx0XHRyZW1vdmVkOiAoaWQpLT5cblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG5cdH1cblxuXHRpZHMuZm9yRWFjaCAoaWQpLT5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0bXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcblx0XHRteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxuXHRcdGlmIG15QXBwcm92ZVxuXHRcdFx0aW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkXG5cdFx0XHRpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGVcblx0XHRcdGlmIG15QXBwcm92ZS5hZ2VudFxuXHRcdFx0XHRcdGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWVcblx0XHRlbHNlXG5cdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZVxuXG5cdFx0aWYgbXlMYXN0RmluaXNoZWRBcHByb3ZlXG5cdFx0XHRpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZVxuXG5cdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0aW5zdGFuY2UuY2NfY291bnQgPSBpbnN0YW5jZS5jY191c2Vycz8ubGVuZ3RoIHx8IDBcblx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKSIsInZhciBhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUsIGxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGU7XG5cbmxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUgPSBmdW5jdGlvbihpbnN0YW5jZWlkLCB1c2VySWQsIGRhdGFNYXAsIGNhbGxiYWNrKSB7XG4gIHZhciBvcGVyYXRpb247XG4gIG9wZXJhdGlvbiA9IFtcbiAgICB7XG4gICAgICBcIiRtYXRjaFwiOiB7XG4gICAgICAgIFwiX2lkXCI6IGluc3RhbmNlaWRcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiRwcm9qZWN0XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IDEsXG4gICAgICAgIFwiX2FwcHJvdmVcIjogXCIkdHJhY2VzLmFwcHJvdmVzXCJcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIlxuICAgIH0sIHtcbiAgICAgIFwiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwiXG4gICAgfSwge1xuICAgICAgXCIkbWF0Y2hcIjoge1xuICAgICAgICBcIl9hcHByb3ZlLmlzX2ZpbmlzaGVkXCI6IHRydWUsXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiX2FwcHJvdmUuaGFuZGxlclwiOiB1c2VySWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBcIl9hcHByb3ZlLnVzZXJcIjogdXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgXCIkZ3JvdXBcIjoge1xuICAgICAgICBcIl9pZFwiOiBcIiRfaWRcIixcbiAgICAgICAgXCJmaW5pc2hfZGF0ZVwiOiB7XG4gICAgICAgICAgXCIkbGFzdFwiOiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIF07XG4gIHJldHVybiBkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShvcGVyYXRpb24pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBkYXRhTWFwLnB1c2goZG9jKTtcbiAgICB9KTtcbiAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xufTtcblxuYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlID0gTWV0ZW9yLndyYXBBc3luYyhsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlKTtcblxuTWV0ZW9yLnB1Ymxpc2goXCJpbnN0YW5jZV90YWJ1bGFyXCIsIGZ1bmN0aW9uKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpIHtcbiAgdmFyIGdldE15QXBwcm92ZSwgZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlLCBnZXRTdGVwQ3VycmVudE5hbWUsIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgY2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuICBjaGVjayhpZHMsIEFycmF5KTtcbiAgY2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcbiAgZmllbGRzLmNjX3VzZXJzID0gMTtcbiAgc2VsZiA9IHRoaXM7XG4gIGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGZ1bmN0aW9uKHVzZXJJZCwgaW5zdGFuY2VJZCkge1xuICAgIHZhciBkYXRhO1xuICAgIGRhdGEgPSBbXTtcbiAgICBhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUoaW5zdGFuY2VJZCwgdXNlcklkLCBkYXRhKTtcbiAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZGF0YVswXTtcbiAgICB9XG4gIH07XG4gIGdldE15QXBwcm92ZSA9IGZ1bmN0aW9uKHVzZXJJZCwgaW5zdGFuY2VJZCkge1xuICAgIHZhciBhcHByb3ZlLCBhcHByb3ZlcywgaW5zdGFuY2UsIGlzX3JlYWQsIG15QXBwcm92ZSwgbm90RmluaXNoZWRUcmFjZXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgbXlBcHByb3ZlID0gbnVsbDtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5vdEZpbmlzaGVkVHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpO1xuICAgIGlmIChub3RGaW5pc2hlZFRyYWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBhcHByb3ZlcyA9IG5vdEZpbmlzaGVkVHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCB1c2VySWQpO1xuICAgICAgaWYgKGFwcHJvdmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXBwcm92ZSA9IGFwcHJvdmVzWzBdO1xuICAgICAgICBteUFwcHJvdmUgPSB7XG4gICAgICAgICAgaWQ6IGFwcHJvdmUuX2lkLFxuICAgICAgICAgIGluc3RhbmNlOiBhcHByb3ZlLmluc3RhbmNlLFxuICAgICAgICAgIHRyYWNlOiBhcHByb3ZlLnRyYWNlLFxuICAgICAgICAgIGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcbiAgICAgICAgICBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsXG4gICAgICAgICAgYWdlbnQ6IGFwcHJvdmUuYWdlbnQsXG4gICAgICAgICAgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW15QXBwcm92ZSkge1xuICAgICAgaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgaW5zdGFuY2UudHJhY2VzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgcmV0dXJuIHRyYWNlICE9IG51bGwgPyAocmVmID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gJ2NjJyAmJiBhcHByb3ZlLnVzZXIgPT09IHVzZXJJZCAmJiBhcHByb3ZlLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKGFwcHJvdmUuaXNfcmVhZCkge1xuICAgICAgICAgICAgICBpc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBteUFwcHJvdmUgPSB7XG4gICAgICAgICAgICAgIGlkOiBhcHByb3ZlLl9pZCxcbiAgICAgICAgICAgICAgaXNfcmVhZDogaXNfcmVhZCxcbiAgICAgICAgICAgICAgc3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlLFxuICAgICAgICAgICAgICBhZ2VudDogYXBwcm92ZS5hZ2VudCxcbiAgICAgICAgICAgICAgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBteUFwcHJvdmU7XG4gIH07XG4gIGdldFN0ZXBDdXJyZW50TmFtZSA9IGZ1bmN0aW9uKGluc3RhbmNlSWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgcmVmMSwgc3RlcEN1cnJlbnROYW1lO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLm5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXNcIjoge1xuICAgICAgICAgICRzbGljZTogLTFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgc3RlcEN1cnJlbnROYW1lID0gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IChyZWYxID0gcmVmWzBdKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gc3RlcEN1cnJlbnROYW1lO1xuICB9O1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGlkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgdHJhY2VzOiAwXG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBpbnN0YW5jZSwgbXlBcHByb3ZlLCBteUxhc3RGaW5pc2hlZEFwcHJvdmUsIHJlZiwgcmVmMTtcbiAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGlkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgICBteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICAgIGlmIChteUFwcHJvdmUpIHtcbiAgICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkO1xuICAgICAgICBpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICAgIGlmIChteUFwcHJvdmUuYWdlbnQpIHtcbiAgICAgICAgICBpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChteUxhc3RGaW5pc2hlZEFwcHJvdmUpIHtcbiAgICAgICAgaW5zdGFuY2UubXlfZmluaXNoX2RhdGUgPSBteUxhc3RGaW5pc2hlZEFwcHJvdmUuZmluaXNoX2RhdGU7XG4gICAgICB9XG4gICAgICBpbnN0YW5jZS5pc19jYyA9ICgocmVmID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoc2VsZi51c2VySWQpIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICAgIGluc3RhbmNlLmNjX2NvdW50ID0gKChyZWYxID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYxLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5jY191c2VycztcbiAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcbiAgICB9LFxuICAgIHJlbW92ZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcbiAgICB9XG4gIH0pO1xuICBpZHMuZm9yRWFjaChmdW5jdGlvbihpZCkge1xuICAgIHZhciBpbnN0YW5jZSwgbXlBcHByb3ZlLCBteUxhc3RGaW5pc2hlZEFwcHJvdmUsIHJlZiwgcmVmMTtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IGZpZWxkc1xuICAgIH0pO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgbXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgaWYgKG15QXBwcm92ZSkge1xuICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkO1xuICAgICAgaW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgaWYgKG15QXBwcm92ZS5hZ2VudCkge1xuICAgICAgICBpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG15TGFzdEZpbmlzaGVkQXBwcm92ZSkge1xuICAgICAgaW5zdGFuY2UubXlfZmluaXNoX2RhdGUgPSBteUxhc3RGaW5pc2hlZEFwcHJvdmUuZmluaXNoX2RhdGU7XG4gICAgfVxuICAgIGluc3RhbmNlLmlzX2NjID0gKChyZWYgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgOiB2b2lkIDApIHx8IGZhbHNlO1xuICAgIGluc3RhbmNlLmNjX2NvdW50ID0gKChyZWYxID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYxLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgICBkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnM7XG4gICAgcmV0dXJuIHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcbiAgfSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlc19kcmFmdCcsIChzcGFjZUlkKSAtPlxuXHRjaGVjayBzcGFjZUlkLCBTdHJpbmdcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dXNlcklkID0gdGhpcy51c2VySWRcblx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtzdGF0ZTpcImRyYWZ0XCIsc3BhY2U6c3BhY2VJZCxzdWJtaXR0ZXI6dXNlcklkLCRvcjpbe2luYm94X3VzZXJzOiB7JGV4aXN0czpmYWxzZX19LCB7aW5ib3hfdXNlcnM6IFtdfV19LCB7ZmllbGRzOiB7X2lkOiAxLCBzdGF0ZTogMSwgc3BhY2U6IDEsIHN1Ym1pdHRlcjogMSwgaW5ib3hfdXNlcnM6IDEsIG1vZGlmaWVkOiAxLCBuYW1lOiAxfSwgc29ydDp7bW9kaWZpZWQ6IC0xfX0pIiwiTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlc19kcmFmdCcsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgdmFyIHVzZXJJZDtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgdXNlcklkID0gdGhpcy51c2VySWQ7XG4gIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgc3RhdGU6IFwiZHJhZnRcIixcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBzdWJtaXR0ZXI6IHVzZXJJZCxcbiAgICAkb3I6IFtcbiAgICAgIHtcbiAgICAgICAgaW5ib3hfdXNlcnM6IHtcbiAgICAgICAgICAkZXhpc3RzOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGluYm94X3VzZXJzOiBbXVxuICAgICAgfVxuICAgIF1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIHN1Ym1pdHRlcjogMSxcbiAgICAgIGluYm94X3VzZXJzOiAxLFxuICAgICAgbW9kaWZpZWQ6IDEsXG4gICAgICBuYW1lOiAxXG4gICAgfSxcbiAgICBzb3J0OiB7XG4gICAgICBtb2RpZmllZDogLTFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcycsIChpbnN0YW5jZV9pZHMpLT5cblx0Y2hlY2soaW5zdGFuY2VfaWRzLCBBcnJheSlcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cdFxuXHR1bmxlc3MgaW5zdGFuY2VfaWRzXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdGlmIF8uaXNFbXB0eShpbnN0YW5jZV9pZHMpXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzXG5cblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaW5zdGFuY2VfaWRzfX0sIHtmaWVsZHM6IHtzdGF0ZTogMSwgdHJhY2VzOnskc2xpY2U6IDF9IH0gfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGFkZGVkOiAoaWQsIGZpZWxkcyktPlxuXHRcdFx0c2VsZi5hZGRlZCgnaW5zdGFuY2VzJywgaWQsIHtzdGF0ZTogZmllbGRzLnN0YXRlLCBpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWR9KVxuXG5cdFx0Y2hhbmdlZDogKGlkLCBmaWVsZHMpLT5cblx0XHRcdGlmIGZpZWxkcy5zdGF0ZVxuXHRcdFx0XHRzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7c3RhdGU6IGZpZWxkcy5zdGF0ZX0pXG5cdFx0XHRpZiBmaWVsZHMudHJhY2VzXG5cdFx0XHRcdHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWR9KVxuXHR9XG5cblx0dGhpcy5yZWFkeSgpXG5cdHRoaXMub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG4iLCJNZXRlb3IucHVibGlzaCgnZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcycsIGZ1bmN0aW9uKGluc3RhbmNlX2lkcykge1xuICB2YXIgaGFuZGxlLCBzZWxmO1xuICBjaGVjayhpbnN0YW5jZV9pZHMsIEFycmF5KTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZV9pZHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmIChfLmlzRW1wdHkoaW5zdGFuY2VfaWRzKSkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogaW5zdGFuY2VfaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHRyYWNlczoge1xuICAgICAgICAkc2xpY2U6IDFcbiAgICAgIH1cbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBhZGRlZDogZnVuY3Rpb24oaWQsIGZpZWxkcykge1xuICAgICAgcmV0dXJuIHNlbGYuYWRkZWQoJ2luc3RhbmNlcycsIGlkLCB7XG4gICAgICAgIHN0YXRlOiBmaWVsZHMuc3RhdGUsXG4gICAgICAgIGlzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCwgZmllbGRzKSB7XG4gICAgICBpZiAoZmllbGRzLnN0YXRlKSB7XG4gICAgICAgIHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtcbiAgICAgICAgICBzdGF0ZTogZmllbGRzLnN0YXRlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGZpZWxkcy50cmFjZXMpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtcbiAgICAgICAgICBpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdGhpcy5yZWFkeSgpO1xuICByZXR1cm4gdGhpcy5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAncmVsYXRlZF9pbnN0YWNlcycsIChpbnN0YW5jZUlkLCByZWxhdGVkX2luc3RhbmNlcyktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGluc3RhbmNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0cmVsYXRlZF9pbnN0YW5jZV9pZHMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZUlkLHtmaWVsZHM6IHtyZWxhdGVkX2luc3RhbmNlczogMX19KT8ucmVsYXRlZF9pbnN0YW5jZXNcblxuXHRpZiByZWxhdGVkX2luc3RhbmNlX2lkcyAmJiBfLmlzQXJyYXkocmVsYXRlZF9pbnN0YW5jZV9pZHMpXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW4gOiByZWxhdGVkX2luc3RhbmNlX2lkc319LCB7ZmllbGRzOiB7X2lkOiAxLCBuYW1lOiAxLCBzcGFjZTogMX19KVxuXHRlbHNlXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKSIsIk1ldGVvci5wdWJsaXNoKCdyZWxhdGVkX2luc3RhY2VzJywgZnVuY3Rpb24oaW5zdGFuY2VJZCwgcmVsYXRlZF9pbnN0YW5jZXMpIHtcbiAgdmFyIHJlZiwgcmVsYXRlZF9pbnN0YW5jZV9pZHM7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmVsYXRlZF9pbnN0YW5jZV9pZHMgPSAocmVmID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VJZCwge1xuICAgIGZpZWxkczoge1xuICAgICAgcmVsYXRlZF9pbnN0YW5jZXM6IDFcbiAgICB9XG4gIH0pKSAhPSBudWxsID8gcmVmLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwO1xuICBpZiAocmVsYXRlZF9pbnN0YW5jZV9pZHMgJiYgXy5pc0FycmF5KHJlbGF0ZWRfaW5zdGFuY2VfaWRzKSkge1xuICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICBfaWQ6IHtcbiAgICAgICAgJGluOiByZWxhdGVkX2luc3RhbmNlX2lkc1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBfaWQ6IDEsXG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIHNwYWNlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxufSk7XG4iLCJpZiBNZXRlb3IuaXNTZXJ2ZXJcbiAgICBNZXRlb3IucHVibGlzaCAnc3BhY2VfdXNlcl9zaWducycsIChzcGFjZUlkKSAtPlxuICAgICAgICBjaGVjayBzcGFjZUlkLCBTdHJpbmdcblxuICAgICAgICB1bmxlc3MgdGhpcy51c2VySWRcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWR5KClcblxuICAgICAgICByZXR1cm4gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kKHsgc3BhY2U6IHNwYWNlSWQgfSwge2ZpZWxkczoge2NyZWF0ZWRfYnk6IDAsIGNyZWF0ZWQ6IDAsIG1vZGlmaWVkX2J5OiAwfX0pXG4iLCJpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIE1ldGVvci5wdWJsaXNoKCdzcGFjZV91c2VyX3NpZ25zJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICAgIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjcmVhdGVkX2J5OiAwLFxuICAgICAgICBjcmVhdGVkOiAwLFxuICAgICAgICBtb2RpZmllZF9ieTogMFxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbiIsIiMjI1xuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgXCJ1c2VyX2luYm94X2luc3RhbmNlXCIsICgpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHRcdHVzZXI6IHRoaXMudXNlcklkLFxuXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcblx0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xuXHRxdWVyeSA9IHtzcGFjZTogeyRpbjogdXNlclNwYWNlSWRzfX1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGZpbmQ6IC0+XG5cdFx0ZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRzcGFjZTogMSxcblx0XHRcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0XHRcdGZsb3c6IDEsXG5cdFx0XHRcdGluYm94X3VzZXJzOiAxLFxuXHRcdFx0XHRjY191c2VyczogMSxcblx0XHRcdFx0c3RhdGU6IDEsXG5cdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdG1vZGlmaWVkOiAxLFxuXHRcdFx0XHRmb3JtOiAxXG5cdFx0XHR9LCBzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDIwMFxuXHRcdH0pO1xuXHRjaGlsZHJlbjogW1xuXHRcdHtcblx0XHRcdGZpbmQ6IChpbnN0YW5jZSwgcG9zdCktPlxuXHRcdFx0XHRkYi5mbG93cy5maW5kKHtfaWQ6IGluc3RhbmNlLmZsb3d9LCB7ZmllbGRzOiB7bmFtZTogMSwgc3BhY2U6IDF9fSk7XG5cdFx0fVxuXHRdXG4jIyNcblxuIyMjXG5NZXRlb3IucHVibGlzaCAnbXlfaW5ib3hfaW5zdGFuY2VzJywgKHNwYWNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdCNcdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHQjXHRcdHVzZXI6IHRoaXMudXNlcklkLFxuXHQjXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcblx0I1x0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xuXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZmllbGRzID0ge1xuXHRcdHNwYWNlOiAxLFxuI1x0XHRhcHBsaWNhbnRfbmFtZTogMSxcblx0XHRmbG93OiAxLFxuXHRcdGluYm94X3VzZXJzOiAxLFxuXHRcdGNjX3VzZXJzOiAxLFxuXHRcdHN0YXRlOiAxLFxuI1x0XHRuYW1lOiAxLFxuI1x0XHRtb2RpZmllZDogMSxcblx0XHRmb3JtOiAxXG5cdH1cblxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge3NvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogNTAwfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGFkZGVkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKVxuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG5cdFx0cmVtb3ZlZDogKGlkKS0+XG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuXHR9XG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuIyMjXG5cbl9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gKHNwYWNlSWQsIHVzZXJJZCwgX2l0ZW1zLCBjYWxsYmFjayktPlxuXHRkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShbXG5cdFx0e1xuXHRcdFx0JG1hdGNoOiB7XG5cdFx0XHRcdHNwYWNlOiBzcGFjZUlkLFxuXHRcdFx0XHQkb3I6IFt7aW5ib3hfdXNlcnM6IHVzZXJJZH0sIHtjY191c2VyczogdXNlcklkfV1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHtcblx0XHRcdCRncm91cDoge1xuXHRcdFx0XHRfaWQ6IHtmbG93OiBcIiRmbG93XCIsIGNhdGVnb3J5OiBcIiRjYXRlZ29yeVwifSwgY291bnQ6IHskc3VtOiAxfVxuXHRcdFx0fVxuXHRcdH1cblx0XSkudG9BcnJheSAoZXJyLCBkYXRhKS0+XG5cdFx0aWYgZXJyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxuXG5cdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XG5cdFx0XHRfaXRlbXMucHVzaCBkb2NcblxuXHRcdGlmIGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaylcblx0XHRcdGNhbGxiYWNrKClcblx0XHRyZXR1cm5cblxuX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKF9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKVxuXG5NZXRlb3IucHVibGlzaCAnbXlfaW5ib3hfZmxvd19pbnN0YW5jZXNfY291bnQnLCAoc3BhY2VJZCktPlxuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpcztcblxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGRhdGEgPSBbXSAgI+aVsOaNruagvOW8j++8mlt7X2lkOmZsb3dJZCwgY291bnQ6IOW+heWKnuaVsOmHj30sIHtfaWQ6Zmxvd0lkMiwgY291bnQ6IOW+heWKnuaVsOmHjzJ9XVxuXHRfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZShzcGFjZUlkLCBzZWxmLnVzZXJJZCwgZGF0YSlcblxuXHRfZmxvd3NEYXRhID0gW11cblxuXHRfLmVhY2ggZGF0YSwgKGRhdGFJdGVtKS0+XG5cdFx0X2Zsb3dzRGF0YS5wdXNoKHtfaWQ6IGRhdGFJdGVtLl9pZC5mbG93LCBjYXRlZ29yeTogZGF0YUl0ZW0uX2lkLmNhdGVnb3J5LCBjb3VudDogZGF0YUl0ZW0uY291bnR9KVxuXG5cdHNlbGYuYWRkZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7Zmxvd3M6IF9mbG93c0RhdGF9KTtcblxuXHRfY2hhbmdlRGF0YSA9IChkb2MsIGFjdGlvbiktPlxuXHRcdGZsb3dfaW5zdGFuY2UgPSBfLmZpbmQgX2Zsb3dzRGF0YSwgKGYpLT5cblx0XHRcdHJldHVybiBmLl9pZCA9PSBkb2MuZmxvd1xuXHRcdGlmIGZsb3dfaW5zdGFuY2Vcblx0XHRcdGlmIGFjdGlvbiA9PSBcImFkZGVkXCJcblx0XHRcdFx0Zmxvd19pbnN0YW5jZS5jb3VudCsrXG5cdFx0XHRlbHNlIGlmIGFjdGlvbiA9PSBcInJlbW92ZWRcIlxuXHRcdFx0XHRmbG93X2luc3RhbmNlLmNvdW50LS1cblx0XHRlbHNlIGlmIGFjdGlvbiA9PSBcImFkZGVkXCJcblx0XHRcdF9mbG93c0RhdGEucHVzaCB7X2lkOiBkb2MuZmxvdywgY2F0ZWdvcnk6IGRvYy5jYXRlZ29yeSwgY291bnQ6IDF9XG5cblx0XHRzZWxmLmNoYW5nZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7Zmxvd3M6IF9mbG93c0RhdGF9KTtcblxuXHRfaW5pdCA9IHRydWVcblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtmaWVsZHM6IHtfaWQ6IDEsIGluYm94X3VzZXJzOiAxLCBjY191c2VyczogMSwgZmxvdzogMSwgY2F0ZWdvcnk6IDF9fSkub2JzZXJ2ZSB7XG5cdFx0YWRkZWQ6IChkb2MpLT5cblx0XHRcdGlmICFfaW5pdFxuXHRcdFx0XHRfY2hhbmdlRGF0YShkb2MsIFwiYWRkZWRcIilcblx0XHRyZW1vdmVkOiAoZG9jKS0+XG5cdFx0XHRpZiAhX2luaXRcblx0XHRcdFx0X2NoYW5nZURhdGEoZG9jLCBcInJlbW92ZWRcIilcblx0fVxuXHRfaW5pdCA9IGZhbHNlXG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKSIsIlxuLypcbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlIFwidXNlcl9pbmJveF9pbnN0YW5jZVwiLCAoKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcblx0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcblx0cXVlcnkgPSB7c3BhY2U6IHskaW46IHVzZXJTcGFjZUlkc319XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRmaW5kOiAtPlxuXHRcdGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRcdGFwcGxpY2FudF9uYW1lOiAxLFxuXHRcdFx0XHRmbG93OiAxLFxuXHRcdFx0XHRpbmJveF91c2VyczogMSxcblx0XHRcdFx0Y2NfdXNlcnM6IDEsXG5cdFx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRtb2RpZmllZDogMSxcblx0XHRcdFx0Zm9ybTogMVxuXHRcdFx0fSwgc29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiAyMDBcblx0XHR9KTtcblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAoaW5zdGFuY2UsIHBvc3QpLT5cblx0XHRcdFx0ZGIuZmxvd3MuZmluZCh7X2lkOiBpbnN0YW5jZS5mbG93fSwge2ZpZWxkczoge25hbWU6IDEsIHNwYWNlOiAxfX0pO1xuXHRcdH1cblx0XVxuICovXG5cbi8qXG5NZXRlb3IucHVibGlzaCAnbXlfaW5ib3hfaW5zdGFuY2VzJywgKHNwYWNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdCAqXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcblx0ICpcdFx0dXNlcjogdGhpcy51c2VySWQsXG5cdCAqXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcblx0ICpcdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcblxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGZpZWxkcyA9IHtcblx0XHRzcGFjZTogMSxcbiAqXHRcdGFwcGxpY2FudF9uYW1lOiAxLFxuXHRcdGZsb3c6IDEsXG5cdFx0aW5ib3hfdXNlcnM6IDEsXG5cdFx0Y2NfdXNlcnM6IDEsXG5cdFx0c3RhdGU6IDEsXG4gKlx0XHRuYW1lOiAxLFxuICpcdFx0bW9kaWZpZWQ6IDEsXG5cdFx0Zm9ybTogMVxuXHR9XG5cblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDUwMH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRhZGRlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSlcblx0XHRjaGFuZ2VkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuXHRcdHJlbW92ZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcblx0fVxuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcbiAqL1xudmFyIF9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlLCBfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZTtcblxuX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSBmdW5jdGlvbihzcGFjZUlkLCB1c2VySWQsIF9pdGVtcywgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKFtcbiAgICB7XG4gICAgICAkbWF0Y2g6IHtcbiAgICAgICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjY191c2VyczogdXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgJGdyb3VwOiB7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgIGZsb3c6IFwiJGZsb3dcIixcbiAgICAgICAgICBjYXRlZ29yeTogXCIkY2F0ZWdvcnlcIlxuICAgICAgICB9LFxuICAgICAgICBjb3VudDoge1xuICAgICAgICAgICRzdW06IDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXSkudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICB9XG4gICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIF9pdGVtcy5wdXNoKGRvYyk7XG4gICAgfSk7XG4gICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSk7XG5cbk1ldGVvci5wdWJsaXNoKCdteV9pbmJveF9mbG93X2luc3RhbmNlc19jb3VudCcsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgdmFyIF9jaGFuZ2VEYXRhLCBfZmxvd3NEYXRhLCBfaW5pdCwgZGF0YSwgaGFuZGxlLCBxdWVyeSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIHF1ZXJ5ID0ge1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIHF1ZXJ5LiRvciA9IFtcbiAgICB7XG4gICAgICBpbmJveF91c2VyczogdGhpcy51c2VySWRcbiAgICB9LCB7XG4gICAgICBjY191c2VyczogdGhpcy51c2VySWRcbiAgICB9XG4gIF07XG4gIGRhdGEgPSBbXTtcbiAgX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUoc3BhY2VJZCwgc2VsZi51c2VySWQsIGRhdGEpO1xuICBfZmxvd3NEYXRhID0gW107XG4gIF8uZWFjaChkYXRhLCBmdW5jdGlvbihkYXRhSXRlbSkge1xuICAgIHJldHVybiBfZmxvd3NEYXRhLnB1c2goe1xuICAgICAgX2lkOiBkYXRhSXRlbS5faWQuZmxvdyxcbiAgICAgIGNhdGVnb3J5OiBkYXRhSXRlbS5faWQuY2F0ZWdvcnksXG4gICAgICBjb3VudDogZGF0YUl0ZW0uY291bnRcbiAgICB9KTtcbiAgfSk7XG4gIHNlbGYuYWRkZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7XG4gICAgZmxvd3M6IF9mbG93c0RhdGFcbiAgfSk7XG4gIF9jaGFuZ2VEYXRhID0gZnVuY3Rpb24oZG9jLCBhY3Rpb24pIHtcbiAgICB2YXIgZmxvd19pbnN0YW5jZTtcbiAgICBmbG93X2luc3RhbmNlID0gXy5maW5kKF9mbG93c0RhdGEsIGZ1bmN0aW9uKGYpIHtcbiAgICAgIHJldHVybiBmLl9pZCA9PT0gZG9jLmZsb3c7XG4gICAgfSk7XG4gICAgaWYgKGZsb3dfaW5zdGFuY2UpIHtcbiAgICAgIGlmIChhY3Rpb24gPT09IFwiYWRkZWRcIikge1xuICAgICAgICBmbG93X2luc3RhbmNlLmNvdW50Kys7XG4gICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJyZW1vdmVkXCIpIHtcbiAgICAgICAgZmxvd19pbnN0YW5jZS5jb3VudC0tO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcImFkZGVkXCIpIHtcbiAgICAgIF9mbG93c0RhdGEucHVzaCh7XG4gICAgICAgIF9pZDogZG9jLmZsb3csXG4gICAgICAgIGNhdGVnb3J5OiBkb2MuY2F0ZWdvcnksXG4gICAgICAgIGNvdW50OiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtcbiAgICAgIGZsb3dzOiBfZmxvd3NEYXRhXG4gICAgfSk7XG4gIH07XG4gIF9pbml0ID0gdHJ1ZTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIGluYm94X3VzZXJzOiAxLFxuICAgICAgY2NfdXNlcnM6IDEsXG4gICAgICBmbG93OiAxLFxuICAgICAgY2F0ZWdvcnk6IDFcbiAgICB9XG4gIH0pLm9ic2VydmUoe1xuICAgIGFkZGVkOiBmdW5jdGlvbihkb2MpIHtcbiAgICAgIGlmICghX2luaXQpIHtcbiAgICAgICAgcmV0dXJuIF9jaGFuZ2VEYXRhKGRvYywgXCJhZGRlZFwiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZWQ6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgaWYgKCFfaW5pdCkge1xuICAgICAgICByZXR1cm4gX2NoYW5nZURhdGEoZG9jLCBcInJlbW92ZWRcIik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgX2luaXQgPSBmYWxzZTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJcbk1ldGVvci5wdWJsaXNoICdmbG93X21haW5fYXR0YWNoX3RlbXBsYXRlJywgKHNwYWNlSWQsIGZsb3dJZCktPlxuXHRjaGVjayhzcGFjZUlkLCBTdHJpbmcpXG5cdGNoZWNrKGZsb3dJZCwgU3RyaW5nKVxuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZCAmJiBmbG93SWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0cmV0dXJuIENyZWF0b3IuZ2V0Q29sbGVjdGlvbignY21zX2ZpbGVzJykuZmluZCh7IHNwYWNlOiBzcGFjZUlkLCAncGFyZW50Lm8nOiAnZmxvd3MnLCAncGFyZW50Lmlkcyc6IGZsb3dJZCwgIG5hbWU6ICfmraPmlocuZG9jeCcgfSlcbiIsIk1ldGVvci5wdWJsaXNoKCdmbG93X21haW5fYXR0YWNoX3RlbXBsYXRlJywgZnVuY3Rpb24oc3BhY2VJZCwgZmxvd0lkKSB7XG4gIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG4gIGNoZWNrKGZsb3dJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCEoc3BhY2VJZCAmJiBmbG93SWQpKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gQ3JlYXRvci5nZXRDb2xsZWN0aW9uKCdjbXNfZmlsZXMnKS5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAncGFyZW50Lm8nOiAnZmxvd3MnLFxuICAgICdwYXJlbnQuaWRzJzogZmxvd0lkLFxuICAgIG5hbWU6ICfmraPmlocuZG9jeCdcbiAgfSk7XG59KTtcbiIsIndvcmtmbG93VGVtcGxhdGUgPSB7fVxuXG4j5Y+v55So5q2k6ISa5pys5LuO5qih5p2/5bel5L2c5Yy65YGa5om56YeP5a+85Ye677yaXG4j5L2/55So566h55CG5ZGY6LSm5oi355m75b2V5ZCO77yM6L+b5YWlRmxvd01vZHVsZXPvvIzlnKjmjqfliLblj7DmiafooYzku6XkuIvohJrmnKzljbPlj69cbiNkYi5mb3Jtcy5maW5kKHtzdGF0ZTpcImVuYWJsZWRcIn0pLmZvckVhY2goZnVuY3Rpb24oZm9ybSl7d2luZG93Lm9wZW4oTWV0ZW9yLmFic29sdXRlVXJsKFwiYXBpL3dvcmtmbG93L2V4cG9ydC9mb3JtP2Zvcm09XCIrZm9ybS5faWQpKX0pXG53b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0gPVtdXG5cbiPlj6/nlKjmraTohJrmnKzku47mqKHmnb/lt6XkvZzljLrlgZrmibnph4/lr7zlh7rvvJpcbiPkvb/nlKjnrqHnkIblkZjotKbmiLfnmbvlvZXlkI7vvIzov5vlhaXmqKHmnb/kuJPljLrvvIzlnKjmjqfliLblj7DmiafooYzku6XkuIvohJrmnKzljbPlj69cbiNkYi5mb3Jtcy5maW5kKHtzdGF0ZTpcImVuYWJsZWRcIn0pLmZvckVhY2goZnVuY3Rpb24oZm9ybSl7d2luZG93Lm9wZW4oTWV0ZW9yLmFic29sdXRlVXJsKFwiYXBpL3dvcmtmbG93L2V4cG9ydC9mb3JtP2Zvcm09XCIrZm9ybS5faWQpKX0pXG53b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0gPVtdXG5cbk1ldGVvci5zdGFydHVwICgpLT5cblx0ZnMgPSByZXF1aXJlKCdmcycpXG5cdHBhdGggPSByZXF1aXJlKCdwYXRoJylcblx0bWltZSA9IHJlcXVpcmUoJ21pbWUnKVxuXHRyZWFkRmlsZUxpc3QgPSAocGF0aERpciwgZmlsZXNMaXN0KS0+XG5cdFx0ZmlsZXMgPSBmcy5yZWFkZGlyU3luYyhwYXRoRGlyKVxuXHRcdGZpbGVzLmZvckVhY2ggKG5hbWUsIGluZGV4KS0+XG5cdFx0XHRzdGF0ID0gZnMuc3RhdFN5bmMocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpKVxuXHRcdFx0aWYgc3RhdC5pc0RpcmVjdG9yeSgpXG5cdFx0XHRcdCMg6YCS5b2S6K+75Y+W5paH5Lu2XG5cdFx0XHRcdHJlYWRGaWxlTGlzdChwYXRoLmpvaW4ocGF0aERpciwgbmFtZSksIGZpbGVzTGlzdClcblx0XHRcdGVsc2Vcblx0XHRcdFx0b2JqID0ge31cblx0XHRcdFx0b2JqLnBhdGggPSBwYXRoRGlyXG5cdFx0XHRcdG9iai5uYW1lID0gbmFtZVxuXHRcdFx0XHRmaWxlc0xpc3QucHVzaChvYmopXG5cblx0I+iOt+WPlnpoLWNu5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XG5cdGZpbGVzTGlzdF9jbiA9IFtdXG5cdHBhdGhfY24gPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXM/LnBhdGhfY25cblx0aWYgcGF0aF9jblxuXHRcdGFic29sdXRlX3BhdGhfY24gPSBwYXRoLnJlc29sdmUocGF0aF9jbilcblx0XHRjb25zb2xlLmxvZyBcImFic29sdXRlX3BhdGhfY25cIiwgYWJzb2x1dGVfcGF0aF9jblxuXHRcdGlmIGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF9jbilcblx0XHRcdHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX2NuLCBmaWxlc0xpc3RfY24pXG5cdFx0XHRmaWxlc0xpc3RfY24uZm9yRWFjaCAoZmlsZSktPlxuXHRcdFx0XHR0cnlcblx0XHRcdFx0XHRpZiBtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSBpcyBcImFwcGxpY2F0aW9uL2pzb25cIlxuXHRcdFx0XHRcdFx0ZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpXG5cdFx0XHRcdFx0XHR3b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKVxuXHRcdFx0XHRjYXRjaCBlXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBcIuiOt+WPlnpoLWNu5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSlcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblxuXHQj6I635Y+WZW4tdXPmlofku7blpLnkuIvnmoTmiYDmnInmlofku7Zcblx0ZmlsZXNMaXN0X3VzID0gW11cblx0cGF0aF91cyA9IE1ldGVvci5zZXR0aW5ncy53b3JrZmxvd1RlbXBsYXRlcz8ucGF0aF91c1xuXHRpZiBwYXRoX3VzXG5cdFx0YWJzb2x1dGVfcGF0aF91cyA9IHBhdGgucmVzb2x2ZShwYXRoX3VzKVxuXHRcdGNvbnNvbGUubG9nIFwiYWJzb2x1dGVfcGF0aF91c1wiLCBhYnNvbHV0ZV9wYXRoX3VzXG5cdFx0aWYgZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX3VzKVxuXHRcdFx0cmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfdXMsIGZpbGVzTGlzdF91cylcblx0XHRcdGZpbGVzTGlzdF91cy5mb3JFYWNoIChmaWxlKS0+XG5cdFx0XHRcdHRyeVxuXHRcdFx0XHRcdGlmIG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpIGlzIFwiYXBwbGljYXRpb24vanNvblwiXG5cdFx0XHRcdFx0XHRkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4Jylcblx0XHRcdFx0XHRcdHdvcmtmbG93VGVtcGxhdGVbXCJlblwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpXG5cdFx0XHRcdGNhdGNoIGVcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIFwi6I635Y+WZW4tdXPmlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKVxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdFx0XHRcblx0XHRcdFx0XHRcblxuXG4iLCIgICAgICAgICAgICAgICAgICAgICBcblxud29ya2Zsb3dUZW1wbGF0ZSA9IHt9O1xuXG53b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0gPSBbXTtcblxud29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdID0gW107XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICB2YXIgYWJzb2x1dGVfcGF0aF9jbiwgYWJzb2x1dGVfcGF0aF91cywgZmlsZXNMaXN0X2NuLCBmaWxlc0xpc3RfdXMsIGZzLCBtaW1lLCBwYXRoLCBwYXRoX2NuLCBwYXRoX3VzLCByZWFkRmlsZUxpc3QsIHJlZiwgcmVmMTtcbiAgZnMgPSByZXF1aXJlKCdmcycpO1xuICBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuICBtaW1lID0gcmVxdWlyZSgnbWltZScpO1xuICByZWFkRmlsZUxpc3QgPSBmdW5jdGlvbihwYXRoRGlyLCBmaWxlc0xpc3QpIHtcbiAgICB2YXIgZmlsZXM7XG4gICAgZmlsZXMgPSBmcy5yZWFkZGlyU3luYyhwYXRoRGlyKTtcbiAgICByZXR1cm4gZmlsZXMuZm9yRWFjaChmdW5jdGlvbihuYW1lLCBpbmRleCkge1xuICAgICAgdmFyIG9iaiwgc3RhdDtcbiAgICAgIHN0YXQgPSBmcy5zdGF0U3luYyhwYXRoLmpvaW4ocGF0aERpciwgbmFtZSkpO1xuICAgICAgaWYgKHN0YXQuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICByZXR1cm4gcmVhZEZpbGVMaXN0KHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSwgZmlsZXNMaXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iaiA9IHt9O1xuICAgICAgICBvYmoucGF0aCA9IHBhdGhEaXI7XG4gICAgICAgIG9iai5uYW1lID0gbmFtZTtcbiAgICAgICAgcmV0dXJuIGZpbGVzTGlzdC5wdXNoKG9iaik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGZpbGVzTGlzdF9jbiA9IFtdO1xuICBwYXRoX2NuID0gKHJlZiA9IE1ldGVvci5zZXR0aW5ncy53b3JrZmxvd1RlbXBsYXRlcykgIT0gbnVsbCA/IHJlZi5wYXRoX2NuIDogdm9pZCAwO1xuICBpZiAocGF0aF9jbikge1xuICAgIGFic29sdXRlX3BhdGhfY24gPSBwYXRoLnJlc29sdmUocGF0aF9jbik7XG4gICAgY29uc29sZS5sb2coXCJhYnNvbHV0ZV9wYXRoX2NuXCIsIGFic29sdXRlX3BhdGhfY24pO1xuICAgIGlmIChmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfY24pKSB7XG4gICAgICByZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF9jbiwgZmlsZXNMaXN0X2NuKTtcbiAgICAgIGZpbGVzTGlzdF9jbi5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgdmFyIGRhdGEsIGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgICAgICAgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpO1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuiOt+WPlnpoLWNu5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSkpO1xuICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZmlsZXNMaXN0X3VzID0gW107XG4gIHBhdGhfdXMgPSAocmVmMSA9IE1ldGVvci5zZXR0aW5ncy53b3JrZmxvd1RlbXBsYXRlcykgIT0gbnVsbCA/IHJlZjEucGF0aF91cyA6IHZvaWQgMDtcbiAgaWYgKHBhdGhfdXMpIHtcbiAgICBhYnNvbHV0ZV9wYXRoX3VzID0gcGF0aC5yZXNvbHZlKHBhdGhfdXMpO1xuICAgIGNvbnNvbGUubG9nKFwiYWJzb2x1dGVfcGF0aF91c1wiLCBhYnNvbHV0ZV9wYXRoX3VzKTtcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX3VzKSkge1xuICAgICAgcmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfdXMsIGZpbGVzTGlzdF91cyk7XG4gICAgICByZXR1cm4gZmlsZXNMaXN0X3VzLmZvckVhY2goZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICB2YXIgZGF0YSwgZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAobWltZS5nZXRUeXBlKGZpbGUubmFtZSkgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICAgICAgICBkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4Jyk7XG4gICAgICAgICAgICByZXR1cm4gd29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi6I635Y+WZW4tdXPmlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSk7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSk7XG4iLCIjIyNcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4jIyNcbk1ldGVvci5zdGFydHVwIC0+XG5cdGlmIE1ldGVvci5zZXR0aW5ncy5jcm9uPy5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb25cblx0XHRzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKVxuXHRcdCMg5a6a5pe25omn6KGM5ZCM5q2lXG5cdFx0cnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvblxuXHRcdGdvX25leHQgPSB0cnVlXG5cdFx0c2NoZWR1bGUuc2NoZWR1bGVKb2IgcnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCAoKS0+XG5cdFx0XHR0cnlcblx0XHRcdFx0aWYgIWdvX25leHRcblx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0Z29fbmV4dCA9IGZhbHNlXG5cdFx0XHRcdGNvbnNvbGUudGltZSAnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJ1xuXG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cblx0XHRcdFx0IyDlsIblp5TmiZjop4TliJnorr7nva7kuLrkuI3lj6/nlKhcblx0XHRcdFx0ZGIucHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzLnVwZGF0ZSh7IGVuYWJsZWQ6IHRydWUsIGVuZF90aW1lOiB7ICRsdGU6IG5vdyB9IH0sIHsgJHNldDogeyBlbmFibGVkOiBmYWxzZSB9IH0sIHsgbXVsdGkgOnRydWUgfSlcblxuXHRcdFx0XHRjb25zb2xlLnRpbWVFbmQgJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbidcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcblxuXHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRjb25zb2xlLmVycm9yIFwiQVVUTyBBVVRPX0ZJTklTSF9QUk9DRVNTX0RFTEVHQVRJT04gRVJST1I6IFwiXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxuXG5cdFx0LCAoKS0+XG5cdFx0XHRjb25zb2xlLmxvZyAnRmFpbGVkIHRvIGJpbmQgZW52aXJvbm1lbnQnXG4iLCJcbi8qXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxuICovXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgdmFyIGdvX25leHQsIHJlZiwgcnVsZSwgc2NoZWR1bGU7XG4gIGlmICgocmVmID0gTWV0ZW9yLnNldHRpbmdzLmNyb24pICE9IG51bGwgPyByZWYuYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uIDogdm9pZCAwKSB7XG4gICAgc2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJyk7XG4gICAgcnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbjtcbiAgICBnb19uZXh0ID0gdHJ1ZTtcbiAgICByZXR1cm4gc2NoZWR1bGUuc2NoZWR1bGVKb2IocnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlLCBub3c7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIWdvX25leHQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ29fbmV4dCA9IGZhbHNlO1xuICAgICAgICBjb25zb2xlLnRpbWUoJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbicpO1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgZGIucHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzLnVwZGF0ZSh7XG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICBlbmRfdGltZToge1xuICAgICAgICAgICAgJGx0ZTogbm93XG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBtdWx0aTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS50aW1lRW5kKCdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQVVUTyBBVVRPX0ZJTklTSF9QUk9DRVNTX0RFTEVHQVRJT04gRVJST1I6IFwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudCcpO1xuICAgIH0pKTtcbiAgfVxufSk7XG4iLCIjIyNcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4jIyNcbk1ldGVvci5zdGFydHVwIC0+XG5cdGlmIE1ldGVvci5zZXR0aW5ncy5jcm9uPy50aW1lb3V0X2F1dG9fc3VibWl0XG5cdFx0c2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJylcblx0XHQjIOWumuaXtuaJp+ihjOWQjOatpVxuXHRcdHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi50aW1lb3V0X2F1dG9fc3VibWl0XG5cdFx0Z29fbmV4dCA9IHRydWVcblx0XHRzY2hlZHVsZS5zY2hlZHVsZUpvYiBydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50ICgpLT5cblx0XHRcdHRyeVxuXHRcdFx0XHRpZiAhZ29fbmV4dFxuXHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRnb19uZXh0ID0gZmFsc2Vcblx0XHRcdFx0Y29uc29sZS50aW1lICd0aW1lb3V0X2F1dG9fc3VibWl0J1xuXG5cdFx0XHRcdHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoKVxuXG5cdFx0XHRcdGNvbnNvbGUudGltZUVuZCAndGltZW91dF9hdXRvX3N1Ym1pdCdcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcblxuXHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRjb25zb2xlLmVycm9yIFwiQVVUTyBUSU1FT1VUX0FVVE9fU1VCTUlUIEVSUk9SOiBcIlxuXHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcblxuXHRcdCwgKCktPlxuXHRcdFx0Y29uc29sZS5sb2cgJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50J1xuXG5NZXRlb3IubWV0aG9kc1xuXHR0aW1lb3V0X2F1dG9fc3VibWl0OiAoaW5zX2lkKS0+XG5cdFx0dXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdChpbnNfaWQpXG5cdFx0cmV0dXJuIHRydWVcblxuXG4iLCJcbi8qXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxuICovXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgdmFyIGdvX25leHQsIHJlZiwgcnVsZSwgc2NoZWR1bGU7XG4gIGlmICgocmVmID0gTWV0ZW9yLnNldHRpbmdzLmNyb24pICE9IG51bGwgPyByZWYudGltZW91dF9hdXRvX3N1Ym1pdCA6IHZvaWQgMCkge1xuICAgIHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpO1xuICAgIHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi50aW1lb3V0X2F1dG9fc3VibWl0O1xuICAgIGdvX25leHQgPSB0cnVlO1xuICAgIHJldHVybiBzY2hlZHVsZS5zY2hlZHVsZUpvYihydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGU7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIWdvX25leHQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ29fbmV4dCA9IGZhbHNlO1xuICAgICAgICBjb25zb2xlLnRpbWUoJ3RpbWVvdXRfYXV0b19zdWJtaXQnKTtcbiAgICAgICAgdXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdCgpO1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ3RpbWVvdXRfYXV0b19zdWJtaXQnKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQVVUTyBUSU1FT1VUX0FVVE9fU1VCTUlUIEVSUk9SOiBcIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGJpbmQgZW52aXJvbm1lbnQnKTtcbiAgICB9KSk7XG4gIH1cbn0pO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHRpbWVvdXRfYXV0b19zdWJtaXQ6IGZ1bmN0aW9uKGluc19pZCkge1xuICAgIHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoaW5zX2lkKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L25leHRTdGVwVXNlcnNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcblx0dmFyXG5cdFx0ZGVhbF90eXBlID0gcmVxLnF1ZXJ5LmRlYWxfdHlwZSxcblx0XHRzcGFjZUlkID0gcmVxLnF1ZXJ5LnNwYWNlSWQsXG5cdFx0ZXJyb3IgPSBcIlwiO1xuXG5cdGlmICghZGVhbF90eXBlIHx8ICFzcGFjZUlkKSB7XG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHZhclxuXHRcdGJvZHkgPSByZXEuYm9keSxcblx0XHRuZXh0U3RlcFVzZXJzID0gW107XG5cblxuXHRzd2l0Y2ggKGRlYWxfdHlwZSkge1xuXHRcdGNhc2UgJ3NwZWNpZnlVc2VyJzpcblx0XHRcdHZhciBzcGVjaWZ5VXNlcklkcyA9IGJvZHkuc3BlY2lmeVVzZXJJZHM7XG5cblx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgc3BlY2lmeVVzZXJJZHMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnYXBwbGljYW50Um9sZSc6XG5cdFx0XHR2YXJcblx0XHRcdFx0YXBwbGljYW50SWQgPSBib2R5LmFwcGxpY2FudElkLFxuXHRcdFx0XHRhcHByb3ZlUm9sZUlkcyA9IGJvZHkuYXBwcm92ZVJvbGVJZHM7XG5cdFx0XHR2YXIgYXBwbGljYW50ID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXIoc3BhY2VJZCwgYXBwbGljYW50SWQpO1xuXG5cdFx0XHRpZiAoYXBwbGljYW50KVxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzKHNwYWNlSWQsIGFwcGxpY2FudC5vcmdhbml6YXRpb25zLCBhcHByb3ZlUm9sZUlkcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdhcHBsaWNhbnRTdXBlcmlvcic6XG5cdFx0XHR2YXIgYXBwbGljYW50SWQgPSBib2R5LmFwcGxpY2FudElkO1xuXHRcdFx0dmFyIGFwcGxpY2FudCA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VyKHNwYWNlSWQsIGFwcGxpY2FudElkKTtcblx0XHRcdGlmIChhcHBsaWNhbnQubWFuYWdlcikge1xuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIGFwcGxpY2FudC5tYW5hZ2VyKTtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ2FwcGxpY2FudCc6XG5cdFx0XHR2YXIgYXBwbGljYW50SWQgPSBib2R5LmFwcGxpY2FudElkO1xuXHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCBhcHBsaWNhbnRJZCk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICd1c2VyRmllbGQnOlxuXHRcdFx0dmFyXG5cdFx0XHRcdHVzZXJGaWVsZCA9IGJvZHkudXNlckZpZWxkLFxuXHRcdFx0XHR1c2VyRmllbGRWYWx1ZSA9IGJvZHkudXNlckZpZWxkVmFsdWU7XG5cdFx0XHRpZiAodXNlckZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5LuldXNlckZpZWxkVmFsdWXlgLzkuLpBcnJheVxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIHVzZXJGaWVsZFZhbHVlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5leHRTdGVwVXNlcnMucHVzaChXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcihzcGFjZUlkLCB1c2VyRmllbGRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnb3JnRmllbGQnOlxuXHRcdFx0dmFyXG5cdFx0XHRcdG9yZ3MsXG5cdFx0XHRcdG9yZ0NoaWxkcmVucyxcblx0XHRcdFx0b3JnRmllbGQgPSBib2R5Lm9yZ0ZpZWxkLFxuXHRcdFx0XHRvcmdGaWVsZFZhbHVlID0gYm9keS5vcmdGaWVsZFZhbHVlO1xuXHRcdFx0aWYgKG9yZ0ZpZWxkVmFsdWUpIHtcblx0XHRcdFx0aWYgKG9yZ0ZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5Lulb3JnRmllbGRWYWx1ZeWAvOS4ukFycmF5XG5cdFx0XHRcdFx0b3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zKG9yZ0ZpZWxkVmFsdWUpO1xuXHRcdFx0XHRcdG9yZ0NoaWxkcmVucyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zQ2hpbGRyZW5zKHNwYWNlSWQsIG9yZ0ZpZWxkVmFsdWUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG9yZ3MgPSBbV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbihvcmdGaWVsZFZhbHVlKV07XG5cdFx0XHRcdFx0b3JnQ2hpbGRyZW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbkNoaWxkcmVucyhzcGFjZUlkLCBvcmdGaWVsZFZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBvcmdDaGlsZHJlbnMpO1xuXG5cdFx0XHRcdG9yZ0ZpZWxkVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc1VzZXJzKHNwYWNlSWQsIG9yZ3MpO1xuXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBuZXh0U3RlcFVzZXJzLmNvbmNhdChvcmdGaWVsZFVzZXJzKTtcblxuXHRcdFx0XHRpZiAoIW5leHRTdGVwVXNlcnMgfHwgbmV4dFN0ZXBVc2Vycy5sZW5ndGggPCAxKSB7XG5cdFx0XHRcdFx0ZXJyb3IgPSBcIk9SR19OT19NRU1CRVJTXCI7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVycm9yID0gXCJGSUVMRF9WQUxVRV9FTVBUWVwiO1xuXHRcdFx0fVxuXG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdzcGVjaWZ5T3JnJzpcblx0XHRcdHZhciBzcGVjaWZ5T3JnSWRzID0gYm9keS5zcGVjaWZ5T3JnSWRzO1xuXHRcdFx0dmFyIHNwZWNpZnlPcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnMoc3BlY2lmeU9yZ0lkcyk7XG5cdFx0XHR2YXIgc3BlY2lmeU9yZ0NoaWxkcmVucyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zQ2hpbGRyZW5zKHNwYWNlSWQsIHNwZWNpZnlPcmdJZHMpO1xuXG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBzcGVjaWZ5T3Jncyk7XG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gbmV4dFN0ZXBVc2Vycy5jb25jYXQoV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBzcGVjaWZ5T3JnQ2hpbGRyZW5zKSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICd1c2VyRmllbGRSb2xlJzpcblx0XHRcdHZhclxuXHRcdFx0XHR1c2VyRmllbGQgPSBib2R5LnVzZXJGaWVsZCxcblx0XHRcdFx0dXNlckZpZWxkVmFsdWUgPSBib2R5LnVzZXJGaWVsZFZhbHVlLFxuXHRcdFx0XHRhcHByb3ZlclJvbGVJZHMgPSBib2R5LmFwcHJvdmVyUm9sZUlkcztcblx0XHRcdGlmICh1c2VyRmllbGRWYWx1ZSkge1xuXHRcdFx0XHRpZiAodXNlckZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5LuldXNlckZpZWxkVmFsdWXlgLzkuLpBcnJheVxuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzKHNwYWNlSWQsIHVzZXJGaWVsZFZhbHVlLCBhcHByb3ZlclJvbGVJZHMpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzKHNwYWNlSWQsIFt1c2VyRmllbGRWYWx1ZV0sIGFwcHJvdmVyUm9sZUlkcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIW5leHRTdGVwVXNlcnMgfHwgbmV4dFN0ZXBVc2Vycy5sZW5ndGggPCAxKSB7XG5cdFx0XHRcdFx0ZXJyb3IgPSBcIlJPTEVfTk9fTUVNQkVSU1wiO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlcnJvciA9IFwiRklFTERfVkFMVUVfRU1QVFlcIjtcblx0XHRcdH1cblxuXG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdvcmdGaWVsZFJvbGUnOlxuXHRcdFx0dmFyXG5cdFx0XHRcdG9yZ0ZpZWxkID0gYm9keS5vcmdGaWVsZCxcblx0XHRcdFx0b3JnRmllbGRWYWx1ZSA9IGJvZHkub3JnRmllbGRWYWx1ZSxcblx0XHRcdFx0YXBwcm92ZXJSb2xlSWRzID0gYm9keS5hcHByb3ZlclJvbGVJZHM7XG5cblx0XHRcdGlmIChvcmdGaWVsZFZhbHVlKSB7XG5cdFx0XHRcdGlmIChvcmdGaWVsZC5pc19tdWx0aXNlbGVjdCkgeyAvL+WmguaenOWkmumAie+8jOS7pW9yZ0ZpZWxkVmFsdWXlgLzkuLpBcnJheVxuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlPcmdzQW5kUm9sZXMoc3BhY2VJZCwgb3JnRmllbGRWYWx1ZSwgYXBwcm92ZXJSb2xlSWRzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzKHNwYWNlSWQsIFtvcmdGaWVsZFZhbHVlXSwgYXBwcm92ZXJSb2xlSWRzKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghbmV4dFN0ZXBVc2VycyB8fCBuZXh0U3RlcFVzZXJzLmxlbmd0aCA8IDEpIHtcblx0XHRcdFx0XHRlcnJvciA9IFwiUk9MRV9OT19NRU1CRVJTXCI7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVycm9yID0gXCJGSUVMRF9WQUxVRV9FTVBUWVwiO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdGJyZWFrO1xuXHR9XG5cblx0dmFyIHJlc3VsdCA9IFtdO1xuXG5cdG5leHRTdGVwVXNlcnMuZm9yRWFjaChmdW5jdGlvbihzdSkge1xuXHRcdHZhciBvID0ge1xuXHRcdFx0aWQ6IHN1LmlkLFxuXHRcdFx0bmFtZTogc3UubmFtZVxuXHRcdH07XG5cdFx0cmVzdWx0LnB1c2gobyk7XG5cdH0pXG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdGNvZGU6IDIwMCxcblx0XHRkYXRhOiB7XG5cdFx0XHQnbmV4dFN0ZXBVc2Vycyc6IFdvcmtmbG93TWFuYWdlci51bmlxVXNlcnMocmVzdWx0KSxcblx0XHRcdCdlcnJvcic6IGVycm9yXG5cdFx0fVxuXHR9KTtcbn0pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXRTcGFjZVVzZXJzXCIsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuICB2YXJcbiAgICB1c2VySWRzID0gcmVxLmJvZHkudXNlcklkcyxcbiAgICBzcGFjZUlkID0gcmVxLnF1ZXJ5LnNwYWNlSWQsXG4gICAgc3BhY2VVc2VycyA9IFtdXG4gIDtcblxuICBpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc3BhY2VVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCB1c2VySWRzKTtcblxuICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgICdzcGFjZVVzZXJzJzogc3BhY2VVc2Vyc1xuICAgIH1cbiAgfSk7XG59KVxuXG5cbiAgXG4gICIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0Rm9ybXVsYVVzZXJPYmplY3RzXCIsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuICB2YXJcbiAgICB1c2VySWRzID0gcmVxLmJvZHkudXNlcklkcyxcbiAgICBzcGFjZUlkID0gcmVxLnF1ZXJ5LnNwYWNlSWQsXG4gICAgc3BhY2VVc2VycyA9IFtdXG4gIDtcblxuICBpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0KHNwYWNlSWQsIHVzZXJJZHMpO1xuXG4gIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgJ3NwYWNlVXNlcnMnOiB1c2Vyc1xuICAgIH1cbiAgfSk7XG59KVxuXG5cbiAgXG4gICIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5pdF9mb3JtdWxhX3ZhbHVlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuXHR2YXJcblx0XHRmaWVsZHMgPSByZXEuYm9keS5maWVsZHMsXG5cdFx0YXV0b0Zvcm1Eb2MgPSByZXEuYm9keS5hdXRvRm9ybURvYyxcblx0XHRhcHByb3ZlciA9IHJlcS5ib2R5LmFwcHJvdmVyLFxuXHRcdGFwcGxpY2FudCA9IHJlcS5ib2R5LmFwcGxpY2FudCxcblxuXHRcdHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcblxuXHRcdHNwYWNlVXNlcnMgPSBbXTtcblxuXHRpZiAoIWZpZWxkcyB8fCAhc3BhY2VJZCB8fCAhYXV0b0Zvcm1Eb2MgfHwgIWFwcHJvdmVyIHx8ICFhcHBsaWNhbnQpIHtcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGZvcm11bGFfdmFsdWVzID0gRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXMoZmllbGRzLCBhdXRvRm9ybURvYywgYXBwcm92ZXIsIGFwcGxpY2FudCwgc3BhY2VJZCk7XG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdGNvZGU6IDIwMCxcblx0XHRkYXRhOiB7XG5cdFx0XHQnZm9ybXVsYV92YWx1ZXMnOiBmb3JtdWxhX3ZhbHVlc1xuXHRcdH1cblx0fSk7XG59KVxuIiwiSnNvblJvdXRlcy5hZGQgXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXROYW1lRm9yVXNlclwiLCAgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHR1c2VySWQgPSByZXEuYm9keS51c2VySWRcblxuXHRcdGlmIG5vdCB1c2VySWQgXG5cdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCBcblx0XHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG5cdFx0XHRcdH1cblxuXHRcdHVzZXIgPSBXb3JrZmxvd01hbmFnZXIuZ2V0TmFtZUZvclVzZXIodXNlcklkKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywgXG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7dXNlcjogdXNlcn1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxuXHRcblx0XHRcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0TmFtZUZvclVzZXJcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGUsIHVzZXIsIHVzZXJJZDtcbiAgdHJ5IHtcbiAgICB1c2VySWQgPSByZXEuYm9keS51c2VySWQ7XG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB1c2VyID0gV29ya2Zsb3dNYW5hZ2VyLmdldE5hbWVGb3JVc2VyKHVzZXJJZCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcjogdXNlclxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL2Rlc2lnbmVyL3N0YXJ0dXAnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGNvbXBhbnlJZCA9IHJlcS5xdWVyeT8uY29tcGFueUlkIHx8ICcnXG5cblx0XHRzcGFjZXNRdWVyeSA9IHsgYWRtaW5zOiBjdXJyZW50X3VzZXIgfVxuXG5cdFx0aWYgY29tcGFueUlkXG5cdFx0XHRvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY29tcGFueUlkLCB7IGZpZWxkczogeyBzcGFjZToxIH0gfSlcblx0XHRcdGlmIG5vdCBvcmdcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY29tcGFueUlkIGlzIGludmFsaWQnKVxuXG5cdFx0XHRzcGFjZXNRdWVyeSA9IHsgX2lkOiBvcmcuc3BhY2UgfVxuXG5cdFx0c3BhY2VzID0gZGIuc3BhY2VzLmZpbmQoc3BhY2VzUXVlcnkpLmZldGNoKClcblxuXHRcdHNwYWNlSWRzID0gXy5wbHVjayBzcGFjZXMsICdfaWQnXG5cblx0XHRxdWVyeSA9IHsgc3BhY2U6IHsgJGluOiBzcGFjZUlkcyB9IH1cblx0XHRpZiBjb21wYW55SWRcblx0XHRcdHF1ZXJ5LmNvbXBhbnlfaWQgPSBjb21wYW55SWRcblxuXHRcdHNwYWNlVXNlcnMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHF1ZXJ5KS5mZXRjaCgpXG5cblx0XHRmb3JtcyA9IGRiLmZvcm1zLmZpbmQocXVlcnksIHsgZmllbGRzOiB7IG5hbWU6MSwgc3RhdGU6MSwgaXNfZGVsZXRlZDoxLCBpc192YWxpZDoxLCBzcGFjZToxLCBkZXNjcmlwdGlvbjoxLCBoZWxwX3RleHQ6MSxcblx0XHRjcmVhdGVkOjEsIGNyZWF0ZWRfYnk6MSwgY3VycmVudDoxLCBjYXRlZ29yeToxLCBpbnN0YW5jZV9zdHlsZToxLCBjb21wYW55X2lkOjEgfSB9KS5mZXRjaCgpXG5cblx0XHRmbG93cyA9IGRiLmZsb3dzLmZpbmQocXVlcnksIHsgZmllbGRzOiB7IG5hbWU6MSwgbmFtZV9mb3JtdWxhOjEsIGNvZGVfZm9ybXVsYToxLCBzcGFjZToxLCBkZXNjcmlwdGlvbjoxLCBpc192YWxpZDoxLCBmb3JtOjEsXG5cdFx0Zmxvd3R5cGU6MSwgc3RhdGU6MSwgaXNfZGVsZXRlZDoxLCBjcmVhdGVkOjEsIGNyZWF0ZWRfYnk6MSwgaGVscF90ZXh0OjEsIGN1cnJlbnRfbm86MSwgY3VycmVudDoxLCBwZXJtczoxLCBlcnJvcl9tZXNzYWdlOjEsIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6MSwgY29tcGFueV9pZDoxIH0gfSkuZmV0Y2goKVxuXG5cdFx0cm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQocXVlcnkpLmZldGNoKClcblxuXHRcdG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQocXVlcnkpLmZldGNoKClcblxuXHRcdHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQocXVlcnkpLmZldGNoKClcblxuXHRcdGNhdGVnb3JpZXMgPSBkYi5jYXRlZ29yaWVzLmZpbmQoeyBzcGFjZTogeyAkaW46IHNwYWNlSWRzIH0gfSkuZmV0Y2goKVxuXG5cdFx0dXNlcklkcyA9IF8ucGx1Y2sgc3BhY2VVc2VycywgJ3VzZXInXG5cdFx0dXNlcnMgPSBkYi51c2Vycy5maW5kKHsgX2lkOiB7ICRpbjogdXNlcklkcyB9IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KS5mZXRjaCgpXG5cblx0XHRyZXN1bHQgPSB7fVxuXHRcdHJlc3VsdC5TcGFjZVVzZXJzID0gc3BhY2VVc2Vyc1xuXHRcdHJlc3VsdC5Vc2VycyA9IHVzZXJzXG5cdFx0cmVzdWx0LkZvcm1zID0gZm9ybXNcblx0XHRyZXN1bHQuRmxvd3MgPSBmbG93c1xuXHRcdHJlc3VsdC5Pcmdhbml6YXRpb25zID0gb3JnYW5pemF0aW9uc1xuXHRcdHJlc3VsdC5Qb3NpdGlvbnMgPSBwb3NpdGlvbnNcblx0XHRyZXN1bHQuUm9sZXMgPSByb2xlc1xuXHRcdHJlc3VsdC5DYXRlZ29yaWVzID0gY2F0ZWdvcmllc1xuXHRcdHJlc3VsdC5TcGFjZXMgPSBzcGFjZXNcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRkYXRhOiByZXN1bHRcblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxuXG4iLCJKc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvZGVzaWduZXIvc3RhcnR1cCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjYXRlZ29yaWVzLCBjb21wYW55SWQsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3dzLCBmb3Jtcywgb3JnLCBvcmdhbml6YXRpb25zLCBwb3NpdGlvbnMsIHF1ZXJ5LCByZWYsIHJlc3VsdCwgcm9sZXMsIHNwYWNlSWRzLCBzcGFjZVVzZXJzLCBzcGFjZXMsIHNwYWNlc1F1ZXJ5LCB1c2VySWRzLCB1c2VycztcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBjb21wYW55SWQgPSAoKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5jb21wYW55SWQgOiB2b2lkIDApIHx8ICcnO1xuICAgIHNwYWNlc1F1ZXJ5ID0ge1xuICAgICAgYWRtaW5zOiBjdXJyZW50X3VzZXJcbiAgICB9O1xuICAgIGlmIChjb21wYW55SWQpIHtcbiAgICAgIG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjb21wYW55SWQsIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIW9yZykge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjb21wYW55SWQgaXMgaW52YWxpZCcpO1xuICAgICAgfVxuICAgICAgc3BhY2VzUXVlcnkgPSB7XG4gICAgICAgIF9pZDogb3JnLnNwYWNlXG4gICAgICB9O1xuICAgIH1cbiAgICBzcGFjZXMgPSBkYi5zcGFjZXMuZmluZChzcGFjZXNRdWVyeSkuZmV0Y2goKTtcbiAgICBzcGFjZUlkcyA9IF8ucGx1Y2soc3BhY2VzLCAnX2lkJyk7XG4gICAgcXVlcnkgPSB7XG4gICAgICBzcGFjZToge1xuICAgICAgICAkaW46IHNwYWNlSWRzXG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoY29tcGFueUlkKSB7XG4gICAgICBxdWVyeS5jb21wYW55X2lkID0gY29tcGFueUlkO1xuICAgIH1cbiAgICBzcGFjZVVzZXJzID0gZGIuc3BhY2VfdXNlcnMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBmb3JtcyA9IGRiLmZvcm1zLmZpbmQocXVlcnksIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxLFxuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfZGVsZXRlZDogMSxcbiAgICAgICAgaXNfdmFsaWQ6IDEsXG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBkZXNjcmlwdGlvbjogMSxcbiAgICAgICAgaGVscF90ZXh0OiAxLFxuICAgICAgICBjcmVhdGVkOiAxLFxuICAgICAgICBjcmVhdGVkX2J5OiAxLFxuICAgICAgICBjdXJyZW50OiAxLFxuICAgICAgICBjYXRlZ29yeTogMSxcbiAgICAgICAgaW5zdGFuY2Vfc3R5bGU6IDEsXG4gICAgICAgIGNvbXBhbnlfaWQ6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIGZsb3dzID0gZGIuZmxvd3MuZmluZChxdWVyeSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIG5hbWVfZm9ybXVsYTogMSxcbiAgICAgICAgY29kZV9mb3JtdWxhOiAxLFxuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgZGVzY3JpcHRpb246IDEsXG4gICAgICAgIGlzX3ZhbGlkOiAxLFxuICAgICAgICBmb3JtOiAxLFxuICAgICAgICBmbG93dHlwZTogMSxcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX2RlbGV0ZWQ6IDEsXG4gICAgICAgIGNyZWF0ZWQ6IDEsXG4gICAgICAgIGNyZWF0ZWRfYnk6IDEsXG4gICAgICAgIGhlbHBfdGV4dDogMSxcbiAgICAgICAgY3VycmVudF9ubzogMSxcbiAgICAgICAgY3VycmVudDogMSxcbiAgICAgICAgcGVybXM6IDEsXG4gICAgICAgIGVycm9yX21lc3NhZ2U6IDEsXG4gICAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICAgIGNvbXBhbnlfaWQ6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgcG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBjYXRlZ29yaWVzID0gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICAgIHNwYWNlOiB7XG4gICAgICAgICRpbjogc3BhY2VJZHNcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHVzZXJJZHMgPSBfLnBsdWNrKHNwYWNlVXNlcnMsICd1c2VyJyk7XG4gICAgdXNlcnMgPSBkYi51c2Vycy5maW5kKHtcbiAgICAgIF9pZDoge1xuICAgICAgICAkaW46IHVzZXJJZHNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogMVxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgcmVzdWx0ID0ge307XG4gICAgcmVzdWx0LlNwYWNlVXNlcnMgPSBzcGFjZVVzZXJzO1xuICAgIHJlc3VsdC5Vc2VycyA9IHVzZXJzO1xuICAgIHJlc3VsdC5Gb3JtcyA9IGZvcm1zO1xuICAgIHJlc3VsdC5GbG93cyA9IGZsb3dzO1xuICAgIHJlc3VsdC5Pcmdhbml6YXRpb25zID0gb3JnYW5pemF0aW9ucztcbiAgICByZXN1bHQuUG9zaXRpb25zID0gcG9zaXRpb25zO1xuICAgIHJlc3VsdC5Sb2xlcyA9IHJvbGVzO1xuICAgIHJlc3VsdC5DYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcbiAgICByZXN1bHQuU3BhY2VzID0gc3BhY2VzO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZW5naW5lJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cblx0XHRfLmVhY2ggaGFzaERhdGFbJ0FwcHJvdmFscyddLCAoYXBwcm92ZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdHV1Zmxvd01hbmFnZXIud29ya2Zsb3dfZW5naW5lKGFwcHJvdmVfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvLCBjdXJyZW50X3VzZXIpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZW5naW5lJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydBcHByb3ZhbHMnXSwgZnVuY3Rpb24oYXBwcm92ZV9mcm9tX2NsaWVudCkge1xuICAgICAgcmV0dXJuIHV1Zmxvd01hbmFnZXIud29ya2Zsb3dfZW5naW5lKGFwcHJvdmVfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvLCBjdXJyZW50X3VzZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9kcmFmdHMnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblxuXHRcdGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheVxuXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0bmV3X2luc19pZCA9IHV1Zmxvd01hbmFnZXIuY3JlYXRlX2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdFx0bmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBuZXdfaW5zX2lkIH0sIHsgZmllbGRzOiB7IHNwYWNlOiAxLCBmbG93OiAxLCBmbG93X3ZlcnNpb246IDEsIGZvcm06IDEsIGZvcm1fdmVyc2lvbjogMSB9IH0pXG5cblx0XHRcdGluc2VydGVkX2luc3RhbmNlcy5wdXNoKG5ld19pbnMpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgaW5zZXJ0czogaW5zZXJ0ZWRfaW5zdGFuY2VzIH1cblx0XHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XG5cdFx0fVxuXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2RyYWZ0cycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YSwgaW5zZXJ0ZWRfaW5zdGFuY2VzO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgaW5zZXJ0ZWRfaW5zdGFuY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgbmV3X2lucywgbmV3X2luc19pZDtcbiAgICAgIG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgbmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBuZXdfaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgIGZsb3c6IDEsXG4gICAgICAgICAgZmxvd192ZXJzaW9uOiAxLFxuICAgICAgICAgIGZvcm06IDEsXG4gICAgICAgICAgZm9ybV92ZXJzaW9uOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluc2VydGVkX2luc3RhbmNlcy5wdXNoKG5ld19pbnMpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZW1vdmUnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblxuXHRcdGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheVxuXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0IyDojrflj5bkuIDkuKppbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZVxuXHRcdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZeS4i+eahOS4gOS4qnVzZXJcblx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mbG93fSlcblxuXHRcdFx0c3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG5cdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdCRpbjogc3BhY2VfdXNlci5vcmdhbml6YXRpb25zXG5cdFx0XHRcdH1cblx0XHRcdH0pLmZldGNoKCk7XG5cblx0XHRcdCMg5Yik5pat5LiA5Liq55So5oi35piv5ZCm5piv5LiA5LiqaW5zdGFuY2XnmoTmj5DkuqTogIXmiJbogIXnlLPor7fkurog5oiWU3BhY2VBZG1pblxuXHRcdFx0aWYgKGluc3RhbmNlLnN1Ym1pdHRlciBpc250IGN1cnJlbnRfdXNlcikgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzIGN1cnJlbnRfdXNlcikgYW5kICFXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmxvdywgc3BhY2VfdXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucylcblx0XHRcdFx0dGhyb3cgbmV3ICBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oKo5LiN6IO95Yig6Zmk5q2k55Sz6K+35Y2V44CCXCIpXG5cblx0XHRcdGRlbGV0ZV9vYmogPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcblx0XHRcdGRlbGV0ZV9vYmouZGVsZXRlZCA9IG5ldyBEYXRlXG5cdFx0XHRkZWxldGVfb2JqLmRlbGV0ZWRfYnkgPSBjdXJyZW50X3VzZXJcblxuXHRcdFx0ZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGRlbGV0ZV9vYmopXG5cblx0XHRcdCMg5Yig6ZmkaW5zdGFuY2Vcblx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXG5cblx0XHRcdGlmIGRlbGV0ZV9vYmouc3RhdGUgaXNudCBcImRyYWZ0XCJcblx0XHRcdFx0I+WPkemAgee7meW+heWkhOeQhuS6uiwgI+WPkemAgee7meiiq+S8oOmYheS6ulxuXHRcdFx0XHRpbmJveF91c2VycyA9IGlmIGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgdGhlbiBkZWxldGVfb2JqLmluYm94X3VzZXJzIGVsc2UgW11cblx0XHRcdFx0Y2NfdXNlcnMgPSBpZiBkZWxldGVfb2JqLmNjX3VzZXJzIHRoZW4gZGVsZXRlX29iai5jY191c2VycyBlbHNlIFtdXG5cdFx0XHRcdHVzZXJfaWRzID0gXy51bmlxKGluYm94X3VzZXJzLmNvbmNhdChjY191c2VycykpXG5cdFx0XHRcdF8uZWFjaCB1c2VyX2lkcywgKHVfaWQpLT5cblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdV9pZClcblxuXHRcdFx0XHQjIOWPkemAgeWIoOmZpOmAmuefpemCruS7tue7memAmui/h+agoemqjOeahOeUs+ivt+S6ui/loavljZXkurrvvIzlr7nnlLPor7fkurov5aGr5Y2V5Lq65ZCE55Sf5oiQ5LiA5p2hc210cCBtZXNzYWdlXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwibW9uaXRvcl9kZWxldGVfYXBwbGljYW50XCIsIGRlbGV0ZV9vYmosIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXN9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuXHRcblx0XHQiLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbW92ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YSwgaW5zZXJ0ZWRfaW5zdGFuY2VzO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgaW5zZXJ0ZWRfaW5zdGFuY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgY2NfdXNlcnMsIGRlbGV0ZV9vYmosIGZsb3csIGluYm94X3VzZXJzLCBpbnN0YW5jZSwgc3BhY2UsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMsIHNwYWNlX2lkLCBzcGFjZV91c2VyLCB1c2VyX2lkcztcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZS5mbG93XG4gICAgICB9KTtcbiAgICAgIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uc1xuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgaWYgKChpbnN0YW5jZS5zdWJtaXR0ZXIgIT09IGN1cnJlbnRfdXNlcikgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmbG93LCBzcGFjZV91c2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaCqOS4jeiDveWIoOmZpOatpOeUs+ivt+WNleOAglwiKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZV9vYmogPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBkZWxldGVfb2JqLmRlbGV0ZWQgPSBuZXcgRGF0ZTtcbiAgICAgIGRlbGV0ZV9vYmouZGVsZXRlZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIGRiLmRlbGV0ZWRfaW5zdGFuY2VzLmluc2VydChkZWxldGVfb2JqKTtcbiAgICAgIGRiLmluc3RhbmNlcy5yZW1vdmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgaWYgKGRlbGV0ZV9vYmouc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgICBpbmJveF91c2VycyA9IGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgPyBkZWxldGVfb2JqLmluYm94X3VzZXJzIDogW107XG4gICAgICAgIGNjX3VzZXJzID0gZGVsZXRlX29iai5jY191c2VycyA/IGRlbGV0ZV9vYmouY2NfdXNlcnMgOiBbXTtcbiAgICAgICAgdXNlcl9pZHMgPSBfLnVuaXEoaW5ib3hfdXNlcnMuY29uY2F0KGNjX3VzZXJzKSk7XG4gICAgICAgIF8uZWFjaCh1c2VyX2lkcywgZnVuY3Rpb24odV9pZCkge1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdV9pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJtb25pdG9yX2RlbGV0ZV9hcHBsaWNhbnRcIiwgZGVsZXRlX29iaiwgXCJcIiwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9zdWJtaXQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblx0XHRyZXN1bHQgPSBbXVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pXG5cdFx0XHRpZiByLmFsZXJ0c1xuXHRcdFx0XHRyZXN1bHQucHVzaChyKVxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eShpbnN0YW5jZV9mcm9tX2NsaWVudFsnaW5ib3hfdXNlcnMnXSlcblx0XHRcdFx0IyDlpoLmnpzmmK/ovazlj5HlsLHpnIDopoHnu5nlvZPliY3nlKjmiLflj5HpgIFwdXNoIOmHjeaWsOiuoeeul2JhZGdlXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpO1xuXG5cdFx0XHRpZiBfLmlzRW1wdHkoci5hbGVydHMpXG5cdFx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnQuX2lkKVxuXHRcdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvd1xuXHRcdFx0XHRjdXJyZW50X2FwcHJvdmUgPSBpbnN0YW5jZV9mcm9tX2NsaWVudC50cmFjZXNbMF0uYXBwcm92ZXNbMF1cblx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBjdXJyZW50X2FwcHJvdmUsICdkcmFmdF9zdWJtaXQnLCBjdXJyZW50X3VzZXIsIGluc3RhbmNlLmluYm94X3VzZXJzKVxuXG5cdFx0XHQjIOWIpOaWreeUs+ivt+WNleaYr+WQpuWIhuWPke+8jOWIhuWPkeaWh+S7tue7k+adn+aPkOmGkuWPkei1t+S6ulxuXHRcdFx0dXVmbG93TWFuYWdlci5kaXN0cmlidXRlZEluc3RhbmNlc1JlbWluZChpbnN0YW5jZV9mcm9tX2NsaWVudClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRkYXRhOiB7IHJlc3VsdDogcmVzdWx0IH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9zdWJtaXQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGEsIHJlc3VsdDtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIHJlc3VsdCA9IFtdO1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgY3VycmVudF9hcHByb3ZlLCBmbG93X2lkLCBpbnN0YW5jZSwgcjtcbiAgICAgIHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgaWYgKHIuYWxlcnRzKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHIpO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzRW1wdHkoaW5zdGFuY2VfZnJvbV9jbGllbnRbJ2luYm94X3VzZXJzJ10pKSB7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpO1xuICAgICAgfVxuICAgICAgaWYgKF8uaXNFbXB0eShyLmFsZXJ0cykpIHtcbiAgICAgICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudC5faWQpO1xuICAgICAgICBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcbiAgICAgICAgY3VycmVudF9hcHByb3ZlID0gaW5zdGFuY2VfZnJvbV9jbGllbnQudHJhY2VzWzBdLmFwcHJvdmVzWzBdO1xuICAgICAgICBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgY3VycmVudF9hcHByb3ZlLCAnZHJhZnRfc3VibWl0JywgY3VycmVudF91c2VyLCBpbnN0YW5jZS5pbmJveF91c2Vycyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXVmbG93TWFuYWdlci5kaXN0cmlidXRlZEluc3RhbmNlc1JlbWluZChpbnN0YW5jZV9mcm9tX2NsaWVudCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcmVzdWx0OiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvdGVybWluYXRlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0dGVybWluYXRlX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1widGVybWluYXRlX3JlYXNvblwiXVxuXHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXVxuXHRcdFx0IyDojrflj5bkuIDkuKppbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0Zmxvd19pZCA9IGluc3RhbmNlLmZsb3dcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2Vcblx0XHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHRcdCMg6I635Y+W5LiA5LiqZmxvd1xuXHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93X2lkKVxuXHRcdFx0IyDliKTmlq3kuIDkuKppbnN0YW5jZeaYr+WQpuS4uuWuoeaguOS4reeKtuaAgVxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSlcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2XkuIvnmoTkuIDkuKp1c2VyXG5cdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdCMg6I635Y+Wc3BhY2VfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xuXHRcdFx0c3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKVxuXHRcdFx0IyDojrflj5bnu5PmnZ/oioLngrlcblx0XHRcdGluc3RhbmNlX2Zsb3dfdmVyID0gbnVsbFxuXHRcdFx0Zmxvd192ZXJfZW5kX3N0ZXAgPSBudWxsXG5cdFx0XHRmbG93X3ZlcnMgPSBuZXcgQXJyYXlcblx0XHRcdGZsb3dfdmVycy5wdXNoKGZsb3cuY3VycmVudClcblx0XHRcdGZsb3dfdmVycyA9IGZsb3dfdmVycy5jb25jYXQoZmxvdy5oaXN0b3J5cylcblx0XHRcdGluc3RhbmNlX2Zsb3dfdmVyID0gXy5maW5kKGZsb3dfdmVycywgKGZfdmVyKS0+XG5cdFx0XHRcdHJldHVybiBmX3Zlci5faWQgaXMgaW5zdGFuY2UuZmxvd192ZXJzaW9uXG5cdFx0XHQpXG5cdFx0XHRpZiBub3QgaW5zdGFuY2VfZmxvd192ZXJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDnlLPor7fljZXlr7nlupTmtYHnqIvniYjmnKxcIilcblx0XHRcdGZsb3dfdmVyX2VuZF9zdGVwID0gXy5maW5kKGluc3RhbmNlX2Zsb3dfdmVyLnN0ZXBzLCAoZl9zdGVwKS0+XG5cdFx0XHRcdHJldHVybiBmX3N0ZXAuc3RlcF90eXBlIGlzIFwiZW5kXCJcblx0XHRcdClcblx0XHRcdCMg6LCD55SoZ2V0Rmxvd1Blcm1pc3Npb25z5pa55rOV77yM55yL6L+U5Zue55qE57uT5p6c5Lit5piv5ZCm5pyJYWRtaW5cblx0XHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0XHQjIHNwYWNl55qEYWRtaW4sIOWhq+WNleS6uiDnlLPor7fkurog5pyJ5p2D6ZmQIOWPlua2iOeUs+ivt1xuXHRcdFx0aWYgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSBvciBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSBvciBpbnN0YW5jZS5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyIG9yIGluc3RhbmNlLmFwcGxpY2FudCBpcyBjdXJyZW50X3VzZXJcblx0XHRcdFx0aWYgbm90IHRlcm1pbmF0ZV9yZWFzb25cblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLFwi6L+Y5pyq5aGr5YaZ5by65Yi257uT5p2f55Sz6K+35Y2V55qE55CG55Sx77yM5pON5L2c5aSx6LSlXCIpXG5cblx0XHRcdFx0aW5zdGFuY2VfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpLT5cblx0XHRcdFx0XHRyZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHRcdFx0KVxuXG5cdFx0XHRcdHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlc1xuXHRcdFx0XHRpID0gMFxuXHRcdFx0XHR3aGlsZSBpIDwgdHJhY2VzLmxlbmd0aFxuXHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5pc19maW5pc2hlZCBpcyBmYWxzZVxuXHRcdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZeiusOW9lVxuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRoID0gMFxuXHRcdFx0XHRcdFx0d2hpbGUgaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGhcblx0XHRcdFx0XHRcdFx0aWYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZS5hcHByb3Zl6K6w5b2VXG5cdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IG51bGxcblx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZGVzY3JpcHRpb24gPSBudWxsXG5cdFx0XHRcdFx0XHRcdGgrK1xuXHRcdFx0XHRcdFx0IyDmj5LlhaXlvZPliY1UcmFjZSB0cmFjZS5hcHByb3Zl6K6w5b2V77ya5b2TdHJhY2UudHlwZeS4uuWPluWbnuOAgeW8uuWItue7k+adn+aXtu+8jGlzX3JlYWQ9dHJ1ZeS4lHJlYWRfZGF0ZeS4uuW9k+WJjeaXtumXtOOAglxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gaW5zdGFuY2VfdHJhY2UuX2lkXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmR1ZV9kYXRlID0gaW5zdGFuY2VfdHJhY2UuZHVlX2RhdGVcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUucmVhZF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfcmVhZCA9IHRydWVcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuZGVzY3JpcHRpb24gPSB0ZXJtaW5hdGVfcmVhc29uXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5jb3N0X3RpbWUgPSBuZXdBcHByb3ZlLmZpbmlzaF9kYXRlIC0gbmV3QXBwcm92ZS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxuXHRcdFx0XHRcdGkrK1xuXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbaW5zdGFuY2VfdHJhY2UuX2lkXVxuXHRcdFx0XHQjIHR5cGUtLS3lgZznlKhcblx0XHRcdFx0IyBuZXdUcmFjZS50eXBlID0gXCJ0ZXJtaW5hdGVkXCJcblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSBmbG93X3Zlcl9lbmRfc3RlcC5faWRcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWVcblx0XHRcdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdUcmFjZS5qdWRnZSA9IFwidGVybWluYXRlZFwiXG5cblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0XHRzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIlxuXHRcdFx0XHRvbGRfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2Vyc1xuXHRcdFx0XHRvbGRfY2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0XHRvbGRfb3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzXG5cdFx0XHRcdHRlbXBVc2VycyA9IG5ldyBBcnJheVxuXHRcdFx0XHRfLmVhY2goaW5zdGFuY2VfdHJhY2UuYXBwcm92ZXMsIChuZnRfYXBwcm92ZSktPlxuXHRcdFx0XHRcdHRlbXBVc2Vycy5wdXNoKG5mdF9hcHByb3ZlLnVzZXIpXG5cdFx0XHRcdFx0dGVtcFVzZXJzLnB1c2gobmZ0X2FwcHJvdmUuaGFuZGxlcilcblx0XHRcdFx0KVxuXHRcdFx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQodGVtcFVzZXJzKSlcblx0XHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gbmV3IEFycmF5XG5cdFx0XHRcdHNldE9iai5jY191c2VycyA9IG5ldyBBcnJheVxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXG5cdFx0XHRcdHRyYWNlcy5wdXNoKG5ld1RyYWNlKVxuXHRcdFx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzXG5cblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gZmxvd192ZXJfZW5kX3N0ZXAubmFtZVxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2VcblxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxuXHRcdFx0XHRpZiByXG5cdFx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdFx0XHQj6YCa55+l5aGr5Y2V5Lq644CB55Sz6K+35Lq6XG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJzdWJtaXRfdGVybWluYXRlX2FwcGxpY2FudFwiLCBpbnMsIHRlcm1pbmF0ZV9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKVxuXG5cdFx0XHRcdFx0I+WPkemAgee7meW+heWkhOeQhuS6uiDooqvkvKDpmIXkurpcblx0XHRcdFx0XHRpZiBvbGRfaW5ib3hfdXNlcnNcblx0XHRcdFx0XHRcdF8uZWFjaChfLnVuaXEob2xkX2luYm94X3VzZXJzLmNvbmNhdChvbGRfY2NfdXNlcnMpKSwgKHVzZXJfaWQpLT5cblx0XHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwidGVybWluYXRlX2FwcHJvdmFsXCIsIHVzZXJfaWQpXG5cdFx0XHRcdFx0XHQpXG5cblx0XHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3Rlcm1pbmF0ZScsIGN1cnJlbnRfdXNlciwgW10pXG5cblx0XHQj5Y+R6YCB5raI5oGv57uZ5b2T5YmN55So5oi3XG5cdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0ZGF0YToge31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy90ZXJtaW5hdGUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGZsb3csIGZsb3dfaWQsIGZsb3dfdmVyX2VuZF9zdGVwLCBmbG93X3ZlcnMsIGgsIGksIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2Zsb3dfdmVyLCBpbnN0YW5jZV9pZCwgaW5zdGFuY2VfdHJhY2UsIG5ld0FwcHJvdmUsIG5ld1RyYWNlLCBub3csIG9sZF9jY191c2Vycywgb2xkX2luYm94X3VzZXJzLCBvbGRfb3V0Ym94X3VzZXJzLCBwZXJtaXNzaW9ucywgciwgc2V0T2JqLCBzcGFjZSwgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHNwYWNlX3VzZXJfb3JnX2luZm8sIHRlbXBVc2VycywgdGVybWluYXRlX3JlYXNvbiwgdHJhY2VzO1xuICAgICAgdGVybWluYXRlX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1widGVybWluYXRlX3JlYXNvblwiXTtcbiAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl07XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuICAgICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZCk7XG4gICAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKTtcbiAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcik7XG4gICAgICBpbnN0YW5jZV9mbG93X3ZlciA9IG51bGw7XG4gICAgICBmbG93X3Zlcl9lbmRfc3RlcCA9IG51bGw7XG4gICAgICBmbG93X3ZlcnMgPSBuZXcgQXJyYXk7XG4gICAgICBmbG93X3ZlcnMucHVzaChmbG93LmN1cnJlbnQpO1xuICAgICAgZmxvd192ZXJzID0gZmxvd192ZXJzLmNvbmNhdChmbG93Lmhpc3RvcnlzKTtcbiAgICAgIGluc3RhbmNlX2Zsb3dfdmVyID0gXy5maW5kKGZsb3dfdmVycywgZnVuY3Rpb24oZl92ZXIpIHtcbiAgICAgICAgcmV0dXJuIGZfdmVyLl9pZCA9PT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICAgICAgfSk7XG4gICAgICBpZiAoIWluc3RhbmNlX2Zsb3dfdmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2V5a+55bqU5rWB56iL54mI5pysXCIpO1xuICAgICAgfVxuICAgICAgZmxvd192ZXJfZW5kX3N0ZXAgPSBfLmZpbmQoaW5zdGFuY2VfZmxvd192ZXIuc3RlcHMsIGZ1bmN0aW9uKGZfc3RlcCkge1xuICAgICAgICByZXR1cm4gZl9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJlbmRcIjtcbiAgICAgIH0pO1xuICAgICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd19pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIGlmIChwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpIHx8IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpIHx8IGluc3RhbmNlLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyIHx8IGluc3RhbmNlLmFwcGxpY2FudCA9PT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgIGlmICghdGVybWluYXRlX3JlYXNvbikge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6L+Y5pyq5aGr5YaZ5by65Yi257uT5p2f55Sz6K+35Y2V55qE55CG55Sx77yM5pON5L2c5aSx6LSlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgICByZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgPT09IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0cmFjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRyYWNlc1tpXS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICB0cmFjZXNbaV0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBoID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChoIDwgdHJhY2VzW2ldLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpZiAodHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmRlc2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudHJhY2UgPSBpbnN0YW5jZV90cmFjZS5faWQ7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5kdWVfZGF0ZSA9IGluc3RhbmNlX3RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5kZXNjcmlwdGlvbiA9IHRlcm1pbmF0ZV9yZWFzb247XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmNvc3RfdGltZSA9IG5ld0FwcHJvdmUuZmluaXNoX2RhdGUgLSBuZXdBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2luc3RhbmNlX3RyYWNlLl9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IGZsb3dfdmVyX2VuZF9zdGVwLl9pZDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWU7XG4gICAgICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICAgICAgICBzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgb2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICAgIG9sZF9jY191c2VycyA9IGluc3RhbmNlLmNjX3VzZXJzO1xuICAgICAgICBvbGRfb3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzO1xuICAgICAgICB0ZW1wVXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIF8uZWFjaChpbnN0YW5jZV90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24obmZ0X2FwcHJvdmUpIHtcbiAgICAgICAgICB0ZW1wVXNlcnMucHVzaChuZnRfYXBwcm92ZS51c2VyKTtcbiAgICAgICAgICByZXR1cm4gdGVtcFVzZXJzLnB1c2gobmZ0X2FwcHJvdmUuaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQodGVtcFVzZXJzKSk7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgc2V0T2JqLmNjX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgdHJhY2VzLnB1c2gobmV3VHJhY2UpO1xuICAgICAgICBzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBmbG93X3Zlcl9lbmRfc3RlcC5uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2U7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJzdWJtaXRfdGVybWluYXRlX2FwcGxpY2FudFwiLCBpbnMsIHRlcm1pbmF0ZV9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgICBpZiAob2xkX2luYm94X3VzZXJzKSB7XG4gICAgICAgICAgICBfLmVhY2goXy51bmlxKG9sZF9pbmJveF91c2Vycy5jb25jYXQob2xkX2NjX3VzZXJzKSksIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1c2VyX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICd0ZXJtaW5hdGUnLCBjdXJyZW50X3VzZXIsIFtdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWFzc2lnbicsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ19pZCddXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdFx0XHQjIOmqjOivgWluc3RhbmNl5Li65a6h5qC45Lit54q25oCBXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKVxuXHRcdFx0IyDpqozor4HlvZPliY3miafooYzovaznrb7moLjnmoR0cmFjZeacque7k+adn1xuXHRcdFx0bGFzdF90cmFjZV9mcm9tX2NsaWVudCA9IF8ubGFzdChpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSlcblx0XHRcdGxhc3RfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAodCkgLT5cblx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIGxhc3RfdHJhY2VfZnJvbV9jbGllbnRbXCJfaWRcIl1cblx0XHRcdClcblx0XHRcdGlmIGxhc3RfdHJhY2UuaXNfZmluaXNoZWQgaXMgdHJ1ZVxuXHRcdFx0XHRyZXR1cm5cblxuXHRcdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHsgX2lkOiBzcGFjZV9pZCB9LCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxuXHRcdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSlcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIilcblxuXHRcdFx0aW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2Vyc1xuXHRcdFx0aW5ib3hfdXNlcnNfZnJvbV9jbGllbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdXG5cdFx0XHRyZWFzc2lnbl9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlYXNzaWduX3JlYXNvblwiXVxuXHRcdFx0bm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCBpbmJveF91c2Vyc19mcm9tX2NsaWVudClcblx0XHRcdG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2Vyc19mcm9tX2NsaWVudCwgaW5ib3hfdXNlcnMpXG5cdFx0XHQjIOiLpWFzc2lnbmVlPeWOn2luYm94X3VzZXJz77yM6K+05piO5LiN6ZyA6KaB5omn6KGM6L2s562+5qC477yM57O757uf5LuA5LmI6YO95LiN5YGaXG5cdFx0XHRyZXR1cm4gaWYgbm90X2luX2luYm94X3VzZXJzLmxlbmd0aCBpcyAwIGFuZCBuZXdfaW5ib3hfdXNlcnMubGVuZ3RoIGlzIDBcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRpID0gMFxuXHRcdFx0YXBwcm92ZV91c2Vyc19oYW5kbGVycyA9IFtdXG5cdFx0XHR3aGlsZSBpIDwgbGFzdF90cmFjZS5hcHByb3Zlcy5sZW5ndGhcblx0XHRcdFx0aWYgbm90X2luX2luYm94X3VzZXJzLmluY2x1ZGVzKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcilcblx0XHRcdFx0XHRpZiBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkIGlzIGZhbHNlIGFuZCBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgaXNudCBcImNjXCIgYW5kIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSBpc250IFwiZGlzdHJpYnV0ZVwiXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5qdWRnZSA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmRlc2NyaXB0aW9uID0gXCJcIlxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5jb3N0X3RpbWUgPSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlIC0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHRhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS51c2VyKVxuXHRcdFx0XHRcdFx0YXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcilcblx0XHRcdFx0aSsrXG5cdFx0XHQjIOWcqOWQjOS4gHRyYWNl5LiL5o+S5YWl6L2s562+5qC45pON5L2c6ICF55qEYXBwcm92ZeiusOW9lVxuXHRcdFx0Y3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24gfSwgeyBmaWVsZHM6IHsgbmFtZTogMSwgZnVsbG5hbWU6IDEgfSB9KVxuXHRcdFx0YXNzaWduZWVfYXBwciA9IG5ldyBPYmplY3Rcblx0XHRcdGFzc2lnbmVlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0YXNzaWduZWVfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2Vcblx0XHRcdGFzc2lnbmVlX2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZFxuXHRcdFx0YXNzaWduZWVfYXBwci5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdGFzc2lnbmVlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0YXNzaWduZWVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZVxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWVcblx0XHRcdGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0YXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0YXNzaWduZWVfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGVcblx0XHRcdGFzc2lnbmVlX2FwcHIucmVhZF9kYXRlID0gbm93XG5cdFx0XHRhc3NpZ25lZV9hcHByLmp1ZGdlID0gXCJyZWFzc2lnbmVkXCJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaXNfcmVhZCA9IHRydWVcblx0XHRcdGFzc2lnbmVlX2FwcHIuZGVzY3JpcHRpb24gPSByZWFzc2lnbl9yZWFzb25cblx0XHRcdGFzc2lnbmVlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0YXNzaWduZWVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHRhc3NpZ25lZV9hcHByLmNvc3RfdGltZSA9IGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgLSBhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGVcblx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChhc3NpZ25lZV9hcHByKVxuXHRcdFx0IyDlr7nmlrDlop7nmoTmr4/kvY3lvoXlrqHmoLjkurrvvIzlkITlop7liqDkuIDmnaHmlrDnmoRhcHByb3ZlXG5cdFx0XHRfLmVhY2gobmV3X2luYm94X3VzZXJzLCAodXNlcl9pZCkgLT5cblx0XHRcdFx0bmV3X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHVzZXJfaWQsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIHVzZXJfaWQpXG5cdFx0XHRcdHVzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHNwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7IGZpZWxkczogeyBuYW1lOiAxLCBmdWxsbmFtZTogMSB9IH0pXG5cdFx0XHRcdG5ld19hcHByID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld19hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZVxuXHRcdFx0XHRuZXdfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkXG5cdFx0XHRcdG5ld19hcHByLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdFx0bmV3X2FwcHIudXNlciA9IHVzZXJfaWRcblx0XHRcdFx0bmV3X2FwcHIudXNlcl9uYW1lID0gbmV3X3VzZXIubmFtZVxuXG5cdFx0XHRcdGhhbmRsZXJfaWQgPSB1c2VyX2lkXG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IG5ld191c2VyXG5cdFx0XHRcdGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgdXNlcl9pZClcblx0XHRcdFx0aWYgYWdlbnRcblx0XHRcdFx0XHRpbmJveF91c2Vyc19mcm9tX2NsaWVudFtpbmJveF91c2Vyc19mcm9tX2NsaWVudC5pbmRleE9mKHVzZXJfaWQpXSA9IGFnZW50XG5cdFx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50XG5cdFx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYWdlbnQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdFx0bmV3X2FwcHIuYWdlbnQgPSBhZ2VudFxuXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXIgPSBoYW5kbGVyX2lkXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlci5vcmdhbml6YXRpb25cblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLm5hbWVcblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxuXHRcdFx0XHRuZXdfYXBwci5mcm9tX3VzZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0bmV3X2FwcHIuZnJvbV91c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdG5ld19hcHByLnR5cGUgPSBcInJlYXNzaWduXCJcblx0XHRcdFx0bmV3X2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGVcblx0XHRcdFx0bmV3X2FwcHIuaXNfcmVhZCA9IGZhbHNlXG5cdFx0XHRcdG5ld19hcHByLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0bmV3X2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdfYXBwcilcblx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKG5ld19hcHByKVxuXHRcdFx0KVxuXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMpXG5cdFx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycylcblx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IGluYm94X3VzZXJzX2Zyb21fY2xpZW50XG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBsYXN0X3RyYWNlLmFwcHJvdmVzXG5cdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7IF9pZDogaW5zdGFuY2VfaWQsIFwidHJhY2VzLl9pZFwiOiBsYXN0X3RyYWNlLl9pZCB9LCB7ICRzZXQ6IHNldE9iaiB9KVxuXHRcdFx0aWYgclxuXHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0XHQjIOe7meiiq+WIoOmZpOeahGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxuXHRcdFx0XHRfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCAodXNlcl9pZCkgLT5cblx0XHRcdFx0XHRpZiB1c2VyX2lkIGlzbnQgY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRcdFx0KVxuXHRcdFx0XHQjIOaPkOWPlmluc3RhbmNlcy5vdXRib3hfdXNlcnPmlbDnu4TlkozloavljZXkurrjgIHnlLPor7fkurpcblx0XHRcdFx0X3VzZXJzID0gbmV3IEFycmF5XG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5hcHBsaWNhbnQpXG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpXG5cdFx0XHRcdF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKVxuXHRcdFx0XHRfLmVhY2goX3VzZXJzLCAodXNlcl9pZCkgLT5cblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRcdFx0KVxuXG5cdFx0XHRcdCMg57uZ5paw5Yqg5YWl55qEaW5ib3hfdXNlcnPlj5HpgIFwdXNoIG1lc3NhZ2Vcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWFzc2lnbl9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKVxuXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlYXNzaWduJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHt9XG5cdFx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxuXHRcdH1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVhc3NpZ24nLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIF91c2VycywgYXBwcm92ZV91c2Vyc19oYW5kbGVycywgYXNzaWduZWVfYXBwciwgY3VycmVudF9zcGFjZV91c2VyLCBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLCBpLCBpbmJveF91c2VycywgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQsIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsYXN0X3RyYWNlLCBsYXN0X3RyYWNlX2Zyb21fY2xpZW50LCBuZXdfaW5ib3hfdXNlcnMsIG5vdF9pbl9pbmJveF91c2Vycywgbm93LCBwZXJtaXNzaW9ucywgciwgcmVhc3NpZ25fcmVhc29uLCBzZXRPYmosIHNwYWNlLCBzcGFjZV9pZDtcbiAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ19pZCddO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKTtcbiAgICAgIGxhc3RfdHJhY2VfZnJvbV9jbGllbnQgPSBfLmxhc3QoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0pO1xuICAgICAgbGFzdF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID09PSBsYXN0X3RyYWNlX2Zyb21fY2xpZW50W1wiX2lkXCJdO1xuICAgICAgfSk7XG4gICAgICBpZiAobGFzdF90cmFjZS5pc19maW5pc2hlZCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpO1xuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogc3BhY2VfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgYWRtaW5zOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIik7XG4gICAgICB9XG4gICAgICBpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdO1xuICAgICAgcmVhc3NpZ25fcmVhc29uID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWFzc2lnbl9yZWFzb25cIl07XG4gICAgICBub3RfaW5faW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzX2Zyb21fY2xpZW50KTtcbiAgICAgIG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2Vyc19mcm9tX2NsaWVudCwgaW5ib3hfdXNlcnMpO1xuICAgICAgaWYgKG5vdF9pbl9pbmJveF91c2Vycy5sZW5ndGggPT09IDAgJiYgbmV3X2luYm94X3VzZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpID0gMDtcbiAgICAgIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMgPSBbXTtcbiAgICAgIHdoaWxlIChpIDwgbGFzdF90cmFjZS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKG5vdF9pbl9pbmJveF91c2Vycy5pbmNsdWRlcyhsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpKSB7XG4gICAgICAgICAgaWYgKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSAhPT0gXCJjY1wiICYmIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSAhPT0gXCJkaXN0cmlidXRlXCIpIHtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZGVzY3JpcHRpb24gPSBcIlwiO1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5jb3N0X3RpbWUgPSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlIC0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgYXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udXNlcik7XG4gICAgICAgICAgICBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5oYW5kbGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgICAgY3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhc3NpZ25lZV9hcHByID0gbmV3IE9iamVjdDtcbiAgICAgIGFzc2lnbmVlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlO1xuICAgICAgYXNzaWduZWVfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkO1xuICAgICAgYXNzaWduZWVfYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICBhc3NpZ25lZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICBhc3NpZ25lZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgYXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgIGFzc2lnbmVlX2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlO1xuICAgICAgYXNzaWduZWVfYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICBhc3NpZ25lZV9hcHByLmp1ZGdlID0gXCJyZWFzc2lnbmVkXCI7XG4gICAgICBhc3NpZ25lZV9hcHByLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgYXNzaWduZWVfYXBwci5kZXNjcmlwdGlvbiA9IHJlYXNzaWduX3JlYXNvbjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgIGFzc2lnbmVlX2FwcHIuY29zdF90aW1lID0gYXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSAtIGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZTtcbiAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChhc3NpZ25lZV9hcHByKTtcbiAgICAgIF8uZWFjaChuZXdfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgdmFyIGFnZW50LCBoYW5kbGVyX2lkLCBoYW5kbGVyX2luZm8sIG5ld19hcHByLCBuZXdfdXNlciwgc3BhY2VfdXNlciwgdXNlcl9vcmdhbml6YXRpb247XG4gICAgICAgIG5ld191c2VyID0gZGIudXNlcnMuZmluZE9uZSh1c2VyX2lkLCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCB1c2VyX2lkKTtcbiAgICAgICAgdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld19hcHByID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3X2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3X2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlO1xuICAgICAgICBuZXdfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkO1xuICAgICAgICBuZXdfYXBwci5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBuZXdfYXBwci51c2VyID0gdXNlcl9pZDtcbiAgICAgICAgbmV3X2FwcHIudXNlcl9uYW1lID0gbmV3X3VzZXIubmFtZTtcbiAgICAgICAgaGFuZGxlcl9pZCA9IHVzZXJfaWQ7XG4gICAgICAgIGhhbmRsZXJfaW5mbyA9IG5ld191c2VyO1xuICAgICAgICBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJfaWQpO1xuICAgICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgICBpbmJveF91c2Vyc19mcm9tX2NsaWVudFtpbmJveF91c2Vyc19mcm9tX2NsaWVudC5pbmRleE9mKHVzZXJfaWQpXSA9IGFnZW50O1xuICAgICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICAgIF9pZDogYWdlbnRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5ld19hcHByLmFnZW50ID0gYWdlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlciA9IGhhbmRsZXJfaWQ7XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgICAgbmV3X2FwcHIuZnJvbV91c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICBuZXdfYXBwci5mcm9tX3VzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgIG5ld19hcHByLnR5cGUgPSBcInJlYXNzaWduXCI7XG4gICAgICAgIG5ld19hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld19hcHByLmR1ZV9kYXRlID0gbGFzdF90cmFjZS5kdWVfZGF0ZTtcbiAgICAgICAgbmV3X2FwcHIuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgICBuZXdfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICBuZXdfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdfYXBwcik7XG4gICAgICAgIHJldHVybiBsYXN0X3RyYWNlLmFwcHJvdmVzLnB1c2gobmV3X2FwcHIpO1xuICAgICAgfSk7XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChhcHByb3ZlX3VzZXJzX2hhbmRsZXJzKTtcbiAgICAgIHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKTtcbiAgICAgIHNldE9iai5pbmJveF91c2VycyA9IGluYm94X3VzZXJzX2Zyb21fY2xpZW50O1xuICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBsYXN0X3RyYWNlLmFwcHJvdmVzO1xuICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgICBcInRyYWNlcy5faWRcIjogbGFzdF90cmFjZS5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICB9KTtcbiAgICAgIGlmIChyKSB7XG4gICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgXy5lYWNoKG5vdF9pbl9pbmJveF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgIGlmICh1c2VyX2lkICE9PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLnN1Ym1pdHRlcik7XG4gICAgICAgIF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKTtcbiAgICAgICAgXy5lYWNoKF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJlYXNzaWduX25ld19pbmJveF91c2Vyc1wiLCBpbnMsIHJlYXNzaWduX3JlYXNvbiwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWFzc2lnbicsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVsb2NhdGUnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXG5cblx0XHRcdGxhc3RfdHJhY2UgPSBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKVxuXG5cdFx0XHQjIOmqjOivgWxvZ2luIHVzZXJfaWTlr7nor6XmtYHnqIvmnInnrqHnkIbnlLPor7fljZXnmoTmnYPpmZBcblx0XHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcilcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXG5cdFx0XHRpZiAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKVxuXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdFx0XHRpbnN0YW5jZV9pZCA9IGxhc3RfdHJhY2UuaW5zdGFuY2Vcblx0XHRcdGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcblx0XHRcdHJlbG9jYXRlX2luYm94X3VzZXJzID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9pbmJveF91c2Vyc1wiXVxuXHRcdFx0cmVsb2NhdGVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfY29tbWVudFwiXVxuXHRcdFx0cmVsb2NhdGVfbmV4dF9zdGVwID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9uZXh0X3N0ZXBcIl1cblx0XHRcdG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgcmVsb2NhdGVfaW5ib3hfdXNlcnMpXG5cdFx0XHRuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UocmVsb2NhdGVfaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzKVxuXG5cdFx0XHRhcHByb3ZlX3VzZXJzID0gW11cblxuXHRcdFx0IyDojrflj5bkuIDkuKpmbG93XG5cdFx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXG5cdFx0XHRuZXh0X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHJlbG9jYXRlX25leHRfc3RlcClcblx0XHRcdG5leHRfc3RlcF90eXBlID0gbmV4dF9zdGVwLnN0ZXBfdHlwZVxuXHRcdFx0bmV4dF9zdGVwX25hbWUgPSBuZXh0X3N0ZXAubmFtZVxuXHRcdFx0Y3VycmVudF9zZXRwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBsYXN0X3RyYWNlLnN0ZXApXG5cdFx0XHRjdXJyZW50X3NldHBfdHlwZSA9IGN1cnJlbnRfc2V0cC5zdGVwX3R5cGVcblxuXHRcdFx0dHJhY2VzID0gaW5zdGFuY2UudHJhY2VzXG5cdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0XHQjIOmHjeWumuS9jeeahOaXtuWAmeS9v+eUqGFwcHJvdmUudmFsdWVz5ZCI5bm2IGluc3RhbmNlLnZhbHVlc+eUn+aIkOaWsOeahGluc3RhbmNlLnZhbHVlcyAjMTMyOFxuXHRcdFx0c2V0T2JqLnZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcblx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRpID0gMFxuXHRcdFx0d2hpbGUgaSA8IHRyYWNlcy5sZW5ndGhcblx0XHRcdFx0aWYgdHJhY2VzW2ldLl9pZCBpcyBsYXN0X3RyYWNlLl9pZFxuXHRcdFx0XHRcdGlmIG5vdCB0cmFjZXNbaV0uYXBwcm92ZXNcblx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3ZlcyA9IG5ldyBBcnJheVxuXHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2UuYXBwcm92ZeiusOW9lVxuXHRcdFx0XHRcdGggPSAwXG5cdFx0XHRcdFx0d2hpbGUgaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGhcblx0XHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCBpcyBmYWxzZSBhbmQgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnR5cGUgaXNudCBcImNjXCIgYW5kIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlIGlzbnQgXCJkaXN0cmlidXRlXCJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5yZWFkX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX3JlYWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmNvc3RfdGltZSA9IHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSAtIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHRcdGFwcHJvdmVfdXNlcnMucHVzaCh0cmFjZXNbaV0uYXBwcm92ZXNbaF0udXNlcilcblxuXHRcdFx0XHRcdFx0XHQjIGJlZ2luIOiiq+mHjeWumuS9jee7mUHvvIzlho3ooqvph43lrprkvY3otbDvvIzkuYvliY1B55qE5oSP6KeB5Zyo5oSP6KeB5qCP5Lit5pi+56S65LiN5Ye65p2l5LqG44CCICMxOTIxXG5cdFx0XHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPT0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdHRhID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdXG5cdFx0XHRcdFx0XHRcdFx0c2FtZVRyYWNlcyA9IF8uZmlsdGVyIHRyYWNlcywgKHQpLT5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0LnN0ZXAgPT0gdHJhY2VzW2ldLnN0ZXBcblxuXHRcdFx0XHRcdFx0XHRcdGwgPSBzYW1lVHJhY2VzLmxlbmd0aCAtIDFcblx0XHRcdFx0XHRcdFx0XHRzaWduU2hvd0FwcHJvdmVJZCA9IG51bGxcblxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlIGwgPiAtMVxuXHRcdFx0XHRcdFx0XHRcdFx0Xy5lYWNoIHNhbWVUcmFjZXNbbF0uYXBwcm92ZXMsIChhKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIGEudXNlciA9PSB0YS51c2VyICYmIGEuanVkZ2UgIT0gXCJ0ZXJtaW5hdGVkXCIgJiYgYS5kZXNjcmlwdGlvbiAmJiAhc2lnblNob3dBcHByb3ZlSWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzaWduU2hvd0FwcHJvdmVJZCA9IGEuX2lkXG5cdFx0XHRcdFx0XHRcdFx0XHRsLS1cblxuXHRcdFx0XHRcdFx0XHRcdGlmIHNpZ25TaG93QXBwcm92ZUlkXG5cdFx0XHRcdFx0XHRcdFx0XHR0aSA9IDBcblx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlIHRpIDwgdHJhY2VzLmxlbmd0aFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhaCA9IDBcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgYWggPCB0cmFjZXNbdGldLmFwcHJvdmVzLmxlbmd0aFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIHRyYWNlc1t0aV0uYXBwcm92ZXNbYWhdLl9pZCA9PSBzaWduU2hvd0FwcHJvdmVJZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uc2lnbl9zaG93ID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLnNpZ25fc2hvdyA9IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWgrK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aSsrXG5cdFx0XHRcdFx0XHRcdCMgZW5kIOiiq+mHjeWumuS9jee7mUHvvIzlho3ooqvph43lrprkvY3otbDvvIzkuYvliY1B55qE5oSP6KeB5Zyo5oSP6KeB5qCP5Lit5pi+56S65LiN5Ye65p2l5LqG44CCICMxOTIxXG5cblx0XHRcdFx0XHRcdGgrK1xuXG5cdFx0XHRcdFx0IyDlnKjlkIzkuIB0cmFjZeS4i+aPkuWFpemHjeWumuS9jeaTjeS9nOiAheeahGFwcHJvdmXorrDlvZVcblx0XHRcdFx0XHRjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXHRcdFx0XHRcdGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwgeyBmaWVsZHM6IHsgbmFtZTogMSAsIGZ1bGxuYW1lOiAxIH0gfSlcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIudHJhY2UgPSB0cmFjZXNbaV0uX2lkXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvblxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuZHVlX2RhdGUgPSB0cmFjZXNbaV0uZHVlX2RhdGVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnJlYWRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuanVkZ2UgPSBcInJlbG9jYXRlZFwiXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5pc19yZWFkID0gdHJ1ZVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuZGVzY3JpcHRpb24gPSByZWxvY2F0ZV9jb21tZW50XG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5jb3N0X3RpbWUgPSByZWxvY2F0ZV9hcHByLmZpbmlzaF9kYXRlIC0gcmVsb2NhdGVfYXBwci5zdGFydF9kYXRlXG5cdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gocmVsb2NhdGVfYXBwcilcblxuXHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2XorrDlvZVcblx0XHRcdFx0XHR0cmFjZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0dHJhY2VzW2ldLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0dHJhY2VzW2ldLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIlxuXG5cdFx0XHRcdGkrK1xuXG5cdFx0XHRpZiBuZXh0X3N0ZXBfdHlwZSBpcyBcImVuZFwiXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdXG5cdFx0XHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gcmVsb2NhdGVfbmV4dF9zdGVwXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld1RyYWNlLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cblx0XHRcdFx0IyDmm7TmlrBpbnN0YW5jZeiusOW9lVxuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcImNvbXBsZXRlZFwiXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IFtdXG5cdFx0XHRcdHNldE9iai5maW5hbF9kZWNpc2lvbiA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdHNldE9iai5maW5pc2hfZGF0ZSA9IG5ldyBEYXRlXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSBmYWxzZVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXVxuXHRcdFx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXBcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IG5leHRfc3RlcF9uYW1lXG5cdFx0XHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0bmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUobmV4dF9zdGVwLnRpbWVvdXRfaG91cnMpXG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cblx0XHRcdFx0Xy5lYWNoKHJlbG9jYXRlX2luYm94X3VzZXJzLCAobmV4dF9zdGVwX3VzZXJfaWQsIGlkeCktPlxuXHRcdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2UuYXBwcm92ZeiusOW9lVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZFxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkXG5cblx0XHRcdFx0XHR1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKG5leHRfc3RlcF91c2VyX2lkLCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lXG5cblx0XHRcdFx0XHRoYW5kbGVyX2lkID0gbmV4dF9zdGVwX3VzZXJfaWRcblx0XHRcdFx0XHRoYW5kbGVyX2luZm8gPSB1c2VyX2luZm9cblx0XHRcdFx0XHRhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIG5leHRfc3RlcF91c2VyX2lkKVxuXHRcdFx0XHRcdGlmIGFnZW50XG5cdFx0XHRcdFx0XHRyZWxvY2F0ZV9pbmJveF91c2Vyc1tpZHhdID0gYWdlbnRcblx0XHRcdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudFxuXHRcdFx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYWdlbnQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnRcblxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGhhbmRsZXJfaWRcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXG5cblx0XHRcdFx0XHRuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKVxuXHRcdFx0XHRcdCMg6I635Y+WbmV4dF9zdGVwX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cblx0XHRcdFx0XHRuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhuZXh0X3N0ZXBfc3BhY2VfdXNlcilcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXG5cblx0XHRcdFx0XHRuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmR1ZV9kYXRlID0gbmV3VHJhY2UuZHVlX2RhdGVcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld0FwcHJvdmUpXG5cdFx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxuXHRcdFx0XHQpXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IHJlbG9jYXRlX2luYm94X3VzZXJzXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSB1dWZsb3dNYW5hZ2VyLmdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdChmbG93LnRpbWVvdXRfYXV0b19zdWJtaXQsIG5leHRfc3RlcC5saW5lcylcblxuXHRcdFx0aW5zdGFuY2Uub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxuXHRcdFx0aW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChpbmJveF91c2VycykuY29uY2F0KGFwcHJvdmVfdXNlcnMpXG5cdFx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycylcblx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xuXHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXG5cdFx0XHRzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZVxuXHRcdFx0dHJhY2VzLnB1c2gobmV3VHJhY2UpXG5cdFx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzXG5cblx0XHRcdGlmIHNldE9iai5zdGF0ZSA9PSAnY29tcGxldGVkJ1xuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmosICR1bnNldDoge2ZpbmlzaF9kYXRlOiAxfX0pXG5cblx0XHRcdGlmIHJcblx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdFx0IyDnu5nooqvliKDpmaTnmoRpbmJveF91c2VycyDlkowg5b2T5YmN55So5oi3IOWPkemAgXB1c2hcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcblx0XHRcdFx0Xy5lYWNoKG5vdF9pbl9pbmJveF91c2VycywgKHVzZXJfaWQpLT5cblx0XHRcdFx0XHRpZiB1c2VyX2lkIGlzbnQgY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRcdFx0KVxuXHRcdFx0XHQjIOaPkOWPlmluc3RhbmNlcy5vdXRib3hfdXNlcnPmlbDnu4TlkozloavljZXkurrjgIHnlLPor7fkurpcblx0XHRcdFx0X3VzZXJzID0gbmV3IEFycmF5XG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5hcHBsaWNhbnQpXG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpXG5cdFx0XHRcdF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKVxuXHRcdFx0XHRfLmVhY2goX3VzZXJzLCAodXNlcl9pZCktPlxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxuXHRcdFx0XHQpXG5cblx0XHRcdFx0IyDnu5nmlrDliqDlhaXnmoRpbmJveF91c2Vyc+WPkemAgXB1c2ggbWVzc2FnZVxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJlYXNzaWduX25ld19pbmJveF91c2Vyc1wiLCBpbnMsIHJlbG9jYXRlX2NvbW1lbnQsIGN1cnJlbnRfdXNlcl9pbmZvKVxuXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlbG9jYXRlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YToge2Vycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWxvY2F0ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgX3VzZXJzLCBhaCwgYXBwcm92ZV91c2VycywgY3VycmVudF9zZXRwLCBjdXJyZW50X3NldHBfdHlwZSwgY3VycmVudF9zcGFjZV91c2VyLCBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLCBmbG93LCBoLCBpLCBpbmJveF91c2VycywgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIGwsIGxhc3RfdHJhY2UsIG5ld1RyYWNlLCBuZXdfaW5ib3hfdXNlcnMsIG5leHRfc3RlcCwgbmV4dF9zdGVwX25hbWUsIG5leHRfc3RlcF90eXBlLCBub3RfaW5faW5ib3hfdXNlcnMsIG5vdywgcGVybWlzc2lvbnMsIHIsIHJlbG9jYXRlX2FwcHIsIHJlbG9jYXRlX2NvbW1lbnQsIHJlbG9jYXRlX2luYm94X3VzZXJzLCByZWxvY2F0ZV9uZXh0X3N0ZXAsIHNhbWVUcmFjZXMsIHNldE9iaiwgc2lnblNob3dBcHByb3ZlSWQsIHNwYWNlLCBzcGFjZV9pZCwgdGEsIHRpLCB0cmFjZXM7XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgbGFzdF90cmFjZSA9IF8ubGFzdChpbnN0YW5jZS50cmFjZXMpO1xuICAgICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKTtcbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgYWRtaW5zOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIik7XG4gICAgICB9XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgaW5zdGFuY2VfaWQgPSBsYXN0X3RyYWNlLmluc3RhbmNlO1xuICAgICAgaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2VycztcbiAgICAgIHJlbG9jYXRlX2luYm94X3VzZXJzID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9pbmJveF91c2Vyc1wiXTtcbiAgICAgIHJlbG9jYXRlX2NvbW1lbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX2NvbW1lbnRcIl07XG4gICAgICByZWxvY2F0ZV9uZXh0X3N0ZXAgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX25leHRfc3RlcFwiXTtcbiAgICAgIG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgcmVsb2NhdGVfaW5ib3hfdXNlcnMpO1xuICAgICAgbmV3X2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKHJlbG9jYXRlX2luYm94X3VzZXJzLCBpbmJveF91c2Vycyk7XG4gICAgICBhcHByb3ZlX3VzZXJzID0gW107XG4gICAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgICAgbmV4dF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCByZWxvY2F0ZV9uZXh0X3N0ZXApO1xuICAgICAgbmV4dF9zdGVwX3R5cGUgPSBuZXh0X3N0ZXAuc3RlcF90eXBlO1xuICAgICAgbmV4dF9zdGVwX25hbWUgPSBuZXh0X3N0ZXAubmFtZTtcbiAgICAgIGN1cnJlbnRfc2V0cCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgbGFzdF90cmFjZS5zdGVwKTtcbiAgICAgIGN1cnJlbnRfc2V0cF90eXBlID0gY3VycmVudF9zZXRwLnN0ZXBfdHlwZTtcbiAgICAgIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcbiAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRPYmoudmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IHRyYWNlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHRyYWNlc1tpXS5faWQgPT09IGxhc3RfdHJhY2UuX2lkKSB7XG4gICAgICAgICAgaWYgKCF0cmFjZXNbaV0uYXBwcm92ZXMpIHtcbiAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3ZlcyA9IG5ldyBBcnJheTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaCA9IDA7XG4gICAgICAgICAgd2hpbGUgKGggPCB0cmFjZXNbaV0uYXBwcm92ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID09PSBmYWxzZSAmJiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0udHlwZSAhPT0gXCJjY1wiICYmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlICE9PSBcImRpc3RyaWJ1dGVcIikge1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0ucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmNvc3RfdGltZSA9IHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSAtIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICBhcHByb3ZlX3VzZXJzLnB1c2godHJhY2VzW2ldLmFwcHJvdmVzW2hdLnVzZXIpO1xuICAgICAgICAgICAgICBpZiAodHJhY2VzW2ldLmFwcHJvdmVzW2hdLnNpZ25fc2hvdyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRhID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdO1xuICAgICAgICAgICAgICAgIHNhbWVUcmFjZXMgPSBfLmZpbHRlcih0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0LnN0ZXAgPT09IHRyYWNlc1tpXS5zdGVwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGwgPSBzYW1lVHJhY2VzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgc2lnblNob3dBcHByb3ZlSWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHdoaWxlIChsID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgIF8uZWFjaChzYW1lVHJhY2VzW2xdLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLnVzZXIgPT09IHRhLnVzZXIgJiYgYS5qdWRnZSAhPT0gXCJ0ZXJtaW5hdGVkXCIgJiYgYS5kZXNjcmlwdGlvbiAmJiAhc2lnblNob3dBcHByb3ZlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2lnblNob3dBcHByb3ZlSWQgPSBhLl9pZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBsLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaWduU2hvd0FwcHJvdmVJZCkge1xuICAgICAgICAgICAgICAgICAgdGkgPSAwO1xuICAgICAgICAgICAgICAgICAgd2hpbGUgKHRpIDwgdHJhY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBhaCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChhaCA8IHRyYWNlc1t0aV0uYXBwcm92ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNlc1t0aV0uYXBwcm92ZXNbYWhdLl9pZCA9PT0gc2lnblNob3dBcHByb3ZlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlc1t0aV0uYXBwcm92ZXNbYWhdLnNpZ25fc2hvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc2lnbl9zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGFoKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGkrKztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGgrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICAgICAgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByID0gbmV3IE9iamVjdDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIudHJhY2UgPSB0cmFjZXNbaV0uX2lkO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5kdWVfZGF0ZSA9IHRyYWNlc1tpXS5kdWVfZGF0ZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuZGVzY3JpcHRpb24gPSByZWxvY2F0ZV9jb21tZW50O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5jb3N0X3RpbWUgPSByZWxvY2F0ZV9hcHByLmZpbmlzaF9kYXRlIC0gcmVsb2NhdGVfYXBwci5zdGFydF9kYXRlO1xuICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlcy5wdXNoKHJlbG9jYXRlX2FwcHIpO1xuICAgICAgICAgIHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgdHJhY2VzW2ldLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgIHRyYWNlc1tpXS5qdWRnZSA9IFwicmVsb2NhdGVkXCI7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRfc3RlcF90eXBlID09PSBcImVuZFwiKSB7XG4gICAgICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXTtcbiAgICAgICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICBuZXdUcmFjZS5zdGVwID0gcmVsb2NhdGVfbmV4dF9zdGVwO1xuICAgICAgICBuZXdUcmFjZS5uYW1lID0gbmV4dF9zdGVwX25hbWU7XG4gICAgICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICAgICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBbXTtcbiAgICAgICAgc2V0T2JqLmZpbmFsX2RlY2lzaW9uID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgIHNldE9iai5maW5pc2hfZGF0ZSA9IG5ldyBEYXRlO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBuZXh0X3N0ZXBfbmFtZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdO1xuICAgICAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBuZXdUcmFjZS5zdGVwID0gcmVsb2NhdGVfbmV4dF9zdGVwO1xuICAgICAgICBuZXdUcmFjZS5uYW1lID0gbmV4dF9zdGVwX25hbWU7XG4gICAgICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKG5leHRfc3RlcC50aW1lb3V0X2hvdXJzKTtcbiAgICAgICAgbmV3VHJhY2UuYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgXy5lYWNoKHJlbG9jYXRlX2luYm94X3VzZXJzLCBmdW5jdGlvbihuZXh0X3N0ZXBfdXNlcl9pZCwgaWR4KSB7XG4gICAgICAgICAgdmFyIGFnZW50LCBoYW5kbGVyX2lkLCBoYW5kbGVyX2luZm8sIG5ld0FwcHJvdmUsIG5leHRfc3RlcF9zcGFjZV91c2VyLCBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbywgdXNlcl9pbmZvO1xuICAgICAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZDtcbiAgICAgICAgICBuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgICAgbmV3QXBwcm92ZS51c2VyID0gbmV4dF9zdGVwX3VzZXJfaWQ7XG4gICAgICAgICAgdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xuICAgICAgICAgIGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgICAgICBoYW5kbGVyX2luZm8gPSB1c2VyX2luZm87XG4gICAgICAgICAgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCBuZXh0X3N0ZXBfdXNlcl9pZCk7XG4gICAgICAgICAgaWYgKGFnZW50KSB7XG4gICAgICAgICAgICByZWxvY2F0ZV9pbmJveF91c2Vyc1tpZHhdID0gYWdlbnQ7XG4gICAgICAgICAgICBoYW5kbGVyX2lkID0gYWdlbnQ7XG4gICAgICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICAgICAgX2lkOiBhZ2VudFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgbmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZCk7XG4gICAgICAgICAgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8obmV4dF9zdGVwX3NwYWNlX3VzZXIpO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgbmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgdXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSk7XG4gICAgICAgICAgcmV0dXJuIG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSByZWxvY2F0ZV9pbmJveF91c2VycztcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBuZXh0X3N0ZXAubGluZXMpO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICAgIGluc3RhbmNlLm91dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQoaW5ib3hfdXNlcnMpLmNvbmNhdChhcHByb3ZlX3VzZXJzKTtcbiAgICAgIHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKTtcbiAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuICAgICAgdHJhY2VzLnB1c2gobmV3VHJhY2UpO1xuICAgICAgc2V0T2JqLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgIGlmIChzZXRPYmouc3RhdGUgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqLFxuICAgICAgICAgICR1bnNldDoge1xuICAgICAgICAgICAgZmluaXNoX2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHIpIHtcbiAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICBfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgaWYgKHVzZXJfaWQgIT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5hcHBsaWNhbnQpO1xuICAgICAgICBfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKTtcbiAgICAgICAgX3VzZXJzID0gXy51bmlxKF91c2Vycy5jb25jYXQoaW5zLm91dGJveF91c2VycykpO1xuICAgICAgICBfLmVhY2goX3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmVhc3NpZ25fbmV3X2luYm94X3VzZXJzXCIsIGlucywgcmVsb2NhdGVfY29tbWVudCwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWxvY2F0ZScsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvYXJjaGl2ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl1cblx0XHRcdCMg6I635Y+W5LiA5LiqaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2Vcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2Vcblx0XHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHRcdCMg5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrlrozmiJDlubbkuJTmnKrlvZLmoaPnirbmgIFcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZUZpbmlzaGVkQW5kTm90QXJjaGlldmVkKGluc3RhbmNlKVxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZeS4i+eahOS4gOS4qnVzZXJcblx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXHRcdFx0IyDliKTmlq3kuIDkuKrnlKjmiLfmmK/lkKbmmK/kuIDkuKppbnN0YW5jZeeahOaPkOS6pOiAhSDmiJbogIVzcGFjZeeahOeuoeeQhuWRmFxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4oaW5zdGFuY2UsIGN1cnJlbnRfdXNlciwgc3BhY2UpXG5cdFx0XHRcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IHRydWVcblx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlXG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdGRhdGE6IHt9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cblx0XG5cdFx0IiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9hcmNoaXZlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIHNldE9iaiwgc3BhY2UsIHNwYWNlX2lkLCBzcGFjZV91c2VyO1xuICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXTtcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZUZpbmlzaGVkQW5kTm90QXJjaGlldmVkKGluc3RhbmNlKTtcbiAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVN1Ym1pdHRlck9yQXBwbGljYW50T3JTcGFjZUFkbWluKGluc3RhbmNlLCBjdXJyZW50X3VzZXIsIHNwYWNlKTtcbiAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRPYmouaXNfYXJjaGl2ZWQgPSB0cnVlO1xuICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGU7XG4gICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIk1ldGVvci5zdGFydHVwIC0+XG5cdFdlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlIFwiL2FwaS93b3JrZmxvdy9leHBvcnQvaW5zdGFuY2VzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0XHR0cnlcblx0XHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblxuXHRcdFx0cXVlcnkgPSByZXEucXVlcnlcblx0XHRcdHNwYWNlX2lkID0gcXVlcnkuc3BhY2VfaWRcblx0XHRcdGZsb3dfaWQgPSBxdWVyeS5mbG93X2lkXG5cdFx0XHR0eXBlID0gcGFyc2VJbnQocXVlcnkudHlwZSlcblx0XHRcdHRpbWV6b25lb2Zmc2V0ID0gcGFyc2VJbnQocXVlcnkudGltZXpvbmVvZmZzZXQpXG5cblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBmbG93X2lkIH0sIHsgZmllbGRzOiB7IGZvcm06IDEgfSB9KVxuXHRcdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3cuZm9ybSB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCAnY3VycmVudC5maWVsZHMnOiAxIH0gfSlcblxuXHRcdFx0Zm9ybV9uYW1lID0gZm9ybS5uYW1lXG5cdFx0XHRmaWVsZHMgPSBmb3JtLmN1cnJlbnQuZmllbGRzXG5cdFx0XHR0YWJsZV9maWVsZHMgPSBuZXcgQXJyYXlcblx0XHRcdF8uZWFjaCBmb3JtLmN1cnJlbnQuZmllbGRzLCAoZmllbGQpIC0+XG5cdFx0XHRcdGlmIGZpZWxkLnR5cGUgaXMgXCJ0YWJsZVwiXG5cdFx0XHRcdFx0dGFibGVfZmllbGRzLnB1c2goZmllbGQpXG5cblx0XHRcdGluc190b194bHMgPSBuZXcgQXJyYXlcblx0XHRcdHN0YXJ0X2RhdGUgPSBudWxsXG5cdFx0XHRlbmRfZGF0ZSA9IG51bGxcblx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHQjIDAt5pys5pyIXG5cdFx0XHRpZiB0eXBlIGlzIDBcblx0XHRcdFx0c3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSlcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdFx0ZmxvdzogZmxvd19pZCxcblx0XHRcdFx0XHRzdGF0ZTogeyAkbmU6IFwiZHJhZnRcIiB9LFxuXHRcdFx0XHRcdHN1Ym1pdF9kYXRlOiB7ICRndGU6IHN0YXJ0X2RhdGUgfVxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XG5cdFx0XHRcdH0pLmZldGNoKClcblx0XHRcdCMgMS3kuIrmnIhcblx0XHRcdGVsc2UgaWYgdHlwZSBpcyAxXG5cdFx0XHRcdGxhc3RfbW9udGhfZGF0ZSA9IG5ldyBEYXRlKG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSkgLSAxMDAwICogNjAgKiA2MCAqIDI0KVxuXHRcdFx0XHRzdGFydF9kYXRlID0gbmV3IERhdGUobGFzdF9tb250aF9kYXRlLmdldEZ1bGxZZWFyKCksIGxhc3RfbW9udGhfZGF0ZS5nZXRNb250aCgpLCAxKVxuXHRcdFx0XHRlbmRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSlcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdFx0ZmxvdzogZmxvd19pZCxcblx0XHRcdFx0XHRzdGF0ZTogeyAkbmU6IFwiZHJhZnRcIiB9LFxuXHRcdFx0XHRcdCRhbmQ6IFt7IHN1Ym1pdF9kYXRlOiB7ICRndGU6IHN0YXJ0X2RhdGUgfSB9LCB7IHN1Ym1pdF9kYXRlOiB7ICRsdGU6IGVuZF9kYXRlIH0gfV1cblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdHNvcnQ6IHsgc3VibWl0X2RhdGU6IDEgfVxuXHRcdFx0XHR9KS5mZXRjaCgpXG5cdFx0XHQjIDIt5pW05Liq5bm05bqmXG5cdFx0XHRlbHNlIGlmIHR5cGUgaXMgMlxuXHRcdFx0XHRzdGFydF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIDAsIDEpXG5cdFx0XHRcdGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHRcdGZsb3c6IGZsb3dfaWQsXG5cdFx0XHRcdFx0c3RhdGU6IHsgJG5lOiBcImRyYWZ0XCIgfSxcblx0XHRcdFx0XHRzdWJtaXRfZGF0ZTogeyAkZ3RlOiBzdGFydF9kYXRlIH1cblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdHNvcnQ6IHsgc3VibWl0X2RhdGU6IDEgfVxuXHRcdFx0XHR9KS5mZXRjaCgpXG5cdFx0XHQjIDMt5omA5pyJXG5cdFx0XHRlbHNlIGlmIHR5cGUgaXMgM1xuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0XHRmbG93OiBmbG93X2lkLFxuXHRcdFx0XHRcdHN0YXRlOiB7ICRuZTogXCJkcmFmdFwiIH1cblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdHNvcnQ6IHsgc3VibWl0X2RhdGU6IDEgfVxuXHRcdFx0XHR9KS5mZXRjaCgpXG5cblx0XHRcdGVqcyA9IHJlcXVpcmUoJ2VqcycpXG5cdFx0XHRzdHIgPSBBc3NldHMuZ2V0VGV4dCgnc2VydmVyL2Vqcy9leHBvcnRfaW5zdGFuY2VzLmVqcycpXG5cblx0XHRcdCMg5qOA5rWL5piv5ZCm5pyJ6K+t5rOV6ZSZ6K+vXG5cdFx0XHRlanNMaW50ID0gcmVxdWlyZSgnZWpzLWxpbnQnKVxuXHRcdFx0ZXJyb3Jfb2JqID0gZWpzTGludC5saW50KHN0ciwge30pXG5cdFx0XHRpZiBlcnJvcl9vYmpcblx0XHRcdFx0Y29uc29sZS5lcnJvciBcIj09PS9hcGkvd29ya2Zsb3cvZXhwb3J0OlwiXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgZXJyb3Jfb2JqXG5cblx0XHRcdHRlbXBsYXRlID0gZWpzLmNvbXBpbGUoc3RyKVxuXG5cdFx0XHRsYW5nID0gJ2VuJ1xuXHRcdFx0aWYgY3VycmVudF91c2VyX2luZm8ubG9jYWxlIGlzICd6aC1jbidcblx0XHRcdFx0bGFuZyA9ICd6aC1DTidcblxuXHRcdFx0cmV0ID0gdGVtcGxhdGUoe1xuXHRcdFx0XHRsYW5nOiBsYW5nLFxuXHRcdFx0XHR0aW1lem9uZW9mZnNldDogdGltZXpvbmVvZmZzZXQsXG5cdFx0XHRcdGZvcm1fbmFtZTogZm9ybV9uYW1lLFxuXHRcdFx0XHRmaWVsZHM6IGZpZWxkcyxcblx0XHRcdFx0dGFibGVfZmllbGRzOiB0YWJsZV9maWVsZHMsXG5cdFx0XHRcdGluc190b194bHM6IGluc190b194bHNcblx0XHRcdH0pXG5cblx0XHRcdGZpbGVOYW1lID0gXCJTdGVlZE9TV29ya2Zsb3dfXCIgKyBtb21lbnQoKS5mb3JtYXQoJ1lZWVlNTURESEhtbScpICsgXCIueGxzXCJcblx0XHRcdHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIilcblx0XHRcdHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LURpc3Bvc2l0aW9uXCIsIFwiYXR0YWNobWVudDtmaWxlbmFtZT1cIiArIGVuY29kZVVSSShmaWxlTmFtZSkpXG5cdFx0XHRyZXMuZW5kKHJldClcblx0XHRjYXRjaCBlXG5cdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRcdHJlcy5lbmQoZS5tZXNzYWdlKSIsIk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoXCIvYXBpL3dvcmtmbG93L2V4cG9ydC9pbnN0YW5jZXNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICB2YXIgY3VycmVudF91c2VyX2luZm8sIGUsIGVqcywgZWpzTGludCwgZW5kX2RhdGUsIGVycm9yX29iaiwgZmllbGRzLCBmaWxlTmFtZSwgZmxvdywgZmxvd19pZCwgZm9ybSwgZm9ybV9uYW1lLCBpbnNfdG9feGxzLCBsYW5nLCBsYXN0X21vbnRoX2RhdGUsIG5vdywgcXVlcnksIHJldCwgc3BhY2VfaWQsIHN0YXJ0X2RhdGUsIHN0ciwgdGFibGVfZmllbGRzLCB0ZW1wbGF0ZSwgdGltZXpvbmVvZmZzZXQsIHR5cGU7XG4gICAgdHJ5IHtcbiAgICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgICBxdWVyeSA9IHJlcS5xdWVyeTtcbiAgICAgIHNwYWNlX2lkID0gcXVlcnkuc3BhY2VfaWQ7XG4gICAgICBmbG93X2lkID0gcXVlcnkuZmxvd19pZDtcbiAgICAgIHR5cGUgPSBwYXJzZUludChxdWVyeS50eXBlKTtcbiAgICAgIHRpbWV6b25lb2Zmc2V0ID0gcGFyc2VJbnQocXVlcnkudGltZXpvbmVvZmZzZXQpO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3dfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZm9ybTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93LmZvcm1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAnY3VycmVudC5maWVsZHMnOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZm9ybV9uYW1lID0gZm9ybS5uYW1lO1xuICAgICAgZmllbGRzID0gZm9ybS5jdXJyZW50LmZpZWxkcztcbiAgICAgIHRhYmxlX2ZpZWxkcyA9IG5ldyBBcnJheTtcbiAgICAgIF8uZWFjaChmb3JtLmN1cnJlbnQuZmllbGRzLCBmdW5jdGlvbihmaWVsZCkge1xuICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gXCJ0YWJsZVwiKSB7XG4gICAgICAgICAgcmV0dXJuIHRhYmxlX2ZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpbnNfdG9feGxzID0gbmV3IEFycmF5O1xuICAgICAgc3RhcnRfZGF0ZSA9IG51bGw7XG4gICAgICBlbmRfZGF0ZSA9IG51bGw7XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIGlmICh0eXBlID09PSAwKSB7XG4gICAgICAgIHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpO1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICBmbG93OiBmbG93X2lkLFxuICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAkbmU6IFwiZHJhZnRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VibWl0X2RhdGU6IHtcbiAgICAgICAgICAgICRndGU6IHN0YXJ0X2RhdGVcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMSkge1xuICAgICAgICBsYXN0X21vbnRoX2RhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpIC0gMTAwMCAqIDYwICogNjAgKiAyNCk7XG4gICAgICAgIHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShsYXN0X21vbnRoX2RhdGUuZ2V0RnVsbFllYXIoKSwgbGFzdF9tb250aF9kYXRlLmdldE1vbnRoKCksIDEpO1xuICAgICAgICBlbmRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSk7XG4gICAgICAgIGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAgIGZsb3c6IGZsb3dfaWQsXG4gICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICRuZTogXCJkcmFmdFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICAkYW5kOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiB7XG4gICAgICAgICAgICAgICAgJGd0ZTogc3RhcnRfZGF0ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiB7XG4gICAgICAgICAgICAgICAgJGx0ZTogZW5kX2RhdGVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAyKSB7XG4gICAgICAgIHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgMCwgMSk7XG4gICAgICAgIGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAgIGZsb3c6IGZsb3dfaWQsXG4gICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICRuZTogXCJkcmFmdFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWJtaXRfZGF0ZToge1xuICAgICAgICAgICAgJGd0ZTogc3RhcnRfZGF0ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAzKSB7XG4gICAgICAgIGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAgIGZsb3c6IGZsb3dfaWQsXG4gICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICRuZTogXCJkcmFmdFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9XG4gICAgICBlanMgPSByZXF1aXJlKCdlanMnKTtcbiAgICAgIHN0ciA9IEFzc2V0cy5nZXRUZXh0KCdzZXJ2ZXIvZWpzL2V4cG9ydF9pbnN0YW5jZXMuZWpzJyk7XG4gICAgICBlanNMaW50ID0gcmVxdWlyZSgnZWpzLWxpbnQnKTtcbiAgICAgIGVycm9yX29iaiA9IGVqc0xpbnQubGludChzdHIsIHt9KTtcbiAgICAgIGlmIChlcnJvcl9vYmopIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIj09PS9hcGkvd29ya2Zsb3cvZXhwb3J0OlwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcl9vYmopO1xuICAgICAgfVxuICAgICAgdGVtcGxhdGUgPSBlanMuY29tcGlsZShzdHIpO1xuICAgICAgbGFuZyA9ICdlbic7XG4gICAgICBpZiAoY3VycmVudF91c2VyX2luZm8ubG9jYWxlID09PSAnemgtY24nKSB7XG4gICAgICAgIGxhbmcgPSAnemgtQ04nO1xuICAgICAgfVxuICAgICAgcmV0ID0gdGVtcGxhdGUoe1xuICAgICAgICBsYW5nOiBsYW5nLFxuICAgICAgICB0aW1lem9uZW9mZnNldDogdGltZXpvbmVvZmZzZXQsXG4gICAgICAgIGZvcm1fbmFtZTogZm9ybV9uYW1lLFxuICAgICAgICBmaWVsZHM6IGZpZWxkcyxcbiAgICAgICAgdGFibGVfZmllbGRzOiB0YWJsZV9maWVsZHMsXG4gICAgICAgIGluc190b194bHM6IGluc190b194bHNcbiAgICAgIH0pO1xuICAgICAgZmlsZU5hbWUgPSBcIlN0ZWVkT1NXb3JrZmxvd19cIiArIG1vbWVudCgpLmZvcm1hdCgnWVlZWU1NRERISG1tJykgKyBcIi54bHNcIjtcbiAgICAgIHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIik7XG4gICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiLCBcImF0dGFjaG1lbnQ7ZmlsZW5hbWU9XCIgKyBlbmNvZGVVUkkoZmlsZU5hbWUpKTtcbiAgICAgIHJldHVybiByZXMuZW5kKHJldCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGUgPSBlcnJvcjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICByZXR1cm4gcmVzLmVuZChlLm1lc3NhZ2UpO1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL3VmL3NwYWNlL2NoYW5nZXNldCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0cXVlcnkgPSByZXEucXVlcnlcblx0XHRhdXRoX3Rva2VuID0gZGIuYXV0aF90b2tlbnMuZmluZE9uZSh7YXV0aF90b2tlbjogcXVlcnkuYXV0aF90b2tlbn0pXG5cblx0XHRpZiAobm90IGF1dGhfdG9rZW4pIG9yIChub3QgYXV0aF90b2tlbi5lbmFibGVkKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvciA0MDEsICdVbmF1dGhvcml6ZWQnXG5cblx0XHRzeW5jX3Rva2VuID0gcXVlcnlbXCJzeW5jX3Rva2VuXCJdXG5cdFx0Zm9ybWlkcyA9IHF1ZXJ5W1wiZm9ybWlkc1wiXSAjIOmAl+WPt+malOW8gOWtl+espuS4slxuXHRcdGlzX2FkbWluID0gcXVlcnlbXCJpc19hZG1pblwiXVxuXG5cdFx0ZGF0YSA9IHV1Zmxvd01hbmFnZXIuZ2V0X1NwYWNlQ2hhbmdlU2V0KGZvcm1pZHMsIGlzX2FkbWluLCBzeW5jX3Rva2VuKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdGRhdGE6IGRhdGFcblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfSIsIkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL3VmL3NwYWNlL2NoYW5nZXNldCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdXRoX3Rva2VuLCBkYXRhLCBlLCBmb3JtaWRzLCBpc19hZG1pbiwgcXVlcnksIHN5bmNfdG9rZW47XG4gIHRyeSB7XG4gICAgcXVlcnkgPSByZXEucXVlcnk7XG4gICAgYXV0aF90b2tlbiA9IGRiLmF1dGhfdG9rZW5zLmZpbmRPbmUoe1xuICAgICAgYXV0aF90b2tlbjogcXVlcnkuYXV0aF90b2tlblxuICAgIH0pO1xuICAgIGlmICgoIWF1dGhfdG9rZW4pIHx8ICghYXV0aF90b2tlbi5lbmFibGVkKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig0MDEsICdVbmF1dGhvcml6ZWQnKTtcbiAgICB9XG4gICAgc3luY190b2tlbiA9IHF1ZXJ5W1wic3luY190b2tlblwiXTtcbiAgICBmb3JtaWRzID0gcXVlcnlbXCJmb3JtaWRzXCJdO1xuICAgIGlzX2FkbWluID0gcXVlcnlbXCJpc19hZG1pblwiXTtcbiAgICBkYXRhID0gdXVmbG93TWFuYWdlci5nZXRfU3BhY2VDaGFuZ2VTZXQoZm9ybWlkcywgaXNfYWRtaW4sIHN5bmNfdG9rZW4pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3JldHJpZXZlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxuXHRcdFx0cmV0cmlldmVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydyZXRyaWV2ZV9jb21tZW50J11cblxuXHRcdFx0IyDpqozor4FpbnN0YW5jZeS4uuWuoeaguOS4reeKtuaAgVxuXHRcdFx0IyB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKVxuXHRcdFx0IyDmoKHpqoznlLPor7fljZXmmK/lvZPliY3nlKjmiLflt7LlrqHmoLjov4fnmoTljZXlrZDmiJbogIXlvZPliY3nlKjmiLfmmK/mj5DkuqTkurrmiJbnlLPor7fkurpcblx0XHRcdGlmIChub3QgaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIGFuZCAoaW5zdGFuY2Uuc3VibWl0dGVyIGlzbnQgY3VycmVudF91c2VyIGFuZCBpbnN0YW5jZS5hcHBsaWNhbnQgaXNudCBjdXJyZW50X3VzZXIpXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+W9k+WJjeeUqOaIt+S4jeespuWQiOWPluWbnuadoeS7ticpXG5cblx0XHRcdHJldHJpZXZlX3R5cGUgPSBcIlwiXG5cblx0XHRcdHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlc1xuXG5cdFx0XHQj6I635Y+W5pyA5paw55qEdHJhY2XvvIwg5Y2z5Y+W5Zue5q2l6aqkXG5cdFx0XHRsYXN0X3RyYWNlID0gXy5sYXN0KHRyYWNlcylcblx0XHRcdGxhc3RfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLl9pZFxuXHRcdFx0cHJldmlvdXNfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLnByZXZpb3VzX3RyYWNlX2lkc1swXTtcblx0XHRcdHByZXZpb3VzX3RyYWNlID0gXy5maW5kKHRyYWNlcywgKHQpLT5cblx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIHByZXZpb3VzX3RyYWNlX2lkXG5cdFx0XHQpXG5cdFx0XHRwcmV2aW91c190cmFjZV9zdGVwX2lkID0gcHJldmlvdXNfdHJhY2Uuc3RlcFxuXHRcdFx0cHJldmlvdXNfdHJhY2VfbmFtZSA9IHByZXZpb3VzX3RyYWNlLm5hbWVcblx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcblx0XHRcdHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpXG5cdFx0XHRpZiBwcmV2aW91c19zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5LiN6IO95Y+W5ZueJylcblxuXHRcdFx0IyDlj5blm57mraXpqqTnmoTliY3kuIDkuKrmraXpqqTlpITnkIbkurrllK/kuIDvvIjljbPmjpLpmaTmjonkvKDpmIXlkozovazlj5HnmoRhcHByb3Zl5ZCO77yM5Ymp5L2Z55qEYXBwcm92ZeWPquacieS4gOS4qu+8ieW5tuS4lOaYr+W9k+WJjeeUqOaIt1xuXHRcdFx0cHJldmlvdXNfdHJhY2VfYXBwcm92ZXMgPSBfLmZpbHRlciBwcmV2aW91c190cmFjZS5hcHByb3ZlcywgKGEpLT5cblx0XHRcdFx0cmV0dXJuIGEudHlwZSBpc250ICdjYycgYW5kIGEudHlwZSBpc250ICdkaXN0cmlidXRlJyBhbmQgYS50eXBlIGlzbnQgJ2ZvcndhcmQnIGFuZCBbJ2FwcHJvdmVkJywnc3VibWl0dGVkJywncmVqZWN0ZWQnXS5pbmNsdWRlcyhhLmp1ZGdlKVxuXG5cdFx0XHRpZiBwcmV2aW91c190cmFjZV9hcHByb3Zlcy5sZW5ndGggaXMgMSBhbmQgKHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLnVzZXIgaXMgY3VycmVudF91c2VyIG9yIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLmhhbmRsZXIgaXMgY3VycmVudF91c2VyKVxuXHRcdFx0XHRyZXRyaWV2ZV90eXBlID0gJ25vcm1hbCcgIyDnlLPor7fljZXmraPluLjmtYHovaznmoTlj5blm57vvIzljbPpnZ7kvKDpmIXlj5blm55cblxuXHRcdFx0aSA9IHRyYWNlcy5sZW5ndGhcblx0XHRcdHJldHJpZXZlX2FwcHJvdmUgPSB7fVxuXHRcdFx0d2hpbGUgaSA+IDBcblx0XHRcdFx0Xy5lYWNoIHRyYWNlc1tpLTFdLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0XHRcdGlmIGEudHlwZSBpcyAnY2MnIGFuZCBhLmlzX2ZpbmlzaGVkIGlzIHRydWUgYW5kIGEudXNlciBpcyBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdHJldHJpZXZlX3R5cGUgPSAnY2MnXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByb3ZlID0gYVxuXG5cdFx0XHRcdGlmIHJldHJpZXZlX3R5cGUgaXMgJ2NjJ1xuXHRcdFx0XHRcdGJyZWFrXG5cblx0XHRcdFx0aS0tXG5cblxuXHRcdFx0aWYgcmV0cmlldmVfdHlwZSBpcyAnbm9ybWFsJ1xuXHRcdFx0XHQjIOiOt+WPluS4gOS4qmZsb3dcblx0XHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXHRcdFx0XHRwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKVxuXHRcdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdFx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2UuX2lkXG5cdFx0XHRcdG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXG5cdFx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bm93ID0gbmV3IERhdGVcblx0XHRcdFx0Xy5lYWNoIHRyYWNlcywgKHQpLT5cblx0XHRcdFx0XHRpZiB0Ll9pZCBpcyBsYXN0X3RyYWNlX2lkXG5cdFx0XHRcdFx0XHRpZiBub3QgdC5hcHByb3Zlc1xuXHRcdFx0XHRcdFx0XHR0LmFwcHJvdmVzID0gbmV3IEFycmF5XG5cdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNlLmFwcHJvdmXorrDlvZVcblx0XHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXBwciktPlxuXHRcdFx0XHRcdFx0XHRpZiBhcHByLmlzX2ZpbmlzaGVkID09IGZhbHNlIGFuZCBhcHByLnR5cGUgaXNudCBcImNjXCJcblx0XHRcdFx0XHRcdFx0XHRhcHByLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0XHRhcHByLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdFx0YXBwci5yZWFkX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0XHRhcHByLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHRhcHByLmlzX3JlYWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdFx0XHRhcHByLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcblx0XHRcdFx0XHRcdFx0XHRhcHByLmNvc3RfdGltZSA9IGFwcHIuZmluaXNoX2RhdGUgLSBhcHByLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRcdCMg5Zyo5ZCM5LiAdHJhY2XkuIvmj5LlhaXlj5blm57mk43kvZzogIXnmoRhcHByb3Zl6K6w5b2VXG5cdFx0XHRcdFx0XHRjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXHRcdFx0XHRcdFx0Y3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7IGZpZWxkczogeyBuYW1lOiAxLCBmdWxsbmFtZTogMSB9IH0pXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudHJhY2UgPSB0Ll9pZFxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5kdWVfZGF0ZSA9IHQuZHVlX2RhdGVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIucmVhZF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmp1ZGdlID0gXCJyZXRyaWV2ZWRcIlxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pc19yZWFkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5kZXNjcmlwdGlvbiA9IHJldHJpZXZlX2NvbW1lbnRcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmNvc3RfdGltZSA9IHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgLSByZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRcdHQuYXBwcm92ZXMucHVzaChyZXRyaWV2ZV9hcHByKVxuXG5cdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXG5cdFx0XHRcdFx0XHR0LmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0dC5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0dC5qdWRnZSA9IFwicmV0cmlldmVkXCJcblxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2VfaWRdXG5cdFx0XHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdFx0bmV3VHJhY2Uuc3RlcCA9IHByZXZpb3VzX3RyYWNlX3N0ZXBfaWRcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWVcblx0XHRcdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShwcmV2aW91c19zdGVwLnRpbWVvdXRfaG91cnMpXG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZS5hcHByb3Zl6K6w5b2VXG5cdFx0XHRcdG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0bmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZFxuXHRcdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdFx0bmV3QXBwcm92ZS51c2VyID0gY3VycmVudF91c2VyXG5cblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXG5cblx0XHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHRcdCMg6I635Y+WbmV4dF9zdGVwX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cblx0XHRcdFx0b3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcilcblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXG5cblx0XHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBuZXdUcmFjZS5kdWVfZGF0ZVxuXHRcdFx0XHRuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZVxuXHRcdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cblx0XHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSlcblxuXHRcdFx0XHRuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IFtjdXJyZW50X3VzZXJdXG5cblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XG5cdFx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHR0cmFjZXMucHVzaChuZXdUcmFjZSlcblx0XHRcdFx0c2V0T2JqLnRyYWNlcyA9IHRyYWNlc1xuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxuXHRcdFx0XHRzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZVxuXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWVcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IHV1Zmxvd01hbmFnZXIuZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0KGZsb3cudGltZW91dF9hdXRvX3N1Ym1pdCwgcHJldmlvdXNfc3RlcC5saW5lcylcblxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxuXHRcdFx0XHRpZiByXG5cdFx0XHRcdFx0IyDnu5nooqvliKDpmaTnmoRpbmJveF91c2VycyDlkowg5b2T5YmN55So5oi3IOWPkemAgXB1c2hcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxuXHRcdFx0XHRcdF8uZWFjaChvbGRfaW5ib3hfdXNlcnMsICh1c2VyX2lkKS0+XG5cdFx0XHRcdFx0XHRpZiB1c2VyX2lkIGlzbnQgY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxuXHRcdFx0XHRcdClcblxuXHRcdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKVxuXG5cdFx0XHRlbHNlIGlmIHJldHJpZXZlX3R5cGUgaXMgJ2NjJ1xuXHRcdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2UuX2lkXG5cdFx0XHRcdHRoZV90cmFjZSA9IF8uZmluZCB0cmFjZXMsICh0KS0+XG5cdFx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIHJldHJpZXZlX2FwcHJvdmUudHJhY2VcblxuXHRcdFx0XHRfLmVhY2ggdGhlX3RyYWNlLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0XHRcdGlmIGEuX2lkIGlzIHJldHJpZXZlX2FwcHJvdmUuX2lkXG5cdFx0XHRcdFx0XHRhLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdFx0XHRcdGEuZmluaXNoX2RhdGUgPSB1bmRlZmluZWRcblx0XHRcdFx0XHRcdGEuanVkZ2UgPSB1bmRlZmluZWRcblx0XHRcdFx0XHRcdGEuY29zdF90aW1lID0gdW5kZWZpbmVkXG5cblx0XHRcdFx0Y2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0XHRjY191c2Vycy5wdXNoKGN1cnJlbnRfdXNlcilcblxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiXG5cdFx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlXG5cdFx0XHRcdHNldE9iai5jY191c2VycyA9IGNjX3VzZXJzXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMnXSA9IHRoZV90cmFjZS5hcHByb3Zlc1xuXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkLCAndHJhY2VzLl9pZCc6IHJldHJpZXZlX2FwcHJvdmUudHJhY2V9LCB7JHNldDogc2V0T2JqfSlcblx0XHRcdFx0aWYgclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXG5cblx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIFtjdXJyZW50X3VzZXJdKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YToge31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHtlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmV0cmlldmUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGNjX3VzZXJzLCBmbG93LCBoYW5kbGVyX2luZm8sIGksIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsYXN0X3RyYWNlLCBsYXN0X3RyYWNlX2lkLCBuZXdBcHByb3ZlLCBuZXdUcmFjZSwgbm93LCBvbGRfaW5ib3hfdXNlcnMsIG9yZ19pbmZvLCBwcmV2aW91c19zdGVwLCBwcmV2aW91c190cmFjZSwgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXMsIHByZXZpb3VzX3RyYWNlX2lkLCBwcmV2aW91c190cmFjZV9uYW1lLCBwcmV2aW91c190cmFjZV9zdGVwX2lkLCByLCByZXRyaWV2ZV9hcHByb3ZlLCByZXRyaWV2ZV9jb21tZW50LCByZXRyaWV2ZV90eXBlLCBzZXRPYmosIHNwYWNlX2lkLCBzcGFjZV91c2VyLCB0aGVfdHJhY2UsIHRyYWNlcztcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICByZXRyaWV2ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ3JldHJpZXZlX2NvbW1lbnQnXTtcbiAgICAgIGlmICgoIWluc3RhbmNlLm91dGJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSAmJiAoaW5zdGFuY2Uuc3VibWl0dGVyICE9PSBjdXJyZW50X3VzZXIgJiYgaW5zdGFuY2UuYXBwbGljYW50ICE9PSBjdXJyZW50X3VzZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+W9k+WJjeeUqOaIt+S4jeespuWQiOWPluWbnuadoeS7ticpO1xuICAgICAgfVxuICAgICAgcmV0cmlldmVfdHlwZSA9IFwiXCI7XG4gICAgICB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG4gICAgICBsYXN0X3RyYWNlID0gXy5sYXN0KHRyYWNlcyk7XG4gICAgICBsYXN0X3RyYWNlX2lkID0gbGFzdF90cmFjZS5faWQ7XG4gICAgICBwcmV2aW91c190cmFjZV9pZCA9IGxhc3RfdHJhY2UucHJldmlvdXNfdHJhY2VfaWRzWzBdO1xuICAgICAgcHJldmlvdXNfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9PT0gcHJldmlvdXNfdHJhY2VfaWQ7XG4gICAgICB9KTtcbiAgICAgIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQgPSBwcmV2aW91c190cmFjZS5zdGVwO1xuICAgICAgcHJldmlvdXNfdHJhY2VfbmFtZSA9IHByZXZpb3VzX3RyYWNlLm5hbWU7XG4gICAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgICAgcHJldmlvdXNfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCk7XG4gICAgICBpZiAocHJldmlvdXNfc3RlcC5zdGVwX3R5cGUgPT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7kuI3og73lj5blm54nKTtcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzID0gXy5maWx0ZXIocHJldmlvdXNfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgcmV0dXJuIGEudHlwZSAhPT0gJ2NjJyAmJiBhLnR5cGUgIT09ICdkaXN0cmlidXRlJyAmJiBhLnR5cGUgIT09ICdmb3J3YXJkJyAmJiBbJ2FwcHJvdmVkJywgJ3N1Ym1pdHRlZCcsICdyZWplY3RlZCddLmluY2x1ZGVzKGEuanVkZ2UpO1xuICAgICAgfSk7XG4gICAgICBpZiAocHJldmlvdXNfdHJhY2VfYXBwcm92ZXMubGVuZ3RoID09PSAxICYmIChwcmV2aW91c190cmFjZV9hcHByb3Zlc1swXS51c2VyID09PSBjdXJyZW50X3VzZXIgfHwgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0uaGFuZGxlciA9PT0gY3VycmVudF91c2VyKSkge1xuICAgICAgICByZXRyaWV2ZV90eXBlID0gJ25vcm1hbCc7XG4gICAgICB9XG4gICAgICBpID0gdHJhY2VzLmxlbmd0aDtcbiAgICAgIHJldHJpZXZlX2FwcHJvdmUgPSB7fTtcbiAgICAgIHdoaWxlIChpID4gMCkge1xuICAgICAgICBfLmVhY2godHJhY2VzW2kgLSAxXS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgIGlmIChhLnR5cGUgPT09ICdjYycgJiYgYS5pc19maW5pc2hlZCA9PT0gdHJ1ZSAmJiBhLnVzZXIgPT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgcmV0cmlldmVfdHlwZSA9ICdjYyc7XG4gICAgICAgICAgICByZXR1cm4gcmV0cmlldmVfYXBwcm92ZSA9IGE7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJldHJpZXZlX3R5cGUgPT09ICdjYycpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpLS07XG4gICAgICB9XG4gICAgICBpZiAocmV0cmlldmVfdHlwZSA9PT0gJ25vcm1hbCcpIHtcbiAgICAgICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICAgICAgcHJldmlvdXNfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCk7XG4gICAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2UuX2lkO1xuICAgICAgICBvbGRfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2VycztcbiAgICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIF8uZWFjaCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICB2YXIgY3VycmVudF9zcGFjZV91c2VyLCBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLCByZXRyaWV2ZV9hcHByO1xuICAgICAgICAgIGlmICh0Ll9pZCA9PT0gbGFzdF90cmFjZV9pZCkge1xuICAgICAgICAgICAgaWYgKCF0LmFwcHJvdmVzKSB7XG4gICAgICAgICAgICAgIHQuYXBwcm92ZXMgPSBuZXcgQXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXBwcikge1xuICAgICAgICAgICAgICBpZiAoYXBwci5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgYXBwci50eXBlICE9PSBcImNjXCIpIHtcbiAgICAgICAgICAgICAgICBhcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgICBhcHByLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgICBhcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYXBwci5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhcHByLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcHIuY29zdF90aW1lID0gYXBwci5maW5pc2hfZGF0ZSAtIGFwcHIuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgICAgICAgIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwge1xuICAgICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwciA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnRyYWNlID0gdC5faWQ7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5kdWVfZGF0ZSA9IHQuZHVlX2RhdGU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuanVkZ2UgPSBcInJldHJpZXZlZFwiO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuZGVzY3JpcHRpb24gPSByZXRyaWV2ZV9jb21tZW50O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5jb3N0X3RpbWUgPSByZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlIC0gcmV0cmlldmVfYXBwci5zdGFydF9kYXRlO1xuICAgICAgICAgICAgdC5hcHByb3Zlcy5wdXNoKHJldHJpZXZlX2FwcHIpO1xuICAgICAgICAgICAgdC5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICB0LmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0dXJuIHQuanVkZ2UgPSBcInJldHJpZXZlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2VfaWRdO1xuICAgICAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBuZXdUcmFjZS5zdGVwID0gcHJldmlvdXNfdHJhY2Vfc3RlcF9pZDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWU7XG4gICAgICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZXZpb3VzX3N0ZXAudGltZW91dF9ob3Vycyk7XG4gICAgICAgIG5ld1RyYWNlLmFwcHJvdmVzID0gW107XG4gICAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZDtcbiAgICAgICAgbmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyLCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3QXBwcm92ZS51c2VyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICAgIG9yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl07XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgICAgbmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdBcHByb3ZlLmR1ZV9kYXRlID0gbmV3VHJhY2UuZHVlX2RhdGU7XG4gICAgICAgIG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgICBuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgdXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSk7XG4gICAgICAgIG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSk7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IFtjdXJyZW50X3VzZXJdO1xuICAgICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgdHJhY2VzLnB1c2gobmV3VHJhY2UpO1xuICAgICAgICBzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgc2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSB1dWZsb3dNYW5hZ2VyLmdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdChmbG93LnRpbWVvdXRfYXV0b19zdWJtaXQsIHByZXZpb3VzX3N0ZXAubGluZXMpO1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICAgIF8uZWFjaChvbGRfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICAgIGlmICh1c2VyX2lkICE9PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChyZXRyaWV2ZV90eXBlID09PSAnY2MnKSB7XG4gICAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZDtcbiAgICAgICAgdGhlX3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHJldHVybiB0Ll9pZCA9PT0gcmV0cmlldmVfYXBwcm92ZS50cmFjZTtcbiAgICAgICAgfSk7XG4gICAgICAgIF8uZWFjaCh0aGVfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICBpZiAoYS5faWQgPT09IHJldHJpZXZlX2FwcHJvdmUuX2lkKSB7XG4gICAgICAgICAgICBhLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgICAgICBhLmZpbmlzaF9kYXRlID0gdm9pZCAwO1xuICAgICAgICAgICAgYS5qdWRnZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiBhLmNvc3RfdGltZSA9IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjY191c2VycyA9IGluc3RhbmNlLmNjX3VzZXJzO1xuICAgICAgICBjY191c2Vycy5wdXNoKGN1cnJlbnRfdXNlcik7XG4gICAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgc2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG4gICAgICAgIHNldE9iai5jY191c2VycyA9IGNjX3VzZXJzO1xuICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzJ10gPSB0aGVfdHJhY2UuYXBwcm92ZXM7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgICAgICd0cmFjZXMuX2lkJzogcmV0cmlldmVfYXBwcm92ZS50cmFjZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICB9XG4gICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgW2N1cnJlbnRfdXNlcl0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9mb3J3YXJkJywgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG5cdHRyeSB7XG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcblxuXHRcdHZhciBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuXHRcdHZhciBpbnN0YW5jZV9pZCA9IGhhc2hEYXRhLmluc3RhbmNlX2lkO1xuXHRcdHZhciBzcGFjZV9pZCA9IGhhc2hEYXRhLnNwYWNlX2lkO1xuXHRcdHZhciBmbG93X2lkID0gaGFzaERhdGEuZmxvd19pZDtcblx0XHR2YXIgaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50ID0gaGFzaERhdGEuaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50O1xuXHRcdHZhciBkZXNjcmlwdGlvbiA9IGhhc2hEYXRhLmRlc2NyaXB0aW9uO1xuXHRcdHZhciBpc0ZvcndhcmRBdHRhY2htZW50cyA9IGhhc2hEYXRhLmlzRm9yd2FyZEF0dGFjaG1lbnRzO1xuXHRcdHZhciBzZWxlY3RlZFVzZXJzID0gaGFzaERhdGEuc2VsZWN0ZWRVc2Vycztcblx0XHR2YXIgYWN0aW9uX3R5cGUgPSBoYXNoRGF0YS5hY3Rpb25fdHlwZTtcblx0XHR2YXIgcmVsYXRlZCA9IGhhc2hEYXRhLnJlbGF0ZWQ7XG5cdFx0dmFyIGZyb21fYXBwcm92ZV9pZCA9IGhhc2hEYXRhLmZyb21fYXBwcm92ZV9pZDtcblxuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpO1xuXHRcdGNoZWNrKHNwYWNlX2lkLCBTdHJpbmcpO1xuXHRcdGNoZWNrKGZsb3dfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50LCBCb29sZWFuKTtcblx0XHRjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKTtcblx0XHRjaGVjayhpc0ZvcndhcmRBdHRhY2htZW50cywgQm9vbGVhbik7XG5cdFx0Y2hlY2soc2VsZWN0ZWRVc2VycywgQXJyYXkpO1xuXHRcdGNoZWNrKGFjdGlvbl90eXBlLCBNYXRjaC5PbmVPZignZm9yd2FyZCcsICdkaXN0cmlidXRlJykpO1xuXG5cdFx0aWYgKGFjdGlvbl90eXBlID09IFwiZGlzdHJpYnV0ZVwiKVxuXHRcdFx0Y2hlY2soZnJvbV9hcHByb3ZlX2lkLCBTdHJpbmcpO1xuXG5cdFx0dmFyIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKTtcblx0XHR2YXIgb2xkX3NwYWNlX2lkID0gaW5zLnNwYWNlO1xuXG5cdFx0dmFyIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGZsb3dfaWQpO1xuXG5cdFx0dmFyIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VfaWQpO1xuXG5cdFx0aWYgKCFpbnMgfHwgIWZsb3cgfHwgIXNwYWNlKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdwYXJhbXMgZXJyb3IhJywgJ3JlY29yZCBub3QgZXhpc3RzIScpO1xuXHRcdH1cblxuXHRcdHZhciBmb3J3YXJkX3VzZXJzID0gbmV3IEFycmF5O1xuXHRcdGlmIChfLmlzRW1wdHkoc2VsZWN0ZWRVc2VycykpIHtcblx0XHRcdGZvcndhcmRfdXNlcnMgPSBbY3VycmVudF91c2VyX2lkXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yd2FyZF91c2VycyA9IHNlbGVjdGVkVXNlcnM7XG5cdFx0fVxuXG5cdFx0Ly8g5qCh6aqM5YiG5Y+R5a+56LGh5piv5ZCm5pyJ5YiG5Y+R5rWB56iL55qE5o+Q5Lqk5p2D6ZmQXG5cdFx0dmFyIG5vX3Blcm1pc3Npb25fdXNlcl9pZHMgPSBuZXcgQXJyYXkoKTtcblx0XHRfLmVhY2goZm9yd2FyZF91c2VycywgZnVuY3Rpb24gKHVpZCkge1xuXHRcdFx0dmFyIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dfaWQsIHVpZCk7XG5cdFx0XHRpZiAoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRkXCIpKSB7XG5cdFx0XHRcdC8vIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6K+l55Sz6K+35Lq65rKh5pyJ5o+Q5Lqk5q2k55Sz6K+35Y2V55qE5p2D6ZmQ44CCXCIpXG5cdFx0XHRcdG5vX3Blcm1pc3Npb25fdXNlcl9pZHMucHVzaCh1aWQpO1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0aWYgKCFfLmlzRW1wdHkobm9fcGVybWlzc2lvbl91c2VyX2lkcykpIHtcblx0XHRcdHZhciBub19wZXJtaXNzaW9uX3VzZXJzX25hbWUgPSBuZXcgQXJyYXkoKTtcblx0XHRcdGRiLnVzZXJzLmZpbmQoe1xuXHRcdFx0XHRfaWQ6IHtcblx0XHRcdFx0XHQkaW46IG5vX3Blcm1pc3Npb25fdXNlcl9pZHNcblx0XHRcdFx0fVxuXHRcdFx0fSwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pLmZvckVhY2goZnVuY3Rpb24gKHUpIHtcblx0XHRcdFx0bm9fcGVybWlzc2lvbl91c2Vyc19uYW1lLnB1c2godS5uYW1lKTtcblx0XHRcdH0pO1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm9fcGVybWlzc2lvbicsIFwi6K+l5o+Q5Lqk5Lq65rKh5pyJ5o+Q5Lqk5q2k55Sz6K+35Y2V55qE5p2D6ZmQ44CCXCIsIG5vX3Blcm1pc3Npb25fdXNlcnNfbmFtZS5qb2luKCcsJykpXG5cdFx0fVxuXG5cdFx0dmFyIG5ld19pbnNfaWRzID0gbmV3IEFycmF5O1xuXG5cdFx0dmFyIGN1cnJlbnRfdHJhY2UgPSBudWxsO1xuXHRcdGlmIChhY3Rpb25fdHlwZSA9PSBcImRpc3RyaWJ1dGVcIikge1xuXHRcdFx0Xy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRcdGlmICghY3VycmVudF90cmFjZSkge1xuXHRcdFx0XHRcdF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbiAoYSkge1xuXHRcdFx0XHRcdFx0aWYgKCFjdXJyZW50X3RyYWNlKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChhLl9pZCA9PSBmcm9tX2FwcHJvdmVfaWQpXG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudF90cmFjZSA9IHQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VycmVudF90cmFjZSA9IF8ubGFzdChpbnMudHJhY2VzKTtcblx0XHR9XG5cdFx0dmFyIGN1cnJlbnRfdHJhY2VfaWQgPSBjdXJyZW50X3RyYWNlLl9pZDtcblx0XHR2YXIgZm9yd2FyZF9hcHByb3ZlcyA9IFtdO1xuXHRcdHZhciBmcm9tX3VzZXJfbmFtZSA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0bmFtZTogMVxuXHRcdFx0fVxuXHRcdH0pLm5hbWVcblx0XHR2YXIgc2V0X29iaiA9IG5ldyBPYmplY3Q7XG5cblx0XHQvLyDorqHnrpd2YWx1ZXNcblx0XHR2YXIgb2xkX3ZhbHVlcyA9IGlucy52YWx1ZXMsXG5cdFx0XHRuZXdfdmFsdWVzID0ge307XG5cdFx0dmFyIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZsb3cuZm9ybSk7XG5cdFx0dmFyIGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHMgfHwgW107XG5cblx0XHR2YXIgb2xkX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGlucy5mb3JtKTtcblx0XHR2YXIgb2xkX2Zvcm1fdmVyc2lvbiA9IGlucy5mb3JtX3ZlcnNpb24sXG5cdFx0XHRvbGRfZmllbGRzID0gW10sXG5cdFx0XHRjb21tb25fZmllbGRzID0gW107XG5cblx0XHR2YXIgc2VsZWN0X3RvX2lucHV0X2ZpZWxkcyA9IFtdO1xuXG5cdFx0aWYgKG9sZF9mb3JtLmN1cnJlbnQuX2lkID09IG9sZF9mb3JtX3ZlcnNpb24pIHtcblx0XHRcdG9sZF9maWVsZHMgPSBvbGRfZm9ybS5jdXJyZW50LmZpZWxkcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKG9sZF9mb3JtLmhpc3RvcnlzKSB7XG5cdFx0XHRcdG9sZF9mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24gKGgpIHtcblx0XHRcdFx0XHRpZiAoaC5faWQgPT0gb2xkX2Zvcm1fdmVyc2lvbilcblx0XHRcdFx0XHRcdG9sZF9maWVsZHMgPSBoLmZpZWxkcztcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcblx0XHRcdHZhciBleGlzdHNfZmllbGQgPSBfLmZpbmQob2xkX2ZpZWxkcywgZnVuY3Rpb24gKGYpIHtcblx0XHRcdFx0cmV0dXJuIGYudHlwZSA9PSBmaWVsZC50eXBlICYmIGYuY29kZSA9PSBmaWVsZC5jb2RlO1xuXHRcdFx0fSlcblx0XHRcdGlmIChleGlzdHNfZmllbGQpXG5cdFx0XHRcdGNvbW1vbl9maWVsZHMucHVzaChmaWVsZCk7XG5cdFx0XHR2YXIgc2VsZWN0X2lucHV0X2ZpZWxkID0gXy5maW5kKG9sZF9maWVsZHMsIGZ1bmN0aW9uIChmKSB7XG5cdFx0XHRcdHJldHVybiBmLnR5cGUgPT0gJ3NlbGVjdCcgJiYgZmllbGQudHlwZSA9PSAnaW5wdXQnICYmIGYuY29kZSA9PSBmaWVsZC5jb2RlO1xuXHRcdFx0fSlcblx0XHRcdGlmIChzZWxlY3RfaW5wdXRfZmllbGQpXG5cdFx0XHRcdHNlbGVjdF90b19pbnB1dF9maWVsZHMucHVzaChzZWxlY3RfaW5wdXRfZmllbGQpO1xuXHRcdH0pXG5cblx0XHRzZWxlY3RfdG9faW5wdXRfZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG5cdFx0XHRpZiAob2xkX3ZhbHVlc1tmaWVsZC5jb2RlXSkge1xuXHRcdFx0XHRuZXdfdmFsdWVzW2ZpZWxkLmNvZGVdID0gb2xkX3ZhbHVlc1tmaWVsZC5jb2RlXTtcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0Y29tbW9uX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuXHRcdFx0aWYgKGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nKSB7XG5cdFx0XHRcdGlmIChmaWVsZC5maWVsZHMpIHtcblx0XHRcdFx0XHRmaWVsZC5maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuXHRcdFx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXG5cdFx0XHRcdFx0XHRpZiAoWydncm91cCcsICd1c2VyJ10uaW5jbHVkZXMoZi50eXBlKSAmJiBvbGRfc3BhY2VfaWQgIT0gc3BhY2VfaWQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dmFyIGtleSA9IGYuY29kZTtcblx0XHRcdFx0XHRcdHZhciBvbGRfdiA9IG9sZF92YWx1ZXNba2V5XTtcblx0XHRcdFx0XHRcdGlmIChvbGRfdikge1xuXHRcdFx0XHRcdFx0XHQvLyDmoKHpqowg5Y2V6YCJ77yM5aSa6YCJ77yM5LiL5ouJ5qGGIOWtl+auteWAvOaYr+WQpuWcqOaWsOihqOWNleWvueW6lOWtl+auteeahOWPr+mAieWAvOiMg+WbtOWGhVxuXHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdzZWxlY3QnIHx8IGYudHlwZSA9PSAncmFkaW8nKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pbmNsdWRlcyhvbGRfdikpXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdtdWx0aVNlbGVjdCcpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGYub3B0aW9ucy5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9sZF9tdWx0aVNlbGVjdGVkID0gb2xkX3Yuc3BsaXQoJywnKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgbmV3X211bHRpU2VsZWN0ZWQgPSBfLmludGVyc2VjdGlvbihvcHRpb25zLCBvbGRfbXVsdGlTZWxlY3RlZCk7XG5cdFx0XHRcdFx0XHRcdFx0b2xkX3YgPSBuZXdfbXVsdGlTZWxlY3RlZC5qb2luKCcsJyk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRuZXdfdmFsdWVzW2tleV0gPSBvbGRfdjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT0gJ3RhYmxlJykge1xuXHRcdFx0XHRpZiAoIV8uaXNFbXB0eShvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdKSkge1xuXHRcdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0gPSBuZXcgQXJyYXk7XG5cdFx0XHRcdFx0b2xkX3ZhbHVlc1tmaWVsZC5jb2RlXS5mb3JFYWNoKGZ1bmN0aW9uIChvbGRfdGFibGVfcm93X3ZhbHVlcykge1xuXHRcdFx0XHRcdFx0dmFyIG5ld190YWJsZV9yb3dfdmFsdWVzID0ge307XG5cblx0XHRcdFx0XHRcdGlmICghXy5pc0VtcHR5KGZpZWxkLmZpZWxkcykpIHtcblx0XHRcdFx0XHRcdFx0ZmllbGQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyDot6jlt6XkvZzljLrovazlj5HkuI3lpI3liLbpgInkurrpgInnu4Rcblx0XHRcdFx0XHRcdFx0XHRpZiAoWydncm91cCcsICd1c2VyJ10uaW5jbHVkZXMoZi50eXBlKSAmJiBvbGRfc3BhY2VfaWQgIT0gc3BhY2VfaWQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGtleSA9IGYuY29kZTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgb2xkX3YgPSBvbGRfdGFibGVfcm93X3ZhbHVlc1trZXldO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChvbGRfdikge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8g5qCh6aqMIOWNlemAie+8jOWkmumAie+8jOS4i+aLieahhiDlrZfmrrXlgLzmmK/lkKblnKjmlrDooajljZXlr7nlupTlrZfmrrXnmoTlj6/pgInlgLzojIPlm7TlhoVcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ3NlbGVjdCcgfHwgZi50eXBlID09ICdyYWRpbycpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaW5jbHVkZXMob2xkX3YpKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnbXVsdGlTZWxlY3QnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZi5vcHRpb25zLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG9sZF9tdWx0aVNlbGVjdGVkID0gb2xkX3Yuc3BsaXQoJywnKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG5ld19tdWx0aVNlbGVjdGVkID0gXy5pbnRlcnNlY3Rpb24ob3B0aW9ucywgb2xkX211bHRpU2VsZWN0ZWQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvbGRfdiA9IG5ld19tdWx0aVNlbGVjdGVkLmpvaW4oJywnKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0bmV3X3RhYmxlX3Jvd192YWx1ZXNba2V5XSA9IG9sZF92O1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKCFfLmlzRW1wdHkobmV3X3RhYmxlX3Jvd192YWx1ZXMpKSB7XG5cdFx0XHRcdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0ucHVzaChuZXdfdGFibGVfcm93X3ZhbHVlcyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXG5cdFx0XHRcdGlmIChbJ2dyb3VwJywgJ3VzZXInXS5pbmNsdWRlcyhmaWVsZC50eXBlKSAmJiBvbGRfc3BhY2VfaWQgIT0gc3BhY2VfaWQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIGtleSA9IGZpZWxkLmNvZGU7XG5cdFx0XHRcdHZhciBvbGRfdiA9IG9sZF92YWx1ZXNba2V5XTtcblx0XHRcdFx0aWYgKG9sZF92KSB7XG5cdFx0XHRcdFx0Ly8g5qCh6aqMIOWNlemAie+8jOWkmumAie+8jOS4i+aLieahhiDlrZfmrrXlgLzmmK/lkKblnKjmlrDooajljZXlr7nlupTlrZfmrrXnmoTlj6/pgInlgLzojIPlm7TlhoVcblx0XHRcdFx0XHRpZiAoZmllbGQudHlwZSA9PSAnc2VsZWN0JyB8fCBmaWVsZC50eXBlID09ICdyYWRpbycpIHtcblx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZmllbGQub3B0aW9ucy5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaW5jbHVkZXMob2xkX3YpKVxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGZpZWxkLnR5cGUgPT0gJ211bHRpU2VsZWN0Jykge1xuXHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmaWVsZC5vcHRpb25zLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0XHRcdHZhciBvbGRfbXVsdGlTZWxlY3RlZCA9IG9sZF92LnNwbGl0KCcsJyk7XG5cdFx0XHRcdFx0XHR2YXIgbmV3X211bHRpU2VsZWN0ZWQgPSBfLmludGVyc2VjdGlvbihvcHRpb25zLCBvbGRfbXVsdGlTZWxlY3RlZCk7XG5cdFx0XHRcdFx0XHRvbGRfdiA9IG5ld19tdWx0aVNlbGVjdGVkLmpvaW4oJywnKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRuZXdfdmFsdWVzW2tleV0gPSBvbGRfdjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fSlcblxuXHRcdC8v5aaC5p6c5piv5YiG5Y+R77yM5YiZdmFsdWXkuK3nmoRyZWNvcmRfbmVlZOOAgUZPTkRTSUTkuI3pnIDopoHliIblj5HliLDmlrDnlLPor7fljZXkuK1cblx0XHRpZiAoYWN0aW9uX3R5cGUgPT09ICdkaXN0cmlidXRlJykge1xuXHRcdFx0ZGVsZXRlIG5ld192YWx1ZXMucmVjb3JkX25lZWQ7XG5cdFx0XHRkZWxldGUgbmV3X3ZhbHVlcy5GT05EU0lEO1xuXHRcdH1cblxuXHRcdC8vIOiuoeeul+eUs+ivt+WNleagh+mimFxuXHRcdHZhciBpbnN0YW5jZV9uYW1lID0gXCJcIjtcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybS5jdXJyZW50Lm5hbWVfZm9ydW1sYTtcblx0XHRpZiAobmFtZV9mb3J1bWxhKSB7XG5cdFx0XHR2YXIgaXNjcmlwdCA9IG5hbWVfZm9ydW1sYS5yZXBsYWNlKC9cXHsvZywgXCIobmV3X3ZhbHVlc1snXCIpLnJlcGxhY2UoL1xcfS9nLCBcIiddIHx8ICcnKVwiKTtcblx0XHRcdHZhciByZXYgPSBldmFsKGlzY3JpcHQpO1xuXHRcdFx0aW5zdGFuY2VfbmFtZSA9IHJldiB8fCBmbG93Lm5hbWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGluc3RhbmNlX25hbWUgPSBmbG93Lm5hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gaW5zdGFuY2XkuK3orrDlvZXlvZPliY3mraXpqqTlkI3np7AgIzEzMTRcblx0XHR2YXIgc3RhcnRfc3RlcCA9IF8uZmluZChmbG93LmN1cnJlbnQuc3RlcHMsIGZ1bmN0aW9uIChzdGVwKSB7XG5cdFx0XHRyZXR1cm4gc3RlcC5zdGVwX3R5cGUgPT0gJ3N0YXJ0Jztcblx0XHR9KVxuXG5cdFx0Ly8g5paw5bu655Sz6K+35Y2V5pe277yMaW5zdGFuY2Vz6K6w5b2V5rWB56iL5ZCN56ew44CB5rWB56iL5YiG57G75ZCN56ewICMxMzEzXG5cdFx0dmFyIGNhdGVnb3J5X25hbWUgPSBcIlwiO1xuXHRcdGlmIChmb3JtLmNhdGVnb3J5KSB7XG5cdFx0XHR2YXIgY2F0ZWdvcnkgPSB1dWZsb3dNYW5hZ2VyLmdldENhdGVnb3J5KGZvcm0uY2F0ZWdvcnkpO1xuXHRcdFx0aWYgKGNhdGVnb3J5KVxuXHRcdFx0XHRjYXRlZ29yeV9uYW1lID0gY2F0ZWdvcnkubmFtZTtcblx0XHR9XG5cblx0XHRfLmVhY2goZm9yd2FyZF91c2VycywgZnVuY3Rpb24gKHVzZXJfaWQpIHtcblxuXHRcdFx0dmFyIHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcl9pZCk7XG5cblx0XHRcdHZhciBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0dXNlcjogdXNlcl9pZFxuXHRcdFx0fSwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRvcmdhbml6YXRpb246IDFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgc3BhY2VfdXNlcl9vcmdfaW5mbyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG5cdFx0XHRcdF9pZDogc3BhY2VfdXNlci5vcmdhbml6YXRpb25cblx0XHRcdH0sIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0dmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHR2YXIgaW5zX29iaiA9IHt9O1xuXG5cdFx0XHR2YXIgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VyX2lkKTtcblx0XHRcdHZhciBoYW5kbGVyX2lkID0gdXNlcl9pZDtcblx0XHRcdHZhciBoYW5kbGVyX2luZm8gPSB1c2VyX2luZm87XG5cdFx0XHR2YXIgaGFuZGxlcl9zcGFjZV91c2VyID0gc3BhY2VfdXNlcjtcblx0XHRcdHZhciBoYW5kbGVyX29yZ19pbmZvID0gc3BhY2VfdXNlcl9vcmdfaW5mbztcblx0XHRcdGlmIChhZ2VudCkge1xuXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnQ7XG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoYWdlbnQpO1xuXHRcdFx0XHRoYW5kbGVyX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgYWdlbnQpO1xuXHRcdFx0XHRoYW5kbGVyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKGhhbmRsZXJfc3BhY2VfdXNlcik7XG5cdFx0XHR9XG5cdFx0XHRpbnNfb2JqLl9pZCA9IGRiLmluc3RhbmNlcy5fbWFrZU5ld0lEKCk7XG5cdFx0XHRpbnNfb2JqLnNwYWNlID0gc3BhY2VfaWQ7XG5cdFx0XHRpbnNfb2JqLmZsb3cgPSBmbG93X2lkO1xuXHRcdFx0aW5zX29iai5mbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuX2lkO1xuXHRcdFx0aW5zX29iai5mb3JtID0gZmxvdy5mb3JtO1xuXHRcdFx0aW5zX29iai5mb3JtX3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuXHRcdFx0aW5zX29iai5uYW1lID0gaW5zdGFuY2VfbmFtZTtcblx0XHRcdGluc19vYmouc3VibWl0dGVyID0gaGFuZGxlcl9pZDtcblx0XHRcdGluc19vYmouc3VibWl0dGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcblx0XHRcdGluc19vYmouYXBwbGljYW50ID0gdXNlcl9pZDtcblx0XHRcdGluc19vYmouYXBwbGljYW50X25hbWUgPSB1c2VyX2luZm8ubmFtZTtcblx0XHRcdGluc19vYmouYXBwbGljYW50X29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvLm5hbWU7XG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvLmZ1bGxuYW1lO1xuXHRcdFx0aW5zX29iai5zdGF0ZSA9IFwiZHJhZnRcIjtcblx0XHRcdGluc19vYmouY29kZSA9IFwiXCI7XG5cdFx0XHRpbnNfb2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG5cdFx0XHRpbnNfb2JqLmlzX2RlbGV0ZWQgPSBmYWxzZTtcblx0XHRcdGluc19vYmouY3JlYXRlZCA9IG5vdztcblx0XHRcdGluc19vYmouY3JlYXRlZF9ieSA9IGN1cnJlbnRfdXNlcl9pZDtcblx0XHRcdGluc19vYmoubW9kaWZpZWQgPSBub3c7XG5cdFx0XHRpbnNfb2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xuXHRcdFx0aW5zX29iai5pbmJveF91c2VycyA9IFtoYW5kbGVyX2lkXTtcblx0XHRcdGluc19vYmoudmFsdWVzID0gbmV3X3ZhbHVlcztcblx0XHRcdGlmIChhY3Rpb25fdHlwZSA9PSAnZGlzdHJpYnV0ZScpIHtcblx0XHRcdFx0Ly8g6Kej5Yaz5aSa5qyh5YiG5Y+R55yL5LiN5Yiw5q2j5paH44CB6ZmE5Lu26Zeu6aKYXG5cdFx0XHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XG5cdFx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgPSBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG5cdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcy5wdXNoKGluc3RhbmNlX2lkKTtcblxuXHRcdFx0XHRpZiAocmVsYXRlZCkge1xuXHRcdFx0XHRcdGluc19vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSBbaW5zdGFuY2VfaWRdXG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIGlmIChhY3Rpb25fdHlwZSA9PSAnZm9yd2FyZCcpIHtcblx0XHRcdFx0aW5zX29iai5mb3J3YXJkX2Zyb21faW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0fVxuXG5cdFx0XHQvLyDmlrDlu7pUcmFjZVxuXHRcdFx0dmFyIHRyYWNlX29iaiA9IHt9O1xuXHRcdFx0dHJhY2Vfb2JqLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG5cdFx0XHR0cmFjZV9vYmouaW5zdGFuY2UgPSBpbnNfb2JqLl9pZDtcblx0XHRcdHRyYWNlX29iai5pc19maW5pc2hlZCA9IGZhbHNlO1xuXG5cdFx0XHQvLyDlvZPliY3mnIDmlrDniYhmbG935Lit5byA5aeL6IqC54K555qEc3RlcF9pZFxuXHRcdFx0dmFyIHN0ZXBfaWQsIHN0ZXBfbmFtZSwgY2FuX2VkaXRfbWFpbl9hdHRhY2gsIGNhbl9lZGl0X25vcm1hbF9hdHRhY2g7XG5cdFx0XHRmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbiAoc3RlcCkge1xuXHRcdFx0XHRpZiAoc3RlcC5zdGVwX3R5cGUgPT0gXCJzdGFydFwiKSB7XG5cdFx0XHRcdFx0c3RlcF9pZCA9IHN0ZXAuX2lkO1xuXHRcdFx0XHRcdHN0ZXBfbmFtZSA9IHN0ZXAubmFtZTtcblx0XHRcdFx0XHRjYW5fZWRpdF9tYWluX2F0dGFjaCA9IHN0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2g7XG5cdFx0XHRcdFx0Y2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9IHN0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaDtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdHRyYWNlX29iai5zdGVwID0gc3RlcF9pZDtcblx0XHRcdHRyYWNlX29iai5zdGFydF9kYXRlID0gbm93O1xuXHRcdFx0dHJhY2Vfb2JqLm5hbWUgPSBzdGVwX25hbWU7XG5cblx0XHRcdC8vIOaWsOW7ukFwcHJvdmVcblx0XHRcdHZhciBhcHByX29iaiA9IHt9O1xuXHRcdFx0YXBwcl9vYmouX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcblx0XHRcdGFwcHJfb2JqLmluc3RhbmNlID0gaW5zX29iai5faWQ7XG5cdFx0XHRhcHByX29iai50cmFjZSA9IHRyYWNlX29iai5faWQ7XG5cdFx0XHRhcHByX29iai5pc19maW5pc2hlZCA9IGZhbHNlO1xuXHRcdFx0YXBwcl9vYmoudXNlciA9IHVzZXJfaWQ7XG5cdFx0XHRhcHByX29iai51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZTtcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xuXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG5cdFx0XHRhcHByX29iai5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGhhbmRsZXJfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG5cdFx0XHRhcHByX29iai5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gaGFuZGxlcl9vcmdfaW5mby5uYW1lO1xuXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBoYW5kbGVyX29yZ19pbmZvLmZ1bGxuYW1lO1xuXHRcdFx0YXBwcl9vYmoudHlwZSA9IFwiZHJhZnRcIjtcblx0XHRcdGFwcHJfb2JqLnN0YXJ0X2RhdGUgPSBub3c7XG5cdFx0XHRhcHByX29iai5yZWFkX2RhdGUgPSBub3c7XG5cdFx0XHRhcHByX29iai5pc19yZWFkID0gZmFsc2U7XG5cdFx0XHRhcHByX29iai5pc19lcnJvciA9IGZhbHNlO1xuXG5cdFx0XHRhcHByX29iai52YWx1ZXMgPSBuZXdfdmFsdWVzO1xuXG5cdFx0XHRpZiAoYWdlbnQpIHtcblx0XHRcdFx0YXBwcl9vYmouYWdlbnQgPSBhZ2VudDtcblx0XHRcdH1cblxuXHRcdFx0dHJhY2Vfb2JqLmFwcHJvdmVzID0gW2FwcHJfb2JqXTtcblx0XHRcdGluc19vYmoudHJhY2VzID0gW3RyYWNlX29ial07XG5cblx0XHRcdGlmIChmbG93LmF1dG9fcmVtaW5kID09IHRydWUpXG5cdFx0XHRcdGluc19vYmouYXV0b19yZW1pbmQgPSB0cnVlO1xuXG5cdFx0XHRpbnNfb2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gc3RhcnRfc3RlcC5uYW1lO1xuXG5cdFx0XHRpbnNfb2JqLmZsb3dfbmFtZSA9IGZsb3cubmFtZTtcblx0XHRcdGlmIChjYXRlZ29yeV9uYW1lKVxuXHRcdFx0XHRpbnNfb2JqLmNhdGVnb3J5X25hbWUgPSBjYXRlZ29yeS5uYW1lO1xuXHRcdFx0XHRpbnNfb2JqLmNhdGVnb3J5ID0gY2F0ZWdvcnkuX2lkO1xuXG5cdFx0XHRuZXdfaW5zX2lkID0gZGIuaW5zdGFuY2VzLmluc2VydChpbnNfb2JqKTtcblxuXHRcdFx0Ly8g5aSN5Yi26ZmE5Lu2XG5cdFx0XHR2YXIgY29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXM7XG5cblx0XHRcdC8v5bCG5Y6f6KGo5Y2V5YaF5a655a2Y5YKo5Li656ys5LiA5Liq6ZmE5Lu2XG5cdFx0XHRpZiAoaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50KSB7XG5cdFx0XHRcdC8vIHRyeSB7XG5cblx0XHRcdFx0aW5zdGFuY2VIdG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyX2luZm8sIHNwYWNlX2lkLCBpbnMsIHtcblx0XHRcdFx0XHRhYnNvbHV0ZTogdHJ1ZVxuXHRcdFx0XHR9KVxuXHRcdFx0XHR2YXIgaW5zdGFuY2VGaWxlID0gbmV3IEZTLkZpbGUoKTtcblx0XHRcdFx0aW5zdGFuY2VGaWxlLmF0dGFjaERhdGEoQnVmZmVyLmZyb20oaW5zdGFuY2VIdG1sLCBcInV0Zi04XCIpLCB7XG5cdFx0XHRcdFx0dHlwZTogXCJ0ZXh0L2h0bWxcIlxuXHRcdFx0XHR9LCBmdW5jdGlvbiAoZXJyb3IpIHtcblx0XHRcdFx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoZXJyb3IuZXJyb3IsIGVycm9yLnJlYXNvbik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aW5zdGFuY2VGaWxlLm5hbWUoaW5zLm5hbWUgKyBcIi5odG1sXCIpO1xuXHRcdFx0XHRcdGluc3RhbmNlRmlsZS5zaXplKGluc3RhbmNlSHRtbC5sZW5ndGgpO1xuXG5cdFx0XHRcdFx0dmFyIG1ldGFkYXRhID0ge1xuXHRcdFx0XHRcdFx0b3duZXI6IHVzZXJfaWQsXG5cdFx0XHRcdFx0XHRvd25lcl9uYW1lOiB1c2VyX2luZm8ubmFtZSxcblx0XHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0XHRcdGluc3RhbmNlOiBuZXdfaW5zX2lkLFxuXHRcdFx0XHRcdFx0YXBwcm92ZTogYXBwcl9vYmouX2lkLFxuXHRcdFx0XHRcdFx0Y3VycmVudDogdHJ1ZVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0aW5zdGFuY2VGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG5cdFx0XHRcdFx0dmFyIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChpbnN0YW5jZUZpbGUpO1xuXHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHtcblx0XHRcdFx0XHRcdCRzZXQ6IHtcblx0XHRcdFx0XHRcdFx0J21ldGFkYXRhLnBhcmVudCc6IGZpbGVPYmouX2lkXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fSlcblxuXHRcdFx0XHQvLyB9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vICAgICBjb25zb2xlLmVycm9yKGUpO1xuXHRcdFx0XHQvLyB9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc0ZvcndhcmRBdHRhY2htZW50cyAmJiBhY3Rpb25fdHlwZSA9PSAnZm9yd2FyZCcpIHtcblx0XHRcdFx0dmFyIGZpbGVzID0gY29sbGVjdGlvbi5maW5kKHtcblx0XHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZV9pZCxcblx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcblx0XHRcdFx0XHQvLyDliKTmlq3mlrDnmoTmtYHnqIvlvIDlp4voioLngrnmmK/lkKbmnInnvJbovpHmraPmloflkoznvJbovpHpmYTku7bmnYPpmZBcblx0XHRcdFx0XHRpZiAoZi5tZXRhZGF0YS5tYWluID09IHRydWUpIHtcblx0XHRcdFx0XHRcdGlmIChjYW5fZWRpdF9tYWluX2F0dGFjaCAhPSB0cnVlICYmIGNhbl9lZGl0X25vcm1hbF9hdHRhY2ggIT0gdHJ1ZSlcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAoY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCAhPSB0cnVlKVxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dmFyIG5ld0ZpbGUgPSBuZXcgRlMuRmlsZSgpO1xuXHRcdFx0XHRcdG5ld0ZpbGUuYXR0YWNoRGF0YShmLmNyZWF0ZVJlYWRTdHJlYW0oJ2luc3RhbmNlcycpLCB7XG5cdFx0XHRcdFx0XHR0eXBlOiBmLm9yaWdpbmFsLnR5cGVcblx0XHRcdFx0XHR9LCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoZXJyLmVycm9yLCBlcnIucmVhc29uKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG5ld0ZpbGUubmFtZShmLm5hbWUoKSk7XG5cdFx0XHRcdFx0XHRuZXdGaWxlLnNpemUoZi5zaXplKCkpO1xuXHRcdFx0XHRcdFx0dmFyIG1ldGFkYXRhID0ge1xuXHRcdFx0XHRcdFx0XHRvd25lcjogdXNlcl9pZCxcblx0XHRcdFx0XHRcdFx0b3duZXJfbmFtZTogdXNlcl9pbmZvLm5hbWUsXG5cdFx0XHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0XHRcdFx0aW5zdGFuY2U6IG5ld19pbnNfaWQsXG5cdFx0XHRcdFx0XHRcdGFwcHJvdmU6IGFwcHJfb2JqLl9pZCxcblx0XHRcdFx0XHRcdFx0Y3VycmVudDogdHJ1ZVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGlmIChmLm1ldGFkYXRhLm1haW4gPT0gdHJ1ZSAmJiBjYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLm1haW4gPSB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuXHRcdFx0XHRcdFx0dmFyIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcblx0XHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0JHNldDoge1xuXHRcdFx0XHRcdFx0XHRcdCdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH0pXG5cblx0XHRcdFx0fSlcblx0XHRcdH1cblxuXHRcdFx0Ly8g57uZ5b2T5YmN55qE55Sz6K+35Y2V5aKe5Yqg6L2s5Y+R6K6w5b2VXG5cdFx0XHR2YXIgYXBwciA9IHtcblx0XHRcdFx0J19pZCc6IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHIsXG5cdFx0XHRcdCdpbnN0YW5jZSc6IGluc3RhbmNlX2lkLFxuXHRcdFx0XHQndHJhY2UnOiBjdXJyZW50X3RyYWNlX2lkLFxuXHRcdFx0XHQnaXNfZmluaXNoZWQnOiB0cnVlLFxuXHRcdFx0XHQndXNlcic6IHVzZXJfaWQsXG5cdFx0XHRcdCd1c2VyX25hbWUnOiB1c2VyX2luZm8ubmFtZSxcblx0XHRcdFx0J2hhbmRsZXInOiB1c2VyX2lkLFxuXHRcdFx0XHQnaGFuZGxlcl9uYW1lJzogdXNlcl9pbmZvLm5hbWUsXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbic6IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uLFxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSc6IHNwYWNlX3VzZXJfb3JnX2luZm8ubmFtZSxcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lJzogc3BhY2VfdXNlcl9vcmdfaW5mby5mdWxsbmFtZSxcblx0XHRcdFx0J3R5cGUnOiBhY3Rpb25fdHlwZSxcblx0XHRcdFx0J3N0YXJ0X2RhdGUnOiBuZXcgRGF0ZSgpLFxuXHRcdFx0XHQnZmluaXNoX2RhdGUnOiBuZXcgRGF0ZSgpLFxuXHRcdFx0XHQnaXNfcmVhZCc6IGZhbHNlLFxuXHRcdFx0XHQnanVkZ2UnOiAnc3VibWl0dGVkJyxcblx0XHRcdFx0J2Zyb21fdXNlcic6IGN1cnJlbnRfdXNlcl9pZCxcblx0XHRcdFx0J2Zyb21fdXNlcl9uYW1lJzogZnJvbV91c2VyX25hbWUsXG5cdFx0XHRcdCdmb3J3YXJkX3NwYWNlJzogc3BhY2VfaWQsXG5cdFx0XHRcdCdmb3J3YXJkX2luc3RhbmNlJzogbmV3X2luc19pZCxcblx0XHRcdFx0J2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb24sXG5cdFx0XHRcdCdmcm9tX2FwcHJvdmVfaWQnOiBmcm9tX2FwcHJvdmVfaWRcblx0XHRcdH07XG5cblx0XHRcdGZvcndhcmRfYXBwcm92ZXMucHVzaChhcHByKTtcblxuXHRcdFx0bmV3X2luc19pZHMucHVzaChuZXdfaW5zX2lkKTtcblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcblx0XHR9KVxuXG5cdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0X29iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcl9pZDtcblx0XHR2YXIgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcblx0XHRcdFwidHJhY2VzLl9pZFwiOiBjdXJyZW50X3RyYWNlX2lkXG5cdFx0fSwge1xuXHRcdFx0JHNldDogc2V0X29iaixcblx0XHRcdCRhZGRUb1NldDoge1xuXHRcdFx0XHQndHJhY2VzLiQuYXBwcm92ZXMnOiB7XG5cdFx0XHRcdFx0JGVhY2g6IGZvcndhcmRfYXBwcm92ZXNcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0aWYgKHIpIHtcblx0XHRcdF8uZWFjaChjdXJyZW50X3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRcdGlmIChhLl9pZCA9PSBmcm9tX2FwcHJvdmVfaWQpIHtcblx0XHRcdFx0XHR2YXIgdXBkYXRlX3JlYWQgPSB7fTtcblx0XHRcdFx0XHR1cGRhdGVfcmVhZFtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRcdF9pZDogaW5zdGFuY2VfaWQsXG5cdFx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogY3VycmVudF90cmFjZV9pZFxuXHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdCRzZXQ6IHVwZGF0ZV9yZWFkXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cblx0XHR9XG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7fVxuXHRcdH0pXG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRjb25zb2xlLmVycm9yKGUuc3RhY2spXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRlcnJvcnM6IFtlXVxuXHRcdFx0fVxuXHRcdH0pXG5cdH1cblxufSkiLCJKc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvd29ya2Zsb3cvaW5zdGFuY2UvOmluc3RhbmNlSWQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSwgcmVzKVxuXHRcdGN1cnJlbnRfdXNlcl9pZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aW5zSWQgPSByZXEucGFyYW1zLmluc3RhbmNlSWRcblxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7IGZpZWxkczogeyBzcGFjZTogMSwgZmxvdzogMSwgc3RhdGU6IDEsIGluYm94X3VzZXJzOiAxLCBjY191c2VyczogMSwgb3V0Ym94X3VzZXJzOiAxLCBzdWJtaXR0ZXI6IDEsIGFwcGxpY2FudDogMSB9IH0pXG5cblx0XHRpZiBub3QgaW5zXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdpbnN0YW5jZUlkIGlzIHdyb25nIG9yIGluc3RhbmNlIG5vdCBleGlzdHMuJylcblxuXHRcdHNwYWNlSWQgPSBpbnMuc3BhY2Vcblx0XHRmbG93SWQgPSBpbnMuZmxvd1xuXG5cdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZUlkLCB1c2VyOiBjdXJyZW50X3VzZXJfaWQgfSkuY291bnQoKSBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICd1c2VyIGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZS4nKVxuXG5cdFx0Ym94ID0gJydcblxuXHRcdGlmIChpbnMuaW5ib3hfdXNlcnM/LmluY2x1ZGVzIGN1cnJlbnRfdXNlcl9pZCkgb3IgKGlucy5jY191c2Vycz8uaW5jbHVkZXMgY3VycmVudF91c2VyX2lkKVxuXHRcdFx0Ym94ID0gJ2luYm94J1xuXHRcdGVsc2UgaWYgaW5zLm91dGJveF91c2Vycz8uaW5jbHVkZXMgY3VycmVudF91c2VyX2lkXG5cdFx0XHRib3ggPSAnb3V0Ym94J1xuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdkcmFmdCcgYW5kIGlucy5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyX2lkXG5cdFx0XHRib3ggPSAnZHJhZnQnXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ3BlbmRpbmcnIGFuZCAoaW5zLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXJfaWQgb3IgaW5zLmFwcGxpY2FudCBpcyBjdXJyZW50X3VzZXJfaWQpXG5cdFx0XHRib3ggPSAncGVuZGluZydcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAnY29tcGxldGVkJyBhbmQgaW5zLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXJfaWRcblx0XHRcdGJveCA9ICdjb21wbGV0ZWQnXG5cdFx0ZWxzZVxuXHRcdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93SWQsIGN1cnJlbnRfdXNlcl9pZClcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZCwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcblx0XHRcdGlmIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkpXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJubyBwZXJtaXNzaW9uLlwiKVxuXHRcdFx0Ym94ID0gJ21vbml0b3InXG5cblx0XHRyZWRpcmVjdFRvID0gTWV0ZW9yLmFic29sdXRlVXJsIFwid29ya2Zsb3cvc3BhY2UvI3tzcGFjZUlkfS8je2JveH0vI3tpbnNJZH1cIlxuXG5cdFx0cmVzLnNldEhlYWRlciBcIkxvY2F0aW9uXCIsIHJlZGlyZWN0VG9cblx0XHRyZXMud3JpdGVIZWFkIDMwMlxuXHRcdHJlcy5lbmQoKVxuXHRcdHJldHVyblxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XG4iLCJKc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvd29ya2Zsb3cvaW5zdGFuY2UvOmluc3RhbmNlSWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYm94LCBjdXJyZW50X3VzZXJfaWQsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93SWQsIGlucywgaW5zSWQsIHBlcm1pc3Npb25zLCByZWRpcmVjdFRvLCByZWYsIHJlZjEsIHJlZjIsIHNwYWNlLCBzcGFjZUlkO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSwgcmVzKTtcbiAgICBjdXJyZW50X3VzZXJfaWQgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaW5zSWQgPSByZXEucGFyYW1zLmluc3RhbmNlSWQ7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgZmxvdzogMSxcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGluYm94X3VzZXJzOiAxLFxuICAgICAgICBjY191c2VyczogMSxcbiAgICAgICAgb3V0Ym94X3VzZXJzOiAxLFxuICAgICAgICBzdWJtaXR0ZXI6IDEsXG4gICAgICAgIGFwcGxpY2FudDogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdpbnN0YW5jZUlkIGlzIHdyb25nIG9yIGluc3RhbmNlIG5vdCBleGlzdHMuJyk7XG4gICAgfVxuICAgIHNwYWNlSWQgPSBpbnMuc3BhY2U7XG4gICAgZmxvd0lkID0gaW5zLmZsb3c7XG4gICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgICB1c2VyOiBjdXJyZW50X3VzZXJfaWRcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICd1c2VyIGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZS4nKTtcbiAgICB9XG4gICAgYm94ID0gJyc7XG4gICAgaWYgKCgocmVmID0gaW5zLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkgOiB2b2lkIDApIHx8ICgocmVmMSA9IGlucy5jY191c2VycykgIT0gbnVsbCA/IHJlZjEuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSA6IHZvaWQgMCkpIHtcbiAgICAgIGJveCA9ICdpbmJveCc7XG4gICAgfSBlbHNlIGlmICgocmVmMiA9IGlucy5vdXRib3hfdXNlcnMpICE9IG51bGwgPyByZWYyLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkgOiB2b2lkIDApIHtcbiAgICAgIGJveCA9ICdvdXRib3gnO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAnZHJhZnQnICYmIGlucy5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlcl9pZCkge1xuICAgICAgYm94ID0gJ2RyYWZ0JztcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ3BlbmRpbmcnICYmIChpbnMuc3VibWl0dGVyID09PSBjdXJyZW50X3VzZXJfaWQgfHwgaW5zLmFwcGxpY2FudCA9PT0gY3VycmVudF91c2VyX2lkKSkge1xuICAgICAgYm94ID0gJ3BlbmRpbmcnO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAnY29tcGxldGVkJyAmJiBpbnMuc3VibWl0dGVyID09PSBjdXJyZW50X3VzZXJfaWQpIHtcbiAgICAgIGJveCA9ICdjb21wbGV0ZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93SWQsIGN1cnJlbnRfdXNlcl9pZCk7XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlSWQsIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgYWRtaW5zOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcIm5vIHBlcm1pc3Npb24uXCIpO1xuICAgICAgfVxuICAgICAgYm94ID0gJ21vbml0b3InO1xuICAgIH1cbiAgICByZWRpcmVjdFRvID0gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBzcGFjZUlkICsgXCIvXCIgKyBib3ggKyBcIi9cIiArIGluc0lkKTtcbiAgICByZXMuc2V0SGVhZGVyKFwiTG9jYXRpb25cIiwgcmVkaXJlY3RUbyk7XG4gICAgcmVzLndyaXRlSGVhZCgzMDIpO1xuICAgIHJlcy5lbmQoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZyDojrflj5blvoXlip7mlofku7ZcblxuQGFwaURlc2NyaXB0aW9uIOiOt+WPluW9k+WJjeeUqOaIt+eahOW+heWKnuS6i+mhueWIl+ihqFxuXG5AYXBpTmFtZSBnZXRJbmJveFxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcblx0e1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG5cdHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcImlkXCI6IFwiZzd3b2tYTmtSOXl4SHZBNERcIixcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paH5rWB56iLXCIsXG5cdFx0XHRcdFwic3BhY2VfbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlofmtYHnqIsgMVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IG51bGwsXG5cdFx0XHRcdFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA3LTI1VDA2OjM2OjQ4LjQ5MlpcIixcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcblx0XHRcdFx0XCJzcGFjZV9pZFwiOiBcImtmRHNNdjdnQmV3bUdYR0VMXCIsXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcblx0XHRcdFx0XCJpc19yZWFkXCI6IGZhbHNlLFxuXHRcdFx0XHRcInZhbHVlc1wiOiB7fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJpZFwiOiBcIldxS1NyV1FveXdnSmFNcDlrXCIsXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIwWlwiLFxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh1xcblwiLFxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paHXFxuIDFcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBcIuaut+S6rui+iVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNi0yN1QxMDoyNjoxOS40NjhaXCIsXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjFaXCIsXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiB0cnVlLFxuXHRcdFx0XHRcInZhbHVlc1wiOiB7fVxuXHRcdFx0fVxuXHRcdF1cblx0fVxuIyMjXG5Kc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm5cblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXSB8fCByZXEucXVlcnk/LnNwYWNlSWRcblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBzcGFjZV9pZCcpXG5cblx0XHR1c2VyX2lkID0gcmVxLnVzZXJJZFxuXG5cdFx0aWYgIXVzZXJfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ05vdCBsb2dnZWQgaW4nKVxuXG5cdFx0aWYgZGIudXNlcnMuZmluZCh7IF9pZDogdXNlcl9pZCB9KS5jb3VudCgpIGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdGxpbWl0ID0gcmVxLnF1ZXJ5Py5saW1pdCB8fCA1MDBcblxuXHRcdGxpbWl0ID0gcGFyc2VJbnQobGltaXQpXG5cblx0XHR1c2VybmFtZSA9IHJlcS5xdWVyeT8udXNlcm5hbWVcblxuXHRcdHVzZXJpZCA9IHJlcS5xdWVyeT8udXNlcmlkXG5cblx0XHRhdHRhY2ggPSByZXEucXVlcnk/LmF0dGFjaFxuXG5cdFx0d29ya2Zsb3dfY2F0ZWdvcmllcyA9IHJlcS5xdWVyeT8ud29ya2Zsb3dfY2F0ZWdvcmllc1xuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblxuXHRcdCMg5aaC5p6c5b2T5YmN55So5oi35piv5bel5L2c5Yy6566h55CG5ZGY77yM5YiZ6YCa6L+H5p+l55yLdXJs5LiK5piv5ZCm5pyJdXNlcm5hbWVcXHVzZXJpZCDvvIxcblx0XHQjIOWmguaenOacie+8jOWImei/lOWbnnVzZXJuYW1lXFx1c2VyaWTlr7nlupTnmoTnlKjmiLfvvIzlkKbliJnov5Tlm57lvZPliY3nlKjmiLflvoXlip7jgIJcblx0XHQjIHVzZXJuYW1lXFx1c2VyaWTpg73lrZjlnKjml7bvvIx1c2VyaWTkvJjlhYhcblx0XHRzcGVjaWFsX3VzZXJfaWRcblx0XHRpZiBzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcl9pZClcblx0XHRcdGlmIHVzZXJpZFxuXHRcdFx0XHRpZiBkYi51c2Vycy5maW5kKHsgX2lkOiB1c2VyaWQgfSkuY291bnQoKSA8IDFcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcmlkOiAje3VzZXJpZH1cIilcblxuXHRcdFx0XHRzcGVjaWFsX3VzZXJfaWQgPSB1c2VyaWRcblx0XHRcdGVsc2UgaWYgdXNlcm5hbWVcblx0XHRcdFx0dSA9IGRiLnVzZXJzLmZpbmRPbmUoeyB1c2VybmFtZTogdXNlcm5hbWUgfSwgeyBmaWVsZHM6IHsgX2lkOiAxIH0gfSlcblx0XHRcdFx0aWYgXy5pc0VtcHR5KHUpXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJuYW1lOiAje3VzZXJuYW1lfVwiKVxuXG5cdFx0XHRcdHNwZWNpYWxfdXNlcl9pZCA9IHUuX2lkXG5cblx0XHRyZXN1bHRfaW5zdGFuY2VzID0gbmV3IEFycmF5XG5cblx0XHRpc19yZWFkID0gZmFsc2Vcblx0XHRzdGFydF9kYXRlID0gJydcblx0XHR1aWQgPSB1c2VyX2lkXG5cdFx0cXVlcnkgPSB7XG5cdFx0XHQkb3I6IFt7IGluYm94X3VzZXJzOiB1c2VyX2lkIH0sIHsgY2NfdXNlcnM6IHVzZXJfaWQgfV1cblx0XHR9XG5cblx0XHRpZiBzcGVjaWFsX3VzZXJfaWRcblx0XHRcdHVpZCA9IHNwZWNpYWxfdXNlcl9pZFxuXHRcdFx0cXVlcnkgPSB7XG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0JG9yOiBbeyBpbmJveF91c2Vyczogc3BlY2lhbF91c2VyX2lkIH0sIHsgY2NfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZCB9XVxuXHRcdFx0fVxuXG5cdFx0aWYgd29ya2Zsb3dfY2F0ZWdvcmllc1xuXHRcdFx0cXVlcnkuY2F0ZWdvcnkgPSB7ICRpbjogd29ya2Zsb3dfY2F0ZWdvcmllcy5zcGxpdCgnLCcpIH1cblxuXHRcdHNwYWNlX25hbWVzID0ge31cblx0XHRzcGFjZV9uYW1lc1tzcGFjZS5faWRdID0gc3BhY2UubmFtZVxuXG5cdFx0aWYgbGltaXQgPiAwXG5cdFx0XHRkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwgeyBzb3J0OiB7IG1vZGlmaWVkOiAtMSB9LCBsaW1pdDogbGltaXQgfSkuZm9yRWFjaCAoaSkgLT5cblxuXHRcdFx0XHRpZiBpLmluYm94X3VzZXJzPy5pbmNsdWRlcyh1aWQpXG5cdFx0XHRcdFx0Xy5lYWNoIGkudHJhY2VzLCAodCkgLT5cblx0XHRcdFx0XHRcdGlmIHQuaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHRcdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhKSAtPlxuXHRcdFx0XHRcdFx0XHRcdGlmIGEudXNlciBpcyB1aWQgYW5kIGEudHlwZSBpc250ICdjYycgYW5kIG5vdCBhLmlzX2ZpbmlzaGVkXG5cdFx0XHRcdFx0XHRcdFx0XHRpc19yZWFkID0gYS5pc19yZWFkXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRfLmVhY2ggaS50cmFjZXMsICh0KSAtPlxuXHRcdFx0XHRcdFx0aWYgbm90IHN0YXJ0X2RhdGUgYW5kIHQuYXBwcm92ZXNcblx0XHRcdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhKSAtPlxuXHRcdFx0XHRcdFx0XHRcdGlmIG5vdCBzdGFydF9kYXRlIGFuZCBhLnVzZXIgaXMgdWlkIGFuZCBhLnR5cGUgaXMgJ2NjJyBhbmQgbm90IGEuaXNfZmluaXNoZWRcblx0XHRcdFx0XHRcdFx0XHRcdGlzX3JlYWQgPSBhLmlzX3JlYWRcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGVcblxuXHRcdFx0XHRpZiBub3Qgc3BhY2VfbmFtZXNbaS5zcGFjZV1cblx0XHRcdFx0XHRzcGFjZV9uYW1lc1tpLnNwYWNlXSA9IGRiLnNwYWNlcy5maW5kT25lKGkuc3BhY2UsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KT8ubmFtZVxuXG5cdFx0XHRcdGggPSBuZXcgT2JqZWN0XG5cdFx0XHRcdGhbXCJpZFwiXSA9IGlbXCJfaWRcIl1cblx0XHRcdFx0aFtcInN0YXJ0X2RhdGVcIl0gPSBzdGFydF9kYXRlXG5cdFx0XHRcdGhbXCJmbG93X25hbWVcIl0gPSBpLmZsb3dfbmFtZVxuXHRcdFx0XHRoW1wic3BhY2VfbmFtZVwiXSA9IHNwYWNlX25hbWVzW2kuc3BhY2VdXG5cdFx0XHRcdGhbXCJuYW1lXCJdID0gaVtcIm5hbWVcIl1cblx0XHRcdFx0aFtcImFwcGxpY2FudF9uYW1lXCJdID0gaVtcImFwcGxpY2FudF9uYW1lXCJdXG5cdFx0XHRcdGhbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBpW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdXG5cdFx0XHRcdGhbXCJzdWJtaXRfZGF0ZVwiXSA9IGlbXCJzdWJtaXRfZGF0ZVwiXVxuXHRcdFx0XHRoW1wic3RlcF9uYW1lXCJdID0gaS5jdXJyZW50X3N0ZXBfbmFtZVxuXHRcdFx0XHRoW1wic3BhY2VfaWRcIl0gPSBpLnNwYWNlXG5cdFx0XHRcdGhbXCJtb2RpZmllZFwiXSA9IGlbXCJtb2RpZmllZFwiXVxuXHRcdFx0XHRoW1wiaXNfcmVhZFwiXSA9IGlzX3JlYWRcblx0XHRcdFx0aFtcInZhbHVlc1wiXSA9IGlbXCJ2YWx1ZXNcIl1cblxuXHRcdFx0XHRpZiBhdHRhY2ggaXMgJ3RydWUnXG5cdFx0XHRcdFx0aC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7ICdtZXRhZGF0YS5pbnN0YW5jZSc6IGkuX2lkLCAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7ICRuZTogdHJ1ZSB9IH0sIHsgZmllbGRzOiB7IGNvcGllczogMCB9IH0pLmZldGNoKClcblxuXHRcdFx0XHRyZXN1bHRfaW5zdGFuY2VzLnB1c2goaClcblxuXHRcdG5vX2xpbWl0X2NvdW50ID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnkpLmNvdW50KClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHRfaW5zdGFuY2VzLCBjb3VudDogbm9fbGltaXRfY291bnQgfVxuXHRcdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5yZWFzb24gfV0gfVxuXHRcdH1cblxuIiwiXG4vKlxuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZyDojrflj5blvoXlip7mlofku7ZcblxuQGFwaURlc2NyaXB0aW9uIOiOt+WPluW9k+WJjeeUqOaIt+eahOW+heWKnuS6i+mhueWIl+ihqFxuXG5AYXBpTmFtZSBnZXRJbmJveFxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcblx0e1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG5cdHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcImlkXCI6IFwiZzd3b2tYTmtSOXl4SHZBNERcIixcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paH5rWB56iLXCIsXG5cdFx0XHRcdFwic3BhY2VfbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlofmtYHnqIsgMVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IG51bGwsXG5cdFx0XHRcdFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA3LTI1VDA2OjM2OjQ4LjQ5MlpcIixcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcblx0XHRcdFx0XCJzcGFjZV9pZFwiOiBcImtmRHNNdjdnQmV3bUdYR0VMXCIsXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcblx0XHRcdFx0XCJpc19yZWFkXCI6IGZhbHNlLFxuXHRcdFx0XHRcInZhbHVlc1wiOiB7fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJpZFwiOiBcIldxS1NyV1FveXdnSmFNcDlrXCIsXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIwWlwiLFxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh1xcblwiLFxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paHXFxuIDFcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBcIuaut+S6rui+iVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNi0yN1QxMDoyNjoxOS40NjhaXCIsXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjFaXCIsXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiB0cnVlLFxuXHRcdFx0XHRcInZhbHVlc1wiOiB7fVxuXHRcdFx0fVxuXHRcdF1cblx0fVxuICovXG5Kc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF0dGFjaCwgZSwgaXNfcmVhZCwgbGltaXQsIG5vX2xpbWl0X2NvdW50LCBxdWVyeSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCByZWY1LCByZXN1bHRfaW5zdGFuY2VzLCBzcGFjZSwgc3BhY2VfaWQsIHNwYWNlX25hbWVzLCBzcGVjaWFsX3VzZXJfaWQsIHN0YXJ0X2RhdGUsIHUsIHVpZCwgdXNlcl9pZCwgdXNlcmlkLCB1c2VybmFtZSwgd29ya2Zsb3dfY2F0ZWdvcmllcztcbiAgdHJ5IHtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddIHx8ICgocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLnNwYWNlSWQgOiB2b2lkIDApO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3BhY2VfaWQnKTtcbiAgICB9XG4gICAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdOb3QgbG9nZ2VkIGluJyk7XG4gICAgfVxuICAgIGlmIChkYi51c2Vycy5maW5kKHtcbiAgICAgIF9pZDogdXNlcl9pZFxuICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIGxpbWl0ID0gKChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5saW1pdCA6IHZvaWQgMCkgfHwgNTAwO1xuICAgIGxpbWl0ID0gcGFyc2VJbnQobGltaXQpO1xuICAgIHVzZXJuYW1lID0gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLnVzZXJuYW1lIDogdm9pZCAwO1xuICAgIHVzZXJpZCA9IChyZWYzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMy51c2VyaWQgOiB2b2lkIDA7XG4gICAgYXR0YWNoID0gKHJlZjQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY0LmF0dGFjaCA6IHZvaWQgMDtcbiAgICB3b3JrZmxvd19jYXRlZ29yaWVzID0gKHJlZjUgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY1LndvcmtmbG93X2NhdGVnb3JpZXMgOiB2b2lkIDA7XG4gICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICBzcGVjaWFsX3VzZXJfaWQ7XG4gICAgaWYgKHNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VyX2lkKSkge1xuICAgICAgaWYgKHVzZXJpZCkge1xuICAgICAgICBpZiAoZGIudXNlcnMuZmluZCh7XG4gICAgICAgICAgX2lkOiB1c2VyaWRcbiAgICAgICAgfSkuY291bnQoKSA8IDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcmlkOiBcIiArIHVzZXJpZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3BlY2lhbF91c2VyX2lkID0gdXNlcmlkO1xuICAgICAgfSBlbHNlIGlmICh1c2VybmFtZSkge1xuICAgICAgICB1ID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIF9pZDogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChfLmlzRW1wdHkodSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcm5hbWU6IFwiICsgdXNlcm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHNwZWNpYWxfdXNlcl9pZCA9IHUuX2lkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHRfaW5zdGFuY2VzID0gbmV3IEFycmF5O1xuICAgIGlzX3JlYWQgPSBmYWxzZTtcbiAgICBzdGFydF9kYXRlID0gJyc7XG4gICAgdWlkID0gdXNlcl9pZDtcbiAgICBxdWVyeSA9IHtcbiAgICAgICRvcjogW1xuICAgICAgICB7XG4gICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNjX3VzZXJzOiB1c2VyX2lkXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuICAgIGlmIChzcGVjaWFsX3VzZXJfaWQpIHtcbiAgICAgIHVpZCA9IHNwZWNpYWxfdXNlcl9pZDtcbiAgICAgIHF1ZXJ5ID0ge1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGluYm94X3VzZXJzOiBzcGVjaWFsX3VzZXJfaWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjY191c2Vyczogc3BlY2lhbF91c2VyX2lkXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAod29ya2Zsb3dfY2F0ZWdvcmllcykge1xuICAgICAgcXVlcnkuY2F0ZWdvcnkgPSB7XG4gICAgICAgICRpbjogd29ya2Zsb3dfY2F0ZWdvcmllcy5zcGxpdCgnLCcpXG4gICAgICB9O1xuICAgIH1cbiAgICBzcGFjZV9uYW1lcyA9IHt9O1xuICAgIHNwYWNlX25hbWVzW3NwYWNlLl9pZF0gPSBzcGFjZS5uYW1lO1xuICAgIGlmIChsaW1pdCA+IDApIHtcbiAgICAgIGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICBtb2RpZmllZDogLTFcbiAgICAgICAgfSxcbiAgICAgICAgbGltaXQ6IGxpbWl0XG4gICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdmFyIGgsIHJlZjYsIHJlZjc7XG4gICAgICAgIGlmICgocmVmNiA9IGkuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWY2LmluY2x1ZGVzKHVpZCkgOiB2b2lkIDApIHtcbiAgICAgICAgICBfLmVhY2goaS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGlmICh0LmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoYS51c2VyID09PSB1aWQgJiYgYS50eXBlICE9PSAnY2MnICYmICFhLmlzX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICBpc19yZWFkID0gYS5pc19yZWFkO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfLmVhY2goaS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGlmICghc3RhcnRfZGF0ZSAmJiB0LmFwcHJvdmVzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgIGlmICghc3RhcnRfZGF0ZSAmJiBhLnVzZXIgPT09IHVpZCAmJiBhLnR5cGUgPT09ICdjYycgJiYgIWEuaXNfZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgIGlzX3JlYWQgPSBhLmlzX3JlYWQ7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3BhY2VfbmFtZXNbaS5zcGFjZV0pIHtcbiAgICAgICAgICBzcGFjZV9uYW1lc1tpLnNwYWNlXSA9IChyZWY3ID0gZGIuc3BhY2VzLmZpbmRPbmUoaS5zcGFjZSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSkgIT0gbnVsbCA/IHJlZjcubmFtZSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBoID0gbmV3IE9iamVjdDtcbiAgICAgICAgaFtcImlkXCJdID0gaVtcIl9pZFwiXTtcbiAgICAgICAgaFtcInN0YXJ0X2RhdGVcIl0gPSBzdGFydF9kYXRlO1xuICAgICAgICBoW1wiZmxvd19uYW1lXCJdID0gaS5mbG93X25hbWU7XG4gICAgICAgIGhbXCJzcGFjZV9uYW1lXCJdID0gc3BhY2VfbmFtZXNbaS5zcGFjZV07XG4gICAgICAgIGhbXCJuYW1lXCJdID0gaVtcIm5hbWVcIl07XG4gICAgICAgIGhbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfbmFtZVwiXTtcbiAgICAgICAgaFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICAgIGhbXCJzdWJtaXRfZGF0ZVwiXSA9IGlbXCJzdWJtaXRfZGF0ZVwiXTtcbiAgICAgICAgaFtcInN0ZXBfbmFtZVwiXSA9IGkuY3VycmVudF9zdGVwX25hbWU7XG4gICAgICAgIGhbXCJzcGFjZV9pZFwiXSA9IGkuc3BhY2U7XG4gICAgICAgIGhbXCJtb2RpZmllZFwiXSA9IGlbXCJtb2RpZmllZFwiXTtcbiAgICAgICAgaFtcImlzX3JlYWRcIl0gPSBpc19yZWFkO1xuICAgICAgICBoW1widmFsdWVzXCJdID0gaVtcInZhbHVlc1wiXTtcbiAgICAgICAgaWYgKGF0dGFjaCA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgaC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpLl9pZCxcbiAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgICAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBjb3BpZXM6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRfaW5zdGFuY2VzLnB1c2goaCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgbm9fbGltaXRfY291bnQgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSkuY291bnQoKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRfaW5zdGFuY2VzLFxuICAgICAgICBjb3VudDogbm9fbGltaXRfY291bnRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUucmVhc29uXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpXG5cbk1ldGVvci5zdGFydHVwIC0+XG5cdFdlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlIFwiL2FwaS93b3JrZmxvdy9leHBvcnQvdGFsYmVfdGVtcGxhdGVcIiwgKHJlcSwgcmVzLCBuZXh0KS0+XG5cdFx0Y29va2llcyA9IG5ldyBDb29raWVzKCByZXEsIHJlcyApO1xuXHRcdCMgZmlyc3QgY2hlY2sgcmVxdWVzdCBib2R5XG5cdFx0aWYgcmVxLmJvZHlcblx0XHRcdHVzZXJJZCA9IHJlcS5ib2R5W1wiWC1Vc2VyLUlkXCJdXG5cdFx0XHRhdXRoVG9rZW4gPSByZXEuYm9keVtcIlgtQXV0aC1Ub2tlblwiXVxuXG5cdFx0IyB0aGVuIGNoZWNrIGNvb2tpZVxuXHRcdGlmICF1c2VySWQgb3IgIWF1dGhUb2tlblxuXHRcdFx0dXNlcklkID0gY29va2llcy5nZXQoXCJYLVVzZXItSWRcIilcblx0XHRcdGF1dGhUb2tlbiA9IGNvb2tpZXMuZ2V0KFwiWC1BdXRoLVRva2VuXCIpXG5cblx0XHRpZiAhKHVzZXJJZCBhbmQgYXV0aFRva2VuKVxuXHRcdFx0cmVzLndyaXRlSGVhZCg0MDEpO1xuXHRcdFx0cmVzLmVuZCBKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1BdXRoLVRva2VuXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0fSlcblx0XHRcdHJldHVybiA7XG5cblx0XHRmbG93SWQgPSByZXEucXVlcnk/LmZsb3c7XG5cblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7c3BhY2U6IDEsIGZvcm06IDEsIG5hbWU6IDF9fSlcblxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGZsb3cuZm9ybX0sIHtmaWVsZHM6IHtzcGFjZTogMSwgXCJjdXJyZW50Ll9pZFwiOiAxfX0pXG5cblx0XHRpZiBfLmlzRW1wdHkoZmxvdylcblx0XHRcdHJlcy53cml0ZUhlYWQoNDAxKTtcblx0XHRcdHJlcy5lbmQgSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBJbnZhbGlkIGZvcm1JZFwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdH0pXG5cdFx0XHRyZXR1cm4gO1xuXHRcdGVsc2Vcblx0XHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihmbG93LnNwYWNlLCB1c2VySWQpXG5cdFx0XHRcdHJlcy53cml0ZUhlYWQoNDAxKTtcblx0XHRcdFx0cmVzLmVuZCBKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvblwiLFxuXHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0XHR9KVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoZmxvdy5zcGFjZSwgeyBmaWVsZHM6IHsgaXNfcGFpZDogMSB9IH0pXG5cdFx0XHRpZiAhc3BhY2U/LmlzX3BhaWRcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0XHRjb2RlOiA0MDQsXG5cdFx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vbi1wYWlkIHNwYWNlLlwiLFxuXHRcdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdGRhdGEgPSBUZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSh7Zm9ybTogZmxvdy5mb3JtLCBmb3JtX3ZlcnNpb246IGZvcm0/LmN1cnJlbnQ/Ll9pZH0sIHRydWUpO1xuXG5cdFx0ZmlsZU5hbWUgPSBmbG93Lm5hbWVcblxuXHRcdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQnKTtcblx0XHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JytlbmNvZGVVUkkoZmlsZU5hbWUpKycuaHRtbCcpO1xuXHRcdHJlcy5lbmQoZGF0YSkiLCJ2YXIgQ29va2llcztcblxuQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpO1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFdlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlKFwiL2FwaS93b3JrZmxvdy9leHBvcnQvdGFsYmVfdGVtcGxhdGVcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICB2YXIgYXV0aFRva2VuLCBjb29raWVzLCBkYXRhLCBmaWxlTmFtZSwgZmxvdywgZmxvd0lkLCBmb3JtLCByZWYsIHJlZjEsIHNwYWNlLCB1c2VySWQ7XG4gICAgY29va2llcyA9IG5ldyBDb29raWVzKHJlcSwgcmVzKTtcbiAgICBpZiAocmVxLmJvZHkpIHtcbiAgICAgIHVzZXJJZCA9IHJlcS5ib2R5W1wiWC1Vc2VyLUlkXCJdO1xuICAgICAgYXV0aFRva2VuID0gcmVxLmJvZHlbXCJYLUF1dGgtVG9rZW5cIl07XG4gICAgfVxuICAgIGlmICghdXNlcklkIHx8ICFhdXRoVG9rZW4pIHtcbiAgICAgIHVzZXJJZCA9IGNvb2tpZXMuZ2V0KFwiWC1Vc2VyLUlkXCIpO1xuICAgICAgYXV0aFRva2VuID0gY29va2llcy5nZXQoXCJYLUF1dGgtVG9rZW5cIik7XG4gICAgfVxuICAgIGlmICghKHVzZXJJZCAmJiBhdXRoVG9rZW4pKSB7XG4gICAgICByZXMud3JpdGVIZWFkKDQwMSk7XG4gICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW5cIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZsb3dJZCA9IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuZmxvdyA6IHZvaWQgMDtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3dJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgZm9ybTogMSxcbiAgICAgICAgbmFtZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvdy5mb3JtXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBcImN1cnJlbnQuX2lkXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoXy5pc0VtcHR5KGZsb3cpKSB7XG4gICAgICByZXMud3JpdGVIZWFkKDQwMSk7XG4gICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gSW52YWxpZCBmb3JtSWRcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oZmxvdy5zcGFjZSwgdXNlcklkKSkge1xuICAgICAgICByZXMud3JpdGVIZWFkKDQwMSk7XG4gICAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb25cIixcbiAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGZsb3cuc3BhY2UsIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgaXNfcGFpZDogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghKHNwYWNlICE9IG51bGwgPyBzcGFjZS5pc19wYWlkIDogdm9pZCAwKSkge1xuICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogNDA0LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vbi1wYWlkIHNwYWNlLlwiLFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBkYXRhID0gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoe1xuICAgICAgZm9ybTogZmxvdy5mb3JtLFxuICAgICAgZm9ybV92ZXJzaW9uOiBmb3JtICE9IG51bGwgPyAocmVmMSA9IGZvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjEuX2lkIDogdm9pZCAwIDogdm9pZCAwXG4gICAgfSwgdHJ1ZSk7XG4gICAgZmlsZU5hbWUgPSBmbG93Lm5hbWU7XG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nICsgZW5jb2RlVVJJKGZpbGVOYW1lKSArICcuaHRtbCcpO1xuICAgIHJldHVybiByZXMuZW5kKGRhdGEpO1xuICB9KTtcbn0pO1xuIiwiIyMjXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzIOaWsOW7uueUs+ivt+WNlVxuXG5AYXBpTmFtZSBjcmVhdGVJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxue1xuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcbiAgICBcImFwcGxpY2FudFwiOiDnlLPor7fkurpJZCxcbiAgICBcInZhbHVlc1wiOiB7XG4gICAgICAgIFwiZmllbGRzMVwiIDog5a2X5q615YC8LFxuICAgICAgICBcImZpZWxkczJcIiA6IOWtl+auteWAvCxcbiAgICAgICAgLi4uXG4gICAgfVxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cblxuQGFwaUVycm9yRXhhbXBsZSB7anNvbn0gZXJyb3ItUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJlcnJvclwiLFxuICAgIFwiZGF0YVwiOiB7Li4ufVxufVxuIyMjXG5Kc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm5cblxuXHRcdHVzZXJfaWQgPSByZXEudXNlcklkXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHVzZXJfaWQgfSlcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciB4X3NwYWNlX2lkJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyX2luZm8uX2lkKVxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXG5cdFx0aWYgbm90IGhhc2hEYXRhW1wiZmxvd1wiXVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBudWxsJylcblxuXHRcdGZsb3dfaWQgICAgICA9IGhhc2hEYXRhW1wiZmxvd1wiXVxuXHRcdGFwcGxpY2FudF9pZCA9IGhhc2hEYXRhW1wiYXBwbGljYW50XCJdXG5cdFx0YXBwbGljYW50X3VzZXJuYW1lID0gaGFzaERhdGFbXCJhcHBsaWNhbnRfdXNlcm5hbWVcIl1cblxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50ID0gbmV3IE9iamVjdFxuXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGZsb3dfaWQgfSwgeyBmaWVsZHM6IHsgc3BhY2U6IDEsICdjdXJyZW50Ll9pZCc6IDEgfSB9KVxuXHRcdGlmIG5vdCBmbG93XG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBleGlzdHMnKVxuXG5cdFx0aWYgc3BhY2VfaWQgaXNudCBmbG93LnNwYWNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpXG5cblx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBjdXJyZW50X3VzZXJfaW5mby5faWQgfSkuY291bnQoKSBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJylcblxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wic3BhY2VcIl0gPSBzcGFjZV9pZFxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd1wiXSA9IGZsb3dfaWRcblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dfdmVyc2lvblwiXSA9IGZsb3cuY3VycmVudC5faWRcblxuXHRcdGFwcGxpY2FudCA9IG51bGxcblx0XHRpZiBhcHBsaWNhbnRfaWQgb3IgYXBwbGljYW50X3VzZXJuYW1lXG5cblx0XHRcdGlmIGFwcGxpY2FudF9pZFxuXHRcdFx0XHRhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhcHBsaWNhbnRfaWQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdGlmIG5vdCBhcHBsaWNhbnRcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgd3JvbmcnKVxuXG5cdFx0XHRlbHNlIGlmIGFwcGxpY2FudF91c2VybmFtZVxuXHRcdFx0XHRhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHsgdXNlcm5hbWU6IGFwcGxpY2FudF91c2VybmFtZSB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0aWYgbm90IGFwcGxpY2FudFxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudF91c2VybmFtZSBpcyB3cm9uZycpXG5cblx0XHRcdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHBsaWNhbnQuX2lkIH0pXG5cdFx0XHRpZiBub3Qgc3BhY2VfdXNlclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKVxuXG5cdFx0XHRpZiBzcGFjZV91c2VyLnVzZXJfYWNjZXB0ZWQgaXNudCB0cnVlXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBkaXNhYmxlZCBpbiB0aGlzIHNwYWNlJylcblxuXHRcdFx0c3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKVxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRcIl0gPSBhcHBsaWNhbnQuX2lkXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9uYW1lXCJdID0gYXBwbGljYW50Lm5hbWVcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvblwiXSA9ICBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxuXG5cdFx0YXBwbGljYW50SW5mbyA9IGFwcGxpY2FudCB8fCBjdXJyZW50X3VzZXJfaW5mb1xuXG5cdFx0dHJhY2VzID0gW11cblx0XHR0cmFjZSA9IG5ldyBPYmplY3Rcblx0XHRhcHByb3ZlcyA9IFtdXG5cdFx0YXBwcm92ZSA9IG5ldyBPYmplY3Rcblx0XHRhcHByb3ZlW1widmFsdWVzXCJdID0gaGFzaERhdGFbXCJ2YWx1ZXNcIl1cblx0XHRhcHByb3Zlcy5wdXNoKGFwcHJvdmUpXG5cdFx0dHJhY2VbXCJhcHByb3Zlc1wiXSA9IGFwcHJvdmVzXG5cdFx0dHJhY2VzLnB1c2godHJhY2UpXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0gPSB0cmFjZXNcblxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl0gPSBbYXBwbGljYW50SW5mby5faWRdXG5cblx0XHRuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGFwcGxpY2FudEluZm8pXG5cblx0XHRuZXdfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUobmV3X2luc19pZClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiBuZXdfaW5zIH1cblx0XHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XG5cdFx0fVxuIiwiXG4vKlxuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2RyYWZ0cyDmlrDlu7rnlLPor7fljZVcblxuQGFwaU5hbWUgY3JlYXRlSW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcbntcbiAgICBcImZsb3dcIjog5rWB56iLSWQsXG4gICAgXCJhcHBsaWNhbnRcIjog55Sz6K+35Lq6SWQsXG4gICAgXCJ2YWx1ZXNcIjoge1xuICAgICAgICBcImZpZWxkczFcIiA6IOWtl+auteWAvCxcbiAgICAgICAgXCJmaWVsZHMyXCIgOiDlrZfmrrXlgLwsXG4gICAgICAgIC4uLlxuICAgIH1cbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuICAgIFwiZGF0YVwiOiB7aW5zdGFuY2V9XG59XG5cbkBhcGlFcnJvckV4YW1wbGUge2pzb259IGVycm9yLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwiZXJyb3JcIixcbiAgICBcImRhdGFcIjogey4uLn1cbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2RyYWZ0cycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhcHBsaWNhbnQsIGFwcGxpY2FudEluZm8sIGFwcGxpY2FudF9pZCwgYXBwbGljYW50X3VzZXJuYW1lLCBhcHByb3ZlLCBhcHByb3ZlcywgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGZsb3dfaWQsIGhhc2hEYXRhLCBpbnN0YW5jZV9mcm9tX2NsaWVudCwgbmV3X2lucywgbmV3X2luc19pZCwgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHNwYWNlX3VzZXJfb3JnX2luZm8sIHRyYWNlLCB0cmFjZXMsIHVzZXJfaWQ7XG4gIHRyeSB7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHVzZXJfaWQgPSByZXEudXNlcklkO1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICBfaWQ6IHVzZXJfaWRcbiAgICB9KTtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgeF9zcGFjZV9pZCcpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyX2luZm8uX2lkKTtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIGlmICghaGFzaERhdGFbXCJmbG93XCJdKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG51bGwnKTtcbiAgICB9XG4gICAgZmxvd19pZCA9IGhhc2hEYXRhW1wiZmxvd1wiXTtcbiAgICBhcHBsaWNhbnRfaWQgPSBoYXNoRGF0YVtcImFwcGxpY2FudFwiXTtcbiAgICBhcHBsaWNhbnRfdXNlcm5hbWUgPSBoYXNoRGF0YVtcImFwcGxpY2FudF91c2VybmFtZVwiXTtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudCA9IG5ldyBPYmplY3Q7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93X2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAnY3VycmVudC5faWQnOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFmbG93KSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBleGlzdHMnKTtcbiAgICB9XG4gICAgaWYgKHNwYWNlX2lkICE9PSBmbG93LnNwYWNlKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpO1xuICAgIH1cbiAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBjdXJyZW50X3VzZXJfaW5mby5faWRcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJyk7XG4gICAgfVxuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wic3BhY2VcIl0gPSBzcGFjZV9pZDtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dcIl0gPSBmbG93X2lkO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd192ZXJzaW9uXCJdID0gZmxvdy5jdXJyZW50Ll9pZDtcbiAgICBhcHBsaWNhbnQgPSBudWxsO1xuICAgIGlmIChhcHBsaWNhbnRfaWQgfHwgYXBwbGljYW50X3VzZXJuYW1lKSB7XG4gICAgICBpZiAoYXBwbGljYW50X2lkKSB7XG4gICAgICAgIGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIF9pZDogYXBwbGljYW50X2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWFwcGxpY2FudCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyB3cm9uZycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFwcGxpY2FudF91c2VybmFtZSkge1xuICAgICAgICBhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICB1c2VybmFtZTogYXBwbGljYW50X3VzZXJuYW1lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWFwcGxpY2FudCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudF91c2VybmFtZSBpcyB3cm9uZycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwbGljYW50Ll9pZFxuICAgICAgfSk7XG4gICAgICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJyk7XG4gICAgICB9XG4gICAgICBpZiAoc3BhY2VfdXNlci51c2VyX2FjY2VwdGVkICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBkaXNhYmxlZCBpbiB0aGlzIHNwYWNlJyk7XG4gICAgICB9XG4gICAgICBzcGFjZV91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRcIl0gPSBhcHBsaWNhbnQuX2lkO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGFwcGxpY2FudC5uYW1lO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICB9XG4gICAgYXBwbGljYW50SW5mbyA9IGFwcGxpY2FudCB8fCBjdXJyZW50X3VzZXJfaW5mbztcbiAgICB0cmFjZXMgPSBbXTtcbiAgICB0cmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgYXBwcm92ZXMgPSBbXTtcbiAgICBhcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICBhcHByb3ZlW1widmFsdWVzXCJdID0gaGFzaERhdGFbXCJ2YWx1ZXNcIl07XG4gICAgYXBwcm92ZXMucHVzaChhcHByb3ZlKTtcbiAgICB0cmFjZVtcImFwcHJvdmVzXCJdID0gYXBwcm92ZXM7XG4gICAgdHJhY2VzLnB1c2godHJhY2UpO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdID0gdHJhY2VzO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl0gPSBbYXBwbGljYW50SW5mby5faWRdO1xuICAgIG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgYXBwbGljYW50SW5mbyk7XG4gICAgbmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG5ld19pbnNfaWQpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IG5ld19pbnNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQg5p+l55yL55Sz6K+35Y2V6K+m5oOFXG5cbkBhcGlOYW1lIGdldEluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnmoTnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGluc19pZCDnlLPor7fljZVJZFxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cbiMjI1xuSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuXG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKVxuXHRcdGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGluc3RhbmNlJylcblxuXHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsIHVzZXI6IGN1cnJlbnRfdXNlciB9KS5jb3VudCgpIGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgd3JvbmcnKVxuXG5cdFx0IyDmnYPpmZDvvJrku4Xku6XkuIvkurrlkZjlj6/ku6Xmn6XnnIvnlLPor7fljZXor6bmg4XvvJrmj5DkuqTogIXjgIHnlLPor7fogIXjgIHnu4/miYvogIXjgIHmnKzmtYHnqIvnmoTnrqHnkIblkZjjgIHmnKzmtYHnqIvnmoTop4Llr5/lkZjjgIHmnKzlt6XkvZzljLrnmoTnrqHnkIblkZjjgIHmnKzlt6XkvZzljLrnmoTmiYDmnInogIXjgIJcblx0XHRwZXJtX3VzZXJzID0gbmV3IEFycmF5XG5cdFx0cGVybV91c2Vycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcilcblx0XHRwZXJtX3VzZXJzLnB1c2goaW5zdGFuY2UuYXBwbGljYW50KVxuXHRcdGlmIGluc3RhbmNlLm91dGJveF91c2Vyc1xuXHRcdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLm91dGJveF91c2Vycylcblx0XHRpZiBpbnN0YW5jZS5pbmJveF91c2Vyc1xuXHRcdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLmluYm94X3VzZXJzKVxuXHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlLnNwYWNlIH0sIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXG5cdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KHNwYWNlLmFkbWlucylcblxuXHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIChub3QgcGVybV91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSBhbmQgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcIm1vbml0b3JcIikpIGFuZCAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdubyBwZXJtaXNzaW9uJylcblxuXHRcdGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiBpbnN0YW5jZSB9XG5cdFx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxuXHRcdH1cblxuIiwiXG4vKlxuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQg5p+l55yL55Sz6K+35Y2V6K+m5oOFXG5cbkBhcGlOYW1lIGdldEluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnmoTnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGluc19pZCDnlLPor7fljZVJZFxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBlLCBpbnNfaWQsIGluc3RhbmNlLCBwZXJtX3VzZXJzLCBwZXJtaXNzaW9ucywgc3BhY2UsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgaW5zdGFuY2UnKTtcbiAgICB9XG4gICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IGluc3RhbmNlLnNwYWNlLFxuICAgICAgdXNlcjogY3VycmVudF91c2VyXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXV0aF90b2tlbiBpcyB3cm9uZycpO1xuICAgIH1cbiAgICBwZXJtX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpO1xuICAgIHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuICAgIGlmIChpbnN0YW5jZS5vdXRib3hfdXNlcnMpIHtcbiAgICAgIHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChpbnN0YW5jZS5vdXRib3hfdXNlcnMpO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UuaW5ib3hfdXNlcnMpIHtcbiAgICAgIHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChpbnN0YW5jZS5pbmJveF91c2Vycyk7XG4gICAgfVxuICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZS5zcGFjZVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBhZG1pbnM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoc3BhY2UuYWRtaW5zKTtcbiAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpO1xuICAgIGlmICgoIXBlcm1fdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgJiYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcIm1vbml0b3JcIikpICYmICghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25vIHBlcm1pc3Npb24nKTtcbiAgICB9XG4gICAgaW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLFxuICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgJG5lOiB0cnVlXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGNvcGllczogMFxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogaW5zdGFuY2VcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQGFwaSB7cHV0fSAvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQg5o+Q5Lqk55Sz6K+35Y2VXG5cbkBhcGlEZXNjcmlwdGlvbiDmmoLkuI3mlK/mjIHlvIDlp4voioLngrnkuIvkuIDoioLngrnkuLrmnaHku7bnmoTmg4XlhrVcblxuQGFwaU5hbWUgc3VibWl0SW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuICAgIHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuICAgIHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxuXHR9XG4jIyNcblxuSnNvblJvdXRlcy5hZGQgJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcblxuXHRcdCMg5qCh6aqM55Sz6K+35Y2V54q25oCB5Li66I2J56i/XG5cdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlRHJhZnQoaW5zdGFuY2UpXG5cblx0XHRpZiBzcGFjZV9pZCBpc250IGluc3RhbmNlW1wic3BhY2VcIl1cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlIGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpXG5cblx0XHQjIOagoemqjOeUs+ivt+WNleW/heWhq+Wtl+auteaYr+WQpuacieWAvFxuXHRcdHZhbHVlcyA9IGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF0udmFsdWVzXG5cblx0XHRmb3JtID0gdXVmbG93TWFuYWdlci5nZXRGb3JtKGluc3RhbmNlLmZvcm0pXG5cblx0XHRyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMgPSB1dWZsb3dNYW5hZ2VyLmNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlKHZhbHVlcywgZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXG5cdFx0aWYgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDBcblx0XHRcdGlmIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPiAxXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkcyA8JyArIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5qb2luKFwiLFwiKSArICc+IGFyZSByZXF1aXJlZCcpXG5cdFx0XHRlbHNlIGlmIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPSAxXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gaXMgcmVxdWlyZWQnKVxuXG5cdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXG5cdFx0c3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF0uc3RlcClcblxuXHRcdCMg6K6h566X5LiL5LiA5q2l6aqk6YCJ6aG5XG5cdFx0bmV4dFN0ZXBzID0gdXVmbG93TWFuYWdlci5nZXROZXh0U3RlcHMoaW5zdGFuY2UsIGZsb3csIHN0ZXAsIFwic3VibWl0dGVkXCIpXG5cblx0XHRpZiBuZXh0U3RlcHMubGVuZ3RoIDwgMVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIG5leHQgc3RlcHMnKVxuXG5cdFx0aWYgbmV4dFN0ZXBzLmxlbmd0aCA+IDFcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBub3QgdW5pcScpXG5cblx0XHRuZXh0X3N0ZXBfaWQgPSBuZXh0U3RlcHNbMF1cblxuXHRcdCMg6K6h566X5LiL5LiA5q2l5aSE55CG5Lq66YCJ6aG5XG5cdFx0bmV4dF91c2VyX2lkcyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyhpbnNfaWQsIG5leHRfc3RlcF9pZCkgfHwgW11cblxuXHRcdGlmIG5leHRfdXNlcl9pZHMubGVuZ3RoID4gMVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIGhhbmRsZXIgbm90IHVuaXEnKVxuXG5cdFx0aW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXVtcIm5leHRfc3RlcHNcIl0gPSBbeydzdGVwJzogbmV4dF9zdGVwX2lkLCAndXNlcnMnOiBuZXh0X3VzZXJfaWRzfV1cblxuXHRcdHJlc3VsdCA9IG5ldyBPYmplY3RcblxuXHRcdHN1Ym1pdHRlciA9IGRiLnVzZXJzLmZpbmRPbmUoaW5zdGFuY2Uuc3VibWl0dGVyKVxuXG5cdFx0aWYgbm90IHN1Ym1pdHRlclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHN1Ym1pdHRlcicpXG5cblx0XHRyID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2UsIHN1Ym1pdHRlcilcblxuXHRcdGlmIHIuYWxlcnRzXG5cdFx0XHRyZXN1bHQgPSByXG5cdFx0ZWxzZVxuXHRcdFx0cmVzdWx0ID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKVxuXHRcdFx0aWYgcmVzdWx0XG5cdFx0XHRcdHJlc3VsdC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogaW5zX2lkLCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHskbmU6IHRydWV9fSwge2ZpZWxkczoge2NvcGllczogMH19KS5mZXRjaCgpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJcbi8qXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCDmj5DkuqTnlLPor7fljZVcblxuQGFwaURlc2NyaXB0aW9uIOaaguS4jeaUr+aMgeW8gOWni+iKgueCueS4i+S4gOiKgueCueS4uuadoeS7tueahOaDheWGtVxuXG5AYXBpTmFtZSBzdWJtaXRJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG4gICAge1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG4gICAge1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XG5cdH1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgZm9ybSwgaW5zX2lkLCBpbnN0YW5jZSwgbmV4dFN0ZXBzLCBuZXh0X3N0ZXBfaWQsIG5leHRfdXNlcl9pZHMsIHIsIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcywgcmVzdWx0LCBzcGFjZV9pZCwgc3RlcCwgc3VibWl0dGVyLCB2YWx1ZXM7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlRHJhZnQoaW5zdGFuY2UpO1xuICAgIGlmIChzcGFjZV9pZCAhPT0gaW5zdGFuY2VbXCJzcGFjZVwiXSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2UgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJyk7XG4gICAgfVxuICAgIHZhbHVlcyA9IGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF0udmFsdWVzO1xuICAgIGZvcm0gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm0oaW5zdGFuY2UuZm9ybSk7XG4gICAgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzID0gdXVmbG93TWFuYWdlci5jaGVja1ZhbHVlRmllbGRzUmVxdWlyZSh2YWx1ZXMsIGZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XG4gICAgaWYgKHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAocmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGRzIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gYXJlIHJlcXVpcmVkJyk7XG4gICAgICB9IGVsc2UgaWYgKHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gaXMgcmVxdWlyZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICBzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBpbnN0YW5jZVtcInRyYWNlc1wiXVswXS5zdGVwKTtcbiAgICBuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwgXCJzdWJtaXR0ZWRcIik7XG4gICAgaWYgKG5leHRTdGVwcy5sZW5ndGggPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgbmV4dCBzdGVwcycpO1xuICAgIH1cbiAgICBpZiAobmV4dFN0ZXBzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBub3QgdW5pcScpO1xuICAgIH1cbiAgICBuZXh0X3N0ZXBfaWQgPSBuZXh0U3RlcHNbMF07XG4gICAgbmV4dF91c2VyX2lkcyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyhpbnNfaWQsIG5leHRfc3RlcF9pZCkgfHwgW107XG4gICAgaWYgKG5leHRfdXNlcl9pZHMubGVuZ3RoID4gMSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIGhhbmRsZXIgbm90IHVuaXEnKTtcbiAgICB9XG4gICAgaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXVtcIm5leHRfc3RlcHNcIl0gPSBbXG4gICAgICB7XG4gICAgICAgICdzdGVwJzogbmV4dF9zdGVwX2lkLFxuICAgICAgICAndXNlcnMnOiBuZXh0X3VzZXJfaWRzXG4gICAgICB9XG4gICAgXTtcbiAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgIHN1Ym1pdHRlciA9IGRiLnVzZXJzLmZpbmRPbmUoaW5zdGFuY2Uuc3VibWl0dGVyKTtcbiAgICBpZiAoIXN1Ym1pdHRlcikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHN1Ym1pdHRlcicpO1xuICAgIH1cbiAgICByID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2UsIHN1Ym1pdHRlcik7XG4gICAgaWYgKHIuYWxlcnRzKSB7XG4gICAgICByZXN1bHQgPSByO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZCxcbiAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgY29waWVzOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQGFwaSB7cHV0fSAvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkIOaaguWtmOeUs+ivt+WNlVxuXG5AYXBpTmFtZSBzYXZlSW5zdGFuY2VzXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbiAgICB7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbiAgICB7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cblx0fVxuIyMjXG5Kc29uUm91dGVzLmFkZCAncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0dmFsdWVzID0gcmVxLmJvZHlcblxuXHRcdGlmIG5vdCB2YWx1ZXNcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgdmFsdWVzJylcblxuXHRcdGN1cnJlbnRfdHJhY2UgPSBudWxsXG5cdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpXG5cdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXG5cdFx0Xy5lYWNoIGluc3RhbmNlLnRyYWNlcywgKHQpLT5cblx0XHRcdGlmIHQuaXNfZmluaXNoZWQgaXNudCB0cnVlXG5cdFx0XHRcdGN1cnJlbnRfdHJhY2UgPSB0XG5cblx0XHRjdXJyZW50X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGN1cnJlbnRfdHJhY2Uuc3RlcClcblxuXHRcdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb3VudGVyU2lnblwiXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7mraXpqqTkuI3og73kv67mlLnooajljZXlgLwnKVxuXG5cdFx0Xy5lYWNoIGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIChhKS0+XG5cdFx0XHRpZiBhLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZSBhbmQgYS50eXBlIGlzbnQgXCJjY1wiXG5cdFx0XHRcdGEudmFsdWVzID0gdmFsdWVzXG5cblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZVxuXHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gY3VycmVudF90cmFjZS5hcHByb3Zlc1xuXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSB7XG5cdFx0XHRfaWQ6IGluc19pZFxuXHRcdFx0J3RyYWNlcy5faWQnOiBjdXJyZW50X3RyYWNlLl9pZFxuXHRcdH0sICRzZXQ6IHNldE9ialxuXG5cdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuIiwiXG4vKlxuQGFwaSB7cHV0fSAvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkIOaaguWtmOeUs+ivt+WNlVxuXG5AYXBpTmFtZSBzYXZlSW5zdGFuY2VzXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbiAgICB7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbiAgICB7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cblx0fVxuICovXG5Kc29uUm91dGVzLmFkZCgncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF9zdGVwLCBjdXJyZW50X3RyYWNlLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBpbnNfaWQsIGluc3RhbmNlLCByZXN1bHQsIHNldE9iaiwgc3BhY2VfaWQsIHZhbHVlcztcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICB2YWx1ZXMgPSByZXEuYm9keTtcbiAgICBpZiAoIXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCB2YWx1ZXMnKTtcbiAgICB9XG4gICAgY3VycmVudF90cmFjZSA9IG51bGw7XG4gICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgIF8uZWFjaChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGlmICh0LmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X3RyYWNlID0gdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjdXJyZW50X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGN1cnJlbnRfdHJhY2Uuc3RlcCk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgPT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5q2l6aqk5LiN6IO95L+u5pS56KGo5Y2V5YC8Jyk7XG4gICAgfVxuICAgIF8uZWFjaChjdXJyZW50X3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICBpZiAoYS5pc19maW5pc2hlZCAhPT0gdHJ1ZSAmJiBhLnR5cGUgIT09IFwiY2NcIikge1xuICAgICAgICByZXR1cm4gYS52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGU7XG4gICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBjdXJyZW50X3RyYWNlLmFwcHJvdmVzO1xuICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnNfaWQsXG4gICAgICAndHJhY2VzLl9pZCc6IGN1cnJlbnRfdHJhY2UuX2lkXG4gICAgfSwge1xuICAgICAgJHNldDogc2V0T2JqXG4gICAgfSk7XG4gICAgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUg5qC55o2u5q2l6aqk5ZCN56ew6I635Y+W55Sz6K+35Y2VXG5cbkBhcGlOYW1lIGdldEluc3RhbmNlQnlTdGVwTmFtZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxue1xuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcbiAgICBcInN0ZXBuYW1lXCI6IOatpemqpOWQjeensFxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG5cdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcImRhdGFcIjogW1xuXHRcdHtcblx0XHRcdGluc3RhbmNlXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRpbnN0YW5jZVxuXHRcdH1cblx0XVxufVxuIyMjXG5Kc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdHN0ZXBuYW1lID0gaGFzaERhdGFbXCJzdGVwbmFtZVwiXVxuXHRcdGZsb3cgPSBoYXNoRGF0YVtcImZsb3dcIl1cblxuXHRcdGlmIG5vdCBzdGVwbmFtZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBzdGVwbmFtZScpXG5cblx0XHRpZiBub3QgZmxvd1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBmbG93JylcblxuXHRcdCMg5Y675o6Je2ZpZWxkczoge2luYm94X3VlcnM6IDAsIGNjX3VzZXJzOiAwLCBvdXRib3hfdXNlcnM6IDAsIHRyYWNlczogMCwgYXR0YWNobWVudHM6IDB9XG5cdFx0aW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQoe3NwYWNlOiBzcGFjZV9pZCwgZmxvdzogZmxvdywgc3RhdGU6J3BlbmRpbmcnLCB0cmFjZXM6eyRlbGVtTWF0Y2g6IHtpc19maW5pc2hlZDogZmFsc2UsIG5hbWU6IHN0ZXBuYW1lfX19LCB7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgYXR0YWNobWVudHM6IDAsIHRyYWNlczogMH19KS5mZXRjaCgpXG5cblx0XHRpbnN0YW5jZXMuZm9yRWFjaCAoaW5zdGFuY2UpLT5cblx0XHRcdGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogaW5zdGFuY2VzfVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIlxuLypcbkBhcGkge3Bvc3R9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lIOagueaNruatpemqpOWQjeensOiOt+WPlueUs+ivt+WNlVxuXG5AYXBpTmFtZSBnZXRJbnN0YW5jZUJ5U3RlcE5hbWVcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcbntcbiAgICBcImZsb3dcIjog5rWB56iLSWQsXG4gICAgXCJzdGVwbmFtZVwiOiDmraXpqqTlkI3np7Bcbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuXHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XCJkYXRhXCI6IFtcblx0XHR7XG5cdFx0XHRpbnN0YW5jZVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0aW5zdGFuY2Vcblx0XHR9XG5cdF1cbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgaGFzaERhdGEsIGluc3RhbmNlcywgc3BhY2VfaWQsIHN0ZXBuYW1lO1xuICB0cnkge1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgc3RlcG5hbWUgPSBoYXNoRGF0YVtcInN0ZXBuYW1lXCJdO1xuICAgIGZsb3cgPSBoYXNoRGF0YVtcImZsb3dcIl07XG4gICAgaWYgKCFzdGVwbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBzdGVwbmFtZScpO1xuICAgIH1cbiAgICBpZiAoIWZsb3cpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgZmxvdycpO1xuICAgIH1cbiAgICBpbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICBmbG93OiBmbG93LFxuICAgICAgc3RhdGU6ICdwZW5kaW5nJyxcbiAgICAgIHRyYWNlczoge1xuICAgICAgICAkZWxlbU1hdGNoOiB7XG4gICAgICAgICAgaXNfZmluaXNoZWQ6IGZhbHNlLFxuICAgICAgICAgIG5hbWU6IHN0ZXBuYW1lXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgaW5ib3hfdWVyczogMCxcbiAgICAgICAgY2NfdXNlcnM6IDAsXG4gICAgICAgIG91dGJveF91c2VyczogMCxcbiAgICAgICAgYXR0YWNobWVudHM6IDAsXG4gICAgICAgIHRyYWNlczogMFxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCxcbiAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvcGllczogMFxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IGluc3RhbmNlc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXG5Db250ZW50LVR5cGXvvJphcHBsaWNhdGlvbi9qc29uXG5mb3JtLWRhdGEg5qC85byPOlxuZmQgPSBuZXcgRm9ybURhdGE7XG5mZC5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xuXG5mZC5hcHBlbmQoXCJpc19wcml2YXRlXCIsIGZhbHNlKTtcblxuaWYgKGlzQWRkVmVyc2lvbikge1xuXHRmZC5hcHBlbmQoXCJpc0FkZFZlcnNpb25cIiwgaXNBZGRWZXJzaW9uKTtcblx0ZmQuYXBwZW5kKFwicGFyZW50XCIsIGF0dGFjaF9wYXJlbnRfaWQpO1xufVxuXG5pZiAoaXNNYWluQXR0YWNoKSB7XG5cdGZkLmFwcGVuZChcIm1haW5cIiwgdHJ1ZSk7XG59XG4jIyNcblxuQnVzYm95ID0gcmVxdWlyZSgnYnVzYm95Jyk7XG5GaWJlciA9IHJlcXVpcmUoJ2ZpYmVycycpO1xuXG5Kc29uUm91dGVzLnBhcnNlRmlsZXMgPSAocmVxLCByZXMsIG5leHQpIC0+XG5cdGZpbGVzID0gW107ICMgU3RvcmUgZmlsZXMgaW4gYW4gYXJyYXkgYW5kIHRoZW4gcGFzcyB0aGVtIHRvIHJlcXVlc3QuXG5cdGltYWdlID0ge307ICMgY3JhdGUgYW4gaW1hZ2Ugb2JqZWN0XG5cblx0aWYgKHJlcS5tZXRob2QgPT0gXCJQT1NUXCIpXG5cdFx0YnVzYm95ID0gbmV3IEJ1c2JveSh7IGhlYWRlcnM6IHJlcS5oZWFkZXJzIH0pO1xuXHRcdGJ1c2JveS5vbiBcImZpbGVcIiwgIChmaWVsZG5hbWUsIGZpbGUsIGZpbGVuYW1lLCBlbmNvZGluZywgbWltZXR5cGUpIC0+XG5cdFx0XHRpbWFnZS5taW1lVHlwZSA9IG1pbWV0eXBlO1xuXHRcdFx0aW1hZ2UuZW5jb2RpbmcgPSBlbmNvZGluZztcblx0XHRcdGltYWdlLmZpbGVuYW1lID0gZmlsZW5hbWU7XG5cblx0XHRcdCMgYnVmZmVyIHRoZSByZWFkIGNodW5rc1xuXHRcdFx0YnVmZmVycyA9IFtdO1xuXG5cdFx0XHRmaWxlLm9uICdkYXRhJywgKGRhdGEpIC0+XG5cdFx0XHRcdGJ1ZmZlcnMucHVzaChkYXRhKTtcblxuXHRcdFx0ZmlsZS5vbiAnZW5kJywgKCkgLT5cblx0XHRcdFx0IyBjb25jYXQgdGhlIGNodW5rc1xuXHRcdFx0XHRpbWFnZS5kYXRhID0gQnVmZmVyLmNvbmNhdChidWZmZXJzKTtcblx0XHRcdFx0IyBwdXNoIHRoZSBpbWFnZSBvYmplY3QgdG8gdGhlIGZpbGUgYXJyYXlcblx0XHRcdFx0ZmlsZXMucHVzaChpbWFnZSk7XG5cblxuXHRcdGJ1c2JveS5vbiBcImZpZWxkXCIsIChmaWVsZG5hbWUsIHZhbHVlKSAtPlxuXHRcdFx0cmVxLmJvZHlbZmllbGRuYW1lXSA9IHZhbHVlO1xuXG5cdFx0YnVzYm95Lm9uIFwiZmluaXNoXCIsICAoKSAtPlxuXHRcdFx0IyBQYXNzIHRoZSBmaWxlIGFycmF5IHRvZ2V0aGVyIHdpdGggdGhlIHJlcXVlc3Rcblx0XHRcdHJlcS5maWxlcyA9IGZpbGVzO1xuXG5cdFx0XHRGaWJlciAoKS0+XG5cdFx0XHRcdG5leHQoKTtcblx0XHRcdC5ydW4oKTtcblxuXHRcdCMgUGFzcyByZXF1ZXN0IHRvIGJ1c2JveVxuXHRcdHJlcS5waXBlKGJ1c2JveSk7XG5cblx0ZWxzZVxuXHRcdG5leHQoKTtcblxuSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVybiA7XG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxuXG5cdFx0aWYgaW5zdGFuY2Uuc3RhdGUgaXNudCBcImRyYWZ0XCJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveS4iuS8oCcpXG5cblx0XHRhcHByb3ZlX2lkID0gaW5zdGFuY2UudHJhY2VzWzBdLmFwcHJvdmVzWzBdLl9pZFxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHRKc29uUm91dGVzLnBhcnNlRmlsZXMgcmVxLCByZXMsICgpLT5cblx0XHRcdGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzXG5cblx0XHRcdGlmIHJlcS5maWxlcyBhbmQgcmVxLmZpbGVzWzBdXG5cdFx0XHRcdCMg6ZmE5Lu25LiK5Lyg5o6l5Y+j77yM6ZmQ5Yi26ZmE5Lu25aSn5bCP77yM5pyA5aSn5Li6MTAwTVxuXHRcdFx0XHRpZiByZXEuZmlsZXNbMF0uZGF0YS5sZW5ndGggPiAoMTAwKjEwMjQqMTAyNClcblx0XHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IFwi6LaF6L+H5LiK5Lyg6ZmE5Lu25aSn5bCP6ZmQ5Yi2KDEwME0pXCJ9XX1cblx0XHRcdFx0XHRyZXR1cm5cblxuXHRcdFx0XHRuZXdGaWxlID0gbmV3IEZTLkZpbGUoKTtcblx0XHRcdFx0bmV3RmlsZS5hdHRhY2hEYXRhIHJlcS5maWxlc1swXS5kYXRhLCB7dHlwZTogcmVxLmZpbGVzWzBdLm1pbWVUeXBlfSwgKGVycikgLT5cblx0XHRcdFx0XHRmaWxlbmFtZSA9IHJlcS5maWxlc1swXS5maWxlbmFtZVxuXG5cdFx0XHRcdFx0aWYgW1wiaW1hZ2UuanBnXCIsIFwiaW1hZ2UuZ2lmXCIsIFwiaW1hZ2UuanBlZ1wiLCBcImltYWdlLnBuZ1wiXS5pbmNsdWRlcyhmaWxlbmFtZS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHRcdFx0ZmlsZW5hbWUgPSBcImltYWdlLVwiICsgbW9tZW50KG5ldyBEYXRlKCkpLmZvcm1hdCgnWVlZWU1NRERISG1tc3MnKSArIFwiLlwiICsgZmlsZW5hbWUuc3BsaXQoJy4nKS5wb3AoKVxuXG5cdFx0XHRcdFx0Ym9keSA9IHJlcS5ib2R5XG5cblx0XHRcdFx0XHRib2R5Wydvd25lciddID0gaW5zdGFuY2Uuc3VibWl0dGVyXG5cdFx0XHRcdFx0Ym9keVsnb3duZXJfbmFtZSddID0gaW5zdGFuY2Uuc3VibWl0dGVyX25hbWVcblx0XHRcdFx0XHRib2R5WydzcGFjZSddID0gc3BhY2VfaWRcblx0XHRcdFx0XHRib2R5WydpbnN0YW5jZSddID0gaW5zX2lkXG5cdFx0XHRcdFx0Ym9keVsnYXBwcm92ZSddID0gYXBwcm92ZV9pZFxuXG5cdFx0XHRcdFx0dHJ5XG5cdFx0XHRcdFx0XHRpZiBib2R5ICYmIChib2R5Wyd1cGxvYWRfZnJvbSddIGlzIFwiSUVcIiBvciBib2R5Wyd1cGxvYWRfZnJvbSddIGlzIFwibm9kZVwiKVxuXHRcdFx0XHRcdFx0XHRmaWxlbmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChmaWxlbmFtZSlcblx0XHRcdFx0XHRjYXRjaCBlXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGZpbGVuYW1lKVxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvciBlXG5cdFx0XHRcdFx0XHRmaWxlbmFtZSA9IGZpbGVuYW1lLnJlcGxhY2UoLyUvZywgXCItXCIpXG5cblx0XHRcdFx0XHRuZXdGaWxlLm5hbWUoZmlsZW5hbWUpXG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgYm9keSAmJiBib2R5Wydvd25lciddICYmIGJvZHlbJ293bmVyX25hbWUnXSAmJiBib2R5WydzcGFjZSddICYmIGJvZHlbJ2luc3RhbmNlJ10gICYmIGJvZHlbJ2FwcHJvdmUnXVxuXHRcdFx0XHRcdFx0cGFyZW50ID0gJydcblx0XHRcdFx0XHRcdG1ldGFkYXRhID0ge293bmVyOmJvZHlbJ293bmVyJ10sIG93bmVyX25hbWU6Ym9keVsnb3duZXJfbmFtZSddLCBzcGFjZTpib2R5WydzcGFjZSddLCBpbnN0YW5jZTpib2R5WydpbnN0YW5jZSddLCBhcHByb3ZlOiBib2R5WydhcHByb3ZlJ10sIGN1cnJlbnQ6IHRydWV9XG5cblx0XHRcdFx0XHRcdGlmIGJvZHlbXCJpc19wcml2YXRlXCJdICYmIGJvZHlbXCJpc19wcml2YXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gXCJ0cnVlXCJcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEuaXNfcHJpdmF0ZSA9IHRydWVcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEuaXNfcHJpdmF0ZSA9IGZhbHNlXG5cblx0XHRcdFx0XHRcdGlmIGJvZHlbJ21haW4nXSA9PSBcInRydWVcIlxuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5tYWluID0gdHJ1ZVxuXG5cdFx0XHRcdFx0XHRpZiBib2R5Wydpc0FkZFZlcnNpb24nXSAmJiBib2R5WydwYXJlbnQnXVxuXHRcdFx0XHRcdFx0XHRwYXJlbnQgPSBib2R5WydwYXJlbnQnXVxuXHRcdFx0XHRcdFx0IyBlbHNlXG5cdFx0XHRcdFx0XHQjICAgY29sbGVjdGlvbi5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBib2R5WydpbnN0YW5jZSddLCAnbWV0YWRhdGEuY3VycmVudCcgOiB0cnVlfSkuZm9yRWFjaCAoYykgLT5cblx0XHRcdFx0XHRcdCMgICAgIGlmIGMubmFtZSgpID09IGZpbGVuYW1lXG5cdFx0XHRcdFx0XHQjICAgICAgIHBhcmVudCA9IGMubWV0YWRhdGEucGFyZW50XG5cblx0XHRcdFx0XHRcdGlmIHBhcmVudFxuXHRcdFx0XHRcdFx0XHRyID0gY29sbGVjdGlvbi51cGRhdGUoeydtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsICdtZXRhZGF0YS5jdXJyZW50JyA6IHRydWV9LCB7JHVuc2V0IDogeydtZXRhZGF0YS5jdXJyZW50JyA6ICcnfX0pXG5cdFx0XHRcdFx0XHRcdGlmIHJcblx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5wYXJlbnQgPSBwYXJlbnRcblx0XHRcdFx0XHRcdFx0XHRpZiBib2R5Wydsb2NrZWRfYnknXSAmJiBib2R5Wydsb2NrZWRfYnlfbmFtZSddXG5cdFx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5sb2NrZWRfYnkgPSBib2R5Wydsb2NrZWRfYnknXVxuXHRcdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGEubG9ja2VkX2J5X25hbWUgPSBib2R5Wydsb2NrZWRfYnlfbmFtZSddXG5cblx0XHRcdFx0XHRcdFx0XHRuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGFcblx0XHRcdFx0XHRcdFx0XHRmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQgbmV3RmlsZVxuXG5cdFx0XHRcdFx0XHRcdFx0IyDliKDpmaTlkIzkuIDkuKrnlLPor7fljZXlkIzkuIDkuKrmraXpqqTlkIzkuIDkuKrkurrkuIrkvKDnmoTph43lpI3nmoTmlofku7Zcblx0XHRcdFx0XHRcdFx0XHRpZiBib2R5W1wib3ZlcndyaXRlXCJdICYmIGJvZHlbXCJvdmVyd3JpdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSBcInRydWVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29sbGVjdGlvbi5yZW1vdmUoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGJvZHlbJ2luc3RhbmNlJ10sICdtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsICdtZXRhZGF0YS5vd25lcic6IGJvZHlbJ293bmVyJ10sICdtZXRhZGF0YS5hcHByb3ZlJzogYm9keVsnYXBwcm92ZSddLCAnbWV0YWRhdGEuY3VycmVudCc6IHskbmU6IHRydWV9fSlcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0bmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhXG5cdFx0XHRcdFx0XHRcdGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydCBuZXdGaWxlXG5cdFx0XHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHskc2V0OiB7J21ldGFkYXRhLnBhcmVudCcgOiBmaWxlT2JqLl9pZH19KVxuXG5cdFx0XHRcdFx0IyDlhbzlrrnogIHniYjmnKxcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQgbmV3RmlsZVxuXG5cdFx0XHRcdFx0c2l6ZSA9IGZpbGVPYmoub3JpZ2luYWwuc2l6ZVxuXHRcdFx0XHRcdGlmICFzaXplXG5cdFx0XHRcdFx0XHRzaXplID0gMTAyNFxuXG5cdFx0XHRcdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdHJlc3VsdCA9XG5cdFx0XHRcdFx0XHRhdHRhY2hfaWQ6IGZpbGVPYmouX2lkLFxuXHRcdFx0XHRcdFx0c2l6ZTogc2l6ZVxuXG5cdFx0XHRcdFx0cmVzLnNldEhlYWRlcihcIngtYW16LXZlcnNpb24taWRcIixmaWxlT2JqLl9pZCk7XG5cblx0XHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cblx0XHRcdGVsc2Vcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IFwibmVlZCBmaWxlXCJ9XX1cblx0XHRcdFx0cmV0dXJuXG5cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG5cbkpzb25Sb3V0ZXMuYWRkIFwiZGVsZXRlXCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkXCIsICAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpXG5cblx0XHRpZiBpbnN0YW5jZS5zdGF0ZSBpc250IFwiZHJhZnRcIlxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95Yig6Zmk6ZmE5Lu2JylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keSB8fCB7fVxuXHRcdGF0dGFjaF9pZCA9IGhhc2hEYXRhW1wiYXR0YWNoX2lkXCJdXG5cblx0XHRpZiBub3QgYXR0YWNoX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgYXR0YWNoX2lkJylcblxuXHRcdGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzXG5cblx0XHRmaWxlID0gY29sbGVjdGlvbi5maW5kT25lKHsgX2lkOiBhdHRhY2hfaWQsICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZH0pXG5cdFx0aWYgZmlsZVxuXHRcdFx0ZmlsZS5yZW1vdmUoKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+atpOmZhOS7tuS4jeWxnuS6juatpOeUs+ivt+WNle+8jOaIluW3suiiq+WIoOmZpCcpXG5cblx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmF0dGFjaF9pZFwiLCAgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRhdHRhY2hfaWQgPSByZXEucGFyYW1zLmF0dGFjaF9pZFxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVybiA7XG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdHJlcy5zdGF0dXNDb2RlID0gMzAyXG5cdFx0cmVzLnNldEhlYWRlciBcIkxvY2F0aW9uXCIsIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvaW5zdGFuY2VzL1wiKSArIGF0dGFjaF9pZCArIFwiP2Rvd25sb2FkPXRydWVcIlxuXHRcdHJlcy5lbmQoKVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIlxuLypcbkNvbnRlbnQtVHlwZe+8mmFwcGxpY2F0aW9uL2pzb25cbmZvcm0tZGF0YSDmoLzlvI86XG5mZCA9IG5ldyBGb3JtRGF0YTtcbmZkLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XG5cbmZkLmFwcGVuZChcImlzX3ByaXZhdGVcIiwgZmFsc2UpO1xuXG5pZiAoaXNBZGRWZXJzaW9uKSB7XG5cdGZkLmFwcGVuZChcImlzQWRkVmVyc2lvblwiLCBpc0FkZFZlcnNpb24pO1xuXHRmZC5hcHBlbmQoXCJwYXJlbnRcIiwgYXR0YWNoX3BhcmVudF9pZCk7XG59XG5cbmlmIChpc01haW5BdHRhY2gpIHtcblx0ZmQuYXBwZW5kKFwibWFpblwiLCB0cnVlKTtcbn1cbiAqL1xudmFyIEJ1c2JveSwgRmliZXI7XG5cbkJ1c2JveSA9IHJlcXVpcmUoJ2J1c2JveScpO1xuXG5GaWJlciA9IHJlcXVpcmUoJ2ZpYmVycycpO1xuXG5Kc29uUm91dGVzLnBhcnNlRmlsZXMgPSBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYnVzYm95LCBmaWxlcywgaW1hZ2U7XG4gIGZpbGVzID0gW107XG4gIGltYWdlID0ge307XG4gIGlmIChyZXEubWV0aG9kID09PSBcIlBPU1RcIikge1xuICAgIGJ1c2JveSA9IG5ldyBCdXNib3koe1xuICAgICAgaGVhZGVyczogcmVxLmhlYWRlcnNcbiAgICB9KTtcbiAgICBidXNib3kub24oXCJmaWxlXCIsIGZ1bmN0aW9uKGZpZWxkbmFtZSwgZmlsZSwgZmlsZW5hbWUsIGVuY29kaW5nLCBtaW1ldHlwZSkge1xuICAgICAgdmFyIGJ1ZmZlcnM7XG4gICAgICBpbWFnZS5taW1lVHlwZSA9IG1pbWV0eXBlO1xuICAgICAgaW1hZ2UuZW5jb2RpbmcgPSBlbmNvZGluZztcbiAgICAgIGltYWdlLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICBidWZmZXJzID0gW107XG4gICAgICBmaWxlLm9uKCdkYXRhJywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICByZXR1cm4gYnVmZmVycy5wdXNoKGRhdGEpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmlsZS5vbignZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGltYWdlLmRhdGEgPSBCdWZmZXIuY29uY2F0KGJ1ZmZlcnMpO1xuICAgICAgICByZXR1cm4gZmlsZXMucHVzaChpbWFnZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBidXNib3kub24oXCJmaWVsZFwiLCBmdW5jdGlvbihmaWVsZG5hbWUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVxLmJvZHlbZmllbGRuYW1lXSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIGJ1c2JveS5vbihcImZpbmlzaFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHJlcS5maWxlcyA9IGZpbGVzO1xuICAgICAgcmV0dXJuIEZpYmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgfSkucnVuKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcS5waXBlKGJ1c2JveSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfVxufTtcblxuSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFwcHJvdmVfaWQsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGluc19pZCwgaW5zdGFuY2UsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73kuIrkvKAnKTtcbiAgICB9XG4gICAgYXBwcm92ZV9pZCA9IGluc3RhbmNlLnRyYWNlc1swXS5hcHByb3Zlc1swXS5faWQ7XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMucGFyc2VGaWxlcyhyZXEsIHJlcywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29sbGVjdGlvbiwgbmV3RmlsZTtcbiAgICAgIGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzO1xuICAgICAgaWYgKHJlcS5maWxlcyAmJiByZXEuZmlsZXNbMF0pIHtcbiAgICAgICAgaWYgKHJlcS5maWxlc1swXS5kYXRhLmxlbmd0aCA+ICgxMDAgKiAxMDI0ICogMTAyNCkpIHtcbiAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGVycm9yczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogXCLotoXov4fkuIrkvKDpmYTku7blpKflsI/pmZDliLYoMTAwTSlcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuZXdGaWxlID0gbmV3IEZTLkZpbGUoKTtcbiAgICAgICAgcmV0dXJuIG5ld0ZpbGUuYXR0YWNoRGF0YShyZXEuZmlsZXNbMF0uZGF0YSwge1xuICAgICAgICAgIHR5cGU6IHJlcS5maWxlc1swXS5taW1lVHlwZVxuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICB2YXIgYm9keSwgZSwgZmlsZU9iaiwgZmlsZW5hbWUsIG1ldGFkYXRhLCBwYXJlbnQsIHIsIHJlc3VsdCwgc2l6ZTtcbiAgICAgICAgICBmaWxlbmFtZSA9IHJlcS5maWxlc1swXS5maWxlbmFtZTtcbiAgICAgICAgICBpZiAoW1wiaW1hZ2UuanBnXCIsIFwiaW1hZ2UuZ2lmXCIsIFwiaW1hZ2UuanBlZ1wiLCBcImltYWdlLnBuZ1wiXS5pbmNsdWRlcyhmaWxlbmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgZmlsZW5hbWUgPSBcImltYWdlLVwiICsgbW9tZW50KG5ldyBEYXRlKCkpLmZvcm1hdCgnWVlZWU1NRERISG1tc3MnKSArIFwiLlwiICsgZmlsZW5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYm9keSA9IHJlcS5ib2R5O1xuICAgICAgICAgIGJvZHlbJ293bmVyJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXI7XG4gICAgICAgICAgYm9keVsnb3duZXJfbmFtZSddID0gaW5zdGFuY2Uuc3VibWl0dGVyX25hbWU7XG4gICAgICAgICAgYm9keVsnc3BhY2UnXSA9IHNwYWNlX2lkO1xuICAgICAgICAgIGJvZHlbJ2luc3RhbmNlJ10gPSBpbnNfaWQ7XG4gICAgICAgICAgYm9keVsnYXBwcm92ZSddID0gYXBwcm92ZV9pZDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGJvZHkgJiYgKGJvZHlbJ3VwbG9hZF9mcm9tJ10gPT09IFwiSUVcIiB8fCBib2R5Wyd1cGxvYWRfZnJvbSddID09PSBcIm5vZGVcIikpIHtcbiAgICAgICAgICAgICAgZmlsZW5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoZmlsZW5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnJlcGxhY2UoLyUvZywgXCItXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdGaWxlLm5hbWUoZmlsZW5hbWUpO1xuICAgICAgICAgIGlmIChib2R5ICYmIGJvZHlbJ293bmVyJ10gJiYgYm9keVsnb3duZXJfbmFtZSddICYmIGJvZHlbJ3NwYWNlJ10gJiYgYm9keVsnaW5zdGFuY2UnXSAmJiBib2R5WydhcHByb3ZlJ10pIHtcbiAgICAgICAgICAgIHBhcmVudCA9ICcnO1xuICAgICAgICAgICAgbWV0YWRhdGEgPSB7XG4gICAgICAgICAgICAgIG93bmVyOiBib2R5Wydvd25lciddLFxuICAgICAgICAgICAgICBvd25lcl9uYW1lOiBib2R5Wydvd25lcl9uYW1lJ10sXG4gICAgICAgICAgICAgIHNwYWNlOiBib2R5WydzcGFjZSddLFxuICAgICAgICAgICAgICBpbnN0YW5jZTogYm9keVsnaW5zdGFuY2UnXSxcbiAgICAgICAgICAgICAgYXBwcm92ZTogYm9keVsnYXBwcm92ZSddLFxuICAgICAgICAgICAgICBjdXJyZW50OiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGJvZHlbXCJpc19wcml2YXRlXCJdICYmIGJvZHlbXCJpc19wcml2YXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgIG1ldGFkYXRhLmlzX3ByaXZhdGUgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWV0YWRhdGEuaXNfcHJpdmF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvZHlbJ21haW4nXSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgbWV0YWRhdGEubWFpbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm9keVsnaXNBZGRWZXJzaW9uJ10gJiYgYm9keVsncGFyZW50J10pIHtcbiAgICAgICAgICAgICAgcGFyZW50ID0gYm9keVsncGFyZW50J107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgIHIgPSBjb2xsZWN0aW9uLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCxcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICR1bnNldDoge1xuICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiAnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIGlmIChib2R5Wydsb2NrZWRfYnknXSAmJiBib2R5Wydsb2NrZWRfYnlfbmFtZSddKSB7XG4gICAgICAgICAgICAgICAgICBtZXRhZGF0YS5sb2NrZWRfYnkgPSBib2R5Wydsb2NrZWRfYnknXTtcbiAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLmxvY2tlZF9ieV9uYW1lID0gYm9keVsnbG9ja2VkX2J5X25hbWUnXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbiAgICAgICAgICAgICAgICBpZiAoYm9keVtcIm92ZXJ3cml0ZVwiXSAmJiBib2R5W1wib3ZlcndyaXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnJlbW92ZSh7XG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGJvZHlbJ2luc3RhbmNlJ10sXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5vd25lcic6IGJvZHlbJ293bmVyJ10sXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5hcHByb3ZlJzogYm9keVsnYXBwcm92ZSddLFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICAgIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbiAgICAgICAgICAgICAgZmlsZU9iai51cGRhdGUoe1xuICAgICAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2l6ZSA9IGZpbGVPYmoub3JpZ2luYWwuc2l6ZTtcbiAgICAgICAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgICAgIHNpemUgPSAxMDI0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGF0dGFjaF9pZDogZmlsZU9iai5faWQsXG4gICAgICAgICAgICBzaXplOiBzaXplXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXMuc2V0SGVhZGVyKFwieC1hbXotdmVyc2lvbi1pZFwiLCBmaWxlT2JqLl9pZCk7XG4gICAgICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogXCJuZWVkIGZpbGVcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuSnNvblJvdXRlcy5hZGQoXCJkZWxldGVcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWRcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF0dGFjaF9pZCwgY29sbGVjdGlvbiwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmlsZSwgaGFzaERhdGEsIGluc19pZCwgaW5zdGFuY2UsIHJlc3VsdCwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgaWYgKGluc3RhbmNlLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveWIoOmZpOmZhOS7ticpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5IHx8IHt9O1xuICAgIGF0dGFjaF9pZCA9IGhhc2hEYXRhW1wiYXR0YWNoX2lkXCJdO1xuICAgIGlmICghYXR0YWNoX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgYXR0YWNoX2lkJyk7XG4gICAgfVxuICAgIGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzO1xuICAgIGZpbGUgPSBjb2xsZWN0aW9uLmZpbmRPbmUoe1xuICAgICAgX2lkOiBhdHRhY2hfaWQsXG4gICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWRcbiAgICB9KTtcbiAgICBpZiAoZmlsZSkge1xuICAgICAgZmlsZS5yZW1vdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5q2k6ZmE5Lu25LiN5bGe5LqO5q2k55Sz6K+35Y2V77yM5oiW5bey6KKr5Yig6ZmkJyk7XG4gICAgfVxuICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86YXR0YWNoX2lkXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdHRhY2hfaWQsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGF0dGFjaF9pZCA9IHJlcS5wYXJhbXMuYXR0YWNoX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIHJlcy5zdGF0dXNDb2RlID0gMzAyO1xuICAgIHJlcy5zZXRIZWFkZXIoXCJMb2NhdGlvblwiLCBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2luc3RhbmNlcy9cIikgKyBhdHRhY2hfaWQgKyBcIj9kb3dubG9hZD10cnVlXCIpO1xuICAgIHJldHVybiByZXMuZW5kKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfcmVmaWxsXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3lm57loavlrZDooag9PT09PT09PT09XCJcblx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zdWJUYWJsZVwiLHJlcT8ucXVlcnk/LnN1YlRhYmxlXG5cdGNvbnNvbGUubG9nIFwiPT09PT09PT095YiG5Y+R5Zue5aGr55qE5YiXPT09PT09PT09PVwiXG5cdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uY29sdW1uXCIscmVxPy5xdWVyeT8uY29sdW1uXG5cblx0Y29sdW1ucyA9IHJlcT8ucXVlcnk/LmNvbHVtbi5zcGxpdCgnOycpXG5cdGNvbnNvbGUubG9nIFwiY29sdW1uc1wiLGNvbHVtbnNcblxuXG5cdCMg5YiG5Y+R55qE55Sz6K+35Y2VXG5cdGZvcndhcmRfaW5zID0gcmVxPy5ib2R5Py5pbnN0YW5jZVxuXG5cdHN1YlRhYmxlID0gcmVxPy5xdWVyeT8uc3ViVGFibGVcblxuXHRpZiBmb3J3YXJkX2lucz8uc3RhdGUgPT0gXCJjb21wbGV0ZWRcIiAmJiBmb3J3YXJkX2lucz8uZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcz8ubGVuZ3RoPjAgJiYgc3ViVGFibGUgJiYgY29sdW1uc1xuXHRcdFxuXHRcdCMg5YiG5Y+R5Zue5p2l55qE5YC8XG5cdFx0Zm9yd2FyZF9pbnNfdmFsdWVzID0gZm9yd2FyZF9pbnM/LnZhbHVlc1xuXG5cdFx0IyAjIOWOn+eUs+ivt+WNleWtl+autVxuXHRcdG9yaWdpbmFsX2luc19pZCA9IF8ubGFzdCBmb3J3YXJkX2lucz8uZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xuXHRcdG9yaWdpbmFsX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9yaWdpbmFsX2luc19pZClcblx0XHRvcmlnaW5hbF9pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob3JpZ2luYWxfaW5zPy5mb3JtKVxuXG5cdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcyA9IFtdXG5cdFx0b3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gW11cblxuXHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFwiLG9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcblx0XHRjb25zb2xlLmxvZyBcIm9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uXCIsb3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb25cblxuXHRcdCMg5p+l55yL5Y6f55Sz6K+35Y2V5piv5ZCm5pyJ5a+55bqU55qE5a2Q6KGoXG5cdFx0aWYgb3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb24gPT0gb3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxuXHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQ/LmZpZWxkc1xuXHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoIChvcmlnaW5hbF9pbnNfZmllbGQpLT5cblx0XHRcdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9pbnNfZmllbGRcIixvcmlnaW5hbF9pbnNfZmllbGQ/LmNvZGVcblx0XHRcdFx0aWYgb3JpZ2luYWxfaW5zX2ZpZWxkPy5jb2RlID09IHN1YlRhYmxlICYmIG9yaWdpbmFsX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdFx0b3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkPy5maWVsZHNcblx0XHRlbHNlXG5cdFx0XHRpZiBvcmlnaW5hbF9pbnNfZm9ybT8uaGlzdG9yeXM/Lmxlbmd0aCA+IDBcblx0XHRcdFx0b3JpZ2luYWxfaW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaCAob2gpLT5cblx0XHRcdFx0XHRpZiBvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBvaC5faWRcblx0XHRcdFx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMgPSBvaD8uZmllbGRzXG5cdFx0XHRcdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2ggKG9yaWdpbmFsX2luc19maWVsZCktPlxuXHRcdFx0XHRcdFx0XHRpZiBvcmlnaW5hbF9pbnNfZmllbGQ/LmNvZGUgPT0gc3ViVGFibGUgJiYgb3JpZ2luYWxfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZSdcblx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQ/LmZpZWxkc1xuXG5cdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHNcIixvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHM/Lmxlbmd0aFxuXG5cdFx0aWYgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzXG5cdFx0XHQjICMg5pu05paw5q2l6aqk55qE5YC8XG5cdFx0XHQjIDEu5om+5Yiw5b2T5YmN55qE5q2l6aqkXG5cdFx0XHQjIDIu5b2T5YmN5q2l6aqk5LitYXBwcm92ZXPkuK3nmoR2YWx1ZXNcblx0XHRcdCMgMy7lnKh2YWx1ZXPkuK3mib7liLDooajmoLxcblx0XHRcdCMgNC7moLnmja7ooajmoLznmoRmaWVsZHPlsZ7mgKfvvIzkuIDkuKrkuKrnmoTotYvlgLxcblx0XHRcdCMgNS7miorlpI3liLbnmoRwdXNo5Yiw6KGo5qC85pWw57uE55qE5ZCO6Z2iXG5cdFx0XHR0cmFjZXMgPSBvcmlnaW5hbF9pbnM/LnRyYWNlc1xuXG5cdFx0XHR0cmFjZSA9IHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdXG5cblx0XHRcdGFwcHJvdmUgPSB0cmFjZT8uYXBwcm92ZXNbMF1cblxuXHRcdFx0dGFibGVfZGF0YSA9IGFwcHJvdmU/LnZhbHVlc1tzdWJUYWJsZV0gfHwgW11cblxuXHRcdFx0cm93X2RhdGEgPSB7fVxuXG5cdFx0XHRjb2x1bW5zLmZvckVhY2ggKGNvbHVtbiktPlxuXHRcdFx0XHRyb3dfZGF0YVtjb2x1bW5dID0gZm9yd2FyZF9pbnNfdmFsdWVzW2NvbHVtbl0gfHwgXCJcIlxuXHRcdFx0XG5cdFx0XHRcblx0XHRcdGlmIHJvd19kYXRhICYmIHJvd19kYXRhICE9IHt9XG5cdFx0XHRcdHRhYmxlX2RhdGEucHVzaCByb3dfZGF0YVxuXHRcdFx0XHR0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdID0gdGFibGVfZGF0YVxuXG5cdFx0XHRcdGNvbnNvbGUubG9nIHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlc1tzdWJUYWJsZV1cblxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKG9yaWdpbmFsX2luc19pZCx7XG5cdFx0XHRcdFx0JHNldDp7XG5cdFx0XHRcdFx0XHQndHJhY2VzJzp0cmFjZXNcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdCdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0XHQnaW5mbyc6ICflm57loavmlbDmja7kuLrnqbonXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRlbHNlXG5cdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdCdlcnJvcic6ICfljp/nlLPor7fljZXml6Dnm7jlhbPlrZDooagnXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0ZWxzZVxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J3N1Y2Nlc3MnOiAn55Sz6K+35Y2V5pyq57uT5p2fJ1xuXHRcdFx0fVxuXHRcdH1cbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfcmVmaWxsXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhcHByb3ZlLCBjb2x1bW5zLCBmb3J3YXJkX2lucywgZm9yd2FyZF9pbnNfdmFsdWVzLCBvcmlnaW5hbF9pbnMsIG9yaWdpbmFsX2luc19maWVsZHMsIG9yaWdpbmFsX2luc19mb3JtLCBvcmlnaW5hbF9pbnNfaWQsIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcywgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCByZWY1LCByZWY2LCByZWY3LCByZWY4LCByZWY5LCByb3dfZGF0YSwgc3ViVGFibGUsIHRhYmxlX2RhdGEsIHRyYWNlLCB0cmFjZXM7XG4gIGNvbnNvbGUubG9nKFwiPT09PT09PT095Zue5aGr5a2Q6KGoPT09PT09PT09PVwiKTtcbiAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zdWJUYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWIhuWPkeWbnuWhq+eahOWIlz09PT09PT09PT1cIik7XG4gIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uY29sdW1uXCIsIHJlcSAhPSBudWxsID8gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmNvbHVtbiA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIGNvbHVtbnMgPSByZXEgIT0gbnVsbCA/IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi5jb2x1bW4uc3BsaXQoJzsnKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgY29uc29sZS5sb2coXCJjb2x1bW5zXCIsIGNvbHVtbnMpO1xuICBmb3J3YXJkX2lucyA9IHJlcSAhPSBudWxsID8gKHJlZjMgPSByZXEuYm9keSkgIT0gbnVsbCA/IHJlZjMuaW5zdGFuY2UgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIHN1YlRhYmxlID0gcmVxICE9IG51bGwgPyAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIGlmICgoZm9yd2FyZF9pbnMgIT0gbnVsbCA/IGZvcndhcmRfaW5zLnN0YXRlIDogdm9pZCAwKSA9PT0gXCJjb21wbGV0ZWRcIiAmJiAoZm9yd2FyZF9pbnMgIT0gbnVsbCA/IChyZWY1ID0gZm9yd2FyZF9pbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgIT0gbnVsbCA/IHJlZjUubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDAgJiYgc3ViVGFibGUgJiYgY29sdW1ucykge1xuICAgIGZvcndhcmRfaW5zX3ZhbHVlcyA9IGZvcndhcmRfaW5zICE9IG51bGwgPyBmb3J3YXJkX2lucy52YWx1ZXMgOiB2b2lkIDA7XG4gICAgb3JpZ2luYWxfaW5zX2lkID0gXy5sYXN0KGZvcndhcmRfaW5zICE9IG51bGwgPyBmb3J3YXJkX2lucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIDogdm9pZCAwKTtcbiAgICBvcmlnaW5hbF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvcmlnaW5hbF9pbnNfaWQpO1xuICAgIG9yaWdpbmFsX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtIDogdm9pZCAwKTtcbiAgICBvcmlnaW5hbF9pbnNfZmllbGRzID0gW107XG4gICAgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gW107XG4gICAgY29uc29sZS5sb2coXCJvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXCIsIG9yaWdpbmFsX2luc19mb3JtICE9IG51bGwgPyAocmVmNiA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWY2Ll9pZCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCJvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvblwiLCBvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApO1xuICAgIGlmICgob3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gKG9yaWdpbmFsX2luc19mb3JtICE9IG51bGwgPyAocmVmNyA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWY3Ll9pZCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgIG9yaWdpbmFsX2luc19maWVsZHMgPSAocmVmOCA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWY4LmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgIG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvcmlnaW5hbF9pbnNfZmllbGQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJvcmlnaW5hbF9pbnNfZmllbGRcIiwgb3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCk7XG4gICAgICAgIGlmICgob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IHN1YlRhYmxlICYmIChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgIHJldHVybiBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoKG9yaWdpbmFsX2luc19mb3JtICE9IG51bGwgPyAocmVmOSA9IG9yaWdpbmFsX2luc19mb3JtLmhpc3RvcnlzKSAhPSBudWxsID8gcmVmOS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICBvcmlnaW5hbF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uKG9oKSB7XG4gICAgICAgICAgaWYgKChvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSBvaC5faWQpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsX2luc19maWVsZHMgPSBvaCAhPSBudWxsID8gb2guZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvcmlnaW5hbF9pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgaWYgKChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gc3ViVGFibGUgJiYgKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHNcIiwgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzICE9IG51bGwgPyBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMubGVuZ3RoIDogdm9pZCAwKTtcbiAgICBpZiAob3JpZ2luYWxfc3VidGFibGVfZmllbGRzKSB7XG4gICAgICB0cmFjZXMgPSBvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy50cmFjZXMgOiB2b2lkIDA7XG4gICAgICB0cmFjZSA9IHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV07XG4gICAgICBhcHByb3ZlID0gdHJhY2UgIT0gbnVsbCA/IHRyYWNlLmFwcHJvdmVzWzBdIDogdm9pZCAwO1xuICAgICAgdGFibGVfZGF0YSA9IChhcHByb3ZlICE9IG51bGwgPyBhcHByb3ZlLnZhbHVlc1tzdWJUYWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgcm93X2RhdGEgPSB7fTtcbiAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHJvd19kYXRhW2NvbHVtbl0gPSBmb3J3YXJkX2luc192YWx1ZXNbY29sdW1uXSB8fCBcIlwiO1xuICAgICAgfSk7XG4gICAgICBpZiAocm93X2RhdGEgJiYgcm93X2RhdGEgIT09IHt9KSB7XG4gICAgICAgIHRhYmxlX2RhdGEucHVzaChyb3dfZGF0YSk7XG4gICAgICAgIHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV0uYXBwcm92ZXNbMF0udmFsdWVzW3N1YlRhYmxlXSA9IHRhYmxlX2RhdGE7XG4gICAgICAgIGNvbnNvbGUubG9nKHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV0uYXBwcm92ZXNbMF0udmFsdWVzW3N1YlRhYmxlXSk7XG4gICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUob3JpZ2luYWxfaW5zX2lkLCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgJ3RyYWNlcyc6IHRyYWNlc1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgJ2luZm8nOiAn5Zue5aGr5pWw5o2u5Li656m6J1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICdlcnJvcic6ICfljp/nlLPor7fljZXml6Dnm7jlhbPlrZDooagnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnc3VjY2Vzcyc6ICfnlLPor7fljZXmnKrnu5PmnZ8nXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9mb3J3YXJkX3RhYmxlX3JlZmlsbFwiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT095Y6f6KGo5a2Q6KGoPT09PT09PT09PVwiXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5vVGFibGVcIixyZXE/LnF1ZXJ5Py5vVGFibGVcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeeOsOihqOWtkOihqD09PT09PT09PT1cIlxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uZFRhYmxlXCIscmVxPy5xdWVyeT8uZFRhYmxlXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3ljp/ooajljZXnmoTlrZDooajljLnphY3liJc9PT09PT09PT09XCJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/Lm9NYXRjaENvbFwiLHJlcT8ucXVlcnk/Lm9NYXRjaENvbFxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT09546w6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcIixyZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PemcgOimgeWbnuWhq+eahOWIlz09PT09PT09PT1cIlx0XG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5yZWZpbGxDb2xcIixyZXE/LnF1ZXJ5Py5yZWZpbGxDb2xcblxuXHRcdCMg5YiG5Y+R55qE55Sz6K+35Y2VXG5cdFx0ZF9pbnMgPSByZXE/LmJvZHk/Lmluc3RhbmNlXG5cblx0XHRcblx0XHRpZiBkX2lucz8uc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0aWYgcmVxPy5xdWVyeT8ub1RhYmxlXG5cdFx0XHRcdG9fdGFibGUgPSByZXE/LnF1ZXJ5Py5vVGFibGVcblx0XHRcdFx0aWYgcmVxPy5xdWVyeT8uZFRhYmxlXG5cdFx0XHRcdFx0ZF90YWJsZSA9IHJlcT8ucXVlcnk/LmRUYWJsZVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0ZF90YWJsZSA9IG9fdGFibGVcblx0XHRcdFx0aWYgcmVxPy5xdWVyeT8uYVRhYmxlXG5cdFx0XHRcdFx0YV90YWJsZSA9IHJlcT8ucXVlcnk/LmFUYWJsZVxuXHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcblx0XHRcdFx0XHRvX21hdGNoX2NvbCA9IHJlcT8ucXVlcnk/Lm9NYXRjaENvbFxuXHRcdFx0XHRcdGlmIHJlcT8ucXVlcnk/LmRNYXRjaENvbFxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2wgPSByZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRkX21hdGNoX2NvbCA9IG9fbWF0Y2hfY29sXG5cdFx0XHRcdFx0Y29sdW1ucyA9IHJlcT8ucXVlcnk/LnJlZmlsbENvbC5zcGxpdCgnOycpIHx8IFtdXG5cdFx0XHRcdFx0Y29uc29sZS5sb2cgXCJjb2x1bW5zXCIsY29sdW1uc1x0XHRcdFx0XHRcblxuXHRcdFx0XHRcdGlmIGNvbHVtbnMgfHwgY29sdW1ucy5sZW5ndGg8MVxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT09PT09PT09PT09PT09XCJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nIGRfdGFibGUsIG9fbWF0Y2hfY29sLCBjb2x1bW5zXG5cblx0XHRcdFx0XHRcdCMg5YiG5Y+R5Zue5p2l55qE5YC8XG5cdFx0XHRcdFx0XHRkX2luc192YWx1ZXMgPSBkX2lucz8udmFsdWVzXG5cblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2VIGZvcm0g6KGo5a2X5q61XG5cdFx0XHRcdFx0XHRvX2luc19pZCA9IF8ubGFzdCBkX2lucz8uZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xuXHRcdFx0XHRcdFx0b19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvX2luc19pZClcblx0XHRcdFx0XHRcdG9faW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9faW5zPy5mb3JtKVxuXG5cdFx0XHRcdFx0XHRkX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShkX2lucz8uZm9ybSlcblxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZXnmoQgZmllbGRzXG5cdFx0XHRcdFx0XHRvX2luc19maWVsZHMgPSBbXVxuXG5cdFx0XHRcdFx0XHQjIOWOn+WtkOihqOWtl+autVxuXHRcdFx0XHRcdFx0b19zdWJ0YWJsZV9maWVsZHMgPSBbXVxuXG5cdFx0XHRcdFx0XHQjIOWIhuWPkeeUs+ivt+WNleeahCBmaWVsZHNcblx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcyA9IFtdXG5cdFx0XHRcdFx0XHQjIOeOsOeUs+ivt+WNleWtl+ihqOWtl+autVxuXHRcdFx0XHRcdFx0ZF9zdWJ0YWJsZV9maWVsZHMgPSBbXVxuXG5cdFx0XHRcdFx0XHQjIOi1i+WAvOWvueW6lOeahOWtl+autVxuXHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QgPSBbXVxuXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdCMg5YiG5Y+R5ZCO55Sz6K+35Y2V55qEIOWtkOihqOWAvFxuXHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXMgPSBbXVxuXG5cdFx0XHRcdFx0XHQjIOafpeeci+WOn+eUs+ivt+WNleaYr+WQpuacieWvueW6lOeahOWtkOihqFxuXHRcdFx0XHRcdFx0aWYgb19pbnM/LmZvcm1fdmVyc2lvbiA9PSBvX2luc19mb3JtPy5jdXJyZW50Py5faWRcblx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzID0gb19pbnNfZm9ybT8uY3VycmVudD8uZmllbGRzXG5cdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcy5mb3JFYWNoIChvX2luc19maWVsZCktPlxuXHRcdFx0XHRcdFx0XHRcdGlmIG9faW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgb19pbnNfZmllbGQ/LmNvZGUgPT0gb190YWJsZVxuXHRcdFx0XHRcdFx0XHRcdFx0b19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZD8uZmllbGRzXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdGlmIG9faW5zX2Zvcm0/Lmhpc3RvcnlzPy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0XHRcdFx0b19pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoIChvaCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgb19pbnM/LmZvcm1fdmVyc2lvbiA9PSBvaC5faWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzID0gb2g/LmZpZWxkc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMuZm9yRWFjaCAob19pbnNfZmllbGQpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBvX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIG9faW5zX2ZpZWxkPy5jb2RlID09IG9fdGFibGVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQ/LmZpZWxkc1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQjIOafpeeci+WIhuWPkeeahOeUs+ivt+WNleaYr+WQpuacieWvueW6lOeahOWtl+ihqFxuXHRcdFx0XHRcdFx0aWYgZF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBkX2luc19mb3JtPy5jdXJyZW50Py5faWRcblx0XHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzID0gZF9pbnNfZm9ybT8uY3VycmVudD8uZmllbGRzXG5cdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcy5mb3JFYWNoIChkX2luc19maWVsZCktPlxuXHRcdFx0XHRcdFx0XHRcdGlmKChkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGRfdGFibGUpfHwoYV90YWJsZSAmJiBkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGFfdGFibGUpKVxuXHRcdFx0XHRcdFx0XHRcdFx0ZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQgZF9pbnNfZmllbGQ/LmZpZWxkc1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRpZiBkX2luc19mb3JtPy5oaXN0b3J5cz8ubGVuZ3RoID4gMFxuXHRcdFx0XHRcdFx0XHRcdGRfaW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaCAoZGgpLT5cblx0XHRcdFx0XHRcdFx0XHRcdGlmIGRfaW5zPy5mb3JtX3ZlcnNpb24gPT0gZGguX2lkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcyA9IGRoPy5maWVsZHNcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzLmZvckVhY2ggKGRfaW5zX2ZpZWxkKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoKGRfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgZF9pbnNfZmllbGQ/LmNvZGUgPT0gZF90YWJsZSl8fChhX3RhYmxlICYmIGRfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgZF9pbnNfZmllbGQ/LmNvZGUgPT0gYV90YWJsZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdCBkX2luc19maWVsZD8uZmllbGRzXG5cdFx0XHRcdFx0XHRcblxuXHRcdFx0XHRcdFx0XG5cblx0XHRcdFx0XHRcdGlmIG9fc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nIFwib19zdWJ0YWJsZV9maWVsZHNcIixvX3N1YnRhYmxlX2ZpZWxkc1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGlmIGRfc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcblxuXHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXMgPSBkX2lucz8udmFsdWVzW2RfdGFibGVdIHx8IFtdXG5cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aWYgYV90YWJsZVxuXHRcdFx0XHRcdFx0XHRhX3RhYmxlX3ZhbHVlcyA9ICBkX2lucz8udmFsdWVzW2FfdGFibGVdIHx8IFtdXG5cdFx0XHRcdFx0XHRcdGlmIGFfdGFibGVfdmFsdWVzICYmIGFfdGFibGVfdmFsdWVzPy5sZW5ndGg9PWRfdGFibGVfdmFsdWVzPy5sZW5ndGhcblx0XHRcdFx0XHRcdFx0XHRhX3RhYmxlX3ZhbHVlcy5mb3JFYWNoIChhX3JvdyxpbmRleCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXNbaW5kZXhdW2tleV0gPSB2YWx1ZSBmb3Iga2V5LHZhbHVlIG9mIGFfcm93XG5cblx0XHRcdFx0XHRcdGlmIGRfdGFibGVfdmFsdWVzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajmlbDmja7kuLrnqbonKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0b19tYXRjaF9jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09b19tYXRjaF9jb2wpXG5cdFx0XHRcdFx0XHRkX21hdGNoX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1kX21hdGNoX2NvbClcblxuXHRcdFx0XHRcdFx0IyDljLnphY3liJfliKTmlq1cblx0XHRcdFx0XHRcdGlmIG9fbWF0Y2hfY29sX2ZpZWxkcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XG5cblx0XHRcdFx0XHRcdGlmIGRfbWF0Y2hfY29sX2ZpZWxkcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XG5cblx0XHRcdFx0XHRcdCMg5Yik5pat5Yy56YWN5YiX5a2X5q6155qE5YC857G75Z6L5piv5ZCm5LiA6Ie0XG5cdFx0XHRcdFx0XHRvX21hdGNoX2NvbF9maWVsZCA9IG9fbWF0Y2hfY29sX2ZpZWxkc1swXVxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2xfZmllbGQgPSBkX21hdGNoX2NvbF9maWVsZHNbMF1cblxuXHRcdFx0XHRcdFx0aWYgb19tYXRjaF9jb2xfZmllbGQ/LnR5cGUgIT0gZF9tYXRjaF9jb2xfZmllbGQ/LnR5cGVcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWSjOWOn+eUs+ivt+WNleWtkOihqOeahOWMuemFjeWIl+Wtl+auteS4jeS4gOiHtCcpO1xuXG5cdFx0XHRcdFx0XHQjIOWbnuWhq+WIl+WIpOaWrVxuXHRcdFx0XHRcdFx0Y29sdW1ucy5mb3JFYWNoIChjb2x1bW4pLT5cblx0XHRcdFx0XHRcdFx0Y29scyA9IGNvbHVtbi5zcGxpdCgnLScpIHx8IFtdXG5cdFx0XHRcdFx0XHRcdGlmIGNvbHMubGVuZ3RoID09IDJcblx0XHRcdFx0XHRcdFx0XHRvX2NvbCA9IGNvbHNbMF1cblx0XHRcdFx0XHRcdFx0XHRkX2NvbCA9IGNvbHNbMV1cblx0XHRcdFx0XHRcdFx0XHRvX2NvbF9maWVsZHMgPSBvX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1vX2NvbClcblx0XHRcdFx0XHRcdFx0XHRkX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1kX2NvbClcblxuXHRcdFx0XHRcdFx0XHRcdCMg5Yik5pat5piv5ZCm5pyJ5a+55bqU55qE5Zue5aGr5YiXXG5cdFx0XHRcdFx0XHRcdFx0aWYgb19jb2xfZmllbGRzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Zue5aGr5YiXJyk7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiBkX2NvbF9maWVsZHMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcblxuXHRcdFx0XHRcdFx0XHRcdCMg5Yik5pat5Yy56YWN5YiX5a2X5q6155qE5YC857G75Z6L5piv5ZCm5LiA6Ie0XG5cdFx0XHRcdFx0XHRcdFx0aWYgb19jb2xfZmllbGRzPy50eXBlICE9IGRfY29sX2ZpZWxkcz8udHlwZVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+Wtl+auteexu+Wei+S4jeS4gOiHtCcpO1xuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdGNvbCA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdG9fY29sOiBvX2NvbCxcblx0XHRcdFx0XHRcdFx0XHRcdGRfY29sOiBkX2NvbFxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRjb2x1bW5fbGlzdC5wdXNoIGNvbFxuXG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Zue5aGr5YiX5LiN5Yy56YWNJyk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdCMg6LWL5YC8XG5cdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nICAnPT09PT09Y29sdW1uX2xpc3Q9PT09PT09Jyxjb2x1bW5fbGlzdFxuXG5cdFx0XHRcdFx0XHR0cmFjZXMgPSBvX2lucz8udHJhY2VzXG5cblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qEIHN0ZXAgXG5cdFx0XHRcdFx0XHR0cmFjZSA9IHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdXG5cblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qE5b2T5YmN5q2l6aqkXG5cdFx0XHRcdFx0XHRhcHByb3ZlID0gdHJhY2U/LmFwcHJvdmVzWzBdXG5cblx0XHRcdFx0XHRcdCMg5YWD55Sz6K+35Y2V55qE5b2T5YmNIHZhbHVlIOeahCDlrZDooahcblx0XHRcdFx0XHRcdHRhYmxlX2RhdGEgPSBhcHByb3ZlPy52YWx1ZXNbb190YWJsZV0gfHwgW11cblxuXG5cdFx0XHRcdFx0XHQjIOagueaNriBjb2x1bW5fbGlzdCDotYvlgLzlr7nlupTlrZfmrrXov5vooYzotYvlgLxcblx0XHRcdFx0XHRcdCMg5b6q546v5YiG5Y+R55Sz6K+35Y2V55qE5q+P6KGMXG5cdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlcy5mb3JFYWNoIChkX3JvdyktPlxuXHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiZF9yb3dcIixkX3Jvd1xuXHRcdFx0XHRcdFx0XHQjIOafpeaJvuWMuemFjeeahOWIl+aYr+WQpuS4juW9k+WJjeeahOWMuemFjeWIl+S4gOiHtFxuXHRcdFx0XHRcdFx0XHRoYXNfb2JqID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0Y291bnQgPSAtMVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0IyDnnIvljp/lrZDooajmmK/lkKbmnInor6XljLnphY3liJdcblx0XHRcdFx0XHRcdFx0dGFibGVfZGF0YS5mb3JFYWNoIChvX3JvdywgaW5kZXgpLT5cblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwib19yb3dcIiwgb19yb3dcblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiaW5kZXhcIixpbmRleFxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJvX3Jvd1tvX21hdGNoX2NvbF1cIixvX3Jvd1tvX21hdGNoX2NvbF1cblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiZF9yb3dbZF9tYXRjaF9jb2xdXCIsZF9yb3dbZF9tYXRjaF9jb2xdXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcIm9fcm93W29fbWF0Y2hfY29sXSA9PSBkX3Jvd1tkX21hdGNoX2NvbF1cIixvX3Jvd1tvX21hdGNoX2NvbF0gPT0gZF9yb3dbZF9tYXRjaF9jb2xdXG5cblx0XHRcdFx0XHRcdFx0XHRpZiBvX3Jvd1tvX21hdGNoX2NvbF0gPT0gZF9yb3dbZF9tYXRjaF9jb2xdXG5cdFx0XHRcdFx0XHRcdFx0XHRoYXNfb2JqID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0Y291bnQgPSBpbmRleFxuXG5cdFx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qE5Yy56YWN5a2X5q615pyJ5YC8XG5cdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJoYXNfb2JqXCIsaGFzX29ialxuXHRcdFx0XHRcdFx0XHRpZiBoYXNfb2JqPT10cnVlXG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QuZm9yRWFjaCAoY29sKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHR0YWJsZV9kYXRhW2NvdW50XVtjb2w/Lm9fY29sXSA9IGRfcm93W2NvbD8uZF9jb2xdXG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0cm93X2RhdGEgPSB7fVxuXHRcdFx0XHRcdFx0XHRcdHJvd19kYXRhW29fbWF0Y2hfY29sXSA9IGRfcm93W2RfbWF0Y2hfY29sXVxuXHRcdFx0XHRcdFx0XHRcdGNvbHVtbl9saXN0LmZvckVhY2ggKGNvbCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0cm93X2RhdGFbY29sPy5vX2NvbF0gPSBkX3Jvd1tjb2w/LmRfY29sXVxuXHRcdFx0XHRcdFx0XHRcdHRhYmxlX2RhdGEucHVzaCByb3dfZGF0YVxuXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlcyA9IG9faW5zPy52YWx1ZXNcblx0XHRcdFx0XHRcdHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlc1tvX3RhYmxlXSA9IHRhYmxlX2RhdGFcblxuXHRcdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZShvX2luc19pZCx7XG5cdFx0XHRcdFx0XHRcdCRzZXQ6e1xuXHRcdFx0XHRcdFx0XHRcdCd0cmFjZXMnOnRyYWNlc1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSlcblxuXHRcdFx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0XHRcdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdFx0XHQnc3VjY2Vzcyc6ICflm57loavmiJDlip8nXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5a2Q6KGo5Zue5aGr5YiX5a2X5q61IGNvbHVtbnMg5YC8Jyk7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWMuemFjeWIl+Wtl+autSBvTWF0Y2hDb2wg5YC8Jyk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5Y6f6KGo5Y2V5a2Q6KGoIG9UYWJsZSDlgLwnKTtcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn55Sz6K+35Y2V5pyq57uT5p2fJyk7XG5cdGNhdGNoIGVcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGVycm9yczogW2VdXG5cdFx0XHR9XG5cdFx0fVxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF90YWJsZV9yZWZpbGxcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFfdGFibGUsIGFfdGFibGVfdmFsdWVzLCBhcHByb3ZlLCBjb2x1bW5fbGlzdCwgY29sdW1ucywgZF9pbnMsIGRfaW5zX2ZpZWxkcywgZF9pbnNfZm9ybSwgZF9pbnNfdmFsdWVzLCBkX21hdGNoX2NvbCwgZF9tYXRjaF9jb2xfZmllbGQsIGRfbWF0Y2hfY29sX2ZpZWxkcywgZF9zdWJ0YWJsZV9maWVsZHMsIGRfdGFibGUsIGRfdGFibGVfdmFsdWVzLCBlLCBvX2lucywgb19pbnNfZmllbGRzLCBvX2luc19mb3JtLCBvX2luc19pZCwgb19tYXRjaF9jb2wsIG9fbWF0Y2hfY29sX2ZpZWxkLCBvX21hdGNoX2NvbF9maWVsZHMsIG9fc3VidGFibGVfZmllbGRzLCBvX3RhYmxlLCByZWYsIHJlZjEsIHJlZjEwLCByZWYxMSwgcmVmMTIsIHJlZjEzLCByZWYxNCwgcmVmMTUsIHJlZjE2LCByZWYxNywgcmVmMTgsIHJlZjE5LCByZWYyLCByZWYyMCwgcmVmMjEsIHJlZjIyLCByZWYzLCByZWY0LCByZWY1LCByZWY2LCByZWY3LCByZWY4LCByZWY5LCB0YWJsZV9kYXRhLCB0cmFjZSwgdHJhY2VzO1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095Y6f6KGo5a2Q6KGoPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/Lm9UYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYub1RhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeeOsOihqOWtkOihqD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5kVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuZFRhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWOn+ihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIub01hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeeOsOihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuZE1hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PemcgOimgeWbnuWhq+eahOWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5yZWZpbGxDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQucmVmaWxsQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBkX2lucyA9IHJlcSAhPSBudWxsID8gKHJlZjUgPSByZXEuYm9keSkgIT0gbnVsbCA/IHJlZjUuaW5zdGFuY2UgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKChkX2lucyAhPSBudWxsID8gZF9pbnMuc3RhdGUgOiB2b2lkIDApID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmNiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjYub1RhYmxlIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgIG9fdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY3ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNy5vVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWY4ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmOC5kVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICBkX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmOSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjkuZFRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRfdGFibGUgPSBvX3RhYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWYxMCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEwLmFUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgIGFfdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWYxMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjExLmFUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmMTIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMi5vTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICBvX21hdGNoX2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjEzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTMub01hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWYxNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjE0LmRNYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgICAgZF9tYXRjaF9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWYxNSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjE1LmRNYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZF9tYXRjaF9jb2wgPSBvX21hdGNoX2NvbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29sdW1ucyA9IChyZXEgIT0gbnVsbCA/IChyZWYxNiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjE2LnJlZmlsbENvbC5zcGxpdCgnOycpIDogdm9pZCAwIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbHVtbnNcIiwgY29sdW1ucyk7XG4gICAgICAgICAgaWYgKGNvbHVtbnMgfHwgY29sdW1ucy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PT09PT09PT09PT1cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkX3RhYmxlLCBvX21hdGNoX2NvbCwgY29sdW1ucyk7XG4gICAgICAgICAgICBkX2luc192YWx1ZXMgPSBkX2lucyAhPSBudWxsID8gZF9pbnMudmFsdWVzIDogdm9pZCAwO1xuICAgICAgICAgICAgb19pbnNfaWQgPSBfLmxhc3QoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgOiB2b2lkIDApO1xuICAgICAgICAgICAgb19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvX2luc19pZCk7XG4gICAgICAgICAgICBvX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvX2lucyAhPSBudWxsID8gb19pbnMuZm9ybSA6IHZvaWQgMCk7XG4gICAgICAgICAgICBkX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShkX2lucyAhPSBudWxsID8gZF9pbnMuZm9ybSA6IHZvaWQgMCk7XG4gICAgICAgICAgICBvX2luc19maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIG9fc3VidGFibGVfZmllbGRzID0gW107XG4gICAgICAgICAgICBkX2luc19maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIGRfc3VidGFibGVfZmllbGRzID0gW107XG4gICAgICAgICAgICBjb2x1bW5fbGlzdCA9IFtdO1xuICAgICAgICAgICAgZF90YWJsZV92YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgIGlmICgob19pbnMgIT0gbnVsbCA/IG9faW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IChvX2luc19mb3JtICE9IG51bGwgPyAocmVmMTcgPSBvX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYxNy5faWQgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgIG9faW5zX2ZpZWxkcyA9IG9faW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYxOCA9IG9faW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjE4LmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgb19pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob19pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBvX3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gb19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoKG9faW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYxOSA9IG9faW5zX2Zvcm0uaGlzdG9yeXMpICE9IG51bGwgPyByZWYxOS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgICAgICAgIG9faW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbihvaCkge1xuICAgICAgICAgICAgICAgICAgaWYgKChvX2lucyAhPSBudWxsID8gb19pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gb2guX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIG9faW5zX2ZpZWxkcyA9IG9oICE9IG51bGwgPyBvaC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICgob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IG9fdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChkX2lucyAhPSBudWxsID8gZF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gKGRfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYyMCA9IGRfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjIwLl9pZCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgZF9pbnNfZmllbGRzID0gZF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjIxID0gZF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMjEuZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgICAgICBkX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihkX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgIGlmICgoKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBkX3RhYmxlKSB8fCAoYV90YWJsZSAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGFfdGFibGUpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICgoZF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjIyID0gZF9pbnNfZm9ybS5oaXN0b3J5cykgIT0gbnVsbCA/IHJlZjIyLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgZF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uKGRoKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoKGRfaW5zICE9IG51bGwgPyBkX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSBkaC5faWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZF9pbnNfZmllbGRzID0gZGggIT0gbnVsbCA/IGRoLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGRfaW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCgoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGRfdGFibGUpIHx8IChhX3RhYmxlICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gYV90YWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob19zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib19zdWJ0YWJsZV9maWVsZHNcIiwgb19zdWJ0YWJsZV9maWVsZHMpO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZF9zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRfdGFibGVfdmFsdWVzID0gKGRfaW5zICE9IG51bGwgPyBkX2lucy52YWx1ZXNbZF90YWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgICAgaWYgKGFfdGFibGUpIHtcbiAgICAgICAgICAgICAgYV90YWJsZV92YWx1ZXMgPSAoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnZhbHVlc1thX3RhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgICAgIGlmIChhX3RhYmxlX3ZhbHVlcyAmJiAoYV90YWJsZV92YWx1ZXMgIT0gbnVsbCA/IGFfdGFibGVfdmFsdWVzLmxlbmd0aCA6IHZvaWQgMCkgPT09IChkX3RhYmxlX3ZhbHVlcyAhPSBudWxsID8gZF90YWJsZV92YWx1ZXMubGVuZ3RoIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICAgIGFfdGFibGVfdmFsdWVzLmZvckVhY2goZnVuY3Rpb24oYV9yb3csIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICB2YXIga2V5LCByZXN1bHRzLCB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGFfcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYV9yb3dba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGRfdGFibGVfdmFsdWVzW2luZGV4XVtrZXldID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkX3RhYmxlX3ZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaVsOaNruS4uuepuicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb19tYXRjaF9jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gb19tYXRjaF9jb2w7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IGRfbWF0Y2hfY29sO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAob19tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZF9tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvX21hdGNoX2NvbF9maWVsZCA9IG9fbWF0Y2hfY29sX2ZpZWxkc1swXTtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sX2ZpZWxkID0gZF9tYXRjaF9jb2xfZmllbGRzWzBdO1xuICAgICAgICAgICAgaWYgKChvX21hdGNoX2NvbF9maWVsZCAhPSBudWxsID8gb19tYXRjaF9jb2xfZmllbGQudHlwZSA6IHZvaWQgMCkgIT09IChkX21hdGNoX2NvbF9maWVsZCAhPSBudWxsID8gZF9tYXRjaF9jb2xfZmllbGQudHlwZSA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWSjOWOn+eUs+ivt+WNleWtkOihqOeahOWMuemFjeWIl+Wtl+auteS4jeS4gOiHtCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICAgICAgICB2YXIgY29sLCBjb2xzLCBkX2NvbCwgZF9jb2xfZmllbGRzLCBvX2NvbCwgb19jb2xfZmllbGRzO1xuICAgICAgICAgICAgICBjb2xzID0gY29sdW1uLnNwbGl0KCctJykgfHwgW107XG4gICAgICAgICAgICAgIGlmIChjb2xzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIG9fY29sID0gY29sc1swXTtcbiAgICAgICAgICAgICAgICBkX2NvbCA9IGNvbHNbMV07XG4gICAgICAgICAgICAgICAgb19jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IG9fY29sO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBkX2NvbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAob19jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZF9jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKG9fY29sX2ZpZWxkcyAhPSBudWxsID8gb19jb2xfZmllbGRzLnR5cGUgOiB2b2lkIDApICE9PSAoZF9jb2xfZmllbGRzICE9IG51bGwgPyBkX2NvbF9maWVsZHMudHlwZSA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJflrZfmrrXnsbvlnovkuI3kuIDoh7QnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29sID0ge1xuICAgICAgICAgICAgICAgICAgb19jb2w6IG9fY29sLFxuICAgICAgICAgICAgICAgICAgZF9jb2w6IGRfY29sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uX2xpc3QucHVzaChjb2wpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJfkuI3ljLnphY0nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFjZXMgPSBvX2lucyAhPSBudWxsID8gb19pbnMudHJhY2VzIDogdm9pZCAwO1xuICAgICAgICAgICAgdHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgYXBwcm92ZSA9IHRyYWNlICE9IG51bGwgPyB0cmFjZS5hcHByb3Zlc1swXSA6IHZvaWQgMDtcbiAgICAgICAgICAgIHRhYmxlX2RhdGEgPSAoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS52YWx1ZXNbb190YWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgICAgZF90YWJsZV92YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihkX3Jvdykge1xuICAgICAgICAgICAgICB2YXIgY291bnQsIGhhc19vYmosIHJvd19kYXRhO1xuICAgICAgICAgICAgICBoYXNfb2JqID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvdW50ID0gLTE7XG4gICAgICAgICAgICAgIHRhYmxlX2RhdGEuZm9yRWFjaChmdW5jdGlvbihvX3JvdywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAob19yb3dbb19tYXRjaF9jb2xdID09PSBkX3Jvd1tkX21hdGNoX2NvbF0pIHtcbiAgICAgICAgICAgICAgICAgIGhhc19vYmogPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKGhhc19vYmogPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uX2xpc3QuZm9yRWFjaChmdW5jdGlvbihjb2wpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZV9kYXRhW2NvdW50XVtjb2wgIT0gbnVsbCA/IGNvbC5vX2NvbCA6IHZvaWQgMF0gPSBkX3Jvd1tjb2wgIT0gbnVsbCA/IGNvbC5kX2NvbCA6IHZvaWQgMF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm93X2RhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICByb3dfZGF0YVtvX21hdGNoX2NvbF0gPSBkX3Jvd1tkX21hdGNoX2NvbF07XG4gICAgICAgICAgICAgICAgY29sdW1uX2xpc3QuZm9yRWFjaChmdW5jdGlvbihjb2wpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByb3dfZGF0YVtjb2wgIT0gbnVsbCA/IGNvbC5vX2NvbCA6IHZvaWQgMF0gPSBkX3Jvd1tjb2wgIT0gbnVsbCA/IGNvbC5kX2NvbCA6IHZvaWQgMF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlX2RhdGEucHVzaChyb3dfZGF0YSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXMgPSBvX2lucyAhPSBudWxsID8gb19pbnMudmFsdWVzIDogdm9pZCAwO1xuICAgICAgICAgICAgdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXNbb190YWJsZV0gPSB0YWJsZV9kYXRhO1xuICAgICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShvX2luc19pZCwge1xuICAgICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICAgJ3RyYWNlcyc6IHRyYWNlc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7lrZDooajlm57loavliJflrZfmrrUgY29sdW1ucyDlgLwnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljLnphY3liJflrZfmrrUgb01hdGNoQ29sIOWAvCcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWOn+ihqOWNleWtkOihqCBvVGFibGUg5YC8Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfnlLPor7fljZXmnKrnu5PmnZ8nKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW2VdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9zdWJfdGFibGVfc29ydFwiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqD09PT09PT09PT1cIlxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIscmVxPy5xdWVyeT8uc3ViVGFibGVcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooajmgLvliIbliJc9PT09PT09PT09XCJcbiAgICAgICAgY29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zdW1Db2xcIixyZXE/LnF1ZXJ5Py5zdW1Db2xcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooajmjpLluo/liJc9PT09PT09PT09XCJcbiAgICAgICAgY29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zb3J0Q29sXCIscmVxPy5xdWVyeT8uc29ydENvbFxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqOWNleWIl+mcgOimgeiuoeeul+eahOWSjD09PT09PT09PT1cIlxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcIixyZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgc3ViX3RhYmxlID0gcmVxPy5xdWVyeT8uc3ViVGFibGVcbiAgICAgICAgaWYgIXN1Yl90YWJsZVxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PXN1Yl90YWJsZT09PT09PVwiXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdWJUYWJsZSDlrZfmrrUnICk7XG4gICAgICAgIFxuICAgICAgICBzdW1fY29sID0gcmVxPy5xdWVyeT8uc3VtQ29sXG4gICAgICAgIGlmICFzdW1fY29sXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09c3VtX2NvbD09PT09PVwiXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdW1Db2wg5a2X5q61JyApO1xuICAgICAgICBcbiAgICAgICAgc29ydF9jb2wgPSByZXE/LnF1ZXJ5Py5zb3J0Q29sXG4gICAgICAgIGlmICFzb3J0X2NvbFxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PXNvcnRfY29sPT09PT09XCJcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHNvcnRDb2wg5a2X5q61JyApO1xuICAgICAgICBcbiAgICAgICAgIyBzaW5nbGVfY29scyA9IHJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcbiAgICAgICAgIyBpZiAhc2luZ2xlX2NvbHNcbiAgICAgICAgIyAgICAgY29uc29sZS5sb2cgXCI9PT09PXNpbmdsZV9jb2xzPT09PT09XCJcblxuICAgICAgICAjICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzaW5nbGVDb2xzIOWtl+autScgKTtcbiAgICAgICAgXG4gICAgICAgIGlucyA9IHJlcT8uYm9keT8uaW5zdGFuY2VcbiAgICAgICAgXG4gICAgICAgIHN1Yl90YWJsZV92YWx1ZXMgPSBpbnMudmFsdWVzW3N1Yl90YWJsZV1cbiAgICAgICAgXG4gICAgICAgIGlmIHN1Yl90YWJsZV92YWx1ZXM/Lmxlbmd0aCA+IDAgXG4gICAgICAgICAgICAjICMg5qC55o2uIHN1Yl90YWJsZV92YWx1ZXMg6L+b6KGM5o6S5bqPXG4gICAgICAgICAgICAjID09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICAgICMg5o6S5bqP5a2X5q6177yM5YWz6ZSu5a2X77yM5q2j5bqPKHRydWUpL+WAkuW6jyhmYWxzZSlcbiAgICAgICAgICAgIGBmdW5jdGlvbiBKc29uU29ydChqc29uQXJyLCBrZXksIGFzYyl7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqPTEsamw9anNvbkFyci5sZW5ndGg7aiA8IGpsO2orKyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0ganNvbkFycltqXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAgPSBOdW1iZXIodGVtcFtrZXldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgICAgPSBqLTE7XG4gICAgICAgICAgICAgICAgICAgIGlmKGFzYz09dHJ1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKT52YWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGktMTsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk8dmFsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IHRlbXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uQXJyO1xuICAgICAgICAgICAgfWBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbmV3X3RhYmxlX3ZhbHVlcyA9IEpzb25Tb3J0KHN1Yl90YWJsZV92YWx1ZXMsc3VtX2NvbCxmYWxzZSlcblxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCJuZXdfdGFibGVfdmFsdWVzXCIsbmV3X3RhYmxlX3ZhbHVlc1xuXG4gICAgICAgICAgICBuZXdfdGFibGVfdmFsdWVzLmZvckVhY2ggKG9iaiwgaW5kZXgpLT5cbiAgICAgICAgICAgICAgICBpZiBzb3J0X2NvbCBhbmQgb2JqW3N1bV9jb2xdXG4gICAgICAgICAgICAgICAgICAgIG9ialtzb3J0X2NvbF0gPSAoaW5kZXgrMSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIm5ld190YWJsZV92YWx1ZXNcIixuZXdfdGFibGVfdmFsdWVzXG5cbiAgICAgICAgICAgIGlucy52YWx1ZXNbc3ViX3RhYmxlXSA9IG5ld190YWJsZV92YWx1ZXNcblxuICAgICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShpbnMuX2lkLHtcbiAgICAgICAgICAgICAgICAkc2V0OntcbiAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlcyc6aW5zLnZhbHVlc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCJzdWNjZXNzXCJcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6ICforqHnrpfmjpLluo/miJDlip8nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICflrZDooajmlbDmja7kuLrnqbonKTtcbiAgICBjYXRjaCBlXG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBlcnJvcnM6IFtlXVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9zdWJfdGFibGVfc29ydFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZSwgaW5zLCBuZXdfdGFibGVfdmFsdWVzLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHJlZjcsIHNvcnRfY29sLCBzdWJfdGFibGUsIHN1Yl90YWJsZV92YWx1ZXMsIHN1bV9jb2w7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooag9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqOaAu+WIhuWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zdW1Db2xcIiwgcmVxICE9IG51bGwgPyAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuc3VtQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqOaOkuW6j+WIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zb3J0Q29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLnNvcnRDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGo5Y2V5YiX6ZyA6KaB6K6h566X55qE5ZKMPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcIiwgcmVxICE9IG51bGwgPyAocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuc2luZ2xlQ29scyA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgc3ViX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKCFzdWJfdGFibGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiPT09PT1zdWJfdGFibGU9PT09PT1cIik7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdWJUYWJsZSDlrZfmrrUnKTtcbiAgICB9XG4gICAgc3VtX2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjUgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY1LnN1bUNvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoIXN1bV9jb2wpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiPT09PT1zdW1fY29sPT09PT09XCIpO1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3VtQ29sIOWtl+autScpO1xuICAgIH1cbiAgICBzb3J0X2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY2LnNvcnRDb2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKCFzb3J0X2NvbCkge1xuICAgICAgY29uc29sZS5sb2coXCI9PT09PXNvcnRfY29sPT09PT09XCIpO1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc29ydENvbCDlrZfmrrUnKTtcbiAgICB9XG4gICAgaW5zID0gcmVxICE9IG51bGwgPyAocmVmNyA9IHJlcS5ib2R5KSAhPSBudWxsID8gcmVmNy5pbnN0YW5jZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBzdWJfdGFibGVfdmFsdWVzID0gaW5zLnZhbHVlc1tzdWJfdGFibGVdO1xuICAgIGlmICgoc3ViX3RhYmxlX3ZhbHVlcyAhPSBudWxsID8gc3ViX3RhYmxlX3ZhbHVlcy5sZW5ndGggOiB2b2lkIDApID4gMCkge1xuICAgICAgZnVuY3Rpb24gSnNvblNvcnQoanNvbkFyciwga2V5LCBhc2Mpe1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaj0xLGpsPWpzb25BcnIubGVuZ3RoO2ogPCBqbDtqKyspe1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGpzb25BcnJbal0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgID0gTnVtYmVyKHRlbXBba2V5XSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpICAgID0gai0xO1xuICAgICAgICAgICAgICAgICAgICBpZihhc2M9PXRydWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk+dmFsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPHZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSB0ZW1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbkFycjtcbiAgICAgICAgICAgIH07XG4gICAgICBuZXdfdGFibGVfdmFsdWVzID0gSnNvblNvcnQoc3ViX3RhYmxlX3ZhbHVlcywgc3VtX2NvbCwgZmFsc2UpO1xuICAgICAgY29uc29sZS5sb2coXCJuZXdfdGFibGVfdmFsdWVzXCIsIG5ld190YWJsZV92YWx1ZXMpO1xuICAgICAgbmV3X3RhYmxlX3ZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKG9iaiwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHNvcnRfY29sICYmIG9ialtzdW1fY29sXSkge1xuICAgICAgICAgIHJldHVybiBvYmpbc29ydF9jb2xdID0gKGluZGV4ICsgMSkudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcIm5ld190YWJsZV92YWx1ZXNcIiwgbmV3X3RhYmxlX3ZhbHVlcyk7XG4gICAgICBpbnMudmFsdWVzW3N1Yl90YWJsZV0gPSBuZXdfdGFibGVfdmFsdWVzO1xuICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShpbnMuX2lkLCB7XG4gICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAndmFsdWVzJzogaW5zLnZhbHVlc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc1wiKTtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICdzdWNjZXNzJzogJ+iuoeeul+aOkuW6j+aIkOWKnydcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ+WtkOihqOaVsOaNruS4uuepuicpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbZV1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJpZiBNZXRlb3IuaXNEZXZlbG9wbWVudFxuICAgIEpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy90ZXN0L3dlYmhvb2snLCAocmVxLCByZXMsIG5leHQpIC0+XG4gICAgICAgIHRyeVxuXG4gICAgICAgICAgICBoYXNoRGF0YSA9IHJlcS5ib2R5XG4gICAgICAgICAgICBjb25zb2xlLmxvZyAnYWN0aW9uOiAnLCBoYXNoRGF0YS5hY3Rpb25cbiAgICAgICAgICAgIGNvbnNvbGUubG9nICdmcm9tX3VzZXI6ICcsIGhhc2hEYXRhLmZyb21fdXNlclxuICAgICAgICAgICAgY29uc29sZS5sb2cgJ3RvX3VzZXJzOiAnLCBoYXNoRGF0YS50b191c2Vyc1xuXG5cbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fVxuICAgICAgICBjYXRjaCBlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yIGUuc3RhY2tcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG4gICAgICAgICAgICAgICAgY29kZTogMjAwXG4gICAgICAgICAgICAgICAgZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9IiwiaWYgKE1ldGVvci5pc0RldmVsb3BtZW50KSB7XG4gIEpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy90ZXN0L3dlYmhvb2snLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHZhciBlLCBoYXNoRGF0YTtcbiAgICB0cnkge1xuICAgICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICAgIGNvbnNvbGUubG9nKCdhY3Rpb246ICcsIGhhc2hEYXRhLmFjdGlvbik7XG4gICAgICBjb25zb2xlLmxvZygnZnJvbV91c2VyOiAnLCBoYXNoRGF0YS5mcm9tX3VzZXIpO1xuICAgICAgY29uc29sZS5sb2coJ3RvX3VzZXJzOiAnLCBoYXNoRGF0YS50b191c2Vycyk7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHt9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZSA9IGVycm9yO1xuICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGVycm9yczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS91c2Vyc1wiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cblx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHR1c2VySWRzID0gcmVxLmJvZHkudXNlcklkc1xuXHRzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZFxuXHRzcGFjZVVzZXJzID0gW107XG5cblx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe3VzZXI6IGN1cnJlbnRfdXNlciwgc3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7X2lkOiAxfX0pXG5cdGlmICFzcGFjZV91c2VyXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J2Vycm9ycyc6ICfml6DmnYPpmZAnXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0aWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKVxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRzcGFjZVVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0cyhzcGFjZUlkLCB1c2VySWRzKVxuXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRjb2RlOiAyMDAsXG5cdFx0ZGF0YToge1xuXHRcdFx0J3NwYWNlVXNlcnMnOiBzcGFjZVVzZXJzXG5cdFx0fVxuXHR9XG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL3VzZXJzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBzcGFjZUlkLCBzcGFjZVVzZXJzLCBzcGFjZV91c2VyLCB1c2VySWRzO1xuICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gIHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzO1xuICBzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZDtcbiAgc3BhY2VVc2VycyA9IFtdO1xuICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgdXNlcjogY3VycmVudF91c2VyLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMVxuICAgIH1cbiAgfSk7XG4gIGlmICghc3BhY2VfdXNlcikge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn5peg5p2D6ZmQJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmICghdXNlcklkcyB8fCAhc3BhY2VJZCkge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHNwYWNlVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3RzKHNwYWNlSWQsIHVzZXJJZHMpO1xuICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICAnc3BhY2VVc2Vycyc6IHNwYWNlVXNlcnNcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvb3Jnc1wiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cdG9yZ0lkcyA9IHJlcS5ib2R5Lm9yZ0lkc1xuXHRzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZFxuXG5cdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHt1c2VyOiBjdXJyZW50X3VzZXIsIHNwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge19pZDogMX19KVxuXHRpZiAhc3BhY2VfdXNlclxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdlcnJvcnMnOiAn5peg5p2D6ZmQJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdGlmICghb3JnSWRzIHx8ICFzcGFjZUlkKVxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdG9yZ3MgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYU9yZ09iamVjdHMob3JnSWRzKVxuXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRjb2RlOiAyMDAsXG5cdFx0ZGF0YToge1xuXHRcdFx0J29yZ3MnOiBvcmdzXG5cdFx0fVxuXHR9KTtcbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvb3Jnc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgb3JnSWRzLCBvcmdzLCBzcGFjZUlkLCBzcGFjZV91c2VyO1xuICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gIG9yZ0lkcyA9IHJlcS5ib2R5Lm9yZ0lkcztcbiAgc3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWQ7XG4gIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICB1c2VyOiBjdXJyZW50X3VzZXIsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxXG4gICAgfVxuICB9KTtcbiAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfml6DmnYPpmZAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFvcmdJZHMgfHwgIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBvcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFPcmdPYmplY3RzKG9yZ0lkcyk7XG4gIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgICdvcmdzJzogb3Jnc1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIk1ldGVvci5zdGFydHVwICgpLT5cblx0VGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyID0gbmV3IFRhYnVsYXIuVGFibGVcblx0XHRuYW1lOiBcInJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXJcIlxuXHRcdGNvbGxlY3Rpb246IGRiLmluc3RhbmNlc1xuXHRcdGNvbHVtbnM6IFtcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJfaWRcIixcblx0XHRcdFx0dGl0bGU6ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInJldmVyc2VcIiBpZD1cInJldmVyc2VcIj4nLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3aWR0aDogJzFweCcsXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlucHV0ID0gJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInJlbGF0ZWQtaW5zdGFuY2VzLWxpc3QtY2hlY2tib3hcIiBuYW1lPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgaWQ9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiB2YWx1ZT1cIicgKyBkb2MuX2lkICsgJ1wiJ1xuXG5cdFx0XHRcdFx0aWYgVGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLnJlbGF0ZWRfaW5zdGFuY2VzPy5pbmNsdWRlcyhkb2MuX2lkKVxuXHRcdFx0XHRcdFx0aW5wdXQgKz0gXCIgY2hlY2tlZCBcIlxuXG5cdFx0XHRcdFx0aW5wdXQgKz0gXCI+XCJcblx0XHRcdFx0XHRyZXR1cm4gaW5wdXRcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibmFtZVwiLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3aWR0aDogJzQ1JScsXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdHJldHVybiBcIjxkaXYgZGF0YS1pZD0nI3tkb2MuX2lkfSc+XCIgKyBkb2MubmFtZSArIFwiPC9kaXY+XCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiZmxvd19uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiY3VycmVudF9zdGVwX25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLnN0YXRlID09IFwiY29tcGxldGVkXCJcblx0XHRcdFx0XHRcdGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIlxuXG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJydcblxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZXAtY3VycmVudC1zdGF0ZSAje2p1ZGdlfVwiPiN7c3RlcF9jdXJyZW50X25hbWV9PC9kaXY+XG5cdFx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdH1cblx0XHRdXG5cblx0XHRkb206IFwidHBcIixcblx0XHRsZW5ndGhDaGFuZ2U6IGZhbHNlLFxuXHRcdGV4dHJhRmllbGRzOiBbXCJzdGF0ZVwiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwic3BhY2VcIiwgXCJrZXl3b3Jkc1wiXSxcblx0XHRwYWdlTGVuZ3RoOiAxMCxcblx0XHRpbmZvOiBmYWxzZSxcblx0XHRzZWFyY2hpbmc6IHRydWUsXG5cdFx0cmVzcG9uc2l2ZTpcblx0XHRcdGRldGFpbHM6IGZhbHNlXG5cdFx0YXV0b1dpZHRoOiBmYWxzZSxcblx0XHRjaGFuZ2VTZWxlY3RvcjogKHNlbGVjdG9yLCB1c2VySWQpIC0+XG5cdFx0XHR1bmxlc3MgdXNlcklkXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cblx0XHRcdCPlj6/lhbPogZTnmoTmlofku7blj6/ku6Xot6jlt6XkvZzljLpcblx0XHRcdCMgXy5leHRlbmQgc2VsZWN0b3IsIHtcblx0XHRcdCMgXHQkb3I6IFt7c3VibWl0dGVyOiB1c2VySWR9LCB7YXBwbGljYW50OiB1c2VySWR9LCB7aW5ib3hfdXNlcnM6IHVzZXJJZH0sIHtvdXRib3hfdXNlcnM6IHVzZXJJZH0sXG5cdFx0XHQjIFx0XHR7Y2NfdXNlcnM6IHVzZXJJZH1dXG5cdFx0XHQjIH1cblx0XHRcdHNwYWNlID0gc2VsZWN0b3Iuc3BhY2Vcblx0XHRcdGRlbGV0ZSBzZWxlY3Rvci5zcGFjZVxuXHRcdFx0c2VsZWN0b3IuJG9yID0gW3sgc3BhY2U6IHNwYWNlIH0sIHtzdWJtaXR0ZXI6IHVzZXJJZH0sIHthcHBsaWNhbnQ6IHVzZXJJZH0sIHtpbmJveF91c2VyczogdXNlcklkfSwge291dGJveF91c2VyczogdXNlcklkfSxcblx0XHRcdFx0XHR7Y2NfdXNlcnM6IHVzZXJJZH1dXG5cdFx0XHRyZXR1cm4gc2VsZWN0b3IiLCJNZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciA9IG5ldyBUYWJ1bGFyLlRhYmxlKHtcbiAgICBuYW1lOiBcInJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXJcIixcbiAgICBjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXMsXG4gICAgY29sdW1uczogW1xuICAgICAge1xuICAgICAgICBkYXRhOiBcIl9pZFwiLFxuICAgICAgICB0aXRsZTogJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwicmV2ZXJzZVwiIGlkPVwicmV2ZXJzZVwiPicsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAnMXB4JyxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBpbnB1dCwgcmVmO1xuICAgICAgICAgIGlucHV0ID0gJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInJlbGF0ZWQtaW5zdGFuY2VzLWxpc3QtY2hlY2tib3hcIiBuYW1lPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgaWQ9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiB2YWx1ZT1cIicgKyBkb2MuX2lkICsgJ1wiJztcbiAgICAgICAgICBpZiAoKHJlZiA9IFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhci5yZWxhdGVkX2luc3RhbmNlcykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhkb2MuX2lkKSA6IHZvaWQgMCkge1xuICAgICAgICAgICAgaW5wdXQgKz0gXCIgY2hlY2tlZCBcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5wdXQgKz0gXCI+XCI7XG4gICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibmFtZVwiLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICB3aWR0aDogJzQ1JScsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICByZXR1cm4gKFwiPGRpdiBkYXRhLWlkPSdcIiArIGRvYy5faWQgKyBcIic+XCIpICsgZG9jLm5hbWUgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJmbG93X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIganVkZ2UsIHN0ZXBfY3VycmVudF9uYW1lO1xuICAgICAgICAgIGlmIChkb2Muc3RhdGUgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgICAgICAgIGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJyc7XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwic3RlcC1jdXJyZW50LXN0YXRlIFwiICsganVkZ2UgKyBcIlxcXCI+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZSArIFwiPC9kaXY+XCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdLFxuICAgIGRvbTogXCJ0cFwiLFxuICAgIGxlbmd0aENoYW5nZTogZmFsc2UsXG4gICAgZXh0cmFGaWVsZHM6IFtcInN0YXRlXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJzcGFjZVwiLCBcImtleXdvcmRzXCJdLFxuICAgIHBhZ2VMZW5ndGg6IDEwLFxuICAgIGluZm86IGZhbHNlLFxuICAgIHNlYXJjaGluZzogdHJ1ZSxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICBkZXRhaWxzOiBmYWxzZVxuICAgIH0sXG4gICAgYXV0b1dpZHRoOiBmYWxzZSxcbiAgICBjaGFuZ2VTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IsIHVzZXJJZCkge1xuICAgICAgdmFyIHNwYWNlO1xuICAgICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZSA9IHNlbGVjdG9yLnNwYWNlO1xuICAgICAgZGVsZXRlIHNlbGVjdG9yLnNwYWNlO1xuICAgICAgc2VsZWN0b3IuJG9yID0gW1xuICAgICAgICB7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBzdWJtaXR0ZXI6IHVzZXJJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgYXBwbGljYW50OiB1c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIG91dGJveF91c2VyczogdXNlcklkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjY191c2VyczogdXNlcklkXG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgfVxuICB9KTtcbn0pO1xuIiwiU3RlZWRvcy5zdWJzW1wiSW5zdGFuY2VUYWJ1bGFyXCJdID0gbmV3IFN1YnNNYW5hZ2VyKClcblxuXG5faGFuZGxlTGlzdEZpZWxkcyA9IChmaWVsZHMpIC0+XG5cdGluc19maWVsZHMgPSBuZXcgQXJyYXkoKTtcblxuXHRmaWVsZHM/LmZvckVhY2ggKGYpLT5cblx0XHRpZiBmLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0Y29uc29sZS5sb2cgJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJ1xuXHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0Zj8uZmllbGRzPy5mb3JFYWNoIChmMSktPlxuXHRcdFx0XHRpbnNfZmllbGRzLnB1c2ggZjFcblx0XHRlbHNlXG5cdFx0XHRpbnNfZmllbGRzLnB1c2ggZlxuXG5cdHJldHVybiBpbnNfZmllbGRzXG5cblxudXBkYXRlVGFidWxhclRpdGxlID0gKCktPlxuXG4jIOWmguaenGNvbHVtbnPmnInliqDlh4/vvIzor7fkv67mlLlUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMg5Ye95pWwXG5pbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyID0gKGZsb3dJZCwgZmllbGRzKS0+XG5cdG9wdGlvbnMgPSB7XG5cdFx0bmFtZTogXCJpbnN0YW5jZXNcIixcblx0XHRjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXMsXG5cdFx0cHViOiBcImluc3RhbmNlX3RhYnVsYXJcIixcblx0XHRvblVubG9hZDogKCktPlxuXHRcdFx0TWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApXG5cblx0XHRkcmF3Q2FsbGJhY2s6IChzZXR0aW5ncyktPlxuXHRcdFx0ZW1wdHlUZCA9ICQoXCIuZGF0YVRhYmxlc19lbXB0eVwiKVxuXHRcdFx0aWYgZW1wdHlUZC5sZW5ndGhcblx0XHRcdFx0ZW1wdHlUZFswXS5jb2xTcGFuID0gXCI2XCJcblx0XHRcdGlmICFTdGVlZG9zLmlzTW9iaWxlKCkgJiYgIVN0ZWVkb3MuaXNQYWQoKVxuXHRcdFx0XHRNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MClcblx0XHRcdFx0JChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKS5yZWFkeSAtPlxuXHRcdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5wZXJmZWN0U2Nyb2xsYmFyKFwidXBkYXRlXCIpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMClcblxuXHRcdFx0dGl0bGUgPSB0IFwicGFnZXJfaW5wdXRfaGludFwiXG5cdFx0XHRlbGxpcHNpc0xpbmsgPSBzZXR0aW5ncy5vSW5zdGFuY2UucGFyZW50KCkuZmluZCgnLnBhZ2luZ19udW1iZXJzIC5wYWdpbmF0aW9uIC5kaXNhYmxlZCBhJylcblx0XHRcdGVsbGlwc2lzTGluay5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmNzcyhcImN1cnNvclwiLCBcInBvaW50ZXJcIikuY2xpY2sgLT5cblx0XHRcdFx0aWYgISQodGhpcykuZmluZCgnaW5wdXQnKS5sZW5ndGhcblx0XHRcdFx0XHRpbnB1dCA9ICQoJzxpbnB1dCBjbGFzcz1cInBhZ2luYXRlX2lucHV0IGZvcm0tY29udHJvbCBpbnB1dC1zbVwiIHR5cGU9XCJ0ZXh0XCIgc3R5bGU9XCJib3JkZXI6IG5vbmU7IHBhZGRpbmc6MCAycHg7XCIvPicpXG5cdFx0XHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRcdFx0XHRpbnB1dC5jc3Moe1xuXHRcdFx0XHRcdFx0XHR3aWR0aDpcIjUycHhcIlxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMjBweFwiXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGlucHV0LmNzcyh7XG5cdFx0XHRcdFx0XHRcdHdpZHRoOlwiNTJweFwiXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogXCIxNnB4XCJcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0aW5wdXQuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgdGl0bGUpXG5cdFx0XHRcdFx0JCh0aGlzKS5lbXB0eSgpLmFwcGVuZCBpbnB1dFxuXHRcdFx0XHRcdGdvUGFnZSA9IChpbmRleCktPlxuXHRcdFx0XHRcdFx0aWYgaW5kZXggPiAwXG5cdFx0XHRcdFx0XHRcdHBhZ2VzID0gTWF0aC5jZWlsKHNldHRpbmdzLmZuUmVjb3Jkc0Rpc3BsYXkoKSAvIHNldHRpbmdzLl9pRGlzcGxheUxlbmd0aClcblx0XHRcdFx0XHRcdFx0aWYgaW5kZXggPiBwYWdlc1xuXHRcdFx0XHRcdFx0XHRcdCMg6aG156CB6LaF5Ye657Si5byV5pe26Lez6L2s5Yiw5pyA5ZCO5LiA6aG1XG5cdFx0XHRcdFx0XHRcdFx0aW5kZXggPSBwYWdlc1xuXHRcdFx0XHRcdFx0XHRpbmRleC0tXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLm9JbnN0YW5jZS5EYXRhVGFibGUoKS5wYWdlKGluZGV4KS5kcmF3KCdwYWdlJylcblx0XHRcdFx0XHRpbnB1dC5ibHVyIChlKS0+XG5cdFx0XHRcdFx0XHRjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKClcblx0XHRcdFx0XHRcdGdvUGFnZSBjdXJyZW50UGFnZVxuXHRcdFx0XHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5odG1sICcuLi4nXG5cdFx0XHRcdFx0aW5wdXQua2V5ZG93biAoZSktPlxuXHRcdFx0XHRcdFx0aWYoZS5rZXlDb2RlLnRvU3RyaW5nKCkgPT0gXCIxM1wiKVxuXHRcdFx0XHRcdFx0XHRjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKClcblx0XHRcdFx0XHRcdFx0Z29QYWdlIGN1cnJlbnRQYWdlXG5cblx0XHRjcmVhdGVkUm93OiAocm93LCBkYXRhLCBkYXRhSW5kZXgpIC0+XG5cdFx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdFx0aWYgZGF0YS5faWQgPT0gRmxvd1JvdXRlci5jdXJyZW50KCkucGFyYW1zLmluc3RhbmNlSWRcblx0XHRcdFx0XHRyb3cuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzZWxlY3RlZFwiKVxuXHRcdGNvbHVtbnM6IFtcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJfaWRcIixcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRtb2RpZmllZFN0cmluZyA9IG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuXG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBkb2MubW9kaWZpZWRcblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnICYmIGRvYy5zdGF0ZSAhPSAnZHJhZnQnXG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5zdGFydF9kYXRlIHx8IGRvYy5tb2RpZmllZFxuXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ291dGJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ21vbml0b3InXG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5zdWJtaXRfZGF0ZSB8fCBkb2Muc3VibWl0X2RhdGVcblxuXHRcdFx0XHRcdG1vZGlmaWVkRnJvbU5vdyA9IFN0ZWVkb3MubW9tZW50UmVhY3RpdmVGcm9tTm93KG1vZGlmaWVkKTtcblx0XHRcdFx0XHRmbG93X25hbWUgPSBkb2MuZmxvd19uYW1lXG5cdFx0XHRcdFx0Y2NfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0IyDlvZPliY3nlKjmiLflnKhjYyB1c2Vy5Lit77yM5L2G5piv5LiN5ZyoaW5ib3ggdXNlcnPml7bmiY3mmL7npLon5Lyg6ZiFJ+aWh+Wtl1xuXHRcdFx0XHRcdGlmIGRvYy5pc19jYyAmJiAhZG9jLmluYm94X3VzZXJzPy5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0XHRcdGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiXG5cdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTxzcGFuPigje2RvYy5jdXJyZW50X3N0ZXBfbmFtZX0pPC9zcGFuPjwvZGl2PlwiXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gJ2RyYWZ0JyAmJiBkb2MuY3VycmVudF9zdGVwX25hbWVcblx0XHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08c3Bhbj4oI3tkb2MuY3VycmVudF9zdGVwX25hbWV9KTwvc3Bhbj48L2Rpdj5cIlxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTwvZGl2PlwiXG5cblx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCJcIjtcblx0XHRcdFx0XHRpZiBkb2MuYWdlbnRfdXNlcl9uYW1lICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZX0pICsgXCIpPC9sYWJlbD5cIlxuXG5cdFx0XHRcdFx0dW5yZWFkID0gJydcblxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT0gZmFsc2Vcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nXG5cdFx0XHRcdFx0ZWxzZSBpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PSB0cnVlXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPidcblxuXHRcdFx0XHRcdHByaW9yaXR5SWNvbiA9IFwiXCJcblx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiXCJcblx0XHRcdFx0XHRwcmlvcml0eVZhbHVlID0gZG9jLnZhbHVlcz8ucHJpb3JpdHlcblx0XHRcdFx0XHRzd2l0Y2ggcHJpb3JpdHlWYWx1ZVxuXHRcdFx0XHRcdFx0d2hlbiBcIueJueaApVwiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIlxuXHRcdFx0XHRcdFx0d2hlbiBcIue0p+aApVwiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCJcblx0XHRcdFx0XHRcdHdoZW4gXCLlip7mlodcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIlxuXHRcdFx0XHRcdGlmIHByaW9yaXR5SWNvbkNsYXNzXG5cdFx0XHRcdFx0XHRpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS0je3ByaW9yaXR5SWNvbkNsYXNzfVwiXG5cblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPiN7dW5yZWFkfTwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgI3tpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzfSc+I3tkb2MubmFtZX0je2NjX3ZpZXd9I3thZ2VudF92aWV3fVxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4+I3tkb2MuYXBwbGljYW50X25hbWV9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLWRldGFpbCc+I3tzdGVwX2N1cnJlbnRfbmFtZV92aWV3fVxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9J2luc3RhbmNlLW1vZGlmaWVkJyB0aXRsZT0nI3ttb2RpZmllZFN0cmluZ30nPiN7bW9kaWZpZWRGcm9tTm93fTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIiksXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJuYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX25hbWVcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGNjX3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdCMg5b2T5YmN55So5oi35ZyoY2MgdXNlcuS4re+8jOS9huaYr+S4jeWcqGluYm94IHVzZXJz5pe25omN5pi+56S6J+S8oOmYhSfmloflrZdcblx0XHRcdFx0XHRpZiBkb2MuaXNfY2MgJiYgIWRvYy5pbmJveF91c2Vycz8uaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXG5cdFx0XHRcdFx0XHRjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIlxuXG5cdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0aWYgZG9jLmFnZW50X3VzZXJfbmFtZVxuXHRcdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge3VzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lfSkgKyBcIik8L2xhYmVsPlwiXG5cblx0XHRcdFx0XHR1bnJlYWQgPSAnJ1xuXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PSBmYWxzZVxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPidcblx0XHRcdFx0XHRlbHNlIGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09IHRydWVcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+J1xuXG5cdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiXG5cdFx0XHRcdFx0cHJpb3JpdHlWYWx1ZSA9IGRvYy52YWx1ZXM/LnByaW9yaXR5XG5cdFx0XHRcdFx0c3dpdGNoIHByaW9yaXR5VmFsdWVcblx0XHRcdFx0XHRcdHdoZW4gXCLnibnmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCJcblx0XHRcdFx0XHRcdHdoZW4gXCLntKfmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiXG5cdFx0XHRcdFx0XHR3aGVuIFwi5Yqe5paHXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCJcblx0XHRcdFx0XHRpZiBwcmlvcml0eUljb25DbGFzc1xuXHRcdFx0XHRcdFx0aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktI3twcmlvcml0eUljb25DbGFzc31cIlxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPiN7dW5yZWFkfTwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lICN7aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzc30nPiN7ZG9jLm5hbWV9I3tjY192aWV3fSN7YWdlbnRfdmlld308L2Rpdj5cblx0XHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwic3VibWl0X2RhdGVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfc3VibWl0X2RhdGVcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5zdWJtaXRfZGF0ZVxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2Muc3VibWl0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuXHRcdFx0XHQsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiZmxvd19uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0ZXBfY3VycmVudF9uYW1lXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2Muc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0XHRcdFx0anVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiXG5cblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJ1xuXG5cdFx0XHRcdFx0Y2NfdGFnID0gJydcblxuXHRcdFx0XHRcdGlmIGRvYy5jY19jb3VudCA+IDBcblx0XHRcdFx0XHRcdGNjX3RhZyA9IFRBUGkxOG4uX18oJ2NjX3RhZycpXG5cblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlcC1jdXJyZW50LXN0YXRlICN7anVkZ2V9XCI+I3tzdGVwX2N1cnJlbnRfbmFtZX0je2NjX3RhZ308L2Rpdj5cblx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibW9kaWZpZWRcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfbW9kaWZpZWRcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcblx0XHRcdFx0LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcInN0YXJ0X2RhdGVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RhcnRfZGF0ZVwiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLnN0YXJ0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuXHRcdFx0XHQsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibXlfZmluaXNoX2RhdGVcIixcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLm15X2ZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5teV9maW5pc2hfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG5cdFx0XHRcdCxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJtb2RpZmllZFwiLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJrZXl3b3Jkc1wiLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJpc19hcmNoaXZlZFwiLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2M/LnZhbHVlcz8ucmVjb3JkX25lZWQgJiYgZG9jLnZhbHVlcy5yZWNvcmRfbmVlZCA9PSBcInRydWVcIlxuXHRcdFx0XHRcdFx0aWYgZG9jPy5pc19hcmNoaXZlZFxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdChcIllFU1wiKVxuXHRcdFx0XHRcdFx0cmV0dXJuIHQoXCJOT1wiKVxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRkb206IGRvIC0+XG5cdFx0XHQjIOaJi+acuuS4iuS4jeaYvuekuuS4gOmhteaYvuekuuWkmuWwkeadoeiusOW9lemAiemhuVxuXHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRcdCd0cCdcblx0XHRcdGVsc2Vcblx0XHRcdFx0J3RwbCdcblx0XHRvcmRlcjogW1s0LCBcImRlc2NcIl1dLFxuXHRcdGV4dHJhRmllbGRzOiBbXCJmb3JtXCIsIFwiZmxvd1wiLCBcImluYm94X3VzZXJzXCIsIFwic3RhdGVcIiwgXCJzcGFjZVwiLCBcImFwcGxpY2FudFwiLCBcImZvcm1fdmVyc2lvblwiLFxuXHRcdFx0XCJmbG93X3ZlcnNpb25cIiwgXCJpc19jY1wiLCBcImNjX2NvdW50XCIsIFwiaXNfcmVhZFwiLCBcImN1cnJlbnRfc3RlcF9uYW1lXCIsIFwidmFsdWVzXCIsIFwia2V5d29yZHNcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcImZsb3dfbmFtZVwiLCBcImlzX2hpZGRlblwiLCBcImFnZW50X3VzZXJfbmFtZVwiXSxcblx0XHRsZW5ndGhDaGFuZ2U6IHRydWUsXG5cdFx0bGVuZ3RoTWVudTogWzEwLDE1LDIwLDI1LDUwLDEwMF0sXG5cdFx0cGFnZUxlbmd0aDogMTAsXG5cdFx0aW5mbzogZmFsc2UsXG5cdFx0c2VhcmNoaW5nOiB0cnVlLFxuXHRcdHJlc3BvbnNpdmU6XG5cdFx0XHRkZXRhaWxzOiBmYWxzZVxuXHRcdGF1dG9XaWR0aDogZmFsc2UsXG5cdFx0Y2hhbmdlU2VsZWN0b3I6IChzZWxlY3RvciwgdXNlcklkKSAtPlxuXHRcdFx0dW5sZXNzIHVzZXJJZFxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRzcGFjZSA9IHNlbGVjdG9yLnNwYWNlXG5cdFx0XHR1bmxlc3Mgc3BhY2Vcblx0XHRcdFx0aWYgc2VsZWN0b3I/LiRhbmQ/Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRzcGFjZSA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF1cblx0XHRcdHVubGVzcyBzcGFjZVxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7dXNlcjogdXNlcklkLCBzcGFjZTogc3BhY2V9LCB7ZmllbGRzOiB7X2lkOiAxfX0pXG5cdFx0XHR1bmxlc3Mgc3BhY2VfdXNlclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRyZXR1cm4gc2VsZWN0b3Jcblx0XHRwYWdpbmdUeXBlOiBcIm51bWJlcnNcIlxuXG5cdH1cblxuXHRpZiBmbG93SWRcblx0XHRrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgZmxvd0lkXG5cblx0XHRvcHRpb25zLm5hbWUgPSBrZXlcblxuXHRcdFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkcyA9IGZpZWxkc1xuXG5cdFx0aW5zX2ZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzIFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkc1xuXG5cdFx0aW5zX2ZpZWxkcy5mb3JFYWNoIChmKS0+XG5cdFx0XHRpZiBmLnR5cGUgIT0gJ3RhYmxlJyAmJiBmLmlzX2xpc3RfZGlzcGxheVxuXHRcdFx0XHRvcHRpb25zLmNvbHVtbnMucHVzaFxuXHRcdFx0XHRcdGRhdGE6IChmLm5hbWUgfHwgZi5jb2RlKSxcblx0XHRcdFx0XHR0aXRsZTogdChmLm5hbWUgfHwgZi5jb2RlKSxcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cblx0XHRcdFx0XHRcdHZhbHVlcyA9IGRvYy52YWx1ZXMgfHwge31cblxuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZXNbZi5jb2RlXVxuXG5cdFx0XHRcdFx0XHRzd2l0Y2ggZi50eXBlXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ3VzZXInXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8ubmFtZVxuXHRcdFx0XHRcdFx0XHR3aGVuICdncm91cCdcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5mdWxsbmFtZVxuXHRcdFx0XHRcdFx0XHR3aGVuICdkYXRlJ1xuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREJylcblx0XHRcdFx0XHRcdFx0d2hlbiAnZGF0ZVRpbWUnXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWVcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKVxuXHRcdFx0XHRcdFx0XHR3aGVuICdjaGVja2JveCdcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZSA9PSB0cnVlIHx8IHZhbHVlID09ICd0cnVlJ1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIik7XG5cdFx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiKTtcblx0XHRcdFx0XHRcdFx0d2hlbiAnb2RhdGEnXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWVcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWVbJ0BsYWJlbCddXG5cblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZVxuXG5cblx0cmV0dXJuIG9wdGlvbnM7XG5cbk1ldGVvci5zdGFydHVwICgpLT5cblx0VGFidWxhclRhYmxlcy5pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKClcblxuXG5HZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyA9IChib3gsIGZsb3dJZCwgZmllbGRzKS0+XG5cdGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWRcblx0aWYgYm94ID09IFwiaW5ib3hcIlxuXHRcdG9wdGlvbnMgPSBfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpXG5cdGVsc2UgaWYgYm94ID09IFwib3V0Ym94XCJcblx0XHRvcHRpb25zID0gX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcylcblx0ZWxzZVxuXHRcdG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKVxuXHRcdGlmICFmbG93SWRcblx0XHRcdG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCJcblx0aWYgZmxvd0lkXG5cdFx0b3B0aW9ucy5uYW1lID0ga2V5XG5cdHJldHVybiBvcHRpb25zXG5cblxuXG5fZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSAoZmxvd0lkLCBmaWVsZHMpLT5cblx0b3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXG5cblx0aWYgIWZsb3dJZFxuXHRcdG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCJcblxuXHRvcHRpb25zLm9yZGVyID0gW1s4LCBcImRlc2NcIl1dXG5cdG9wdGlvbnMuZmlsdGVyZWRSZWNvcmRJZHMgPSAodGFibGUsIHNlbGVjdG9yLCBzb3J0LCBza2lwLCBsaW1pdCwgb2xkX2ZpbHRlcmVkUmVjb3JkSWRzLCB1c2VySWQsIGZpbmRPcHRpb25zKS0+XG5cdFx0YWdncmVnYXRlX29wZXJhdGlvbiA9IFtcblx0XHRcdHtcblx0XHRcdFx0JG1hdGNoOiBzZWxlY3RvclxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHByb2plY3Q6IHtcblx0XHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRcdFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCRtYXRjaDoge1xuXHRcdFx0XHRcdCdfYXBwcm92ZS5pc19maW5pc2hlZCc6IGZhbHNlXG5cdFx0XHRcdFx0J19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWQsXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRdXG5cdFx0aWYgc29ydCBhbmQgc29ydC5sZW5ndGggPiAwXG5cdFx0XHRzMSA9IHNvcnRbMF1cblx0XHRcdHMxXzAgPSBzMVswXVxuXHRcdFx0czFfMSA9IHMxWzFdXG5cdFx0XHRpZiBzMV8wID09ICdzdGFydF9kYXRlJ1xuXG5cdFx0XHRcdGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXVxuXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkZ3JvdXA6IHtfaWQ6IFwiJF9pZFwiLCBcImFwcHJvdmVfc3RhcnRfZGF0ZVwiOiB7JGZpcnN0OiBcIiRfYXBwcm92ZS5zdGFydF9kYXRlXCJ9fVxuXG5cdFx0XHRcdGFnX3NvcnQgPSAnYXBwcm92ZV9zdGFydF9kYXRlJzogaWYgczFfMSA9PSAnYXNjJyB0aGVuIDEgZWxzZSAtMVxuXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkc29ydDogYWdfc29ydFxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJHNraXA6IHNraXBcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRsaW1pdDogbGltaXRcblx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMgPSBuZXcgQXJyYXkoKVxuXG5cdFx0XHRcdGFnZ3JlZ2F0ZSA9ICh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSAtPlxuXHRcdFx0XHRcdHRhYmxlLmNvbGxlY3Rpb24ucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVfb3BlcmF0aW9uKS50b0FycmF5IChlcnIsIGRhdGEpIC0+XG5cdFx0XHRcdFx0XHRpZiBlcnJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcblx0XHRcdFx0XHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxuXHRcdFx0XHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcy5wdXNoIGRvYy5faWRcblx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRpZiBjYlxuXHRcdFx0XHRcdFx0XHRjYigpXG5cdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRyZXR1cm5cblxuXHRcdFx0XHRhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSlcblxuXHRcdFx0XHRhc3luY19hZ2dyZWdhdGUgdGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzXG5cblx0XHRcdFx0cmV0dXJuIGZpbHRlcmVkUmVjb3JkSWRzLnVuaXEoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzXG5cblx0cmV0dXJuIG9wdGlvbnNcblxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxuXHRUYWJ1bGFyVGFibGVzLmluYm94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwiaW5ib3hcIilcblxuXG5fZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zID0gKGZsb3dJZCwgZmllbGRzKS0+XG5cdG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKVxuXG5cdGlmICFmbG93SWRcblx0XHRvcHRpb25zLm5hbWUgPSBcIm91dGJveF9pbnN0YW5jZXNcIlxuXG5cdG9wdGlvbnMub3JkZXIgPSBbWzksIFwiZGVzY1wiXV1cblx0b3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9ICh0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpLT5cblx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xuXHRcdFx0e1xuXHRcdFx0XHQkbWF0Y2g6IHNlbGVjdG9yXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkcHJvamVjdDoge1xuXHRcdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdFx0XCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3Zlcydcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JG1hdGNoOiB7XG5cdFx0XHRcdFx0J19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogdHJ1ZVxuXHRcdFx0XHRcdCRvcjogW3snX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZH0seydfYXBwcm92ZS51c2VyJzogdXNlcklkfV1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdF1cblx0XHRpZiBzb3J0IGFuZCBzb3J0Lmxlbmd0aCA+IDBcblx0XHRcdHMxID0gc29ydFswXVxuXHRcdFx0czFfMCA9IHMxWzBdXG5cdFx0XHRzMV8xID0gczFbMV1cblx0XHRcdGlmIHMxXzAgPT0gJ215X2ZpbmlzaF9kYXRlJ1xuXG5cdFx0XHRcdGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXVxuXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkZ3JvdXA6IHtfaWQ6IFwiJF9pZFwiLCBcImFwcHJvdmVfZmluaXNoX2RhdGVcIjogeyRsYXN0OiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwifX1cblxuXHRcdFx0XHRhZ19zb3J0ID0gJ2FwcHJvdmVfZmluaXNoX2RhdGUnOiBpZiBzMV8xID09ICdhc2MnIHRoZW4gMSBlbHNlIC0xXG5cblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRzb3J0OiBhZ19zb3J0XG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkc2tpcDogc2tpcFxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJGxpbWl0OiBsaW1pdFxuXHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpXG5cblx0XHRcdFx0YWdncmVnYXRlID0gKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIC0+XG5cdFx0XHRcdFx0dGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkgKGVyciwgZGF0YSkgLT5cblx0XHRcdFx0XHRcdGlmIGVyclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxuXHRcdFx0XHRcdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XG5cdFx0XHRcdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzLnB1c2ggZG9jLl9pZFxuXHRcdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRcdGlmIGNiXG5cdFx0XHRcdFx0XHRcdGNiKClcblx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKVxuXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSB0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHNcblxuXHRcdFx0XHRyZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHNcblxuXHRyZXR1cm4gb3B0aW9uc1xuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdFRhYnVsYXJUYWJsZXMub3V0Ym94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwib3V0Ym94XCIpXG5cbmlmIE1ldGVvci5pc0NsaWVudFxuXHRUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMgPSBuZXcgUmVhY3RpdmVWYXIoKVxuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdFRyYWNrZXIuYXV0b3J1biAoYykgLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnQgJiYgIVN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIikgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gJ2RyYWZ0J1xuXHRcdFx0XHRNZXRlb3IuY2FsbCBcIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyXCIsIFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgKGVycm9yLCByZXN1bHQpIC0+XG5cdFx0XHRcdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCByZXN1bHRcblx0XHRcdFx0XHRUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll9jaGFuZ2VPcmRlcigpXG5cblxubmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgPSAoYm94LCBmbG93SWQsIGZpZWxkcyktPlxuXHRpZiAhZmllbGRzXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge2Zvcm06IDF9fSlcblx0XHRmaWVsZHMgPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93Py5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KT8uY3VycmVudD8uZmllbGRzXG5cblx0ZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMgZmllbGRzXG5cblx0aWYgZmllbGRzPy5maWx0ZXJQcm9wZXJ0eShcImlzX2xpc3RfZGlzcGxheVwiLCB0cnVlKT8ubGVuZ3RoID4gMFxuXHRcdGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWRcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcy5zZXQobmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcykpXG5cdFx0ZWxzZVxuXHRcdFx0bmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcylcblx0XHRjb25zb2xlLmxvZyBcIm5ldyBUYWJ1bGFyVGFibGVzIFwiLCBrZXlcblxuaWYgTWV0ZW9yLmlzU2VydmVyXG5cdE1ldGVvci5tZXRob2RzXG5cdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXI6IChib3gsIGZsb3dJZCktPlxuXHRcdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIoYm94LCBmbG93SWQpXG5cblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGZsb3dJZH0sIHtmaWVsZHM6IHtmb3JtOiAxfX0pXG5cdFx0XHRmaWVsZHMgPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93Py5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KT8uY3VycmVudD8uZmllbGRzXG5cdFx0XHRyZXR1cm4gZmllbGRzXG5cblxuIiwidmFyIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zLCBfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMsIF9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMsIF9oYW5kbGVMaXN0RmllbGRzLCBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyLCBuZXdJbnN0YW5jZXNMaXN0VGFidWxhciwgdXBkYXRlVGFidWxhclRpdGxlO1xuXG5TdGVlZG9zLnN1YnNbXCJJbnN0YW5jZVRhYnVsYXJcIl0gPSBuZXcgU3Vic01hbmFnZXIoKTtcblxuX2hhbmRsZUxpc3RGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMpIHtcbiAgdmFyIGluc19maWVsZHM7XG4gIGluc19maWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgaWYgKGZpZWxkcyAhPSBudWxsKSB7XG4gICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgdmFyIHJlZjtcbiAgICAgIGlmIChmLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZScpO1xuICAgICAgfSBlbHNlIGlmIChmLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgICByZXR1cm4gZiAhPSBudWxsID8gKHJlZiA9IGYuZmllbGRzKSAhPSBudWxsID8gcmVmLmZvckVhY2goZnVuY3Rpb24oZjEpIHtcbiAgICAgICAgICByZXR1cm4gaW5zX2ZpZWxkcy5wdXNoKGYxKTtcbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW5zX2ZpZWxkcy5wdXNoKGYpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBpbnNfZmllbGRzO1xufTtcblxudXBkYXRlVGFidWxhclRpdGxlID0gZnVuY3Rpb24oKSB7fTtcblxuaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciA9IGZ1bmN0aW9uKGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBpbnNfZmllbGRzLCBrZXksIG9wdGlvbnM7XG4gIG9wdGlvbnMgPSB7XG4gICAgbmFtZTogXCJpbnN0YW5jZXNcIixcbiAgICBjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXMsXG4gICAgcHViOiBcImluc3RhbmNlX3RhYnVsYXJcIixcbiAgICBvblVubG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApO1xuICAgIH0sXG4gICAgZHJhd0NhbGxiYWNrOiBmdW5jdGlvbihzZXR0aW5ncykge1xuICAgICAgdmFyIGVsbGlwc2lzTGluaywgZW1wdHlUZCwgdGl0bGU7XG4gICAgICBlbXB0eVRkID0gJChcIi5kYXRhVGFibGVzX2VtcHR5XCIpO1xuICAgICAgaWYgKGVtcHR5VGQubGVuZ3RoKSB7XG4gICAgICAgIGVtcHR5VGRbMF0uY29sU3BhbiA9IFwiNlwiO1xuICAgICAgfVxuICAgICAgaWYgKCFTdGVlZG9zLmlzTW9iaWxlKCkgJiYgIVN0ZWVkb3MuaXNQYWQoKSkge1xuICAgICAgICBNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MCk7XG4gICAgICAgICQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQoXCIuaW5zdGFuY2UtbGlzdFwiKS5wZXJmZWN0U2Nyb2xsYmFyKFwidXBkYXRlXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMCk7XG4gICAgICB9XG4gICAgICB0aXRsZSA9IHQoXCJwYWdlcl9pbnB1dF9oaW50XCIpO1xuICAgICAgZWxsaXBzaXNMaW5rID0gc2V0dGluZ3Mub0luc3RhbmNlLnBhcmVudCgpLmZpbmQoJy5wYWdpbmdfbnVtYmVycyAucGFnaW5hdGlvbiAuZGlzYWJsZWQgYScpO1xuICAgICAgcmV0dXJuIGVsbGlwc2lzTGluay5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmNzcyhcImN1cnNvclwiLCBcInBvaW50ZXJcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBnb1BhZ2UsIGlucHV0O1xuICAgICAgICBpZiAoISQodGhpcykuZmluZCgnaW5wdXQnKS5sZW5ndGgpIHtcbiAgICAgICAgICBpbnB1dCA9ICQoJzxpbnB1dCBjbGFzcz1cInBhZ2luYXRlX2lucHV0IGZvcm0tY29udHJvbCBpbnB1dC1zbVwiIHR5cGU9XCJ0ZXh0XCIgc3R5bGU9XCJib3JkZXI6IG5vbmU7IHBhZGRpbmc6MCAycHg7XCIvPicpO1xuICAgICAgICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgIGlucHV0LmNzcyh7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIjUycHhcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjIwcHhcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0LmNzcyh7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIjUycHhcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjE2cHhcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlucHV0LmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuYXR0cihcInBsYWNlaG9sZGVyXCIsIHRpdGxlKTtcbiAgICAgICAgICAkKHRoaXMpLmVtcHR5KCkuYXBwZW5kKGlucHV0KTtcbiAgICAgICAgICBnb1BhZ2UgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgdmFyIHBhZ2VzO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICBwYWdlcyA9IE1hdGguY2VpbChzZXR0aW5ncy5mblJlY29yZHNEaXNwbGF5KCkgLyBzZXR0aW5ncy5faURpc3BsYXlMZW5ndGgpO1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPiBwYWdlcykge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gcGFnZXM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm9JbnN0YW5jZS5EYXRhVGFibGUoKS5wYWdlKGluZGV4KS5kcmF3KCdwYWdlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpbnB1dC5ibHVyKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZTtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgIGdvUGFnZShjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5wYXJlbnQoKS5odG1sKCcuLi4nKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gaW5wdXQua2V5ZG93bihmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFBhZ2U7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlLnRvU3RyaW5nKCkgPT09IFwiMTNcIikge1xuICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgIHJldHVybiBnb1BhZ2UoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNyZWF0ZWRSb3c6IGZ1bmN0aW9uKHJvdywgZGF0YSwgZGF0YUluZGV4KSB7XG4gICAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICAgIGlmIChkYXRhLl9pZCA9PT0gRmxvd1JvdXRlci5jdXJyZW50KCkucGFyYW1zLmluc3RhbmNlSWQpIHtcbiAgICAgICAgICByZXR1cm4gcm93LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic2VsZWN0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbHVtbnM6IFtcbiAgICAgIHtcbiAgICAgICAgZGF0YTogXCJfaWRcIixcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBhZ2VudF92aWV3LCBjY192aWV3LCBmbG93X25hbWUsIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MsIG1vZGlmaWVkLCBtb2RpZmllZEZyb21Ob3csIG1vZGlmaWVkU3RyaW5nLCBwcmlvcml0eUljb24sIHByaW9yaXR5SWNvbkNsYXNzLCBwcmlvcml0eVZhbHVlLCByZWYsIHJlZjEsIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcsIHVucmVhZDtcbiAgICAgICAgICBtb2RpZmllZFN0cmluZyA9IG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICAgIG1vZGlmaWVkID0gZG9jLm1vZGlmaWVkO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2Muc3RhdGUgIT09ICdkcmFmdCcpIHtcbiAgICAgICAgICAgIG1vZGlmaWVkID0gZG9jLnN0YXJ0X2RhdGUgfHwgZG9jLm1vZGlmaWVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdvdXRib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnbW9uaXRvcicpIHtcbiAgICAgICAgICAgIG1vZGlmaWVkID0gZG9jLnN1Ym1pdF9kYXRlIHx8IGRvYy5zdWJtaXRfZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW9kaWZpZWRGcm9tTm93ID0gU3RlZWRvcy5tb21lbnRSZWFjdGl2ZUZyb21Ob3cobW9kaWZpZWQpO1xuICAgICAgICAgIGZsb3dfbmFtZSA9IGRvYy5mbG93X25hbWU7XG4gICAgICAgICAgY2NfdmlldyA9IFwiXCI7XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5pc19jYyAmJiAhKChyZWYgPSBkb2MuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSA6IHZvaWQgMCkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgICAgIGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiO1xuICAgICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz5cIiArIGZsb3dfbmFtZSArIFwiPHNwYW4+KFwiICsgZG9jLmN1cnJlbnRfc3RlcF9uYW1lICsgXCIpPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT09ICdkcmFmdCcgJiYgZG9jLmN1cnJlbnRfc3RlcF9uYW1lKSB7XG4gICAgICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+XCIgKyBmbG93X25hbWUgKyBcIjxzcGFuPihcIiArIGRvYy5jdXJyZW50X3N0ZXBfbmFtZSArIFwiKTwvc3Bhbj48L2Rpdj5cIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+XCIgKyBmbG93X25hbWUgKyBcIjwvZGl2PlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhZ2VudF92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmFnZW50X3VzZXJfbmFtZSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICAgICAgYWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge1xuICAgICAgICAgICAgICB1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZVxuICAgICAgICAgICAgfSkgKyBcIik8L2xhYmVsPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1bnJlYWQgPSAnJztcbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmlvcml0eUljb24gPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIjtcbiAgICAgICAgICBwcmlvcml0eVZhbHVlID0gKHJlZjEgPSBkb2MudmFsdWVzKSAhPSBudWxsID8gcmVmMS5wcmlvcml0eSA6IHZvaWQgMDtcbiAgICAgICAgICBzd2l0Y2ggKHByaW9yaXR5VmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCLnibnmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLntKfmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi5Yqe5paHXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJpb3JpdHlJY29uQ2xhc3MpIHtcbiAgICAgICAgICAgIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LVwiICsgcHJpb3JpdHlJY29uQ2xhc3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz5cIiArIHVucmVhZCArIFwiPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSBcIiArIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgKyBcIic+XCIgKyBkb2MubmFtZSArIGNjX3ZpZXcgKyBhZ2VudF92aWV3ICsgXCJcXG5cdDxzcGFuPlwiICsgZG9jLmFwcGxpY2FudF9uYW1lICsgXCI8L3NwYW4+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtZGV0YWlsJz5cIiArIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgKyBcIlxcblx0PHNwYW4gY2xhc3M9J2luc3RhbmNlLW1vZGlmaWVkJyB0aXRsZT0nXCIgKyBtb2RpZmllZFN0cmluZyArIFwiJz5cIiArIG1vZGlmaWVkRnJvbU5vdyArIFwiPC9zcGFuPlxcbjwvZGl2PlwiO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJuYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX25hbWVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgYWdlbnRfdmlldywgY2NfdmlldywgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcywgcHJpb3JpdHlJY29uQ2xhc3MsIHByaW9yaXR5VmFsdWUsIHJlZiwgcmVmMSwgc3RlcF9jdXJyZW50X25hbWVfdmlldywgdW5yZWFkO1xuICAgICAgICAgIGNjX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuaXNfY2MgJiYgISgocmVmID0gZG9jLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDApICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWdlbnRfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5hZ2VudF91c2VyX25hbWUpIHtcbiAgICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgdXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWVcbiAgICAgICAgICAgIH0pICsgXCIpPC9sYWJlbD5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5yZWFkID0gJyc7XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPic7XG4gICAgICAgICAgfSBlbHNlIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5VmFsdWUgPSAocmVmMSA9IGRvYy52YWx1ZXMpICE9IG51bGwgPyByZWYxLnByaW9yaXR5IDogdm9pZCAwO1xuICAgICAgICAgIHN3aXRjaCAocHJpb3JpdHlWYWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBcIueJueaApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIue0p+aApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLlip7mlodcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmlvcml0eUljb25DbGFzcykge1xuICAgICAgICAgICAgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktXCIgKyBwcmlvcml0eUljb25DbGFzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPlwiICsgdW5yZWFkICsgXCI8L2Rpdj5cXG48ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lIFwiICsgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyArIFwiJz5cIiArIGRvYy5uYW1lICsgY2NfdmlldyArIGFnZW50X3ZpZXcgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcInN1Ym1pdF9kYXRlXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N1Ym1pdF9kYXRlXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5zdWJtaXRfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2Muc3VibWl0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImZsb3dfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0ZXBfY3VycmVudF9uYW1lXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGNjX3RhZywganVkZ2UsIHN0ZXBfY3VycmVudF9uYW1lO1xuICAgICAgICAgIGlmIChkb2Muc3RhdGUgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgICAgICAgIGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJyc7XG4gICAgICAgICAgY2NfdGFnID0gJyc7XG4gICAgICAgICAgaWYgKGRvYy5jY19jb3VudCA+IDApIHtcbiAgICAgICAgICAgIGNjX3RhZyA9IFRBUGkxOG4uX18oJ2NjX3RhZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJzdGVwLWN1cnJlbnQtc3RhdGUgXCIgKyBqdWRnZSArIFwiXFxcIj5cIiArIHN0ZXBfY3VycmVudF9uYW1lICsgY2NfdGFnICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJtb2RpZmllZFwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19tb2RpZmllZFwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcInN0YXJ0X2RhdGVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RhcnRfZGF0ZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIGlmIChkb2Muc3RhcnRfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2Muc3RhcnRfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibXlfZmluaXNoX2RhdGVcIixcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIGlmIChkb2MubXlfZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLm15X2ZpbmlzaF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJtb2RpZmllZFwiLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImtleXdvcmRzXCIsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiaXNfYXJjaGl2ZWRcIixcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciByZWY7XG4gICAgICAgICAgaWYgKChkb2MgIT0gbnVsbCA/IChyZWYgPSBkb2MudmFsdWVzKSAhPSBudWxsID8gcmVmLnJlY29yZF9uZWVkIDogdm9pZCAwIDogdm9pZCAwKSAmJiBkb2MudmFsdWVzLnJlY29yZF9uZWVkID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgaWYgKGRvYyAhPSBudWxsID8gZG9jLmlzX2FyY2hpdmVkIDogdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0KFwiWUVTXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQoXCJOT1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9XG4gICAgXSxcbiAgICBkb206IChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgcmV0dXJuICd0cCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3RwbCc7XG4gICAgICB9XG4gICAgfSkoKSxcbiAgICBvcmRlcjogW1s0LCBcImRlc2NcIl1dLFxuICAgIGV4dHJhRmllbGRzOiBbXCJmb3JtXCIsIFwiZmxvd1wiLCBcImluYm94X3VzZXJzXCIsIFwic3RhdGVcIiwgXCJzcGFjZVwiLCBcImFwcGxpY2FudFwiLCBcImZvcm1fdmVyc2lvblwiLCBcImZsb3dfdmVyc2lvblwiLCBcImlzX2NjXCIsIFwiY2NfY291bnRcIiwgXCJpc19yZWFkXCIsIFwiY3VycmVudF9zdGVwX25hbWVcIiwgXCJ2YWx1ZXNcIiwgXCJrZXl3b3Jkc1wiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwiZmxvd19uYW1lXCIsIFwiaXNfaGlkZGVuXCIsIFwiYWdlbnRfdXNlcl9uYW1lXCJdLFxuICAgIGxlbmd0aENoYW5nZTogdHJ1ZSxcbiAgICBsZW5ndGhNZW51OiBbMTAsIDE1LCAyMCwgMjUsIDUwLCAxMDBdLFxuICAgIHBhZ2VMZW5ndGg6IDEwLFxuICAgIGluZm86IGZhbHNlLFxuICAgIHNlYXJjaGluZzogdHJ1ZSxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICBkZXRhaWxzOiBmYWxzZVxuICAgIH0sXG4gICAgYXV0b1dpZHRoOiBmYWxzZSxcbiAgICBjaGFuZ2VTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IsIHVzZXJJZCkge1xuICAgICAgdmFyIHJlZiwgc3BhY2UsIHNwYWNlX3VzZXI7XG4gICAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlID0gc2VsZWN0b3Iuc3BhY2U7XG4gICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgIGlmICgoc2VsZWN0b3IgIT0gbnVsbCA/IChyZWYgPSBzZWxlY3Rvci4kYW5kKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgc3BhY2UgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgICB1c2VyOiB1c2VySWQsXG4gICAgICAgIHNwYWNlOiBzcGFjZVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBfaWQ6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgfSxcbiAgICBwYWdpbmdUeXBlOiBcIm51bWJlcnNcIlxuICB9O1xuICBpZiAoZmxvd0lkKSB7XG4gICAga2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGZsb3dJZDtcbiAgICBvcHRpb25zLm5hbWUgPSBrZXk7XG4gICAgVGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzID0gZmllbGRzO1xuICAgIGluc19maWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyhUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHMpO1xuICAgIGluc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICBpZiAoZi50eXBlICE9PSAndGFibGUnICYmIGYuaXNfbGlzdF9kaXNwbGF5KSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmNvbHVtbnMucHVzaCh7XG4gICAgICAgICAgZGF0YTogZi5uYW1lIHx8IGYuY29kZSxcbiAgICAgICAgICB0aXRsZTogdChmLm5hbWUgfHwgZi5jb2RlKSxcbiAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSwgdmFsdWVzO1xuICAgICAgICAgICAgdmFsdWVzID0gZG9jLnZhbHVlcyB8fCB7fTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2YuY29kZV07XG4gICAgICAgICAgICBzd2l0Y2ggKGYudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICd1c2VyJzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5uYW1lIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdncm91cCc6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZnVsbG5hbWUgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnZGF0ZVRpbWUnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ29kYXRhJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVbJ0BsYWJlbCddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLmluc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlKGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoKSk7XG59KTtcblxuR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMgPSBmdW5jdGlvbihib3gsIGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBrZXksIG9wdGlvbnM7XG4gIGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWQ7XG4gIGlmIChib3ggPT09IFwiaW5ib3hcIikge1xuICAgIG9wdGlvbnMgPSBfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJvdXRib3hcIikge1xuICAgIG9wdGlvbnMgPSBfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcyk7XG4gICAgaWYgKCFmbG93SWQpIHtcbiAgICAgIG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCI7XG4gICAgfVxuICB9XG4gIGlmIChmbG93SWQpIHtcbiAgICBvcHRpb25zLm5hbWUgPSBrZXk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5fZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSBmdW5jdGlvbihmbG93SWQsIGZpZWxkcykge1xuICB2YXIgb3B0aW9ucztcbiAgb3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpO1xuICBpZiAoIWZsb3dJZCkge1xuICAgIG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCI7XG4gIH1cbiAgb3B0aW9ucy5vcmRlciA9IFtbOCwgXCJkZXNjXCJdXTtcbiAgb3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9IGZ1bmN0aW9uKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucykge1xuICAgIHZhciBhZ19zb3J0LCBhZ2dyZWdhdGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGFzeW5jX2FnZ3JlZ2F0ZSwgZmlsdGVyZWRSZWNvcmRJZHMsIHMxLCBzMV8wLCBzMV8xO1xuICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXG4gICAgICB7XG4gICAgICAgICRtYXRjaDogc2VsZWN0b3JcbiAgICAgIH0sIHtcbiAgICAgICAgJHByb2plY3Q6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgIFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICdfYXBwcm92ZS5pc19maW5pc2hlZCc6IGZhbHNlLFxuICAgICAgICAgICdfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICAgIGlmIChzb3J0ICYmIHNvcnQubGVuZ3RoID4gMCkge1xuICAgICAgczEgPSBzb3J0WzBdO1xuICAgICAgczFfMCA9IHMxWzBdO1xuICAgICAgczFfMSA9IHMxWzFdO1xuICAgICAgaWYgKHMxXzAgPT09ICdzdGFydF9kYXRlJykge1xuICAgICAgICBmaW5kT3B0aW9ucy5zb3J0ID0gW1snbW9kaWZpZWQnLCBzMV8xXV07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGdyb3VwOiB7XG4gICAgICAgICAgICBfaWQ6IFwiJF9pZFwiLFxuICAgICAgICAgICAgXCJhcHByb3ZlX3N0YXJ0X2RhdGVcIjoge1xuICAgICAgICAgICAgICAkZmlyc3Q6IFwiJF9hcHByb3ZlLnN0YXJ0X2RhdGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFnX3NvcnQgPSB7XG4gICAgICAgICAgJ2FwcHJvdmVfc3RhcnRfZGF0ZSc6IHMxXzEgPT09ICdhc2MnID8gMSA6IC0xXG4gICAgICAgIH07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNvcnQ6IGFnX3NvcnRcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNraXA6IHNraXBcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGxpbWl0OiBsaW1pdFxuICAgICAgICB9KTtcbiAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgYWdncmVnYXRlID0gZnVuY3Rpb24odGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikge1xuICAgICAgICAgIHRhYmxlLmNvbGxlY3Rpb24ucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVfb3BlcmF0aW9uKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMucHVzaChkb2MuX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcyk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMuaW5ib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJpbmJveFwiKSk7XG59KTtcblxuX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IGZ1bmN0aW9uKGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBvcHRpb25zO1xuICBvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcyk7XG4gIGlmICghZmxvd0lkKSB7XG4gICAgb3B0aW9ucy5uYW1lID0gXCJvdXRib3hfaW5zdGFuY2VzXCI7XG4gIH1cbiAgb3B0aW9ucy5vcmRlciA9IFtbOSwgXCJkZXNjXCJdXTtcbiAgb3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9IGZ1bmN0aW9uKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucykge1xuICAgIHZhciBhZ19zb3J0LCBhZ2dyZWdhdGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGFzeW5jX2FnZ3JlZ2F0ZSwgZmlsdGVyZWRSZWNvcmRJZHMsIHMxLCBzMV8wLCBzMV8xO1xuICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXG4gICAgICB7XG4gICAgICAgICRtYXRjaDogc2VsZWN0b3JcbiAgICAgIH0sIHtcbiAgICAgICAgJHByb2plY3Q6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgIFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICdfYXBwcm92ZS5pc19maW5pc2hlZCc6IHRydWUsXG4gICAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICdfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICdfYXBwcm92ZS51c2VyJzogdXNlcklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgICBpZiAoc29ydCAmJiBzb3J0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHMxID0gc29ydFswXTtcbiAgICAgIHMxXzAgPSBzMVswXTtcbiAgICAgIHMxXzEgPSBzMVsxXTtcbiAgICAgIGlmIChzMV8wID09PSAnbXlfZmluaXNoX2RhdGUnKSB7XG4gICAgICAgIGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkZ3JvdXA6IHtcbiAgICAgICAgICAgIF9pZDogXCIkX2lkXCIsXG4gICAgICAgICAgICBcImFwcHJvdmVfZmluaXNoX2RhdGVcIjoge1xuICAgICAgICAgICAgICAkbGFzdDogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFnX3NvcnQgPSB7XG4gICAgICAgICAgJ2FwcHJvdmVfZmluaXNoX2RhdGUnOiBzMV8xID09PSAnYXNjJyA/IDEgOiAtMVxuICAgICAgICB9O1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRzb3J0OiBhZ19zb3J0XG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRza2lwOiBza2lwXG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRsaW1pdDogbGltaXRcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGFnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIHtcbiAgICAgICAgICB0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzLnB1c2goZG9jLl9pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSk7XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkcztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLm91dGJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcIm91dGJveFwiKSk7XG59KTtcblxuaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICBUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMgPSBuZXcgUmVhY3RpdmVWYXIoKTtcbn1cblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUcmFja2VyLmF1dG9ydW4oZnVuY3Rpb24oYykge1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQgJiYgIVN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9PSAnZHJhZnQnKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuY2FsbChcIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyXCIsIFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkge1xuICAgICAgICAgIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyKFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgcmVzdWx0KTtcbiAgICAgICAgICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fY2hhbmdlT3JkZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0pO1xuXG5uZXdJbnN0YW5jZXNMaXN0VGFidWxhciA9IGZ1bmN0aW9uKGJveCwgZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGZsb3csIGtleSwgcmVmLCByZWYxLCByZWYyO1xuICBpZiAoIWZpZWxkcykge1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvd0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGZvcm06IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBmaWVsZHMgPSAocmVmID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3cgIT0gbnVsbCA/IGZsb3cuZm9ybSA6IHZvaWQgMFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICAnY3VycmVudC5maWVsZHMnOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jdXJyZW50KSAhPSBudWxsID8gcmVmMS5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIH1cbiAgZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMoZmllbGRzKTtcbiAgaWYgKChmaWVsZHMgIT0gbnVsbCA/IChyZWYyID0gZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfbGlzdF9kaXNwbGF5XCIsIHRydWUpKSAhPSBudWxsID8gcmVmMi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgIGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWQ7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgVGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzLnNldChuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSk7XG4gICAgfVxuICAgIHJldHVybiBjb25zb2xlLmxvZyhcIm5ldyBUYWJ1bGFyVGFibGVzIFwiLCBrZXkpO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIE1ldGVvci5tZXRob2RzKHtcbiAgICBuZXdJbnN0YW5jZXNMaXN0VGFidWxhcjogZnVuY3Rpb24oYm94LCBmbG93SWQpIHtcbiAgICAgIHZhciBmaWVsZHMsIGZsb3csIHJlZiwgcmVmMTtcbiAgICAgIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyKGJveCwgZmxvd0lkKTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93SWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZm9ybTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZpZWxkcyA9IChyZWYgPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93ICE9IG51bGwgPyBmbG93LmZvcm0gOiB2b2lkIDBcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgICB9XG4gICAgICB9KSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmN1cnJlbnQpICE9IG51bGwgPyByZWYxLmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==
