(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;
var global = Package.meteor.global;
var meteorEnv = Package.meteor.meteorEnv;
var ReactiveVar = Package['reactive-var'].ReactiveVar;
var ReactiveDict = Package['reactive-dict'].ReactiveDict;
var ECMAScript = Package.ecmascript.ECMAScript;
var Random = Package.random.Random;
var DDP = Package['ddp-client'].DDP;
var DDPServer = Package['ddp-server'].DDPServer;
var check = Package.check.check;
var Match = Package.check.Match;
var DDPRateLimiter = Package['ddp-rate-limiter'].DDPRateLimiter;
var _ = Package.underscore._;
var Tracker = Package.tracker.Tracker;
var Deps = Package.tracker.Deps;
var Blaze = Package.blaze.Blaze;
var UI = Package.blaze.UI;
var Handlebars = Package.blaze.Handlebars;
var JsonRoutes = Package['simple:json-routes'].JsonRoutes;
var RestMiddleware = Package['simple:json-routes'].RestMiddleware;
var Restivus = Package['nimble:restivus'].Restivus;
var SimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;
var MongoObject = Package['aldeed:simple-schema'].MongoObject;
var Tabular = Package['aldeed:tabular'].Tabular;
var CollectionHooks = Package['matb33:collection-hooks'].CollectionHooks;
var BlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;
var FlowRouter = Package['kadira:flow-router'].FlowRouter;
var WorkflowManager = Package['steedos:app-workflow'].WorkflowManager;
var uuflowManager = Package['steedos:app-workflow'].uuflowManager;
var pushManager = Package['steedos:app-workflow'].pushManager;
var steedosExport = Package['steedos:app-workflow'].steedosExport;
var steedosImport = Package['steedos:app-workflow'].steedosImport;
var Template = Package['meteorhacks:ssr'].Template;
var SSR = Package['meteorhacks:ssr'].SSR;
var SubsManager = Package['meteorhacks:subs-manager'].SubsManager;
var WebApp = Package.webapp.WebApp;
var WebAppInternals = Package.webapp.WebAppInternals;
var main = Package.webapp.main;
var moment = Package['momentjs:moment'].moment;
var CFDataManager = Package['steedos:autoform'].CFDataManager;
var Selector = Package['steedos:base'].Selector;
var Steedos = Package['steedos:base'].Steedos;
var AjaxCollection = Package['steedos:base'].AjaxCollection;
var SteedosDataManager = Package['steedos:base'].SteedosDataManager;
var SteedosOffice = Package['steedos:base'].SteedosOffice;
var billingManager = Package['steedos:base'].billingManager;
var MailQueue = Package['steedos:mailqueue'].MailQueue;
var WebhookQueue = Package['steedos:webhookqueue'].WebhookQueue;
var _i18n = Package['universe:i18n']._i18n;
var i18n = Package['universe:i18n'].i18n;
var meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;
var Promise = Package.promise.Promise;
var meteorInstall = Package.modules.meteorInstall;
var HTML = Package.htmljs.HTML;
var Collection2 = Package['aldeed:collection2-core'].Collection2;
var FS = Package['steedos:cfs-base-package'].FS;
var MongoInternals = Package.mongo.MongoInternals;
var Mongo = Package.mongo.Mongo;

/* Package-scope variables */
var __coffeescriptShare, Workflow, InstanceReadOnlyTemplate, TemplateManager, SteedosTable, year, month, date, hours, seconds, locale, utcOffset, str, addItemTr, values_history, current_user_info, flow_id, userId, orgFieldUsers, formula_values, new_ins_id, instanceHtml, Form_formula, getHandlersManager, permissionManager, approveManager, flowManager, formManager, stepManager, workflowTemplate, InstanceManager, WorkflowManager_format, CoreForm, InstanceNumberRules;

var require = meteorInstall({"node_modules":{"meteor":{"steedos:workflow":{"checkNpm.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/checkNpm.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let checkNpmVersions;
module.link("meteor/tmeasday:check-npm-versions", {
  checkNpmVersions(v) {
    checkNpmVersions = v;
  }

}, 0);
checkNpmVersions({
  "node-schedule": "^1.3.1",
  cookies: "^0.6.2",
  "xml2js": "^0.4.19",
  mkdirp: "^0.3.5"
}, 'steedos:workflow');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"lib":{"URI.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/URI.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.17.0
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */
(function (root, factory) {
  'use strict'; // https://github.com/umdjs/umd/blob/master/returnExports.js
  // if (typeof exports === 'object') {
  //   // Node
  //   module.exports = factory(require('./punycode'), require('./IPv6'), require('./SecondLevelDomains'));
  // } else

  if (typeof define === 'function' && define.amd) {
    // AMD. Register as an anonymous module.
    define(['./punycode', './IPv6', './SecondLevelDomains'], factory);
  } else {
    // Browser globals (root is window)
    root.URI = factory(root.punycode, root.IPv6, root.SecondLevelDomains, root);
  }
})(this, function (punycode, IPv6, SLD, root) {
  'use strict';
  /*global location, escape, unescape */
  // FIXME: v2.0.0 renamce non-camelCase properties to uppercase

  /*jshint camelcase: false */
  // save current URI variable, if any

  var _URI = root && root.URI;

  function URI(url, base) {
    var _urlSupplied = arguments.length >= 1;

    var _baseSupplied = arguments.length >= 2; // Allow instantiation without the 'new' keyword


    if (!(this instanceof URI)) {
      if (_urlSupplied) {
        if (_baseSupplied) {
          return new URI(url, base);
        }

        return new URI(url);
      }

      return new URI();
    }

    if (url === undefined) {
      if (_urlSupplied) {
        throw new TypeError('undefined is not a valid argument for URI');
      }

      if (typeof location !== 'undefined') {
        url = location.href + '';
      } else {
        url = '';
      }
    }

    this.href(url); // resolve to base according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#constructor

    if (base !== undefined) {
      return this.absoluteTo(base);
    }

    return this;
  }

  URI.version = '1.17.0';
  var p = URI.prototype;
  var hasOwn = Object.prototype.hasOwnProperty;

  function escapeRegEx(string) {
    // https://github.com/medialize/URI.js/commit/85ac21783c11f8ccab06106dba9735a31a86924d#commitcomment-821963
    return string.replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
  }

  function getType(value) {
    // IE8 doesn't return [Object Undefined] but [Object Object] for undefined value
    if (value === undefined) {
      return 'Undefined';
    }

    return String(Object.prototype.toString.call(value)).slice(8, -1);
  }

  function isArray(obj) {
    return getType(obj) === 'Array';
  }

  function filterArrayValues(data, value) {
    var lookup = {};
    var i, length;

    if (getType(value) === 'RegExp') {
      lookup = null;
    } else if (isArray(value)) {
      for (i = 0, length = value.length; i < length; i++) {
        lookup[value[i]] = true;
      }
    } else {
      lookup[value] = true;
    }

    for (i = 0, length = data.length; i < length; i++) {
      /*jshint laxbreak: true */
      var _match = lookup && lookup[data[i]] !== undefined || !lookup && value.test(data[i]);
      /*jshint laxbreak: false */


      if (_match) {
        data.splice(i, 1);
        length--;
        i--;
      }
    }

    return data;
  }

  function arrayContains(list, value) {
    var i, length; // value may be string, number, array, regexp

    if (isArray(value)) {
      // Note: this can be optimized to O(n) (instead of current O(m * n))
      for (i = 0, length = value.length; i < length; i++) {
        if (!arrayContains(list, value[i])) {
          return false;
        }
      }

      return true;
    }

    var _type = getType(value);

    for (i = 0, length = list.length; i < length; i++) {
      if (_type === 'RegExp') {
        if (typeof list[i] === 'string' && list[i].match(value)) {
          return true;
        }
      } else if (list[i] === value) {
        return true;
      }
    }

    return false;
  }

  function arraysEqual(one, two) {
    if (!isArray(one) || !isArray(two)) {
      return false;
    } // arrays can't be equal if they have different amount of content


    if (one.length !== two.length) {
      return false;
    }

    one.sort();
    two.sort();

    for (var i = 0, l = one.length; i < l; i++) {
      if (one[i] !== two[i]) {
        return false;
      }
    }

    return true;
  }

  function trimSlashes(text) {
    var trim_expression = /^\/+|\/+$/g;
    return text.replace(trim_expression, '');
  }

  URI._parts = function () {
    return {
      protocol: null,
      username: null,
      password: null,
      hostname: null,
      urn: null,
      port: null,
      path: null,
      query: null,
      fragment: null,
      // state
      duplicateQueryParameters: URI.duplicateQueryParameters,
      escapeQuerySpace: URI.escapeQuerySpace
    };
  }; // state: allow duplicate query parameters (a=1&a=1)


  URI.duplicateQueryParameters = false; // state: replaces + with %20 (space in query strings)

  URI.escapeQuerySpace = true; // static properties

  URI.protocol_expression = /^[a-z][a-z0-9.+-]*$/i;
  URI.idn_expression = /[^a-z0-9\.-]/i;
  URI.punycode_expression = /(xn--)/i; // well, 333.444.555.666 matches, but it sure ain't no IPv4 - do we care?

  URI.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/; // credits to Rich Brown
  // source: http://forums.intermapper.com/viewtopic.php?p=1096#1096
  // specification: http://www.ietf.org/rfc/rfc4291.txt

  URI.ip6_expression = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/; // expression used is "gruber revised" (@gruber v2) determined to be the
  // best solution in a regex-golf we did a couple of ages ago at
  // * http://mathiasbynens.be/demo/url-regex
  // * http://rodneyrehm.de/t/url-regex.html

  URI.find_uri_expression = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig;
  URI.findUri = {
    // valid "scheme://" or "www."
    start: /\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,
    // everything up to the next whitespace
    end: /[\s\r\n]|$/,
    // trim trailing punctuation captured by end RegExp
    trim: /[`!()\[\]{};:'".,<>?«»“”„‘’]+$/
  }; // http://www.iana.org/assignments/uri-schemes.html
  // http://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Well-known_ports

  URI.defaultPorts = {
    http: '80',
    https: '443',
    ftp: '21',
    gopher: '70',
    ws: '80',
    wss: '443'
  }; // allowed hostname characters according to RFC 3986
  // ALPHA DIGIT "-" "." "_" "~" "!" "$" "&" "'" "(" ")" "*" "+" "," ";" "=" %encoded
  // I've never seen a (non-IDN) hostname other than: ALPHA DIGIT . -

  URI.invalid_hostname_characters = /[^a-zA-Z0-9\.-]/; // map DOM Elements to their URI attribute

  URI.domAttributes = {
    'a': 'href',
    'blockquote': 'cite',
    'link': 'href',
    'base': 'href',
    'script': 'src',
    'form': 'action',
    'img': 'src',
    'area': 'href',
    'iframe': 'src',
    'embed': 'src',
    'source': 'src',
    'track': 'src',
    'input': 'src',
    // but only if type="image"
    'audio': 'src',
    'video': 'src'
  };

  URI.getDomAttribute = function (node) {
    if (!node || !node.nodeName) {
      return undefined;
    }

    var nodeName = node.nodeName.toLowerCase(); // <input> should only expose src for type="image"

    if (nodeName === 'input' && node.type !== 'image') {
      return undefined;
    }

    return URI.domAttributes[nodeName];
  };

  function escapeForDumbFirefox36(value) {
    // https://github.com/medialize/URI.js/issues/91
    return escape(value);
  } // encoding / decoding according to RFC3986


  function strictEncodeURIComponent(string) {
    // see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent
    return encodeURIComponent(string).replace(/[!'()*]/g, escapeForDumbFirefox36).replace(/\*/g, '%2A');
  }

  URI.encode = strictEncodeURIComponent;
  URI.decode = decodeURIComponent;

  URI.iso8859 = function () {
    URI.encode = escape;
    URI.decode = unescape;
  };

  URI.unicode = function () {
    URI.encode = strictEncodeURIComponent;
    URI.decode = decodeURIComponent;
  };

  URI.characters = {
    pathname: {
      encode: {
        // RFC3986 2.1: For consistency, URI producers and normalizers should
        // use uppercase hexadecimal digits for all percent-encodings.
        expression: /%(24|26|2B|2C|3B|3D|3A|40)/ig,
        map: {
          // -._~!'()*
          '%24': '$',
          '%26': '&',
          '%2B': '+',
          '%2C': ',',
          '%3B': ';',
          '%3D': '=',
          '%3A': ':',
          '%40': '@'
        }
      },
      decode: {
        expression: /[\/\?#]/g,
        map: {
          '/': '%2F',
          '?': '%3F',
          '#': '%23'
        }
      }
    },
    reserved: {
      encode: {
        // RFC3986 2.1: For consistency, URI producers and normalizers should
        // use uppercase hexadecimal digits for all percent-encodings.
        expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,
        map: {
          // gen-delims
          '%3A': ':',
          '%2F': '/',
          '%3F': '?',
          '%23': '#',
          '%5B': '[',
          '%5D': ']',
          '%40': '@',
          // sub-delims
          '%21': '!',
          '%24': '$',
          '%26': '&',
          '%27': '\'',
          '%28': '(',
          '%29': ')',
          '%2A': '*',
          '%2B': '+',
          '%2C': ',',
          '%3B': ';',
          '%3D': '='
        }
      }
    },
    urnpath: {
      // The characters under `encode` are the characters called out by RFC 2141 as being acceptable
      // for usage in a URN. RFC2141 also calls out "-", ".", and "_" as acceptable characters, but
      // these aren't encoded by encodeURIComponent, so we don't have to call them out here. Also
      // note that the colon character is not featured in the encoding map; this is because URI.js
      // gives the colons in URNs semantic meaning as the delimiters of path segements, and so it
      // should not appear unencoded in a segment itself.
      // See also the note above about RFC3986 and capitalalized hex digits.
      encode: {
        expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,
        map: {
          '%21': '!',
          '%24': '$',
          '%27': '\'',
          '%28': '(',
          '%29': ')',
          '%2A': '*',
          '%2B': '+',
          '%2C': ',',
          '%3B': ';',
          '%3D': '=',
          '%40': '@'
        }
      },
      // These characters are the characters called out by RFC2141 as "reserved" characters that
      // should never appear in a URN, plus the colon character (see note above).
      decode: {
        expression: /[\/\?#:]/g,
        map: {
          '/': '%2F',
          '?': '%3F',
          '#': '%23',
          ':': '%3A'
        }
      }
    }
  };

  URI.encodeQuery = function (string, escapeQuerySpace) {
    var escaped = URI.encode(string + '');

    if (escapeQuerySpace === undefined) {
      escapeQuerySpace = URI.escapeQuerySpace;
    }

    return escapeQuerySpace ? escaped.replace(/%20/g, '+') : escaped;
  };

  URI.decodeQuery = function (string, escapeQuerySpace) {
    string += '';

    if (escapeQuerySpace === undefined) {
      escapeQuerySpace = URI.escapeQuerySpace;
    }

    try {
      return URI.decode(escapeQuerySpace ? string.replace(/\+/g, '%20') : string);
    } catch (e) {
      // we're not going to mess with weird encodings,
      // give up and return the undecoded original string
      // see https://github.com/medialize/URI.js/issues/87
      // see https://github.com/medialize/URI.js/issues/92
      return string;
    }
  }; // generate encode/decode path functions


  var _parts = {
    'encode': 'encode',
    'decode': 'decode'
  };

  var _part;

  var generateAccessor = function (_group, _part) {
    return function (string) {
      try {
        return URI[_part](string + '').replace(URI.characters[_group][_part].expression, function (c) {
          return URI.characters[_group][_part].map[c];
        });
      } catch (e) {
        // we're not going to mess with weird encodings,
        // give up and return the undecoded original string
        // see https://github.com/medialize/URI.js/issues/87
        // see https://github.com/medialize/URI.js/issues/92
        return string;
      }
    };
  };

  for (_part in _parts) {
    URI[_part + 'PathSegment'] = generateAccessor('pathname', _parts[_part]);
    URI[_part + 'UrnPathSegment'] = generateAccessor('urnpath', _parts[_part]);
  }

  var generateSegmentedPathFunction = function (_sep, _codingFuncName, _innerCodingFuncName) {
    return function (string) {
      // Why pass in names of functions, rather than the function objects themselves? The
      // definitions of some functions (but in particular, URI.decode) will occasionally change due
      // to URI.js having ISO8859 and Unicode modes. Passing in the name and getting it will ensure
      // that the functions we use here are "fresh".
      var actualCodingFunc;

      if (!_innerCodingFuncName) {
        actualCodingFunc = URI[_codingFuncName];
      } else {
        actualCodingFunc = function (string) {
          return URI[_codingFuncName](URI[_innerCodingFuncName](string));
        };
      }

      var segments = (string + '').split(_sep);

      for (var i = 0, length = segments.length; i < length; i++) {
        segments[i] = actualCodingFunc(segments[i]);
      }

      return segments.join(_sep);
    };
  }; // This takes place outside the above loop because we don't want, e.g., encodeUrnPath functions.


  URI.decodePath = generateSegmentedPathFunction('/', 'decodePathSegment');
  URI.decodeUrnPath = generateSegmentedPathFunction(':', 'decodeUrnPathSegment');
  URI.recodePath = generateSegmentedPathFunction('/', 'encodePathSegment', 'decode');
  URI.recodeUrnPath = generateSegmentedPathFunction(':', 'encodeUrnPathSegment', 'decode');
  URI.encodeReserved = generateAccessor('reserved', 'encode');

  URI.parse = function (string, parts) {
    var pos;

    if (!parts) {
      parts = {};
    } // [protocol"://"[username[":"password]"@"]hostname[":"port]"/"?][path]["?"querystring]["#"fragment]
    // extract fragment


    pos = string.indexOf('#');

    if (pos > -1) {
      // escaping?
      parts.fragment = string.substring(pos + 1) || null;
      string = string.substring(0, pos);
    } // extract query


    pos = string.indexOf('?');

    if (pos > -1) {
      // escaping?
      parts.query = string.substring(pos + 1) || null;
      string = string.substring(0, pos);
    } // extract protocol


    if (string.substring(0, 2) === '//') {
      // relative-scheme
      parts.protocol = null;
      string = string.substring(2); // extract "user:pass@host:port"

      string = URI.parseAuthority(string, parts);
    } else {
      pos = string.indexOf(':');

      if (pos > -1) {
        parts.protocol = string.substring(0, pos) || null;

        if (parts.protocol && !parts.protocol.match(URI.protocol_expression)) {
          // : may be within the path
          parts.protocol = undefined;
        } else if (string.substring(pos + 1, pos + 3) === '//') {
          string = string.substring(pos + 3); // extract "user:pass@host:port"

          string = URI.parseAuthority(string, parts);
        } else {
          string = string.substring(pos + 1);
          parts.urn = true;
        }
      }
    } // what's left must be the path


    parts.path = string; // and we're done

    return parts;
  };

  URI.parseHost = function (string, parts) {
    // Copy chrome, IE, opera backslash-handling behavior.
    // Back slashes before the query string get converted to forward slashes
    // See: https://github.com/joyent/node/blob/386fd24f49b0e9d1a8a076592a404168faeecc34/lib/url.js#L115-L124
    // See: https://code.google.com/p/chromium/issues/detail?id=25916
    // https://github.com/medialize/URI.js/pull/233
    string = string.replace(/\\/g, '/'); // extract host:port

    var pos = string.indexOf('/');
    var bracketPos;
    var t;

    if (pos === -1) {
      pos = string.length;
    }

    if (string.charAt(0) === '[') {
      // IPv6 host - http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04#section-6
      // I claim most client software breaks on IPv6 anyways. To simplify things, URI only accepts
      // IPv6+port in the format [2001:db8::1]:80 (for the time being)
      bracketPos = string.indexOf(']');
      parts.hostname = string.substring(1, bracketPos) || null;
      parts.port = string.substring(bracketPos + 2, pos) || null;

      if (parts.port === '/') {
        parts.port = null;
      }
    } else {
      var firstColon = string.indexOf(':');
      var firstSlash = string.indexOf('/');
      var nextColon = string.indexOf(':', firstColon + 1);

      if (nextColon !== -1 && (firstSlash === -1 || nextColon < firstSlash)) {
        // IPv6 host contains multiple colons - but no port
        // this notation is actually not allowed by RFC 3986, but we're a liberal parser
        parts.hostname = string.substring(0, pos) || null;
        parts.port = null;
      } else {
        t = string.substring(0, pos).split(':');
        parts.hostname = t[0] || null;
        parts.port = t[1] || null;
      }
    }

    if (parts.hostname && string.substring(pos).charAt(0) !== '/') {
      pos++;
      string = '/' + string;
    }

    return string.substring(pos) || '/';
  };

  URI.parseAuthority = function (string, parts) {
    string = URI.parseUserinfo(string, parts);
    return URI.parseHost(string, parts);
  };

  URI.parseUserinfo = function (string, parts) {
    // extract username:password
    var firstSlash = string.indexOf('/');
    var pos = string.lastIndexOf('@', firstSlash > -1 ? firstSlash : string.length - 1);
    var t; // authority@ must come before /path

    if (pos > -1 && (firstSlash === -1 || pos < firstSlash)) {
      t = string.substring(0, pos).split(':');
      parts.username = t[0] ? URI.decode(t[0]) : null;
      t.shift();
      parts.password = t[0] ? URI.decode(t.join(':')) : null;
      string = string.substring(pos + 1);
    } else {
      parts.username = null;
      parts.password = null;
    }

    return string;
  };

  URI.parseQuery = function (string, escapeQuerySpace) {
    if (!string) {
      return {};
    } // throw out the funky business - "?"[name"="value"&"]+


    string = string.replace(/&+/g, '&').replace(/^\?*&*|&+$/g, '');

    if (!string) {
      return {};
    }

    var items = {};
    var splits = string.split('&');
    var length = splits.length;
    var v, name, value;

    for (var i = 0; i < length; i++) {
      v = splits[i].split('=');
      name = URI.decodeQuery(v.shift(), escapeQuerySpace); // no "=" is null according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#collect-url-parameters

      value = v.length ? URI.decodeQuery(v.join('='), escapeQuerySpace) : null;

      if (hasOwn.call(items, name)) {
        if (typeof items[name] === 'string' || items[name] === null) {
          items[name] = [items[name]];
        }

        items[name].push(value);
      } else {
        items[name] = value;
      }
    }

    return items;
  };

  URI.build = function (parts) {
    var t = '';

    if (parts.protocol) {
      t += parts.protocol + ':';
    }

    if (!parts.urn && (t || parts.hostname)) {
      t += '//';
    }

    t += URI.buildAuthority(parts) || '';

    if (typeof parts.path === 'string') {
      if (parts.path.charAt(0) !== '/' && typeof parts.hostname === 'string') {
        t += '/';
      }

      t += parts.path;
    }

    if (typeof parts.query === 'string' && parts.query) {
      t += '?' + parts.query;
    }

    if (typeof parts.fragment === 'string' && parts.fragment) {
      t += '#' + parts.fragment;
    }

    return t;
  };

  URI.buildHost = function (parts) {
    var t = '';

    if (!parts.hostname) {
      return '';
    } else if (URI.ip6_expression.test(parts.hostname)) {
      t += '[' + parts.hostname + ']';
    } else {
      t += parts.hostname;
    }

    if (parts.port) {
      t += ':' + parts.port;
    }

    return t;
  };

  URI.buildAuthority = function (parts) {
    return URI.buildUserinfo(parts) + URI.buildHost(parts);
  };

  URI.buildUserinfo = function (parts) {
    var t = '';

    if (parts.username) {
      t += URI.encode(parts.username);

      if (parts.password) {
        t += ':' + URI.encode(parts.password);
      }

      t += '@';
    }

    return t;
  };

  URI.buildQuery = function (data, duplicateQueryParameters, escapeQuerySpace) {
    // according to http://tools.ietf.org/html/rfc3986 or http://labs.apache.org/webarch/uri/rfc/rfc3986.html
    // being »-._~!$&'()*+,;=:@/?« %HEX and alnum are allowed
    // the RFC explicitly states ?/foo being a valid use case, no mention of parameter syntax!
    // URI.js treats the query string as being application/x-www-form-urlencoded
    // see http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type
    var t = '';
    var unique, key, i, length;

    for (key in data) {
      if (hasOwn.call(data, key) && key) {
        if (isArray(data[key])) {
          unique = {};

          for (i = 0, length = data[key].length; i < length; i++) {
            if (data[key][i] !== undefined && unique[data[key][i] + ''] === undefined) {
              t += '&' + URI.buildQueryParameter(key, data[key][i], escapeQuerySpace);

              if (duplicateQueryParameters !== true) {
                unique[data[key][i] + ''] = true;
              }
            }
          }
        } else if (data[key] !== undefined) {
          t += '&' + URI.buildQueryParameter(key, data[key], escapeQuerySpace);
        }
      }
    }

    return t.substring(1);
  };

  URI.buildQueryParameter = function (name, value, escapeQuerySpace) {
    // http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type -- application/x-www-form-urlencoded
    // don't append "=" for null values, according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#url-parameter-serialization
    return URI.encodeQuery(name, escapeQuerySpace) + (value !== null ? '=' + URI.encodeQuery(value, escapeQuerySpace) : '');
  };

  URI.addQuery = function (data, name, value) {
    if (typeof name === 'object') {
      for (var key in name) {
        if (hasOwn.call(name, key)) {
          URI.addQuery(data, key, name[key]);
        }
      }
    } else if (typeof name === 'string') {
      if (data[name] === undefined) {
        data[name] = value;
        return;
      } else if (typeof data[name] === 'string') {
        data[name] = [data[name]];
      }

      if (!isArray(value)) {
        value = [value];
      }

      data[name] = (data[name] || []).concat(value);
    } else {
      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');
    }
  };

  URI.removeQuery = function (data, name, value) {
    var i, length, key;

    if (isArray(name)) {
      for (i = 0, length = name.length; i < length; i++) {
        data[name[i]] = undefined;
      }
    } else if (getType(name) === 'RegExp') {
      for (key in data) {
        if (name.test(key)) {
          data[key] = undefined;
        }
      }
    } else if (typeof name === 'object') {
      for (key in name) {
        if (hasOwn.call(name, key)) {
          URI.removeQuery(data, key, name[key]);
        }
      }
    } else if (typeof name === 'string') {
      if (value !== undefined) {
        if (getType(value) === 'RegExp') {
          if (!isArray(data[name]) && value.test(data[name])) {
            data[name] = undefined;
          } else {
            data[name] = filterArrayValues(data[name], value);
          }
        } else if (data[name] === String(value) && (!isArray(value) || value.length === 1)) {
          data[name] = undefined;
        } else if (isArray(data[name])) {
          data[name] = filterArrayValues(data[name], value);
        }
      } else {
        data[name] = undefined;
      }
    } else {
      throw new TypeError('URI.removeQuery() accepts an object, string, RegExp as the first parameter');
    }
  };

  URI.hasQuery = function (data, name, value, withinArray) {
    if (typeof name === 'object') {
      for (var key in name) {
        if (hasOwn.call(name, key)) {
          if (!URI.hasQuery(data, key, name[key])) {
            return false;
          }
        }
      }

      return true;
    } else if (typeof name !== 'string') {
      throw new TypeError('URI.hasQuery() accepts an object, string as the name parameter');
    }

    switch (getType(value)) {
      case 'Undefined':
        // true if exists (but may be empty)
        return name in data;
      // data[name] !== undefined;

      case 'Boolean':
        // true if exists and non-empty
        var _booly = Boolean(isArray(data[name]) ? data[name].length : data[name]);

        return value === _booly;

      case 'Function':
        // allow complex comparison
        return !!value(data[name], name, data);

      case 'Array':
        if (!isArray(data[name])) {
          return false;
        }

        var op = withinArray ? arrayContains : arraysEqual;
        return op(data[name], value);

      case 'RegExp':
        if (!isArray(data[name])) {
          return Boolean(data[name] && data[name].match(value));
        }

        if (!withinArray) {
          return false;
        }

        return arrayContains(data[name], value);

      case 'Number':
        value = String(value);

      /* falls through */

      case 'String':
        if (!isArray(data[name])) {
          return data[name] === value;
        }

        if (!withinArray) {
          return false;
        }

        return arrayContains(data[name], value);

      default:
        throw new TypeError('URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter');
    }
  };

  URI.commonPath = function (one, two) {
    var length = Math.min(one.length, two.length);
    var pos; // find first non-matching character

    for (pos = 0; pos < length; pos++) {
      if (one.charAt(pos) !== two.charAt(pos)) {
        pos--;
        break;
      }
    }

    if (pos < 1) {
      return one.charAt(0) === two.charAt(0) && one.charAt(0) === '/' ? '/' : '';
    } // revert to last /


    if (one.charAt(pos) !== '/' || two.charAt(pos) !== '/') {
      pos = one.substring(0, pos).lastIndexOf('/');
    }

    return one.substring(0, pos + 1);
  };

  URI.withinString = function (string, callback, options) {
    options || (options = {});

    var _start = options.start || URI.findUri.start;

    var _end = options.end || URI.findUri.end;

    var _trim = options.trim || URI.findUri.trim;

    var _attributeOpen = /[a-z0-9-]=["']?$/i;
    _start.lastIndex = 0;

    while (true) {
      var match = _start.exec(string);

      if (!match) {
        break;
      }

      var start = match.index;

      if (options.ignoreHtml) {
        // attribut(e=["']?$)
        var attributeOpen = string.slice(Math.max(start - 3, 0), start);

        if (attributeOpen && _attributeOpen.test(attributeOpen)) {
          continue;
        }
      }

      var end = start + string.slice(start).search(_end);
      var slice = string.slice(start, end).replace(_trim, '');

      if (options.ignore && options.ignore.test(slice)) {
        continue;
      }

      end = start + slice.length;
      var result = callback(slice, start, end, string);
      string = string.slice(0, start) + result + string.slice(end);
      _start.lastIndex = start + result.length;
    }

    _start.lastIndex = 0;
    return string;
  };

  URI.ensureValidHostname = function (v) {
    // Theoretically URIs allow percent-encoding in Hostnames (according to RFC 3986)
    // they are not part of DNS and therefore ignored by URI.js
    if (v.match(URI.invalid_hostname_characters)) {
      // test punycode
      if (!punycode) {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-] and Punycode.js is not available');
      }

      if (punycode.toASCII(v).match(URI.invalid_hostname_characters)) {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
      }
    }
  }; // noConflict


  URI.noConflict = function (removeAll) {
    if (removeAll) {
      var unconflicted = {
        URI: this.noConflict()
      };

      if (root.URITemplate && typeof root.URITemplate.noConflict === 'function') {
        unconflicted.URITemplate = root.URITemplate.noConflict();
      }

      if (root.IPv6 && typeof root.IPv6.noConflict === 'function') {
        unconflicted.IPv6 = root.IPv6.noConflict();
      }

      if (root.SecondLevelDomains && typeof root.SecondLevelDomains.noConflict === 'function') {
        unconflicted.SecondLevelDomains = root.SecondLevelDomains.noConflict();
      }

      return unconflicted;
    } else if (root.URI === this) {
      root.URI = _URI;
    }

    return this;
  };

  p.build = function (deferBuild) {
    if (deferBuild === true) {
      this._deferred_build = true;
    } else if (deferBuild === undefined || this._deferred_build) {
      this._string = URI.build(this._parts);
      this._deferred_build = false;
    }

    return this;
  };

  p.clone = function () {
    return new URI(this);
  };

  p.valueOf = p.toString = function () {
    return this.build(false)._string;
  };

  function generateSimpleAccessor(_part) {
    return function (v, build) {
      if (v === undefined) {
        return this._parts[_part] || '';
      } else {
        this._parts[_part] = v || null;
        this.build(!build);
        return this;
      }
    };
  }

  function generatePrefixAccessor(_part, _key) {
    return function (v, build) {
      if (v === undefined) {
        return this._parts[_part] || '';
      } else {
        if (v !== null) {
          v = v + '';

          if (v.charAt(0) === _key) {
            v = v.substring(1);
          }
        }

        this._parts[_part] = v;
        this.build(!build);
        return this;
      }
    };
  }

  p.protocol = generateSimpleAccessor('protocol');
  p.username = generateSimpleAccessor('username');
  p.password = generateSimpleAccessor('password');
  p.hostname = generateSimpleAccessor('hostname');
  p.port = generateSimpleAccessor('port');
  p.query = generatePrefixAccessor('query', '?');
  p.fragment = generatePrefixAccessor('fragment', '#');

  p.search = function (v, build) {
    var t = this.query(v, build);
    return typeof t === 'string' && t.length ? '?' + t : t;
  };

  p.hash = function (v, build) {
    var t = this.fragment(v, build);
    return typeof t === 'string' && t.length ? '#' + t : t;
  };

  p.pathname = function (v, build) {
    if (v === undefined || v === true) {
      var res = this._parts.path || (this._parts.hostname ? '/' : '');
      return v ? (this._parts.urn ? URI.decodeUrnPath : URI.decodePath)(res) : res;
    } else {
      if (this._parts.urn) {
        this._parts.path = v ? URI.recodeUrnPath(v) : '';
      } else {
        this._parts.path = v ? URI.recodePath(v) : '/';
      }

      this.build(!build);
      return this;
    }
  };

  p.path = p.pathname;

  p.href = function (href, build) {
    var key;

    if (href === undefined) {
      return this.toString();
    }

    this._string = '';
    this._parts = URI._parts();

    var _URI = href instanceof URI;

    var _object = typeof href === 'object' && (href.hostname || href.path || href.pathname);

    if (href.nodeName) {
      var attribute = URI.getDomAttribute(href);
      href = href[attribute] || '';
      _object = false;
    } // window.location is reported to be an object, but it's not the sort
    // of object we're looking for:
    // * location.protocol ends with a colon
    // * location.query != object.search
    // * location.hash != object.fragment
    // simply serializing the unknown object should do the trick
    // (for location, not for everything...)


    if (!_URI && _object && href.pathname !== undefined) {
      href = href.toString();
    }

    if (typeof href === 'string' || href instanceof String) {
      this._parts = URI.parse(String(href), this._parts);
    } else if (_URI || _object) {
      var src = _URI ? href._parts : href;

      for (key in src) {
        if (hasOwn.call(this._parts, key)) {
          this._parts[key] = src[key];
        }
      }
    } else {
      throw new TypeError('invalid input');
    }

    this.build(!build);
    return this;
  }; // identification accessors


  p.is = function (what) {
    var ip = false;
    var ip4 = false;
    var ip6 = false;
    var name = false;
    var sld = false;
    var idn = false;
    var punycode = false;
    var relative = !this._parts.urn;

    if (this._parts.hostname) {
      relative = false;
      ip4 = URI.ip4_expression.test(this._parts.hostname);
      ip6 = URI.ip6_expression.test(this._parts.hostname);
      ip = ip4 || ip6;
      name = !ip;
      sld = name && SLD && SLD.has(this._parts.hostname);
      idn = name && URI.idn_expression.test(this._parts.hostname);
      punycode = name && URI.punycode_expression.test(this._parts.hostname);
    }

    switch (what.toLowerCase()) {
      case 'relative':
        return relative;

      case 'absolute':
        return !relative;
      // hostname identification

      case 'domain':
      case 'name':
        return name;

      case 'sld':
        return sld;

      case 'ip':
        return ip;

      case 'ip4':
      case 'ipv4':
      case 'inet4':
        return ip4;

      case 'ip6':
      case 'ipv6':
      case 'inet6':
        return ip6;

      case 'idn':
        return idn;

      case 'url':
        return !this._parts.urn;

      case 'urn':
        return !!this._parts.urn;

      case 'punycode':
        return punycode;
    }

    return null;
  }; // component specific input validation


  var _protocol = p.protocol;
  var _port = p.port;
  var _hostname = p.hostname;

  p.protocol = function (v, build) {
    if (v !== undefined) {
      if (v) {
        // accept trailing ://
        v = v.replace(/:(\/\/)?$/, '');

        if (!v.match(URI.protocol_expression)) {
          throw new TypeError('Protocol "' + v + '" contains characters other than [A-Z0-9.+-] or doesn\'t start with [A-Z]');
        }
      }
    }

    return _protocol.call(this, v, build);
  };

  p.scheme = p.protocol;

  p.port = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v !== undefined) {
      if (v === 0) {
        v = null;
      }

      if (v) {
        v += '';

        if (v.charAt(0) === ':') {
          v = v.substring(1);
        }

        if (v.match(/[^0-9]/)) {
          throw new TypeError('Port "' + v + '" contains characters other than [0-9]');
        }
      }
    }

    return _port.call(this, v, build);
  };

  p.hostname = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v !== undefined) {
      var x = {};
      var res = URI.parseHost(v, x);

      if (res !== '/') {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
      }

      v = x.hostname;
    }

    return _hostname.call(this, v, build);
  }; // compound accessors


  p.origin = function (v, build) {
    var parts;

    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined) {
      var protocol = this.protocol();
      var authority = this.authority();
      if (!authority) return '';
      return (protocol ? protocol + '://' : '') + this.authority();
    } else {
      var origin = URI(v);
      this.protocol(origin.protocol()).authority(origin.authority()).build(!build);
      return this;
    }
  };

  p.host = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined) {
      return this._parts.hostname ? URI.buildHost(this._parts) : '';
    } else {
      var res = URI.parseHost(v, this._parts);

      if (res !== '/') {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
      }

      this.build(!build);
      return this;
    }
  };

  p.authority = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined) {
      return this._parts.hostname ? URI.buildAuthority(this._parts) : '';
    } else {
      var res = URI.parseAuthority(v, this._parts);

      if (res !== '/') {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
      }

      this.build(!build);
      return this;
    }
  };

  p.userinfo = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined) {
      if (!this._parts.username) {
        return '';
      }

      var t = URI.buildUserinfo(this._parts);
      return t.substring(0, t.length - 1);
    } else {
      if (v[v.length - 1] !== '@') {
        v += '@';
      }

      URI.parseUserinfo(v, this._parts);
      this.build(!build);
      return this;
    }
  };

  p.resource = function (v, build) {
    var parts;

    if (v === undefined) {
      return this.path() + this.search() + this.hash();
    }

    parts = URI.parse(v);
    this._parts.path = parts.path;
    this._parts.query = parts.query;
    this._parts.fragment = parts.fragment;
    this.build(!build);
    return this;
  }; // fraction accessors


  p.subdomain = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    } // convenience, return "www" from "www.example.org"


    if (v === undefined) {
      if (!this._parts.hostname || this.is('IP')) {
        return '';
      } // grab domain and add another segment


      var end = this._parts.hostname.length - this.domain().length - 1;
      return this._parts.hostname.substring(0, end) || '';
    } else {
      var e = this._parts.hostname.length - this.domain().length;

      var sub = this._parts.hostname.substring(0, e);

      var replace = new RegExp('^' + escapeRegEx(sub));

      if (v && v.charAt(v.length - 1) !== '.') {
        v += '.';
      }

      if (v) {
        URI.ensureValidHostname(v);
      }

      this._parts.hostname = this._parts.hostname.replace(replace, v);
      this.build(!build);
      return this;
    }
  };

  p.domain = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (typeof v === 'boolean') {
      build = v;
      v = undefined;
    } // convenience, return "example.org" from "www.example.org"


    if (v === undefined) {
      if (!this._parts.hostname || this.is('IP')) {
        return '';
      } // if hostname consists of 1 or 2 segments, it must be the domain


      var t = this._parts.hostname.match(/\./g);

      if (t && t.length < 2) {
        return this._parts.hostname;
      } // grab tld and add another segment


      var end = this._parts.hostname.length - this.tld(build).length - 1;
      end = this._parts.hostname.lastIndexOf('.', end - 1) + 1;
      return this._parts.hostname.substring(end) || '';
    } else {
      if (!v) {
        throw new TypeError('cannot set domain empty');
      }

      URI.ensureValidHostname(v);

      if (!this._parts.hostname || this.is('IP')) {
        this._parts.hostname = v;
      } else {
        var replace = new RegExp(escapeRegEx(this.domain()) + '$');
        this._parts.hostname = this._parts.hostname.replace(replace, v);
      }

      this.build(!build);
      return this;
    }
  };

  p.tld = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (typeof v === 'boolean') {
      build = v;
      v = undefined;
    } // return "org" from "www.example.org"


    if (v === undefined) {
      if (!this._parts.hostname || this.is('IP')) {
        return '';
      }

      var pos = this._parts.hostname.lastIndexOf('.');

      var tld = this._parts.hostname.substring(pos + 1);

      if (build !== true && SLD && SLD.list[tld.toLowerCase()]) {
        return SLD.get(this._parts.hostname) || tld;
      }

      return tld;
    } else {
      var replace;

      if (!v) {
        throw new TypeError('cannot set TLD empty');
      } else if (v.match(/[^a-zA-Z0-9-]/)) {
        if (SLD && SLD.is(v)) {
          replace = new RegExp(escapeRegEx(this.tld()) + '$');
          this._parts.hostname = this._parts.hostname.replace(replace, v);
        } else {
          throw new TypeError('TLD "' + v + '" contains characters other than [A-Z0-9]');
        }
      } else if (!this._parts.hostname || this.is('IP')) {
        throw new ReferenceError('cannot set TLD on non-domain host');
      } else {
        replace = new RegExp(escapeRegEx(this.tld()) + '$');
        this._parts.hostname = this._parts.hostname.replace(replace, v);
      }

      this.build(!build);
      return this;
    }
  };

  p.directory = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined || v === true) {
      if (!this._parts.path && !this._parts.hostname) {
        return '';
      }

      if (this._parts.path === '/') {
        return '/';
      }

      var end = this._parts.path.length - this.filename().length - 1;
      var res = this._parts.path.substring(0, end) || (this._parts.hostname ? '/' : '');
      return v ? URI.decodePath(res) : res;
    } else {
      var e = this._parts.path.length - this.filename().length;

      var directory = this._parts.path.substring(0, e);

      var replace = new RegExp('^' + escapeRegEx(directory)); // fully qualifier directories begin with a slash

      if (!this.is('relative')) {
        if (!v) {
          v = '/';
        }

        if (v.charAt(0) !== '/') {
          v = '/' + v;
        }
      } // directories always end with a slash


      if (v && v.charAt(v.length - 1) !== '/') {
        v += '/';
      }

      v = URI.recodePath(v);
      this._parts.path = this._parts.path.replace(replace, v);
      this.build(!build);
      return this;
    }
  };

  p.filename = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined || v === true) {
      if (!this._parts.path || this._parts.path === '/') {
        return '';
      }

      var pos = this._parts.path.lastIndexOf('/');

      var res = this._parts.path.substring(pos + 1);

      return v ? URI.decodePathSegment(res) : res;
    } else {
      var mutatedDirectory = false;

      if (v.charAt(0) === '/') {
        v = v.substring(1);
      }

      if (v.match(/\.?\//)) {
        mutatedDirectory = true;
      }

      var replace = new RegExp(escapeRegEx(this.filename()) + '$');
      v = URI.recodePath(v);
      this._parts.path = this._parts.path.replace(replace, v);

      if (mutatedDirectory) {
        this.normalizePath(build);
      } else {
        this.build(!build);
      }

      return this;
    }
  };

  p.suffix = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined || v === true) {
      if (!this._parts.path || this._parts.path === '/') {
        return '';
      }

      var filename = this.filename();
      var pos = filename.lastIndexOf('.');
      var s, res;

      if (pos === -1) {
        return '';
      } // suffix may only contain alnum characters (yup, I made this up.)


      s = filename.substring(pos + 1);
      res = /^[a-z0-9%]+$/i.test(s) ? s : '';
      return v ? URI.decodePathSegment(res) : res;
    } else {
      if (v.charAt(0) === '.') {
        v = v.substring(1);
      }

      var suffix = this.suffix();
      var replace;

      if (!suffix) {
        if (!v) {
          return this;
        }

        this._parts.path += '.' + URI.recodePath(v);
      } else if (!v) {
        replace = new RegExp(escapeRegEx('.' + suffix) + '$');
      } else {
        replace = new RegExp(escapeRegEx(suffix) + '$');
      }

      if (replace) {
        v = URI.recodePath(v);
        this._parts.path = this._parts.path.replace(replace, v);
      }

      this.build(!build);
      return this;
    }
  };

  p.segment = function (segment, v, build) {
    var separator = this._parts.urn ? ':' : '/';
    var path = this.path();
    var absolute = path.substring(0, 1) === '/';
    var segments = path.split(separator);

    if (segment !== undefined && typeof segment !== 'number') {
      build = v;
      v = segment;
      segment = undefined;
    }

    if (segment !== undefined && typeof segment !== 'number') {
      throw new Error('Bad segment "' + segment + '", must be 0-based integer');
    }

    if (absolute) {
      segments.shift();
    }

    if (segment < 0) {
      // allow negative indexes to address from the end
      segment = Math.max(segments.length + segment, 0);
    }

    if (v === undefined) {
      /*jshint laxbreak: true */
      return segment === undefined ? segments : segments[segment];
      /*jshint laxbreak: false */
    } else if (segment === null || segments[segment] === undefined) {
      if (isArray(v)) {
        segments = []; // collapse empty elements within array

        for (var i = 0, l = v.length; i < l; i++) {
          if (!v[i].length && (!segments.length || !segments[segments.length - 1].length)) {
            continue;
          }

          if (segments.length && !segments[segments.length - 1].length) {
            segments.pop();
          }

          segments.push(trimSlashes(v[i]));
        }
      } else if (v || typeof v === 'string') {
        v = trimSlashes(v);

        if (segments[segments.length - 1] === '') {
          // empty trailing elements have to be overwritten
          // to prevent results such as /foo//bar
          segments[segments.length - 1] = v;
        } else {
          segments.push(v);
        }
      }
    } else {
      if (v) {
        segments[segment] = trimSlashes(v);
      } else {
        segments.splice(segment, 1);
      }
    }

    if (absolute) {
      segments.unshift('');
    }

    return this.path(segments.join(separator), build);
  };

  p.segmentCoded = function (segment, v, build) {
    var segments, i, l;

    if (typeof segment !== 'number') {
      build = v;
      v = segment;
      segment = undefined;
    }

    if (v === undefined) {
      segments = this.segment(segment, v, build);

      if (!isArray(segments)) {
        segments = segments !== undefined ? URI.decode(segments) : undefined;
      } else {
        for (i = 0, l = segments.length; i < l; i++) {
          segments[i] = URI.decode(segments[i]);
        }
      }

      return segments;
    }

    if (!isArray(v)) {
      v = typeof v === 'string' || v instanceof String ? URI.encode(v) : v;
    } else {
      for (i = 0, l = v.length; i < l; i++) {
        v[i] = URI.encode(v[i]);
      }
    }

    return this.segment(segment, v, build);
  }; // mutating query string


  var q = p.query;

  p.query = function (v, build) {
    if (v === true) {
      return URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
    } else if (typeof v === 'function') {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      var result = v.call(this, data);
      this._parts.query = URI.buildQuery(result || data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);
      this.build(!build);
      return this;
    } else if (v !== undefined && typeof v !== 'string') {
      this._parts.query = URI.buildQuery(v, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);
      this.build(!build);
      return this;
    } else {
      return q.call(this, v, build);
    }
  };

  p.setQuery = function (name, value, build) {
    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);

    if (typeof name === 'string' || name instanceof String) {
      data[name] = value !== undefined ? value : null;
    } else if (typeof name === 'object') {
      for (var key in name) {
        if (hasOwn.call(name, key)) {
          data[key] = name[key];
        }
      }
    } else {
      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');
    }

    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

    if (typeof name !== 'string') {
      build = value;
    }

    this.build(!build);
    return this;
  };

  p.addQuery = function (name, value, build) {
    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
    URI.addQuery(data, name, value === undefined ? null : value);
    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

    if (typeof name !== 'string') {
      build = value;
    }

    this.build(!build);
    return this;
  };

  p.removeQuery = function (name, value, build) {
    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
    URI.removeQuery(data, name, value);
    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

    if (typeof name !== 'string') {
      build = value;
    }

    this.build(!build);
    return this;
  };

  p.hasQuery = function (name, value, withinArray) {
    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
    return URI.hasQuery(data, name, value, withinArray);
  };

  p.setSearch = p.setQuery;
  p.addSearch = p.addQuery;
  p.removeSearch = p.removeQuery;
  p.hasSearch = p.hasQuery; // sanitizing URLs

  p.normalize = function () {
    if (this._parts.urn) {
      return this.normalizeProtocol(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();
    }

    return this.normalizeProtocol(false).normalizeHostname(false).normalizePort(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();
  };

  p.normalizeProtocol = function (build) {
    if (typeof this._parts.protocol === 'string') {
      this._parts.protocol = this._parts.protocol.toLowerCase();
      this.build(!build);
    }

    return this;
  };

  p.normalizeHostname = function (build) {
    if (this._parts.hostname) {
      if (this.is('IDN') && punycode) {
        this._parts.hostname = punycode.toASCII(this._parts.hostname);
      } else if (this.is('IPv6') && IPv6) {
        this._parts.hostname = IPv6.best(this._parts.hostname);
      }

      this._parts.hostname = this._parts.hostname.toLowerCase();
      this.build(!build);
    }

    return this;
  };

  p.normalizePort = function (build) {
    // remove port of it's the protocol's default
    if (typeof this._parts.protocol === 'string' && this._parts.port === URI.defaultPorts[this._parts.protocol]) {
      this._parts.port = null;
      this.build(!build);
    }

    return this;
  };

  p.normalizePath = function (build) {
    var _path = this._parts.path;

    if (!_path) {
      return this;
    }

    if (this._parts.urn) {
      this._parts.path = URI.recodeUrnPath(this._parts.path);
      this.build(!build);
      return this;
    }

    if (this._parts.path === '/') {
      return this;
    }

    var _was_relative;

    var _leadingParents = '';

    var _parent, _pos; // handle relative paths


    if (_path.charAt(0) !== '/') {
      _was_relative = true;
      _path = '/' + _path;
    } // handle relative files (as opposed to directories)


    if (_path.slice(-3) === '/..' || _path.slice(-2) === '/.') {
      _path += '/';
    } // resolve simples


    _path = _path.replace(/(\/(\.\/)+)|(\/\.$)/g, '/').replace(/\/{2,}/g, '/'); // remember leading parents

    if (_was_relative) {
      _leadingParents = _path.substring(1).match(/^(\.\.\/)+/) || '';

      if (_leadingParents) {
        _leadingParents = _leadingParents[0];
      }
    } // resolve parents


    while (true) {
      _parent = _path.indexOf('/..');

      if (_parent === -1) {
        // no more ../ to resolve
        break;
      } else if (_parent === 0) {
        // top level cannot be relative, skip it
        _path = _path.substring(3);
        continue;
      }

      _pos = _path.substring(0, _parent).lastIndexOf('/');

      if (_pos === -1) {
        _pos = _parent;
      }

      _path = _path.substring(0, _pos) + _path.substring(_parent + 3);
    } // revert to relative


    if (_was_relative && this.is('relative')) {
      _path = _leadingParents + _path.substring(1);
    }

    _path = URI.recodePath(_path);
    this._parts.path = _path;
    this.build(!build);
    return this;
  };

  p.normalizePathname = p.normalizePath;

  p.normalizeQuery = function (build) {
    if (typeof this._parts.query === 'string') {
      if (!this._parts.query.length) {
        this._parts.query = null;
      } else {
        this.query(URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace));
      }

      this.build(!build);
    }

    return this;
  };

  p.normalizeFragment = function (build) {
    if (!this._parts.fragment) {
      this._parts.fragment = null;
      this.build(!build);
    }

    return this;
  };

  p.normalizeSearch = p.normalizeQuery;
  p.normalizeHash = p.normalizeFragment;

  p.iso8859 = function () {
    // expect unicode input, iso8859 output
    var e = URI.encode;
    var d = URI.decode;
    URI.encode = escape;
    URI.decode = decodeURIComponent;

    try {
      this.normalize();
    } finally {
      URI.encode = e;
      URI.decode = d;
    }

    return this;
  };

  p.unicode = function () {
    // expect iso8859 input, unicode output
    var e = URI.encode;
    var d = URI.decode;
    URI.encode = strictEncodeURIComponent;
    URI.decode = unescape;

    try {
      this.normalize();
    } finally {
      URI.encode = e;
      URI.decode = d;
    }

    return this;
  };

  p.readable = function () {
    var uri = this.clone(); // removing username, password, because they shouldn't be displayed according to RFC 3986

    uri.username('').password('').normalize();
    var t = '';

    if (uri._parts.protocol) {
      t += uri._parts.protocol + '://';
    }

    if (uri._parts.hostname) {
      if (uri.is('punycode') && punycode) {
        t += punycode.toUnicode(uri._parts.hostname);

        if (uri._parts.port) {
          t += ':' + uri._parts.port;
        }
      } else {
        t += uri.host();
      }
    }

    if (uri._parts.hostname && uri._parts.path && uri._parts.path.charAt(0) !== '/') {
      t += '/';
    }

    t += uri.path(true);

    if (uri._parts.query) {
      var q = '';

      for (var i = 0, qp = uri._parts.query.split('&'), l = qp.length; i < l; i++) {
        var kv = (qp[i] || '').split('=');
        q += '&' + URI.decodeQuery(kv[0], this._parts.escapeQuerySpace).replace(/&/g, '%26');

        if (kv[1] !== undefined) {
          q += '=' + URI.decodeQuery(kv[1], this._parts.escapeQuerySpace).replace(/&/g, '%26');
        }
      }

      t += '?' + q.substring(1);
    }

    t += URI.decodeQuery(uri.hash(), true);
    return t;
  }; // resolving relative and absolute URLs


  p.absoluteTo = function (base) {
    var resolved = this.clone();
    var properties = ['protocol', 'username', 'password', 'hostname', 'port'];
    var basedir, i, p;

    if (this._parts.urn) {
      throw new Error('URNs do not have any generally defined hierarchical components');
    }

    if (!(base instanceof URI)) {
      base = new URI(base);
    }

    if (!resolved._parts.protocol) {
      resolved._parts.protocol = base._parts.protocol;
    }

    if (this._parts.hostname) {
      return resolved;
    }

    for (i = 0; p = properties[i]; i++) {
      resolved._parts[p] = base._parts[p];
    }

    if (!resolved._parts.path) {
      resolved._parts.path = base._parts.path;

      if (!resolved._parts.query) {
        resolved._parts.query = base._parts.query;
      }
    } else if (resolved._parts.path.substring(-2) === '..') {
      resolved._parts.path += '/';
    }

    if (resolved.path().charAt(0) !== '/') {
      basedir = base.directory();
      basedir = basedir ? basedir : base.path().indexOf('/') === 0 ? '/' : '';
      resolved._parts.path = (basedir ? basedir + '/' : '') + resolved._parts.path;
      resolved.normalizePath();
    }

    resolved.build();
    return resolved;
  };

  p.relativeTo = function (base) {
    var relative = this.clone().normalize();
    var relativeParts, baseParts, common, relativePath, basePath;

    if (relative._parts.urn) {
      throw new Error('URNs do not have any generally defined hierarchical components');
    }

    base = new URI(base).normalize();
    relativeParts = relative._parts;
    baseParts = base._parts;
    relativePath = relative.path();
    basePath = base.path();

    if (relativePath.charAt(0) !== '/') {
      throw new Error('URI is already relative');
    }

    if (basePath.charAt(0) !== '/') {
      throw new Error('Cannot calculate a URI relative to another relative URI');
    }

    if (relativeParts.protocol === baseParts.protocol) {
      relativeParts.protocol = null;
    }

    if (relativeParts.username !== baseParts.username || relativeParts.password !== baseParts.password) {
      return relative.build();
    }

    if (relativeParts.protocol !== null || relativeParts.username !== null || relativeParts.password !== null) {
      return relative.build();
    }

    if (relativeParts.hostname === baseParts.hostname && relativeParts.port === baseParts.port) {
      relativeParts.hostname = null;
      relativeParts.port = null;
    } else {
      return relative.build();
    }

    if (relativePath === basePath) {
      relativeParts.path = '';
      return relative.build();
    } // determine common sub path


    common = URI.commonPath(relativePath, basePath); // If the paths have nothing in common, return a relative URL with the absolute path.

    if (!common) {
      return relative.build();
    }

    var parents = baseParts.path.substring(common.length).replace(/[^\/]*$/, '').replace(/.*?\//g, '../');
    relativeParts.path = parents + relativeParts.path.substring(common.length) || './';
    return relative.build();
  }; // comparing URIs


  p.equals = function (uri) {
    var one = this.clone();
    var two = new URI(uri);
    var one_map = {};
    var two_map = {};
    var checked = {};
    var one_query, two_query, key;
    one.normalize();
    two.normalize(); // exact match

    if (one.toString() === two.toString()) {
      return true;
    } // extract query string


    one_query = one.query();
    two_query = two.query();
    one.query('');
    two.query(''); // definitely not equal if not even non-query parts match

    if (one.toString() !== two.toString()) {
      return false;
    } // query parameters have the same length, even if they're permuted


    if (one_query.length !== two_query.length) {
      return false;
    }

    one_map = URI.parseQuery(one_query, this._parts.escapeQuerySpace);
    two_map = URI.parseQuery(two_query, this._parts.escapeQuerySpace);

    for (key in one_map) {
      if (hasOwn.call(one_map, key)) {
        if (!isArray(one_map[key])) {
          if (one_map[key] !== two_map[key]) {
            return false;
          }
        } else if (!arraysEqual(one_map[key], two_map[key])) {
          return false;
        }

        checked[key] = true;
      }
    }

    for (key in two_map) {
      if (hasOwn.call(two_map, key)) {
        if (!checked[key]) {
          // two contains a parameter not present in one
          return false;
        }
      }
    }

    return true;
  }; // state


  p.duplicateQueryParameters = function (v) {
    this._parts.duplicateQueryParameters = !!v;
    return this;
  };

  p.escapeQuerySpace = function (v) {
    this._parts.escapeQuerySpace = !!v;
    return this;
  };

  return URI;
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"collection_helpers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/collection_helpers.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tapi18n.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/tapi18n.coffee                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"core.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/core.coffee                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Workflow = {};
this.ImageSign = {};
this.TracesHandler = {};
this.TracesTemplate = {};
this.InstanceformTemplate = {};
this.InstanceAttachmentTemplate = {};
this.InstanceSignText = {};
this.RelatedInstances = {};
this.RelatedRecords = {};
this.InstanceMacro = {
  context: {}
};
this.TracesManager = {};

InstanceSignText.isOpinionField_from_string = function (field_formula) {
  return (field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{yijianlan:") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{\"yijianlan\":") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{'yijianlan':") : void 0) > -1;
};

InstanceSignText.includesOpinionField = function (form, form_version) {
  var _form_version, field_formulas, fields;

  field_formulas = new Array();
  _form_version = {};

  if (Meteor.isServer) {
    _form_version = uuflowManager.getFormVersion(db.forms.findOne({
      _id: form
    }), form_version);
  } else {
    _form_version = db.form_versions.findOne({
      _id: form_version,
      form: form
    });
  }

  fields = (_form_version != null ? _form_version.fields : void 0) || [];
  fields.forEach(function (f) {
    var ref;

    if (f.type === 'table') {
      return console.log('ignore opinion field in table');
    } else if (f.type === 'section') {
      return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
        return field_formulas.push(f1.formula);
      }) : void 0 : void 0;
    } else {
      return field_formulas.push(f.formula);
    }
  });
  return _.some(field_formulas, function (field_formula) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"models":{"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/forms.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flows.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_roles.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_positions.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/instances.coffee                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/categories.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"spaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/spaces.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"deleted_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/deleted_instances.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"auth_tokens.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/auth_tokens.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
db.auth_tokens = new Meteor.Collection('auth_tokens');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webhooks.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/webhooks.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_user_signs.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_users.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cfs":{"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/cfs/instances.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"admin.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/admin.coffee                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"client":{"lib":{"instance_readonly_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/instance_readonly_template.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _getLocale, _getRequiredFields, _getStartStepEditableFields, _getStartStepRequiredFields, _getTemplateData, _getViewHtml, getLinkText;

InstanceReadOnlyTemplate = {};
InstanceReadOnlyTemplate.instance_attachment = "<tr>\n	<td class=\"ins-attach-view\">\n		<a href=\"{{ins_attach_download_url _id absolute}}\" class=\"ins_attach_href\" target=\"_parent\" data-name=\"{{this.name}}\" data-type=\"{{this.original.type}}\" data-id=\"{{_id}}\">{{this.name}}</a>\n	</td>\n</tr>";
InstanceReadOnlyTemplate.afSelectUserRead = "<div class='selectUser form-control ins_applicant'>{{value}}</div>";
InstanceReadOnlyTemplate.afFormGroupRead = "<div class='form-group'>\n	{{#with getField this.name}}\n		{{#if equals type 'section'}}\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if showLabel}}\n					<label>{{getLabel code}}</label>\n				{{/if}}\n				<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n			{{/if}}\n		{{/if}}\n	{{/with}}\n</div>";
InstanceReadOnlyTemplate.afFormGroup = "\n{{#with getField this.name}}\n		{{#if equals type 'section'}}\n			<div class=\"form-group\">\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n  				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if equals type 'input'}}\n					<div class=\"form-group\" data-required=\"{{#if is_required}}true{{/if}}\">\n						<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n						{{#if is_textarea}}\n							<textarea title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\"></textarea>\n						{{/if}}\n						{{#unless is_textarea}}\n							<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						{{/unless}}\n					</div>\n				{{else}}\n					{{#if equals type 'number'}}\n						<div class=\"form-group\">\n							<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n							<input type=\"number\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						</div>\n					{{else}}\n						{{#if equals type 'date'}}\n							<div class=\"form-group\">\n								<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n								<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type=\"date\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n							</div>\n						{{else}}\n							{{#if equals type 'dateTime'}}\n								<div class=\"form-group\">\n									<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n									<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type='datetime' data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n								</div>\n							{{else}}\n								{{#if equals type 'password'}}\n									<div class=\"form-group\">\n										<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n										<input type=\"password\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n									</div>\n								{{else}}\n									{{#if equals type 'select'}}\n										<div class=\"form-group\">\n											<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n											<select name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n												{{#each options this}}\n													<option value=\"{{value}}\">{{label}}</option>\n												{{/each}}\n											</select>\n										</div>\n									{{else}}\n										{{#if equals type 'radio'}}\n											<div class=\"form-group\">\n												<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n												<div class=\"af-radio-group\" data-schema-key=\"{{getLabel code}}\">\n													{{#each options this}}\n        												<label class=\"radio-inline fix-indent\"><input type=\"radio\" value=\"{{value}}\" name=\"{{../code}}\" class=\"radio-inline fix-indent\"> {{label}}</label>\n    													{{/each}}\n    												</div>\n											</div>\n										{{else}}\n											{{#if equals type 'multiSelect'}}\n												<div class=\"form-group\">\n													<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n													<div class=\"af-checkbox-group\" data-schema-key=\"{{getLabel code}}\">\n														{{#each options this}}\n														<label class=\"checkbox-inline fix-indent\"><input type=\"checkbox\" value=\"{{value}}\" name=\"{{../code}}\" class=\"checkbox-inline fix-indent\"> {{label}}</label>\n														{{/each}}\n													</div>\n												</div>\n											{{else}}\n												{{#if equals type 'url'}}\n													<div class=\"form-group\">\n														<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n														<input type=\"url\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n													</div>\n												{{else}}\n													{{#if equals type 'email'}}\n														<div class=\"form-group\">\n															<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n															<input type=\"email\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n														</div>\n													{{else}}\n														{{#if equals type 'checkbox'}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class=\"checkbox\" data-schema-key=\"{{getLabel code}}\">\n																	<label style=\"width: 100%;\"><input type=\"checkbox\" value=\"true\" name=\"{{code}}\" class=\"checkbox-inline fix-indent\"></label>\n																</div>\n															</div>\n														{{else}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n															</div>\n														{{/if}}\n													{{/if}}\n												{{/if}}\n											{{/if}}\n										{{/if}}\n									{{/if}}\n								{{/if}}\n							{{/if}}\n						{{/if}}\n					{{/if}}\n				{{/if}}\n			{{/if}}\n		{{/if}}\n	{{/with}}";

InstanceReadOnlyTemplate.create = function (tempalteName, steedosData) {
  var template, templateCompiled, templateRenderFunction;
  template = InstanceReadOnlyTemplate[tempalteName];
  templateCompiled = SpacebarsCompiler.compile(template, {
    isBody: true
  });
  templateRenderFunction = eval(templateCompiled);
  Template[tempalteName] = new Blaze.Template(tempalteName, templateRenderFunction);
  Template[tempalteName].steedosData = steedosData;
  return Template[tempalteName].helpers(InstanceformTemplate.helpers);
};

InstanceReadOnlyTemplate.createInstanceSignText = function (steedosData) {
  var instanceSignTextCompiled, instanceSignTextHtml, instanceSignTextRenderFunction;
  instanceSignTextHtml = _getViewHtml('client/views/instance/instance_sign_text.html');
  instanceSignTextCompiled = SpacebarsCompiler.compile(instanceSignTextHtml, {
    isBody: true
  });
  instanceSignTextRenderFunction = eval(instanceSignTextCompiled);
  Template.instanceSignText = new Blaze.Template("instanceSignText", instanceSignTextRenderFunction);
  Template.instanceSignText.steedosData = steedosData;
  return Template.instanceSignText.helpers(InstanceSignText.helpers);
};

InstanceReadOnlyTemplate.createImageSign = function (steedosData) {
  var imageSignCompiled, imageSignHtml, imageSignRenderFunction;
  imageSignHtml = _getViewHtml('client/views/instance/image_sign.html');
  imageSignCompiled = SpacebarsCompiler.compile(imageSignHtml, {
    isBody: true
  });
  imageSignRenderFunction = eval(imageSignCompiled);
  Template.imageSign = new Blaze.Template("imageSign", imageSignRenderFunction);
  Template.imageSign.steedosData = steedosData;
  return Template.imageSign.helpers(ImageSign.helpers);
};

InstanceReadOnlyTemplate.createTracesHanlder = function (steedosData) {
  var tracesHanlderCompiled, tracesHanlderHtml, tracesHanlderRenderFunction;
  tracesHanlderHtml = _getViewHtml('client/views/instance/traces_handler.html');
  tracesHanlderCompiled = SpacebarsCompiler.compile(tracesHanlderHtml, {
    isBody: true
  });
  tracesHanlderRenderFunction = eval(tracesHanlderCompiled);
  Template.instance_traces_handler = new Blaze.Template("instance_traces_handler", tracesHanlderRenderFunction);
  Template.instance_traces_handler.steedosData = steedosData;
  return Template.instance_traces_handler.helpers(TracesHandler.helpers);
};

InstanceReadOnlyTemplate.init = function (steedosData) {
  InstanceReadOnlyTemplate.create("afSelectUserRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("afFormGroup", steedosData);
  }

  InstanceReadOnlyTemplate.create("afFormGroupRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("instance_attachment", {
      absolute: steedosData.absolute
    });
    InstanceReadOnlyTemplate.createImageSign(steedosData);
    InstanceReadOnlyTemplate.createTracesHanlder(steedosData);
    return InstanceReadOnlyTemplate.createInstanceSignText(steedosData);
  }
};

getLinkText = function (item, label, detail_url) {
  if (detail_url) {
    detail_url = detail_url.replace("{_id}", item._id);

    if (!/^http(s?):\/\//.test(detail_url)) {
      detail_url = Steedos.absoluteUrl(detail_url);
    }

    return '<a href="' + detail_url + '" target="_blank">' + label + '</a>';
  } else {
    return label;
  }
};

InstanceReadOnlyTemplate.getValue = function (value, field, locale, utcOffset) {
  var date, detail_url, e, hours, month, seconds, t, t0, t1, year;

  if (!value && value !== false) {
    return '';
  }

  switch (field.type) {
    case 'email':
      value = value ? '<a href=\'mailto:' + value + '\'>' + value + '</a>' : '';
      break;

    case 'url':
      if (value) {
        if (value.indexOf("http") === 0) {
          try {
            value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
          } catch (error) {
            e = error;
            value = "<a href='' target='_blank'>" + value + "</a>";
          }
        } else {
          value = "<a href='http://" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
        }
      } else {
        value = '';
      }

      break;

    case 'group':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("fullname").toString() : void 0;
      } else {
        value = value != null ? value.fullname : void 0;
      }

      break;

    case 'user':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("name").toString() : void 0;
      } else {
        value = value != null ? value.name : void 0;
      }

      break;

    case 'password':
      value = '******';
      break;

    case 'checkbox':
      if (value && value !== 'false') {
        value = TAPi18n.__("form_field_checkbox_yes", {}, locale);
      } else {
        value = TAPi18n.__("form_field_checkbox_no", {}, locale);
      }

      break;

    case 'dateTime':
      if (value && value.length === 16) {
        t = value.split("T");
        t0 = t[0].split("-");
        t1 = t[1].split(":");
        year = t0[0];
        month = t0[1];
        date = t0[2];
        hours = t1[0];
        seconds = t1[1];
        value = new Date(year, month - 1, date, hours, seconds);
      } else {
        value = new Date(value);
      }

      value = InstanceReadOnlyTemplate.formatDate(value, utcOffset);
      break;

    case 'input':
      if (field.is_textarea) {
        value = Spacebars.SafeString(Markdown(value));
      }

      break;

    case 'number':
      if (value || value === 0) {
        value = Steedos.numberToString(value, field.digits);
      }

      break;

    case 'odata':
      detail_url = field.detail_url;

      if (field.is_multiselect) {
        value = _.map(value, function (item) {
          return getLinkText(item, item['@label'], detail_url);
        });
      } else {
        value = getLinkText(value, value['@label'], detail_url);
      }

      break;

    case 'html':
      value = value ? "<div class=\"steedos-html\">" + value + "</div>" : '';
  }

  return value;
};

InstanceReadOnlyTemplate.getLabel = function (fields, code) {
  var field;
  field = fields.findPropertyByPK("code", code);

  if (field) {
    if (field.name) {
      return field.name;
    } else {
      return field.code;
    }
  }
};

InstanceReadOnlyTemplate.getInstanceFormVersion = function (instance) {
  var form, form_fields, form_version;
  form = db.forms.findOne(instance.form);
  form_version = {};
  form_fields = [];

  if (form.current._id === instance.form_version) {
    form_version = form.current;
  } else {
    form_version = _.where(form.historys, {
      _id: instance.form_version
    })[0];
  }

  form_version.fields.forEach(function (field) {
    if (field.type === 'section') {
      form_fields.push(field);

      if (field.fields) {
        return field.fields.forEach(function (f) {
          return form_fields.push(f);
        });
      }
    } else if (field.type === 'table') {
      field['sfields'] = field['fields'];
      delete field['fields'];
      return form_fields.push(field);
    } else {
      return form_fields.push(field);
    }
  });
  form_version.fields = form_fields;
  return form_version;
};

InstanceReadOnlyTemplate.getFlowVersion = function (instance) {
  var flow, flow_version;
  flow = db.flows.findOne(instance.flow);
  flow_version = {};

  if (flow.current._id === instance.flow_version) {
    flow_version = flow.current;
  } else {
    flow_version = _.where(flow.historys, {
      _id: instance.flow_version
    })[0];
  }

  return flow_version;
};

_getViewHtml = function (path) {
  var viewHtml;
  viewHtml = Assets.getText(path);

  if (viewHtml) {
    viewHtml = viewHtml.replace(/<template[\w\s\"\=']+>/i, "").replace(/<\/template>/i, "");
  }

  return viewHtml;
};

_getLocale = function (user) {
  var locale, ref, ref1;

  if ((user != null ? (ref = user.locale) != null ? ref.toLocaleLowerCase() : void 0 : void 0) === 'zh-cn') {
    locale = "zh-CN";
  } else if ((user != null ? (ref1 = user.locale) != null ? ref1.toLocaleLowerCase() : void 0 : void 0) === 'en-us') {
    locale = "en";
  } else {
    locale = "zh-CN";
  }

  return locale;
};

_getRequiredFields = function (fields, rev) {
  if (!rev) {
    rev = [];
  }

  fields.forEach(function (field) {
    if (field.type === 'section') {
      return _getRequiredFields(field.fields, rev);
    } else if (field.type === 'table') {} else {
      if (field.is_required) {
        return rev.push(field.code);
      }
    }
  });
  return rev;
};

_getStartStepEditableFields = function (fields, steps) {
  var editableCode, startStep;
  startStep = steps.findPropertyByPK("step_type", "start");
  editableCode = [];

  _.keys(startStep.permissions).forEach(function (key) {
    if (startStep.permissions[key] === 'editable') {
      return editableCode.push(key);
    }
  });

  return editableCode;
};

_getStartStepRequiredFields = function (fields, steps) {
  var editableCode, requiredFields;
  requiredFields = _getRequiredFields(fields);
  editableCode = _getStartStepEditableFields(fields, steps);
  return _.intersection(requiredFields, editableCode);
};

_getTemplateData = function (user, space, instance, options) {
  var flow, form, form_version, locale, steedosData;

  if (Meteor.isServer) {
    form_version = InstanceReadOnlyTemplate.getInstanceFormVersion(instance);
  } else {
    form_version = WorkflowManager.getInstanceFormVersion(instance);
  }

  locale = _getLocale(user);
  steedosData = {};

  if (Meteor.isClient) {
    steedosData = _.clone(WorkflowManager_format.getAutoformSchemaValues());
    steedosData.insname = instance.name;
    steedosData.ins_state = instance.state;
    steedosData.ins_final_decision = instance.ins_final_decision;
    steedosData.ins_code = instance.code;
    steedosData.ins_is_archived = instance.is_archived;
    steedosData.ins_is_deleted = instance.ins_is_deleted;
    steedosData.applicant_name = instance.applicant_name;
    steedosData.applicantContext = instance.applicant_name;
  }

  steedosData.instance = instance;
  steedosData.form_version = form_version;
  steedosData.locale = locale;
  steedosData.utcOffset = user.utcOffset;
  steedosData.space = instance.space;
  steedosData.sessionUserId = user._id;

  if (Meteor.isServer) {
    if (options != null ? options.editable : void 0) {
      form = db.forms.findOne({
        _id: instance.form
      });
      flow = db.flows.findOne({
        _id: instance.flow
      });
      steedosData.startStepEditableFields = _getStartStepEditableFields(form.current.fields, flow.current.steps);
    }
  }

  return steedosData;
};

InstanceReadOnlyTemplate.formatDate = function (date, utcOffset) {
  var passing;

  if (Meteor.isServer) {
    passing = false;
  } else {
    passing = true;
  }

  if (!utcOffset && utcOffset !== 0) {
    utcOffset = 8;
  }

  return moment(date).utcOffset(utcOffset, passing).format("YYYY-MM-DD HH:mm");
};

InstanceReadOnlyTemplate.getInstanceView = function (user, space, instance, options) {
  var body, instanceCompiled, instanceRenderFunction, instanceTemplate, steedosData;
  steedosData = _getTemplateData(user, space, instance, options);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  instanceTemplate = TemplateManager.getTemplate(instance, options != null ? options.templateName : void 0);
  instanceTemplate = instanceTemplate.replace(/afSelectUser/g, "afSelectUserRead");

  if (!(options != null ? options.editable : void 0)) {
    instanceTemplate = instanceTemplate.replace(/afFormGroup/g, "afFormGroupRead");
  }

  instanceCompiled = SpacebarsCompiler.compile(instanceTemplate, {
    isBody: true
  });
  instanceRenderFunction = eval(instanceCompiled);
  Template.instance_readonly_view = new Blaze.Template("instance_readonly_view", instanceRenderFunction);
  Template.instance_readonly_view.steedosData = steedosData;
  Template.instance_readonly_view.helpers(InstanceformTemplate.helpers);
  InstanceReadOnlyTemplate.init(steedosData);
  body = Blaze.toHTMLWithData(Template.instance_readonly_view, steedosData);
  return "<div id='instanceform' >\n	" + body + "\n</div>";
};

InstanceReadOnlyTemplate.getTracesView = function (user, space, instance, options) {
  var body, form, steedosData, traceCompiled, traceRenderFunction, tracesHtml;
  steedosData = _getTemplateData(user, space, instance);
  form = db.forms.findOne(instance.form);

  if (form.instance_style === "table" || (options != null ? options.templateName : void 0) === "table") {
    tracesHtml = _getViewHtml('client/views/instance/traces_table.html');
  } else {
    tracesHtml = _getViewHtml('client/views/instance/traces.html');
  }

  traceCompiled = SpacebarsCompiler.compile(tracesHtml, {
    isBody: true
  });
  traceRenderFunction = eval(traceCompiled);
  Template.trace_readonly_view = new Blaze.Template("trace_readonly_view", traceRenderFunction);
  Template.trace_readonly_view.steedosData = steedosData;
  Template.trace_readonly_view.helpers(TracesTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.trace_readonly_view, instance.traces);
  return body;
};

InstanceReadOnlyTemplate.getAttachmentView = function (user, space, instance) {
  var attachmentCompiled, attachmentHtml, attachmentRenderFunction, body, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  attachmentHtml = _getViewHtml('client/views/instance/instance_attachments.html');
  attachmentCompiled = SpacebarsCompiler.compile(attachmentHtml, {
    isBody: true
  });
  attachmentRenderFunction = eval(attachmentCompiled);
  Template.attachments_readonly_view = new Blaze.Template("attachments_readonly_view", attachmentRenderFunction);
  Template.attachments_readonly_view.steedosData = steedosData;
  Template.attachments_readonly_view.helpers(InstanceAttachmentTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.attachments_readonly_view);
  return body;
};

InstanceReadOnlyTemplate.getRelatedInstancesView = function (user, space, instance, options) {
  var body, relatedInstancesCompiled, relatedInstancesHtml, relatedInstancesRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedInstancesHtml = _getViewHtml('client/views/instance/related_instances.html');
  relatedInstancesCompiled = SpacebarsCompiler.compile(relatedInstancesHtml, {
    isBody: true
  });
  relatedInstancesRenderFunction = eval(relatedInstancesCompiled);
  Template.related_instances_view = new Blaze.Template("related_instances_view", relatedInstancesRenderFunction);
  Template.related_instances_view.steedosData = steedosData;
  Template.related_instances_view.helpers(RelatedInstances.helpers);
  body = Blaze.toHTMLWithData(Template.related_instances_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getRelatedRecordsView = function (user, space, instance, options) {
  var body, relatedRecordsCompiled, relatedRecordsHtml, relatedRecordsRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedRecordsHtml = _getViewHtml('client/views/instance/related_records.html');
  relatedRecordsCompiled = SpacebarsCompiler.compile(relatedRecordsHtml, {
    isBody: true
  });
  relatedRecordsRenderFunction = eval(relatedRecordsCompiled);
  Template.related_records_view = new Blaze.Template("related_records_view", relatedRecordsRenderFunction);
  Template.related_records_view.steedosData = steedosData;
  Template.related_records_view.helpers(RelatedRecords.helpers);
  body = Blaze.toHTMLWithData(Template.related_records_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getOnLoadScript = function (instance) {
  var form_script, form_version;
  form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
  form_script = form_version.form_script;

  if (form_script && form_script.replace(/\n/g, "").replace(/\s/g, "").length > 0) {
    form_script = "CoreForm = {};CoreForm.instanceform = {};" + form_script;
    return form_script += ";if(CoreForm.form_OnLoad){window.onload = CoreForm.form_OnLoad();}";
  } else {
    return form_script = "";
  }
};

InstanceReadOnlyTemplate.getInstanceHtml = function (user, space, instance, options) {
  var allCssLink, attachment, body, creatorService, cssHref, form, formDescription, formDescriptionHtml, html, ins_record_ids, instanceBoxStyle, instance_style, locale, onLoadScript, openFileScript, ref, ref1, related_instances, related_records, showTracesBtn, showTracesScript, trace, traceCheck, width;
  body = InstanceReadOnlyTemplate.getInstanceView(user, space, instance, options);
  onLoadScript = InstanceReadOnlyTemplate.getOnLoadScript(instance);
  creatorService = (ref = Meteor.settings["public"].webservices) != null ? (ref1 = ref.creator) != null ? ref1.url : void 0 : void 0;
  ins_record_ids = instance.record_ids;
  locale = _getLocale(user);
  openFileScript = "if(window.isNode && isNode()){\n	attachs = document.getElementsByClassName(\"ins_attach_href\");\n	for(var i = 0; i < attachs.length; i++){\n		attach = attachs[i];\n		attach.addEventListener(\"click\", function(e){\n			if(isImage(this.dataset.type) || isHtml(this.dataset.type)){\n				e.preventDefault();\n				openWindow(\"/api/files/instances/\" + this.dataset.id);\n			}else if(nw_core.canOpenFile(this.dataset.name)){\n				e.preventDefault();\n				nw_core.openFile(this.href, this.dataset.name)\n			}\n		});\n	}\n}\n\nvar flow = \"" + instance.flow + "\";\nvar space = \"" + instance.space + "\";\n\nfunction getCookie(name){\n	let pattern = RegExp(name + \"=.[^;]*\")\n	let matched = document.cookie.match(pattern)\n	if(matched){\n		let cookie = matched[0].split('=')\n		return cookie[1]\n	}\n	return ''\n}\n\nvar records = document.getElementsByClassName(\"ins-related-records\");\nfor(var i = 0; i < records.length; i++){\n		var record = records[i];\n		record.addEventListener(\"click\", function(e){\n			var creatorService = \"" + creatorService + "\"\n			var ins_record_ids = " + JSON.stringify(ins_record_ids) + "\n			if(creatorService && ins_record_ids && ins_record_ids.length > 0){\n				var objcetName = ins_record_ids[0].o\n				var id = ins_record_ids[0].ids[0]\n				var uobj = {};\n				uobj[\"X-User-Id\"] = getCookie(\"X-User-Id\");\n				uobj[\"X-Auth-Token\"] = getCookie(\"X-Auth-Token\");\n				redirectUrl = creatorService + \"app/-/\" + objcetName + \"/view/\" + id + \"?\" + $.param(uobj);\n				openWindow(redirectUrl);\n			}\n		});\n	}\n";

  if (!Steedos.isMobile()) {
    form = db.forms.findOne(instance.form);

    if ((form != null ? form.instance_style : void 0) === 'table') {
      instance_style = "instance-table";
    }
  }

  if ((options != null ? options.templateName : void 0) === 'table') {
    instance_style = "instance-table";
  }

  if (options != null ? options.instance_style : void 0) {
    instance_style = options.instance_style;
  }

  if (!options || options.showTrace === true) {
    trace = InstanceReadOnlyTemplate.getTracesView(user, space, instance);
  } else {
    trace = "";
  }

  instanceBoxStyle = "";

  if (instance && instance.final_decision) {
    if (instance.final_decision === "approved") {
      instanceBoxStyle = "box-success";
    } else if (instance.final_decision === "rejected") {
      instanceBoxStyle = "box-danger";
    }
  }

  if (!options || options.showAttachments === true) {
    attachment = InstanceReadOnlyTemplate.getAttachmentView(user, space, instance);
    related_instances = InstanceReadOnlyTemplate.getRelatedInstancesView(user, space, instance, options);
    related_records = InstanceReadOnlyTemplate.getRelatedRecordsView(user, space, instance, options);
  } else {
    attachment = "";
    related_instances = "";
    related_records = "";
  }

  width = "960px";

  if (options != null ? options.width : void 0) {
    width = "";
  }

  cssHref = Meteor.absoluteUrl("steedos-css");
  allCssLink = "<link rel=\"stylesheet\" type=\"text/css\" class=\"__meteor-css__\" href=\"" + cssHref + "\">";
  traceCheck = "";

  if (!_.isEmpty(trace)) {
    traceCheck = "checked";
  }

  if ((options != null ? options.tagger : void 0) === 'email' || (options != null ? options.editable : void 0)) {
    showTracesBtn = "";
  } else {
    showTracesBtn = "<div class=\"navigation-bar btn-group no-print\" style=\"min-width: 600px; z-index: 999\">\n	<div class=\"print-tool\">\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-attachments\" id=\"cbx-print-attachments\" checked=\"checked\"><span>" + TAPi18n.__('instance_attachment', {}, locale) + "</span></label>\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-traces\" id=\"cbx-print-traces\" checked=\"" + traceCheck + "\"><span>" + TAPi18n.__('instance_approval_history', {}, locale) + "</span></label>\n	</div>\n</div>";
  }

  showTracesScript = "$( document ).ready(function(){\n	var b = document.getElementById('cbx-print-traces');\n	var t = document.getElementsByClassName('instance-traces')[0];\n	if (b && b.checked && t){\n		t.style = 'display: block;'\n	} else if(t){\n		t.style = 'display: none;'\n	}\n	if(b){\n		b.addEventListener('change', function(e){\n			if (e.target.checked){\n				t.style = 'display: block;'\n			} else {\n				t.style = 'display: none;'\n			}\n		});\n	}\n\n\n	var attachmentsCheckbox = document.getElementById('cbx-print-attachments');\n	var attachmentsView = document.getElementsByClassName('attachments-section')[0];\n	if (attachmentsCheckbox && attachmentsCheckbox.checked && attachmentsView){\n		attachmentsView.style = 'display: block;'\n	} else if(attachmentsView){\n		attachmentsView.style = 'display: none;'\n	}\n	if(attachmentsCheckbox){\n		attachmentsCheckbox.addEventListener('change', function(e){\n			if (e.target.checked){\n				attachmentsView.style = 'display: block;'\n			} else {\n				attachmentsView.style = 'display: none;'\n			}\n		});\n	}\n});\n";

  if (options != null ? options.styles : void 0) {
    allCssLink = "";
  }

  form = db.forms.findOne({
    _id: instance.form
  });
  formDescriptionHtml = "";

  if (form) {
    formDescription = form.description;

    if (formDescription) {
      formDescription = formDescription.replace(/\n/g, "<br/>");
      formDescriptionHtml = "<div class=\"box-header  with-border instance-header\">\n	<div>\n		" + formDescription + "\n	</div>\n</div>";
    }
  }

  html = "<!DOCTYPE html>\n<html>\n	<head>\n		<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n		" + allCssLink + "\n		<script src=\"https://www.steedos.com/website/libs/jquery.min.js\" type=\"text/javascript\"></script>\n		<script src=\"/js/nw_core.js\" type=\"text/javascript\"></script>\n		" + (options.plugins || "") + "\n\n		<style>\n			.steedos{\n				width: " + width + ";\n				margin-left: auto;\n				margin-right: auto;\n			}\n\n			.instance-view .instance-name{\n				display: inline !important\n			}\n			.box-tools{\n				display: none;\n			}\n			.box.collapsed-box .box-body,.box.collapsed-box .box-footer {\n			  display: block;\n			}\n\n			body{\n				background: azure !important;\n			}\n\n			.instance-view .instance-traces{\n				padding-left: 15px;\n				padding-right: 15px;\n			}\n\n			" + ((options != null ? options.styles : void 0) || "") + "\n		</style>\n	</head>\n	<body>\n		<div class=\"steedos workflow instance-print\">\n			<div class=\"skin-green skin-admin-lte\">\n				<div class=\"wrapper\">\n					<div class=\"content-wrapper\">\n						" + showTracesBtn + "\n						<div class=\"instance-print\">\n							<div class=\"instance " + instance_style + "\">\n								<form name=\"instanceForm\">\n									<div class=\"instance-form box " + instanceBoxStyle + "\">\n										" + formDescriptionHtml + "\n										<div class=\"box-body\">\n											<div class=\"col-md-12\">\n												<div class='attachments-section'>\n													" + attachment + "\n													" + related_instances + "\n													" + related_records + "\n												</div>\n												" + body + "\n											</div>\n										</div>\n									</div>\n								</form>\n								" + trace + "\n							</div>\n\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</body>\n	<script>" + openFileScript + ";" + onLoadScript + ";" + showTracesScript + "</script>\n</html>";
  return html;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/template_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var formId;
TemplateManager = {};
formId = 'instanceform';

TemplateManager.instance_title = function () {
  var pageTitle, pageTitleTrClass, val;
  pageTitle = "{{instance.name}}";
  pageTitleTrClass = "instance-name";

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) {
    pageTitle = "{{> afFormGroup name=\"" + CoreForm.pageTitleFieldName + "\" label=false}}";
    pageTitleTrClass = "";
  }

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitle : void 0) {
    pageTitle = "" + CoreForm.pageTitle;
    pageTitleTrClass = "";
  }

  val = {
    pageTitle: pageTitle,
    pageTitleTrClass: pageTitleTrClass
  };
  return val;
};

TemplateManager.handleTableTemplate = function (instance, _export) {
  var table_fields, template;
  template = "<div class='instance-template'>\n	<table class=\"table-page-title form-table no-border text-align-center\" style=\"width: 100%;display: inline-table;\">\n		<tr class=\"" + this.instance_title().pageTitleTrClass + "\">\n			<td class=\"instance-table-name-td page-title\">\n				" + this.instance_title().pageTitle + "\n			</td>\n		</tr>\n\n	</table>\n	<table class=\"table-page-body form-table\">\n			<tr style=\"height:0px\">\n				<th style='width: 16%'></th>\n				<th></th>\n				<th style='width: 16%'></th>\n				<th></th>\n			</tr>";
  table_fields = InstanceformTemplate.helpers.table_fields(instance);
  table_fields.forEach(function (table_field) {
    var field_permission, pureCode, required, title_permission;
    required = "";

    if (!(typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) || (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) !== table_field.code) {
      if (table_field.is_required) {
        required = "is-required";
      }

      if (_export) {
        required = "";
      }

      pureCode = Steedos.removeSpecialCharacter(table_field.code);

      if (InstanceformTemplate.helpers.isOpinionField(table_field)) {
        template += table_field.tr_start;
        template += "<td class=\"td-title " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field opinion-field opinion-field-" + pureCode + " automatic\" colspan = \"" + table_field.td_colspan + "\">\n	{{> instanceSignText name=\"" + table_field.code + "\"}}\n</td>";
        return template += table_field.tr_end;
      } else {
        if (InstanceformTemplate.helpers.includes(table_field.type, 'section,table')) {
          template += table_field.tr_start;
          template += "<td class=\"td-childfield td-childfield-" + pureCode + "\" colspan = \"" + table_field.td_colspan + "\">\n   {{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        } else {
          template += table_field.tr_start;

          if (_export) {
            title_permission = "";
            field_permission = "";
          } else {
            title_permission = "title-" + table_field.permission;
            field_permission = "field-" + table_field.permission;
          }

          template += "<td class=\"td-title td-title-" + pureCode + " " + title_permission + " " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field td-field-" + pureCode + " " + field_permission + "\" colspan = \"" + table_field.td_colspan + "\">\n	{{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        }
      }
    }
  });
  template += "	</table>\n\n	<table class=\"table-page-footer form-table no-border\">\n		<tr class=\"applicant-wrapper\">\n			<td class=\"nowrap\">\n				<div class='inline-left'>\n					<label class=\"control-label\">{{_t \"instance_initiator\"}}：</label>\n				</div>\n				<div class='instance-table-wrapper-td inline-left'>\n					{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n				</div>\n			</td>\n			<td class=\"nowrap\">\n				<div class='pull-left'>\n					<div class='inline-left'>\n						<label>{{_t \"instance_submit_date\"}}：</label>\n					</div>\n					<div class='inline-right'>\n						<div class=\"form-group\">\n							{{formatDate instance.submit_date '{\"format\":\"YYYY-MM-DD\"}'}}\n						</div>\n					</div>\n				</div>\n			</td>\n		</tr>\n	</table>\n</div>";
  return template;
};

TemplateManager._template = {
  "default": function (instance) {
    var template;
    template = "<div class=\"with-border col-md-12\">\n	<div class=\"instance-name\">\n		<h3 class=\"box-title\">" + TemplateManager.instance_title().pageTitle + "</h3>\n		<span class=\"help-block\"></span>\n	</div>\n	<span class=\"help-block\"></span>\n</div>\n{{#each steedos_form.fields}}\n	{{#if isOpinionField this}}\n		<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			<div class=\"form-group automatic opinion-field-{{this.code}}\">\n				<label class=\"control-label\">{{afFieldLabelText name=this.code}}</label>\n\n				{{> instanceSignText name=this.code}}\n			</div>\n		</div>\n	{{else}}\n		{{#if includes this.type 'section,table'}}\n			<div class=\"col-md-12 field-{{this.code}}\">\n				{{> afFormGroup name=this.code label=false}}\n			</div>\n		{{else}}\n			<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			{{> afFormGroup name=this.code}}\n			</div>\n		{{/if}}\n	{{/if}}\n{{/each}}\n<div class=\"col-md-12\">\n	<div class=\"applicant-wrapper form-group form-horizontal\">\n	<div class=\"input-group\">\n		<div class=\"input-group-addon\">\n		  {{_t \"instance_initiator\"}}&nbsp;:\n		</div>\n		{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n	  </div>\n	</div>\n</div>";
    return template;
  },
  table: function (instance) {
    return TemplateManager.handleTableTemplate(instance);
  }
};
TemplateManager._templateHelps = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control',
        style: 'padding:6px 12px;width:140px;display:inline'
      }
    };
    data.atts.disabled = true;
    return data;
  }
};
({
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = formId;
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  }
});

TemplateManager.getTemplate = function (instance, templateName) {
  var flow, form;
  flow = db.flows.findOne(instance.flow);
  form = db.forms.findOne(instance.form);

  if (templateName) {
    if (templateName === 'table') {
      return TemplateManager._template.table(instance);
    }

    return TemplateManager._template["default"](instance);
  }

  if (typeof Session !== "undefined" && Session !== null ? Session.get("instancePrint") : void 0) {
    if (flow != null ? flow.print_template : void 0) {
      return "<div class='instance-template'>" + flow.print_template + "</div>";
    } else {
      if (flow != null ? flow.instance_template : void 0) {
        return "<div class='instance-template'>" + flow.instance_template + "</div>";
      } else {
        return TemplateManager._template.table(instance);
      }
    }
  } else {
    if (Steedos.isMobile()) {
      return TemplateManager._template["default"](instance);
    }

    if (flow != null ? flow.instance_template : void 0) {
      return "<div class='instance-template'>" + flow.instance_template + "</div>";
    }

    if (form != null ? form.instance_style : void 0) {
      if (form.instance_style === 'table') {
        return TemplateManager._template.table(instance);
      }

      return TemplateManager._template["default"](instance);
    } else {
      return TemplateManager._template["default"](instance);
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"coreform":{"inputTypes":{"coreform-table":{"steedos-table.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/coreform/inputTypes/coreform-table/steedos-table.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
SteedosTable = {};
SteedosTable.formId = "instanceform";

SteedosTable.checkItem = function (field, item_index) {
  var fieldObj = SteedosTable.getField(field);
  var fieldVal = SteedosTable.getItemModalValue(field, item_index);
  var sf_name = '';
  var rev = true;
  fieldObj.sfields.forEach(function (sf) {
    if (sf.permission == 'editable') {
      sf_name = fieldObj.code + "." + sf.code;

      if (!InstanceManager.checkFormFieldValue($("[name='" + sf_name + "']")[0])) {
        rev = false;
      }
    }
  });
  return rev;
};

SteedosTable.setTableItemValue = function (field, item_index, item_value) {
  var tableValue = SteedosTable.getTableValue(field);
  tableValue[item_index] = item_value;
};

SteedosTable.getTableItemValue = function (field, item_index) {
  return SteedosTable.getTableValue(field)[item_index];
};

SteedosTable.removeTableItem = function (field, item_index) {
  var item_value = SteedosTable.getTableItemValue(field, item_index);
  item_value.removed = true;
};

SteedosTable.setTableValue = function (field, value) {
  $("table[name='" + field + "']").val({
    val: value
  });
};

SteedosTable.getTableValue = function (field) {
  return $("table[name='" + field + "']").val().val;
};

SteedosTable.getValidValue = function (field) {
  var value = SteedosTable.getTableValue(field);

  if (!value) {
    return;
  }

  var validValue = [];
  value.forEach(function (v) {
    if (!v.removed) {
      validValue.push(v);
    }
  });
  return validValue;
};

SteedosTable.handleData = function (field, values) {
  if (!values || !(values instanceof Array)) {
    return values;
  }

  var fieldObj = SteedosTable.getField(field);
  values.forEach(function (v) {
    fieldObj.sfields.forEach(function (f) {
      if (f.type == 'user' || f.type == 'group') {
        var value = v[f.code];

        if (f.is_multiselect) {
          if (value && value.length > 0 && typeof value[0] == 'object') {
            v[f.code] = v[f.code].getProperty("id");
          }
        } else {
          if (value && typeof value == 'object') {
            v[f.code] = v[f.code].id;
          }
        }
      } else if (f.type == 'dateTime') {
        var value = v[f.code];

        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
            v[f.code] = value;
          }
        }
      }
    });
  });
  return values;
};

SteedosTable.getField = function (field) {
  var instanceFields = WorkflowManager.getInstanceFields();
  if (!instanceFields) return;
  var fieldObj = instanceFields.findPropertyByPK("code", field);
  return fieldObj;
};

SteedosTable.getModalData = function (field, index) {
  var data = {};
  var fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return;
  }

  data.field = fieldObj;
  data.field.formula = Form_formula.getFormulaFieldVariable("Form_formula.field_values", fieldObj.sfields);
  data.value = {};
  data.value[field] = SteedosTable.getTableItemValue(field, index);
  data.index = index;
  return data;
};

SteedosTable.getItemModalValue = function (field, item_index) {
  if (!AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index)) {
    return {};
  }

  var item_value = AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index).insertDoc[field];
  return item_value;
};

SteedosTable.addItem = function (field, index, _item_value) {
  var keys = SteedosTable.getKeys(field);

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  $("tbody[name='" + field + "Tbody']").append(SteedosTable.getTr(keys, item_value, index, field, true));
};

SteedosTable.updateItem = function (field, index, _item_value) {
  var item = $("tr[name='" + field + "_item_" + index + "']");

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  if (item && item.length > 0) {
    var keys = SteedosTable.getKeys(field);
    var tds = SteedosTable.getRemoveTd(field, index);
    var sfields = SteedosTable.getField(field).sfields;
    keys.forEach(function (key) {
      var sfield = sfields.findPropertyByPK("code", key);
      var value = item_value[key];
      tds = tds + SteedosTable.getTd(sfield, index, value);
    });
    item.empty();
    item.append(tds);
  } else {
    SteedosTable.addItem(field, index);
  }

  if (SteedosTable.getTableValue(field)) {
    SteedosTable.setTableItemValue(field, index, item_value); //SteedosTable.valueHash[field][index] = item_value;
  } else {
    //SteedosTable.valueHash[field] = [item_value];
    SteedosTable.setTableValue(field, [item_value]);
  } //执行主表公式计算


  InstanceManager.runFormula(field);
};

SteedosTable.removeItem = function (field, index) {
  $("tr[name='" + field + "_item_" + index + "']").hide();
  SteedosTable.removeTableItem(field, index);
  InstanceManager.runFormula(field);
};

SteedosTable.showModal = function (field, index, method) {
  var modalData = SteedosTable.getModalData(field, index);
  modalData.method = method;
  Modal.show("steedosTableModal", modalData);
};

SteedosTable.getKeys = function (field) {
  if (!AutoForm.getCurrentDataForForm(SteedosTable.formId)) {
    return [];
  }

  var ss = AutoForm.getFormSchema(SteedosTable.formId);
  var keys = [];

  if (ss.schema(field + ".$").type === Object) {
    keys = ss.objectKeys(SimpleSchema._makeGeneric(field) + '.$');
  }

  return keys;
};

SteedosTable.getThead = function (field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return '';
  }

  var thead = '',
      trs = '',
      label = '',
      width = 100;

  if (editable) {
    // trs = "<th class='removed'></th>"
    trs = "";
  }

  var sfields = fieldObj.sfields;

  if (!sfields) {
    return thead;
  }

  var sf_length = sfields.length;

  if (sf_length > 0) {
    var wide_fields = sfields.filterProperty("is_wide", true);
    width = 100 / (sf_length + wide_fields.length);
  }

  sfields.forEach(function (sf, index) {
    label = sf.name != null && sf.name.length > 0 ? sf.name : sf.code;
    trs = trs + "<td "; // nowrap='nowrap'

    trs = trs + " class='title " + sf.type + "'";

    if (index != sf_length - 1) {
      if (sf.is_wide) {
        trs = trs + "style='width:" + width * 2 + "%'";
      } else {
        trs = trs + "style='width:" + width + "%'";
      }
    }

    trs = trs + ">" + label + "</td>";
  });
  thead = '<tr>' + trs + '</tr>';
  return thead;
};

SteedosTable.getTbody = function (keys, field, values, editable) {
  var tbody = "";

  if (values instanceof Array) {
    values.forEach(function (value, index) {
      tbody = tbody + SteedosTable.getTr(keys, value, index, field, editable);
    });
  }

  return tbody;
};

SteedosTable.getTr = function (keys, item_value, index, field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);
  var tr = "<tr id='" + fieldObj.code + "_item_" + index + "' name='" + fieldObj.code + "_item_" + index + "' data-index='" + index + "'";

  if (editable) {
    tr = tr + "' class='item edit'";
  } else {
    if (Steedos.isMobile()) {
      tr = tr + " class='item item-readonly'";
    } else {
      tr = tr + " class='item '";
    }
  }

  if (item_value.removed) {
    tr = tr + " style='display:none' ";
  }

  tr = tr + "'>";
  var tds = "";

  if (editable) {
    tds = SteedosTable.getRemoveTd(fieldObj.code, index);
  }

  var sfields = fieldObj.sfields;
  keys.forEach(function (key) {
    var sfield = sfields.findPropertyByPK("code", key);
    var value = item_value[key];
    tds = tds + SteedosTable.getTd(sfield, index, value);
  });
  tr = tr + tds + "</tr>";
  return tr;
};

SteedosTable.getRemoveTd = function (field, index) {
  // return "<td class='steedosTable-item-remove removed' data-index='" + index + "'><i class='fa fa-times' aria-hidden='true'></td>";
  return "";
};

SteedosTable.getTd = function (field, index, value) {
  var td = "<td ";
  td = td + " class='steedosTable-item-field " + field.type + "' ";
  var td_value = "";

  if (Meteor.isClient) {
    td_value = SteedosTable.getTDValue(field, value);
  } else {
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    td_value = InstanceReadOnlyTemplate.getValue(value, field, locale, utcOffset);
  }

  td = td + " data-index='" + index + "'>" + td_value + "</td>";
  return td;
};

SteedosTable.getTDValue = function (field, value) {
  var td_value = "";

  if (!field) {
    return td_value;
  }

  try {
    switch (field.type) {
      case 'user':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaSpaceUsers(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var u = CFDataManager.getFormulaSpaceUsers(value);
              td_value = u ? u.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'group':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaOrganizations(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var o = CFDataManager.getFormulaOrganization(value);
              td_value = o ? o.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'checkbox':
        if (value === true || value == 'true') {
          td_value = TAPi18n.__("form_field_checkbox_yes");
        } else {
          td_value = TAPi18n.__("form_field_checkbox_no");
        }

        break;

      case 'email':
        td_value = value ? "<a href='mailto:" + value + "'>" + value + "</a>" : "";
        break;

      case 'url':
        if (value) {
          if (value.indexOf("http") == 0) {
            try {
              td_value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
            } catch (e) {
              td_value = "<a href='' target='_blank'>" + value + "</a>";
            }
          } else {
            td_value = "<a href='http://" + encodeURI(value) + "' target='_blank'>http://" + value + "</a>";
          }
        } else {
          td_value = "";
        }

        break;

      case 'password':
        td_value = '******';
        break;

      case 'date':
        if (value) {
          if (value.length == 10) {
            var t = value.split("-");
            year = t[0];
            month = t[1];
            date = t[2];
            value = new Date(year, month - 1, date);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd');
        }

        break;

      case 'dateTime':
        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd HH:mm');
        }

        break;

      case 'number':
        if (value || value == 0) {
          td_value = Steedos.numberToString(value, field.digits);
        }

        break;

      case 'odata':
        if (value) {
          if (field.is_multiselect) {
            td_value = _.pluck(value, '@label').toString();
          } else {
            td_value = value['@label'];
          }
        }

        break;

      default:
        td_value = value ? value : '';
        break;
    }
  } catch (e) {
    e;
    return '';
  }

  return td_value;
};

if (Meteor.isClient) {
  AutoForm.addInputType("table", {
    template: "afTable",
    valueOut: function () {
      var name = this.data("schemaKey");
      return SteedosTable.getValidValue(name);
    },
    valueConverters: {
      "stringArray": AutoForm.valueConverters.stringToStringArray,
      "number": AutoForm.valueConverters.stringToNumber,
      "numerArray": AutoForm.valueConverters.stringToNumberArray,
      "boolean": AutoForm.valueConverters.stringToBoolean,
      "booleanArray": AutoForm.valueConverters.stringToBooleanArray,
      "date": AutoForm.valueConverters.stringToDate,
      "dateArray": AutoForm.valueConverters.stringToDateArray
    },
    contextAdjust: function (context) {
      if (typeof context.atts.maxlength === 'undefined' && typeof context.max === 'number') {
        context.atts.maxlength = context.max;
      }

      return context;
    }
  });
  Template.afTable.events({
    'tap .steedos-table .steedosTable-item-add,.add-item-tr': function (event, template) {
      var name = template.data.name;
      var tableValue = SteedosTable.getTableValue(name);
      var new_item_index = tableValue ? tableValue.length : 0;
      SteedosTable.showModal(name, new_item_index, "add");
    },
    'tap .steedos-table .steedosTable-item-field': function (event, template) {
      if (template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "edit");
      }
    },
    'tap .steedos-table .steedosTable-item-remove': function (event, template) {
      var field = template.data.name;
      var item_index = event.currentTarget.dataset.index;
      Session.set("instance_change", true);
      SteedosTable.removeItem(field, item_index);
    },
    'tap .steedos-table .item-readonly': function (event, template) {
      if (!template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "read");
      }
    }
  });

  Template.afTable.rendered = function () {
    var field = this.data.name;
    var keys = SteedosTable.getKeys(field);
    var validValue = SteedosTable.handleData(field, this.data.value);
    SteedosTable.setTableValue(field, validValue);
    $("thead[name='" + field + "Thead']").html(SteedosTable.getThead(field, this.data.atts.editable));
    $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), this.data.atts.editable));
    str = t("steedos_table_add_item");
    addItemTr = "<tr class='add-item-tr'><td colspan='" + keys.length + "'><i class='ion ion-plus-round'></i>" + str + "</td></tr>";

    if (this.data.atts.editable) {
      $("tfoot[name='" + field + "Tfoot']").append(addItemTr);
    }
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"views":{"instance":{"_image_sign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_image_sign.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
ImageSign.helpers = {
  spaceUserSign: function (userId) {
    var space, spaceUserSign;
    space = "";

    if (Meteor.isServer) {
      space = Template.instance().view.template.steedosData.space;
    } else {
      space = Session.get("spaceId");
    }

    spaceUserSign = db.space_user_signs.findOne({
      space: space,
      user: userId
    });
    return spaceUserSign;
  },
  imageURL: function (userId) {
    var absolute, spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(userId);
    absolute = false;

    if (Meteor.isServer) {
      absolute = Template.instance().view.template.steedosData.absolute;
    }

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      if (absolute) {
        return Meteor.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      } else {
        return Steedos.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_handler.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_handler.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesHandler.helpers = {
  showSignImage: function (handler, is_finished, judge) {
    var spaceUserSign;

    if (!is_finished) {
      return false;
    }

    if (['returned', 'terminated', 'retrieved'].includes(judge)) {
      return false;
    }

    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      return true;
    } else {
      return false;
    }
  },
  objectUrl: function (object_name, record_id, app_id) {
    return Creator.getObjectUrl(object_name, record_id, app_id);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_form.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_form.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceformTemplate.helpers = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: steedos_instance.applicant_name
    };

    if (!steedos_instance || steedos_instance.state !== "draft") {
      data.atts.disabled = true;
    }

    return data;
  },
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = "instanceform";
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  empty: function (val) {
    if (val) {
      return false;
    } else {
      return true;
    }
  },
  unempty: function (val) {
    if (val) {
      return true;
    } else {
      return false;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  unequals: function (a, b) {
    return !(a === b);
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  include: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  formatDate: function (date, options) {
    if (!date) {
      return "";
    }

    if (options && typeof options === 'string') {
      options = JSON.parse(options);
    }

    if (!options.format) {
      options = {
        format: "YYYY-MM-DD HH:mm"
      };
    }

    return moment(date).format(options.format);
  },
  traces: function () {
    var flow, instance, locale, ref, ref1, ref2, ref3, steedosData, steps, traces;

    if (Meteor.isServer) {
      steedosData = (ref = Template.instance()) != null ? (ref1 = ref.view) != null ? (ref2 = ref1.template) != null ? ref2.steedosData : void 0 : void 0 : void 0;
      instance = steedosData != null ? steedosData.instance : void 0;
      flow = InstanceReadOnlyTemplate.getFlowVersion(instance);
      locale = steedosData != null ? steedosData.locale : void 0;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      instance = WorkflowManager.getInstance();
      flow = WorkflowManager.getInstanceFlowVersion();
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (!instance || !flow) {
      return {};
    }

    steps = flow.steps;
    traces = {};

    if ((ref3 = instance.traces) != null) {
      ref3.forEach(function (trace) {
        var approves, ref4, step;
        step = steps.findPropertyByPK("_id", trace.step);
        approves = [];

        if ((ref4 = trace.approves) != null) {
          ref4.forEach(function (approve) {
            var judge_name;

            if (trace.is_finished === true) {
              if (approve.judge === 'approved') {
                judge_name = TAPi18n.__("Instance State approved", {}, locale);
              } else if (approve.judge === 'rejected') {
                judge_name = TAPi18n.__("Instance State rejected", {}, locale);
              } else if (approve.judge === 'terminated') {
                judge_name = TAPi18n.__("Instance State terminated", {}, locale);
              } else if (approve.judge === 'reassigned') {
                judge_name = TAPi18n.__("Instance State reassigned", {}, locale);
              } else if (approve.judge === 'relocated') {
                judge_name = TAPi18n.__("Instance State relocated", {}, locale);
              } else if (approve.judge === '') {
                judge_name = "";
              } else {
                judge_name = "";
              }
            } else {
              judge_name = TAPi18n.__("Instance State pending", {}, locale);
            }

            return approves.push({
              _id: approve._id,
              handler: approve.user,
              handler_name: approve.handler_name,
              handler_organization_name: approve.handler_organization_name,
              handler_organization_fullname: approve.handler_organization_fullname,
              finish_date: approve.finish_date,
              judge: approve.judge,
              judge_name: judge_name,
              description: approve.description,
              is_finished: approve.is_finished,
              type: approve.type,
              opinion_fields_code: approve.opinion_fields_code,
              sign_field_code: approve.sign_field_code,
              is_read: approve.is_read,
              sign_show: approve.sign_show
            });
          });
        }

        if (step) {
          if (step.name in traces) {
            return traces[step.name] = traces[step.name].concat(approves);
          } else {
            return traces[step.name] = approves;
          }
        }
      });
    }

    return traces;
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  },
  table_fields: function (instance) {
    var fields, form_version;

    if (Meteor.isClient) {
      form_version = WorkflowManager.getInstanceFormVersion();
    } else {
      form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
    }

    if (form_version) {
      fields = _.clone(form_version.fields);
      fields.forEach(function (field, index) {
        var after_field, before_field, pre_fields, pre_wide_fields, td_colspan, tr_end, tr_start;
        field.tr_start = "";
        field.tr_end = "";
        td_colspan = 1;

        if ((typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) === field.code) {
          field.is_wide = true;
        }

        if (field.formula && field.type !== 'odata') {
          field.permission = "readonly";
        }

        if (Steedos.isMobile()) {
          if (field.type === 'section' || field.type === 'table') {
            field.td_colspan = 4;
          } else {
            field.td_colspan = 3;
          }

          if (index !== 0) {
            field.tr_start = "<tr>";
            return field.tr_end = "</tr>";
          }
        } else {
          pre_fields = fields.slice(0, index);
          pre_wide_fields = pre_fields.filterProperty("is_wide", true);
          tr_start = "";
          tr_end = "";
          before_field = null;
          after_field = null;

          if (index > 0) {
            before_field = fields[index - 1];
          }

          if (index < fields.length - 1) {
            after_field = fields[index + 1];
          }

          if (field.type === 'section' || field.type === 'table') {
            td_colspan = 4;
          } else if (field.is_wide) {
            td_colspan = 3;
          } else {
            if (before_field && after_field && before_field.is_wide && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field === null) {
              field.is_wide = true;
              td_colspan = 3;
            }
          }

          field.td_colspan = td_colspan;

          if (index === 0) {
            tr_start = "<tr>";
          } else {
            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 || field.is_wide) {
              if (field.type === 'table') {
                tr_start = "<tr class = \"tr-child-table\">";
              } else {
                tr_start = "<tr>";
              }
            }
          }

          field.tr_start = tr_start;

          if (index + 1 === fields.length || field.type === 'section' || field.type === 'table' || field.is_wide) {
            tr_end = "</tr>";
          }

          if ((pre_fields.length + pre_wide_fields.length) % 2 !== 0) {
            tr_end = "</tr>";
          }

          return field.tr_end = tr_end;
        }
      });
      return fields;
    }
  },
  sort_approve: function (approves, order) {
    if (!approves) {
      return [];
    }

    if (!approves instanceof Array) {
      return [];
    } else {
      if (order === 'desc') {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p2 - _p1;
        });
      } else {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p1 - _p2;
        });
      }
    }

    return approves;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  getField: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;

    if (form_version) {
      return form_version.fields.findPropertyByPK("code", code);
    }
  },
  getValue: function (code) {
    var form_version, instance, locale, utcOffset, values;
    instance = Template.instance().view.template.steedosData.instance;
    form_version = Template.instance().view.template.steedosData.form_version;
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    values = instance.values || {};

    if (Meteor.isClient) {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    return InstanceReadOnlyTemplate.getValue(values[code], form_version.fields.findPropertyByPK("code", code), locale, utcOffset);
  },
  getLabel: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, code);
  },
  getCfClass: function (field) {
    if ((field != null ? field.type : void 0) === "input" && (field != null ? field.is_textarea : void 0)) {
      return "cfTextarea";
    }
  },
  getTableThead: function (field) {
    return SteedosTable.getThead(field, false);
  },
  getTableBody: function (field) {
    var instance, tableValue, values;

    if (Meteor.isServer) {
      instance = Template.instance().view.template.steedosData.instance;
      values = instance.values || {};
    } else {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    tableValue = values[field.code];
    return SteedosTable.getTbody(field.sfields.getProperty("code"), field, tableValue, false);
  },
  showLabel: function (field) {
    var templateData;
    templateData = Template.instance().data;

    if (templateData.label === false) {
      return false;
    }

    return true;
  },
  isOpinionField: function (field) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field.formula);
  },
  isOpinionField_from_string: function (field_formula) {
    return InstanceSignText.isOpinionField_from_string(field_formula);
  },
  includesOpinionField: function (form, form_version) {
    var field_formulas, fields, ref;
    field_formulas = new Array();
    fields = ((ref = db.form_versions.findOne({
      _id: form_version,
      form: form
    })) != null ? ref.fields : void 0) || [];
    fields.forEach(function (f) {
      var ref1;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref1 = f.fields) != null ? ref1.forEach(function (f1) {
          return field_formulas.push(f1.formula);
        }) : void 0 : void 0;
      } else {
        return field_formulas.push(f.formula);
      }
    });
    return _.some(field_formulas, function (field_formula) {
      return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
    });
  },
  getOpinionFieldStepsName: function (field_formula, top_keywords) {
    var foo1, opinionFields;
    opinionFields = new Array();

    if (InstanceformTemplate.helpers.isOpinionField_from_string(field_formula)) {
      if (field_formula) {
        foo1 = field_formula.split(";");
        foo1.forEach(function (foo) {
          var json_formula, ref, ref1, s1, sf;
          json_formula = {};

          try {
            json_formula = eval("(" + foo + ")");
          } catch (error1) {
            json_formula = {};
          }

          if (json_formula != null ? json_formula.yijianlan : void 0) {
            sf = {};
            sf.stepName = json_formula.yijianlan.step;
            sf.image_sign = json_formula.yijianlan.image_sign || false;
            sf.only_cc_opinion = json_formula.yijianlan.only_cc || false;
            sf.default_description = json_formula.yijianlan["default"];
            sf.only_handler = json_formula.yijianlan.only_handler;
            sf.top_keywords = json_formula.yijianlan.top_keywords || top_keywords;
            return opinionFields.push(sf);
          } else if ((field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1) {
            sf = {
              only_cc_opinion: false,
              image_sign: false,
              top_keywords: top_keywords
            };

            if (foo.indexOf("{signature.") > -1) {
              sf.image_sign = true;
              foo = foo.replace("{signature.", "");
            }

            s1 = foo.replace("{", "").replace("}", "");

            if (s1.split(".").length > 1) {
              sf.stepName = s1.split(".")[1];

              if (opinionFields.filterProperty("stepName", sf.stepName).length > 0) {
                if ((ref = opinionFields.findPropertyByPK("stepName", sf.stepName)) != null) {
                  ref.only_cc_opinion = true;
                }
              } else {
                if (s1.split(".").length > 2) {
                  if (((ref1 = s1.split(".")[2]) != null ? ref1.toLocaleLowerCase() : void 0) === 'cc') {
                    sf.only_cc_opinion = true;
                  }
                }
              }
            }

            return opinionFields.push(sf);
          }
        });
      }
    }

    return opinionFields;
  },
  showCCOpinion: function (field) {
    var ref, ref1, ref2, s1;

    if (((ref = field.formula) != null ? ref.indexOf("{traces.") : void 0) > -1 || ((ref1 = field.formula) != null ? ref1.indexOf("{signature.traces.") : void 0) > -1) {
      s1 = field.formula.replace("{signature.", "").replace("{", "").replace("}", "");

      if (s1.split(".").length > 2) {
        if (((ref2 = s1.split(".")[2]) != null ? ref2.toLocaleLowerCase() : void 0) === 'cc') {
          return true;
        }
      }
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  f_label: function (that) {
    return that.name || that.code;
  }
};

if (Meteor.isServer) {
  InstanceformTemplate.helpers.steedos_form = function () {
    return this.form_version;
  };

  InstanceformTemplate.helpers.isSection = function (code) {
    var form_version;
    form_version = this.form_version;
    return form_version.fields.findPropertyByPK("code", code).type === 'section';
  };

  InstanceformTemplate.helpers.doc_values = function () {
    var instance;
    instance = this.instance;
    return instance.values;
  };

  InstanceformTemplate.helpers.applicantContext = function () {
    var data, instance;
    instance = this.instance;
    return data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: instance.applicant_name
    };
  };

  InstanceformTemplate.helpers.instance = function () {
    return this.instance;
  };

  InstanceformTemplate.helpers.fields = function () {
    var form_version;
    form_version = this.form_version;

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  };

  InstanceformTemplate.helpers.form_types = function () {
    return "disabled";
  };

  Template.registerHelper("afFieldLabelText", function (op) {
    var form_version, ref;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, op != null ? (ref = op.hash) != null ? ref.name : void 0 : void 0);
  });

  InstanceformTemplate.helpers._t = function (key) {
    var locale;
    locale = this.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceformTemplate.helpers.ins_attach_download_url = function (_id, absolute) {
    if (absolute) {
      return Meteor.absoluteUrl("/api/files/instances/" + _id + "?download=true");
    } else {
      return "/api/files/instances/" + _id + "?download=true";
    }
  };

  InstanceformTemplate.helpers.options = function (field) {
    var options, ref, rev;
    options = field != null ? (ref = field.options) != null ? ref.split("\n") : void 0 : void 0;
    rev = [];

    if (options != null) {
      options.forEach(function (item) {
        return rev.push({
          label: item,
          value: item
        });
      });
    }

    return rev;
  };

  InstanceformTemplate.helpers.getPermissions = function (code) {
    var ref;

    if (!((ref = Template.instance().view.template.steedosData.startStepEditableFields) != null ? ref.includes(code) : void 0)) {
      return "readonly disabled";
    }

    return "";
  };
}

InstanceformTemplate.events = {
  'change .form-control,.checkbox input,.af-radio-group input,.af-checkbox-group input': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'typeahead:change .form-control': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'click .cfTextarea a': function (event) {
    event.preventDefault();
    return Steedos.openWindow(event.target.href);
  }
};

InstanceformTemplate.onCreated = function () {
  var compiled, e, instance, instanceCustomTemplate, instanceView, renderFunction, template;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  template = TemplateManager.getTemplate(instance);

  try {
    compiled = SpacebarsCompiler.compile(template, {
      isBody: true
    });
  } catch (error1) {
    e = error1;
    console.log("Instance Template Error", e);
    compiled = SpacebarsCompiler.compile("", {
      isBody: true
    });
  }

  renderFunction = eval(compiled);
  instanceView = new Blaze.View("custom_instance_template", renderFunction);
  instanceCustomTemplate = new Blaze.Template(instanceView.name, renderFunction);
  Template.instance_custom_template = instanceCustomTemplate;
  return Template.instance_custom_template.helpers(InstanceformTemplate.helpers);
};

InstanceformTemplate.onRendered = function () {
  var currentApprove, currentStep, form_version, formula_fields, instance, instanceNumberFields, judge, ref;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  if ((ref = $("input[name='ins_applicant']")[0]) != null) {
    ref.dataset.values = instance.applicant;
  }

  $("input[name='ins_applicant']").val(instance.applicant_name);
  ApproveManager.error = {
    nextSteps: '',
    nextStepUsers: ''
  };

  if (Session.get("box") === 'inbox' || Session.get("box") === 'draft') {
    InstanceEvent.initEvents(instance.flow);
  }

  if (!ApproveManager.isReadOnly()) {
    currentApprove = InstanceManager.getCurrentApprove();
    instanceNumberFields = $("[data-formula]", $("#instanceform"));
    instanceNumberFields.each(function () {
      var element, schemaKey;
      schemaKey = this.dataset.schemaKey;
      element = $(this);

      if (!$(this).val() && schemaKey && Session.get("instanceId")) {
        return Meteor.call('getInstanceValues', Session.get("instanceId"), function (error, result) {
          var key, ref1;

          if (error) {
            toastr.error(error.reason);
          }

          if (!result[schemaKey]) {
            key = (ref1 = element.data("formula")) != null ? ref1.replace("auto_number(", "").replace(")", "") : void 0;
            key = key.replace(/\"/g, "").replace(/\'/g, "");

            if (key.indexOf("{") > -1) {
              key = key.replace("{", "").replace("}", "");
              key = key.trim();
              key = AutoForm.getFieldValue(key, 'instanceform');
            }

            return InstanceNumberRules.instanceNumberBuilder(element, key);
          } else {
            return element != null ? element.val(result[schemaKey]).trigger("change") : void 0;
          }
        });
      }
    });
    judge = currentApprove.judge;
    currentStep = InstanceManager.getCurrentStep();
    form_version = WorkflowManager.getInstanceFormVersion();
    formula_fields = Form_formula.getFormulaFieldVariable("Form_formula.field_values", form_version.fields);
    Form_formula.run("", "", formula_fields, AutoForm.getFormValues("instanceform").insertDoc, form_version.fields);
    return Session.set("instance_form_values", {
      instanceId: instance._id,
      values: AutoForm.getFormValues("instanceform").insertDoc
    });
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_attachments.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_attachments.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
InstanceAttachmentTemplate.helpers = {
  showMainTitle: function () {
    return Template.instance().workflowMainAttachTitle.get();
  },
  enabled_add_main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    var current_step = InstanceManager.getCurrentStep();
    if (!current_step) return false; // 分发的正文或者附件不显示转为pdf按钮
    // 如果有正文权限则为正文，否则分发为附件
    // 分发的附件不允许修改 删除 新增版本

    var main_attach_count = cfs.instances.find({
      'metadata.instance': ins._id,
      'metadata.current': true,
      'metadata.main': true
    }).count();
    var distribute_main_attach_count = 0;

    if (ins.distribute_from_instance) {
      var start_step = InstanceManager.getStartStep();

      if (start_step.can_edit_main_attach) {
        var distribute_main_attach_count = cfs.instances.find({
          'metadata.instance': ins.distribute_from_instance,
          'metadata.current': true,
          'metadata.main': true
        }).count();
      }
    }

    if (current_step.can_edit_main_attach == true && main_attach_count < 1 && distribute_main_attach_count < 1) {
      return true;
    } // 正文最多只能有一个


    if (main_attach_count >= 1 || distribute_main_attach_count >= 1) {
      return false;
    } // 开始节点并且设置了可以上传正文才显示上传正文的按钮


    var current_step = InstanceManager.getCurrentStep();
    if (current_step && current_step.step_type == "start" && current_step.can_edit_main_attach == true) return true;
    return false;
  },
  enabled_edit_normal_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;
    var flow = WorkflowManager.getFlow(ins.flow);
    if (!flow) return false; // 分发后的 附件，不可以编辑/删除，也不让上传新的附件, 流程列表：添加属性 ‘被分发后是否允许上传附件’ #1837

    if (ins.distribute_from_instance && !flow.upload_after_being_distributed) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    if (InstanceManager.isCC(ins)) {
      var step = InstanceManager.getCCStep();
      if (step && (step.can_edit_normal_attach == true || step.can_edit_normal_attach == undefined)) return true;
    } else {
      var current_step = InstanceManager.getCurrentStep();
      if (current_step && (current_step.can_edit_normal_attach == true || current_step.can_edit_normal_attach == undefined)) return true;
    }

    return false;
  },
  main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var start_step = InstanceManager.getStartStep(); // 如果是被分发的申请单并且有修改正文的权限，则优先显示原申请单文件

    var main_attach = null;

    if (ins.distribute_from_instance && start_step.can_edit_main_attach == true) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins.distribute_from_instance,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    if (!main_attach) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins._id,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    return main_attach;
  },
  normal_attachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var selector = {
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      }
    };
    var atts = new Array();

    if (ins.distribute_from_instance) {
      // 如果是被分发的申请单，则显示原申请单文件, 如果选择了将原表单存储为附件也要显示, 同时也要显示新上传的附件
      var dfis = _.clone(ins.distribute_from_instances) || [];
      dfis.push(ins._id);
      selector['metadata.instance'] = {
        $in: dfis
      };
      selector["$or"] = [{
        "metadata.instance": ins._id
      }, {
        "metadata.instance": {
          $in: ins.distribute_from_instances
        },
        "metadata.is_private": {
          $ne: true
        }
      }]; // 如果原申请单有正文但是分发后没有正文权限，则原申请单正文显示在附件栏

      var start_step = InstanceManager.getStartStep();

      if (start_step && start_step.can_edit_main_attach != true) {
        var distribute_main = cfs.instances.findOne({
          'metadata.instance': {
            $in: ins.distribute_from_instances
          },
          'metadata.current': true,
          'metadata.main': true
        });

        if (distribute_main) {
          var firstVersionMain = cfs.instances.findOne(distribute_main.metadata.parent);
          distribute_main.attachmentUploadedAt = firstVersionMain ? firstVersionMain.uploadedAt : distribute_main.uploadedAt;
          atts.push(distribute_main);
        }
      }
    } else {
      selector['metadata.instance'] = ins._id;
    }

    cfs.instances.find(selector).forEach(function (c) {
      var firstVersion = cfs.instances.findOne(c.metadata.parent);
      c.attachmentUploadedAt = firstVersion ? firstVersion.uploadedAt : c.uploadedAt;
      atts.push(c);
    });
    return _.sortBy(atts, 'attachmentUploadedAt');
  },
  showAttachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false; // 如果是被分发的申请单，则显示原申请单文件 和分发后申请单文件

    var instanceIds = _.clone(ins.distribute_from_instances) || [];
    instanceIds.push(ins._id);
    var attachments_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).count();
    if (Session && Session.get("instancePrint") && attachments_count < 1) return false;
    if (Session.get("box") == "draft" || Session.get("box") == "inbox" || attachments_count > 0) return true;else return false;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  _: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  flow_files: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    return cfs.files.find({
      'metadata.space': ins.space,
      'metadata.object_name': 'flows',
      'metadata.record_id': ins.flow
    });
  },
  isDraftAndFlowfilesExist: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    return Session.get('box') == 'draft' && !!cfs.files.find({
      'metadata.space': ins.space,
      'metadata.object_name': 'flows',
      'metadata.record_id': ins.flow
    }).count();
  }
};

if (Meteor.isServer) {
  InstanceAttachmentTemplate.helpers._t = function (key) {
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceAttachmentTemplate.helpers.enabled_add_main_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.enabled_edit_normal_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.main_attachment = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var attachment = cfs.instances.findOne({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    });
    return attachment;
  };

  InstanceAttachmentTemplate.helpers.normal_attachments = function () {
    var steedosData = Template.instance().view.template.steedosData;
    var instance = steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      },
      $or: [{
        'metadata.is_private': {
          $ne: true
        }
      }, {
        'metadata.is_private': true,
        "metadata.owner": steedosData.userId
      }]
    }).fetch();
    return attachments;
  };

  InstanceAttachmentTemplate.helpers.showAttachments = function () {
    var instance = Template.instance().view.template.steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).fetch();

    if (attachments && attachments.length > 0) {
      return true;
    }

    return false;
  };

  InstanceAttachmentTemplate.helpers.showMainTitle = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var main_attach_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    }).count();
    return main_attach_count > 0;
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_sign_text.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_sign_text.coffee                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceSignText.helpers = {
  show: function (stepName) {
    var instance, myApprove, myTrace, ref;

    if (Meteor.isClient) {
      if (Session.get('instancePrint')) {
        return false;
      }

      if (InstanceManager.isInbox()) {
        myApprove = InstanceManager.getCurrentApprove();

        if (myApprove) {
          instance = WorkflowManager.getInstance();
          myTrace = instance != null ? (ref = instance.traces) != null ? ref.findPropertyByPK("_id", myApprove.trace) : void 0 : void 0;
          return (myTrace != null ? myTrace.name : void 0) === stepName;
        }
      }
    }

    return false;
  },
  defaultDescription: function () {
    return Template.instance().data.default_description;
  },
  traces: function () {
    return InstanceformTemplate.helpers.traces();
  },
  trace: function (stepName, only_cc_opinion, image_sign, top_keywords) {
    var approve_sort, approves, approvesGroup, approves_sorted, completed_date, hasNext, haveDescriptionApprove, instance, is_completed, ref, ref1, ref2, traces;
    instance = InstanceformTemplate.helpers.instance();
    is_completed = (instance != null ? instance.state : void 0) === "completed";
    completed_date = is_completed ? (ref = _.last(instance.traces)) != null ? (ref1 = ref.finish_date) != null ? ref1.getTime() : void 0 : void 0 : 0;

    if (is_completed && instance.finish_date) {
      completed_date = (ref2 = instance.finish_date) != null ? ref2.getTime() : void 0;
    }

    traces = InstanceformTemplate.helpers.traces();
    approves = _.clone(traces[stepName]);

    approve_sort = function (approves, top_keywords) {
      var approves_sorted, top_approves;
      approves_sorted = _.sortBy(approves, function (approve) {
        return -(approve.finish_date || new Date()).getTime();
      });

      if (top_keywords) {
        top_approves = new Array();
        top_keywords.split(",").forEach(function (key) {
          return top_approves = _.union(top_approves, _.filter(approves_sorted, function (approve) {
            var ref3;
            return (approve != null ? (ref3 = approve.handler_name) != null ? ref3.indexOf(key) : void 0 : void 0) > -1;
          }));
        });
        top_approves = _.sortBy(top_approves, function (top_approve) {
          return -(top_approve.finish_date || new Date()).getTime();
        });
        approves_sorted = _.union(top_approves, approves_sorted);
      }

      return approves_sorted || [];
    };

    approves = _.filter(approves, function (a) {
      return a.type !== "forward" && a.type !== "distribute" && a.type !== "terminated";
    });

    if (only_cc_opinion) {
      approves = approves != null ? approves.filterProperty("type", "cc") : void 0;
    }

    approves_sorted = approve_sort(approves, top_keywords);
    approvesGroup = _.groupBy(approves, "handler");

    hasNext = function (approve, approvesGroup) {
      var handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      return _.indexOf(handlerApproves, approve) + 1 < handlerApproves.length;
    };

    haveDescriptionApprove = function (approve, approvesGroup) {
      var descriptionApproves, handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      descriptionApproves = _.filter(handlerApproves, function (a) {
        if (a.description) {
          return true;
        }

        return false;
      });

      if (descriptionApproves.length === 0) {
        return false;
      }

      return true;
    };

    approves_sorted.forEach(function (approve) {
      if (approve.sign_show !== false && (approve.description || !approve.description && !hasNext(approve, approvesGroup))) {
        if (approve.judge !== 'terminated') {
          return approve._display = true;
        }
      }
    });
    approves_sorted = _.filter(approves_sorted, function (a) {
      var ref3;

      if (is_completed) {
        return a._display === true && a.is_finished && ((ref3 = a.finish_date) != null ? ref3.getTime() : void 0) <= completed_date;
      } else {
        return a._display === true;
      }
    });
    return approves_sorted;
  },
  include: function (a, b) {
    return InstanceformTemplate.helpers.include(a, b);
  },
  unempty: function (val) {
    return InstanceformTemplate.helpers.unempty(val);
  },
  formatDate: function (date, options) {
    if (!options) {
      options = {
        "format": "YYYY-MM-DD"
      };
    }

    return InstanceformTemplate.helpers.formatDate(date, options);
  },
  isMyApprove: function (approve, only_cc_opinion) {
    var currentApprove, ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
      currentApprove = InstanceManager.getCurrentApprove();

      if (!(approve != null ? approve._id : void 0)) {
        approve = currentApprove;
      }

      if (approve._id === (currentApprove != null ? currentApprove._id : void 0) && (currentApprove != null ? currentApprove.type : void 0) === 'cc' && Template.instance().data.name) {
        if (_.indexOf(currentApprove != null ? currentApprove.opinion_fields_code : void 0, Template.instance().data.name) > -1) {
          return true;
        } else {
          return false;
        }
      }

      if (!((currentApprove != null ? currentApprove.type : void 0) === 'cc') && only_cc_opinion) {
        return false;
      }

      if (currentApprove && approve._id === currentApprove._id) {
        return true;
      }
    }

    return false;
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1, ref2, ref3;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!myApprove.sign_field_code || myApprove.sign_field_code === ((ref2 = Template.instance()) != null ? (ref3 = ref2.data) != null ? ref3.name : void 0 : void 0)) {
            if (!Session.get("instance_my_approve_description")) {
              return (myApprove != null ? myApprove.description : void 0) || "";
            }

            return Session.get("instance_my_approve_description");
          }
        }
      }
    }
  },
  now: function () {
    return new Date();
  },
  isReadOnly: function () {
    if (Meteor.isClient) {
      return ApproveManager.isReadOnly();
    }

    return false;
  },
  isOpinionOfField: function (approve) {
    if (approve.type === "cc" && Template.instance().data.name) {
      if (Template.instance().data.name === approve.sign_field_code) {
        return true;
      } else {
        return false;
      }
    } else {
      return true;
    }
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  steps: function (field_formula, step, only_cc_opinion, image_sign) {
    var ref, ref1, ref2, steps;
    steps = [];

    if (!step) {
      if (!field_formula) {
        field_formula = (ref = WorkflowManager.getInstanceFormVersion()) != null ? (ref1 = ref.fields) != null ? ref1.findPropertyByPK("code", this.name).formula : void 0 : void 0;
      }

      steps = InstanceformTemplate.helpers.getOpinionFieldStepsName(field_formula, (ref2 = Template.instance()) != null ? ref2.data.top_keywords : void 0);
    } else {
      steps = [{
        stepName: step,
        only_cc_opinion: only_cc_opinion,
        image_sign: image_sign
      }];
    }

    return steps;
  },
  imageSignData: function (handler) {
    return {
      user: handler
    };
  },
  showSignImage: function (handler, image_sign) {
    var spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if ((spaceUserSign != null ? spaceUserSign.sign : void 0) && image_sign) {
      return true;
    } else {
      return false;
    }
  },
  getLastSignApprove: function () {
    var ins;
    ins = WorkflowManager.getInstance();
    return _.last(TracesManager.getHandlerSignShowApproves(ins, Meteor.userId()));
  },
  lastMyApproveDescription: function () {
    var approves, currentStep, ref, traces;
    traces = InstanceformTemplate.helpers.traces();
    currentStep = InstanceManager.getCurrentStep();
    approves = _.clone(traces[currentStep.name]);
    approves = approves.filterProperty("handler", Meteor.userId());

    if (approves.length > 1) {
      return (ref = approves[approves.length - 2]) != null ? ref.description : void 0;
    }

    return "";
  },
  showApprove: function (approve) {
    var ref, ref1;

    if (!approve.sign_field_code || approve.sign_field_code === ((ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0)) {
      if (approve != null ? approve.is_read : void 0) {
        if (approve.is_finished) {
          return ["approved", "rejected", "submitted", "readed"].includes(approve.judge);
        } else {
          return true;
        }
      }
    }

    return false;
  },
  judge_description: function (judge) {
    return t(judge + "_description");
  },
  is_approved: function (judge) {
    return "approved" === judge;
  },
  is_rejected: function (judge) {
    return "rejected" === judge;
  },
  is_readed: function (judge) {
    return ["approved", "rejected", "submitted", "readed"].includes(judge);
  },
  addClass: function () {
    var name, ref, ref1;
    name = (ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0;
    setTimeout(function () {
      var e, element;

      try {
        element = $(".automatic.opinion-field-" + name);

        if (element.length > 0) {
          if (element != null ? element.is("td") : void 0) {
            return element.addClass('field-editable');
          } else {
            return $(".instance-sign", element).addClass('field-editable');
          }
        }
      } catch (error) {
        e = error;
        return console.log(e);
      }
    }, 1);
    return '';
  }
};

if (Meteor.isServer) {
  InstanceSignText.helpers.defaultDescription = function () {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return Template.instance().data.default_description || TAPi18n.__("instance_default_opinion", {}, locale);
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_help.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_help.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesTemplate.helpers = {
  equals: function (a, b) {
    return a === b;
  },
  empty: function (a) {
    if (a) {
      return a.toString().trim().length < 1;
    } else {
      return true;
    }
  },
  unempty: function (a) {
    if (a) {
      return a.toString().trim().length > 0;
    } else {
      return false;
    }
  },
  append: function (a, b) {
    return a + b;
  },
  dateFormat: function (date) {
    if (Steedos.isMobile() && (date != null ? date.getFullYear() : void 0) === new Date().getFullYear()) {
      return $.format.date(new Date(date), "MM-dd HH:mm");
    } else {
      return $.format.date(new Date(date), "yyyy-MM-dd HH:mm");
    }
  },
  getStepName: function (stepId) {
    var step;
    step = WorkflowManager.getInstanceStep(stepId);

    if (step) {
      return step.name;
    }

    return null;
  },
  showDeleteButton: function (approved) {
    if (approved && approved.type === 'cc' && approved.from_user === Meteor.userId() && approved.is_finished !== true && !Session.get("instancePrint")) {
      return true;
    }

    return false;
  },
  isShowModificationButton: function (approved) {
    var approve_admins, isShow, ref, ref1, ref2;
    approve_admins = (ref = Meteor.settings) != null ? (ref1 = ref["public"]) != null ? (ref2 = ref1.workflow) != null ? ref2.approve_admins : void 0 : void 0 : void 0;

    if (approve_admins != null ? approve_admins.length : void 0) {
      isShow = approve_admins != null ? approve_admins.contains(Meteor.userId()) : void 0;
    }

    if (!isShow) {
      return false;
    }

    return approved.handler === Meteor.userId();
  },
  isEditing: function () {
    var ref;
    return (ref = Template.instance().is_editing) != null ? ref.get() : void 0;
  },
  isShowDescription: function (approved) {
    var ref;

    if (TracesTemplate.helpers.isShowModificationButton(approved)) {
      return true;
    }

    return ((ref = approved.description) != null ? ref.toString().trim().length : void 0) > 0;
  },
  isCC: function (approved) {
    if (approved && approved.type === 'cc') {
      return true;
    }

    return false;
  },
  getApproveStatusIcon: function (approveJudge, autoSubmitted) {
    var approveStatusIcon;

    if (autoSubmitted === true) {
      return 'ion ion-android-alarm-clock';
    }

    approveStatusIcon = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusIcon = 'ion ion-checkmark-round';
        break;

      case 'rejected':
        approveStatusIcon = 'ion ion-close-round';
        break;

      case 'terminated':
        approveStatusIcon = 'fa fa-ban';
        break;

      case 'reassigned':
        approveStatusIcon = 'ion ion-android-contact';
        break;

      case 'relocated':
        approveStatusIcon = 'ion ion-arrow-shrink';
        break;

      case 'retrieved':
        approveStatusIcon = 'fa fa-undo';
        break;

      default:
        approveStatusIcon = '';
        break;
    }

    return approveStatusIcon;
  },
  getApproveStatusText: function (approveJudge, autoSubmitted) {
    var approveStatusText, locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (autoSubmitted === true) {
      return TAPi18n.__('instance_approve_timeout_auto_submitted', {}, locale);
    }

    approveStatusText = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusText = TAPi18n.__('Instance State approved', {}, locale);
        break;

      case 'rejected':
        approveStatusText = TAPi18n.__('Instance State rejected', {}, locale);
        break;

      case 'terminated':
        approveStatusText = TAPi18n.__('Instance State terminated', {}, locale);
        break;

      case 'reassigned':
        approveStatusText = TAPi18n.__('Instance State reassigned', {}, locale);
        break;

      case 'relocated':
        approveStatusText = TAPi18n.__('Instance State relocated', {}, locale);
        break;

      case 'retrieved':
        approveStatusText = TAPi18n.__('Instance State retrieved', {}, locale);
        break;

      case 'returned':
        approveStatusText = TAPi18n.__('Instance State returned', {}, locale);
        break;

      case 'readed':
        approveStatusText = TAPi18n.__('Instance State readed', {}, locale);
        break;

      default:
        approveStatusText = '';
        break;
    }

    return approveStatusText;
  },
  getApproveJudgeClass: function (approveJudge, autoSubmitted) {
    if (autoSubmitted === true) {
      return 'autoSubmitted';
    }

    return approveJudge;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!Session.get("instance_my_approve_description")) {
            return (myApprove != null ? myApprove.description : void 0) || "";
          }

          return Session.get("instance_my_approve_description");
        }
      }
    }
  },
  isForward: function (approved) {
    if (approved && approved.type === 'forward') {
      return true;
    }

    return false;
  },
  showForwardDeleteButton: function (approve) {
    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'forward' && approve.from_user === Meteor.userId() && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      return true;
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  isDistribute: function (approve) {
    if (approve && approve.type === 'distribute') {
      return true;
    }

    return false;
  },
  showDistributeDeleteButton: function (approve) {
    var ins;

    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'distribute' && !Session.get("instancePrint") && approve.judge !== 'terminated' && Steedos.isLegalVersion('', "workflow.enterprise")) {
      ins = db.instances.findOne({
        _id: approve.instance
      }, {
        fields: {
          flow: 1,
          space: 1
        }
      });

      if (ins && ins.flow && ins.space) {
        if (WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, Meteor.userId())) {
          return true;
        }
      }

      if (approve.from_user === Meteor.userId()) {
        return true;
      }
    }

    return false;
  },
  finishDateSchema: function () {
    if (Steedos.isAndroidOrIOS()) {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "datetime-local"
          },
          optional: false,
          type: Date
        }
      });
    } else {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "bootstrap-datetimepicker",
            readonly: true,
            dateTimePickerOptions: {
              format: "YYYY-MM-DD HH:mm",
              ignoreReadonly: true,
              locale: Session.get("TAPi18n::loaded_lang"),
              widgetPositioning: {
                horizontal: 'right'
              }
            }
          },
          optional: false,
          type: Date
        }
      });
    }
  },
  finishDateValues: function () {
    return {
      finish_date: this.finish_date
    };
  },
  /*
     	此函数用于控制是否显示traces view
     	true: 显示traces view,签核历程按钮点击后是直接定位到traces view
     	false: 不显示traces view，签核历程按钮点击后,以Modal 方式显示traces view
   */showTracesView: function (form, form_version) {
    var ref, show_modal_traces_list;
    show_modal_traces_list = ((ref = db.space_settings.findOne({
      space: Session.get("spaceId"),
      key: "show_modal_traces_list"
    })) != null ? ref.values : void 0) || false;
    return !show_modal_traces_list;
  },
  getInstanceStateText: function (instance_id) {
    var ins, locale, text;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return TAPi18n.__('instance_deleted', {}, locale);
    }

    text = '';

    if (ins.state === 'completed') {
      text = TAPi18n.__('completed', {}, locale);
    } else if (ins.state === 'pending') {
      text = TAPi18n.__('pending', {}, locale);
    } else if (ins.state === 'draft') {
      if (ins.is_read) {
        text = TAPi18n.__('instance_approve_read', {}, locale);
      } else {
        text = TAPi18n.__('instance_approve_not_yet_handled', {}, locale);
      }
    }

    return text;
  },
  getInstanceStateColor: function (instance_id) {
    var cla, ins;
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return "";
    }

    cla = '';

    if (ins.state === 'draft') {
      if (ins.is_read) {
        cla = 'blue';
      } else {
        cla = 'red';
      }
    }

    return cla;
  },
  firstTrace: function (index) {
    return index === 0;
  },
  last_distribute_from: function (instance_id) {
    var dis_info, ins, user;
    ins = db.instances.findOne({
      _id: instance_id,
      distribute_from_instance: {
        $exists: true
      }
    }, {
      fields: {
        created: 1,
        created_by: 1
      }
    });

    if (ins) {
      dis_info = {};
      user = {};

      if (Meteor.isClient) {
        user = UUflow_api.getNameForUser(ins.created_by);
      } else if (Meteor.isServer) {
        user = db.users.findOne({
          _id: ins.created_by
        }, {
          fields: {
            name: 1
          }
        });
      }

      if (user.name) {
        dis_info.from_user = user._id;
        dis_info.from_user_name = user.name;
        dis_info.created = ins.created;
      }

      if (!_.isEmpty(dis_info)) {
        return dis_info;
      }
    }
  },
  isCCOrDistributeOrForwardTerminated: function (approve) {
    if ((approve.type === 'cc' || approve.type === 'distribute' || approve.type === 'forward') && approve.judge === 'terminated') {
      return true;
    }

    return false;
  },
  judgeTerminated: function (judge) {
    return judge === 'terminated';
  },
  instanceExists: function (instance_id) {
    return !!db.instances.find(instance_id).count();
  },
  agentDescription: function (userName) {
    var locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    return TAPi18n.__('process_delegation_rules_description', {
      userName: userName
    }, locale);
  },
  traceName: function (instance_id, traceId) {
    var ref, ref1;
    return (ref = _.find((ref1 = db.instances.findOne(instance_id, {
      fields: {
        traces: 1
      }
    })) != null ? ref1.traces : void 0, function (trace) {
      return trace._id === traceId;
    })) != null ? ref.name : void 0;
  },
  objectUrl: function (object_name, record_id, app_id) {
    return Creator.getObjectUrl(object_name, record_id, app_id);
  }
};

if (Meteor.isServer) {
  TracesTemplate.helpers.dateFormat = function (date) {
    var utcOffset;

    if (date) {
      utcOffset = Template.instance().view.template.steedosData.utcOffset;
      return InstanceReadOnlyTemplate.formatDate(date, utcOffset);
    }
  };

  TracesTemplate.helpers._t = function (key) {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  TracesTemplate.helpers.showDeleteButton = function (approved) {
    return false;
  };
}

TracesTemplate.events = {
  'click .cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    event.stopPropagation();

    if (event.currentTarget.dataset.calling * 1 !== 1) {
      event.currentTarget.dataset.calling = 1;
      $("i", event.currentTarget).addClass("fa-spin");
      instanceId = Session.get('instanceId');
      approveId = event.target.dataset.approve;
      $("body").addClass("loading");
      Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
        $("body").removeClass("loading");

        if (err) {
          toastr.error(err);
          event.currentTarget.dataset.calling = 0;
          $("i", event.currentTarget).removeClass("fa-spin");
        }

        if (result === true) {
          toastr.success(TAPi18n.__("remove_cc_approve"));

          if ($(".instance-trace-detail-modal").length) {
            Modal.hide("instance_trace_detail_modal");
          }
        }
      });
    }
  },
  'click .instance-trace-detail-modal .btn-cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    $("body").addClass("loading");
    Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(err);
      }

      if (result === true) {
        toastr.success(TAPi18n.__("remove_cc_approve"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      return Modal.show("instance_trace_detail_modal", this);
    }
  },
  'taphold .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      return Modal.show("instance_trace_detail_modal", this);
    }
  },
  'click .approve-item a.btn-link,.approve-description a.btn-link,.approve-item-distribute a.btn-link': function (event, template) {
    var ref, userId;

    if (Steedos.isMobile()) {
      userId = (ref = event.target.dataset) != null ? ref.target_user_id : void 0;
      return Creator.openSafeObjectUrl('users', userId);
    }
  },
  'tapend .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      event.stopPropagation();
      event.preventDefault();
      return false;
    }
  },
  'click .instance-trace-detail-modal .btn-forward-approve-remove': function (event, template) {
    var approveId, instanceId, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    $("body").addClass("loading");
    Meteor.call('forward_remove', instanceId, traceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(TAPi18n.__("instance_approve_forward_remove_success"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-forward-instance-look': function (event, template) {
    var forward_instance, forward_space;
    forward_space = event.target.dataset.forwardspace;
    forward_instance = event.target.dataset.forwardinstance;
    return Steedos.openWindow(Steedos.absoluteUrl("workflow/space/" + forward_space + "/view/readonly/" + forward_instance));
  },
  'click .btn-modification': function (event, template) {
    template.is_editing.set(!template.is_editing.get());

    if (!Steedos.isAndroidOrIOS()) {
      return Tracker.afterFlush(function () {
        return $("#instance_trace_detail_modal #finish_input").on("dp.show", function () {
          return $(".modal-body").scrollTop(100);
        });
      });
    }
  },
  'click .btn-cancelBut': function (event, template) {
    return template.is_editing.set(!template.is_editing.get());
  },
  'click .btn-saveBut': function (event, template) {
    var approveId, finish_input, instanceId, opinion_input, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    opinion_input = $('#opinion_input').val();
    finish_input = AutoForm.getFieldValue("finish_date", "finishDateAutoForm");
    $("body").addClass("loading");
    return Meteor.call('change_approve_info', instanceId, traceId, approveId, opinion_input, finish_input, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(t("instance_approve_modal_modificationsave"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-distribute-approve-remove': function (event, template) {
    Modal.allowMultiple = true;
    return Modal.show('cancel_distribute_modal');
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_instances.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedInstances.helpers = {
  showRelatedInstaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      if (db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).count() > 0) {
        return true;
      }

      return false;
    } else {
      return false;
    }
  },
  related_instaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      return db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).fetch();
    }
  },
  related_instace_url: function (ins) {
    var absolute;

    if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
      return '';
    }

    absolute = false;

    if (Meteor.isServer) {
      absolute = this.absolute;
    }

    if (absolute) {
      return Meteor.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    } else {
      return Steedos.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    }
  },
  _t: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  show_delete: function () {
    var current_step;

    if (!Meteor.isClient) {
      return false;
    } else {
      if (Session.get("box") === "draft" || Session.get("box") === 'inbox') {
        current_step = InstanceManager.getCurrentStep();

        if (current_step) {
          if (current_step.can_edit_main_attach || current_step.can_edit_normal_attach === true || current_step.can_edit_normal_attach === void 0) {
            return true;
          }
        }
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_records.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_records.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedRecords.helpers = {
  showRelatedRecords: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if (!ins) {
      return false;
    }

    return !_.isEmpty(ins.record_ids);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"routes":{"designer.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/designer.coffee                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var DesignerAPI;
DesignerAPI = {
  getAbsoluteUrl: function (url) {
    var rootUrl;
    rootUrl = __meteor_runtime_config__ ? __meteor_runtime_config__.ROOT_URL_PATH_PREFIX : "";

    if (rootUrl) {
      url = rootUrl + url;
    }

    return url;
  },
  writeResponse: function (res, httpCode, body) {
    res.statusCode = httpCode;
    return res.end(body);
  },
  sendInvalidURLResponse: function (res) {
    return this.writeResponse(res, 404, "the param 'url' is required as querys.");
  },
  sendAuthTokenExpiredResponse: function (res) {
    return this.writeResponse(res, 401, "the auth_token has expired.");
  },
  sendHtmlResponse: function (req, res, type) {
    var error_msg, query, title, url;
    query = req.query;
    url = query.url;

    if (url) {
      url = decodeURIComponent(url);
    } else {
      DesignerAPI.sendInvalidURLResponse(res);
    }

    title = query.title;

    if (title) {
      title = decodeURIComponent(title);
    } else {
      title = "Steedos Designer";
    }

    error_msg = "";
    return this.writeResponse(res, 200, "<html>\n	<head>\n		<style>\n			html,body{\n				margin: 0;\n				padding: 0;\n				height: 100%;\n			}\n			body { \n				font-family: 'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n				text-align: center;\n				background-color: #fff;\n			}\n			.loading{\n				position: absolute;\n				left: 0px;\n				right: 0px;\n				top: 50%;\n				z-index: -1;/*设置为-1，可以在iframe加载出来后自动消失*/\n				text-align: center;\n				margin-top: -30px;\n				font-size: 36px;\n				color: #dfdfdf;\n			}\n			.error-msg{\n				position: absolute;\n				left: 0px;\n				right: 0px;\n				bottom: 20px;\n				z-index: 1100;\n				text-align: center;\n				font-size: 20px;\n				color: #a94442;\n			}\n		</style>\n		<meta charset=\"utf-8\">\n		<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\">\n		<title>" + title + "</title>\n		<link rel=\"icon\" type=\"image/png\" sizes=\"192x192\" href=\"" + this.getAbsoluteUrl("/favicons/android-chrome-192x192.png") + "\">\n		<link rel=\"manifest\" href=\"" + this.getAbsoluteUrl("/favicons/manifest.json") + "\">\n		<meta name=\"mobile-web-app-capable\" content=\"yes\">\n		<meta name=\"theme-color\" content=\"#000\">\n		<meta name=\"application-name\">\n		<link rel=\"apple-touch-icon\" sizes=\"57x57\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-57x57.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"60x60\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-60x60.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-72x72.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-76x76.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-114x114.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"120x120\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-120x120.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"144x144\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-144x144.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"152x152\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-152x152.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-180x180.png") + "\">\n		<meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n		<meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\">\n		<meta name=\"apple-mobile-web-app-title\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"228x228\" href=\"" + this.getAbsoluteUrl("/favicons/coast-228x228.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-16x16.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-32x32.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"96x96\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-96x96.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"230x230\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-230x230.png") + "\">\n		<link rel=\"shortcut icon\" href=\"" + this.getAbsoluteUrl("/favicons/favicon.ico") + "\">\n		<link rel=\"yandex-tableau-widget\" href=\"" + this.getAbsoluteUrl("/favicons/yandex-browser-manifest.json") + "\">\n		<meta name=\"msapplication-TileColor\" content=\"#fff\">\n		<meta name=\"msapplication-TileImage\" content=\"" + this.getAbsoluteUrl("/favicons/mstile-144x144.png") + "\">\n		<meta name=\"msapplication-config\" content=\"" + this.getAbsoluteUrl("/favicons/browserconfig.xml") + "\">\n		<meta property=\"twitter:image\" content=\"" + this.getAbsoluteUrl("/favicons/twitter.png") + "\">\n		<meta property=\"og:image\" content=\"" + this.getAbsoluteUrl("/favicons/open-graph.png") + "\">\n	</head>\n	<body>\n		<div class = \"loading\">Loading...</div>\n		<div class = \"error-msg\">" + error_msg + "</div>\n		<iframe id=\"ifrDesigner\" src=\"\" width=\"100%\" height=\"100%\" nwdisable=\"true\" frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" allowtransparency=\"yes\"></iframe>\n		<script type=\"text/javascript\" src=\"" + this.getAbsoluteUrl("/lib/jquery/jquery-1.11.2.min.js") + "\"></script>\n		<script type=\"text/javascript\">\n			var designer = {\n				urlQuery:function(name){\n					var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n					var r = window.location.search.substr(1).match(reg);\n					if (r != null) return unescape(r[2]);\n					return null;\n				},\n				run:function(){\n					var url = this.urlQuery(\"url\");\n					url = decodeURIComponent(url);\n					\n					if(url){\n						$(\"#ifrDesigner\").attr(\"src\",url);\n					}\n					var Steedos = window.opener.Steedos || null;\n					if (Steedos) {\n						Steedos.forbidNodeContextmenu(window);\n					}\n				}\n			};\n			$(function(){\n				designer.run();\n			});\n		</script>\n	<body>\n</html>");
  }
};
JsonRoutes.add('get', '/api/workflow/designer?url=:url', function (req, res, next) {
  return DesignerAPI.sendHtmlResponse(req, res);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"nextStepUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/nextStepUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/nextStepUsers", function (req, res, next) {
  var deal_type = req.query.deal_type,
      spaceId = req.query.spaceId,
      error = "";

  if (!deal_type || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var body = req.body,
      nextStepUsers = [];

  switch (deal_type) {
    case 'specifyUser':
      var specifyUserIds = body.specifyUserIds;
      nextStepUsers = WorkflowManager.getUsers(spaceId, specifyUserIds);
      break;

    case 'applicantRole':
      var applicantId = body.applicantId,
          approveRoleIds = body.approveRoleIds;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);
      if (applicant) nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, applicant.organizations, approveRoleIds);
      break;

    case 'hrRole':
      var approveHrRoleIds = body.approveHrRoleIds;
      if (approveHrRoleIds) nextStepUsers = WorkflowManager.getHrRolesUsers(spaceId, approveHrRoleIds);
      break;

    case 'applicantSuperior':
      var applicantId = body.applicantId;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);

      if (applicant.manager) {
        nextStepUsers = WorkflowManager.getUsers(spaceId, applicant.manager);
      }

      break;

    case 'applicant':
      var applicantId = body.applicantId;
      nextStepUsers = WorkflowManager.getUsers(spaceId, applicantId);
      break;

    case 'userField':
      var userField = body.userField,
          userFieldValue = body.userFieldValue;

      if (userField.is_multiselect) {
        //如果多选，以userFieldValue值为Array
        nextStepUsers = WorkflowManager.getUsers(spaceId, userFieldValue);
      } else {
        nextStepUsers.push(WorkflowManager.getUser(spaceId, userFieldValue));
      }

      break;

    case 'orgField':
      var orgs,
          orgChildrens,
          orgField = body.orgField,
          orgFieldValue = body.orgFieldValue;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          orgs = WorkflowManager.getOrganizations(orgFieldValue);
          orgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, orgFieldValue);
        } else {
          orgs = [WorkflowManager.getOrganization(orgFieldValue)];
          orgChildrens = WorkflowManager.getOrganizationChildrens(spaceId, orgFieldValue);
        }

        nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgChildrens);
        orgFieldUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgs);
        nextStepUsers = nextStepUsers.concat(orgFieldUsers);

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ORG_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'specifyOrg':
      var specifyOrgIds = body.specifyOrgIds;
      var specifyOrgs = WorkflowManager.getOrganizations(specifyOrgIds);
      var specifyOrgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, specifyOrgIds);
      nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgs);
      nextStepUsers = nextStepUsers.concat(WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgChildrens));
      break;

    case 'userFieldRole':
      var userField = body.userField,
          userFieldValue = body.userFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (userFieldValue) {
        if (userField.is_multiselect) {
          //如果多选，以userFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, userFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, [userFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'orgFieldRole':
      var orgField = body.orgField,
          orgFieldValue = body.orgFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, orgFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, [orgFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    default:
      break;
  }

  var result = [];
  nextStepUsers.forEach(function (su) {
    if (su.user_accepted) {
      var o = {
        id: su.id,
        name: su.name
      };
      result.push(o);
    }
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'nextStepUsers': WorkflowManager.uniqUsers(result),
      'error': error
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getSpaceUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getSpaceUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getSpaceUsers", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getUsers(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getFormulaUserObjects.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getFormulaUserObjects.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getFormulaUserObjects", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var users = WorkflowManager.getFormulaUserObject(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': users
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"init_formula_values.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/init_formula_values.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/init_formula_values", function (req, res, next) {
  var fields = req.body.fields,
      autoFormDoc = req.body.autoFormDoc,
      approver = req.body.approver,
      applicant = req.body.applicant,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!fields || !spaceId || !autoFormDoc || !approver || !applicant) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
    return;
  }

  formula_values = Form_formula.init_formula_values(fields, autoFormDoc, approver, applicant, spaceId);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'formula_values': formula_values
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getNameForUser.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getNameForUser.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/getNameForUser", function (req, res, next) {
  var e, user, userId;

  try {
    userId = req.body.userId;

    if (!userId) {
      JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'errors': '缺少参数'
        }
      });
    }

    user = WorkflowManager.getNameForUser(userId);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        user: user
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_designer_startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_designer_startup.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/designer/startup', function (req, res, next) {
  var categories, companyId, current_user, current_user_info, e, flows, forms, org, organizations, positions, query, ref, result, roles, spaceIds, spaceUsers, spaces, spacesQuery, userIds, users;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    companyId = ((ref = req.query) != null ? ref.companyId : void 0) || '';
    spacesQuery = {
      admins: current_user
    };

    if (companyId) {
      org = db.organizations.findOne(companyId, {
        fields: {
          space: 1
        }
      });

      if (!org) {
        throw new Meteor.Error('error', 'companyId is invalid');
      }

      spacesQuery = {
        _id: org.space
      };
    }

    spaces = db.spaces.find(spacesQuery).fetch();
    spaceIds = _.pluck(spaces, '_id');
    query = {
      space: {
        $in: spaceIds
      }
    };

    if (companyId) {
      query.company_id = companyId;
    }

    spaceUsers = db.space_users.find(query).fetch();
    forms = db.forms.find(query, {
      fields: {
        name: 1,
        state: 1,
        is_deleted: 1,
        is_valid: 1,
        space: 1,
        description: 1,
        help_text: 1,
        created: 1,
        created_by: 1,
        current: 1,
        category: 1,
        instance_style: 1,
        company_id: 1
      }
    }).fetch();
    flows = db.flows.find(query, {
      fields: {
        name: 1,
        name_formula: 1,
        code_formula: 1,
        space: 1,
        description: 1,
        is_valid: 1,
        form: 1,
        flowtype: 1,
        state: 1,
        is_deleted: 1,
        created: 1,
        created_by: 1,
        help_text: 1,
        current_no: 1,
        current: 1,
        perms: 1,
        error_message: 1,
        distribute_optional_users: 1,
        company_id: 1
      }
    }).fetch();
    roles = db.flow_roles.find(query).fetch();
    organizations = db.organizations.find(query).fetch();
    positions = db.flow_positions.find(query).fetch();
    categories = db.categories.find({
      space: {
        $in: spaceIds
      }
    }).fetch();
    userIds = _.pluck(spaceUsers, 'user');
    users = db.users.find({
      _id: {
        $in: userIds
      }
    }, {
      fields: {
        name: 1
      }
    }).fetch();
    result = {};
    result.SpaceUsers = spaceUsers;
    result.Users = users;
    result.Forms = forms;
    result.Flows = flows;
    result.Organizations = organizations;
    result.Positions = positions;
    result.Roles = roles;
    result.Categories = categories;
    result.Spaces = spaces;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: result
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_engine.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_engine.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/engine', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Approvals'], function (approve_from_client) {
      return uuflowManager.workflow_engine(approve_from_client, current_user_info, current_user);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_drafts.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/drafts', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var new_ins, new_ins_id;
      new_ins_id = uuflowManager.create_instance(instance_from_client, current_user_info);
      new_ins = db.instances.findOne({
        _id: new_ins_id
      }, {
        fields: {
          space: 1,
          flow: 1,
          flow_version: 1,
          form: 1,
          form_version: 1
        }
      });
      return inserted_instances.push(new_ins);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_remove.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_remove.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/remove', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, delete_obj, flow, inbox_users, instance, space, spaceUserOrganizations, space_id, space_user, user_ids;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      flow = db.flows.findOne({
        _id: instance.flow
      });
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: space_user.organizations
        }
      }).fetch();

      if (instance.submitter !== current_user && !space.admins.includes(current_user) && !WorkflowManager.canAdmin(flow, space_user, spaceUserOrganizations)) {
        throw new Meteor.Error('error!', "您不能删除此申请单。");
      }

      delete_obj = db.instances.findOne(instance_from_client["_id"]);
      delete_obj.deleted = new Date();
      delete_obj.deleted_by = current_user;
      db.deleted_instances.insert(delete_obj);
      db.instances.remove(instance_from_client["_id"]);

      if (delete_obj.state !== "draft") {
        inbox_users = delete_obj.inbox_users ? delete_obj.inbox_users : [];
        cc_users = delete_obj.cc_users ? delete_obj.cc_users : [];
        user_ids = _.uniq(inbox_users.concat(cc_users));

        _.each(user_ids, function (u_id) {
          return pushManager.send_message_to_specifyUser("terminate_approval", u_id);
        });

        return pushManager.send_instance_notification("monitor_delete_applicant", delete_obj, "", current_user_info);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_submit.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/submit', function (req, res, next) {
  var current_user, current_user_info, e, hashData, result;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    result = [];

    _.each(hashData['Instances'], function (instance_from_client) {
      var current_approve, flow_id, instance, r;
      r = uuflowManager.submit_instance(instance_from_client, current_user_info);

      if (r.alerts) {
        result.push(r);
      }

      if (!_.isEmpty(instance_from_client['inbox_users'])) {
        pushManager.send_message_to_specifyUser("current_user", current_user);
      }

      if (_.isEmpty(r.alerts)) {
        instance = db.instances.findOne(instance_from_client._id);
        flow_id = instance.flow;
        current_approve = instance_from_client.traces[0].approves[0];
        pushManager.triggerWebhook(flow_id, instance, current_approve, 'draft_submit', current_user, instance.inbox_users);
      }

      return uuflowManager.distributedInstancesRemind(instance_from_client);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        result: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_terminate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_terminate.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/terminate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var flow, flow_id, flow_ver_end_step, flow_vers, h, i, ins, instance, instance_flow_ver, instance_id, instance_trace, newApprove, newTrace, now, old_cc_users, old_inbox_users, old_outbox_users, permissions, r, setObj, space, space_id, space_user, space_user_org_info, tempUsers, terminate_reason, traces;
      terminate_reason = instance_from_client["terminate_reason"];
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      flow_id = instance.flow;
      space = uuflowManager.getSpace(space_id);
      flow = uuflowManager.getFlow(flow_id);
      uuflowManager.isInstancePending(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_flow_ver = null;
      flow_ver_end_step = null;
      flow_vers = new Array();
      flow_vers.push(flow.current);
      flow_vers = flow_vers.concat(flow.historys);
      instance_flow_ver = _.find(flow_vers, function (f_ver) {
        return f_ver._id === instance.flow_version;
      });

      if (!instance_flow_ver) {
        throw new Meteor.Error('error!', "未找到申请单对应流程版本");
      }

      flow_ver_end_step = _.find(instance_flow_ver.steps, function (f_step) {
        return f_step.step_type === "end";
      });
      permissions = permissionManager.getFlowPermissions(flow_id, current_user);
      now = new Date();
      setObj = new Object();

      if (permissions.includes("admin") || space.admins.includes(current_user) || instance.submitter === current_user || instance.applicant === current_user) {
        if (!terminate_reason) {
          throw new Meteor.Error('error!', "还未填写强制结束申请单的理由，操作失败");
        }

        instance_trace = _.find(instance.traces, function (trace) {
          return trace.is_finished === false;
        });
        traces = instance.traces;
        i = 0;

        while (i < traces.length) {
          if (traces[i].is_finished === false) {
            traces[i].is_finished = true;
            traces[i].finish_date = now;
            h = 0;

            while (h < traces[i].approves.length) {
              if (traces[i].approves[h].is_finished === false) {
                traces[i].approves[h].is_finished = true;
                traces[i].approves[h].finish_date = now;
                traces[i].approves[h].judge = null;
                traces[i].approves[h].description = null;
              }

              h++;
            }

            newApprove = new Object();
            newApprove._id = new Mongo.ObjectID()._str;
            newApprove.instance = instance_id;
            newApprove.trace = instance_trace._id;
            newApprove.is_finished = true;
            newApprove.user = current_user;
            newApprove.user_name = current_user_info.name;
            newApprove.handler = current_user;
            newApprove.handler_name = current_user_info.name;
            newApprove.handler_organization = space_user_org_info["organization"];
            newApprove.handler_organization_name = space_user_org_info["organization_name"];
            newApprove.handler_organization_fullname = space_user_org_info["organization_fullname"];
            newApprove.start_date = now;
            newApprove.finish_date = now;
            newApprove.due_date = instance_trace.due_date;
            newApprove.read_date = now;
            newApprove.judge = "terminated";
            newApprove.is_read = true;
            newApprove.description = terminate_reason;
            newApprove.is_error = false;
            newApprove.values = new Object();
            newApprove.cost_time = newApprove.finish_date - newApprove.start_date;
            traces[i].approves.push(newApprove);
          }

          i++;
        }

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [instance_trace._id];
        newTrace.is_finished = true;
        newTrace.step = flow_ver_end_step._id;
        newTrace.name = flow_ver_end_step.name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.judge = "terminated";
        setObj.state = "completed";
        setObj.final_decision = "terminated";
        old_inbox_users = instance.inbox_users;
        old_cc_users = instance.cc_users || [];
        old_outbox_users = instance.outbox_users;
        tempUsers = new Array();

        _.each(instance_trace.approves, function (nft_approve) {
          tempUsers.push(nft_approve.user);
          return tempUsers.push(nft_approve.handler);
        });

        setObj.outbox_users = _.uniq(instance.outbox_users.concat(tempUsers));
        setObj.inbox_users = new Array();
        setObj.cc_users = new Array();
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.current_step_name = flow_ver_end_step.name;
        setObj.current_step_auto_submit = false;
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          ins = uuflowManager.getInstance(instance_id);
          pushManager.send_instance_notification("submit_terminate_applicant", ins, terminate_reason, current_user_info);

          if (old_inbox_users) {
            _.each(_.uniq(old_inbox_users.concat(old_cc_users)), function (user_id) {
              return pushManager.send_message_to_specifyUser("terminate_approval", user_id);
            });
          }

          return pushManager.triggerWebhook(ins.flow, ins, {}, 'terminate', current_user, []);
        }
      }
    });

    pushManager.send_message_current_user(current_user_info);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_reassign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_reassign.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/reassign', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, approve_users_handlers, assignee_appr, current_space_user, current_user_organization, i, inbox_users, inbox_users_from_client, ins, instance, instance_id, last_trace, last_trace_from_client, new_inbox_users, not_in_inbox_users, now, permissions, r, reassign_reason, setObj, space, space_id;

      instance_id = instance_from_client['_id'];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      uuflowManager.isInstancePending(instance);
      last_trace_from_client = _.last(instance_from_client["traces"]);
      last_trace = _.find(instance.traces, function (t) {
        return t._id === last_trace_from_client["_id"];
      });

      if (last_trace.is_finished === true) {
        return;
      }

      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne({
        _id: space_id
      }, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      inbox_users = instance.inbox_users;
      inbox_users_from_client = instance_from_client["inbox_users"];
      reassign_reason = instance_from_client["reassign_reason"];
      not_in_inbox_users = _.difference(inbox_users, inbox_users_from_client);
      new_inbox_users = _.difference(inbox_users_from_client, inbox_users);

      if (not_in_inbox_users.length === 0 && new_inbox_users.length === 0) {
        return;
      }

      setObj = new Object();
      now = new Date();
      i = 0;
      approve_users_handlers = [];

      while (i < last_trace.approves.length) {
        if (not_in_inbox_users.includes(last_trace.approves[i].handler)) {
          if (last_trace.approves[i].is_finished === false && last_trace.approves[i].type !== "cc" && last_trace.approves[i].type !== "distribute") {
            last_trace.approves[i].is_finished = true;
            last_trace.approves[i].finish_date = now;
            last_trace.approves[i].judge = "terminated";
            last_trace.approves[i].description = "";
            last_trace.approves[i].cost_time = last_trace.approves[i].finish_date - last_trace.approves[i].start_date;
            approve_users_handlers.push(last_trace.approves[i].user);
            approve_users_handlers.push(last_trace.approves[i].handler);
          }
        }

        i++;
      }

      current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
      current_user_organization = db.organizations.findOne({
        _id: current_space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      assignee_appr = new Object();
      assignee_appr._id = new Mongo.ObjectID()._str;
      assignee_appr.instance = last_trace.instance;
      assignee_appr.trace = last_trace._id;
      assignee_appr.is_finished = true;
      assignee_appr.user = current_user;
      assignee_appr.user_name = current_user_info.name;
      assignee_appr.handler = current_user;
      assignee_appr.handler_name = current_user_info.name;
      assignee_appr.handler_organization = current_space_user.organization;
      assignee_appr.handler_organization_name = current_user_organization.name;
      assignee_appr.handler_organization_fullname = current_user_organization.fullname;
      assignee_appr.start_date = now;
      assignee_appr.finish_date = now;
      assignee_appr.due_date = last_trace.due_date;
      assignee_appr.read_date = now;
      assignee_appr.judge = "reassigned";
      assignee_appr.is_read = true;
      assignee_appr.description = reassign_reason;
      assignee_appr.is_error = false;
      assignee_appr.values = new Object();
      assignee_appr.cost_time = assignee_appr.finish_date - assignee_appr.start_date;
      last_trace.approves.push(assignee_appr);

      _.each(new_inbox_users, function (user_id) {
        var agent, handler_id, handler_info, new_appr, new_user, space_user, user_organization;
        new_user = db.users.findOne(user_id, {
          fields: {
            name: 1
          }
        });
        space_user = uuflowManager.getSpaceUser(space_id, user_id);
        user_organization = db.organizations.findOne(space_user.organization, {
          fields: {
            name: 1,
            fullname: 1
          }
        });
        new_appr = new Object();
        new_appr._id = new Mongo.ObjectID()._str;
        new_appr.instance = last_trace.instance;
        new_appr.trace = last_trace._id;
        new_appr.is_finished = false;
        new_appr.user = user_id;
        new_appr.user_name = new_user.name;
        handler_id = user_id;
        handler_info = new_user;
        agent = uuflowManager.getAgent(space_id, user_id);

        if (agent) {
          inbox_users_from_client[inbox_users_from_client.indexOf(user_id)] = agent;
          handler_id = agent;
          handler_info = db.users.findOne({
            _id: agent
          }, {
            fields: {
              name: 1
            }
          });
          new_appr.agent = agent;
        }

        new_appr.handler = handler_id;
        new_appr.handler_name = handler_info.name;
        new_appr.handler_organization = space_user.organization;
        new_appr.handler_organization_name = user_organization.name;
        new_appr.handler_organization_fullname = user_organization.fullname;
        new_appr.from_user = current_user;
        new_appr.from_user_name = current_user_info.name;
        new_appr.type = "reassign";
        new_appr.start_date = now;
        new_appr.due_date = last_trace.due_date;
        new_appr.is_read = false;
        new_appr.is_error = false;
        new_appr.values = new Object();
        uuflowManager.setRemindInfo(instance.values, new_appr);
        return last_trace.approves.push(new_appr);
      });

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(approve_users_handlers);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.inbox_users = inbox_users_from_client;
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj["traces.$.approves"] = last_trace.approves;
      r = db.instances.update({
        _id: instance_id,
        "traces._id": last_trace._id
      }, {
        $set: setObj
      });

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, reassign_reason, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'reassign', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_relocate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_relocate.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/relocate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, ah, approve_users, current_setp, current_setp_type, current_space_user, current_user_organization, flow, h, i, inbox_users, ins, instance, instance_id, l, last_trace, newTrace, new_inbox_users, next_step, next_step_name, next_step_type, not_in_inbox_users, now, permissions, r, relocate_appr, relocate_comment, relocate_inbox_users, relocate_next_step, sameTraces, setObj, signShowApproveId, space, space_id, ta, ti, traces;

      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      last_trace = _.last(instance.traces);
      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne(instance.space, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      space_id = instance.space;
      instance_id = last_trace.instance;
      inbox_users = instance.inbox_users;
      relocate_inbox_users = instance_from_client["relocate_inbox_users"];
      relocate_comment = instance_from_client["relocate_comment"];
      relocate_next_step = instance_from_client["relocate_next_step"];
      not_in_inbox_users = _.difference(inbox_users, relocate_inbox_users);
      new_inbox_users = _.difference(relocate_inbox_users, inbox_users);
      approve_users = [];
      flow = uuflowManager.getFlow(instance.flow);
      next_step = uuflowManager.getStep(instance, flow, relocate_next_step);
      next_step_type = next_step.step_type;
      next_step_name = next_step.name;
      current_setp = uuflowManager.getStep(instance, flow, last_trace.step);
      current_setp_type = current_setp.step_type;
      traces = instance.traces;
      setObj = new Object();
      setObj.values = uuflowManager.getUpdatedValues(instance);
      now = new Date();
      i = 0;

      while (i < traces.length) {
        if (traces[i]._id === last_trace._id) {
          if (!traces[i].approves) {
            traces[i].approves = new Array();
          }

          h = 0;

          while (h < traces[i].approves.length) {
            if (traces[i].approves[h].is_finished === false && traces[i].approves[h].type !== "cc" && traces[i].approves[h].type !== "distribute") {
              traces[i].approves[h].start_date = now;
              traces[i].approves[h].finish_date = now;
              traces[i].approves[h].read_date = now;
              traces[i].approves[h].is_error = false;
              traces[i].approves[h].is_read = true;
              traces[i].approves[h].is_finished = true;
              traces[i].approves[h].judge = "terminated";
              traces[i].approves[h].cost_time = traces[i].approves[h].finish_date - traces[i].approves[h].start_date;
              approve_users.push(traces[i].approves[h].user);

              if (traces[i].approves[h].sign_show === true) {
                ta = traces[i].approves[h];
                sameTraces = _.filter(traces, function (t) {
                  return t.step === traces[i].step;
                });
                l = sameTraces.length - 1;
                signShowApproveId = null;

                while (l > -1) {
                  _.each(sameTraces[l].approves, function (a) {
                    if (a.user === ta.user && a.judge !== "terminated" && a.description && !signShowApproveId) {
                      return signShowApproveId = a._id;
                    }
                  });

                  l--;
                }

                if (signShowApproveId) {
                  ti = 0;

                  while (ti < traces.length) {
                    ah = 0;

                    while (ah < traces[ti].approves.length) {
                      if (traces[ti].approves[ah]._id === signShowApproveId) {
                        traces[ti].approves[ah].sign_show = true;
                        traces[i].approves[h].sign_show = false;
                      }

                      ah++;
                    }

                    ti++;
                  }
                }
              }
            }

            h++;
          }

          current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
          current_user_organization = db.organizations.findOne(current_space_user.organization, {
            fields: {
              name: 1,
              fullname: 1
            }
          });
          relocate_appr = new Object();
          relocate_appr._id = new Mongo.ObjectID()._str;
          relocate_appr.instance = instance_id;
          relocate_appr.trace = traces[i]._id;
          relocate_appr.is_finished = true;
          relocate_appr.user = current_user;
          relocate_appr.user_name = current_user_info.name;
          relocate_appr.handler = current_user;
          relocate_appr.handler_name = current_user_info.name;
          relocate_appr.handler_organization = current_space_user.organization;
          relocate_appr.handler_organization_name = current_user_organization.name;
          relocate_appr.handler_organization_fullname = current_user_organization.fullname;
          relocate_appr.start_date = now;
          relocate_appr.finish_date = now;
          relocate_appr.due_date = traces[i].due_date;
          relocate_appr.read_date = now;
          relocate_appr.judge = "relocated";
          relocate_appr.is_read = true;
          relocate_appr.description = relocate_comment;
          relocate_appr.is_error = false;
          relocate_appr.values = new Object();
          relocate_appr.cost_time = relocate_appr.finish_date - relocate_appr.start_date;
          traces[i].approves.push(relocate_appr);
          traces[i].is_finished = true;
          traces[i].finish_date = now;
          traces[i].judge = "relocated";
        }

        i++;
      }

      if (next_step_type === "end") {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = true;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.approves = [];
        setObj.state = "completed";
        setObj.inbox_users = [];
        setObj.final_decision = "terminated";
        setObj.finish_date = new Date();
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = false;
      } else {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = false;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(next_step.timeout_hours);
        newTrace.approves = [];

        _.each(relocate_inbox_users, function (next_step_user_id, idx) {
          var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
          newApprove = new Object();
          newApprove._id = new Mongo.ObjectID()._str;
          newApprove.instance = instance_id;
          newApprove.trace = newTrace._id;
          newApprove.is_finished = false;
          newApprove.user = next_step_user_id;
          user_info = db.users.findOne(next_step_user_id, {
            fields: {
              name: 1
            }
          });
          newApprove.user_name = user_info.name;
          handler_id = next_step_user_id;
          handler_info = user_info;
          agent = uuflowManager.getAgent(space_id, next_step_user_id);

          if (agent) {
            relocate_inbox_users[idx] = agent;
            handler_id = agent;
            handler_info = db.users.findOne({
              _id: agent
            }, {
              fields: {
                name: 1
              }
            });
            newApprove.agent = agent;
          }

          newApprove.handler = handler_id;
          newApprove.handler_name = handler_info.name;
          next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
          next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
          newApprove.handler_organization = next_step_user_org_info["organization"];
          newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
          newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
          newApprove.start_date = now;
          newApprove.due_date = newTrace.due_date;
          newApprove.is_read = false;
          newApprove.is_error = false;
          newApprove.values = new Object();
          uuflowManager.setRemindInfo(instance.values, newApprove);
          return newTrace.approves.push(newApprove);
        });

        setObj.inbox_users = relocate_inbox_users;
        setObj.state = "pending";
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, next_step.lines);
      }

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(inbox_users).concat(approve_users);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj.is_archived = false;
      traces.push(newTrace);
      setObj.traces = traces;

      if (setObj.state === 'completed') {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });
      } else {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj,
          $unset: {
            finish_date: 1
          }
        });
      }

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, relocate_comment, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'relocate', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_archive.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_archive.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/archive', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var instance, instance_id, setObj, space, space_id, space_user;
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      uuflowManager.isInstanceFinishedAndNotArchieved(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      uuflowManager.isInstanceSubmitterOrApplicantOrSpaceAdmin(instance, current_user, space);
      setObj = new Object();
      setObj.is_archived = true;
      setObj.modified = new Date();
      setObj.modified_by = current_user;
      return db.instances.update({
        _id: instance_id
      }, {
        $set: setObj
      });
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_export.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_export.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/instances", function (req, res, next) {
    var current_user_info, e, ejs, ejsLint, end_date, error_obj, fields, fileName, flow, flow_id, flow_ids, form, form_name, formatDate, ins_to_xls, lang, last_month_date, now, query, ret, selector, space, space_id, start_date, str, table_fields, template, timezoneoffset, type, uid, utcOffset;

    try {
      current_user_info = uuflowManager.check_authorization(req);
      query = req.query;
      space_id = query.space_id;
      flow_id = query.flow_id;
      type = parseInt(query.type);
      timezoneoffset = parseInt(query.timezoneoffset);
      flow = db.flows.findOne({
        _id: flow_id
      }, {
        fields: {
          form: 1
        }
      });
      form = db.forms.findOne({
        _id: flow.form
      }, {
        fields: {
          name: 1,
          'current.fields': 1
        }
      });
      form_name = form.name;
      fields = form.current.fields;
      table_fields = new Array();

      _.each(form.current.fields, function (field) {
        if (field.type === "table") {
          return table_fields.push(field);
        }
      });

      ins_to_xls = new Array();
      start_date = null;
      end_date = null;
      now = new Date();
      selector = {
        space: space_id,
        flow: flow_id
      };
      selector.state = {
        $in: ["pending", "completed"]
      };
      uid = current_user_info._id;
      space = db.spaces.findOne(space_id);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(uid)) {
        flow_ids = WorkflowManager.getMyAdminOrMonitorFlows(space_id, uid);

        if (!flow_ids.includes(selector.flow)) {
          selector.$or = [{
            submitter: uid
          }, {
            applicant: uid
          }, {
            inbox_users: uid
          }, {
            outbox_users: uid
          }];
        }
      }

      if (type === 0) {
        start_date = new Date(now.getFullYear(), now.getMonth(), 1);
        selector.submit_date = {
          $gte: start_date
        };
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 1) {
        last_month_date = new Date(new Date(now.getFullYear(), now.getMonth(), 1) - 1000 * 60 * 60 * 24);
        start_date = new Date(last_month_date.getFullYear(), last_month_date.getMonth(), 1);
        end_date = new Date(now.getFullYear(), now.getMonth(), 1);
        selector.submit_date = {
          $gte: start_date,
          $lte: end_date
        };
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 2) {
        start_date = new Date(now.getFullYear(), 0, 1);
        selector.submit_date = {
          $gte: start_date
        };
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 3) {
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      }

      ejs = require('ejs');
      str = Assets.getText('server/ejs/export_instances.ejs');
      ejsLint = require('ejs-lint');
      error_obj = ejsLint.lint(str, {});

      if (error_obj) {
        console.error("===/api/workflow/export:");
        console.error(error_obj);
      }

      template = ejs.compile(str);
      lang = 'en';

      if (current_user_info.locale === 'zh-cn') {
        lang = 'zh-CN';
      }

      utcOffset = timezoneoffset / -60;

      formatDate = function (date, formater) {
        return moment(date).utcOffset(utcOffset).format(formater);
      };

      ret = template({
        lang: lang,
        formatDate: formatDate,
        form_name: form_name,
        fields: fields,
        table_fields: table_fields,
        ins_to_xls: ins_to_xls
      });
      fileName = "SteedOSWorkflow_" + moment().format('YYYYMMDDHHmm') + ".xls";
      res.setHeader("Content-type", "application/octet-stream");
      res.setHeader("Content-Disposition", "attachment;filename=" + encodeURI(fileName));
      return res.end(ret);
    } catch (error) {
      e = error;
      console.error(e.stack);
      return res.end(e.message);
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_space_changeset.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_space_changeset.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/uf/space/changeset', function (req, res, next) {
  var auth_token, data, e, formids, is_admin, query, sync_token;

  try {
    query = req.query;
    auth_token = db.auth_tokens.findOne({
      auth_token: query.auth_token
    });

    if (!auth_token || !auth_token.enabled) {
      throw new Meteor.Error(401, 'Unauthorized');
    }

    sync_token = query["sync_token"];
    formids = query["formids"];
    is_admin = query["is_admin"];
    data = uuflowManager.get_SpaceChangeSet(formids, is_admin, sync_token);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: data
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_retrieve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_retrieve.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/retrieve', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, flow, handler_info, i, ins, instance, instance_id, last_trace, last_trace_id, newApprove, newTrace, now, old_inbox_users, org_info, previous_step, previous_trace, previous_trace_approves, previous_trace_id, previous_trace_name, previous_trace_step_id, r, retrieve_approve, retrieve_comment, retrieve_type, setObj, space_id, space_user, the_trace, traces;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      retrieve_comment = instance_from_client['retrieve_comment'];

      if (!instance.outbox_users.includes(current_user) && instance.submitter !== current_user && instance.applicant !== current_user) {
        throw new Meteor.Error('error', '当前用户不符合取回条件');
      }

      retrieve_type = "";
      traces = instance.traces;
      last_trace = _.last(traces);
      last_trace_id = last_trace._id;
      previous_trace_id = last_trace.previous_trace_ids[0];
      previous_trace = _.find(traces, function (t) {
        return t._id === previous_trace_id;
      });
      previous_trace_step_id = previous_trace.step;
      previous_trace_name = previous_trace.name;
      flow = uuflowManager.getFlow(instance.flow);
      previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);

      if (previous_step.step_type === "counterSign") {
        throw new Meteor.Error('error', '会签不能取回');
      }

      previous_trace_approves = _.filter(previous_trace.approves, function (a) {
        return a.type !== 'cc' && a.type !== 'distribute' && a.type !== 'forward' && ['approved', 'submitted', 'rejected'].includes(a.judge);
      });

      if (previous_trace_approves.length === 1 && (previous_trace_approves[0].user === current_user || previous_trace_approves[0].handler === current_user)) {
        retrieve_type = 'normal';
      }

      i = traces.length;
      retrieve_approve = {};

      while (i > 0) {
        _.each(traces[i - 1].approves, function (a) {
          if (a.type === 'cc' && a.is_finished === true && a.user === current_user) {
            retrieve_type = 'cc';
            return retrieve_approve = a;
          }
        });

        if (retrieve_type === 'cc') {
          break;
        }

        i--;
      }

      if (retrieve_type === 'normal') {
        flow = uuflowManager.getFlow(instance.flow);
        previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);
        space_id = instance.space;
        instance_id = instance._id;
        old_inbox_users = instance.inbox_users;
        setObj = new Object();
        now = new Date();

        _.each(traces, function (t) {
          var current_space_user, current_user_organization, retrieve_appr;

          if (t._id === last_trace_id) {
            if (!t.approves) {
              t.approves = new Array();
            }

            _.each(t.approves, function (appr) {
              if (appr.is_finished === false && appr.type !== "cc") {
                appr.start_date = now;
                appr.finish_date = now;
                appr.read_date = now;
                appr.is_error = false;
                appr.is_read = true;
                appr.is_finished = true;
                appr.judge = "terminated";
                return appr.cost_time = appr.finish_date - appr.start_date;
              }
            });

            current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
            current_user_organization = db.organizations.findOne(current_space_user.organization, {
              fields: {
                name: 1,
                fullname: 1
              }
            });
            retrieve_appr = new Object();
            retrieve_appr._id = new Mongo.ObjectID()._str;
            retrieve_appr.instance = instance_id;
            retrieve_appr.trace = t._id;
            retrieve_appr.is_finished = true;
            retrieve_appr.user = current_user;
            retrieve_appr.user_name = current_user_info.name;
            retrieve_appr.handler = current_user;
            retrieve_appr.handler_name = current_user_info.name;
            retrieve_appr.handler_organization = current_space_user.organization;
            retrieve_appr.handler_organization_name = current_user_organization.name;
            retrieve_appr.handler_organization_fullname = current_user_organization.fullname;
            retrieve_appr.start_date = now;
            retrieve_appr.finish_date = now;
            retrieve_appr.due_date = t.due_date;
            retrieve_appr.read_date = now;
            retrieve_appr.judge = "retrieved";
            retrieve_appr.is_read = true;
            retrieve_appr.description = retrieve_comment;
            retrieve_appr.is_error = false;
            retrieve_appr.values = new Object();
            retrieve_appr.cost_time = retrieve_appr.finish_date - retrieve_appr.start_date;
            t.approves.push(retrieve_appr);
            t.is_finished = true;
            t.finish_date = now;
            return t.judge = "retrieved";
          }
        });

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace_id];
        newTrace.is_finished = false;
        newTrace.step = previous_trace_step_id;
        newTrace.name = previous_trace_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(previous_step.timeout_hours);
        newTrace.approves = [];
        newApprove = new Object();
        newApprove._id = new Mongo.ObjectID()._str;
        newApprove.instance = instance_id;
        newApprove.trace = newTrace._id;
        newApprove.is_finished = false;
        newApprove.user = current_user;
        handler_info = db.users.findOne(current_user, {
          fields: {
            name: 1
          }
        });
        newApprove.user_name = handler_info.name;
        newApprove.handler = current_user;
        newApprove.handler_name = handler_info.name;
        space_user = uuflowManager.getSpaceUser(space_id, current_user);
        org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
        newApprove.handler_organization = org_info["organization"];
        newApprove.handler_organization_name = org_info["organization_name"];
        newApprove.handler_organization_fullname = org_info["organization_fullname"];
        newApprove.start_date = now;
        newApprove.due_date = newTrace.due_date;
        newApprove.is_read = false;
        newApprove.is_error = false;
        newApprove.values = new Object();
        uuflowManager.setRemindInfo(instance.values, newApprove);
        newTrace.approves.push(newApprove);
        setObj.inbox_users = [current_user];
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.current_step_name = previous_trace_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, previous_step.lines);
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);

          _.each(old_inbox_users, function (user_id) {
            if (user_id !== current_user) {
              return pushManager.send_message_to_specifyUser("current_user", user_id);
            }
          });

          ins = uuflowManager.getInstance(instance_id);
          return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, ins.inbox_users);
        }
      } else if (retrieve_type === 'cc') {
        setObj = new Object();
        now = new Date();
        instance_id = instance._id;
        the_trace = _.find(traces, function (t) {
          return t._id === retrieve_approve.trace;
        });

        _.each(the_trace.approves, function (a) {
          if (a._id === retrieve_approve._id) {
            a.is_finished = false;
            a.finish_date = void 0;
            a.judge = void 0;
            return a.cost_time = void 0;
          }
        });

        cc_users = instance.cc_users;
        cc_users.push(current_user);
        setObj.modified = now;
        setObj.modified_by = current_user;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.cc_users = cc_users;
        setObj['traces.$.approves'] = the_trace.approves;
        r = db.instances.update({
          _id: instance_id,
          'traces._id': retrieve_approve.trace
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);
        }

        ins = uuflowManager.getInstance(instance_id);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, [current_user]);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add('post', '/api/workflow/forward', function (req, res, next) {
  try {
    var current_user_info = uuflowManager.check_authorization(req);
    var current_user_id = current_user_info._id;
    var hashData = req.body;
    var instance_id = hashData.instance_id;
    var space_id = hashData.space_id;
    var flow_id = hashData.flow_id;
    var hasSaveInstanceToAttachment = hashData.hasSaveInstanceToAttachment;
    var description = hashData.description;
    var isForwardAttachments = hashData.isForwardAttachments;
    var selectedUsers = hashData.selectedUsers;
    var action_type = hashData.action_type;
    var related = hashData.related;
    var from_approve_id = hashData.from_approve_id;
    check(instance_id, String);
    check(space_id, String);
    check(flow_id, String);
    check(hasSaveInstanceToAttachment, Boolean);
    check(description, String);
    check(isForwardAttachments, Boolean);
    check(selectedUsers, Array);
    check(action_type, Match.OneOf('forward', 'distribute'));
    if (action_type == "distribute") check(from_approve_id, String);
    var ins = db.instances.findOne(instance_id);
    var old_space_id = ins.space;
    var flow = db.flows.findOne(flow_id);
    var space = db.spaces.findOne(space_id);

    if (!ins || !flow || !space) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var forward_users = new Array();

    if (_.isEmpty(selectedUsers)) {
      forward_users = [current_user_id];
    } else {
      forward_users = selectedUsers;
    } // 校验分发对象是否有分发流程的提交权限


    var no_permission_user_ids = new Array();

    _.each(forward_users, function (uid) {
      var permissions = permissionManager.getFlowPermissions(flow_id, uid);

      if (!permissions.includes("add")) {
        // throw new Meteor.Error('error!', "该申请人没有提交此申请单的权限。")
        no_permission_user_ids.push(uid);
      }
    });

    if (!_.isEmpty(no_permission_user_ids)) {
      var no_permission_users_name = new Array();
      db.users.find({
        _id: {
          $in: no_permission_user_ids
        }
      }, {
        fields: {
          name: 1
        }
      }).forEach(function (u) {
        no_permission_users_name.push(u.name);
      });
      throw new Meteor.Error('no_permission', "该提交人没有提交此申请单的权限。", no_permission_users_name.join(','));
    }

    var new_ins_ids = new Array();
    var current_trace = null;

    if (action_type == "distribute") {
      _.each(ins.traces, function (t) {
        if (!current_trace) {
          _.each(t.approves, function (a) {
            if (!current_trace) {
              if (a._id == from_approve_id) current_trace = t;
            }
          });
        }
      });
    } else {
      current_trace = _.last(ins.traces);
    }

    var current_trace_id = current_trace._id;
    var forward_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    var set_obj = new Object(); // 计算values

    var old_values = ins.values,
        new_values = {};
    var form = db.forms.findOne(flow.form);
    var fields = form.current.fields || [];
    var old_form = db.forms.findOne(ins.form);
    var old_form_version = ins.form_version,
        old_fields = [],
        common_fields = [];
    var select_to_input_fields = [];

    if (old_form.current._id == old_form_version) {
      old_fields = old_form.current.fields;
    } else {
      if (old_form.historys) {
        old_form.historys.forEach(function (h) {
          if (h._id == old_form_version) old_fields = h.fields;
        });
      }
    }

    fields.forEach(function (field) {
      var exists_field = _.find(old_fields, function (f) {
        return f.type == field.type && f.code == field.code;
      });

      if (exists_field) common_fields.push(field);

      var select_input_field = _.find(old_fields, function (f) {
        return f.type == 'select' && field.type == 'input' && f.code == field.code;
      });

      if (select_input_field) select_to_input_fields.push(select_input_field);
    });
    select_to_input_fields.forEach(function (field) {
      if (old_values[field.code]) {
        new_values[field.code] = old_values[field.code];
      }
    });
    common_fields.forEach(function (field) {
      if (field.type == 'section') {
        if (field.fields) {
          field.fields.forEach(function (f) {
            // 跨工作区转发不复制选人选组
            if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
              return;
            }

            var key = f.code;
            var old_v = old_values[key];

            if (old_v) {
              // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
              if (f.type == 'select' || f.type == 'radio') {
                var options = f.options.split('\n');
                if (!options.includes(old_v)) return;
              }

              if (f.type == 'multiSelect') {
                var options = f.options.split('\n');
                var old_multiSelected = old_v.split(',');

                var new_multiSelected = _.intersection(options, old_multiSelected);

                old_v = new_multiSelected.join(',');
              }

              new_values[key] = old_v;
            }
          });
        }
      } else if (field.type == 'table') {
        if (!_.isEmpty(old_values[field.code])) {
          new_values[field.code] = new Array();
          old_values[field.code].forEach(function (old_table_row_values) {
            var new_table_row_values = {};

            if (!_.isEmpty(field.fields)) {
              field.fields.forEach(function (f) {
                // 跨工作区转发不复制选人选组
                if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
                  return;
                }

                var key = f.code;
                var old_v = old_table_row_values[key];

                if (old_v) {
                  // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
                  if (f.type == 'select' || f.type == 'radio') {
                    var options = f.options.split('\n');
                    if (!options.includes(old_v)) return;
                  }

                  if (f.type == 'multiSelect') {
                    var options = f.options.split('\n');
                    var old_multiSelected = old_v.split(',');

                    var new_multiSelected = _.intersection(options, old_multiSelected);

                    old_v = new_multiSelected.join(',');
                  }

                  new_table_row_values[key] = old_v;
                }
              });
            }

            if (old_table_row_values._id) {
              new_table_row_values._id = new Mongo.ObjectID()._str;
            }

            if (!_.isEmpty(new_table_row_values)) {
              new_values[field.code].push(new_table_row_values);
            }
          });
        }
      } else {
        // 跨工作区转发不复制选人选组
        if (['group', 'user'].includes(field.type) && old_space_id != space_id) {
          return;
        }

        var key = field.code;
        var old_v = old_values[key];

        if (old_v) {
          // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
          if (field.type == 'select' || field.type == 'radio') {
            var options = field.options.split('\n');
            if (!options.includes(old_v)) return;
          }

          if (field.type == 'multiSelect') {
            var options = field.options.split('\n');
            var old_multiSelected = old_v.split(',');

            var new_multiSelected = _.intersection(options, old_multiSelected);

            old_v = new_multiSelected.join(',');
          }

          new_values[key] = old_v;
        }
      }
    }); //如果是分发，则value中的record_need、FONDSID不需要分发到新申请单中

    if (action_type === 'distribute') {
      delete new_values.record_need;
      delete new_values.FONDSID;
    } // 计算申请单标题


    var instance_name = "";
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      try {
        var iscript = name_forumla.replace(/\{/g, "(new_values['").replace(/\}/g, "'] || '')");
        var rev = eval(iscript);
        instance_name = rev || flow.name;
      } catch (error) {
        throw new Meteor.Error('caculate_instance_name', "计算申请单标题出错请检查表单标题脚本。");
      }
    } else {
      instance_name = flow.name;
    } // instance中记录当前步骤名称 #1314


    var start_step = _.find(flow.current.steps, function (step) {
      return step.step_type == 'start';
    }); // 新建申请单时，instances记录流程名称、流程分类名称 #1313


    var category_name = "";

    if (form.category) {
      var category = uuflowManager.getCategory(form.category);
      if (category) category_name = category.name;
    }

    _.each(forward_users, function (user_id) {
      var user_info = db.users.findOne(user_id);
      var space_user = db.space_users.findOne({
        space: space_id,
        user: user_id
      }, {
        fields: {
          organization: 1
        }
      });
      var space_user_org_info = db.organizations.findOne({
        _id: space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var now = new Date();
      var ins_obj = {};
      var agent = uuflowManager.getAgent(space_id, user_id);
      var handler_id = user_id;
      var handler_info = user_info;
      var handler_space_user = space_user;
      var handler_org_info = space_user_org_info;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent);
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
      }

      ins_obj._id = db.instances._makeNewID();
      ins_obj.space = space_id;
      ins_obj.flow = flow_id;
      ins_obj.flow_version = flow.current._id;
      ins_obj.form = flow.form;
      ins_obj.form_version = flow.current.form_version;
      ins_obj.name = instance_name;
      ins_obj.submitter = handler_id;
      ins_obj.submitter_name = handler_info.name;
      ins_obj.applicant = user_id;
      ins_obj.applicant_name = user_info.name;
      ins_obj.applicant_organization = space_user.organization;
      ins_obj.applicant_organization_name = space_user_org_info.name;
      ins_obj.applicant_organization_fullname = space_user_org_info.fullname;
      ins_obj.state = "draft";
      ins_obj.code = "";
      ins_obj.is_archived = false;
      ins_obj.is_deleted = false;
      ins_obj.created = now;
      ins_obj.created_by = current_user_id;
      ins_obj.modified = now;
      ins_obj.modified_by = current_user_id;
      ins_obj.inbox_users = [handler_id];
      ins_obj.values = new_values;

      if (action_type == 'distribute') {
        // 解决多次分发看不到正文、附件问题
        if (ins.distribute_from_instance) {
          ins_obj.distribute_from_instance = ins.distribute_from_instance;
        } else {
          ins_obj.distribute_from_instance = instance_id;
        }

        ins_obj.distribute_from_instances = _.clone(ins.distribute_from_instances) || [];
        ins_obj.distribute_from_instances.push(instance_id);

        if (related) {
          ins_obj.related_instances = [instance_id];
        }
      } else if (action_type == 'forward') {
        ins_obj.forward_from_instance = instance_id;
      } // 新建Trace


      var trace_obj = {};
      trace_obj._id = new Mongo.ObjectID()._str;
      trace_obj.instance = ins_obj._id;
      trace_obj.is_finished = false; // 当前最新版flow中开始节点的step_id

      var step_id, step_name, can_edit_main_attach, can_edit_normal_attach;
      flow.current.steps.forEach(function (step) {
        if (step.step_type == "start") {
          step_id = step._id;
          step_name = step.name;
          can_edit_main_attach = step.can_edit_main_attach;
          can_edit_normal_attach = step.can_edit_normal_attach;
        }
      });
      trace_obj.step = step_id;
      trace_obj.start_date = now;
      trace_obj.name = step_name; // 新建Approve

      var appr_obj = {};
      appr_obj._id = new Mongo.ObjectID()._str;
      appr_obj.instance = ins_obj._id;
      appr_obj.trace = trace_obj._id;
      appr_obj.is_finished = false;
      appr_obj.user = user_id;
      appr_obj.user_name = user_info.name;
      appr_obj.handler = handler_id;
      appr_obj.handler_name = handler_info.name;
      appr_obj.handler_organization = handler_space_user.organization;
      appr_obj.handler_organization_name = handler_org_info.name;
      appr_obj.handler_organization_fullname = handler_org_info.fullname;
      appr_obj.type = "draft";
      appr_obj.start_date = now;
      appr_obj.read_date = now;
      appr_obj.is_read = false;
      appr_obj.is_error = false;
      appr_obj.values = new_values;

      if (agent) {
        appr_obj.agent = agent;
      }

      trace_obj.approves = [appr_obj];
      ins_obj.traces = [trace_obj];
      if (flow.auto_remind == true) ins_obj.auto_remind = true;
      ins_obj.current_step_name = start_step.name;
      ins_obj.flow_name = flow.name;

      if (category_name) {
        ins_obj.category_name = category.name;
        ins_obj.category = category._id;
      }

      new_ins_id = db.instances.insert(ins_obj); // 复制附件

      var collection = cfs.instances; //将原表单内容存储为第一个附件

      if (hasSaveInstanceToAttachment) {
        // try {
        instanceHtml = InstanceReadOnlyTemplate.getInstanceHtml(user_info, space_id, ins, {
          absolute: true
        });
        var instanceFile = new FS.File();
        instanceFile.attachData(Buffer.from(instanceHtml, "utf-8"), {
          type: "text/html"
        }, function (error) {
          if (error) {
            throw new Meteor.Error(error.error, error.reason);
          }

          instanceFile.name(ins.name + ".html");
          instanceFile.size(instanceHtml.length);
          var metadata = {
            owner: user_id,
            owner_name: user_info.name,
            space: space_id,
            instance: new_ins_id,
            approve: appr_obj._id,
            current: true
          };
          instanceFile.metadata = metadata;
          var fileObj = collection.insert(instanceFile);
          fileObj.update({
            $set: {
              'metadata.parent': fileObj._id
            }
          });
        }); // } catch (e) {
        //     console.error(e);
        // }
      }

      if (isForwardAttachments && action_type == 'forward') {
        var files = collection.find({
          'metadata.instance': instance_id,
          'metadata.current': true
        });
        files.forEach(function (f) {
          // 判断新的流程开始节点是否有编辑正文和编辑附件权限
          if (f.metadata.main == true) {
            if (can_edit_main_attach != true && can_edit_normal_attach != true) return;
          } else {
            if (can_edit_normal_attach != true) return;
          }

          var newFile = new FS.File();
          newFile.attachData(f.createReadStream('instances'), {
            type: f.original.type
          }, function (err) {
            if (err) {
              throw new Meteor.Error(err.error, err.reason);
            }

            newFile.name(f.name());
            newFile.size(f.size());
            var metadata = {
              owner: user_id,
              owner_name: user_info.name,
              space: space_id,
              instance: new_ins_id,
              approve: appr_obj._id,
              current: true
            };

            if (f.metadata.main == true && can_edit_main_attach == true) {
              metadata.main = true;
            }

            newFile.metadata = metadata;
            var fileObj = collection.insert(newFile);
            fileObj.update({
              $set: {
                'metadata.parent': fileObj._id
              }
            });
          });
        });
      } // 给当前的申请单增加转发记录


      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': instance_id,
        'trace': current_trace_id,
        'is_finished': true,
        'user': user_id,
        'user_name': user_info.name,
        'handler': user_id,
        'handler_name': user_info.name,
        'handler_organization': space_user.organization,
        'handler_organization_name': space_user_org_info.name,
        'handler_organization_fullname': space_user_org_info.fullname,
        'type': action_type,
        'start_date': new Date(),
        'finish_date': new Date(),
        'is_read': false,
        'judge': 'submitted',
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'forward_space': space_id,
        'forward_instance': new_ins_id,
        'description': description,
        'from_approve_id': from_approve_id
      };
      forward_approves.push(appr);
      new_ins_ids.push(new_ins_id);
      pushManager.send_message_to_specifyUser("current_user", user_id);
    });

    set_obj.modified = new Date();
    set_obj.modified_by = current_user_id;
    var r = db.instances.update({
      _id: instance_id,
      "traces._id": current_trace_id
    }, {
      $set: set_obj,
      $addToSet: {
        'traces.$.approves': {
          $each: forward_approves
        }
      }
    });

    if (r) {
      _.each(current_trace.approves, function (a, idx) {
        if (a._id == from_approve_id) {
          var update_read = {};
          update_read["traces.$.approves." + idx + ".read_date"] = new Date();
          db.instances.update({
            _id: instance_id,
            "traces._id": current_trace_id
          }, {
            $set: update_read
          });
        }
      });
    }

    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        new_ins_ids: new_ins_ids
      }
    });
  } catch (e) {
    console.error(e.stack);
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/workflow/instance/:instanceId', function (req, res, next) {
  var box, current_user_id, current_user_info, e, flowId, ins, insId, permissions, redirectTo, redirectToUrl, ref, ref1, ref2, req_async, space, spaceId;

  try {
    current_user_info = uuflowManager.check_authorization(req, res);
    current_user_id = current_user_info._id;
    req_async = _.has(req.query, 'async');
    insId = req.params.instanceId;
    ins = db.instances.findOne(insId, {
      fields: {
        space: 1,
        flow: 1,
        state: 1,
        inbox_users: 1,
        cc_users: 1,
        outbox_users: 1,
        submitter: 1,
        applicant: 1
      }
    });

    if (!ins) {
      throw new Meteor.Error('error', 'instanceId is wrong or instance not exists.');
    }

    spaceId = ins.space;
    flowId = ins.flow;

    if (db.space_users.find({
      space: spaceId,
      user: current_user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'user is not belong to this space.');
    }

    box = '';

    if (((ref = ins.inbox_users) != null ? ref.includes(current_user_id) : void 0) || ((ref1 = ins.cc_users) != null ? ref1.includes(current_user_id) : void 0)) {
      box = 'inbox';
    } else if ((ref2 = ins.outbox_users) != null ? ref2.includes(current_user_id) : void 0) {
      box = 'outbox';
    } else if (ins.state === 'draft' && ins.submitter === current_user_id) {
      box = 'draft';
    } else if (ins.state === 'pending' && (ins.submitter === current_user_id || ins.applicant === current_user_id)) {
      box = 'pending';
    } else if (ins.state === 'completed' && ins.submitter === current_user_id) {
      box = 'completed';
    } else {
      permissions = permissionManager.getFlowPermissions(flowId, current_user_id);
      space = db.spaces.findOne(spaceId, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user_id)) {
        throw new Meteor.Error('error', "no permission.");
      }

      box = 'monitor';
    }

    redirectTo = "workflow/space/" + spaceId + "/" + box + "/" + insId;
    redirectToUrl = Meteor.absoluteUrl(redirectTo);

    if (req_async) {
      return res.status(200).send({
        "status": 302,
        "redirect": redirectTo
      });
    } else {
      res.setHeader("Location", redirectToUrl);
      res.writeHead(302);
      res.end();
    }
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_pending.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_pending.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/pending 获取待办文件

@apiDescription 获取当前用户的待办事项列表

@apiName getInbox

@apiGroup Workflow

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
	{
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
	{
		"status": "success",
		"data": [
			{
				"id": "g7wokXNkR9yxHvA4D",
				"start_date": "2017-11-23T02:28:53.164Z",
				"flow_name": "正文流程",
				"space_name": "审批王",
				"name": "正文流程 1",
				"applicant_name": null,
				"applicant_organization_name": "审批王",
				"submit_date": "2017-07-25T06:36:48.492Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-11-23T02:28:53.164Z",
				"is_read": false,
				"values": {}
			},
			{
				"id": "WqKSrWQoywgJaMp9k",
				"start_date": "2017-08-17T07:38:35.420Z",
				"flow_name": "正文\n",
				"space_name": "审批王",
				"name": "正文\n 1",
				"applicant_name": "殷亮辉",
				"applicant_organization_name": "审批王",
				"submit_date": "2017-06-27T10:26:19.468Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-08-17T07:38:35.421Z",
				"is_read": true,
				"values": {}
			}
		]
	}
 */JsonRoutes.add('get', '/api/workflow/open/pending', function (req, res, next) {
  var attach, e, is_read, limit, no_limit_count, query, ref, ref1, ref2, ref3, ref4, ref5, result_instances, space, space_id, space_names, special_user_id, start_date, u, uid, user_id, userid, username, workflow_categories;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    space_id = req.headers['x-space-id'] || ((ref = req.query) != null ? ref.spaceId : void 0);

    if (!space_id) {
      throw new Meteor.Error('error', 'need space_id');
    }

    user_id = req.userId;

    if (!user_id) {
      throw new Meteor.Error('error', 'Not logged in');
    }

    if (db.users.find({
      _id: user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'can not find user');
    }

    limit = ((ref1 = req.query) != null ? ref1.limit : void 0) || 500;
    limit = parseInt(limit);
    username = (ref2 = req.query) != null ? ref2.username : void 0;
    userid = (ref3 = req.query) != null ? ref3.userid : void 0;
    attach = (ref4 = req.query) != null ? ref4.attach : void 0;
    workflow_categories = (ref5 = req.query) != null ? ref5.workflow_categories : void 0;
    space = uuflowManager.getSpace(space_id);
    special_user_id;

    if (space.admins.includes(user_id)) {
      if (userid) {
        if (db.users.find({
          _id: userid
        }).count() < 1) {
          throw new Meteor.Error('error', "can not find user by userid: " + userid);
        }

        special_user_id = userid;
      } else if (username) {
        u = db.users.findOne({
          username: username
        }, {
          fields: {
            _id: 1
          }
        });

        if (_.isEmpty(u)) {
          throw new Meteor.Error('error', "can not find user by username: " + username);
        }

        special_user_id = u._id;
      }
    }

    result_instances = new Array();
    is_read = false;
    start_date = '';
    uid = user_id;
    query = {
      $or: [{
        inbox_users: user_id
      }, {
        cc_users: user_id
      }]
    };

    if (special_user_id) {
      uid = special_user_id;
      query = {
        space: space_id,
        $or: [{
          inbox_users: special_user_id
        }, {
          cc_users: special_user_id
        }]
      };
    }

    if (workflow_categories) {
      query.category = {
        $in: workflow_categories.split(',')
      };
    }

    space_names = {};
    space_names[space._id] = space.name;

    if (limit > 0) {
      db.instances.find(query, {
        sort: {
          modified: -1
        },
        limit: limit
      }).forEach(function (i) {
        var h, ref6, ref7;

        if ((ref6 = i.inbox_users) != null ? ref6.includes(uid) : void 0) {
          _.each(i.traces, function (t) {
            if (t.is_finished === false) {
              return _.each(t.approves, function (a) {
                if (a.user === uid && a.type !== 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        } else {
          _.each(i.traces, function (t) {
            if (!start_date && t.approves) {
              return _.each(t.approves, function (a) {
                if (!start_date && a.user === uid && a.type === 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        }

        if (!space_names[i.space]) {
          space_names[i.space] = (ref7 = db.spaces.findOne(i.space, {
            fields: {
              name: 1
            }
          })) != null ? ref7.name : void 0;
        }

        h = new Object();
        h["id"] = i["_id"];
        h["start_date"] = start_date;
        h["flow_name"] = i.flow_name;
        h["space_name"] = space_names[i.space];
        h["name"] = i["name"];
        h["applicant_name"] = i["applicant_name"];
        h["applicant_organization_name"] = i["applicant_organization_name"];
        h["submit_date"] = i["submit_date"];
        h["step_name"] = i.current_step_name;
        h["space_id"] = i.space;
        h["modified"] = i["modified"];
        h["is_read"] = is_read;
        h["values"] = i["values"];

        if (attach === 'true') {
          h.attachments = cfs.instances.find({
            'metadata.instance': i._id,
            'metadata.current': true,
            "metadata.is_private": {
              $ne: true
            }
          }, {
            fields: {
              copies: 0
            }
          }).fetch();
        }

        return result_instances.push(h);
      });
    }

    no_limit_count = db.instances.find(query).count();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result_instances,
        count: no_limit_count
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.reason
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"export_table_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/export_table_template.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies;
Cookies = require("cookies");
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/talbe_template", function (req, res, next) {
    var authToken, cookies, data, fileName, flow, flowId, form, ref, ref1, space, userId;
    cookies = new Cookies(req, res);

    if (req.body) {
      userId = req.body["X-User-Id"];
      authToken = req.body["X-Auth-Token"];
    }

    if (!userId || !authToken) {
      userId = cookies.get("X-User-Id");
      authToken = cookies.get("X-Auth-Token");
    }

    if (!(userId && authToken)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Missing X-Auth-Token",
        "success": false
      }));
      return;
    }

    flowId = (ref = req.query) != null ? ref.flow : void 0;
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        space: 1,
        form: 1,
        name: 1
      }
    });
    form = db.forms.findOne({
      _id: flow.form
    }, {
      fields: {
        space: 1,
        "current._id": 1
      }
    });

    if (_.isEmpty(flow)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Invalid formId",
        "success": false
      }));
      return;
    } else {
      if (!Steedos.isSpaceAdmin(flow.space, userId)) {
        res.writeHead(401);
        res.end(JSON.stringify({
          "error": "Validate Request -- No permission",
          "success": false
        }));
        return;
      }

      space = db.spaces.findOne(flow.space, {
        fields: {
          is_paid: 1
        }
      });

      if (!(space != null ? space.is_paid : void 0)) {
        JsonRoutes.sendResult(res, {
          code: 404,
          data: {
            "error": "Validate Request -- Non-paid space.",
            "success": false
          }
        });
        return;
      }
    }

    data = TemplateManager.handleTableTemplate({
      form: flow.form,
      form_version: form != null ? (ref1 = form.current) != null ? ref1._id : void 0 : void 0
    }, true);
    fileName = flow.name;
    res.setHeader('Content-type', 'application/x-msdownload');
    res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(fileName) + '.html');
    return res.end(data);
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_drafts.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/drafts 新建申请单

@apiName createInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "applicant": 申请人Id,
    "values": {
        "fields1" : 字段值,
        "fields2" : 字段值,
        ...
    }
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}

@apiErrorExample {json} error-Response:
{
    "status": "error",
    "data": {...}
}
 */JsonRoutes.add('post', '/api/workflow/open/drafts', function (req, res, next) {
  var applicant, applicantInfo, applicant_id, applicant_username, approve, approves, current_user_info, e, flow, flow_id, hashData, instance_from_client, new_ins, new_ins_id, space_id, space_user, space_user_org_info, trace, traces, user_id;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    user_id = req.userId;
    current_user_info = db.users.findOne({
      _id: user_id
    });
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header x_space_id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user_info._id);
    hashData = req.body;

    if (!hashData["flow"]) {
      throw new Meteor.Error('error', 'flow is null');
    }

    flow_id = hashData["flow"];
    applicant_id = hashData["applicant"];
    applicant_username = hashData["applicant_username"];
    instance_from_client = new Object();
    flow = db.flows.findOne({
      _id: flow_id
    }, {
      fields: {
        space: 1,
        'current._id': 1
      }
    });

    if (!flow) {
      throw new Meteor.Error('error', 'flow is not exists');
    }

    if (space_id !== flow.space) {
      throw new Meteor.Error('error', 'flow is not belong to this space');
    }

    if (db.space_users.find({
      space: space_id,
      user: current_user_info._id
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is not a member of this space');
    }

    instance_from_client["space"] = space_id;
    instance_from_client["flow"] = flow_id;
    instance_from_client["flow_version"] = flow.current._id;
    applicant = null;

    if (applicant_id || applicant_username) {
      if (applicant_id) {
        applicant = db.users.findOne({
          _id: applicant_id
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant is wrong');
        }
      } else if (applicant_username) {
        applicant = db.users.findOne({
          username: applicant_username
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant_username is wrong');
        }
      }

      space_user = db.space_users.findOne({
        space: space_id,
        user: applicant._id
      });

      if (!space_user) {
        throw new Meteor.Error('error', 'applicant is not a member of this space');
      }

      if (space_user.user_accepted !== true) {
        throw new Meteor.Error('error', 'applicant is disabled in this space');
      }

      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_from_client["applicant"] = applicant._id;
      instance_from_client["applicant_name"] = applicant.name;
      instance_from_client["applicant_organization"] = space_user_org_info["organization"];
      instance_from_client["applicant_organization_fullname"] = space_user_org_info["organization_fullname"];
      instance_from_client["applicant_organization_name"] = space_user_org_info["organization_name"];
    }

    applicantInfo = applicant || current_user_info;
    traces = [];
    trace = new Object();
    approves = [];
    approve = new Object();
    approve["values"] = hashData["values"];
    approves.push(approve);
    trace["approves"] = approves;
    traces.push(trace);
    instance_from_client["traces"] = traces;
    instance_from_client["inbox_users"] = [applicantInfo._id];
    new_ins_id = uuflowManager.create_instance(instance_from_client, applicantInfo);
    new_ins = db.instances.findOne(new_ins_id);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: new_ins
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/get/:ins_id 查看申请单详情

@apiName getInstance

@apiGroup Workflow

@apiPermission 工作区的管理员

@apiParam {String} ins_id 申请单Id
@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}
 */JsonRoutes.add('get', '/api/workflow/open/get/:ins_id', function (req, res, next) {
  var current_user, e, ins_id, instance, perm_users, permissions, space, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = db.instances.findOne(ins_id);

    if (!instance) {
      throw new Meteor.Error('error', 'can not find instance');
    }

    if (db.space_users.find({
      space: instance.space,
      user: current_user
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is wrong');
    }

    perm_users = new Array();
    perm_users.push(instance.submitter);
    perm_users.push(instance.applicant);

    if (instance.outbox_users) {
      perm_users = perm_users.concat(instance.outbox_users);
    }

    if (instance.inbox_users) {
      perm_users = perm_users.concat(instance.inbox_users);
    }

    space = db.spaces.findOne({
      _id: instance.space
    }, {
      fields: {
        admins: 1
      }
    });
    perm_users = perm_users.concat(space.admins);
    permissions = permissionManager.getFlowPermissions(instance.flow, current_user);

    if (!perm_users.includes(current_user) && !permissions.includes("monitor") && !permissions.includes("admin")) {
      throw new Meteor.Error('error', 'no permission');
    }

    instance.attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instance
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_submit.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/submit/:ins_id 提交申请单

@apiDescription 暂不支持开始节点下一节点为条件的情况

@apiName submitInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/submit/:ins_id', function (req, res, next) {
  var current_user, current_user_info, e, flow, form, ins_id, instance, nextSteps, next_step_id, next_user_ids, r, require_but_empty_fields, result, space_id, step, submitter, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = uuflowManager.getInstance(ins_id);
    uuflowManager.isInstanceDraft(instance);

    if (space_id !== instance["space"]) {
      throw new Meteor.Error('error', 'instance is not belong to this space');
    }

    values = instance["traces"][0]["approves"][0].values;
    form = uuflowManager.getForm(instance.form);
    require_but_empty_fields = uuflowManager.checkValueFieldsRequire(values, form, instance.form_version);

    if (require_but_empty_fields.length > 0) {
      if (require_but_empty_fields.length > 1) {
        throw new Meteor.Error('error', 'fields <' + require_but_empty_fields.join(",") + '> are required');
      } else if (require_but_empty_fields.length = 1) {
        throw new Meteor.Error('error', 'field <' + require_but_empty_fields.join(",") + '> is required');
      }
    }

    flow = uuflowManager.getFlow(instance.flow);
    step = uuflowManager.getStep(instance, flow, instance["traces"][0].step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "submitted");

    if (nextSteps.length < 1) {
      throw new Meteor.Error('error', 'can not find next steps');
    }

    if (nextSteps.length > 1) {
      throw new Meteor.Error('error', 'next step not uniq');
    }

    next_step_id = nextSteps[0];
    next_user_ids = getHandlersManager.getHandlers(ins_id, next_step_id) || [];

    if (next_user_ids.length > 1) {
      throw new Meteor.Error('error', 'next step handler not uniq');
    }

    instance["traces"][0]["approves"][0]["next_steps"] = [{
      'step': next_step_id,
      'users': next_user_ids
    }];
    result = new Object();
    submitter = db.users.findOne(instance.submitter);

    if (!submitter) {
      throw new Meteor.Error('error', 'can not find submitter');
    }

    r = uuflowManager.submit_instance(instance, submitter);

    if (r.alerts) {
      result = r;
    } else {
      result = db.instances.findOne(ins_id);

      if (result) {
        result.attachments = cfs.instances.find({
          'metadata.instance': ins_id,
          'metadata.current': true,
          "metadata.is_private": {
            $ne: true
          }
        }, {
          fields: {
            copies: 0
          }
        }).fetch();
      }
    }

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_save.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_save.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/save/:ins_id 暂存申请单

@apiName saveInstances

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/save/:ins_id', function (req, res, next) {
  var current_step, current_trace, current_user, current_user_info, e, flow, ins_id, instance, result, setObj, space_id, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    values = req.body;

    if (!values) {
      throw new Meteor.Error('error', 'need values');
    }

    current_trace = null;
    setObj = new Object();
    instance = uuflowManager.getInstance(ins_id);
    flow = uuflowManager.getFlow(instance.flow);

    _.each(instance.traces, function (t) {
      if (t.is_finished !== true) {
        return current_trace = t;
      }
    });

    current_step = uuflowManager.getStep(instance, flow, current_trace.step);

    if (current_step.step_type === "counterSign") {
      throw new Meteor.Error('error', '会签步骤不能修改表单值');
    }

    _.each(current_trace.approves, function (a) {
      if (a.is_finished !== true && a.type !== "cc") {
        return a.values = values;
      }
    });

    setObj.modified = new Date();
    setObj["traces.$.approves"] = current_trace.approves;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_trace._id
    }, {
      $set: setObj
    });
    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get_by_stepname.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get_by_stepname.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/getbystepname 根据步骤名称获取申请单

@apiName getInstanceByStepName

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "stepname": 步骤名称
}

@apiSuccessExample {json} Success-Response:
{
	"status": "success",
	"data": [
		{
			instance
		},
		{
			instance
		}
	]
}
 */JsonRoutes.add('post', '/api/workflow/open/getbystepname', function (req, res, next) {
  var current_user, current_user_info, e, flow, hashData, instances, space_id, stepname;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body;
    stepname = hashData["stepname"];
    flow = hashData["flow"];

    if (!stepname) {
      throw new Meteor.Error('error', 'need stepname');
    }

    if (!flow) {
      throw new Meteor.Error('error', 'need flow');
    }

    instances = db.instances.find({
      space: space_id,
      flow: flow,
      state: 'pending',
      traces: {
        $elemMatch: {
          is_finished: false,
          name: stepname
        }
      }
    }, {
      fields: {
        inbox_uers: 0,
        cc_users: 0,
        outbox_users: 0,
        attachments: 0,
        traces: 0
      }
    }).fetch();
    instances.forEach(function (instance) {
      return instance.attachments = cfs.instances.find({
        'metadata.instance': instance._id,
        'metadata.current': true,
        "metadata.is_private": {
          $ne: true
        }
      }, {
        fields: {
          copies: 0
        }
      }).fetch();
    });
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_cfs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_cfs.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Content-Type：application/json
form-data 格式:
fd = new FormData;
fd.append("file", file);

fd.append("is_private", false);

if (isAddVersion) {
	fd.append("isAddVersion", isAddVersion);
	fd.append("parent", attach_parent_id);
}

if (isMainAttach) {
	fd.append("main", true);
}
 */JsonRoutes.add('post', '/api/workflow/open/cfs/:ins_id', function (req, res, next) {
  var approve_id, current_user, current_user_info, e, ins_id, instance, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能上传');
    }

    approve_id = instance.traces[0].approves[0]._id;
    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    return JsonRoutes.parseFiles(req, res, function () {
      var collection, newFile;
      collection = cfs.instances;

      if (req.files && req.files[0]) {
        if (req.files[0].data.length > 100 * 1024 * 1024) {
          JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              errors: [{
                errorMessage: "超过上传附件大小限制(100M)"
              }]
            }
          });
          return;
        }

        newFile = new FS.File();
        return newFile.attachData(req.files[0].data, {
          type: req.files[0].mimeType
        }, function (err) {
          var body, e, fileObj, filename, metadata, parent, r, result, size;
          filename = req.files[0].filename;

          if (["image.jpg", "image.gif", "image.jpeg", "image.png"].includes(filename.toLowerCase())) {
            filename = "image-" + moment(new Date()).format('YYYYMMDDHHmmss') + "." + filename.split('.').pop();
          }

          body = req.body;
          body['owner'] = instance.submitter;
          body['owner_name'] = instance.submitter_name;
          body['space'] = space_id;
          body['instance'] = ins_id;
          body['approve'] = approve_id;

          try {
            if (body && (body['upload_from'] === "IE" || body['upload_from'] === "node")) {
              filename = decodeURIComponent(filename);
            }
          } catch (error) {
            e = error;
            console.error(filename);
            console.error(e);
            filename = filename.replace(/%/g, "-");
          }

          newFile.name(filename);

          if (body && body['owner'] && body['owner_name'] && body['space'] && body['instance'] && body['approve']) {
            parent = '';
            metadata = {
              owner: body['owner'],
              owner_name: body['owner_name'],
              space: body['space'],
              instance: body['instance'],
              approve: body['approve'],
              current: true
            };

            if (body["is_private"] && body["is_private"].toLocaleLowerCase() === "true") {
              metadata.is_private = true;
            } else {
              metadata.is_private = false;
            }

            if (body['main'] === "true") {
              metadata.main = true;
            }

            if (body['isAddVersion'] && body['parent']) {
              parent = body['parent'];
            }

            if (parent) {
              r = collection.update({
                'metadata.parent': parent,
                'metadata.current': true
              }, {
                $unset: {
                  'metadata.current': ''
                }
              });

              if (r) {
                metadata.parent = parent;

                if (body['locked_by'] && body['locked_by_name']) {
                  metadata.locked_by = body['locked_by'];
                  metadata.locked_by_name = body['locked_by_name'];
                }

                newFile.metadata = metadata;
                fileObj = collection.insert(newFile);

                if (body["overwrite"] && body["overwrite"].toLocaleLowerCase() === "true") {
                  collection.remove({
                    'metadata.instance': body['instance'],
                    'metadata.parent': parent,
                    'metadata.owner': body['owner'],
                    'metadata.approve': body['approve'],
                    'metadata.current': {
                      $ne: true
                    }
                  });
                }
              }
            } else {
              newFile.metadata = metadata;
              fileObj = collection.insert(newFile);
              fileObj.update({
                $set: {
                  'metadata.parent': fileObj._id
                }
              });
            }
          } else {
            fileObj = collection.insert(newFile);
          }

          size = fileObj.original.size;

          if (!size) {
            size = 1024;
          }

          result = new Object();
          result = {
            attach_id: fileObj._id,
            size: size
          };
          res.setHeader("x-amz-version-id", fileObj._id);
          return JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              status: "success",
              data: result
            }
          });
        });
      } else {
        JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            errors: [{
              errorMessage: "need file"
            }]
          }
        });
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("delete", "/api/workflow/open/cfs/:ins_id", function (req, res, next) {
  var attach_id, collection, current_user, current_user_info, e, file, hashData, ins_id, instance, result, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能删除附件');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body || {};
    attach_id = hashData["attach_id"];

    if (!attach_id) {
      throw new Meteor.Error('error', 'can not find attach_id');
    }

    collection = cfs.instances;
    file = collection.findOne({
      _id: attach_id,
      'metadata.instance': ins_id
    });

    if (file) {
      file.remove();
    } else {
      throw new Meteor.Error('error', '此附件不属于此申请单，或已被删除');
    }

    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("get", "/api/workflow/open/cfs/:attach_id", function (req, res, next) {
  var attach_id, current_user, current_user_info, e, space_id;

  try {
    attach_id = req.params.attach_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    res.statusCode = 302;
    res.setHeader("Location", Steedos.absoluteUrl("api/files/instances/") + attach_id + "?download=true");
    return res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_refill.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_refill", function (req, res, next) {
  var approve, columns, forward_ins, forward_ins_values, original_ins, original_ins_fields, original_ins_form, original_ins_id, original_subtable_fields, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, row_data, subTable, table_data, trace, traces;
  console.log("=========回填子表==========");
  console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
  console.log("=========分发回填的列==========");
  console.log("req?.query?.column", req != null ? (ref1 = req.query) != null ? ref1.column : void 0 : void 0);
  columns = req != null ? (ref2 = req.query) != null ? ref2.column.split(';') : void 0 : void 0;
  console.log("columns", columns);
  forward_ins = req != null ? (ref3 = req.body) != null ? ref3.instance : void 0 : void 0;
  subTable = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

  if ((forward_ins != null ? forward_ins.state : void 0) === "completed" && (forward_ins != null ? (ref5 = forward_ins.distribute_from_instances) != null ? ref5.length : void 0 : void 0) > 0 && subTable && columns) {
    forward_ins_values = forward_ins != null ? forward_ins.values : void 0;
    original_ins_id = _.last(forward_ins != null ? forward_ins.distribute_from_instances : void 0);
    original_ins = db.instances.findOne(original_ins_id);
    original_ins_form = db.forms.findOne(original_ins != null ? original_ins.form : void 0);
    original_ins_fields = [];
    original_subtable_fields = [];
    console.log("original_ins_form?.current?._id", original_ins_form != null ? (ref6 = original_ins_form.current) != null ? ref6._id : void 0 : void 0);
    console.log("original_ins?.form_version", original_ins != null ? original_ins.form_version : void 0);

    if ((original_ins != null ? original_ins.form_version : void 0) === (original_ins_form != null ? (ref7 = original_ins_form.current) != null ? ref7._id : void 0 : void 0)) {
      original_ins_fields = (ref8 = original_ins_form.current) != null ? ref8.fields : void 0;
      original_ins_fields.forEach(function (original_ins_field) {
        console.log("original_ins_field", original_ins_field != null ? original_ins_field.code : void 0);

        if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
          return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
        }
      });
    } else {
      if ((original_ins_form != null ? (ref9 = original_ins_form.historys) != null ? ref9.length : void 0 : void 0) > 0) {
        original_ins_form.historys.forEach(function (oh) {
          if ((original_ins != null ? original_ins.form_version : void 0) === oh._id) {
            original_ins_fields = oh != null ? oh.fields : void 0;
            return original_ins_fields.forEach(function (original_ins_field) {
              if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
                return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
              }
            });
          }
        });
      }
    }

    console.log("original_subtable_fields", original_subtable_fields != null ? original_subtable_fields.length : void 0);

    if (original_subtable_fields) {
      traces = original_ins != null ? original_ins.traces : void 0;
      trace = traces[traces.length - 1];
      approve = trace != null ? trace.approves[0] : void 0;
      table_data = (approve != null ? approve.values[subTable] : void 0) || [];
      row_data = {};
      columns.forEach(function (column) {
        return row_data[column] = forward_ins_values[column] || "";
      });

      if (row_data && row_data !== {}) {
        table_data.push(row_data);
        traces[traces.length - 1].approves[0].values[subTable] = table_data;
        console.log(traces[traces.length - 1].approves[0].values[subTable]);
        db.instances.update(original_ins_id, {
          $set: {
            'traces': traces
          }
        });
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'success': '回填成功'
          }
        });
      } else {
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'info': '回填数据为空'
          }
        });
      }
    } else {
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'error': '原申请单无相关子表'
        }
      });
    }
  } else {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'success': '申请单未结束'
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_table_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_table_refill.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_table_refill", function (req, res, next) {
  var a_table, a_table_values, approve, column_list, columns, d_ins, d_ins_fields, d_ins_form, d_ins_values, d_match_col, d_match_col_field, d_match_col_fields, d_subtable_fields, d_table, d_table_values, e, o_ins, o_ins_fields, o_ins_form, o_ins_id, o_match_col, o_match_col_field, o_match_col_fields, o_subtable_fields, o_table, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref22, ref3, ref4, ref5, ref6, ref7, ref8, ref9, table_data, trace, traces;

  try {
    console.log("=========原表子表==========");
    console.log("req?.query?.oTable", req != null ? (ref = req.query) != null ? ref.oTable : void 0 : void 0);
    console.log("=========现表子表==========");
    console.log("req?.query?.dTable", req != null ? (ref1 = req.query) != null ? ref1.dTable : void 0 : void 0);
    console.log("=========原表单的子表匹配列==========");
    console.log("req?.query?.oMatchCol", req != null ? (ref2 = req.query) != null ? ref2.oMatchCol : void 0 : void 0);
    console.log("=========现表单的子表匹配列==========");
    console.log("req?.query?.dMatchCol", req != null ? (ref3 = req.query) != null ? ref3.dMatchCol : void 0 : void 0);
    console.log("=========需要回填的列==========");
    console.log("req?.query?.refillCol", req != null ? (ref4 = req.query) != null ? ref4.refillCol : void 0 : void 0);
    d_ins = req != null ? (ref5 = req.body) != null ? ref5.instance : void 0 : void 0;

    if ((d_ins != null ? d_ins.state : void 0) === "completed") {
      if (req != null ? (ref6 = req.query) != null ? ref6.oTable : void 0 : void 0) {
        o_table = req != null ? (ref7 = req.query) != null ? ref7.oTable : void 0 : void 0;

        if (req != null ? (ref8 = req.query) != null ? ref8.dTable : void 0 : void 0) {
          d_table = req != null ? (ref9 = req.query) != null ? ref9.dTable : void 0 : void 0;
        } else {
          d_table = o_table;
        }

        if (req != null ? (ref10 = req.query) != null ? ref10.aTable : void 0 : void 0) {
          a_table = req != null ? (ref11 = req.query) != null ? ref11.aTable : void 0 : void 0;
        }

        if (req != null ? (ref12 = req.query) != null ? ref12.oMatchCol : void 0 : void 0) {
          o_match_col = req != null ? (ref13 = req.query) != null ? ref13.oMatchCol : void 0 : void 0;

          if (req != null ? (ref14 = req.query) != null ? ref14.dMatchCol : void 0 : void 0) {
            d_match_col = req != null ? (ref15 = req.query) != null ? ref15.dMatchCol : void 0 : void 0;
          } else {
            d_match_col = o_match_col;
          }

          columns = (req != null ? (ref16 = req.query) != null ? ref16.refillCol.split(';') : void 0 : void 0) || [];
          console.log("columns", columns);

          if (columns || columns.length < 1) {
            console.log("======================");
            console.log(d_table, o_match_col, columns);
            d_ins_values = d_ins != null ? d_ins.values : void 0;
            o_ins_id = _.last(d_ins != null ? d_ins.distribute_from_instances : void 0);
            o_ins = db.instances.findOne(o_ins_id);
            o_ins_form = db.forms.findOne(o_ins != null ? o_ins.form : void 0);
            d_ins_form = db.forms.findOne(d_ins != null ? d_ins.form : void 0);
            o_ins_fields = [];
            o_subtable_fields = [];
            d_ins_fields = [];
            d_subtable_fields = [];
            column_list = [];
            d_table_values = [];

            if ((o_ins != null ? o_ins.form_version : void 0) === (o_ins_form != null ? (ref17 = o_ins_form.current) != null ? ref17._id : void 0 : void 0)) {
              o_ins_fields = o_ins_form != null ? (ref18 = o_ins_form.current) != null ? ref18.fields : void 0 : void 0;
              o_ins_fields.forEach(function (o_ins_field) {
                if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                  return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                }
              });
            } else {
              if ((o_ins_form != null ? (ref19 = o_ins_form.historys) != null ? ref19.length : void 0 : void 0) > 0) {
                o_ins_form.historys.forEach(function (oh) {
                  if ((o_ins != null ? o_ins.form_version : void 0) === oh._id) {
                    o_ins_fields = oh != null ? oh.fields : void 0;
                    return o_ins_fields.forEach(function (o_ins_field) {
                      if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                        return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                      }
                    });
                  }
                });
              }
            }

            if ((d_ins != null ? d_ins.form_version : void 0) === (d_ins_form != null ? (ref20 = d_ins_form.current) != null ? ref20._id : void 0 : void 0)) {
              d_ins_fields = d_ins_form != null ? (ref21 = d_ins_form.current) != null ? ref21.fields : void 0 : void 0;
              d_ins_fields.forEach(function (d_ins_field) {
                if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                  return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                }
              });
            } else {
              if ((d_ins_form != null ? (ref22 = d_ins_form.historys) != null ? ref22.length : void 0 : void 0) > 0) {
                d_ins_form.historys.forEach(function (dh) {
                  if ((d_ins != null ? d_ins.form_version : void 0) === dh._id) {
                    d_ins_fields = dh != null ? dh.fields : void 0;
                    return d_ins_fields.forEach(function (d_ins_field) {
                      if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                        return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                      }
                    });
                  }
                });
              }
            }

            if (o_subtable_fields.length === 0) {
              console.log("o_subtable_fields", o_subtable_fields);
              throw new Meteor.Error('forward table refill error!', '原申请单无对应子表');
            }

            if (d_subtable_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单无对应子表');
            }

            d_table_values = (d_ins != null ? d_ins.values[d_table] : void 0) || [];

            if (a_table) {
              a_table_values = (d_ins != null ? d_ins.values[a_table] : void 0) || [];

              if (a_table_values && (a_table_values != null ? a_table_values.length : void 0) === (d_table_values != null ? d_table_values.length : void 0)) {
                a_table_values.forEach(function (a_row, index) {
                  var key, results, value;
                  results = [];

                  for (key in meteorBabelHelpers.sanitizeForInObject(a_row)) {
                    value = a_row[key];
                    results.push(d_table_values[index][key] = value);
                  }

                  return results;
                });
              }
            }

            if (d_table_values.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表数据为空');
            }

            o_match_col_fields = o_subtable_fields.filter(function (m) {
              return m.code === o_match_col;
            });
            d_match_col_fields = d_subtable_fields.filter(function (m) {
              return m.code === d_match_col;
            });

            if (o_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '原申请单子表无对应匹配列');
            }

            if (d_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应匹配列');
            }

            o_match_col_field = o_match_col_fields[0];
            d_match_col_field = d_match_col_fields[0];

            if ((o_match_col_field != null ? o_match_col_field.type : void 0) !== (d_match_col_field != null ? d_match_col_field.type : void 0)) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单和原申请单子表的匹配列字段不一致');
            }

            columns.forEach(function (column) {
              var col, cols, d_col, d_col_fields, o_col, o_col_fields;
              cols = column.split('-') || [];

              if (cols.length === 2) {
                o_col = cols[0];
                d_col = cols[1];
                o_col_fields = o_subtable_fields.filter(function (m) {
                  return m.code === o_col;
                });
                d_col_fields = d_subtable_fields.filter(function (m) {
                  return m.code === d_col;
                });

                if (o_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '原申请单子表无对应回填列');
                }

                if (d_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应回填列');
                }

                if ((o_col_fields != null ? o_col_fields.type : void 0) !== (d_col_fields != null ? d_col_fields.type : void 0)) {
                  throw new Meteor.Error('forward table refill error!', '回填列字段类型不一致');
                }

                col = {
                  o_col: o_col,
                  d_col: d_col
                };
                return column_list.push(col);
              } else {
                throw new Meteor.Error('forward table refill error!', '回填列不匹配');
              }
            });
            traces = o_ins != null ? o_ins.traces : void 0;
            trace = traces[traces.length - 1];
            approve = trace != null ? trace.approves[0] : void 0;
            table_data = (approve != null ? approve.values[o_table] : void 0) || [];
            d_table_values.forEach(function (d_row) {
              var count, has_obj, row_data;
              has_obj = false;
              count = -1;
              table_data.forEach(function (o_row, index) {
                if (o_row[o_match_col] === d_row[d_match_col]) {
                  has_obj = true;
                  return count = index;
                }
              });

              if (has_obj === true) {
                return column_list.forEach(function (col) {
                  return table_data[count][col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
              } else {
                row_data = {};
                row_data[o_match_col] = d_row[d_match_col];
                column_list.forEach(function (col) {
                  return row_data[col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
                return table_data.push(row_data);
              }
            });
            traces[traces.length - 1].approves[0].values = o_ins != null ? o_ins.values : void 0;
            traces[traces.length - 1].approves[0].values[o_table] = table_data;
            db.instances.update(o_ins_id, {
              $set: {
                'traces': traces
              }
            });
            JsonRoutes.sendResult(res, {
              code: 200,
              data: {
                'success': '回填成功'
              }
            });
          } else {
            throw new Meteor.Error('forward table refill error!', 'webhook未配置子表回填列字段 columns 值');
          }
        } else {
          throw new Meteor.Error('forward table refill error!', 'webhook未配置匹配列字段 oMatchCol 值');
        }
      } else {
        throw new Meteor.Error('forward table refill error!', 'webhook未配置原表单子表 oTable 值');
      }
    } else {
      throw new Meteor.Error('forward table refill error!', '申请单未结束');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_sub_table_sort.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_sub_table_sort.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/sub_table_sort", function (req, res, next) {
  var e, ins, new_table_values, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, sort_col, sub_table, sub_table_values, sum_col;

  try {
    console.log("=========子表==========");
    console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
    console.log("=========子表总分列==========");
    console.log("req?.query?.sumCol", req != null ? (ref1 = req.query) != null ? ref1.sumCol : void 0 : void 0);
    console.log("=========子表排序列==========");
    console.log("req?.query?.sortCol", req != null ? (ref2 = req.query) != null ? ref2.sortCol : void 0 : void 0);
    console.log("=========子表单列需要计算的和==========");
    console.log("req?.query?.singleCols", req != null ? (ref3 = req.query) != null ? ref3.singleCols : void 0 : void 0);
    sub_table = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

    if (!sub_table) {
      console.log("=====sub_table======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 subTable 字段');
    }

    sum_col = req != null ? (ref5 = req.query) != null ? ref5.sumCol : void 0 : void 0;

    if (!sum_col) {
      console.log("=====sum_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sumCol 字段');
    }

    sort_col = req != null ? (ref6 = req.query) != null ? ref6.sortCol : void 0 : void 0;

    if (!sort_col) {
      console.log("=====sort_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sortCol 字段');
    }

    ins = req != null ? (ref7 = req.body) != null ? ref7.instance : void 0 : void 0;
    sub_table_values = ins.values[sub_table];

    if ((sub_table_values != null ? sub_table_values.length : void 0) > 0) {
      var JsonSort = function (jsonArr, key, asc) {
        for (var j = 1, jl = jsonArr.length; j < jl; j++) {
          var temp = jsonArr[j],
              val = Number(temp[key]),
              i = j - 1;

          if (asc == true) {
            while (i >= 0 && Number(jsonArr[i][key]) > val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          } else {
            while (i >= 0 && Number(jsonArr[i][key]) < val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          }

          jsonArr[i + 1] = temp;
        }

        return jsonArr;
      };

      ;
      new_table_values = JsonSort(sub_table_values, sum_col, false);
      console.log("new_table_values", new_table_values);
      new_table_values.forEach(function (obj, index) {
        if (sort_col && obj[sum_col]) {
          return obj[sort_col] = (index + 1).toString();
        }
      });
      console.log("new_table_values", new_table_values);
      ins.values[sub_table] = new_table_values;
      db.instances.update(ins._id, {
        $set: {
          'values': ins.values
        }
      });
      console.log("success");
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'success': '计算排序成功'
        }
      });
    } else {
      throw new Meteor.Error('table sort error!', '子表数据为空');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"test_webhook.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/test_webhook.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isDevelopment) {
  JsonRoutes.add('post', '/test/webhook', function (req, res, next) {
    var e, hashData;

    try {
      hashData = req.body;
      console.log('action: ', hashData.action);
      console.log('from_user: ', hashData.from_user);
      console.log('to_users: ', hashData.to_users);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {}
      });
    } catch (error) {
      e = error;
      console.error(e.stack);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          errors: [{
            errorMessage: e.message
          }]
        }
      });
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_users.coffee                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/users", function (req, res, next) {
  var current_user, current_user_info, spaceId, spaceUsers, space_user, userIds;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  userIds = req.body.userIds;
  spaceId = req.body.spaceId;
  spaceUsers = [];
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!userIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getFormulaUserObjects(spaceId, userIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_organizations.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_organizations.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/orgs", function (req, res, next) {
  var current_user, current_user_info, orgIds, orgs, spaceId, space_user;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  orgIds = req.body.orgIds;
  spaceId = req.body.spaceId;
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!orgIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  orgs = WorkflowManager.getFormulaOrgObjects(orgIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'orgs': orgs
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"server":{"methods":{"set_instance_step_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/set_instance_step_approve.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_instance_step_approve: function (ins_id, step_approve, stepsApprovesOptions) {
    var _keys1, _keys2, ins, keys, stepsApproves;

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        state: 1
      }
    });

    if (ins.state !== 'draft') {
      return;
    }

    _keys1 = _.keys(step_approve);
    _keys2 = _.keys(stepsApprovesOptions);
    keys = _.compact(_.union(_keys1, _keys2));
    stepsApproves = {};

    _.each(keys, function (stepId) {
      var stepApproves, stepsApproveOptions;
      stepApproves = step_approve[stepId];
      stepsApproveOptions = stepsApprovesOptions[stepId];

      if (stepApproves) {
        stepsApproves[stepId] = stepApproves;

        if (stepsApproveOptions) {
          if (_.isArray(stepApproves)) {
            stepsApproveOptions = stepApproves.concat(stepsApproveOptions);
          } else {
            stepsApproveOptions.push(stepApproves);
          }
        }
      }

      if (stepsApproveOptions) {
        return stepsApproves[stepId + '_options'] = _.uniq(stepsApproveOptions);
      }
    });

    return db.instances.update({
      _id: ins_id
    }, {
      $set: {
        step_approve: stepsApproves
      }
    });
  },
  set_instance_skip_steps: function (ins_id, stepId, action) {
    if (action === 'pull') {
      return db.instances.update({
        _id: ins_id
      }, {
        $pull: {
          skip_steps: stepId
        }
      });
    } else if (action === 'push') {
      return db.instances.update({
        _id: ins_id
      }, {
        $push: {
          skip_steps: stepId
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_instance_data.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/get_instance_data.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  get_instance_data: function (instance_id, formCached, flowCached) {
    check(instance_id, String);
    check(formCached, Boolean);
    check(flowCached, Boolean);
    var instance = db.instances.findOne(instance_id);
    if (!instance) return {
      instance: null
    };
    if (formCached && flowCached) return {
      instance: instance
    };

    if (!formCached) {
      var form = db.forms.findOne(instance.form);
      var form_version = {};

      if (form.current._id == instance.form_version) {
        form_version = form.current;
      } else {
        form_version = _.where(form.historys, {
          _id: instance.form_version
        })[0];
      }
    }

    if (!flowCached) {
      var flow = db.flows.findOne(instance.flow);
      var flow_version = {};

      if (flow.current._id == instance.flow_version) {
        flow_version = flow.current;
      } else {
        flow_version = _.where(flow.historys, {
          _id: instance.flow_version
        })[0];
      }
    }

    return {
      instance: instance,
      form_version: form_version,
      flow_version: flow_version
    };
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"save_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/save_instance.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  draft_save_instance: function (ins) {
    if (!this.userId) return;
    var result = true;
    var setObj = {};
    var index = 0;
    var ins_id = ins._id;
    var trace_id = ins.traces[0]._id;
    var approve_id = ins.traces[0].approves[0]._id;
    var description = ins.traces[0].approves[0].description;
    var next_steps = ins.traces[0].approves[0].next_steps;
    var values = ins.traces[0].approves[0].values || {};
    var applicant_id = ins.applicant;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        applicant: 1,
        state: 1,
        submitter: 1,
        traces: 1,
        form: 1,
        flow_version: 1,
        space: 1,
        flow: 1
      }
    });
    var space_id = instance.space;
    var flow_id = instance.flow;
    var form_id = instance.form;
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.'; // 判断一个instance是否为拟稿状态

    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';
    uuflowManager.isInstanceDraft(instance, lang); // 判断一个用户是否是一个instance的提交者

    uuflowManager.isInstanceSubmitter(instance, this.userId);
    var flow = db.flows.findOne(flow_id, {
      fields: {
        "current._id": 1,
        "current.form_version": 1,
        "name": 1,
        "current.steps": 1
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (flow.current._id != instance.flow_version) {
      result = "upgraded";

      var start_step = _.find(flow.current.steps, function (s) {
        return s.step_type == "start";
      }); // 流程已升级


      setObj.flow_version = flow.current._id;
      setObj.form_version = flow.current.form_version; // 存入当前最新版flow中开始节点的step_id

      setObj["traces.$.step"] = start_step._id;
      setObj["traces.$.name"] = start_step.name;
    }

    if (instance.applicant != applicant_id) {
      // 申请人已变换
      var user = db.users.findOne(applicant_id, {
        fields: {
          name: 1
        }
      });
      var applicant = db.space_users.find({
        space: space_id,
        user: applicant_id
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = applicant.fetch()[0].organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      setObj.applicant = applicant_id;
      setObj.applicant_name = user.name;
      setObj.applicant_organization = org_id;
      setObj.applicant_organization_name = organization.name;
      setObj.applicant_organization_fullname = organization.fullname;
      setObj[key_str + 'user'] = applicant_id;
      setObj[key_str + 'user_name'] = user.name;
    }

    setObj[key_str + 'values'] = values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'judge'] = 'submitted';
    setObj[key_str + 'read_date'] = new Date();

    if (result != "upgraded" && next_steps) {
      setObj[key_str + 'next_steps'] = next_steps;
    } // 计算申请单标题


    var form = db.forms.findOne({
      _id: form_id
    }, {
      fields: {
        "current.name_forumla": 1
      }
    });
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      // var iscript = name_forumla.replace(/\{/g, "(values['").replace(/\}/g, "'] || '')");
      // var rev = eval(iscript);
      setObj.name = uuflowManager.getInstanceName(ins, values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return result;
  },
  inbox_save_instance: function (approve) {
    if (!this.userId) return;
    var setObj = {};
    var index = 0;
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve.id;
    var values = approve.values;
    var next_steps = approve.next_steps;
    var description = approve.description;
    var judge = approve.judge;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        flow_version: 1,
        flow: 1,
        state: 1,
        form: 1,
        form_version: 1,
        values: 1,
        code: 1
      }
    });
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    var current_approve = _.find(current_trace.approves, function (a) {
      return a._id == approve_id;
    }); // 判断一个instance是否为审核中状态


    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';

    try {
      uuflowManager.isInstancePending(instance, lang); // 判断一个trace是否为未完成状态

      uuflowManager.isTraceNotFinished(current_trace); // 判断一个approve是否为未完成状态

      uuflowManager.isApproveNotFinished(current_approve); // 判断当前用户是否approve 对应的处理人或代理人

      uuflowManager.isHandlerOrAgent(current_approve, this.userId);
    } catch (e) {
      console.log(e.stack);
      return true;
    }

    var flow_version = instance.flow_version;
    var flow_id = instance.flow;
    var step_id = "";
    step_id = current_trace.step;
    var flow = db.flows.findOne(flow_id, {
      fields: {
        current: 1,
        historys: 1
      }
    });
    var step = null;

    if (flow.current._id == flow_version) {
      flow.current.steps.forEach(function (s) {
        if (s._id == step_id) step = s;
      });
    } else {
      flow.historys.forEach(function (h) {
        h.steps.forEach(function (s) {
          if (s._id == step_id) step = s;
        });
      });
    }

    if (!step) return false;
    var step_type = step.step_type;
    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.';
    var permissions_values = uuflowManager.getApproveValues(approve.values, step.permissions, instance.form, instance.form_version);
    var change_values = approveManager.getChangeValues(instance.values, permissions_values);
    setObj.values = _.extend(instance.values || {}, permissions_values);

    if (!_.isEmpty(change_values)) {
      values_history = current_approve.values_history || [];
      values_history.push({
        values: change_values,
        create: new Date()
      });
      setObj[key_str + 'values_history'] = values_history;
    }

    setObj[key_str + 'is_read'] = true;
    setObj[key_str + 'read_date'] = new Date();
    setObj[key_str + 'values'] = setObj.values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'next_steps'] = next_steps;

    if (step_type == "submit" || step_type == "start") {
      setObj[key_str + 'judge'] = "submitted";
    } else {
      setObj[key_str + 'judge'] = judge;
    }

    setObj.modified = new Date();
    setObj.modified_by = this.userId; // 计算申请单标题

    var form = db.forms.findOne(instance.form);
    var form_v = uuflowManager.getFormVersion(form, instance.form_version);
    var name_forumla = form_v.name_forumla;

    if (name_forumla) {
      setObj.name = uuflowManager.getInstanceName(instance, setObj.values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"trace_approve_cc.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/trace_approve_cc.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // ??? 能否传阅给当前步骤处理人 如果当前步骤是会签。
  cc_do: function (approve, cc_user_ids, description) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve._id;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        space: 1,
        traces: 1,
        cc_users: 1,
        values: 1
      }
    });
    var current_user_id = this.userId;
    var space_id = instance.space;
    var new_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    cc_user_ids.forEach(function (userId, idx) {
      var user = db.users.findOne(userId, {
        fields: {
          name: 1
        }
      });
      var space_user = db.space_users.findOne({
        space: space_id,
        user: userId
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = space_user.organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var agent = uuflowManager.getAgent(space_id, userId);
      var handler_id = userId;
      var handler_info = user;
      var handler_space_user = space_user;
      var handler_org_info = organization;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent, {
          fileds: {
            name: 1
          }
        });
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
        cc_user_ids[idx] = agent;
      }

      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': ins_id,
        'trace': trace_id,
        'is_finished': false,
        'user': userId,
        'user_name': user.name,
        'handler': handler_id,
        'handler_name': handler_info.name,
        'handler_organization': handler_space_user.organization,
        'handler_organization_name': handler_org_info.name,
        'handler_organization_fullname': handler_org_info.fullname,
        'type': 'cc',
        'start_date': new Date(),
        'is_read': false,
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'opinion_fields_code': approve.opinion_fields_code,
        'sign_field_code': approve.opinion_fields_code && approve.opinion_fields_code.length == 1 ? approve.opinion_fields_code[0] : "",
        'from_approve_id': approve_id,
        'cc_description': description
      };

      if (agent) {
        appr.agent = agent;
      }

      uuflowManager.setRemindInfo(instance.values, appr);
      new_approves.push(appr);
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj,
      $addToSet: {
        'traces.$.approves': {
          $each: new_approves
        }
      },
      $push: {
        cc_users: {
          $each: cc_user_ids
        }
      }
    });
    instance = db.instances.findOne(ins_id);
    current_user_info = db.users.findOne(current_user_id);
    pushManager.send_instance_notification("trace_approve_cc", instance, "", current_user_info, cc_user_ids);
    flow_id = instance.flow;
    approve.cc_user_ids = cc_user_ids; // 记录下本次传阅的人员ID作为hook接口中的参数
    // 如果已经配置webhook并已激活则触发

    pushManager.triggerWebhook(flow_id, instance, approve, 'cc_do', current_user_id, cc_user_ids);
    return true;
  },
  cc_read: function (approve) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var current_user_id = this.userId;

    var current_trace = _.find(instance.traces, function (t) {
      return t._id == trace_id;
    });

    var index = 0;
    current_trace.approves.forEach(function (a, idx) {
      if (a.type == 'cc' && a.handler == current_user_id && !a.is_read) {
        index = idx;
      }
    });
    setObj['traces.$.approves.' + index + '.is_read'] = true;
    setObj['traces.$.approves.' + index + '.read_date'] = new Date();
    setObj.traces = traces;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj
    });
    return true;
  },
  cc_submit: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        cc_users: 1,
        outbox_users: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.type == 'cc' && a.handler == current_user_id && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.is_finished'] = true;
            upobj['traces.$.approves.' + idx + '.is_read'] = true;
            upobj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.cost_time'] = new Date() - a.start_date;
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });

    if (current_approve) {
      var index = 0; //设置意见，意见只添加到最后一条approve中

      traces.forEach(function (t) {
        if (current_approve && t._id === current_approve.trace) {
          if (t.approves) {
            t.approves.forEach(function (a, idx) {
              if (a._id === current_approve._id) {
                a.description = description;
                index = idx;
              }
            });
          }
        }
      });
      setObj.modified = new Date();
      setObj.modified_by = this.userId;
      setObj['traces.$.approves.' + index + '.description'] = description;
      db.instances.update({
        _id: ins_id,
        'traces._id': current_approve.trace
      }, {
        $set: setObj,
        $pull: {
          cc_users: current_user_id
        },
        $addToSet: {
          outbox_users: {
            $each: [current_user_id, current_approve.user]
          }
        }
      });
      instance = db.instances.findOne(ins_id);
      current_user_info = db.users.findOne(current_user_id); //传阅提交不通知传阅者

      if (false && description && current_approve && current_approve.from_user) {
        pushManager.send_instance_notification("trace_approve_cc_submit", instance, "", current_user_info, [current_approve.from_user]);
      }

      pushManager.send_message_to_specifyUser("current_user", current_user_id);
      flow_id = instance.flow; // 如果已经配置webhook并已激活则触发

      pushManager.triggerWebhook(flow_id, instance, current_approve, 'cc_submit', current_user_id, []);
    }

    return true;
  },
  cc_remove: function (instanceId, approveId) {
    var setObj = {};
    var instance = db.instances.findOne(instanceId, {
      fields: {
        traces: 1,
        cc_users: 1
      }
    });
    var traces = instance.traces;
    var trace_id,
        remove_user_id,
        multi = false;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a._id == approveId) {
            trace_id = a.trace;
            remove_user_id = a.handler;
            setObj['traces.$.approves.' + idx + '.judge'] = 'terminated';
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.read_date'] = new Date();
          }
        });
      }
    });
    if (!trace_id || !remove_user_id) return;
    var multi = 0;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a) {
          if (a.handler == remove_user_id && a.type == 'cc' && a.is_finished == false) {
            multi++;
          }
        });
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (multi > 1) {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj
      });
    } else {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj,
        $pull: {
          cc_users: remove_user_id
        }
      });
    }

    pushManager.send_message_to_specifyUser("current_user", remove_user_id);
    return true;
  },
  cc_save: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.handler == current_user_id && a.type == 'cc' && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.read_date'] = new Date();
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });
    var index = 0; //设置意见，意见只添加到最后一条approve中

    traces.forEach(function (t) {
      if (current_approve && t._id === current_approve.trace) {
        if (t.approves) {
          t.approves.forEach(function (a, idx) {
            if (a._id === current_approve._id) {
              index = idx;
            }
          });
        }
      }
    });
    setObj['traces.$.approves.' + index + '.description'] = description;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_approve.trace
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forward_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/forward_instance.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // 改为通过api调用
  forward_instance: function (instance_id, space_id, flow_id, hasSaveInstanceToAttachment, description, isForwardAttachments, selectedUsers, action_type, related, from_approve_id) {
    if (!this.userId) throw new Meteor.Error('not-authorized');
    return;
  },
  forward_remove: function (instance_id, trace_id, approve_id) {
    check(instance_id, String);
    check(trace_id, String);
    check(approve_id, String);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var trace = _.find(ins.traces, function (t) {
      return t._id == trace_id;
    });

    var approve = _.find(trace.approves, function (appr) {
      return appr._id == approve_id;
    });

    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, this.userId);

    if (!approve || !['forward', 'distribute'].includes(approve.type) || !approve.forward_instance) {
      if (!hasAdminPermission) {
        if (approve.from_user != this.userId) throw new Meteor.Error('error!', 'instance_forward_cannot_cancel');
      }
    }

    var forward_instance_id = approve.forward_instance;
    var forward_instance = db.instances.findOne(forward_instance_id);

    if (forward_instance) {
      if (forward_instance.state != "draft") {
        if (!hasAdminPermission) throw new Meteor.Error('error!', 'instance_forward_instance_state_changed');
      }

      var inbox_users = forward_instance.inbox_users || [];
      forward_instance.deleted = new Date();
      forward_instance.deleted_by = this.userId;
      var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

      if (deleted_forward_instance_id) {
        db.instances.remove({
          _id: forward_instance_id
        }); // 删除申请单后重新计算inbox_users的badge

        _.each(inbox_users, function (u_id) {
          pushManager.send_message_to_specifyUser("current_user", u_id);
        });
      }
    }

    var set_obj = new Object();
    set_obj.modified = new Date();
    set_obj.modified_by = this.userId;

    _.each(trace.approves, function (appr, idx) {
      if (appr._id == approve_id) {
        set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
        set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
        set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
        set_obj['traces.$.approves.' + idx + '.is_read'] = true;
        set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
      }
    });

    db.instances.update({
      _id: instance_id,
      "traces._id": trace_id
    }, {
      $set: set_obj
    });
    return true;
  },
  cancelDistribute: function (instance_id, approve_ids) {
    check(instance_id, String);
    check(approve_ids, Array);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    userId = this.userId;
    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, userId);

    _.each(ins.traces, function (t) {
      if (t.approves) {
        var exists = false;
        var set_obj = new Object();

        _.each(t.approves, function (a, idx) {
          if (approve_ids.includes(a._id) && (a.from_user == userId || hasAdminPermission) && 'distribute' == a.type && a.forward_instance) {
            var forward_instance_id = a.forward_instance;
            var forward_instance = db.instances.findOne(forward_instance_id);

            if (forward_instance) {
              if (forward_instance.state != "draft") {
                return;
              }

              var inbox_users = forward_instance.inbox_users || [];
              forward_instance.deleted = new Date();
              forward_instance.deleted_by = userId;
              var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

              if (deleted_forward_instance_id) {
                db.instances.remove({
                  _id: forward_instance_id
                }); // 删除申请单后重新计算inbox_users的badge

                _.each(inbox_users, function (u_id) {
                  pushManager.send_message_to_specifyUser("current_user", u_id);
                });
              }

              set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
              set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
              set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
              set_obj['traces.$.approves.' + idx + '.is_read'] = true;
              set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
            }

            exists = true;
          }
        });

        if (!exists) return;
        set_obj.modified = new Date();
        set_obj.modified_by = userId;
        db.instances.update({
          _id: instance_id,
          "traces._id": t._id
        }, {
          $set: set_obj
        });
      }
    });

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.js":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/cfs_instances.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cfs_instances_remove: function (file_id) {
    check(file_id, String);
    cfs.instances.remove(file_id);
    return true;
  },
  cfs_instances_set_current: function (file_id) {
    check(file_id, String);
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.current': true
      }
    });
    return true;
  },
  cfs_instances_lock: function (file_id, user_id, user_name) {
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.locked_by': user_id,
        'metadata.locked_by_name': user_name,
        'metadata.locked_time': new Date()
      }
    });
    return true;
  },
  cfs_instances_unlock: function (file_id) {
    cfs.instances.update({
      _id: file_id
    }, {
      $unset: {
        'metadata.locked_by': '',
        'metadata.locked_by_name': '',
        'metadata.locked_time': ''
      }
    });
    return true;
  },
  download_space_instance_attachments_to_disk: function (spaceId, cfsRecordIds) {
    if (!this.userId) return "不符合执行条件";
    if (Meteor.users.find({
      _id: this.userId,
      is_cloudadmin: true
    }).count() < 1) return "不符合执行条件";
    check(spaceId, String);
    var store = "instances";

    var fs = require('fs');

    var path = require('path');

    var mkdirp = require('mkdirp');

    var pathname = path.join(__meteor_bootstrap__.serverDir, '../../../cfs/spaceInstanceAttachments'); // Set absolute path

    var absolutePath = path.resolve(pathname); // Ensure the path exists

    mkdirp.sync(absolutePath);
    console.log('absolutePath: ', absolutePath);
    console.time('download_space_instance_attachments_to_disk');
    var query = {
      'metadata.space': spaceId
    };

    if (cfsRecordIds) {
      query._id = {
        $in: cfsRecordIds
      };
    }

    var downloadFailedRecordIds = [];
    cfs.instances.find(query).forEach(function (c) {
      try {
        var fileName = store + '-' + c._id + '-' + c.name();
        var filePath = path.join(absolutePath, fileName);
        Meteor.wrapAsync(function (callback) {
          try {
            var writer = fs.createWriteStream(filePath);
            writer.on('finish', function () {
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            var reader = c.createReadStream(store);
            reader.on('error', function (error) {
              downloadFailedRecordIds.push(c._id);
              console.error('download_space_instance_attachments_to_disk: ', c._id);
              console.error(error.stack);
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            reader.pipe(writer);
          } catch (error) {
            console.error('download_space_instance_attachments_to_disk: ', c._id);
            console.error(error.stack);
            if (callback && _.isFunction(callback)) callback();
            return;
          }
        })();
      } catch (error) {
        console.error('download_space_instance_attachments_to_disk: ', c._id);
        console.error(error.stack);
      }
    });

    if (downloadFailedRecordIds.length > 0) {
      console.error('downloadFailedRecordIds: ');
      console.error(downloadFailedRecordIds);
    }

    console.timeEnd('download_space_instance_attachments_to_disk');
    return downloadFailedRecordIds;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_approve.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_approve_have_read: function (instanceId, traceId, approveId) {
    var instance, ref, self, setObj, trace;

    if (!this.userId) {
      return;
    }

    self = this;
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {
        modified: new Date(),
        modified_by: self.userId
      };
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId && !approve.is_read) {
          setObj["traces.$.approves." + idx + ".is_read"] = true;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  change_approve_info: function (instanceId, traceId, approveId, description, finish_date) {
    var instance, ref, setObj, trace;

    if (!this.userId) {
      return;
    }

    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(description, String);
    check(finish_date, Date);
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          setObj["traces.$.approves." + idx + ".description"] = description;
          setObj["traces.$.approves." + idx + ".finish_date"] = finish_date;
          setObj["traces.$.approves." + idx + ".cost_time"] = new Date() - approve.start_date;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  update_approve_sign: function (instanceId, traceId, approveId, sign_field_code, description, sign_type, lastSignApprove) {
    var instance, lastTrace, ref, session_userId, setObj, trace, upObj;
    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(sign_field_code, String);
    check(description, String);

    if (!this.userId) {
      return;
    }

    session_userId = this.userId;

    if (lastSignApprove) {
      if (lastSignApprove.custom_sign_show) {
        return;
      }

      instance = db.instances.findOne({
        _id: instanceId,
        "traces._id": lastSignApprove.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });
      lastTrace = _.find(instance != null ? instance.traces : void 0, function (t) {
        return t._id = lastSignApprove.trace;
      });

      if (lastTrace) {
        setObj = {};

        if (lastTrace != null) {
          lastTrace.approves.forEach(function (a, idx) {
            if (a._id === lastSignApprove._id) {
              if (sign_type === "update") {
                setObj["traces.$.approves." + idx + ".sign_show"] = false;
                setObj["traces.$.approves." + idx + ".modified"] = new Date();
                return setObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
              }
            }
          });
        }

        if (!_.isEmpty(setObj)) {
          db.instances.update({
            _id: instanceId,
            "traces._id": lastTrace._id
          }, {
            $set: setObj
          });
        }
      }
    }

    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      upObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          if (sign_field_code) {
            upObj["traces.$.approves." + idx + ".sign_field_code"] = sign_field_code;
          }

          upObj["traces.$.approves." + idx + ".description"] = description;
          upObj["traces.$.approves." + idx + ".sign_show"] = true;
          upObj["traces.$.approves." + idx + ".modified"] = new Date();
          upObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
          return upObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(upObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: upObj
        });
      }

      return true;
    }
  },
  update_sign_show: function (objs, myApprove_id) {
    objs.forEach(function (obj, index) {
      var instance, ref, setObj, trace;
      instance = db.instances.findOne({
        _id: obj.instance,
        "traces._id": obj.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });

      if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
        trace = instance.traces[0];
        setObj = {};
        trace.approves.forEach(function (approve, idx) {
          if (approve._id === obj._id) {
            setObj["traces.$.approves." + idx + ".sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".custom_sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }

          if (approve._id === myApprove_id) {
            return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }
        });

        if (!_.isEmpty(setObj)) {
          return db.instances.update({
            _id: obj.instance,
            "traces._id": obj.trace
          }, {
            $set: setObj
          });
        }
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_return.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_return.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_return: function (approve, reason) {
    var approve_values, b, current_step, current_user, current_user_info, flow, ins, instance, instance_id, last_trace, newTrace, new_inbox_users, now, pre_step, pre_trace, r, rest_counter_users, setObj, space_id, traces;
    check(approve, Object);
    current_user = this.userId;
    instance_id = approve.instance;
    ins = uuflowManager.getInstance(instance_id);
    space_id = ins.space;

    if (ins.state !== "pending" || !ins.inbox_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.type === "cc" && ins.cc_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (ins.traces.length < 2) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    flow = uuflowManager.getFlow(ins.flow);
    pre_trace = ins.traces[ins.traces.length - 2];
    pre_step = uuflowManager.getStep(ins, flow, pre_trace.step);

    if (pre_step.step_type === "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    last_trace = _.last(ins.traces);
    current_step = uuflowManager.getStep(ins, flow, last_trace.step);

    if (current_step.step_type !== "submit" && current_step.step_type !== "sign" && current_step.step_type !== "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.trace !== last_trace._id) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    new_inbox_users = new Array();

    _.each(pre_trace.approves, function (a) {
      if ((!a.type || a.type === "draft" || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected")) {
        return new_inbox_users.push(a.user);
      }
    });

    if (_.isEmpty(new_inbox_users)) {
      throw new Meteor.Error('error!', "未找到下一步处理人，退回失败");
    }

    traces = ins.traces;
    approve_values = uuflowManager.getApproveValues(approve.values || {}, current_step.permissions, ins.form, ins.form_version);
    setObj = new Object();
    now = new Date();
    rest_counter_users = new Array();

    _.each(traces, function (t) {
      if (t._id === last_trace._id) {
        if (!t.approves) {
          t.approves = new Array();
        }

        _.each(t.approves, function (a, idx) {
          if ((!a.type || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected" || a.judge === "readed") && a.is_finished !== true) {
            setObj['traces.$.approves.' + idx + '.finish_date'] = now;
            setObj['traces.$.approves.' + idx + '.read_date'] = now;
            setObj['traces.$.approves.' + idx + '.is_error'] = false;
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.cost_time'] = now - a.start_date;
            setObj['traces.$.approves.' + idx + '.values'] = approve_values;

            if (a.handler === current_user) {
              setObj['traces.$.approves.' + idx + '.judge'] = "returned";
              return setObj['traces.$.approves.' + idx + '.description'] = reason;
            } else {
              return rest_counter_users.push(a.handler);
            }
          }
        });

        setObj['traces.$.is_finished'] = true;
        setObj['traces.$.finish_date'] = true;
        return setObj['traces.$.judge'] = "returned";
      }
    });

    ins.values = _.extend(ins.values || {}, approve_values);
    newTrace = new Object();
    newTrace._id = new Mongo.ObjectID()._str;
    newTrace.instance = instance_id;
    newTrace.previous_trace_ids = [last_trace._id];
    newTrace.is_finished = false;
    newTrace.step = pre_trace.step;
    newTrace.name = pre_trace.name;
    newTrace.start_date = now;
    newTrace.due_date = uuflowManager.getDueDate(pre_step.timeout_hours);
    newTrace.approves = [];

    _.each(new_inbox_users, function (next_step_user_id, idx) {
      var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
      newApprove = new Object();
      newApprove._id = new Mongo.ObjectID()._str;
      newApprove.instance = instance_id;
      newApprove.trace = newTrace._id;
      newApprove.is_finished = false;
      newApprove.user = next_step_user_id;
      user_info = db.users.findOne(next_step_user_id, {
        fields: {
          name: 1
        }
      });
      newApprove.user_name = user_info.name;
      handler_id = next_step_user_id;
      handler_info = user_info;
      agent = uuflowManager.getAgent(space_id, next_step_user_id);

      if (agent) {
        new_inbox_users[idx] = agent;
        handler_id = agent;
        handler_info = db.users.findOne({
          _id: agent
        }, {
          fields: {
            name: 1
          }
        });
        newApprove.agent = agent;
      }

      newApprove.handler = handler_id;
      newApprove.handler_name = handler_info.name;
      next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
      next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
      newApprove.handler_organization = next_step_user_org_info["organization"];
      newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
      newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
      newApprove.start_date = now;
      newApprove.is_read = false;
      newApprove.is_error = false;
      newApprove.values = new Object();
      uuflowManager.setRemindInfo(ins.values, newApprove);
      return newTrace.approves.push(newApprove);
    });

    setObj.inbox_users = new_inbox_users;
    setObj.state = "pending";
    ins.outbox_users.push(current_user);
    setObj.outbox_users = _.uniq(ins.outbox_users);
    setObj.modified = now;
    setObj.modified_by = current_user;
    setObj.values = ins.values;
    setObj.current_step_name = pre_trace.name;
    r = db.instances.update({
      _id: instance_id,
      'traces._id': last_trace._id
    }, {
      $set: setObj
    });
    b = db.instances.update({
      _id: instance_id
    }, {
      $push: {
        traces: newTrace
      }
    });

    if (r && b) {
      pushManager.send_message_to_specifyUser("current_user", current_user);
      instance = uuflowManager.getInstance(instance_id);
      current_user_info = db.users.findOne(current_user);
      pushManager.send_instance_notification("return_pending_inbox", instance, reason, current_user_info);

      _.each(rest_counter_users, function (user_id) {
        return pushManager.send_message_to_specifyUser("current_user", user_id);
      });
    }

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_remind.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_remind.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_remind: function (remind_users, remind_count, remind_deadline, instance_id, action_types, trace_id) {
    var current_user_id, ins, last_remind_users, now, priority, trace;
    check(remind_users, Array);
    check(remind_count, Match.OneOf('single', 'multi'));
    check(remind_deadline, Date);
    check(instance_id, String);
    check(action_types, Array);
    check(trace_id, String);
    current_user_id = this.userId;
    last_remind_users = new Array();
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        name: 1,
        traces: 1,
        values: 1,
        space: 1
      }
    });

    if (action_types.includes('admin')) {
      if (remind_count === 'single') {
        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              return last_remind_users.push(ap.user);
            }
          });
        });
      } else if (remind_count === 'multi') {
        now = new Date();
        priority = ins.values.priority;

        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            var caculate_date;

            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              last_remind_users.push(ap.user);
              ap.manual_deadline = remind_deadline;

              if (priority === "普通" || !priority) {} else if (priority === "办文") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "紧急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "特急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              }
            }
          });
        });

        if (!_.isEmpty(last_remind_users)) {
          db.instances.update({
            _id: instance_id
          }, {
            $set: {
              'traces': ins.traces
            }
          });
        }
      }
    } else if (action_types.includes('applicant')) {
      trace = _.find(ins.traces, function (t) {
        return t._id === trace_id;
      });

      _.each(trace.approves, function (ap) {
        if (remind_users.includes(ap.user) && ap.is_finished !== true) {
          return last_remind_users.push(ap.user);
        }
      });
    } else if (action_types.includes('cc')) {
      _.each(ins.traces, function (t) {
        return _.each(t.approves, function (ap) {
          if (remind_users.includes(ap.user) && ap.is_finished !== true && ap.type === 'cc' && ap.from_user === current_user_id) {
            return last_remind_users.push(ap.user);
          }
        });
      });
    }

    uuflowManager.sendRemindSMS(ins.name, remind_deadline, last_remind_users, ins.space, ins._id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"next_step_users_not_found.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/next_step_users_not_found.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  next_step_users_not_found: function (deal_type, step_name, params) {
    var approver_roles, lang, roles, roles_name, str, user;
    check(deal_type, String);
    check(step_name, String);
    check(params, Object);
    str = "";
    user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    lang = 'en';

    if (user.locale === 'zh-cn') {
      lang = 'zh-CN';
    }

    if (deal_type === 'applicantRole') {
      approver_roles = params.approver_roles;
      roles = db.flow_roles.find({
        _id: {
          $in: approver_roles
        }
      }, {
        fields: {
          name: 1
        }
      }).fetch();
      roles_name = _.pluck(roles, 'name').toString();
      str = TAPi18n.__('next_step_users_not_found.applicant_role', {
        step_name: step_name,
        role_name: roles_name
      }, lang);
    }

    return str;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_number_rules.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_number_rules.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval;

_eval = require('eval');
Meteor.methods({
  instanceNumberBuilder: function (spaceId, name) {
    var _NUMBER, _YYYY, context, date, e, numberRules, res, rules, script;

    numberRules = db.instance_number_rules.findOne({
      space: spaceId,
      name: name
    });

    if (!numberRules) {
      throw new Meteor.Error('error!', "" + name);
    }

    date = new Date();
    context = {};
    context._ = _;
    _YYYY = date.getFullYear();
    _NUMBER = (numberRules.number || 0) + 1;
    context.YYYY = _.clone(_YYYY);
    context.MM = date.getMonth() + 1;
    context.mm = date.getMonth() + 1;

    if (context.MM < 10) {
      context.MM = "0" + context.MM;
    }

    context.DD = date.getDate();
    context.dd = date.getDate();

    if (context.DD < 10) {
      context.DD = "0" + context.DD;
    }

    if (context.YYYY !== numberRules.year) {
      _NUMBER = numberRules.first_number || 1;
    }

    context.NUMBER = _.clone(_NUMBER);
    rules = numberRules.rules.replace("{YYYY}", "' + YYYY + '").replace("{MM}", "' + MM + '").replace("{NUMBER}", "' + NUMBER + '");
    script = "var newNo = '" + rules + "'; exports.newNo = newNo";

    try {
      res = _eval(script, "newNo", context, false).newNo;
      db.instance_number_rules.update({
        _id: numberRules._id
      }, {
        $set: {
          year: _YYYY,
          number: _NUMBER
        }
      });
      console.log(this.userId, res);
    } catch (error) {
      e = error;
      res = {
        _error: e
      };
    }

    return res;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"check_main_attach.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/check_main_attach.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  check_main_attach: function (ins_id, name) {
    check(ins_id, String);
    uuflowManager.checkMainAttach(ins_id, name);
    return 'success';
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/related_instances.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  remove_related: function (ins_id, re_ins_id) {
    var index, ins, res, set_obj;
    check(ins_id, String);
    check(re_ins_id, String);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        related_instances: 1
      }
    });

    if (ins) {
      res = ins.related_instances || [];
      index = res.indexOf(re_ins_id);

      if (index > -1) {
        res.remove(index);
      }

      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = res;
      return db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }
  },
  update_instance_related: function (ins_id, related_instances) {
    var ins, set_obj;
    check(ins_id, String);
    check(related_instances, Array);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id,
      $or: [{
        submitter: this.userId
      }, {
        applicant: this.userId
      }, {
        inbox_users: this.userId
      }, {
        cc_users: this.userId
      }]
    }, {
      fields: {
        state: 1
      }
    });

    if (ins) {
      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = related_instances;
      db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }

    return db.instances.find({
      _id: {
        $in: related_instances
      }
    }, {
      fields: {
        _id: 1,
        values: 1
      }
    }).fetch();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"edit_flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/edit_flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  updateFlowPosition: function (data) {
    return db.flow_positions.update({
      _id: data._id
    }, {
      $set: {
        role: data.role,
        users: data.users,
        org: data.org
      }
    });
  },
  updateFlowRole: function (data) {
    console.log(data._id);
    console.log(data.name);
    return db.flow_roles.update({
      _id: data._id
    }, {
      $set: {
        name: data.name
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"start_flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/start_flow.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  start_flow: function (space, flowId, start) {
    var keyValue, start_flows;
    keyValue = db.steedos_keyvalues.findOne({
      space: space,
      user: this.userId,
      key: 'start_flows'
    }, {
      fields: {
        value: 1
      }
    });
    start_flows = (keyValue != null ? keyValue.value : void 0) || [];

    if (start) {
      start_flows.push(flowId);
      start_flows = _.uniq(start_flows);
    } else {
      start_flows.remove(start_flows.indexOf(flowId));
    }

    if (keyValue) {
      return db.steedos_keyvalues.update({
        _id: keyValue._id
      }, {
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    } else {
      return db.steedos_keyvalues.insert({
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_traces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_traces.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  get_instance_traces: function (ins_id) {
    var ins, miniApproveFields;

    if (!this.userId) {
      return;
    }

    miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description'];
    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        "traces._id": 1,
        "traces.is_finished": 1,
        "traces.step": 1,
        "traces.start_date": 1,
        "traces.name": 1,
        "traces.finish_date": 1,
        "traces.judge": 1,
        "traces.approves._id": 1,
        "traces.approves.is_finished": 1,
        "traces.approves.user": 1,
        "traces.approves.handler": 1,
        "traces.approves.handler_name": 1,
        "traces.approves.handler_organization_fullname": 1,
        "traces.approves.type": 1,
        "traces.approves.start_date": 1,
        "traces.approves.description": 1,
        "traces.approves.is_read": 1,
        "traces.approves.judge": 1,
        "traces.approves.finish_date": 1,
        "traces.approves.from_user_name": 1,
        "traces.approves.from_user": 1,
        "traces.approves.cc_description": 1,
        "traces.approves.trace": 1,
        "traces.approves.forward_space": 1,
        "traces.approves.forward_instance": 1
      }
    });

    if (!ins) {
      return;
    }

    return ins != null ? ins.traces : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_batch.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_batch.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  'get_batch_instances': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return _batch_instances;
  },
  'get_batch_instances_count': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return (_batch_instances != null ? _batch_instances.length : void 0) || 0;
  },
  'get_my_approves': function (instanceIds) {
    var myApproves, that;
    that = this;

    if (!that.userId) {
      return;
    }

    myApproves = new Array();
    instanceIds.forEach(function (insId) {
      var my_approve;
      my_approve = InstanceManager.getMyApprove(insId, that.userId);

      if (my_approve) {
        return myApproves.push(my_approve);
      }
    });
    return myApproves;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/flow.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  change_flow_state: function (flows) {
    var _userId;

    check(flows, Array);
    _userId = this.userId;

    if (!_userId) {
      return;
    }

    return flows.forEach(function (flow) {
      var _flows, _flows_state, flowId, form, formId, form_current_fields_code, now, spaceId, state;

      spaceId = flow.space;
      formId = flow.form;
      flowId = flow.id;
      state = flow.state;

      if (!Steedos.isSpaceAdmin(spaceId, _userId)) {
        throw Meteor.Error(401, "No permission");
      }

      form = db.forms.findOne({
        _id: formId
      }, {
        fields: {
          historys: 0
        }
      });
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          historys: 0
        }
      });

      if (state !== 'enabled' && state !== 'disabled') {
        throw new Meteor.Error(500, "state无效");
      }

      if (!form) {
        throw new Meteor.Error(500, "form无效");
      }

      if (!flow) {
        throw new Meteor.Error(500, "flow无效");
      }

      if (!form.is_valid) {
        throw new Meteor.Error(500, "流程引用的表单[" + form.name + "]验证未通过，请打开流程设计器检查表单设置");
      }

      if (!flow.is_valid) {
        throw new Meteor.Error(500, "流程验证未通过，请打开流程设计器检查流程设置");
      }

      if (!['new', 'modify', 'delete'].includes(flow.flowtype)) {
        throw new Meteor.Error(500, "流程验证未通过，flowtype值必须是new、modify、delete其中之一");
      }

      if (!_.isArray(flow.current.steps)) {
        throw new Meteor.Error(500, "流程验证未通过，流程的步骤不能为空");
      }

      if (_.uniq(flow.current.steps, 'name').length !== flow.current.steps.length) {
        throw new Meteor.Error(500, "流程验证未通过，同一个流程下的步骤的名称不能重复");
      }

      now = new Date();

      if (state === 'enabled') {
        flow.current.steps.forEach(function (step) {
          var specifyStep;

          if (['specifyStepUser', 'specifyStepRole'].includes(step.deal_type)) {
            if (!step.approver_step) {
              throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
            } else {
              specifyStep = _.find(flow.current.steps, function (_step) {
                return step.approver_step === _step._id;
              });

              if (!specifyStep) {
                throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
              }
            }
          }
        });
        form_current_fields_code = form.current.fields.getProperty("code");
        flow.current.steps.forEach(function (step) {
          return step.fields_modifiable = _.intersection(step.fields_modifiable, form_current_fields_code);
        });

        if (form.state === 'disabled') {
          db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "enabled",
              "current.start_date": now,
              "current.modified": now,
              "current.modified_by": _userId
            }
          });
        }

        flow.current.modified = now;
        flow.current.start_date = now;
        flow.current.modified_by = _userId;
        return db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "enabled",
            "current": flow.current
          }
        });
      } else {
        db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "disabled",
            "current.modified": now,
            "current.start_date": now,
            "current.modified_by": _userId
          }
        });
        _flows = db.flows.find({
          form: form._id
        }, {
          fields: {
            _id: 1,
            state: 1
          }
        }).fetch();
        _flows_state = _flows.getProperty("state");

        if (!_flows_state.includes('enabled')) {
          return db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "disabled",
              "current.modified": now,
              "current.start_date": now,
              "current.modified_by": _userId
            }
          });
        }
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distribute.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/distribute.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"hide_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/hide_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  hide_instance: function (insId, is_hidden) {
    var instance, permissions, space, userId;

    if (!this.userId) {
      return;
    }

    check(insId, String);
    check(is_hidden, Boolean);
    userId = this.userId;
    instance = db.instances.findOne(insId, {
      fields: {
        state: 1,
        flow: 1,
        space: 1
      }
    });

    if (!instance) {
      throw new Meteor.Error('error!', "未找到申请单");
    }

    if (instance.state !== 'completed') {
      throw new Meteor.Error('error!', "申请单状态不是已结束");
    }

    permissions = permissionManager.getFlowPermissions(instance.flow, userId);
    space = db.spaces.findOne(instance.space, {
      fields: {
        admins: 1
      }
    });

    if (!permissions.includes("admin") && !space.admins.includes(userId)) {
      throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
    }

    db.instances.update(insId, {
      $set: {
        is_hidden: is_hidden
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_value.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_value.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  getInstanceValues: function (insId) {
    var ref;

    if (!this.userId) {
      return;
    }

    return (ref = db.instances.findOne({
      _id: insId
    }, {
      fields: {
        values: 1
      }
    })) != null ? ref.values : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"routes":{"instance.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies, getInstanceReadOnly;
Cookies = require("cookies");

getInstanceReadOnly = function (req, res, next, options) {
  var _hasPermission, _locale, _parent_instances, dataBuf, error, hide_traces, html, instance, instanceId, ref, ref1, space, spaceId, spaceUserCount, user, userId;

  user = Steedos.getAPILoginUser(req, res);

  if (req != null ? (ref = req.query) != null ? ref.access_token : void 0 : void 0) {
    userId = Steedos.getUserIdFromAccessToken(req.query.access_token);

    if (userId) {
      user = Meteor.users.findOne({
        _id: userId
      });
    }
  }

  spaceId = req.params.space;
  instanceId = req.params.instance_id;
  instance = db.instances.findOne({
    _id: instanceId
  });
  space = db.spaces.findOne({
    _id: spaceId
  });
  hide_traces = (ref1 = req.query) != null ? ref1.hide_traces : void 0;

  if (!options) {
    options = {
      showTrace: true
    };
  } else {
    options.showTrace = true;
  }

  if (hide_traces === "1") {
    if (options) {
      options.showTrace = false;
    } else {
      options = {
        showTrace: false
      };
    }
  }

  if (!options.showAttachments) {
    options.showAttachments = true;
  }

  if (!space) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space",
        "success": false
      }
    });
    return;
  }

  if (!instance) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing instance",
        "success": false
      }
    });
    return;
  }

  if (!user) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Auth-Token,X-User-Id",
        "success": false
      }
    });
    return;
  }

  if (instance.space !== spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space or instance",
        "success": false
      }
    });
    return;
  }

  spaceUserCount = db.space_users.find({
    user: user._id,
    space: spaceId
  }).count();

  if (spaceUserCount === 0) {
    if (!space) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- Missing sapceUser",
          "success": false
        }
      });
      return;
    }
  }

  _hasPermission = WorkflowManager.hasInstancePermissions(user, instance);

  if (!_hasPermission && instance.distribute_from_instance) {
    _parent_instances = _.union([instance.distribute_from_instance], instance.distribute_from_instances || []);
    _hasPermission = _.find(_parent_instances, function (_parent_id) {
      var _parent_ins;

      _parent_ins = db.instances.findOne({
        _id: _parent_id
      }, {
        fields: {
          traces: 0
        }
      });
      return WorkflowManager.hasInstancePermissions(user, _parent_ins);
    });
  }

  if (!_hasPermission) {
    _locale = Steedos.locale(user._id, true);
    error = TAPi18n.__("instance_permissions_error", {}, _locale);
    res.charset = "utf-8";
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": error,
        "success": false
      }
    });
    return;
  }

  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
};

JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id", getInstanceReadOnly);
JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id/:instance_name", function (req, res, next) {
  var options;
  res.setHeader('Content-type', 'application/x-msdownload');
  res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(req.params.instance_name));
  res.setHeader('Transfer-Encoding', '');
  options = {
    absolute: true
  };
  return getInstanceReadOnly(req, res, next, options);
}); /*
    	获取申请单列表：
        final_decision：审批结果
        state: 申请单状态
     */
JsonRoutes.add("get", "/api/workflow/instances", function (req, res, next) {
  var f, flowId, flowIds, flows, i, instances, query, ref, ref1, ref2, ref3, ret_sync_token, spaceId, spaceUser, spaceUserOrganizations, sync_token, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  spaceId = req.headers["x-space-id"];

  if (!spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Space-Id",
        "success": false
      }
    });
    return;
  }

  flowId = (ref = req.query) != null ? ref.flowId : void 0;

  if (!flowId) {
    JsonRoutes.sendResult(res, {
      code: 400,
      data: {
        "error": "Validate Request -- Missing flowId",
        "success": false
      }
    });
    return;
  }

  query = {};
  ret_sync_token = new Date().getTime();
  flowIds = flowId.split(",");
  flows = db.flows.find({
    _id: {
      $in: flowIds
    }
  }).fetch();
  i = 0;

  while (i < flows.length) {
    f = flows[i];
    spaceUser = db.space_users.findOne({
      space: f.space,
      user: user_id
    });

    if (!spaceUser) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- No permission, flow is " + f._id,
          "success": false
        }
      });
      return;
    } else {}

    if (!Steedos.isSpaceAdmin(spaceId, user_id)) {
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: spaceUser.organizations
        }
      }).fetch();

      if (!WorkflowManager.canMonitor(f, spaceUser, spaceUserOrganizations) && !WorkflowManager.canAdmin(f, spaceUser, spaceUserOrganizations)) {
        JsonRoutes.sendResult(res, {
          code: 401,
          data: {
            "error": "Validate Request -- No permission, flow is " + f._id,
            "success": false
          }
        });
        return;
      }
    }

    i++;
  }

  query.flow = {
    $in: flowIds
  };
  query.space = spaceId;

  if ((ref1 = req.query) != null ? ref1.sync_token : void 0) {
    sync_token = new Date(Number(req.query.sync_token));
    query.modified = {
      $gt: sync_token
    };
  }

  if ((ref2 = req.query) != null ? ref2.final_decision : void 0) {
    query.final_decision = {
      $in: req.query.final_decision.split(",")
    };
  } else {
    query.final_decision = {
      $nin: ["terminated", "rejected"]
    };
  }

  if ((ref3 = req.query) != null ? ref3.state : void 0) {
    query.state = {
      $in: req.query.state.split(",")
    };
  } else {
    query.state = "completed";
  }

  instances = db.instances.find(query, {
    fields: {
      inbox_uers: 0,
      cc_users: 0,
      outbox_users: 0,
      traces: 0,
      attachments: 0
    },
    skip: 0,
    limit: 500
  }).fetch();
  instances.forEach(function (instance) {
    var attachments;
    attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return instance.attachments = attachments;
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      "status": "success",
      "sync_token": ret_sync_token,
      "data": instances
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steedos_css.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/steedos_css.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/steedos-css", function (req, res, next) {
  var allCss, allCssLink;
  allCss = WebApp.getRefreshableAssets();
  allCssLink = "";
  allCss.forEach(function (css) {
    var cssHref, rootUrl;

    if (__meteor_runtime_config__.ROOT_URL_PATH_PREFIX) {
      rootUrl = __meteor_runtime_config__.ROOT_URL;

      if (rootUrl.endsWith("/")) {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX + "/", "") + css.url;
      } else {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX, "") + css.url;
      }
    } else {
      cssHref = Meteor.absoluteUrl(css.url);
    }

    return allCssLink += "@import url(" + cssHref + ");";
  });
  res.statusCode = 200;
  return res.end(allCssLink);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft_view.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance_draft_view.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/api/workflow/space/:space/view/draft/:flow", function (req, res, next) {
  var dataBuf, flow, flowId, form, html, instance, options, space, spaceId, user, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  user = db.users.findOne({
    _id: user_id
  });
  spaceId = req.params.space;
  flowId = req.params.flow;
  space = db.spaces.findOne({
    _id: spaceId
  });
  flow = db.flows.findOne({
    _id: flowId
  }, {
    fields: {
      name: 1,
      'current._id': 1,
      form: 1
    }
  });
  form = db.forms.findOne({
    _id: flow.form
  }, {
    fields: {
      'current._id': 1
    }
  });
  options = {
    showTrace: false,
    showAttachments: false,
    templateName: "default",
    editable: true,
    width: "100%",
    instance_style: "instance-default",
    plugins: "\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n<title>" + flow.name + "</title>\n<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />\n<meta name=\"viewport\" content=\"width=device-width\" />\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css\">\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js\" type=\"text/javascript\"></script>\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js\" type=\"text/javascript\" charset=\"UTF-8\"></script>\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/toastr/toastr.min.css\">\n<script src=\"/plugins/toastr/toastr.min.js\" type=\"text/javascript\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/workflow_client.css\">\n<script src=\"/js/workflow_client.js\" type=\"text/javascript\"></script>"
  };
  instance = {
    flow: flow._id,
    flow_version: flow.current._id,
    form: form._id,
    form_version: form.current._id,
    values: {},
    name: flow.name,
    space: spaceId
  };
  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"lib":{"1_form_formula.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/1_form_formula.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Array.prototype.filterProperty = function (h, l) {
  var g = [];
  this.forEach(function (t) {
    var m = t ? t[h] : null;
    var d = false;

    if (m instanceof Array) {
      d = m.includes(l);
    } else {
      d = l === undefined ? false : m == l;
    }

    if (d) {
      g.push(t);
    }
  });
  return g;
};

Array.prototype.getProperty = function (k) {
  var v = new Array();
  this.forEach(function (t) {
    var m = t ? t[k] : null;
    v.push(m);
  });
  return v;
};

Array.prototype.getEach = function (code) {
  var rev = [];

  for (var i = 0; i < this.length; i++) {
    rev.push(this[i][code]);
  }

  return rev;
};

Array.prototype.uniq = function () {
  var a = [];
  this.forEach(function (b) {
    if (a.indexOf(b) < 0) {
      a[a.length] = b;
    }
  });
  return a;
};

Form_formula = {};

Form_formula.mixin = function (dest, src) {
  for (var key in src) {
    dest[key] = src[key];
  }

  return dest;
};

Form_formula.handerUserObject = function (u) {
  if (u instanceof Array) {
    var user = {};
    user.name = u.getProperty("name");
    user.organization = {};
    user.organization.name = u.getProperty("organization").getProperty("name");
    user.organization.fullname = u.getProperty("organization").getProperty("fullname");
    user.hr = u.getProperty("hr");
    user.sort_no = u.getProperty("sort_no");
    user.mobile = u.getProperty("mobile");
    user.work_phone = u.getProperty("work_phone");
    user.position = u.getProperty("position");
    var userRoles = u.getProperty("roles");
    var roles = new Array();
    userRoles.forEach(function (i) {
      roles = roles.concat(i);
    });
    roles.uniq();
    user.roles = roles;
    return user;
  } else {
    return u;
  }
};

Form_formula.handerOrgObject = function (o) {
  if (o instanceof Array) {
    var org = {};
    org.id = o.getProperty("_id");
    org.name = o.getProperty("name");
    org.fullname = o.getProperty("fullname");
    return org;
  } else {
    return o;
  }
};
/**
    * 获得公式需要用到的初始值
    * 输入：fields, values, applicant
    * 输出：__values
**/


Form_formula.init_formula_values = function (fields, autoFormDoc, approver, applicant, spaceId) {
  var __values = {}; //申请单中填的值处理

  if (fields && fields.length && autoFormDoc) {
    //debugger;
    fields.forEach(function (field) {
      var type = field.type;

      if (type) {
        if (type === 'table') {
          /*
          * 将表格字段的值进行转换后传入__values中
          * values中表格的值格式为
          * [{"a":1,"b":4},{"a":2,"b":5},{"a":3,"b":6}]
          * __values需要转化为下面格式且和主表的值一样放到第一层
          * {"a":[1,2,3],"b":[4,5,6]}
          **/
          var tableFields = field.sfields,
              tableValues = autoFormDoc[field.code],
              formulaTableValues = [],
              __tableValues = {}; //按公式的格式转换值为__tableValues

          if (tableFields && tableFields.length && tableValues && tableValues instanceof Array) {
            tableValues.forEach(function (tableValue) {
              formulaTableValues.push(Form_formula.init_formula_values(tableFields, tableValue));
            }, this); //按主表的格式转换__tableValues加到

            tableFields.forEach(function (tablefield) {
              __tableValues[tablefield.code] = formulaTableValues.getEach(tablefield.code);
            });
            __values = Form_formula.mixin(__values, __tableValues);
          }
        } else if (type == 'user') {
          __values[field.code] = Form_formula.handerUserObject(WorkflowManager.getFormulaUserObjects(spaceId, autoFormDoc[field.code]));
        } else if (type == 'group') {
          __values[field.code] = Form_formula.handerOrgObject(WorkflowManager.getFormulaOrgObjects(autoFormDoc[field.code]));
        } else if (type == 'odata') {
          __values[field.code] = autoFormDoc[field.code] || {};
        } else {
          //此处传spaceId给选人控件的旧数据计算roles和organization
          __values[field.code] = autoFormDoc[field.code];
        }
      }
    }, this);
  } //当前处理人


  __values["approver"] = WorkflowManager.getFormulaUserObject(spaceId, approver); //申请人

  __values["applicant"] = WorkflowManager.getFormulaUserObject(spaceId, applicant);
  return __values;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_handlers_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/get_handlers_manager.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
getHandlersManager = {};

getHandlersManager.getHandlersByUsersAndRoles = function (user_ids, role_ids, space_id) {
  var approve_users;
  approve_users = new Array();

  _.each(user_ids, function (user_id) {
    var users;

    if (db.users.find({
      _id: user_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRoles(user_id, role_ids, space_id);

      if (users.length > 0) {
        return approve_users = approve_users.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "user_id不合法不合法");
    }
  });

  approve_users = _.uniq(approve_users);
  return approve_users;
};

getHandlersManager.getHandlersByUserAndRoles = function (user_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;

    if (db.flow_roles.find({
      _id: role_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRole(user_id, role_id, space_id);

      if (users.length > 0) {
        return user_ids = user_ids.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "role_id已经被删除");
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据user_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByUserAndRole = function (user_id, role_id, space_id) {
  var orgs, user_ids;
  orgs = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      _id: 1
    }
  }).fetch();
  user_ids = new Array();

  _.each(orgs, function (org) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org._id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgsAndRoles = function (org_ids, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(org_ids, function (org_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRoles(org_id, role_ids, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgAndRoles = function (org_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org_id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据org_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByOrgAndRole = function (org_id, role_id, space_id) {
  var org, parents, positions, user_ids;
  org = db.organizations.findOne({
    _id: org_id
  }, {
    fields: {
      parents: 1
    }
  });
  user_ids = new Array();
  positions = db.flow_positions.find({
    space: space_id,
    org: org_id,
    role: role_id
  }, {
    fields: {
      users: 1
    }
  }).fetch();

  _.each(positions, function (position) {
    return user_ids = user_ids.concat(position.users);
  });

  if (user_ids.length === 0) {
    parents = org.parents;

    _.each(parents, function (parent_id) {
      positions = db.flow_positions.find({
        space: space_id,
        org: parent_id,
        role: role_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();

      if (positions.length > 0) {
        return _.each(positions, function (position) {
          return user_ids = user_ids.concat(position.users);
        });
      }
    });
  }

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlers = function (instance_id, step_id) {
  var _approve, _space_user, _trace, applicant, applicantSuperiors, approveHrRoleIds, approve_users, approver_org_field, approver_org_ids, approver_step, approver_user_field, approver_user_ids, current, current_flow, current_flow_version, current_form, current_step, current_steps, deal_type, field_code, finished_traces, flow_id, flow_rev, form, form_fields, form_id, form_rev, handlers, instance, max_startDate_trace, new_approver_user_ids, new_org_user_ids, newest_values, next_step_users, org_ids, org_ids_names, org_user_ids, space_id, space_user_count, submitter, submitter_user_count, unfinished_trace, user_ids, user_ids_names, users, valid_approver_org_ids;

  instance = db.instances.findOne(instance_id);

  if (instance.step_approve && instance.step_approve[step_id]) {
    return instance.step_approve[step_id];
  }

  approve_users = new Array();
  space_id = instance.space;
  flow_id = instance.flow;
  flow_rev = instance.flow_version;
  current_flow = db.flows.findOne(flow_id);
  current_step = null;
  current_steps = new Array();

  if (current_flow.current._id === flow_rev) {
    current_steps = current_flow.current.steps;
  } else {
    current = _.find(current_flow.historys, function (history) {
      return history._id === flow_rev;
    });
    current_steps = current.steps;
  }

  current_step = _.find(current_steps, function (step) {
    return step._id === step_id;
  });

  if (current_step.step_type === "condition") {
    unfinished_trace = _.find(instance.traces, function (trace) {
      return trace.is_finished === false;
    });
    return new Array(unfinished_trace.approves[0].user);
  }

  if (current_step.step_type === "start") {
    handlers = new Array();
    handlers.push(instance.applicant);
    handlers.push(instance.submitter);
    handlers = _.uniq(handlers);
    return handlers;
  }

  deal_type = current_step.deal_type;
  users = new Array();

  if (deal_type === "applicantRole") {
    applicant = instance.applicant;

    if (applicant) {
      space_user_count = db.space_users.find({
        space: space_id,
        user: applicant
      }).count();

      if (space_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
      }

      if (current_step.approver_roles && current_step.approver_roles.length > 0) {
        _.each(current_step.approver_roles, function (approver_role) {
          var role_count;
          role_count = db.flow_roles.find({
            _id: approver_role
          }).count();

          if (role_count === 0) {
            throw new Meteor.Error('error!', "角色已经被删除");
          }
        });

        return getHandlersManager.getHandlersByUserAndRoles(applicant, current_step.approver_roles, space_id);
      } else {
        throw new Meteor.Error('error!', "审批岗位未指定");
      }
    } else {
      throw new Meteor.Error('error!', "Instance的提交人为空");
    }
  } else if (deal_type === "hrRole") {
    approveHrRoleIds = current_step.approver_hr_roles;

    if (approveHrRoleIds) {
      return _.pluck(WorkflowManager.getHrRolesUsers(space_id, approveHrRoleIds), 'user');
    } else {
      throw new Meteor.Error('error!', "角色未指定");
    }
  } else if (deal_type === "applicant") {
    applicant = instance.applicant;
    space_user_count = db.space_users.find({
      space: space_id,
      user: applicant
    }).count();

    if (space_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
    } else {
      return new Array(applicant);
    }
  } else if (deal_type === "orgFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByOrgsAndRoles(org_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "orgField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    user_ids = new Array();

    _.each(org_ids, function (org_id) {
      var check_orgs, org, org_children, org_users;
      org = db.organizations.findOne({
        _id: org_id
      }, {
        fields: {
          users: 1
        }
      });
      org_children = db.organizations.find({
        space: space_id,
        parents: org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      org_children.unshift(org);
      check_orgs = org_children;
      org_users = new Array();

      _.each(check_orgs, function (check_org_user) {
        if (check_org_user.users) {
          _.each(check_org_user.users, function (org_user) {
            if (db.space_users.find({
              space: space_id,
              user: org_user
            }).count() === 0) {
              throw new Meteor.Error('error!', "space下不存在此user");
            }
          });
        }

        user_ids = user_ids.concat(check_org_user.users);
        return org_users = org_users.concat(check_org_user.users);
      });

      if (org_users.length === 0) {
        throw new Meteor.Error('error!', "组织" + org_id + "不存在处理人");
      }
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "userFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByUsersAndRoles(user_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "userField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "specifyStepRole") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    if (current_step.approver_roles) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', "角色已经被删除");
        }
      });
    }

    _.each(approve_users, function (approve_user) {
      if (db.space_users.find({
        space: space_id,
        user: approve_user
      }).count() === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    return getHandlersManager.getHandlersByUsersAndRoles(approve_users, current_step.approver_roles, space_id);
  } else if (deal_type === "specifyStepUser") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    _.each(approve_users, function (approve_user) {
      var check_approve_user_count;
      check_approve_user_count = db.space_users.find({
        space: space_id,
        user: approve_user
      }).count();

      if (check_approve_user_count === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    approve_users = _.uniq(approve_users);
    return approve_users;
  } else if (deal_type === "submitterRole") {
    submitter = instance.submitter;

    if (!submitter) {
      submitter_user_count = db.space_users.find({
        space: space_id,
        user: submitter
      }).count();

      if (submitter_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
      } else {
        if (current_step.approver_roles && current_step.approver_roles.length > 0) {
          _.each(current_step.approver_roles, function (approver_role) {
            var role_count;
            role_count = db.flow_roles.find({
              _id: approver_role
            }).count();

            if (role_count === 0) {
              throw new Meteor.Error('error!', approver_role + "已经被删除");
            }
          });

          return getHandlersManager.getHandlersByUserAndRoles(submitter, current_step.approver_roles, space_id);
        } else {
          throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
        }
      }
    } else {
      throw new Meteor.Error('error!', "申请单的提交人为空");
    }
  } else if (deal_type === "submitter") {
    submitter = instance.submitter;
    submitter_user_count = db.space_users.find({
      space: space_id,
      user: submitter
    }).count();

    if (submitter_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
    } else {
      return new Array(submitter);
    }
  } else if (deal_type === "specifyOrg") {
    approver_org_ids = current_step.approver_orgs;

    if (!approver_org_ids || approver_org_ids.length === 0) {
      throw new Meteor.Error('error!', "未定义用于查找下一步处理人的部门，请联系管理员调查流程图的配置是否正确");
    }

    valid_approver_org_ids = new Array();

    _.each(approver_org_ids, function (approver_org_id) {
      if (db.organizations.find({
        _id: approver_org_id
      }).count() > 0) {
        return valid_approver_org_ids.unshift(approver_org_id);
      }
    });

    org_user_ids = new Array();

    _.each(valid_approver_org_ids, function (valid_approver_org_id) {
      var child_orgs, valid_approver_org;
      valid_approver_org = db.organizations.findOne({
        _id: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      });

      if (valid_approver_org.users) {
        org_user_ids = org_user_ids.concat(valid_approver_org.users);
      }

      child_orgs = db.organizations.find({
        space: space_id,
        parents: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      return _.each(child_orgs, function (child_org) {
        if (child_org.users) {
          return org_user_ids = org_user_ids.concat(child_org.users);
        }
      });
    });

    org_user_ids = _.uniq(org_user_ids);
    new_org_user_ids = new Array();

    _.each(org_user_ids, function (org_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: org_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_org_user_ids.push(org_user_id);
      }
    });

    return new_org_user_ids;
  } else if (deal_type === "specifyUser") {
    approver_user_ids = current_step.approver_users;
    approver_user_ids = _.uniq(approver_user_ids);
    new_approver_user_ids = new Array();

    _.each(approver_user_ids, function (approver_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: approver_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_approver_user_ids.push(approver_user_id);
      }
    });

    return new_approver_user_ids;
  } else if (deal_type === "pickupAtRuntime") {
    next_step_users = new Array();
    _trace = _.find(instance.traces, function (_tr) {
      return _tr.is_finished === false;
    });
    _approve = _.find(_trace.approves, function (_app) {
      return _app.is_finished === false && _app.type !== 'cc';
    });

    if (_approve.next_steps) {
      if (_approve.next_steps[0]["users"]) {
        next_step_users = _approve.next_steps[0]["users"];
      }
    }

    return next_step_users;
  } else if (deal_type === "applicantSuperior") {
    applicantSuperiors = new Array();
    _space_user = db.space_users.findOne({
      space: space_id,
      user: instance.applicant
    }, {
      fields: {
        manager: 1
      }
    });

    if (_space_user.manager) {
      applicantSuperiors.push(_space_user.manager);
    }

    return applicantSuperiors;
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"permission_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/permission_manager.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
permissionManager = {};

permissionManager.getFlowPermissions = function (flow_id, user_id) {
  var flow, my_permissions, org_ids, organizations, orgs_can_add, orgs_can_admin, orgs_can_monitor, space_id, users_can_add, users_can_admin, users_can_monitor;
  flow = uuflowManager.getFlow(flow_id);
  space_id = flow.space;
  org_ids = new Array();
  organizations = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      parents: 1
    }
  }).fetch();

  _.each(organizations, function (org) {
    org_ids.push(org._id);

    if (org.parents) {
      return _.each(org.parents, function (parent_id) {
        return org_ids.push(parent_id);
      });
    }
  });

  org_ids = _.uniq(org_ids);
  my_permissions = new Array();

  if (flow.perms) {
    if (flow.perms.users_can_add) {
      users_can_add = flow.perms.users_can_add;

      if (users_can_add.includes(user_id)) {
        my_permissions.push("add");
      }
    }

    if (flow.perms.orgs_can_add) {
      orgs_can_add = flow.perms.orgs_can_add;

      _.each(org_ids, function (org_id) {
        if (orgs_can_add.includes(org_id)) {
          return my_permissions.push("add");
        }
      });
    }

    if (flow.perms.users_can_monitor) {
      users_can_monitor = flow.perms.users_can_monitor;

      if (users_can_monitor.includes(user_id)) {
        my_permissions.push("monitor");
      }
    }

    if (flow.perms.orgs_can_monitor) {
      orgs_can_monitor = flow.perms.orgs_can_monitor;

      _.each(org_ids, function (org_id) {
        if (orgs_can_monitor.includes(org_id)) {
          return my_permissions.push("monitor");
        }
      });
    }

    if (flow.perms.users_can_admin) {
      users_can_admin = flow.perms.users_can_admin;

      if (users_can_admin.includes(user_id)) {
        my_permissions.push("admin");
      }
    }

    if (flow.perms.orgs_can_admin) {
      orgs_can_admin = flow.perms.orgs_can_admin;

      _.each(org_ids, function (org_id) {
        if (orgs_can_admin.includes(org_id)) {
          return my_permissions.push("admin");
        }
      });
    }
  }

  my_permissions = _.uniq(my_permissions);
  return my_permissions;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"approve_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/approve_manager.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
approveManager = {}; /*
                         对比approve_values与last_values 对象， 返回approve_values比last_values多出的或者改变的部分
                      */

approveManager.getChangeValues = function (last_values, approve_values) {
  var approve_values_keys, changeValues, last_values_keys;
  changeValues = {};
  last_values_keys = _.keys(last_values);
  approve_values_keys = _.keys(approve_values);
  approve_values_keys.forEach(function (key) {
    if (_.contains(last_values_keys, key)) {
      if (!_.isEqual(last_values[key], approve_values[key])) {
        return changeValues[key] = approve_values[key];
      }
    } else {
      if (approve_values[key] !== '') {
        return changeValues[key] = approve_values[key];
      }
    }
  });
  return changeValues;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/flow_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
flowManager = {};

flowManager.getCategoriesFlows = function (spaceId, categorieId, fields) {
  var categoriesForms;
  categoriesForms = formManager.getCategoriesForms(spaceId, categorieId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: categoriesForms.getProperty("_id")
    }
  });
};

flowManager.getUnCategoriesFlows = function (spaceId, fields) {
  var unCategoriesForms;
  unCategoriesForms = formManager.getUnCategoriesForms(spaceId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: unCategoriesForms.getProperty("_id")
    }
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"form_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/form_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
formManager = {};

formManager.getCategoriesForms = function (spaceId, categorieId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: categorieId,
    state: "enabled"
  }, _fields);
};

formManager.getUnCategoriesForms = function (spaceId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: {
      $in: [null, ""]
    },
    state: "enabled"
  }, _fields);
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/step_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
stepManager = {};

stepManager.allowBatch = function (step) {
  return step.allowBatch;
};

stepManager.getStep = function (instance, flow, step_id) {
  var flow_rev, isExistStep;
  flow_rev = instance.flow_version;
  isExistStep = null;

  if (flow.current._id === flow_rev) {
    isExistStep = _.find(flow.current.steps, function (step) {
      return step._id === step_id;
    });
  } else {
    _.each(flow.historys, function (history) {
      if (history._id === flow_rev) {
        return isExistStep = _.find(history.steps, function (step) {
          return step._id === step_id;
        });
      }
    });
  }

  if (!isExistStep) {
    throw new Meteor.Error('error!', "不能获取step");
  }

  return isExistStep;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_manager.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/instance_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval, logger;

_eval = require('eval');
InstanceManager = {};
logger = new Logger('Workflow -> InstanceManager');

InstanceManager.handlerInstanceByFieldMap = function (ins, field_map) {
  var context, e, flow, res, script;
  res = ins;

  if (ins) {
    if (!field_map) {
      flow = db.flows.findOne({
        _id: ins.flow
      }, {
        fields: {
          field_map: 1
        }
      });

      if (flow != null ? flow.field_map : void 0) {
        field_map = flow.field_map;
      }
    }

    if (field_map) {
      context = _.clone(ins);
      context._ = _;
      script = "var instances = " + field_map + "; exports.instances = instances";

      try {
        res = _eval(script, "handlerInstanceByFieldMap", context, false).instances;
      } catch (error) {
        e = error;
        res = {
          _error: e
        };
        logger.error(e);
      }
    }
  }

  return res;
};

InstanceManager.getCurrentApprove = function (instance, handler) {
  var currentApprove, currentApproves, currentTraces;

  if (!instance || !instance.traces || instance.traces.length < 1) {
    return;
  }

  currentTraces = instance.traces.filterProperty('is_finished', false);

  if (currentTraces.length) {
    currentApproves = currentTraces[0].approves.filterProperty('is_finished', false).filterProperty('handler', handler);
    currentApprove = currentApproves.length > 0 ? currentApproves[0] : null;
  }

  if (!currentApprove || currentApprove.type === 'cc') {
    _.each(instance.traces, function (t) {
      _.each(t.approves, function (a) {
        if (a.type === 'cc' && a.user === handler && a.is_finished === false) {
          currentApprove = a;
        }
      });
    });
  }

  if (!currentApprove) {
    return;
  }

  return currentApprove;
};

InstanceManager.getCurrentTrace = function (instance, traceId) {
  return instance.traces.findPropertyByPK("_id", traceId);
};

InstanceManager.getMyApprove = function (instanceId, userId) {
  var flow, instance, judge, my_approve, nextSteps, next_user_ids, step, step_type, trace;
  instance = db.instances.findOne({
    _id: instanceId
  });
  flow = uuflowManager.getFlow(instance.flow);
  my_approve = InstanceManager.getCurrentApprove(instance, userId);

  if (my_approve) {
    trace = InstanceManager.getCurrentTrace(instance, my_approve.trace);
    step = uuflowManager.getStep(instance, flow, trace.step);
    step_type = step.step_type;
    judge = step_type === "sign" ? "approved" : "";
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, judge);

    if (nextSteps.length === 1) {
      if (step_type === "sign" || step_type === "counterSign") {
        my_approve.judge = 'approved';
      }

      next_user_ids = getHandlersManager.getHandlers(instance._id, nextSteps[0]);

      if (!next_user_ids) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: []
        }];
        return my_approve;
      }

      if (next_user_ids.length === 1) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: next_user_ids
        }];
        return my_approve;
      }
    }
  }
};

InstanceManager.getBatchInstances = function (space, categoryId, flowIds, inbox_user) {
  var FIELDS, _batch_instances, categoryFlows, inbox_instances, query, unCategoryFlows;

  _batch_instances = new Array();
  query = {
    space: space,
    inbox_users: inbox_user
  };
  FIELDS = {
    name: 1,
    applicant_name: 1,
    submit_date: 1,
    flow_version: 1,
    "traces.step": 1,
    flow: 1,
    current_step_name: 1,
    flow_name: 1
  };

  if (categoryId) {
    if (categoryId === '-1') {
      unCategoryFlows = flowManager.getUnCategoriesFlows(space, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: unCategoryFlows
      };
    } else {
      categoryFlows = flowManager.getCategoriesFlows(space, categoryId, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: categoryFlows
      };
    }
  }

  if (flowIds) {
    query.flow = {
      $in: flowIds
    };
  }

  inbox_instances = db.instances.find(query, {
    fields: FIELDS,
    skip: 0,
    limit: 100
  });
  inbox_instances.forEach(function (ins) {
    var currentStep, currentStepId, flow, myApprove;
    currentStepId = _.last(ins.traces).step;
    flow = db.flows.findOne({
      _id: ins.flow
    });
    currentStep = stepManager.getStep(ins, flow, currentStepId);
    myApprove = InstanceManager.getMyApprove(ins._id, inbox_user);

    if (stepManager.allowBatch(currentStep) && myApprove) {
      delete ins.flow_version;
      delete ins.traces;
      delete ins.flow;
      ins.approve_start_date = myApprove.start_date;
      return _batch_instances.push(ins);
    }
  });
  return _batch_instances;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"publications":{"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/categories.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('categories', function (spaceId) {
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.categories.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      space: 1,
      sort_no: 1,
      app: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/cfs_instances.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('cfs_instances', function (instanceIds) {
  check(instanceIds, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceIds) {
    return this.ready();
  }

  return cfs.instances.find({
    'metadata.instance': {
      $in: instanceIds
    },
    $or: [{
      'metadata.is_private': {
        $ne: true
      }
    }, {
      'metadata.is_private': true,
      "metadata.owner": this.userId
    }]
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_positions', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_positions.find({
    space: spaceId
  }, {
    fields: {
      role: 1,
      users: 1,
      org: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions_tabular.coffee                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publishComposite('flow_positions_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flow_positions.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (position) {
        this.unblock();
        return db.flow_roles.find({
          _id: position.role
        }, {
          fields: {
            name: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.organizations.find({
          _id: position.org
        }, {
          fields: {
            fullname: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.space_users.find({
          space: position.space,
          user: {
            $in: position.users
          }
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_roles.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_roles', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_roles.find({
    space: spaceId
  }, {
    fields: {
      name: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flows.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flows', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (db.flows.find({
    space: spaceId
  }).count() === 0) {
    db.spaces.createTemplateFormAndFlow(spaceId);
  }

  return db.flows.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      company_id: 1,
      sort_no: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1
    }
  });
});
Meteor.publish('flow_version', function (spaceId, flowId, versionId) {
  var getFlowVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFlowVersion = function (id, versionId) {
    var flow, flow_version;
    flow = db.flows.findOne({
      _id: id
    });

    if (flow) {
      flow_version = flow.current;
      flow_version.latest = true;

      if (flow_version._id !== versionId) {
        flow_version = flow.historys.findPropertyByPK("_id", versionId);
        flow_version.latest = false;
      }

      return flow_version;
    }
  };

  handle = db.flows.find({
    _id: flowId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("flow_versions", versionId, getFlowVersion(id, versionId));
    }
  });
  self.added("flow_versions", versionId, getFlowVersion(flowId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('distribute_optional_flows', function (flow_ids) {
  if (!this.userId) {
    return this.ready();
  }

  if (!flow_ids) {
    return this.ready();
  }

  return db.flows.find({
    _id: {
      $in: flow_ids
    }
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publish('flow', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return db.flows.find({
    _id: flowId,
    space: spaceId
  }, {
    fields: {
      print_template: 1,
      instance_template: 1,
      events: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      upload_after_being_distributed: 1,
      distribute_end_notification: 1,
      company_id: 1,
      allow_select_step: 1
    }
  });
});
Meteor.publish('flow_files', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return cfs.files.find({
    'metadata.space': spaceId,
    'metadata.object_name': 'flows',
    'metadata.record_id': flowId
  });
});
Meteor.publishComposite('flows_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flows.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (flow) {
        this.unblock();
        return db.space_users.find({
          space: flow.space,
          user: flow.current.modified_by
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.forms.find({
          space: flow.space,
          _id: flow.form
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1,
            category: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.categories.find({
          space: flow.space
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/forms.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('forms', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.forms.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      category: 1,
      state: 1,
      description: 1,
      instance_style: 1
    }
  });
});
Meteor.publish('form_version', function (spaceId, formId, versionId) {
  var getFormVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!formId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFormVersion = function (id, versionId) {
    var form, form_version;
    form = db.forms.findOne({
      _id: id
    });

    if (!form) {
      return {};
    }

    form_version = form.current;
    form_version.latest = true;

    if (form_version._id !== versionId) {
      form_version = form.historys.findPropertyByPK("_id", versionId);
      form_version.latest = false;
    }

    return form_version;
  };

  handle = db.forms.find({
    _id: formId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("form_versions", versionId, getFormVersion(id, versionId));
    }
  });
  self.added("form_versions", versionId, getFormVersion(formId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_data.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_data.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instance_data', function (instanceId, box) {
  var getMiniInstance, getMyapproveModified, handle, instance, instance_fields_0, miniApproveFields, needChange, self, triggerChangeFields, triggerChangeFieldsValues;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;
  miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description', 'auto_submitted'];
  triggerChangeFields = ['form_version', 'flow_version', 'related_instances', '_my_approve_read_dates'];
  triggerChangeFieldsValues = {};
  instance_fields_0 = {
    "record_synced": 0,
    "traces.approves.handler_organization_name": 0,
    "traces.approves.handler_organization": 0,
    "traces.approves.cost_time": 0,
    "traces.approves.is_error": 0,
    "traces.approves.deadline": 0,
    "traces.approves.remind_date": 0,
    "traces.approves.reminded_count": 0,
    "traces.approves.modified_by": 0,
    "traces.approves.modified": 0,
    "traces.approves.geolocation": 0,
    "traces.approves.cc_users": 0,
    "traces.approves.from_approve_id": 0,
    "traces.approves.values_history": 0
  };

  getMyapproveModified = function (traces) {
    var myApproveModifieds;
    myApproveModifieds = new Array();

    if (traces != null) {
      traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.user === self.userId || approve.handler === self.userId) {
            return myApproveModifieds.push(approve.read_date);
          }
        }) : void 0 : void 0;
      });
    }

    return myApproveModifieds;
  };

  getMiniInstance = function (_instanceId) {
    var instance, ref, ref1, show_modal_traces_list, traces;
    instance = db.instances.findOne({
      _id: _instanceId
    }, {
      fields: instance_fields_0
    });

    if (instance) {
      triggerChangeFields.forEach(function (key) {
        if (key === '_my_approve_read_dates') {
          return triggerChangeFieldsValues[key] = getMyapproveModified(instance.traces);
        } else {
          return triggerChangeFieldsValues[key] = instance[key];
        }
      });
      show_modal_traces_list = ((ref = db.space_settings.findOne({
        space: instance.space,
        key: "show_modal_traces_list"
      }, {
        fields: {
          values: 1
        }
      })) != null ? ref.values : void 0) || false;

      if (show_modal_traces_list) {
        traces = new Array();

        if (instance != null) {
          if ((ref1 = instance.traces) != null) {
            ref1.forEach(function (trace) {
              var _trace, approves, ref2;

              _trace = _.clone(trace);
              approves = new Array();

              if (trace != null) {
                if ((ref2 = trace.approves) != null) {
                  ref2.forEach(function (approve) {
                    if (approve.type !== 'cc' || approve.user === self.userId || approve.handler === self.userId || !_.isEmpty(approve.sign_field_code)) {
                      return approves.push(approve);
                    }
                  });
                }
              }

              _trace.approves = approves;
              return traces.push(_trace);
            });
          }
        }

        instance.traces = traces;
      }
    }

    return instance;
  };

  needChange = function (changeFields) {
    var _change, _rev;

    if (changeFields) {
      _change = false;
      _rev = _.find(triggerChangeFields, function (key) {
        var _key, _my_approve_modifieds;

        _key = key;

        if (key === '_my_approve_read_dates') {
          _key = 'traces';
        }

        if (_.has(changeFields, _key)) {
          if (key === '_my_approve_read_dates') {
            _my_approve_modifieds = getMyapproveModified(changeFields.traces);
            return !_.isEqual(triggerChangeFieldsValues[key], _my_approve_modifieds);
          } else {
            return !_.isEqual(triggerChangeFieldsValues[key], changeFields[key]);
          }
        }
      });

      if (_rev) {
        _change = true;
      }

      return _change;
    }

    return true;
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id, fields) {
      if (box !== 'inbox' || needChange(fields)) {
        return self.changed("instances", id, getMiniInstance(id));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  instance = getMiniInstance(instanceId);
  self.added("instances", instance != null ? instance._id : void 0, instance);
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('instance_traces', function (instanceId) {
  var getInstanceTraces, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;

  getInstanceTraces = function (_insId) {
    return db.instances.findOne({
      _id: _insId
    }, {
      fields: {
        _id: 1,
        traces: 1
      }
    });
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id) {
      return self.changed("instance_traces", instanceId, getInstanceTraces(instanceId));
    }
  });
  self.added("instance_traces", instanceId, getInstanceTraces(instanceId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_list.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_list.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_list', function (spaceId, box, flowId) {
  var query;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  query = {
    space: spaceId
  };

  if (box === "inbox") {
    query.inbox_users = this.userId;
  } else if (box === "outbox") {
    query.outbox_users = this.userId;
  } else if (box === "draft") {
    query.submitter = this.userId;
    query.state = "draft";
  } else if (box === "pending") {
    query.submitter = this.userId;
    query.state = "pending";
  } else if (box === "completed") {
    query.submitter = this.userId;
    query.state = "completed";
  } else if (box === "monitor") {
    query.flow = flowId;
    query.state = {
      $in: ["pending", "completed"]
    };
  } else {
    query.state = "none";
  }

  return db.instances.find(query, {
    fields: {
      name: 1,
      created: 1,
      form: 1,
      flow: 1,
      space: 1,
      modified: 1,
      applicant: 1,
      is_archived: 1,
      form_version: 1,
      flow_version: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_tabular.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var asyncLastFinishedApprove, lastFinishedApproveAggregate;

lastFinishedApproveAggregate = function (instanceid, userId, dataMap, callback) {
  var operation;
  operation = [{
    "$match": {
      "_id": instanceid
    }
  }, {
    "$project": {
      "name": 1,
      "_approve": "$traces.approves"
    }
  }, {
    "$unwind": "$_approve"
  }, {
    "$unwind": "$_approve"
  }, {
    "$match": {
      "_approve.is_finished": true,
      $or: [{
        "_approve.handler": userId
      }, {
        "_approve.user": userId
      }]
    }
  }, {
    "$group": {
      "_id": "$_id",
      "finish_date": {
        "$last": "$_approve.finish_date"
      }
    }
  }];
  return db.instances.rawCollection().aggregate(operation).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return dataMap.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

asyncLastFinishedApprove = Meteor.wrapAsync(lastFinishedApproveAggregate);
Meteor.publish("instance_tabular", function (tableName, ids, fields) {
  var getMyApprove, getMyLastFinishedApprove, getStepCurrentName, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  fields.cc_users = 1;
  self = this;

  getMyLastFinishedApprove = function (userId, instanceId) {
    var data;
    data = [];
    asyncLastFinishedApprove(instanceId, userId, data);

    if (data.length > 0) {
      return data[0];
    }
  };

  getMyApprove = function (userId, instanceId) {
    var approve, approves, instance, is_read, myApprove, notFinishedTraces;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        traces: 1
      }
    });
    myApprove = null;

    if (!instance) {
      return;
    }

    if (!instance.traces || instance.traces.length < 1) {
      return;
    }

    notFinishedTraces = instance.traces.filterProperty("is_finished", false);

    if (notFinishedTraces.length > 0) {
      approves = notFinishedTraces[0].approves.filterProperty("is_finished", false).filterProperty("handler", userId);

      if (approves.length > 0) {
        approve = approves[0];
        myApprove = {
          id: approve._id,
          instance: approve.instance,
          trace: approve.trace,
          is_read: approve.is_read,
          start_date: approve.start_date,
          agent: approve.agent,
          user_name: approve.user_name
        };
      }
    }

    if (!myApprove) {
      is_read = false;
      instance.traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.type === 'cc' && approve.user === userId && approve.is_finished === false) {
            if (approve.is_read) {
              is_read = true;
            }

            return myApprove = {
              id: approve._id,
              is_read: is_read,
              start_date: approve.start_date,
              agent: approve.agent,
              user_name: approve.user_name
            };
          }
        }) : void 0 : void 0;
      });
    }

    return myApprove;
  };

  getStepCurrentName = function (instanceId) {
    var instance, ref, ref1, stepCurrentName;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        "traces.name": 1,
        "traces": {
          $slice: -1
        }
      }
    });

    if (instance) {
      stepCurrentName = (ref = instance.traces) != null ? (ref1 = ref[0]) != null ? ref1.name : void 0 : void 0;
    }

    return stepCurrentName;
  };

  handle = db.instances.find({
    _id: {
      $in: ids
    }
  }, {
    fields: {
      traces: 0
    }
  }).observeChanges({
    changed: function (id) {
      var error, instance, myApprove, myLastFinishedApprove, ref, ref1;
      instance = db.instances.findOne({
        _id: id
      }, {
        fields: fields
      });

      if (!instance) {
        return;
      }

      myApprove = getMyApprove(self.userId, id);
      myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

      if (myApprove) {
        instance.is_read = myApprove.is_read;
        instance.start_date = myApprove.start_date;

        if (myApprove.agent) {
          instance.agent_user_name = myApprove.user_name;
        }
      } else {
        instance.is_read = true;
      }

      if (myLastFinishedApprove) {
        instance.my_finish_date = myLastFinishedApprove.finish_date;
      }

      instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
      instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
      delete instance.cc_users;

      try {
        return self.changed("instances", id, instance);
      } catch (error1) {
        error = error1;
        console.log('instance observeChanges error: ', error.message);
        console.log('self.userId: ', self.userId);
        console.log('tableName: ', tableName);
        console.log('ids: ', JSON.stringify(ids));
        return console.log('myApprove: ', JSON.stringify(myApprove));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  ids.forEach(function (id) {
    var instance, myApprove, myLastFinishedApprove, ref, ref1;
    instance = db.instances.findOne({
      _id: id
    }, {
      fields: fields
    });

    if (!instance) {
      return;
    }

    myApprove = getMyApprove(self.userId, id);
    myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

    if (myApprove) {
      instance.is_read = myApprove.is_read;
      instance.start_date = myApprove.start_date;

      if (myApprove.agent) {
        instance.agent_user_name = myApprove.user_name;
      }
    } else {
      instance.is_read = true;
    }

    if (myLastFinishedApprove) {
      instance.my_finish_date = myLastFinishedApprove.finish_date;
    }

    instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
    instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
    delete instance.cc_users;
    return self.added("instances", id, instance);
  });
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_draft.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_draft', function (spaceId) {
  var userId;
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  userId = this.userId;
  return db.instances.find({
    state: "draft",
    space: spaceId,
    submitter: userId,
    $or: [{
      inbox_users: {
        $exists: false
      }
    }, {
      inbox_users: []
    }]
  }, {
    fields: {
      _id: 1,
      state: 1,
      space: 1,
      submitter: 1,
      inbox_users: 1,
      modified: 1,
      name: 1
    },
    sort: {
      modified: -1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distributed_instances_state_by_ids.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/distributed_instances_state_by_ids.coffee                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('distributed_instances_state_by_ids', function (instance_ids) {
  var handle, self;
  check(instance_ids, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instance_ids) {
    return this.ready();
  }

  if (_.isEmpty(instance_ids)) {
    return this.ready();
  }

  self = this;
  handle = db.instances.find({
    _id: {
      $in: instance_ids
    }
  }, {
    fields: {
      state: 1,
      traces: {
        $slice: 1
      }
    }
  }).observeChanges({
    added: function (id, fields) {
      return self.added('instances', id, {
        state: fields.state,
        is_read: fields.traces[0].approves[0].is_read
      });
    },
    changed: function (id, fields) {
      if (fields.state) {
        self.changed('instances', id, {
          state: fields.state
        });
      }

      if (fields.traces) {
        return self.changed('instances', id, {
          is_read: fields.traces[0].approves[0].is_read
        });
      }
    }
  });
  this.ready();
  return this.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/related_instaces.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('related_instaces', function (instanceId, related_instances) {
  var ref, related_instance_ids;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  related_instance_ids = (ref = db.instances.findOne(instanceId, {
    fields: {
      related_instances: 1
    }
  })) != null ? ref.related_instances : void 0;

  if (related_instance_ids && _.isArray(related_instance_ids)) {
    return db.instances.find({
      _id: {
        $in: related_instance_ids
      }
    }, {
      fields: {
        _id: 1,
        name: 1,
        space: 1
      }
    });
  } else {
    return this.ready();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/space_user_signs.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isServer) {
  Meteor.publish('space_user_signs', function (spaceId) {
    check(spaceId, String);

    if (!this.userId) {
      return this.ready();
    }

    return db.space_user_signs.find({
      space: spaceId
    }, {
      fields: {
        created_by: 0,
        created: 0,
        modified_by: 0
      }
    });
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"user_inbox_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/user_inbox_instance.coffee                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Meteor.publishComposite "user_inbox_instance", ()->
	unless this.userId
		return this.ready()

	userSpaceIds = db.space_users.find({
		user: this.userId,
		user_accepted: true
	}, {fields: {space: 1}}).fetch().getEach("space");
	query = {space: {$in: userSpaceIds}}

	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]

	find: ->
		db.instances.find(query, {
			fields: {
				space: 1,
				applicant_name: 1,
				flow: 1,
				inbox_users: 1,
				cc_users: 1,
				state: 1,
				name: 1,
				modified: 1,
				form: 1
			}, sort: {modified: -1}, skip: 0, limit: 200
		});
	children: [
		{
			find: (instance, post)->
				db.flows.find({_id: instance.flow}, {fields: {name: 1, space: 1}});
		}
	]
 */ /*
    Meteor.publish 'my_inbox_instances', (spaceId)->
    	unless this.userId
    		return this.ready()
    
    	self = this;
    
    	 *	userSpaceIds = db.space_users.find({
    	 *		user: this.userId,
    	 *		user_accepted: true
    	 *	}, {fields: {space: 1}}).fetch().getEach("space");
    
    	query = {space: spaceId}
    
    	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]
    
    	fields = {
    		space: 1,
     *		applicant_name: 1,
    		flow: 1,
    		inbox_users: 1,
    		cc_users: 1,
    		state: 1,
     *		name: 1,
     *		modified: 1,
    		form: 1
    	}
    
    	handle = db.instances.find(query, {sort: {modified: -1}, skip: 0, limit: 500}).observeChanges {
    		added: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.added("instances", id, instance)
    		changed: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.changed("instances", id, instance);
    		removed: (id)->
    			self.removed("instances", id);
    	}
    
    	self.ready();
    	self.onStop ()->
    		handle.stop()
     */var _async_get_flow_instances_aggregate, _get_flow_instances_aggregate;

_get_flow_instances_aggregate = function (spaceId, userId, _items, callback) {
  return db.instances.rawCollection().aggregate([{
    $match: {
      space: spaceId,
      $or: [{
        inbox_users: userId
      }, {
        cc_users: userId
      }]
    }
  }, {
    $group: {
      _id: {
        flow: "$flow",
        category: "$category"
      },
      count: {
        $sum: 1
      }
    }
  }]).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return _items.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

_async_get_flow_instances_aggregate = Meteor.wrapAsync(_get_flow_instances_aggregate);
Meteor.publish('my_inbox_flow_instances_count', function (spaceId) {
  var _changeData, _flowsData, _init, data, handle, query, self;

  if (!this.userId) {
    return this.ready();
  }

  self = this;
  query = {
    space: spaceId
  };
  query.$or = [{
    inbox_users: this.userId
  }, {
    cc_users: this.userId
  }];
  data = [];

  _async_get_flow_instances_aggregate(spaceId, self.userId, data);

  _flowsData = [];

  _.each(data, function (dataItem) {
    return _flowsData.push({
      _id: dataItem._id.flow,
      category: dataItem._id.category,
      count: dataItem.count
    });
  });

  self.added("flow_instances", spaceId, {
    flows: _flowsData
  });

  _changeData = function (doc, action) {
    var flow_instance;
    flow_instance = _.find(_flowsData, function (f) {
      return f._id === doc.flow;
    });

    if (flow_instance) {
      if (action === "added") {
        flow_instance.count++;
      } else if (action === "removed") {
        flow_instance.count--;
      }
    } else if (action === "added") {
      _flowsData.push({
        _id: doc.flow,
        category: doc.category,
        count: 1
      });
    }

    return self.changed("flow_instances", spaceId, {
      flows: _flowsData
    });
  };

  _init = true;
  handle = db.instances.find(query, {
    fields: {
      _id: 1,
      inbox_users: 1,
      cc_users: 1,
      flow: 1,
      category: 1
    }
  }).observe({
    added: function (doc) {
      if (!_init) {
        return _changeData(doc, "added");
      }
    },
    removed: function (doc) {
      if (!_init) {
        return _changeData(doc, "removed");
      }
    }
  });
  _init = false;
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_main_attach_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_main_attach_template.coffee                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_main_attach_template', function (spaceId, flowId) {
  check(spaceId, String);
  check(flowId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!(spaceId && flowId)) {
    return this.ready();
  }

  return Creator.getCollection('cms_files').find({
    space: spaceId,
    'parent.o': 'flows',
    'parent.ids': flowId,
    name: '正文.docx'
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"flow-template":{"workflow_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/flow-template/workflow_template.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
workflowTemplate = {};
workflowTemplate["en"] = [];
workflowTemplate["zh-CN"] = [];
Meteor.startup(function () {
  var absolute_path_cn, absolute_path_us, filesList_cn, filesList_us, fs, mime, path, path_cn, path_us, readFileList, ref, ref1;
  fs = require('fs');
  path = require('path');
  mime = require('mime');

  readFileList = function (pathDir, filesList) {
    var files;
    files = fs.readdirSync(pathDir);
    return files.forEach(function (name, index) {
      var obj, stat;
      stat = fs.statSync(path.join(pathDir, name));

      if (stat.isDirectory()) {
        return readFileList(path.join(pathDir, name), filesList);
      } else {
        obj = {};
        obj.path = pathDir;
        obj.name = name;
        return filesList.push(obj);
      }
    });
  };

  filesList_cn = [];
  path_cn = (ref = Meteor.settings.workflowTemplates) != null ? ref.path_cn : void 0;

  if (path_cn) {
    absolute_path_cn = path.resolve(path_cn);
    console.log("absolute_path_cn", absolute_path_cn);

    if (fs.existsSync(absolute_path_cn)) {
      readFileList(absolute_path_cn, filesList_cn);
      filesList_cn.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["zh-CN"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取zh-cn文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }

  filesList_us = [];
  path_us = (ref1 = Meteor.settings.workflowTemplates) != null ? ref1.path_us : void 0;

  if (path_us) {
    absolute_path_us = path.resolve(path_us);
    console.log("absolute_path_us", absolute_path_us);

    if (fs.existsSync(absolute_path_us)) {
      readFileList(absolute_path_us, filesList_us);
      return filesList_us.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["en"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取en-us文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/startup.coffee                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"schedule":{"auto_finish_process_delegation.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/auto_finish_process_delegation.coffee                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.auto_finish_process_delegation : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.auto_finish_process_delegation;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e, now;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('auto_finish_process_delegation');
        now = new Date();
        db.process_delegation_rules.update({
          enabled: true,
          end_time: {
            $lte: now
          }
        }, {
          $set: {
            enabled: false
          }
        }, {
          multi: true
        });
        console.timeEnd('auto_finish_process_delegation');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO AUTO_FINISH_PROCESS_DELEGATION ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function (e) {
      console.log('Failed to bind environment: auto_finish_process_delegation.coffee');
      return console.log(e.stack);
    }));
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeout_auto_submit.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/timeout_auto_submit.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.timeout_auto_submit : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.timeout_auto_submit;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('timeout_auto_submit');
        uuflowManager.timeoutAutoSubmit();
        console.timeEnd('timeout_auto_submit');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO TIMEOUT_AUTO_SUBMIT ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function (e) {
      console.log('Failed to bind environment: timeout_auto_submit.coffee');
      return console.log(e.stack);
    }));
  }
});
Meteor.methods({
  timeout_auto_submit: function (ins_id) {
    uuflowManager.timeoutAutoSubmit(ins_id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"related_instances_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/related_instances_tabular.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return TabularTables.related_instances_tabular = new Tabular.Table({
    name: "related_instances_tabular",
    collection: db.instances,
    columns: [{
      data: "_id",
      title: '<input type="checkbox" name="reverse" id="reverse">',
      orderable: false,
      width: '1px',
      render: function (val, type, doc) {
        var input, ref;
        input = '<input type="checkbox" class="related-instances-list-checkbox" name="related_instances_ids" id="related_instances_ids" value="' + doc._id + '"';

        if ((ref = TabularTables.related_instances_tabular.related_instances) != null ? ref.includes(doc._id) : void 0) {
          input += " checked ";
        }

        input += ">";
        return input;
      }
    }, {
      data: "name",
      orderable: false,
      width: '45%',
      render: function (val, type, doc) {
        var absolute, href;
        href = '';

        if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
          href = '';
        }

        absolute = false;

        if (Meteor.isServer) {
          absolute = this.absolute;
        }

        if (absolute) {
          href = Meteor.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        } else {
          href = Steedos.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        }

        return "<a data-id='" + doc._id + "' target='_blank' href='" + href + "'>" + doc.name + "</a>";
      }
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      orderable: false
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_flow"),
      render: function (val, type, doc) {
        var judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + "</div>";
      }
    }],
    dom: "tp",
    lengthChange: false,
    extraFields: ["state", "final_decision", "space", "keywords"],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var curSpaceUser, flow_ids, flows, organizations, ref, ref1, space, spaceId;

      if (!userId) {
        return {
          _id: -1
        };
      }

      spaceId = selector.space;

      if (!spaceId) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          spaceId = selector.$and.getProperty('space')[0];
        }
      }

      if (!spaceId) {
        return {
          _id: -1
        };
      }

      space = db.spaces.findOne(spaceId);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(userId)) {
        flow_ids = [];
        curSpaceUser = db.space_users.findOne({
          space: spaceId,
          'user': userId
        });

        if (curSpaceUser) {
          organizations = db.organizations.find({
            _id: {
              $in: curSpaceUser.organizations
            }
          }).fetch();
          flows = db.flows.find({
            space: spaceId
          });
          flows.forEach(function (fl) {
            if (WorkflowManager.canMonitor(fl, curSpaceUser, organizations) || WorkflowManager.canAdmin(fl, curSpaceUser, organizations)) {
              return flow_ids.push(fl._id);
            }
          });
        }

        if ((selector != null ? (ref1 = selector.$and) != null ? ref1.length : void 0 : void 0) > 0) {
          selector.$and[0].$or = [{
            submitter: userId
          }, {
            applicant: userId
          }, {
            inbox_users: userId
          }, {
            outbox_users: userId
          }, {
            cc_users: userId
          }, {
            flow: {
              $in: flow_ids
            }
          }];
        } else {
          _.extend(selector, {
            $or: [{
              submitter: userId
            }, {
              applicant: userId
            }, {
              inbox_users: userId
            }, {
              outbox_users: userId
            }, {
              cc_users: userId
            }, {
              flow: {
                $in: flow_ids
              }
            }]
          });
        }
      }

      return selector;
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/tabular.coffee                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var GetBoxInstancesTabularOptions, _get_inbox_instances_tabular_options, _get_outbox_instances_tabular_options, _handleListFields, instancesListTableTabular, newInstancesListTabular, updateTabularTitle;

Steedos.subs["InstanceTabular"] = new SubsManager();

_handleListFields = function (fields) {
  var ins_fields;
  ins_fields = new Array();

  if (fields != null) {
    fields.forEach(function (f) {
      var ref;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
          return ins_fields.push(f1);
        }) : void 0 : void 0;
      } else {
        return ins_fields.push(f);
      }
    });
  }

  return ins_fields;
};

updateTabularTitle = function () {};

instancesListTableTabular = function (flowId, fields) {
  var ins_fields, key, options;
  options = {
    name: "instances",
    collection: db.instances,
    pub: "instance_tabular",
    onUnload: function () {
      return Meteor.setTimeout(Template.instance_list._tableColumns, 150);
    },
    drawCallback: function (settings) {
      var ellipsisLink, emptyTd, title;
      emptyTd = $(".dataTables_empty");

      if (emptyTd.length) {
        emptyTd[0].colSpan = "6";
      }

      if (!Steedos.isMobile() && !Steedos.isPad()) {
        Meteor.setTimeout(Template.instance_list._tableColumns, 150);
        $(".instance-list").scrollTop(0).ready(function () {
          return $(".instance-list").perfectScrollbar("update");
        });
      } else {
        $(".instance-list").scrollTop(0);
      }

      title = t("pager_input_hint");
      ellipsisLink = settings.oInstance.parent().find('.paging_numbers .pagination .disabled a');
      return ellipsisLink.attr("title", title).css("cursor", "pointer").click(function () {
        var goPage, input;

        if (!$(this).find('input').length) {
          input = $('<input class="paginate_input form-control input-sm" type="text" style="border: none; padding:0 2px;"/>');

          if (Steedos.isMobile()) {
            input.css({
              width: "52px",
              height: "20px"
            });
          } else {
            input.css({
              width: "52px",
              height: "16px"
            });
          }

          input.attr("title", title).attr("placeholder", title);
          $(this).empty().append(input);

          goPage = function (index) {
            var pages;

            if (index > 0) {
              pages = Math.ceil(settings.fnRecordsDisplay() / settings._iDisplayLength);

              if (index > pages) {
                index = pages;
              }

              index--;
              return settings.oInstance.DataTable().page(index).draw('page');
            }
          };

          input.blur(function (e) {
            var currentPage;
            currentPage = $(this).val();
            goPage(currentPage);
            return $(this).parent().html('...');
          });
          return input.keydown(function (e) {
            var currentPage;

            if (e.keyCode.toString() === "13") {
              currentPage = $(this).val();
              return goPage(currentPage);
            }
          });
        }
      });
    },
    createdRow: function (row, data, dataIndex) {
      if (Meteor.isClient) {
        if (data._id === FlowRouter.current().params.instanceId) {
          return row.setAttribute("class", "selected");
        }
      }
    },
    columns: [{
      data: "_id",
      orderable: false,
      render: function (val, type, doc) {
        var agent_view, cc_view, flow_name, instanceNamePriorityClass, isFavoriteSelected, modified, modifiedFromNow, modifiedString, priorityIcon, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        modifiedString = moment(doc.modified).format('YYYY-MM-DD');
        modified = doc.modified;

        if (Session.get("box") === 'inbox' && doc.state !== 'draft') {
          modified = doc.start_date || doc.modified;
        }

        if (Session.get("box") === 'outbox' || Session.get("box") === 'monitor') {
          modified = doc.submit_date || doc.submit_date;
        }

        modifiedFromNow = Steedos.momentReactiveFromNow(modified);
        flow_name = doc.flow_name;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
          step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
        } else {
          if (Session.get("box") !== 'draft' && doc.current_step_name) {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
          } else {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "</div>";
          }
        }

        agent_view = "";

        if (doc.agent_user_name && Session.get("box") === 'inbox') {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';
        isFavoriteSelected = Favorites.isRecordSelected("instances", doc._id);

        if (Favorites.isRecordSelected("instances", doc._id)) {
          unread = '<i class="ion ion-ios-star-outline instance-favorite-selected"></i>';
        } else if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIcon = "";
        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "\n	<span>" + doc.applicant_name + "</span>\n</div>\n<div class='instance-detail'>" + step_current_name_view + "\n	<span class='instance-modified' title='" + modifiedString + "'>" + modifiedFromNow + "</span>\n</div>";
      }
    }, {
      data: "applicant_organization_name",
      title: t("instances_applicant_organization_name"),
      visible: false
    }, {
      data: "name",
      title: t("instances_name"),
      render: function (val, type, doc) {
        var agent_view, cc_view, instanceNamePriorityClass, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
        }

        agent_view = "";

        if (doc.agent_user_name) {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      visible: false,
      orderable: false
    }, {
      data: "submit_date",
      title: t("instances_submit_date"),
      render: function (val, type, doc) {
        if (doc.submit_date) {
          return moment(doc.submit_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      visible: false,
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_step_current_name"),
      render: function (val, type, doc) {
        var cc_tag, judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        cc_tag = '';

        if (doc.cc_count > 0) {
          cc_tag = TAPi18n.__('cc_tag');
        }

        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + cc_tag + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "modified",
      title: t("instances_modified"),
      render: function (val, type, doc) {
        return moment(doc.modified).format('YYYY-MM-DD HH:mm');
      },
      visible: false,
      orderable: true
    }, {
      data: "start_date",
      title: t("instances_start_date"),
      render: function (val, type, doc) {
        if (doc.start_date) {
          return moment(doc.start_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "my_finish_date",
      render: function (val, type, doc) {
        if (doc.my_finish_date) {
          return moment(doc.my_finish_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "modified",
      visible: false
    }, {
      data: "keywords",
      visible: false
    }, {
      data: "is_archived",
      render: function (val, type, doc) {
        var ref;

        if ((doc != null ? (ref = doc.values) != null ? ref.record_need : void 0 : void 0) && doc.values.record_need === "true") {
          if (doc != null ? doc.is_archived : void 0) {
            return t("YES");
          }

          return t("NO");
        }
      },
      visible: false,
      orderable: false
    }],
    dom: function () {
      if (Steedos.isMobile()) {
        return 'tp';
      } else {
        return 'tpl';
      }
    }(),
    order: [[4, "desc"]],
    extraFields: ["form", "flow", "inbox_users", "state", "space", "applicant", "form_version", "flow_version", "is_cc", "cc_count", "is_read", "current_step_name", "values", "keywords", "final_decision", "flow_name", "is_hidden", "agent_user_name"],
    lengthChange: true,
    lengthMenu: [10, 15, 20, 25, 50, 100],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var ref, space, space_user;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;

      if (!space) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          space = selector.$and.getProperty('space')[0];
        }
      }

      if (!space) {
        return {
          _id: -1
        };
      }

      space_user = db.space_users.findOne({
        user: userId,
        space: space
      }, {
        fields: {
          _id: 1
        }
      });

      if (!space_user) {
        return {
          _id: -1
        };
      }

      return selector;
    },
    pagingType: "numbers"
  };

  if (flowId) {
    key = "instanceFlow" + flowId;
    options.name = key;
    TabularTables.instances.fields = fields;
    ins_fields = _handleListFields(TabularTables.instances.fields);
    ins_fields.forEach(function (f) {
      if (f.type !== 'table' && f.is_list_display) {
        return options.columns.push({
          data: f.name || f.code,
          title: t(f.name || f.code),
          visible: false,
          orderable: false,
          render: function (val, type, doc) {
            var value, values;
            values = doc.values || {};
            value = values[f.code];

            switch (f.type) {
              case 'user':
                value = value != null ? value.name : void 0;
                break;

              case 'group':
                value = value != null ? value.fullname : void 0;
                break;

              case 'date':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD');
                }

                break;

              case 'dateTime':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD HH:mm');
                }

                break;

              case 'checkbox':
                if (value === true || value === 'true') {
                  value = TAPi18n.__("form_field_checkbox_yes");
                } else {
                  value = TAPi18n.__("form_field_checkbox_no");
                }

                break;

              case 'odata':
                if (value) {
                  if (_.isArray(value)) {
                    value = _.pluck(value, '@label').toString();
                  } else {
                    value = value['@label'];
                  }
                }

            }

            return value;
          }
        });
      }
    });
  }

  return options;
};

Meteor.startup(function () {
  return TabularTables.instances = new Tabular.Table(instancesListTableTabular());
});

GetBoxInstancesTabularOptions = function (box, flowId, fields) {
  var key, options;
  key = "instanceFlow" + box + flowId;

  if (box === "inbox") {
    options = _get_inbox_instances_tabular_options(flowId, fields);
  } else if (box === "outbox") {
    options = _get_outbox_instances_tabular_options(flowId, fields);
  } else {
    options = instancesListTableTabular(flowId, fields);

    if (!flowId) {
      options.name = "inbox_instances";
    }
  }

  if (flowId) {
    options.name = key;
  }

  return options;
};

_get_inbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "inbox_instances";
  }

  options.order = [[8, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': false,
        '_approve.handler': userId
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'start_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_start_date": {
              $first: "$_approve.start_date"
            }
          }
        });
        ag_sort = {
          'approve_start_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.inbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("inbox"));
});

_get_outbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "outbox_instances";
  }

  options.order = [[9, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': true,
        $or: [{
          '_approve.handler': userId
        }, {
          '_approve.user': userId
        }]
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'my_finish_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_finish_date": {
              $last: "$_approve.finish_date"
            }
          }
        });
        ag_sort = {
          'approve_finish_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.outbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("outbox"));
});

if (Meteor.isClient) {
  TabularTables.flowInstances = new ReactiveVar();
}

Meteor.startup(function () {
  return Tracker.autorun(function (c) {
    if (Meteor.isClient && !Steedos.isMobile()) {
      if (Session.get("flowId") && Session.get("box") !== 'draft') {
        return Meteor.call("newInstancesListTabular", Session.get("box"), Session.get("flowId"), function (error, result) {
          newInstancesListTabular(Session.get("box"), Session.get("flowId"), result);
          return Template.instance_list._changeOrder();
        });
      }
    }
  });
});

newInstancesListTabular = function (box, flowId, fields) {
  var flow, key, ref, ref1, ref2;

  if (!fields) {
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        form: 1
      }
    });
    fields = (ref = db.forms.findOne({
      _id: flow != null ? flow.form : void 0
    }, {
      fields: {
        'current.fields': 1
      }
    })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
  }

  fields = _handleListFields(fields);

  if ((fields != null ? (ref2 = fields.filterProperty("is_list_display", true)) != null ? ref2.length : void 0 : void 0) > 0) {
    key = "instanceFlow" + box + flowId;

    if (Meteor.isClient) {
      TabularTables.flowInstances.set(new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields)));
    } else {
      new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields));
    }

    return console.log("new TabularTables ", key);
  }
};

if (Meteor.isServer) {
  Meteor.methods({
    newInstancesListTabular: function (box, flowId) {
      var fields, flow, ref, ref1;
      newInstancesListTabular(box, flowId);
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          form: 1
        }
      });
      fields = (ref = db.forms.findOne({
        _id: flow != null ? flow.form : void 0
      }, {
        fields: {
          'current.fields': 1
        }
      })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
      return fields;
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}}},{
  "extensions": [
    ".js",
    ".json",
    ".coffee"
  ]
});

require("/node_modules/meteor/steedos:workflow/checkNpm.js");
require("/node_modules/meteor/steedos:workflow/lib/URI.js");
require("/node_modules/meteor/steedos:workflow/lib/collection_helpers.js");
require("/node_modules/meteor/steedos:workflow/lib/tapi18n.coffee");
require("/node_modules/meteor/steedos:workflow/lib/core.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/forms.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flows.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/categories.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/spaces.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/deleted_instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/auth_tokens.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/webhooks.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_users.coffee");
require("/node_modules/meteor/steedos:workflow/lib/cfs/instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/instance_readonly_template.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/template_manager.coffee");
require("/node_modules/meteor/steedos:workflow/client/coreform/inputTypes/coreform-table/steedos-table.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_image_sign.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_handler.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_form.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_attachments.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_sign_text.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_help.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_records.coffee");
require("/node_modules/meteor/steedos:workflow/routes/designer.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/set_instance_step_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/get_instance_data.js");
require("/node_modules/meteor/steedos:workflow/server/methods/save_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/trace_approve_cc.js");
require("/node_modules/meteor/steedos:workflow/server/methods/forward_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/cfs_instances.js");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_return.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_remind.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/next_step_users_not_found.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_number_rules.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/check_main_attach.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/edit_flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/start_flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_traces.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_batch.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/distribute.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/hide_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_value.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/steedos_css.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance_draft_view.coffee");
require("/node_modules/meteor/steedos:workflow/routes/nextStepUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getSpaceUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getFormulaUserObjects.js");
require("/node_modules/meteor/steedos:workflow/routes/init_formula_values.js");
require("/node_modules/meteor/steedos:workflow/routes/getNameForUser.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_designer_startup.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_engine.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_remove.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_terminate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_reassign.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_relocate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_archive.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_export.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_space_changeset.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_retrieve.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward.js");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_instance.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_pending.coffee");
require("/node_modules/meteor/steedos:workflow/routes/export_table_template.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_save.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get_by_stepname.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_cfs.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_table_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_sub_table_sort.coffee");
require("/node_modules/meteor/steedos:workflow/routes/test_webhook.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/1_form_formula.js");
require("/node_modules/meteor/steedos:workflow/server/lib/get_handlers_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/permission_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/approve_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/flow_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/form_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/step_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/categories.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/cfs_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flows.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/forms.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_data.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_list.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_draft.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/distributed_instances_state_by_ids.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/related_instaces.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/user_inbox_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_main_attach_template.coffee");
require("/node_modules/meteor/steedos:workflow/lib/admin.coffee");
require("/node_modules/meteor/steedos:workflow/related_instances_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/tabular.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_users.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_organizations.coffee");
require("/node_modules/meteor/steedos:workflow/server/flow-template/workflow_template.coffee");
require("/node_modules/meteor/steedos:workflow/server/startup.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/instance_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/auto_finish_process_delegation.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/timeout_auto_submit.coffee");

/* Exports */
Package._define("steedos:workflow", {
  InstanceManager: InstanceManager,
  WorkflowManager_format: WorkflowManager_format,
  Workflow: Workflow,
  SteedosTable: SteedosTable,
  InstanceReadOnlyTemplate: InstanceReadOnlyTemplate,
  TemplateManager: TemplateManager,
  CoreForm: CoreForm,
  InstanceNumberRules: InstanceNumberRules,
  getHandlersManager: getHandlersManager,
  permissionManager: permissionManager,
  workflowTemplate: workflowTemplate,
  approveManager: approveManager,
  stepManager: stepManager,
  flowManager: flowManager,
  formManager: formManager
});

})();

//# sourceURL=meteor://💻app/packages/steedos_workflow.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jaGVja05wbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9saWIvVVJJLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9jb3JlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvbGliL2NvcmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9tb2RlbHMvYXV0aF90b2tlbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC9saWIvaW5zdGFuY2VfcmVhZG9ubHlfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvbGliL2luc3RhbmNlX3JlYWRvbmx5X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvbGliL3RlbXBsYXRlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvbGliL3RlbXBsYXRlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L2NsaWVudC9jb3JlZm9ybS9pbnB1dFR5cGVzL2NvcmVmb3JtLXRhYmxlL3N0ZWVkb3MtdGFibGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbWFnZV9zaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbWFnZV9zaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oYW5kbGVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL190cmFjZXNfaGFuZGxlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX2luc3RhbmNlX2F0dGFjaG1lbnRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW5zdGFuY2Vfc2lnbl90ZXh0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9zaWduX3RleHQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9fdHJhY2VzX2hlbHAuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oZWxwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX3JlY29yZHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfcmVjb3Jkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2Rlc2lnbmVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2Rlc2lnbmVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvbmV4dFN0ZXBVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvZ2V0U3BhY2VVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvZ2V0Rm9ybXVsYVVzZXJPYmplY3RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3JvdXRlcy9pbml0X2Zvcm11bGFfdmFsdWVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9nZXROYW1lRm9yVXNlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9nZXROYW1lRm9yVXNlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9kZXNpZ25lcl9zdGFydHVwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9kZXNpZ25lcl9zdGFydHVwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2VuZ2luZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfZW5naW5lLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbW92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVtb3ZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfc3VibWl0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3Rlcm1pbmF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfdGVybWluYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlYXNzaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19yZWFzc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZWxvY2F0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVsb2NhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfYXJjaGl2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfYXJjaGl2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19leHBvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2V4cG9ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19zcGFjZV9jaGFuZ2VzZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3NwYWNlX2NoYW5nZXNldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZXRyaWV2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmV0cmlldmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3BlbmRpbmcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fcGVuZGluZy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2V4cG9ydF90YWJsZV90ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9leHBvcnRfdGFibGVfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9kcmFmdHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zYXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3NhdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9nZXRfYnlfc3RlcG5hbWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0X2J5X3N0ZXBuYW1lLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fY2ZzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2Nmcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19mb3J3YXJkX3JlZmlsbC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF90YWJsZV9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfdGFibGVfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3N1Yl90YWJsZV9zb3J0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9zdWJfdGFibGVfc29ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL3Rlc3Rfd2ViaG9vay5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy90ZXN0X3dlYmhvb2suY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZm9ybXVsYV91c2Vycy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfZm9ybXVsYV91c2Vycy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9mb3JtdWxhX29yZ2FuaXphdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX2Zvcm11bGFfb3JnYW5pemF0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvc2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL3NldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2dldF9pbnN0YW5jZV9kYXRhLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL3NhdmVfaW5zdGFuY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvdHJhY2VfYXBwcm92ZV9jYy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9mb3J3YXJkX2luc3RhbmNlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2Nmc19pbnN0YW5jZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9uZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9jaGVja19tYWluX2F0dGFjaC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvcmVsYXRlZF9pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvZWRpdF9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2VkaXRfZmxvd19wb3NpdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL3N0YXJ0X2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9zdGFydF9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2JhdGNoLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYmF0Y2guY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9oaWRlX2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaGlkZV9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfdmFsdWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV92YWx1ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3JvdXRlcy9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9yb3V0ZXMvaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9yb3V0ZXMvc3RlZWRvc19jc3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL3N0ZWVkb3NfY3NzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9saWIvMV9mb3JtX2Zvcm11bGEuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL2xpYi9nZXRfaGFuZGxlcnNfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZ2V0X2hhbmRsZXJzX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvcGVybWlzc2lvbl9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9wZXJtaXNzaW9uX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvYXBwcm92ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9hcHByb3ZlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvZmxvd19tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2Zvcm1fbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZm9ybV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL3N0ZXBfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvc3RlcF9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zvcm1zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mb3Jtcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kcmFmdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfZHJhZnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvZmxvdy10ZW1wbGF0ZS93b3JrZmxvd190ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9mbG93LXRlbXBsYXRlL3dvcmtmbG93X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvc2NoZWR1bGUvYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3NjaGVkdWxlL2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3NjaGVkdWxlL3RpbWVvdXRfYXV0b19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvc2NoZWR1bGUvdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC90YWJ1bGFyLmNvZmZlZSJdLCJuYW1lcyI6WyJjaGVja05wbVZlcnNpb25zIiwibW9kdWxlIiwibGluayIsInYiLCJjb29raWVzIiwibWtkaXJwIiwicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJVUkkiLCJwdW55Y29kZSIsIklQdjYiLCJTZWNvbmRMZXZlbERvbWFpbnMiLCJTTEQiLCJfVVJJIiwidXJsIiwiYmFzZSIsIl91cmxTdXBwbGllZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsIl9iYXNlU3VwcGxpZWQiLCJ1bmRlZmluZWQiLCJUeXBlRXJyb3IiLCJsb2NhdGlvbiIsImhyZWYiLCJhYnNvbHV0ZVRvIiwidmVyc2lvbiIsInAiLCJwcm90b3R5cGUiLCJoYXNPd24iLCJPYmplY3QiLCJoYXNPd25Qcm9wZXJ0eSIsImVzY2FwZVJlZ0V4Iiwic3RyaW5nIiwicmVwbGFjZSIsImdldFR5cGUiLCJ2YWx1ZSIsIlN0cmluZyIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiaXNBcnJheSIsIm9iaiIsImZpbHRlckFycmF5VmFsdWVzIiwiZGF0YSIsImxvb2t1cCIsImkiLCJfbWF0Y2giLCJ0ZXN0Iiwic3BsaWNlIiwiYXJyYXlDb250YWlucyIsImxpc3QiLCJfdHlwZSIsIm1hdGNoIiwiYXJyYXlzRXF1YWwiLCJvbmUiLCJ0d28iLCJzb3J0IiwibCIsInRyaW1TbGFzaGVzIiwidGV4dCIsInRyaW1fZXhwcmVzc2lvbiIsIl9wYXJ0cyIsInByb3RvY29sIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImhvc3RuYW1lIiwidXJuIiwicG9ydCIsInBhdGgiLCJxdWVyeSIsImZyYWdtZW50IiwiZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzIiwiZXNjYXBlUXVlcnlTcGFjZSIsInByb3RvY29sX2V4cHJlc3Npb24iLCJpZG5fZXhwcmVzc2lvbiIsInB1bnljb2RlX2V4cHJlc3Npb24iLCJpcDRfZXhwcmVzc2lvbiIsImlwNl9leHByZXNzaW9uIiwiZmluZF91cmlfZXhwcmVzc2lvbiIsImZpbmRVcmkiLCJzdGFydCIsImVuZCIsInRyaW0iLCJkZWZhdWx0UG9ydHMiLCJodHRwIiwiaHR0cHMiLCJmdHAiLCJnb3BoZXIiLCJ3cyIsIndzcyIsImludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycyIsImRvbUF0dHJpYnV0ZXMiLCJnZXREb21BdHRyaWJ1dGUiLCJub2RlIiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsInR5cGUiLCJlc2NhcGVGb3JEdW1iRmlyZWZveDM2IiwiZXNjYXBlIiwic3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlIiwiZGVjb2RlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiaXNvODg1OSIsInVuZXNjYXBlIiwidW5pY29kZSIsImNoYXJhY3RlcnMiLCJwYXRobmFtZSIsImV4cHJlc3Npb24iLCJtYXAiLCJyZXNlcnZlZCIsInVybnBhdGgiLCJlbmNvZGVRdWVyeSIsImVzY2FwZWQiLCJkZWNvZGVRdWVyeSIsImUiLCJfcGFydCIsImdlbmVyYXRlQWNjZXNzb3IiLCJfZ3JvdXAiLCJjIiwiZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24iLCJfc2VwIiwiX2NvZGluZ0Z1bmNOYW1lIiwiX2lubmVyQ29kaW5nRnVuY05hbWUiLCJhY3R1YWxDb2RpbmdGdW5jIiwic2VnbWVudHMiLCJzcGxpdCIsImpvaW4iLCJkZWNvZGVQYXRoIiwiZGVjb2RlVXJuUGF0aCIsInJlY29kZVBhdGgiLCJyZWNvZGVVcm5QYXRoIiwiZW5jb2RlUmVzZXJ2ZWQiLCJwYXJzZSIsInBhcnRzIiwicG9zIiwiaW5kZXhPZiIsInN1YnN0cmluZyIsInBhcnNlQXV0aG9yaXR5IiwicGFyc2VIb3N0IiwiYnJhY2tldFBvcyIsInQiLCJjaGFyQXQiLCJmaXJzdENvbG9uIiwiZmlyc3RTbGFzaCIsIm5leHRDb2xvbiIsInBhcnNlVXNlcmluZm8iLCJsYXN0SW5kZXhPZiIsInNoaWZ0IiwicGFyc2VRdWVyeSIsIml0ZW1zIiwic3BsaXRzIiwibmFtZSIsInB1c2giLCJidWlsZCIsImJ1aWxkQXV0aG9yaXR5IiwiYnVpbGRIb3N0IiwiYnVpbGRVc2VyaW5mbyIsImJ1aWxkUXVlcnkiLCJ1bmlxdWUiLCJrZXkiLCJidWlsZFF1ZXJ5UGFyYW1ldGVyIiwiYWRkUXVlcnkiLCJjb25jYXQiLCJyZW1vdmVRdWVyeSIsImhhc1F1ZXJ5Iiwid2l0aGluQXJyYXkiLCJfYm9vbHkiLCJCb29sZWFuIiwib3AiLCJjb21tb25QYXRoIiwiTWF0aCIsIm1pbiIsIndpdGhpblN0cmluZyIsImNhbGxiYWNrIiwib3B0aW9ucyIsIl9zdGFydCIsIl9lbmQiLCJfdHJpbSIsIl9hdHRyaWJ1dGVPcGVuIiwibGFzdEluZGV4IiwiZXhlYyIsImluZGV4IiwiaWdub3JlSHRtbCIsImF0dHJpYnV0ZU9wZW4iLCJtYXgiLCJzZWFyY2giLCJpZ25vcmUiLCJyZXN1bHQiLCJlbnN1cmVWYWxpZEhvc3RuYW1lIiwidG9BU0NJSSIsIm5vQ29uZmxpY3QiLCJyZW1vdmVBbGwiLCJ1bmNvbmZsaWN0ZWQiLCJVUklUZW1wbGF0ZSIsImRlZmVyQnVpbGQiLCJfZGVmZXJyZWRfYnVpbGQiLCJfc3RyaW5nIiwiY2xvbmUiLCJ2YWx1ZU9mIiwiZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvciIsImdlbmVyYXRlUHJlZml4QWNjZXNzb3IiLCJfa2V5IiwiaGFzaCIsInJlcyIsIl9vYmplY3QiLCJhdHRyaWJ1dGUiLCJzcmMiLCJpcyIsIndoYXQiLCJpcCIsImlwNCIsImlwNiIsInNsZCIsImlkbiIsInJlbGF0aXZlIiwiaGFzIiwiX3Byb3RvY29sIiwiX3BvcnQiLCJfaG9zdG5hbWUiLCJzY2hlbWUiLCJ4Iiwib3JpZ2luIiwiYXV0aG9yaXR5IiwiaG9zdCIsInVzZXJpbmZvIiwicmVzb3VyY2UiLCJzdWJkb21haW4iLCJkb21haW4iLCJzdWIiLCJSZWdFeHAiLCJ0bGQiLCJnZXQiLCJSZWZlcmVuY2VFcnJvciIsImRpcmVjdG9yeSIsImZpbGVuYW1lIiwiZGVjb2RlUGF0aFNlZ21lbnQiLCJtdXRhdGVkRGlyZWN0b3J5Iiwibm9ybWFsaXplUGF0aCIsInN1ZmZpeCIsInMiLCJzZWdtZW50Iiwic2VwYXJhdG9yIiwiYWJzb2x1dGUiLCJFcnJvciIsInBvcCIsInVuc2hpZnQiLCJzZWdtZW50Q29kZWQiLCJxIiwic2V0UXVlcnkiLCJzZXRTZWFyY2giLCJhZGRTZWFyY2giLCJyZW1vdmVTZWFyY2giLCJoYXNTZWFyY2giLCJub3JtYWxpemUiLCJub3JtYWxpemVQcm90b2NvbCIsIm5vcm1hbGl6ZVF1ZXJ5Iiwibm9ybWFsaXplRnJhZ21lbnQiLCJub3JtYWxpemVIb3N0bmFtZSIsIm5vcm1hbGl6ZVBvcnQiLCJiZXN0IiwiX3BhdGgiLCJfd2FzX3JlbGF0aXZlIiwiX2xlYWRpbmdQYXJlbnRzIiwiX3BhcmVudCIsIl9wb3MiLCJub3JtYWxpemVQYXRobmFtZSIsIm5vcm1hbGl6ZVNlYXJjaCIsIm5vcm1hbGl6ZUhhc2giLCJkIiwicmVhZGFibGUiLCJ1cmkiLCJ0b1VuaWNvZGUiLCJxcCIsImt2IiwicmVzb2x2ZWQiLCJwcm9wZXJ0aWVzIiwiYmFzZWRpciIsInJlbGF0aXZlVG8iLCJyZWxhdGl2ZVBhcnRzIiwiYmFzZVBhcnRzIiwiY29tbW9uIiwicmVsYXRpdmVQYXRoIiwiYmFzZVBhdGgiLCJwYXJlbnRzIiwiZXF1YWxzIiwib25lX21hcCIsInR3b19tYXAiLCJjaGVja2VkIiwib25lX3F1ZXJ5IiwidHdvX3F1ZXJ5IiwiV29ya2Zsb3ciLCJJbWFnZVNpZ24iLCJUcmFjZXNIYW5kbGVyIiwiVHJhY2VzVGVtcGxhdGUiLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZSIsIkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlIiwiSW5zdGFuY2VTaWduVGV4dCIsIlJlbGF0ZWRJbnN0YW5jZXMiLCJSZWxhdGVkUmVjb3JkcyIsIkluc3RhbmNlTWFjcm8iLCJjb250ZXh0IiwiVHJhY2VzTWFuYWdlciIsImlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nIiwiZmllbGRfZm9ybXVsYSIsImluY2x1ZGVzT3BpbmlvbkZpZWxkIiwiZm9ybSIsImZvcm1fdmVyc2lvbiIsIl9mb3JtX3ZlcnNpb24iLCJmaWVsZF9mb3JtdWxhcyIsImZpZWxkcyIsIkFycmF5IiwiTWV0ZW9yIiwiaXNTZXJ2ZXIiLCJ1dWZsb3dNYW5hZ2VyIiwiZ2V0Rm9ybVZlcnNpb24iLCJkYiIsImZvcm1zIiwiZmluZE9uZSIsIl9pZCIsImZvcm1fdmVyc2lvbnMiLCJmb3JFYWNoIiwiZiIsInJlZiIsImNvbnNvbGUiLCJsb2ciLCJmMSIsImZvcm11bGEiLCJfIiwic29tZSIsImhlbHBlcnMiLCJhdXRoX3Rva2VucyIsIkNvbGxlY3Rpb24iLCJfZ2V0TG9jYWxlIiwiX2dldFJlcXVpcmVkRmllbGRzIiwiX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzIiwiX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzIiwiX2dldFRlbXBsYXRlRGF0YSIsIl9nZXRWaWV3SHRtbCIsImdldExpbmtUZXh0IiwiSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlIiwiaW5zdGFuY2VfYXR0YWNobWVudCIsImFmU2VsZWN0VXNlclJlYWQiLCJhZkZvcm1Hcm91cFJlYWQiLCJhZkZvcm1Hcm91cCIsImNyZWF0ZSIsInRlbXBhbHRlTmFtZSIsInN0ZWVkb3NEYXRhIiwidGVtcGxhdGUiLCJ0ZW1wbGF0ZUNvbXBpbGVkIiwidGVtcGxhdGVSZW5kZXJGdW5jdGlvbiIsIlNwYWNlYmFyc0NvbXBpbGVyIiwiY29tcGlsZSIsImlzQm9keSIsImV2YWwiLCJUZW1wbGF0ZSIsIkJsYXplIiwiY3JlYXRlSW5zdGFuY2VTaWduVGV4dCIsImluc3RhbmNlU2lnblRleHRDb21waWxlZCIsImluc3RhbmNlU2lnblRleHRIdG1sIiwiaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uIiwiaW5zdGFuY2VTaWduVGV4dCIsImNyZWF0ZUltYWdlU2lnbiIsImltYWdlU2lnbkNvbXBpbGVkIiwiaW1hZ2VTaWduSHRtbCIsImltYWdlU2lnblJlbmRlckZ1bmN0aW9uIiwiaW1hZ2VTaWduIiwiY3JlYXRlVHJhY2VzSGFubGRlciIsInRyYWNlc0hhbmxkZXJDb21waWxlZCIsInRyYWNlc0hhbmxkZXJIdG1sIiwidHJhY2VzSGFubGRlclJlbmRlckZ1bmN0aW9uIiwiaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIiLCJpbml0IiwiaXRlbSIsImxhYmVsIiwiZGV0YWlsX3VybCIsIlN0ZWVkb3MiLCJhYnNvbHV0ZVVybCIsImdldFZhbHVlIiwiZmllbGQiLCJsb2NhbGUiLCJ1dGNPZmZzZXQiLCJkYXRlIiwiaG91cnMiLCJtb250aCIsInNlY29uZHMiLCJ0MCIsInQxIiwieWVhciIsImVuY29kZVVSSSIsImVycm9yIiwiaXNfbXVsdGlzZWxlY3QiLCJnZXRQcm9wZXJ0eSIsImZ1bGxuYW1lIiwiVEFQaTE4biIsIl9fIiwiRGF0ZSIsImZvcm1hdERhdGUiLCJpc190ZXh0YXJlYSIsIlNwYWNlYmFycyIsIlNhZmVTdHJpbmciLCJNYXJrZG93biIsIm51bWJlclRvU3RyaW5nIiwiZGlnaXRzIiwiZ2V0TGFiZWwiLCJjb2RlIiwiZmluZFByb3BlcnR5QnlQSyIsImdldEluc3RhbmNlRm9ybVZlcnNpb24iLCJpbnN0YW5jZSIsImZvcm1fZmllbGRzIiwiY3VycmVudCIsIndoZXJlIiwiaGlzdG9yeXMiLCJnZXRGbG93VmVyc2lvbiIsImZsb3ciLCJmbG93X3ZlcnNpb24iLCJmbG93cyIsInZpZXdIdG1sIiwiQXNzZXRzIiwiZ2V0VGV4dCIsInVzZXIiLCJyZWYxIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJyZXYiLCJpc19yZXF1aXJlZCIsInN0ZXBzIiwiZWRpdGFibGVDb2RlIiwic3RhcnRTdGVwIiwia2V5cyIsInBlcm1pc3Npb25zIiwicmVxdWlyZWRGaWVsZHMiLCJpbnRlcnNlY3Rpb24iLCJzcGFjZSIsIldvcmtmbG93TWFuYWdlciIsImlzQ2xpZW50IiwiV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdCIsImdldEF1dG9mb3JtU2NoZW1hVmFsdWVzIiwiaW5zbmFtZSIsImluc19zdGF0ZSIsInN0YXRlIiwiaW5zX2ZpbmFsX2RlY2lzaW9uIiwiaW5zX2NvZGUiLCJpbnNfaXNfYXJjaGl2ZWQiLCJpc19hcmNoaXZlZCIsImluc19pc19kZWxldGVkIiwiYXBwbGljYW50X25hbWUiLCJhcHBsaWNhbnRDb250ZXh0Iiwic2Vzc2lvblVzZXJJZCIsImVkaXRhYmxlIiwic3RhcnRTdGVwRWRpdGFibGVGaWVsZHMiLCJwYXNzaW5nIiwibW9tZW50IiwiZm9ybWF0IiwiZ2V0SW5zdGFuY2VWaWV3IiwiYm9keSIsImluc3RhbmNlQ29tcGlsZWQiLCJpbnN0YW5jZVJlbmRlckZ1bmN0aW9uIiwiaW5zdGFuY2VUZW1wbGF0ZSIsIlRlbXBsYXRlTWFuYWdlciIsImdldFRlbXBsYXRlIiwidGVtcGxhdGVOYW1lIiwiaW5zdGFuY2VfcmVhZG9ubHlfdmlldyIsInRvSFRNTFdpdGhEYXRhIiwiZ2V0VHJhY2VzVmlldyIsInRyYWNlQ29tcGlsZWQiLCJ0cmFjZVJlbmRlckZ1bmN0aW9uIiwidHJhY2VzSHRtbCIsImluc3RhbmNlX3N0eWxlIiwidHJhY2VfcmVhZG9ubHlfdmlldyIsInRyYWNlcyIsImdldEF0dGFjaG1lbnRWaWV3IiwiYXR0YWNobWVudENvbXBpbGVkIiwiYXR0YWNobWVudEh0bWwiLCJhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24iLCJhdHRhY2htZW50c19yZWFkb25seV92aWV3IiwiZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXciLCJyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQiLCJyZWxhdGVkSW5zdGFuY2VzSHRtbCIsInJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiIsInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXciLCJnZXRSZWxhdGVkUmVjb3Jkc1ZpZXciLCJyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkIiwicmVsYXRlZFJlY29yZHNIdG1sIiwicmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiIsInJlbGF0ZWRfcmVjb3Jkc192aWV3IiwiZ2V0T25Mb2FkU2NyaXB0IiwiZm9ybV9zY3JpcHQiLCJnZXRJbnN0YW5jZUh0bWwiLCJhbGxDc3NMaW5rIiwiYXR0YWNobWVudCIsImNyZWF0b3JTZXJ2aWNlIiwiY3NzSHJlZiIsImZvcm1EZXNjcmlwdGlvbiIsImZvcm1EZXNjcmlwdGlvbkh0bWwiLCJodG1sIiwiaW5zX3JlY29yZF9pZHMiLCJpbnN0YW5jZUJveFN0eWxlIiwib25Mb2FkU2NyaXB0Iiwib3BlbkZpbGVTY3JpcHQiLCJyZWxhdGVkX2luc3RhbmNlcyIsInJlbGF0ZWRfcmVjb3JkcyIsInNob3dUcmFjZXNCdG4iLCJzaG93VHJhY2VzU2NyaXB0IiwidHJhY2UiLCJ0cmFjZUNoZWNrIiwid2lkdGgiLCJzZXR0aW5ncyIsIndlYnNlcnZpY2VzIiwiY3JlYXRvciIsInJlY29yZF9pZHMiLCJKU09OIiwic3RyaW5naWZ5IiwiaXNNb2JpbGUiLCJzaG93VHJhY2UiLCJmaW5hbF9kZWNpc2lvbiIsInNob3dBdHRhY2htZW50cyIsImlzRW1wdHkiLCJ0YWdnZXIiLCJzdHlsZXMiLCJkZXNjcmlwdGlvbiIsInBsdWdpbnMiLCJmb3JtSWQiLCJpbnN0YW5jZV90aXRsZSIsInBhZ2VUaXRsZSIsInBhZ2VUaXRsZVRyQ2xhc3MiLCJ2YWwiLCJDb3JlRm9ybSIsInBhZ2VUaXRsZUZpZWxkTmFtZSIsImhhbmRsZVRhYmxlVGVtcGxhdGUiLCJfZXhwb3J0IiwidGFibGVfZmllbGRzIiwidGFibGVfZmllbGQiLCJmaWVsZF9wZXJtaXNzaW9uIiwicHVyZUNvZGUiLCJyZXF1aXJlZCIsInRpdGxlX3Blcm1pc3Npb24iLCJyZW1vdmVTcGVjaWFsQ2hhcmFjdGVyIiwiaXNPcGluaW9uRmllbGQiLCJ0cl9zdGFydCIsInRkX2NvbHNwYW4iLCJ0cl9lbmQiLCJpbmNsdWRlcyIsInBlcm1pc3Npb24iLCJfdGVtcGxhdGUiLCJ0YWJsZSIsIl90ZW1wbGF0ZUhlbHBzIiwic3RlZWRvc19pbnN0YW5jZSIsImdldEluc3RhbmNlIiwiYXR0cyIsImlkIiwic3R5bGUiLCJkaXNhYmxlZCIsImluc3RhbmNlSWQiLCJmb3JtX3R5cGVzIiwiQXBwcm92ZU1hbmFnZXIiLCJpc1JlYWRPbmx5Iiwic3RlZWRvc19mb3JtIiwiaW5uZXJzdWJmb3JtQ29udGV4dCIsImRvY192YWx1ZXMiLCJTZXNzaW9uIiwiYSIsImIiLCJTaW1wbGVTY2hlbWEiLCJnZXRBdXRvZm9ybVNjaGVtYSIsImluc3RhbmNlX2JveF9zdHlsZSIsImJveCIsImlucyIsImp1ZGdlIiwicHJpbnRfdGVtcGxhdGUiLCJpbnN0YW5jZV90ZW1wbGF0ZSIsIlN0ZWVkb3NUYWJsZSIsImNoZWNrSXRlbSIsIml0ZW1faW5kZXgiLCJmaWVsZE9iaiIsImdldEZpZWxkIiwiZmllbGRWYWwiLCJnZXRJdGVtTW9kYWxWYWx1ZSIsInNmX25hbWUiLCJzZmllbGRzIiwic2YiLCJJbnN0YW5jZU1hbmFnZXIiLCJjaGVja0Zvcm1GaWVsZFZhbHVlIiwiJCIsInNldFRhYmxlSXRlbVZhbHVlIiwiaXRlbV92YWx1ZSIsInRhYmxlVmFsdWUiLCJnZXRUYWJsZVZhbHVlIiwiZ2V0VGFibGVJdGVtVmFsdWUiLCJyZW1vdmVUYWJsZUl0ZW0iLCJyZW1vdmVkIiwic2V0VGFibGVWYWx1ZSIsImdldFZhbGlkVmFsdWUiLCJ2YWxpZFZhbHVlIiwiaGFuZGxlRGF0YSIsInZhbHVlcyIsImluc3RhbmNlRmllbGRzIiwiZ2V0SW5zdGFuY2VGaWVsZHMiLCJnZXRNb2RhbERhdGEiLCJGb3JtX2Zvcm11bGEiLCJnZXRGb3JtdWxhRmllbGRWYXJpYWJsZSIsIkF1dG9Gb3JtIiwiZ2V0Rm9ybVZhbHVlcyIsImluc2VydERvYyIsImFkZEl0ZW0iLCJfaXRlbV92YWx1ZSIsImdldEtleXMiLCJhcHBlbmQiLCJnZXRUciIsInVwZGF0ZUl0ZW0iLCJ0ZHMiLCJnZXRSZW1vdmVUZCIsInNmaWVsZCIsImdldFRkIiwiZW1wdHkiLCJydW5Gb3JtdWxhIiwicmVtb3ZlSXRlbSIsImhpZGUiLCJzaG93TW9kYWwiLCJtZXRob2QiLCJtb2RhbERhdGEiLCJNb2RhbCIsInNob3ciLCJnZXRDdXJyZW50RGF0YUZvckZvcm0iLCJzcyIsImdldEZvcm1TY2hlbWEiLCJzY2hlbWEiLCJvYmplY3RLZXlzIiwiX21ha2VHZW5lcmljIiwiZ2V0VGhlYWQiLCJpc09iamVjdCIsInRoZWFkIiwidHJzIiwic2ZfbGVuZ3RoIiwid2lkZV9maWVsZHMiLCJmaWx0ZXJQcm9wZXJ0eSIsImlzX3dpZGUiLCJnZXRUYm9keSIsInRib2R5IiwidHIiLCJ0ZCIsInRkX3ZhbHVlIiwiZ2V0VERWYWx1ZSIsInZpZXciLCJDRkRhdGFNYW5hZ2VyIiwiZ2V0Rm9ybXVsYVNwYWNlVXNlcnMiLCJ1IiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbnMiLCJvIiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbiIsInBsdWNrIiwiYWRkSW5wdXRUeXBlIiwidmFsdWVPdXQiLCJ2YWx1ZUNvbnZlcnRlcnMiLCJzdHJpbmdUb1N0cmluZ0FycmF5Iiwic3RyaW5nVG9OdW1iZXIiLCJzdHJpbmdUb051bWJlckFycmF5Iiwic3RyaW5nVG9Cb29sZWFuIiwic3RyaW5nVG9Cb29sZWFuQXJyYXkiLCJzdHJpbmdUb0RhdGUiLCJzdHJpbmdUb0RhdGVBcnJheSIsImNvbnRleHRBZGp1c3QiLCJtYXhsZW5ndGgiLCJhZlRhYmxlIiwiZXZlbnRzIiwiZXZlbnQiLCJuZXdfaXRlbV9pbmRleCIsImN1cnJlbnRUYXJnZXQiLCJkYXRhc2V0Iiwic2V0IiwicmVuZGVyZWQiLCJzdHIiLCJhZGRJdGVtVHIiLCJzcGFjZVVzZXJTaWduIiwidXNlcklkIiwic3BhY2VfdXNlcl9zaWducyIsImltYWdlVVJMIiwic2lnbiIsInNob3dTaWduSW1hZ2UiLCJoYW5kbGVyIiwiaXNfZmluaXNoZWQiLCJvYmplY3RVcmwiLCJvYmplY3RfbmFtZSIsInJlY29yZF9pZCIsImFwcF9pZCIsIkNyZWF0b3IiLCJnZXRPYmplY3RVcmwiLCJ1bmVtcHR5IiwidW5lcXVhbHMiLCJpbmNsdWRlIiwicmVmMiIsInJlZjMiLCJnZXRJbnN0YW5jZUZsb3dWZXJzaW9uIiwiYXBwcm92ZXMiLCJyZWY0Iiwic3RlcCIsImFwcHJvdmUiLCJqdWRnZV9uYW1lIiwiaGFuZGxlcl9uYW1lIiwiaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSIsImhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lIiwiZmluaXNoX2RhdGUiLCJvcGluaW9uX2ZpZWxkc19jb2RlIiwic2lnbl9maWVsZF9jb2RlIiwiaXNfcmVhZCIsInNpZ25fc2hvdyIsImFmdGVyX2ZpZWxkIiwiYmVmb3JlX2ZpZWxkIiwicHJlX2ZpZWxkcyIsInByZV93aWRlX2ZpZWxkcyIsInNvcnRfYXBwcm92ZSIsIm9yZGVyIiwicDEiLCJwMiIsIl9wMSIsIl9wMiIsImdldFRpbWUiLCJfdCIsImdldENmQ2xhc3MiLCJnZXRUYWJsZVRoZWFkIiwiZ2V0VGFibGVCb2R5Iiwic2hvd0xhYmVsIiwidGVtcGxhdGVEYXRhIiwiZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lIiwidG9wX2tleXdvcmRzIiwiZm9vMSIsIm9waW5pb25GaWVsZHMiLCJmb28iLCJqc29uX2Zvcm11bGEiLCJzMSIsImVycm9yMSIsInlpamlhbmxhbiIsInN0ZXBOYW1lIiwiaW1hZ2Vfc2lnbiIsIm9ubHlfY2Nfb3BpbmlvbiIsIm9ubHlfY2MiLCJkZWZhdWx0X2Rlc2NyaXB0aW9uIiwib25seV9oYW5kbGVyIiwic2hvd0NDT3BpbmlvbiIsIm1hcmtEb3duVG9IdG1sIiwibWFya0Rvd25TdHJpbmciLCJyZW5kZXJlciIsIlJlbmRlcmVyIiwidGl0bGUiLCJmX2xhYmVsIiwidGhhdCIsImlzU2VjdGlvbiIsInJlZ2lzdGVySGVscGVyIiwiaW5zX2F0dGFjaF9kb3dubG9hZF91cmwiLCJnZXRQZXJtaXNzaW9ucyIsImluc3RhbmNlZm9ybUNoYW5nZUV2ZW50IiwicHJldmVudERlZmF1bHQiLCJvcGVuV2luZG93IiwidGFyZ2V0Iiwib25DcmVhdGVkIiwiY29tcGlsZWQiLCJpbnN0YW5jZUN1c3RvbVRlbXBsYXRlIiwiaW5zdGFuY2VWaWV3IiwicmVuZGVyRnVuY3Rpb24iLCJWaWV3IiwiaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlIiwib25SZW5kZXJlZCIsImN1cnJlbnRBcHByb3ZlIiwiY3VycmVudFN0ZXAiLCJmb3JtdWxhX2ZpZWxkcyIsImluc3RhbmNlTnVtYmVyRmllbGRzIiwiYXBwbGljYW50IiwibmV4dFN0ZXBzIiwibmV4dFN0ZXBVc2VycyIsIkluc3RhbmNlRXZlbnQiLCJpbml0RXZlbnRzIiwiZ2V0Q3VycmVudEFwcHJvdmUiLCJlYWNoIiwiZWxlbWVudCIsInNjaGVtYUtleSIsInRvYXN0ciIsInJlYXNvbiIsImdldEZpZWxkVmFsdWUiLCJJbnN0YW5jZU51bWJlclJ1bGVzIiwiaW5zdGFuY2VOdW1iZXJCdWlsZGVyIiwidHJpZ2dlciIsImdldEN1cnJlbnRTdGVwIiwicnVuIiwic2hvd01haW5UaXRsZSIsIndvcmtmbG93TWFpbkF0dGFjaFRpdGxlIiwiZW5hYmxlZF9hZGRfbWFpbl9hdHRhY2htZW50IiwiY3VycmVudF9zdGVwIiwibWFpbl9hdHRhY2hfY291bnQiLCJjZnMiLCJpbnN0YW5jZXMiLCJmaW5kIiwiY291bnQiLCJkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50IiwiZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlIiwic3RhcnRfc3RlcCIsImdldFN0YXJ0U3RlcCIsImNhbl9lZGl0X21haW5fYXR0YWNoIiwic3RlcF90eXBlIiwiZW5hYmxlZF9lZGl0X25vcm1hbF9hdHRhY2htZW50IiwiZ2V0RmxvdyIsInVwbG9hZF9hZnRlcl9iZWluZ19kaXN0cmlidXRlZCIsImlzQ0MiLCJnZXRDQ1N0ZXAiLCJjYW5fZWRpdF9ub3JtYWxfYXR0YWNoIiwibWFpbl9hdHRhY2htZW50IiwibWFpbl9hdHRhY2giLCJub3JtYWxfYXR0YWNobWVudHMiLCJzZWxlY3RvciIsIiRuZSIsImRmaXMiLCJkaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIiwiJGluIiwiZGlzdHJpYnV0ZV9tYWluIiwiZmlyc3RWZXJzaW9uTWFpbiIsIm1ldGFkYXRhIiwicGFyZW50IiwiYXR0YWNobWVudFVwbG9hZGVkQXQiLCJ1cGxvYWRlZEF0IiwiZmlyc3RWZXJzaW9uIiwic29ydEJ5IiwiaW5zdGFuY2VJZHMiLCJhdHRhY2htZW50c19jb3VudCIsImZsb3dfZmlsZXMiLCJmaWxlcyIsImlzRHJhZnRBbmRGbG93ZmlsZXNFeGlzdCIsImNvbXBhY3QiLCJhdHRhY2htZW50cyIsIiRvciIsImZldGNoIiwibXlBcHByb3ZlIiwibXlUcmFjZSIsImlzSW5ib3giLCJkZWZhdWx0RGVzY3JpcHRpb24iLCJhcHByb3ZlX3NvcnQiLCJhcHByb3Zlc0dyb3VwIiwiYXBwcm92ZXNfc29ydGVkIiwiY29tcGxldGVkX2RhdGUiLCJoYXNOZXh0IiwiaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSIsImlzX2NvbXBsZXRlZCIsImxhc3QiLCJ0b3BfYXBwcm92ZXMiLCJ1bmlvbiIsImZpbHRlciIsInRvcF9hcHByb3ZlIiwiZ3JvdXBCeSIsImhhbmRsZXJBcHByb3ZlcyIsImRlc2NyaXB0aW9uQXBwcm92ZXMiLCJfZGlzcGxheSIsImlzTXlBcHByb3ZlIiwibXlBcHByb3ZlRGVzY3JpcHRpb24iLCJhcHByb3ZlSWQiLCJub3ciLCJpc09waW5pb25PZkZpZWxkIiwiaW1hZ2VTaWduRGF0YSIsImdldExhc3RTaWduQXBwcm92ZSIsImdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzIiwibGFzdE15QXBwcm92ZURlc2NyaXB0aW9uIiwic2hvd0FwcHJvdmUiLCJqdWRnZV9kZXNjcmlwdGlvbiIsImlzX2FwcHJvdmVkIiwiaXNfcmVqZWN0ZWQiLCJpc19yZWFkZWQiLCJhZGRDbGFzcyIsInNldFRpbWVvdXQiLCJkYXRlRm9ybWF0IiwiZ2V0RnVsbFllYXIiLCJnZXRTdGVwTmFtZSIsInN0ZXBJZCIsImdldEluc3RhbmNlU3RlcCIsInNob3dEZWxldGVCdXR0b24iLCJhcHByb3ZlZCIsImZyb21fdXNlciIsImlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbiIsImFwcHJvdmVfYWRtaW5zIiwiaXNTaG93Iiwid29ya2Zsb3ciLCJjb250YWlucyIsImlzRWRpdGluZyIsImlzX2VkaXRpbmciLCJpc1Nob3dEZXNjcmlwdGlvbiIsImdldEFwcHJvdmVTdGF0dXNJY29uIiwiYXBwcm92ZUp1ZGdlIiwiYXV0b1N1Ym1pdHRlZCIsImFwcHJvdmVTdGF0dXNJY29uIiwiZ2V0QXBwcm92ZVN0YXR1c1RleHQiLCJhcHByb3ZlU3RhdHVzVGV4dCIsImdldEFwcHJvdmVKdWRnZUNsYXNzIiwiaXNGb3J3YXJkIiwic2hvd0ZvcndhcmREZWxldGVCdXR0b24iLCJmb3J3YXJkX2luc3RhbmNlIiwiaXNEaXN0cmlidXRlIiwic2hvd0Rpc3RyaWJ1dGVEZWxldGVCdXR0b24iLCJpc0xlZ2FsVmVyc2lvbiIsImhhc0Zsb3dBZG1pblBlcm1pc3Npb24iLCJmaW5pc2hEYXRlU2NoZW1hIiwiaXNBbmRyb2lkT3JJT1MiLCJhdXRvZm9ybSIsIm9wdGlvbmFsIiwicmVhZG9ubHkiLCJkYXRlVGltZVBpY2tlck9wdGlvbnMiLCJpZ25vcmVSZWFkb25seSIsIndpZGdldFBvc2l0aW9uaW5nIiwiaG9yaXpvbnRhbCIsImZpbmlzaERhdGVWYWx1ZXMiLCJzaG93VHJhY2VzVmlldyIsInNob3dfbW9kYWxfdHJhY2VzX2xpc3QiLCJzcGFjZV9zZXR0aW5ncyIsImdldEluc3RhbmNlU3RhdGVUZXh0IiwiaW5zdGFuY2VfaWQiLCJnZXRJbnN0YW5jZVN0YXRlQ29sb3IiLCJjbGEiLCJmaXJzdFRyYWNlIiwibGFzdF9kaXN0cmlidXRlX2Zyb20iLCJkaXNfaW5mbyIsIiRleGlzdHMiLCJjcmVhdGVkIiwiY3JlYXRlZF9ieSIsIlVVZmxvd19hcGkiLCJnZXROYW1lRm9yVXNlciIsInVzZXJzIiwiZnJvbV91c2VyX25hbWUiLCJpc0NDT3JEaXN0cmlidXRlT3JGb3J3YXJkVGVybWluYXRlZCIsImp1ZGdlVGVybWluYXRlZCIsImluc3RhbmNlRXhpc3RzIiwiYWdlbnREZXNjcmlwdGlvbiIsInVzZXJOYW1lIiwidHJhY2VOYW1lIiwidHJhY2VJZCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbGxpbmciLCJlcnIiLCJyZW1vdmVDbGFzcyIsInN1Y2Nlc3MiLCJjbG9zZXN0IiwidGFyZ2V0X3VzZXJfaWQiLCJvcGVuU2FmZU9iamVjdFVybCIsImZvcndhcmRfc3BhY2UiLCJmb3J3YXJkc3BhY2UiLCJmb3J3YXJkaW5zdGFuY2UiLCJUcmFja2VyIiwiYWZ0ZXJGbHVzaCIsIm9uIiwic2Nyb2xsVG9wIiwiZmluaXNoX2lucHV0Iiwib3Bpbmlvbl9pbnB1dCIsImFsbG93TXVsdGlwbGUiLCJzaG93UmVsYXRlZEluc3RhY2VzIiwicmVsYXRlZF9pbnN0YWNlcyIsInJlbGF0ZWRfaW5zdGFjZV91cmwiLCJpc0NvcmRvdmEiLCJzaG93X2RlbGV0ZSIsInNob3dSZWxhdGVkUmVjb3JkcyIsIkRlc2lnbmVyQVBJIiwiZ2V0QWJzb2x1dGVVcmwiLCJyb290VXJsIiwiX19tZXRlb3JfcnVudGltZV9jb25maWdfXyIsIlJPT1RfVVJMX1BBVEhfUFJFRklYIiwid3JpdGVSZXNwb25zZSIsImh0dHBDb2RlIiwic3RhdHVzQ29kZSIsInNlbmRJbnZhbGlkVVJMUmVzcG9uc2UiLCJzZW5kQXV0aFRva2VuRXhwaXJlZFJlc3BvbnNlIiwic2VuZEh0bWxSZXNwb25zZSIsInJlcSIsImVycm9yX21zZyIsIkpzb25Sb3V0ZXMiLCJhZGQiLCJuZXh0IiwiZGVhbF90eXBlIiwic3BhY2VJZCIsInNlbmRSZXN1bHQiLCJzcGVjaWZ5VXNlcklkcyIsImdldFVzZXJzIiwiYXBwbGljYW50SWQiLCJhcHByb3ZlUm9sZUlkcyIsImdldFVzZXIiLCJnZXRSb2xlVXNlcnNCeU9yZ3NBbmRSb2xlcyIsIm9yZ2FuaXphdGlvbnMiLCJhcHByb3ZlSHJSb2xlSWRzIiwiZ2V0SHJSb2xlc1VzZXJzIiwibWFuYWdlciIsInVzZXJGaWVsZCIsInVzZXJGaWVsZFZhbHVlIiwib3JncyIsIm9yZ0NoaWxkcmVucyIsIm9yZ0ZpZWxkIiwib3JnRmllbGRWYWx1ZSIsImdldE9yZ2FuaXphdGlvbnMiLCJnZXRPcmdhbml6YXRpb25zQ2hpbGRyZW5zIiwiZ2V0T3JnYW5pemF0aW9uIiwiZ2V0T3JnYW5pemF0aW9uQ2hpbGRyZW5zIiwiZ2V0T3JnYW5pemF0aW9uc1VzZXJzIiwib3JnRmllbGRVc2VycyIsInNwZWNpZnlPcmdJZHMiLCJzcGVjaWZ5T3JncyIsInNwZWNpZnlPcmdDaGlsZHJlbnMiLCJhcHByb3ZlclJvbGVJZHMiLCJnZXRSb2xlVXNlcnNCeVVzZXJzQW5kUm9sZXMiLCJzdSIsInVzZXJfYWNjZXB0ZWQiLCJ1bmlxVXNlcnMiLCJ1c2VySWRzIiwic3BhY2VVc2VycyIsImdldEZvcm11bGFVc2VyT2JqZWN0IiwiYXV0b0Zvcm1Eb2MiLCJhcHByb3ZlciIsImZvcm11bGFfdmFsdWVzIiwiaW5pdF9mb3JtdWxhX3ZhbHVlcyIsInN0YWNrIiwiZXJyb3JzIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImNhdGVnb3JpZXMiLCJjb21wYW55SWQiLCJjdXJyZW50X3VzZXIiLCJjdXJyZW50X3VzZXJfaW5mbyIsIm9yZyIsInBvc2l0aW9ucyIsInJvbGVzIiwic3BhY2VJZHMiLCJzcGFjZXMiLCJzcGFjZXNRdWVyeSIsImNoZWNrX2F1dGhvcml6YXRpb24iLCJhZG1pbnMiLCJjb21wYW55X2lkIiwic3BhY2VfdXNlcnMiLCJpc19kZWxldGVkIiwiaXNfdmFsaWQiLCJoZWxwX3RleHQiLCJjYXRlZ29yeSIsIm5hbWVfZm9ybXVsYSIsImNvZGVfZm9ybXVsYSIsImZsb3d0eXBlIiwiY3VycmVudF9ubyIsInBlcm1zIiwiZXJyb3JfbWVzc2FnZSIsImRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnMiLCJmbG93X3JvbGVzIiwiZmxvd19wb3NpdGlvbnMiLCJTcGFjZVVzZXJzIiwiVXNlcnMiLCJGb3JtcyIsIkZsb3dzIiwiT3JnYW5pemF0aW9ucyIsIlBvc2l0aW9ucyIsIlJvbGVzIiwiQ2F0ZWdvcmllcyIsIlNwYWNlcyIsImhhc2hEYXRhIiwiYXBwcm92ZV9mcm9tX2NsaWVudCIsIndvcmtmbG93X2VuZ2luZSIsImluc2VydGVkX2luc3RhbmNlcyIsImluc3RhbmNlX2Zyb21fY2xpZW50IiwibmV3X2lucyIsIm5ld19pbnNfaWQiLCJjcmVhdGVfaW5zdGFuY2UiLCJpbnNlcnRzIiwiY2NfdXNlcnMiLCJkZWxldGVfb2JqIiwiaW5ib3hfdXNlcnMiLCJzcGFjZVVzZXJPcmdhbml6YXRpb25zIiwic3BhY2VfaWQiLCJzcGFjZV91c2VyIiwidXNlcl9pZHMiLCJnZXRTcGFjZSIsImdldFNwYWNlVXNlciIsInN1Ym1pdHRlciIsImNhbkFkbWluIiwiZGVsZXRlZCIsImRlbGV0ZWRfYnkiLCJkZWxldGVkX2luc3RhbmNlcyIsImluc2VydCIsInJlbW92ZSIsInVuaXEiLCJ1X2lkIiwicHVzaE1hbmFnZXIiLCJzZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIiLCJzZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbiIsImN1cnJlbnRfYXBwcm92ZSIsImZsb3dfaWQiLCJyIiwic3VibWl0X2luc3RhbmNlIiwiYWxlcnRzIiwidHJpZ2dlcldlYmhvb2siLCJkaXN0cmlidXRlZEluc3RhbmNlc1JlbWluZCIsImZsb3dfdmVyX2VuZF9zdGVwIiwiZmxvd192ZXJzIiwiaCIsImluc3RhbmNlX2Zsb3dfdmVyIiwiaW5zdGFuY2VfdHJhY2UiLCJuZXdBcHByb3ZlIiwibmV3VHJhY2UiLCJvbGRfY2NfdXNlcnMiLCJvbGRfaW5ib3hfdXNlcnMiLCJvbGRfb3V0Ym94X3VzZXJzIiwic2V0T2JqIiwic3BhY2VfdXNlcl9vcmdfaW5mbyIsInRlbXBVc2VycyIsInRlcm1pbmF0ZV9yZWFzb24iLCJpc0luc3RhbmNlUGVuZGluZyIsImdldFNwYWNlVXNlck9yZ0luZm8iLCJmX3ZlciIsImZfc3RlcCIsInBlcm1pc3Npb25NYW5hZ2VyIiwiZ2V0Rmxvd1Blcm1pc3Npb25zIiwiTW9uZ28iLCJPYmplY3RJRCIsIl9zdHIiLCJ1c2VyX25hbWUiLCJoYW5kbGVyX29yZ2FuaXphdGlvbiIsInN0YXJ0X2RhdGUiLCJkdWVfZGF0ZSIsInJlYWRfZGF0ZSIsImlzX2Vycm9yIiwiY29zdF90aW1lIiwicHJldmlvdXNfdHJhY2VfaWRzIiwib3V0Ym94X3VzZXJzIiwibmZ0X2FwcHJvdmUiLCJtb2RpZmllZCIsIm1vZGlmaWVkX2J5IiwiY3VycmVudF9zdGVwX25hbWUiLCJjdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQiLCJ1cGRhdGUiLCIkc2V0IiwidXNlcl9pZCIsInNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIiLCJfdXNlcnMiLCJhcHByb3ZlX3VzZXJzX2hhbmRsZXJzIiwiYXNzaWduZWVfYXBwciIsImN1cnJlbnRfc3BhY2VfdXNlciIsImN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24iLCJpbmJveF91c2Vyc19mcm9tX2NsaWVudCIsImxhc3RfdHJhY2UiLCJsYXN0X3RyYWNlX2Zyb21fY2xpZW50IiwibmV3X2luYm94X3VzZXJzIiwibm90X2luX2luYm94X3VzZXJzIiwicmVhc3NpZ25fcmVhc29uIiwiZGlmZmVyZW5jZSIsIm9yZ2FuaXphdGlvbiIsImFnZW50IiwiaGFuZGxlcl9pZCIsImhhbmRsZXJfaW5mbyIsIm5ld19hcHByIiwibmV3X3VzZXIiLCJ1c2VyX29yZ2FuaXphdGlvbiIsImdldEFnZW50Iiwic2V0UmVtaW5kSW5mbyIsImFoIiwiYXBwcm92ZV91c2VycyIsImN1cnJlbnRfc2V0cCIsImN1cnJlbnRfc2V0cF90eXBlIiwibmV4dF9zdGVwIiwibmV4dF9zdGVwX25hbWUiLCJuZXh0X3N0ZXBfdHlwZSIsInJlbG9jYXRlX2FwcHIiLCJyZWxvY2F0ZV9jb21tZW50IiwicmVsb2NhdGVfaW5ib3hfdXNlcnMiLCJyZWxvY2F0ZV9uZXh0X3N0ZXAiLCJzYW1lVHJhY2VzIiwic2lnblNob3dBcHByb3ZlSWQiLCJ0YSIsInRpIiwiZ2V0U3RlcCIsImdldFVwZGF0ZWRWYWx1ZXMiLCJnZXREdWVEYXRlIiwidGltZW91dF9ob3VycyIsIm5leHRfc3RlcF91c2VyX2lkIiwiaWR4IiwibmV4dF9zdGVwX3NwYWNlX3VzZXIiLCJuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyIsInVzZXJfaW5mbyIsImdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdCIsInRpbWVvdXRfYXV0b19zdWJtaXQiLCJsaW5lcyIsIiR1bnNldCIsImlzSW5zdGFuY2VGaW5pc2hlZEFuZE5vdEFyY2hpZXZlZCIsImlzSW5zdGFuY2VTdWJtaXR0ZXJPckFwcGxpY2FudE9yU3BhY2VBZG1pbiIsInN0YXJ0dXAiLCJXZWJBcHAiLCJjb25uZWN0SGFuZGxlcnMiLCJ1c2UiLCJlanMiLCJlanNMaW50IiwiZW5kX2RhdGUiLCJlcnJvcl9vYmoiLCJmaWxlTmFtZSIsImZsb3dfaWRzIiwiZm9ybV9uYW1lIiwiaW5zX3RvX3hscyIsImxhbmciLCJsYXN0X21vbnRoX2RhdGUiLCJyZXQiLCJ0aW1lem9uZW9mZnNldCIsInVpZCIsInBhcnNlSW50IiwiZ2V0TXlBZG1pbk9yTW9uaXRvckZsb3dzIiwiZ2V0TW9udGgiLCJzdWJtaXRfZGF0ZSIsIiRndGUiLCIkbHRlIiwicmVxdWlyZSIsImxpbnQiLCJmb3JtYXRlciIsInNldEhlYWRlciIsImF1dGhfdG9rZW4iLCJmb3JtaWRzIiwiaXNfYWRtaW4iLCJzeW5jX3Rva2VuIiwiZW5hYmxlZCIsImdldF9TcGFjZUNoYW5nZVNldCIsImxhc3RfdHJhY2VfaWQiLCJvcmdfaW5mbyIsInByZXZpb3VzX3N0ZXAiLCJwcmV2aW91c190cmFjZSIsInByZXZpb3VzX3RyYWNlX2FwcHJvdmVzIiwicHJldmlvdXNfdHJhY2VfaWQiLCJwcmV2aW91c190cmFjZV9uYW1lIiwicHJldmlvdXNfdHJhY2Vfc3RlcF9pZCIsInJldHJpZXZlX2FwcHJvdmUiLCJyZXRyaWV2ZV9jb21tZW50IiwicmV0cmlldmVfdHlwZSIsInRoZV90cmFjZSIsInJldHJpZXZlX2FwcHIiLCJhcHByIiwiY3VycmVudF91c2VyX2lkIiwiaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50IiwiaXNGb3J3YXJkQXR0YWNobWVudHMiLCJzZWxlY3RlZFVzZXJzIiwiYWN0aW9uX3R5cGUiLCJyZWxhdGVkIiwiZnJvbV9hcHByb3ZlX2lkIiwiY2hlY2siLCJNYXRjaCIsIk9uZU9mIiwib2xkX3NwYWNlX2lkIiwiZm9yd2FyZF91c2VycyIsIm5vX3Blcm1pc3Npb25fdXNlcl9pZHMiLCJub19wZXJtaXNzaW9uX3VzZXJzX25hbWUiLCJuZXdfaW5zX2lkcyIsImN1cnJlbnRfdHJhY2UiLCJjdXJyZW50X3RyYWNlX2lkIiwiZm9yd2FyZF9hcHByb3ZlcyIsInNldF9vYmoiLCJvbGRfdmFsdWVzIiwibmV3X3ZhbHVlcyIsIm9sZF9mb3JtIiwib2xkX2Zvcm1fdmVyc2lvbiIsIm9sZF9maWVsZHMiLCJjb21tb25fZmllbGRzIiwic2VsZWN0X3RvX2lucHV0X2ZpZWxkcyIsImV4aXN0c19maWVsZCIsInNlbGVjdF9pbnB1dF9maWVsZCIsIm9sZF92Iiwib2xkX211bHRpU2VsZWN0ZWQiLCJuZXdfbXVsdGlTZWxlY3RlZCIsIm9sZF90YWJsZV9yb3dfdmFsdWVzIiwibmV3X3RhYmxlX3Jvd192YWx1ZXMiLCJyZWNvcmRfbmVlZCIsIkZPTkRTSUQiLCJpbnN0YW5jZV9uYW1lIiwibmFtZV9mb3J1bWxhIiwiaXNjcmlwdCIsImNhdGVnb3J5X25hbWUiLCJnZXRDYXRlZ29yeSIsImluc19vYmoiLCJoYW5kbGVyX3NwYWNlX3VzZXIiLCJoYW5kbGVyX29yZ19pbmZvIiwiX21ha2VOZXdJRCIsInN1Ym1pdHRlcl9uYW1lIiwiYXBwbGljYW50X29yZ2FuaXphdGlvbiIsImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZSIsImFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWUiLCJmb3J3YXJkX2Zyb21faW5zdGFuY2UiLCJ0cmFjZV9vYmoiLCJzdGVwX2lkIiwic3RlcF9uYW1lIiwiYXBwcl9vYmoiLCJhdXRvX3JlbWluZCIsImZsb3dfbmFtZSIsImNvbGxlY3Rpb24iLCJpbnN0YW5jZUh0bWwiLCJpbnN0YW5jZUZpbGUiLCJGUyIsIkZpbGUiLCJhdHRhY2hEYXRhIiwiQnVmZmVyIiwiZnJvbSIsInNpemUiLCJvd25lciIsIm93bmVyX25hbWUiLCJmaWxlT2JqIiwibWFpbiIsIm5ld0ZpbGUiLCJjcmVhdGVSZWFkU3RyZWFtIiwib3JpZ2luYWwiLCIkYWRkVG9TZXQiLCIkZWFjaCIsInVwZGF0ZV9yZWFkIiwiZmxvd0lkIiwiaW5zSWQiLCJyZWRpcmVjdFRvIiwicmVkaXJlY3RUb1VybCIsInJlcV9hc3luYyIsInBhcmFtcyIsInN0YXR1cyIsInNlbmQiLCJ3cml0ZUhlYWQiLCJhdHRhY2giLCJsaW1pdCIsIm5vX2xpbWl0X2NvdW50IiwicmVmNSIsInJlc3VsdF9pbnN0YW5jZXMiLCJzcGFjZV9uYW1lcyIsInNwZWNpYWxfdXNlcl9pZCIsInVzZXJpZCIsIndvcmtmbG93X2NhdGVnb3JpZXMiLCJBUElBdXRoZW50aWNhdGlvbkNoZWNrIiwiaGVhZGVycyIsInJlZjYiLCJyZWY3IiwiY29waWVzIiwiQ29va2llcyIsImF1dGhUb2tlbiIsImlzU3BhY2VBZG1pbiIsImlzX3BhaWQiLCJhcHBsaWNhbnRJbmZvIiwiYXBwbGljYW50X2lkIiwiYXBwbGljYW50X3VzZXJuYW1lIiwiaW5zX2lkIiwicGVybV91c2VycyIsIm5leHRfc3RlcF9pZCIsIm5leHRfdXNlcl9pZHMiLCJyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMiLCJpc0luc3RhbmNlRHJhZnQiLCJnZXRGb3JtIiwiY2hlY2tWYWx1ZUZpZWxkc1JlcXVpcmUiLCJnZXROZXh0U3RlcHMiLCJnZXRIYW5kbGVyc01hbmFnZXIiLCJnZXRIYW5kbGVycyIsInN0ZXBuYW1lIiwiJGVsZW1NYXRjaCIsImluYm94X3VlcnMiLCJhcHByb3ZlX2lkIiwicGFyc2VGaWxlcyIsIm1pbWVUeXBlIiwiaXNfcHJpdmF0ZSIsImxvY2tlZF9ieSIsImxvY2tlZF9ieV9uYW1lIiwiYXR0YWNoX2lkIiwiZmlsZSIsImNvbHVtbnMiLCJmb3J3YXJkX2lucyIsImZvcndhcmRfaW5zX3ZhbHVlcyIsIm9yaWdpbmFsX2lucyIsIm9yaWdpbmFsX2luc19maWVsZHMiLCJvcmlnaW5hbF9pbnNfZm9ybSIsIm9yaWdpbmFsX2luc19pZCIsIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyIsInJlZjgiLCJyZWY5Iiwicm93X2RhdGEiLCJzdWJUYWJsZSIsInRhYmxlX2RhdGEiLCJjb2x1bW4iLCJvcmlnaW5hbF9pbnNfZmllbGQiLCJvaCIsImFfdGFibGUiLCJhX3RhYmxlX3ZhbHVlcyIsImNvbHVtbl9saXN0IiwiZF9pbnMiLCJkX2luc19maWVsZHMiLCJkX2luc19mb3JtIiwiZF9pbnNfdmFsdWVzIiwiZF9tYXRjaF9jb2wiLCJkX21hdGNoX2NvbF9maWVsZCIsImRfbWF0Y2hfY29sX2ZpZWxkcyIsImRfc3VidGFibGVfZmllbGRzIiwiZF90YWJsZSIsImRfdGFibGVfdmFsdWVzIiwib19pbnMiLCJvX2luc19maWVsZHMiLCJvX2luc19mb3JtIiwib19pbnNfaWQiLCJvX21hdGNoX2NvbCIsIm9fbWF0Y2hfY29sX2ZpZWxkIiwib19tYXRjaF9jb2xfZmllbGRzIiwib19zdWJ0YWJsZV9maWVsZHMiLCJvX3RhYmxlIiwicmVmMTAiLCJyZWYxMSIsInJlZjEyIiwicmVmMTMiLCJyZWYxNCIsInJlZjE1IiwicmVmMTYiLCJyZWYxNyIsInJlZjE4IiwicmVmMTkiLCJyZWYyMCIsInJlZjIxIiwicmVmMjIiLCJvVGFibGUiLCJkVGFibGUiLCJvTWF0Y2hDb2wiLCJkTWF0Y2hDb2wiLCJyZWZpbGxDb2wiLCJhVGFibGUiLCJvX2luc19maWVsZCIsImRfaW5zX2ZpZWxkIiwiZGgiLCJhX3JvdyIsInJlc3VsdHMiLCJtIiwiY29sIiwiY29scyIsImRfY29sIiwiZF9jb2xfZmllbGRzIiwib19jb2wiLCJvX2NvbF9maWVsZHMiLCJkX3JvdyIsImhhc19vYmoiLCJvX3JvdyIsIm5ld190YWJsZV92YWx1ZXMiLCJzb3J0X2NvbCIsInN1Yl90YWJsZSIsInN1Yl90YWJsZV92YWx1ZXMiLCJzdW1fY29sIiwic3VtQ29sIiwic29ydENvbCIsInNpbmdsZUNvbHMiLCJKc29uU29ydCIsImpzb25BcnIiLCJhc2MiLCJqIiwiamwiLCJ0ZW1wIiwiTnVtYmVyIiwiaXNEZXZlbG9wbWVudCIsImFjdGlvbiIsInRvX3VzZXJzIiwiZ2V0Rm9ybXVsYVVzZXJPYmplY3RzIiwib3JnSWRzIiwiZ2V0Rm9ybXVsYU9yZ09iamVjdHMiLCJtZXRob2RzIiwic2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZSIsInN0ZXBfYXBwcm92ZSIsInN0ZXBzQXBwcm92ZXNPcHRpb25zIiwiX2tleXMxIiwiX2tleXMyIiwic3RlcHNBcHByb3ZlcyIsInN0ZXBBcHByb3ZlcyIsInN0ZXBzQXBwcm92ZU9wdGlvbnMiLCJzZXRfaW5zdGFuY2Vfc2tpcF9zdGVwcyIsIiRwdWxsIiwic2tpcF9zdGVwcyIsIiRwdXNoIiwiZ2V0X2luc3RhbmNlX2RhdGEiLCJmb3JtQ2FjaGVkIiwiZmxvd0NhY2hlZCIsImRyYWZ0X3NhdmVfaW5zdGFuY2UiLCJ0cmFjZV9pZCIsIm5leHRfc3RlcHMiLCJmb3JtX2lkIiwia2V5X3N0ciIsImlzSW5zdGFuY2VTdWJtaXR0ZXIiLCJvcmdfaWQiLCJnZXRJbnN0YW5jZU5hbWUiLCJpbmJveF9zYXZlX2luc3RhbmNlIiwiaXNUcmFjZU5vdEZpbmlzaGVkIiwiaXNBcHByb3ZlTm90RmluaXNoZWQiLCJpc0hhbmRsZXJPckFnZW50IiwicGVybWlzc2lvbnNfdmFsdWVzIiwiZ2V0QXBwcm92ZVZhbHVlcyIsImNoYW5nZV92YWx1ZXMiLCJhcHByb3ZlTWFuYWdlciIsImdldENoYW5nZVZhbHVlcyIsImV4dGVuZCIsInZhbHVlc19oaXN0b3J5IiwiZm9ybV92IiwiY2NfZG8iLCJjY191c2VyX2lkcyIsIm5ld19hcHByb3ZlcyIsImZpbGVkcyIsImNjX3JlYWQiLCJjY19zdWJtaXQiLCJ1cG9iaiIsImNjX3JlbW92ZSIsInJlbW92ZV91c2VyX2lkIiwibXVsdGkiLCJjY19zYXZlIiwiZm9yd2FyZF9yZW1vdmUiLCJoYXNBZG1pblBlcm1pc3Npb24iLCJmb3J3YXJkX2luc3RhbmNlX2lkIiwiZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkIiwiY2FuY2VsRGlzdHJpYnV0ZSIsImFwcHJvdmVfaWRzIiwiZXhpc3RzIiwiY2ZzX2luc3RhbmNlc19yZW1vdmUiLCJmaWxlX2lkIiwiY2ZzX2luc3RhbmNlc19zZXRfY3VycmVudCIsImNmc19pbnN0YW5jZXNfbG9jayIsImNmc19pbnN0YW5jZXNfdW5sb2NrIiwiZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzayIsImNmc1JlY29yZElkcyIsImlzX2Nsb3VkYWRtaW4iLCJzdG9yZSIsImZzIiwiX19tZXRlb3JfYm9vdHN0cmFwX18iLCJzZXJ2ZXJEaXIiLCJhYnNvbHV0ZVBhdGgiLCJyZXNvbHZlIiwic3luYyIsInRpbWUiLCJkb3dubG9hZEZhaWxlZFJlY29yZElkcyIsImZpbGVQYXRoIiwid3JhcEFzeW5jIiwid3JpdGVyIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJpc0Z1bmN0aW9uIiwicmVhZGVyIiwicGlwZSIsInRpbWVFbmQiLCJzZXRfYXBwcm92ZV9oYXZlX3JlYWQiLCJzZWxmIiwiY2hhbmdlX2FwcHJvdmVfaW5mbyIsInVwZGF0ZV9hcHByb3ZlX3NpZ24iLCJzaWduX3R5cGUiLCJsYXN0U2lnbkFwcHJvdmUiLCJsYXN0VHJhY2UiLCJzZXNzaW9uX3VzZXJJZCIsInVwT2JqIiwiY3VzdG9tX3NpZ25fc2hvdyIsInVwZGF0ZV9zaWduX3Nob3ciLCJvYmpzIiwibXlBcHByb3ZlX2lkIiwiaW5zdGFuY2VfcmV0dXJuIiwiYXBwcm92ZV92YWx1ZXMiLCJwcmVfc3RlcCIsInByZV90cmFjZSIsInJlc3RfY291bnRlcl91c2VycyIsImluc3RhbmNlX3JlbWluZCIsInJlbWluZF91c2VycyIsInJlbWluZF9jb3VudCIsInJlbWluZF9kZWFkbGluZSIsImFjdGlvbl90eXBlcyIsImxhc3RfcmVtaW5kX3VzZXJzIiwicHJpb3JpdHkiLCJhcCIsImNhY3VsYXRlX2RhdGUiLCJtYW51YWxfZGVhZGxpbmUiLCJjYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheSIsInJlbWluZF9kYXRlIiwiY2FjdWxhdGVXb3JraW5nVGltZSIsImJhc2VfZGF0ZSIsInBsdXNfaGFsZmRheV9kYXRlIiwic2VuZFJlbWluZFNNUyIsIm5leHRfc3RlcF91c2Vyc19ub3RfZm91bmQiLCJhcHByb3Zlcl9yb2xlcyIsInJvbGVzX25hbWUiLCJyb2xlX25hbWUiLCJfZXZhbCIsIl9OVU1CRVIiLCJfWVlZWSIsIm51bWJlclJ1bGVzIiwicnVsZXMiLCJzY3JpcHQiLCJpbnN0YW5jZV9udW1iZXJfcnVsZXMiLCJudW1iZXIiLCJZWVlZIiwiTU0iLCJtbSIsIkREIiwiZ2V0RGF0ZSIsImRkIiwiZmlyc3RfbnVtYmVyIiwiTlVNQkVSIiwibmV3Tm8iLCJfZXJyb3IiLCJjaGVja19tYWluX2F0dGFjaCIsImNoZWNrTWFpbkF0dGFjaCIsInJlbW92ZV9yZWxhdGVkIiwicmVfaW5zX2lkIiwidXBkYXRlX2luc3RhbmNlX3JlbGF0ZWQiLCJ1cGRhdGVGbG93UG9zaXRpb24iLCJyb2xlIiwidXBkYXRlRmxvd1JvbGUiLCJzdGFydF9mbG93Iiwia2V5VmFsdWUiLCJzdGFydF9mbG93cyIsInN0ZWVkb3Nfa2V5dmFsdWVzIiwiZ2V0X2luc3RhbmNlX3RyYWNlcyIsIm1pbmlBcHByb3ZlRmllbGRzIiwiY2F0ZWdvcnlJZCIsImZsb3dJZHMiLCJfYmF0Y2hfaW5zdGFuY2VzIiwiZ2V0QmF0Y2hJbnN0YW5jZXMiLCJteUFwcHJvdmVzIiwibXlfYXBwcm92ZSIsImdldE15QXBwcm92ZSIsImNoYW5nZV9mbG93X3N0YXRlIiwiX3VzZXJJZCIsIl9mbG93cyIsIl9mbG93c19zdGF0ZSIsImZvcm1fY3VycmVudF9maWVsZHNfY29kZSIsInNwZWNpZnlTdGVwIiwiYXBwcm92ZXJfc3RlcCIsIl9zdGVwIiwiZmllbGRzX21vZGlmaWFibGUiLCJoaWRlX2luc3RhbmNlIiwiaXNfaGlkZGVuIiwiZ2V0SW5zdGFuY2VWYWx1ZXMiLCJnZXRJbnN0YW5jZVJlYWRPbmx5IiwiX2hhc1Blcm1pc3Npb24iLCJfbG9jYWxlIiwiX3BhcmVudF9pbnN0YW5jZXMiLCJkYXRhQnVmIiwiaGlkZV90cmFjZXMiLCJzcGFjZVVzZXJDb3VudCIsImdldEFQSUxvZ2luVXNlciIsImFjY2Vzc190b2tlbiIsImdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbiIsImhhc0luc3RhbmNlUGVybWlzc2lvbnMiLCJfcGFyZW50X2lkIiwiX3BhcmVudF9pbnMiLCJjaGFyc2V0IiwicmV0X3N5bmNfdG9rZW4iLCJzcGFjZVVzZXIiLCJjYW5Nb25pdG9yIiwiJGd0IiwiJG5pbiIsInNraXAiLCJhbGxDc3MiLCJnZXRSZWZyZXNoYWJsZUFzc2V0cyIsImNzcyIsIlJPT1RfVVJMIiwiZW5kc1dpdGgiLCJnIiwiayIsImdldEVhY2giLCJtaXhpbiIsImRlc3QiLCJoYW5kZXJVc2VyT2JqZWN0IiwiaHIiLCJzb3J0X25vIiwibW9iaWxlIiwid29ya19waG9uZSIsInBvc2l0aW9uIiwidXNlclJvbGVzIiwiaGFuZGVyT3JnT2JqZWN0IiwiX192YWx1ZXMiLCJ0YWJsZUZpZWxkcyIsInRhYmxlVmFsdWVzIiwiZm9ybXVsYVRhYmxlVmFsdWVzIiwiX190YWJsZVZhbHVlcyIsInRhYmxlZmllbGQiLCJnZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyIsInJvbGVfaWRzIiwiZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyIsInJvbGVfaWQiLCJnZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUiLCJnZXRIYW5kbGVyc0J5T3JnQW5kUm9sZSIsImdldEhhbmRsZXJzQnlPcmdzQW5kUm9sZXMiLCJvcmdfaWRzIiwiZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzIiwicGFyZW50X2lkIiwiX2FwcHJvdmUiLCJfc3BhY2VfdXNlciIsIl90cmFjZSIsImFwcGxpY2FudFN1cGVyaW9ycyIsImFwcHJvdmVyX29yZ19maWVsZCIsImFwcHJvdmVyX29yZ19pZHMiLCJhcHByb3Zlcl91c2VyX2ZpZWxkIiwiYXBwcm92ZXJfdXNlcl9pZHMiLCJjdXJyZW50X2Zsb3ciLCJjdXJyZW50X2Zsb3dfdmVyc2lvbiIsImN1cnJlbnRfZm9ybSIsImN1cnJlbnRfc3RlcHMiLCJmaWVsZF9jb2RlIiwiZmluaXNoZWRfdHJhY2VzIiwiZmxvd19yZXYiLCJmb3JtX3JldiIsImhhbmRsZXJzIiwibWF4X3N0YXJ0RGF0ZV90cmFjZSIsIm5ld19hcHByb3Zlcl91c2VyX2lkcyIsIm5ld19vcmdfdXNlcl9pZHMiLCJuZXdlc3RfdmFsdWVzIiwibmV4dF9zdGVwX3VzZXJzIiwib3JnX2lkc19uYW1lcyIsIm9yZ191c2VyX2lkcyIsInNwYWNlX3VzZXJfY291bnQiLCJzdWJtaXR0ZXJfdXNlcl9jb3VudCIsInVuZmluaXNoZWRfdHJhY2UiLCJ1c2VyX2lkc19uYW1lcyIsInZhbGlkX2FwcHJvdmVyX29yZ19pZHMiLCJoaXN0b3J5IiwiYXBwcm92ZXJfcm9sZSIsInJvbGVfY291bnQiLCJhcHByb3Zlcl9ocl9yb2xlcyIsImN1cnJlbnRfZmxvd19oaXN0b3J5IiwiZm9ybV9oaXN0b3J5IiwiZm9ybV9maWVsZCIsImNoZWNrX29yZ19jb3VudCIsImNoZWNrX29yZ3MiLCJvcmdfY2hpbGRyZW4iLCJvcmdfdXNlcnMiLCJjaGVja19vcmdfdXNlciIsIm9yZ191c2VyIiwiY2hlY2tfdXNlcl9jb3VudCIsImFwcHJvdmVfdXNlciIsImNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCIsImFwcHJvdmVyX29yZ3MiLCJhcHByb3Zlcl9vcmdfaWQiLCJ2YWxpZF9hcHByb3Zlcl9vcmdfaWQiLCJjaGlsZF9vcmdzIiwidmFsaWRfYXBwcm92ZXJfb3JnIiwiY2hpbGRfb3JnIiwib3JnX3VzZXJfaWQiLCJzcGFjZV91c2VyX2luZm9fY291bnQiLCJhcHByb3Zlcl91c2VycyIsImFwcHJvdmVyX3VzZXJfaWQiLCJfdHIiLCJfYXBwIiwibXlfcGVybWlzc2lvbnMiLCJvcmdzX2Nhbl9hZGQiLCJvcmdzX2Nhbl9hZG1pbiIsIm9yZ3NfY2FuX21vbml0b3IiLCJ1c2Vyc19jYW5fYWRkIiwidXNlcnNfY2FuX2FkbWluIiwidXNlcnNfY2FuX21vbml0b3IiLCJsYXN0X3ZhbHVlcyIsImFwcHJvdmVfdmFsdWVzX2tleXMiLCJjaGFuZ2VWYWx1ZXMiLCJsYXN0X3ZhbHVlc19rZXlzIiwiaXNFcXVhbCIsImZsb3dNYW5hZ2VyIiwiZ2V0Q2F0ZWdvcmllc0Zsb3dzIiwiY2F0ZWdvcmllSWQiLCJjYXRlZ29yaWVzRm9ybXMiLCJmb3JtTWFuYWdlciIsImdldENhdGVnb3JpZXNGb3JtcyIsImdldFVuQ2F0ZWdvcmllc0Zsb3dzIiwidW5DYXRlZ29yaWVzRm9ybXMiLCJnZXRVbkNhdGVnb3JpZXNGb3JtcyIsIl9maWVsZHMiLCJzdGVwTWFuYWdlciIsImFsbG93QmF0Y2giLCJpc0V4aXN0U3RlcCIsImxvZ2dlciIsIkxvZ2dlciIsImhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXAiLCJmaWVsZF9tYXAiLCJjdXJyZW50QXBwcm92ZXMiLCJjdXJyZW50VHJhY2VzIiwiZ2V0Q3VycmVudFRyYWNlIiwiaW5ib3hfdXNlciIsIkZJRUxEUyIsImNhdGVnb3J5Rmxvd3MiLCJpbmJveF9pbnN0YW5jZXMiLCJ1bkNhdGVnb3J5Rmxvd3MiLCJjdXJyZW50U3RlcElkIiwiYXBwcm92ZV9zdGFydF9kYXRlIiwicHVibGlzaCIsInJlYWR5IiwiYXBwIiwicHVibGlzaENvbXBvc2l0ZSIsInRhYmxlTmFtZSIsImlkcyIsIk9wdGlvbmFsIiwidW5ibG9jayIsImNoaWxkcmVuIiwiY3JlYXRlVGVtcGxhdGVGb3JtQW5kRmxvdyIsImRpc3RyaWJ1dGVfdG9fc2VsZiIsInZlcnNpb25JZCIsImhhbmRsZSIsImxhdGVzdCIsIm9ic2VydmVDaGFuZ2VzIiwiY2hhbmdlZCIsImFkZGVkIiwib25TdG9wIiwic3RvcCIsImRpc3RyaWJ1dGVfZW5kX25vdGlmaWNhdGlvbiIsImFsbG93X3NlbGVjdF9zdGVwIiwiZ2V0TWluaUluc3RhbmNlIiwiZ2V0TXlhcHByb3ZlTW9kaWZpZWQiLCJpbnN0YW5jZV9maWVsZHNfMCIsIm5lZWRDaGFuZ2UiLCJ0cmlnZ2VyQ2hhbmdlRmllbGRzIiwidHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlcyIsIm15QXBwcm92ZU1vZGlmaWVkcyIsIl9pbnN0YW5jZUlkIiwiY2hhbmdlRmllbGRzIiwiX2NoYW5nZSIsIl9yZXYiLCJfbXlfYXBwcm92ZV9tb2RpZmllZHMiLCJnZXRJbnN0YW5jZVRyYWNlcyIsIl9pbnNJZCIsImFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSIsImxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUiLCJpbnN0YW5jZWlkIiwiZGF0YU1hcCIsIm9wZXJhdGlvbiIsInJhd0NvbGxlY3Rpb24iLCJhZ2dyZWdhdGUiLCJ0b0FycmF5IiwiZG9jIiwiZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlIiwiZ2V0U3RlcEN1cnJlbnROYW1lIiwibm90RmluaXNoZWRUcmFjZXMiLCJzdGVwQ3VycmVudE5hbWUiLCIkc2xpY2UiLCJteUxhc3RGaW5pc2hlZEFwcHJvdmUiLCJhZ2VudF91c2VyX25hbWUiLCJteV9maW5pc2hfZGF0ZSIsImlzX2NjIiwiY2NfY291bnQiLCJpbnN0YW5jZV9pZHMiLCJyZWxhdGVkX2luc3RhbmNlX2lkcyIsIl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlIiwiX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUiLCJfaXRlbXMiLCIkbWF0Y2giLCIkZ3JvdXAiLCIkc3VtIiwiX2NoYW5nZURhdGEiLCJfZmxvd3NEYXRhIiwiX2luaXQiLCJkYXRhSXRlbSIsImZsb3dfaW5zdGFuY2UiLCJvYnNlcnZlIiwiZ2V0Q29sbGVjdGlvbiIsIndvcmtmbG93VGVtcGxhdGUiLCJhYnNvbHV0ZV9wYXRoX2NuIiwiYWJzb2x1dGVfcGF0aF91cyIsImZpbGVzTGlzdF9jbiIsImZpbGVzTGlzdF91cyIsIm1pbWUiLCJwYXRoX2NuIiwicGF0aF91cyIsInJlYWRGaWxlTGlzdCIsInBhdGhEaXIiLCJmaWxlc0xpc3QiLCJyZWFkZGlyU3luYyIsInN0YXQiLCJzdGF0U3luYyIsImlzRGlyZWN0b3J5Iiwid29ya2Zsb3dUZW1wbGF0ZXMiLCJleGlzdHNTeW5jIiwicmVhZEZpbGVTeW5jIiwiZ29fbmV4dCIsInJ1bGUiLCJzY2hlZHVsZSIsImNyb24iLCJhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24iLCJzY2hlZHVsZUpvYiIsImJpbmRFbnZpcm9ubWVudCIsInByb2Nlc3NfZGVsZWdhdGlvbl9ydWxlcyIsImVuZF90aW1lIiwidGltZW91dEF1dG9TdWJtaXQiLCJUYWJ1bGFyVGFibGVzIiwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciIsIlRhYnVsYXIiLCJUYWJsZSIsIm9yZGVyYWJsZSIsInJlbmRlciIsImlucHV0Iiwic3RlcF9jdXJyZW50X25hbWUiLCJkb20iLCJsZW5ndGhDaGFuZ2UiLCJleHRyYUZpZWxkcyIsInBhZ2VMZW5ndGgiLCJpbmZvIiwic2VhcmNoaW5nIiwicmVzcG9uc2l2ZSIsImRldGFpbHMiLCJhdXRvV2lkdGgiLCJjaGFuZ2VTZWxlY3RvciIsImN1clNwYWNlVXNlciIsIiRhbmQiLCJmbCIsIkdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zIiwiX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zIiwiX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyIsIl9oYW5kbGVMaXN0RmllbGRzIiwiaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciIsIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyIiwidXBkYXRlVGFidWxhclRpdGxlIiwic3VicyIsIlN1YnNNYW5hZ2VyIiwiaW5zX2ZpZWxkcyIsInB1YiIsIm9uVW5sb2FkIiwiaW5zdGFuY2VfbGlzdCIsIl90YWJsZUNvbHVtbnMiLCJkcmF3Q2FsbGJhY2siLCJlbGxpcHNpc0xpbmsiLCJlbXB0eVRkIiwiY29sU3BhbiIsImlzUGFkIiwicGVyZmVjdFNjcm9sbGJhciIsIm9JbnN0YW5jZSIsImF0dHIiLCJjbGljayIsImdvUGFnZSIsImhlaWdodCIsInBhZ2VzIiwiY2VpbCIsImZuUmVjb3Jkc0Rpc3BsYXkiLCJfaURpc3BsYXlMZW5ndGgiLCJEYXRhVGFibGUiLCJwYWdlIiwiZHJhdyIsImJsdXIiLCJjdXJyZW50UGFnZSIsImtleWRvd24iLCJrZXlDb2RlIiwiY3JlYXRlZFJvdyIsInJvdyIsImRhdGFJbmRleCIsIkZsb3dSb3V0ZXIiLCJzZXRBdHRyaWJ1dGUiLCJhZ2VudF92aWV3IiwiY2NfdmlldyIsImluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MiLCJpc0Zhdm9yaXRlU2VsZWN0ZWQiLCJtb2RpZmllZEZyb21Ob3ciLCJtb2RpZmllZFN0cmluZyIsInByaW9yaXR5SWNvbiIsInByaW9yaXR5SWNvbkNsYXNzIiwicHJpb3JpdHlWYWx1ZSIsInN0ZXBfY3VycmVudF9uYW1lX3ZpZXciLCJ1bnJlYWQiLCJtb21lbnRSZWFjdGl2ZUZyb21Ob3ciLCJGYXZvcml0ZXMiLCJpc1JlY29yZFNlbGVjdGVkIiwidmlzaWJsZSIsImNjX3RhZyIsImxlbmd0aE1lbnUiLCJwYWdpbmdUeXBlIiwiaXNfbGlzdF9kaXNwbGF5IiwiZmlsdGVyZWRSZWNvcmRJZHMiLCJvbGRfZmlsdGVyZWRSZWNvcmRJZHMiLCJmaW5kT3B0aW9ucyIsImFnX3NvcnQiLCJhZ2dyZWdhdGVfb3BlcmF0aW9uIiwiYXN5bmNfYWdncmVnYXRlIiwiczFfMCIsInMxXzEiLCIkcHJvamVjdCIsIiR1bndpbmQiLCIkZmlyc3QiLCIkc29ydCIsIiRza2lwIiwiJGxpbWl0IiwiY2IiLCIkbGFzdCIsIm91dGJveF9pbnN0YW5jZXMiLCJmbG93SW5zdGFuY2VzIiwiUmVhY3RpdmVWYXIiLCJhdXRvcnVuIiwiX2NoYW5nZU9yZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsZ0JBQUo7QUFBcUJDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLG9DQUFaLEVBQWlEO0FBQUNGLGtCQUFnQixDQUFDRyxDQUFELEVBQUc7QUFBQ0gsb0JBQWdCLEdBQUNHLENBQWpCO0FBQW1COztBQUF4QyxDQUFqRCxFQUEyRixDQUEzRjtBQUNyQkgsZ0JBQWdCLENBQUM7QUFDaEIsbUJBQWlCLFFBREQ7QUFFaEJJLFNBQU8sRUFBRSxRQUZPO0FBR2hCLFlBQVUsU0FITTtBQUloQkMsUUFBTSxFQUFFO0FBSlEsQ0FBRCxFQUtiLGtCQUxhLENBQWhCLEM7Ozs7Ozs7Ozs7O0FDREE7Ozs7Ozs7Ozs7Ozs7QUFhQyxXQUFVQyxJQUFWLEVBQWdCQyxPQUFoQixFQUF5QjtBQUN6QixlQUR5QixDQUV6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLE1BQUksT0FBT0MsTUFBUCxLQUFrQixVQUFsQixJQUFnQ0EsTUFBTSxDQUFDQyxHQUEzQyxFQUFnRDtBQUMvQztBQUNBRCxVQUFNLENBQUMsQ0FBQyxZQUFELEVBQWUsUUFBZixFQUF5QixzQkFBekIsQ0FBRCxFQUFtREQsT0FBbkQsQ0FBTjtBQUNBLEdBSEQsTUFHTztBQUNOO0FBQ0FELFFBQUksQ0FBQ0ksR0FBTCxHQUFXSCxPQUFPLENBQUNELElBQUksQ0FBQ0ssUUFBTixFQUFnQkws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T0FBWixLQUF3QixJQUF4QixHQUErQlcsS0R4RzhDL0csTUN3RzdFLEdEeEc2RSxNQUE5RixHQUE4RixNQUE5RjtBQUNBLGFBQU9BLE1BQVA7QUFMRDtBQUFBLEdBREQ7QUNpSEEsQyIsImZpbGUiOiIvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNoZWNrTnBtVmVyc2lvbnMgfSBmcm9tICdtZXRlb3IvdG1lYXNkYXk6Y2hlY2stbnBtLXZlcnNpb25zJztcclxuY2hlY2tOcG1WZXJzaW9ucyh7XHJcblx0XCJub2RlLXNjaGVkdWxlXCI6IFwiXjEuMy4xXCIsXHJcblx0Y29va2llczogXCJeMC42LjJcIixcclxuXHRcInhtbDJqc1wiOiBcIl4wLjQuMTlcIixcclxuXHRta2RpcnA6IFwiXjAuMy41XCIsXHJcbn0sICdzdGVlZG9zOndvcmtmbG93Jyk7IiwiLyohXHJcbiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHNcclxuICpcclxuICogVmVyc2lvbjogMS4xNy4wXHJcbiAqXHJcbiAqIEF1dGhvcjogUm9kbmV5IFJlaG1cclxuICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyXHJcbiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxyXG4gKiAgIEdQTCB2MyBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvR1BMLTMuMFxyXG4gKlxyXG4gKi9cclxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvcmV0dXJuRXhwb3J0cy5qc1xyXG5cdC8vIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuXHQvLyAgIC8vIE5vZGVcclxuXHQvLyAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCcuL3B1bnljb2RlJyksIHJlcXVpcmUoJy4vSVB2NicpLCByZXF1aXJlKCcuL1NlY29uZExldmVsRG9tYWlucycpKTtcclxuXHQvLyB9IGVsc2VcclxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXHJcblx0XHRkZWZpbmUoWycuL3B1bnljb2RlJywgJy4vSVB2NicsICcuL1NlY29uZExldmVsRG9tYWlucyddLCBmYWN0b3J5KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcclxuXHRcdHJvb3QuVVJJID0gZmFjdG9yeShyb290LnB1bnljb2RlLCByb290LklQdjYsIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLCByb290KTtcclxuXHR9XHJcbn0odGhpcywgZnVuY3Rpb24gKHB1bnljb2RlLCBJUHY2LCBTTEQsIHJvb3QpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0LypnbG9iYWwgbG9jYXRpb24sIGVzY2FwZSwgdW5lc2NhcGUgKi9cclxuXHQvLyBGSVhNRTogdjIuMC4wIHJlbmFtY2Ugbm9uLWNhbWVsQ2FzZSBwcm9wZXJ0aWVzIHRvIHVwcGVyY2FzZVxyXG5cdC8qanNoaW50IGNhbWVsY2FzZTogZmFsc2UgKi9cclxuXHJcblx0Ly8gc2F2ZSBjdXJyZW50IFVSSSB2YXJpYWJsZSwgaWYgYW55XHJcblx0dmFyIF9VUkkgPSByb290ICYmIHJvb3QuVVJJO1xyXG5cclxuXHRmdW5jdGlvbiBVUkkodXJsLCBiYXNlKSB7XHJcblx0XHR2YXIgX3VybFN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAxO1xyXG5cdFx0dmFyIF9iYXNlU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7XHJcblxyXG5cdFx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkXHJcblx0XHRpZiAoISh0aGlzIGluc3RhbmNlb2YgVVJJKSkge1xyXG5cdFx0XHRpZiAoX3VybFN1cHBsaWVkKSB7XHJcblx0XHRcdFx0aWYgKF9iYXNlU3VwcGxpZWQpIHtcclxuXHRcdFx0XHRcdHJldHVybiBuZXcgVVJJKHVybCwgYmFzZSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gbmV3IFVSSSh1cmwpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gbmV3IFVSSSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh1cmwgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpZiAoX3VybFN1cHBsaWVkKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcigndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUkknKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHR1cmwgPSBsb2NhdGlvbi5ocmVmICsgJyc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dXJsID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmhyZWYodXJsKTtcclxuXHJcblx0XHQvLyByZXNvbHZlIHRvIGJhc2UgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29uc3RydWN0b3JcclxuXHRcdGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuYWJzb2x1dGVUbyhiYXNlKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdFVSSS52ZXJzaW9uID0gJzEuMTcuMCc7XHJcblxyXG5cdHZhciBwID0gVVJJLnByb3RvdHlwZTtcclxuXHR2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcclxuXHJcblx0ZnVuY3Rpb24gZXNjYXBlUmVnRXgoc3RyaW5nKSB7XHJcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9jb21taXQvODVhYzIxNzgzYzExZjhjY2FiMDYxMDZkYmE5NzM1YTMxYTg2OTI0ZCNjb21taXRjb21tZW50LTgyMTk2M1xyXG5cdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xcXVxcL1xcXFxdKS9nLCAnXFxcXCQxJyk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZXRUeXBlKHZhbHVlKSB7XHJcblx0XHQvLyBJRTggZG9lc24ndCByZXR1cm4gW09iamVjdCBVbmRlZmluZWRdIGJ1dCBbT2JqZWN0IE9iamVjdF0gZm9yIHVuZGVmaW5lZCB2YWx1ZVxyXG5cdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuICdVbmRlZmluZWQnO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBTdHJpbmcoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSkuc2xpY2UoOCwgLTEpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gaXNBcnJheShvYmopIHtcclxuXHRcdHJldHVybiBnZXRUeXBlKG9iaikgPT09ICdBcnJheSc7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhLCB2YWx1ZSkge1xyXG5cdFx0dmFyIGxvb2t1cCA9IHt9O1xyXG5cdFx0dmFyIGksIGxlbmd0aDtcclxuXHJcblx0XHRpZiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdSZWdFeHAnKSB7XHJcblx0XHRcdGxvb2t1cCA9IG51bGw7XHJcblx0XHR9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcblx0XHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0bG9va3VwW3ZhbHVlW2ldXSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxvb2t1cFt2YWx1ZV0gPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Lypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi9cclxuXHRcdFx0dmFyIF9tYXRjaCA9IGxvb2t1cCAmJiBsb29rdXBbZGF0YVtpXV0gIT09IHVuZGVmaW5lZFxyXG5cdFx0XHRcdHx8ICFsb29rdXAgJiYgdmFsdWUudGVzdChkYXRhW2ldKTtcclxuXHRcdFx0Lypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovXHJcblx0XHRcdGlmIChfbWF0Y2gpIHtcclxuXHRcdFx0XHRkYXRhLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRsZW5ndGgtLTtcclxuXHRcdFx0XHRpLS07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZGF0YTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGFycmF5Q29udGFpbnMobGlzdCwgdmFsdWUpIHtcclxuXHRcdHZhciBpLCBsZW5ndGg7XHJcblxyXG5cdFx0Ly8gdmFsdWUgbWF5IGJlIHN0cmluZywgbnVtYmVyLCBhcnJheSwgcmVnZXhwXHJcblx0XHRpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuXHRcdFx0Ly8gTm90ZTogdGhpcyBjYW4gYmUgb3B0aW1pemVkIHRvIE8obikgKGluc3RlYWQgb2YgY3VycmVudCBPKG0gKiBuKSlcclxuXHRcdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpZiAoIWFycmF5Q29udGFpbnMobGlzdCwgdmFsdWVbaV0pKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgX3R5cGUgPSBnZXRUeXBlKHZhbHVlKTtcclxuXHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKF90eXBlID09PSAnUmVnRXhwJykge1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgbGlzdFtpXSA9PT0gJ3N0cmluZycgJiYgbGlzdFtpXS5tYXRjaCh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmIChsaXN0W2ldID09PSB2YWx1ZSkge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gYXJyYXlzRXF1YWwob25lLCB0d28pIHtcclxuXHRcdGlmICghaXNBcnJheShvbmUpIHx8ICFpc0FycmF5KHR3bykpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGFycmF5cyBjYW4ndCBiZSBlcXVhbCBpZiB0aGV5IGhhdmUgZGlmZmVyZW50IGFtb3VudCBvZiBjb250ZW50XHJcblx0XHRpZiAob25lLmxlbmd0aCAhPT0gdHdvLmxlbmd0aCkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0b25lLnNvcnQoKTtcclxuXHRcdHR3by5zb3J0KCk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBvbmUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRcdGlmIChvbmVbaV0gIT09IHR3b1tpXSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gdHJpbVNsYXNoZXModGV4dCkge1xyXG5cdFx0dmFyIHRyaW1fZXhwcmVzc2lvbiA9IC9eXFwvK3xcXC8rJC9nO1xyXG5cdFx0cmV0dXJuIHRleHQucmVwbGFjZSh0cmltX2V4cHJlc3Npb24sICcnKTtcclxuXHR9XHJcblxyXG5cdFVSSS5fcGFydHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHByb3RvY29sOiBudWxsLFxyXG5cdFx0XHR1c2VybmFtZTogbnVsbCxcclxuXHRcdFx0cGFzc3dvcmQ6IG51bGwsXHJcblx0XHRcdGhvc3RuYW1lOiBudWxsLFxyXG5cdFx0XHR1cm46IG51bGwsXHJcblx0XHRcdHBvcnQ6IG51bGwsXHJcblx0XHRcdHBhdGg6IG51bGwsXHJcblx0XHRcdHF1ZXJ5OiBudWxsLFxyXG5cdFx0XHRmcmFnbWVudDogbnVsbCxcclxuXHRcdFx0Ly8gc3RhdGVcclxuXHRcdFx0ZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzOiBVUkkuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLFxyXG5cdFx0XHRlc2NhcGVRdWVyeVNwYWNlOiBVUkkuZXNjYXBlUXVlcnlTcGFjZVxyXG5cdFx0fTtcclxuXHR9O1xyXG5cdC8vIHN0YXRlOiBhbGxvdyBkdXBsaWNhdGUgcXVlcnkgcGFyYW1ldGVycyAoYT0xJmE9MSlcclxuXHRVUkkuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gZmFsc2U7XHJcblx0Ly8gc3RhdGU6IHJlcGxhY2VzICsgd2l0aCAlMjAgKHNwYWNlIGluIHF1ZXJ5IHN0cmluZ3MpXHJcblx0VVJJLmVzY2FwZVF1ZXJ5U3BhY2UgPSB0cnVlO1xyXG5cdC8vIHN0YXRpYyBwcm9wZXJ0aWVzXHJcblx0VVJJLnByb3RvY29sX2V4cHJlc3Npb24gPSAvXlthLXpdW2EtejAtOS4rLV0qJC9pO1xyXG5cdFVSSS5pZG5fZXhwcmVzc2lvbiA9IC9bXmEtejAtOVxcLi1dL2k7XHJcblx0VVJJLnB1bnljb2RlX2V4cHJlc3Npb24gPSAvKHhuLS0pL2k7XHJcblx0Ly8gd2VsbCwgMzMzLjQ0NC41NTUuNjY2IG1hdGNoZXMsIGJ1dCBpdCBzdXJlIGFpbid0IG5vIElQdjQgLSBkbyB3ZSBjYXJlP1xyXG5cdFVSSS5pcDRfZXhwcmVzc2lvbiA9IC9eXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM30kLztcclxuXHQvLyBjcmVkaXRzIHRvIFJpY2ggQnJvd25cclxuXHQvLyBzb3VyY2U6IGh0dHA6Ly9mb3J1bXMuaW50ZXJtYXBwZXIuY29tL3ZpZXd0b3BpYy5waHA/cD0xMDk2IzEwOTZcclxuXHQvLyBzcGVjaWZpY2F0aW9uOiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MjkxLnR4dFxyXG5cdFVSSS5pcDZfZXhwcmVzc2lvbiA9IC9eXFxzKigoKFswLTlBLUZhLWZdezEsNH06KXs3fShbMC05QS1GYS1mXXsxLDR9fDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs2fSg6WzAtOUEtRmEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezV9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezR9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsM30pfCgoOlswLTlBLUZhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXszfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezJ9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNX0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7MX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoOigoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpKSglLispP1xccyokLztcclxuXHQvLyBleHByZXNzaW9uIHVzZWQgaXMgXCJncnViZXIgcmV2aXNlZFwiIChAZ3J1YmVyIHYyKSBkZXRlcm1pbmVkIHRvIGJlIHRoZVxyXG5cdC8vIGJlc3Qgc29sdXRpb24gaW4gYSByZWdleC1nb2xmIHdlIGRpZCBhIGNvdXBsZSBvZiBhZ2VzIGFnbyBhdFxyXG5cdC8vICogaHR0cDovL21hdGhpYXNieW5lbnMuYmUvZGVtby91cmwtcmVnZXhcclxuXHQvLyAqIGh0dHA6Ly9yb2RuZXlyZWhtLmRlL3QvdXJsLXJlZ2V4Lmh0bWxcclxuXHRVUkkuZmluZF91cmlfZXhwcmVzc2lvbiA9IC9cXGIoKD86W2Etel1bXFx3LV0rOig/OlxcL3sxLDN9fFthLXowLTklXSl8d3d3XFxkezAsM31bLl18W2EtejAtOS5cXC1dK1suXVthLXpdezIsNH1cXC8pKD86W15cXHMoKTw+XSt8XFwoKFteXFxzKCk8Pl0rfChcXChbXlxccygpPD5dK1xcKSkpKlxcKSkrKD86XFwoKFteXFxzKCk8Pl0rfChcXChbXlxccygpPD5dK1xcKSkpKlxcKXxbXlxcc2AhKClcXFtcXF17fTs6J1wiLiw8Pj/Cq8K74oCc4oCd4oCY4oCZXSkpL2lnO1xyXG5cdFVSSS5maW5kVXJpID0ge1xyXG5cdFx0Ly8gdmFsaWQgXCJzY2hlbWU6Ly9cIiBvciBcInd3dy5cIlxyXG5cdFx0c3RhcnQ6IC9cXGIoPzooW2Etel1bYS16MC05ListXSo6XFwvXFwvKXx3d3dcXC4pL2dpLFxyXG5cdFx0Ly8gZXZlcnl0aGluZyB1cCB0byB0aGUgbmV4dCB3aGl0ZXNwYWNlXHJcblx0XHRlbmQ6IC9bXFxzXFxyXFxuXXwkLyxcclxuXHRcdC8vIHRyaW0gdHJhaWxpbmcgcHVuY3R1YXRpb24gY2FwdHVyZWQgYnkgZW5kIFJlZ0V4cFxyXG5cdFx0dHJpbTogL1tgISgpXFxbXFxde307OidcIi4sPD4/wqvCu+KAnOKAneKAnuKAmOKAmV0rJC9cclxuXHR9O1xyXG5cdC8vIGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvdXJpLXNjaGVtZXMuaHRtbFxyXG5cdC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9UQ1BfYW5kX1VEUF9wb3J0X251bWJlcnMjV2VsbC1rbm93bl9wb3J0c1xyXG5cdFVSSS5kZWZhdWx0UG9ydHMgPSB7XHJcblx0XHRodHRwOiAnODAnLFxyXG5cdFx0aHR0cHM6ICc0NDMnLFxyXG5cdFx0ZnRwOiAnMjEnLFxyXG5cdFx0Z29waGVyOiAnNzAnLFxyXG5cdFx0d3M6ICc4MCcsXHJcblx0XHR3c3M6ICc0NDMnXHJcblx0fTtcclxuXHQvLyBhbGxvd2VkIGhvc3RuYW1lIGNoYXJhY3RlcnMgYWNjb3JkaW5nIHRvIFJGQyAzOTg2XHJcblx0Ly8gQUxQSEEgRElHSVQgXCItXCIgXCIuXCIgXCJfXCIgXCJ+XCIgXCIhXCIgXCIkXCIgXCImXCIgXCInXCIgXCIoXCIgXCIpXCIgXCIqXCIgXCIrXCIgXCIsXCIgXCI7XCIgXCI9XCIgJWVuY29kZWRcclxuXHQvLyBJJ3ZlIG5ldmVyIHNlZW4gYSAobm9uLUlETikgaG9zdG5hbWUgb3RoZXIgdGhhbjogQUxQSEEgRElHSVQgLiAtXHJcblx0VVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycyA9IC9bXmEtekEtWjAtOVxcLi1dLztcclxuXHQvLyBtYXAgRE9NIEVsZW1lbnRzIHRvIHRoZWlyIFVSSSBhdHRyaWJ1dGVcclxuXHRVUkkuZG9tQXR0cmlidXRlcyA9IHtcclxuXHRcdCdhJzogJ2hyZWYnLFxyXG5cdFx0J2Jsb2NrcXVvdGUnOiAnY2l0ZScsXHJcblx0XHQnbGluayc6ICdocmVmJyxcclxuXHRcdCdiYXNlJzogJ2hyZWYnLFxyXG5cdFx0J3NjcmlwdCc6ICdzcmMnLFxyXG5cdFx0J2Zvcm0nOiAnYWN0aW9uJyxcclxuXHRcdCdpbWcnOiAnc3JjJyxcclxuXHRcdCdhcmVhJzogJ2hyZWYnLFxyXG5cdFx0J2lmcmFtZSc6ICdzcmMnLFxyXG5cdFx0J2VtYmVkJzogJ3NyYycsXHJcblx0XHQnc291cmNlJzogJ3NyYycsXHJcblx0XHQndHJhY2snOiAnc3JjJyxcclxuXHRcdCdpbnB1dCc6ICdzcmMnLCAvLyBidXQgb25seSBpZiB0eXBlPVwiaW1hZ2VcIlxyXG5cdFx0J2F1ZGlvJzogJ3NyYycsXHJcblx0XHQndmlkZW8nOiAnc3JjJ1xyXG5cdH07XHJcblx0VVJJLmdldERvbUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5vZGUpIHtcclxuXHRcdGlmICghbm9kZSB8fCAhbm9kZS5ub2RlTmFtZSkge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcclxuXHRcdC8vIDxpbnB1dD4gc2hvdWxkIG9ubHkgZXhwb3NlIHNyYyBmb3IgdHlwZT1cImltYWdlXCJcclxuXHRcdGlmIChub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBub2RlLnR5cGUgIT09ICdpbWFnZScpIHtcclxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gVVJJLmRvbUF0dHJpYnV0ZXNbbm9kZU5hbWVdO1xyXG5cdH07XHJcblxyXG5cdGZ1bmN0aW9uIGVzY2FwZUZvckR1bWJGaXJlZm94MzYodmFsdWUpIHtcclxuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MVxyXG5cdFx0cmV0dXJuIGVzY2FwZSh2YWx1ZSk7XHJcblx0fVxyXG5cclxuXHQvLyBlbmNvZGluZyAvIGRlY29kaW5nIGFjY29yZGluZyB0byBSRkMzOTg2XHJcblx0ZnVuY3Rpb24gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykge1xyXG5cdFx0Ly8gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvZW5jb2RlVVJJQ29tcG9uZW50XHJcblx0XHRyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZylcclxuXHRcdFx0LnJlcGxhY2UoL1shJygpKl0vZywgZXNjYXBlRm9yRHVtYkZpcmVmb3gzNilcclxuXHRcdFx0LnJlcGxhY2UoL1xcKi9nLCAnJTJBJyk7XHJcblx0fVxyXG5cdFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7XHJcblx0VVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDtcclxuXHRVUkkuaXNvODg1OSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0VVJJLmVuY29kZSA9IGVzY2FwZTtcclxuXHRcdFVSSS5kZWNvZGUgPSB1bmVzY2FwZTtcclxuXHR9O1xyXG5cdFVSSS51bmljb2RlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50O1xyXG5cdFx0VVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDtcclxuXHR9O1xyXG5cdFVSSS5jaGFyYWN0ZXJzID0ge1xyXG5cdFx0cGF0aG5hbWU6IHtcclxuXHRcdFx0ZW5jb2RlOiB7XHJcblx0XHRcdFx0Ly8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkXHJcblx0XHRcdFx0Ly8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy5cclxuXHRcdFx0XHRleHByZXNzaW9uOiAvJSgyNHwyNnwyQnwyQ3wzQnwzRHwzQXw0MCkvaWcsXHJcblx0XHRcdFx0bWFwOiB7XHJcblx0XHRcdFx0XHQvLyAtLl9+IScoKSpcclxuXHRcdFx0XHRcdCclMjQnOiAnJCcsXHJcblx0XHRcdFx0XHQnJTI2JzogJyYnLFxyXG5cdFx0XHRcdFx0JyUyQic6ICcrJyxcclxuXHRcdFx0XHRcdCclMkMnOiAnLCcsXHJcblx0XHRcdFx0XHQnJTNCJzogJzsnLFxyXG5cdFx0XHRcdFx0JyUzRCc6ICc9JyxcclxuXHRcdFx0XHRcdCclM0EnOiAnOicsXHJcblx0XHRcdFx0XHQnJTQwJzogJ0AnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRkZWNvZGU6IHtcclxuXHRcdFx0XHRleHByZXNzaW9uOiAvW1xcL1xcPyNdL2csXHJcblx0XHRcdFx0bWFwOiB7XHJcblx0XHRcdFx0XHQnLyc6ICclMkYnLFxyXG5cdFx0XHRcdFx0Jz8nOiAnJTNGJyxcclxuXHRcdFx0XHRcdCcjJzogJyUyMydcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRyZXNlcnZlZDoge1xyXG5cdFx0XHRlbmNvZGU6IHtcclxuXHRcdFx0XHQvLyBSRkMzOTg2IDIuMTogRm9yIGNvbnNpc3RlbmN5LCBVUkkgcHJvZHVjZXJzIGFuZCBub3JtYWxpemVycyBzaG91bGRcclxuXHRcdFx0XHQvLyB1c2UgdXBwZXJjYXNlIGhleGFkZWNpbWFsIGRpZ2l0cyBmb3IgYWxsIHBlcmNlbnQtZW5jb2RpbmdzLlxyXG5cdFx0XHRcdGV4cHJlc3Npb246IC8lKDIxfDIzfDI0fDI2fDI3fDI4fDI5fDJBfDJCfDJDfDJGfDNBfDNCfDNEfDNGfDQwfDVCfDVEKS9pZyxcclxuXHRcdFx0XHRtYXA6IHtcclxuXHRcdFx0XHRcdC8vIGdlbi1kZWxpbXNcclxuXHRcdFx0XHRcdCclM0EnOiAnOicsXHJcblx0XHRcdFx0XHQnJTJGJzogJy8nLFxyXG5cdFx0XHRcdFx0JyUzRic6ICc/JyxcclxuXHRcdFx0XHRcdCclMjMnOiAnIycsXHJcblx0XHRcdFx0XHQnJTVCJzogJ1snLFxyXG5cdFx0XHRcdFx0JyU1RCc6ICddJyxcclxuXHRcdFx0XHRcdCclNDAnOiAnQCcsXHJcblx0XHRcdFx0XHQvLyBzdWItZGVsaW1zXHJcblx0XHRcdFx0XHQnJTIxJzogJyEnLFxyXG5cdFx0XHRcdFx0JyUyNCc6ICckJyxcclxuXHRcdFx0XHRcdCclMjYnOiAnJicsXHJcblx0XHRcdFx0XHQnJTI3JzogJ1xcJycsXHJcblx0XHRcdFx0XHQnJTI4JzogJygnLFxyXG5cdFx0XHRcdFx0JyUyOSc6ICcpJyxcclxuXHRcdFx0XHRcdCclMkEnOiAnKicsXHJcblx0XHRcdFx0XHQnJTJCJzogJysnLFxyXG5cdFx0XHRcdFx0JyUyQyc6ICcsJyxcclxuXHRcdFx0XHRcdCclM0InOiAnOycsXHJcblx0XHRcdFx0XHQnJTNEJzogJz0nXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0dXJucGF0aDoge1xyXG5cdFx0XHQvLyBUaGUgY2hhcmFjdGVycyB1bmRlciBgZW5jb2RlYCBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMgMjE0MSBhcyBiZWluZyBhY2NlcHRhYmxlXHJcblx0XHRcdC8vIGZvciB1c2FnZSBpbiBhIFVSTi4gUkZDMjE0MSBhbHNvIGNhbGxzIG91dCBcIi1cIiwgXCIuXCIsIGFuZCBcIl9cIiBhcyBhY2NlcHRhYmxlIGNoYXJhY3RlcnMsIGJ1dFxyXG5cdFx0XHQvLyB0aGVzZSBhcmVuJ3QgZW5jb2RlZCBieSBlbmNvZGVVUklDb21wb25lbnQsIHNvIHdlIGRvbid0IGhhdmUgdG8gY2FsbCB0aGVtIG91dCBoZXJlLiBBbHNvXHJcblx0XHRcdC8vIG5vdGUgdGhhdCB0aGUgY29sb24gY2hhcmFjdGVyIGlzIG5vdCBmZWF0dXJlZCBpbiB0aGUgZW5jb2RpbmcgbWFwOyB0aGlzIGlzIGJlY2F1c2UgVVJJLmpzXHJcblx0XHRcdC8vIGdpdmVzIHRoZSBjb2xvbnMgaW4gVVJOcyBzZW1hbnRpYyBtZWFuaW5nIGFzIHRoZSBkZWxpbWl0ZXJzIG9mIHBhdGggc2VnZW1lbnRzLCBhbmQgc28gaXRcclxuXHRcdFx0Ly8gc2hvdWxkIG5vdCBhcHBlYXIgdW5lbmNvZGVkIGluIGEgc2VnbWVudCBpdHNlbGYuXHJcblx0XHRcdC8vIFNlZSBhbHNvIHRoZSBub3RlIGFib3ZlIGFib3V0IFJGQzM5ODYgYW5kIGNhcGl0YWxhbGl6ZWQgaGV4IGRpZ2l0cy5cclxuXHRcdFx0ZW5jb2RlOiB7XHJcblx0XHRcdFx0ZXhwcmVzc2lvbjogLyUoMjF8MjR8Mjd8Mjh8Mjl8MkF8MkJ8MkN8M0J8M0R8NDApL2lnLFxyXG5cdFx0XHRcdG1hcDoge1xyXG5cdFx0XHRcdFx0JyUyMSc6ICchJyxcclxuXHRcdFx0XHRcdCclMjQnOiAnJCcsXHJcblx0XHRcdFx0XHQnJTI3JzogJ1xcJycsXHJcblx0XHRcdFx0XHQnJTI4JzogJygnLFxyXG5cdFx0XHRcdFx0JyUyOSc6ICcpJyxcclxuXHRcdFx0XHRcdCclMkEnOiAnKicsXHJcblx0XHRcdFx0XHQnJTJCJzogJysnLFxyXG5cdFx0XHRcdFx0JyUyQyc6ICcsJyxcclxuXHRcdFx0XHRcdCclM0InOiAnOycsXHJcblx0XHRcdFx0XHQnJTNEJzogJz0nLFxyXG5cdFx0XHRcdFx0JyU0MCc6ICdAJ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0Ly8gVGhlc2UgY2hhcmFjdGVycyBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMyMTQxIGFzIFwicmVzZXJ2ZWRcIiBjaGFyYWN0ZXJzIHRoYXRcclxuXHRcdFx0Ly8gc2hvdWxkIG5ldmVyIGFwcGVhciBpbiBhIFVSTiwgcGx1cyB0aGUgY29sb24gY2hhcmFjdGVyIChzZWUgbm90ZSBhYm92ZSkuXHJcblx0XHRcdGRlY29kZToge1xyXG5cdFx0XHRcdGV4cHJlc3Npb246IC9bXFwvXFw/IzpdL2csXHJcblx0XHRcdFx0bWFwOiB7XHJcblx0XHRcdFx0XHQnLyc6ICclMkYnLFxyXG5cdFx0XHRcdFx0Jz8nOiAnJTNGJyxcclxuXHRcdFx0XHRcdCcjJzogJyUyMycsXHJcblx0XHRcdFx0XHQnOic6ICclM0EnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHRVUkkuZW5jb2RlUXVlcnkgPSBmdW5jdGlvbihzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHtcclxuXHRcdHZhciBlc2NhcGVkID0gVVJJLmVuY29kZShzdHJpbmcgKyAnJyk7XHJcblx0XHRpZiAoZXNjYXBlUXVlcnlTcGFjZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGVzY2FwZVF1ZXJ5U3BhY2UgPSBVUkkuZXNjYXBlUXVlcnlTcGFjZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZXNjYXBlUXVlcnlTcGFjZSA/IGVzY2FwZWQucmVwbGFjZSgvJTIwL2csICcrJykgOiBlc2NhcGVkO1xyXG5cdH07XHJcblx0VVJJLmRlY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7XHJcblx0XHRzdHJpbmcgKz0gJyc7XHJcblx0XHRpZiAoZXNjYXBlUXVlcnlTcGFjZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGVzY2FwZVF1ZXJ5U3BhY2UgPSBVUkkuZXNjYXBlUXVlcnlTcGFjZTtcclxuXHRcdH1cclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gVVJJLmRlY29kZShlc2NhcGVRdWVyeVNwYWNlID8gc3RyaW5nLnJlcGxhY2UoL1xcKy9nLCAnJTIwJykgOiBzdHJpbmcpO1xyXG5cdFx0fSBjYXRjaChlKSB7XHJcblx0XHRcdC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLFxyXG5cdFx0XHQvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmdcclxuXHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84N1xyXG5cdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyXHJcblx0XHRcdHJldHVybiBzdHJpbmc7XHJcblx0XHR9XHJcblx0fTtcclxuXHQvLyBnZW5lcmF0ZSBlbmNvZGUvZGVjb2RlIHBhdGggZnVuY3Rpb25zXHJcblx0dmFyIF9wYXJ0cyA9IHsnZW5jb2RlJzonZW5jb2RlJywgJ2RlY29kZSc6J2RlY29kZSd9O1xyXG5cdHZhciBfcGFydDtcclxuXHR2YXIgZ2VuZXJhdGVBY2Nlc3NvciA9IGZ1bmN0aW9uKF9ncm91cCwgX3BhcnQpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRyZXR1cm4gVVJJW19wYXJ0XShzdHJpbmcgKyAnJykucmVwbGFjZShVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5leHByZXNzaW9uLCBmdW5jdGlvbihjKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0ubWFwW2NdO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0Ly8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsXHJcblx0XHRcdFx0Ly8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nXHJcblx0XHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84N1xyXG5cdFx0XHRcdC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTJcclxuXHRcdFx0XHRyZXR1cm4gc3RyaW5nO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdGZvciAoX3BhcnQgaW4gX3BhcnRzKSB7XHJcblx0XHRVUklbX3BhcnQgKyAnUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3BhdGhuYW1lJywgX3BhcnRzW19wYXJ0XSk7XHJcblx0XHRVUklbX3BhcnQgKyAnVXJuUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3VybnBhdGgnLCBfcGFydHNbX3BhcnRdKTtcclxuXHR9XHJcblxyXG5cdHZhciBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbiA9IGZ1bmN0aW9uKF9zZXAsIF9jb2RpbmdGdW5jTmFtZSwgX2lubmVyQ29kaW5nRnVuY05hbWUpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcclxuXHRcdFx0Ly8gV2h5IHBhc3MgaW4gbmFtZXMgb2YgZnVuY3Rpb25zLCByYXRoZXIgdGhhbiB0aGUgZnVuY3Rpb24gb2JqZWN0cyB0aGVtc2VsdmVzPyBUaGVcclxuXHRcdFx0Ly8gZGVmaW5pdGlvbnMgb2Ygc29tZSBmdW5jdGlvbnMgKGJ1dCBpbiBwYXJ0aWN1bGFyLCBVUkkuZGVjb2RlKSB3aWxsIG9jY2FzaW9uYWxseSBjaGFuZ2UgZHVlXHJcblx0XHRcdC8vIHRvIFVSSS5qcyBoYXZpbmcgSVNPODg1OSBhbmQgVW5pY29kZSBtb2Rlcy4gUGFzc2luZyBpbiB0aGUgbmFtZSBhbmQgZ2V0dGluZyBpdCB3aWxsIGVuc3VyZVxyXG5cdFx0XHQvLyB0aGF0IHRoZSBmdW5jdGlvbnMgd2UgdXNlIGhlcmUgYXJlIFwiZnJlc2hcIi5cclxuXHRcdFx0dmFyIGFjdHVhbENvZGluZ0Z1bmM7XHJcblx0XHRcdGlmICghX2lubmVyQ29kaW5nRnVuY05hbWUpIHtcclxuXHRcdFx0XHRhY3R1YWxDb2RpbmdGdW5jID0gVVJJW19jb2RpbmdGdW5jTmFtZV07XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YWN0dWFsQ29kaW5nRnVuYyA9IGZ1bmN0aW9uKHN0cmluZykge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFVSSVtfY29kaW5nRnVuY05hbWVdKFVSSVtfaW5uZXJDb2RpbmdGdW5jTmFtZV0oc3RyaW5nKSk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHNlZ21lbnRzID0gKHN0cmluZyArICcnKS5zcGxpdChfc2VwKTtcclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHNlZ21lbnRzW2ldID0gYWN0dWFsQ29kaW5nRnVuYyhzZWdtZW50c1tpXSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBzZWdtZW50cy5qb2luKF9zZXApO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHQvLyBUaGlzIHRha2VzIHBsYWNlIG91dHNpZGUgdGhlIGFib3ZlIGxvb3AgYmVjYXVzZSB3ZSBkb24ndCB3YW50LCBlLmcuLCBlbmNvZGVVcm5QYXRoIGZ1bmN0aW9ucy5cclxuXHRVUkkuZGVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2RlY29kZVBhdGhTZWdtZW50Jyk7XHJcblx0VVJJLmRlY29kZVVyblBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignOicsICdkZWNvZGVVcm5QYXRoU2VnbWVudCcpO1xyXG5cdFVSSS5yZWNvZGVQYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJy8nLCAnZW5jb2RlUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7XHJcblx0VVJJLnJlY29kZVVyblBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignOicsICdlbmNvZGVVcm5QYXRoU2VnbWVudCcsICdkZWNvZGUnKTtcclxuXHJcblx0VVJJLmVuY29kZVJlc2VydmVkID0gZ2VuZXJhdGVBY2Nlc3NvcigncmVzZXJ2ZWQnLCAnZW5jb2RlJyk7XHJcblxyXG5cdFVSSS5wYXJzZSA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHtcclxuXHRcdHZhciBwb3M7XHJcblx0XHRpZiAoIXBhcnRzKSB7XHJcblx0XHRcdHBhcnRzID0ge307XHJcblx0XHR9XHJcblx0XHQvLyBbcHJvdG9jb2xcIjovL1wiW3VzZXJuYW1lW1wiOlwicGFzc3dvcmRdXCJAXCJdaG9zdG5hbWVbXCI6XCJwb3J0XVwiL1wiP11bcGF0aF1bXCI/XCJxdWVyeXN0cmluZ11bXCIjXCJmcmFnbWVudF1cclxuXHJcblx0XHQvLyBleHRyYWN0IGZyYWdtZW50XHJcblx0XHRwb3MgPSBzdHJpbmcuaW5kZXhPZignIycpO1xyXG5cdFx0aWYgKHBvcyA+IC0xKSB7XHJcblx0XHRcdC8vIGVzY2FwaW5nP1xyXG5cdFx0XHRwYXJ0cy5mcmFnbWVudCA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSkgfHwgbnVsbDtcclxuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGV4dHJhY3QgcXVlcnlcclxuXHRcdHBvcyA9IHN0cmluZy5pbmRleE9mKCc/Jyk7XHJcblx0XHRpZiAocG9zID4gLTEpIHtcclxuXHRcdFx0Ly8gZXNjYXBpbmc/XHJcblx0XHRcdHBhcnRzLnF1ZXJ5ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsO1xyXG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZXh0cmFjdCBwcm90b2NvbFxyXG5cdFx0aWYgKHN0cmluZy5zdWJzdHJpbmcoMCwgMikgPT09ICcvLycpIHtcclxuXHRcdFx0Ly8gcmVsYXRpdmUtc2NoZW1lXHJcblx0XHRcdHBhcnRzLnByb3RvY29sID0gbnVsbDtcclxuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygyKTtcclxuXHRcdFx0Ly8gZXh0cmFjdCBcInVzZXI6cGFzc0Bob3N0OnBvcnRcIlxyXG5cdFx0XHRzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRwb3MgPSBzdHJpbmcuaW5kZXhPZignOicpO1xyXG5cdFx0XHRpZiAocG9zID4gLTEpIHtcclxuXHRcdFx0XHRwYXJ0cy5wcm90b2NvbCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsO1xyXG5cdFx0XHRcdGlmIChwYXJ0cy5wcm90b2NvbCAmJiAhcGFydHMucHJvdG9jb2wubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7XHJcblx0XHRcdFx0XHQvLyA6IG1heSBiZSB3aXRoaW4gdGhlIHBhdGhcclxuXHRcdFx0XHRcdHBhcnRzLnByb3RvY29sID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxLCBwb3MgKyAzKSA9PT0gJy8vJykge1xyXG5cdFx0XHRcdFx0c3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAzKTtcclxuXHJcblx0XHRcdFx0XHQvLyBleHRyYWN0IFwidXNlcjpwYXNzQGhvc3Q6cG9ydFwiXHJcblx0XHRcdFx0XHRzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSk7XHJcblx0XHRcdFx0XHRwYXJ0cy51cm4gPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHdoYXQncyBsZWZ0IG11c3QgYmUgdGhlIHBhdGhcclxuXHRcdHBhcnRzLnBhdGggPSBzdHJpbmc7XHJcblxyXG5cdFx0Ly8gYW5kIHdlJ3JlIGRvbmVcclxuXHRcdHJldHVybiBwYXJ0cztcclxuXHR9O1xyXG5cdFVSSS5wYXJzZUhvc3QgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7XHJcblx0XHQvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cclxuXHRcdC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xyXG5cdFx0Ly8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvYmxvYi8zODZmZDI0ZjQ5YjBlOWQxYThhMDc2NTkyYTQwNDE2OGZhZWVjYzM0L2xpYi91cmwuanMjTDExNS1MMTI0XHJcblx0XHQvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxyXG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvcHVsbC8yMzNcclxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC9cXFxcL2csICcvJyk7XHJcblxyXG5cdFx0Ly8gZXh0cmFjdCBob3N0OnBvcnRcclxuXHRcdHZhciBwb3MgPSBzdHJpbmcuaW5kZXhPZignLycpO1xyXG5cdFx0dmFyIGJyYWNrZXRQb3M7XHJcblx0XHR2YXIgdDtcclxuXHJcblx0XHRpZiAocG9zID09PSAtMSkge1xyXG5cdFx0XHRwb3MgPSBzdHJpbmcubGVuZ3RoO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChzdHJpbmcuY2hhckF0KDApID09PSAnWycpIHtcclxuXHRcdFx0Ly8gSVB2NiBob3N0IC0gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi02bWFuLXRleHQtYWRkci1yZXByZXNlbnRhdGlvbi0wNCNzZWN0aW9uLTZcclxuXHRcdFx0Ly8gSSBjbGFpbSBtb3N0IGNsaWVudCBzb2Z0d2FyZSBicmVha3Mgb24gSVB2NiBhbnl3YXlzLiBUbyBzaW1wbGlmeSB0aGluZ3MsIFVSSSBvbmx5IGFjY2VwdHNcclxuXHRcdFx0Ly8gSVB2Nitwb3J0IGluIHRoZSBmb3JtYXQgWzIwMDE6ZGI4OjoxXTo4MCAoZm9yIHRoZSB0aW1lIGJlaW5nKVxyXG5cdFx0XHRicmFja2V0UG9zID0gc3RyaW5nLmluZGV4T2YoJ10nKTtcclxuXHRcdFx0cGFydHMuaG9zdG5hbWUgPSBzdHJpbmcuc3Vic3RyaW5nKDEsIGJyYWNrZXRQb3MpIHx8IG51bGw7XHJcblx0XHRcdHBhcnRzLnBvcnQgPSBzdHJpbmcuc3Vic3RyaW5nKGJyYWNrZXRQb3MgKyAyLCBwb3MpIHx8IG51bGw7XHJcblx0XHRcdGlmIChwYXJ0cy5wb3J0ID09PSAnLycpIHtcclxuXHRcdFx0XHRwYXJ0cy5wb3J0ID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIGZpcnN0Q29sb24gPSBzdHJpbmcuaW5kZXhPZignOicpO1xyXG5cdFx0XHR2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7XHJcblx0XHRcdHZhciBuZXh0Q29sb24gPSBzdHJpbmcuaW5kZXhPZignOicsIGZpcnN0Q29sb24gKyAxKTtcclxuXHRcdFx0aWYgKG5leHRDb2xvbiAhPT0gLTEgJiYgKGZpcnN0U2xhc2ggPT09IC0xIHx8IG5leHRDb2xvbiA8IGZpcnN0U2xhc2gpKSB7XHJcblx0XHRcdFx0Ly8gSVB2NiBob3N0IGNvbnRhaW5zIG11bHRpcGxlIGNvbG9ucyAtIGJ1dCBubyBwb3J0XHJcblx0XHRcdFx0Ly8gdGhpcyBub3RhdGlvbiBpcyBhY3R1YWxseSBub3QgYWxsb3dlZCBieSBSRkMgMzk4NiwgYnV0IHdlJ3JlIGEgbGliZXJhbCBwYXJzZXJcclxuXHRcdFx0XHRwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsO1xyXG5cdFx0XHRcdHBhcnRzLnBvcnQgPSBudWxsO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHQgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJzonKTtcclxuXHRcdFx0XHRwYXJ0cy5ob3N0bmFtZSA9IHRbMF0gfHwgbnVsbDtcclxuXHRcdFx0XHRwYXJ0cy5wb3J0ID0gdFsxXSB8fCBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHBhcnRzLmhvc3RuYW1lICYmIHN0cmluZy5zdWJzdHJpbmcocG9zKS5jaGFyQXQoMCkgIT09ICcvJykge1xyXG5cdFx0XHRwb3MrKztcclxuXHRcdFx0c3RyaW5nID0gJy8nICsgc3RyaW5nO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBzdHJpbmcuc3Vic3RyaW5nKHBvcykgfHwgJy8nO1xyXG5cdH07XHJcblx0VVJJLnBhcnNlQXV0aG9yaXR5ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykge1xyXG5cdFx0c3RyaW5nID0gVVJJLnBhcnNlVXNlcmluZm8oc3RyaW5nLCBwYXJ0cyk7XHJcblx0XHRyZXR1cm4gVVJJLnBhcnNlSG9zdChzdHJpbmcsIHBhcnRzKTtcclxuXHR9O1xyXG5cdFVSSS5wYXJzZVVzZXJpbmZvID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykge1xyXG5cdFx0Ly8gZXh0cmFjdCB1c2VybmFtZTpwYXNzd29yZFxyXG5cdFx0dmFyIGZpcnN0U2xhc2ggPSBzdHJpbmcuaW5kZXhPZignLycpO1xyXG5cdFx0dmFyIHBvcyA9IHN0cmluZy5sYXN0SW5kZXhPZignQCcsIGZpcnN0U2xhc2ggPiAtMSA/IGZpcnN0U2xhc2ggOiBzdHJpbmcubGVuZ3RoIC0gMSk7XHJcblx0XHR2YXIgdDtcclxuXHJcblx0XHQvLyBhdXRob3JpdHlAIG11c3QgY29tZSBiZWZvcmUgL3BhdGhcclxuXHRcdGlmIChwb3MgPiAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgcG9zIDwgZmlyc3RTbGFzaCkpIHtcclxuXHRcdFx0dCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpO1xyXG5cdFx0XHRwYXJ0cy51c2VybmFtZSA9IHRbMF0gPyBVUkkuZGVjb2RlKHRbMF0pIDogbnVsbDtcclxuXHRcdFx0dC5zaGlmdCgpO1xyXG5cdFx0XHRwYXJ0cy5wYXNzd29yZCA9IHRbMF0gPyBVUkkuZGVjb2RlKHQuam9pbignOicpKSA6IG51bGw7XHJcblx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRwYXJ0cy51c2VybmFtZSA9IG51bGw7XHJcblx0XHRcdHBhcnRzLnBhc3N3b3JkID0gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gc3RyaW5nO1xyXG5cdH07XHJcblx0VVJJLnBhcnNlUXVlcnkgPSBmdW5jdGlvbihzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHtcclxuXHRcdGlmICghc3RyaW5nKSB7XHJcblx0XHRcdHJldHVybiB7fTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyB0aHJvdyBvdXQgdGhlIGZ1bmt5IGJ1c2luZXNzIC0gXCI/XCJbbmFtZVwiPVwidmFsdWVcIiZcIl0rXHJcblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvJisvZywgJyYnKS5yZXBsYWNlKC9eXFw/KiYqfCYrJC9nLCAnJyk7XHJcblxyXG5cdFx0aWYgKCFzdHJpbmcpIHtcclxuXHRcdFx0cmV0dXJuIHt9O1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBpdGVtcyA9IHt9O1xyXG5cdFx0dmFyIHNwbGl0cyA9IHN0cmluZy5zcGxpdCgnJicpO1xyXG5cdFx0dmFyIGxlbmd0aCA9IHNwbGl0cy5sZW5ndGg7XHJcblx0XHR2YXIgdiwgbmFtZSwgdmFsdWU7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2ID0gc3BsaXRzW2ldLnNwbGl0KCc9Jyk7XHJcblx0XHRcdG5hbWUgPSBVUkkuZGVjb2RlUXVlcnkodi5zaGlmdCgpLCBlc2NhcGVRdWVyeVNwYWNlKTtcclxuXHRcdFx0Ly8gbm8gXCI9XCIgaXMgbnVsbCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCNjb2xsZWN0LXVybC1wYXJhbWV0ZXJzXHJcblx0XHRcdHZhbHVlID0gdi5sZW5ndGggPyBVUkkuZGVjb2RlUXVlcnkodi5qb2luKCc9JyksIGVzY2FwZVF1ZXJ5U3BhY2UpIDogbnVsbDtcclxuXHJcblx0XHRcdGlmIChoYXNPd24uY2FsbChpdGVtcywgbmFtZSkpIHtcclxuXHRcdFx0XHRpZiAodHlwZW9mIGl0ZW1zW25hbWVdID09PSAnc3RyaW5nJyB8fCBpdGVtc1tuYW1lXSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0aXRlbXNbbmFtZV0gPSBbaXRlbXNbbmFtZV1dO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aXRlbXNbbmFtZV0ucHVzaCh2YWx1ZSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aXRlbXNbbmFtZV0gPSB2YWx1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBpdGVtcztcclxuXHR9O1xyXG5cclxuXHRVUkkuYnVpbGQgPSBmdW5jdGlvbihwYXJ0cykge1xyXG5cdFx0dmFyIHQgPSAnJztcclxuXHJcblx0XHRpZiAocGFydHMucHJvdG9jb2wpIHtcclxuXHRcdFx0dCArPSBwYXJ0cy5wcm90b2NvbCArICc6JztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXBhcnRzLnVybiAmJiAodCB8fCBwYXJ0cy5ob3N0bmFtZSkpIHtcclxuXHRcdFx0dCArPSAnLy8nO1xyXG5cdFx0fVxyXG5cclxuXHRcdHQgKz0gKFVSSS5idWlsZEF1dGhvcml0eShwYXJ0cykgfHwgJycpO1xyXG5cclxuXHRcdGlmICh0eXBlb2YgcGFydHMucGF0aCA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0aWYgKHBhcnRzLnBhdGguY2hhckF0KDApICE9PSAnLycgJiYgdHlwZW9mIHBhcnRzLmhvc3RuYW1lID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdHQgKz0gJy8nO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0ICs9IHBhcnRzLnBhdGg7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHR5cGVvZiBwYXJ0cy5xdWVyeSA9PT0gJ3N0cmluZycgJiYgcGFydHMucXVlcnkpIHtcclxuXHRcdFx0dCArPSAnPycgKyBwYXJ0cy5xdWVyeTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodHlwZW9mIHBhcnRzLmZyYWdtZW50ID09PSAnc3RyaW5nJyAmJiBwYXJ0cy5mcmFnbWVudCkge1xyXG5cdFx0XHR0ICs9ICcjJyArIHBhcnRzLmZyYWdtZW50O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHQ7XHJcblx0fTtcclxuXHRVUkkuYnVpbGRIb3N0ID0gZnVuY3Rpb24ocGFydHMpIHtcclxuXHRcdHZhciB0ID0gJyc7XHJcblxyXG5cdFx0aWYgKCFwYXJ0cy5ob3N0bmFtZSkge1xyXG5cdFx0XHRyZXR1cm4gJyc7XHJcblx0XHR9IGVsc2UgaWYgKFVSSS5pcDZfZXhwcmVzc2lvbi50ZXN0KHBhcnRzLmhvc3RuYW1lKSkge1xyXG5cdFx0XHR0ICs9ICdbJyArIHBhcnRzLmhvc3RuYW1lICsgJ10nO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dCArPSBwYXJ0cy5ob3N0bmFtZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocGFydHMucG9ydCkge1xyXG5cdFx0XHR0ICs9ICc6JyArIHBhcnRzLnBvcnQ7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHQ7XHJcblx0fTtcclxuXHRVUkkuYnVpbGRBdXRob3JpdHkgPSBmdW5jdGlvbihwYXJ0cykge1xyXG5cdFx0cmV0dXJuIFVSSS5idWlsZFVzZXJpbmZvKHBhcnRzKSArIFVSSS5idWlsZEhvc3QocGFydHMpO1xyXG5cdH07XHJcblx0VVJJLmJ1aWxkVXNlcmluZm8gPSBmdW5jdGlvbihwYXJ0cykge1xyXG5cdFx0dmFyIHQgPSAnJztcclxuXHJcblx0XHRpZiAocGFydHMudXNlcm5hbWUpIHtcclxuXHRcdFx0dCArPSBVUkkuZW5jb2RlKHBhcnRzLnVzZXJuYW1lKTtcclxuXHJcblx0XHRcdGlmIChwYXJ0cy5wYXNzd29yZCkge1xyXG5cdFx0XHRcdHQgKz0gJzonICsgVVJJLmVuY29kZShwYXJ0cy5wYXNzd29yZCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHQgKz0gJ0AnO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0O1xyXG5cdH07XHJcblx0VVJJLmJ1aWxkUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIGVzY2FwZVF1ZXJ5U3BhY2UpIHtcclxuXHRcdC8vIGFjY29yZGluZyB0byBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2IG9yIGh0dHA6Ly9sYWJzLmFwYWNoZS5vcmcvd2ViYXJjaC91cmkvcmZjL3JmYzM5ODYuaHRtbFxyXG5cdFx0Ly8gYmVpbmcgwrstLl9+ISQmJygpKissOz06QC8/wqsgJUhFWCBhbmQgYWxudW0gYXJlIGFsbG93ZWRcclxuXHRcdC8vIHRoZSBSRkMgZXhwbGljaXRseSBzdGF0ZXMgPy9mb28gYmVpbmcgYSB2YWxpZCB1c2UgY2FzZSwgbm8gbWVudGlvbiBvZiBwYXJhbWV0ZXIgc3ludGF4IVxyXG5cdFx0Ly8gVVJJLmpzIHRyZWF0cyB0aGUgcXVlcnkgc3RyaW5nIGFzIGJlaW5nIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxyXG5cdFx0Ly8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZVxyXG5cclxuXHRcdHZhciB0ID0gJyc7XHJcblx0XHR2YXIgdW5pcXVlLCBrZXksIGksIGxlbmd0aDtcclxuXHRcdGZvciAoa2V5IGluIGRhdGEpIHtcclxuXHRcdFx0aWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkgJiYga2V5KSB7XHJcblx0XHRcdFx0aWYgKGlzQXJyYXkoZGF0YVtrZXldKSkge1xyXG5cdFx0XHRcdFx0dW5pcXVlID0ge307XHJcblx0XHRcdFx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhW2tleV0ubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0aWYgKGRhdGFba2V5XVtpXSAhPT0gdW5kZWZpbmVkICYmIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0XHRcdHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV1baV0sIGVzY2FwZVF1ZXJ5U3BhY2UpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgIT09IHRydWUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV0sIGVzY2FwZVF1ZXJ5U3BhY2UpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0LnN1YnN0cmluZygxKTtcclxuXHR9O1xyXG5cdFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIHtcclxuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZSAtLSBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcclxuXHRcdC8vIGRvbid0IGFwcGVuZCBcIj1cIiBmb3IgbnVsbCB2YWx1ZXMsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI3VybC1wYXJhbWV0ZXItc2VyaWFsaXphdGlvblxyXG5cdFx0cmV0dXJuIFVSSS5lbmNvZGVRdWVyeShuYW1lLCBlc2NhcGVRdWVyeVNwYWNlKSArICh2YWx1ZSAhPT0gbnVsbCA/ICc9JyArIFVSSS5lbmNvZGVRdWVyeSh2YWx1ZSwgZXNjYXBlUXVlcnlTcGFjZSkgOiAnJyk7XHJcblx0fTtcclxuXHJcblx0VVJJLmFkZFF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHtcclxuXHRcdGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIG5hbWUpIHtcclxuXHRcdFx0XHRpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkge1xyXG5cdFx0XHRcdFx0VVJJLmFkZFF1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdGlmIChkYXRhW25hbWVdID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRkYXRhW25hbWVdID0gdmFsdWU7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBkYXRhW25hbWVdID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdGRhdGFbbmFtZV0gPSBbZGF0YVtuYW1lXV07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICghaXNBcnJheSh2YWx1ZSkpIHtcclxuXHRcdFx0XHR2YWx1ZSA9IFt2YWx1ZV07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGRhdGFbbmFtZV0gPSAoZGF0YVtuYW1lXSB8fCBbXSkuY29uY2F0KHZhbHVlKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRVUkkucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSkge1xyXG5cdFx0dmFyIGksIGxlbmd0aCwga2V5O1xyXG5cclxuXHRcdGlmIChpc0FycmF5KG5hbWUpKSB7XHJcblx0XHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IG5hbWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRkYXRhW25hbWVbaV1dID0gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKGdldFR5cGUobmFtZSkgPT09ICdSZWdFeHAnKSB7XHJcblx0XHRcdGZvciAoa2V5IGluIGRhdGEpIHtcclxuXHRcdFx0XHRpZiAobmFtZS50ZXN0KGtleSkpIHtcclxuXHRcdFx0XHRcdGRhdGFba2V5XSA9IHVuZGVmaW5lZDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGZvciAoa2V5IGluIG5hbWUpIHtcclxuXHRcdFx0XHRpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkge1xyXG5cdFx0XHRcdFx0VVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0aWYgKGdldFR5cGUodmFsdWUpID09PSAnUmVnRXhwJykge1xyXG5cdFx0XHRcdFx0aWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pICYmIHZhbHVlLnRlc3QoZGF0YVtuYW1lXSkpIHtcclxuXHRcdFx0XHRcdFx0ZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGRhdGFbbmFtZV0gPSBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhW25hbWVdLCB2YWx1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmIChkYXRhW25hbWVdID09PSBTdHJpbmcodmFsdWUpICYmICghaXNBcnJheSh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAxKSkge1xyXG5cdFx0XHRcdFx0ZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YVtuYW1lXSkpIHtcclxuXHRcdFx0XHRcdGRhdGFbbmFtZV0gPSBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhW25hbWVdLCB2YWx1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5yZW1vdmVRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcsIFJlZ0V4cCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyJyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRVUkkuaGFzUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHtcclxuXHRcdGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIG5hbWUpIHtcclxuXHRcdFx0XHRpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkge1xyXG5cdFx0XHRcdFx0aWYgKCFVUkkuaGFzUXVlcnkoZGF0YSwga2V5LCBuYW1lW2tleV0pKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTtcclxuXHRcdH1cclxuXHJcblx0XHRzd2l0Y2ggKGdldFR5cGUodmFsdWUpKSB7XHJcblx0XHRcdGNhc2UgJ1VuZGVmaW5lZCc6XHJcblx0XHRcdFx0Ly8gdHJ1ZSBpZiBleGlzdHMgKGJ1dCBtYXkgYmUgZW1wdHkpXHJcblx0XHRcdFx0cmV0dXJuIG5hbWUgaW4gZGF0YTsgLy8gZGF0YVtuYW1lXSAhPT0gdW5kZWZpbmVkO1xyXG5cclxuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XHJcblx0XHRcdFx0Ly8gdHJ1ZSBpZiBleGlzdHMgYW5kIG5vbi1lbXB0eVxyXG5cdFx0XHRcdHZhciBfYm9vbHkgPSBCb29sZWFuKGlzQXJyYXkoZGF0YVtuYW1lXSkgPyBkYXRhW25hbWVdLmxlbmd0aCA6IGRhdGFbbmFtZV0pO1xyXG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gX2Jvb2x5O1xyXG5cclxuXHRcdFx0Y2FzZSAnRnVuY3Rpb24nOlxyXG5cdFx0XHRcdC8vIGFsbG93IGNvbXBsZXggY29tcGFyaXNvblxyXG5cdFx0XHRcdHJldHVybiAhIXZhbHVlKGRhdGFbbmFtZV0sIG5hbWUsIGRhdGEpO1xyXG5cclxuXHRcdFx0Y2FzZSAnQXJyYXknOlxyXG5cdFx0XHRcdGlmICghaXNBcnJheShkYXRhW25hbWVdKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dmFyIG9wID0gd2l0aGluQXJyYXkgPyBhcnJheUNvbnRhaW5zIDogYXJyYXlzRXF1YWw7XHJcblx0XHRcdFx0cmV0dXJuIG9wKGRhdGFbbmFtZV0sIHZhbHVlKTtcclxuXHJcblx0XHRcdGNhc2UgJ1JlZ0V4cCc6XHJcblx0XHRcdFx0aWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gQm9vbGVhbihkYXRhW25hbWVdICYmIGRhdGFbbmFtZV0ubWF0Y2godmFsdWUpKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICghd2l0aGluQXJyYXkpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBhcnJheUNvbnRhaW5zKGRhdGFbbmFtZV0sIHZhbHVlKTtcclxuXHJcblx0XHRcdGNhc2UgJ051bWJlcic6XHJcblx0XHRcdFx0dmFsdWUgPSBTdHJpbmcodmFsdWUpO1xyXG5cdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXHJcblx0XHRcdGNhc2UgJ1N0cmluZyc6XHJcblx0XHRcdFx0aWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZGF0YVtuYW1lXSA9PT0gdmFsdWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIXdpdGhpbkFycmF5KSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gYXJyYXlDb250YWlucyhkYXRhW25hbWVdLCB2YWx1ZSk7XHJcblxyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5oYXNRdWVyeSgpIGFjY2VwdHMgdW5kZWZpbmVkLCBib29sZWFuLCBzdHJpbmcsIG51bWJlciwgUmVnRXhwLCBGdW5jdGlvbiBhcyB0aGUgdmFsdWUgcGFyYW1ldGVyJyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblxyXG5cdFVSSS5jb21tb25QYXRoID0gZnVuY3Rpb24ob25lLCB0d28pIHtcclxuXHRcdHZhciBsZW5ndGggPSBNYXRoLm1pbihvbmUubGVuZ3RoLCB0d28ubGVuZ3RoKTtcclxuXHRcdHZhciBwb3M7XHJcblxyXG5cdFx0Ly8gZmluZCBmaXJzdCBub24tbWF0Y2hpbmcgY2hhcmFjdGVyXHJcblx0XHRmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHtcclxuXHRcdFx0aWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gdHdvLmNoYXJBdChwb3MpKSB7XHJcblx0XHRcdFx0cG9zLS07XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAocG9zIDwgMSkge1xyXG5cdFx0XHRyZXR1cm4gb25lLmNoYXJBdCgwKSA9PT0gdHdvLmNoYXJBdCgwKSAmJiBvbmUuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJztcclxuXHRcdH1cclxuXHJcblx0XHQvLyByZXZlcnQgdG8gbGFzdCAvXHJcblx0XHRpZiAob25lLmNoYXJBdChwb3MpICE9PSAnLycgfHwgdHdvLmNoYXJBdChwb3MpICE9PSAnLycpIHtcclxuXHRcdFx0cG9zID0gb25lLnN1YnN0cmluZygwLCBwb3MpLmxhc3RJbmRleE9mKCcvJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG9uZS5zdWJzdHJpbmcoMCwgcG9zICsgMSk7XHJcblx0fTtcclxuXHJcblx0VVJJLndpdGhpblN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZywgY2FsbGJhY2ssIG9wdGlvbnMpIHtcclxuXHRcdG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XHJcblx0XHR2YXIgX3N0YXJ0ID0gb3B0aW9ucy5zdGFydCB8fCBVUkkuZmluZFVyaS5zdGFydDtcclxuXHRcdHZhciBfZW5kID0gb3B0aW9ucy5lbmQgfHwgVVJJLmZpbmRVcmkuZW5kO1xyXG5cdFx0dmFyIF90cmltID0gb3B0aW9ucy50cmltIHx8IFVSSS5maW5kVXJpLnRyaW07XHJcblx0XHR2YXIgX2F0dHJpYnV0ZU9wZW4gPSAvW2EtejAtOS1dPVtcIiddPyQvaTtcclxuXHJcblx0XHRfc3RhcnQubGFzdEluZGV4ID0gMDtcclxuXHRcdHdoaWxlICh0cnVlKSB7XHJcblx0XHRcdHZhciBtYXRjaCA9IF9zdGFydC5leGVjKHN0cmluZyk7XHJcblx0XHRcdGlmICghbWF0Y2gpIHtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHN0YXJ0ID0gbWF0Y2guaW5kZXg7XHJcblx0XHRcdGlmIChvcHRpb25zLmlnbm9yZUh0bWwpIHtcclxuXHRcdFx0XHQvLyBhdHRyaWJ1dChlPVtcIiddPyQpXHJcblx0XHRcdFx0dmFyIGF0dHJpYnV0ZU9wZW4gPSBzdHJpbmcuc2xpY2UoTWF0aC5tYXgoc3RhcnQgLSAzLCAwKSwgc3RhcnQpO1xyXG5cdFx0XHRcdGlmIChhdHRyaWJ1dGVPcGVuICYmIF9hdHRyaWJ1dGVPcGVuLnRlc3QoYXR0cmlidXRlT3BlbikpIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIGVuZCA9IHN0YXJ0ICsgc3RyaW5nLnNsaWNlKHN0YXJ0KS5zZWFyY2goX2VuZCk7XHJcblx0XHRcdHZhciBzbGljZSA9IHN0cmluZy5zbGljZShzdGFydCwgZW5kKS5yZXBsYWNlKF90cmltLCAnJyk7XHJcblx0XHRcdGlmIChvcHRpb25zLmlnbm9yZSAmJiBvcHRpb25zLmlnbm9yZS50ZXN0KHNsaWNlKSkge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRlbmQgPSBzdGFydCArIHNsaWNlLmxlbmd0aDtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IGNhbGxiYWNrKHNsaWNlLCBzdGFydCwgZW5kLCBzdHJpbmcpO1xyXG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgc3RhcnQpICsgcmVzdWx0ICsgc3RyaW5nLnNsaWNlKGVuZCk7XHJcblx0XHRcdF9zdGFydC5sYXN0SW5kZXggPSBzdGFydCArIHJlc3VsdC5sZW5ndGg7XHJcblx0XHR9XHJcblxyXG5cdFx0X3N0YXJ0Lmxhc3RJbmRleCA9IDA7XHJcblx0XHRyZXR1cm4gc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lID0gZnVuY3Rpb24odikge1xyXG5cdFx0Ly8gVGhlb3JldGljYWxseSBVUklzIGFsbG93IHBlcmNlbnQtZW5jb2RpbmcgaW4gSG9zdG5hbWVzIChhY2NvcmRpbmcgdG8gUkZDIDM5ODYpXHJcblx0XHQvLyB0aGV5IGFyZSBub3QgcGFydCBvZiBETlMgYW5kIHRoZXJlZm9yZSBpZ25vcmVkIGJ5IFVSSS5qc1xyXG5cclxuXHRcdGlmICh2Lm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7XHJcblx0XHRcdC8vIHRlc3QgcHVueWNvZGVcclxuXHRcdFx0aWYgKCFwdW55Y29kZSkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0gYW5kIFB1bnljb2RlLmpzIGlzIG5vdCBhdmFpbGFibGUnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHB1bnljb2RlLnRvQVNDSUkodikubWF0Y2goVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycykpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBub0NvbmZsaWN0XHJcblx0VVJJLm5vQ29uZmxpY3QgPSBmdW5jdGlvbihyZW1vdmVBbGwpIHtcclxuXHRcdGlmIChyZW1vdmVBbGwpIHtcclxuXHRcdFx0dmFyIHVuY29uZmxpY3RlZCA9IHtcclxuXHRcdFx0XHRVUkk6IHRoaXMubm9Db25mbGljdCgpXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRpZiAocm9vdC5VUklUZW1wbGF0ZSAmJiB0eXBlb2Ygcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dW5jb25mbGljdGVkLlVSSVRlbXBsYXRlID0gcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0KCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChyb290LklQdjYgJiYgdHlwZW9mIHJvb3QuSVB2Ni5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dW5jb25mbGljdGVkLklQdjYgPSByb290LklQdjYubm9Db25mbGljdCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgJiYgdHlwZW9mIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHR1bmNvbmZsaWN0ZWQuU2Vjb25kTGV2ZWxEb21haW5zID0gcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdW5jb25mbGljdGVkO1xyXG5cdFx0fSBlbHNlIGlmIChyb290LlVSSSA9PT0gdGhpcykge1xyXG5cdFx0XHRyb290LlVSSSA9IF9VUkk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHJcblx0cC5idWlsZCA9IGZ1bmN0aW9uKGRlZmVyQnVpbGQpIHtcclxuXHRcdGlmIChkZWZlckJ1aWxkID09PSB0cnVlKSB7XHJcblx0XHRcdHRoaXMuX2RlZmVycmVkX2J1aWxkID0gdHJ1ZTtcclxuXHRcdH0gZWxzZSBpZiAoZGVmZXJCdWlsZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2RlZmVycmVkX2J1aWxkKSB7XHJcblx0XHRcdHRoaXMuX3N0cmluZyA9IFVSSS5idWlsZCh0aGlzLl9wYXJ0cyk7XHJcblx0XHRcdHRoaXMuX2RlZmVycmVkX2J1aWxkID0gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHJcblx0cC5jbG9uZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIG5ldyBVUkkodGhpcyk7XHJcblx0fTtcclxuXHJcblx0cC52YWx1ZU9mID0gcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuYnVpbGQoZmFsc2UpLl9zdHJpbmc7XHJcblx0fTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoX3BhcnQpe1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuX3BhcnRzW19wYXJ0XSA9IHYgfHwgbnVsbDtcclxuXHRcdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKF9wYXJ0LCBfa2V5KXtcclxuXHRcdHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAodiAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0diA9IHYgKyAnJztcclxuXHRcdFx0XHRcdGlmICh2LmNoYXJBdCgwKSA9PT0gX2tleSkge1xyXG5cdFx0XHRcdFx0XHR2ID0gdi5zdWJzdHJpbmcoMSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR0aGlzLl9wYXJ0c1tfcGFydF0gPSB2O1xyXG5cdFx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHAucHJvdG9jb2wgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwcm90b2NvbCcpO1xyXG5cdHAudXNlcm5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCd1c2VybmFtZScpO1xyXG5cdHAucGFzc3dvcmQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwYXNzd29yZCcpO1xyXG5cdHAuaG9zdG5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdob3N0bmFtZScpO1xyXG5cdHAucG9ydCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3BvcnQnKTtcclxuXHRwLnF1ZXJ5ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcigncXVlcnknLCAnPycpO1xyXG5cdHAuZnJhZ21lbnQgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdmcmFnbWVudCcsICcjJyk7XHJcblxyXG5cdHAuc2VhcmNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdHZhciB0ID0gdGhpcy5xdWVyeSh2LCBidWlsZCk7XHJcblx0XHRyZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCc/JyArIHQpIDogdDtcclxuXHR9O1xyXG5cdHAuaGFzaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHR2YXIgdCA9IHRoaXMuZnJhZ21lbnQodiwgYnVpbGQpO1xyXG5cdFx0cmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnIycgKyB0KSA6IHQ7XHJcblx0fTtcclxuXHJcblx0cC5wYXRobmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHtcclxuXHRcdFx0dmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGggfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpO1xyXG5cdFx0XHRyZXR1cm4gdiA/ICh0aGlzLl9wYXJ0cy51cm4gPyBVUkkuZGVjb2RlVXJuUGF0aCA6IFVSSS5kZWNvZGVQYXRoKShyZXMpIDogcmVzO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xyXG5cdFx0XHRcdHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVVyblBhdGgodikgOiAnJztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVQYXRoKHYpIDogJy8nO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0fTtcclxuXHRwLnBhdGggPSBwLnBhdGhuYW1lO1xyXG5cdHAuaHJlZiA9IGZ1bmN0aW9uKGhyZWYsIGJ1aWxkKSB7XHJcblx0XHR2YXIga2V5O1xyXG5cclxuXHRcdGlmIChocmVmID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9zdHJpbmcgPSAnJztcclxuXHRcdHRoaXMuX3BhcnRzID0gVVJJLl9wYXJ0cygpO1xyXG5cclxuXHRcdHZhciBfVVJJID0gaHJlZiBpbnN0YW5jZW9mIFVSSTtcclxuXHRcdHZhciBfb2JqZWN0ID0gdHlwZW9mIGhyZWYgPT09ICdvYmplY3QnICYmIChocmVmLmhvc3RuYW1lIHx8IGhyZWYucGF0aCB8fCBocmVmLnBhdGhuYW1lKTtcclxuXHRcdGlmIChocmVmLm5vZGVOYW1lKSB7XHJcblx0XHRcdHZhciBhdHRyaWJ1dGUgPSBVUkkuZ2V0RG9tQXR0cmlidXRlKGhyZWYpO1xyXG5cdFx0XHRocmVmID0gaHJlZlthdHRyaWJ1dGVdIHx8ICcnO1xyXG5cdFx0XHRfb2JqZWN0ID0gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gd2luZG93LmxvY2F0aW9uIGlzIHJlcG9ydGVkIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0J3Mgbm90IHRoZSBzb3J0XHJcblx0XHQvLyBvZiBvYmplY3Qgd2UncmUgbG9va2luZyBmb3I6XHJcblx0XHQvLyAqIGxvY2F0aW9uLnByb3RvY29sIGVuZHMgd2l0aCBhIGNvbG9uXHJcblx0XHQvLyAqIGxvY2F0aW9uLnF1ZXJ5ICE9IG9iamVjdC5zZWFyY2hcclxuXHRcdC8vICogbG9jYXRpb24uaGFzaCAhPSBvYmplY3QuZnJhZ21lbnRcclxuXHRcdC8vIHNpbXBseSBzZXJpYWxpemluZyB0aGUgdW5rbm93biBvYmplY3Qgc2hvdWxkIGRvIHRoZSB0cmlja1xyXG5cdFx0Ly8gKGZvciBsb2NhdGlvbiwgbm90IGZvciBldmVyeXRoaW5nLi4uKVxyXG5cdFx0aWYgKCFfVVJJICYmIF9vYmplY3QgJiYgaHJlZi5wYXRobmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGhyZWYgPSBocmVmLnRvU3RyaW5nKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHR5cGVvZiBocmVmID09PSAnc3RyaW5nJyB8fCBocmVmIGluc3RhbmNlb2YgU3RyaW5nKSB7XHJcblx0XHRcdHRoaXMuX3BhcnRzID0gVVJJLnBhcnNlKFN0cmluZyhocmVmKSwgdGhpcy5fcGFydHMpO1xyXG5cdFx0fSBlbHNlIGlmIChfVVJJIHx8IF9vYmplY3QpIHtcclxuXHRcdFx0dmFyIHNyYyA9IF9VUkkgPyBocmVmLl9wYXJ0cyA6IGhyZWY7XHJcblx0XHRcdGZvciAoa2V5IGluIHNyYykge1xyXG5cdFx0XHRcdGlmIChoYXNPd24uY2FsbCh0aGlzLl9wYXJ0cywga2V5KSkge1xyXG5cdFx0XHRcdFx0dGhpcy5fcGFydHNba2V5XSA9IHNyY1trZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpbnB1dCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8vIGlkZW50aWZpY2F0aW9uIGFjY2Vzc29yc1xyXG5cdHAuaXMgPSBmdW5jdGlvbih3aGF0KSB7XHJcblx0XHR2YXIgaXAgPSBmYWxzZTtcclxuXHRcdHZhciBpcDQgPSBmYWxzZTtcclxuXHRcdHZhciBpcDYgPSBmYWxzZTtcclxuXHRcdHZhciBuYW1lID0gZmFsc2U7XHJcblx0XHR2YXIgc2xkID0gZmFsc2U7XHJcblx0XHR2YXIgaWRuID0gZmFsc2U7XHJcblx0XHR2YXIgcHVueWNvZGUgPSBmYWxzZTtcclxuXHRcdHZhciByZWxhdGl2ZSA9ICF0aGlzLl9wYXJ0cy51cm47XHJcblxyXG5cdFx0aWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7XHJcblx0XHRcdHJlbGF0aXZlID0gZmFsc2U7XHJcblx0XHRcdGlwNCA9IFVSSS5pcDRfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcclxuXHRcdFx0aXA2ID0gVVJJLmlwNl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xyXG5cdFx0XHRpcCA9IGlwNCB8fCBpcDY7XHJcblx0XHRcdG5hbWUgPSAhaXA7XHJcblx0XHRcdHNsZCA9IG5hbWUgJiYgU0xEICYmIFNMRC5oYXModGhpcy5fcGFydHMuaG9zdG5hbWUpO1xyXG5cdFx0XHRpZG4gPSBuYW1lICYmIFVSSS5pZG5fZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcclxuXHRcdFx0cHVueWNvZGUgPSBuYW1lICYmIFVSSS5wdW55Y29kZV9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN3aXRjaCAod2hhdC50b0xvd2VyQ2FzZSgpKSB7XHJcblx0XHRcdGNhc2UgJ3JlbGF0aXZlJzpcclxuXHRcdFx0XHRyZXR1cm4gcmVsYXRpdmU7XHJcblxyXG5cdFx0XHRjYXNlICdhYnNvbHV0ZSc6XHJcblx0XHRcdFx0cmV0dXJuICFyZWxhdGl2ZTtcclxuXHJcblx0XHRcdC8vIGhvc3RuYW1lIGlkZW50aWZpY2F0aW9uXHJcblx0XHRcdGNhc2UgJ2RvbWFpbic6XHJcblx0XHRcdGNhc2UgJ25hbWUnOlxyXG5cdFx0XHRcdHJldHVybiBuYW1lO1xyXG5cclxuXHRcdFx0Y2FzZSAnc2xkJzpcclxuXHRcdFx0XHRyZXR1cm4gc2xkO1xyXG5cclxuXHRcdFx0Y2FzZSAnaXAnOlxyXG5cdFx0XHRcdHJldHVybiBpcDtcclxuXHJcblx0XHRcdGNhc2UgJ2lwNCc6XHJcblx0XHRcdGNhc2UgJ2lwdjQnOlxyXG5cdFx0XHRjYXNlICdpbmV0NCc6XHJcblx0XHRcdFx0cmV0dXJuIGlwNDtcclxuXHJcblx0XHRcdGNhc2UgJ2lwNic6XHJcblx0XHRcdGNhc2UgJ2lwdjYnOlxyXG5cdFx0XHRjYXNlICdpbmV0Nic6XHJcblx0XHRcdFx0cmV0dXJuIGlwNjtcclxuXHJcblx0XHRcdGNhc2UgJ2lkbic6XHJcblx0XHRcdFx0cmV0dXJuIGlkbjtcclxuXHJcblx0XHRcdGNhc2UgJ3VybCc6XHJcblx0XHRcdFx0cmV0dXJuICF0aGlzLl9wYXJ0cy51cm47XHJcblxyXG5cdFx0XHRjYXNlICd1cm4nOlxyXG5cdFx0XHRcdHJldHVybiAhIXRoaXMuX3BhcnRzLnVybjtcclxuXHJcblx0XHRcdGNhc2UgJ3B1bnljb2RlJzpcclxuXHRcdFx0XHRyZXR1cm4gcHVueWNvZGU7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fTtcclxuXHJcblx0Ly8gY29tcG9uZW50IHNwZWNpZmljIGlucHV0IHZhbGlkYXRpb25cclxuXHR2YXIgX3Byb3RvY29sID0gcC5wcm90b2NvbDtcclxuXHR2YXIgX3BvcnQgPSBwLnBvcnQ7XHJcblx0dmFyIF9ob3N0bmFtZSA9IHAuaG9zdG5hbWU7XHJcblxyXG5cdHAucHJvdG9jb2wgPSBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0aWYgKHYgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpZiAodikge1xyXG5cdFx0XHRcdC8vIGFjY2VwdCB0cmFpbGluZyA6Ly9cclxuXHRcdFx0XHR2ID0gdi5yZXBsYWNlKC86KFxcL1xcLyk/JC8sICcnKTtcclxuXHJcblx0XHRcdFx0aWYgKCF2Lm1hdGNoKFVSSS5wcm90b2NvbF9leHByZXNzaW9uKSkge1xyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdG9jb2wgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4rLV0gb3IgZG9lc25cXCd0IHN0YXJ0IHdpdGggW0EtWl0nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBfcHJvdG9jb2wuY2FsbCh0aGlzLCB2LCBidWlsZCk7XHJcblx0fTtcclxuXHRwLnNjaGVtZSA9IHAucHJvdG9jb2w7XHJcblx0cC5wb3J0ID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodiAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGlmICh2ID09PSAwKSB7XHJcblx0XHRcdFx0diA9IG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh2KSB7XHJcblx0XHRcdFx0diArPSAnJztcclxuXHRcdFx0XHRpZiAodi5jaGFyQXQoMCkgPT09ICc6Jykge1xyXG5cdFx0XHRcdFx0diA9IHYuc3Vic3RyaW5nKDEpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHYubWF0Y2goL1teMC05XS8pKSB7XHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdQb3J0IFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFswLTldJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gX3BvcnQuY2FsbCh0aGlzLCB2LCBidWlsZCk7XHJcblx0fTtcclxuXHRwLmhvc3RuYW1lID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodiAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHZhciB4ID0ge307XHJcblx0XHRcdHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHgpO1xyXG5cdFx0XHRpZiAocmVzICE9PSAnLycpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHYgPSB4Lmhvc3RuYW1lO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIF9ob3N0bmFtZS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTtcclxuXHR9O1xyXG5cclxuXHQvLyBjb21wb3VuZCBhY2Nlc3NvcnNcclxuXHRwLm9yaWdpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHR2YXIgcGFydHM7XHJcblxyXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xyXG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0dmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCgpO1xyXG5cdFx0XHR2YXIgYXV0aG9yaXR5ID0gdGhpcy5hdXRob3JpdHkoKTtcclxuXHRcdFx0aWYgKCFhdXRob3JpdHkpIHJldHVybiAnJztcclxuXHRcdFx0cmV0dXJuIChwcm90b2NvbCA/IHByb3RvY29sICsgJzovLycgOiAnJykgKyB0aGlzLmF1dGhvcml0eSgpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIG9yaWdpbiA9IFVSSSh2KTtcclxuXHRcdFx0dGhpc1xyXG5cdFx0XHRcdC5wcm90b2NvbChvcmlnaW4ucHJvdG9jb2woKSlcclxuXHRcdFx0XHQuYXV0aG9yaXR5KG9yaWdpbi5hdXRob3JpdHkoKSlcclxuXHRcdFx0XHQuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0fTtcclxuXHRwLmhvc3QgPSBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xyXG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkSG9zdCh0aGlzLl9wYXJ0cykgOiAnJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHRoaXMuX3BhcnRzKTtcclxuXHRcdFx0aWYgKHJlcyAhPT0gJy8nKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0cC5hdXRob3JpdHkgPSBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xyXG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkQXV0aG9yaXR5KHRoaXMuX3BhcnRzKSA6ICcnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHJlcyA9IFVSSS5wYXJzZUF1dGhvcml0eSh2LCB0aGlzLl9wYXJ0cyk7XHJcblx0XHRcdGlmIChyZXMgIT09ICcvJykge1xyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHR9O1xyXG5cdHAudXNlcmluZm8gPSBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xyXG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy51c2VybmFtZSkge1xyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHQgPSBVUkkuYnVpbGRVc2VyaW5mbyh0aGlzLl9wYXJ0cyk7XHJcblx0XHRcdHJldHVybiB0LnN1YnN0cmluZygwLCB0Lmxlbmd0aCAtMSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAodlt2Lmxlbmd0aC0xXSAhPT0gJ0AnKSB7XHJcblx0XHRcdFx0diArPSAnQCc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdFVSSS5wYXJzZVVzZXJpbmZvKHYsIHRoaXMuX3BhcnRzKTtcclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHR9O1xyXG5cdHAucmVzb3VyY2UgPSBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0dmFyIHBhcnRzO1xyXG5cclxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMucGF0aCgpICsgdGhpcy5zZWFyY2goKSArIHRoaXMuaGFzaCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHBhcnRzID0gVVJJLnBhcnNlKHYpO1xyXG5cdFx0dGhpcy5fcGFydHMucGF0aCA9IHBhcnRzLnBhdGg7XHJcblx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IHBhcnRzLnF1ZXJ5O1xyXG5cdFx0dGhpcy5fcGFydHMuZnJhZ21lbnQgPSBwYXJ0cy5mcmFnbWVudDtcclxuXHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8vIGZyYWN0aW9uIGFjY2Vzc29yc1xyXG5cdHAuc3ViZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjb252ZW5pZW5jZSwgcmV0dXJuIFwid3d3XCIgZnJvbSBcInd3dy5leGFtcGxlLm9yZ1wiXHJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkge1xyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZ3JhYiBkb21haW4gYW5kIGFkZCBhbm90aGVyIHNlZ21lbnRcclxuXHRcdFx0dmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoIC0gMTtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlbmQpIHx8ICcnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIGUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aDtcclxuXHRcdFx0dmFyIHN1YiA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlKTtcclxuXHRcdFx0dmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KHN1YikpO1xyXG5cclxuXHRcdFx0aWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy4nKSB7XHJcblx0XHRcdFx0diArPSAnLic7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh2KSB7XHJcblx0XHRcdFx0VVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTtcclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHR9O1xyXG5cdHAuZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykge1xyXG5cdFx0XHRidWlsZCA9IHY7XHJcblx0XHRcdHYgPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY29udmVuaWVuY2UsIHJldHVybiBcImV4YW1wbGUub3JnXCIgZnJvbSBcInd3dy5leGFtcGxlLm9yZ1wiXHJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkge1xyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaWYgaG9zdG5hbWUgY29uc2lzdHMgb2YgMSBvciAyIHNlZ21lbnRzLCBpdCBtdXN0IGJlIHRoZSBkb21haW5cclxuXHRcdFx0dmFyIHQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5tYXRjaCgvXFwuL2cpO1xyXG5cdFx0XHRpZiAodCAmJiB0Lmxlbmd0aCA8IDIpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGdyYWIgdGxkIGFuZCBhZGQgYW5vdGhlciBzZWdtZW50XHJcblx0XHRcdHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLnRsZChidWlsZCkubGVuZ3RoIC0gMTtcclxuXHRcdFx0ZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoJy4nLCBlbmQgLTEpICsgMTtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZyhlbmQpIHx8ICcnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKCF2KSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignY2Fubm90IHNldCBkb21haW4gZW1wdHknKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0VVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7XHJcblxyXG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHtcclxuXHRcdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHY7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZG9tYWluKCkpICsgJyQnKTtcclxuXHRcdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0fTtcclxuXHRwLnRsZCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XHJcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHtcclxuXHRcdFx0YnVpbGQgPSB2O1xyXG5cdFx0XHR2ID0gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHJldHVybiBcIm9yZ1wiIGZyb20gXCJ3d3cuZXhhbXBsZS5vcmdcIlxyXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHtcclxuXHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicpO1xyXG5cdFx0XHR2YXIgdGxkID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKHBvcyArIDEpO1xyXG5cclxuXHRcdFx0aWYgKGJ1aWxkICE9PSB0cnVlICYmIFNMRCAmJiBTTEQubGlzdFt0bGQudG9Mb3dlckNhc2UoKV0pIHtcclxuXHRcdFx0XHRyZXR1cm4gU0xELmdldCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgfHwgdGxkO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdGxkO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHJlcGxhY2U7XHJcblxyXG5cdFx0XHRpZiAoIXYpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBlbXB0eScpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHYubWF0Y2goL1teYS16QS1aMC05LV0vKSkge1xyXG5cdFx0XHRcdGlmIChTTEQgJiYgU0xELmlzKHYpKSB7XHJcblx0XHRcdFx0XHRyZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7XHJcblx0XHRcdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1RMRCBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05XScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignY2Fubm90IHNldCBUTEQgb24gbm9uLWRvbWFpbiBob3N0Jyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy50bGQoKSkgKyAnJCcpO1xyXG5cdFx0XHRcdHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHR9O1xyXG5cdHAuZGlyZWN0b3J5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHtcclxuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5wYXRoICYmICF0aGlzLl9wYXJ0cy5ob3N0bmFtZSkge1xyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykge1xyXG5cdFx0XHRcdHJldHVybiAnLyc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGggLSAxO1xyXG5cdFx0XHR2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZW5kKSB8fCAodGhpcy5fcGFydHMuaG9zdG5hbWUgPyAnLycgOiAnJyk7XHJcblxyXG5cdFx0XHRyZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoKHJlcykgOiByZXM7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIGUgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGg7XHJcblx0XHRcdHZhciBkaXJlY3RvcnkgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygwLCBlKTtcclxuXHRcdFx0dmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KGRpcmVjdG9yeSkpO1xyXG5cclxuXHRcdFx0Ly8gZnVsbHkgcXVhbGlmaWVyIGRpcmVjdG9yaWVzIGJlZ2luIHdpdGggYSBzbGFzaFxyXG5cdFx0XHRpZiAoIXRoaXMuaXMoJ3JlbGF0aXZlJykpIHtcclxuXHRcdFx0XHRpZiAoIXYpIHtcclxuXHRcdFx0XHRcdHYgPSAnLyc7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAodi5jaGFyQXQoMCkgIT09ICcvJykge1xyXG5cdFx0XHRcdFx0diA9ICcvJyArIHY7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBkaXJlY3RvcmllcyBhbHdheXMgZW5kIHdpdGggYSBzbGFzaFxyXG5cdFx0XHRpZiAodiAmJiB2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpICE9PSAnLycpIHtcclxuXHRcdFx0XHR2ICs9ICcvJztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0diA9IFVSSS5yZWNvZGVQYXRoKHYpO1xyXG5cdFx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpO1xyXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0cC5maWxlbmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XHJcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7XHJcblx0XHRcdGlmICghdGhpcy5fcGFydHMucGF0aCB8fCB0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHtcclxuXHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5wYXRoLmxhc3RJbmRleE9mKCcvJyk7XHJcblx0XHRcdHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZyhwb3MrMSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoU2VnbWVudChyZXMpIDogcmVzO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIG11dGF0ZWREaXJlY3RvcnkgPSBmYWxzZTtcclxuXHJcblx0XHRcdGlmICh2LmNoYXJBdCgwKSA9PT0gJy8nKSB7XHJcblx0XHRcdFx0diA9IHYuc3Vic3RyaW5nKDEpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodi5tYXRjaCgvXFwuP1xcLy8pKSB7XHJcblx0XHRcdFx0bXV0YXRlZERpcmVjdG9yeSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmZpbGVuYW1lKCkpICsgJyQnKTtcclxuXHRcdFx0diA9IFVSSS5yZWNvZGVQYXRoKHYpO1xyXG5cdFx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpO1xyXG5cclxuXHRcdFx0aWYgKG11dGF0ZWREaXJlY3RvcnkpIHtcclxuXHRcdFx0XHR0aGlzLm5vcm1hbGl6ZVBhdGgoYnVpbGQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0fTtcclxuXHRwLnN1ZmZpeCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XHJcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7XHJcblx0XHRcdGlmICghdGhpcy5fcGFydHMucGF0aCB8fCB0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHtcclxuXHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBmaWxlbmFtZSA9IHRoaXMuZmlsZW5hbWUoKTtcclxuXHRcdFx0dmFyIHBvcyA9IGZpbGVuYW1lLmxhc3RJbmRleE9mKCcuJyk7XHJcblx0XHRcdHZhciBzLCByZXM7XHJcblxyXG5cdFx0XHRpZiAocG9zID09PSAtMSkge1xyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gc3VmZml4IG1heSBvbmx5IGNvbnRhaW4gYWxudW0gY2hhcmFjdGVycyAoeXVwLCBJIG1hZGUgdGhpcyB1cC4pXHJcblx0XHRcdHMgPSBmaWxlbmFtZS5zdWJzdHJpbmcocG9zKzEpO1xyXG5cdFx0XHRyZXMgPSAoL15bYS16MC05JV0rJC9pKS50ZXN0KHMpID8gcyA6ICcnO1xyXG5cdFx0XHRyZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoU2VnbWVudChyZXMpIDogcmVzO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKHYuY2hhckF0KDApID09PSAnLicpIHtcclxuXHRcdFx0XHR2ID0gdi5zdWJzdHJpbmcoMSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBzdWZmaXggPSB0aGlzLnN1ZmZpeCgpO1xyXG5cdFx0XHR2YXIgcmVwbGFjZTtcclxuXHJcblx0XHRcdGlmICghc3VmZml4KSB7XHJcblx0XHRcdFx0aWYgKCF2KSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHRoaXMuX3BhcnRzLnBhdGggKz0gJy4nICsgVVJJLnJlY29kZVBhdGgodik7XHJcblx0XHRcdH0gZWxzZSBpZiAoIXYpIHtcclxuXHRcdFx0XHRyZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCgnLicgKyBzdWZmaXgpICsgJyQnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeChzdWZmaXgpICsgJyQnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHJlcGxhY2UpIHtcclxuXHRcdFx0XHR2ID0gVVJJLnJlY29kZVBhdGgodik7XHJcblx0XHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHR9O1xyXG5cdHAuc2VnbWVudCA9IGZ1bmN0aW9uKHNlZ21lbnQsIHYsIGJ1aWxkKSB7XHJcblx0XHR2YXIgc2VwYXJhdG9yID0gdGhpcy5fcGFydHMudXJuID8gJzonIDogJy8nO1xyXG5cdFx0dmFyIHBhdGggPSB0aGlzLnBhdGgoKTtcclxuXHRcdHZhciBhYnNvbHV0ZSA9IHBhdGguc3Vic3RyaW5nKDAsIDEpID09PSAnLyc7XHJcblx0XHR2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KHNlcGFyYXRvcik7XHJcblxyXG5cdFx0aWYgKHNlZ21lbnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHtcclxuXHRcdFx0YnVpbGQgPSB2O1xyXG5cdFx0XHR2ID0gc2VnbWVudDtcclxuXHRcdFx0c2VnbWVudCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0JhZCBzZWdtZW50IFwiJyArIHNlZ21lbnQgKyAnXCIsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGFic29sdXRlKSB7XHJcblx0XHRcdHNlZ21lbnRzLnNoaWZ0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHNlZ21lbnQgPCAwKSB7XHJcblx0XHRcdC8vIGFsbG93IG5lZ2F0aXZlIGluZGV4ZXMgdG8gYWRkcmVzcyBmcm9tIHRoZSBlbmRcclxuXHRcdFx0c2VnbWVudCA9IE1hdGgubWF4KHNlZ21lbnRzLmxlbmd0aCArIHNlZ21lbnQsIDApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0Lypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi9cclxuXHRcdFx0cmV0dXJuIHNlZ21lbnQgPT09IHVuZGVmaW5lZFxyXG5cdFx0XHRcdD8gc2VnbWVudHNcclxuXHRcdFx0XHQ6IHNlZ21lbnRzW3NlZ21lbnRdO1xyXG5cdFx0XHQvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi9cclxuXHRcdH0gZWxzZSBpZiAoc2VnbWVudCA9PT0gbnVsbCB8fCBzZWdtZW50c1tzZWdtZW50XSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGlmIChpc0FycmF5KHYpKSB7XHJcblx0XHRcdFx0c2VnbWVudHMgPSBbXTtcclxuXHRcdFx0XHQvLyBjb2xsYXBzZSBlbXB0eSBlbGVtZW50cyB3aXRoaW4gYXJyYXlcclxuXHRcdFx0XHRmb3IgKHZhciBpPTAsIGw9di5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmICghdltpXS5sZW5ndGggJiYgKCFzZWdtZW50cy5sZW5ndGggfHwgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSkge1xyXG5cdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoc2VnbWVudHMubGVuZ3RoICYmICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRzZWdtZW50cy5wb3AoKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRzZWdtZW50cy5wdXNoKHRyaW1TbGFzaGVzKHZbaV0pKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAodiB8fCB0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHR2ID0gdHJpbVNsYXNoZXModik7XHJcblx0XHRcdFx0aWYgKHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPT09ICcnKSB7XHJcblx0XHRcdFx0XHQvLyBlbXB0eSB0cmFpbGluZyBlbGVtZW50cyBoYXZlIHRvIGJlIG92ZXJ3cml0dGVuXHJcblx0XHRcdFx0XHQvLyB0byBwcmV2ZW50IHJlc3VsdHMgc3VjaCBhcyAvZm9vLy9iYXJcclxuXHRcdFx0XHRcdHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPSB2O1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRzZWdtZW50cy5wdXNoKHYpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKHYpIHtcclxuXHRcdFx0XHRzZWdtZW50c1tzZWdtZW50XSA9IHRyaW1TbGFzaGVzKHYpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNlZ21lbnRzLnNwbGljZShzZWdtZW50LCAxKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChhYnNvbHV0ZSkge1xyXG5cdFx0XHRzZWdtZW50cy51bnNoaWZ0KCcnKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5wYXRoKHNlZ21lbnRzLmpvaW4oc2VwYXJhdG9yKSwgYnVpbGQpO1xyXG5cdH07XHJcblx0cC5zZWdtZW50Q29kZWQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkge1xyXG5cdFx0dmFyIHNlZ21lbnRzLCBpLCBsO1xyXG5cclxuXHRcdGlmICh0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHtcclxuXHRcdFx0YnVpbGQgPSB2O1xyXG5cdFx0XHR2ID0gc2VnbWVudDtcclxuXHRcdFx0c2VnbWVudCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHNlZ21lbnRzID0gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTtcclxuXHRcdFx0aWYgKCFpc0FycmF5KHNlZ21lbnRzKSkge1xyXG5cdFx0XHRcdHNlZ21lbnRzID0gc2VnbWVudHMgIT09IHVuZGVmaW5lZCA/IFVSSS5kZWNvZGUoc2VnbWVudHMpIDogdW5kZWZpbmVkO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGZvciAoaSA9IDAsIGwgPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHRcdFx0XHRcdHNlZ21lbnRzW2ldID0gVVJJLmRlY29kZShzZWdtZW50c1tpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gc2VnbWVudHM7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc0FycmF5KHYpKSB7XHJcblx0XHRcdHYgPSAodHlwZW9mIHYgPT09ICdzdHJpbmcnIHx8IHYgaW5zdGFuY2VvZiBTdHJpbmcpID8gVVJJLmVuY29kZSh2KSA6IHY7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBsID0gdi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHRcdFx0XHR2W2ldID0gVVJJLmVuY29kZSh2W2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpO1xyXG5cdH07XHJcblxyXG5cdC8vIG11dGF0aW5nIHF1ZXJ5IHN0cmluZ1xyXG5cdHZhciBxID0gcC5xdWVyeTtcclxuXHRwLnF1ZXJ5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdGlmICh2ID09PSB0cnVlKSB7XHJcblx0XHRcdHJldHVybiBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XHJcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gdi5jYWxsKHRoaXMsIGRhdGEpO1xyXG5cdFx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHJlc3VsdCB8fCBkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xyXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSBlbHNlIGlmICh2ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkodiwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBxLmNhbGwodGhpcywgdiwgYnVpbGQpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0cC5zZXRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkge1xyXG5cdFx0dmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XHJcblxyXG5cdFx0aWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyB8fCBuYW1lIGluc3RhbmNlb2YgU3RyaW5nKSB7XHJcblx0XHRcdGRhdGFbbmFtZV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBudWxsO1xyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIG5hbWUpIHtcclxuXHRcdFx0XHRpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkge1xyXG5cdFx0XHRcdFx0ZGF0YVtrZXldID0gbmFtZVtrZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XHJcblx0XHRpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdGJ1aWxkID0gdmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHRwLmFkZFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7XHJcblx0XHR2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcclxuXHRcdFVSSS5hZGRRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlKTtcclxuXHRcdHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcclxuXHRcdGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0YnVpbGQgPSB2YWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cdHAucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHtcclxuXHRcdHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xyXG5cdFx0VVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlKTtcclxuXHRcdHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcclxuXHRcdGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0YnVpbGQgPSB2YWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cdHAuaGFzUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHtcclxuXHRcdHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xyXG5cdFx0cmV0dXJuIFVSSS5oYXNRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpO1xyXG5cdH07XHJcblx0cC5zZXRTZWFyY2ggPSBwLnNldFF1ZXJ5O1xyXG5cdHAuYWRkU2VhcmNoID0gcC5hZGRRdWVyeTtcclxuXHRwLnJlbW92ZVNlYXJjaCA9IHAucmVtb3ZlUXVlcnk7XHJcblx0cC5oYXNTZWFyY2ggPSBwLmhhc1F1ZXJ5O1xyXG5cclxuXHQvLyBzYW5pdGl6aW5nIFVSTHNcclxuXHRwLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xyXG5cdFx0XHRyZXR1cm4gdGhpc1xyXG5cdFx0XHRcdC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSlcclxuXHRcdFx0XHQubm9ybWFsaXplUGF0aChmYWxzZSlcclxuXHRcdFx0XHQubm9ybWFsaXplUXVlcnkoZmFsc2UpXHJcblx0XHRcdFx0Lm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKVxyXG5cdFx0XHRcdC5idWlsZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzXHJcblx0XHRcdC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSlcclxuXHRcdFx0Lm5vcm1hbGl6ZUhvc3RuYW1lKGZhbHNlKVxyXG5cdFx0XHQubm9ybWFsaXplUG9ydChmYWxzZSlcclxuXHRcdFx0Lm5vcm1hbGl6ZVBhdGgoZmFsc2UpXHJcblx0XHRcdC5ub3JtYWxpemVRdWVyeShmYWxzZSlcclxuXHRcdFx0Lm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKVxyXG5cdFx0XHQuYnVpbGQoKTtcclxuXHR9O1xyXG5cdHAubm9ybWFsaXplUHJvdG9jb2wgPSBmdW5jdGlvbihidWlsZCkge1xyXG5cdFx0aWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0dGhpcy5fcGFydHMucHJvdG9jb2wgPSB0aGlzLl9wYXJ0cy5wcm90b2NvbC50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHRwLm5vcm1hbGl6ZUhvc3RuYW1lID0gZnVuY3Rpb24oYnVpbGQpIHtcclxuXHRcdGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkge1xyXG5cdFx0XHRpZiAodGhpcy5pcygnSUROJykgJiYgcHVueWNvZGUpIHtcclxuXHRcdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuaXMoJ0lQdjYnKSAmJiBJUHY2KSB7XHJcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSBJUHY2LmJlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cdHAubm9ybWFsaXplUG9ydCA9IGZ1bmN0aW9uKGJ1aWxkKSB7XHJcblx0XHQvLyByZW1vdmUgcG9ydCBvZiBpdCdzIHRoZSBwcm90b2NvbCdzIGRlZmF1bHRcclxuXHRcdGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnICYmIHRoaXMuX3BhcnRzLnBvcnQgPT09IFVSSS5kZWZhdWx0UG9ydHNbdGhpcy5fcGFydHMucHJvdG9jb2xdKSB7XHJcblx0XHRcdHRoaXMuX3BhcnRzLnBvcnQgPSBudWxsO1xyXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHRwLm5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihidWlsZCkge1xyXG5cdFx0dmFyIF9wYXRoID0gdGhpcy5fcGFydHMucGF0aDtcclxuXHRcdGlmICghX3BhdGgpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xyXG5cdFx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gVVJJLnJlY29kZVVyblBhdGgodGhpcy5fcGFydHMucGF0aCk7XHJcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykge1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgX3dhc19yZWxhdGl2ZTtcclxuXHRcdHZhciBfbGVhZGluZ1BhcmVudHMgPSAnJztcclxuXHRcdHZhciBfcGFyZW50LCBfcG9zO1xyXG5cclxuXHRcdC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRoc1xyXG5cdFx0aWYgKF9wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XHJcblx0XHRcdF93YXNfcmVsYXRpdmUgPSB0cnVlO1xyXG5cdFx0XHRfcGF0aCA9ICcvJyArIF9wYXRoO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGhhbmRsZSByZWxhdGl2ZSBmaWxlcyAoYXMgb3Bwb3NlZCB0byBkaXJlY3RvcmllcylcclxuXHRcdGlmIChfcGF0aC5zbGljZSgtMykgPT09ICcvLi4nIHx8IF9wYXRoLnNsaWNlKC0yKSA9PT0gJy8uJykge1xyXG5cdFx0XHRfcGF0aCArPSAnLyc7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gcmVzb2x2ZSBzaW1wbGVzXHJcblx0XHRfcGF0aCA9IF9wYXRoXHJcblx0XHRcdC5yZXBsYWNlKC8oXFwvKFxcLlxcLykrKXwoXFwvXFwuJCkvZywgJy8nKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwvezIsfS9nLCAnLycpO1xyXG5cclxuXHRcdC8vIHJlbWVtYmVyIGxlYWRpbmcgcGFyZW50c1xyXG5cdFx0aWYgKF93YXNfcmVsYXRpdmUpIHtcclxuXHRcdFx0X2xlYWRpbmdQYXJlbnRzID0gX3BhdGguc3Vic3RyaW5nKDEpLm1hdGNoKC9eKFxcLlxcLlxcLykrLykgfHwgJyc7XHJcblx0XHRcdGlmIChfbGVhZGluZ1BhcmVudHMpIHtcclxuXHRcdFx0XHRfbGVhZGluZ1BhcmVudHMgPSBfbGVhZGluZ1BhcmVudHNbMF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyByZXNvbHZlIHBhcmVudHNcclxuXHRcdHdoaWxlICh0cnVlKSB7XHJcblx0XHRcdF9wYXJlbnQgPSBfcGF0aC5pbmRleE9mKCcvLi4nKTtcclxuXHRcdFx0aWYgKF9wYXJlbnQgPT09IC0xKSB7XHJcblx0XHRcdFx0Ly8gbm8gbW9yZSAuLi8gdG8gcmVzb2x2ZVxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9IGVsc2UgaWYgKF9wYXJlbnQgPT09IDApIHtcclxuXHRcdFx0XHQvLyB0b3AgbGV2ZWwgY2Fubm90IGJlIHJlbGF0aXZlLCBza2lwIGl0XHJcblx0XHRcdFx0X3BhdGggPSBfcGF0aC5zdWJzdHJpbmcoMyk7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdF9wb3MgPSBfcGF0aC5zdWJzdHJpbmcoMCwgX3BhcmVudCkubGFzdEluZGV4T2YoJy8nKTtcclxuXHRcdFx0aWYgKF9wb3MgPT09IC0xKSB7XHJcblx0XHRcdFx0X3BvcyA9IF9wYXJlbnQ7XHJcblx0XHRcdH1cclxuXHRcdFx0X3BhdGggPSBfcGF0aC5zdWJzdHJpbmcoMCwgX3BvcykgKyBfcGF0aC5zdWJzdHJpbmcoX3BhcmVudCArIDMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHJldmVydCB0byByZWxhdGl2ZVxyXG5cdFx0aWYgKF93YXNfcmVsYXRpdmUgJiYgdGhpcy5pcygncmVsYXRpdmUnKSkge1xyXG5cdFx0XHRfcGF0aCA9IF9sZWFkaW5nUGFyZW50cyArIF9wYXRoLnN1YnN0cmluZygxKTtcclxuXHRcdH1cclxuXHJcblx0XHRfcGF0aCA9IFVSSS5yZWNvZGVQYXRoKF9wYXRoKTtcclxuXHRcdHRoaXMuX3BhcnRzLnBhdGggPSBfcGF0aDtcclxuXHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblx0cC5ub3JtYWxpemVQYXRobmFtZSA9IHAubm9ybWFsaXplUGF0aDtcclxuXHRwLm5vcm1hbGl6ZVF1ZXJ5ID0gZnVuY3Rpb24oYnVpbGQpIHtcclxuXHRcdGlmICh0eXBlb2YgdGhpcy5fcGFydHMucXVlcnkgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdGlmICghdGhpcy5fcGFydHMucXVlcnkubGVuZ3RoKSB7XHJcblx0XHRcdFx0dGhpcy5fcGFydHMucXVlcnkgPSBudWxsO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMucXVlcnkoVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblx0cC5ub3JtYWxpemVGcmFnbWVudCA9IGZ1bmN0aW9uKGJ1aWxkKSB7XHJcblx0XHRpZiAoIXRoaXMuX3BhcnRzLmZyYWdtZW50KSB7XHJcblx0XHRcdHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gbnVsbDtcclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblx0cC5ub3JtYWxpemVTZWFyY2ggPSBwLm5vcm1hbGl6ZVF1ZXJ5O1xyXG5cdHAubm9ybWFsaXplSGFzaCA9IHAubm9ybWFsaXplRnJhZ21lbnQ7XHJcblxyXG5cdHAuaXNvODg1OSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gZXhwZWN0IHVuaWNvZGUgaW5wdXQsIGlzbzg4NTkgb3V0cHV0XHJcblx0XHR2YXIgZSA9IFVSSS5lbmNvZGU7XHJcblx0XHR2YXIgZCA9IFVSSS5kZWNvZGU7XHJcblxyXG5cdFx0VVJJLmVuY29kZSA9IGVzY2FwZTtcclxuXHRcdFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7XHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLm5vcm1hbGl6ZSgpO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0VVJJLmVuY29kZSA9IGU7XHJcblx0XHRcdFVSSS5kZWNvZGUgPSBkO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHJcblx0cC51bmljb2RlID0gZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBleHBlY3QgaXNvODg1OSBpbnB1dCwgdW5pY29kZSBvdXRwdXRcclxuXHRcdHZhciBlID0gVVJJLmVuY29kZTtcclxuXHRcdHZhciBkID0gVVJJLmRlY29kZTtcclxuXHJcblx0XHRVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50O1xyXG5cdFx0VVJJLmRlY29kZSA9IHVuZXNjYXBlO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy5ub3JtYWxpemUoKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdFVSSS5lbmNvZGUgPSBlO1xyXG5cdFx0XHRVUkkuZGVjb2RlID0gZDtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdHAucmVhZGFibGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciB1cmkgPSB0aGlzLmNsb25lKCk7XHJcblx0XHQvLyByZW1vdmluZyB1c2VybmFtZSwgcGFzc3dvcmQsIGJlY2F1c2UgdGhleSBzaG91bGRuJ3QgYmUgZGlzcGxheWVkIGFjY29yZGluZyB0byBSRkMgMzk4NlxyXG5cdFx0dXJpLnVzZXJuYW1lKCcnKS5wYXNzd29yZCgnJykubm9ybWFsaXplKCk7XHJcblx0XHR2YXIgdCA9ICcnO1xyXG5cdFx0aWYgKHVyaS5fcGFydHMucHJvdG9jb2wpIHtcclxuXHRcdFx0dCArPSB1cmkuX3BhcnRzLnByb3RvY29sICsgJzovLyc7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHVyaS5fcGFydHMuaG9zdG5hbWUpIHtcclxuXHRcdFx0aWYgKHVyaS5pcygncHVueWNvZGUnKSAmJiBwdW55Y29kZSkge1xyXG5cdFx0XHRcdHQgKz0gcHVueWNvZGUudG9Vbmljb2RlKHVyaS5fcGFydHMuaG9zdG5hbWUpO1xyXG5cdFx0XHRcdGlmICh1cmkuX3BhcnRzLnBvcnQpIHtcclxuXHRcdFx0XHRcdHQgKz0gJzonICsgdXJpLl9wYXJ0cy5wb3J0O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0ICs9IHVyaS5ob3N0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSAmJiB1cmkuX3BhcnRzLnBhdGggJiYgdXJpLl9wYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XHJcblx0XHRcdHQgKz0gJy8nO1xyXG5cdFx0fVxyXG5cclxuXHRcdHQgKz0gdXJpLnBhdGgodHJ1ZSk7XHJcblx0XHRpZiAodXJpLl9wYXJ0cy5xdWVyeSkge1xyXG5cdFx0XHR2YXIgcSA9ICcnO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgcXAgPSB1cmkuX3BhcnRzLnF1ZXJ5LnNwbGl0KCcmJyksIGwgPSBxcC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHRcdFx0XHR2YXIga3YgPSAocXBbaV0gfHwgJycpLnNwbGl0KCc9Jyk7XHJcblx0XHRcdFx0cSArPSAnJicgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMF0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpXHJcblx0XHRcdFx0XHQucmVwbGFjZSgvJi9nLCAnJTI2Jyk7XHJcblxyXG5cdFx0XHRcdGlmIChrdlsxXSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRxICs9ICc9JyArIFVSSS5kZWNvZGVRdWVyeShrdlsxXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSlcclxuXHRcdFx0XHRcdFx0LnJlcGxhY2UoLyYvZywgJyUyNicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR0ICs9ICc/JyArIHEuc3Vic3RyaW5nKDEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHQgKz0gVVJJLmRlY29kZVF1ZXJ5KHVyaS5oYXNoKCksIHRydWUpO1xyXG5cdFx0cmV0dXJuIHQ7XHJcblx0fTtcclxuXHJcblx0Ly8gcmVzb2x2aW5nIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBVUkxzXHJcblx0cC5hYnNvbHV0ZVRvID0gZnVuY3Rpb24oYmFzZSkge1xyXG5cdFx0dmFyIHJlc29sdmVkID0gdGhpcy5jbG9uZSgpO1xyXG5cdFx0dmFyIHByb3BlcnRpZXMgPSBbJ3Byb3RvY29sJywgJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJywgJ2hvc3RuYW1lJywgJ3BvcnQnXTtcclxuXHRcdHZhciBiYXNlZGlyLCBpLCBwO1xyXG5cclxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghKGJhc2UgaW5zdGFuY2VvZiBVUkkpKSB7XHJcblx0XHRcdGJhc2UgPSBuZXcgVVJJKGJhc2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sKSB7XHJcblx0XHRcdHJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCA9IGJhc2UuX3BhcnRzLnByb3RvY29sO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkge1xyXG5cdFx0XHRyZXR1cm4gcmVzb2x2ZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChpID0gMDsgKHAgPSBwcm9wZXJ0aWVzW2ldKTsgaSsrKSB7XHJcblx0XHRcdHJlc29sdmVkLl9wYXJ0c1twXSA9IGJhc2UuX3BhcnRzW3BdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghcmVzb2x2ZWQuX3BhcnRzLnBhdGgpIHtcclxuXHRcdFx0cmVzb2x2ZWQuX3BhcnRzLnBhdGggPSBiYXNlLl9wYXJ0cy5wYXRoO1xyXG5cdFx0XHRpZiAoIXJlc29sdmVkLl9wYXJ0cy5xdWVyeSkge1xyXG5cdFx0XHRcdHJlc29sdmVkLl9wYXJ0cy5xdWVyeSA9IGJhc2UuX3BhcnRzLnF1ZXJ5O1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKHJlc29sdmVkLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygtMikgPT09ICcuLicpIHtcclxuXHRcdFx0cmVzb2x2ZWQuX3BhcnRzLnBhdGggKz0gJy8nO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZXNvbHZlZC5wYXRoKCkuY2hhckF0KDApICE9PSAnLycpIHtcclxuXHRcdFx0YmFzZWRpciA9IGJhc2UuZGlyZWN0b3J5KCk7XHJcblx0XHRcdGJhc2VkaXIgPSBiYXNlZGlyID8gYmFzZWRpciA6IGJhc2UucGF0aCgpLmluZGV4T2YoJy8nKSA9PT0gMCA/ICcvJyA6ICcnO1xyXG5cdFx0XHRyZXNvbHZlZC5fcGFydHMucGF0aCA9IChiYXNlZGlyID8gKGJhc2VkaXIgKyAnLycpIDogJycpICsgcmVzb2x2ZWQuX3BhcnRzLnBhdGg7XHJcblx0XHRcdHJlc29sdmVkLm5vcm1hbGl6ZVBhdGgoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXNvbHZlZC5idWlsZCgpO1xyXG5cdFx0cmV0dXJuIHJlc29sdmVkO1xyXG5cdH07XHJcblx0cC5yZWxhdGl2ZVRvID0gZnVuY3Rpb24oYmFzZSkge1xyXG5cdFx0dmFyIHJlbGF0aXZlID0gdGhpcy5jbG9uZSgpLm5vcm1hbGl6ZSgpO1xyXG5cdFx0dmFyIHJlbGF0aXZlUGFydHMsIGJhc2VQYXJ0cywgY29tbW9uLCByZWxhdGl2ZVBhdGgsIGJhc2VQYXRoO1xyXG5cclxuXHRcdGlmIChyZWxhdGl2ZS5fcGFydHMudXJuKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTtcclxuXHRcdH1cclxuXHJcblx0XHRiYXNlID0gbmV3IFVSSShiYXNlKS5ub3JtYWxpemUoKTtcclxuXHRcdHJlbGF0aXZlUGFydHMgPSByZWxhdGl2ZS5fcGFydHM7XHJcblx0XHRiYXNlUGFydHMgPSBiYXNlLl9wYXJ0cztcclxuXHRcdHJlbGF0aXZlUGF0aCA9IHJlbGF0aXZlLnBhdGgoKTtcclxuXHRcdGJhc2VQYXRoID0gYmFzZS5wYXRoKCk7XHJcblxyXG5cdFx0aWYgKHJlbGF0aXZlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VSSSBpcyBhbHJlYWR5IHJlbGF0aXZlJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGJhc2VQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBhIFVSSSByZWxhdGl2ZSB0byBhbm90aGVyIHJlbGF0aXZlIFVSSScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sID09PSBiYXNlUGFydHMucHJvdG9jb2wpIHtcclxuXHRcdFx0cmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IGJhc2VQYXJ0cy51c2VybmFtZSB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBiYXNlUGFydHMucGFzc3dvcmQpIHtcclxuXHRcdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBudWxsKSB7XHJcblx0XHRcdHJldHVybiByZWxhdGl2ZS5idWlsZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID09PSBiYXNlUGFydHMuaG9zdG5hbWUgJiYgcmVsYXRpdmVQYXJ0cy5wb3J0ID09PSBiYXNlUGFydHMucG9ydCkge1xyXG5cdFx0XHRyZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID0gbnVsbDtcclxuXHRcdFx0cmVsYXRpdmVQYXJ0cy5wb3J0ID0gbnVsbDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiByZWxhdGl2ZS5idWlsZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZWxhdGl2ZVBhdGggPT09IGJhc2VQYXRoKSB7XHJcblx0XHRcdHJlbGF0aXZlUGFydHMucGF0aCA9ICcnO1xyXG5cdFx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBkZXRlcm1pbmUgY29tbW9uIHN1YiBwYXRoXHJcblx0XHRjb21tb24gPSBVUkkuY29tbW9uUGF0aChyZWxhdGl2ZVBhdGgsIGJhc2VQYXRoKTtcclxuXHJcblx0XHQvLyBJZiB0aGUgcGF0aHMgaGF2ZSBub3RoaW5nIGluIGNvbW1vbiwgcmV0dXJuIGEgcmVsYXRpdmUgVVJMIHdpdGggdGhlIGFic29sdXRlIHBhdGguXHJcblx0XHRpZiAoIWNvbW1vbikge1xyXG5cdFx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgcGFyZW50cyA9IGJhc2VQYXJ0cy5wYXRoXHJcblx0XHRcdC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aClcclxuXHRcdFx0LnJlcGxhY2UoL1teXFwvXSokLywgJycpXHJcblx0XHRcdC5yZXBsYWNlKC8uKj9cXC8vZywgJy4uLycpO1xyXG5cclxuXHRcdHJlbGF0aXZlUGFydHMucGF0aCA9IChwYXJlbnRzICsgcmVsYXRpdmVQYXJ0cy5wYXRoLnN1YnN0cmluZyhjb21tb24ubGVuZ3RoKSkgfHwgJy4vJztcclxuXHJcblx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcclxuXHR9O1xyXG5cclxuXHQvLyBjb21wYXJpbmcgVVJJc1xyXG5cdHAuZXF1YWxzID0gZnVuY3Rpb24odXJpKSB7XHJcblx0XHR2YXIgb25lID0gdGhpcy5jbG9uZSgpO1xyXG5cdFx0dmFyIHR3byA9IG5ldyBVUkkodXJpKTtcclxuXHRcdHZhciBvbmVfbWFwID0ge307XHJcblx0XHR2YXIgdHdvX21hcCA9IHt9O1xyXG5cdFx0dmFyIGNoZWNrZWQgPSB7fTtcclxuXHRcdHZhciBvbmVfcXVlcnksIHR3b19xdWVyeSwga2V5O1xyXG5cclxuXHRcdG9uZS5ub3JtYWxpemUoKTtcclxuXHRcdHR3by5ub3JtYWxpemUoKTtcclxuXHJcblx0XHQvLyBleGFjdCBtYXRjaFxyXG5cdFx0aWYgKG9uZS50b1N0cmluZygpID09PSB0d28udG9TdHJpbmcoKSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBleHRyYWN0IHF1ZXJ5IHN0cmluZ1xyXG5cdFx0b25lX3F1ZXJ5ID0gb25lLnF1ZXJ5KCk7XHJcblx0XHR0d29fcXVlcnkgPSB0d28ucXVlcnkoKTtcclxuXHRcdG9uZS5xdWVyeSgnJyk7XHJcblx0XHR0d28ucXVlcnkoJycpO1xyXG5cclxuXHRcdC8vIGRlZmluaXRlbHkgbm90IGVxdWFsIGlmIG5vdCBldmVuIG5vbi1xdWVyeSBwYXJ0cyBtYXRjaFxyXG5cdFx0aWYgKG9uZS50b1N0cmluZygpICE9PSB0d28udG9TdHJpbmcoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gcXVlcnkgcGFyYW1ldGVycyBoYXZlIHRoZSBzYW1lIGxlbmd0aCwgZXZlbiBpZiB0aGV5J3JlIHBlcm11dGVkXHJcblx0XHRpZiAob25lX3F1ZXJ5Lmxlbmd0aCAhPT0gdHdvX3F1ZXJ5Lmxlbmd0aCkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0b25lX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KG9uZV9xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XHJcblx0XHR0d29fbWFwID0gVVJJLnBhcnNlUXVlcnkodHdvX3F1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcclxuXHJcblx0XHRmb3IgKGtleSBpbiBvbmVfbWFwKSB7XHJcblx0XHRcdGlmIChoYXNPd24uY2FsbChvbmVfbWFwLCBrZXkpKSB7XHJcblx0XHRcdFx0aWYgKCFpc0FycmF5KG9uZV9tYXBba2V5XSkpIHtcclxuXHRcdFx0XHRcdGlmIChvbmVfbWFwW2tleV0gIT09IHR3b19tYXBba2V5XSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmICghYXJyYXlzRXF1YWwob25lX21hcFtrZXldLCB0d29fbWFwW2tleV0pKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjaGVja2VkW2tleV0gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChrZXkgaW4gdHdvX21hcCkge1xyXG5cdFx0XHRpZiAoaGFzT3duLmNhbGwodHdvX21hcCwga2V5KSkge1xyXG5cdFx0XHRcdGlmICghY2hlY2tlZFtrZXldKSB7XHJcblx0XHRcdFx0XHQvLyB0d28gY29udGFpbnMgYSBwYXJhbWV0ZXIgbm90IHByZXNlbnQgaW4gb25lXHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fTtcclxuXHJcblx0Ly8gc3RhdGVcclxuXHRwLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZ1bmN0aW9uKHYpIHtcclxuXHRcdHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9ICEhdjtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdHAuZXNjYXBlUXVlcnlTcGFjZSA9IGZ1bmN0aW9uKHYpIHtcclxuXHRcdHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UgPSAhIXY7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gVVJJO1xyXG59KSk7IiwiV29ya2Zsb3cgPSB7fVxyXG5cclxuQEltYWdlU2lnbiA9IHt9O1xyXG5cclxuQFRyYWNlc0hhbmRsZXIgPSB7fTtcclxuXHJcbkBUcmFjZXNUZW1wbGF0ZSA9IHt9O1xyXG5cclxuQEluc3RhbmNlZm9ybVRlbXBsYXRlID0ge307XHJcblxyXG5ASW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUgPSB7fTtcclxuXHJcbkBJbnN0YW5jZVNpZ25UZXh0ID0ge31cclxuXHJcbkBSZWxhdGVkSW5zdGFuY2VzID0ge31cclxuXHJcbkBSZWxhdGVkUmVjb3JkcyA9IHt9XHJcblxyXG5ASW5zdGFuY2VNYWNybyA9IHtjb250ZXh0OiB7fX1cclxuXHJcbkBUcmFjZXNNYW5hZ2VyID0ge307XHJcblxyXG5JbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nID0gKGZpZWxkX2Zvcm11bGEpLT5cclxuXHRyZXR1cm4gKGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3lpamlhbmxhbjpcIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie1xcXCJ5aWppYW5sYW5cXFwiOlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7J3lpamlhbmxhbic6XCIpID4gLTEpXHJcblxyXG5JbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkID0gKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxyXG5cdGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XHJcblxyXG5cdF9mb3JtX3ZlcnNpb24gPSB7fVxyXG5cclxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdF9mb3JtX3ZlcnNpb24gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGRiLmZvcm1zLmZpbmRPbmUoe19pZDogZm9ybX0pLCBmb3JtX3ZlcnNpb24pXHJcblx0ZWxzZVxyXG5cdFx0X2Zvcm1fdmVyc2lvbiA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7X2lkOiBmb3JtX3ZlcnNpb24sIGZvcm06IGZvcm19KVxyXG5cclxuXHRmaWVsZHMgPSBfZm9ybV92ZXJzaW9uPy5maWVsZHMgfHwgW11cclxuXHJcblx0ZmllbGRzLmZvckVhY2ggKGYpLT5cclxuXHRcdGlmIGYudHlwZSA9PSAndGFibGUnXHJcblx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcclxuXHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xyXG5cdFx0XHRmPy5maWVsZHM/LmZvckVhY2ggKGYxKS0+XHJcblx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmMS5mb3JtdWxhXHJcblx0XHRlbHNlXHJcblx0XHRcdGZpZWxkX2Zvcm11bGFzLnB1c2ggZi5mb3JtdWxhXHJcblxyXG5cdF8uc29tZSBmaWVsZF9mb3JtdWxhcywgKGZpZWxkX2Zvcm11bGEpLT5cclxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXHJcblxyXG4iLCIgICAgICAgICAgICAgXG5cbldvcmtmbG93ID0ge307XG5cbnRoaXMuSW1hZ2VTaWduID0ge307XG5cbnRoaXMuVHJhY2VzSGFuZGxlciA9IHt9O1xuXG50aGlzLlRyYWNlc1RlbXBsYXRlID0ge307XG5cbnRoaXMuSW5zdGFuY2Vmb3JtVGVtcGxhdGUgPSB7fTtcblxudGhpcy5JbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZSA9IHt9O1xuXG50aGlzLkluc3RhbmNlU2lnblRleHQgPSB7fTtcblxudGhpcy5SZWxhdGVkSW5zdGFuY2VzID0ge307XG5cbnRoaXMuUmVsYXRlZFJlY29yZHMgPSB7fTtcblxudGhpcy5JbnN0YW5jZU1hY3JvID0ge1xuICBjb250ZXh0OiB7fVxufTtcblxudGhpcy5UcmFjZXNNYW5hZ2VyID0ge307XG5cbkluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcgPSBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gIHJldHVybiAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3lpamlhbmxhbjpcIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntcXFwieWlqaWFubGFuXFxcIjpcIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInsneWlqaWFubGFuJzpcIikgOiB2b2lkIDApID4gLTE7XG59O1xuXG5JbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkID0gZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gIHZhciBfZm9ybV92ZXJzaW9uLCBmaWVsZF9mb3JtdWxhcywgZmllbGRzO1xuICBmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuICBfZm9ybV92ZXJzaW9uID0ge307XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBfZm9ybV92ZXJzaW9uID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybVxuICAgIH0pLCBmb3JtX3ZlcnNpb24pO1xuICB9IGVsc2Uge1xuICAgIF9mb3JtX3ZlcnNpb24gPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmb3JtX3ZlcnNpb24sXG4gICAgICBmb3JtOiBmb3JtXG4gICAgfSk7XG4gIH1cbiAgZmllbGRzID0gKF9mb3JtX3ZlcnNpb24gIT0gbnVsbCA/IF9mb3JtX3ZlcnNpb24uZmllbGRzIDogdm9pZCAwKSB8fCBbXTtcbiAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgIHZhciByZWY7XG4gICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZScpO1xuICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmMS5mb3JtdWxhKTtcbiAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmLmZvcm11bGEpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfLnNvbWUoZmllbGRfZm9ybXVsYXMsIGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgfSk7XG59O1xuIiwiZGIuYXV0aF90b2tlbnMgPSBuZXcgTWV0ZW9yLkNvbGxlY3Rpb24oJ2F1dGhfdG9rZW5zJykiLCJJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUgPSB7fTtcclxuXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiXCJcIlxyXG5cdDx0cj5cclxuXHRcdDx0ZCBjbGFzcz1cImlucy1hdHRhY2gtdmlld1wiPlxyXG5cdFx0XHQ8YSBocmVmPVwie3tpbnNfYXR0YWNoX2Rvd25sb2FkX3VybCBfaWQgYWJzb2x1dGV9fVwiIGNsYXNzPVwiaW5zX2F0dGFjaF9ocmVmXCIgdGFyZ2V0PVwiX3BhcmVudFwiIGRhdGEtbmFtZT1cInt7dGhpcy5uYW1lfX1cIiBkYXRhLXR5cGU9XCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XCIgZGF0YS1pZD1cInt7X2lkfX1cIj57e3RoaXMubmFtZX19PC9hPlxyXG5cdFx0PC90ZD5cclxuXHQ8L3RyPlxyXG5cIlwiXCJcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZlNlbGVjdFVzZXJSZWFkID0gXCJcIlwiXHJcblx0PGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XHJcblwiXCJcIlxyXG5cclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cFJlYWQgPSBcIlwiXCJcclxuXHQ8ZGl2IGNsYXNzPSdmb3JtLWdyb3VwJz5cclxuXHRcdHt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cclxuXHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlY3Rpb24nfX1cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxyXG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3RhYmxlJ319XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXCI+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCIgc3R5bGU9XCJwYWRkaW5nOjBweDtcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiID5cclxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJyZWFkb25seS10YWJsZVwiIHN0eWxlPVwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cInt7dGhpcy5jb2RlfX1UYWJsZVwiIG5hbWU9XCJ7e3RoaXMuY29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3t0aGlzLm5hbWV9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0aGVhZCBpZD1cInt7dGhpcy5uYW1lfX1UaGVhZFwiIG5hbWU9XCJ7e3RoaXMubmFtZX19VGhlYWRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVwie3t0aGlzLm5hbWV9fVRib2R5XCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UYm9keVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RhYmxlPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxyXG5cdFx0XHRcdFx0XHQ8bGFiZWw+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cclxuXHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdHt7L2lmfX1cclxuXHRcdHt7L3dpdGh9fVxyXG5cdDwvZGl2PlxyXG5cIlwiXCJcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cCA9IFwiXCJcIlxyXG5cclxuXHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XHJcblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxyXG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcbiAgXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIiBzdHlsZT1cInBhZGRpbmc6MHB4O1wiPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImRlc2NyaXB0aW9uXCI+e3t7ZGVzY3JpcHRpb259fX08L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInJlYWRvbmx5LXRhYmxlXCIgc3R5bGU9XCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDx0YWJsZSB0eXBlPSd0YWJsZScgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcIiBzdHlsZT0nbWFyZ2luLWJvdHRvbTowcHg7JyB7e3RoaXMuYXR0c319IGlkPVwie3t0aGlzLmNvZGV9fVRhYmxlXCIgbmFtZT1cInt7dGhpcy5jb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e3RoaXMubmFtZX19XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVwie3t0aGlzLm5hbWV9fVRoZWFkXCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UaGVhZFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90aGVhZD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XCJ7e3RoaXMubmFtZX19VGJvZHlcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRib2R5XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdpbnB1dCd9fVxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiIGRhdGEtcmVxdWlyZWQ9XCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cIj5cclxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0e3sjaWYgaXNfdGV4dGFyZWF9fVxyXG5cdFx0XHRcdFx0XHRcdFx0PHRleHRhcmVhIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+PC90ZXh0YXJlYT5cclxuXHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdFx0e3sjdW5sZXNzIGlzX3RleHRhcmVhfX1cclxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcblx0XHRcdFx0XHRcdFx0e3svdW5sZXNzfX1cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbnVtYmVyJ319XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZGF0ZSd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS10eXBlPVwiZGF0ZVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZGF0ZVRpbWUnfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtdHlwZT0nZGF0ZXRpbWUnIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAncGFzc3dvcmQnfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlbGVjdCd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c2VsZWN0IG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8b3B0aW9uIHZhbHVlPVwie3t2YWx1ZX19XCI+e3tsYWJlbH19PC9vcHRpb24+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvc2VsZWN0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdyYWRpbyd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWYtcmFkaW8tZ3JvdXBcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxyXG4gICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cInJhZGlvLWlubGluZSBmaXgtaW5kZW50XCI+PGlucHV0IHR5cGU9XCJyYWRpb1wiIHZhbHVlPVwie3t2YWx1ZX19XCIgbmFtZT1cInt7Li4vY29kZX19XCIgY2xhc3M9XCJyYWRpby1pbmxpbmUgZml4LWluZGVudFwiPiB7e2xhYmVsfX08L2xhYmVsPlxyXG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cclxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdtdWx0aVNlbGVjdCd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWYtY2hlY2tib3gtZ3JvdXBcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwie3t2YWx1ZX19XCIgbmFtZT1cInt7Li4vY29kZX19XCIgY2xhc3M9XCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFwiPiB7e2xhYmVsfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd1cmwnfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ1cmxcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdlbWFpbCd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cImVtYWlsXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnY2hlY2tib3gnfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNoZWNrYm94XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwidHJ1ZVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGNsYXNzPVwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcIj48L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J3t7Z2V0Q2ZDbGFzcyB0aGlzfX0gZm9ybS1jb250cm9sJyByZWFkb25seSBkaXNhYmxlZD57e3tnZXRWYWx1ZSBjb2RlfX19PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdHt7L2lmfX1cclxuXHRcdHt7L3dpdGh9fVxyXG5cIlwiXCJcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUgPSAodGVtcGFsdGVOYW1lLCBzdGVlZG9zRGF0YSkgLT5cclxuXHR0ZW1wbGF0ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdXHJcblxyXG5cdHRlbXBsYXRlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7aXNCb2R5OiB0cnVlfSk7XHJcblxyXG5cdHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRlbXBsYXRlQ29tcGlsZWQpO1xyXG5cclxuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdID0gbmV3IEJsYXplLlRlbXBsYXRlKHRlbXBhbHRlTmFtZSwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbik7XHJcblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0ID0gKHN0ZWVkb3NEYXRhKS0+XHJcblx0aW5zdGFuY2VTaWduVGV4dEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9zaWduX3RleHQuaHRtbCcpXHJcblxyXG5cdGluc3RhbmNlU2lnblRleHRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW5zdGFuY2VTaWduVGV4dEh0bWwsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0aW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQpO1xyXG5cclxuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VTaWduVGV4dFwiLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24pO1xyXG5cdFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxyXG5cdFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuaGVscGVycyBJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnNcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24gPSAoc3RlZWRvc0RhdGEpIC0+XHJcblx0aW1hZ2VTaWduSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2ltYWdlX3NpZ24uaHRtbCcpXHJcblx0aW1hZ2VTaWduQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGltYWdlU2lnbkh0bWwsIHtpc0JvZHk6IHRydWV9KTtcclxuXHRpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW1hZ2VTaWduQ29tcGlsZWQpO1xyXG5cdFRlbXBsYXRlLmltYWdlU2lnbiA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImltYWdlU2lnblwiLCBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbik7XHJcblx0VGVtcGxhdGUuaW1hZ2VTaWduLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHRUZW1wbGF0ZS5pbWFnZVNpZ24uaGVscGVycyBJbWFnZVNpZ24uaGVscGVyc1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZVRyYWNlc0hhbmxkZXIgPSAoc3RlZWRvc0RhdGEpIC0+XHJcblx0dHJhY2VzSGFubGRlckh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfaGFuZGxlci5odG1sJylcclxuXHR0cmFjZXNIYW5sZGVyQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRyYWNlc0hhbmxkZXJIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XHJcblx0dHJhY2VzSGFubGRlclJlbmRlckZ1bmN0aW9uID0gZXZhbCh0cmFjZXNIYW5sZGVyQ29tcGlsZWQpO1xyXG5cdFRlbXBsYXRlLmluc3RhbmNlX3RyYWNlc19oYW5kbGVyID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXJcIiwgdHJhY2VzSGFubGRlclJlbmRlckZ1bmN0aW9uKTtcclxuXHRUZW1wbGF0ZS5pbnN0YW5jZV90cmFjZXNfaGFuZGxlci5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblx0VGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIuaGVscGVycyBUcmFjZXNIYW5kbGVyLmhlbHBlcnNcclxuXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdCA9IChzdGVlZG9zRGF0YSkgLT5cclxuXHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZTZWxlY3RVc2VyUmVhZFwiLCBzdGVlZG9zRGF0YSk7XHJcblxyXG5cdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwXCIsIHN0ZWVkb3NEYXRhKTtcclxuXHJcblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwUmVhZFwiLCBzdGVlZG9zRGF0YSk7XHJcblx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiaW5zdGFuY2VfYXR0YWNobWVudFwiLCB7YWJzb2x1dGU6IHN0ZWVkb3NEYXRhLmFic29sdXRlfSk7XHJcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduKHN0ZWVkb3NEYXRhKVxyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZVRyYWNlc0hhbmxkZXIoc3RlZWRvc0RhdGEpO1xyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUluc3RhbmNlU2lnblRleHQoc3RlZWRvc0RhdGEpXHJcblxyXG5nZXRMaW5rVGV4dCA9IChpdGVtLCBsYWJlbCwgZGV0YWlsX3VybCktPlxyXG5cdGlmIGRldGFpbF91cmxcclxuXHRcdGRldGFpbF91cmwgPSBkZXRhaWxfdXJsLnJlcGxhY2UoXCJ7X2lkfVwiLCBpdGVtLl9pZClcclxuXHRcdGlmICEvXmh0dHAocz8pOlxcL1xcLy8udGVzdChkZXRhaWxfdXJsKVxyXG5cdFx0XHRkZXRhaWxfdXJsID0gU3RlZWRvcy5hYnNvbHV0ZVVybChkZXRhaWxfdXJsKVxyXG5cdFx0cmV0dXJuICc8YSBocmVmPVwiJytkZXRhaWxfdXJsKydcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nK2xhYmVsKyc8L2E+JztcclxuXHRlbHNlXHJcblx0XHRyZXR1cm4gbGFiZWxcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSA9ICh2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KSAtPlxyXG5cdGlmICF2YWx1ZSAmJiB2YWx1ZSAhPSBmYWxzZVxyXG5cdFx0cmV0dXJuICcnXHJcblx0c3dpdGNoIGZpZWxkLnR5cGVcclxuXHRcdHdoZW4gJ2VtYWlsJ1xyXG5cdFx0XHR2YWx1ZSA9IGlmIHZhbHVlIHRoZW4gJzxhIGhyZWY9XFwnbWFpbHRvOicgKyB2YWx1ZSArICdcXCc+JyArIHZhbHVlICsgJzwvYT4nIGVsc2UgJydcclxuXHRcdHdoZW4gJ3VybCdcclxuXHRcdFx0aWYgdmFsdWVcclxuXHRcdFx0XHRpZiB2YWx1ZS5pbmRleE9mKFwiaHR0cFwiKSA9PSAwXHJcblx0XHRcdFx0XHR0cnlcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSBcIjxhIGhyZWY9J1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xyXG5cdFx0XHRcdFx0Y2F0Y2ggZVxyXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IFwiPGEgaHJlZj0nJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xyXG5cclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR2YWx1ZSA9IFwiPGEgaHJlZj0naHR0cDovL1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dmFsdWUgPSAnJ1xyXG5cdFx0d2hlbiAnZ3JvdXAnXHJcblx0XHRcdGlmIGZpZWxkLmlzX211bHRpc2VsZWN0XHJcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKS50b1N0cmluZygpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5mdWxsbmFtZVxyXG5cdFx0d2hlbiAndXNlcidcclxuXHRcdFx0aWYgZmllbGQuaXNfbXVsdGlzZWxlY3RcclxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8ubmFtZVxyXG5cdFx0d2hlbiAncGFzc3dvcmQnXHJcblx0XHRcdHZhbHVlID0gJyoqKioqKidcclxuXHRcdHdoZW4gJ2NoZWNrYm94J1xyXG5cdFx0XHRpZiB2YWx1ZSAmJiB2YWx1ZSAhPSAnZmFsc2UnXHJcblx0XHRcdFx0dmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIiwge30sIGxvY2FsZSlcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIiwge30sIGxvY2FsZSlcclxuXHRcdHdoZW4gJ2RhdGVUaW1lJ1xyXG5cdFx0XHRpZiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPT0gMTZcclxuXHRcdFx0XHR0ID0gdmFsdWUuc3BsaXQoXCJUXCIpXHJcblx0XHRcdFx0dDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcclxuXHRcdFx0XHR0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xyXG5cclxuXHRcdFx0XHR5ZWFyID0gdDBbMF07XHJcblx0XHRcdFx0bW9udGggPSB0MFsxXTtcclxuXHRcdFx0XHRkYXRlID0gdDBbMl07XHJcblx0XHRcdFx0aG91cnMgPSB0MVswXTtcclxuXHRcdFx0XHRzZWNvbmRzID0gdDFbMV07XHJcblxyXG5cdFx0XHRcdHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcylcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHZhbHVlID0gbmV3IERhdGUodmFsdWUpXHJcblxyXG5cdFx0XHR2YWx1ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlKHZhbHVlLCB1dGNPZmZzZXQpO1xyXG5cdFx0d2hlbiAnaW5wdXQnXHJcblx0XHRcdGlmIGZpZWxkLmlzX3RleHRhcmVhXHJcblx0XHRcdFx0dmFsdWUgPSBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bih2YWx1ZSkpXHJcblx0XHR3aGVuICdudW1iZXInXHJcblx0XHRcdGlmIHZhbHVlIG9yIHZhbHVlID09IDBcclxuXHRcdFx0XHR2YWx1ZSA9IFN0ZWVkb3MubnVtYmVyVG9TdHJpbmcgdmFsdWUsIGZpZWxkLmRpZ2l0c1xyXG5cdFx0d2hlbiAnb2RhdGEnXHJcblx0XHRcdGRldGFpbF91cmwgPSBmaWVsZC5kZXRhaWxfdXJsXHJcblx0XHRcdGlmIGZpZWxkLmlzX211bHRpc2VsZWN0XHJcblx0XHRcdFx0dmFsdWUgPSBfLm1hcCB2YWx1ZSwgKGl0ZW0pLT5cclxuXHRcdFx0XHRcdHJldHVybiBnZXRMaW5rVGV4dChpdGVtLCBpdGVtWydAbGFiZWwnXSwgZGV0YWlsX3VybClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHZhbHVlID0gZ2V0TGlua1RleHQodmFsdWUsIHZhbHVlWydAbGFiZWwnXSwgZGV0YWlsX3VybClcclxuXHRcdHdoZW4gJ2h0bWwnXHJcblx0XHRcdHZhbHVlID0gaWYgdmFsdWUgdGhlbiBcIjxkaXYgY2xhc3M9XFxcInN0ZWVkb3MtaHRtbFxcXCI+I3t2YWx1ZX08L2Rpdj5cIiBlbHNlICcnXHJcblxyXG5cdHJldHVybiB2YWx1ZTtcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCA9IChmaWVsZHMsIGNvZGUpIC0+XHJcblx0ZmllbGQgPSBmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSlcclxuXHRpZiBmaWVsZFxyXG5cdFx0aWYgZmllbGQubmFtZVxyXG5cdFx0XHRyZXR1cm4gZmllbGQubmFtZVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gZmllbGQuY29kZVxyXG5cclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uID0gKGluc3RhbmNlKS0+XHJcblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XHJcblxyXG5cdGZvcm1fdmVyc2lvbiA9IHt9XHJcblxyXG5cdGZvcm1fZmllbGRzID0gW107XHJcblxyXG5cdGlmIGZvcm0uY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZm9ybV92ZXJzaW9uXHJcblx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnRcclxuXHRlbHNlXHJcblx0XHRmb3JtX3ZlcnNpb24gPSBfLndoZXJlKGZvcm0uaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZvcm1fdmVyc2lvbn0pWzBdXHJcblxyXG5cdGZvcm1fdmVyc2lvbi5maWVsZHMuZm9yRWFjaCAoZmllbGQpLT5cclxuXHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nXHJcblx0XHRcdGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xyXG5cdFx0XHRpZiBmaWVsZC5maWVsZHNcclxuXHRcdFx0XHRmaWVsZC5maWVsZHMuZm9yRWFjaCAoZikgLT5cclxuXHRcdFx0XHRcdGZvcm1fZmllbGRzLnB1c2goZik7XHJcblx0XHRlbHNlIGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRmaWVsZFsnc2ZpZWxkcyddID0gZmllbGRbJ2ZpZWxkcyddXHJcblx0XHRcdGRlbGV0ZSBmaWVsZFsnZmllbGRzJ11cclxuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XHJcblx0XHRlbHNlXHJcblx0XHRcdGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xyXG5cclxuXHRmb3JtX3ZlcnNpb24uZmllbGRzID0gZm9ybV9maWVsZHM7XHJcblxyXG5cdHJldHVybiBmb3JtX3ZlcnNpb247XHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24gPSAoaW5zdGFuY2UpLT5cclxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcclxuXHRmbG93X3ZlcnNpb24gPSB7fVxyXG5cdGlmIGZsb3cuY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uXHJcblx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnRcclxuXHRlbHNlXHJcblx0XHRmbG93X3ZlcnNpb24gPSBfLndoZXJlKGZsb3cuaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZsb3dfdmVyc2lvbn0pWzBdXHJcblxyXG5cdHJldHVybiBmbG93X3ZlcnNpb247XHJcblxyXG5cclxuX2dldFZpZXdIdG1sID0gKHBhdGgpIC0+XHJcblx0dmlld0h0bWwgPSBBc3NldHMuZ2V0VGV4dChwYXRoKVxyXG5cclxuXHRpZiB2aWV3SHRtbFxyXG5cdFx0dmlld0h0bWwgPSB2aWV3SHRtbC5yZXBsYWNlKC88dGVtcGxhdGVbXFx3XFxzXFxcIlxcPSddKz4vaSxcIlwiKS5yZXBsYWNlKC88XFwvdGVtcGxhdGU+L2ksXCJcIilcclxuXHJcblx0cmV0dXJuIHZpZXdIdG1sO1xyXG5cclxuX2dldExvY2FsZSA9ICh1c2VyKS0+XHJcblx0aWYgdXNlcj8ubG9jYWxlPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcclxuXHRcdGxvY2FsZSA9IFwiemgtQ05cIlxyXG5cdGVsc2UgaWYgdXNlcj8ubG9jYWxlPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdlbi11cydcclxuXHRcdGxvY2FsZSA9IFwiZW5cIlxyXG5cdGVsc2VcclxuXHRcdGxvY2FsZSA9IFwiemgtQ05cIlxyXG5cdHJldHVybiBsb2NhbGVcclxuXHJcblxyXG5fZ2V0UmVxdWlyZWRGaWVsZHMgPSAoZmllbGRzLCByZXYpLT5cclxuXHRpZiAhcmV2XHJcblx0XHRyZXYgPSBbXTtcclxuXHJcblx0ZmllbGRzLmZvckVhY2ggKGZpZWxkKS0+XHJcblx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJ1xyXG5cdFx0XHRfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGQuZmllbGRzLCByZXYpXHJcblx0XHRlbHNlIGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cclxuXHRcdGVsc2VcclxuXHRcdFx0aWYgZmllbGQuaXNfcmVxdWlyZWRcclxuXHRcdFx0XHRyZXYucHVzaCBmaWVsZC5jb2RlXHJcblx0cmV0dXJuIHJldjtcclxuXHJcbl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IChmaWVsZHMsIHN0ZXBzKS0+XHJcblx0c3RhcnRTdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBfdHlwZVwiLFwic3RhcnRcIilcclxuXHJcblx0ZWRpdGFibGVDb2RlID0gW11cclxuXHJcblx0Xy5rZXlzKHN0YXJ0U3RlcC5wZXJtaXNzaW9ucykuZm9yRWFjaCAoa2V5KS0+XHJcblx0XHRpZiBzdGFydFN0ZXAucGVybWlzc2lvbnNba2V5XSA9PSAnZWRpdGFibGUnXHJcblx0XHRcdGVkaXRhYmxlQ29kZS5wdXNoIGtleVxyXG5cclxuXHRyZXR1cm4gZWRpdGFibGVDb2RlXHJcblxyXG5fZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMgPSAoZmllbGRzLCBzdGVwcyktPlxyXG5cdHJlcXVpcmVkRmllbGRzID0gX2dldFJlcXVpcmVkRmllbGRzKGZpZWxkcylcclxuXHJcblx0ZWRpdGFibGVDb2RlID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZpZWxkcywgc3RlcHMpXHJcblxyXG5cdHJldHVybiBfLmludGVyc2VjdGlvbihyZXF1aXJlZEZpZWxkcywgZWRpdGFibGVDb2RlKVxyXG5cclxuX2dldFRlbXBsYXRlRGF0YSA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cclxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdGZvcm1fdmVyc2lvbiA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKVxyXG5cdGVsc2VcclxuXHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKVxyXG5cclxuXHRsb2NhbGUgPSBfZ2V0TG9jYWxlKHVzZXIpXHJcblxyXG5cdHN0ZWVkb3NEYXRhID0ge31cclxuXHJcblx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRzdGVlZG9zRGF0YSA9IF8uY2xvbmUoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpKVxyXG5cdFx0c3RlZWRvc0RhdGEuaW5zbmFtZSA9IGluc3RhbmNlLm5hbWVcclxuXHRcdHN0ZWVkb3NEYXRhLmluc19zdGF0ZSA9IGluc3RhbmNlLnN0YXRlXHJcblx0XHRzdGVlZG9zRGF0YS5pbnNfZmluYWxfZGVjaXNpb24gPSBpbnN0YW5jZS5pbnNfZmluYWxfZGVjaXNpb25cclxuXHRcdHN0ZWVkb3NEYXRhLmluc19jb2RlID0gaW5zdGFuY2UuY29kZVxyXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2lzX2FyY2hpdmVkID0gaW5zdGFuY2UuaXNfYXJjaGl2ZWRcclxuXHRcdHN0ZWVkb3NEYXRhLmluc19pc19kZWxldGVkID0gaW5zdGFuY2UuaW5zX2lzX2RlbGV0ZWRcclxuXHRcdHN0ZWVkb3NEYXRhLmFwcGxpY2FudF9uYW1lID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWVcclxuXHRcdHN0ZWVkb3NEYXRhLmFwcGxpY2FudENvbnRleHQgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxyXG5cclxuXHRzdGVlZG9zRGF0YS5pbnN0YW5jZSA9IGluc3RhbmNlXHJcblx0c3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uID0gZm9ybV92ZXJzaW9uXHJcblx0c3RlZWRvc0RhdGEubG9jYWxlID0gbG9jYWxlXHJcblx0c3RlZWRvc0RhdGEudXRjT2Zmc2V0ID0gdXNlci51dGNPZmZzZXRcclxuXHRzdGVlZG9zRGF0YS5zcGFjZSA9IGluc3RhbmNlLnNwYWNlXHJcblx0c3RlZWRvc0RhdGEuc2Vzc2lvblVzZXJJZCA9IHVzZXIuX2lkXHJcblxyXG5cdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0aWYgb3B0aW9ucz8uZWRpdGFibGVcclxuXHRcdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZm9ybX0pXHJcblxyXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mbG93fSlcclxuXHJcblx0XHRcdHN0ZWVkb3NEYXRhLnN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZvcm0uY3VycmVudC5maWVsZHMsIGZsb3cuY3VycmVudC5zdGVwcyk7XHJcblxyXG5cdHJldHVybiBzdGVlZG9zRGF0YTtcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlID0gKGRhdGUsIHV0Y09mZnNldCktPlxyXG5cdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0cGFzc2luZyA9IGZhbHNlO1xyXG5cdGVsc2VcclxuXHRcdHBhc3NpbmcgPSB0cnVlO1xyXG5cclxuXHRpZiAhdXRjT2Zmc2V0ICYmIHV0Y09mZnNldCAhPTBcclxuXHRcdHV0Y09mZnNldCA9IDhcclxuXHJcblx0cmV0dXJuIG1vbWVudChkYXRlKS51dGNPZmZzZXQodXRjT2Zmc2V0LCBwYXNzaW5nKS5mb3JtYXQoXCJZWVlZLU1NLUREIEhIOm1tXCIpO1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cclxuXHJcblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcclxuXHJcblx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcclxuXHJcblx0aWYgb3B0aW9ucz8uYWJzb2x1dGVcclxuXHRcdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcclxuXHJcblx0aW5zdGFuY2VUZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSwgb3B0aW9ucz8udGVtcGxhdGVOYW1lKTtcclxuXHJcblx0aW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZTZWxlY3RVc2VyL2csXCJhZlNlbGVjdFVzZXJSZWFkXCIpXHJcblxyXG5cdGlmICFvcHRpb25zPy5lZGl0YWJsZVxyXG5cdFx0aW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZGb3JtR3JvdXAvZyxcImFmRm9ybUdyb3VwUmVhZFwiKVxyXG5cclxuXHRpbnN0YW5jZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVRlbXBsYXRlLCB7aXNCb2R5OiB0cnVlfSk7XHJcblxyXG5cdGluc3RhbmNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlQ29tcGlsZWQpO1xyXG5cclxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfcmVhZG9ubHlfdmlld1wiLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0VGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblxyXG5cdFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzXHJcblxyXG5cdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0KHN0ZWVkb3NEYXRhKTtcclxuXHJcblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcsIHN0ZWVkb3NEYXRhKVxyXG5cclxuXHRyZXR1cm4gXCJcIlwiXHJcblx0XHQ8ZGl2IGlkPSdpbnN0YW5jZWZvcm0nID5cclxuXHRcdFx0I3tib2R5fVxyXG5cdFx0PC9kaXY+XHJcblx0XCJcIlwiXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cclxuXHJcblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcclxuXHJcblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XHJcblx0aWYgZm9ybS5pbnN0YW5jZV9zdHlsZSA9PSBcInRhYmxlXCIgfHwgb3B0aW9ucz8udGVtcGxhdGVOYW1lID09IFwidGFibGVcIlxyXG5cdFx0dHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlc190YWJsZS5odG1sJylcclxuXHRlbHNlXHJcblx0XHR0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzLmh0bWwnKVxyXG5cclxuXHR0cmFjZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0cmFjZXNIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XHJcblxyXG5cdHRyYWNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRyYWNlQ29tcGlsZWQpO1xyXG5cclxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwidHJhY2VfcmVhZG9ubHlfdmlld1wiLCB0cmFjZVJlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0VGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblxyXG5cdFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzXHJcblxyXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LCBpbnN0YW5jZS50cmFjZXMpXHJcblxyXG5cdHJldHVybiBib2R5O1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSktPlxyXG5cclxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxyXG5cclxuXHRhdHRhY2htZW50SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX2F0dGFjaG1lbnRzLmh0bWwnKVxyXG5cclxuXHRhdHRhY2htZW50Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGF0dGFjaG1lbnRIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XHJcblxyXG5cdGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoYXR0YWNobWVudENvbXBpbGVkKTtcclxuXHJcblx0VGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXdcIiwgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0VGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblxyXG5cdFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzXHJcblxyXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3KVxyXG5cclxuXHRyZXR1cm4gYm9keTtcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cclxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxyXG5cclxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xyXG5cclxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxyXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xyXG5cclxuXHRyZWxhdGVkSW5zdGFuY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfaW5zdGFuY2VzLmh0bWwnKVxyXG5cclxuXHRyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRJbnN0YW5jZXNIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XHJcblxyXG5cdHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkKTtcclxuXHJcblx0VGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXdcIiwgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0VGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblxyXG5cdFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuaGVscGVycyBSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnNcclxuXHJcblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcsIHN0ZWVkb3NEYXRhKVxyXG5cclxuXHRyZXR1cm4gYm9keTtcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XHJcblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcclxuXHJcblx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcclxuXHJcblx0aWYgb3B0aW9ucz8uYWJzb2x1dGVcclxuXHRcdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcclxuXHJcblx0cmVsYXRlZFJlY29yZHNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9yZWNvcmRzLmh0bWwnKVxyXG5cclxuXHRyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkUmVjb3Jkc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0cmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZFJlY29yZHNDb21waWxlZCk7XHJcblxyXG5cdFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9yZWNvcmRzX3ZpZXdcIiwgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbik7XHJcblxyXG5cdFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHJcblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuaGVscGVycyBSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzXHJcblxyXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldywgc3RlZWRvc0RhdGEpXHJcblxyXG5cdHJldHVybiBib2R5O1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdCA9IChpbnN0YW5jZSktPlxyXG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXHJcblxyXG5cdGZvcm1fc2NyaXB0ID0gZm9ybV92ZXJzaW9uLmZvcm1fc2NyaXB0O1xyXG5cclxuXHRpZiBmb3JtX3NjcmlwdCAmJiBmb3JtX3NjcmlwdC5yZXBsYWNlKC9cXG4vZyxcIlwiKS5yZXBsYWNlKC9cXHMvZyxcIlwiKS5sZW5ndGggPiAwXHJcblx0XHRmb3JtX3NjcmlwdCA9IFwiQ29yZUZvcm0gPSB7fTtDb3JlRm9ybS5pbnN0YW5jZWZvcm0gPSB7fTtcIiArIGZvcm1fc2NyaXB0XHJcblx0XHRmb3JtX3NjcmlwdCArPSBcIjtpZihDb3JlRm9ybS5mb3JtX09uTG9hZCl7d2luZG93Lm9ubG9hZCA9IENvcmVGb3JtLmZvcm1fT25Mb2FkKCk7fVwiXHJcblx0ZWxzZVxyXG5cdFx0Zm9ybV9zY3JpcHQgPSBcIlwiXHJcblxyXG5cclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XHJcblxyXG5cdGJvZHkgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XHJcblxyXG5cdG9uTG9hZFNjcmlwdCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRPbkxvYWRTY3JpcHQoaW5zdGFuY2UpO1xyXG5cclxuXHRjcmVhdG9yU2VydmljZSA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMud2Vic2VydmljZXM/LmNyZWF0b3I/LnVybFxyXG5cdGluc19yZWNvcmRfaWRzID0gaW5zdGFuY2UucmVjb3JkX2lkc1xyXG5cdGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcik7XHJcblx0b3BlbkZpbGVTY3JpcHQgPSBcIlwiXCJcclxuXHRcdFx0aWYod2luZG93LmlzTm9kZSAmJiBpc05vZGUoKSl7XHJcblx0XHRcdFx0YXR0YWNocyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbnNfYXR0YWNoX2hyZWZcIik7XHJcblx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGF0dGFjaHMubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHRcdFx0YXR0YWNoID0gYXR0YWNoc1tpXTtcclxuXHRcdFx0XHRcdGF0dGFjaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XHJcblx0XHRcdFx0XHRcdGlmKGlzSW1hZ2UodGhpcy5kYXRhc2V0LnR5cGUpIHx8IGlzSHRtbCh0aGlzLmRhdGFzZXQudHlwZSkpe1xyXG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHRvcGVuV2luZG93KFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXCIgKyB0aGlzLmRhdGFzZXQuaWQpO1xyXG5cdFx0XHRcdFx0XHR9ZWxzZSBpZihud19jb3JlLmNhbk9wZW5GaWxlKHRoaXMuZGF0YXNldC5uYW1lKSl7XHJcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdG53X2NvcmUub3BlbkZpbGUodGhpcy5ocmVmLCB0aGlzLmRhdGFzZXQubmFtZSlcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgZmxvdyA9IFwiI3tpbnN0YW5jZS5mbG93fVwiO1xyXG5cdFx0XHR2YXIgc3BhY2UgPSBcIiN7aW5zdGFuY2Uuc3BhY2V9XCI7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBnZXRDb29raWUobmFtZSl7XHJcblx0XHRcdFx0bGV0IHBhdHRlcm4gPSBSZWdFeHAobmFtZSArIFwiPS5bXjtdKlwiKVxyXG5cdFx0XHRcdGxldCBtYXRjaGVkID0gZG9jdW1lbnQuY29va2llLm1hdGNoKHBhdHRlcm4pXHJcblx0XHRcdFx0aWYobWF0Y2hlZCl7XHJcblx0XHRcdFx0XHRsZXQgY29va2llID0gbWF0Y2hlZFswXS5zcGxpdCgnPScpXHJcblx0XHRcdFx0XHRyZXR1cm4gY29va2llWzFdXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiAnJ1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgcmVjb3JkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbnMtcmVsYXRlZC1yZWNvcmRzXCIpO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgcmVjb3Jkcy5sZW5ndGg7IGkrKyl7XHJcblx0XHRcdFx0XHR2YXIgcmVjb3JkID0gcmVjb3Jkc1tpXTtcclxuXHRcdFx0XHRcdHJlY29yZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XHJcblx0XHRcdFx0XHRcdHZhciBjcmVhdG9yU2VydmljZSA9IFwiI3tjcmVhdG9yU2VydmljZX1cIlxyXG5cdFx0XHRcdFx0XHR2YXIgaW5zX3JlY29yZF9pZHMgPSAje0pTT04uc3RyaW5naWZ5KGluc19yZWNvcmRfaWRzKX1cclxuXHRcdFx0XHRcdFx0aWYoY3JlYXRvclNlcnZpY2UgJiYgaW5zX3JlY29yZF9pZHMgJiYgaW5zX3JlY29yZF9pZHMubGVuZ3RoID4gMCl7XHJcblx0XHRcdFx0XHRcdFx0dmFyIG9iamNldE5hbWUgPSBpbnNfcmVjb3JkX2lkc1swXS5vXHJcblx0XHRcdFx0XHRcdFx0dmFyIGlkID0gaW5zX3JlY29yZF9pZHNbMF0uaWRzWzBdXHJcblx0XHRcdFx0XHRcdFx0dmFyIHVvYmogPSB7fTtcclxuXHRcdFx0XHRcdFx0XHR1b2JqW1wiWC1Vc2VyLUlkXCJdID0gZ2V0Q29va2llKFwiWC1Vc2VyLUlkXCIpO1xyXG5cdFx0XHRcdFx0XHRcdHVvYmpbXCJYLUF1dGgtVG9rZW5cIl0gPSBnZXRDb29raWUoXCJYLUF1dGgtVG9rZW5cIik7XHJcblx0XHRcdFx0XHRcdFx0cmVkaXJlY3RVcmwgPSBjcmVhdG9yU2VydmljZSArIFwiYXBwLy0vXCIgKyBvYmpjZXROYW1lICsgXCIvdmlldy9cIiArIGlkICsgXCI/XCIgKyAkLnBhcmFtKHVvYmopO1xyXG5cdFx0XHRcdFx0XHRcdG9wZW5XaW5kb3cocmVkaXJlY3RVcmwpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFwiXCJcIjtcclxuXHJcblxyXG5cdGlmICFTdGVlZG9zLmlzTW9iaWxlKClcclxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xyXG5cdFx0aWYgZm9ybT8uaW5zdGFuY2Vfc3R5bGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIlxyXG5cclxuXHRpZiBvcHRpb25zPy50ZW1wbGF0ZU5hbWUgPT0gJ3RhYmxlJ1xyXG5cdFx0aW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCJcclxuXHJcblx0aWYgb3B0aW9ucz8uaW5zdGFuY2Vfc3R5bGVcclxuXHRcdGluc3RhbmNlX3N0eWxlID0gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZVxyXG5cclxuXHRpZiAhb3B0aW9ucyB8fCBvcHRpb25zLnNob3dUcmFjZSA9PSB0cnVlXHJcblx0XHR0cmFjZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcclxuXHRlbHNlXHJcblx0XHR0cmFjZSA9IFwiXCJcclxuXHJcblx0aW5zdGFuY2VCb3hTdHlsZSA9IFwiXCI7XHJcblxyXG5cdGlmIGluc3RhbmNlICYmIGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uXHJcblx0XHRpZiBpbnN0YW5jZS5maW5hbF9kZWNpc2lvbiA9PSBcImFwcHJvdmVkXCJcclxuXHRcdFx0aW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LXN1Y2Nlc3NcIlxyXG5cdFx0ZWxzZSBpZiAoaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT0gXCJyZWplY3RlZFwiKVxyXG5cdFx0XHRpbnN0YW5jZUJveFN0eWxlID0gXCJib3gtZGFuZ2VyXCJcclxuXHRpZiAhb3B0aW9ucyB8fCBvcHRpb25zLnNob3dBdHRhY2htZW50cyA9PSB0cnVlXHJcblx0XHRhdHRhY2htZW50ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcclxuXHRcdHJlbGF0ZWRfaW5zdGFuY2VzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcclxuXHRcdHJlbGF0ZWRfcmVjb3JkcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxyXG5cdGVsc2VcclxuXHRcdGF0dGFjaG1lbnQgPSBcIlwiXHJcblx0XHRyZWxhdGVkX2luc3RhbmNlcyA9IFwiXCJcclxuXHRcdHJlbGF0ZWRfcmVjb3JkcyA9IFwiXCJcclxuXHJcblxyXG5cdHdpZHRoID0gXCI5NjBweFwiXHJcblx0I1x05aaC5p6c57uZdGFibGXnmoRwYXJlbnTorr7nva53aWR0aO+8jOWImeS8muWvvOiHtOmYv+mHjOS6kemCrueuseaYvuekunRhYmxlIOW8guW4uFxyXG5cdGlmIG9wdGlvbnM/LndpZHRoXHJcblx0XHR3aWR0aCA9IFwiXCJcclxuXHJcblx0Y3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcInN0ZWVkb3MtY3NzXCIpXHJcblxyXG5cdGFsbENzc0xpbmsgPSBcIlwiXCI8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgY2xhc3M9XCJfX21ldGVvci1jc3NfX1wiIGhyZWY9XCIje2Nzc0hyZWZ9XCI+XCJcIlwiXHJcblxyXG5cdHRyYWNlQ2hlY2sgPSBcIlwiXHJcblx0aWYgIV8uaXNFbXB0eSh0cmFjZSlcclxuXHRcdHRyYWNlQ2hlY2sgPSBcImNoZWNrZWRcIlxyXG5cdGlmIG9wdGlvbnM/LnRhZ2dlciA9PSAnZW1haWwnIHx8IG9wdGlvbnM/LmVkaXRhYmxlXHJcblx0XHRzaG93VHJhY2VzQnRuID0gXCJcIlxyXG5cdGVsc2VcclxuXHRcdHNob3dUcmFjZXNCdG4gPSBcIlwiXCJcclxuXHRcdFx0PGRpdiBjbGFzcz1cIm5hdmlnYXRpb24tYmFyIGJ0bi1ncm91cCBuby1wcmludFwiIHN0eWxlPVwibWluLXdpZHRoOiA2MDBweDsgei1pbmRleDogOTk5XCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInByaW50LXRvb2xcIj5cclxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNieC1sYWJlbFwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImNieC1wcmludCBjYngtcHJpbnQtYXR0YWNobWVudHNcIiBpZD1cImNieC1wcmludC1hdHRhY2htZW50c1wiIGNoZWNrZWQ9XCJjaGVja2VkXCI+PHNwYW4+I3tUQVBpMThuLl9fKCdpbnN0YW5jZV9hdHRhY2htZW50Jywge30sIGxvY2FsZSl9PC9zcGFuPjwvbGFiZWw+XHJcblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjYngtbGFiZWxcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJjYngtcHJpbnQgY2J4LXByaW50LXRyYWNlc1wiIGlkPVwiY2J4LXByaW50LXRyYWNlc1wiIGNoZWNrZWQ9XCIje3RyYWNlQ2hlY2t9XCI+PHNwYW4+I3tUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZhbF9oaXN0b3J5Jywge30sIGxvY2FsZSl9PC9zcGFuPjwvbGFiZWw+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcIlwiXCJcclxuXHJcblx0c2hvd1RyYWNlc1NjcmlwdCA9IFwiXCJcIlxyXG5cdFx0JCggZG9jdW1lbnQgKS5yZWFkeShmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIgYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtdHJhY2VzJyk7XHJcblx0XHRcdHZhciB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5zdGFuY2UtdHJhY2VzJylbMF07XHJcblx0XHRcdGlmIChiICYmIGIuY2hlY2tlZCAmJiB0KXtcclxuXHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcclxuXHRcdFx0fSBlbHNlIGlmKHQpe1xyXG5cdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXHJcblx0XHRcdH1cclxuXHRcdFx0aWYoYil7XHJcblx0XHRcdFx0Yi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0XHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcclxuXHRcdFx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0dmFyIGF0dGFjaG1lbnRzQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LWF0dGFjaG1lbnRzJyk7XHJcblx0XHRcdHZhciBhdHRhY2htZW50c1ZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhdHRhY2htZW50cy1zZWN0aW9uJylbMF07XHJcblx0XHRcdGlmIChhdHRhY2htZW50c0NoZWNrYm94ICYmIGF0dGFjaG1lbnRzQ2hlY2tib3guY2hlY2tlZCAmJiBhdHRhY2htZW50c1ZpZXcpe1xyXG5cdFx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXHJcblx0XHRcdH0gZWxzZSBpZihhdHRhY2htZW50c1ZpZXcpe1xyXG5cdFx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihhdHRhY2htZW50c0NoZWNrYm94KXtcclxuXHRcdFx0XHRhdHRhY2htZW50c0NoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xyXG5cdFx0XHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XCJcIlwiXHJcblxyXG5cdGlmIG9wdGlvbnM/LnN0eWxlc1xyXG5cdFx0YWxsQ3NzTGluayA9IFwiXCJcclxuXHJcblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZm9ybX0pO1xyXG5cdGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiXHJcblx0aWYgZm9ybVxyXG5cdFx0Zm9ybURlc2NyaXB0aW9uID0gZm9ybS5kZXNjcmlwdGlvblxyXG5cdFx0aWYgZm9ybURlc2NyaXB0aW9uXHJcblx0XHRcdGZvcm1EZXNjcmlwdGlvbiA9IGZvcm1EZXNjcmlwdGlvbi5yZXBsYWNlKC9cXG4vZyxcIjxici8+XCIpXHJcblx0XHRcdGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiXCJcclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94LWhlYWRlciAgd2l0aC1ib3JkZXIgaW5zdGFuY2UtaGVhZGVyXCI+XHJcblx0XHRcdFx0XHQ8ZGl2PlxyXG5cdFx0XHRcdFx0XHQje2Zvcm1EZXNjcmlwdGlvbn1cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFwiXCJcIlxyXG5cclxuXHRodG1sID0gXCJcIlwiXHJcblx0XHQ8IURPQ1RZUEUgaHRtbD5cclxuXHRcdDxodG1sPlxyXG5cdFx0XHQ8aGVhZD5cclxuXHRcdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwiQ29udGVudC1UeXBlXCIgY29udGVudD1cInRleHQvaHRtbDsgY2hhcnNldD1VVEYtOFwiLz5cclxuXHRcdFx0XHQje2FsbENzc0xpbmt9XHJcblx0XHRcdFx0PHNjcmlwdCBzcmM9XCJodHRwczovL3d3dy5zdGVlZG9zLmNvbS93ZWJzaXRlL2xpYnMvanF1ZXJ5Lm1pbi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cclxuXHRcdFx0XHQ8c2NyaXB0IHNyYz1cIi9qcy9ud19jb3JlLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxyXG5cdFx0XHRcdCN7b3B0aW9ucy5wbHVnaW5zIHx8IFwiXCJ9XHJcblxyXG5cdFx0XHRcdDxzdHlsZT5cclxuXHRcdFx0XHRcdC5zdGVlZG9ze1xyXG5cdFx0XHRcdFx0XHR3aWR0aDogI3t3aWR0aH07XHJcblx0XHRcdFx0XHRcdG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG5cdFx0XHRcdFx0XHRtYXJnaW4tcmlnaHQ6IGF1dG87XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLW5hbWV7XHJcblx0XHRcdFx0XHRcdGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQuYm94LXRvb2xze1xyXG5cdFx0XHRcdFx0XHRkaXNwbGF5OiBub25lO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0LmJveC5jb2xsYXBzZWQtYm94IC5ib3gtYm9keSwuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1mb290ZXIge1xyXG5cdFx0XHRcdFx0ICBkaXNwbGF5OiBibG9jaztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRib2R5e1xyXG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBhenVyZSAhaW1wb3J0YW50O1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS10cmFjZXN7XHJcblx0XHRcdFx0XHRcdHBhZGRpbmctbGVmdDogMTVweDtcclxuXHRcdFx0XHRcdFx0cGFkZGluZy1yaWdodDogMTVweDtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQje29wdGlvbnM/LnN0eWxlcyB8fCBcIlwifVxyXG5cdFx0XHRcdDwvc3R5bGU+XHJcblx0XHRcdDwvaGVhZD5cclxuXHRcdFx0PGJvZHk+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZWVkb3Mgd29ya2Zsb3cgaW5zdGFuY2UtcHJpbnRcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJza2luLWdyZWVuIHNraW4tYWRtaW4tbHRlXCI+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ3cmFwcGVyXCI+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnQtd3JhcHBlclwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0I3tzaG93VHJhY2VzQnRufVxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLXByaW50XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZSAje2luc3RhbmNlX3N0eWxlfVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxmb3JtIG5hbWU9XCJpbnN0YW5jZUZvcm1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZS1mb3JtIGJveCAje2luc3RhbmNlQm94U3R5bGV9XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7Zm9ybURlc2NyaXB0aW9uSHRtbH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJveC1ib2R5XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0nYXR0YWNobWVudHMtc2VjdGlvbic+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7YXR0YWNobWVudH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tyZWxhdGVkX2luc3RhbmNlc31cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tyZWxhdGVkX3JlY29yZHN9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7Ym9keX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Zvcm0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0I3t0cmFjZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvYm9keT5cclxuXHRcdFx0PHNjcmlwdD4je29wZW5GaWxlU2NyaXB0fTsje29uTG9hZFNjcmlwdH07I3tzaG93VHJhY2VzU2NyaXB0fTwvc2NyaXB0PlxyXG5cdFx0PC9odG1sPlxyXG5cdFwiXCJcIlxyXG5cclxuXHRyZXR1cm4gaHRtbCIsInZhciBfZ2V0TG9jYWxlLCBfZ2V0UmVxdWlyZWRGaWVsZHMsIF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcywgX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzLCBfZ2V0VGVtcGxhdGVEYXRhLCBfZ2V0Vmlld0h0bWwsIGdldExpbmtUZXh0OyAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSA9IHt9O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiPHRyPlxcblx0PHRkIGNsYXNzPVxcXCJpbnMtYXR0YWNoLXZpZXdcXFwiPlxcblx0XHQ8YSBocmVmPVxcXCJ7e2luc19hdHRhY2hfZG93bmxvYWRfdXJsIF9pZCBhYnNvbHV0ZX19XFxcIiBjbGFzcz1cXFwiaW5zX2F0dGFjaF9ocmVmXFxcIiB0YXJnZXQ9XFxcIl9wYXJlbnRcXFwiIGRhdGEtbmFtZT1cXFwie3t0aGlzLm5hbWV9fVxcXCIgZGF0YS10eXBlPVxcXCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XFxcIiBkYXRhLWlkPVxcXCJ7e19pZH19XFxcIj57e3RoaXMubmFtZX19PC9hPlxcblx0PC90ZD5cXG48L3RyPlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZTZWxlY3RVc2VyUmVhZCA9IFwiPGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cFJlYWQgPSBcIjxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxcblx0e3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxcblx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdHt7ZWxzZX19XFxuXHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3RhYmxlJ319XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcXFwiPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIiBzdHlsZT1cXFwicGFkZGluZzowcHg7XFxcIj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIiA+XFxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9J2NvbnRyb2wtbGFiZWwnPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVxcXCJkZXNjcmlwdGlvblxcXCI+e3t7ZGVzY3JpcHRpb259fX08L3NwYW4+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicmVhZG9ubHktdGFibGVcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXFxcIiBzdHlsZT0nbWFyZ2luLWJvdHRvbTowcHg7JyB7e3RoaXMuYXR0c319IGlkPVxcXCJ7e3RoaXMuY29kZX19VGFibGVcXFwiIG5hbWU9XFxcInt7dGhpcy5jb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3t0aGlzLm5hbWV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVxcXCJ7e3RoaXMubmFtZX19VGhlYWRcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZVRoZWFkIHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxcblx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cXFwie3t0aGlzLm5hbWV9fVRib2R5XFxcIiBuYW1lPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5Plxcblx0XHRcdFx0XHRcdFx0XHQ8L3RhYmxlPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxcblx0XHRcdFx0XHQ8bGFiZWw+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cXG5cdFx0XHR7ey9pZn19XFxuXHRcdHt7L2lmfX1cXG5cdHt7L3dpdGh9fVxcbjwvZGl2PlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlxcbnt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cXG5cdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlY3Rpb24nfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxcblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxcblx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cXG5cdFx0XHRcdDwvZGl2PlxcbiAgXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtcXFwiPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiID5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJyZWFkb25seS10YWJsZVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcXFwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XFxcInt7dGhpcy5jb2RlfX1UYWJsZVxcXCIgbmFtZT1cXFwie3t0aGlzLmNvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e3RoaXMubmFtZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XFxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdpbnB1dCd9fVxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBkYXRhLXJlcXVpcmVkPVxcXCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cXFwiPlxcblx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdHt7I2lmIGlzX3RleHRhcmVhfX1cXG5cdFx0XHRcdFx0XHRcdDx0ZXh0YXJlYSB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj48L3RleHRhcmVhPlxcblx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHR7eyN1bmxlc3MgaXNfdGV4dGFyZWF9fVxcblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIHt7Z2V0UGVybWlzc2lvbnMgY29kZX19IGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdHt7L3VubGVzc319XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ251bWJlcid9fVxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZGF0ZSd9fVxcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS10eXBlPVxcXCJkYXRlXFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZGF0ZVRpbWUnfX1cXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtdHlwZT0nZGF0ZXRpbWUnIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdwYXNzd29yZCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwicGFzc3dvcmRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWxlY3QnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNlbGVjdCBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cXFwie3t2YWx1ZX19XFxcIj57e2xhYmVsfX08L29wdGlvbj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zZWxlY3Q+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3JhZGlvJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImFmLXJhZGlvLWdyb3VwXFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cXG4gICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcXFwiPjxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgdmFsdWU9XFxcInt7dmFsdWV9fVxcXCIgbmFtZT1cXFwie3suLi9jb2RlfX1cXFwiIGNsYXNzPVxcXCJyYWRpby1pbmxpbmUgZml4LWluZGVudFxcXCI+IHt7bGFiZWx9fTwvbGFiZWw+XFxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XFxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdtdWx0aVNlbGVjdCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJhZi1jaGVja2JveC1ncm91cFxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiB2YWx1ZT1cXFwie3t2YWx1ZX19XFxcIiBuYW1lPVxcXCJ7ey4uL2NvZGV9fVxcXCIgY2xhc3M9XFxcImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XFxcIj4ge3tsYWJlbH19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndXJsJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ1cmxcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdlbWFpbCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwiZW1haWxcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdjaGVja2JveCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjaGVja2JveFxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBzdHlsZT1cXFwid2lkdGg6IDEwMCU7XFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIHZhbHVlPVxcXCJ0cnVlXFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgY2xhc3M9XFxcImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XFxcIj48L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J3t7Z2V0Q2ZDbGFzcyB0aGlzfX0gZm9ybS1jb250cm9sJyByZWFkb25seSBkaXNhYmxlZD57e3tnZXRWYWx1ZSBjb2RlfX19PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHR7ey9pZn19XFxuXHRcdHt7L2lmfX1cXG5cdHt7L3dpdGh9fVwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlID0gZnVuY3Rpb24odGVtcGFsdGVOYW1lLCBzdGVlZG9zRGF0YSkge1xuICB2YXIgdGVtcGxhdGUsIHRlbXBsYXRlQ29tcGlsZWQsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb247XG4gIHRlbXBsYXRlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlW3RlbXBhbHRlTmFtZV07XG4gIHRlbXBsYXRlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICB0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0ZW1wbGF0ZUNvbXBpbGVkKTtcbiAgVGVtcGxhdGVbdGVtcGFsdGVOYW1lXSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZSh0ZW1wYWx0ZU5hbWUsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIHJldHVybiBUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLmhlbHBlcnMoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dCA9IGZ1bmN0aW9uKHN0ZWVkb3NEYXRhKSB7XG4gIHZhciBpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQsIGluc3RhbmNlU2lnblRleHRIdG1sLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb247XG4gIGluc3RhbmNlU2lnblRleHRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2Vfc2lnbl90ZXh0Lmh0bWwnKTtcbiAgaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVNpZ25UZXh0SHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VTaWduVGV4dFwiLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMoSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24gPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICB2YXIgaW1hZ2VTaWduQ29tcGlsZWQsIGltYWdlU2lnbkh0bWwsIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uO1xuICBpbWFnZVNpZ25IdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW1hZ2Vfc2lnbi5odG1sJyk7XG4gIGltYWdlU2lnbkNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbWFnZVNpZ25IdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW1hZ2VTaWduQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbWFnZVNpZ24gPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbWFnZVNpZ25cIiwgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbWFnZVNpZ24uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlLmltYWdlU2lnbi5oZWxwZXJzKEltYWdlU2lnbi5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVUcmFjZXNIYW5sZGVyID0gZnVuY3Rpb24oc3RlZWRvc0RhdGEpIHtcbiAgdmFyIHRyYWNlc0hhbmxkZXJDb21waWxlZCwgdHJhY2VzSGFubGRlckh0bWwsIHRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbjtcbiAgdHJhY2VzSGFubGRlckh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfaGFuZGxlci5odG1sJyk7XG4gIHRyYWNlc0hhbmxkZXJDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodHJhY2VzSGFubGRlckh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VzSGFubGRlckNvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZV90cmFjZXNfaGFuZGxlclwiLCB0cmFjZXNIYW5sZGVyUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV90cmFjZXNfaGFuZGxlci5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIuaGVscGVycyhUcmFjZXNIYW5kbGVyLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQgPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZTZWxlY3RVc2VyUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBcIiwgc3RlZWRvc0RhdGEpO1xuICB9XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFJlYWRcIiwgc3RlZWRvc0RhdGEpO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImluc3RhbmNlX2F0dGFjaG1lbnRcIiwge1xuICAgICAgYWJzb2x1dGU6IHN0ZWVkb3NEYXRhLmFic29sdXRlXG4gICAgfSk7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbihzdGVlZG9zRGF0YSk7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZVRyYWNlc0hhbmxkZXIoc3RlZWRvc0RhdGEpO1xuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dChzdGVlZG9zRGF0YSk7XG4gIH1cbn07XG5cbmdldExpbmtUZXh0ID0gZnVuY3Rpb24oaXRlbSwgbGFiZWwsIGRldGFpbF91cmwpIHtcbiAgaWYgKGRldGFpbF91cmwpIHtcbiAgICBkZXRhaWxfdXJsID0gZGV0YWlsX3VybC5yZXBsYWNlKFwie19pZH1cIiwgaXRlbS5faWQpO1xuICAgIGlmICghL15odHRwKHM/KTpcXC9cXC8vLnRlc3QoZGV0YWlsX3VybCkpIHtcbiAgICAgIGRldGFpbF91cmwgPSBTdGVlZG9zLmFic29sdXRlVXJsKGRldGFpbF91cmwpO1xuICAgIH1cbiAgICByZXR1cm4gJzxhIGhyZWY9XCInICsgZGV0YWlsX3VybCArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nICsgbGFiZWwgKyAnPC9hPic7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxhYmVsO1xuICB9XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KSB7XG4gIHZhciBkYXRlLCBkZXRhaWxfdXJsLCBlLCBob3VycywgbW9udGgsIHNlY29uZHMsIHQsIHQwLCB0MSwgeWVhcjtcbiAgaWYgKCF2YWx1ZSAmJiB2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgY2FzZSAnZW1haWwnOlxuICAgICAgdmFsdWUgPSB2YWx1ZSA/ICc8YSBocmVmPVxcJ21haWx0bzonICsgdmFsdWUgKyAnXFwnPicgKyB2YWx1ZSArICc8L2E+JyA6ICcnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndXJsJzpcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT09IDApIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9J1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgICB2YWx1ZSA9IFwiPGEgaHJlZj0nJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IFwiPGEgaHJlZj0naHR0cDovL1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIikudG9TdHJpbmcoKSA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmZ1bGxuYW1lIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndXNlcic6XG4gICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKCkgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5uYW1lIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncGFzc3dvcmQnOlxuICAgICAgdmFsdWUgPSAnKioqKioqJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSAhPT0gJ2ZhbHNlJykge1xuICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiLCB7fSwgbG9jYWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIiwge30sIGxvY2FsZSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdkYXRlVGltZSc6XG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUubGVuZ3RoID09PSAxNikge1xuICAgICAgICB0ID0gdmFsdWUuc3BsaXQoXCJUXCIpO1xuICAgICAgICB0MCA9IHRbMF0uc3BsaXQoXCItXCIpO1xuICAgICAgICB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuICAgICAgICB5ZWFyID0gdDBbMF07XG4gICAgICAgIG1vbnRoID0gdDBbMV07XG4gICAgICAgIGRhdGUgPSB0MFsyXTtcbiAgICAgICAgaG91cnMgPSB0MVswXTtcbiAgICAgICAgc2Vjb25kcyA9IHQxWzFdO1xuICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlKHZhbHVlLCB1dGNPZmZzZXQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW5wdXQnOlxuICAgICAgaWYgKGZpZWxkLmlzX3RleHRhcmVhKSB7XG4gICAgICAgIHZhbHVlID0gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24odmFsdWUpKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT09IDApIHtcbiAgICAgICAgdmFsdWUgPSBTdGVlZG9zLm51bWJlclRvU3RyaW5nKHZhbHVlLCBmaWVsZC5kaWdpdHMpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb2RhdGEnOlxuICAgICAgZGV0YWlsX3VybCA9IGZpZWxkLmRldGFpbF91cmw7XG4gICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgdmFsdWUgPSBfLm1hcCh2YWx1ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiBnZXRMaW5rVGV4dChpdGVtLCBpdGVtWydAbGFiZWwnXSwgZGV0YWlsX3VybCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBnZXRMaW5rVGV4dCh2YWx1ZSwgdmFsdWVbJ0BsYWJlbCddLCBkZXRhaWxfdXJsKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgdmFsdWUgPSB2YWx1ZSA/IFwiPGRpdiBjbGFzcz1cXFwic3RlZWRvcy1odG1sXFxcIj5cIiArIHZhbHVlICsgXCI8L2Rpdj5cIiA6ICcnO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCA9IGZ1bmN0aW9uKGZpZWxkcywgY29kZSkge1xuICB2YXIgZmllbGQ7XG4gIGZpZWxkID0gZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpO1xuICBpZiAoZmllbGQpIHtcbiAgICBpZiAoZmllbGQubmFtZSkge1xuICAgICAgcmV0dXJuIGZpZWxkLm5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaWVsZC5jb2RlO1xuICAgIH1cbiAgfVxufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24gPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICB2YXIgZm9ybSwgZm9ybV9maWVsZHMsIGZvcm1fdmVyc2lvbjtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gIGZvcm1fdmVyc2lvbiA9IHt9O1xuICBmb3JtX2ZpZWxkcyA9IFtdO1xuICBpZiAoZm9ybS5jdXJyZW50Ll9pZCA9PT0gaW5zdGFuY2UuZm9ybV92ZXJzaW9uKSB7XG4gICAgZm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50O1xuICB9IGVsc2Uge1xuICAgIGZvcm1fdmVyc2lvbiA9IF8ud2hlcmUoZm9ybS5oaXN0b3J5cywge1xuICAgICAgX2lkOiBpbnN0YW5jZS5mb3JtX3ZlcnNpb25cbiAgICB9KVswXTtcbiAgfVxuICBmb3JtX3ZlcnNpb24uZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICBmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgIGlmIChmaWVsZC5maWVsZHMpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICByZXR1cm4gZm9ybV9maWVsZHMucHVzaChmKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICBmaWVsZFsnc2ZpZWxkcyddID0gZmllbGRbJ2ZpZWxkcyddO1xuICAgICAgZGVsZXRlIGZpZWxkWydmaWVsZHMnXTtcbiAgICAgIHJldHVybiBmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuICAgIH1cbiAgfSk7XG4gIGZvcm1fdmVyc2lvbi5maWVsZHMgPSBmb3JtX2ZpZWxkcztcbiAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbiA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIHZhciBmbG93LCBmbG93X3ZlcnNpb247XG4gIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xuICBmbG93X3ZlcnNpb24gPSB7fTtcbiAgaWYgKGZsb3cuY3VycmVudC5faWQgPT09IGluc3RhbmNlLmZsb3dfdmVyc2lvbikge1xuICAgIGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudDtcbiAgfSBlbHNlIHtcbiAgICBmbG93X3ZlcnNpb24gPSBfLndoZXJlKGZsb3cuaGlzdG9yeXMsIHtcbiAgICAgIF9pZDogaW5zdGFuY2UuZmxvd192ZXJzaW9uXG4gICAgfSlbMF07XG4gIH1cbiAgcmV0dXJuIGZsb3dfdmVyc2lvbjtcbn07XG5cbl9nZXRWaWV3SHRtbCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIHZpZXdIdG1sO1xuICB2aWV3SHRtbCA9IEFzc2V0cy5nZXRUZXh0KHBhdGgpO1xuICBpZiAodmlld0h0bWwpIHtcbiAgICB2aWV3SHRtbCA9IHZpZXdIdG1sLnJlcGxhY2UoLzx0ZW1wbGF0ZVtcXHdcXHNcXFwiXFw9J10rPi9pLCBcIlwiKS5yZXBsYWNlKC88XFwvdGVtcGxhdGU+L2ksIFwiXCIpO1xuICB9XG4gIHJldHVybiB2aWV3SHRtbDtcbn07XG5cbl9nZXRMb2NhbGUgPSBmdW5jdGlvbih1c2VyKSB7XG4gIHZhciBsb2NhbGUsIHJlZiwgcmVmMTtcbiAgaWYgKCh1c2VyICE9IG51bGwgPyAocmVmID0gdXNlci5sb2NhbGUpICE9IG51bGwgPyByZWYudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCA6IHZvaWQgMCkgPT09ICd6aC1jbicpIHtcbiAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gIH0gZWxzZSBpZiAoKHVzZXIgIT0gbnVsbCA/IChyZWYxID0gdXNlci5sb2NhbGUpICE9IG51bGwgPyByZWYxLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDAgOiB2b2lkIDApID09PSAnZW4tdXMnKSB7XG4gICAgbG9jYWxlID0gXCJlblwiO1xuICB9IGVsc2Uge1xuICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgfVxuICByZXR1cm4gbG9jYWxlO1xufTtcblxuX2dldFJlcXVpcmVkRmllbGRzID0gZnVuY3Rpb24oZmllbGRzLCByZXYpIHtcbiAgaWYgKCFyZXYpIHtcbiAgICByZXYgPSBbXTtcbiAgfVxuICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xuICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIHJldHVybiBfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGQuZmllbGRzLCByZXYpO1xuICAgIH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmaWVsZC5pc19yZXF1aXJlZCkge1xuICAgICAgICByZXR1cm4gcmV2LnB1c2goZmllbGQuY29kZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldjtcbn07XG5cbl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcywgc3RlcHMpIHtcbiAgdmFyIGVkaXRhYmxlQ29kZSwgc3RhcnRTdGVwO1xuICBzdGFydFN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcF90eXBlXCIsIFwic3RhcnRcIik7XG4gIGVkaXRhYmxlQ29kZSA9IFtdO1xuICBfLmtleXMoc3RhcnRTdGVwLnBlcm1pc3Npb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChzdGFydFN0ZXAucGVybWlzc2lvbnNba2V5XSA9PT0gJ2VkaXRhYmxlJykge1xuICAgICAgcmV0dXJuIGVkaXRhYmxlQ29kZS5wdXNoKGtleSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGVkaXRhYmxlQ29kZTtcbn07XG5cbl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcywgc3RlcHMpIHtcbiAgdmFyIGVkaXRhYmxlQ29kZSwgcmVxdWlyZWRGaWVsZHM7XG4gIHJlcXVpcmVkRmllbGRzID0gX2dldFJlcXVpcmVkRmllbGRzKGZpZWxkcyk7XG4gIGVkaXRhYmxlQ29kZSA9IF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyhmaWVsZHMsIHN0ZXBzKTtcbiAgcmV0dXJuIF8uaW50ZXJzZWN0aW9uKHJlcXVpcmVkRmllbGRzLCBlZGl0YWJsZUNvZGUpO1xufTtcblxuX2dldFRlbXBsYXRlRGF0YSA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgZmxvdywgZm9ybSwgZm9ybV92ZXJzaW9uLCBsb2NhbGUsIHN0ZWVkb3NEYXRhO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgZm9ybV92ZXJzaW9uID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKTtcbiAgfVxuICBsb2NhbGUgPSBfZ2V0TG9jYWxlKHVzZXIpO1xuICBzdGVlZG9zRGF0YSA9IHt9O1xuICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgc3RlZWRvc0RhdGEgPSBfLmNsb25lKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKSk7XG4gICAgc3RlZWRvc0RhdGEuaW5zbmFtZSA9IGluc3RhbmNlLm5hbWU7XG4gICAgc3RlZWRvc0RhdGEuaW5zX3N0YXRlID0gaW5zdGFuY2Uuc3RhdGU7XG4gICAgc3RlZWRvc0RhdGEuaW5zX2ZpbmFsX2RlY2lzaW9uID0gaW5zdGFuY2UuaW5zX2ZpbmFsX2RlY2lzaW9uO1xuICAgIHN0ZWVkb3NEYXRhLmluc19jb2RlID0gaW5zdGFuY2UuY29kZTtcbiAgICBzdGVlZG9zRGF0YS5pbnNfaXNfYXJjaGl2ZWQgPSBpbnN0YW5jZS5pc19hcmNoaXZlZDtcbiAgICBzdGVlZG9zRGF0YS5pbnNfaXNfZGVsZXRlZCA9IGluc3RhbmNlLmluc19pc19kZWxldGVkO1xuICAgIHN0ZWVkb3NEYXRhLmFwcGxpY2FudF9uYW1lID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWU7XG4gICAgc3RlZWRvc0RhdGEuYXBwbGljYW50Q29udGV4dCA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lO1xuICB9XG4gIHN0ZWVkb3NEYXRhLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gIHN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbiA9IGZvcm1fdmVyc2lvbjtcbiAgc3RlZWRvc0RhdGEubG9jYWxlID0gbG9jYWxlO1xuICBzdGVlZG9zRGF0YS51dGNPZmZzZXQgPSB1c2VyLnV0Y09mZnNldDtcbiAgc3RlZWRvc0RhdGEuc3BhY2UgPSBpbnN0YW5jZS5zcGFjZTtcbiAgc3RlZWRvc0RhdGEuc2Vzc2lvblVzZXJJZCA9IHVzZXIuX2lkO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuZWRpdGFibGUgOiB2b2lkIDApIHtcbiAgICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZS5mb3JtXG4gICAgICB9KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZS5mbG93XG4gICAgICB9KTtcbiAgICAgIHN0ZWVkb3NEYXRhLnN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZvcm0uY3VycmVudC5maWVsZHMsIGZsb3cuY3VycmVudC5zdGVwcyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGVlZG9zRGF0YTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlID0gZnVuY3Rpb24oZGF0ZSwgdXRjT2Zmc2V0KSB7XG4gIHZhciBwYXNzaW5nO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgcGFzc2luZyA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHBhc3NpbmcgPSB0cnVlO1xuICB9XG4gIGlmICghdXRjT2Zmc2V0ICYmIHV0Y09mZnNldCAhPT0gMCkge1xuICAgIHV0Y09mZnNldCA9IDg7XG4gIH1cbiAgcmV0dXJuIG1vbWVudChkYXRlKS51dGNPZmZzZXQodXRjT2Zmc2V0LCBwYXNzaW5nKS5mb3JtYXQoXCJZWVlZLU1NLUREIEhIOm1tXCIpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlVmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYm9keSwgaW5zdGFuY2VDb21waWxlZCwgaW5zdGFuY2VSZW5kZXJGdW5jdGlvbiwgaW5zdGFuY2VUZW1wbGF0ZSwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5hYnNvbHV0ZSA6IHZvaWQgMCkge1xuICAgIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcbiAgfVxuICBpbnN0YW5jZVRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlLCBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRlbXBsYXRlTmFtZSA6IHZvaWQgMCk7XG4gIGluc3RhbmNlVGVtcGxhdGUgPSBpbnN0YW5jZVRlbXBsYXRlLnJlcGxhY2UoL2FmU2VsZWN0VXNlci9nLCBcImFmU2VsZWN0VXNlclJlYWRcIik7XG4gIGlmICghKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuZWRpdGFibGUgOiB2b2lkIDApKSB7XG4gICAgaW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZGb3JtR3JvdXAvZywgXCJhZkZvcm1Hcm91cFJlYWRcIik7XG4gIH1cbiAgaW5zdGFuY2VDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW5zdGFuY2VUZW1wbGF0ZSwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgaW5zdGFuY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VDb21waWxlZCk7XG4gIFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZV9yZWFkb25seV92aWV3XCIsIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyhJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzKTtcbiAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQoc3RlZWRvc0RhdGEpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldywgc3RlZWRvc0RhdGEpO1xuICByZXR1cm4gXCI8ZGl2IGlkPSdpbnN0YW5jZWZvcm0nID5cXG5cdFwiICsgYm9keSArIFwiXFxuPC9kaXY+XCI7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYm9keSwgZm9ybSwgc3RlZWRvc0RhdGEsIHRyYWNlQ29tcGlsZWQsIHRyYWNlUmVuZGVyRnVuY3Rpb24sIHRyYWNlc0h0bWw7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgaWYgKGZvcm0uaW5zdGFuY2Vfc3R5bGUgPT09IFwidGFibGVcIiB8fCAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgOiB2b2lkIDApID09PSBcInRhYmxlXCIpIHtcbiAgICB0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzX3RhYmxlLmh0bWwnKTtcbiAgfSBlbHNlIHtcbiAgICB0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzLmh0bWwnKTtcbiAgfVxuICB0cmFjZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0cmFjZXNIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICB0cmFjZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0cmFjZUNvbXBpbGVkKTtcbiAgVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInRyYWNlX3JlYWRvbmx5X3ZpZXdcIiwgdHJhY2VSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzKFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldywgaW5zdGFuY2UudHJhY2VzKTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UpIHtcbiAgdmFyIGF0dGFjaG1lbnRDb21waWxlZCwgYXR0YWNobWVudEh0bWwsIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiwgYm9keSwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBhdHRhY2htZW50SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX2F0dGFjaG1lbnRzLmh0bWwnKTtcbiAgYXR0YWNobWVudENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShhdHRhY2htZW50SHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uID0gZXZhbChhdHRhY2htZW50Q29tcGlsZWQpO1xuICBUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlld1wiLCBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuaGVscGVycyhJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYm9keSwgcmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkLCByZWxhdGVkSW5zdGFuY2VzSHRtbCwgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uLCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmFic29sdXRlIDogdm9pZCAwKSB7XG4gICAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuICB9XG4gIHJlbGF0ZWRJbnN0YW5jZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9pbnN0YW5jZXMuaHRtbCcpO1xuICByZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRJbnN0YW5jZXNIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24gPSBldmFsKHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCk7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX2luc3RhbmNlc192aWV3XCIsIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5oZWxwZXJzKFJlbGF0ZWRJbnN0YW5jZXMuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LCBzdGVlZG9zRGF0YSk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYm9keSwgcmVsYXRlZFJlY29yZHNDb21waWxlZCwgcmVsYXRlZFJlY29yZHNIdG1sLCByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uLCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmFic29sdXRlIDogdm9pZCAwKSB7XG4gICAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuICB9XG4gIHJlbGF0ZWRSZWNvcmRzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfcmVjb3Jkcy5odG1sJyk7XG4gIHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRSZWNvcmRzSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZFJlY29yZHNDb21waWxlZCk7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9yZWNvcmRzX3ZpZXdcIiwgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LmhlbHBlcnMoUmVsYXRlZFJlY29yZHMuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldywgc3RlZWRvc0RhdGEpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRPbkxvYWRTY3JpcHQgPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICB2YXIgZm9ybV9zY3JpcHQsIGZvcm1fdmVyc2lvbjtcbiAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XG4gIGZvcm1fc2NyaXB0ID0gZm9ybV92ZXJzaW9uLmZvcm1fc2NyaXB0O1xuICBpZiAoZm9ybV9zY3JpcHQgJiYgZm9ybV9zY3JpcHQucmVwbGFjZSgvXFxuL2csIFwiXCIpLnJlcGxhY2UoL1xccy9nLCBcIlwiKS5sZW5ndGggPiAwKSB7XG4gICAgZm9ybV9zY3JpcHQgPSBcIkNvcmVGb3JtID0ge307Q29yZUZvcm0uaW5zdGFuY2Vmb3JtID0ge307XCIgKyBmb3JtX3NjcmlwdDtcbiAgICByZXR1cm4gZm9ybV9zY3JpcHQgKz0gXCI7aWYoQ29yZUZvcm0uZm9ybV9PbkxvYWQpe3dpbmRvdy5vbmxvYWQgPSBDb3JlRm9ybS5mb3JtX09uTG9hZCgpO31cIjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZm9ybV9zY3JpcHQgPSBcIlwiO1xuICB9XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBhbGxDc3NMaW5rLCBhdHRhY2htZW50LCBib2R5LCBjcmVhdG9yU2VydmljZSwgY3NzSHJlZiwgZm9ybSwgZm9ybURlc2NyaXB0aW9uLCBmb3JtRGVzY3JpcHRpb25IdG1sLCBodG1sLCBpbnNfcmVjb3JkX2lkcywgaW5zdGFuY2VCb3hTdHlsZSwgaW5zdGFuY2Vfc3R5bGUsIGxvY2FsZSwgb25Mb2FkU2NyaXB0LCBvcGVuRmlsZVNjcmlwdCwgcmVmLCByZWYxLCByZWxhdGVkX2luc3RhbmNlcywgcmVsYXRlZF9yZWNvcmRzLCBzaG93VHJhY2VzQnRuLCBzaG93VHJhY2VzU2NyaXB0LCB0cmFjZSwgdHJhY2VDaGVjaywgd2lkdGg7XG4gIGJvZHkgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIG9uTG9hZFNjcmlwdCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRPbkxvYWRTY3JpcHQoaW5zdGFuY2UpO1xuICBjcmVhdG9yU2VydmljZSA9IChyZWYgPSBNZXRlb3Iuc2V0dGluZ3NbXCJwdWJsaWNcIl0ud2Vic2VydmljZXMpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jcmVhdG9yKSAhPSBudWxsID8gcmVmMS51cmwgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIGluc19yZWNvcmRfaWRzID0gaW5zdGFuY2UucmVjb3JkX2lkcztcbiAgbG9jYWxlID0gX2dldExvY2FsZSh1c2VyKTtcbiAgb3BlbkZpbGVTY3JpcHQgPSBcImlmKHdpbmRvdy5pc05vZGUgJiYgaXNOb2RlKCkpe1xcblx0YXR0YWNocyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXFxcImluc19hdHRhY2hfaHJlZlxcXCIpO1xcblx0Zm9yKHZhciBpID0gMDsgaSA8IGF0dGFjaHMubGVuZ3RoOyBpKyspe1xcblx0XHRhdHRhY2ggPSBhdHRhY2hzW2ldO1xcblx0XHRhdHRhY2guYWRkRXZlbnRMaXN0ZW5lcihcXFwiY2xpY2tcXFwiLCBmdW5jdGlvbihlKXtcXG5cdFx0XHRpZihpc0ltYWdlKHRoaXMuZGF0YXNldC50eXBlKSB8fCBpc0h0bWwodGhpcy5kYXRhc2V0LnR5cGUpKXtcXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcXG5cdFx0XHRcdG9wZW5XaW5kb3coXFxcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1xcXCIgKyB0aGlzLmRhdGFzZXQuaWQpO1xcblx0XHRcdH1lbHNlIGlmKG53X2NvcmUuY2FuT3BlbkZpbGUodGhpcy5kYXRhc2V0Lm5hbWUpKXtcXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcXG5cdFx0XHRcdG53X2NvcmUub3BlbkZpbGUodGhpcy5ocmVmLCB0aGlzLmRhdGFzZXQubmFtZSlcXG5cdFx0XHR9XFxuXHRcdH0pO1xcblx0fVxcbn1cXG5cXG52YXIgZmxvdyA9IFxcXCJcIiArIGluc3RhbmNlLmZsb3cgKyBcIlxcXCI7XFxudmFyIHNwYWNlID0gXFxcIlwiICsgaW5zdGFuY2Uuc3BhY2UgKyBcIlxcXCI7XFxuXFxuZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpe1xcblx0bGV0IHBhdHRlcm4gPSBSZWdFeHAobmFtZSArIFxcXCI9LlteO10qXFxcIilcXG5cdGxldCBtYXRjaGVkID0gZG9jdW1lbnQuY29va2llLm1hdGNoKHBhdHRlcm4pXFxuXHRpZihtYXRjaGVkKXtcXG5cdFx0bGV0IGNvb2tpZSA9IG1hdGNoZWRbMF0uc3BsaXQoJz0nKVxcblx0XHRyZXR1cm4gY29va2llWzFdXFxuXHR9XFxuXHRyZXR1cm4gJydcXG59XFxuXFxudmFyIHJlY29yZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxcXCJpbnMtcmVsYXRlZC1yZWNvcmRzXFxcIik7XFxuZm9yKHZhciBpID0gMDsgaSA8IHJlY29yZHMubGVuZ3RoOyBpKyspe1xcblx0XHR2YXIgcmVjb3JkID0gcmVjb3Jkc1tpXTtcXG5cdFx0cmVjb3JkLmFkZEV2ZW50TGlzdGVuZXIoXFxcImNsaWNrXFxcIiwgZnVuY3Rpb24oZSl7XFxuXHRcdFx0dmFyIGNyZWF0b3JTZXJ2aWNlID0gXFxcIlwiICsgY3JlYXRvclNlcnZpY2UgKyBcIlxcXCJcXG5cdFx0XHR2YXIgaW5zX3JlY29yZF9pZHMgPSBcIiArIChKU09OLnN0cmluZ2lmeShpbnNfcmVjb3JkX2lkcykpICsgXCJcXG5cdFx0XHRpZihjcmVhdG9yU2VydmljZSAmJiBpbnNfcmVjb3JkX2lkcyAmJiBpbnNfcmVjb3JkX2lkcy5sZW5ndGggPiAwKXtcXG5cdFx0XHRcdHZhciBvYmpjZXROYW1lID0gaW5zX3JlY29yZF9pZHNbMF0ub1xcblx0XHRcdFx0dmFyIGlkID0gaW5zX3JlY29yZF9pZHNbMF0uaWRzWzBdXFxuXHRcdFx0XHR2YXIgdW9iaiA9IHt9O1xcblx0XHRcdFx0dW9ialtcXFwiWC1Vc2VyLUlkXFxcIl0gPSBnZXRDb29raWUoXFxcIlgtVXNlci1JZFxcXCIpO1xcblx0XHRcdFx0dW9ialtcXFwiWC1BdXRoLVRva2VuXFxcIl0gPSBnZXRDb29raWUoXFxcIlgtQXV0aC1Ub2tlblxcXCIpO1xcblx0XHRcdFx0cmVkaXJlY3RVcmwgPSBjcmVhdG9yU2VydmljZSArIFxcXCJhcHAvLS9cXFwiICsgb2JqY2V0TmFtZSArIFxcXCIvdmlldy9cXFwiICsgaWQgKyBcXFwiP1xcXCIgKyAkLnBhcmFtKHVvYmopO1xcblx0XHRcdFx0b3BlbldpbmRvdyhyZWRpcmVjdFVybCk7XFxuXHRcdFx0fVxcblx0XHR9KTtcXG5cdH1cXG5cIjtcbiAgaWYgKCFTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgICBpZiAoKGZvcm0gIT0gbnVsbCA/IGZvcm0uaW5zdGFuY2Vfc3R5bGUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgICBpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIjtcbiAgICB9XG4gIH1cbiAgaWYgKChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRlbXBsYXRlTmFtZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICBpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIjtcbiAgfVxuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZSA6IHZvaWQgMCkge1xuICAgIGluc3RhbmNlX3N0eWxlID0gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZTtcbiAgfVxuICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93VHJhY2UgPT09IHRydWUpIHtcbiAgICB0cmFjZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgdHJhY2UgPSBcIlwiO1xuICB9XG4gIGluc3RhbmNlQm94U3R5bGUgPSBcIlwiO1xuICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuZmluYWxfZGVjaXNpb24pIHtcbiAgICBpZiAoaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgaW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LXN1Y2Nlc3NcIjtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgIGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1kYW5nZXJcIjtcbiAgICB9XG4gIH1cbiAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzID09PSB0cnVlKSB7XG4gICAgYXR0YWNobWVudCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50Vmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICAgIHJlbGF0ZWRfaW5zdGFuY2VzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gICAgcmVsYXRlZF9yZWNvcmRzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGF0dGFjaG1lbnQgPSBcIlwiO1xuICAgIHJlbGF0ZWRfaW5zdGFuY2VzID0gXCJcIjtcbiAgICByZWxhdGVkX3JlY29yZHMgPSBcIlwiO1xuICB9XG4gIHdpZHRoID0gXCI5NjBweFwiO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy53aWR0aCA6IHZvaWQgMCkge1xuICAgIHdpZHRoID0gXCJcIjtcbiAgfVxuICBjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwic3RlZWRvcy1jc3NcIik7XG4gIGFsbENzc0xpbmsgPSBcIjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGNsYXNzPVxcXCJfX21ldGVvci1jc3NfX1xcXCIgaHJlZj1cXFwiXCIgKyBjc3NIcmVmICsgXCJcXFwiPlwiO1xuICB0cmFjZUNoZWNrID0gXCJcIjtcbiAgaWYgKCFfLmlzRW1wdHkodHJhY2UpKSB7XG4gICAgdHJhY2VDaGVjayA9IFwiY2hlY2tlZFwiO1xuICB9XG4gIGlmICgob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50YWdnZXIgOiB2b2lkIDApID09PSAnZW1haWwnIHx8IChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmVkaXRhYmxlIDogdm9pZCAwKSkge1xuICAgIHNob3dUcmFjZXNCdG4gPSBcIlwiO1xuICB9IGVsc2Uge1xuICAgIHNob3dUcmFjZXNCdG4gPSBcIjxkaXYgY2xhc3M9XFxcIm5hdmlnYXRpb24tYmFyIGJ0bi1ncm91cCBuby1wcmludFxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDogNjAwcHg7IHotaW5kZXg6IDk5OVxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJwcmludC10b29sXFxcIj5cXG5cdFx0PGxhYmVsIGNsYXNzPVxcXCJjYngtbGFiZWxcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcImNieC1wcmludCBjYngtcHJpbnQtYXR0YWNobWVudHNcXFwiIGlkPVxcXCJjYngtcHJpbnQtYXR0YWNobWVudHNcXFwiIGNoZWNrZWQ9XFxcImNoZWNrZWRcXFwiPjxzcGFuPlwiICsgKFRBUGkxOG4uX18oJ2luc3RhbmNlX2F0dGFjaG1lbnQnLCB7fSwgbG9jYWxlKSkgKyBcIjwvc3Bhbj48L2xhYmVsPlxcblx0XHQ8bGFiZWwgY2xhc3M9XFxcImNieC1sYWJlbFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiY2J4LXByaW50IGNieC1wcmludC10cmFjZXNcXFwiIGlkPVxcXCJjYngtcHJpbnQtdHJhY2VzXFxcIiBjaGVja2VkPVxcXCJcIiArIHRyYWNlQ2hlY2sgKyBcIlxcXCI+PHNwYW4+XCIgKyAoVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92YWxfaGlzdG9yeScsIHt9LCBsb2NhbGUpKSArIFwiPC9zcGFuPjwvbGFiZWw+XFxuXHQ8L2Rpdj5cXG48L2Rpdj5cIjtcbiAgfVxuICBzaG93VHJhY2VzU2NyaXB0ID0gXCIkKCBkb2N1bWVudCApLnJlYWR5KGZ1bmN0aW9uKCl7XFxuXHR2YXIgYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtdHJhY2VzJyk7XFxuXHR2YXIgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc3RhbmNlLXRyYWNlcycpWzBdO1xcblx0aWYgKGIgJiYgYi5jaGVja2VkICYmIHQpe1xcblx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdH0gZWxzZSBpZih0KXtcXG5cdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcXG5cdH1cXG5cdGlmKGIpe1xcblx0XHRiLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xcblx0XHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcXG5cdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0XHRcdH0gZWxzZSB7XFxuXHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0XHRcdH1cXG5cdFx0fSk7XFxuXHR9XFxuXFxuXFxuXHR2YXIgYXR0YWNobWVudHNDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtYXR0YWNobWVudHMnKTtcXG5cdHZhciBhdHRhY2htZW50c1ZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhdHRhY2htZW50cy1zZWN0aW9uJylbMF07XFxuXHRpZiAoYXR0YWNobWVudHNDaGVja2JveCAmJiBhdHRhY2htZW50c0NoZWNrYm94LmNoZWNrZWQgJiYgYXR0YWNobWVudHNWaWV3KXtcXG5cdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdH0gZWxzZSBpZihhdHRhY2htZW50c1ZpZXcpe1xcblx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHR9XFxuXHRpZihhdHRhY2htZW50c0NoZWNrYm94KXtcXG5cdFx0YXR0YWNobWVudHNDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcXG5cdFx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XFxuXHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0XHRcdH0gZWxzZSB7XFxuXHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHRcdFx0fVxcblx0XHR9KTtcXG5cdH1cXG59KTtcXG5cIjtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuc3R5bGVzIDogdm9pZCAwKSB7XG4gICAgYWxsQ3NzTGluayA9IFwiXCI7XG4gIH1cbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgIF9pZDogaW5zdGFuY2UuZm9ybVxuICB9KTtcbiAgZm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiXCI7XG4gIGlmIChmb3JtKSB7XG4gICAgZm9ybURlc2NyaXB0aW9uID0gZm9ybS5kZXNjcmlwdGlvbjtcbiAgICBpZiAoZm9ybURlc2NyaXB0aW9uKSB7XG4gICAgICBmb3JtRGVzY3JpcHRpb24gPSBmb3JtRGVzY3JpcHRpb24ucmVwbGFjZSgvXFxuL2csIFwiPGJyLz5cIik7XG4gICAgICBmb3JtRGVzY3JpcHRpb25IdG1sID0gXCI8ZGl2IGNsYXNzPVxcXCJib3gtaGVhZGVyICB3aXRoLWJvcmRlciBpbnN0YW5jZS1oZWFkZXJcXFwiPlxcblx0PGRpdj5cXG5cdFx0XCIgKyBmb3JtRGVzY3JpcHRpb24gKyBcIlxcblx0PC9kaXY+XFxuPC9kaXY+XCI7XG4gICAgfVxuICB9XG4gIGh0bWwgPSBcIjwhRE9DVFlQRSBodG1sPlxcbjxodG1sPlxcblx0PGhlYWQ+XFxuXHRcdDxtZXRhIGh0dHAtZXF1aXY9XFxcIkNvbnRlbnQtVHlwZVxcXCIgY29udGVudD1cXFwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XFxcIi8+XFxuXHRcdFwiICsgYWxsQ3NzTGluayArIFwiXFxuXHRcdDxzY3JpcHQgc3JjPVxcXCJodHRwczovL3d3dy5zdGVlZG9zLmNvbS93ZWJzaXRlL2xpYnMvanF1ZXJ5Lm1pbi5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG5cdFx0PHNjcmlwdCBzcmM9XFxcIi9qcy9ud19jb3JlLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0Plxcblx0XHRcIiArIChvcHRpb25zLnBsdWdpbnMgfHwgXCJcIikgKyBcIlxcblxcblx0XHQ8c3R5bGU+XFxuXHRcdFx0LnN0ZWVkb3N7XFxuXHRcdFx0XHR3aWR0aDogXCIgKyB3aWR0aCArIFwiO1xcblx0XHRcdFx0bWFyZ2luLWxlZnQ6IGF1dG87XFxuXHRcdFx0XHRtYXJnaW4tcmlnaHQ6IGF1dG87XFxuXHRcdFx0fVxcblxcblx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS1uYW1le1xcblx0XHRcdFx0ZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnRcXG5cdFx0XHR9XFxuXHRcdFx0LmJveC10b29sc3tcXG5cdFx0XHRcdGRpc3BsYXk6IG5vbmU7XFxuXHRcdFx0fVxcblx0XHRcdC5ib3guY29sbGFwc2VkLWJveCAuYm94LWJvZHksLmJveC5jb2xsYXBzZWQtYm94IC5ib3gtZm9vdGVyIHtcXG5cdFx0XHQgIGRpc3BsYXk6IGJsb2NrO1xcblx0XHRcdH1cXG5cXG5cdFx0XHRib2R5e1xcblx0XHRcdFx0YmFja2dyb3VuZDogYXp1cmUgIWltcG9ydGFudDtcXG5cdFx0XHR9XFxuXFxuXHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLXRyYWNlc3tcXG5cdFx0XHRcdHBhZGRpbmctbGVmdDogMTVweDtcXG5cdFx0XHRcdHBhZGRpbmctcmlnaHQ6IDE1cHg7XFxuXHRcdFx0fVxcblxcblx0XHRcdFwiICsgKChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnN0eWxlcyA6IHZvaWQgMCkgfHwgXCJcIikgKyBcIlxcblx0XHQ8L3N0eWxlPlxcblx0PC9oZWFkPlxcblx0PGJvZHk+XFxuXHRcdDxkaXYgY2xhc3M9XFxcInN0ZWVkb3Mgd29ya2Zsb3cgaW5zdGFuY2UtcHJpbnRcXFwiPlxcblx0XHRcdDxkaXYgY2xhc3M9XFxcInNraW4tZ3JlZW4gc2tpbi1hZG1pbi1sdGVcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz1cXFwid3JhcHBlclxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbnRlbnQtd3JhcHBlclxcXCI+XFxuXHRcdFx0XHRcdFx0XCIgKyBzaG93VHJhY2VzQnRuICsgXCJcXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1wcmludFxcXCI+XFxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZSBcIiArIGluc3RhbmNlX3N0eWxlICsgXCJcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8Zm9ybSBuYW1lPVxcXCJpbnN0YW5jZUZvcm1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlLWZvcm0gYm94IFwiICsgaW5zdGFuY2VCb3hTdHlsZSArIFwiXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgZm9ybURlc2NyaXB0aW9uSHRtbCArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJib3gtYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0nYXR0YWNobWVudHMtc2VjdGlvbic+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIGF0dGFjaG1lbnQgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyByZWxhdGVkX2luc3RhbmNlcyArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIHJlbGF0ZWRfcmVjb3JkcyArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyBib2R5ICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0PC9mb3JtPlxcblx0XHRcdFx0XHRcdFx0XHRcIiArIHRyYWNlICsgXCJcXG5cdFx0XHRcdFx0XHRcdDwvZGl2Plxcblxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvZGl2Plxcblx0XHQ8L2Rpdj5cXG5cdDwvYm9keT5cXG5cdDxzY3JpcHQ+XCIgKyBvcGVuRmlsZVNjcmlwdCArIFwiO1wiICsgb25Mb2FkU2NyaXB0ICsgXCI7XCIgKyBzaG93VHJhY2VzU2NyaXB0ICsgXCI8L3NjcmlwdD5cXG48L2h0bWw+XCI7XG4gIHJldHVybiBodG1sO1xufTtcbiIsIlRlbXBsYXRlTWFuYWdlciA9IHt9O1xyXG5cclxuZm9ybUlkID0gJ2luc3RhbmNlZm9ybSc7XHJcblxyXG5cclxuVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlID0gKCktPlxyXG5cdHBhZ2VUaXRsZSA9IFwiXCJcIlxyXG5cdFx0e3tpbnN0YW5jZS5uYW1lfX1cclxuXHRcIlwiXCJcclxuXHJcblx0cGFnZVRpdGxlVHJDbGFzcyA9IFwiaW5zdGFuY2UtbmFtZVwiXHJcblxyXG5cdGlmIENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWVcclxuXHRcdHBhZ2VUaXRsZSA9IFwiXCJcIlxyXG5cdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3tDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWV9XCIgbGFiZWw9ZmFsc2V9fVxyXG5cdFx0XCJcIlwiXHJcblx0XHRwYWdlVGl0bGVUckNsYXNzID0gXCJcIlxyXG5cclxuXHRpZiBDb3JlRm9ybT8ucGFnZVRpdGxlXHJcblx0XHRwYWdlVGl0bGUgPSBcIlwiXCJcclxuXHRcdFx0I3tDb3JlRm9ybS5wYWdlVGl0bGV9XHJcblx0XHRcIlwiXCJcclxuXHRcdHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiXHJcblxyXG5cdHZhbCA9XHJcblx0XHRwYWdlVGl0bGU6IHBhZ2VUaXRsZVxyXG5cdFx0cGFnZVRpdGxlVHJDbGFzczogcGFnZVRpdGxlVHJDbGFzc1xyXG5cclxuXHRyZXR1cm4gdmFsXHJcblxyXG5UZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSA9IChpbnN0YW5jZSwgX2V4cG9ydCkgLT5cclxuXHJcblx0dGVtcGxhdGUgPSBcIlwiXCJcclxuXHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XHJcblx0XHQ8dGFibGUgY2xhc3M9XCJ0YWJsZS1wYWdlLXRpdGxlIGZvcm0tdGFibGUgbm8tYm9yZGVyIHRleHQtYWxpZ24tY2VudGVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XCI+XHJcblx0XHRcdDx0ciBjbGFzcz1cIiN7dGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZVRyQ2xhc3N9XCI+XHJcblx0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZCBwYWdlLXRpdGxlXCI+XHJcblx0XHRcdFx0XHQje3RoaXMuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGV9XHJcblx0XHRcdFx0PC90ZD5cclxuXHRcdFx0PC90cj5cclxuXHJcblx0XHQ8L3RhYmxlPlxyXG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS1ib2R5IGZvcm0tdGFibGVcIj5cclxuXHRcdFx0XHQ8dHIgc3R5bGU9XCJoZWlnaHQ6MHB4XCI+XHJcblx0XHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XHJcblx0XHRcdFx0XHQ8dGg+PC90aD5cclxuXHRcdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cclxuXHRcdFx0XHRcdDx0aD48L3RoPlxyXG5cdFx0XHRcdDwvdHI+XHJcblx0XCJcIlwiO1xyXG5cclxuXHR0YWJsZV9maWVsZHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRhYmxlX2ZpZWxkcyhpbnN0YW5jZSlcclxuXHJcblx0dGFibGVfZmllbGRzLmZvckVhY2ggKHRhYmxlX2ZpZWxkKS0+XHJcblxyXG5cdFx0cmVxdWlyZWQgPSBcIlwiXHJcblx0XHRpZiAhQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZSB8fCBDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lICE9IHRhYmxlX2ZpZWxkLmNvZGVcclxuXHRcdFx0aWYgdGFibGVfZmllbGQuaXNfcmVxdWlyZWRcclxuXHRcdFx0XHRyZXF1aXJlZCA9IFwiaXMtcmVxdWlyZWRcIlxyXG5cclxuXHRcdFx0aWYgX2V4cG9ydFxyXG5cdFx0XHRcdHJlcXVpcmVkID0gXCJcIjtcclxuXHJcblx0XHRcdHB1cmVDb2RlID0gU3RlZWRvcy5yZW1vdmVTcGVjaWFsQ2hhcmFjdGVyKHRhYmxlX2ZpZWxkLmNvZGUpO1xyXG5cclxuXHRcdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZCh0YWJsZV9maWVsZClcclxuXHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxyXG5cdFx0XHRcdHRlbXBsYXRlICs9IFwiXCJcIlxyXG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUgI3tyZXF1aXJlZH1cIj5cclxuXHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxyXG5cdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIG9waW5pb24tZmllbGQgb3Bpbmlvbi1maWVsZC0je3B1cmVDb2RlfSBhdXRvbWF0aWNcIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XHJcblx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxyXG5cdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcIlwiXCJcclxuXHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmRcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGlmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZXModGFibGVfZmllbGQudHlwZSwgJ3NlY3Rpb24sdGFibGUnKVxyXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcclxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IFwiXCJcIlxyXG5cdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1jaGlsZGZpZWxkIHRkLWNoaWxkZmllbGQtI3twdXJlQ29kZX1cIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XHJcblx0XHRcdFx0XHRcdCAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwiIGxhYmVsPWZhbHNlfX1cclxuXHRcdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdFwiXCJcIlxyXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcclxuXHJcblx0XHRcdFx0XHRpZiBfZXhwb3J0XHJcblx0XHRcdFx0XHRcdHRpdGxlX3Blcm1pc3Npb24gPSBcIlwiXHJcblx0XHRcdFx0XHRcdGZpZWxkX3Blcm1pc3Npb24gPSBcIlwiXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHRpdGxlX3Blcm1pc3Npb24gPSBcInRpdGxlLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvblxyXG5cdFx0XHRcdFx0XHRmaWVsZF9wZXJtaXNzaW9uID0gXCJmaWVsZC1cIiArIHRhYmxlX2ZpZWxkLnBlcm1pc3Npb25cclxuXHJcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSBcIlwiXCJcclxuXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUgdGQtdGl0bGUtI3twdXJlQ29kZX0gI3t0aXRsZV9wZXJtaXNzaW9ufSAje3JlcXVpcmVkfVwiPlxyXG5cdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwifX1cclxuXHRcdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgdGQtZmllbGQtI3twdXJlQ29kZX0gI3tmaWVsZF9wZXJtaXNzaW9ufVwiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cclxuXHRcdFx0XHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIiBsYWJlbD1mYWxzZX19XHJcblx0XHRcdFx0XHRcdDwvdGQ+XHJcblx0XHRcdFx0XHRcIlwiXCJcclxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZFxyXG5cclxuXHR0ZW1wbGF0ZSArPSBcIlwiXCJcclxuXHRcdDwvdGFibGU+XHJcblxyXG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS1mb290ZXIgZm9ybS10YWJsZSBuby1ib3JkZXJcIj5cclxuXHRcdFx0PHRyIGNsYXNzPVwiYXBwbGljYW50LXdyYXBwZXJcIj5cclxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJub3dyYXBcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cclxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7X3QgXCJpbnN0YW5jZV9pbml0aWF0b3JcIn1977yaPC9sYWJlbD5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZCBpbmxpbmUtbGVmdCc+XHJcblx0XHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvdGQ+XHJcblx0XHRcdFx0PHRkIGNsYXNzPVwibm93cmFwXCI+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdwdWxsLWxlZnQnPlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XHJcblx0XHRcdFx0XHRcdFx0PGxhYmVsPnt7X3QgXCJpbnN0YW5jZV9zdWJtaXRfZGF0ZVwifX3vvJo8L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLXJpZ2h0Jz5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0e3tmb3JtYXREYXRlIGluc3RhbmNlLnN1Ym1pdF9kYXRlICd7XCJmb3JtYXRcIjpcIllZWVktTU0tRERcIn0nfX1cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHQ8L3RyPlxyXG5cdFx0PC90YWJsZT5cclxuXHQ8L2Rpdj5cclxuXHRcIlwiXCJcclxuXHRyZXR1cm4gdGVtcGxhdGVcclxuXHJcbiPmraTlpITmqKHmnb/lhaznlKjkuI7vvJppbnN0YW5jZSDnvJbovpHjgIHmn6XnnIvjgIHmiZPljbDjgIHovazlj5Hml7bnlJ/miJDpmYTku7bjgIHlj5HpgIHpgq7ku7Zib2R56YOo5YiGKHRhYmxlIOaooeadvylcclxuI+WmguaenOacieS/ruaUue+8jOivt+a1i+ivleehruiupOWFtuS7luWKn+iDveaYr+WQpuato+W4uOOAglxyXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlID1cclxuXHRkZWZhdWx0OiAoaW5zdGFuY2UpLT5cclxuXHJcblx0XHR0ZW1wbGF0ZSA9IFwiXCJcIlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid2l0aC1ib3JkZXIgY29sLW1kLTEyXCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLW5hbWVcIj5cclxuXHRcdFx0XHRcdDxoMyBjbGFzcz1cImJveC10aXRsZVwiPiN7VGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlfTwvaDM+XHJcblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImhlbHAtYmxvY2tcIj48L3NwYW4+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJoZWxwLWJsb2NrXCI+PC9zcGFuPlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0e3sjZWFjaCBzdGVlZG9zX2Zvcm0uZmllbGRzfX1cclxuXHRcdFx0XHR7eyNpZiBpc09waW5pb25GaWVsZCB0aGlzfX1cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19IGZpZWxkLXt7dGhpcy5jb2RlfX1cIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgYXV0b21hdGljIG9waW5pb24tZmllbGQte3t0aGlzLmNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fTwvbGFiZWw+XHJcblxyXG5cdFx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9dGhpcy5jb2RlfX1cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtbWQtMTIgZmllbGQte3t0aGlzLmNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGV9fVxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdHt7L2VhY2h9fVxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY29sLW1kLTEyXCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImFwcGxpY2FudC13cmFwcGVyIGZvcm0tZ3JvdXAgZm9ybS1ob3Jpem9udGFsXCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYWRkb25cIj5cclxuXHRcdFx0XHRcdCAge3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX0mbmJzcDs6XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cclxuXHRcdFx0XHQgIDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFwiXCJcIlxyXG5cdFx0cmV0dXJuIHRlbXBsYXRlXHJcblxyXG5cdHRhYmxlOiAoaW5zdGFuY2UpLT5cclxuXHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZShpbnN0YW5jZSlcclxuI1x0dGFibGU6ICcnJ1xyXG4jXHRcdDx0YWJsZSBjbGFzcz1cImJveC1oZWFkZXIgIHdpdGgtYm9yZGVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XCI+XHJcbiNcdFx0XHQ8dHIgY2xhc3M9XCJpbnN0YW5jZS1uYW1lXCI+XHJcbiNcdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLW5hbWUtdGRcIj5cclxuI1x0XHRcdFx0XHQ8aDMgY2xhc3M9XCJib3gtdGl0bGVcIj57e2luc3RhbmNlLm5hbWV9fTwvaDM+XHJcbiNcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJoZWxwLWJsb2NrXCI+PC9zcGFuPlxyXG4jXHRcdFx0XHQ8L3RkPlxyXG4jXHRcdFx0PC90cj5cclxuIyAgICAgICAgICAgIDx0ciBjbGFzcz1cImFwcGxpY2FudC13cmFwcGVyXCI+XHJcbiNcdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLXdyYXBwZXItdGRcIj5cclxuI1x0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX0mbmJzcDs6PC9sYWJlbD5cclxuI1x0XHRcdFx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cImFmU2VsZWN0VXNlclwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XHJcbiNcdFx0XHRcdDwvdGQ+XHJcbiNcdFx0XHQ8L3RyPlxyXG4jICAgICAgICA8L3RhYmxlPlxyXG4jXHRcdDx0YWJsZSBjbGFzcz1cImZvcm0tdGFibGVcIj5cclxuI1x0XHQgICAge3sjZWFjaCB0YWJsZV9maWVsZHN9fVxyXG4jXHRcdFx0XHR7eyNpZiBpc09waW5pb25GaWVsZCB0aGlzfX1cclxuI1x0XHRcdFx0XHR7e3t0cl9zdGFydH19fVxyXG4jXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUge3sjaWYgaXNfcmVxdWlyZWR9fWlzLXJlcXVpcmVke3svaWZ9fVwiPlxyXG4jXHRcdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fVxyXG4jXHRcdFx0XHRcdFx0PC90ZD5cclxuI1x0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIG9waW5pb24tZmllbGRcIiBjb2xzcGFuID0gJ3t7dGRfY29sc3Bhbn19Jz5cclxuI1x0XHRcdFx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgc3RlcD0oZ2V0T3BpbmlvbkZpZWxkU3RlcE5hbWUgdGhpcykgZGVmYXVsdD0nJ319XHJcbiNcdFx0XHRcdFx0XHQ8L3RkPlxyXG4jXHRcdFx0XHRcdHt7e3RyX2VuZH19fVxyXG4jXHRcdFx0XHR7e2Vsc2V9fVxyXG4jXHRcdFx0XHRcdHt7I2lmIGluY2x1ZGVzIHRoaXMudHlwZSAnc2VjdGlvbix0YWJsZSd9fVxyXG4jXHRcdFx0XHRcdFx0e3t7dHJfc3RhcnR9fX1cclxuI1x0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtY2hpbGRmaWVsZFwiIGNvbHNwYW4gPSAne3t0ZF9jb2xzcGFufX0nPlxyXG4jXHRcdFx0XHRcdFx0XHQgICB7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGUgbGFiZWw9ZmFsc2V9fVxyXG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxyXG4jXHRcdFx0XHRcdFx0e3t7dHJfZW5kfX19XHJcbiNcdFx0XHRcdFx0e3tlbHNlfX1cclxuI1x0XHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XHJcbiNcdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLXRpdGxlIHt7I2lmIGlzX3JlcXVpcmVkfX1pcy1yZXF1aXJlZHt7L2lmfX1cIj5cclxuI1x0XHRcdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fVxyXG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxyXG4jXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1maWVsZCB7e3Blcm1pc3Npb259fVwiIGNvbHNwYW4gPSAne3t0ZF9jb2xzcGFufX0nPlxyXG4jXHRcdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XHJcbiNcdFx0XHRcdFx0XHRcdDwvdGQ+XHJcbiNcdFx0XHRcdFx0XHR7e3t0cl9lbmR9fX1cclxuI1x0XHRcdFx0XHR7ey9pZn19XHJcbiNcdFx0XHRcdHt7L2lmfX1cclxuI1xyXG4jXHRcdCAgICB7ey9lYWNofX1cclxuI1x0XHQ8L3RhYmxlPlxyXG4jXHQnJydcclxuXHJcblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVIZWxwcyA9XHJcblx0YXBwbGljYW50Q29udGV4dDogLT5cclxuXHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGRhdGEgPSB7XHJcblx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50JyxcclxuXHRcdFx0YXR0czoge1xyXG5cdFx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50JyxcclxuXHRcdFx0XHRpZDogJ2luc19hcHBsaWNhbnQnLFxyXG5cdFx0XHRcdGNsYXNzOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wnLFxyXG5cdFx0XHRcdHN0eWxlOiAncGFkZGluZzo2cHggMTJweDt3aWR0aDoxNDBweDtkaXNwbGF5OmlubGluZSdcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4jXHRcdGlmIG5vdCBzdGVlZG9zX2luc3RhbmNlIHx8IHN0ZWVkb3NfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiXHJcblx0XHRkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlXHJcblx0XHRyZXR1cm4gZGF0YTtcclxuXHJcbmluc3RhbmNlSWQ6IC0+XHJcblx0cmV0dXJuICdpbnN0YW5jZWZvcm0nOyNcImluc3RhbmNlX1wiICsgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpO1xyXG5cclxuZm9ybV90eXBlczogLT5cclxuXHRpZiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcclxuXHRcdHJldHVybiAnZGlzYWJsZWQnO1xyXG5cdGVsc2VcclxuXHRcdHJldHVybiAnbWV0aG9kJztcclxuXHJcbnN0ZWVkb3NfZm9ybTogLT5cclxuXHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xyXG5cdGlmIGZvcm1fdmVyc2lvblxyXG5cdFx0cmV0dXJuIGZvcm1fdmVyc2lvblxyXG5cclxuaW5uZXJzdWJmb3JtQ29udGV4dDogKG9iaiktPlxyXG5cdGRvY192YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XHJcblx0b2JqW1widGFibGVWYWx1ZXNcIl0gPSBpZiBkb2NfdmFsdWVzIHRoZW4gZG9jX3ZhbHVlc1tvYmouY29kZV0gZWxzZSBbXVxyXG5cdG9ialtcImZvcm1JZFwiXSA9IGZvcm1JZDtcclxuXHRyZXR1cm4gb2JqO1xyXG5cclxuaW5zdGFuY2U6IC0+XHJcblx0U2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKVxyXG5cdGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpXHJcblx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRyZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcclxuXHJcbmVxdWFsczogKGEsIGIpIC0+XHJcblx0cmV0dXJuIChhID09IGIpXHJcblxyXG5pbmNsdWRlczogKGEsIGIpIC0+XHJcblx0cmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcclxuXHJcbmZpZWxkczogLT5cclxuXHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xyXG5cdGlmIGZvcm1fdmVyc2lvblxyXG5cdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcclxuXHJcbmRvY192YWx1ZXM6IC0+XHJcblx0V29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xyXG5cclxuaW5zdGFuY2VfYm94X3N0eWxlOiAtPlxyXG5cdGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpXHJcblx0aWYgYm94ID09IFwiaW5ib3hcIiB8fCBib3ggPT0gXCJkcmFmdFwiXHJcblx0XHRqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIilcclxuXHRcdGlmIGp1ZGdlXHJcblx0XHRcdGlmIChqdWRnZSA9PSBcImFwcHJvdmVkXCIpXHJcblx0XHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxyXG5cdFx0XHRlbHNlIGlmIChqdWRnZSA9PSBcInJlamVjdGVkXCIpXHJcblx0XHRcdFx0cmV0dXJuIFwiYm94LWRhbmdlclwiXHJcblx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0aWYgaW5zICYmIGlucy5maW5hbF9kZWNpc2lvblxyXG5cdFx0aWYgaW5zLmZpbmFsX2RlY2lzaW9uID09IFwiYXBwcm92ZWRcIlxyXG5cdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXHJcblx0XHRlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJyZWplY3RlZFwiKVxyXG5cdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcclxuXHJcblxyXG5UZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUgPSAoaW5zdGFuY2UsIHRlbXBsYXRlTmFtZSkgLT5cclxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcclxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcclxuXHJcblx0aWYgdGVtcGxhdGVOYW1lXHJcblx0XHRpZiB0ZW1wbGF0ZU5hbWUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSlcclxuXHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXHJcblxyXG5cdGlmIFNlc3Npb24/LmdldChcImluc3RhbmNlUHJpbnRcIilcclxuXHRcdGlmIGZsb3c/LnByaW50X3RlbXBsYXRlXHJcblx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cucHJpbnRfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXHJcblx0XHRlbHNlXHJcblx0XHRcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXHJcblx0XHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxyXG5cdGVsc2VcclxuXHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxyXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS5kZWZhdWx0KGluc3RhbmNlKVxyXG5cclxuXHRcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXHJcblx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXHJcblxyXG5cdFx0aWYgZm9ybT8uaW5zdGFuY2Vfc3R5bGVcclxuXHRcdFx0aWYgZm9ybS5pbnN0YW5jZV9zdHlsZSA9PSAndGFibGUnXHJcblx0XHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXHJcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXHJcblxyXG4jVGVtcGxhdGVNYW5hZ2VyLmV4cG9ydFRlbXBsYXRlID0gKGZsb3dJZCkgLT5cclxuI1x0dGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoZmxvd0lkKTtcclxuI1xyXG4jXHRmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZsb3coZmxvd0lkKTtcclxuI1xyXG4jXHRpZiBmbG93Py5pbnN0YW5jZV90ZW1wbGF0ZVxyXG4jXHRcdHJldHVybiB0ZW1wbGF0ZTtcclxuI1xyXG4jXHRyZXR1cm4gdGVtcGxhdGU7XHJcblxyXG4iLCJ2YXIgZm9ybUlkOyAgICAgICAgICAgICAgICAgXG5cblRlbXBsYXRlTWFuYWdlciA9IHt9O1xuXG5mb3JtSWQgPSAnaW5zdGFuY2Vmb3JtJztcblxuVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYWdlVGl0bGUsIHBhZ2VUaXRsZVRyQ2xhc3MsIHZhbDtcbiAgcGFnZVRpdGxlID0gXCJ7e2luc3RhbmNlLm5hbWV9fVwiO1xuICBwYWdlVGl0bGVUckNsYXNzID0gXCJpbnN0YW5jZS1uYW1lXCI7XG4gIGlmICh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApIHtcbiAgICBwYWdlVGl0bGUgPSBcInt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSArIFwiXFxcIiBsYWJlbD1mYWxzZX19XCI7XG4gICAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZSA6IHZvaWQgMCkge1xuICAgIHBhZ2VUaXRsZSA9IFwiXCIgKyBDb3JlRm9ybS5wYWdlVGl0bGU7XG4gICAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiXCI7XG4gIH1cbiAgdmFsID0ge1xuICAgIHBhZ2VUaXRsZTogcGFnZVRpdGxlLFxuICAgIHBhZ2VUaXRsZVRyQ2xhc3M6IHBhZ2VUaXRsZVRyQ2xhc3NcbiAgfTtcbiAgcmV0dXJuIHZhbDtcbn07XG5cblRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlID0gZnVuY3Rpb24oaW5zdGFuY2UsIF9leHBvcnQpIHtcbiAgdmFyIHRhYmxlX2ZpZWxkcywgdGVtcGxhdGU7XG4gIHRlbXBsYXRlID0gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XFxuXHQ8dGFibGUgY2xhc3M9XFxcInRhYmxlLXBhZ2UtdGl0bGUgZm9ybS10YWJsZSBuby1ib3JkZXIgdGV4dC1hbGlnbi1jZW50ZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XFxcIj5cXG5cdFx0PHRyIGNsYXNzPVxcXCJcIiArICh0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlVHJDbGFzcykgKyBcIlxcXCI+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJpbnN0YW5jZS10YWJsZS1uYW1lLXRkIHBhZ2UtdGl0bGVcXFwiPlxcblx0XHRcdFx0XCIgKyAodGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZSkgKyBcIlxcblx0XHRcdDwvdGQ+XFxuXHRcdDwvdHI+XFxuXFxuXHQ8L3RhYmxlPlxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLWJvZHkgZm9ybS10YWJsZVxcXCI+XFxuXHRcdFx0PHRyIHN0eWxlPVxcXCJoZWlnaHQ6MHB4XFxcIj5cXG5cdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cXG5cdFx0XHRcdDx0aD48L3RoPlxcblx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxcblx0XHRcdFx0PHRoPjwvdGg+XFxuXHRcdFx0PC90cj5cIjtcbiAgdGFibGVfZmllbGRzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50YWJsZV9maWVsZHMoaW5zdGFuY2UpO1xuICB0YWJsZV9maWVsZHMuZm9yRWFjaChmdW5jdGlvbih0YWJsZV9maWVsZCkge1xuICAgIHZhciBmaWVsZF9wZXJtaXNzaW9uLCBwdXJlQ29kZSwgcmVxdWlyZWQsIHRpdGxlX3Blcm1pc3Npb247XG4gICAgcmVxdWlyZWQgPSBcIlwiO1xuICAgIGlmICghKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgfHwgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgIT09IHRhYmxlX2ZpZWxkLmNvZGUpIHtcbiAgICAgIGlmICh0YWJsZV9maWVsZC5pc19yZXF1aXJlZCkge1xuICAgICAgICByZXF1aXJlZCA9IFwiaXMtcmVxdWlyZWRcIjtcbiAgICAgIH1cbiAgICAgIGlmIChfZXhwb3J0KSB7XG4gICAgICAgIHJlcXVpcmVkID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIHB1cmVDb2RlID0gU3RlZWRvcy5yZW1vdmVTcGVjaWFsQ2hhcmFjdGVyKHRhYmxlX2ZpZWxkLmNvZGUpO1xuICAgICAgaWYgKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGQodGFibGVfZmllbGQpKSB7XG4gICAgICAgIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0O1xuICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtdGl0bGUgXCIgKyByZXF1aXJlZCArIFwiXFxcIj5cXG5cdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XFxuPHRkIGNsYXNzPVxcXCJ0ZC1maWVsZCBvcGluaW9uLWZpZWxkIG9waW5pb24tZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiIGF1dG9tYXRpY1xcXCIgY29sc3BhbiA9IFxcXCJcIiArIHRhYmxlX2ZpZWxkLnRkX2NvbHNwYW4gKyBcIlxcXCI+XFxuXHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XCI7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlcyh0YWJsZV9maWVsZC50eXBlLCAnc2VjdGlvbix0YWJsZScpKSB7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnQ7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9XFxcInRkLWNoaWxkZmllbGQgdGQtY2hpbGRmaWVsZC1cIiArIHB1cmVDb2RlICsgXCJcXFwiIGNvbHNwYW4gPSBcXFwiXCIgKyB0YWJsZV9maWVsZC50ZF9jb2xzcGFuICsgXCJcXFwiPlxcbiAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVxcbjwvdGQ+XCI7XG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydDtcbiAgICAgICAgICBpZiAoX2V4cG9ydCkge1xuICAgICAgICAgICAgdGl0bGVfcGVybWlzc2lvbiA9IFwiXCI7XG4gICAgICAgICAgICBmaWVsZF9wZXJtaXNzaW9uID0gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGl0bGVfcGVybWlzc2lvbiA9IFwidGl0bGUtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uO1xuICAgICAgICAgICAgZmllbGRfcGVybWlzc2lvbiA9IFwiZmllbGQtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtdGl0bGUgdGQtdGl0bGUtXCIgKyBwdXJlQ29kZSArIFwiIFwiICsgdGl0bGVfcGVybWlzc2lvbiArIFwiIFwiICsgcmVxdWlyZWQgKyBcIlxcXCI+XFxuXHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwifX1cXG48L3RkPlxcbjx0ZCBjbGFzcz1cXFwidGQtZmllbGQgdGQtZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiIFwiICsgZmllbGRfcGVybWlzc2lvbiArIFwiXFxcIiBjb2xzcGFuID0gXFxcIlwiICsgdGFibGVfZmllbGQudGRfY29sc3BhbiArIFwiXFxcIj5cXG5cdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVxcbjwvdGQ+XCI7XG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHRlbXBsYXRlICs9IFwiXHQ8L3RhYmxlPlxcblxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLWZvb3RlciBmb3JtLXRhYmxlIG5vLWJvcmRlclxcXCI+XFxuXHRcdDx0ciBjbGFzcz1cXFwiYXBwbGljYW50LXdyYXBwZXJcXFwiPlxcblx0XHRcdDx0ZCBjbGFzcz1cXFwibm93cmFwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e190IFxcXCJpbnN0YW5jZV9pbml0aWF0b3JcXFwifX3vvJo8L2xhYmVsPlxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10YWJsZS13cmFwcGVyLXRkIGlubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XFxcImFmU2VsZWN0VXNlclxcXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvdGQ+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJub3dyYXBcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz0ncHVsbC1sZWZ0Jz5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxcblx0XHRcdFx0XHRcdDxsYWJlbD57e190IFxcXCJpbnN0YW5jZV9zdWJtaXRfZGF0ZVxcXCJ9fe+8mjwvbGFiZWw+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtcmlnaHQnPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0e3tmb3JtYXREYXRlIGluc3RhbmNlLnN1Ym1pdF9kYXRlICd7XFxcImZvcm1hdFxcXCI6XFxcIllZWVktTU0tRERcXFwifSd9fVxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvdGQ+XFxuXHRcdDwvdHI+XFxuXHQ8L3RhYmxlPlxcbjwvZGl2PlwiO1xuICByZXR1cm4gdGVtcGxhdGU7XG59O1xuXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlID0ge1xuICBcImRlZmF1bHRcIjogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB2YXIgdGVtcGxhdGU7XG4gICAgdGVtcGxhdGUgPSBcIjxkaXYgY2xhc3M9XFxcIndpdGgtYm9yZGVyIGNvbC1tZC0xMlxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1uYW1lXFxcIj5cXG5cdFx0PGgzIGNsYXNzPVxcXCJib3gtdGl0bGVcXFwiPlwiICsgKFRlbXBsYXRlTWFuYWdlci5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZSkgKyBcIjwvaDM+XFxuXHRcdDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj48L3NwYW4+XFxuXHQ8L2Rpdj5cXG5cdDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj48L3NwYW4+XFxuPC9kaXY+XFxue3sjZWFjaCBzdGVlZG9zX2Zvcm0uZmllbGRzfX1cXG5cdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxcblx0XHQ8ZGl2IGNsYXNzPVxcXCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19IGZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgYXV0b21hdGljIG9waW5pb24tZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19PC9sYWJlbD5cXG5cXG5cdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9dGhpcy5jb2RlfX1cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0PC9kaXY+XFxuXHR7e2Vsc2V9fVxcblx0XHR7eyNpZiBpbmNsdWRlcyB0aGlzLnR5cGUgJ3NlY3Rpb24sdGFibGUnfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTIgZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGUgbGFiZWw9ZmFsc2V9fVxcblx0XHRcdDwvZGl2Plxcblx0XHR7e2Vsc2V9fVxcblx0XHRcdDxkaXYgY2xhc3M9XFxcInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlfX1cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0e3svaWZ9fVxcblx0e3svaWZ9fVxcbnt7L2VhY2h9fVxcbjxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJhcHBsaWNhbnQtd3JhcHBlciBmb3JtLWdyb3VwIGZvcm0taG9yaXpvbnRhbFxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxuXHRcdDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwLWFkZG9uXFxcIj5cXG5cdFx0ICB7e190IFxcXCJpbnN0YW5jZV9pbml0aWF0b3JcXFwifX0mbmJzcDs6XFxuXHRcdDwvZGl2Plxcblx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cXFwiYWZTZWxlY3RVc2VyXFxcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxcblx0ICA8L2Rpdj5cXG5cdDwvZGl2PlxcbjwvZGl2PlwiO1xuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfSxcbiAgdGFibGU6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKGluc3RhbmNlKTtcbiAgfVxufTtcblxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZUhlbHBzID0ge1xuICBhcHBsaWNhbnRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSwgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgZGF0YSA9IHtcbiAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgIGF0dHM6IHtcbiAgICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBpZDogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBcImNsYXNzXCI6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCcsXG4gICAgICAgIHN0eWxlOiAncGFkZGluZzo2cHggMTJweDt3aWR0aDoxNDBweDtkaXNwbGF5OmlubGluZSdcbiAgICAgIH1cbiAgICB9O1xuICAgIGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWU7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn07XG5cbih7XG4gIGluc3RhbmNlSWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnaW5zdGFuY2Vmb3JtJztcbiAgfSxcbiAgZm9ybV90eXBlczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKSkge1xuICAgICAgcmV0dXJuICdkaXNhYmxlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbWV0aG9kJztcbiAgICB9XG4gIH0sXG4gIHN0ZWVkb3NfZm9ybTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBmb3JtX3ZlcnNpb247XG4gICAgfVxuICB9LFxuICBpbm5lcnN1YmZvcm1Db250ZXh0OiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZG9jX3ZhbHVlcztcbiAgICBkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIG9ialtcInRhYmxlVmFsdWVzXCJdID0gZG9jX3ZhbHVlcyA/IGRvY192YWx1ZXNbb2JqLmNvZGVdIDogW107XG4gICAgb2JqW1wiZm9ybUlkXCJdID0gZm9ybUlkO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGluc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpO1xuICAgIGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuICAgIH1cbiAgfSxcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIGluY2x1ZGVzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgZmllbGRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcbiAgICB9XG4gIH0sXG4gIGRvY192YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gIH0sXG4gIGluc3RhbmNlX2JveF9zdHlsZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJveCwgaW5zLCBqdWRnZTtcbiAgICBib3ggPSBTZXNzaW9uLmdldChcImJveFwiKTtcbiAgICBpZiAoYm94ID09PSBcImluYm94XCIgfHwgYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICAgIGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKTtcbiAgICAgIGlmIChqdWRnZSkge1xuICAgICAgICBpZiAoanVkZ2UgPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoanVkZ2UgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zICYmIGlucy5maW5hbF9kZWNpc2lvbikge1xuICAgICAgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICB9IGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG5UZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbihpbnN0YW5jZSwgdGVtcGxhdGVOYW1lKSB7XG4gIHZhciBmbG93LCBmb3JtO1xuICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gIGlmICh0ZW1wbGF0ZU5hbWUpIHtcbiAgICBpZiAodGVtcGxhdGVOYW1lID09PSAndGFibGUnKSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBTZXNzaW9uICE9PSBcInVuZGVmaW5lZFwiICYmIFNlc3Npb24gIT09IG51bGwgPyBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgOiB2b2lkIDApIHtcbiAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5wcmludF90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5wcmludF90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlIDogdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgfVxuICAgIGlmIChmb3JtICE9IG51bGwgPyBmb3JtLmluc3RhbmNlX3N0eWxlIDogdm9pZCAwKSB7XG4gICAgICBpZiAoZm9ybS5pbnN0YW5jZV9zdHlsZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufTtcbiIsIlN0ZWVkb3NUYWJsZSA9IHt9O1xyXG5cclxuU3RlZWRvc1RhYmxlLmZvcm1JZCA9IFwiaW5zdGFuY2Vmb3JtXCI7XHJcblxyXG5TdGVlZG9zVGFibGUuY2hlY2tJdGVtID0gZnVuY3Rpb24oZmllbGQsIGl0ZW1faW5kZXgpIHtcclxuICAgIHZhciBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XHJcblxyXG4gICAgdmFyIGZpZWxkVmFsID0gU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlKGZpZWxkLCBpdGVtX2luZGV4KTtcclxuXHJcbiAgICB2YXIgc2ZfbmFtZSA9ICcnO1xyXG4gICAgdmFyIHJldiA9IHRydWU7XHJcbiAgICBmaWVsZE9iai5zZmllbGRzLmZvckVhY2goZnVuY3Rpb24oc2YpIHtcclxuICAgICAgICBpZiAoc2YucGVybWlzc2lvbiA9PSAnZWRpdGFibGUnKSB7XHJcbiAgICAgICAgICAgIHNmX25hbWUgPSBmaWVsZE9iai5jb2RlICsgXCIuXCIgKyBzZi5jb2RlO1xyXG4gICAgICAgICAgICBpZiAoIUluc3RhbmNlTWFuYWdlci5jaGVja0Zvcm1GaWVsZFZhbHVlKCQoXCJbbmFtZT0nXCIgKyBzZl9uYW1lICsgXCInXVwiKVswXSkpIHtcclxuICAgICAgICAgICAgICAgIHJldiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJldjtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLnNldFRhYmxlSXRlbVZhbHVlID0gZnVuY3Rpb24oZmllbGQsIGl0ZW1faW5kZXgsIGl0ZW1fdmFsdWUpIHtcclxuXHJcbiAgICB2YXIgdGFibGVWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKTtcclxuICAgIHRhYmxlVmFsdWVbaXRlbV9pbmRleF0gPSBpdGVtX3ZhbHVlO1xyXG59XHJcblxyXG5TdGVlZG9zVGFibGUuZ2V0VGFibGVJdGVtVmFsdWUgPSBmdW5jdGlvbihmaWVsZCwgaXRlbV9pbmRleCkge1xyXG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKVtpdGVtX2luZGV4XTtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLnJlbW92ZVRhYmxlSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XHJcbiAgICB2YXIgaXRlbV92YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZUl0ZW1WYWx1ZShmaWVsZCwgaXRlbV9pbmRleCk7XHJcbiAgICBpdGVtX3ZhbHVlLnJlbW92ZWQgPSB0cnVlO1xyXG59XHJcblxyXG5TdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZSkge1xyXG4gICAgJChcInRhYmxlW25hbWU9J1wiICsgZmllbGQgKyBcIiddXCIpLnZhbCh7XHJcbiAgICAgICAgdmFsOiB2YWx1ZVxyXG4gICAgfSk7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlID0gZnVuY3Rpb24oZmllbGQpIHtcclxuICAgIHJldHVybiAkKFwidGFibGVbbmFtZT0nXCIgKyBmaWVsZCArIFwiJ11cIikudmFsKCkudmFsO1xyXG59XHJcblxyXG5TdGVlZG9zVGFibGUuZ2V0VmFsaWRWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkKSB7XHJcbiAgICB2YXIgdmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCk7XHJcblxyXG4gICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHZhciB2YWxpZFZhbHVlID0gW107XHJcblxyXG4gICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbih2KSB7XHJcbiAgICAgICAgaWYgKCF2LnJlbW92ZWQpIHtcclxuICAgICAgICAgICAgdmFsaWRWYWx1ZS5wdXNoKHYpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHZhbGlkVmFsdWU7XHJcbn1cclxuXHJcblxyXG5TdGVlZG9zVGFibGUuaGFuZGxlRGF0YSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZXMpIHtcclxuXHJcbiAgICBpZiAoIXZhbHVlcyB8fCAhKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcclxuXHJcbiAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih2KSB7XHJcbiAgICAgICAgZmllbGRPYmouc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcclxuICAgICAgICAgICAgaWYgKGYudHlwZSA9PSAndXNlcicgfHwgZi50eXBlID09ICdncm91cCcpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZbZi5jb2RlXVxyXG4gICAgICAgICAgICAgICAgaWYgKGYuaXNfbXVsdGlzZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUubGVuZ3RoID4gMCAmJiB0eXBlb2YodmFsdWVbMF0pID09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbZi5jb2RlXSA9IHZbZi5jb2RlXS5nZXRQcm9wZXJ0eShcImlkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZih2YWx1ZSkgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdltmLmNvZGVdID0gdltmLmNvZGVdLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChmLnR5cGUgPT0gJ2RhdGVUaW1lJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdltmLmNvZGVdXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDE2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCJUXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQxID0gdFsxXS5zcGxpdChcIjpcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdDBbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdDBbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSB0MFsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSB0MVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IHQxWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2W2YuY29kZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRGaWVsZCA9IGZ1bmN0aW9uKGZpZWxkKSB7XHJcbiAgICB2YXIgaW5zdGFuY2VGaWVsZHMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGaWVsZHMoKTtcclxuICAgIGlmICghaW5zdGFuY2VGaWVsZHMpXHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHZhciBmaWVsZE9iaiA9IGluc3RhbmNlRmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGZpZWxkKTtcclxuXHJcbiAgICByZXR1cm4gZmllbGRPYmo7XHJcbn1cclxuXHJcblxyXG5TdGVlZG9zVGFibGUuZ2V0TW9kYWxEYXRhID0gZnVuY3Rpb24oZmllbGQsIGluZGV4KSB7XHJcblxyXG4gICAgdmFyIGRhdGEgPSB7fTtcclxuXHJcbiAgICB2YXIgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xyXG5cclxuICAgIGlmICghZmllbGRPYmopIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YS5maWVsZCA9IGZpZWxkT2JqO1xyXG5cclxuICAgIGRhdGEuZmllbGQuZm9ybXVsYSA9IEZvcm1fZm9ybXVsYS5nZXRGb3JtdWxhRmllbGRWYXJpYWJsZShcIkZvcm1fZm9ybXVsYS5maWVsZF92YWx1ZXNcIiwgZmllbGRPYmouc2ZpZWxkcyk7XHJcblxyXG4gICAgZGF0YS52YWx1ZSA9IHt9O1xyXG5cclxuICAgIGRhdGEudmFsdWVbZmllbGRdID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpbmRleCk7XHJcblxyXG4gICAgZGF0YS5pbmRleCA9IGluZGV4O1xyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XHJcblxyXG4gICAgaWYgKCFBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwic3RlZWRvc190YWJsZV9tb2RhbF9cIiArIGZpZWxkICsgXCJfXCIgKyBpdGVtX2luZGV4KSkge1xyXG4gICAgICAgIHJldHVybiB7fVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBpdGVtX3ZhbHVlID0gQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcInN0ZWVkb3NfdGFibGVfbW9kYWxfXCIgKyBmaWVsZCArIFwiX1wiICsgaXRlbV9pbmRleCkuaW5zZXJ0RG9jW2ZpZWxkXTtcclxuICAgIHJldHVybiBpdGVtX3ZhbHVlO1xyXG59XHJcblxyXG5cclxuU3RlZWRvc1RhYmxlLmFkZEl0ZW0gPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgsIF9pdGVtX3ZhbHVlKSB7XHJcbiAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcclxuICAgIHZhciBpdGVtX3ZhbHVlID0gX2l0ZW1fdmFsdWUgfHwgU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlKGZpZWxkLCBpbmRleCk7XHJcbiAgICAkKFwidGJvZHlbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGJvZHknXVwiKS5hcHBlbmQoU3RlZWRvc1RhYmxlLmdldFRyKGtleXMsIGl0ZW1fdmFsdWUsIGluZGV4LCBmaWVsZCwgdHJ1ZSkpXHJcblxyXG59XHJcblxyXG5TdGVlZG9zVGFibGUudXBkYXRlSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCwgX2l0ZW1fdmFsdWUpIHtcclxuXHJcbiAgICB2YXIgaXRlbSA9ICQoXCJ0cltuYW1lPSdcIiArIGZpZWxkICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInXVwiKTtcclxuXHJcbiAgICB2YXIgaXRlbV92YWx1ZSA9IF9pdGVtX3ZhbHVlIHx8IFN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZShmaWVsZCwgaW5kZXgpO1xyXG5cclxuICAgIGlmIChpdGVtICYmIGl0ZW0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xyXG4gICAgICAgIHZhciB0ZHMgPSBTdGVlZG9zVGFibGUuZ2V0UmVtb3ZlVGQoZmllbGQsIGluZGV4KTtcclxuXHJcbiAgICAgICAgdmFyIHNmaWVsZHMgPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpLnNmaWVsZHM7XHJcblxyXG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgdmFyIHNmaWVsZCA9IHNmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwga2V5KTtcclxuXHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1fdmFsdWVba2V5XTtcclxuXHJcbiAgICAgICAgICAgIHRkcyA9IHRkcyArIFN0ZWVkb3NUYWJsZS5nZXRUZChzZmllbGQsIGluZGV4LCB2YWx1ZSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdGVtLmVtcHR5KCk7XHJcblxyXG4gICAgICAgIGl0ZW0uYXBwZW5kKHRkcyk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgU3RlZWRvc1RhYmxlLmFkZEl0ZW0oZmllbGQsIGluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpKSB7XHJcblxyXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZUl0ZW1WYWx1ZShmaWVsZCwgaW5kZXgsIGl0ZW1fdmFsdWUpO1xyXG5cclxuICAgICAgICAvL1N0ZWVkb3NUYWJsZS52YWx1ZUhhc2hbZmllbGRdW2luZGV4XSA9IGl0ZW1fdmFsdWU7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL1N0ZWVkb3NUYWJsZS52YWx1ZUhhc2hbZmllbGRdID0gW2l0ZW1fdmFsdWVdO1xyXG5cclxuICAgICAgICBTdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZShmaWVsZCwgW2l0ZW1fdmFsdWVdKVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL+aJp+ihjOS4u+ihqOWFrOW8j+iuoeeul1xyXG4gICAgSW5zdGFuY2VNYW5hZ2VyLnJ1bkZvcm11bGEoZmllbGQpO1xyXG5cclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgpIHtcclxuXHJcbiAgICAkKFwidHJbbmFtZT0nXCIgKyBmaWVsZCArIFwiX2l0ZW1fXCIgKyBpbmRleCArIFwiJ11cIikuaGlkZSgpO1xyXG5cclxuICAgIFN0ZWVkb3NUYWJsZS5yZW1vdmVUYWJsZUl0ZW0oZmllbGQsIGluZGV4KTtcclxuXHJcbiAgICBJbnN0YW5jZU1hbmFnZXIucnVuRm9ybXVsYShmaWVsZCk7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5zaG93TW9kYWwgPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgsIG1ldGhvZCkge1xyXG5cclxuXHJcbiAgICB2YXIgbW9kYWxEYXRhID0gU3RlZWRvc1RhYmxlLmdldE1vZGFsRGF0YShmaWVsZCwgaW5kZXgpO1xyXG5cclxuICAgIG1vZGFsRGF0YS5tZXRob2QgPSBtZXRob2Q7XHJcblxyXG4gICAgTW9kYWwuc2hvdyhcInN0ZWVkb3NUYWJsZU1vZGFsXCIsIG1vZGFsRGF0YSk7XHJcblxyXG59XHJcblxyXG5TdGVlZG9zVGFibGUuZ2V0S2V5cyA9IGZ1bmN0aW9uKGZpZWxkKSB7XHJcbiAgICBpZiAoIUF1dG9Gb3JtLmdldEN1cnJlbnREYXRhRm9yRm9ybShTdGVlZG9zVGFibGUuZm9ybUlkKSkge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgc3MgPSBBdXRvRm9ybS5nZXRGb3JtU2NoZW1hKFN0ZWVkb3NUYWJsZS5mb3JtSWQpO1xyXG5cclxuICAgIHZhciBrZXlzID0gW107XHJcblxyXG4gICAgaWYgKHNzLnNjaGVtYShmaWVsZCArIFwiLiRcIikudHlwZSA9PT0gT2JqZWN0KSB7XHJcbiAgICAgICAga2V5cyA9IHNzLm9iamVjdEtleXMoU2ltcGxlU2NoZW1hLl9tYWtlR2VuZXJpYyhmaWVsZCkgKyAnLiQnKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBrZXlzO1xyXG5cclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldFRoZWFkID0gZnVuY3Rpb24oZmllbGQsIGVkaXRhYmxlKSB7XHJcblxyXG4gICAgdmFyIGZpZWxkT2JqID0gZmllbGQ7XHJcbiAgICBpZiAoIV8uaXNPYmplY3QoZmllbGQpKVxyXG4gICAgICAgIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcclxuXHJcbiAgICBpZiAoIWZpZWxkT2JqKSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0aGVhZCA9ICcnLFxyXG4gICAgICAgIHRycyA9ICcnLFxyXG4gICAgICAgIGxhYmVsID0gJycsXHJcbiAgICAgICAgd2lkdGggPSAxMDA7XHJcblxyXG4gICAgaWYgKGVkaXRhYmxlKSB7XHJcbiAgICAgICAgLy8gdHJzID0gXCI8dGggY2xhc3M9J3JlbW92ZWQnPjwvdGg+XCJcclxuXHRcdHRycyA9IFwiXCJcclxuICAgIH1cclxuXHJcbiAgICB2YXIgc2ZpZWxkcyA9IGZpZWxkT2JqLnNmaWVsZHM7XHJcblxyXG4gICAgaWYoIXNmaWVsZHMpe1xyXG4gICAgXHRyZXR1cm4gdGhlYWQ7XHJcblx0fVxyXG5cclxuICAgIHZhciBzZl9sZW5ndGggPSBzZmllbGRzLmxlbmd0aDtcclxuXHJcbiAgICBpZiAoc2ZfbGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciB3aWRlX2ZpZWxkcyA9IHNmaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xyXG5cclxuICAgICAgICB3aWR0aCA9IDEwMCAvIChzZl9sZW5ndGggKyB3aWRlX2ZpZWxkcy5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihzZiwgaW5kZXgpIHtcclxuXHJcbiAgICAgICAgbGFiZWwgPSAoc2YubmFtZSAhPSBudWxsICYmIHNmLm5hbWUubGVuZ3RoID4gMCkgPyBzZi5uYW1lIDogc2YuY29kZTtcclxuXHJcbiAgICAgICAgdHJzID0gdHJzICsgXCI8dGQgXCI7IC8vIG5vd3JhcD0nbm93cmFwJ1xyXG5cclxuICAgICAgICB0cnMgPSB0cnMgKyBcIiBjbGFzcz0ndGl0bGUgXCIgKyBzZi50eXBlICsgXCInXCI7XHJcblxyXG4gICAgICAgIGlmIChpbmRleCAhPSAoc2ZfbGVuZ3RoIC0gMSkpIHtcclxuICAgICAgICAgICAgaWYgKHNmLmlzX3dpZGUpIHtcclxuICAgICAgICAgICAgICAgIHRycyA9IHRycyArIFwic3R5bGU9J3dpZHRoOlwiICsgd2lkdGggKiAyICsgXCIlJ1wiXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0cnMgPSB0cnMgKyBcInN0eWxlPSd3aWR0aDpcIiArIHdpZHRoICsgXCIlJ1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRycyA9IHRycyArIFwiPlwiICsgbGFiZWwgKyBcIjwvdGQ+XCJcclxuICAgIH0pO1xyXG5cclxuICAgIHRoZWFkID0gJzx0cj4nICsgdHJzICsgJzwvdHI+JztcclxuXHJcbiAgICByZXR1cm4gdGhlYWQ7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRUYm9keSA9IGZ1bmN0aW9uKGtleXMsIGZpZWxkLCB2YWx1ZXMsIGVkaXRhYmxlKSB7XHJcbiAgICB2YXIgdGJvZHkgPSBcIlwiO1xyXG5cclxuICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xyXG4gICAgICAgICAgICB0Ym9keSA9IHRib2R5ICsgU3RlZWRvc1RhYmxlLmdldFRyKGtleXMsIHZhbHVlLCBpbmRleCwgZmllbGQsIGVkaXRhYmxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGJvZHk7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRUciA9IGZ1bmN0aW9uKGtleXMsIGl0ZW1fdmFsdWUsIGluZGV4LCBmaWVsZCwgZWRpdGFibGUpIHtcclxuXHJcbiAgICB2YXIgZmllbGRPYmogPSBmaWVsZDtcclxuICAgIGlmICghXy5pc09iamVjdChmaWVsZCkpXHJcbiAgICAgICAgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xyXG5cclxuICAgIHZhciB0ciA9IFwiPHRyIGlkPSdcIiArIGZpZWxkT2JqLmNvZGUgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIicgbmFtZT0nXCIgKyBmaWVsZE9iai5jb2RlICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInIGRhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIidcIlxyXG5cclxuICAgIGlmIChlZGl0YWJsZSkge1xyXG4gICAgICAgIHRyID0gdHIgKyBcIicgY2xhc3M9J2l0ZW0gZWRpdCdcIlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZihTdGVlZG9zLmlzTW9iaWxlKCkpe1xyXG5cdFx0XHR0ciA9IHRyICsgXCIgY2xhc3M9J2l0ZW0gaXRlbS1yZWFkb25seSdcIlxyXG4gICAgICAgIH1lbHNle1xyXG5cdFx0XHR0ciA9IHRyICsgXCIgY2xhc3M9J2l0ZW0gJ1wiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpdGVtX3ZhbHVlLnJlbW92ZWQpIHtcclxuICAgICAgICB0ciA9IHRyICsgXCIgc3R5bGU9J2Rpc3BsYXk6bm9uZScgXCI7XHJcbiAgICB9XHJcblxyXG4gICAgdHIgPSB0ciArIFwiJz5cIjtcclxuXHJcbiAgICB2YXIgdGRzID0gXCJcIjtcclxuXHJcbiAgICBpZiAoZWRpdGFibGUpIHtcclxuICAgICAgICB0ZHMgPSBTdGVlZG9zVGFibGUuZ2V0UmVtb3ZlVGQoZmllbGRPYmouY29kZSwgaW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzZmllbGRzID0gZmllbGRPYmouc2ZpZWxkcztcclxuXHJcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgdmFyIHNmaWVsZCA9IHNmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwga2V5KTtcclxuXHJcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbV92YWx1ZVtrZXldO1xyXG5cclxuICAgICAgICB0ZHMgPSB0ZHMgKyBTdGVlZG9zVGFibGUuZ2V0VGQoc2ZpZWxkLCBpbmRleCwgdmFsdWUpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIHRyID0gdHIgKyB0ZHMgKyBcIjwvdHI+XCI7XHJcbiAgICByZXR1cm4gdHI7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZCA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCkge1xyXG4gICAgLy8gcmV0dXJuIFwiPHRkIGNsYXNzPSdzdGVlZG9zVGFibGUtaXRlbS1yZW1vdmUgcmVtb3ZlZCcgZGF0YS1pbmRleD0nXCIgKyBpbmRleCArIFwiJz48aSBjbGFzcz0nZmEgZmEtdGltZXMnIGFyaWEtaGlkZGVuPSd0cnVlJz48L3RkPlwiO1xyXG5cdHJldHVybiBcIlwiXHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRUZCA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCwgdmFsdWUpIHtcclxuICAgIHZhciB0ZCA9IFwiPHRkIFwiO1xyXG5cclxuICAgIHRkID0gdGQgKyBcIiBjbGFzcz0nc3RlZWRvc1RhYmxlLWl0ZW0tZmllbGQgXCIgKyBmaWVsZC50eXBlICsgXCInIFwiO1xyXG5cclxuICAgIHZhciB0ZF92YWx1ZSA9IFwiXCI7XHJcblxyXG4gICAgaWYoTWV0ZW9yLmlzQ2xpZW50KXtcclxuICAgICAgICB0ZF92YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRURFZhbHVlKGZpZWxkLCB2YWx1ZSlcclxuICAgIH1lbHNle1xyXG4gICAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcclxuXHJcbiAgICAgICAgdXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldFxyXG5cclxuICAgICAgICB0ZF92YWx1ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSh2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KVxyXG4gICAgfVxyXG5cclxuICAgIHRkID0gdGQgKyBcIiBkYXRhLWluZGV4PSdcIiArIGluZGV4ICsgXCInPlwiICsgdGRfdmFsdWUgKyBcIjwvdGQ+XCJcclxuXHJcbiAgICByZXR1cm4gdGQ7XHJcbn1cclxuXHJcblxyXG5TdGVlZG9zVGFibGUuZ2V0VERWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZSkge1xyXG4gICAgdmFyIHRkX3ZhbHVlID0gXCJcIjtcclxuICAgIGlmICghZmllbGQpIHtcclxuICAgICAgICByZXR1cm4gdGRfdmFsdWVcclxuICAgIH1cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICd1c2VyJzpcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mKHZhbHVlWzBdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gQ0ZEYXRhTWFuYWdlci5nZXRGb3JtdWxhU3BhY2VVc2Vycyh2YWx1ZSkuZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUuZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYVNwYWNlVXNlcnModmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB1ID8gdS5uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZ3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YodmFsdWVbMF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb25zKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gQ0ZEYXRhTWFuYWdlci5nZXRGb3JtdWxhT3JnYW5pemF0aW9uKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gbyA/IG8ubmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PSAndHJ1ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdlbWFpbCc6XHJcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlID8gXCI8YSBocmVmPSdtYWlsdG86XCIgKyB2YWx1ZSArIFwiJz5cIiArIHZhbHVlICsgXCI8L2E+XCIgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3VybCc6XHJcbiAgICAgICAgICAgICAgICBpZih2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFwiPGEgaHJlZj0nXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5odHRwOi8vXCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwYXNzd29yZCc6XHJcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICcqKioqKionO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHZhbHVlLnNwbGl0KFwiLVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHRbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICQuZm9ybWF0LmRhdGUodmFsdWUsICd5eXl5LU1NLWRkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZGF0ZVRpbWUnOlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxNikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHZhbHVlLnNwbGl0KFwiVFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQwID0gdFswXS5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHQwWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHQwWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdDBbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJzID0gdDFbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0MVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICQuZm9ybWF0LmRhdGUodmFsdWUsICd5eXl5LU1NLWRkIEhIOm1tJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBTdGVlZG9zLm51bWJlclRvU3RyaW5nKHZhbHVlLCBmaWVsZC5kaWdpdHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ29kYXRhJzpcclxuICAgICAgICAgICAgICAgIGlmKHZhbHVlKXtcclxuXHRcdFx0XHRcdGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCl7XHJcblx0XHRcdFx0XHRcdHRkX3ZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKClcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHR0ZF92YWx1ZSA9IHZhbHVlWydAbGFiZWwnXVxyXG5cdFx0XHRcdFx0fVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlID8gdmFsdWUgOiAnJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBlO1xyXG5cclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGRfdmFsdWU7XHJcbn07XHJcblxyXG5pZihNZXRlb3IuaXNDbGllbnQpe1xyXG4gICAgQXV0b0Zvcm0uYWRkSW5wdXRUeXBlKFwidGFibGVcIiwge1xyXG4gICAgICAgIHRlbXBsYXRlOiBcImFmVGFibGVcIixcclxuICAgICAgICB2YWx1ZU91dDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy5kYXRhKFwic2NoZW1hS2V5XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFZhbGlkVmFsdWUobmFtZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB2YWx1ZUNvbnZlcnRlcnM6IHtcclxuICAgICAgICAgICAgXCJzdHJpbmdBcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9TdHJpbmdBcnJheSxcclxuICAgICAgICAgICAgXCJudW1iZXJcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvTnVtYmVyLFxyXG4gICAgICAgICAgICBcIm51bWVyQXJyYXlcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvTnVtYmVyQXJyYXksXHJcbiAgICAgICAgICAgIFwiYm9vbGVhblwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9Cb29sZWFuLFxyXG4gICAgICAgICAgICBcImJvb2xlYW5BcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9Cb29sZWFuQXJyYXksXHJcbiAgICAgICAgICAgIFwiZGF0ZVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9EYXRlLFxyXG4gICAgICAgICAgICBcImRhdGVBcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9EYXRlQXJyYXlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRleHRBZGp1c3Q6IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0LmF0dHMubWF4bGVuZ3RoID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29udGV4dC5tYXggPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmF0dHMubWF4bGVuZ3RoID0gY29udGV4dC5tYXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgVGVtcGxhdGUuYWZUYWJsZS5ldmVudHMoe1xyXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLnN0ZWVkb3NUYWJsZS1pdGVtLWFkZCwuYWRkLWl0ZW0tdHInOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGFibGVWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKG5hbWUpO1xyXG5cclxuICAgICAgICAgICAgdmFyIG5ld19pdGVtX2luZGV4ID0gdGFibGVWYWx1ZSA/IHRhYmxlVmFsdWUubGVuZ3RoIDogMDtcclxuXHJcbiAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5zaG93TW9kYWwobmFtZSwgbmV3X2l0ZW1faW5kZXgsIFwiYWRkXCIpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLnN0ZWVkb3NUYWJsZS1pdGVtLWZpZWxkJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZS5kYXRhLmF0dHMuZWRpdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IHRlbXBsYXRlLmRhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcclxuICAgICAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5zaG93TW9kYWwoZmllbGQsIGluZGV4LCBcImVkaXRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5zdGVlZG9zVGFibGUtaXRlbS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgdmFyIGZpZWxkID0gdGVtcGxhdGUuZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICB2YXIgaXRlbV9pbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcclxuICAgICAgICAgICAgU2Vzc2lvbi5zZXQoXCJpbnN0YW5jZV9jaGFuZ2VcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5yZW1vdmVJdGVtKGZpZWxkLCBpdGVtX2luZGV4KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5pdGVtLXJlYWRvbmx5JzogZnVuY3Rpb24gKGV2ZW50LCB0ZW1wbGF0ZSkge1xyXG5cdFx0XHRpZiAoIXRlbXBsYXRlLmRhdGEuYXR0cy5lZGl0YWJsZSkge1xyXG5cdFx0XHRcdHZhciBmaWVsZCA9IHRlbXBsYXRlLmRhdGEubmFtZTtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaW5kZXg7XHJcblx0XHRcdFx0U3RlZWRvc1RhYmxlLnNob3dNb2RhbChmaWVsZCwgaW5kZXgsIFwicmVhZFwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICBUZW1wbGF0ZS5hZlRhYmxlLnJlbmRlcmVkID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZGF0YS5uYW1lO1xyXG5cclxuICAgICAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcclxuICAgICAgICB2YXIgdmFsaWRWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5oYW5kbGVEYXRhKGZpZWxkLCB0aGlzLmRhdGEudmFsdWUpO1xyXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlKGZpZWxkLCB2YWxpZFZhbHVlKTtcclxuXHJcbiAgICAgICAgJChcInRoZWFkW25hbWU9J1wiICsgZmllbGQgKyBcIlRoZWFkJ11cIikuaHRtbChTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIHRoaXMuZGF0YS5hdHRzLmVkaXRhYmxlKSk7XHJcblxyXG4gICAgICAgICQoXCJ0Ym9keVtuYW1lPSdcIiArIGZpZWxkICsgXCJUYm9keSddXCIpLmh0bWwoU3RlZWRvc1RhYmxlLmdldFRib2R5KGtleXMsIGZpZWxkLCBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCksIHRoaXMuZGF0YS5hdHRzLmVkaXRhYmxlKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc3RyID0gdChcInN0ZWVkb3NfdGFibGVfYWRkX2l0ZW1cIik7XHJcbiAgICAgICAgYWRkSXRlbVRyID0gXCI8dHIgY2xhc3M9J2FkZC1pdGVtLXRyJz48dGQgY29sc3Bhbj0nXCIra2V5cy5sZW5ndGgrXCInPjxpIGNsYXNzPSdpb24gaW9uLXBsdXMtcm91bmQnPjwvaT5cIitzdHIrXCI8L3RkPjwvdHI+XCI7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRhdGEuYXR0cy5lZGl0YWJsZSkge1xyXG4gICAgICAgICAgICQoXCJ0Zm9vdFtuYW1lPSdcIiArIGZpZWxkICsgXCJUZm9vdCddXCIpLmFwcGVuZChhZGRJdGVtVHIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0iLCJJbWFnZVNpZ24uaGVscGVycyA9XHJcblx0c3BhY2VVc2VyU2lnbjogKHVzZXJJZCktPlxyXG5cdFx0c3BhY2UgPSBcIlwiXHJcblxyXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdHNwYWNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnNwYWNlXHJcblx0XHRlbHNlXHJcblx0XHRcdHNwYWNlID0gU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpXHJcblxyXG5cdFx0c3BhY2VVc2VyU2lnbiA9IGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZE9uZSh7c3BhY2U6IHNwYWNlLCB1c2VyOiB1c2VySWR9KTtcclxuXHRcdHJldHVybiBzcGFjZVVzZXJTaWduXHJcblxyXG5cdGltYWdlVVJMOiAodXNlcklkKS0+XHJcblxyXG5cdFx0c3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24odXNlcklkKTtcclxuXHJcblx0XHRhYnNvbHV0ZSA9IGZhbHNlXHJcblxyXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdGFic29sdXRlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmFic29sdXRlXHJcblxyXG5cdFx0aWYgc3BhY2VVc2VyU2lnbj8uc2lnblxyXG5cdFx0XHRpZiBhYnNvbHV0ZVxyXG5cdFx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcclxuIiwiSW1hZ2VTaWduLmhlbHBlcnMgPSB7XG4gIHNwYWNlVXNlclNpZ246IGZ1bmN0aW9uKHVzZXJJZCkge1xuICAgIHZhciBzcGFjZSwgc3BhY2VVc2VyU2lnbjtcbiAgICBzcGFjZSA9IFwiXCI7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgc3BhY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3BhY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwYWNlID0gU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpO1xuICAgIH1cbiAgICBzcGFjZVVzZXJTaWduID0gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBzcGFjZSxcbiAgICAgIHVzZXI6IHVzZXJJZFxuICAgIH0pO1xuICAgIHJldHVybiBzcGFjZVVzZXJTaWduO1xuICB9LFxuICBpbWFnZVVSTDogZnVuY3Rpb24odXNlcklkKSB7XG4gICAgdmFyIGFic29sdXRlLCBzcGFjZVVzZXJTaWduO1xuICAgIHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKHVzZXJJZCk7XG4gICAgYWJzb2x1dGUgPSBmYWxzZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBhYnNvbHV0ZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5hYnNvbHV0ZTtcbiAgICB9XG4gICAgaWYgKHNwYWNlVXNlclNpZ24gIT0gbnVsbCA/IHNwYWNlVXNlclNpZ24uc2lnbiA6IHZvaWQgMCkge1xuICAgICAgaWYgKGFic29sdXRlKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4iLCJUcmFjZXNIYW5kbGVyLmhlbHBlcnMgPVxyXG5cdHNob3dTaWduSW1hZ2U6IChoYW5kbGVyLCBpc19maW5pc2hlZCwganVkZ2UpIC0+XHJcblx0XHRpZiAhaXNfZmluaXNoZWRcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRpZiBbJ3JldHVybmVkJywgJ3Rlcm1pbmF0ZWQnLCAncmV0cmlldmVkJ10uaW5jbHVkZXMoanVkZ2UpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0c3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24oaGFuZGxlcilcclxuXHJcblx0XHRpZiBzcGFjZVVzZXJTaWduPy5zaWduXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRvYmplY3RVcmw6IChvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpLT5cclxuXHRcdHJldHVybiBDcmVhdG9yLmdldE9iamVjdFVybChvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpIiwiVHJhY2VzSGFuZGxlci5oZWxwZXJzID0ge1xuICBzaG93U2lnbkltYWdlOiBmdW5jdGlvbihoYW5kbGVyLCBpc19maW5pc2hlZCwganVkZ2UpIHtcbiAgICB2YXIgc3BhY2VVc2VyU2lnbjtcbiAgICBpZiAoIWlzX2ZpbmlzaGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChbJ3JldHVybmVkJywgJ3Rlcm1pbmF0ZWQnLCAncmV0cmlldmVkJ10uaW5jbHVkZXMoanVkZ2UpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKGhhbmRsZXIpO1xuICAgIGlmIChzcGFjZVVzZXJTaWduICE9IG51bGwgPyBzcGFjZVVzZXJTaWduLnNpZ24gOiB2b2lkIDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBvYmplY3RVcmw6IGZ1bmN0aW9uKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZCkge1xuICAgIHJldHVybiBDcmVhdG9yLmdldE9iamVjdFVybChvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpO1xuICB9XG59O1xuIiwiSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyA9XHJcblx0YXBwbGljYW50Q29udGV4dDogLT5cclxuXHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGRhdGEgPSB7XHJcblx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50JyxcclxuXHRcdFx0YXR0czoge25hbWU6ICdpbnNfYXBwbGljYW50JywgaWQ6ICdpbnNfYXBwbGljYW50JywgY2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J30sXHJcblx0XHRcdHZhbHVlOiBzdGVlZG9zX2luc3RhbmNlLmFwcGxpY2FudF9uYW1lXHJcblx0XHR9XHJcblx0XHRpZiBub3Qgc3RlZWRvc19pbnN0YW5jZSB8fCBzdGVlZG9zX2luc3RhbmNlLnN0YXRlICE9IFwiZHJhZnRcIlxyXG5cdFx0XHRkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlXHJcblx0XHRyZXR1cm4gZGF0YTtcclxuXHJcblx0aW5zdGFuY2VJZDogLT5cclxuXHRcdHJldHVybiAnaW5zdGFuY2Vmb3JtJzsjXCJpbnN0YW5jZV9cIiArIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKTtcclxuXHJcblx0Zm9ybV90eXBlczogLT5cclxuXHRcdGlmIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxyXG5cdFx0XHRyZXR1cm4gJ2Rpc2FibGVkJztcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuICdtZXRob2QnO1xyXG5cclxuXHRzdGVlZG9zX2Zvcm06IC0+XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xyXG5cdFx0aWYgZm9ybV92ZXJzaW9uXHJcblx0XHRcdHJldHVybiBmb3JtX3ZlcnNpb25cclxuXHJcblx0aW5uZXJzdWJmb3JtQ29udGV4dDogKG9iaiktPlxyXG5cdFx0ZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcclxuXHRcdG9ialtcInRhYmxlVmFsdWVzXCJdID0gaWYgZG9jX3ZhbHVlcyB0aGVuIGRvY192YWx1ZXNbb2JqLmNvZGVdIGVsc2UgW11cclxuXHRcdG9ialtcImZvcm1JZFwiXSA9IFwiaW5zdGFuY2Vmb3JtXCI7XHJcblx0XHRyZXR1cm4gb2JqO1xyXG5cclxuXHRpbnN0YW5jZTogLT5cclxuXHRcdFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIilcclxuXHRcdGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpXHJcblx0XHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdFx0cmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XHJcblxyXG5cdGVtcHR5OiAodmFsKSAtPlxyXG5cdFx0aWYgdmFsXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0dW5lbXB0eTogKHZhbCkgLT5cclxuXHRcdGlmIHZhbFxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRlcXVhbHM6IChhLCBiKSAtPlxyXG5cdFx0cmV0dXJuIChhID09IGIpXHJcblxyXG5cdHVuZXF1YWxzOiAoYSwgYikgLT5cclxuXHRcdHJldHVybiAhKGEgPT0gYilcclxuXHJcblx0aW5jbHVkZXM6IChhLCBiKSAtPlxyXG5cdFx0cmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcclxuXHJcblx0aW5jbHVkZTogKGEsIGIpIC0+XHJcblx0XHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xyXG5cclxuXHRmaWVsZHM6IC0+XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xyXG5cdFx0aWYgZm9ybV92ZXJzaW9uXHJcblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XHJcblxyXG5cdGZvcm1hdERhdGU6IChkYXRlLCBvcHRpb25zKS0+XHJcblx0XHRpZiAhZGF0ZVxyXG5cdFx0XHRyZXR1cm4gXCJcIjtcclxuXHRcdGlmIG9wdGlvbnMgJiYgdHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnXHJcblx0XHRcdG9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnMpO1xyXG5cclxuXHRcdGlmICFvcHRpb25zLmZvcm1hdFxyXG5cdFx0XHRvcHRpb25zID0ge2Zvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCJ9XHJcblxyXG5cdFx0cmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQob3B0aW9ucy5mb3JtYXQpO1xyXG5cclxuXHR0cmFjZXM6IC0+XHJcblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0c3RlZWRvc0RhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy52aWV3Py50ZW1wbGF0ZT8uc3RlZWRvc0RhdGFcclxuXHRcdFx0aW5zdGFuY2UgPSBzdGVlZG9zRGF0YT8uaW5zdGFuY2VcclxuXHRcdFx0ZmxvdyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbihpbnN0YW5jZSk7XHJcblx0XHRcdGxvY2FsZSA9IHN0ZWVkb3NEYXRhPy5sb2NhbGVcclxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xyXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cclxuXHRcdFx0ZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZsb3dWZXJzaW9uKClcclxuXHJcblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcclxuXHJcblx0XHRpZiAhaW5zdGFuY2UgfHwgIWZsb3dcclxuXHRcdFx0cmV0dXJuIHt9O1xyXG5cclxuXHRcdHN0ZXBzID0gZmxvdy5zdGVwcztcclxuXHJcblx0XHR0cmFjZXMgPSB7fTtcclxuXHJcblx0XHRpbnN0YW5jZS50cmFjZXM/LmZvckVhY2ggKHRyYWNlKS0+XHJcblx0XHRcdHN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlLnN0ZXApXHJcblxyXG5cdFx0XHRhcHByb3ZlcyA9IFtdXHJcblxyXG5cdFx0XHR0cmFjZS5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSkgLT5cclxuXHRcdFx0XHRpZiB0cmFjZS5pc19maW5pc2hlZCA9PSB0cnVlXHJcbiMg5bey57uT5p2f55qE5pi+56S65Li65qC45YeGL+mps+Wbni/lj5bmtojnlLPor7dcclxuXHRcdFx0XHRcdGlmIGFwcHJvdmUuanVkZ2UgPT0gJ2FwcHJvdmVkJ1xyXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIGFwcHJvdmVkXCIsIHt9LCBsb2NhbGUpXHJcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3JlamVjdGVkJ1xyXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlamVjdGVkXCIsIHt9LCBsb2NhbGUpXHJcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3Rlcm1pbmF0ZWQnXHJcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZFwiLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWFzc2lnbmVkJ1xyXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlYXNzaWduZWRcIiwge30sIGxvY2FsZSlcclxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAncmVsb2NhdGVkJ1xyXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlbG9jYXRlZFwiLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICcnXHJcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBcIlwiXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBcIlwiXHJcblxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcGVuZGluZ1wiLCB7fSwgbG9jYWxlKVxyXG5cclxuXHRcdFx0XHRhcHByb3Zlcy5wdXNoXHJcblx0XHRcdFx0XHRfaWQ6IGFwcHJvdmUuX2lkXHJcblx0XHRcdFx0XHRoYW5kbGVyOiBhcHByb3ZlLnVzZXJcclxuXHRcdFx0XHRcdGhhbmRsZXJfbmFtZTogYXBwcm92ZS5oYW5kbGVyX25hbWVcclxuXHRcdFx0XHRcdGhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVxyXG5cdFx0XHRcdFx0aGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcclxuXHRcdFx0XHRcdGZpbmlzaF9kYXRlOiBhcHByb3ZlLmZpbmlzaF9kYXRlXHJcblx0XHRcdFx0XHRqdWRnZTogYXBwcm92ZS5qdWRnZVxyXG5cdFx0XHRcdFx0anVkZ2VfbmFtZToganVkZ2VfbmFtZVxyXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246IGFwcHJvdmUuZGVzY3JpcHRpb25cclxuXHRcdFx0XHRcdGlzX2ZpbmlzaGVkOiBhcHByb3ZlLmlzX2ZpbmlzaGVkXHJcblx0XHRcdFx0XHR0eXBlOiBhcHByb3ZlLnR5cGVcclxuXHRcdFx0XHRcdG9waW5pb25fZmllbGRzX2NvZGU6IGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZVxyXG5cdFx0XHRcdFx0c2lnbl9maWVsZF9jb2RlOiBhcHByb3ZlLnNpZ25fZmllbGRfY29kZVxyXG5cdFx0XHRcdFx0aXNfcmVhZDogYXBwcm92ZS5pc19yZWFkXHJcblx0XHRcdFx0XHRzaWduX3Nob3c6IGFwcHJvdmUuc2lnbl9zaG93XHJcblxyXG5cclxuXHRcdFx0aWYgc3RlcFxyXG5cdFx0XHRcdGlmIHN0ZXAubmFtZSBvZiB0cmFjZXNcclxuXHRcdFx0XHRcdHRyYWNlc1tzdGVwLm5hbWVdID0gdHJhY2VzW3N0ZXAubmFtZV0uY29uY2F0KGFwcHJvdmVzKVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHRyYWNlc1tzdGVwLm5hbWVdID0gYXBwcm92ZXNcclxuXHJcblx0XHRyZXR1cm4gdHJhY2VzO1xyXG5cclxuXHJcblxyXG5cdGRvY192YWx1ZXM6IC0+XHJcblx0XHRXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XHJcblxyXG5cdGluc3RhbmNlX2JveF9zdHlsZTogLT5cclxuXHRcdGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpXHJcblx0XHRpZiBib3ggPT0gXCJpbmJveFwiIHx8IGJveCA9PSBcImRyYWZ0XCJcclxuXHRcdFx0anVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpXHJcblx0XHRcdGlmIGp1ZGdlXHJcblx0XHRcdFx0aWYgKGp1ZGdlID09IFwiYXBwcm92ZWRcIilcclxuXHRcdFx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcclxuXHRcdFx0XHRlbHNlIGlmIChqdWRnZSA9PSBcInJlamVjdGVkXCIpXHJcblx0XHRcdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcclxuXHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0aWYgaW5zICYmIGlucy5maW5hbF9kZWNpc2lvblxyXG5cdFx0XHRpZiBpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXHJcblx0XHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxyXG5cdFx0XHRlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJyZWplY3RlZFwiKVxyXG5cdFx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxyXG5cclxuI2lzX2Rpc2FibGVkOiAtPlxyXG4jICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG4jICAgIGlmICFpbnNcclxuIyAgICAgICAgcmV0dXJuO1xyXG4jICAgIGlmIGlucy5zdGF0ZSE9XCJkcmFmdFwiXHJcbiMgICAgICAgIHJldHVybiBcImRpc2FibGVkXCI7XHJcbiMgICAgcmV0dXJuO1xyXG5cclxuXHR0YWJsZV9maWVsZHM6IChpbnN0YW5jZSktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XHJcblx0XHRlbHNlXHJcblx0XHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXHJcblx0XHRpZiBmb3JtX3ZlcnNpb25cclxuXHRcdFx0ZmllbGRzID0gXy5jbG9uZShmb3JtX3ZlcnNpb24uZmllbGRzKTtcclxuXHJcblx0XHRcdGZpZWxkcy5mb3JFYWNoIChmaWVsZCwgaW5kZXgpIC0+XHJcblx0XHRcdFx0ZmllbGQudHJfc3RhcnQgPSBcIlwiO1xyXG5cdFx0XHRcdGZpZWxkLnRyX2VuZCA9IFwiXCI7XHJcblx0XHRcdFx0dGRfY29sc3BhbiA9IDE7XHJcbiNcdFx0XHRcdOW8uuWItuiuvue9ruagh+WktOWtl+auteS4uuWuveWtl+autVxyXG5cdFx0XHRcdGlmIENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWUgPT0gZmllbGQuY29kZVxyXG5cdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWVcclxuXHJcblx0XHRcdFx0aWYgZmllbGQuZm9ybXVsYSAmJiBmaWVsZC50eXBlICE9ICdvZGF0YSdcclxuXHRcdFx0XHRcdGZpZWxkLnBlcm1pc3Npb24gPSBcInJlYWRvbmx5XCI7XHJcblxyXG5cdFx0XHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxyXG4jIOWmguaenOW9k+WJjeWtl+auteaYr+WIhue7hOOAgeihqOagvOOAgeWuveWtl+autVxyXG5cdFx0XHRcdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PSAndGFibGUnXHJcblx0XHRcdFx0XHRcdGZpZWxkLnRkX2NvbHNwYW4gPSA0O1xyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gMztcclxuXHJcblx0XHRcdFx0XHRpZiBpbmRleCAhPSAwXHJcblx0XHRcdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gXCI8dHI+XCI7XHJcblx0XHRcdFx0XHRcdGZpZWxkLnRyX2VuZCA9IFwiPC90cj5cIjtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRwcmVfZmllbGRzID0gZmllbGRzLnNsaWNlKDAsIGluZGV4KTtcclxuXHJcblx0XHRcdFx0XHRwcmVfd2lkZV9maWVsZHMgPSBwcmVfZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfd2lkZVwiLCB0cnVlKTtcclxuXHJcblx0XHRcdFx0XHR0cl9zdGFydCA9IFwiXCI7XHJcblxyXG5cdFx0XHRcdFx0dHJfZW5kID0gXCJcIjtcclxuXHJcblx0XHRcdFx0XHQjIOWFiOiuoeeul+W9k+WJjeWtl+auteaYr+WQpuS4uuWuveWtl+autVxyXG5cdFx0XHRcdFx0YmVmb3JlX2ZpZWxkID0gbnVsbDtcclxuXHRcdFx0XHRcdGFmdGVyX2ZpZWxkID0gbnVsbDtcclxuXHJcblx0XHRcdFx0XHRpZiBpbmRleCA+IDBcclxuXHRcdFx0XHRcdFx0YmVmb3JlX2ZpZWxkID0gZmllbGRzW2luZGV4IC0gMV1cclxuXHJcblx0XHRcdFx0XHRpZiBpbmRleCA8IGZpZWxkcy5sZW5ndGggLSAxXHJcblx0XHRcdFx0XHRcdGFmdGVyX2ZpZWxkID0gZmllbGRzW2luZGV4ICsgMV1cclxuXHJcblx0XHRcdFx0XHQjIOWmguaenOW9k+WJjeWtl+auteaYr+WIhue7hOOAgeihqOagvOOAgeWuveWtl+autVxyXG5cdFx0XHRcdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PSAndGFibGUnXHJcblx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSA0O1xyXG5cdFx0XHRcdFx0ZWxzZSBpZiBmaWVsZC5pc193aWRlXHJcblx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xyXG5cdFx0XHRcdFx0ZWxzZVxyXG4jIOWJjeWQjumDveaYr+WuveWtl+autVxyXG5cdFx0XHRcdFx0XHRpZiBiZWZvcmVfZmllbGQgJiYgYWZ0ZXJfZmllbGQgJiYgYmVmb3JlX2ZpZWxkLmlzX3dpZGUgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZVxyXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xyXG5cclxuXHRcdFx0XHRcdFx0IyDlvZPliY3mmK90ciDkuIvnmoQg56ys5LiA5LiqdGQgJiDlkI7ovrnnmoTlrZfmrrXmmK/lrr3lrZfmrrVcclxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgJiYgYWZ0ZXJfZmllbGQgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZVxyXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xyXG5cclxuXHRcdFx0XHRcdFx0IyDlvZPliY3mmK90ciDkuIvnmoQg56ys5LiA5LiqdGQgJiDlvZPliY3lrZfmrrXmmK/mnIDlkI7kuIDkuKrlrZfmrrVcclxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgJiYgYWZ0ZXJfZmllbGQgPT0gbnVsbFxyXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xyXG5cclxuXHRcdFx0XHRcdGZpZWxkLnRkX2NvbHNwYW4gPSB0ZF9jb2xzcGFuO1xyXG5cclxuXHJcblx0XHRcdFx0XHRpZiBpbmRleCA9PSAwXHJcbiMgdHJfc3RhcnQgPSBcIjx0cj5cIjsg55Sx5LqOVGVtcGxhdGXnmoTnvJbor5FidWfvvIzlr7zoh7Tmr4/mrKHnu5nkuIDkuKp0cuW8gOWni+aXtu+8jOS8muiHquWKqOihpeWktOaIluihpeWwvuOAguWboOatpOWcqOesrOS4gOihjOi/lOWbnuS4gOS4quepuuWtl+espuS4si5cclxuXHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0cj5cIjtcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgfHwgZmllbGQuaXNfd2lkZVxyXG5cdFx0XHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0ciBjbGFzcyA9IFxcXCJ0ci1jaGlsZC10YWJsZVxcXCI+XCI7XHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0cj5cIjtcclxuXHJcblx0XHRcdFx0XHRmaWVsZC50cl9zdGFydCA9IHRyX3N0YXJ0O1xyXG5cclxuXHJcblx0XHRcdFx0XHRpZiBpbmRleCArIDEgPT0gZmllbGRzLmxlbmd0aCB8fCBmaWVsZC50eXBlID09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09ICd0YWJsZScgfHwgZmllbGQuaXNfd2lkZVxyXG5cdFx0XHRcdFx0XHR0cl9lbmQgPSBcIjwvdHI+XCI7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyICE9IDBcclxuXHRcdFx0XHRcdFx0dHJfZW5kID0gXCI8L3RyPlwiO1xyXG5cclxuXHRcdFx0XHRcdGZpZWxkLnRyX2VuZCA9IHRyX2VuZDtcclxuXHJcblx0XHRcdHJldHVybiBmaWVsZHM7XHJcblxyXG5cdHNvcnRfYXBwcm92ZTogKGFwcHJvdmVzLCBvcmRlciktPlxyXG5cdFx0aWYgIWFwcHJvdmVzXHJcblx0XHRcdHJldHVybiBbXVxyXG5cclxuXHRcdGlmICFhcHByb3ZlcyBpbnN0YW5jZW9mIEFycmF5XHJcblx0XHRcdHJldHVybiBbXVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpZiBvcmRlciA9PSAnZGVzYydcclxuXHRcdFx0XHRhcHByb3Zlcy5zb3J0IChwMSwgcDIpIC0+XHJcblx0XHRcdFx0XHRfcDEgPSAwXHJcblx0XHRcdFx0XHRfcDIgPSAwXHJcblxyXG5cdFx0XHRcdFx0aWYgcDEuZmluaXNoX2RhdGVcclxuXHRcdFx0XHRcdFx0X3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpXHJcblxyXG5cdFx0XHRcdFx0aWYgcDIuZmluaXNoX2RhdGVcclxuXHRcdFx0XHRcdFx0X3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBfcDIgLSBfcDFcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFwcHJvdmVzLnNvcnQgKHAxLCBwMikgLT5cclxuXHRcdFx0XHRcdF9wMSA9IDBcclxuXHRcdFx0XHRcdF9wMiA9IDBcclxuXHJcblx0XHRcdFx0XHRpZiBwMS5maW5pc2hfZGF0ZVxyXG5cdFx0XHRcdFx0XHRfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKClcclxuXHJcblx0XHRcdFx0XHRpZiBwMi5maW5pc2hfZGF0ZVxyXG5cdFx0XHRcdFx0XHRfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIF9wMSAtIF9wMlxyXG5cdFx0cmV0dXJuIGFwcHJvdmVzXHJcblxyXG5cdF90OiAoa2V5KS0+XHJcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXHJcblx0Z2V0RmllbGQ6IChjb2RlKS0+XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXHJcblx0XHRpZiBmb3JtX3ZlcnNpb25cclxuXHRcdFx0cmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSlcclxuXHJcblx0Z2V0VmFsdWU6IChjb2RlKS0+XHJcblx0XHRpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZVxyXG5cclxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cclxuXHJcblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXHJcblxyXG5cdFx0dXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldFxyXG5cclxuXHRcdHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fVxyXG5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHR2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKClcclxuXHJcblx0XHRyZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlIHZhbHVlc1tjb2RlXSwgZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKSwgbG9jYWxlLCB1dGNPZmZzZXRcclxuXHJcblx0Z2V0TGFiZWw6IChjb2RlKS0+XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXHJcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgY29kZVxyXG5cclxuXHRnZXRDZkNsYXNzOiAoZmllbGQpLT5cclxuXHRcdGlmIGZpZWxkPy50eXBlID09IFwiaW5wdXRcIiAmJiBmaWVsZD8uaXNfdGV4dGFyZWFcclxuXHRcdFx0cmV0dXJuIFwiY2ZUZXh0YXJlYVwiXHJcblxyXG5cdGdldFRhYmxlVGhlYWQ6IChmaWVsZCktPlxyXG5cdFx0cmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUaGVhZChmaWVsZCwgZmFsc2UpXHJcblxyXG5cdGdldFRhYmxlQm9keTogKGZpZWxkKS0+XHJcblxyXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlXHJcblx0XHRcdHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKClcclxuXHJcblx0XHR0YWJsZVZhbHVlID0gdmFsdWVzW2ZpZWxkLmNvZGVdO1xyXG5cdFx0cmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYm9keShmaWVsZC5zZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKSwgZmllbGQsIHRhYmxlVmFsdWUsIGZhbHNlKVxyXG5cclxuXHRzaG93TGFiZWw6IChmaWVsZCktPlxyXG5cdFx0dGVtcGxhdGVEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhXHJcblx0XHRpZiB0ZW1wbGF0ZURhdGEubGFiZWwgPT0gZmFsc2VcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuI1x0YWZGaWVsZExhYmVsVGV4dDogKG9wKS0+XHJcbiNcdFx0aWYgIVRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YVxyXG4jXHRcdFx0cmV0dXJuIEF1dG9Gb3JtLmdldExhYmVsRm9yRmllbGQob3AubmFtZSlcclxuI1x0XHRlbHNlXHJcbiNcdFx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXHJcbiNcdFx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgb3A/Lmhhc2g/Lm5hbWVcclxuXHJcblx0aXNPcGluaW9uRmllbGQ6IChmaWVsZCktPlxyXG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGQuZm9ybXVsYSlcclxuXHJcblx0aXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmc6IChmaWVsZF9mb3JtdWxhKS0+XHJcblx0XHRyZXR1cm4gSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxyXG5cclxuXHRpbmNsdWRlc09waW5pb25GaWVsZDogKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxyXG5cclxuXHRcdGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XHJcblxyXG5cdFx0ZmllbGRzID0gZGIuZm9ybV92ZXJzaW9ucy5maW5kT25lKHtfaWQ6IGZvcm1fdmVyc2lvbiwgZm9ybTogZm9ybX0pPy5maWVsZHMgfHwgW11cclxuXHJcblx0XHRmaWVsZHMuZm9yRWFjaCAoZiktPlxyXG5cdFx0XHRpZiBmLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcclxuXHRcdFx0ZWxzZSBpZiBmLnR5cGUgPT0gJ3NlY3Rpb24nXHJcblx0XHRcdFx0Zj8uZmllbGRzPy5mb3JFYWNoIChmMSktPlxyXG5cdFx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmMS5mb3JtdWxhXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYuZm9ybXVsYVxyXG5cclxuXHRcdF8uc29tZSBmaWVsZF9mb3JtdWxhcywgKGZpZWxkX2Zvcm11bGEpLT5cclxuXHRcdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcclxuXHJcblx0Z2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lOiAoZmllbGRfZm9ybXVsYSwgdG9wX2tleXdvcmRzKS0+XHJcblxyXG5cdFx0b3BpbmlvbkZpZWxkcyA9IG5ldyBBcnJheSgpO1xyXG4jXHRcdGNvbnNvbGUubG9nKFwiZmllbGRfZm9ybXVsYVwiLCBmaWVsZF9mb3JtdWxhKVxyXG5cdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxyXG5cdFx0XHRpZiBmaWVsZF9mb3JtdWxhXHJcblxyXG4jXHRcdFx0XHRmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIixcIilcclxuXHRcdFx0XHRmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIjtcIilcclxuXHJcbiNcdFx0XHRcdGlmIHRvcF9rZXl3b3Jkc1xyXG4jXHRcdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKVxyXG5cclxuXHRcdFx0XHRmb28xLmZvckVhY2ggKGZvbyktPlxyXG5cdFx0XHRcdFx0anNvbl9mb3JtdWxhID0ge31cclxuXHJcblx0XHRcdFx0XHR0cnlcclxuXHRcdFx0XHRcdFx0anNvbl9mb3JtdWxhID0gZXZhbChcIihcIiArIGZvbyArIFwiKVwiKVxyXG5cdFx0XHRcdFx0Y2F0Y2hcclxuXHRcdFx0XHRcdFx0anNvbl9mb3JtdWxhID0ge31cclxuXHJcblx0XHRcdFx0XHRpZiBqc29uX2Zvcm11bGE/LnlpamlhbmxhblxyXG5cdFx0XHRcdFx0XHRzZiA9IHt9XHJcblxyXG5cdFx0XHRcdFx0XHRzZi5zdGVwTmFtZSA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uc3RlcFxyXG5cclxuXHRcdFx0XHRcdFx0c2YuaW1hZ2Vfc2lnbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uaW1hZ2Vfc2lnbiB8fCBmYWxzZVxyXG5cclxuXHRcdFx0XHRcdFx0c2Yub25seV9jY19vcGluaW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5vbmx5X2NjIHx8IGZhbHNlXHJcblxyXG5cdFx0XHRcdFx0XHRzZi5kZWZhdWx0X2Rlc2NyaXB0aW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5kZWZhdWx0XHJcblxyXG5cdFx0XHRcdFx0XHRzZi5vbmx5X2hhbmRsZXIgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfaGFuZGxlclxyXG5cclxuXHRcdFx0XHRcdFx0c2YudG9wX2tleXdvcmRzID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi50b3Bfa2V5d29yZHMgfHwgdG9wX2tleXdvcmRzXHJcblxyXG5cdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLnB1c2goc2YpO1xyXG5cclxuXHRcdFx0XHRcdGVsc2UgaWYoZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt0cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA+IC0xKVxyXG5cclxuXHRcdFx0XHRcdFx0c2YgPSB7b25seV9jY19vcGluaW9uOiBmYWxzZSwgaW1hZ2Vfc2lnbjogZmFsc2UsIHRvcF9rZXl3b3JkczogdG9wX2tleXdvcmRzfVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgZm9vLmluZGV4T2YoXCJ7c2lnbmF0dXJlLlwiKSA+IC0xXHJcblx0XHRcdFx0XHRcdFx0c2YuaW1hZ2Vfc2lnbiA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRmb28gPSBmb28ucmVwbGFjZShcIntzaWduYXR1cmUuXCIsXCJcIik7XHJcblxyXG5cdFx0XHRcdFx0XHRzMSA9IGZvby5yZXBsYWNlKFwie1wiLFwiXCIpLnJlcGxhY2UoXCJ9XCIsXCJcIilcclxuXHRcdFx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDFcclxuXHRcdFx0XHRcdFx0XHRzZi5zdGVwTmFtZSA9IHMxLnNwbGl0KFwiLlwiKVsxXVxyXG5cdFx0XHRcdFx0XHRcdGlmIG9waW5pb25GaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJzdGVwTmFtZVwiLHNmLnN0ZXBOYW1lKS5sZW5ndGggPiAwXHJcblx0XHRcdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwTmFtZVwiLCBzZi5zdGVwTmFtZSk/Lm9ubHlfY2Nfb3BpbmlvbiA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIilbMl0/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ2NjJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNmLm9ubHlfY2Nfb3BpbmlvbiA9IHRydWVcclxuXHRcdFx0XHRcdFx0b3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcclxuXHJcblx0XHRyZXR1cm4gb3BpbmlvbkZpZWxkc1xyXG5cclxuXHRzaG93Q0NPcGluaW9uOiAoZmllbGQpLT5cclxuXHRcdGlmIGZpZWxkLmZvcm11bGE/LmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkLmZvcm11bGE/LmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgPiAtMVxyXG5cdFx0XHRzMSA9IGZpZWxkLmZvcm11bGEucmVwbGFjZShcIntzaWduYXR1cmUuXCIsXCJcIikucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXHJcblx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyXHJcblx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpWzJdPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdjYydcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0bWFya0Rvd25Ub0h0bWw6IChtYXJrRG93blN0cmluZyktPlxyXG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcclxuXHRcdFx0cmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcclxuXHRcdFx0cmVuZGVyZXIubGluayA9ICggaHJlZiwgdGl0bGUsIHRleHQgKSAtPlxyXG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcclxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7cmVuZGVyZXI6cmVuZGVyZXJ9KSlcclxuXHJcblx0Zl9sYWJlbDogKHRoYXQpLT5cclxuXHRcdHJldHVybiB0aGF0Lm5hbWUgfHwgdGhhdC5jb2RlXHJcblxyXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnN0ZWVkb3NfZm9ybSA9IC0+XHJcblx0XHRyZXR1cm4gdGhpcy5mb3JtX3ZlcnNpb25cclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc1NlY3Rpb24gPSAoY29kZSktPlxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb25cclxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLnR5cGUgPT0gJ3NlY3Rpb24nXHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZG9jX3ZhbHVlcyA9IC0+XHJcblx0XHRpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XHJcblx0XHRyZXR1cm4gaW5zdGFuY2UudmFsdWVzO1xyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmFwcGxpY2FudENvbnRleHQgPSAtPlxyXG5cdFx0aW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xyXG5cdFx0ZGF0YSA9IHtcclxuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxyXG5cdFx0XHRhdHRzOiB7bmFtZTogJ2luc19hcHBsaWNhbnQnLCBpZDogJ2luc19hcHBsaWNhbnQnLCBjbGFzczogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnfSxcclxuXHRcdFx0dmFsdWU6IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lXHJcblx0XHR9XHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zdGFuY2UgPSAtPlxyXG5cdFx0cmV0dXJuIHRoaXMuaW5zdGFuY2VcclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5maWVsZHMgPSAtPlxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb25cclxuXHRcdGlmIGZvcm1fdmVyc2lvblxyXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZvcm1fdHlwZXMgPSAtPlxyXG5cdFx0cmV0dXJuIFwiZGlzYWJsZWRcIlxyXG5cclxuXHRUZW1wbGF0ZS5yZWdpc3RlckhlbHBlciBcImFmRmllbGRMYWJlbFRleHRcIiwgKG9wKS0+XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXHJcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgb3A/Lmhhc2g/Lm5hbWVcclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5fdCA9IChrZXkpLT5cclxuXHRcdGxvY2FsZSA9IHRoaXMubG9jYWxlXHJcblxyXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc19hdHRhY2hfZG93bmxvYWRfdXJsID0gKF9pZCwgYWJzb2x1dGUpLT5cclxuXHRcdGlmIGFic29sdXRlXHJcblx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvI3tfaWR9P2Rvd25sb2FkPXRydWVcIjtcclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5vcHRpb25zID0gKGZpZWxkKS0+XHJcblx0XHRvcHRpb25zID0gZmllbGQ/Lm9wdGlvbnM/LnNwbGl0KFwiXFxuXCIpXHJcblx0XHRyZXYgPSBbXVxyXG5cdFx0b3B0aW9ucz8uZm9yRWFjaCAoaXRlbSktPlxyXG5cdFx0XHRyZXYucHVzaCh7bGFiZWw6IGl0ZW0sIHZhbHVlOiBpdGVtfSlcclxuXHJcblx0XHRyZXR1cm4gcmV2XHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0UGVybWlzc2lvbnMgPSAoY29kZSktPlxyXG5cdFx0aWYgIVRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5zdGFydFN0ZXBFZGl0YWJsZUZpZWxkcz8uaW5jbHVkZXMoY29kZSlcclxuXHRcdFx0cmV0dXJuIFwicmVhZG9ubHkgZGlzYWJsZWRcIlxyXG5cdFx0cmV0dXJuIFwiXCJcclxuXHJcbkluc3RhbmNlZm9ybVRlbXBsYXRlLmV2ZW50cyA9XHJcblx0J2NoYW5nZSAuZm9ybS1jb250cm9sLC5jaGVja2JveCBpbnB1dCwuYWYtcmFkaW8tZ3JvdXAgaW5wdXQsLmFmLWNoZWNrYm94LWdyb3VwIGlucHV0JzogKGV2ZW50KS0+XHJcblx0XHRJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpXHJcblxyXG5cdCd0eXBlYWhlYWQ6Y2hhbmdlIC5mb3JtLWNvbnRyb2wnOiAoZXZlbnQpIC0+XHJcblx0XHRJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpXHJcblxyXG5cdCdjbGljayAuY2ZUZXh0YXJlYSBhJzogKGV2ZW50KS0+XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0U3RlZWRvcy5vcGVuV2luZG93KGV2ZW50LnRhcmdldC5ocmVmKTtcclxuXHJcblxyXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5vbkNyZWF0ZWQgPSAoKS0+XHJcblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRpZiAhaW5zdGFuY2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0dGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UpO1xyXG5cclxuXHR0cnlcclxuXHRcdGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0ZW1wbGF0ZSwge2lzQm9keTogdHJ1ZX0pO1xyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUubG9nIFwiSW5zdGFuY2UgVGVtcGxhdGUgRXJyb3JcIiwgZVxyXG5cdFx0Y29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKFwiXCIsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblxyXG5cdHJlbmRlckZ1bmN0aW9uID0gZXZhbChjb21waWxlZCk7XHJcblxyXG5cdGluc3RhbmNlVmlldyA9IG5ldyBCbGF6ZS5WaWV3KFwiY3VzdG9tX2luc3RhbmNlX3RlbXBsYXRlXCIsIHJlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0aW5zdGFuY2VDdXN0b21UZW1wbGF0ZSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShpbnN0YW5jZVZpZXcubmFtZSwgcmVuZGVyRnVuY3Rpb24pO1xyXG5cclxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9jdXN0b21fdGVtcGxhdGUgPSBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlXHJcblxyXG5cdFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcclxuXHJcblxyXG5cclxuXHJcbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uUmVuZGVyZWQgPSAoKS0+XHJcblx0IyB0ID0gdGhpcztcclxuXHJcblx0I3Quc3Vic2NyaWJlIFwiaW5zdGFuY2VfZGF0YVwiLCBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIiksIC0+XHJcblx0IyAgICBUcmFja2VyLmFmdGVyRmx1c2ggLT5cclxuXHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdGlmICFpbnN0YW5jZVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHQjJChcIiNpbnNfYXBwbGljYW50XCIpLnNlbGVjdDIoKS52YWwoaW5zdGFuY2UuYXBwbGljYW50KS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuXHQjJChcIiNpbnNfYXBwbGljYW50XCIpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpO1xyXG5cdCQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIilbMF0/LmRhdGFzZXQudmFsdWVzID0gaW5zdGFuY2UuYXBwbGljYW50O1xyXG5cdCQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIikudmFsKGluc3RhbmNlLmFwcGxpY2FudF9uYW1lKVxyXG5cclxuXHJcblx0QXBwcm92ZU1hbmFnZXIuZXJyb3IgPSB7bmV4dFN0ZXBzOiAnJywgbmV4dFN0ZXBVc2VyczogJyd9O1xyXG5cclxuXHQjIGluc3RhbmNlIGZyb23nu5Hlrprkuovku7ZcclxuXHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdkcmFmdCdcclxuXHRcdEluc3RhbmNlRXZlbnQuaW5pdEV2ZW50cyhpbnN0YW5jZS5mbG93KTtcclxuXHJcblx0aWYgIUFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxyXG5cclxuXHRcdGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XHJcblxyXG5cclxuXHRcdGluc3RhbmNlTnVtYmVyRmllbGRzID0gJChcIltkYXRhLWZvcm11bGFdXCIsICQoXCIjaW5zdGFuY2Vmb3JtXCIpKVxyXG5cclxuXHRcdGluc3RhbmNlTnVtYmVyRmllbGRzLmVhY2ggKCktPlxyXG5cdFx0XHRzY2hlbWFLZXkgPSB0aGlzLmRhdGFzZXQuc2NoZW1hS2V5XHJcblx0XHRcdGVsZW1lbnQgPSAkKHRoaXMpXHJcblx0XHRcdGlmICEkKHRoaXMpLnZhbCgpICYmIHNjaGVtYUtleSAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIilcclxuXHRcdFx0XHRNZXRlb3IuY2FsbCAnZ2V0SW5zdGFuY2VWYWx1ZXMnLCBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIiksIChlcnJvciwgcmVzdWx0KS0+XHJcblx0XHRcdFx0XHRpZiBlcnJvclxyXG5cdFx0XHRcdFx0XHR0b2FzdHIuZXJyb3IoZXJyb3IucmVhc29uKVxyXG5cclxuXHRcdFx0XHRcdGlmICFyZXN1bHRbc2NoZW1hS2V5XVxyXG5cdFx0XHRcdFx0XHRrZXkgPSBlbGVtZW50LmRhdGEoXCJmb3JtdWxhXCIpPy5yZXBsYWNlKFwiYXV0b19udW1iZXIoXCIsIFwiXCIpLnJlcGxhY2UoXCIpXCIsIFwiXCIpXHJcblxyXG5cdFx0XHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvXFxcIi9nLCBcIlwiKS5yZXBsYWNlKC9cXCcvZywgXCJcIilcclxuXHJcblx0XHRcdFx0XHRcdGlmIGtleS5pbmRleE9mKFwie1wiKSA+IC0xXHJcblx0XHRcdFx0XHRcdFx0a2V5ID0ga2V5LnJlcGxhY2UoXCJ7XCIsXCJcIikucmVwbGFjZShcIn1cIixcIlwiKVxyXG5cdFx0XHRcdFx0XHRcdGtleSA9IGtleS50cmltKClcclxuXHRcdFx0XHRcdFx0XHRrZXkgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKGtleSwgJ2luc3RhbmNlZm9ybScpXHJcblx0XHRcdFx0XHRcdEluc3RhbmNlTnVtYmVyUnVsZXMuaW5zdGFuY2VOdW1iZXJCdWlsZGVyIGVsZW1lbnQsIGtleVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRlbGVtZW50Py52YWwocmVzdWx0W3NjaGVtYUtleV0pLnRyaWdnZXIoXCJjaGFuZ2VcIilcclxuXHJcblx0XHRqdWRnZSA9IGN1cnJlbnRBcHByb3ZlLmp1ZGdlXHJcblx0XHRjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xyXG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcclxuXHJcblx0XHRmb3JtdWxhX2ZpZWxkcyA9IEZvcm1fZm9ybXVsYS5nZXRGb3JtdWxhRmllbGRWYXJpYWJsZShcIkZvcm1fZm9ybXVsYS5maWVsZF92YWx1ZXNcIiwgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XHJcblx0XHRGb3JtX2Zvcm11bGEucnVuKFwiXCIsIFwiXCIsIGZvcm11bGFfZmllbGRzLCBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwiaW5zdGFuY2Vmb3JtXCIpLmluc2VydERvYywgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XHJcblx0XHQj5Zyo5q2k5aSE5Yid5aeL5YyWc2Vzc2lvbiDkuK3nmoQgZm9ybV92YWx1ZXMg5Y+Y6YeP77yM55So5LqO6Kem5Y+R5LiL5LiA5q2l5q2l6aqk6K6h566XXHJcblx0XHRTZXNzaW9uLnNldChcImluc3RhbmNlX2Zvcm1fdmFsdWVzXCIsIHtpbnN0YW5jZUlkOiBpbnN0YW5jZS5faWQsIHZhbHVlczogQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcImluc3RhbmNlZm9ybVwiKS5pbnNlcnREb2N9KTtcclxuXHJcblxyXG5cclxuIiwiSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyA9IHtcbiAgYXBwbGljYW50Q29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGEsIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGRhdGEgPSB7XG4gICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICBhdHRzOiB7XG4gICAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgaWQ6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgXCJjbGFzc1wiOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCdcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogc3RlZWRvc19pbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxuICAgIH07XG4gICAgaWYgKCFzdGVlZG9zX2luc3RhbmNlIHx8IHN0ZWVkb3NfaW5zdGFuY2Uuc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgZGF0YS5hdHRzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0sXG4gIGluc3RhbmNlSWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnaW5zdGFuY2Vmb3JtJztcbiAgfSxcbiAgZm9ybV90eXBlczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKSkge1xuICAgICAgcmV0dXJuICdkaXNhYmxlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbWV0aG9kJztcbiAgICB9XG4gIH0sXG4gIHN0ZWVkb3NfZm9ybTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBmb3JtX3ZlcnNpb247XG4gICAgfVxuICB9LFxuICBpbm5lcnN1YmZvcm1Db250ZXh0OiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZG9jX3ZhbHVlcztcbiAgICBkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIG9ialtcInRhYmxlVmFsdWVzXCJdID0gZG9jX3ZhbHVlcyA/IGRvY192YWx1ZXNbb2JqLmNvZGVdIDogW107XG4gICAgb2JqW1wiZm9ybUlkXCJdID0gXCJpbnN0YW5jZWZvcm1cIjtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBpbnN0YW5jZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgU2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKTtcbiAgICBpZiAoU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKSB7XG4gICAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICByZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcbiAgICB9XG4gIH0sXG4gIGVtcHR5OiBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24odmFsKSB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIGVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9LFxuICB1bmVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiAhKGEgPT09IGIpO1xuICB9LFxuICBpbmNsdWRlczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG4gIH0sXG4gIGluY2x1ZGU6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuICB9LFxuICBmaWVsZHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuICAgIH1cbiAgfSxcbiAgZm9ybWF0RGF0ZTogZnVuY3Rpb24oZGF0ZSwgb3B0aW9ucykge1xuICAgIGlmICghZGF0ZSkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgb3B0aW9ucyA9IEpTT04ucGFyc2Uob3B0aW9ucyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5mb3JtYXQpIHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIGZvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCJcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KG9wdGlvbnMuZm9ybWF0KTtcbiAgfSxcbiAgdHJhY2VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZmxvdywgaW5zdGFuY2UsIGxvY2FsZSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCBzdGVlZG9zRGF0YSwgc3RlcHMsIHRyYWNlcztcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBzdGVlZG9zRGF0YSA9IChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjEgPSByZWYudmlldykgIT0gbnVsbCA/IChyZWYyID0gcmVmMS50ZW1wbGF0ZSkgIT0gbnVsbCA/IHJlZjIuc3RlZWRvc0RhdGEgOiB2b2lkIDAgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICBpbnN0YW5jZSA9IHN0ZWVkb3NEYXRhICE9IG51bGwgPyBzdGVlZG9zRGF0YS5pbnN0YW5jZSA6IHZvaWQgMDtcbiAgICAgIGZsb3cgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24oaW5zdGFuY2UpO1xuICAgICAgbG9jYWxlID0gc3RlZWRvc0RhdGEgIT0gbnVsbCA/IHN0ZWVkb3NEYXRhLmxvY2FsZSA6IHZvaWQgMDtcbiAgICAgIGlmIChsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICBmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRmxvd1ZlcnNpb24oKTtcbiAgICAgIGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIik7XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UgfHwgIWZsb3cpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgc3RlcHMgPSBmbG93LnN0ZXBzO1xuICAgIHRyYWNlcyA9IHt9O1xuICAgIGlmICgocmVmMyA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCkge1xuICAgICAgcmVmMy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgIHZhciBhcHByb3ZlcywgcmVmNCwgc3RlcDtcbiAgICAgICAgc3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdHJhY2Uuc3RlcCk7XG4gICAgICAgIGFwcHJvdmVzID0gW107XG4gICAgICAgIGlmICgocmVmNCA9IHRyYWNlLmFwcHJvdmVzKSAhPSBudWxsKSB7XG4gICAgICAgICAgcmVmNC5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICAgIHZhciBqdWRnZV9uYW1lO1xuICAgICAgICAgICAgaWYgKHRyYWNlLmlzX2ZpbmlzaGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGlmIChhcHByb3ZlLmp1ZGdlID09PSAnYXBwcm92ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAncmVqZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWplY3RlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAndGVybWluYXRlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3JlYXNzaWduZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdyZWxvY2F0ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWxvY2F0ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSBwZW5kaW5nXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFwcHJvdmVzLnB1c2goe1xuICAgICAgICAgICAgICBfaWQ6IGFwcHJvdmUuX2lkLFxuICAgICAgICAgICAgICBoYW5kbGVyOiBhcHByb3ZlLnVzZXIsXG4gICAgICAgICAgICAgIGhhbmRsZXJfbmFtZTogYXBwcm92ZS5oYW5kbGVyX25hbWUsXG4gICAgICAgICAgICAgIGhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSxcbiAgICAgICAgICAgICAgaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUsXG4gICAgICAgICAgICAgIGZpbmlzaF9kYXRlOiBhcHByb3ZlLmZpbmlzaF9kYXRlLFxuICAgICAgICAgICAgICBqdWRnZTogYXBwcm92ZS5qdWRnZSxcbiAgICAgICAgICAgICAganVkZ2VfbmFtZToganVkZ2VfbmFtZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGFwcHJvdmUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgIGlzX2ZpbmlzaGVkOiBhcHByb3ZlLmlzX2ZpbmlzaGVkLFxuICAgICAgICAgICAgICB0eXBlOiBhcHByb3ZlLnR5cGUsXG4gICAgICAgICAgICAgIG9waW5pb25fZmllbGRzX2NvZGU6IGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZSxcbiAgICAgICAgICAgICAgc2lnbl9maWVsZF9jb2RlOiBhcHByb3ZlLnNpZ25fZmllbGRfY29kZSxcbiAgICAgICAgICAgICAgaXNfcmVhZDogYXBwcm92ZS5pc19yZWFkLFxuICAgICAgICAgICAgICBzaWduX3Nob3c6IGFwcHJvdmUuc2lnbl9zaG93XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RlcCkge1xuICAgICAgICAgIGlmIChzdGVwLm5hbWUgaW4gdHJhY2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhY2VzW3N0ZXAubmFtZV0gPSB0cmFjZXNbc3RlcC5uYW1lXS5jb25jYXQoYXBwcm92ZXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhY2VzW3N0ZXAubmFtZV0gPSBhcHByb3ZlcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJhY2VzO1xuICB9LFxuICBkb2NfdmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICB9LFxuICBpbnN0YW5jZV9ib3hfc3R5bGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBib3gsIGlucywganVkZ2U7XG4gICAgYm94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIik7XG4gICAgaWYgKGJveCA9PT0gXCJpbmJveFwiIHx8IGJveCA9PT0gXCJkcmFmdFwiKSB7XG4gICAgICBqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIik7XG4gICAgICBpZiAoanVkZ2UpIHtcbiAgICAgICAgaWYgKGp1ZGdlID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJib3gtc3VjY2Vzc1wiO1xuICAgICAgICB9IGVsc2UgaWYgKGp1ZGdlID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJib3gtZGFuZ2VyXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgaWYgKGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb24pIHtcbiAgICAgIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICByZXR1cm4gXCJib3gtc3VjY2Vzc1wiO1xuICAgICAgfSBlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICByZXR1cm4gXCJib3gtZGFuZ2VyXCI7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICB0YWJsZV9maWVsZHM6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIGZpZWxkcywgZm9ybV92ZXJzaW9uO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuICAgIH1cbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICBmaWVsZHMgPSBfLmNsb25lKGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQsIGluZGV4KSB7XG4gICAgICAgIHZhciBhZnRlcl9maWVsZCwgYmVmb3JlX2ZpZWxkLCBwcmVfZmllbGRzLCBwcmVfd2lkZV9maWVsZHMsIHRkX2NvbHNwYW4sIHRyX2VuZCwgdHJfc3RhcnQ7XG4gICAgICAgIGZpZWxkLnRyX3N0YXJ0ID0gXCJcIjtcbiAgICAgICAgZmllbGQudHJfZW5kID0gXCJcIjtcbiAgICAgICAgdGRfY29sc3BhbiA9IDE7XG4gICAgICAgIGlmICgodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lIDogdm9pZCAwKSA9PT0gZmllbGQuY29kZSkge1xuICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWVsZC5mb3JtdWxhICYmIGZpZWxkLnR5cGUgIT09ICdvZGF0YScpIHtcbiAgICAgICAgICBmaWVsZC5wZXJtaXNzaW9uID0gXCJyZWFkb25seVwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgIGZpZWxkLnRkX2NvbHNwYW4gPSA0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWVsZC50ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICBmaWVsZC50cl9zdGFydCA9IFwiPHRyPlwiO1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkLnRyX2VuZCA9IFwiPC90cj5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJlX2ZpZWxkcyA9IGZpZWxkcy5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgICAgcHJlX3dpZGVfZmllbGRzID0gcHJlX2ZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcImlzX3dpZGVcIiwgdHJ1ZSk7XG4gICAgICAgICAgdHJfc3RhcnQgPSBcIlwiO1xuICAgICAgICAgIHRyX2VuZCA9IFwiXCI7XG4gICAgICAgICAgYmVmb3JlX2ZpZWxkID0gbnVsbDtcbiAgICAgICAgICBhZnRlcl9maWVsZCA9IG51bGw7XG4gICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgYmVmb3JlX2ZpZWxkID0gZmllbGRzW2luZGV4IC0gMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmRleCA8IGZpZWxkcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBhZnRlcl9maWVsZCA9IGZpZWxkc1tpbmRleCArIDFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgIHRkX2NvbHNwYW4gPSA0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChiZWZvcmVfZmllbGQgJiYgYWZ0ZXJfZmllbGQgJiYgYmVmb3JlX2ZpZWxkLmlzX3dpZGUgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09PSAwICYmIGFmdGVyX2ZpZWxkICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PT0gMCAmJiBhZnRlcl9maWVsZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkLnRkX2NvbHNwYW4gPSB0ZF9jb2xzcGFuO1xuICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgdHJfc3RhcnQgPSBcIjx0cj5cIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PT0gMCB8fCBmaWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICAgICAgdHJfc3RhcnQgPSBcIjx0ciBjbGFzcyA9IFxcXCJ0ci1jaGlsZC10YWJsZVxcXCI+XCI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJfc3RhcnQgPSBcIjx0cj5cIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZC50cl9zdGFydCA9IHRyX3N0YXJ0O1xuICAgICAgICAgIGlmIChpbmRleCArIDEgPT09IGZpZWxkcy5sZW5ndGggfHwgZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT09ICd0YWJsZScgfHwgZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgdHJfZW5kID0gXCI8L3RyPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyICE9PSAwKSB7XG4gICAgICAgICAgICB0cl9lbmQgPSBcIjwvdHI+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmaWVsZC50cl9lbmQgPSB0cl9lbmQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZpZWxkcztcbiAgICB9XG4gIH0sXG4gIHNvcnRfYXBwcm92ZTogZnVuY3Rpb24oYXBwcm92ZXMsIG9yZGVyKSB7XG4gICAgaWYgKCFhcHByb3Zlcykge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAoIWFwcHJvdmVzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9yZGVyID09PSAnZGVzYycpIHtcbiAgICAgICAgYXBwcm92ZXMuc29ydChmdW5jdGlvbihwMSwgcDIpIHtcbiAgICAgICAgICB2YXIgX3AxLCBfcDI7XG4gICAgICAgICAgX3AxID0gMDtcbiAgICAgICAgICBfcDIgPSAwO1xuICAgICAgICAgIGlmIChwMS5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocDIuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9wMiAtIF9wMTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHByb3Zlcy5zb3J0KGZ1bmN0aW9uKHAxLCBwMikge1xuICAgICAgICAgIHZhciBfcDEsIF9wMjtcbiAgICAgICAgICBfcDEgPSAwO1xuICAgICAgICAgIF9wMiA9IDA7XG4gICAgICAgICAgaWYgKHAxLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwMi5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3AxIC0gX3AyO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFwcHJvdmVzO1xuICB9LFxuICBfdDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcbiAgfSxcbiAgZ2V0RmllbGQ6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSk7XG4gICAgfVxuICB9LFxuICBnZXRWYWx1ZTogZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb24sIGluc3RhbmNlLCBsb2NhbGUsIHV0Y09mZnNldCwgdmFsdWVzO1xuICAgIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICB1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0O1xuICAgIHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICB2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgfVxuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUodmFsdWVzW2NvZGVdLCBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLCBsb2NhbGUsIHV0Y09mZnNldCk7XG4gIH0sXG4gIGdldExhYmVsOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwoZm9ybV92ZXJzaW9uLmZpZWxkcywgY29kZSk7XG4gIH0sXG4gIGdldENmQ2xhc3M6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgaWYgKChmaWVsZCAhPSBudWxsID8gZmllbGQudHlwZSA6IHZvaWQgMCkgPT09IFwiaW5wdXRcIiAmJiAoZmllbGQgIT0gbnVsbCA/IGZpZWxkLmlzX3RleHRhcmVhIDogdm9pZCAwKSkge1xuICAgICAgcmV0dXJuIFwiY2ZUZXh0YXJlYVwiO1xuICAgIH1cbiAgfSxcbiAgZ2V0VGFibGVUaGVhZDogZnVuY3Rpb24oZmllbGQpIHtcbiAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRoZWFkKGZpZWxkLCBmYWxzZSk7XG4gIH0sXG4gIGdldFRhYmxlQm9keTogZnVuY3Rpb24oZmllbGQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHRhYmxlVmFsdWUsIHZhbHVlcztcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcbiAgICAgIHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIH1cbiAgICB0YWJsZVZhbHVlID0gdmFsdWVzW2ZpZWxkLmNvZGVdO1xuICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGJvZHkoZmllbGQuc2ZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIiksIGZpZWxkLCB0YWJsZVZhbHVlLCBmYWxzZSk7XG4gIH0sXG4gIHNob3dMYWJlbDogZnVuY3Rpb24oZmllbGQpIHtcbiAgICB2YXIgdGVtcGxhdGVEYXRhO1xuICAgIHRlbXBsYXRlRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YTtcbiAgICBpZiAodGVtcGxhdGVEYXRhLmxhYmVsID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgaXNPcGluaW9uRmllbGQ6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGQuZm9ybXVsYSk7XG4gIH0sXG4gIGlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nOiBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSk7XG4gIH0sXG4gIGluY2x1ZGVzT3BpbmlvbkZpZWxkOiBmdW5jdGlvbihmb3JtLCBmb3JtX3ZlcnNpb24pIHtcbiAgICB2YXIgZmllbGRfZm9ybXVsYXMsIGZpZWxkcywgcmVmO1xuICAgIGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XG4gICAgZmllbGRzID0gKChyZWYgPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmb3JtX3ZlcnNpb24sXG4gICAgICBmb3JtOiBmb3JtXG4gICAgfSkpICE9IG51bGwgPyByZWYuZmllbGRzIDogdm9pZCAwKSB8fCBbXTtcbiAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICB2YXIgcmVmMTtcbiAgICAgIGlmIChmLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZScpO1xuICAgICAgfSBlbHNlIGlmIChmLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgICByZXR1cm4gZiAhPSBudWxsID8gKHJlZjEgPSBmLmZpZWxkcykgIT0gbnVsbCA/IHJlZjEuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICAgIHJldHVybiBmaWVsZF9mb3JtdWxhcy5wdXNoKGYxLmZvcm11bGEpO1xuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9mb3JtdWxhcy5wdXNoKGYuZm9ybXVsYSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF8uc29tZShmaWVsZF9mb3JtdWxhcywgZnVuY3Rpb24oZmllbGRfZm9ybXVsYSkge1xuICAgICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSk7XG4gICAgfSk7XG4gIH0sXG4gIGdldE9waW5pb25GaWVsZFN0ZXBzTmFtZTogZnVuY3Rpb24oZmllbGRfZm9ybXVsYSwgdG9wX2tleXdvcmRzKSB7XG4gICAgdmFyIGZvbzEsIG9waW5pb25GaWVsZHM7XG4gICAgb3BpbmlvbkZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICAgIGlmIChJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpKSB7XG4gICAgICBpZiAoZmllbGRfZm9ybXVsYSkge1xuICAgICAgICBmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIjtcIik7XG4gICAgICAgIGZvbzEuZm9yRWFjaChmdW5jdGlvbihmb28pIHtcbiAgICAgICAgICB2YXIganNvbl9mb3JtdWxhLCByZWYsIHJlZjEsIHMxLCBzZjtcbiAgICAgICAgICBqc29uX2Zvcm11bGEgPSB7fTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAganNvbl9mb3JtdWxhID0gZXZhbChcIihcIiArIGZvbyArIFwiKVwiKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICAgICAgICAgIGpzb25fZm9ybXVsYSA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoanNvbl9mb3JtdWxhICE9IG51bGwgPyBqc29uX2Zvcm11bGEueWlqaWFubGFuIDogdm9pZCAwKSB7XG4gICAgICAgICAgICBzZiA9IHt9O1xuICAgICAgICAgICAgc2Yuc3RlcE5hbWUgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnN0ZXA7XG4gICAgICAgICAgICBzZi5pbWFnZV9zaWduID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5pbWFnZV9zaWduIHx8IGZhbHNlO1xuICAgICAgICAgICAgc2Yub25seV9jY19vcGluaW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5vbmx5X2NjIHx8IGZhbHNlO1xuICAgICAgICAgICAgc2YuZGVmYXVsdF9kZXNjcmlwdGlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW5bXCJkZWZhdWx0XCJdO1xuICAgICAgICAgICAgc2Yub25seV9oYW5kbGVyID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5vbmx5X2hhbmRsZXI7XG4gICAgICAgICAgICBzZi50b3Bfa2V5d29yZHMgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnRvcF9rZXl3b3JkcyB8fCB0b3Bfa2V5d29yZHM7XG4gICAgICAgICAgICByZXR1cm4gb3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xKSB7XG4gICAgICAgICAgICBzZiA9IHtcbiAgICAgICAgICAgICAgb25seV9jY19vcGluaW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgaW1hZ2Vfc2lnbjogZmFsc2UsXG4gICAgICAgICAgICAgIHRvcF9rZXl3b3JkczogdG9wX2tleXdvcmRzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGZvby5pbmRleE9mKFwie3NpZ25hdHVyZS5cIikgPiAtMSkge1xuICAgICAgICAgICAgICBzZi5pbWFnZV9zaWduID0gdHJ1ZTtcbiAgICAgICAgICAgICAgZm9vID0gZm9vLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMxID0gZm9vLnJlcGxhY2UoXCJ7XCIsIFwiXCIpLnJlcGxhY2UoXCJ9XCIsIFwiXCIpO1xuICAgICAgICAgICAgaWYgKHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIHNmLnN0ZXBOYW1lID0gczEuc3BsaXQoXCIuXCIpWzFdO1xuICAgICAgICAgICAgICBpZiAob3BpbmlvbkZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcInN0ZXBOYW1lXCIsIHNmLnN0ZXBOYW1lKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKChyZWYgPSBvcGluaW9uRmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwTmFtZVwiLCBzZi5zdGVwTmFtZSkpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHJlZi5vbmx5X2NjX29waW5pb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgoKHJlZjEgPSBzMS5zcGxpdChcIi5cIilbMl0pICE9IG51bGwgPyByZWYxLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDApID09PSAnY2MnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNmLm9ubHlfY2Nfb3BpbmlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3BpbmlvbkZpZWxkcztcbiAgfSxcbiAgc2hvd0NDT3BpbmlvbjogZnVuY3Rpb24oZmllbGQpIHtcbiAgICB2YXIgcmVmLCByZWYxLCByZWYyLCBzMTtcbiAgICBpZiAoKChyZWYgPSBmaWVsZC5mb3JtdWxhKSAhPSBudWxsID8gcmVmLmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoKHJlZjEgPSBmaWVsZC5mb3JtdWxhKSAhPSBudWxsID8gcmVmMS5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xKSB7XG4gICAgICBzMSA9IGZpZWxkLmZvcm11bGEucmVwbGFjZShcIntzaWduYXR1cmUuXCIsIFwiXCIpLnJlcGxhY2UoXCJ7XCIsIFwiXCIpLnJlcGxhY2UoXCJ9XCIsIFwiXCIpO1xuICAgICAgaWYgKHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyKSB7XG4gICAgICAgIGlmICgoKHJlZjIgPSBzMS5zcGxpdChcIi5cIilbMl0pICE9IG51bGwgPyByZWYyLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDApID09PSAnY2MnKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBtYXJrRG93blRvSHRtbDogZnVuY3Rpb24obWFya0Rvd25TdHJpbmcpIHtcbiAgICB2YXIgcmVuZGVyZXI7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuICAgICAgcmVuZGVyZXIubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIiArIGhyZWYgKyBcIicgdGl0bGU9J1wiICsgdGl0bGUgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2E+XCI7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7XG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJlclxuICAgICAgfSkpO1xuICAgIH1cbiAgfSxcbiAgZl9sYWJlbDogZnVuY3Rpb24odGhhdCkge1xuICAgIHJldHVybiB0aGF0Lm5hbWUgfHwgdGhhdC5jb2RlO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuc3RlZWRvc19mb3JtID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybV92ZXJzaW9uO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzU2VjdGlvbiA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IHRoaXMuZm9ybV92ZXJzaW9uO1xuICAgIHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLnR5cGUgPT09ICdzZWN0aW9uJztcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5kb2NfdmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluc3RhbmNlO1xuICAgIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcbiAgICByZXR1cm4gaW5zdGFuY2UudmFsdWVzO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmFwcGxpY2FudENvbnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSwgaW5zdGFuY2U7XG4gICAgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xuICAgIHJldHVybiBkYXRhID0ge1xuICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgYXR0czoge1xuICAgICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIGlkOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIFwiY2xhc3NcIjogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnXG4gICAgICB9LFxuICAgICAgdmFsdWU6IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lXG4gICAgfTtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZpZWxkcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb247XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcbiAgICB9XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybV90eXBlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcImRpc2FibGVkXCI7XG4gIH07XG4gIFRlbXBsYXRlLnJlZ2lzdGVySGVscGVyKFwiYWZGaWVsZExhYmVsVGV4dFwiLCBmdW5jdGlvbihvcCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb24sIHJlZjtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwoZm9ybV92ZXJzaW9uLmZpZWxkcywgb3AgIT0gbnVsbCA/IChyZWYgPSBvcC5oYXNoKSAhPSBudWxsID8gcmVmLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICB9KTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5fdCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgbG9jYWxlID0gdGhpcy5sb2NhbGU7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnNfYXR0YWNoX2Rvd25sb2FkX3VybCA9IGZ1bmN0aW9uKF9pZCwgYWJzb2x1dGUpIHtcbiAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgIHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy9cIiArIF9pZCArIFwiP2Rvd25sb2FkPXRydWVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiO1xuICAgIH1cbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5vcHRpb25zID0gZnVuY3Rpb24oZmllbGQpIHtcbiAgICB2YXIgb3B0aW9ucywgcmVmLCByZXY7XG4gICAgb3B0aW9ucyA9IGZpZWxkICE9IG51bGwgPyAocmVmID0gZmllbGQub3B0aW9ucykgIT0gbnVsbCA/IHJlZi5zcGxpdChcIlxcblwiKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICByZXYgPSBbXTtcbiAgICBpZiAob3B0aW9ucyAhPSBudWxsKSB7XG4gICAgICBvcHRpb25zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gcmV2LnB1c2goe1xuICAgICAgICAgIGxhYmVsOiBpdGVtLFxuICAgICAgICAgIHZhbHVlOiBpdGVtXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXY7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0UGVybWlzc2lvbnMgPSBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoISgocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKGNvZGUpIDogdm9pZCAwKSkge1xuICAgICAgcmV0dXJuIFwicmVhZG9ubHkgZGlzYWJsZWRcIjtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH07XG59XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLmV2ZW50cyA9IHtcbiAgJ2NoYW5nZSAuZm9ybS1jb250cm9sLC5jaGVja2JveCBpbnB1dCwuYWYtcmFkaW8tZ3JvdXAgaW5wdXQsLmFmLWNoZWNrYm94LWdyb3VwIGlucHV0JzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KTtcbiAgfSxcbiAgJ3R5cGVhaGVhZDpjaGFuZ2UgLmZvcm0tY29udHJvbCc6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIEluc3RhbmNlTWFuYWdlci5pbnN0YW5jZWZvcm1DaGFuZ2VFdmVudChldmVudCk7XG4gIH0sXG4gICdjbGljayAuY2ZUZXh0YXJlYSBhJzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiBTdGVlZG9zLm9wZW5XaW5kb3coZXZlbnQudGFyZ2V0LmhyZWYpO1xuICB9XG59O1xuXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5vbkNyZWF0ZWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbXBpbGVkLCBlLCBpbnN0YW5jZSwgaW5zdGFuY2VDdXN0b21UZW1wbGF0ZSwgaW5zdGFuY2VWaWV3LCByZW5kZXJGdW5jdGlvbiwgdGVtcGxhdGU7XG4gIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UpO1xuICB0cnkge1xuICAgIGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0ZW1wbGF0ZSwge1xuICAgICAgaXNCb2R5OiB0cnVlXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgIGUgPSBlcnJvcjE7XG4gICAgY29uc29sZS5sb2coXCJJbnN0YW5jZSBUZW1wbGF0ZSBFcnJvclwiLCBlKTtcbiAgICBjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoXCJcIiwge1xuICAgICAgaXNCb2R5OiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyRnVuY3Rpb24gPSBldmFsKGNvbXBpbGVkKTtcbiAgaW5zdGFuY2VWaWV3ID0gbmV3IEJsYXplLlZpZXcoXCJjdXN0b21faW5zdGFuY2VfdGVtcGxhdGVcIiwgcmVuZGVyRnVuY3Rpb24pO1xuICBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlID0gbmV3IEJsYXplLlRlbXBsYXRlKGluc3RhbmNlVmlldy5uYW1lLCByZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZSA9IGluc3RhbmNlQ3VzdG9tVGVtcGxhdGU7XG4gIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZV9jdXN0b21fdGVtcGxhdGUuaGVscGVycyhJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uUmVuZGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGN1cnJlbnRBcHByb3ZlLCBjdXJyZW50U3RlcCwgZm9ybV92ZXJzaW9uLCBmb3JtdWxhX2ZpZWxkcywgaW5zdGFuY2UsIGluc3RhbmNlTnVtYmVyRmllbGRzLCBqdWRnZSwgcmVmO1xuICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICBpZiAoIWluc3RhbmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICgocmVmID0gJChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKVswXSkgIT0gbnVsbCkge1xuICAgIHJlZi5kYXRhc2V0LnZhbHVlcyA9IGluc3RhbmNlLmFwcGxpY2FudDtcbiAgfVxuICAkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZSk7XG4gIEFwcHJvdmVNYW5hZ2VyLmVycm9yID0ge1xuICAgIG5leHRTdGVwczogJycsXG4gICAgbmV4dFN0ZXBVc2VyczogJydcbiAgfTtcbiAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnZHJhZnQnKSB7XG4gICAgSW5zdGFuY2VFdmVudC5pbml0RXZlbnRzKGluc3RhbmNlLmZsb3cpO1xuICB9XG4gIGlmICghQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpKSB7XG4gICAgY3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcbiAgICBpbnN0YW5jZU51bWJlckZpZWxkcyA9ICQoXCJbZGF0YS1mb3JtdWxhXVwiLCAkKFwiI2luc3RhbmNlZm9ybVwiKSk7XG4gICAgaW5zdGFuY2VOdW1iZXJGaWVsZHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlbGVtZW50LCBzY2hlbWFLZXk7XG4gICAgICBzY2hlbWFLZXkgPSB0aGlzLmRhdGFzZXQuc2NoZW1hS2V5O1xuICAgICAgZWxlbWVudCA9ICQodGhpcyk7XG4gICAgICBpZiAoISQodGhpcykudmFsKCkgJiYgc2NoZW1hS2V5ICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSkge1xuICAgICAgICByZXR1cm4gTWV0ZW9yLmNhbGwoJ2dldEluc3RhbmNlVmFsdWVzJywgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpLCBmdW5jdGlvbihlcnJvciwgcmVzdWx0KSB7XG4gICAgICAgICAgdmFyIGtleSwgcmVmMTtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRvYXN0ci5lcnJvcihlcnJvci5yZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXJlc3VsdFtzY2hlbWFLZXldKSB7XG4gICAgICAgICAgICBrZXkgPSAocmVmMSA9IGVsZW1lbnQuZGF0YShcImZvcm11bGFcIikpICE9IG51bGwgPyByZWYxLnJlcGxhY2UoXCJhdXRvX251bWJlcihcIiwgXCJcIikucmVwbGFjZShcIilcIiwgXCJcIikgOiB2b2lkIDA7XG4gICAgICAgICAgICBrZXkgPSBrZXkucmVwbGFjZSgvXFxcIi9nLCBcIlwiKS5yZXBsYWNlKC9cXCcvZywgXCJcIik7XG4gICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoXCJ7XCIpID4gLTEpIHtcbiAgICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoXCJ7XCIsIFwiXCIpLnJlcGxhY2UoXCJ9XCIsIFwiXCIpO1xuICAgICAgICAgICAgICBrZXkgPSBrZXkudHJpbSgpO1xuICAgICAgICAgICAgICBrZXkgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKGtleSwgJ2luc3RhbmNlZm9ybScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEluc3RhbmNlTnVtYmVyUnVsZXMuaW5zdGFuY2VOdW1iZXJCdWlsZGVyKGVsZW1lbnQsIGtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50ICE9IG51bGwgPyBlbGVtZW50LnZhbChyZXN1bHRbc2NoZW1hS2V5XSkudHJpZ2dlcihcImNoYW5nZVwiKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGp1ZGdlID0gY3VycmVudEFwcHJvdmUuanVkZ2U7XG4gICAgY3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGZvcm11bGFfZmllbGRzID0gRm9ybV9mb3JtdWxhLmdldEZvcm11bGFGaWVsZFZhcmlhYmxlKFwiRm9ybV9mb3JtdWxhLmZpZWxkX3ZhbHVlc1wiLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcbiAgICBGb3JtX2Zvcm11bGEucnVuKFwiXCIsIFwiXCIsIGZvcm11bGFfZmllbGRzLCBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwiaW5zdGFuY2Vmb3JtXCIpLmluc2VydERvYywgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgcmV0dXJuIFNlc3Npb24uc2V0KFwiaW5zdGFuY2VfZm9ybV92YWx1ZXNcIiwge1xuICAgICAgaW5zdGFuY2VJZDogaW5zdGFuY2UuX2lkLFxuICAgICAgdmFsdWVzOiBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwiaW5zdGFuY2Vmb3JtXCIpLmluc2VydERvY1xuICAgIH0pO1xuICB9XG59O1xuIiwiSW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycyA9IHtcclxuXHJcblx0c2hvd01haW5UaXRsZTogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS53b3JrZmxvd01haW5BdHRhY2hUaXRsZS5nZXQoKTtcclxuXHR9LFxyXG5cdGVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRpZiAoIWlucylcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJkcmFmdFwiICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiaW5ib3hcIikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdH1cclxuXHJcblx0XHQvLyDlt7Lnu4/nu5PmnZ/nmoTljZXlrZDkuI3og73mlLnpmYTku7ZcclxuXHRcdGlmIChpbnMuc3RhdGUgPT0gXCJjb21wbGV0ZWRcIikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XHJcblxyXG5cdFx0aWYgKCFjdXJyZW50X3N0ZXApXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0XHQvLyDliIblj5HnmoTmraPmlofmiJbogIXpmYTku7bkuI3mmL7npLrovazkuLpwZGbmjInpkq5cclxuXHRcdC8vIOWmguaenOacieato+aWh+adg+mZkOWImeS4uuato+aWh++8jOWQpuWImeWIhuWPkeS4uumZhOS7tlxyXG5cdFx0Ly8g5YiG5Y+R55qE6ZmE5Lu25LiN5YWB6K645L+u5pS5IOWIoOmZpCDmlrDlop7niYjmnKxcclxuXHRcdHZhciBtYWluX2F0dGFjaF9jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5faWQsXHJcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcclxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXHJcblx0XHR9KS5jb3VudCgpO1xyXG5cclxuXHRcdHZhciBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50ID0gMDtcclxuXHJcblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xyXG5cdFx0XHR2YXIgc3RhcnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRTdGFydFN0ZXAoKTtcclxuXHRcdFx0aWYgKHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2gpIHtcclxuXHRcdFx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLFxyXG5cdFx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXHJcblx0XHRcdFx0fSkuY291bnQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSAmJiBtYWluX2F0dGFjaF9jb3VudCA8IDEgJiYgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA8IDEpIHtcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdH1cclxuXHJcblx0XHQvLyDmraPmlofmnIDlpJrlj6rog73mnInkuIDkuKpcclxuXHRcdGlmIChtYWluX2F0dGFjaF9jb3VudCA+PSAxIHx8IGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPj0gMSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8g5byA5aeL6IqC54K55bm25LiU6K6+572u5LqG5Y+v5Lul5LiK5Lyg5q2j5paH5omN5pi+56S65LiK5Lyg5q2j5paH55qE5oyJ6ZKuXHJcblx0XHR2YXIgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XHJcblx0XHRpZiAoY3VycmVudF9zdGVwICYmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgPT0gXCJzdGFydFwiICYmIGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlKVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHRcdHJldHVybiBmYWxzZVxyXG5cdH0sXHJcblxyXG5cdGVuYWJsZWRfZWRpdF9ub3JtYWxfYXR0YWNobWVudDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRpZiAoIWlucylcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHR2YXIgZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRGbG93KGlucy5mbG93KTtcclxuXHRcdGlmICghZmxvdylcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cclxuXHRcdC8vIOWIhuWPkeWQjueahCDpmYTku7bvvIzkuI3lj6/ku6XnvJbovpEv5Yig6Zmk77yM5Lmf5LiN6K6p5LiK5Lyg5paw55qE6ZmE5Lu2LCDmtYHnqIvliJfooajvvJrmt7vliqDlsZ7mgKcg4oCY6KKr5YiG5Y+R5ZCO5piv5ZCm5YWB6K645LiK5Lyg6ZmE5Lu24oCZICMxODM3XHJcblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSAmJiAhZmxvdy51cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImRyYWZ0XCIgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJpbmJveFwiKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIOW3sue7j+e7k+adn+eahOWNleWtkOS4jeiDveaUuemZhOS7tlxyXG5cdFx0aWYgKGlucy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChJbnN0YW5jZU1hbmFnZXIuaXNDQyhpbnMpKSB7XHJcblx0XHRcdHZhciBzdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldENDU3RlcCgpO1xyXG5cdFx0XHRpZiAoc3RlcCAmJiAoc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHRydWUgfHwgc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHVuZGVmaW5lZCkpXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcclxuXHRcdFx0aWYgKGN1cnJlbnRfc3RlcCAmJiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdHJ1ZSB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB1bmRlZmluZWQpKVxyXG5cdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblx0fSxcclxuXHJcblx0bWFpbl9hdHRhY2htZW50OiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGlmICghaW5zKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHR2YXIgc3RhcnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRTdGFydFN0ZXAoKTtcclxuXHJcblx0XHQvLyDlpoLmnpzmmK/ooqvliIblj5HnmoTnlLPor7fljZXlubbkuJTmnInkv67mlLnmraPmlofnmoTmnYPpmZDvvIzliJnkvJjlhYjmmL7npLrljp/nlLPor7fljZXmlofku7ZcclxuXHRcdHZhciBtYWluX2F0dGFjaCA9IG51bGw7XHJcblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSAmJiBzdGFydF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoID09IHRydWUpIHtcclxuXHRcdFx0bWFpbl9hdHRhY2ggPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xyXG5cdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsXHJcblx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIW1haW5fYXR0YWNoKSB7XHJcblx0XHRcdG1haW5fYXR0YWNoID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcclxuXHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuX2lkLFxyXG5cdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcclxuXHRcdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG1haW5fYXR0YWNoO1xyXG5cdH0sXHJcblxyXG5cdG5vcm1hbF9hdHRhY2htZW50czogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRpZiAoIWlucylcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0dmFyIHNlbGVjdG9yID0ge1xyXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXHJcblx0XHRcdCdtZXRhZGF0YS5tYWluJzoge1xyXG5cdFx0XHRcdCRuZTogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgYXR0cyA9IG5ldyBBcnJheSgpO1xyXG5cclxuXHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XHJcblx0XHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNle+8jOWImeaYvuekuuWOn+eUs+ivt+WNleaWh+S7tiwg5aaC5p6c6YCJ5oup5LqG5bCG5Y6f6KGo5Y2V5a2Y5YKo5Li66ZmE5Lu25Lmf6KaB5pi+56S6LCDlkIzml7bkuZ/opoHmmL7npLrmlrDkuIrkvKDnmoTpmYTku7ZcclxuXHRcdFx0dmFyIGRmaXMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcclxuXHRcdFx0ZGZpcy5wdXNoKGlucy5faWQpO1xyXG5cdFx0XHRzZWxlY3RvclsnbWV0YWRhdGEuaW5zdGFuY2UnXSA9IHtcclxuXHRcdFx0XHQkaW46IGRmaXNcclxuXHRcdFx0fTtcclxuXHJcblxyXG5cdFx0XHRzZWxlY3RvcltcIiRvclwiXSA9IFt7XHJcblx0XHRcdFx0XCJtZXRhZGF0YS5pbnN0YW5jZVwiOiBpbnMuX2lkXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRcIm1ldGFkYXRhLmluc3RhbmNlXCI6IHtcclxuXHRcdFx0XHRcdCRpbjogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XHJcblx0XHRcdFx0XHQkbmU6IHRydWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1dXHJcblxyXG5cdFx0XHQvLyDlpoLmnpzljp/nlLPor7fljZXmnInmraPmlofkvYbmmK/liIblj5HlkI7msqHmnInmraPmlofmnYPpmZDvvIzliJnljp/nlLPor7fljZXmraPmlofmmL7npLrlnKjpmYTku7bmoI9cclxuXHRcdFx0dmFyIHN0YXJ0X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0U3RhcnRTdGVwKCk7XHJcblx0XHRcdGlmIChzdGFydF9zdGVwICYmIHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggIT0gdHJ1ZSkge1xyXG5cdFx0XHRcdHZhciBkaXN0cmlidXRlX21haW4gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xyXG5cdFx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xyXG5cdFx0XHRcdFx0XHQkaW46IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlLFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGlmIChkaXN0cmlidXRlX21haW4pIHtcclxuXHRcdFx0XHRcdHZhciBmaXJzdFZlcnNpb25NYWluID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKGRpc3RyaWJ1dGVfbWFpbi5tZXRhZGF0YS5wYXJlbnQpO1xyXG5cdFx0XHRcdFx0ZGlzdHJpYnV0ZV9tYWluLmF0dGFjaG1lbnRVcGxvYWRlZEF0ID0gZmlyc3RWZXJzaW9uTWFpbiA/IGZpcnN0VmVyc2lvbk1haW4udXBsb2FkZWRBdCA6IGRpc3RyaWJ1dGVfbWFpbi51cGxvYWRlZEF0O1xyXG5cdFx0XHRcdFx0YXR0cy5wdXNoKGRpc3RyaWJ1dGVfbWFpbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzZWxlY3RvclsnbWV0YWRhdGEuaW5zdGFuY2UnXSA9IGlucy5faWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Y2ZzLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcclxuXHRcdFx0dmFyIGZpcnN0VmVyc2lvbiA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZShjLm1ldGFkYXRhLnBhcmVudCk7XHJcblx0XHRcdGMuYXR0YWNobWVudFVwbG9hZGVkQXQgPSBmaXJzdFZlcnNpb24gPyBmaXJzdFZlcnNpb24udXBsb2FkZWRBdCA6IGMudXBsb2FkZWRBdDtcclxuXHRcdFx0YXR0cy5wdXNoKGMpO1xyXG5cdFx0fSlcclxuXHJcblx0XHRyZXR1cm4gXy5zb3J0QnkoYXR0cywgJ2F0dGFjaG1lbnRVcGxvYWRlZEF0Jyk7XHJcblx0fSxcclxuXHJcblx0c2hvd0F0dGFjaG1lbnRzOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGlmICghaW5zKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0Ly8g5aaC5p6c5piv6KKr5YiG5Y+R55qE55Sz6K+35Y2V77yM5YiZ5pi+56S65Y6f55Sz6K+35Y2V5paH5Lu2IOWSjOWIhuWPkeWQjueUs+ivt+WNleaWh+S7tlxyXG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XHJcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGlucy5faWQpO1xyXG5cdFx0dmFyIGF0dGFjaG1lbnRzX2NvdW50ID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcclxuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xyXG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcclxuXHRcdFx0fSxcclxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXHJcblx0XHR9KS5jb3VudCgpO1xyXG5cclxuXHRcdGlmIChTZXNzaW9uICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSAmJiBhdHRhY2htZW50c19jb3VudCA8IDEpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gXCJpbmJveFwiIHx8IGF0dGFjaG1lbnRzX2NvdW50ID4gMClcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHR9LFxyXG5cclxuXHRfdDogZnVuY3Rpb24oa2V5KSB7XHJcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXHJcblx0fSxcclxuXHJcblx0XzogZnVuY3Rpb24oa2V5KSB7XHJcblx0XHR2YXIgbG9jYWxlO1xyXG5cdFx0aWYgKE1ldGVvci5pc0NsaWVudCkge1xyXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcclxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRmbG93X2ZpbGVzOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGlmICghaW5zKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRyZXR1cm4gY2ZzLmZpbGVzLmZpbmQoeyAnbWV0YWRhdGEuc3BhY2UnOiBpbnMuc3BhY2UsICdtZXRhZGF0YS5vYmplY3RfbmFtZSc6ICdmbG93cycsICdtZXRhZGF0YS5yZWNvcmRfaWQnOiBpbnMuZmxvdyB9KTtcclxuXHR9LFxyXG5cclxuXHRpc0RyYWZ0QW5kRmxvd2ZpbGVzRXhpc3Q6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0aWYgKCFpbnMpXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdHJldHVybiAoU2Vzc2lvbi5nZXQoJ2JveCcpID09ICdkcmFmdCcpICYmICEhY2ZzLmZpbGVzLmZpbmQoeyAnbWV0YWRhdGEuc3BhY2UnOiBpbnMuc3BhY2UsICdtZXRhZGF0YS5vYmplY3RfbmFtZSc6ICdmbG93cycsICdtZXRhZGF0YS5yZWNvcmRfaWQnOiBpbnMuZmxvdyB9KS5jb3VudCgpO1xyXG5cdH1cclxuXHJcblxyXG59XHJcblxyXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XHJcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5fdCA9IGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxyXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxyXG5cdH1cclxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLmVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblx0fTtcclxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLmVuYWJsZWRfZWRpdF9ub3JtYWxfYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblx0fTtcclxuXHJcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5tYWluX2F0dGFjaG1lbnQgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcclxuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY29tcGFjdChbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLCBpbnN0YW5jZS5faWRdKTtcclxuXHRcdHZhciBhdHRhY2htZW50ID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcclxuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xyXG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcclxuXHRcdFx0fSxcclxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBhdHRhY2htZW50O1xyXG5cdH07XHJcblxyXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMubm9ybWFsX2F0dGFjaG1lbnRzID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgc3RlZWRvc0RhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGFcclxuXHRcdHZhciBpbnN0YW5jZSA9IHN0ZWVkb3NEYXRhLmluc3RhbmNlO1xyXG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcclxuXHRcdGluc3RhbmNlSWRzLnB1c2goaW5zdGFuY2UuX2lkKTtcclxuXHRcdHZhciBhdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcclxuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXHJcblx0XHRcdH0sXHJcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcclxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB7XHJcblx0XHRcdFx0JG5lOiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdCRvcjogW3tcclxuXHRcdFx0XHQnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHtcclxuXHRcdFx0XHRcdCRuZTogdHJ1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdCdtZXRhZGF0YS5pc19wcml2YXRlJzogdHJ1ZSxcclxuXHRcdFx0XHRcIm1ldGFkYXRhLm93bmVyXCI6IHN0ZWVkb3NEYXRhLnVzZXJJZFxyXG5cdFx0XHR9XVxyXG5cdFx0fSkuZmV0Y2goKTtcclxuXHJcblx0XHRyZXR1cm4gYXR0YWNobWVudHM7XHJcblx0fTtcclxuXHJcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5zaG93QXR0YWNobWVudHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcclxuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY2xvbmUoaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XHJcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGluc3RhbmNlLl9pZCk7XHJcblxyXG5cdFx0dmFyIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcclxuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xyXG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcclxuXHRcdFx0fSxcclxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXHJcblx0XHR9KS5mZXRjaCgpO1xyXG5cclxuXHRcdGlmIChhdHRhY2htZW50cyAmJiBhdHRhY2htZW50cy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5zaG93TWFpblRpdGxlID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XHJcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNvbXBhY3QoW2luc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSwgaW5zdGFuY2UuX2lkXSk7XHJcblx0XHR2YXIgbWFpbl9hdHRhY2hfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xyXG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XHJcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xyXG5cdFx0XHR9LFxyXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXHJcblx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxyXG5cdFx0fSkuY291bnQoKTtcclxuXHJcblx0XHRyZXR1cm4gbWFpbl9hdHRhY2hfY291bnQgPiAwXHJcblx0fVxyXG59XHJcbiIsIkluc3RhbmNlU2lnblRleHQuaGVscGVycyA9XHJcblx0c2hvdzogKHN0ZXBOYW1lKS0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoJ2luc3RhbmNlUHJpbnQnKVxyXG5cdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0XHRpZiBJbnN0YW5jZU1hbmFnZXIuaXNJbmJveCgpXHJcblx0XHRcdFx0bXlBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKClcclxuXHRcdFx0XHRpZiBteUFwcHJvdmVcclxuXHRcdFx0XHRcdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRcdFx0XHRteVRyYWNlID0gaW5zdGFuY2U/LnRyYWNlcz8uZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCBteUFwcHJvdmUudHJhY2UpXHJcblx0XHRcdFx0XHRyZXR1cm4gbXlUcmFjZT8ubmFtZSA9PSBzdGVwTmFtZVxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdGRlZmF1bHREZXNjcmlwdGlvbjogKCktPlxyXG4jXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIpXHJcblx0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb25cclxuXHJcblx0dHJhY2VzOiAoKS0+XHJcblx0XHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpXHJcblxyXG5cdHRyYWNlOiAoc3RlcE5hbWUsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiwgdG9wX2tleXdvcmRzKS0+XHJcblx0XHRpbnN0YW5jZSA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zdGFuY2UoKVxyXG5cclxuXHRcdGlzX2NvbXBsZXRlZCA9IGluc3RhbmNlPy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXHJcblxyXG5cdFx0Y29tcGxldGVkX2RhdGUgPSBpZiBpc19jb21wbGV0ZWQgdGhlbiBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKT8uZmluaXNoX2RhdGU/LmdldFRpbWUoKSBlbHNlIDBcclxuXHJcblx0XHRpZiBpc19jb21wbGV0ZWQgJiYgaW5zdGFuY2UuZmluaXNoX2RhdGVcclxuXHRcdFx0Y29tcGxldGVkX2RhdGUgPSBpbnN0YW5jZS5maW5pc2hfZGF0ZT8uZ2V0VGltZSgpXHJcblxyXG5cdFx0dHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKVxyXG5cclxuXHRcdGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbc3RlcE5hbWVdKVxyXG5cclxuXHRcdGFwcHJvdmVfc29ydCA9IChhcHByb3ZlcywgdG9wX2tleXdvcmRzKS0+XHJcblxyXG4j5a+5QXBwcm92ZXPmjpLluo/vvIwg5oyJ54Wn5o+Q5Lqk5pe26Ze05o6S5YCS5bqP77yM5aaC5p6c5rKh5pyJ5o+Q5Lqk5YiZ5pi+56S65Zyo5pyA5LiK6L65XHJcblx0XHRcdGFwcHJvdmVzX3NvcnRlZCA9IF8uc29ydEJ5IGFwcHJvdmVzLCAoYXBwcm92ZSktPlxyXG5cdFx0XHRcdHJldHVybiAtKGFwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpXHJcblxyXG5cdFx0XHQj6YCa6L+H5YWz6ZSu5a2X5o6S5bqPXHJcblx0XHRcdGlmIHRvcF9rZXl3b3Jkc1xyXG5cdFx0XHRcdHRvcF9hcHByb3ZlcyA9IG5ldyBBcnJheSgpXHJcblxyXG5cdFx0XHRcdHRvcF9rZXl3b3Jkcy5zcGxpdChcIixcIikuZm9yRWFjaCAoa2V5KSAtPlxyXG5cdFx0XHRcdFx0dG9wX2FwcHJvdmVzID0gXy51bmlvbiB0b3BfYXBwcm92ZXMsIF8uZmlsdGVyKGFwcHJvdmVzX3NvcnRlZCwgKGFwcHJvdmUpLT5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIGFwcHJvdmU/LmhhbmRsZXJfbmFtZT8uaW5kZXhPZihrZXkpID4gLTFcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHQjIOWvuee9rumhtuaEj+ingeaMieeFp+WkhOeQhuS6i+S7tuaOkuWAkuW6j1xyXG5cdFx0XHRcdHRvcF9hcHByb3ZlcyA9IF8uc29ydEJ5IHRvcF9hcHByb3ZlcywgKHRvcF9hcHByb3ZlKS0+XHJcblx0XHRcdFx0XHRyZXR1cm4gLSh0b3BfYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKClcclxuXHJcblx0XHRcdFx0YXBwcm92ZXNfc29ydGVkID0gXy51bmlvbiB0b3BfYXBwcm92ZXMsIGFwcHJvdmVzX3NvcnRlZFxyXG5cdFx0XHRyZXR1cm4gYXBwcm92ZXNfc29ydGVkIHx8IFtdXHJcblxyXG5cdFx0YXBwcm92ZXMgPSBfLmZpbHRlciBhcHByb3ZlcywgKGEpLT5cclxuXHRcdFx0cmV0dXJuIGEudHlwZSBpc250IFwiZm9yd2FyZFwiIGFuZCBhLnR5cGUgaXNudCBcImRpc3RyaWJ1dGVcIiBhbmQgYS50eXBlIGlzbnQgXCJ0ZXJtaW5hdGVkXCJcclxuXHJcblx0XHRpZiBvbmx5X2NjX29waW5pb25cclxuXHRcdFx0YXBwcm92ZXMgPSBhcHByb3Zlcz8uZmlsdGVyUHJvcGVydHkoXCJ0eXBlXCIsIFwiY2NcIilcclxuXHJcblx0XHRhcHByb3Zlc19zb3J0ZWQgPSBhcHByb3ZlX3NvcnQoYXBwcm92ZXMsIHRvcF9rZXl3b3JkcylcclxuXHJcblx0XHRhcHByb3Zlc0dyb3VwID0gXy5ncm91cEJ5KGFwcHJvdmVzLCBcImhhbmRsZXJcIik7XHJcblxyXG5cdFx0aGFzTmV4dCA9IChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAtPlxyXG5cdFx0XHRoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl1cclxuXHRcdFx0cmV0dXJuIF8uaW5kZXhPZihoYW5kbGVyQXBwcm92ZXMsIGFwcHJvdmUpICsgMSA8IGhhbmRsZXJBcHByb3Zlcy5sZW5ndGhcclxuXHJcblx0XHRoYXZlRGVzY3JpcHRpb25BcHByb3ZlID0gKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIC0+XHJcblx0XHRcdGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXVxyXG5cclxuXHRcdFx0ZGVzY3JpcHRpb25BcHByb3ZlcyA9IF8uZmlsdGVyIGhhbmRsZXJBcHByb3ZlcywgKGEpLT5cclxuXHRcdFx0XHRpZiBhLmRlc2NyaXB0aW9uXHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdFx0aWYgZGVzY3JpcHRpb25BcHByb3Zlcy5sZW5ndGggPT0gMFxyXG5cdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHJcblxyXG5cdFx0YXBwcm92ZXNfc29ydGVkLmZvckVhY2ggKGFwcHJvdmUpIC0+XHJcbiNcdFx0XHTmnInovpPlhaXmhI/op4Eg5oiWIOacgOaWsOS4gOadoeW5tuS4lOeUqOaIt+ayoeaciei+k+WFpei/h+aEj+ingVxyXG4jXHRcdFx0aWYgIWFwcHJvdmUuaXNfZmluaXNoZWQgfHwgYXBwcm92ZS5kZXNjcmlwdGlvbiB8fCAoIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgJiYgIWhhdmVEZXNjcmlwdGlvbkFwcHJvdmUoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkpXHJcbiNcdFx0XHRpZiAhaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKVxyXG5cdFx0XHRpZiBhcHByb3ZlLnNpZ25fc2hvdyAhPSBmYWxzZSAmJiAoYXBwcm92ZS5kZXNjcmlwdGlvbiB8fCAoIWFwcHJvdmUuZGVzY3JpcHRpb24gJiYgIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkpIClcclxuXHRcdFx0XHRpZiBhcHByb3ZlLmp1ZGdlIGlzbnQgJ3Rlcm1pbmF0ZWQnXHJcblx0XHRcdFx0XHRhcHByb3ZlLl9kaXNwbGF5ID0gdHJ1ZVxyXG5cclxuXHRcdGFwcHJvdmVzX3NvcnRlZCA9IF8uZmlsdGVyIGFwcHJvdmVzX3NvcnRlZCwgKGEpIC0+XHJcblx0XHRcdGlmIGlzX2NvbXBsZXRlZFxyXG5cdFx0XHRcdHJldHVybiBhLl9kaXNwbGF5ID09IHRydWUgJiYgYS5pc19maW5pc2hlZCAmJiBhLmZpbmlzaF9kYXRlPy5nZXRUaW1lKCkgPD0gY29tcGxldGVkX2RhdGVcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiBhLl9kaXNwbGF5ID09IHRydWVcclxuXHJcblx0XHRyZXR1cm4gYXBwcm92ZXNfc29ydGVkXHJcblxyXG5cdGluY2x1ZGU6IChhLCBiKSAtPlxyXG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZShhLCBiKVxyXG5cclxuXHR1bmVtcHR5OiAodmFsKS0+XHJcblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy51bmVtcHR5KHZhbClcclxuXHJcblx0Zm9ybWF0RGF0ZTogKGRhdGUsIG9wdGlvbnMpLT5cclxuXHRcdGlmICFvcHRpb25zXHJcblx0XHRcdG9wdGlvbnMgPSB7XCJmb3JtYXRcIjogXCJZWVlZLU1NLUREXCJ9XHJcblxyXG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybWF0RGF0ZShkYXRlLCBvcHRpb25zKVxyXG5cclxuXHRpc015QXBwcm92ZTogKGFwcHJvdmUsIG9ubHlfY2Nfb3BpbmlvbikgLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHJcblx0XHRcdGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKClcclxuXHJcblx0XHRcdGlmICFhcHByb3ZlPy5faWRcclxuXHRcdFx0XHRhcHByb3ZlID0gY3VycmVudEFwcHJvdmVcclxuXHJcblx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGN1cnJlbnRBcHByb3ZlPy5faWQgJiYgY3VycmVudEFwcHJvdmU/LnR5cGUgPT0gJ2NjJyAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZVxyXG5cdFx0XHRcdGlmIF8uaW5kZXhPZihjdXJyZW50QXBwcm92ZT8ub3Bpbmlvbl9maWVsZHNfY29kZSwgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpID4gLTFcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0XHRpZiAhKGN1cnJlbnRBcHByb3ZlPy50eXBlID09ICdjYycpICYmIG9ubHlfY2Nfb3BpbmlvblxyXG5cdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdFx0aWYgY3VycmVudEFwcHJvdmUgJiYgYXBwcm92ZS5faWQgPT0gY3VycmVudEFwcHJvdmUuX2lkXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRteUFwcHJvdmVEZXNjcmlwdGlvbjogKGFwcHJvdmVJZCktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcclxuXHRcdFx0XHRteUFwcHJvdmUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5teUFwcHJvdmU/LmdldCgpXHJcblx0XHRcdFx0aWYgbXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PSBhcHByb3ZlSWRcclxuXHRcdFx0XHRcdGlmICFteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IG15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT0gVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YT8ubmFtZVxyXG5cdFx0XHRcdFx0XHRpZiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIG15QXBwcm92ZT8uZGVzY3JpcHRpb24gfHwgXCJcIlxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXHJcblxyXG5cdG5vdzogKCktPlxyXG5cdFx0cmV0dXJuIG5ldyBEYXRlKCk7XHJcblxyXG5cdGlzUmVhZE9ubHk6ICgpLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRyZXR1cm4gQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0aXNPcGluaW9uT2ZGaWVsZDogKGFwcHJvdmUpLT5cclxuXHRcdGlmIGFwcHJvdmUudHlwZSA9PSBcImNjXCIgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWVcclxuXHRcdFx0aWYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUgPT0gYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGVcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XHJcblx0XHRpZiBtYXJrRG93blN0cmluZ1xyXG5cdFx0XHRyZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xyXG5cdFx0XHRyZW5kZXJlci5saW5rID0gKGhyZWYsIHRpdGxlLCB0ZXh0KSAtPlxyXG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcclxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7cmVuZGVyZXI6IHJlbmRlcmVyfSkpXHJcblxyXG5cdHN0ZXBzOiAoZmllbGRfZm9ybXVsYSwgc3RlcCwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduKS0+XHJcblx0XHRzdGVwcyA9IFtdXHJcblx0XHRpZiAhc3RlcFxyXG5cdFx0XHRpZiAhZmllbGRfZm9ybXVsYVxyXG5cdFx0XHRcdGZpZWxkX2Zvcm11bGEgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpPy5maWVsZHM/LmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIHRoaXMubmFtZSkuZm9ybXVsYVxyXG5cdFx0XHRzdGVwcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lKGZpZWxkX2Zvcm11bGEsIFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGEudG9wX2tleXdvcmRzKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRzdGVwcyA9IFt7c3RlcE5hbWU6IHN0ZXAsIG9ubHlfY2Nfb3Bpbmlvbjogb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduOiBpbWFnZV9zaWdufV1cclxuXHRcdHJldHVybiBzdGVwc1xyXG5cclxuXHRpbWFnZVNpZ25EYXRhOiAoaGFuZGxlcikgLT5cclxuXHRcdHJldHVybiB7dXNlcjogaGFuZGxlcn1cclxuXHJcblx0c2hvd1NpZ25JbWFnZTogKGhhbmRsZXIsIGltYWdlX3NpZ24pIC0+XHJcblx0XHRzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbihoYW5kbGVyKTtcclxuXHJcblx0XHRpZiBzcGFjZVVzZXJTaWduPy5zaWduICYmIGltYWdlX3NpZ25cclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdGdldExhc3RTaWduQXBwcm92ZTogKCktPlxyXG5cdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblxyXG5cdFx0cmV0dXJuIF8ubGFzdChUcmFjZXNNYW5hZ2VyLmdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzIGlucywgTWV0ZW9yLnVzZXJJZCgpKVxyXG5cclxuXHJcblx0bGFzdE15QXBwcm92ZURlc2NyaXB0aW9uOiAoKS0+XHJcblx0XHR0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpXHJcblx0XHRjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xyXG5cdFx0YXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tjdXJyZW50U3RlcC5uYW1lXSlcclxuXHJcblx0XHRhcHByb3ZlcyA9IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCBNZXRlb3IudXNlcklkKCkpXHJcblxyXG5cdFx0aWYgYXBwcm92ZXMubGVuZ3RoID4gMVxyXG5cdFx0XHRyZXR1cm4gYXBwcm92ZXNbYXBwcm92ZXMubGVuZ3RoIC0gMl0/LmRlc2NyaXB0aW9uXHJcblxyXG5cdFx0cmV0dXJuIFwiXCI7XHJcblxyXG5cdHNob3dBcHByb3ZlOiAoYXBwcm92ZSktPlxyXG5cdFx0aWYgIWFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09IFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGE/Lm5hbWVcclxuXHRcdFx0aWYgYXBwcm92ZT8uaXNfcmVhZFxyXG5cdFx0XHRcdGlmIGFwcHJvdmUuaXNfZmluaXNoZWRcclxuXHRcdFx0XHRcdHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGFwcHJvdmUuanVkZ2UpXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdGp1ZGdlX2Rlc2NyaXB0aW9uOiAoanVkZ2UpLT5cclxuXHRcdHJldHVybiB0KGp1ZGdlICsgXCJfZGVzY3JpcHRpb25cIilcclxuXHJcblx0aXNfYXBwcm92ZWQ6IChqdWRnZSktPlxyXG5cdFx0cmV0dXJuIFwiYXBwcm92ZWRcIiA9PSBqdWRnZVxyXG5cclxuXHRpc19yZWplY3RlZDogKGp1ZGdlKS0+XHJcblx0XHRyZXR1cm4gXCJyZWplY3RlZFwiID09IGp1ZGdlXHJcblxyXG5cdGlzX3JlYWRlZDogKGp1ZGdlKS0+XHJcblx0XHRyZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhqdWRnZSlcclxuXHJcblx0YWRkQ2xhc3M6ICgpLT5cclxuXHRcdG5hbWUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhPy5uYW1lXHJcblx0XHRzZXRUaW1lb3V0ICgpIC0+XHJcblx0XHRcdHRyeVxyXG5cdFx0XHRcdGVsZW1lbnQgPSAkKFwiLmF1dG9tYXRpYy5vcGluaW9uLWZpZWxkLVwiICsgbmFtZSlcclxuXHRcdFx0XHRpZiBlbGVtZW50Lmxlbmd0aCA+IDBcclxuXHRcdFx0XHRcdGlmIGVsZW1lbnQ/LmlzKFwidGRcIilcclxuXHRcdFx0XHRcdFx0ZWxlbWVudC5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHQkKFwiLmluc3RhbmNlLXNpZ25cIiwgZWxlbWVudCkuYWRkQ2xhc3MoJ2ZpZWxkLWVkaXRhYmxlJylcclxuXHRcdFx0Y2F0Y2ggZVxyXG5cdFx0XHRcdGNvbnNvbGUubG9nIGVcclxuXHRcdCwgMVxyXG5cdFx0cmV0dXJuICcnXHJcblxyXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMuZGVmYXVsdERlc2NyaXB0aW9uID0gLT5cclxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcclxuXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIsIHt9LCBsb2NhbGUpIiwiSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzID0ge1xuICBzaG93OiBmdW5jdGlvbihzdGVwTmFtZSkge1xuICAgIHZhciBpbnN0YW5jZSwgbXlBcHByb3ZlLCBteVRyYWNlLCByZWY7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KCdpbnN0YW5jZVByaW50JykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKEluc3RhbmNlTWFuYWdlci5pc0luYm94KCkpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XG4gICAgICAgIGlmIChteUFwcHJvdmUpIHtcbiAgICAgICAgICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgIG15VHJhY2UgPSBpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIG15QXBwcm92ZS50cmFjZSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIChteVRyYWNlICE9IG51bGwgPyBteVRyYWNlLm5hbWUgOiB2b2lkIDApID09PSBzdGVwTmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGRlZmF1bHREZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uO1xuICB9LFxuICB0cmFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpO1xuICB9LFxuICB0cmFjZTogZnVuY3Rpb24oc3RlcE5hbWUsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiwgdG9wX2tleXdvcmRzKSB7XG4gICAgdmFyIGFwcHJvdmVfc29ydCwgYXBwcm92ZXMsIGFwcHJvdmVzR3JvdXAsIGFwcHJvdmVzX3NvcnRlZCwgY29tcGxldGVkX2RhdGUsIGhhc05leHQsIGhhdmVEZXNjcmlwdGlvbkFwcHJvdmUsIGluc3RhbmNlLCBpc19jb21wbGV0ZWQsIHJlZiwgcmVmMSwgcmVmMiwgdHJhY2VzO1xuICAgIGluc3RhbmNlID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSgpO1xuICAgIGlzX2NvbXBsZXRlZCA9IChpbnN0YW5jZSAhPSBudWxsID8gaW5zdGFuY2Uuc3RhdGUgOiB2b2lkIDApID09PSBcImNvbXBsZXRlZFwiO1xuICAgIGNvbXBsZXRlZF9kYXRlID0gaXNfY29tcGxldGVkID8gKHJlZiA9IF8ubGFzdChpbnN0YW5jZS50cmFjZXMpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZmluaXNoX2RhdGUpICE9IG51bGwgPyByZWYxLmdldFRpbWUoKSA6IHZvaWQgMCA6IHZvaWQgMCA6IDA7XG4gICAgaWYgKGlzX2NvbXBsZXRlZCAmJiBpbnN0YW5jZS5maW5pc2hfZGF0ZSkge1xuICAgICAgY29tcGxldGVkX2RhdGUgPSAocmVmMiA9IGluc3RhbmNlLmZpbmlzaF9kYXRlKSAhPSBudWxsID8gcmVmMi5nZXRUaW1lKCkgOiB2b2lkIDA7XG4gICAgfVxuICAgIHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKCk7XG4gICAgYXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tzdGVwTmFtZV0pO1xuICAgIGFwcHJvdmVfc29ydCA9IGZ1bmN0aW9uKGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpIHtcbiAgICAgIHZhciBhcHByb3Zlc19zb3J0ZWQsIHRvcF9hcHByb3ZlcztcbiAgICAgIGFwcHJvdmVzX3NvcnRlZCA9IF8uc29ydEJ5KGFwcHJvdmVzLCBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgIHJldHVybiAtKGFwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgfSk7XG4gICAgICBpZiAodG9wX2tleXdvcmRzKSB7XG4gICAgICAgIHRvcF9hcHByb3ZlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0b3Bfa2V5d29yZHMuc3BsaXQoXCIsXCIpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHRvcF9hcHByb3ZlcyA9IF8udW5pb24odG9wX2FwcHJvdmVzLCBfLmZpbHRlcihhcHByb3Zlc19zb3J0ZWQsIGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICAgIHZhciByZWYzO1xuICAgICAgICAgICAgcmV0dXJuIChhcHByb3ZlICE9IG51bGwgPyAocmVmMyA9IGFwcHJvdmUuaGFuZGxlcl9uYW1lKSAhPSBudWxsID8gcmVmMy5pbmRleE9mKGtleSkgOiB2b2lkIDAgOiB2b2lkIDApID4gLTE7XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdG9wX2FwcHJvdmVzID0gXy5zb3J0QnkodG9wX2FwcHJvdmVzLCBmdW5jdGlvbih0b3BfYXBwcm92ZSkge1xuICAgICAgICAgIHJldHVybiAtKHRvcF9hcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFwcHJvdmVzX3NvcnRlZCA9IF8udW5pb24odG9wX2FwcHJvdmVzLCBhcHByb3Zlc19zb3J0ZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFwcHJvdmVzX3NvcnRlZCB8fCBbXTtcbiAgICB9O1xuICAgIGFwcHJvdmVzID0gXy5maWx0ZXIoYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiBhLnR5cGUgIT09IFwiZm9yd2FyZFwiICYmIGEudHlwZSAhPT0gXCJkaXN0cmlidXRlXCIgJiYgYS50eXBlICE9PSBcInRlcm1pbmF0ZWRcIjtcbiAgICB9KTtcbiAgICBpZiAob25seV9jY19vcGluaW9uKSB7XG4gICAgICBhcHByb3ZlcyA9IGFwcHJvdmVzICE9IG51bGwgPyBhcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcInR5cGVcIiwgXCJjY1wiKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgYXBwcm92ZXNfc29ydGVkID0gYXBwcm92ZV9zb3J0KGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpO1xuICAgIGFwcHJvdmVzR3JvdXAgPSBfLmdyb3VwQnkoYXBwcm92ZXMsIFwiaGFuZGxlclwiKTtcbiAgICBoYXNOZXh0ID0gZnVuY3Rpb24oYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkge1xuICAgICAgdmFyIGhhbmRsZXJBcHByb3ZlcztcbiAgICAgIGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXTtcbiAgICAgIHJldHVybiBfLmluZGV4T2YoaGFuZGxlckFwcHJvdmVzLCBhcHByb3ZlKSArIDEgPCBoYW5kbGVyQXBwcm92ZXMubGVuZ3RoO1xuICAgIH07XG4gICAgaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSA9IGZ1bmN0aW9uKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIHtcbiAgICAgIHZhciBkZXNjcmlwdGlvbkFwcHJvdmVzLCBoYW5kbGVyQXBwcm92ZXM7XG4gICAgICBoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl07XG4gICAgICBkZXNjcmlwdGlvbkFwcHJvdmVzID0gXy5maWx0ZXIoaGFuZGxlckFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgIGlmIChhLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBpZiAoZGVzY3JpcHRpb25BcHByb3Zlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBhcHByb3Zlc19zb3J0ZWQuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICBpZiAoYXBwcm92ZS5zaWduX3Nob3cgIT09IGZhbHNlICYmIChhcHByb3ZlLmRlc2NyaXB0aW9uIHx8ICghYXBwcm92ZS5kZXNjcmlwdGlvbiAmJiAhaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSkpKSB7XG4gICAgICAgIGlmIChhcHByb3ZlLmp1ZGdlICE9PSAndGVybWluYXRlZCcpIHtcbiAgICAgICAgICByZXR1cm4gYXBwcm92ZS5fZGlzcGxheSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBhcHByb3Zlc19zb3J0ZWQgPSBfLmZpbHRlcihhcHByb3Zlc19zb3J0ZWQsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIHZhciByZWYzO1xuICAgICAgaWYgKGlzX2NvbXBsZXRlZCkge1xuICAgICAgICByZXR1cm4gYS5fZGlzcGxheSA9PT0gdHJ1ZSAmJiBhLmlzX2ZpbmlzaGVkICYmICgocmVmMyA9IGEuZmluaXNoX2RhdGUpICE9IG51bGwgPyByZWYzLmdldFRpbWUoKSA6IHZvaWQgMCkgPD0gY29tcGxldGVkX2RhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYS5fZGlzcGxheSA9PT0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gYXBwcm92ZXNfc29ydGVkO1xuICB9LFxuICBpbmNsdWRlOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZShhLCBiKTtcbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24odmFsKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudW5lbXB0eSh2YWwpO1xuICB9LFxuICBmb3JtYXREYXRlOiBmdW5jdGlvbihkYXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBcImZvcm1hdFwiOiBcIllZWVktTU0tRERcIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybWF0RGF0ZShkYXRlLCBvcHRpb25zKTtcbiAgfSxcbiAgaXNNeUFwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmUsIG9ubHlfY2Nfb3Bpbmlvbikge1xuICAgIHZhciBjdXJyZW50QXBwcm92ZSwgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgY3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcbiAgICAgIGlmICghKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUuX2lkIDogdm9pZCAwKSkge1xuICAgICAgICBhcHByb3ZlID0gY3VycmVudEFwcHJvdmU7XG4gICAgICB9XG4gICAgICBpZiAoYXBwcm92ZS5faWQgPT09IChjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUuX2lkIDogdm9pZCAwKSAmJiAoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLnR5cGUgOiB2b2lkIDApID09PSAnY2MnICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSB7XG4gICAgICAgIGlmIChfLmluZGV4T2YoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUgOiB2b2lkIDAsIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSA+IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoISgoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLnR5cGUgOiB2b2lkIDApID09PSAnY2MnKSAmJiBvbmx5X2NjX29waW5pb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRBcHByb3ZlICYmIGFwcHJvdmUuX2lkID09PSBjdXJyZW50QXBwcm92ZS5faWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVJZCkge1xuICAgIHZhciBteUFwcHJvdmUsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5teUFwcHJvdmUpICE9IG51bGwgPyByZWYxLmdldCgpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAobXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKCFteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IG15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT09ICgocmVmMiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMyA9IHJlZjIuZGF0YSkgIT0gbnVsbCA/IHJlZjMubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgIGlmICghU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIHJldHVybiAobXlBcHByb3ZlICE9IG51bGwgPyBteUFwcHJvdmUuZGVzY3JpcHRpb24gOiB2b2lkIDApIHx8IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbm93OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgfSxcbiAgaXNSZWFkT25seTogZnVuY3Rpb24oKSB7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgcmV0dXJuIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc09waW5pb25PZkZpZWxkOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gXCJjY1wiICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSB7XG4gICAgICBpZiAoVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUgPT09IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIG1hcmtEb3duVG9IdG1sOiBmdW5jdGlvbihtYXJrRG93blN0cmluZykge1xuICAgIHZhciByZW5kZXJlcjtcbiAgICBpZiAobWFya0Rvd25TdHJpbmcpIHtcbiAgICAgIHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG4gICAgICByZW5kZXJlci5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgICAgcmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiICsgaHJlZiArIFwiJyB0aXRsZT0nXCIgKyB0aXRsZSArIFwiJz5cIiArIHRleHQgKyBcIjwvYT5cIjtcbiAgICAgIH07XG4gICAgICByZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtcbiAgICAgICAgcmVuZGVyZXI6IHJlbmRlcmVyXG4gICAgICB9KSk7XG4gICAgfVxuICB9LFxuICBzdGVwczogZnVuY3Rpb24oZmllbGRfZm9ybXVsYSwgc3RlcCwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduKSB7XG4gICAgdmFyIHJlZiwgcmVmMSwgcmVmMiwgc3RlcHM7XG4gICAgc3RlcHMgPSBbXTtcbiAgICBpZiAoIXN0ZXApIHtcbiAgICAgIGlmICghZmllbGRfZm9ybXVsYSkge1xuICAgICAgICBmaWVsZF9mb3JtdWxhID0gKHJlZiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5maWVsZHMpICE9IG51bGwgPyByZWYxLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIHRoaXMubmFtZSkuZm9ybXVsYSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHN0ZXBzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRPcGluaW9uRmllbGRTdGVwc05hbWUoZmllbGRfZm9ybXVsYSwgKHJlZjIgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gcmVmMi5kYXRhLnRvcF9rZXl3b3JkcyA6IHZvaWQgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ZXBzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgc3RlcE5hbWU6IHN0ZXAsXG4gICAgICAgICAgb25seV9jY19vcGluaW9uOiBvbmx5X2NjX29waW5pb24sXG4gICAgICAgICAgaW1hZ2Vfc2lnbjogaW1hZ2Vfc2lnblxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gc3RlcHM7XG4gIH0sXG4gIGltYWdlU2lnbkRhdGE6IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlcjogaGFuZGxlclxuICAgIH07XG4gIH0sXG4gIHNob3dTaWduSW1hZ2U6IGZ1bmN0aW9uKGhhbmRsZXIsIGltYWdlX3NpZ24pIHtcbiAgICB2YXIgc3BhY2VVc2VyU2lnbjtcbiAgICBzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbihoYW5kbGVyKTtcbiAgICBpZiAoKHNwYWNlVXNlclNpZ24gIT0gbnVsbCA/IHNwYWNlVXNlclNpZ24uc2lnbiA6IHZvaWQgMCkgJiYgaW1hZ2Vfc2lnbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIGdldExhc3RTaWduQXBwcm92ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICByZXR1cm4gXy5sYXN0KFRyYWNlc01hbmFnZXIuZ2V0SGFuZGxlclNpZ25TaG93QXBwcm92ZXMoaW5zLCBNZXRlb3IudXNlcklkKCkpKTtcbiAgfSxcbiAgbGFzdE15QXBwcm92ZURlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXBwcm92ZXMsIGN1cnJlbnRTdGVwLCByZWYsIHRyYWNlcztcbiAgICB0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpO1xuICAgIGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgYXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tjdXJyZW50U3RlcC5uYW1lXSk7XG4gICAgYXBwcm92ZXMgPSBhcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcImhhbmRsZXJcIiwgTWV0ZW9yLnVzZXJJZCgpKTtcbiAgICBpZiAoYXBwcm92ZXMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIChyZWYgPSBhcHByb3Zlc1thcHByb3Zlcy5sZW5ndGggLSAyXSkgIT0gbnVsbCA/IHJlZi5kZXNjcmlwdGlvbiA6IHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0sXG4gIHNob3dBcHByb3ZlOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgdmFyIHJlZiwgcmVmMTtcbiAgICBpZiAoIWFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09PSAoKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5kYXRhKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgaWYgKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUuaXNfcmVhZCA6IHZvaWQgMCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5pc19maW5pc2hlZCkge1xuICAgICAgICAgIHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGFwcHJvdmUuanVkZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAganVkZ2VfZGVzY3JpcHRpb246IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIHQoanVkZ2UgKyBcIl9kZXNjcmlwdGlvblwiKTtcbiAgfSxcbiAgaXNfYXBwcm92ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFwiYXBwcm92ZWRcIiA9PT0ganVkZ2U7XG4gIH0sXG4gIGlzX3JlamVjdGVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBcInJlamVjdGVkXCIgPT09IGp1ZGdlO1xuICB9LFxuICBpc19yZWFkZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoanVkZ2UpO1xuICB9LFxuICBhZGRDbGFzczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5hbWUsIHJlZiwgcmVmMTtcbiAgICBuYW1lID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5kYXRhKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZSwgZWxlbWVudDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVsZW1lbnQgPSAkKFwiLmF1dG9tYXRpYy5vcGluaW9uLWZpZWxkLVwiICsgbmFtZSk7XG4gICAgICAgIGlmIChlbGVtZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAoZWxlbWVudCAhPSBudWxsID8gZWxlbWVudC5pcyhcInRkXCIpIDogdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICQoXCIuaW5zdGFuY2Utc2lnblwiLCBlbGVtZW50KS5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfVxuICAgIH0sIDEpO1xuICAgIHJldHVybiAnJztcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMuZGVmYXVsdERlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIsIHt9LCBsb2NhbGUpO1xuICB9O1xufVxuIiwiVHJhY2VzVGVtcGxhdGUuaGVscGVycyA9XHJcblx0ZXF1YWxzOiAoYSwgYikgLT5cclxuXHRcdGEgPT0gYlxyXG5cdGVtcHR5OiAoYSkgLT5cclxuXHRcdGlmIGFcclxuXHRcdFx0YS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPCAxXHJcblx0XHRlbHNlXHJcblx0XHRcdHRydWVcclxuXHR1bmVtcHR5OiAoYSkgLT5cclxuXHRcdGlmIGFcclxuXHRcdFx0YS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwXHJcblx0XHRlbHNlXHJcblx0XHRcdGZhbHNlXHJcblxyXG5cdGFwcGVuZDogKGEsIGIpIC0+XHJcblx0XHRhICsgYlxyXG5cclxuXHRkYXRlRm9ybWF0OiAoZGF0ZSkgLT5cclxuXHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpICYmIGRhdGU/LmdldEZ1bGxZZWFyKCkgPT0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpXHJcblx0XHRcdFx0cmV0dXJuICQuZm9ybWF0LmRhdGUgbmV3IERhdGUoZGF0ZSksIFwiTU0tZGQgSEg6bW1cIlxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuICQuZm9ybWF0LmRhdGUgbmV3IERhdGUoZGF0ZSksIFwieXl5eS1NTS1kZCBISDptbVwiXHJcblxyXG5cdGdldFN0ZXBOYW1lOiAoc3RlcElkKSAtPlxyXG5cdFx0c3RlcCA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZVN0ZXAoc3RlcElkKVxyXG5cdFx0aWYgc3RlcFxyXG5cdFx0XHRyZXR1cm4gc3RlcC5uYW1lXHJcblx0XHRudWxsXHJcblx0c2hvd0RlbGV0ZUJ1dHRvbjogKGFwcHJvdmVkKSAtPlxyXG5cdFx0aWYgYXBwcm92ZWQgYW5kIGFwcHJvdmVkLnR5cGUgPT0gJ2NjJyBhbmQgYXBwcm92ZWQuZnJvbV91c2VyID09IE1ldGVvci51c2VySWQoKSBhbmQgYXBwcm92ZWQuaXNfZmluaXNoZWQgIT0gdHJ1ZSBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0ZmFsc2VcclxuXHRpc1Nob3dNb2RpZmljYXRpb25CdXR0b246IChhcHByb3ZlZCkgLT5cclxuXHRcdGFwcHJvdmVfYWRtaW5zID0gTWV0ZW9yLnNldHRpbmdzPy5wdWJsaWM/LndvcmtmbG93Py5hcHByb3ZlX2FkbWluc1xyXG5cdFx0aWYgYXBwcm92ZV9hZG1pbnM/Lmxlbmd0aFxyXG5cdFx0XHRpc1Nob3cgPSBhcHByb3ZlX2FkbWlucz8uY29udGFpbnMgTWV0ZW9yLnVzZXJJZCgpXHJcblx0XHR1bmxlc3MgaXNTaG93XHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0cmV0dXJuIGFwcHJvdmVkLmhhbmRsZXIgPT0gTWV0ZW9yLnVzZXJJZCgpXHJcblx0aXNFZGl0aW5nOiAoKSAtPlxyXG5cdFx0IHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmlzX2VkaXRpbmc/LmdldCgpXHJcblx0aXNTaG93RGVzY3JpcHRpb246IChhcHByb3ZlZCktPlxyXG5cdFx0IyBkZWJ1Z2dlclxyXG5cdFx0aWYgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5pc1Nob3dNb2RpZmljYXRpb25CdXR0b24gYXBwcm92ZWRcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdHJldHVybiBhcHByb3ZlZC5kZXNjcmlwdGlvbj8udG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMFxyXG5cdGlzQ0M6IChhcHByb3ZlZCkgLT5cclxuXHRcdGlmIGFwcHJvdmVkIGFuZCBhcHByb3ZlZC50eXBlID09ICdjYydcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdGZhbHNlXHJcblx0Z2V0QXBwcm92ZVN0YXR1c0ljb246IChhcHByb3ZlSnVkZ2UsIGF1dG9TdWJtaXR0ZWQpIC0+XHJcblx0XHRpZiBhdXRvU3VibWl0dGVkID09IHRydWVcclxuXHRcdFx0cmV0dXJuICdpb24gaW9uLWFuZHJvaWQtYWxhcm0tY2xvY2snXHJcblx0XHQj5bey57uT5p2f55qE5pi+56S65Li65qC45YeGL+mps+Wbni/lj5bmtojnlLPor7fvvIzlubbmmL7npLrlpITnkIbnirbmgIHlm77moIdcclxuXHRcdGFwcHJvdmVTdGF0dXNJY29uID0gdW5kZWZpbmVkXHJcblx0XHRzd2l0Y2ggYXBwcm92ZUp1ZGdlXHJcblx0XHRcdHdoZW4gJ2FwcHJvdmVkJ1xyXG5cdFx0XHRcdCMg5bey5qC45YeGXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jaGVja21hcmstcm91bmQnXHJcblx0XHRcdHdoZW4gJ3JlamVjdGVkJ1xyXG5cdFx0XHRcdCMg5bey6amz5ZueXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jbG9zZS1yb3VuZCdcclxuXHRcdFx0d2hlbiAndGVybWluYXRlZCdcclxuXHRcdFx0XHQjIOW3suWPlua2iFxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLWJhbidcclxuXHRcdFx0d2hlbiAncmVhc3NpZ25lZCdcclxuXHRcdFx0XHQjIOi9rOetvuaguFxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYW5kcm9pZC1jb250YWN0J1xyXG5cdFx0XHR3aGVuICdyZWxvY2F0ZWQnXHJcblx0XHRcdFx0IyDph43lrprkvY1cclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFycm93LXNocmluaydcclxuXHRcdFx0d2hlbiAncmV0cmlldmVkJ1xyXG5cdFx0XHRcdCMg5bey5Y+W5ZueXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtdW5kbydcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJydcclxuXHRcdFx0XHRicmVha1xyXG5cdFx0YXBwcm92ZVN0YXR1c0ljb25cclxuXHRnZXRBcHByb3ZlU3RhdHVzVGV4dDogKGFwcHJvdmVKdWRnZSwgYXV0b1N1Ym1pdHRlZCkgLT5cclxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXHJcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcclxuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcclxuXHRcdGVsc2VcclxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxyXG5cdFx0I+W3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+377yM5bm25pi+56S65aSE55CG54q25oCB5Zu+5qCHXHJcblx0XHRpZiBhdXRvU3VibWl0dGVkID09IHRydWVcclxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfdGltZW91dF9hdXRvX3N1Ym1pdHRlZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IHVuZGVmaW5lZFxyXG5cdFx0c3dpdGNoIGFwcHJvdmVKdWRnZVxyXG5cdFx0XHR3aGVuICdhcHByb3ZlZCdcclxuXHRcdFx0XHQjIOW3suaguOWHhlxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgYXBwcm92ZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHR3aGVuICdyZWplY3RlZCdcclxuXHRcdFx0XHQjIOW3sumps+WbnlxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVqZWN0ZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHR3aGVuICd0ZXJtaW5hdGVkJ1xyXG5cdFx0XHRcdCMg5bey5Y+W5raIXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSB0ZXJtaW5hdGVkJywge30sIGxvY2FsZSlcclxuXHRcdFx0d2hlbiAncmVhc3NpZ25lZCdcclxuXHRcdFx0XHQjIOi9rOetvuaguFxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVhc3NpZ25lZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRcdHdoZW4gJ3JlbG9jYXRlZCdcclxuXHRcdFx0XHQjIOmHjeWumuS9jVxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVsb2NhdGVkJywge30sIGxvY2FsZSlcclxuXHRcdFx0d2hlbiAncmV0cmlldmVkJ1xyXG5cdFx0XHRcdCMg5bey5Y+W5ZueXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZXRyaWV2ZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHR3aGVuICdyZXR1cm5lZCdcclxuXHRcdFx0XHQjIOW3sumAgOWbnlxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0dXJuZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHR3aGVuICdyZWFkZWQnXHJcblx0XHRcdFx0IyDlt7LpmIVcclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYWRlZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9ICcnXHJcblx0XHRcdFx0YnJlYWtcclxuXHRcdGFwcHJvdmVTdGF0dXNUZXh0XHJcblx0XHJcblx0Z2V0QXBwcm92ZUp1ZGdlQ2xhc3M6IChhcHByb3ZlSnVkZ2UsIGF1dG9TdWJtaXR0ZWQpIC0+XHJcblx0XHRpZiBhdXRvU3VibWl0dGVkID09IHRydWVcclxuXHRcdFx0cmV0dXJuICdhdXRvU3VibWl0dGVkJ1xyXG5cdFx0cmV0dXJuIGFwcHJvdmVKdWRnZVxyXG5cclxuXHRfdDogKGtleSktPlxyXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxyXG5cclxuXHRteUFwcHJvdmVEZXNjcmlwdGlvbjogKGFwcHJvdmVJZCktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcclxuXHRcdFx0XHRteUFwcHJvdmUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5teUFwcHJvdmU/LmdldCgpXHJcblx0XHRcdFx0aWYgbXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PSBhcHByb3ZlSWRcclxuXHRcdFx0XHRcdGlmICFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcclxuXHRcdFx0XHRcdFx0cmV0dXJuIG15QXBwcm92ZT8uZGVzY3JpcHRpb24gfHwgXCJcIlxyXG5cdFx0XHRcdFx0cmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKVxyXG5cdGlzRm9yd2FyZDogKGFwcHJvdmVkKSAtPlxyXG5cdFx0aWYgYXBwcm92ZWQgYW5kIGFwcHJvdmVkLnR5cGUgPT0gJ2ZvcndhcmQnXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRmYWxzZVxyXG5cdHNob3dGb3J3YXJkRGVsZXRlQnV0dG9uOiAoYXBwcm92ZSkgLT5cclxuXHRcdGlmIGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSBpcyAwXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdmb3J3YXJkJyBhbmQgYXBwcm92ZS5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpIGFuZCAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpIGFuZCBhcHByb3ZlLmp1ZGdlIGlzbnQgJ3Rlcm1pbmF0ZWQnXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRmYWxzZVxyXG5cdG1hcmtEb3duVG9IdG1sOiAobWFya0Rvd25TdHJpbmcpLT5cclxuXHRcdGlmIG1hcmtEb3duU3RyaW5nXHJcblx0XHRcdHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XHJcblx0XHRcdHJlbmRlcmVyLmxpbmsgPSAoIGhyZWYsIHRpdGxlLCB0ZXh0ICkgLT5cclxuXHRcdFx0XHRyZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nI3tocmVmfScgdGl0bGU9JyN7dGl0bGV9Jz4je3RleHR9PC9hPlwiXHJcblx0XHRcdHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge3JlbmRlcmVyOnJlbmRlcmVyfSkpXHJcblx0aXNEaXN0cmlidXRlOiAoYXBwcm92ZSkgLT5cclxuXHRcdGlmIGFwcHJvdmUgYW5kIGFwcHJvdmUudHlwZSA9PSAnZGlzdHJpYnV0ZSdcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdGZhbHNlXHJcblx0c2hvd0Rpc3RyaWJ1dGVEZWxldGVCdXR0b246IChhcHByb3ZlKSAtPlxyXG5cdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpIGlzIDBcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJyBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSBhbmQgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJyBhbmQgU3RlZWRvcy5pc0xlZ2FsVmVyc2lvbignJyxcIndvcmtmbG93LmVudGVycHJpc2VcIilcclxuXHRcdFx0IyDmtYHnqIvnrqHnkIblkZjlkozns7vnu5/nrqHnkIblkZjvvIzlj6/ku6XmiafooYzku7vkvZXmg4XlhrXkuIvnmoTmlofku7blj5bmtojliIblj5FcclxuXHRcdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogYXBwcm92ZS5pbnN0YW5jZX0sIHtmaWVsZHM6IHtmbG93OiAxLCBzcGFjZTogMX19KVxyXG5cdFx0XHRpZiBpbnMgYW5kIGlucy5mbG93IGFuZCBpbnMuc3BhY2VcclxuXHRcdFx0XHRpZiBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCBNZXRlb3IudXNlcklkKCkpXHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHRcdFx0aWYgYXBwcm92ZS5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHJcblx0XHRmYWxzZVxyXG5cclxuXHRmaW5pc2hEYXRlU2NoZW1hOiAoKSAtPlxyXG5cdFx0aWYgU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpXHJcblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcclxuXHRcdFx0XHRmaW5pc2hfZGF0ZToge1xyXG5cdFx0XHRcdFx0YXV0b2Zvcm06IHtcclxuXHRcdFx0XHRcdFx0dHlwZTogXCJkYXRldGltZS1sb2NhbFwiXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0b3B0aW9uYWw6IGZhbHNlLFxyXG5cdFx0XHRcdFx0dHlwZTogRGF0ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xyXG5cdFx0XHRcdGZpbmlzaF9kYXRlOiB7XHJcblx0XHRcdFx0XHRhdXRvZm9ybToge1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBcImJvb3RzdHJhcC1kYXRldGltZXBpY2tlclwiXHJcblx0XHRcdFx0XHRcdHJlYWRvbmx5OiB0cnVlXHJcblx0XHRcdFx0XHRcdGRhdGVUaW1lUGlja2VyT3B0aW9uczp7XHJcblx0XHRcdFx0XHRcdFx0Zm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIixcclxuXHRcdFx0XHRcdFx0XHRpZ25vcmVSZWFkb25seTp0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdGxvY2FsZTogU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKSxcclxuXHRcdFx0XHRcdFx0XHR3aWRnZXRQb3NpdGlvbmluZzp7XHJcblx0XHRcdFx0XHRcdFx0XHRob3Jpem9udGFsOiAncmlnaHQnXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0b3B0aW9uYWw6IGZhbHNlLFxyXG5cdFx0XHRcdFx0dHlwZTogRGF0ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHJcblx0ZmluaXNoRGF0ZVZhbHVlczogKCkgLT5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGZpbmlzaF9kYXRlOnRoaXMuZmluaXNoX2RhdGVcclxuXHRcdH07XHJcblxyXG5cdCMjI1xyXG4gICAgXHTmraTlh73mlbDnlKjkuo7mjqfliLbmmK/lkKbmmL7npLp0cmFjZXMgdmlld1xyXG4gICAgXHR0cnVlOiDmmL7npLp0cmFjZXMgdmlldyznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI7mmK/nm7TmjqXlrprkvY3liLB0cmFjZXMgdmlld1xyXG4gICAgXHRmYWxzZTog5LiN5pi+56S6dHJhY2VzIHZpZXfvvIznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI4s5LulTW9kYWwg5pa55byP5pi+56S6dHJhY2VzIHZpZXdcclxuXHQjIyNcclxuXHRzaG93VHJhY2VzVmlldzogKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxyXG4jXHRcdHJldHVybiAhKEluc3RhbmNlTWFuYWdlci5pc1RhYmxlU3R5bGUoZm9ybSkgJiYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlc09waW5pb25GaWVsZChmb3JtLCBmb3JtX3ZlcnNpb24pKVxyXG5cclxuXHRcdHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHtzcGFjZTogU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpLCBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwifSk/LnZhbHVlcyB8fCBmYWxzZVxyXG5cclxuXHRcdHJldHVybiAhc2hvd19tb2RhbF90cmFjZXNfbGlzdFxyXG5cclxuXHRnZXRJbnN0YW5jZVN0YXRlVGV4dDogKGluc3RhbmNlX2lkKS0+XHJcblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxyXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXHJcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXHJcblx0XHRlbHNlXHJcblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcclxuXHJcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHtmaWVsZHM6IHtzdGF0ZTogMSwgaXNfcmVhZDogMX19KVxyXG5cdFx0aWYgbm90IGluc1xyXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfZGVsZXRlZCcsIHt9LCBsb2NhbGUpXHJcblxyXG5cdFx0dGV4dCA9ICcnXHJcblx0XHRpZiBpbnMuc3RhdGUgaXMgJ2NvbXBsZXRlZCdcclxuXHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ2NvbXBsZXRlZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAncGVuZGluZydcclxuXHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ3BlbmRpbmcnLCB7fSwgbG9jYWxlKVxyXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ2RyYWZ0J1xyXG5cdFx0XHRpZiBpbnMuaXNfcmVhZFxyXG5cdFx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX3JlYWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfbm90X3lldF9oYW5kbGVkJywge30sIGxvY2FsZSlcclxuXHJcblx0XHRyZXR1cm4gdGV4dFxyXG5cclxuXHRnZXRJbnN0YW5jZVN0YXRlQ29sb3I6IChpbnN0YW5jZV9pZCktPlxyXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWR9LCB7ZmllbGRzOiB7c3RhdGU6IDEsIGlzX3JlYWQ6IDF9fSlcclxuXHRcdGlmIG5vdCBpbnNcclxuXHRcdFx0cmV0dXJuIFwiXCJcclxuXHJcblx0XHRjbGEgPSAnJ1xyXG5cdFx0aWYgaW5zLnN0YXRlIGlzICdkcmFmdCdcclxuXHRcdFx0aWYgaW5zLmlzX3JlYWRcclxuXHRcdFx0XHRjbGEgPSAnYmx1ZSdcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGNsYSA9ICdyZWQnXHJcblx0XHRyZXR1cm4gY2xhXHJcblxyXG5cdGZpcnN0VHJhY2U6IChpbmRleCktPlxyXG5cdFx0cmV0dXJuIGluZGV4IGlzIDBcclxuXHJcblx0bGFzdF9kaXN0cmlidXRlX2Zyb206IChpbnN0YW5jZV9pZCktPlxyXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWQsIGRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZTogeyRleGlzdHM6IHRydWV9fSx7ZmllbGRzOntjcmVhdGVkOiAxLCBjcmVhdGVkX2J5OiAxfX0pXHJcblx0XHRpZiBpbnNcclxuXHRcdFx0ZGlzX2luZm8gPSB7fVxyXG5cdFx0XHR1c2VyID0ge31cclxuXHRcdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdFx0dXNlciA9IFVVZmxvd19hcGkuZ2V0TmFtZUZvclVzZXIoaW5zLmNyZWF0ZWRfYnkpXHJcblx0XHRcdGVsc2UgaWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdFx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe19pZDogaW5zLmNyZWF0ZWRfYnl9LCB7ZmllbGRzOiB7bmFtZTogMX19KVxyXG5cclxuXHRcdFx0aWYgdXNlci5uYW1lXHJcblx0XHRcdFx0ZGlzX2luZm8uZnJvbV91c2VyID0gdXNlci5faWRcclxuXHRcdFx0XHRkaXNfaW5mby5mcm9tX3VzZXJfbmFtZSA9IHVzZXIubmFtZVxyXG5cdFx0XHRcdGRpc19pbmZvLmNyZWF0ZWQgPSBpbnMuY3JlYXRlZFxyXG5cclxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eShkaXNfaW5mbylcclxuXHRcdFx0XHRyZXR1cm4gZGlzX2luZm9cclxuXHRcdHJldHVyblxyXG5cclxuXHRpc0NDT3JEaXN0cmlidXRlT3JGb3J3YXJkVGVybWluYXRlZDogKGFwcHJvdmUpLT5cclxuXHRcdGlmIChhcHByb3ZlLnR5cGUgaXMgJ2NjJyBvciBhcHByb3ZlLnR5cGUgaXMgJ2Rpc3RyaWJ1dGUnIG9yIGFwcHJvdmUudHlwZSBpcyAnZm9yd2FyZCcpIGFuZCBhcHByb3ZlLmp1ZGdlIGlzICd0ZXJtaW5hdGVkJ1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdGp1ZGdlVGVybWluYXRlZDogKGp1ZGdlKS0+XHJcblx0XHRyZXR1cm4ganVkZ2UgaXMgJ3Rlcm1pbmF0ZWQnXHJcblxyXG5cdGluc3RhbmNlRXhpc3RzOiAoaW5zdGFuY2VfaWQpLT5cclxuXHRcdHJldHVybiAhIWRiLmluc3RhbmNlcy5maW5kKGluc3RhbmNlX2lkKS5jb3VudCgpXHJcblxyXG5cdGFnZW50RGVzY3JpcHRpb246ICh1c2VyTmFtZSktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcclxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xyXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXHJcblxyXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogdXNlck5hbWV9LCBsb2NhbGUpXHJcblx0XHJcblx0dHJhY2VOYW1lOiAoaW5zdGFuY2VfaWQsIHRyYWNlSWQpLT5cclxuXHRcdHJldHVybiBfLmZpbmQoZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQsIHtmaWVsZHM6IHt0cmFjZXM6IDF9fSk/LnRyYWNlcywgKHRyYWNlKS0+XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJhY2UuX2lkID09ICB0cmFjZUlkXHJcblx0XHQpPy5uYW1lXHJcblxyXG5cdG9iamVjdFVybDogKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZCktPlxyXG5cdFx0cmV0dXJuIENyZWF0b3IuZ2V0T2JqZWN0VXJsKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZClcclxuXHJcbmlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuZGF0ZUZvcm1hdCA9IChkYXRlKS0+XHJcblx0XHRpZiBkYXRlXHJcblx0XHRcdHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcclxuXHRcdFx0cmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlKGRhdGUsIHV0Y09mZnNldCk7XHJcblxyXG5cdFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuX3QgPSAoa2V5KS0+XHJcblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXHJcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXHJcblxyXG5cdFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuc2hvd0RlbGV0ZUJ1dHRvbiA9IChhcHByb3ZlZCkgLT5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHJcblRyYWNlc1RlbXBsYXRlLmV2ZW50cyA9XHJcblx0J2NsaWNrIC5jYy1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG5cdFx0aWYgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgKiAxICE9IDFcclxuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAxXHJcblx0XHRcdCQoXCJpXCIsZXZlbnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJmYS1zcGluXCIpXHJcblx0XHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXHJcblx0XHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcclxuXHRcdFx0IyBDQUxMIOWIoOmZpGFwcHJvdmXlh73mlbDjgIJcclxuXHRcdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXHJcblx0XHRcdE1ldGVvci5jYWxsICdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cclxuXHRcdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIilcclxuXHRcdFx0XHRpZiBlcnJcclxuXHRcdFx0XHRcdHRvYXN0ci5lcnJvciBlcnJcclxuXHRcdFx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nID0gMFxyXG5cdFx0XHRcdFx0JChcImlcIixldmVudC5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcyhcImZhLXNwaW5cIilcclxuXHRcdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxyXG5cdFx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcclxuXHRcdFx0XHRcdGlmICQoXCIuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsXCIpLmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRNb2RhbC5oaWRlIFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCJcclxuXHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tY2MtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcclxuXHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcclxuXHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXHJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcclxuXHRcdE1ldGVvci5jYWxsICdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cclxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXHJcblx0XHRcdGlmIGVyclxyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBlcnJcclxuXHRcdFx0aWYgcmVzdWx0ID09IHRydWVcclxuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xyXG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxyXG5cdFx0XHRyZXR1cm5cclxuXHRcdHJldHVyblxyXG5cclxuXHQnY2xpY2sgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHQjIFBD5LiK6ZO+5o6l5YWB6K6455u05o6l54K55byA77yM5LiN5YaN5omT5byA562+5om55Y6G56iL6K+m57uGXHJcblx0XHR1bmxlc3MgJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aFxyXG5cdFx0XHRNb2RhbC5zaG93IFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXNcclxuXHJcblx0J3RhcGhvbGQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHQjIOaJi+acuuS4iumVv+aMieaJk+W8gOetvuaJueWOhueoi+ivpue7hu+8jOWmguaenOaYr+mTvuaOpemVv+aMieaJk+W8gOWQjuS4gOaUvuaJi+eql+WPo+WwseWPiOWFs+aOieS6hu+8jOaJgOS7peS4jeiuqemTvuaOpeaJk+W8gOetvuaJueWOhueoi+ivpue7hlxyXG5cdFx0dW5sZXNzICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiYS5idG4tbGlua1wiKS5sZW5ndGhcclxuXHRcdFx0TW9kYWwuc2hvdyBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzXHJcblxyXG5cdCdjbGljayAuYXBwcm92ZS1pdGVtIGEuYnRuLWxpbmssLmFwcHJvdmUtZGVzY3JpcHRpb24gYS5idG4tbGluaywuYXBwcm92ZS1pdGVtLWRpc3RyaWJ1dGUgYS5idG4tbGluayc6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHQjIOaJi+acuuS4iueCueWHu+mTvuaOpe+8jOW8ueWHuuaWsOeql+WPo1xyXG5cdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXHJcblx0XHRcdHVzZXJJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0Py50YXJnZXRfdXNlcl9pZFxyXG5cdFx0XHRDcmVhdG9yLm9wZW5TYWZlT2JqZWN0VXJsKCd1c2VycycsIHVzZXJJZClcclxuXHJcblx0J3RhcGVuZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHRcdCMg5LiK6L+w6ZW/5oyJ5omT5byAYXBwcm92Zeivpue7hueql+WPo+eahOS6i+S7tnRhcGhvbGTkvJrop6blj5HmiZPlvIDnqpflj6PlkI7nmoR0b3VjaGVuZOS6i+S7tu+8jOmAoOaIkOmVv+aMieaJk+W8gOeql+WPo+WQjuS4gOaUvuaJi+eql+WPo+WwseWPiOWFs+aOieS6hlxyXG5cdFx0IyDov5nph4zlj6rog73pgJrov4fpmLvmraJ0YXBlbmTkuovku7Yo5LiN5Y+v5Lul55SodG91Y2hlbmTkuovku7bvvIzlm6DkuLrkvJrlvbHlk410YXBob2xk5Yqf6IO977yM6YCg5oiQ5rKh5pyJ6ZW/5oyJ5pWI5p6c5pe25Lmf5Lya6Kem5Y+RdGFwaG9sZOS6i+S7tinlhpLms6HmnaXpgb/lhY3pl67popjjgIJcclxuXHRcdCMg6ZO+5o6l5YWB6K6455u05o6l54K55byAXHJcblx0XHR1bmxlc3MgJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aFxyXG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcclxuXHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcclxuXHRcdHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZVxyXG5cdFx0IyBDQUxMIOWIoOmZpGFwcHJvdmXlh73mlbDjgIJcclxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxyXG5cdFx0TWV0ZW9yLmNhbGwgJ2ZvcndhcmRfcmVtb3ZlJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCAoZXJyLCByZXN1bHQpIC0+XHJcblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxyXG5cdFx0XHRpZiBlcnJcclxuXHRcdFx0XHR0b2FzdHIuZXJyb3IgVEFQaTE4bi5fXyhlcnIucmVhc29uKVxyXG5cdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxyXG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJpbnN0YW5jZV9hcHByb3ZlX2ZvcndhcmRfcmVtb3ZlX3N1Y2Nlc3NcIikpO1xyXG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxyXG5cdFx0XHRyZXR1cm5cclxuXHRcdHJldHVyblxyXG5cclxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtaW5zdGFuY2UtbG9vayc6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHRmb3J3YXJkX3NwYWNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZHNwYWNlXHJcblx0XHRmb3J3YXJkX2luc3RhbmNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZGluc3RhbmNlXHJcblx0XHRTdGVlZG9zLm9wZW5XaW5kb3coU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZm9yd2FyZF9zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBmb3J3YXJkX2luc3RhbmNlKSlcclxuXHJcblx0J2NsaWNrIC5idG4tbW9kaWZpY2F0aW9uJ1x0OiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0dGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xyXG5cdFx0dW5sZXNzIFN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKVxyXG5cdFx0XHRUcmFja2VyLmFmdGVyRmx1c2ggLT5cclxuXHRcdFx0XHQjIOaYvuekuuaXpeW/l+eahOaXtuWAmeaKiua7muWKqOadoeW+gOS4i+enu+eCue+8jOiuqeaXpeacn+aOp+S7tuaYvuekuuWHuuS4gOmDqOWIhu+8jOS7pemBv+WFjeeUqOaIt+eci+S4jeWIsOaXpeacn+aOp+S7tlxyXG5cdFx0XHRcdCQoXCIjaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsICNmaW5pc2hfaW5wdXRcIikub24gXCJkcC5zaG93XCIsICgpIC0+XHJcblx0XHRcdFx0XHQkKFwiLm1vZGFsLWJvZHlcIikuc2Nyb2xsVG9wKDEwMClcclxuXHJcblx0J2NsaWNrIC5idG4tY2FuY2VsQnV0JyA6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblxyXG5cdFx0dGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xyXG5cclxuXHQnY2xpY2sgLmJ0bi1zYXZlQnV0JyA6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHQjIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKVxyXG5cclxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXHJcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXHJcblx0XHR0cmFjZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQudHJhY2VcclxuXHRcdG9waW5pb25faW5wdXQgPSAkKCcjb3Bpbmlvbl9pbnB1dCcpLnZhbCgpXHJcblx0XHRmaW5pc2hfaW5wdXQgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKFwiZmluaXNoX2RhdGVcIiwgXCJmaW5pc2hEYXRlQXV0b0Zvcm1cIilcclxuXHJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcclxuXHRcdE1ldGVvci5jYWxsICdjaGFuZ2VfYXBwcm92ZV9pbmZvJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBvcGluaW9uX2lucHV0LCBmaW5pc2hfaW5wdXQsIChlcnIsIHJlc3VsdCktPlxyXG5cdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIilcclxuXHRcdFx0aWYgZXJyXHJcblx0XHRcdFx0dG9hc3RyLmVycm9yIFRBUGkxOG4uX18oZXJyLnJlYXNvbilcclxuXHRcdFx0aWYgcmVzdWx0ID09IHRydWVcclxuXHRcdFx0XHR0b2FzdHIuc3VjY2Vzcyh0KFwiaW5zdGFuY2VfYXBwcm92ZV9tb2RhbF9tb2RpZmljYXRpb25zYXZlXCIpKVxyXG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1kaXN0cmlidXRlLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHRcdE1vZGFsLmFsbG93TXVsdGlwbGUgPSB0cnVlXHJcblx0XHRNb2RhbC5zaG93ICdjYW5jZWxfZGlzdHJpYnV0ZV9tb2RhbCdcclxuIiwiVHJhY2VzVGVtcGxhdGUuaGVscGVycyA9IHtcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIGVtcHR5OiBmdW5jdGlvbihhKSB7XG4gICAgaWYgKGEpIHtcbiAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA8IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24oYSkge1xuICAgIGlmIChhKSB7XG4gICAgICByZXR1cm4gYS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBhcHBlbmQ6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSArIGI7XG4gIH0sXG4gIGRhdGVGb3JtYXQ6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpICYmIChkYXRlICE9IG51bGwgPyBkYXRlLmdldEZ1bGxZZWFyKCkgOiB2b2lkIDApID09PSAobmV3IERhdGUpLmdldEZ1bGxZZWFyKCkpIHtcbiAgICAgIHJldHVybiAkLmZvcm1hdC5kYXRlKG5ldyBEYXRlKGRhdGUpLCBcIk1NLWRkIEhIOm1tXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJC5mb3JtYXQuZGF0ZShuZXcgRGF0ZShkYXRlKSwgXCJ5eXl5LU1NLWRkIEhIOm1tXCIpO1xuICAgIH1cbiAgfSxcbiAgZ2V0U3RlcE5hbWU6IGZ1bmN0aW9uKHN0ZXBJZCkge1xuICAgIHZhciBzdGVwO1xuICAgIHN0ZXAgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VTdGVwKHN0ZXBJZCk7XG4gICAgaWYgKHN0ZXApIHtcbiAgICAgIHJldHVybiBzdGVwLm5hbWU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBzaG93RGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnY2MnICYmIGFwcHJvdmVkLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpICYmIGFwcHJvdmVkLmlzX2ZpbmlzaGVkICE9PSB0cnVlICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICB2YXIgYXBwcm92ZV9hZG1pbnMsIGlzU2hvdywgcmVmLCByZWYxLCByZWYyO1xuICAgIGFwcHJvdmVfYWRtaW5zID0gKHJlZiA9IE1ldGVvci5zZXR0aW5ncykgIT0gbnVsbCA/IChyZWYxID0gcmVmW1wicHVibGljXCJdKSAhPSBudWxsID8gKHJlZjIgPSByZWYxLndvcmtmbG93KSAhPSBudWxsID8gcmVmMi5hcHByb3ZlX2FkbWlucyA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoYXBwcm92ZV9hZG1pbnMgIT0gbnVsbCA/IGFwcHJvdmVfYWRtaW5zLmxlbmd0aCA6IHZvaWQgMCkge1xuICAgICAgaXNTaG93ID0gYXBwcm92ZV9hZG1pbnMgIT0gbnVsbCA/IGFwcHJvdmVfYWRtaW5zLmNvbnRhaW5zKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGlmICghaXNTaG93KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlZC5oYW5kbGVyID09PSBNZXRlb3IudXNlcklkKCk7XG4gIH0sXG4gIGlzRWRpdGluZzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlZjtcbiAgICByZXR1cm4gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkuaXNfZWRpdGluZykgIT0gbnVsbCA/IHJlZi5nZXQoKSA6IHZvaWQgMDtcbiAgfSxcbiAgaXNTaG93RGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoVHJhY2VzVGVtcGxhdGUuaGVscGVycy5pc1Nob3dNb2RpZmljYXRpb25CdXR0b24oYXBwcm92ZWQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuICgocmVmID0gYXBwcm92ZWQuZGVzY3JpcHRpb24pICE9IG51bGwgPyByZWYudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoIDogdm9pZCAwKSA+IDA7XG4gIH0sXG4gIGlzQ0M6IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgaWYgKGFwcHJvdmVkICYmIGFwcHJvdmVkLnR5cGUgPT09ICdjYycpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGdldEFwcHJvdmVTdGF0dXNJY29uOiBmdW5jdGlvbihhcHByb3ZlSnVkZ2UsIGF1dG9TdWJtaXR0ZWQpIHtcbiAgICB2YXIgYXBwcm92ZVN0YXR1c0ljb247XG4gICAgaWYgKGF1dG9TdWJtaXR0ZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAnaW9uIGlvbi1hbmRyb2lkLWFsYXJtLWNsb2NrJztcbiAgICB9XG4gICAgYXBwcm92ZVN0YXR1c0ljb24gPSB2b2lkIDA7XG4gICAgc3dpdGNoIChhcHByb3ZlSnVkZ2UpIHtcbiAgICAgIGNhc2UgJ2FwcHJvdmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jaGVja21hcmstcm91bmQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlamVjdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jbG9zZS1yb3VuZCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLWJhbic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhc3NpZ25lZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYW5kcm9pZC1jb250YWN0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWxvY2F0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFycm93LXNocmluayc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0cmlldmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtdW5kbyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlU3RhdHVzSWNvbjtcbiAgfSxcbiAgZ2V0QXBwcm92ZVN0YXR1c1RleHQ6IGZ1bmN0aW9uKGFwcHJvdmVKdWRnZSwgYXV0b1N1Ym1pdHRlZCkge1xuICAgIHZhciBhcHByb3ZlU3RhdHVzVGV4dCwgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBpZiAoYXV0b1N1Ym1pdHRlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfdGltZW91dF9hdXRvX3N1Ym1pdHRlZCcsIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKGFwcHJvdmVKdWRnZSkge1xuICAgICAgY2FzZSAnYXBwcm92ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIGFwcHJvdmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVqZWN0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlamVjdGVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYXNzaWduZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYXNzaWduZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWxvY2F0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlbG9jYXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHJpZXZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0cmlldmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0dXJuZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHVybmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhZGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFkZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9ICcnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGFwcHJvdmVTdGF0dXNUZXh0O1xuICB9LFxuICBnZXRBcHByb3ZlSnVkZ2VDbGFzczogZnVuY3Rpb24oYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSB7XG4gICAgaWYgKGF1dG9TdWJtaXR0ZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAnYXV0b1N1Ym1pdHRlZCc7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlSnVkZ2U7XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuICB9LFxuICBteUFwcHJvdmVEZXNjcmlwdGlvbjogZnVuY3Rpb24oYXBwcm92ZUlkKSB7XG4gICAgdmFyIG15QXBwcm92ZSwgcmVmLCByZWYxO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICBteUFwcHJvdmUgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLm15QXBwcm92ZSkgIT0gbnVsbCA/IHJlZjEuZ2V0KCkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIGlmIChteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmlkID09PSBhcHByb3ZlSWQpIHtcbiAgICAgICAgICBpZiAoIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIChteUFwcHJvdmUgIT0gbnVsbCA/IG15QXBwcm92ZS5kZXNjcmlwdGlvbiA6IHZvaWQgMCkgfHwgXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaXNGb3J3YXJkOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnZm9yd2FyZCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHNob3dGb3J3YXJkRGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZSAmJiBhcHByb3ZlLnR5cGUgPT09ICdmb3J3YXJkJyAmJiBhcHByb3ZlLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgJiYgYXBwcm92ZS5qdWRnZSAhPT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBtYXJrRG93blRvSHRtbDogZnVuY3Rpb24obWFya0Rvd25TdHJpbmcpIHtcbiAgICB2YXIgcmVuZGVyZXI7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuICAgICAgcmVuZGVyZXIubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIiArIGhyZWYgKyBcIicgdGl0bGU9J1wiICsgdGl0bGUgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2E+XCI7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7XG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJlclxuICAgICAgfSkpO1xuICAgIH1cbiAgfSxcbiAgaXNEaXN0cmlidXRlOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKGFwcHJvdmUgJiYgYXBwcm92ZS50eXBlID09PSAnZGlzdHJpYnV0ZScpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHNob3dEaXN0cmlidXRlRGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhcHByb3ZlICYmIGFwcHJvdmUudHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgJiYgYXBwcm92ZS5qdWRnZSAhPT0gJ3Rlcm1pbmF0ZWQnICYmIFN0ZWVkb3MuaXNMZWdhbFZlcnNpb24oJycsIFwid29ya2Zsb3cuZW50ZXJwcmlzZVwiKSkge1xuICAgICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGFwcHJvdmUuaW5zdGFuY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZmxvdzogMSxcbiAgICAgICAgICBzcGFjZTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChpbnMgJiYgaW5zLmZsb3cgJiYgaW5zLnNwYWNlKSB7XG4gICAgICAgIGlmIChXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCBNZXRlb3IudXNlcklkKCkpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhcHByb3ZlLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGZpbmlzaERhdGVTY2hlbWE6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKCkpIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcbiAgICAgICAgZmluaXNoX2RhdGU6IHtcbiAgICAgICAgICBhdXRvZm9ybToge1xuICAgICAgICAgICAgdHlwZTogXCJkYXRldGltZS1sb2NhbFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgICAgdHlwZTogRGF0ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xuICAgICAgICBmaW5pc2hfZGF0ZToge1xuICAgICAgICAgIGF1dG9mb3JtOiB7XG4gICAgICAgICAgICB0eXBlOiBcImJvb3RzdHJhcC1kYXRldGltZXBpY2tlclwiLFxuICAgICAgICAgICAgcmVhZG9ubHk6IHRydWUsXG4gICAgICAgICAgICBkYXRlVGltZVBpY2tlck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgZm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIixcbiAgICAgICAgICAgICAgaWdub3JlUmVhZG9ubHk6IHRydWUsXG4gICAgICAgICAgICAgIGxvY2FsZTogU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKSxcbiAgICAgICAgICAgICAgd2lkZ2V0UG9zaXRpb25pbmc6IHtcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsOiAncmlnaHQnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgICB0eXBlOiBEYXRlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgZmluaXNoRGF0ZVZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpbmlzaF9kYXRlOiB0aGlzLmZpbmlzaF9kYXRlXG4gICAgfTtcbiAgfSxcblxuICAvKlxuICAgICBcdOatpOWHveaVsOeUqOS6juaOp+WItuaYr+WQpuaYvuekunRyYWNlcyB2aWV3XG4gICAgIFx0dHJ1ZTog5pi+56S6dHJhY2VzIHZpZXcs562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCO5piv55u05o6l5a6a5L2N5YiwdHJhY2VzIHZpZXdcbiAgICAgXHRmYWxzZTog5LiN5pi+56S6dHJhY2VzIHZpZXfvvIznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI4s5LulTW9kYWwg5pa55byP5pi+56S6dHJhY2VzIHZpZXdcbiAgICovXG4gIHNob3dUcmFjZXNWaWV3OiBmdW5jdGlvbihmb3JtLCBmb3JtX3ZlcnNpb24pIHtcbiAgICB2YXIgcmVmLCBzaG93X21vZGFsX3RyYWNlc19saXN0O1xuICAgIHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSAoKHJlZiA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IFNlc3Npb24uZ2V0KFwic3BhY2VJZFwiKSxcbiAgICAgIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCJcbiAgICB9KSkgIT0gbnVsbCA/IHJlZi52YWx1ZXMgOiB2b2lkIDApIHx8IGZhbHNlO1xuICAgIHJldHVybiAhc2hvd19tb2RhbF90cmFjZXNfbGlzdDtcbiAgfSxcbiAgZ2V0SW5zdGFuY2VTdGF0ZVRleHQ6IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgdmFyIGlucywgbG9jYWxlLCB0ZXh0O1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19yZWFkOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKCdpbnN0YW5jZV9kZWxldGVkJywge30sIGxvY2FsZSk7XG4gICAgfVxuICAgIHRleHQgPSAnJztcbiAgICBpZiAoaW5zLnN0YXRlID09PSAnY29tcGxldGVkJykge1xuICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2NvbXBsZXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAncGVuZGluZycpIHtcbiAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdwZW5kaW5nJywge30sIGxvY2FsZSk7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdkcmFmdCcpIHtcbiAgICAgIGlmIChpbnMuaXNfcmVhZCkge1xuICAgICAgICB0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9yZWFkJywge30sIGxvY2FsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9ub3RfeWV0X2hhbmRsZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH0sXG4gIGdldEluc3RhbmNlU3RhdGVDb2xvcjogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICB2YXIgY2xhLCBpbnM7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfcmVhZDogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgY2xhID0gJyc7XG4gICAgaWYgKGlucy5zdGF0ZSA9PT0gJ2RyYWZ0Jykge1xuICAgICAgaWYgKGlucy5pc19yZWFkKSB7XG4gICAgICAgIGNsYSA9ICdibHVlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsYSA9ICdyZWQnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xhO1xuICB9LFxuICBmaXJzdFRyYWNlOiBmdW5jdGlvbihpbmRleCkge1xuICAgIHJldHVybiBpbmRleCA9PT0gMDtcbiAgfSxcbiAgbGFzdF9kaXN0cmlidXRlX2Zyb206IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgdmFyIGRpc19pbmZvLCBpbnMsIHVzZXI7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgIGRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZToge1xuICAgICAgICAkZXhpc3RzOiB0cnVlXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGNyZWF0ZWQ6IDEsXG4gICAgICAgIGNyZWF0ZWRfYnk6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zKSB7XG4gICAgICBkaXNfaW5mbyA9IHt9O1xuICAgICAgdXNlciA9IHt9O1xuICAgICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgICB1c2VyID0gVVVmbG93X2FwaS5nZXROYW1lRm9yVXNlcihpbnMuY3JlYXRlZF9ieSk7XG4gICAgICB9IGVsc2UgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgICB1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBpbnMuY3JlYXRlZF9ieVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh1c2VyLm5hbWUpIHtcbiAgICAgICAgZGlzX2luZm8uZnJvbV91c2VyID0gdXNlci5faWQ7XG4gICAgICAgIGRpc19pbmZvLmZyb21fdXNlcl9uYW1lID0gdXNlci5uYW1lO1xuICAgICAgICBkaXNfaW5mby5jcmVhdGVkID0gaW5zLmNyZWF0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoIV8uaXNFbXB0eShkaXNfaW5mbykpIHtcbiAgICAgICAgcmV0dXJuIGRpc19pbmZvO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQ6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICBpZiAoKGFwcHJvdmUudHlwZSA9PT0gJ2NjJyB8fCBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJyB8fCBhcHByb3ZlLnR5cGUgPT09ICdmb3J3YXJkJykgJiYgYXBwcm92ZS5qdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBqdWRnZVRlcm1pbmF0ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIGp1ZGdlID09PSAndGVybWluYXRlZCc7XG4gIH0sXG4gIGluc3RhbmNlRXhpc3RzOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHJldHVybiAhIWRiLmluc3RhbmNlcy5maW5kKGluc3RhbmNlX2lkKS5jb3VudCgpO1xuICB9LFxuICBhZ2VudERlc2NyaXB0aW9uOiBmdW5jdGlvbih1c2VyTmFtZSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICAgIGlmIChsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIik7XG4gICAgfVxuICAgIHJldHVybiBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICB1c2VyTmFtZTogdXNlck5hbWVcbiAgICB9LCBsb2NhbGUpO1xuICB9LFxuICB0cmFjZU5hbWU6IGZ1bmN0aW9uKGluc3RhbmNlX2lkLCB0cmFjZUlkKSB7XG4gICAgdmFyIHJlZiwgcmVmMTtcbiAgICByZXR1cm4gKHJlZiA9IF8uZmluZCgocmVmMSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyByZWYxLnRyYWNlcyA6IHZvaWQgMCwgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIHJldHVybiB0cmFjZS5faWQgPT09IHRyYWNlSWQ7XG4gICAgfSkpICE9IG51bGwgPyByZWYubmFtZSA6IHZvaWQgMDtcbiAgfSxcbiAgb2JqZWN0VXJsOiBmdW5jdGlvbihvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpIHtcbiAgICByZXR1cm4gQ3JlYXRvci5nZXRPYmplY3RVcmwob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKTtcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLmRhdGVGb3JtYXQgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIHV0Y09mZnNldDtcbiAgICBpZiAoZGF0ZSkge1xuICAgICAgdXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldDtcbiAgICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZShkYXRlLCB1dGNPZmZzZXQpO1xuICAgIH1cbiAgfTtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5fdCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICB9O1xuICBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLnNob3dEZWxldGVCdXR0b24gPSBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cblxuVHJhY2VzVGVtcGxhdGUuZXZlbnRzID0ge1xuICAnY2xpY2sgLmNjLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZDtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgKiAxICE9PSAxKSB7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDE7XG4gICAgICAkKFwiaVwiLCBldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImZhLXNwaW5cIik7XG4gICAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBNZXRlb3IuY2FsbCgnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICB0b2FzdHIuZXJyb3IoZXJyKTtcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDA7XG4gICAgICAgICAgJChcImlcIiwgZXZlbnQuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJmYS1zcGluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xuICAgICAgICAgIGlmICgkKFwiLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbFwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tY2MtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBpbnN0YW5jZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgIE1ldGVvci5jYWxsKCdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihlcnIpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICB0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xuICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAnY2xpY2sgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIGlmICghJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIE1vZGFsLnNob3coXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIiwgdGhpcyk7XG4gICAgfVxuICB9LFxuICAndGFwaG9sZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgaWYgKCEkKGV2ZW50LnRhcmdldCkuY2xvc2VzdChcImEuYnRuLWxpbmtcIikubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gTW9kYWwuc2hvdyhcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzKTtcbiAgICB9XG4gIH0sXG4gICdjbGljayAuYXBwcm92ZS1pdGVtIGEuYnRuLWxpbmssLmFwcHJvdmUtZGVzY3JpcHRpb24gYS5idG4tbGluaywuYXBwcm92ZS1pdGVtLWRpc3RyaWJ1dGUgYS5idG4tbGluayc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciByZWYsIHVzZXJJZDtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICB1c2VySWQgPSAocmVmID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQpICE9IG51bGwgPyByZWYudGFyZ2V0X3VzZXJfaWQgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gQ3JlYXRvci5vcGVuU2FmZU9iamVjdFVybCgndXNlcnMnLCB1c2VySWQpO1xuICAgIH1cbiAgfSxcbiAgJ3RhcGVuZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgaWYgKCEkKGV2ZW50LnRhcmdldCkuY2xvc2VzdChcImEuYnRuLWxpbmtcIikubGVuZ3RoKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBpbnN0YW5jZUlkLCB0cmFjZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgdHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlO1xuICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICBNZXRlb3IuY2FsbCgnZm9yd2FyZF9yZW1vdmUnLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihUQVBpMThuLl9fKGVyci5yZWFzb24pKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcImluc3RhbmNlX2FwcHJvdmVfZm9yd2FyZF9yZW1vdmVfc3VjY2Vzc1wiKSk7XG4gICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1pbnN0YW5jZS1sb29rJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGZvcndhcmRfaW5zdGFuY2UsIGZvcndhcmRfc3BhY2U7XG4gICAgZm9yd2FyZF9zcGFjZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRzcGFjZTtcbiAgICBmb3J3YXJkX2luc3RhbmNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZGluc3RhbmNlO1xuICAgIHJldHVybiBTdGVlZG9zLm9wZW5XaW5kb3coU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZm9yd2FyZF9zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBmb3J3YXJkX2luc3RhbmNlKSk7XG4gIH0sXG4gICdjbGljayAuYnRuLW1vZGlmaWNhdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcbiAgICBpZiAoIVN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKSkge1xuICAgICAgcmV0dXJuIFRyYWNrZXIuYWZ0ZXJGbHVzaChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQoXCIjaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsICNmaW5pc2hfaW5wdXRcIikub24oXCJkcC5zaG93XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKFwiLm1vZGFsLWJvZHlcIikuc2Nyb2xsVG9wKDEwMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmJ0bi1jYW5jZWxCdXQnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuICB9LFxuICAnY2xpY2sgLmJ0bi1zYXZlQnV0JzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgZmluaXNoX2lucHV0LCBpbnN0YW5jZUlkLCBvcGluaW9uX2lucHV0LCB0cmFjZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgdHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlO1xuICAgIG9waW5pb25faW5wdXQgPSAkKCcjb3Bpbmlvbl9pbnB1dCcpLnZhbCgpO1xuICAgIGZpbmlzaF9pbnB1dCA9IEF1dG9Gb3JtLmdldEZpZWxkVmFsdWUoXCJmaW5pc2hfZGF0ZVwiLCBcImZpbmlzaERhdGVBdXRvRm9ybVwiKTtcbiAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgcmV0dXJuIE1ldGVvci5jYWxsKCdjaGFuZ2VfYXBwcm92ZV9pbmZvJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBvcGluaW9uX2lucHV0LCBmaW5pc2hfaW5wdXQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihUQVBpMThuLl9fKGVyci5yZWFzb24pKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3ModChcImluc3RhbmNlX2FwcHJvdmVfbW9kYWxfbW9kaWZpY2F0aW9uc2F2ZVwiKSk7XG4gICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZGlzdHJpYnV0ZS1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIE1vZGFsLmFsbG93TXVsdGlwbGUgPSB0cnVlO1xuICAgIHJldHVybiBNb2RhbC5zaG93KCdjYW5jZWxfZGlzdHJpYnV0ZV9tb2RhbCcpO1xuICB9XG59O1xuIiwiUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzID1cclxuXHRzaG93UmVsYXRlZEluc3RhY2VzOiAtPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXHJcblx0XHRpZiBpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzICYmIF8uaXNBcnJheShpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzKVxyXG5cdFx0XHRpZiBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXN9fSwge2ZpZWxkczoge3NwYWNlOiAxLCBuYW1lOiAxfX0pLmNvdW50KCkgPiAwXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRyZWxhdGVkX2luc3RhY2VzOiAtPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXHJcblx0XHRpZiBpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzICYmIF8uaXNBcnJheShpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzKVxyXG5cdFx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzfX0sIHtmaWVsZHM6IHtzcGFjZTogMSwgbmFtZTogMX19KS5mZXRjaCgpXHJcblxyXG5cdHJlbGF0ZWRfaW5zdGFjZV91cmw6IChpbnMpIC0+XHJcblxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSlcclxuXHRcdFx0cmV0dXJuICcnXHJcblxyXG5cdFx0YWJzb2x1dGUgPSBmYWxzZVxyXG5cclxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0XHRhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGVcclxuXHRcdGlmIGFic29sdXRlXHJcblx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitpbnMuc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2lucy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXHJcblxyXG5cdF90OiAoa2V5KS0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXHJcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcclxuXHJcblx0c2hvd19kZWxldGU6ICgpLT5cclxuXHRcdGlmICFNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRlbHNlXHJcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09IFwiZHJhZnRcIiB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXHJcblx0XHRcdFx0Y3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKClcclxuXHRcdFx0XHRpZiBjdXJyZW50X3N0ZXBcclxuXHRcdFx0XHRcdGlmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdHJ1ZSB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB1bmRlZmluZWQpXHJcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlIiwiUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzID0ge1xuICBzaG93UmVsYXRlZEluc3RhY2VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnMgPSB0aGlzLmluc3RhbmNlO1xuICAgIH1cbiAgICBpZiAoKGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSAmJiBfLmlzQXJyYXkoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApKSB7XG4gICAgICBpZiAoZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIHJlbGF0ZWRfaW5zdGFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IHRoaXMuaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICgoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApICYmIF8uaXNBcnJheShpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkpIHtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgIH1cbiAgfSxcbiAgcmVsYXRlZF9pbnN0YWNlX3VybDogZnVuY3Rpb24oaW5zKSB7XG4gICAgdmFyIGFic29sdXRlO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBhYnNvbHV0ZSA9IGZhbHNlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZTtcbiAgICB9XG4gICAgaWYgKGFic29sdXRlKSB7XG4gICAgICByZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBpbnMuc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgaW5zLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICB9XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgfSxcbiAgc2hvd19kZWxldGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdXJyZW50X3N0ZXA7XG4gICAgaWYgKCFNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgICAgIGlmIChjdXJyZW50X3N0ZXApIHtcbiAgICAgICAgICBpZiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09PSB0cnVlIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiIsIlJlbGF0ZWRSZWNvcmRzLmhlbHBlcnMgPVxyXG5cdHNob3dSZWxhdGVkUmVjb3JkczogKCktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXHJcblx0XHRpZiAhaW5zXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0cmV0dXJuICFfLmlzRW1wdHkoaW5zLnJlY29yZF9pZHMpIiwiUmVsYXRlZFJlY29yZHMuaGVscGVycyA9IHtcbiAgc2hvd1JlbGF0ZWRSZWNvcmRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnMgPSB0aGlzLmluc3RhbmNlO1xuICAgIH1cbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gIV8uaXNFbXB0eShpbnMucmVjb3JkX2lkcyk7XG4gIH1cbn07XG4iLCJEZXNpZ25lckFQSSA9XHJcblxyXG5cdGdldEFic29sdXRlVXJsOiAodXJsKS0+XHJcblx0XHRyb290VXJsID0gaWYgX19tZXRlb3JfcnVudGltZV9jb25maWdfXyB0aGVuIF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggZWxzZSBcIlwiXHJcblx0XHRpZiByb290VXJsXHJcblx0XHRcdHVybCA9IHJvb3RVcmwgKyB1cmxcclxuXHRcdHJldHVybiB1cmw7XHJcblxyXG5cdHdyaXRlUmVzcG9uc2U6IChyZXMsIGh0dHBDb2RlLCBib2R5KS0+XHJcblx0XHRyZXMuc3RhdHVzQ29kZSA9IGh0dHBDb2RlO1xyXG5cdFx0cmVzLmVuZChib2R5KTtcclxuXHRcdFxyXG5cdHNlbmRJbnZhbGlkVVJMUmVzcG9uc2U6IChyZXMpLT5cclxuXHRcdHJldHVybiBAd3JpdGVSZXNwb25zZShyZXMsIDQwNCwgXCJ0aGUgcGFyYW0gJ3VybCcgaXMgcmVxdWlyZWQgYXMgcXVlcnlzLlwiKTtcclxuXHRcdFxyXG5cdHNlbmRBdXRoVG9rZW5FeHBpcmVkUmVzcG9uc2U6IChyZXMpLT5cclxuXHRcdHJldHVybiBAd3JpdGVSZXNwb25zZShyZXMsIDQwMSwgXCJ0aGUgYXV0aF90b2tlbiBoYXMgZXhwaXJlZC5cIik7XHJcblxyXG5cdHNlbmRIdG1sUmVzcG9uc2U6IChyZXEsIHJlcywgdHlwZSktPlxyXG5cdFx0cXVlcnkgPSByZXEucXVlcnlcclxuXHRcdHVybCA9IHF1ZXJ5LnVybFxyXG5cclxuXHRcdGlmIHVybFxyXG5cdFx0XHR1cmwgPSBkZWNvZGVVUklDb21wb25lbnQodXJsKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHREZXNpZ25lckFQSS5zZW5kSW52YWxpZFVSTFJlc3BvbnNlIHJlc1xyXG5cdFx0XHJcblx0XHR0aXRsZSA9IHF1ZXJ5LnRpdGxlXHJcblx0XHRpZiB0aXRsZVxyXG5cdFx0XHR0aXRsZSA9IGRlY29kZVVSSUNvbXBvbmVudCh0aXRsZSlcclxuXHRcdGVsc2VcclxuXHRcdFx0dGl0bGUgPSBcIlN0ZWVkb3MgRGVzaWduZXJcIlxyXG5cdFx0XHJcblx0XHRlcnJvcl9tc2cgPSBcIlwiXHJcblxyXG5cdFx0cmV0dXJuIEB3cml0ZVJlc3BvbnNlIHJlcywgMjAwLCBcIlwiXCJcclxuXHRcdFx0PGh0bWw+XHJcblx0XHRcdFx0PGhlYWQ+XHJcblx0XHRcdFx0XHQ8c3R5bGU+XHJcblx0XHRcdFx0XHRcdGh0bWwsYm9keXtcclxuXHRcdFx0XHRcdFx0XHRtYXJnaW46IDA7XHJcblx0XHRcdFx0XHRcdFx0cGFkZGluZzogMDtcclxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IDEwMCU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Ym9keSB7IFxyXG5cdFx0XHRcdFx0XHRcdGZvbnQtZmFtaWx5OiAnU291cmNlIFNhbnMgUHJvJywgJ0hlbHZldGljYSBOZXVlJywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcclxuXHRcdFx0XHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHQubG9hZGluZ3tcclxuXHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0XHRcdFx0XHRcdFx0bGVmdDogMHB4O1xyXG5cdFx0XHRcdFx0XHRcdHJpZ2h0OiAwcHg7XHJcblx0XHRcdFx0XHRcdFx0dG9wOiA1MCU7XHJcblx0XHRcdFx0XHRcdFx0ei1pbmRleDogLTE7Lyrorr7nva7kuLotMe+8jOWPr+S7peWcqGlmcmFtZeWKoOi9veWHuuadpeWQjuiHquWKqOa2iOWksSovXHJcblx0XHRcdFx0XHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cdFx0XHRcdFx0XHRcdG1hcmdpbi10b3A6IC0zMHB4O1xyXG5cdFx0XHRcdFx0XHRcdGZvbnQtc2l6ZTogMzZweDtcclxuXHRcdFx0XHRcdFx0XHRjb2xvcjogI2RmZGZkZjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHQuZXJyb3ItbXNne1xyXG5cdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHRcdFx0XHRcdFx0XHRsZWZ0OiAwcHg7XHJcblx0XHRcdFx0XHRcdFx0cmlnaHQ6IDBweDtcclxuXHRcdFx0XHRcdFx0XHRib3R0b206IDIwcHg7XHJcblx0XHRcdFx0XHRcdFx0ei1pbmRleDogMTEwMDtcclxuXHRcdFx0XHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblx0XHRcdFx0XHRcdFx0Zm9udC1zaXplOiAyMHB4O1xyXG5cdFx0XHRcdFx0XHRcdGNvbG9yOiAjYTk0NDQyO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQ8L3N0eWxlPlxyXG5cdFx0XHRcdFx0PG1ldGEgY2hhcnNldD1cInV0Zi04XCI+XHJcblx0XHRcdFx0XHQ8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEsIG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ub1wiPlxyXG5cdFx0XHRcdFx0PHRpdGxlPiN7dGl0bGV9PC90aXRsZT5cclxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImljb25cIiB0eXBlPVwiaW1hZ2UvcG5nXCIgc2l6ZXM9XCIxOTJ4MTkyXCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FuZHJvaWQtY2hyb21lLTE5MngxOTIucG5nXCIpfVwiPlxyXG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwibWFuaWZlc3RcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvbWFuaWZlc3QuanNvblwiKX1cIj5cclxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJtb2JpbGUtd2ViLWFwcC1jYXBhYmxlXCIgY29udGVudD1cInllc1wiPlxyXG5cdFx0XHRcdFx0PG1ldGEgbmFtZT1cInRoZW1lLWNvbG9yXCIgY29udGVudD1cIiMwMDBcIj5cclxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJhcHBsaWNhdGlvbi1uYW1lXCI+XHJcblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCI1N3g1N1wiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTU3eDU3LnBuZ1wiKX1cIj5cclxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImFwcGxlLXRvdWNoLWljb25cIiBzaXplcz1cIjYweDYwXCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tNjB4NjAucG5nXCIpfVwiPlxyXG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIHNpemVzPVwiNzJ4NzJcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi03Mng3Mi5wbmdcIil9XCI+XHJcblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCI3Nng3NlwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTc2eDc2LnBuZ1wiKX1cIj5cclxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImFwcGxlLXRvdWNoLWljb25cIiBzaXplcz1cIjExNHgxMTRcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi0xMTR4MTE0LnBuZ1wiKX1cIj5cclxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImFwcGxlLXRvdWNoLWljb25cIiBzaXplcz1cIjEyMHgxMjBcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi0xMjB4MTIwLnBuZ1wiKX1cIj5cclxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImFwcGxlLXRvdWNoLWljb25cIiBzaXplcz1cIjE0NHgxNDRcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi0xNDR4MTQ0LnBuZ1wiKX1cIj5cclxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImFwcGxlLXRvdWNoLWljb25cIiBzaXplcz1cIjE1MngxNTJcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi0xNTJ4MTUyLnBuZ1wiKX1cIj5cclxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImFwcGxlLXRvdWNoLWljb25cIiBzaXplcz1cIjE4MHgxODBcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi0xODB4MTgwLnBuZ1wiKX1cIj5cclxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJhcHBsZS1tb2JpbGUtd2ViLWFwcC1jYXBhYmxlXCIgY29udGVudD1cInllc1wiPlxyXG5cdFx0XHRcdFx0PG1ldGEgbmFtZT1cImFwcGxlLW1vYmlsZS13ZWItYXBwLXN0YXR1cy1iYXItc3R5bGVcIiBjb250ZW50PVwiYmxhY2stdHJhbnNsdWNlbnRcIj5cclxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJhcHBsZS1tb2JpbGUtd2ViLWFwcC10aXRsZVwiPlxyXG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiaWNvblwiIHR5cGU9XCJpbWFnZS9wbmdcIiBzaXplcz1cIjIyOHgyMjhcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvY29hc3QtMjI4eDIyOC5wbmdcIil9XCI+XHJcblx0XHRcdFx0XHQ8bGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3BuZ1wiIHNpemVzPVwiMTZ4MTZcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi0xNngxNi5wbmdcIil9XCI+XHJcblx0XHRcdFx0XHQ8bGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3BuZ1wiIHNpemVzPVwiMzJ4MzJcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi0zMngzMi5wbmdcIil9XCI+XHJcblx0XHRcdFx0XHQ8bGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3BuZ1wiIHNpemVzPVwiOTZ4OTZcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi05Nng5Ni5wbmdcIil9XCI+XHJcblx0XHRcdFx0XHQ8bGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3BuZ1wiIHNpemVzPVwiMjMweDIzMFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9mYXZpY29uLTIzMHgyMzAucG5nXCIpfVwiPlxyXG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwic2hvcnRjdXQgaWNvblwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9mYXZpY29uLmljb1wiKX1cIj5cclxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cInlhbmRleC10YWJsZWF1LXdpZGdldFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy95YW5kZXgtYnJvd3Nlci1tYW5pZmVzdC5qc29uXCIpfVwiPlxyXG5cdFx0XHRcdFx0PG1ldGEgbmFtZT1cIm1zYXBwbGljYXRpb24tVGlsZUNvbG9yXCIgY29udGVudD1cIiNmZmZcIj5cclxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJtc2FwcGxpY2F0aW9uLVRpbGVJbWFnZVwiIGNvbnRlbnQ9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9tc3RpbGUtMTQ0eDE0NC5wbmdcIil9XCI+XHJcblx0XHRcdFx0XHQ8bWV0YSBuYW1lPVwibXNhcHBsaWNhdGlvbi1jb25maWdcIiBjb250ZW50PVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYnJvd3NlcmNvbmZpZy54bWxcIil9XCI+XHJcblx0XHRcdFx0XHQ8bWV0YSBwcm9wZXJ0eT1cInR3aXR0ZXI6aW1hZ2VcIiBjb250ZW50PVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvdHdpdHRlci5wbmdcIil9XCI+XHJcblx0XHRcdFx0XHQ8bWV0YSBwcm9wZXJ0eT1cIm9nOmltYWdlXCIgY29udGVudD1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL29wZW4tZ3JhcGgucG5nXCIpfVwiPlxyXG5cdFx0XHRcdDwvaGVhZD5cclxuXHRcdFx0XHQ8Ym9keT5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3MgPSBcImxvYWRpbmdcIj5Mb2FkaW5nLi4uPC9kaXY+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzID0gXCJlcnJvci1tc2dcIj4je2Vycm9yX21zZ308L2Rpdj5cclxuXHRcdFx0XHRcdDxpZnJhbWUgaWQ9XCJpZnJEZXNpZ25lclwiIHNyYz1cIlwiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiBud2Rpc2FibGU9XCJ0cnVlXCIgZnJhbWVib3JkZXI9XCJub1wiIGJvcmRlcj1cIjBcIiBtYXJnaW53aWR0aD1cIjBcIiBtYXJnaW5oZWlnaHQ9XCIwXCIgc2Nyb2xsaW5nPVwibm9cIiBhbGxvd3RyYW5zcGFyZW5jeT1cInllc1wiPjwvaWZyYW1lPlxyXG5cdFx0XHRcdFx0PHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvbGliL2pxdWVyeS9qcXVlcnktMS4xMS4yLm1pbi5qc1wiKX1cIj48L3NjcmlwdD5cclxuXHRcdFx0XHRcdDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPlxyXG5cdFx0XHRcdFx0XHR2YXIgZGVzaWduZXIgPSB7XHJcblx0XHRcdFx0XHRcdFx0dXJsUXVlcnk6ZnVuY3Rpb24obmFtZSl7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmVnID0gbmV3IFJlZ0V4cChcIihefCYpXCIgKyBuYW1lICsgXCI9KFteJl0qKSgmfCQpXCIpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIHIgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cigxKS5tYXRjaChyZWcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHIgIT0gbnVsbCkgcmV0dXJuIHVuZXNjYXBlKHJbMl0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRydW46ZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciB1cmwgPSB0aGlzLnVybFF1ZXJ5KFwidXJsXCIpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHVybCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdGlmKHVybCl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCQoXCIjaWZyRGVzaWduZXJcIikuYXR0cihcInNyY1wiLHVybCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgU3RlZWRvcyA9IHdpbmRvdy5vcGVuZXIuU3RlZWRvcyB8fCBudWxsO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKFN0ZWVkb3MpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0U3RlZWRvcy5mb3JiaWROb2RlQ29udGV4dG1lbnUod2luZG93KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdCQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0XHRkZXNpZ25lci5ydW4oKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQ8L3NjcmlwdD5cclxuXHRcdFx0XHQ8Ym9keT5cclxuXHRcdFx0PC9odG1sPlxyXG5cdFx0XCJcIlwiXHJcblxyXG5Kc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvd29ya2Zsb3cvZGVzaWduZXI/dXJsPTp1cmwnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0RGVzaWduZXJBUEkuc2VuZEh0bWxSZXNwb25zZSByZXEsIHJlc1xyXG5cclxuIiwidmFyIERlc2lnbmVyQVBJO1xuXG5EZXNpZ25lckFQSSA9IHtcbiAgZ2V0QWJzb2x1dGVVcmw6IGZ1bmN0aW9uKHVybCkge1xuICAgIHZhciByb290VXJsO1xuICAgIHJvb3RVcmwgPSBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fID8gX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCA6IFwiXCI7XG4gICAgaWYgKHJvb3RVcmwpIHtcbiAgICAgIHVybCA9IHJvb3RVcmwgKyB1cmw7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG4gIH0sXG4gIHdyaXRlUmVzcG9uc2U6IGZ1bmN0aW9uKHJlcywgaHR0cENvZGUsIGJvZHkpIHtcbiAgICByZXMuc3RhdHVzQ29kZSA9IGh0dHBDb2RlO1xuICAgIHJldHVybiByZXMuZW5kKGJvZHkpO1xuICB9LFxuICBzZW5kSW52YWxpZFVSTFJlc3BvbnNlOiBmdW5jdGlvbihyZXMpIHtcbiAgICByZXR1cm4gdGhpcy53cml0ZVJlc3BvbnNlKHJlcywgNDA0LCBcInRoZSBwYXJhbSAndXJsJyBpcyByZXF1aXJlZCBhcyBxdWVyeXMuXCIpO1xuICB9LFxuICBzZW5kQXV0aFRva2VuRXhwaXJlZFJlc3BvbnNlOiBmdW5jdGlvbihyZXMpIHtcbiAgICByZXR1cm4gdGhpcy53cml0ZVJlc3BvbnNlKHJlcywgNDAxLCBcInRoZSBhdXRoX3Rva2VuIGhhcyBleHBpcmVkLlwiKTtcbiAgfSxcbiAgc2VuZEh0bWxSZXNwb25zZTogZnVuY3Rpb24ocmVxLCByZXMsIHR5cGUpIHtcbiAgICB2YXIgZXJyb3JfbXNnLCBxdWVyeSwgdGl0bGUsIHVybDtcbiAgICBxdWVyeSA9IHJlcS5xdWVyeTtcbiAgICB1cmwgPSBxdWVyeS51cmw7XG4gICAgaWYgKHVybCkge1xuICAgICAgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHVybCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIERlc2lnbmVyQVBJLnNlbmRJbnZhbGlkVVJMUmVzcG9uc2UocmVzKTtcbiAgICB9XG4gICAgdGl0bGUgPSBxdWVyeS50aXRsZTtcbiAgICBpZiAodGl0bGUpIHtcbiAgICAgIHRpdGxlID0gZGVjb2RlVVJJQ29tcG9uZW50KHRpdGxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGUgPSBcIlN0ZWVkb3MgRGVzaWduZXJcIjtcbiAgICB9XG4gICAgZXJyb3JfbXNnID0gXCJcIjtcbiAgICByZXR1cm4gdGhpcy53cml0ZVJlc3BvbnNlKHJlcywgMjAwLCBcIjxodG1sPlxcblx0PGhlYWQ+XFxuXHRcdDxzdHlsZT5cXG5cdFx0XHRodG1sLGJvZHl7XFxuXHRcdFx0XHRtYXJnaW46IDA7XFxuXHRcdFx0XHRwYWRkaW5nOiAwO1xcblx0XHRcdFx0aGVpZ2h0OiAxMDAlO1xcblx0XHRcdH1cXG5cdFx0XHRib2R5IHsgXFxuXHRcdFx0XHRmb250LWZhbWlseTogJ1NvdXJjZSBTYW5zIFBybycsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XFxuXHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XFxuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcblx0XHRcdH1cXG5cdFx0XHQubG9hZGluZ3tcXG5cdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cdFx0XHRcdGxlZnQ6IDBweDtcXG5cdFx0XHRcdHJpZ2h0OiAwcHg7XFxuXHRcdFx0XHR0b3A6IDUwJTtcXG5cdFx0XHRcdHotaW5kZXg6IC0xOy8q6K6+572u5Li6LTHvvIzlj6/ku6XlnKhpZnJhbWXliqDovb3lh7rmnaXlkI7oh6rliqjmtojlpLEqL1xcblx0XHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xcblx0XHRcdFx0bWFyZ2luLXRvcDogLTMwcHg7XFxuXHRcdFx0XHRmb250LXNpemU6IDM2cHg7XFxuXHRcdFx0XHRjb2xvcjogI2RmZGZkZjtcXG5cdFx0XHR9XFxuXHRcdFx0LmVycm9yLW1zZ3tcXG5cdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cdFx0XHRcdGxlZnQ6IDBweDtcXG5cdFx0XHRcdHJpZ2h0OiAwcHg7XFxuXHRcdFx0XHRib3R0b206IDIwcHg7XFxuXHRcdFx0XHR6LWluZGV4OiAxMTAwO1xcblx0XHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xcblx0XHRcdFx0Zm9udC1zaXplOiAyMHB4O1xcblx0XHRcdFx0Y29sb3I6ICNhOTQ0NDI7XFxuXHRcdFx0fVxcblx0XHQ8L3N0eWxlPlxcblx0XHQ8bWV0YSBjaGFyc2V0PVxcXCJ1dGYtOFxcXCI+XFxuXHRcdDxtZXRhIG5hbWU9XFxcInZpZXdwb3J0XFxcIiBjb250ZW50PVxcXCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgbWF4aW11bS1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vXFxcIj5cXG5cdFx0PHRpdGxlPlwiICsgdGl0bGUgKyBcIjwvdGl0bGU+XFxuXHRcdDxsaW5rIHJlbD1cXFwiaWNvblxcXCIgdHlwZT1cXFwiaW1hZ2UvcG5nXFxcIiBzaXplcz1cXFwiMTkyeDE5MlxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hbmRyb2lkLWNocm9tZS0xOTJ4MTkyLnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwibWFuaWZlc3RcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvbWFuaWZlc3QuanNvblwiKSkgKyBcIlxcXCI+XFxuXHRcdDxtZXRhIG5hbWU9XFxcIm1vYmlsZS13ZWItYXBwLWNhcGFibGVcXFwiIGNvbnRlbnQ9XFxcInllc1xcXCI+XFxuXHRcdDxtZXRhIG5hbWU9XFxcInRoZW1lLWNvbG9yXFxcIiBjb250ZW50PVxcXCIjMDAwXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwiYXBwbGljYXRpb24tbmFtZVxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiYXBwbGUtdG91Y2gtaWNvblxcXCIgc2l6ZXM9XFxcIjU3eDU3XFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tNTd4NTcucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiNjB4NjBcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi02MHg2MC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCI3Mng3MlxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTcyeDcyLnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiYXBwbGUtdG91Y2gtaWNvblxcXCIgc2l6ZXM9XFxcIjc2eDc2XFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tNzZ4NzYucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiMTE0eDExNFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTExNHgxMTQucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiMTIweDEyMFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTEyMHgxMjAucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiMTQ0eDE0NFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTE0NHgxNDQucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiMTUyeDE1MlxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTE1MngxNTIucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiMTgweDE4MFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTE4MHgxODAucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwiYXBwbGUtbW9iaWxlLXdlYi1hcHAtY2FwYWJsZVxcXCIgY29udGVudD1cXFwieWVzXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwiYXBwbGUtbW9iaWxlLXdlYi1hcHAtc3RhdHVzLWJhci1zdHlsZVxcXCIgY29udGVudD1cXFwiYmxhY2stdHJhbnNsdWNlbnRcXFwiPlxcblx0XHQ8bWV0YSBuYW1lPVxcXCJhcHBsZS1tb2JpbGUtd2ViLWFwcC10aXRsZVxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiaWNvblxcXCIgdHlwZT1cXFwiaW1hZ2UvcG5nXFxcIiBzaXplcz1cXFwiMjI4eDIyOFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9jb2FzdC0yMjh4MjI4LnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiaWNvblxcXCIgdHlwZT1cXFwiaW1hZ2UvcG5nXFxcIiBzaXplcz1cXFwiMTZ4MTZcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi0xNngxNi5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImljb25cXFwiIHR5cGU9XFxcImltYWdlL3BuZ1xcXCIgc2l6ZXM9XFxcIjMyeDMyXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24tMzJ4MzIucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJpY29uXFxcIiB0eXBlPVxcXCJpbWFnZS9wbmdcXFwiIHNpemVzPVxcXCI5Nng5NlxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9mYXZpY29uLTk2eDk2LnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiaWNvblxcXCIgdHlwZT1cXFwiaW1hZ2UvcG5nXFxcIiBzaXplcz1cXFwiMjMweDIzMFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9mYXZpY29uLTIzMHgyMzAucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJzaG9ydGN1dCBpY29uXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24uaWNvXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJ5YW5kZXgtdGFibGVhdS13aWRnZXRcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMveWFuZGV4LWJyb3dzZXItbWFuaWZlc3QuanNvblwiKSkgKyBcIlxcXCI+XFxuXHRcdDxtZXRhIG5hbWU9XFxcIm1zYXBwbGljYXRpb24tVGlsZUNvbG9yXFxcIiBjb250ZW50PVxcXCIjZmZmXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwibXNhcHBsaWNhdGlvbi1UaWxlSW1hZ2VcXFwiIGNvbnRlbnQ9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvbXN0aWxlLTE0NHgxNDQucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwibXNhcHBsaWNhdGlvbi1jb25maWdcXFwiIGNvbnRlbnQ9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYnJvd3NlcmNvbmZpZy54bWxcIikpICsgXCJcXFwiPlxcblx0XHQ8bWV0YSBwcm9wZXJ0eT1cXFwidHdpdHRlcjppbWFnZVxcXCIgY29udGVudD1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy90d2l0dGVyLnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxtZXRhIHByb3BlcnR5PVxcXCJvZzppbWFnZVxcXCIgY29udGVudD1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9vcGVuLWdyYXBoLnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHQ8L2hlYWQ+XFxuXHQ8Ym9keT5cXG5cdFx0PGRpdiBjbGFzcyA9IFxcXCJsb2FkaW5nXFxcIj5Mb2FkaW5nLi4uPC9kaXY+XFxuXHRcdDxkaXYgY2xhc3MgPSBcXFwiZXJyb3ItbXNnXFxcIj5cIiArIGVycm9yX21zZyArIFwiPC9kaXY+XFxuXHRcdDxpZnJhbWUgaWQ9XFxcImlmckRlc2lnbmVyXFxcIiBzcmM9XFxcIlxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgbndkaXNhYmxlPVxcXCJ0cnVlXFxcIiBmcmFtZWJvcmRlcj1cXFwibm9cXFwiIGJvcmRlcj1cXFwiMFxcXCIgbWFyZ2lud2lkdGg9XFxcIjBcXFwiIG1hcmdpbmhlaWdodD1cXFwiMFxcXCIgc2Nyb2xsaW5nPVxcXCJub1xcXCIgYWxsb3d0cmFuc3BhcmVuY3k9XFxcInllc1xcXCI+PC9pZnJhbWU+XFxuXHRcdDxzY3JpcHQgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIiBzcmM9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvbGliL2pxdWVyeS9qcXVlcnktMS4xMS4yLm1pbi5qc1wiKSkgKyBcIlxcXCI+PC9zY3JpcHQ+XFxuXHRcdDxzY3JpcHQgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj5cXG5cdFx0XHR2YXIgZGVzaWduZXIgPSB7XFxuXHRcdFx0XHR1cmxRdWVyeTpmdW5jdGlvbihuYW1lKXtcXG5cdFx0XHRcdFx0dmFyIHJlZyA9IG5ldyBSZWdFeHAoXFxcIihefCYpXFxcIiArIG5hbWUgKyBcXFwiPShbXiZdKikoJnwkKVxcXCIpO1xcblx0XHRcdFx0XHR2YXIgciA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLm1hdGNoKHJlZyk7XFxuXHRcdFx0XHRcdGlmIChyICE9IG51bGwpIHJldHVybiB1bmVzY2FwZShyWzJdKTtcXG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XFxuXHRcdFx0XHR9LFxcblx0XHRcdFx0cnVuOmZ1bmN0aW9uKCl7XFxuXHRcdFx0XHRcdHZhciB1cmwgPSB0aGlzLnVybFF1ZXJ5KFxcXCJ1cmxcXFwiKTtcXG5cdFx0XHRcdFx0dXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHVybCk7XFxuXHRcdFx0XHRcdFxcblx0XHRcdFx0XHRpZih1cmwpe1xcblx0XHRcdFx0XHRcdCQoXFxcIiNpZnJEZXNpZ25lclxcXCIpLmF0dHIoXFxcInNyY1xcXCIsdXJsKTtcXG5cdFx0XHRcdFx0fVxcblx0XHRcdFx0XHR2YXIgU3RlZWRvcyA9IHdpbmRvdy5vcGVuZXIuU3RlZWRvcyB8fCBudWxsO1xcblx0XHRcdFx0XHRpZiAoU3RlZWRvcykge1xcblx0XHRcdFx0XHRcdFN0ZWVkb3MuZm9yYmlkTm9kZUNvbnRleHRtZW51KHdpbmRvdyk7XFxuXHRcdFx0XHRcdH1cXG5cdFx0XHRcdH1cXG5cdFx0XHR9O1xcblx0XHRcdCQoZnVuY3Rpb24oKXtcXG5cdFx0XHRcdGRlc2lnbmVyLnJ1bigpO1xcblx0XHRcdH0pO1xcblx0XHQ8L3NjcmlwdD5cXG5cdDxib2R5PlxcbjwvaHRtbD5cIik7XG4gIH1cbn07XG5cbkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS93b3JrZmxvdy9kZXNpZ25lcj91cmw9OnVybCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHJldHVybiBEZXNpZ25lckFQSS5zZW5kSHRtbFJlc3BvbnNlKHJlcSwgcmVzKTtcbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9uZXh0U3RlcFVzZXJzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XHJcblx0dmFyXHJcblx0XHRkZWFsX3R5cGUgPSByZXEucXVlcnkuZGVhbF90eXBlLFxyXG5cdFx0c3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxyXG5cdFx0ZXJyb3IgPSBcIlwiO1xyXG5cclxuXHRpZiAoIWRlYWxfdHlwZSB8fCAhc3BhY2VJZCkge1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHR2YXJcclxuXHRcdGJvZHkgPSByZXEuYm9keSxcclxuXHRcdG5leHRTdGVwVXNlcnMgPSBbXTtcclxuXHJcblxyXG5cdHN3aXRjaCAoZGVhbF90eXBlKSB7XHJcblx0XHRjYXNlICdzcGVjaWZ5VXNlcic6XHJcblx0XHRcdHZhciBzcGVjaWZ5VXNlcklkcyA9IGJvZHkuc3BlY2lmeVVzZXJJZHM7XHJcblxyXG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIHNwZWNpZnlVc2VySWRzKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdhcHBsaWNhbnRSb2xlJzpcclxuXHRcdFx0dmFyXHJcblx0XHRcdFx0YXBwbGljYW50SWQgPSBib2R5LmFwcGxpY2FudElkLFxyXG5cdFx0XHRcdGFwcHJvdmVSb2xlSWRzID0gYm9keS5hcHByb3ZlUm9sZUlkcztcclxuXHRcdFx0dmFyIGFwcGxpY2FudCA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VyKHNwYWNlSWQsIGFwcGxpY2FudElkKTtcclxuXHJcblx0XHRcdGlmIChhcHBsaWNhbnQpXHJcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeU9yZ3NBbmRSb2xlcyhzcGFjZUlkLCBhcHBsaWNhbnQub3JnYW5pemF0aW9ucywgYXBwcm92ZVJvbGVJZHMpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ2hyUm9sZSc6XHJcblx0XHRcdHZhciBhcHByb3ZlSHJSb2xlSWRzID0gYm9keS5hcHByb3ZlSHJSb2xlSWRzO1xyXG5cdFx0XHRpZiAoYXBwcm92ZUhyUm9sZUlkcylcclxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEhyUm9sZXNVc2VycyhzcGFjZUlkLCBhcHByb3ZlSHJSb2xlSWRzKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdhcHBsaWNhbnRTdXBlcmlvcic6XHJcblx0XHRcdHZhciBhcHBsaWNhbnRJZCA9IGJvZHkuYXBwbGljYW50SWQ7XHJcblx0XHRcdHZhciBhcHBsaWNhbnQgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcihzcGFjZUlkLCBhcHBsaWNhbnRJZCk7XHJcblx0XHRcdGlmIChhcHBsaWNhbnQubWFuYWdlcikge1xyXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgYXBwbGljYW50Lm1hbmFnZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnYXBwbGljYW50JzpcclxuXHRcdFx0dmFyIGFwcGxpY2FudElkID0gYm9keS5hcHBsaWNhbnRJZDtcclxuXHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCBhcHBsaWNhbnRJZCk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAndXNlckZpZWxkJzpcclxuXHRcdFx0dmFyXHJcblx0XHRcdFx0dXNlckZpZWxkID0gYm9keS51c2VyRmllbGQsXHJcblx0XHRcdFx0dXNlckZpZWxkVmFsdWUgPSBib2R5LnVzZXJGaWVsZFZhbHVlO1xyXG5cdFx0XHRpZiAodXNlckZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5LuldXNlckZpZWxkVmFsdWXlgLzkuLpBcnJheVxyXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgdXNlckZpZWxkVmFsdWUpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMucHVzaChXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcihzcGFjZUlkLCB1c2VyRmllbGRWYWx1ZSkpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnb3JnRmllbGQnOlxyXG5cdFx0XHR2YXJcclxuXHRcdFx0XHRvcmdzLFxyXG5cdFx0XHRcdG9yZ0NoaWxkcmVucyxcclxuXHRcdFx0XHRvcmdGaWVsZCA9IGJvZHkub3JnRmllbGQsXHJcblx0XHRcdFx0b3JnRmllbGRWYWx1ZSA9IGJvZHkub3JnRmllbGRWYWx1ZTtcclxuXHRcdFx0aWYgKG9yZ0ZpZWxkVmFsdWUpIHtcclxuXHRcdFx0XHRpZiAob3JnRmllbGQuaXNfbXVsdGlzZWxlY3QpIHsgLy/lpoLmnpzlpJrpgInvvIzku6VvcmdGaWVsZFZhbHVl5YC85Li6QXJyYXlcclxuXHRcdFx0XHRcdG9yZ3MgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9ucyhvcmdGaWVsZFZhbHVlKTtcclxuXHRcdFx0XHRcdG9yZ0NoaWxkcmVucyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zQ2hpbGRyZW5zKHNwYWNlSWQsIG9yZ0ZpZWxkVmFsdWUpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRvcmdzID0gW1dvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb24ob3JnRmllbGRWYWx1ZSldO1xyXG5cdFx0XHRcdFx0b3JnQ2hpbGRyZW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbkNoaWxkcmVucyhzcGFjZUlkLCBvcmdGaWVsZFZhbHVlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgb3JnQ2hpbGRyZW5zKTtcclxuXHJcblx0XHRcdFx0b3JnRmllbGRVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgb3Jncyk7XHJcblxyXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBuZXh0U3RlcFVzZXJzLmNvbmNhdChvcmdGaWVsZFVzZXJzKTtcclxuXHJcblx0XHRcdFx0aWYgKCFuZXh0U3RlcFVzZXJzIHx8IG5leHRTdGVwVXNlcnMubGVuZ3RoIDwgMSkge1xyXG5cdFx0XHRcdFx0ZXJyb3IgPSBcIk9SR19OT19NRU1CRVJTXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVycm9yID0gXCJGSUVMRF9WQUxVRV9FTVBUWVwiO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ3NwZWNpZnlPcmcnOlxyXG5cdFx0XHR2YXIgc3BlY2lmeU9yZ0lkcyA9IGJvZHkuc3BlY2lmeU9yZ0lkcztcclxuXHRcdFx0dmFyIHNwZWNpZnlPcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnMoc3BlY2lmeU9yZ0lkcyk7XHJcblx0XHRcdHZhciBzcGVjaWZ5T3JnQ2hpbGRyZW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNDaGlsZHJlbnMoc3BhY2VJZCwgc3BlY2lmeU9yZ0lkcyk7XHJcblxyXG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBzcGVjaWZ5T3Jncyk7XHJcblx0XHRcdG5leHRTdGVwVXNlcnMgPSBuZXh0U3RlcFVzZXJzLmNvbmNhdChXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc1VzZXJzKHNwYWNlSWQsIHNwZWNpZnlPcmdDaGlsZHJlbnMpKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICd1c2VyRmllbGRSb2xlJzpcclxuXHRcdFx0dmFyXHJcblx0XHRcdFx0dXNlckZpZWxkID0gYm9keS51c2VyRmllbGQsXHJcblx0XHRcdFx0dXNlckZpZWxkVmFsdWUgPSBib2R5LnVzZXJGaWVsZFZhbHVlLFxyXG5cdFx0XHRcdGFwcHJvdmVyUm9sZUlkcyA9IGJvZHkuYXBwcm92ZXJSb2xlSWRzO1xyXG5cdFx0XHRpZiAodXNlckZpZWxkVmFsdWUpIHtcclxuXHRcdFx0XHRpZiAodXNlckZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5LuldXNlckZpZWxkVmFsdWXlgLzkuLpBcnJheVxyXG5cdFx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeVVzZXJzQW5kUm9sZXMoc3BhY2VJZCwgdXNlckZpZWxkVmFsdWUsIGFwcHJvdmVyUm9sZUlkcyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzKHNwYWNlSWQsIFt1c2VyRmllbGRWYWx1ZV0sIGFwcHJvdmVyUm9sZUlkcyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIW5leHRTdGVwVXNlcnMgfHwgbmV4dFN0ZXBVc2Vycy5sZW5ndGggPCAxKSB7XHJcblx0XHRcdFx0XHRlcnJvciA9IFwiUk9MRV9OT19NRU1CRVJTXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVycm9yID0gXCJGSUVMRF9WQUxVRV9FTVBUWVwiO1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdvcmdGaWVsZFJvbGUnOlxyXG5cdFx0XHR2YXJcclxuXHRcdFx0XHRvcmdGaWVsZCA9IGJvZHkub3JnRmllbGQsXHJcblx0XHRcdFx0b3JnRmllbGRWYWx1ZSA9IGJvZHkub3JnRmllbGRWYWx1ZSxcclxuXHRcdFx0XHRhcHByb3ZlclJvbGVJZHMgPSBib2R5LmFwcHJvdmVyUm9sZUlkcztcclxuXHJcblx0XHRcdGlmIChvcmdGaWVsZFZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKG9yZ0ZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5Lulb3JnRmllbGRWYWx1ZeWAvOS4ukFycmF5XHJcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzKHNwYWNlSWQsIG9yZ0ZpZWxkVmFsdWUsIGFwcHJvdmVyUm9sZUlkcyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlPcmdzQW5kUm9sZXMoc3BhY2VJZCwgW29yZ0ZpZWxkVmFsdWVdLCBhcHByb3ZlclJvbGVJZHMpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKCFuZXh0U3RlcFVzZXJzIHx8IG5leHRTdGVwVXNlcnMubGVuZ3RoIDwgMSkge1xyXG5cdFx0XHRcdFx0ZXJyb3IgPSBcIlJPTEVfTk9fTUVNQkVSU1wiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRlcnJvciA9IFwiRklFTERfVkFMVUVfRU1QVFlcIjtcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHRcdGRlZmF1bHQ6XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxuXHJcblx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuXHRuZXh0U3RlcFVzZXJzLmZvckVhY2goZnVuY3Rpb24oc3UpIHtcclxuXHRcdGlmKHN1LnVzZXJfYWNjZXB0ZWQpe1xyXG5cdFx0XHR2YXIgbyA9IHtcclxuXHRcdFx0XHRpZDogc3UuaWQsXHJcblx0XHRcdFx0bmFtZTogc3UubmFtZVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXN1bHQucHVzaChvKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0Y29kZTogMjAwLFxyXG5cdFx0ZGF0YToge1xyXG5cdFx0XHQnbmV4dFN0ZXBVc2Vycyc6IFdvcmtmbG93TWFuYWdlci51bmlxVXNlcnMocmVzdWx0KSxcclxuXHRcdFx0J2Vycm9yJzogZXJyb3JcclxuXHRcdH1cclxuXHR9KTtcclxufSkiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldFNwYWNlVXNlcnNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgdmFyXHJcbiAgICB1c2VySWRzID0gcmVxLmJvZHkudXNlcklkcyxcclxuICAgIHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcclxuICAgIHNwYWNlVXNlcnMgPSBbXVxyXG4gIDtcclxuXHJcbiAgaWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKSB7XHJcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNwYWNlVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgdXNlcklkcyk7XHJcblxyXG4gIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuICAgIGNvZGU6IDIwMCxcclxuICAgIGRhdGE6IHtcclxuICAgICAgJ3NwYWNlVXNlcnMnOiBzcGFjZVVzZXJzXHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG5cclxuICBcclxuICAiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldEZvcm11bGFVc2VyT2JqZWN0c1wiLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcclxuICB2YXJcclxuICAgIHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzLFxyXG4gICAgc3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxyXG4gICAgc3BhY2VVc2VycyA9IFtdXHJcbiAgO1xyXG5cclxuICBpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpIHtcclxuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdmFyIHVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0KHNwYWNlSWQsIHVzZXJJZHMpO1xyXG5cclxuICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcbiAgICBjb2RlOiAyMDAsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgICdzcGFjZVVzZXJzJzogdXNlcnNcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcblxyXG4gIFxyXG4gICIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5pdF9mb3JtdWxhX3ZhbHVlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xyXG5cdHZhclxyXG5cdFx0ZmllbGRzID0gcmVxLmJvZHkuZmllbGRzLFxyXG5cdFx0YXV0b0Zvcm1Eb2MgPSByZXEuYm9keS5hdXRvRm9ybURvYyxcclxuXHRcdGFwcHJvdmVyID0gcmVxLmJvZHkuYXBwcm92ZXIsXHJcblx0XHRhcHBsaWNhbnQgPSByZXEuYm9keS5hcHBsaWNhbnQsXHJcblxyXG5cdFx0c3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxyXG5cclxuXHRcdHNwYWNlVXNlcnMgPSBbXTtcclxuXHJcblx0aWYgKCFmaWVsZHMgfHwgIXNwYWNlSWQgfHwgIWF1dG9Gb3JtRG9jIHx8ICFhcHByb3ZlciB8fCAhYXBwbGljYW50KSB7XHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGZvcm11bGFfdmFsdWVzID0gRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXMoZmllbGRzLCBhdXRvRm9ybURvYywgYXBwcm92ZXIsIGFwcGxpY2FudCwgc3BhY2VJZCk7XHJcblxyXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdGNvZGU6IDIwMCxcclxuXHRcdGRhdGE6IHtcclxuXHRcdFx0J2Zvcm11bGFfdmFsdWVzJzogZm9ybXVsYV92YWx1ZXNcclxuXHRcdH1cclxuXHR9KTtcclxufSlcclxuIiwiSnNvblJvdXRlcy5hZGQgXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXROYW1lRm9yVXNlclwiLCAgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0dXNlcklkID0gcmVxLmJvZHkudXNlcklkXHJcblxyXG5cdFx0aWYgbm90IHVzZXJJZCBcclxuXHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywgXHJcblx0XHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHR1c2VyID0gV29ya2Zsb3dNYW5hZ2VyLmdldE5hbWVGb3JVc2VyKHVzZXJJZClcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCBcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7dXNlcjogdXNlcn1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cclxuXHRcclxuXHRcdFxyXG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldE5hbWVGb3JVc2VyXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBlLCB1c2VyLCB1c2VySWQ7XG4gIHRyeSB7XG4gICAgdXNlcklkID0gcmVxLmJvZHkudXNlcklkO1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgdXNlciA9IFdvcmtmbG93TWFuYWdlci5nZXROYW1lRm9yVXNlcih1c2VySWQpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXI6IHVzZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS9kZXNpZ25lci9zdGFydHVwJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0Y29tcGFueUlkID0gcmVxLnF1ZXJ5Py5jb21wYW55SWQgfHwgJydcclxuXHJcblx0XHRzcGFjZXNRdWVyeSA9IHsgYWRtaW5zOiBjdXJyZW50X3VzZXIgfVxyXG5cclxuXHRcdGlmIGNvbXBhbnlJZFxyXG5cdFx0XHRvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY29tcGFueUlkLCB7IGZpZWxkczogeyBzcGFjZToxIH0gfSlcclxuXHRcdFx0aWYgbm90IG9yZ1xyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NvbXBhbnlJZCBpcyBpbnZhbGlkJylcclxuXHJcblx0XHRcdHNwYWNlc1F1ZXJ5ID0geyBfaWQ6IG9yZy5zcGFjZSB9XHJcblxyXG5cdFx0c3BhY2VzID0gZGIuc3BhY2VzLmZpbmQoc3BhY2VzUXVlcnkpLmZldGNoKClcclxuXHJcblx0XHRzcGFjZUlkcyA9IF8ucGx1Y2sgc3BhY2VzLCAnX2lkJ1xyXG5cclxuXHRcdHF1ZXJ5ID0geyBzcGFjZTogeyAkaW46IHNwYWNlSWRzIH0gfVxyXG5cdFx0aWYgY29tcGFueUlkXHJcblx0XHRcdHF1ZXJ5LmNvbXBhbnlfaWQgPSBjb21wYW55SWRcclxuXHJcblx0XHRzcGFjZVVzZXJzID0gZGIuc3BhY2VfdXNlcnMuZmluZChxdWVyeSkuZmV0Y2goKVxyXG5cclxuXHRcdGZvcm1zID0gZGIuZm9ybXMuZmluZChxdWVyeSwgeyBmaWVsZHM6IHsgbmFtZToxLCBzdGF0ZToxLCBpc19kZWxldGVkOjEsIGlzX3ZhbGlkOjEsIHNwYWNlOjEsIGRlc2NyaXB0aW9uOjEsIGhlbHBfdGV4dDoxLFxyXG5cdFx0Y3JlYXRlZDoxLCBjcmVhdGVkX2J5OjEsIGN1cnJlbnQ6MSwgY2F0ZWdvcnk6MSwgaW5zdGFuY2Vfc3R5bGU6MSwgY29tcGFueV9pZDoxIH0gfSkuZmV0Y2goKVxyXG5cclxuXHRcdGZsb3dzID0gZGIuZmxvd3MuZmluZChxdWVyeSwgeyBmaWVsZHM6IHsgbmFtZToxLCBuYW1lX2Zvcm11bGE6MSwgY29kZV9mb3JtdWxhOjEsIHNwYWNlOjEsIGRlc2NyaXB0aW9uOjEsIGlzX3ZhbGlkOjEsIGZvcm06MSxcclxuXHRcdGZsb3d0eXBlOjEsIHN0YXRlOjEsIGlzX2RlbGV0ZWQ6MSwgY3JlYXRlZDoxLCBjcmVhdGVkX2J5OjEsIGhlbHBfdGV4dDoxLCBjdXJyZW50X25vOjEsIGN1cnJlbnQ6MSwgcGVybXM6MSwgZXJyb3JfbWVzc2FnZToxLCBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOjEsIGNvbXBhbnlfaWQ6MSB9IH0pLmZldGNoKClcclxuXHJcblx0XHRyb2xlcyA9IGRiLmZsb3dfcm9sZXMuZmluZChxdWVyeSkuZmV0Y2goKVxyXG5cclxuXHRcdG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQocXVlcnkpLmZldGNoKClcclxuXHJcblx0XHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpXHJcblxyXG5cdFx0Y2F0ZWdvcmllcyA9IGRiLmNhdGVnb3JpZXMuZmluZCh7IHNwYWNlOiB7ICRpbjogc3BhY2VJZHMgfSB9KS5mZXRjaCgpXHJcblxyXG5cdFx0dXNlcklkcyA9IF8ucGx1Y2sgc3BhY2VVc2VycywgJ3VzZXInXHJcblx0XHR1c2VycyA9IGRiLnVzZXJzLmZpbmQoeyBfaWQ6IHsgJGluOiB1c2VySWRzIH0gfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pLmZldGNoKClcclxuXHJcblx0XHRyZXN1bHQgPSB7fVxyXG5cdFx0cmVzdWx0LlNwYWNlVXNlcnMgPSBzcGFjZVVzZXJzXHJcblx0XHRyZXN1bHQuVXNlcnMgPSB1c2Vyc1xyXG5cdFx0cmVzdWx0LkZvcm1zID0gZm9ybXNcclxuXHRcdHJlc3VsdC5GbG93cyA9IGZsb3dzXHJcblx0XHRyZXN1bHQuT3JnYW5pemF0aW9ucyA9IG9yZ2FuaXphdGlvbnNcclxuXHRcdHJlc3VsdC5Qb3NpdGlvbnMgPSBwb3NpdGlvbnNcclxuXHRcdHJlc3VsdC5Sb2xlcyA9IHJvbGVzXHJcblx0XHRyZXN1bHQuQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXNcclxuXHRcdHJlc3VsdC5TcGFjZXMgPSBzcGFjZXNcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdGRhdGE6IHJlc3VsdFxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxyXG5cclxuIiwiSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL2Rlc2lnbmVyL3N0YXJ0dXAnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY2F0ZWdvcmllcywgY29tcGFueUlkLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93cywgZm9ybXMsIG9yZywgb3JnYW5pemF0aW9ucywgcG9zaXRpb25zLCBxdWVyeSwgcmVmLCByZXN1bHQsIHJvbGVzLCBzcGFjZUlkcywgc3BhY2VVc2Vycywgc3BhY2VzLCBzcGFjZXNRdWVyeSwgdXNlcklkcywgdXNlcnM7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgY29tcGFueUlkID0gKChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuY29tcGFueUlkIDogdm9pZCAwKSB8fCAnJztcbiAgICBzcGFjZXNRdWVyeSA9IHtcbiAgICAgIGFkbWluczogY3VycmVudF91c2VyXG4gICAgfTtcbiAgICBpZiAoY29tcGFueUlkKSB7XG4gICAgICBvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY29tcGFueUlkLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFvcmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY29tcGFueUlkIGlzIGludmFsaWQnKTtcbiAgICAgIH1cbiAgICAgIHNwYWNlc1F1ZXJ5ID0ge1xuICAgICAgICBfaWQ6IG9yZy5zcGFjZVxuICAgICAgfTtcbiAgICB9XG4gICAgc3BhY2VzID0gZGIuc3BhY2VzLmZpbmQoc3BhY2VzUXVlcnkpLmZldGNoKCk7XG4gICAgc3BhY2VJZHMgPSBfLnBsdWNrKHNwYWNlcywgJ19pZCcpO1xuICAgIHF1ZXJ5ID0ge1xuICAgICAgc3BhY2U6IHtcbiAgICAgICAgJGluOiBzcGFjZUlkc1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGNvbXBhbnlJZCkge1xuICAgICAgcXVlcnkuY29tcGFueV9pZCA9IGNvbXBhbnlJZDtcbiAgICB9XG4gICAgc3BhY2VVc2VycyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgZm9ybXMgPSBkYi5mb3Jtcy5maW5kKHF1ZXJ5LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogMSxcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX2RlbGV0ZWQ6IDEsXG4gICAgICAgIGlzX3ZhbGlkOiAxLFxuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgZGVzY3JpcHRpb246IDEsXG4gICAgICAgIGhlbHBfdGV4dDogMSxcbiAgICAgICAgY3JlYXRlZDogMSxcbiAgICAgICAgY3JlYXRlZF9ieTogMSxcbiAgICAgICAgY3VycmVudDogMSxcbiAgICAgICAgY2F0ZWdvcnk6IDEsXG4gICAgICAgIGluc3RhbmNlX3N0eWxlOiAxLFxuICAgICAgICBjb21wYW55X2lkOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICBmbG93cyA9IGRiLmZsb3dzLmZpbmQocXVlcnksIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxLFxuICAgICAgICBuYW1lX2Zvcm11bGE6IDEsXG4gICAgICAgIGNvZGVfZm9ybXVsYTogMSxcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAxLFxuICAgICAgICBpc192YWxpZDogMSxcbiAgICAgICAgZm9ybTogMSxcbiAgICAgICAgZmxvd3R5cGU6IDEsXG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19kZWxldGVkOiAxLFxuICAgICAgICBjcmVhdGVkOiAxLFxuICAgICAgICBjcmVhdGVkX2J5OiAxLFxuICAgICAgICBoZWxwX3RleHQ6IDEsXG4gICAgICAgIGN1cnJlbnRfbm86IDEsXG4gICAgICAgIGN1cnJlbnQ6IDEsXG4gICAgICAgIHBlcm1zOiAxLFxuICAgICAgICBlcnJvcl9tZXNzYWdlOiAxLFxuICAgICAgICBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuICAgICAgICBjb21wYW55X2lkOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByb2xlcyA9IGRiLmZsb3dfcm9sZXMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgY2F0ZWdvcmllcyA9IGRiLmNhdGVnb3JpZXMuZmluZCh7XG4gICAgICBzcGFjZToge1xuICAgICAgICAkaW46IHNwYWNlSWRzXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICB1c2VySWRzID0gXy5wbHVjayhzcGFjZVVzZXJzLCAndXNlcicpO1xuICAgIHVzZXJzID0gZGIudXNlcnMuZmluZCh7XG4gICAgICBfaWQ6IHtcbiAgICAgICAgJGluOiB1c2VySWRzXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJlc3VsdCA9IHt9O1xuICAgIHJlc3VsdC5TcGFjZVVzZXJzID0gc3BhY2VVc2VycztcbiAgICByZXN1bHQuVXNlcnMgPSB1c2VycztcbiAgICByZXN1bHQuRm9ybXMgPSBmb3JtcztcbiAgICByZXN1bHQuRmxvd3MgPSBmbG93cztcbiAgICByZXN1bHQuT3JnYW5pemF0aW9ucyA9IG9yZ2FuaXphdGlvbnM7XG4gICAgcmVzdWx0LlBvc2l0aW9ucyA9IHBvc2l0aW9ucztcbiAgICByZXN1bHQuUm9sZXMgPSByb2xlcztcbiAgICByZXN1bHQuQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7XG4gICAgcmVzdWx0LlNwYWNlcyA9IHNwYWNlcztcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L2VuZ2luZScsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHJcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0FwcHJvdmFscyddLCAoYXBwcm92ZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0dXVmbG93TWFuYWdlci53b3JrZmxvd19lbmdpbmUoYXBwcm92ZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8sIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YToge31cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2VuZ2luZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnQXBwcm92YWxzJ10sIGZ1bmN0aW9uKGFwcHJvdmVfZnJvbV9jbGllbnQpIHtcbiAgICAgIHJldHVybiB1dWZsb3dNYW5hZ2VyLndvcmtmbG93X2VuZ2luZShhcHByb3ZlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbywgY3VycmVudF91c2VyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZHJhZnRzJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cclxuXHRcdGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheVxyXG5cclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0bmV3X2luc19pZCA9IHV1Zmxvd01hbmFnZXIuY3JlYXRlX2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbylcclxuXHJcblx0XHRcdG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogbmV3X2luc19pZCB9LCB7IGZpZWxkczogeyBzcGFjZTogMSwgZmxvdzogMSwgZmxvd192ZXJzaW9uOiAxLCBmb3JtOiAxLCBmb3JtX3ZlcnNpb246IDEgfSB9KVxyXG5cclxuXHRcdFx0aW5zZXJ0ZWRfaW5zdGFuY2VzLnB1c2gobmV3X2lucylcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlcyB9XHJcblx0XHR9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxyXG5cdFx0fVxyXG5cclxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9kcmFmdHMnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGEsIGluc2VydGVkX2luc3RhbmNlcztcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIG5ld19pbnMsIG5ld19pbnNfaWQ7XG4gICAgICBuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogbmV3X2luc19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICBmbG93OiAxLFxuICAgICAgICAgIGZsb3dfdmVyc2lvbjogMSxcbiAgICAgICAgICBmb3JtOiAxLFxuICAgICAgICAgIGZvcm1fdmVyc2lvbjogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbnNlcnRlZF9pbnN0YW5jZXMucHVzaChuZXdfaW5zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVtb3ZlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cclxuXHRcdGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheVxyXG5cclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0IyDojrflj5bkuIDkuKppbnN0YW5jZVxyXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXHJcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2VcclxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZVxyXG5cdFx0XHRzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2XkuIvnmoTkuIDkuKp1c2VyXHJcblx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZmxvd30pXHJcblxyXG5cdFx0XHRzcGFjZVVzZXJPcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcclxuXHRcdFx0XHRfaWQ6IHtcclxuXHRcdFx0XHRcdCRpbjogc3BhY2VfdXNlci5vcmdhbml6YXRpb25zXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5mZXRjaCgpO1xyXG5cclxuXHRcdFx0IyDliKTmlq3kuIDkuKrnlKjmiLfmmK/lkKbmmK/kuIDkuKppbnN0YW5jZeeahOaPkOS6pOiAheaIluiAheeUs+ivt+S6uiDmiJZTcGFjZUFkbWluXHJcblx0XHRcdGlmIChpbnN0YW5jZS5zdWJtaXR0ZXIgaXNudCBjdXJyZW50X3VzZXIpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyBjdXJyZW50X3VzZXIpIGFuZCAhV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsb3csIHNwYWNlX3VzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpXHJcblx0XHRcdFx0dGhyb3cgbmV3ICBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oKo5LiN6IO95Yig6Zmk5q2k55Sz6K+35Y2V44CCXCIpXHJcblxyXG5cdFx0XHRkZWxldGVfb2JqID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXHJcblx0XHRcdGRlbGV0ZV9vYmouZGVsZXRlZCA9IG5ldyBEYXRlXHJcblx0XHRcdGRlbGV0ZV9vYmouZGVsZXRlZF9ieSA9IGN1cnJlbnRfdXNlclxyXG5cclxuXHRcdFx0ZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGRlbGV0ZV9vYmopXHJcblxyXG5cdFx0XHQjIOWIoOmZpGluc3RhbmNlXHJcblx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXHJcblxyXG5cdFx0XHRpZiBkZWxldGVfb2JqLnN0YXRlIGlzbnQgXCJkcmFmdFwiXHJcblx0XHRcdFx0I+WPkemAgee7meW+heWkhOeQhuS6uiwgI+WPkemAgee7meiiq+S8oOmYheS6ulxyXG5cdFx0XHRcdGluYm94X3VzZXJzID0gaWYgZGVsZXRlX29iai5pbmJveF91c2VycyB0aGVuIGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgZWxzZSBbXVxyXG5cdFx0XHRcdGNjX3VzZXJzID0gaWYgZGVsZXRlX29iai5jY191c2VycyB0aGVuIGRlbGV0ZV9vYmouY2NfdXNlcnMgZWxzZSBbXVxyXG5cdFx0XHRcdHVzZXJfaWRzID0gXy51bmlxKGluYm94X3VzZXJzLmNvbmNhdChjY191c2VycykpXHJcblx0XHRcdFx0Xy5lYWNoIHVzZXJfaWRzLCAodV9pZCktPlxyXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwidGVybWluYXRlX2FwcHJvdmFsXCIsIHVfaWQpXHJcblxyXG5cdFx0XHRcdCMg5Y+R6YCB5Yig6Zmk6YCa55+l6YKu5Lu257uZ6YCa6L+H5qCh6aqM55qE55Sz6K+35Lq6L+Whq+WNleS6uu+8jOWvueeUs+ivt+S6ui/loavljZXkurrlkITnlJ/miJDkuIDmnaFzbXRwIG1lc3NhZ2VcclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcIm1vbml0b3JfZGVsZXRlX2FwcGxpY2FudFwiLCBkZWxldGVfb2JqLCBcIlwiLCBjdXJyZW50X3VzZXJfaW5mbylcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXN9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cclxuXHRcclxuXHRcdCIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVtb3ZlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhLCBpbnNlcnRlZF9pbnN0YW5jZXM7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBpbnNlcnRlZF9pbnN0YW5jZXMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBjY191c2VycywgZGVsZXRlX29iaiwgZmxvdywgaW5ib3hfdXNlcnMsIGluc3RhbmNlLCBzcGFjZSwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucywgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHVzZXJfaWRzO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlLmZsb3dcbiAgICAgIH0pO1xuICAgICAgc3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogc3BhY2VfdXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAoKGluc3RhbmNlLnN1Ym1pdHRlciAhPT0gY3VycmVudF91c2VyKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSAmJiAhV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsb3csIHNwYWNlX3VzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oKo5LiN6IO95Yig6Zmk5q2k55Sz6K+35Y2V44CCXCIpO1xuICAgICAgfVxuICAgICAgZGVsZXRlX29iaiA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIGRlbGV0ZV9vYmouZGVsZXRlZCA9IG5ldyBEYXRlO1xuICAgICAgZGVsZXRlX29iai5kZWxldGVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGRlbGV0ZV9vYmopO1xuICAgICAgZGIuaW5zdGFuY2VzLnJlbW92ZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBpZiAoZGVsZXRlX29iai5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICAgIGluYm94X3VzZXJzID0gZGVsZXRlX29iai5pbmJveF91c2VycyA/IGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgOiBbXTtcbiAgICAgICAgY2NfdXNlcnMgPSBkZWxldGVfb2JqLmNjX3VzZXJzID8gZGVsZXRlX29iai5jY191c2VycyA6IFtdO1xuICAgICAgICB1c2VyX2lkcyA9IF8udW5pcShpbmJveF91c2Vycy5jb25jYXQoY2NfdXNlcnMpKTtcbiAgICAgICAgXy5lYWNoKHVzZXJfaWRzLCBmdW5jdGlvbih1X2lkKSB7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1X2lkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcIm1vbml0b3JfZGVsZXRlX2FwcGxpY2FudFwiLCBkZWxldGVfb2JqLCBcIlwiLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaW5zZXJ0czogaW5zZXJ0ZWRfaW5zdGFuY2VzXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3N1Ym1pdCcsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHRcdHJlc3VsdCA9IFtdXHJcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XHJcblx0XHRcdHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pXHJcblx0XHRcdGlmIHIuYWxlcnRzXHJcblx0XHRcdFx0cmVzdWx0LnB1c2gocilcclxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eShpbnN0YW5jZV9mcm9tX2NsaWVudFsnaW5ib3hfdXNlcnMnXSlcclxuXHRcdFx0XHQjIOWmguaenOaYr+i9rOWPkeWwsemcgOimgee7meW9k+WJjeeUqOaIt+WPkemAgXB1c2gg6YeN5paw6K6h566XYmFkZ2VcclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyKTtcclxuXHJcblx0XHRcdGlmIF8uaXNFbXB0eShyLmFsZXJ0cylcclxuXHRcdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2Zyb21fY2xpZW50Ll9pZClcclxuXHRcdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvd1xyXG5cdFx0XHRcdGN1cnJlbnRfYXBwcm92ZSA9IGluc3RhbmNlX2Zyb21fY2xpZW50LnRyYWNlc1swXS5hcHByb3Zlc1swXVxyXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBjdXJyZW50X2FwcHJvdmUsICdkcmFmdF9zdWJtaXQnLCBjdXJyZW50X3VzZXIsIGluc3RhbmNlLmluYm94X3VzZXJzKVxyXG5cclxuXHRcdFx0IyDliKTmlq3nlLPor7fljZXmmK/lkKbliIblj5HvvIzliIblj5Hmlofku7bnu5PmnZ/mj5DphpLlj5HotbfkurpcclxuXHRcdFx0dXVmbG93TWFuYWdlci5kaXN0cmlidXRlZEluc3RhbmNlc1JlbWluZChpbnN0YW5jZV9mcm9tX2NsaWVudClcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdGRhdGE6IHsgcmVzdWx0OiByZXN1bHQgfVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxyXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3N1Ym1pdCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YSwgcmVzdWx0O1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgcmVzdWx0ID0gW107XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBjdXJyZW50X2FwcHJvdmUsIGZsb3dfaWQsIGluc3RhbmNlLCByO1xuICAgICAgciA9IHV1Zmxvd01hbmFnZXIuc3VibWl0X2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICBpZiAoci5hbGVydHMpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocik7XG4gICAgICB9XG4gICAgICBpZiAoIV8uaXNFbXB0eShpbnN0YW5jZV9mcm9tX2NsaWVudFsnaW5ib3hfdXNlcnMnXSkpIHtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcik7XG4gICAgICB9XG4gICAgICBpZiAoXy5pc0VtcHR5KHIuYWxlcnRzKSkge1xuICAgICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2Zyb21fY2xpZW50Ll9pZCk7XG4gICAgICAgIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuICAgICAgICBjdXJyZW50X2FwcHJvdmUgPSBpbnN0YW5jZV9mcm9tX2NsaWVudC50cmFjZXNbMF0uYXBwcm92ZXNbMF07XG4gICAgICAgIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBjdXJyZW50X2FwcHJvdmUsICdkcmFmdF9zdWJtaXQnLCBjdXJyZW50X3VzZXIsIGluc3RhbmNlLmluYm94X3VzZXJzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1dWZsb3dNYW5hZ2VyLmRpc3RyaWJ1dGVkSW5zdGFuY2VzUmVtaW5kKGluc3RhbmNlX2Zyb21fY2xpZW50KTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICByZXN1bHQ6IHJlc3VsdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy90ZXJtaW5hdGUnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XHJcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XHJcblx0XHRcdHRlcm1pbmF0ZV9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRlcm1pbmF0ZV9yZWFzb25cIl1cclxuXHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXVxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qmluc3RhbmNlXHJcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcclxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxyXG5cdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvd1xyXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNlXHJcblx0XHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdFx0IyDojrflj5bkuIDkuKpmbG93XHJcblx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZClcclxuXHRcdFx0IyDliKTmlq3kuIDkuKppbnN0YW5jZeaYr+WQpuS4uuWuoeaguOS4reeKtuaAgVxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKVxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNl5LiL55qE5LiA5LiqdXNlclxyXG5cdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0IyDojrflj5ZzcGFjZV91c2Vy5omA5Zyo55qE6YOo6Zeo5L+h5oGvXHJcblx0XHRcdHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcilcclxuXHRcdFx0IyDojrflj5bnu5PmnZ/oioLngrlcclxuXHRcdFx0aW5zdGFuY2VfZmxvd192ZXIgPSBudWxsXHJcblx0XHRcdGZsb3dfdmVyX2VuZF9zdGVwID0gbnVsbFxyXG5cdFx0XHRmbG93X3ZlcnMgPSBuZXcgQXJyYXlcclxuXHRcdFx0Zmxvd192ZXJzLnB1c2goZmxvdy5jdXJyZW50KVxyXG5cdFx0XHRmbG93X3ZlcnMgPSBmbG93X3ZlcnMuY29uY2F0KGZsb3cuaGlzdG9yeXMpXHJcblx0XHRcdGluc3RhbmNlX2Zsb3dfdmVyID0gXy5maW5kKGZsb3dfdmVycywgKGZfdmVyKS0+XHJcblx0XHRcdFx0cmV0dXJuIGZfdmVyLl9pZCBpcyBpbnN0YW5jZS5mbG93X3ZlcnNpb25cclxuXHRcdFx0KVxyXG5cdFx0XHRpZiBub3QgaW5zdGFuY2VfZmxvd192ZXJcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOeUs+ivt+WNleWvueW6lOa1geeoi+eJiOacrFwiKVxyXG5cdFx0XHRmbG93X3Zlcl9lbmRfc3RlcCA9IF8uZmluZChpbnN0YW5jZV9mbG93X3Zlci5zdGVwcywgKGZfc3RlcCktPlxyXG5cdFx0XHRcdHJldHVybiBmX3N0ZXAuc3RlcF90eXBlIGlzIFwiZW5kXCJcclxuXHRcdFx0KVxyXG5cdFx0XHQjIOiwg+eUqGdldEZsb3dQZXJtaXNzaW9uc+aWueazle+8jOeci+i/lOWbnueahOe7k+aenOS4reaYr+WQpuaciWFkbWluXHJcblx0XHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dfaWQsIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0XHQjIHNwYWNl55qEYWRtaW4sIOWhq+WNleS6uiDnlLPor7fkurog5pyJ5p2D6ZmQIOWPlua2iOeUs+ivt1xyXG5cdFx0XHRpZiBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpIG9yIHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpIG9yIGluc3RhbmNlLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXIgb3IgaW5zdGFuY2UuYXBwbGljYW50IGlzIGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdGlmIG5vdCB0ZXJtaW5hdGVfcmVhc29uXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLFwi6L+Y5pyq5aGr5YaZ5by65Yi257uT5p2f55Sz6K+35Y2V55qE55CG55Sx77yM5pON5L2c5aSx6LSlXCIpXHJcblxyXG5cdFx0XHRcdGluc3RhbmNlX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKS0+XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgaXMgZmFsc2VcclxuXHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlc1xyXG5cdFx0XHRcdGkgPSAwXHJcblx0XHRcdFx0d2hpbGUgaSA8IHRyYWNlcy5sZW5ndGhcclxuXHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5pc19maW5pc2hlZCBpcyBmYWxzZVxyXG5cdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXHJcblx0XHRcdFx0XHRcdHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdGggPSAwXHJcblx0XHRcdFx0XHRcdHdoaWxlIGggPCB0cmFjZXNbaV0uYXBwcm92ZXMubGVuZ3RoXHJcblx0XHRcdFx0XHRcdFx0aWYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNlLmFwcHJvdmXorrDlvZVcclxuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmp1ZGdlID0gbnVsbFxyXG5cdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmRlc2NyaXB0aW9uID0gbnVsbFxyXG5cdFx0XHRcdFx0XHRcdGgrK1xyXG5cdFx0XHRcdFx0XHQjIOaPkuWFpeW9k+WJjVRyYWNlIHRyYWNlLmFwcHJvdmXorrDlvZXvvJrlvZN0cmFjZS50eXBl5Li65Y+W5Zue44CB5by65Yi257uT5p2f5pe277yMaXNfcmVhZD10cnVl5LiUcmVhZF9kYXRl5Li65b2T5YmN5pe26Ze044CCXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS50cmFjZSA9IGluc3RhbmNlX3RyYWNlLl9pZFxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBpbnN0YW5jZV90cmFjZS5kdWVfZGF0ZVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnJlYWRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmRlc2NyaXB0aW9uID0gdGVybWluYXRlX3JlYXNvblxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuY29zdF90aW1lID0gbmV3QXBwcm92ZS5maW5pc2hfZGF0ZSAtIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxyXG5cdFx0XHRcdFx0aSsrXHJcblxyXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcclxuXHRcdFx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtpbnN0YW5jZV90cmFjZS5faWRdXHJcblx0XHRcdFx0IyB0eXBlLS0t5YGc55SoXHJcblx0XHRcdFx0IyBuZXdUcmFjZS50eXBlID0gXCJ0ZXJtaW5hdGVkXCJcclxuXHRcdFx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gZmxvd192ZXJfZW5kX3N0ZXAuX2lkXHJcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWVcclxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0bmV3VHJhY2UuZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRuZXdUcmFjZS5qdWRnZSA9IFwidGVybWluYXRlZFwiXHJcblxyXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwiY29tcGxldGVkXCJcclxuXHRcdFx0XHRzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIlxyXG5cdFx0XHRcdG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXHJcblx0XHRcdFx0b2xkX2NjX3VzZXJzID0gaW5zdGFuY2UuY2NfdXNlcnMgfHwgW11cclxuXHRcdFx0XHRvbGRfb3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzXHJcblx0XHRcdFx0dGVtcFVzZXJzID0gbmV3IEFycmF5XHJcblx0XHRcdFx0Xy5lYWNoKGluc3RhbmNlX3RyYWNlLmFwcHJvdmVzLCAobmZ0X2FwcHJvdmUpLT5cclxuXHRcdFx0XHRcdHRlbXBVc2Vycy5wdXNoKG5mdF9hcHByb3ZlLnVzZXIpXHJcblx0XHRcdFx0XHR0ZW1wVXNlcnMucHVzaChuZnRfYXBwcm92ZS5oYW5kbGVyKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQodGVtcFVzZXJzKSlcclxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdFx0XHRzZXRPYmouY2NfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcclxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHR0cmFjZXMucHVzaChuZXdUcmFjZSlcclxuXHRcdFx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzXHJcblxyXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWVcclxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2VcclxuXHJcblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcclxuXHRcdFx0XHRpZiByXHJcblx0XHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRcdFx0I+mAmuefpeWhq+WNleS6uuOAgeeUs+ivt+S6ulxyXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJzdWJtaXRfdGVybWluYXRlX2FwcGxpY2FudFwiLCBpbnMsIHRlcm1pbmF0ZV9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cclxuXHRcdFx0XHRcdCPlj5HpgIHnu5nlvoXlpITnkIbkurog6KKr5Lyg6ZiF5Lq6XHJcblx0XHRcdFx0XHRpZiBvbGRfaW5ib3hfdXNlcnNcclxuXHRcdFx0XHRcdFx0Xy5lYWNoKF8udW5pcShvbGRfaW5ib3hfdXNlcnMuY29uY2F0KG9sZF9jY191c2VycykpLCAodXNlcl9pZCktPlxyXG5cdFx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1c2VyX2lkKVxyXG5cdFx0XHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3Rlcm1pbmF0ZScsIGN1cnJlbnRfdXNlciwgW10pXHJcblxyXG5cdFx0I+WPkemAgea2iOaBr+e7meW9k+WJjeeUqOaIt1xyXG5cdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdFx0ZGF0YToge31cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cclxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy90ZXJtaW5hdGUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGZsb3csIGZsb3dfaWQsIGZsb3dfdmVyX2VuZF9zdGVwLCBmbG93X3ZlcnMsIGgsIGksIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2Zsb3dfdmVyLCBpbnN0YW5jZV9pZCwgaW5zdGFuY2VfdHJhY2UsIG5ld0FwcHJvdmUsIG5ld1RyYWNlLCBub3csIG9sZF9jY191c2Vycywgb2xkX2luYm94X3VzZXJzLCBvbGRfb3V0Ym94X3VzZXJzLCBwZXJtaXNzaW9ucywgciwgc2V0T2JqLCBzcGFjZSwgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHNwYWNlX3VzZXJfb3JnX2luZm8sIHRlbXBVc2VycywgdGVybWluYXRlX3JlYXNvbiwgdHJhY2VzO1xuICAgICAgdGVybWluYXRlX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1widGVybWluYXRlX3JlYXNvblwiXTtcbiAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl07XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuICAgICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZCk7XG4gICAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKTtcbiAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcik7XG4gICAgICBpbnN0YW5jZV9mbG93X3ZlciA9IG51bGw7XG4gICAgICBmbG93X3Zlcl9lbmRfc3RlcCA9IG51bGw7XG4gICAgICBmbG93X3ZlcnMgPSBuZXcgQXJyYXk7XG4gICAgICBmbG93X3ZlcnMucHVzaChmbG93LmN1cnJlbnQpO1xuICAgICAgZmxvd192ZXJzID0gZmxvd192ZXJzLmNvbmNhdChmbG93Lmhpc3RvcnlzKTtcbiAgICAgIGluc3RhbmNlX2Zsb3dfdmVyID0gXy5maW5kKGZsb3dfdmVycywgZnVuY3Rpb24oZl92ZXIpIHtcbiAgICAgICAgcmV0dXJuIGZfdmVyLl9pZCA9PT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICAgICAgfSk7XG4gICAgICBpZiAoIWluc3RhbmNlX2Zsb3dfdmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2V5a+55bqU5rWB56iL54mI5pysXCIpO1xuICAgICAgfVxuICAgICAgZmxvd192ZXJfZW5kX3N0ZXAgPSBfLmZpbmQoaW5zdGFuY2VfZmxvd192ZXIuc3RlcHMsIGZ1bmN0aW9uKGZfc3RlcCkge1xuICAgICAgICByZXR1cm4gZl9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJlbmRcIjtcbiAgICAgIH0pO1xuICAgICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd19pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIGlmIChwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpIHx8IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpIHx8IGluc3RhbmNlLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyIHx8IGluc3RhbmNlLmFwcGxpY2FudCA9PT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgIGlmICghdGVybWluYXRlX3JlYXNvbikge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6L+Y5pyq5aGr5YaZ5by65Yi257uT5p2f55Sz6K+35Y2V55qE55CG55Sx77yM5pON5L2c5aSx6LSlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgICByZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgPT09IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0cmFjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRyYWNlc1tpXS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICB0cmFjZXNbaV0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBoID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChoIDwgdHJhY2VzW2ldLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpZiAodHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmRlc2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudHJhY2UgPSBpbnN0YW5jZV90cmFjZS5faWQ7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5kdWVfZGF0ZSA9IGluc3RhbmNlX3RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5kZXNjcmlwdGlvbiA9IHRlcm1pbmF0ZV9yZWFzb247XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmNvc3RfdGltZSA9IG5ld0FwcHJvdmUuZmluaXNoX2RhdGUgLSBuZXdBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2luc3RhbmNlX3RyYWNlLl9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IGZsb3dfdmVyX2VuZF9zdGVwLl9pZDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWU7XG4gICAgICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICAgICAgICBzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgb2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICAgIG9sZF9jY191c2VycyA9IGluc3RhbmNlLmNjX3VzZXJzIHx8IFtdO1xuICAgICAgICBvbGRfb3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzO1xuICAgICAgICB0ZW1wVXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIF8uZWFjaChpbnN0YW5jZV90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24obmZ0X2FwcHJvdmUpIHtcbiAgICAgICAgICB0ZW1wVXNlcnMucHVzaChuZnRfYXBwcm92ZS51c2VyKTtcbiAgICAgICAgICByZXR1cm4gdGVtcFVzZXJzLnB1c2gobmZ0X2FwcHJvdmUuaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQodGVtcFVzZXJzKSk7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgc2V0T2JqLmNjX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgdHJhY2VzLnB1c2gobmV3VHJhY2UpO1xuICAgICAgICBzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBmbG93X3Zlcl9lbmRfc3RlcC5uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2U7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJzdWJtaXRfdGVybWluYXRlX2FwcGxpY2FudFwiLCBpbnMsIHRlcm1pbmF0ZV9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgICBpZiAob2xkX2luYm94X3VzZXJzKSB7XG4gICAgICAgICAgICBfLmVhY2goXy51bmlxKG9sZF9pbmJveF91c2Vycy5jb25jYXQob2xkX2NjX3VzZXJzKSksIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1c2VyX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICd0ZXJtaW5hdGUnLCBjdXJyZW50X3VzZXIsIFtdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWFzc2lnbicsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFsnX2lkJ11cclxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXHJcblx0XHRcdCMg6aqM6K+BaW5zdGFuY2XkuLrlrqHmoLjkuK3nirbmgIFcclxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSlcclxuXHRcdFx0IyDpqozor4HlvZPliY3miafooYzovaznrb7moLjnmoR0cmFjZeacque7k+adn1xyXG5cdFx0XHRsYXN0X3RyYWNlX2Zyb21fY2xpZW50ID0gXy5sYXN0KGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdKVxyXG5cdFx0XHRsYXN0X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKHQpIC0+XHJcblx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIGxhc3RfdHJhY2VfZnJvbV9jbGllbnRbXCJfaWRcIl1cclxuXHRcdFx0KVxyXG5cdFx0XHRpZiBsYXN0X3RyYWNlLmlzX2ZpbmlzaGVkIGlzIHRydWVcclxuXHRcdFx0XHRyZXR1cm5cclxuXHJcblx0XHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxyXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IHNwYWNlX2lkIH0sIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXHJcblx0XHRcdGlmIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIilcclxuXHJcblx0XHRcdGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcclxuXHRcdFx0aW5ib3hfdXNlcnNfZnJvbV9jbGllbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdXHJcblx0XHRcdHJlYXNzaWduX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVhc3NpZ25fcmVhc29uXCJdXHJcblx0XHRcdG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQpXHJcblx0XHRcdG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2Vyc19mcm9tX2NsaWVudCwgaW5ib3hfdXNlcnMpXHJcblx0XHRcdCMg6IulYXNzaWduZWU95Y6faW5ib3hfdXNlcnPvvIzor7TmmI7kuI3pnIDopoHmiafooYzovaznrb7moLjvvIzns7vnu5/ku4DkuYjpg73kuI3lgZpcclxuXHRcdFx0cmV0dXJuIGlmIG5vdF9pbl9pbmJveF91c2Vycy5sZW5ndGggaXMgMCBhbmQgbmV3X2luYm94X3VzZXJzLmxlbmd0aCBpcyAwXHJcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3RcclxuXHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHRcdFx0aSA9IDBcclxuXHRcdFx0YXBwcm92ZV91c2Vyc19oYW5kbGVycyA9IFtdXHJcblx0XHRcdHdoaWxlIGkgPCBsYXN0X3RyYWNlLmFwcHJvdmVzLmxlbmd0aFxyXG5cdFx0XHRcdGlmIG5vdF9pbl9pbmJveF91c2Vycy5pbmNsdWRlcyhsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpXHJcblx0XHRcdFx0XHRpZiBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkIGlzIGZhbHNlIGFuZCBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgaXNudCBcImNjXCIgYW5kIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSBpc250IFwiZGlzdHJpYnV0ZVwiXHJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5qdWRnZSA9IFwidGVybWluYXRlZFwiXHJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZGVzY3JpcHRpb24gPSBcIlwiXHJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uY29zdF90aW1lID0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSAtIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0XHRhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS51c2VyKVxyXG5cdFx0XHRcdFx0XHRhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5oYW5kbGVyKVxyXG5cdFx0XHRcdGkrK1xyXG5cdFx0XHQjIOWcqOWQjOS4gHRyYWNl5LiL5o+S5YWl6L2s562+5qC45pON5L2c6ICF55qEYXBwcm92ZeiusOW9lVxyXG5cdFx0XHRjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cdFx0XHRjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsIGZ1bGxuYW1lOiAxIH0gfSlcclxuXHRcdFx0YXNzaWduZWVfYXBwciA9IG5ldyBPYmplY3RcclxuXHRcdFx0YXNzaWduZWVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZFxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0YXNzaWduZWVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cclxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIucmVhZF9kYXRlID0gbm93XHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuanVkZ2UgPSBcInJlYXNzaWduZWRcIlxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmlzX3JlYWQgPSB0cnVlXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuZGVzY3JpcHRpb24gPSByZWFzc2lnbl9yZWFzb25cclxuXHRcdFx0YXNzaWduZWVfYXBwci5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmNvc3RfdGltZSA9IGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgLSBhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGVcclxuXHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKGFzc2lnbmVlX2FwcHIpXHJcblx0XHRcdCMg5a+55paw5aKe55qE5q+P5L2N5b6F5a6h5qC45Lq677yM5ZCE5aKe5Yqg5LiA5p2h5paw55qEYXBwcm92ZVxyXG5cdFx0XHRfLmVhY2gobmV3X2luYm94X3VzZXJzLCAodXNlcl9pZCkgLT5cclxuXHRcdFx0XHRuZXdfdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcl9pZCwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCB1c2VyX2lkKVxyXG5cdFx0XHRcdHVzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHNwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7IGZpZWxkczogeyBuYW1lOiAxLCBmdWxsbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0bmV3X2FwcHIgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0bmV3X2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdG5ld19hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZVxyXG5cdFx0XHRcdG5ld19hcHByLnRyYWNlID0gbGFzdF90cmFjZS5faWRcclxuXHRcdFx0XHRuZXdfYXBwci5pc19maW5pc2hlZCA9IGZhbHNlXHJcblx0XHRcdFx0bmV3X2FwcHIudXNlciA9IHVzZXJfaWRcclxuXHRcdFx0XHRuZXdfYXBwci51c2VyX25hbWUgPSBuZXdfdXNlci5uYW1lXHJcblxyXG5cdFx0XHRcdGhhbmRsZXJfaWQgPSB1c2VyX2lkXHJcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gbmV3X3VzZXJcclxuXHRcdFx0XHRhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJfaWQpXHJcblx0XHRcdFx0aWYgYWdlbnRcclxuXHRcdFx0XHRcdGluYm94X3VzZXJzX2Zyb21fY2xpZW50W2luYm94X3VzZXJzX2Zyb21fY2xpZW50LmluZGV4T2YodXNlcl9pZCldID0gYWdlbnRcclxuXHRcdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudFxyXG5cdFx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYWdlbnQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0XHRuZXdfYXBwci5hZ2VudCA9IGFnZW50XHJcblxyXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXIgPSBoYW5kbGVyX2lkXHJcblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uXHJcblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLm5hbWVcclxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXHJcblx0XHRcdFx0bmV3X2FwcHIuZnJvbV91c2VyID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0bmV3X2FwcHIuZnJvbV91c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0bmV3X2FwcHIudHlwZSA9IFwicmVhc3NpZ25cIlxyXG5cdFx0XHRcdG5ld19hcHByLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRuZXdfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGVcclxuXHRcdFx0XHRuZXdfYXBwci5pc19yZWFkID0gZmFsc2VcclxuXHRcdFx0XHRuZXdfYXBwci5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdFx0bmV3X2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld19hcHByKVxyXG5cdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChuZXdfYXBwcilcclxuXHRcdFx0KVxyXG5cclxuXHRcdFx0aW5zdGFuY2Uub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxyXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMpXHJcblx0XHRcdHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKVxyXG5cdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBpbmJveF91c2Vyc19mcm9tX2NsaWVudFxyXG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcclxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXHJcblx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gbGFzdF90cmFjZS5hcHByb3Zlc1xyXG5cdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7IF9pZDogaW5zdGFuY2VfaWQsIFwidHJhY2VzLl9pZFwiOiBsYXN0X3RyYWNlLl9pZCB9LCB7ICRzZXQ6IHNldE9iaiB9KVxyXG5cdFx0XHRpZiByXHJcblx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcclxuXHRcdFx0XHQjIOe7meiiq+WIoOmZpOeahGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXHJcblx0XHRcdFx0Xy5lYWNoKG5vdF9pbl9pbmJveF91c2VycywgKHVzZXJfaWQpIC0+XHJcblx0XHRcdFx0XHRpZiB1c2VyX2lkIGlzbnQgY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHQjIOaPkOWPlmluc3RhbmNlcy5vdXRib3hfdXNlcnPmlbDnu4TlkozloavljZXkurrjgIHnlLPor7fkurpcclxuXHRcdFx0XHRfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KVxyXG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpXHJcblx0XHRcdFx0X3VzZXJzID0gXy51bmlxKF91c2Vycy5jb25jYXQoaW5zLm91dGJveF91c2VycykpXHJcblx0XHRcdFx0Xy5lYWNoKF91c2VycywgKHVzZXJfaWQpIC0+XHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcclxuXHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdCMg57uZ5paw5Yqg5YWl55qEaW5ib3hfdXNlcnPlj5HpgIFwdXNoIG1lc3NhZ2VcclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJlYXNzaWduX25ld19pbmJveF91c2Vyc1wiLCBpbnMsIHJlYXNzaWduX3JlYXNvbiwgY3VycmVudF91c2VyX2luZm8pXHJcblxyXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmVhc3NpZ24nLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2VycylcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7fVxyXG5cdFx0fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5tZXNzYWdlIH1dIH1cclxuXHRcdH1cclxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWFzc2lnbicsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgX3VzZXJzLCBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLCBhc3NpZ25lZV9hcHByLCBjdXJyZW50X3NwYWNlX3VzZXIsIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24sIGksIGluYm94X3VzZXJzLCBpbmJveF91c2Vyc19mcm9tX2NsaWVudCwgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIGxhc3RfdHJhY2UsIGxhc3RfdHJhY2VfZnJvbV9jbGllbnQsIG5ld19pbmJveF91c2Vycywgbm90X2luX2luYm94X3VzZXJzLCBub3csIHBlcm1pc3Npb25zLCByLCByZWFzc2lnbl9yZWFzb24sIHNldE9iaiwgc3BhY2UsIHNwYWNlX2lkO1xuICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFsnX2lkJ107XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpO1xuICAgICAgbGFzdF90cmFjZV9mcm9tX2NsaWVudCA9IF8ubGFzdChpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSk7XG4gICAgICBsYXN0X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdC5faWQgPT09IGxhc3RfdHJhY2VfZnJvbV9jbGllbnRbXCJfaWRcIl07XG4gICAgICB9KTtcbiAgICAgIGlmIChsYXN0X3RyYWNlLmlzX2ZpbmlzaGVkID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcik7XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBzcGFjZV9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBhZG1pbnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKTtcbiAgICAgIH1cbiAgICAgIGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICBpbmJveF91c2Vyc19mcm9tX2NsaWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl07XG4gICAgICByZWFzc2lnbl9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlYXNzaWduX3JlYXNvblwiXTtcbiAgICAgIG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQpO1xuICAgICAgbmV3X2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzX2Zyb21fY2xpZW50LCBpbmJveF91c2Vycyk7XG4gICAgICBpZiAobm90X2luX2luYm94X3VzZXJzLmxlbmd0aCA9PT0gMCAmJiBuZXdfaW5ib3hfdXNlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIGkgPSAwO1xuICAgICAgYXBwcm92ZV91c2Vyc19oYW5kbGVycyA9IFtdO1xuICAgICAgd2hpbGUgKGkgPCBsYXN0X3RyYWNlLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICBpZiAobm90X2luX2luYm94X3VzZXJzLmluY2x1ZGVzKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcikpIHtcbiAgICAgICAgICBpZiAobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS50eXBlICE9PSBcImNjXCIgJiYgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS50eXBlICE9PSBcImRpc3RyaWJ1dGVcIikge1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5kZXNjcmlwdGlvbiA9IFwiXCI7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmNvc3RfdGltZSA9IGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZmluaXNoX2RhdGUgLSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS51c2VyKTtcbiAgICAgICAgICAgIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMucHVzaChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFzc2lnbmVlX2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgYXNzaWduZWVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgYXNzaWduZWVfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2U7XG4gICAgICBhc3NpZ25lZV9hcHByLnRyYWNlID0gbGFzdF90cmFjZS5faWQ7XG4gICAgICBhc3NpZ25lZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIGFzc2lnbmVlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICBhc3NpZ25lZV9hcHByLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgYXNzaWduZWVfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGU7XG4gICAgICBhc3NpZ25lZV9hcHByLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgIGFzc2lnbmVlX2FwcHIuanVkZ2UgPSBcInJlYXNzaWduZWRcIjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmRlc2NyaXB0aW9uID0gcmVhc3NpZ25fcmVhc29uO1xuICAgICAgYXNzaWduZWVfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgYXNzaWduZWVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgYXNzaWduZWVfYXBwci5jb3N0X3RpbWUgPSBhc3NpZ25lZV9hcHByLmZpbmlzaF9kYXRlIC0gYXNzaWduZWVfYXBwci5zdGFydF9kYXRlO1xuICAgICAgbGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKGFzc2lnbmVlX2FwcHIpO1xuICAgICAgXy5lYWNoKG5ld19pbmJveF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICB2YXIgYWdlbnQsIGhhbmRsZXJfaWQsIGhhbmRsZXJfaW5mbywgbmV3X2FwcHIsIG5ld191c2VyLCBzcGFjZV91c2VyLCB1c2VyX29yZ2FuaXphdGlvbjtcbiAgICAgICAgbmV3X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHVzZXJfaWQsIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIHVzZXJfaWQpO1xuICAgICAgICB1c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShzcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3X2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2U7XG4gICAgICAgIG5ld19hcHByLnRyYWNlID0gbGFzdF90cmFjZS5faWQ7XG4gICAgICAgIG5ld19hcHByLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld19hcHByLnVzZXIgPSB1c2VyX2lkO1xuICAgICAgICBuZXdfYXBwci51c2VyX25hbWUgPSBuZXdfdXNlci5uYW1lO1xuICAgICAgICBoYW5kbGVyX2lkID0gdXNlcl9pZDtcbiAgICAgICAgaGFuZGxlcl9pbmZvID0gbmV3X3VzZXI7XG4gICAgICAgIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgdXNlcl9pZCk7XG4gICAgICAgIGlmIChhZ2VudCkge1xuICAgICAgICAgIGluYm94X3VzZXJzX2Zyb21fY2xpZW50W2luYm94X3VzZXJzX2Zyb21fY2xpZW50LmluZGV4T2YodXNlcl9pZCldID0gYWdlbnQ7XG4gICAgICAgICAgaGFuZGxlcl9pZCA9IGFnZW50O1xuICAgICAgICAgIGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgICAgX2lkOiBhZ2VudFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbmV3X2FwcHIuYWdlbnQgPSBhZ2VudDtcbiAgICAgICAgfVxuICAgICAgICBuZXdfYXBwci5oYW5kbGVyID0gaGFuZGxlcl9pZDtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5uYW1lO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgICBuZXdfYXBwci5mcm9tX3VzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIG5ld19hcHByLmZyb21fdXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgbmV3X2FwcHIudHlwZSA9IFwicmVhc3NpZ25cIjtcbiAgICAgICAgbmV3X2FwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3X2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICBuZXdfYXBwci5pc19yZWFkID0gZmFsc2U7XG4gICAgICAgIG5ld19hcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgIG5ld19hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld19hcHByKTtcbiAgICAgICAgcmV0dXJuIGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChuZXdfYXBwcik7XG4gICAgICB9KTtcbiAgICAgIGluc3RhbmNlLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcik7XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMpO1xuICAgICAgc2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpO1xuICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQ7XG4gICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlc1wiXSA9IGxhc3RfdHJhY2UuYXBwcm92ZXM7XG4gICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiBsYXN0X3RyYWNlLl9pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgIH0pO1xuICAgICAgaWYgKHIpIHtcbiAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICBfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgaWYgKHVzZXJfaWQgIT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5hcHBsaWNhbnQpO1xuICAgICAgICBfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKTtcbiAgICAgICAgX3VzZXJzID0gXy51bmlxKF91c2Vycy5jb25jYXQoaW5zLm91dGJveF91c2VycykpO1xuICAgICAgICBfLmVhY2goX3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmVhc3NpZ25fbmV3X2luYm94X3VzZXJzXCIsIGlucywgcmVhc3NpZ25fcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlYXNzaWduJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWxvY2F0ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxyXG5cclxuXHRcdFx0bGFzdF90cmFjZSA9IF8ubGFzdChpbnN0YW5jZS50cmFjZXMpXHJcblxyXG5cdFx0XHQjIOmqjOivgWxvZ2luIHVzZXJfaWTlr7nor6XmtYHnqIvmnInnrqHnkIbnlLPor7fljZXnmoTmnYPpmZBcclxuXHRcdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKVxyXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGluc3RhbmNlLnNwYWNlLCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxyXG5cdFx0XHRpZiAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpXHJcblxyXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXHJcblx0XHRcdGluc3RhbmNlX2lkID0gbGFzdF90cmFjZS5pbnN0YW5jZVxyXG5cdFx0XHRpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXHJcblx0XHRcdHJlbG9jYXRlX2luYm94X3VzZXJzID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9pbmJveF91c2Vyc1wiXVxyXG5cdFx0XHRyZWxvY2F0ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9jb21tZW50XCJdXHJcblx0XHRcdHJlbG9jYXRlX25leHRfc3RlcCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfbmV4dF9zdGVwXCJdXHJcblx0XHRcdG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgcmVsb2NhdGVfaW5ib3hfdXNlcnMpXHJcblx0XHRcdG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShyZWxvY2F0ZV9pbmJveF91c2VycywgaW5ib3hfdXNlcnMpXHJcblxyXG5cdFx0XHRhcHByb3ZlX3VzZXJzID0gW11cclxuXHJcblx0XHRcdCMg6I635Y+W5LiA5LiqZmxvd1xyXG5cdFx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXHJcblx0XHRcdG5leHRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcmVsb2NhdGVfbmV4dF9zdGVwKVxyXG5cdFx0XHRuZXh0X3N0ZXBfdHlwZSA9IG5leHRfc3RlcC5zdGVwX3R5cGVcclxuXHRcdFx0bmV4dF9zdGVwX25hbWUgPSBuZXh0X3N0ZXAubmFtZVxyXG5cdFx0XHRjdXJyZW50X3NldHAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcClcclxuXHRcdFx0Y3VycmVudF9zZXRwX3R5cGUgPSBjdXJyZW50X3NldHAuc3RlcF90eXBlXHJcblxyXG5cdFx0XHR0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXNcclxuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0XHQjIOmHjeWumuS9jeeahOaXtuWAmeS9v+eUqGFwcHJvdmUudmFsdWVz5ZCI5bm2IGluc3RhbmNlLnZhbHVlc+eUn+aIkOaWsOeahGluc3RhbmNlLnZhbHVlcyAjMTMyOFxyXG5cdFx0XHRzZXRPYmoudmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxyXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxyXG5cdFx0XHRpID0gMFxyXG5cdFx0XHR3aGlsZSBpIDwgdHJhY2VzLmxlbmd0aFxyXG5cdFx0XHRcdGlmIHRyYWNlc1tpXS5faWQgaXMgbGFzdF90cmFjZS5faWRcclxuXHRcdFx0XHRcdGlmIG5vdCB0cmFjZXNbaV0uYXBwcm92ZXNcclxuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzID0gbmV3IEFycmF5XHJcblx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNlLmFwcHJvdmXorrDlvZVcclxuXHRcdFx0XHRcdGggPSAwXHJcblx0XHRcdFx0XHR3aGlsZSBoIDwgdHJhY2VzW2ldLmFwcHJvdmVzLmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgaXMgZmFsc2UgYW5kIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlIGlzbnQgXCJjY1wiIGFuZCB0cmFjZXNbaV0uYXBwcm92ZXNbaF0udHlwZSBpc250IFwiZGlzdHJpYnV0ZVwiXHJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0ucmVhZF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfcmVhZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uY29zdF90aW1lID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlIC0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdFx0XHRhcHByb3ZlX3VzZXJzLnB1c2godHJhY2VzW2ldLmFwcHJvdmVzW2hdLnVzZXIpXHJcblxyXG5cdFx0XHRcdFx0XHRcdCMgYmVnaW4g6KKr6YeN5a6a5L2N57uZQe+8jOWGjeiiq+mHjeWumuS9jei1sO+8jOS5i+WJjUHnmoTmhI/op4HlnKjmhI/op4HmoI/kuK3mmL7npLrkuI3lh7rmnaXkuobjgIIgIzE5MjFcclxuXHRcdFx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc2lnbl9zaG93ID09IHRydWVcclxuXHRcdFx0XHRcdFx0XHRcdHRhID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdXHJcblx0XHRcdFx0XHRcdFx0XHRzYW1lVHJhY2VzID0gXy5maWx0ZXIgdHJhY2VzLCAodCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdC5zdGVwID09IHRyYWNlc1tpXS5zdGVwXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0bCA9IHNhbWVUcmFjZXMubGVuZ3RoIC0gMVxyXG5cdFx0XHRcdFx0XHRcdFx0c2lnblNob3dBcHByb3ZlSWQgPSBudWxsXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgbCA+IC0xXHJcblx0XHRcdFx0XHRcdFx0XHRcdF8uZWFjaCBzYW1lVHJhY2VzW2xdLmFwcHJvdmVzLCAoYSktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIGEudXNlciA9PSB0YS51c2VyICYmIGEuanVkZ2UgIT0gXCJ0ZXJtaW5hdGVkXCIgJiYgYS5kZXNjcmlwdGlvbiAmJiAhc2lnblNob3dBcHByb3ZlSWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNpZ25TaG93QXBwcm92ZUlkID0gYS5faWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0bC0tXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgc2lnblNob3dBcHByb3ZlSWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGkgPSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlIHRpIDwgdHJhY2VzLmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFoID0gMFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlIGFoIDwgdHJhY2VzW3RpXS5hcHByb3Zlcy5sZW5ndGhcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIHRyYWNlc1t0aV0uYXBwcm92ZXNbYWhdLl9pZCA9PSBzaWduU2hvd0FwcHJvdmVJZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbdGldLmFwcHJvdmVzW2FoXS5zaWduX3Nob3cgPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWgrK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRpKytcclxuXHRcdFx0XHRcdFx0XHQjIGVuZCDooqvph43lrprkvY3nu5lB77yM5YaN6KKr6YeN5a6a5L2N6LWw77yM5LmL5YmNQeeahOaEj+ingeWcqOaEj+ingeagj+S4reaYvuekuuS4jeWHuuadpeS6huOAgiAjMTkyMVxyXG5cclxuXHRcdFx0XHRcdFx0aCsrXHJcblxyXG5cdFx0XHRcdFx0IyDlnKjlkIzkuIB0cmFjZeS4i+aPkuWFpemHjeWumuS9jeaTjeS9nOiAheeahGFwcHJvdmXorrDlvZVcclxuXHRcdFx0XHRcdGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdFx0XHRjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHsgZmllbGRzOiB7IG5hbWU6IDEgLCBmdWxsbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIudHJhY2UgPSB0cmFjZXNbaV0uX2lkXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci51c2VyID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvblxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmR1ZV9kYXRlID0gdHJhY2VzW2ldLmR1ZV9kYXRlXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnJlYWRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5qdWRnZSA9IFwicmVsb2NhdGVkXCJcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaXNfcmVhZCA9IHRydWVcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuZGVzY3JpcHRpb24gPSByZWxvY2F0ZV9jb21tZW50XHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5jb3N0X3RpbWUgPSByZWxvY2F0ZV9hcHByLmZpbmlzaF9kYXRlIC0gcmVsb2NhdGVfYXBwci5zdGFydF9kYXRlXHJcblx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChyZWxvY2F0ZV9hcHByKVxyXG5cclxuXHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2XorrDlvZVcclxuXHRcdFx0XHRcdHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdHRyYWNlc1tpXS5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0dHJhY2VzW2ldLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIlxyXG5cclxuXHRcdFx0XHRpKytcclxuXHJcblx0XHRcdGlmIG5leHRfc3RlcF90eXBlIGlzIFwiZW5kXCJcclxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXHJcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdXHJcblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0bmV3VHJhY2Uuc3RlcCA9IHJlbG9jYXRlX25leHRfc3RlcFxyXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZVxyXG5cdFx0XHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cclxuXHRcdFx0XHQjIOabtOaWsGluc3RhbmNl6K6w5b2VXHJcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIlxyXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IFtdXHJcblx0XHRcdFx0c2V0T2JqLmZpbmFsX2RlY2lzaW9uID0gXCJ0ZXJtaW5hdGVkXCJcclxuXHRcdFx0XHRzZXRPYmouZmluaXNoX2RhdGUgPSBuZXcgRGF0ZVxyXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lXHJcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IGZhbHNlXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXHJcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdXHJcblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXBcclxuXHRcdFx0XHRuZXdUcmFjZS5uYW1lID0gbmV4dF9zdGVwX25hbWVcclxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0bmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUobmV4dF9zdGVwLnRpbWVvdXRfaG91cnMpXHJcblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMgPSBbXVxyXG5cdFx0XHRcdF8uZWFjaChyZWxvY2F0ZV9pbmJveF91c2VycywgKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpLT5cclxuXHRcdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2UuYXBwcm92ZeiusOW9lVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2VcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkXHJcblxyXG5cdFx0XHRcdFx0dXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lXHJcblxyXG5cdFx0XHRcdFx0aGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkXHJcblx0XHRcdFx0XHRoYW5kbGVyX2luZm8gPSB1c2VyX2luZm9cclxuXHRcdFx0XHRcdGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpXHJcblx0XHRcdFx0XHRpZiBhZ2VudFxyXG5cdFx0XHRcdFx0XHRyZWxvY2F0ZV9pbmJveF91c2Vyc1tpZHhdID0gYWdlbnRcclxuXHRcdFx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50XHJcblx0XHRcdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFnZW50IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnRcclxuXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXHJcblxyXG5cdFx0XHRcdFx0bmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZClcclxuXHRcdFx0XHRcdCMg6I635Y+WbmV4dF9zdGVwX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cclxuXHRcdFx0XHRcdG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cclxuXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBuZXdUcmFjZS5kdWVfZGF0ZVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2VcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKVxyXG5cdFx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSByZWxvY2F0ZV9pbmJveF91c2Vyc1xyXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiXHJcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWVcclxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBuZXh0X3N0ZXAubGluZXMpXHJcblxyXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXHJcblx0XHRcdGluc3RhbmNlLm91dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQoaW5ib3hfdXNlcnMpLmNvbmNhdChhcHByb3ZlX3VzZXJzKVxyXG5cdFx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2VycylcclxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XHJcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZVxyXG5cdFx0XHR0cmFjZXMucHVzaChuZXdUcmFjZSlcclxuXHRcdFx0c2V0T2JqLnRyYWNlcyA9IHRyYWNlc1xyXG5cclxuXHRcdFx0aWYgc2V0T2JqLnN0YXRlID09ICdjb21wbGV0ZWQnXHJcblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9iaiwgJHVuc2V0OiB7ZmluaXNoX2RhdGU6IDF9fSlcclxuXHJcblx0XHRcdGlmIHJcclxuXHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRcdCMg57uZ6KKr5Yig6Zmk55qEaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXHJcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcclxuXHRcdFx0XHRfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCAodXNlcl9pZCktPlxyXG5cdFx0XHRcdFx0aWYgdXNlcl9pZCBpc250IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcclxuXHRcdFx0XHQpXHJcblx0XHRcdFx0IyDmj5Dlj5ZpbnN0YW5jZXMub3V0Ym94X3VzZXJz5pWw57uE5ZKM5aGr5Y2V5Lq644CB55Sz6K+35Lq6XHJcblx0XHRcdFx0X3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRcdFx0X3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudClcclxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKVxyXG5cdFx0XHRcdF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKVxyXG5cdFx0XHRcdF8uZWFjaChfdXNlcnMsICh1c2VyX2lkKS0+XHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcclxuXHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdCMg57uZ5paw5Yqg5YWl55qEaW5ib3hfdXNlcnPlj5HpgIFwdXNoIG1lc3NhZ2VcclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJlYXNzaWduX25ld19pbmJveF91c2Vyc1wiLCBpbnMsIHJlbG9jYXRlX2NvbW1lbnQsIGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cclxuXHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5FcclxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlbG9jYXRlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHt9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YToge2Vycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbG9jYXRlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBfdXNlcnMsIGFoLCBhcHByb3ZlX3VzZXJzLCBjdXJyZW50X3NldHAsIGN1cnJlbnRfc2V0cF90eXBlLCBjdXJyZW50X3NwYWNlX3VzZXIsIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24sIGZsb3csIGgsIGksIGluYm94X3VzZXJzLCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbCwgbGFzdF90cmFjZSwgbmV3VHJhY2UsIG5ld19pbmJveF91c2VycywgbmV4dF9zdGVwLCBuZXh0X3N0ZXBfbmFtZSwgbmV4dF9zdGVwX3R5cGUsIG5vdF9pbl9pbmJveF91c2Vycywgbm93LCBwZXJtaXNzaW9ucywgciwgcmVsb2NhdGVfYXBwciwgcmVsb2NhdGVfY29tbWVudCwgcmVsb2NhdGVfaW5ib3hfdXNlcnMsIHJlbG9jYXRlX25leHRfc3RlcCwgc2FtZVRyYWNlcywgc2V0T2JqLCBzaWduU2hvd0FwcHJvdmVJZCwgc3BhY2UsIHNwYWNlX2lkLCB0YSwgdGksIHRyYWNlcztcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBsYXN0X3RyYWNlID0gXy5sYXN0KGluc3RhbmNlLnRyYWNlcyk7XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpO1xuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShpbnN0YW5jZS5zcGFjZSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBhZG1pbnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKTtcbiAgICAgIH1cbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBpbnN0YW5jZV9pZCA9IGxhc3RfdHJhY2UuaW5zdGFuY2U7XG4gICAgICBpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgcmVsb2NhdGVfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX2luYm94X3VzZXJzXCJdO1xuICAgICAgcmVsb2NhdGVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfY29tbWVudFwiXTtcbiAgICAgIHJlbG9jYXRlX25leHRfc3RlcCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfbmV4dF9zdGVwXCJdO1xuICAgICAgbm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCByZWxvY2F0ZV9pbmJveF91c2Vycyk7XG4gICAgICBuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UocmVsb2NhdGVfaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzKTtcbiAgICAgIGFwcHJvdmVfdXNlcnMgPSBbXTtcbiAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgICBuZXh0X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHJlbG9jYXRlX25leHRfc3RlcCk7XG4gICAgICBuZXh0X3N0ZXBfdHlwZSA9IG5leHRfc3RlcC5zdGVwX3R5cGU7XG4gICAgICBuZXh0X3N0ZXBfbmFtZSA9IG5leHRfc3RlcC5uYW1lO1xuICAgICAgY3VycmVudF9zZXRwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBsYXN0X3RyYWNlLnN0ZXApO1xuICAgICAgY3VycmVudF9zZXRwX3R5cGUgPSBjdXJyZW50X3NldHAuc3RlcF90eXBlO1xuICAgICAgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldE9iai52YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgdHJhY2VzLmxlbmd0aCkge1xuICAgICAgICBpZiAodHJhY2VzW2ldLl9pZCA9PT0gbGFzdF90cmFjZS5faWQpIHtcbiAgICAgICAgICBpZiAoIXRyYWNlc1tpXS5hcHByb3Zlcykge1xuICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzID0gbmV3IEFycmF5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBoID0gMDtcbiAgICAgICAgICB3aGlsZSAoaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlICE9PSBcImNjXCIgJiYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnR5cGUgIT09IFwiZGlzdHJpYnV0ZVwiKSB7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uY29zdF90aW1lID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlIC0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgIGFwcHJvdmVfdXNlcnMucHVzaCh0cmFjZXNbaV0uYXBwcm92ZXNbaF0udXNlcik7XG4gICAgICAgICAgICAgIGlmICh0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc2lnbl9zaG93ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGEgPSB0cmFjZXNbaV0uYXBwcm92ZXNbaF07XG4gICAgICAgICAgICAgICAgc2FtZVRyYWNlcyA9IF8uZmlsdGVyKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuc3RlcCA9PT0gdHJhY2VzW2ldLnN0ZXA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbCA9IHNhbWVUcmFjZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBzaWduU2hvd0FwcHJvdmVJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGwgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgXy5lYWNoKHNhbWVUcmFjZXNbbF0uYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEudXNlciA9PT0gdGEudXNlciAmJiBhLmp1ZGdlICE9PSBcInRlcm1pbmF0ZWRcIiAmJiBhLmRlc2NyaXB0aW9uICYmICFzaWduU2hvd0FwcHJvdmVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWduU2hvd0FwcHJvdmVJZCA9IGEuX2lkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGwtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNpZ25TaG93QXBwcm92ZUlkKSB7XG4gICAgICAgICAgICAgICAgICB0aSA9IDA7XG4gICAgICAgICAgICAgICAgICB3aGlsZSAodGkgPCB0cmFjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGFoIDwgdHJhY2VzW3RpXS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uX2lkID09PSBzaWduU2hvd0FwcHJvdmVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uc2lnbl9zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYWgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aSsrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgICAgICBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci50cmFjZSA9IHRyYWNlc1tpXS5faWQ7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmR1ZV9kYXRlID0gdHJhY2VzW2ldLmR1ZV9kYXRlO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuanVkZ2UgPSBcInJlbG9jYXRlZFwiO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5kZXNjcmlwdGlvbiA9IHJlbG9jYXRlX2NvbW1lbnQ7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmNvc3RfdGltZSA9IHJlbG9jYXRlX2FwcHIuZmluaXNoX2RhdGUgLSByZWxvY2F0ZV9hcHByLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gocmVsb2NhdGVfYXBwcik7XG4gICAgICAgICAgdHJhY2VzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICB0cmFjZXNbaV0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgdHJhY2VzW2ldLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIjtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBpZiAobmV4dF9zdGVwX3R5cGUgPT09IFwiZW5kXCIpIHtcbiAgICAgICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdO1xuICAgICAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXA7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmFwcHJvdmVzID0gW107XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IFtdO1xuICAgICAgICBzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgc2V0T2JqLmZpbmlzaF9kYXRlID0gbmV3IERhdGU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXA7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUobmV4dF9zdGVwLnRpbWVvdXRfaG91cnMpO1xuICAgICAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgICAgICBfLmVhY2gocmVsb2NhdGVfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpIHtcbiAgICAgICAgICB2YXIgYWdlbnQsIGhhbmRsZXJfaWQsIGhhbmRsZXJfaW5mbywgbmV3QXBwcm92ZSwgbmV4dF9zdGVwX3NwYWNlX3VzZXIsIG5leHRfc3RlcF91c2VyX29yZ19pbmZvLCB1c2VyX2luZm87XG4gICAgICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICBuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgICAgICB1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKG5leHRfc3RlcF91c2VyX2lkLCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgaGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgICAgIGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mbztcbiAgICAgICAgICBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIG5leHRfc3RlcF91c2VyX2lkKTtcbiAgICAgICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgICAgIHJlbG9jYXRlX2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudDtcbiAgICAgICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgICAgIGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICBfaWQ6IGFnZW50XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGhhbmRsZXJfaWQ7XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgICBuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKTtcbiAgICAgICAgICBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhuZXh0X3N0ZXBfc3BhY2VfdXNlcik7XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICBuZXdBcHByb3ZlLmR1ZV9kYXRlID0gbmV3VHJhY2UuZHVlX2RhdGU7XG4gICAgICAgICAgbmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2U7XG4gICAgICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKTtcbiAgICAgICAgICByZXR1cm4gbmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IHJlbG9jYXRlX2luYm94X3VzZXJzO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSB1dWZsb3dNYW5hZ2VyLmdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdChmbG93LnRpbWVvdXRfYXV0b19zdWJtaXQsIG5leHRfc3RlcC5saW5lcyk7XG4gICAgICB9XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChpbmJveF91c2VycykuY29uY2F0KGFwcHJvdmVfdXNlcnMpO1xuICAgICAgc2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpO1xuICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgc2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG4gICAgICB0cmFjZXMucHVzaChuZXdUcmFjZSk7XG4gICAgICBzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuICAgICAgaWYgKHNldE9iai5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmosXG4gICAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICBmaW5pc2hfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocikge1xuICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIF8uZWFjaChub3RfaW5faW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICBpZiAodXNlcl9pZCAhPT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF91c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudCk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpO1xuICAgICAgICBfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSk7XG4gICAgICAgIF8uZWFjaChfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWxvY2F0ZV9jb21tZW50LCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlbG9jYXRlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9hcmNoaXZlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxyXG5cdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdXHJcblx0XHRcdCMg6I635Y+W5LiA5LiqaW5zdGFuY2VcclxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXHJcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2VcclxuXHRcdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0XHQjIOWIpOaWreS4gOS4qmluc3RhbmNl5piv5ZCm5Li65a6M5oiQ5bm25LiU5pyq5b2S5qGj54q25oCBXHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZUZpbmlzaGVkQW5kTm90QXJjaGlldmVkKGluc3RhbmNlKVxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNl5LiL55qE5LiA5LiqdXNlclxyXG5cdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0IyDliKTmlq3kuIDkuKrnlKjmiLfmmK/lkKbmmK/kuIDkuKppbnN0YW5jZeeahOaPkOS6pOiAhSDmiJbogIVzcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VTdWJtaXR0ZXJPckFwcGxpY2FudE9yU3BhY2VBZG1pbihpbnN0YW5jZSwgY3VycmVudF91c2VyLCBzcGFjZSlcclxuXHRcdFx0XHJcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3RcclxuXHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gdHJ1ZVxyXG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZVxyXG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcclxuXHJcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdGRhdGE6IHt9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XHJcblx0XHJcblx0XHQiLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2FyY2hpdmUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgc2V0T2JqLCBzcGFjZSwgc3BhY2VfaWQsIHNwYWNlX3VzZXI7XG4gICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlRmluaXNoZWRBbmROb3RBcmNoaWV2ZWQoaW5zdGFuY2UpO1xuICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4oaW5zdGFuY2UsIGN1cnJlbnRfdXNlciwgc3BhY2UpO1xuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IHRydWU7XG4gICAgICBzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZTtcbiAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLnN0YXJ0dXAgLT5cclxuXHRXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSBcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L2luc3RhbmNlc1wiLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0XHR0cnlcclxuXHRcdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cclxuXHRcdFx0cXVlcnkgPSByZXEucXVlcnlcclxuXHRcdFx0c3BhY2VfaWQgPSBxdWVyeS5zcGFjZV9pZFxyXG5cdFx0XHRmbG93X2lkID0gcXVlcnkuZmxvd19pZFxyXG5cdFx0XHR0eXBlID0gcGFyc2VJbnQocXVlcnkudHlwZSlcclxuXHRcdFx0dGltZXpvbmVvZmZzZXQgPSBwYXJzZUludChxdWVyeS50aW1lem9uZW9mZnNldClcclxuXHJcblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBmbG93X2lkIH0sIHsgZmllbGRzOiB7IGZvcm06IDEgfSB9KVxyXG5cdFx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZmxvdy5mb3JtIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KVxyXG5cclxuXHRcdFx0Zm9ybV9uYW1lID0gZm9ybS5uYW1lXHJcblx0XHRcdGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHNcclxuXHRcdFx0dGFibGVfZmllbGRzID0gbmV3IEFycmF5XHJcblx0XHRcdF8uZWFjaCBmb3JtLmN1cnJlbnQuZmllbGRzLCAoZmllbGQpIC0+XHJcblx0XHRcdFx0aWYgZmllbGQudHlwZSBpcyBcInRhYmxlXCJcclxuXHRcdFx0XHRcdHRhYmxlX2ZpZWxkcy5wdXNoKGZpZWxkKVxyXG5cclxuXHRcdFx0aW5zX3RvX3hscyA9IG5ldyBBcnJheVxyXG5cdFx0XHRzdGFydF9kYXRlID0gbnVsbFxyXG5cdFx0XHRlbmRfZGF0ZSA9IG51bGxcclxuXHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHRcdFx0c2VsZWN0b3IgPSB7IHNwYWNlOiBzcGFjZV9pZCwgZmxvdzogZmxvd19pZCB9XHJcblx0XHRcdHNlbGVjdG9yLnN0YXRlID0geyRpbjogW1wicGVuZGluZ1wiLCBcImNvbXBsZXRlZFwiXX1cclxuXHRcdFx0dWlkID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VfaWQpXHJcblx0XHRcdGlmICFzcGFjZVxyXG5cdFx0XHRcdHNlbGVjdG9yLnN0YXRlID0gXCJub25lXCJcclxuXHJcblx0XHRcdGlmICFzcGFjZS5hZG1pbnMuaW5jbHVkZXModWlkKVxyXG5cdFx0XHRcdGZsb3dfaWRzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE15QWRtaW5Pck1vbml0b3JGbG93cyhzcGFjZV9pZCwgdWlkKVxyXG5cdFx0XHRcdGlmICFmbG93X2lkcy5pbmNsdWRlcyhzZWxlY3Rvci5mbG93KVxyXG5cdFx0XHRcdFx0c2VsZWN0b3IuJG9yID0gW3tzdWJtaXR0ZXI6IHVpZH0sIHthcHBsaWNhbnQ6IHVpZH0sIHtpbmJveF91c2VyczogdWlkfSwge291dGJveF91c2VyczogdWlkfV1cclxuXHJcblx0XHRcdCMgMC3mnKzmnIhcclxuXHRcdFx0aWYgdHlwZSBpcyAwXHJcblx0XHRcdFx0c3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSlcclxuXHRcdFx0XHRzZWxlY3Rvci5zdWJtaXRfZGF0ZSA9IHsgJGd0ZTogc3RhcnRfZGF0ZSB9XHJcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XHJcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cclxuXHRcdFx0XHR9KS5mZXRjaCgpXHJcblx0XHRcdCMgMS3kuIrmnIhcclxuXHRcdFx0ZWxzZSBpZiB0eXBlIGlzIDFcclxuXHRcdFx0XHRsYXN0X21vbnRoX2RhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpIC0gMTAwMCAqIDYwICogNjAgKiAyNClcclxuXHRcdFx0XHRzdGFydF9kYXRlID0gbmV3IERhdGUobGFzdF9tb250aF9kYXRlLmdldEZ1bGxZZWFyKCksIGxhc3RfbW9udGhfZGF0ZS5nZXRNb250aCgpLCAxKVxyXG5cdFx0XHRcdGVuZF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKVxyXG5cdFx0XHRcdHNlbGVjdG9yLnN1Ym1pdF9kYXRlID0geyAkZ3RlOiBzdGFydF9kYXRlLCAkbHRlOiBlbmRfZGF0ZSB9XHJcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XHJcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cclxuXHRcdFx0XHR9KS5mZXRjaCgpXHJcblx0XHRcdCMgMi3mlbTkuKrlubTluqZcclxuXHRcdFx0ZWxzZSBpZiB0eXBlIGlzIDJcclxuXHRcdFx0XHRzdGFydF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIDAsIDEpXHJcblx0XHRcdFx0c2VsZWN0b3Iuc3VibWl0X2RhdGUgPSB7ICRndGU6IHN0YXJ0X2RhdGUgfVxyXG5cdFx0XHRcdGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZChzZWxlY3Rvciwge1xyXG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XHJcblx0XHRcdFx0fSkuZmV0Y2goKVxyXG5cdFx0XHQjIDMt5omA5pyJXHJcblx0XHRcdGVsc2UgaWYgdHlwZSBpcyAzXHJcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XHJcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cclxuXHRcdFx0XHR9KS5mZXRjaCgpXHJcblxyXG5cdFx0XHRlanMgPSByZXF1aXJlKCdlanMnKVxyXG5cdFx0XHRzdHIgPSBBc3NldHMuZ2V0VGV4dCgnc2VydmVyL2Vqcy9leHBvcnRfaW5zdGFuY2VzLmVqcycpXHJcblxyXG5cdFx0XHQjIOajgOa1i+aYr+WQpuacieivreazlemUmeivr1xyXG5cdFx0XHRlanNMaW50ID0gcmVxdWlyZSgnZWpzLWxpbnQnKVxyXG5cdFx0XHRlcnJvcl9vYmogPSBlanNMaW50LmxpbnQoc3RyLCB7fSlcclxuXHRcdFx0aWYgZXJyb3Jfb2JqXHJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBcIj09PS9hcGkvd29ya2Zsb3cvZXhwb3J0OlwiXHJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBlcnJvcl9vYmpcclxuXHJcblx0XHRcdHRlbXBsYXRlID0gZWpzLmNvbXBpbGUoc3RyKVxyXG5cclxuXHRcdFx0bGFuZyA9ICdlbidcclxuXHRcdFx0aWYgY3VycmVudF91c2VyX2luZm8ubG9jYWxlIGlzICd6aC1jbidcclxuXHRcdFx0XHRsYW5nID0gJ3poLUNOJ1xyXG5cdFx0XHRcclxuXHRcdFx0dXRjT2Zmc2V0ID0gdGltZXpvbmVvZmZzZXQgLyAtNjBcclxuXHRcdFx0XHJcblx0XHRcdGZvcm1hdERhdGUgPSAoZGF0ZSwgZm9ybWF0ZXIpIC0+XHJcblx0XHRcdFx0cmV0dXJuIG1vbWVudChkYXRlKS51dGNPZmZzZXQodXRjT2Zmc2V0KS5mb3JtYXQoZm9ybWF0ZXIpXHJcblxyXG5cdFx0XHRyZXQgPSB0ZW1wbGF0ZSh7XHJcblx0XHRcdFx0bGFuZzogbGFuZyxcclxuXHRcdFx0XHRmb3JtYXREYXRlOiBmb3JtYXREYXRlLFxyXG5cdFx0XHRcdGZvcm1fbmFtZTogZm9ybV9uYW1lLFxyXG5cdFx0XHRcdGZpZWxkczogZmllbGRzLFxyXG5cdFx0XHRcdHRhYmxlX2ZpZWxkczogdGFibGVfZmllbGRzLFxyXG5cdFx0XHRcdGluc190b194bHM6IGluc190b194bHNcclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdGZpbGVOYW1lID0gXCJTdGVlZE9TV29ya2Zsb3dfXCIgKyBtb21lbnQoKS5mb3JtYXQoJ1lZWVlNTURESEhtbScpICsgXCIueGxzXCJcclxuXHRcdFx0cmVzLnNldEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKVxyXG5cdFx0XHRyZXMuc2V0SGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiLCBcImF0dGFjaG1lbnQ7ZmlsZW5hbWU9XCIgKyBlbmNvZGVVUkkoZmlsZU5hbWUpKVxyXG5cdFx0XHRyZXMuZW5kKHJldClcclxuXHRcdGNhdGNoIGVcclxuXHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRcdHJlcy5lbmQoZS5tZXNzYWdlKSIsIk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoXCIvYXBpL3dvcmtmbG93L2V4cG9ydC9pbnN0YW5jZXNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICB2YXIgY3VycmVudF91c2VyX2luZm8sIGUsIGVqcywgZWpzTGludCwgZW5kX2RhdGUsIGVycm9yX29iaiwgZmllbGRzLCBmaWxlTmFtZSwgZmxvdywgZmxvd19pZCwgZmxvd19pZHMsIGZvcm0sIGZvcm1fbmFtZSwgZm9ybWF0RGF0ZSwgaW5zX3RvX3hscywgbGFuZywgbGFzdF9tb250aF9kYXRlLCBub3csIHF1ZXJ5LCByZXQsIHNlbGVjdG9yLCBzcGFjZSwgc3BhY2VfaWQsIHN0YXJ0X2RhdGUsIHN0ciwgdGFibGVfZmllbGRzLCB0ZW1wbGF0ZSwgdGltZXpvbmVvZmZzZXQsIHR5cGUsIHVpZCwgdXRjT2Zmc2V0O1xuICAgIHRyeSB7XG4gICAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgICAgcXVlcnkgPSByZXEucXVlcnk7XG4gICAgICBzcGFjZV9pZCA9IHF1ZXJ5LnNwYWNlX2lkO1xuICAgICAgZmxvd19pZCA9IHF1ZXJ5LmZsb3dfaWQ7XG4gICAgICB0eXBlID0gcGFyc2VJbnQocXVlcnkudHlwZSk7XG4gICAgICB0aW1lem9uZW9mZnNldCA9IHBhcnNlSW50KHF1ZXJ5LnRpbWV6b25lb2Zmc2V0KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93X2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm06IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvdy5mb3JtXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZvcm1fbmFtZSA9IGZvcm0ubmFtZTtcbiAgICAgIGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHM7XG4gICAgICB0YWJsZV9maWVsZHMgPSBuZXcgQXJyYXk7XG4gICAgICBfLmVhY2goZm9ybS5jdXJyZW50LmZpZWxkcywgZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09IFwidGFibGVcIikge1xuICAgICAgICAgIHJldHVybiB0YWJsZV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaW5zX3RvX3hscyA9IG5ldyBBcnJheTtcbiAgICAgIHN0YXJ0X2RhdGUgPSBudWxsO1xuICAgICAgZW5kX2RhdGUgPSBudWxsO1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBzZWxlY3RvciA9IHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICBmbG93OiBmbG93X2lkXG4gICAgICB9O1xuICAgICAgc2VsZWN0b3Iuc3RhdGUgPSB7XG4gICAgICAgICRpbjogW1wicGVuZGluZ1wiLCBcImNvbXBsZXRlZFwiXVxuICAgICAgfTtcbiAgICAgIHVpZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VfaWQpO1xuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICBzZWxlY3Rvci5zdGF0ZSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXModWlkKSkge1xuICAgICAgICBmbG93X2lkcyA9IFdvcmtmbG93TWFuYWdlci5nZXRNeUFkbWluT3JNb25pdG9yRmxvd3Moc3BhY2VfaWQsIHVpZCk7XG4gICAgICAgIGlmICghZmxvd19pZHMuaW5jbHVkZXMoc2VsZWN0b3IuZmxvdykpIHtcbiAgICAgICAgICBzZWxlY3Rvci4kb3IgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN1Ym1pdHRlcjogdWlkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGFwcGxpY2FudDogdWlkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGluYm94X3VzZXJzOiB1aWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgb3V0Ym94X3VzZXJzOiB1aWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZSA9PT0gMCkge1xuICAgICAgICBzdGFydF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKTtcbiAgICAgICAgc2VsZWN0b3Iuc3VibWl0X2RhdGUgPSB7XG4gICAgICAgICAgJGd0ZTogc3RhcnRfZGF0ZVxuICAgICAgICB9O1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMSkge1xuICAgICAgICBsYXN0X21vbnRoX2RhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpIC0gMTAwMCAqIDYwICogNjAgKiAyNCk7XG4gICAgICAgIHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShsYXN0X21vbnRoX2RhdGUuZ2V0RnVsbFllYXIoKSwgbGFzdF9tb250aF9kYXRlLmdldE1vbnRoKCksIDEpO1xuICAgICAgICBlbmRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSk7XG4gICAgICAgIHNlbGVjdG9yLnN1Ym1pdF9kYXRlID0ge1xuICAgICAgICAgICRndGU6IHN0YXJ0X2RhdGUsXG4gICAgICAgICAgJGx0ZTogZW5kX2RhdGVcbiAgICAgICAgfTtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDIpIHtcbiAgICAgICAgc3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCAwLCAxKTtcbiAgICAgICAgc2VsZWN0b3Iuc3VibWl0X2RhdGUgPSB7XG4gICAgICAgICAgJGd0ZTogc3RhcnRfZGF0ZVxuICAgICAgICB9O1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMykge1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH1cbiAgICAgIGVqcyA9IHJlcXVpcmUoJ2VqcycpO1xuICAgICAgc3RyID0gQXNzZXRzLmdldFRleHQoJ3NlcnZlci9lanMvZXhwb3J0X2luc3RhbmNlcy5lanMnKTtcbiAgICAgIGVqc0xpbnQgPSByZXF1aXJlKCdlanMtbGludCcpO1xuICAgICAgZXJyb3Jfb2JqID0gZWpzTGludC5saW50KHN0ciwge30pO1xuICAgICAgaWYgKGVycm9yX29iaikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiPT09L2FwaS93b3JrZmxvdy9leHBvcnQ6XCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yX29iaik7XG4gICAgICB9XG4gICAgICB0ZW1wbGF0ZSA9IGVqcy5jb21waWxlKHN0cik7XG4gICAgICBsYW5nID0gJ2VuJztcbiAgICAgIGlmIChjdXJyZW50X3VzZXJfaW5mby5sb2NhbGUgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbGFuZyA9ICd6aC1DTic7XG4gICAgICB9XG4gICAgICB1dGNPZmZzZXQgPSB0aW1lem9uZW9mZnNldCAvIC02MDtcbiAgICAgIGZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlLCBmb3JtYXRlcikge1xuICAgICAgICByZXR1cm4gbW9tZW50KGRhdGUpLnV0Y09mZnNldCh1dGNPZmZzZXQpLmZvcm1hdChmb3JtYXRlcik7XG4gICAgICB9O1xuICAgICAgcmV0ID0gdGVtcGxhdGUoe1xuICAgICAgICBsYW5nOiBsYW5nLFxuICAgICAgICBmb3JtYXREYXRlOiBmb3JtYXREYXRlLFxuICAgICAgICBmb3JtX25hbWU6IGZvcm1fbmFtZSxcbiAgICAgICAgZmllbGRzOiBmaWVsZHMsXG4gICAgICAgIHRhYmxlX2ZpZWxkczogdGFibGVfZmllbGRzLFxuICAgICAgICBpbnNfdG9feGxzOiBpbnNfdG9feGxzXG4gICAgICB9KTtcbiAgICAgIGZpbGVOYW1lID0gXCJTdGVlZE9TV29ya2Zsb3dfXCIgKyBtb21lbnQoKS5mb3JtYXQoJ1lZWVlNTURESEhtbScpICsgXCIueGxzXCI7XG4gICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpO1xuICAgICAgcmVzLnNldEhlYWRlcihcIkNvbnRlbnQtRGlzcG9zaXRpb25cIiwgXCJhdHRhY2htZW50O2ZpbGVuYW1lPVwiICsgZW5jb2RlVVJJKGZpbGVOYW1lKSk7XG4gICAgICByZXR1cm4gcmVzLmVuZChyZXQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgcmV0dXJuIHJlcy5lbmQoZS5tZXNzYWdlKTtcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZCAnZ2V0JywgJy91Zi9zcGFjZS9jaGFuZ2VzZXQnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRxdWVyeSA9IHJlcS5xdWVyeVxyXG5cdFx0YXV0aF90b2tlbiA9IGRiLmF1dGhfdG9rZW5zLmZpbmRPbmUoe2F1dGhfdG9rZW46IHF1ZXJ5LmF1dGhfdG9rZW59KVxyXG5cclxuXHRcdGlmIChub3QgYXV0aF90b2tlbikgb3IgKG5vdCBhdXRoX3Rva2VuLmVuYWJsZWQpXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IgNDAxLCAnVW5hdXRob3JpemVkJ1xyXG5cclxuXHRcdHN5bmNfdG9rZW4gPSBxdWVyeVtcInN5bmNfdG9rZW5cIl1cclxuXHRcdGZvcm1pZHMgPSBxdWVyeVtcImZvcm1pZHNcIl0gIyDpgJflj7fpmpTlvIDlrZfnrKbkuLJcclxuXHRcdGlzX2FkbWluID0gcXVlcnlbXCJpc19hZG1pblwiXVxyXG5cclxuXHRcdGRhdGEgPSB1dWZsb3dNYW5hZ2VyLmdldF9TcGFjZUNoYW5nZVNldChmb3JtaWRzLCBpc19hZG1pbiwgc3luY190b2tlbilcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdGRhdGE6IGRhdGFcclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH0iLCJKc29uUm91dGVzLmFkZCgnZ2V0JywgJy91Zi9zcGFjZS9jaGFuZ2VzZXQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXV0aF90b2tlbiwgZGF0YSwgZSwgZm9ybWlkcywgaXNfYWRtaW4sIHF1ZXJ5LCBzeW5jX3Rva2VuO1xuICB0cnkge1xuICAgIHF1ZXJ5ID0gcmVxLnF1ZXJ5O1xuICAgIGF1dGhfdG9rZW4gPSBkYi5hdXRoX3Rva2Vucy5maW5kT25lKHtcbiAgICAgIGF1dGhfdG9rZW46IHF1ZXJ5LmF1dGhfdG9rZW5cbiAgICB9KTtcbiAgICBpZiAoKCFhdXRoX3Rva2VuKSB8fCAoIWF1dGhfdG9rZW4uZW5hYmxlZCkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNDAxLCAnVW5hdXRob3JpemVkJyk7XG4gICAgfVxuICAgIHN5bmNfdG9rZW4gPSBxdWVyeVtcInN5bmNfdG9rZW5cIl07XG4gICAgZm9ybWlkcyA9IHF1ZXJ5W1wiZm9ybWlkc1wiXTtcbiAgICBpc19hZG1pbiA9IHF1ZXJ5W1wiaXNfYWRtaW5cIl07XG4gICAgZGF0YSA9IHV1Zmxvd01hbmFnZXIuZ2V0X1NwYWNlQ2hhbmdlU2V0KGZvcm1pZHMsIGlzX2FkbWluLCBzeW5jX3Rva2VuKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZXRyaWV2ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxyXG5cdFx0XHRyZXRyaWV2ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ3JldHJpZXZlX2NvbW1lbnQnXVxyXG5cclxuXHRcdFx0IyDpqozor4FpbnN0YW5jZeS4uuWuoeaguOS4reeKtuaAgVxyXG5cdFx0XHQjIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpXHJcblx0XHRcdCMg5qCh6aqM55Sz6K+35Y2V5piv5b2T5YmN55So5oi35bey5a6h5qC46L+H55qE5Y2V5a2Q5oiW6ICF5b2T5YmN55So5oi35piv5o+Q5Lqk5Lq65oiW55Sz6K+35Lq6XHJcblx0XHRcdGlmIChub3QgaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIGFuZCAoaW5zdGFuY2Uuc3VibWl0dGVyIGlzbnQgY3VycmVudF91c2VyIGFuZCBpbnN0YW5jZS5hcHBsaWNhbnQgaXNudCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5b2T5YmN55So5oi35LiN56ym5ZCI5Y+W5Zue5p2h5Lu2JylcclxuXHJcblx0XHRcdHJldHJpZXZlX3R5cGUgPSBcIlwiXHJcblxyXG5cdFx0XHR0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXNcclxuXHJcblx0XHRcdCPojrflj5bmnIDmlrDnmoR0cmFjZe+8jCDljbPlj5blm57mraXpqqRcclxuXHRcdFx0bGFzdF90cmFjZSA9IF8ubGFzdCh0cmFjZXMpXHJcblx0XHRcdGxhc3RfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLl9pZFxyXG5cdFx0XHRwcmV2aW91c190cmFjZV9pZCA9IGxhc3RfdHJhY2UucHJldmlvdXNfdHJhY2VfaWRzWzBdO1xyXG5cdFx0XHRwcmV2aW91c190cmFjZSA9IF8uZmluZCh0cmFjZXMsICh0KS0+XHJcblx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIHByZXZpb3VzX3RyYWNlX2lkXHJcblx0XHRcdClcclxuXHRcdFx0cHJldmlvdXNfdHJhY2Vfc3RlcF9pZCA9IHByZXZpb3VzX3RyYWNlLnN0ZXBcclxuXHRcdFx0cHJldmlvdXNfdHJhY2VfbmFtZSA9IHByZXZpb3VzX3RyYWNlLm5hbWVcclxuXHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxyXG5cdFx0XHRwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKVxyXG5cdFx0XHRpZiBwcmV2aW91c19zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7kuI3og73lj5blm54nKVxyXG5cclxuXHRcdFx0IyDlj5blm57mraXpqqTnmoTliY3kuIDkuKrmraXpqqTlpITnkIbkurrllK/kuIDvvIjljbPmjpLpmaTmjonkvKDpmIXlkozovazlj5HnmoRhcHByb3Zl5ZCO77yM5Ymp5L2Z55qEYXBwcm92ZeWPquacieS4gOS4qu+8ieW5tuS4lOaYr+W9k+WJjeeUqOaIt1xyXG5cdFx0XHRwcmV2aW91c190cmFjZV9hcHByb3ZlcyA9IF8uZmlsdGVyIHByZXZpb3VzX3RyYWNlLmFwcHJvdmVzLCAoYSktPlxyXG5cdFx0XHRcdHJldHVybiBhLnR5cGUgaXNudCAnY2MnIGFuZCBhLnR5cGUgaXNudCAnZGlzdHJpYnV0ZScgYW5kIGEudHlwZSBpc250ICdmb3J3YXJkJyBhbmQgWydhcHByb3ZlZCcsJ3N1Ym1pdHRlZCcsJ3JlamVjdGVkJ10uaW5jbHVkZXMoYS5qdWRnZSlcclxuXHJcblx0XHRcdGlmIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzLmxlbmd0aCBpcyAxIGFuZCAocHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0udXNlciBpcyBjdXJyZW50X3VzZXIgb3IgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0uaGFuZGxlciBpcyBjdXJyZW50X3VzZXIpXHJcblx0XHRcdFx0cmV0cmlldmVfdHlwZSA9ICdub3JtYWwnICMg55Sz6K+35Y2V5q2j5bi45rWB6L2s55qE5Y+W5Zue77yM5Y2z6Z2e5Lyg6ZiF5Y+W5ZueXHJcblxyXG5cdFx0XHRpID0gdHJhY2VzLmxlbmd0aFxyXG5cdFx0XHRyZXRyaWV2ZV9hcHByb3ZlID0ge31cclxuXHRcdFx0d2hpbGUgaSA+IDBcclxuXHRcdFx0XHRfLmVhY2ggdHJhY2VzW2ktMV0uYXBwcm92ZXMsIChhKS0+XHJcblx0XHRcdFx0XHRpZiBhLnR5cGUgaXMgJ2NjJyBhbmQgYS5pc19maW5pc2hlZCBpcyB0cnVlIGFuZCBhLnVzZXIgaXMgY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX3R5cGUgPSAnY2MnXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHJvdmUgPSBhXHJcblxyXG5cdFx0XHRcdGlmIHJldHJpZXZlX3R5cGUgaXMgJ2NjJ1xyXG5cdFx0XHRcdFx0YnJlYWtcclxuXHJcblx0XHRcdFx0aS0tXHJcblxyXG5cclxuXHRcdFx0aWYgcmV0cmlldmVfdHlwZSBpcyAnbm9ybWFsJ1xyXG5cdFx0XHRcdCMg6I635Y+W5LiA5LiqZmxvd1xyXG5cdFx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcclxuXHRcdFx0XHRwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKVxyXG5cdFx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2VcclxuXHRcdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZFxyXG5cdFx0XHRcdG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXHJcblx0XHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXHJcblx0XHRcdFx0Xy5lYWNoIHRyYWNlcywgKHQpLT5cclxuXHRcdFx0XHRcdGlmIHQuX2lkIGlzIGxhc3RfdHJhY2VfaWRcclxuXHRcdFx0XHRcdFx0aWYgbm90IHQuYXBwcm92ZXNcclxuXHRcdFx0XHRcdFx0XHR0LmFwcHJvdmVzID0gbmV3IEFycmF5XHJcblx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2UuYXBwcm92ZeiusOW9lVxyXG5cdFx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwcHIpLT5cclxuXHRcdFx0XHRcdFx0XHRpZiBhcHByLmlzX2ZpbmlzaGVkID09IGZhbHNlIGFuZCBhcHByLnR5cGUgaXNudCBcImNjXCJcclxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5yZWFkX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuaXNfZXJyb3IgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5pc19yZWFkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5jb3N0X3RpbWUgPSBhcHByLmZpbmlzaF9kYXRlIC0gYXBwci5zdGFydF9kYXRlXHJcblx0XHRcdFx0XHRcdCMg5Zyo5ZCM5LiAdHJhY2XkuIvmj5LlhaXlj5blm57mk43kvZzogIXnmoRhcHByb3Zl6K6w5b2VXHJcblx0XHRcdFx0XHRcdGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdFx0XHRcdGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwgeyBmaWVsZHM6IHsgbmFtZTogMSwgZnVsbG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudHJhY2UgPSB0Ll9pZFxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuZHVlX2RhdGUgPSB0LmR1ZV9kYXRlXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIucmVhZF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuanVkZ2UgPSBcInJldHJpZXZlZFwiXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaXNfcmVhZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5kZXNjcmlwdGlvbiA9IHJldHJpZXZlX2NvbW1lbnRcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmNvc3RfdGltZSA9IHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgLSByZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdFx0dC5hcHByb3Zlcy5wdXNoKHJldHJpZXZlX2FwcHIpXHJcblxyXG5cdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXHJcblx0XHRcdFx0XHRcdHQuaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdHQuZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0dC5qdWRnZSA9IFwicmV0cmlldmVkXCJcclxuXHJcblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxyXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2VfaWRdXHJcblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSBwcmV2aW91c190cmFjZV9zdGVwX2lkXHJcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWVcclxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0bmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJldmlvdXNfc3RlcC50aW1lb3V0X2hvdXJzKVxyXG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cclxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNlLmFwcHJvdmXorrDlvZVcclxuXHRcdFx0XHRuZXdBcHByb3ZlID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRcdG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWRcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2VcclxuXHRcdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXJcclxuXHJcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUudXNlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXHJcblxyXG5cdFx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cdFx0XHRcdCMg6I635Y+WbmV4dF9zdGVwX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cclxuXHRcdFx0XHRvcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cclxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cclxuXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0bmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2VcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3RcclxuXHJcblx0XHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSlcclxuXHJcblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxyXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IFtjdXJyZW50X3VzZXJdXHJcblxyXG5cdFx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xyXG5cdFx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdHRyYWNlcy5wdXNoKG5ld1RyYWNlKVxyXG5cdFx0XHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXNcclxuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxyXG5cdFx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlXHJcblxyXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWVcclxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBwcmV2aW91c19zdGVwLmxpbmVzKVxyXG5cclxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxyXG5cdFx0XHRcdGlmIHJcclxuXHRcdFx0XHRcdCMg57uZ6KKr5Yig6Zmk55qEaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cdFx0XHRcdFx0Xy5lYWNoKG9sZF9pbmJveF91c2VycywgKHVzZXJfaWQpLT5cclxuXHRcdFx0XHRcdFx0aWYgdXNlcl9pZCBpc250IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxyXG5cdFx0XHRcdFx0KVxyXG5cclxuXHRcdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXHJcblx0XHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5FcclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2VycylcclxuXHJcblx0XHRcdGVsc2UgaWYgcmV0cmlldmVfdHlwZSBpcyAnY2MnXHJcblx0XHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXHJcblx0XHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWRcclxuXHRcdFx0XHR0aGVfdHJhY2UgPSBfLmZpbmQgdHJhY2VzLCAodCktPlxyXG5cdFx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIHJldHJpZXZlX2FwcHJvdmUudHJhY2VcclxuXHJcblx0XHRcdFx0Xy5lYWNoIHRoZV90cmFjZS5hcHByb3ZlcywgKGEpLT5cclxuXHRcdFx0XHRcdGlmIGEuX2lkIGlzIHJldHJpZXZlX2FwcHJvdmUuX2lkXHJcblx0XHRcdFx0XHRcdGEuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRhLmZpbmlzaF9kYXRlID0gdW5kZWZpbmVkXHJcblx0XHRcdFx0XHRcdGEuanVkZ2UgPSB1bmRlZmluZWRcclxuXHRcdFx0XHRcdFx0YS5jb3N0X3RpbWUgPSB1bmRlZmluZWRcclxuXHJcblx0XHRcdFx0Y2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2Vyc1xyXG5cdFx0XHRcdGNjX3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxyXG5cclxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcclxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxyXG5cdFx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlXHJcblx0XHRcdFx0c2V0T2JqLmNjX3VzZXJzID0gY2NfdXNlcnNcclxuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzJ10gPSB0aGVfdHJhY2UuYXBwcm92ZXNcclxuXHJcblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWQsICd0cmFjZXMuX2lkJzogcmV0cmlldmVfYXBwcm92ZS50cmFjZX0sIHskc2V0OiBzZXRPYmp9KVxyXG5cdFx0XHRcdGlmIHJcclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXHJcblxyXG5cdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXHJcblx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXHJcblx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgW2N1cnJlbnRfdXNlcl0pXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHt9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YToge2Vycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JldHJpZXZlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBjY191c2VycywgZmxvdywgaGFuZGxlcl9pbmZvLCBpLCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbGFzdF90cmFjZSwgbGFzdF90cmFjZV9pZCwgbmV3QXBwcm92ZSwgbmV3VHJhY2UsIG5vdywgb2xkX2luYm94X3VzZXJzLCBvcmdfaW5mbywgcHJldmlvdXNfc3RlcCwgcHJldmlvdXNfdHJhY2UsIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzLCBwcmV2aW91c190cmFjZV9pZCwgcHJldmlvdXNfdHJhY2VfbmFtZSwgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCwgciwgcmV0cmlldmVfYXBwcm92ZSwgcmV0cmlldmVfY29tbWVudCwgcmV0cmlldmVfdHlwZSwgc2V0T2JqLCBzcGFjZV9pZCwgc3BhY2VfdXNlciwgdGhlX3RyYWNlLCB0cmFjZXM7XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgcmV0cmlldmVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydyZXRyaWV2ZV9jb21tZW50J107XG4gICAgICBpZiAoKCFpbnN0YW5jZS5vdXRib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgJiYgKGluc3RhbmNlLnN1Ym1pdHRlciAhPT0gY3VycmVudF91c2VyICYmIGluc3RhbmNlLmFwcGxpY2FudCAhPT0gY3VycmVudF91c2VyKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICflvZPliY3nlKjmiLfkuI3nrKblkIjlj5blm57mnaHku7YnKTtcbiAgICAgIH1cbiAgICAgIHJldHJpZXZlX3R5cGUgPSBcIlwiO1xuICAgICAgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuICAgICAgbGFzdF90cmFjZSA9IF8ubGFzdCh0cmFjZXMpO1xuICAgICAgbGFzdF90cmFjZV9pZCA9IGxhc3RfdHJhY2UuX2lkO1xuICAgICAgcHJldmlvdXNfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLnByZXZpb3VzX3RyYWNlX2lkc1swXTtcbiAgICAgIHByZXZpb3VzX3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdC5faWQgPT09IHByZXZpb3VzX3RyYWNlX2lkO1xuICAgICAgfSk7XG4gICAgICBwcmV2aW91c190cmFjZV9zdGVwX2lkID0gcHJldmlvdXNfdHJhY2Uuc3RlcDtcbiAgICAgIHByZXZpb3VzX3RyYWNlX25hbWUgPSBwcmV2aW91c190cmFjZS5uYW1lO1xuICAgICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICAgIHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpO1xuICAgICAgaWYgKHByZXZpb3VzX3N0ZXAuc3RlcF90eXBlID09PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5LiN6IO95Y+W5ZueJyk7XG4gICAgICB9XG4gICAgICBwcmV2aW91c190cmFjZV9hcHByb3ZlcyA9IF8uZmlsdGVyKHByZXZpb3VzX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgIT09ICdjYycgJiYgYS50eXBlICE9PSAnZGlzdHJpYnV0ZScgJiYgYS50eXBlICE9PSAnZm9yd2FyZCcgJiYgWydhcHByb3ZlZCcsICdzdWJtaXR0ZWQnLCAncmVqZWN0ZWQnXS5pbmNsdWRlcyhhLmp1ZGdlKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzLmxlbmd0aCA9PT0gMSAmJiAocHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0udXNlciA9PT0gY3VycmVudF91c2VyIHx8IHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLmhhbmRsZXIgPT09IGN1cnJlbnRfdXNlcikpIHtcbiAgICAgICAgcmV0cmlldmVfdHlwZSA9ICdub3JtYWwnO1xuICAgICAgfVxuICAgICAgaSA9IHRyYWNlcy5sZW5ndGg7XG4gICAgICByZXRyaWV2ZV9hcHByb3ZlID0ge307XG4gICAgICB3aGlsZSAoaSA+IDApIHtcbiAgICAgICAgXy5lYWNoKHRyYWNlc1tpIC0gMV0uYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICBpZiAoYS50eXBlID09PSAnY2MnICYmIGEuaXNfZmluaXNoZWQgPT09IHRydWUgJiYgYS51c2VyID09PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgIHJldHJpZXZlX3R5cGUgPSAnY2MnO1xuICAgICAgICAgICAgcmV0dXJuIHJldHJpZXZlX2FwcHJvdmUgPSBhO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXRyaWV2ZV90eXBlID09PSAnY2MnKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaS0tO1xuICAgICAgfVxuICAgICAgaWYgKHJldHJpZXZlX3R5cGUgPT09ICdub3JtYWwnKSB7XG4gICAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgICAgIHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpO1xuICAgICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZDtcbiAgICAgICAgb2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBfLmVhY2godHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRfc3BhY2VfdXNlciwgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiwgcmV0cmlldmVfYXBwcjtcbiAgICAgICAgICBpZiAodC5faWQgPT09IGxhc3RfdHJhY2VfaWQpIHtcbiAgICAgICAgICAgIGlmICghdC5hcHByb3Zlcykge1xuICAgICAgICAgICAgICB0LmFwcHJvdmVzID0gbmV3IEFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwcHIpIHtcbiAgICAgICAgICAgICAgaWYgKGFwcHIuaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIGFwcHIudHlwZSAhPT0gXCJjY1wiKSB7XG4gICAgICAgICAgICAgICAgYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIGFwcHIuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXBwci5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHByLmNvc3RfdGltZSA9IGFwcHIuZmluaXNoX2RhdGUgLSBhcHByLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICAgICAgICBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHtcbiAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci50cmFjZSA9IHQuX2lkO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuZHVlX2RhdGUgPSB0LmR1ZV9kYXRlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmp1ZGdlID0gXCJyZXRyaWV2ZWRcIjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmRlc2NyaXB0aW9uID0gcmV0cmlldmVfY29tbWVudDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuY29zdF90aW1lID0gcmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSAtIHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIHQuYXBwcm92ZXMucHVzaChyZXRyaWV2ZV9hcHByKTtcbiAgICAgICAgICAgIHQuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgdC5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHVybiB0Lmp1ZGdlID0gXCJyZXRyaWV2ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlX2lkXTtcbiAgICAgICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQ7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShwcmV2aW91c19zdGVwLnRpbWVvdXRfaG91cnMpO1xuICAgICAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgICAgICBuZXdBcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWQ7XG4gICAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3QXBwcm92ZS51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlciwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgICBvcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld0FwcHJvdmUpO1xuICAgICAgICBuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBbY3VycmVudF91c2VyXTtcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIHRyYWNlcy5wdXNoKG5ld1RyYWNlKTtcbiAgICAgICAgc2V0T2JqLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBwcmV2aW91c19zdGVwLmxpbmVzKTtcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgICBfLmVhY2gob2xkX2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgICBpZiAodXNlcl9pZCAhPT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2Vycyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocmV0cmlldmVfdHlwZSA9PT0gJ2NjJykge1xuICAgICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWQ7XG4gICAgICAgIHRoZV90cmFjZSA9IF8uZmluZCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICByZXR1cm4gdC5faWQgPT09IHJldHJpZXZlX2FwcHJvdmUudHJhY2U7XG4gICAgICAgIH0pO1xuICAgICAgICBfLmVhY2godGhlX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgaWYgKGEuX2lkID09PSByZXRyaWV2ZV9hcHByb3ZlLl9pZCkge1xuICAgICAgICAgICAgYS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYS5maW5pc2hfZGF0ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGEuanVkZ2UgPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4gYS5jb3N0X3RpbWUgPSB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2VycztcbiAgICAgICAgY2NfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuICAgICAgICBzZXRPYmouY2NfdXNlcnMgPSBjY191c2VycztcbiAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3ZlcyddID0gdGhlX3RyYWNlLmFwcHJvdmVzO1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgICAgICAndHJhY2VzLl9pZCc6IHJldHJpZXZlX2FwcHJvdmUudHJhY2VcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIFtjdXJyZW50X3VzZXJdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZm9yd2FyZCcsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xyXG5cdHRyeSB7XHJcblx0XHR2YXIgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcclxuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XHJcblxyXG5cdFx0dmFyIGhhc2hEYXRhID0gcmVxLmJvZHk7XHJcblx0XHR2YXIgaW5zdGFuY2VfaWQgPSBoYXNoRGF0YS5pbnN0YW5jZV9pZDtcclxuXHRcdHZhciBzcGFjZV9pZCA9IGhhc2hEYXRhLnNwYWNlX2lkO1xyXG5cdFx0dmFyIGZsb3dfaWQgPSBoYXNoRGF0YS5mbG93X2lkO1xyXG5cdFx0dmFyIGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCA9IGhhc2hEYXRhLmhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudDtcclxuXHRcdHZhciBkZXNjcmlwdGlvbiA9IGhhc2hEYXRhLmRlc2NyaXB0aW9uO1xyXG5cdFx0dmFyIGlzRm9yd2FyZEF0dGFjaG1lbnRzID0gaGFzaERhdGEuaXNGb3J3YXJkQXR0YWNobWVudHM7XHJcblx0XHR2YXIgc2VsZWN0ZWRVc2VycyA9IGhhc2hEYXRhLnNlbGVjdGVkVXNlcnM7XHJcblx0XHR2YXIgYWN0aW9uX3R5cGUgPSBoYXNoRGF0YS5hY3Rpb25fdHlwZTtcclxuXHRcdHZhciByZWxhdGVkID0gaGFzaERhdGEucmVsYXRlZDtcclxuXHRcdHZhciBmcm9tX2FwcHJvdmVfaWQgPSBoYXNoRGF0YS5mcm9tX2FwcHJvdmVfaWQ7XHJcblxyXG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XHJcblx0XHRjaGVjayhzcGFjZV9pZCwgU3RyaW5nKTtcclxuXHRcdGNoZWNrKGZsb3dfaWQsIFN0cmluZyk7XHJcblx0XHRjaGVjayhoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQsIEJvb2xlYW4pO1xyXG5cdFx0Y2hlY2soZGVzY3JpcHRpb24sIFN0cmluZyk7XHJcblx0XHRjaGVjayhpc0ZvcndhcmRBdHRhY2htZW50cywgQm9vbGVhbik7XHJcblx0XHRjaGVjayhzZWxlY3RlZFVzZXJzLCBBcnJheSk7XHJcblx0XHRjaGVjayhhY3Rpb25fdHlwZSwgTWF0Y2guT25lT2YoJ2ZvcndhcmQnLCAnZGlzdHJpYnV0ZScpKTtcclxuXHJcblx0XHRpZiAoYWN0aW9uX3R5cGUgPT0gXCJkaXN0cmlidXRlXCIpXHJcblx0XHRcdGNoZWNrKGZyb21fYXBwcm92ZV9pZCwgU3RyaW5nKTtcclxuXHJcblx0XHR2YXIgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xyXG5cdFx0dmFyIG9sZF9zcGFjZV9pZCA9IGlucy5zcGFjZTtcclxuXHJcblx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCk7XHJcblxyXG5cdFx0dmFyIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VfaWQpO1xyXG5cclxuXHRcdGlmICghaW5zIHx8ICFmbG93IHx8ICFzcGFjZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdwYXJhbXMgZXJyb3IhJywgJ3JlY29yZCBub3QgZXhpc3RzIScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBmb3J3YXJkX3VzZXJzID0gbmV3IEFycmF5O1xyXG5cdFx0aWYgKF8uaXNFbXB0eShzZWxlY3RlZFVzZXJzKSkge1xyXG5cdFx0XHRmb3J3YXJkX3VzZXJzID0gW2N1cnJlbnRfdXNlcl9pZF07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRmb3J3YXJkX3VzZXJzID0gc2VsZWN0ZWRVc2VycztcclxuXHRcdH1cclxuXHJcblx0XHQvLyDmoKHpqozliIblj5Hlr7nosaHmmK/lkKbmnInliIblj5HmtYHnqIvnmoTmj5DkuqTmnYPpmZBcclxuXHRcdHZhciBub19wZXJtaXNzaW9uX3VzZXJfaWRzID0gbmV3IEFycmF5KCk7XHJcblx0XHRfLmVhY2goZm9yd2FyZF91c2VycywgZnVuY3Rpb24gKHVpZCkge1xyXG5cdFx0XHR2YXIgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd19pZCwgdWlkKTtcclxuXHRcdFx0aWYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkZFwiKSkge1xyXG5cdFx0XHRcdC8vIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6K+l55Sz6K+35Lq65rKh5pyJ5o+Q5Lqk5q2k55Sz6K+35Y2V55qE5p2D6ZmQ44CCXCIpXHJcblx0XHRcdFx0bm9fcGVybWlzc2lvbl91c2VyX2lkcy5wdXNoKHVpZCk7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHRpZiAoIV8uaXNFbXB0eShub19wZXJtaXNzaW9uX3VzZXJfaWRzKSkge1xyXG5cdFx0XHR2YXIgbm9fcGVybWlzc2lvbl91c2Vyc19uYW1lID0gbmV3IEFycmF5KCk7XHJcblx0XHRcdGRiLnVzZXJzLmZpbmQoe1xyXG5cdFx0XHRcdF9pZDoge1xyXG5cdFx0XHRcdFx0JGluOiBub19wZXJtaXNzaW9uX3VzZXJfaWRzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XHRuYW1lOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5mb3JFYWNoKGZ1bmN0aW9uICh1KSB7XHJcblx0XHRcdFx0bm9fcGVybWlzc2lvbl91c2Vyc19uYW1lLnB1c2godS5uYW1lKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ25vX3Blcm1pc3Npb24nLCBcIuivpeaPkOS6pOS6uuayoeacieaPkOS6pOatpOeUs+ivt+WNleeahOadg+mZkOOAglwiLCBub19wZXJtaXNzaW9uX3VzZXJzX25hbWUuam9pbignLCcpKVxyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBuZXdfaW5zX2lkcyA9IG5ldyBBcnJheTtcclxuXHJcblx0XHR2YXIgY3VycmVudF90cmFjZSA9IG51bGw7XHJcblx0XHRpZiAoYWN0aW9uX3R5cGUgPT0gXCJkaXN0cmlidXRlXCIpIHtcclxuXHRcdFx0Xy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdFx0aWYgKCFjdXJyZW50X3RyYWNlKSB7XHJcblx0XHRcdFx0XHRfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24gKGEpIHtcclxuXHRcdFx0XHRcdFx0aWYgKCFjdXJyZW50X3RyYWNlKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGEuX2lkID09IGZyb21fYXBwcm92ZV9pZClcclxuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRfdHJhY2UgPSB0O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGN1cnJlbnRfdHJhY2UgPSBfLmxhc3QoaW5zLnRyYWNlcyk7XHJcblx0XHR9XHJcblx0XHR2YXIgY3VycmVudF90cmFjZV9pZCA9IGN1cnJlbnRfdHJhY2UuX2lkO1xyXG5cdFx0dmFyIGZvcndhcmRfYXBwcm92ZXMgPSBbXTtcclxuXHRcdHZhciBmcm9tX3VzZXJfbmFtZSA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdG5hbWU6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSkubmFtZVxyXG5cdFx0dmFyIHNldF9vYmogPSBuZXcgT2JqZWN0O1xyXG5cclxuXHRcdC8vIOiuoeeul3ZhbHVlc1xyXG5cdFx0dmFyIG9sZF92YWx1ZXMgPSBpbnMudmFsdWVzLFxyXG5cdFx0XHRuZXdfdmFsdWVzID0ge307XHJcblx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZmxvdy5mb3JtKTtcclxuXHRcdHZhciBmaWVsZHMgPSBmb3JtLmN1cnJlbnQuZmllbGRzIHx8IFtdO1xyXG5cclxuXHRcdHZhciBvbGRfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zLmZvcm0pO1xyXG5cdFx0dmFyIG9sZF9mb3JtX3ZlcnNpb24gPSBpbnMuZm9ybV92ZXJzaW9uLFxyXG5cdFx0XHRvbGRfZmllbGRzID0gW10sXHJcblx0XHRcdGNvbW1vbl9maWVsZHMgPSBbXTtcclxuXHJcblx0XHR2YXIgc2VsZWN0X3RvX2lucHV0X2ZpZWxkcyA9IFtdO1xyXG5cclxuXHRcdGlmIChvbGRfZm9ybS5jdXJyZW50Ll9pZCA9PSBvbGRfZm9ybV92ZXJzaW9uKSB7XHJcblx0XHRcdG9sZF9maWVsZHMgPSBvbGRfZm9ybS5jdXJyZW50LmZpZWxkcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmIChvbGRfZm9ybS5oaXN0b3J5cykge1xyXG5cdFx0XHRcdG9sZF9mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24gKGgpIHtcclxuXHRcdFx0XHRcdGlmIChoLl9pZCA9PSBvbGRfZm9ybV92ZXJzaW9uKVxyXG5cdFx0XHRcdFx0XHRvbGRfZmllbGRzID0gaC5maWVsZHM7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHR2YXIgZXhpc3RzX2ZpZWxkID0gXy5maW5kKG9sZF9maWVsZHMsIGZ1bmN0aW9uIChmKSB7XHJcblx0XHRcdFx0cmV0dXJuIGYudHlwZSA9PSBmaWVsZC50eXBlICYmIGYuY29kZSA9PSBmaWVsZC5jb2RlO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHRpZiAoZXhpc3RzX2ZpZWxkKVxyXG5cdFx0XHRcdGNvbW1vbl9maWVsZHMucHVzaChmaWVsZCk7XHJcblx0XHRcdHZhciBzZWxlY3RfaW5wdXRfZmllbGQgPSBfLmZpbmQob2xkX2ZpZWxkcywgZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHRyZXR1cm4gZi50eXBlID09ICdzZWxlY3QnICYmIGZpZWxkLnR5cGUgPT0gJ2lucHV0JyAmJiBmLmNvZGUgPT0gZmllbGQuY29kZTtcclxuXHRcdFx0fSlcclxuXHRcdFx0aWYgKHNlbGVjdF9pbnB1dF9maWVsZClcclxuXHRcdFx0XHRzZWxlY3RfdG9faW5wdXRfZmllbGRzLnB1c2goc2VsZWN0X2lucHV0X2ZpZWxkKTtcclxuXHRcdH0pXHJcblxyXG5cdFx0c2VsZWN0X3RvX2lucHV0X2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRpZiAob2xkX3ZhbHVlc1tmaWVsZC5jb2RlXSkge1xyXG5cdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0gPSBvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdO1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cclxuXHRcdGNvbW1vbl9maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0aWYgKGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nKSB7XHJcblx0XHRcdFx0aWYgKGZpZWxkLmZpZWxkcykge1xyXG5cdFx0XHRcdFx0ZmllbGQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXHJcblx0XHRcdFx0XHRcdGlmIChbJ2dyb3VwJywgJ3VzZXInXS5pbmNsdWRlcyhmLnR5cGUpICYmIG9sZF9zcGFjZV9pZCAhPSBzcGFjZV9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR2YXIga2V5ID0gZi5jb2RlO1xyXG5cdFx0XHRcdFx0XHR2YXIgb2xkX3YgPSBvbGRfdmFsdWVzW2tleV07XHJcblx0XHRcdFx0XHRcdGlmIChvbGRfdikge1xyXG5cdFx0XHRcdFx0XHRcdC8vIOagoemqjCDljZXpgInvvIzlpJrpgInvvIzkuIvmi4nmoYYg5a2X5q615YC85piv5ZCm5Zyo5paw6KGo5Y2V5a+55bqU5a2X5q6155qE5Y+v6YCJ5YC86IyD5Zu05YaFXHJcblx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnc2VsZWN0JyB8fCBmLnR5cGUgPT0gJ3JhZGlvJykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmluY2x1ZGVzKG9sZF92KSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnbXVsdGlTZWxlY3QnKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGYub3B0aW9ucy5zcGxpdCgnXFxuJyk7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgb2xkX211bHRpU2VsZWN0ZWQgPSBvbGRfdi5zcGxpdCgnLCcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIG5ld19tdWx0aVNlbGVjdGVkID0gXy5pbnRlcnNlY3Rpb24ob3B0aW9ucywgb2xkX211bHRpU2VsZWN0ZWQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0b2xkX3YgPSBuZXdfbXVsdGlTZWxlY3RlZC5qb2luKCcsJyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRuZXdfdmFsdWVzW2tleV0gPSBvbGRfdjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PSAndGFibGUnKSB7XHJcblx0XHRcdFx0aWYgKCFfLmlzRW1wdHkob2xkX3ZhbHVlc1tmaWVsZC5jb2RlXSkpIHtcclxuXHRcdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0gPSBuZXcgQXJyYXk7XHJcblx0XHRcdFx0XHRvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdLmZvckVhY2goZnVuY3Rpb24gKG9sZF90YWJsZV9yb3dfdmFsdWVzKSB7XHJcblx0XHRcdFx0XHRcdHZhciBuZXdfdGFibGVfcm93X3ZhbHVlcyA9IHt9O1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCFfLmlzRW1wdHkoZmllbGQuZmllbGRzKSkge1xyXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyDot6jlt6XkvZzljLrovazlj5HkuI3lpI3liLbpgInkurrpgInnu4RcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChbJ2dyb3VwJywgJ3VzZXInXS5pbmNsdWRlcyhmLnR5cGUpICYmIG9sZF9zcGFjZV9pZCAhPSBzcGFjZV9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIga2V5ID0gZi5jb2RlO1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9sZF92ID0gb2xkX3RhYmxlX3Jvd192YWx1ZXNba2V5XTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChvbGRfdikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyDmoKHpqowg5Y2V6YCJ77yM5aSa6YCJ77yM5LiL5ouJ5qGGIOWtl+auteWAvOaYr+WQpuWcqOaWsOihqOWNleWvueW6lOWtl+auteeahOWPr+mAieWAvOiMg+WbtOWGhVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdzZWxlY3QnIHx8IGYudHlwZSA9PSAncmFkaW8nKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pbmNsdWRlcyhvbGRfdikpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ211bHRpU2VsZWN0Jykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZi5vcHRpb25zLnNwbGl0KCdcXG4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgb2xkX211bHRpU2VsZWN0ZWQgPSBvbGRfdi5zcGxpdCgnLCcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBuZXdfbXVsdGlTZWxlY3RlZCA9IF8uaW50ZXJzZWN0aW9uKG9wdGlvbnMsIG9sZF9tdWx0aVNlbGVjdGVkKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvbGRfdiA9IG5ld19tdWx0aVNlbGVjdGVkLmpvaW4oJywnKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0bmV3X3RhYmxlX3Jvd192YWx1ZXNba2V5XSA9IG9sZF92O1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGlmIChvbGRfdGFibGVfcm93X3ZhbHVlcy5faWQpIHtcclxuXHRcdFx0XHRcdFx0XHRuZXdfdGFibGVfcm93X3ZhbHVlcy5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIV8uaXNFbXB0eShuZXdfdGFibGVfcm93X3ZhbHVlcykpIHtcclxuXHRcdFx0XHRcdFx0XHRuZXdfdmFsdWVzW2ZpZWxkLmNvZGVdLnB1c2gobmV3X3RhYmxlX3Jvd192YWx1ZXMpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyDot6jlt6XkvZzljLrovazlj5HkuI3lpI3liLbpgInkurrpgInnu4RcclxuXHRcdFx0XHRpZiAoWydncm91cCcsICd1c2VyJ10uaW5jbHVkZXMoZmllbGQudHlwZSkgJiYgb2xkX3NwYWNlX2lkICE9IHNwYWNlX2lkKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciBrZXkgPSBmaWVsZC5jb2RlO1xyXG5cdFx0XHRcdHZhciBvbGRfdiA9IG9sZF92YWx1ZXNba2V5XTtcclxuXHRcdFx0XHRpZiAob2xkX3YpIHtcclxuXHRcdFx0XHRcdC8vIOagoemqjCDljZXpgInvvIzlpJrpgInvvIzkuIvmi4nmoYYg5a2X5q615YC85piv5ZCm5Zyo5paw6KGo5Y2V5a+55bqU5a2X5q6155qE5Y+v6YCJ5YC86IyD5Zu05YaFXHJcblx0XHRcdFx0XHRpZiAoZmllbGQudHlwZSA9PSAnc2VsZWN0JyB8fCBmaWVsZC50eXBlID09ICdyYWRpbycpIHtcclxuXHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmaWVsZC5vcHRpb25zLnNwbGl0KCdcXG4nKTtcclxuXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmluY2x1ZGVzKG9sZF92KSlcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKGZpZWxkLnR5cGUgPT0gJ211bHRpU2VsZWN0Jykge1xyXG5cdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGZpZWxkLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xyXG5cdFx0XHRcdFx0XHR2YXIgb2xkX211bHRpU2VsZWN0ZWQgPSBvbGRfdi5zcGxpdCgnLCcpO1xyXG5cdFx0XHRcdFx0XHR2YXIgbmV3X211bHRpU2VsZWN0ZWQgPSBfLmludGVyc2VjdGlvbihvcHRpb25zLCBvbGRfbXVsdGlTZWxlY3RlZCk7XHJcblx0XHRcdFx0XHRcdG9sZF92ID0gbmV3X211bHRpU2VsZWN0ZWQuam9pbignLCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdG5ld192YWx1ZXNba2V5XSA9IG9sZF92O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pXHJcblxyXG5cdFx0Ly/lpoLmnpzmmK/liIblj5HvvIzliJl2YWx1ZeS4reeahHJlY29yZF9uZWVk44CBRk9ORFNJROS4jemcgOimgeWIhuWPkeWIsOaWsOeUs+ivt+WNleS4rVxyXG5cdFx0aWYgKGFjdGlvbl90eXBlID09PSAnZGlzdHJpYnV0ZScpIHtcclxuXHRcdFx0ZGVsZXRlIG5ld192YWx1ZXMucmVjb3JkX25lZWQ7XHJcblx0XHRcdGRlbGV0ZSBuZXdfdmFsdWVzLkZPTkRTSUQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8g6K6h566X55Sz6K+35Y2V5qCH6aKYXHJcblx0XHR2YXIgaW5zdGFuY2VfbmFtZSA9IFwiXCI7XHJcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybS5jdXJyZW50Lm5hbWVfZm9ydW1sYTtcclxuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHR2YXIgaXNjcmlwdCA9IG5hbWVfZm9ydW1sYS5yZXBsYWNlKC9cXHsvZywgXCIobmV3X3ZhbHVlc1snXCIpLnJlcGxhY2UoL1xcfS9nLCBcIiddIHx8ICcnKVwiKTtcclxuXHRcdFx0XHR2YXIgcmV2ID0gZXZhbChpc2NyaXB0KTtcclxuXHRcdFx0XHRpbnN0YW5jZV9uYW1lID0gcmV2IHx8IGZsb3cubmFtZTtcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdjYWN1bGF0ZV9pbnN0YW5jZV9uYW1lJywgXCLorqHnrpfnlLPor7fljZXmoIfpopjlh7rplJnor7fmo4Dmn6XooajljZXmoIfpopjohJrmnKzjgIJcIik7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluc3RhbmNlX25hbWUgPSBmbG93Lm5hbWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gaW5zdGFuY2XkuK3orrDlvZXlvZPliY3mraXpqqTlkI3np7AgIzEzMTRcclxuXHRcdHZhciBzdGFydF9zdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24gKHN0ZXApIHtcclxuXHRcdFx0cmV0dXJuIHN0ZXAuc3RlcF90eXBlID09ICdzdGFydCc7XHJcblx0XHR9KVxyXG5cclxuXHRcdC8vIOaWsOW7uueUs+ivt+WNleaXtu+8jGluc3RhbmNlc+iusOW9lea1geeoi+WQjeensOOAgea1geeoi+WIhuexu+WQjeensCAjMTMxM1xyXG5cdFx0dmFyIGNhdGVnb3J5X25hbWUgPSBcIlwiO1xyXG5cdFx0aWYgKGZvcm0uY2F0ZWdvcnkpIHtcclxuXHRcdFx0dmFyIGNhdGVnb3J5ID0gdXVmbG93TWFuYWdlci5nZXRDYXRlZ29yeShmb3JtLmNhdGVnb3J5KTtcclxuXHRcdFx0aWYgKGNhdGVnb3J5KVxyXG5cdFx0XHRcdGNhdGVnb3J5X25hbWUgPSBjYXRlZ29yeS5uYW1lO1xyXG5cdFx0fVxyXG5cclxuXHRcdF8uZWFjaChmb3J3YXJkX3VzZXJzLCBmdW5jdGlvbiAodXNlcl9pZCkge1xyXG5cclxuXHRcdFx0dmFyIHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcl9pZCk7XHJcblxyXG5cdFx0XHR2YXIgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xyXG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHR1c2VyOiB1c2VyX2lkXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciBzcGFjZV91c2VyX29yZ19pbmZvID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcclxuXHRcdFx0XHRfaWQ6IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR2YXIgbm93ID0gbmV3IERhdGUoKTtcclxuXHRcdFx0dmFyIGluc19vYmogPSB7fTtcclxuXHJcblx0XHRcdHZhciBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJfaWQpO1xyXG5cdFx0XHR2YXIgaGFuZGxlcl9pZCA9IHVzZXJfaWQ7XHJcblx0XHRcdHZhciBoYW5kbGVyX2luZm8gPSB1c2VyX2luZm87XHJcblx0XHRcdHZhciBoYW5kbGVyX3NwYWNlX3VzZXIgPSBzcGFjZV91c2VyO1xyXG5cdFx0XHR2YXIgaGFuZGxlcl9vcmdfaW5mbyA9IHNwYWNlX3VzZXJfb3JnX2luZm87XHJcblx0XHRcdGlmIChhZ2VudCkge1xyXG5cdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudDtcclxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGFnZW50KTtcclxuXHRcdFx0XHRoYW5kbGVyX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgYWdlbnQpO1xyXG5cdFx0XHRcdGhhbmRsZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oaGFuZGxlcl9zcGFjZV91c2VyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpbnNfb2JqLl9pZCA9IGRiLmluc3RhbmNlcy5fbWFrZU5ld0lEKCk7XHJcblx0XHRcdGluc19vYmouc3BhY2UgPSBzcGFjZV9pZDtcclxuXHRcdFx0aW5zX29iai5mbG93ID0gZmxvd19pZDtcclxuXHRcdFx0aW5zX29iai5mbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuX2lkO1xyXG5cdFx0XHRpbnNfb2JqLmZvcm0gPSBmbG93LmZvcm07XHJcblx0XHRcdGluc19vYmouZm9ybV92ZXJzaW9uID0gZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcclxuXHRcdFx0aW5zX29iai5uYW1lID0gaW5zdGFuY2VfbmFtZTtcclxuXHRcdFx0aW5zX29iai5zdWJtaXR0ZXIgPSBoYW5kbGVyX2lkO1xyXG5cdFx0XHRpbnNfb2JqLnN1Ym1pdHRlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XHJcblx0XHRcdGluc19vYmouYXBwbGljYW50ID0gdXNlcl9pZDtcclxuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xyXG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcclxuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvLm5hbWU7XHJcblx0XHRcdGluc19vYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm8uZnVsbG5hbWU7XHJcblx0XHRcdGluc19vYmouc3RhdGUgPSBcImRyYWZ0XCI7XHJcblx0XHRcdGluc19vYmouY29kZSA9IFwiXCI7XHJcblx0XHRcdGluc19vYmouaXNfYXJjaGl2ZWQgPSBmYWxzZTtcclxuXHRcdFx0aW5zX29iai5pc19kZWxldGVkID0gZmFsc2U7XHJcblx0XHRcdGluc19vYmouY3JlYXRlZCA9IG5vdztcclxuXHRcdFx0aW5zX29iai5jcmVhdGVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xyXG5cdFx0XHRpbnNfb2JqLm1vZGlmaWVkID0gbm93O1xyXG5cdFx0XHRpbnNfb2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xyXG5cdFx0XHRpbnNfb2JqLmluYm94X3VzZXJzID0gW2hhbmRsZXJfaWRdO1xyXG5cdFx0XHRpbnNfb2JqLnZhbHVlcyA9IG5ld192YWx1ZXM7XHJcblx0XHRcdGlmIChhY3Rpb25fdHlwZSA9PSAnZGlzdHJpYnV0ZScpIHtcclxuXHRcdFx0XHQvLyDop6PlhrPlpJrmrKHliIblj5HnnIvkuI3liLDmraPmlofjgIHpmYTku7bpl67pophcclxuXHRcdFx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xyXG5cdFx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgPSBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcclxuXHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMucHVzaChpbnN0YW5jZV9pZCk7XHJcblxyXG5cdFx0XHRcdGlmIChyZWxhdGVkKSB7XHJcblx0XHRcdFx0XHRpbnNfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gW2luc3RhbmNlX2lkXVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uX3R5cGUgPT0gJ2ZvcndhcmQnKSB7XHJcblx0XHRcdFx0aW5zX29iai5mb3J3YXJkX2Zyb21faW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyDmlrDlu7pUcmFjZVxyXG5cdFx0XHR2YXIgdHJhY2Vfb2JqID0ge307XHJcblx0XHRcdHRyYWNlX29iai5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xyXG5cdFx0XHR0cmFjZV9vYmouaW5zdGFuY2UgPSBpbnNfb2JqLl9pZDtcclxuXHRcdFx0dHJhY2Vfb2JqLmlzX2ZpbmlzaGVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHQvLyDlvZPliY3mnIDmlrDniYhmbG935Lit5byA5aeL6IqC54K555qEc3RlcF9pZFxyXG5cdFx0XHR2YXIgc3RlcF9pZCwgc3RlcF9uYW1lLCBjYW5fZWRpdF9tYWluX2F0dGFjaCwgY2FuX2VkaXRfbm9ybWFsX2F0dGFjaDtcclxuXHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHN0ZXApIHtcclxuXHRcdFx0XHRpZiAoc3RlcC5zdGVwX3R5cGUgPT0gXCJzdGFydFwiKSB7XHJcblx0XHRcdFx0XHRzdGVwX2lkID0gc3RlcC5faWQ7XHJcblx0XHRcdFx0XHRzdGVwX25hbWUgPSBzdGVwLm5hbWU7XHJcblx0XHRcdFx0XHRjYW5fZWRpdF9tYWluX2F0dGFjaCA9IHN0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2g7XHJcblx0XHRcdFx0XHRjYW5fZWRpdF9ub3JtYWxfYXR0YWNoID0gc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0dHJhY2Vfb2JqLnN0ZXAgPSBzdGVwX2lkO1xyXG5cdFx0XHR0cmFjZV9vYmouc3RhcnRfZGF0ZSA9IG5vdztcclxuXHRcdFx0dHJhY2Vfb2JqLm5hbWUgPSBzdGVwX25hbWU7XHJcblxyXG5cdFx0XHQvLyDmlrDlu7pBcHByb3ZlXHJcblx0XHRcdHZhciBhcHByX29iaiA9IHt9O1xyXG5cdFx0XHRhcHByX29iai5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xyXG5cdFx0XHRhcHByX29iai5pbnN0YW5jZSA9IGluc19vYmouX2lkO1xyXG5cdFx0XHRhcHByX29iai50cmFjZSA9IHRyYWNlX29iai5faWQ7XHJcblx0XHRcdGFwcHJfb2JqLmlzX2ZpbmlzaGVkID0gZmFsc2U7XHJcblx0XHRcdGFwcHJfb2JqLnVzZXIgPSB1c2VyX2lkO1xyXG5cdFx0XHRhcHByX29iai51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZTtcclxuXHRcdFx0YXBwcl9vYmouaGFuZGxlciA9IGhhbmRsZXJfaWQ7XHJcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xyXG5cdFx0XHRhcHByX29iai5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGhhbmRsZXJfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XHJcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBoYW5kbGVyX29yZ19pbmZvLm5hbWU7XHJcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gaGFuZGxlcl9vcmdfaW5mby5mdWxsbmFtZTtcclxuXHRcdFx0YXBwcl9vYmoudHlwZSA9IFwiZHJhZnRcIjtcclxuXHRcdFx0YXBwcl9vYmouc3RhcnRfZGF0ZSA9IG5vdztcclxuXHRcdFx0YXBwcl9vYmoucmVhZF9kYXRlID0gbm93O1xyXG5cdFx0XHRhcHByX29iai5pc19yZWFkID0gZmFsc2U7XHJcblx0XHRcdGFwcHJfb2JqLmlzX2Vycm9yID0gZmFsc2U7XHJcblxyXG5cdFx0XHRhcHByX29iai52YWx1ZXMgPSBuZXdfdmFsdWVzO1xyXG5cclxuXHRcdFx0aWYgKGFnZW50KSB7XHJcblx0XHRcdFx0YXBwcl9vYmouYWdlbnQgPSBhZ2VudDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dHJhY2Vfb2JqLmFwcHJvdmVzID0gW2FwcHJfb2JqXTtcclxuXHRcdFx0aW5zX29iai50cmFjZXMgPSBbdHJhY2Vfb2JqXTtcclxuXHJcblx0XHRcdGlmIChmbG93LmF1dG9fcmVtaW5kID09IHRydWUpXHJcblx0XHRcdFx0aW5zX29iai5hdXRvX3JlbWluZCA9IHRydWU7XHJcblxyXG5cdFx0XHRpbnNfb2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gc3RhcnRfc3RlcC5uYW1lO1xyXG5cclxuXHRcdFx0aW5zX29iai5mbG93X25hbWUgPSBmbG93Lm5hbWU7XHJcblx0XHRcdGlmIChjYXRlZ29yeV9uYW1lKSB7XHJcblx0XHRcdFx0aW5zX29iai5jYXRlZ29yeV9uYW1lID0gY2F0ZWdvcnkubmFtZTtcclxuXHRcdFx0XHRpbnNfb2JqLmNhdGVnb3J5ID0gY2F0ZWdvcnkuX2lkO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRuZXdfaW5zX2lkID0gZGIuaW5zdGFuY2VzLmluc2VydChpbnNfb2JqKTtcclxuXHJcblx0XHRcdC8vIOWkjeWItumZhOS7tlxyXG5cdFx0XHR2YXIgY29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXM7XHJcblxyXG5cdFx0XHQvL+WwhuWOn+ihqOWNleWGheWuueWtmOWCqOS4uuesrOS4gOS4qumZhOS7tlxyXG5cdFx0XHRpZiAoaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50KSB7XHJcblx0XHRcdFx0Ly8gdHJ5IHtcclxuXHJcblx0XHRcdFx0aW5zdGFuY2VIdG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyX2luZm8sIHNwYWNlX2lkLCBpbnMsIHtcclxuXHRcdFx0XHRcdGFic29sdXRlOiB0cnVlXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHR2YXIgaW5zdGFuY2VGaWxlID0gbmV3IEZTLkZpbGUoKTtcclxuXHRcdFx0XHRpbnN0YW5jZUZpbGUuYXR0YWNoRGF0YShCdWZmZXIuZnJvbShpbnN0YW5jZUh0bWwsIFwidXRmLThcIiksIHtcclxuXHRcdFx0XHRcdHR5cGU6IFwidGV4dC9odG1sXCJcclxuXHRcdFx0XHR9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdGlmIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKGVycm9yLmVycm9yLCBlcnJvci5yZWFzb24pO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGluc3RhbmNlRmlsZS5uYW1lKGlucy5uYW1lICsgXCIuaHRtbFwiKTtcclxuXHRcdFx0XHRcdGluc3RhbmNlRmlsZS5zaXplKGluc3RhbmNlSHRtbC5sZW5ndGgpO1xyXG5cclxuXHRcdFx0XHRcdHZhciBtZXRhZGF0YSA9IHtcclxuXHRcdFx0XHRcdFx0b3duZXI6IHVzZXJfaWQsXHJcblx0XHRcdFx0XHRcdG93bmVyX25hbWU6IHVzZXJfaW5mby5uYW1lLFxyXG5cdFx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXHJcblx0XHRcdFx0XHRcdGluc3RhbmNlOiBuZXdfaW5zX2lkLFxyXG5cdFx0XHRcdFx0XHRhcHByb3ZlOiBhcHByX29iai5faWQsXHJcblx0XHRcdFx0XHRcdGN1cnJlbnQ6IHRydWVcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRpbnN0YW5jZUZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcclxuXHRcdFx0XHRcdHZhciBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQoaW5zdGFuY2VGaWxlKTtcclxuXHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHtcclxuXHRcdFx0XHRcdFx0JHNldDoge1xyXG5cdFx0XHRcdFx0XHRcdCdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH0pXHJcblxyXG5cdFx0XHRcdC8vIH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHQvLyAgICAgY29uc29sZS5lcnJvcihlKTtcclxuXHRcdFx0XHQvLyB9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChpc0ZvcndhcmRBdHRhY2htZW50cyAmJiBhY3Rpb25fdHlwZSA9PSAnZm9yd2FyZCcpIHtcclxuXHRcdFx0XHR2YXIgZmlsZXMgPSBjb2xsZWN0aW9uLmZpbmQoe1xyXG5cdFx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2VfaWQsXHJcblx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XHJcblx0XHRcdFx0XHQvLyDliKTmlq3mlrDnmoTmtYHnqIvlvIDlp4voioLngrnmmK/lkKbmnInnvJbovpHmraPmloflkoznvJbovpHpmYTku7bmnYPpmZBcclxuXHRcdFx0XHRcdGlmIChmLm1ldGFkYXRhLm1haW4gPT0gdHJ1ZSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoY2FuX2VkaXRfbWFpbl9hdHRhY2ggIT0gdHJ1ZSAmJiBjYW5fZWRpdF9ub3JtYWxfYXR0YWNoICE9IHRydWUpXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0aWYgKGNhbl9lZGl0X25vcm1hbF9hdHRhY2ggIT0gdHJ1ZSlcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0dmFyIG5ld0ZpbGUgPSBuZXcgRlMuRmlsZSgpO1xyXG5cdFx0XHRcdFx0bmV3RmlsZS5hdHRhY2hEYXRhKGYuY3JlYXRlUmVhZFN0cmVhbSgnaW5zdGFuY2VzJyksIHtcclxuXHRcdFx0XHRcdFx0dHlwZTogZi5vcmlnaW5hbC50eXBlXHJcblx0XHRcdFx0XHR9LCBmdW5jdGlvbiAoZXJyKSB7XHJcblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKGVyci5lcnJvciwgZXJyLnJlYXNvbik7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0bmV3RmlsZS5uYW1lKGYubmFtZSgpKTtcclxuXHRcdFx0XHRcdFx0bmV3RmlsZS5zaXplKGYuc2l6ZSgpKTtcclxuXHRcdFx0XHRcdFx0dmFyIG1ldGFkYXRhID0ge1xyXG5cdFx0XHRcdFx0XHRcdG93bmVyOiB1c2VyX2lkLFxyXG5cdFx0XHRcdFx0XHRcdG93bmVyX25hbWU6IHVzZXJfaW5mby5uYW1lLFxyXG5cdFx0XHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHRcdFx0XHRpbnN0YW5jZTogbmV3X2luc19pZCxcclxuXHRcdFx0XHRcdFx0XHRhcHByb3ZlOiBhcHByX29iai5faWQsXHJcblx0XHRcdFx0XHRcdFx0Y3VycmVudDogdHJ1ZVxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRpZiAoZi5tZXRhZGF0YS5tYWluID09IHRydWUgJiYgY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLm1haW4gPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcclxuXHRcdFx0XHRcdFx0dmFyIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcclxuXHRcdFx0XHRcdFx0ZmlsZU9iai51cGRhdGUoe1xyXG5cdFx0XHRcdFx0XHRcdCRzZXQ6IHtcclxuXHRcdFx0XHRcdFx0XHRcdCdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdH0pXHJcblxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIOe7meW9k+WJjeeahOeUs+ivt+WNleWinuWKoOi9rOWPkeiusOW9lVxyXG5cdFx0XHR2YXIgYXBwciA9IHtcclxuXHRcdFx0XHQnX2lkJzogbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cixcclxuXHRcdFx0XHQnaW5zdGFuY2UnOiBpbnN0YW5jZV9pZCxcclxuXHRcdFx0XHQndHJhY2UnOiBjdXJyZW50X3RyYWNlX2lkLFxyXG5cdFx0XHRcdCdpc19maW5pc2hlZCc6IHRydWUsXHJcblx0XHRcdFx0J3VzZXInOiB1c2VyX2lkLFxyXG5cdFx0XHRcdCd1c2VyX25hbWUnOiB1c2VyX2luZm8ubmFtZSxcclxuXHRcdFx0XHQnaGFuZGxlcic6IHVzZXJfaWQsXHJcblx0XHRcdFx0J2hhbmRsZXJfbmFtZSc6IHVzZXJfaW5mby5uYW1lLFxyXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbic6IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uLFxyXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lJzogc3BhY2VfdXNlcl9vcmdfaW5mby5uYW1lLFxyXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSc6IHNwYWNlX3VzZXJfb3JnX2luZm8uZnVsbG5hbWUsXHJcblx0XHRcdFx0J3R5cGUnOiBhY3Rpb25fdHlwZSxcclxuXHRcdFx0XHQnc3RhcnRfZGF0ZSc6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0J2ZpbmlzaF9kYXRlJzogbmV3IERhdGUoKSxcclxuXHRcdFx0XHQnaXNfcmVhZCc6IGZhbHNlLFxyXG5cdFx0XHRcdCdqdWRnZSc6ICdzdWJtaXR0ZWQnLFxyXG5cdFx0XHRcdCdmcm9tX3VzZXInOiBjdXJyZW50X3VzZXJfaWQsXHJcblx0XHRcdFx0J2Zyb21fdXNlcl9uYW1lJzogZnJvbV91c2VyX25hbWUsXHJcblx0XHRcdFx0J2ZvcndhcmRfc3BhY2UnOiBzcGFjZV9pZCxcclxuXHRcdFx0XHQnZm9yd2FyZF9pbnN0YW5jZSc6IG5ld19pbnNfaWQsXHJcblx0XHRcdFx0J2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb24sXHJcblx0XHRcdFx0J2Zyb21fYXBwcm92ZV9pZCc6IGZyb21fYXBwcm92ZV9pZFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Zm9yd2FyZF9hcHByb3Zlcy5wdXNoKGFwcHIpO1xyXG5cclxuXHRcdFx0bmV3X2luc19pZHMucHVzaChuZXdfaW5zX2lkKTtcclxuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xyXG5cdFx0fSlcclxuXHJcblx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJfaWQ7XHJcblx0XHR2YXIgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxyXG5cdFx0XHRcInRyYWNlcy5faWRcIjogY3VycmVudF90cmFjZV9pZFxyXG5cdFx0fSwge1xyXG5cdFx0XHQkc2V0OiBzZXRfb2JqLFxyXG5cdFx0XHQkYWRkVG9TZXQ6IHtcclxuXHRcdFx0XHQndHJhY2VzLiQuYXBwcm92ZXMnOiB7XHJcblx0XHRcdFx0XHQkZWFjaDogZm9yd2FyZF9hcHByb3Zlc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKHIpIHtcclxuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhLCBpZHgpIHtcclxuXHRcdFx0XHRpZiAoYS5faWQgPT0gZnJvbV9hcHByb3ZlX2lkKSB7XHJcblx0XHRcdFx0XHR2YXIgdXBkYXRlX3JlYWQgPSB7fTtcclxuXHRcdFx0XHRcdHVwZGF0ZV9yZWFkW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRcdF9pZDogaW5zdGFuY2VfaWQsXHJcblx0XHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBjdXJyZW50X3RyYWNlX2lkXHJcblx0XHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRcdCRzZXQ6IHVwZGF0ZV9yZWFkXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7IG5ld19pbnNfaWRzOiBuZXdfaW5zX2lkcyB9XHJcblx0XHR9KVxyXG5cdH0gY2F0Y2ggKGUpIHtcclxuXHRcdGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0ZXJyb3JzOiBbZV1cclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG59KSIsIkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS93b3JrZmxvdy9pbnN0YW5jZS86aW5zdGFuY2VJZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSwgcmVzKVxyXG5cdFx0Y3VycmVudF91c2VyX2lkID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblx0XHRyZXFfYXN5bmMgPSBfLmhhcyhyZXEucXVlcnksICdhc3luYycpO1xyXG5cdFx0aW5zSWQgPSByZXEucGFyYW1zLmluc3RhbmNlSWRcclxuXHJcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwgeyBmaWVsZHM6IHsgc3BhY2U6IDEsIGZsb3c6IDEsIHN0YXRlOiAxLCBpbmJveF91c2VyczogMSwgY2NfdXNlcnM6IDEsIG91dGJveF91c2VyczogMSwgc3VibWl0dGVyOiAxLCBhcHBsaWNhbnQ6IDEgfSB9KVxyXG5cclxuXHRcdGlmIG5vdCBpbnNcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2VJZCBpcyB3cm9uZyBvciBpbnN0YW5jZSBub3QgZXhpc3RzLicpXHJcblxyXG5cdFx0c3BhY2VJZCA9IGlucy5zcGFjZVxyXG5cdFx0Zmxvd0lkID0gaW5zLmZsb3dcclxuXHJcblx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlSWQsIHVzZXI6IGN1cnJlbnRfdXNlcl9pZCB9KS5jb3VudCgpIGlzIDBcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAndXNlciBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UuJylcclxuXHJcblx0XHRib3ggPSAnJ1xyXG5cclxuXHRcdGlmIChpbnMuaW5ib3hfdXNlcnM/LmluY2x1ZGVzIGN1cnJlbnRfdXNlcl9pZCkgb3IgKGlucy5jY191c2Vycz8uaW5jbHVkZXMgY3VycmVudF91c2VyX2lkKVxyXG5cdFx0XHRib3ggPSAnaW5ib3gnXHJcblx0XHRlbHNlIGlmIGlucy5vdXRib3hfdXNlcnM/LmluY2x1ZGVzIGN1cnJlbnRfdXNlcl9pZFxyXG5cdFx0XHRib3ggPSAnb3V0Ym94J1xyXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ2RyYWZ0JyBhbmQgaW5zLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXJfaWRcclxuXHRcdFx0Ym94ID0gJ2RyYWZ0J1xyXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ3BlbmRpbmcnIGFuZCAoaW5zLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXJfaWQgb3IgaW5zLmFwcGxpY2FudCBpcyBjdXJyZW50X3VzZXJfaWQpXHJcblx0XHRcdGJveCA9ICdwZW5kaW5nJ1xyXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ2NvbXBsZXRlZCcgYW5kIGlucy5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyX2lkXHJcblx0XHRcdGJveCA9ICdjb21wbGV0ZWQnXHJcblx0XHRlbHNlXHJcblx0XHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxyXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93SWQsIGN1cnJlbnRfdXNlcl9pZClcclxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkLCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxyXG5cdFx0XHRpZiAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpKVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJubyBwZXJtaXNzaW9uLlwiKVxyXG5cdFx0XHRib3ggPSAnbW9uaXRvcidcclxuXHJcblx0XHRyZWRpcmVjdFRvID0gXCJ3b3JrZmxvdy9zcGFjZS8je3NwYWNlSWR9LyN7Ym94fS8je2luc0lkfVwiXHJcblx0XHRyZWRpcmVjdFRvVXJsID0gTWV0ZW9yLmFic29sdXRlVXJsKHJlZGlyZWN0VG8pXHJcblx0XHRpZiByZXFfYXN5bmMgIyB8fCByZXEuZ2V0KFwiWC1SZXF1ZXN0ZWQtV2l0aFwiKSA9PT0gJ1hNTEh0dHBSZXF1ZXN0J1xyXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1xyXG5cdFx0XHRcdFwic3RhdHVzXCI6IDMwMixcclxuXHRcdFx0XHRcInJlZGlyZWN0XCI6IHJlZGlyZWN0VG9cclxuXHRcdFx0fSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdHJlcy5zZXRIZWFkZXIgXCJMb2NhdGlvblwiLCByZWRpcmVjdFRvVXJsXHJcblx0XHRcdHJlcy53cml0ZUhlYWQgMzAyXHJcblx0XHRcdHJlcy5lbmQoKVxyXG5cdFx0XHRyZXR1cm5cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cclxuIiwiSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L2luc3RhbmNlLzppbnN0YW5jZUlkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGJveCwgY3VycmVudF91c2VyX2lkLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvd0lkLCBpbnMsIGluc0lkLCBwZXJtaXNzaW9ucywgcmVkaXJlY3RUbywgcmVkaXJlY3RUb1VybCwgcmVmLCByZWYxLCByZWYyLCByZXFfYXN5bmMsIHNwYWNlLCBzcGFjZUlkO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSwgcmVzKTtcbiAgICBjdXJyZW50X3VzZXJfaWQgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgcmVxX2FzeW5jID0gXy5oYXMocmVxLnF1ZXJ5LCAnYXN5bmMnKTtcbiAgICBpbnNJZCA9IHJlcS5wYXJhbXMuaW5zdGFuY2VJZDtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBmbG93OiAxLFxuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaW5ib3hfdXNlcnM6IDEsXG4gICAgICAgIGNjX3VzZXJzOiAxLFxuICAgICAgICBvdXRib3hfdXNlcnM6IDEsXG4gICAgICAgIHN1Ym1pdHRlcjogMSxcbiAgICAgICAgYXBwbGljYW50OiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlSWQgaXMgd3Jvbmcgb3IgaW5zdGFuY2Ugbm90IGV4aXN0cy4nKTtcbiAgICB9XG4gICAgc3BhY2VJZCA9IGlucy5zcGFjZTtcbiAgICBmbG93SWQgPSBpbnMuZmxvdztcbiAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgIHVzZXI6IGN1cnJlbnRfdXNlcl9pZFxuICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ3VzZXIgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlLicpO1xuICAgIH1cbiAgICBib3ggPSAnJztcbiAgICBpZiAoKChyZWYgPSBpbnMuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSA6IHZvaWQgMCkgfHwgKChyZWYxID0gaW5zLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmMS5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpIDogdm9pZCAwKSkge1xuICAgICAgYm94ID0gJ2luYm94JztcbiAgICB9IGVsc2UgaWYgKChyZWYyID0gaW5zLm91dGJveF91c2VycykgIT0gbnVsbCA/IHJlZjIuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSA6IHZvaWQgMCkge1xuICAgICAgYm94ID0gJ291dGJveCc7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdkcmFmdCcgJiYgaW5zLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyX2lkKSB7XG4gICAgICBib3ggPSAnZHJhZnQnO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAncGVuZGluZycgJiYgKGlucy5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlcl9pZCB8fCBpbnMuYXBwbGljYW50ID09PSBjdXJyZW50X3VzZXJfaWQpKSB7XG4gICAgICBib3ggPSAncGVuZGluZyc7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdjb21wbGV0ZWQnICYmIGlucy5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlcl9pZCkge1xuICAgICAgYm94ID0gJ2NvbXBsZXRlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dJZCwgY3VycmVudF91c2VyX2lkKTtcbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZCwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBhZG1pbnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwibm8gcGVybWlzc2lvbi5cIik7XG4gICAgICB9XG4gICAgICBib3ggPSAnbW9uaXRvcic7XG4gICAgfVxuICAgIHJlZGlyZWN0VG8gPSBcIndvcmtmbG93L3NwYWNlL1wiICsgc3BhY2VJZCArIFwiL1wiICsgYm94ICsgXCIvXCIgKyBpbnNJZDtcbiAgICByZWRpcmVjdFRvVXJsID0gTWV0ZW9yLmFic29sdXRlVXJsKHJlZGlyZWN0VG8pO1xuICAgIGlmIChyZXFfYXN5bmMpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XG4gICAgICAgIFwic3RhdHVzXCI6IDMwMixcbiAgICAgICAgXCJyZWRpcmVjdFwiOiByZWRpcmVjdFRvXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnNldEhlYWRlcihcIkxvY2F0aW9uXCIsIHJlZGlyZWN0VG9VcmwpO1xuICAgICAgcmVzLndyaXRlSGVhZCgzMDIpO1xuICAgICAgcmVzLmVuZCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xyXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nIOiOt+WPluW+heWKnuaWh+S7tlxyXG5cclxuQGFwaURlc2NyaXB0aW9uIOiOt+WPluW9k+WJjeeUqOaIt+eahOW+heWKnuS6i+mhueWIl+ihqFxyXG5cclxuQGFwaU5hbWUgZ2V0SW5ib3hcclxuXHJcbkBhcGlHcm91cCBXb3JrZmxvd1xyXG5cclxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxyXG5cclxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxyXG5cclxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxyXG5cdHtcclxuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcclxuXHR9XHJcblxyXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XHJcblx0e1xyXG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXHJcblx0XHRcImRhdGFcIjogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0XCJpZFwiOiBcImc3d29rWE5rUjl5eEh2QTREXCIsXHJcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXHJcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlofmtYHnqItcIixcclxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcclxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlofmtYHnqIsgMVwiLFxyXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogbnVsbCxcclxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxyXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA3LTI1VDA2OjM2OjQ4LjQ5MlpcIixcclxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxyXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxyXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcclxuXHRcdFx0XHRcImlzX3JlYWRcIjogZmFsc2UsXHJcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdFwiaWRcIjogXCJXcUtTcldRb3l3Z0phTXA5a1wiLFxyXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIwWlwiLFxyXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paHXFxuXCIsXHJcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXHJcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paHXFxuIDFcIixcclxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IFwi5q635Lqu6L6JXCIsXHJcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcclxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNi0yN1QxMDoyNjoxOS40NjhaXCIsXHJcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcclxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcclxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjFaXCIsXHJcblx0XHRcdFx0XCJpc19yZWFkXCI6IHRydWUsXHJcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cclxuXHRcdFx0fVxyXG5cdFx0XVxyXG5cdH1cclxuIyMjXHJcbkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddIHx8IHJlcS5xdWVyeT8uc3BhY2VJZFxyXG5cclxuXHRcdGlmIG5vdCBzcGFjZV9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHNwYWNlX2lkJylcclxuXHJcblx0XHR1c2VyX2lkID0gcmVxLnVzZXJJZFxyXG5cclxuXHRcdGlmICF1c2VyX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ05vdCBsb2dnZWQgaW4nKVxyXG5cclxuXHRcdGlmIGRiLnVzZXJzLmZpbmQoeyBfaWQ6IHVzZXJfaWQgfSkuY291bnQoKSBpcyAwXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcclxuXHJcblx0XHRsaW1pdCA9IHJlcS5xdWVyeT8ubGltaXQgfHwgNTAwXHJcblxyXG5cdFx0bGltaXQgPSBwYXJzZUludChsaW1pdClcclxuXHJcblx0XHR1c2VybmFtZSA9IHJlcS5xdWVyeT8udXNlcm5hbWVcclxuXHJcblx0XHR1c2VyaWQgPSByZXEucXVlcnk/LnVzZXJpZFxyXG5cclxuXHRcdGF0dGFjaCA9IHJlcS5xdWVyeT8uYXR0YWNoXHJcblxyXG5cdFx0d29ya2Zsb3dfY2F0ZWdvcmllcyA9IHJlcS5xdWVyeT8ud29ya2Zsb3dfY2F0ZWdvcmllc1xyXG5cclxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcclxuXHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHJcblx0XHQjIOWmguaenOW9k+WJjeeUqOaIt+aYr+W3peS9nOWMuueuoeeQhuWRmO+8jOWImemAmui/h+afpeeci3VybOS4iuaYr+WQpuaciXVzZXJuYW1lXFx1c2VyaWQg77yMXHJcblx0XHQjIOWmguaenOacie+8jOWImei/lOWbnnVzZXJuYW1lXFx1c2VyaWTlr7nlupTnmoTnlKjmiLfvvIzlkKbliJnov5Tlm57lvZPliY3nlKjmiLflvoXlip7jgIJcclxuXHRcdCMgdXNlcm5hbWVcXHVzZXJpZOmDveWtmOWcqOaXtu+8jHVzZXJpZOS8mOWFiFxyXG5cdFx0c3BlY2lhbF91c2VyX2lkXHJcblx0XHRpZiBzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcl9pZClcclxuXHRcdFx0aWYgdXNlcmlkXHJcblx0XHRcdFx0aWYgZGIudXNlcnMuZmluZCh7IF9pZDogdXNlcmlkIH0pLmNvdW50KCkgPCAxXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcmlkOiAje3VzZXJpZH1cIilcclxuXHJcblx0XHRcdFx0c3BlY2lhbF91c2VyX2lkID0gdXNlcmlkXHJcblx0XHRcdGVsc2UgaWYgdXNlcm5hbWVcclxuXHRcdFx0XHR1ID0gZGIudXNlcnMuZmluZE9uZSh7IHVzZXJuYW1lOiB1c2VybmFtZSB9LCB7IGZpZWxkczogeyBfaWQ6IDEgfSB9KVxyXG5cdFx0XHRcdGlmIF8uaXNFbXB0eSh1KVxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJuYW1lOiAje3VzZXJuYW1lfVwiKVxyXG5cclxuXHRcdFx0XHRzcGVjaWFsX3VzZXJfaWQgPSB1Ll9pZFxyXG5cclxuXHRcdHJlc3VsdF9pbnN0YW5jZXMgPSBuZXcgQXJyYXlcclxuXHJcblx0XHRpc19yZWFkID0gZmFsc2VcclxuXHRcdHN0YXJ0X2RhdGUgPSAnJ1xyXG5cdFx0dWlkID0gdXNlcl9pZFxyXG5cdFx0cXVlcnkgPSB7XHJcblx0XHRcdCRvcjogW3sgaW5ib3hfdXNlcnM6IHVzZXJfaWQgfSwgeyBjY191c2VyczogdXNlcl9pZCB9XVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIHNwZWNpYWxfdXNlcl9pZFxyXG5cdFx0XHR1aWQgPSBzcGVjaWFsX3VzZXJfaWRcclxuXHRcdFx0cXVlcnkgPSB7XHJcblx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxyXG5cdFx0XHRcdCRvcjogW3sgaW5ib3hfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZCB9LCB7IGNjX3VzZXJzOiBzcGVjaWFsX3VzZXJfaWQgfV1cclxuXHRcdFx0fVxyXG5cclxuXHRcdGlmIHdvcmtmbG93X2NhdGVnb3JpZXNcclxuXHRcdFx0cXVlcnkuY2F0ZWdvcnkgPSB7ICRpbjogd29ya2Zsb3dfY2F0ZWdvcmllcy5zcGxpdCgnLCcpIH1cclxuXHJcblx0XHRzcGFjZV9uYW1lcyA9IHt9XHJcblx0XHRzcGFjZV9uYW1lc1tzcGFjZS5faWRdID0gc3BhY2UubmFtZVxyXG5cclxuXHRcdGlmIGxpbWl0ID4gMFxyXG5cdFx0XHRkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwgeyBzb3J0OiB7IG1vZGlmaWVkOiAtMSB9LCBsaW1pdDogbGltaXQgfSkuZm9yRWFjaCAoaSkgLT5cclxuXHJcblx0XHRcdFx0aWYgaS5pbmJveF91c2Vycz8uaW5jbHVkZXModWlkKVxyXG5cdFx0XHRcdFx0Xy5lYWNoIGkudHJhY2VzLCAodCkgLT5cclxuXHRcdFx0XHRcdFx0aWYgdC5pc19maW5pc2hlZCBpcyBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cclxuXHRcdFx0XHRcdFx0XHRcdGlmIGEudXNlciBpcyB1aWQgYW5kIGEudHlwZSBpc250ICdjYycgYW5kIG5vdCBhLmlzX2ZpbmlzaGVkXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlzX3JlYWQgPSBhLmlzX3JlYWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0c3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdF8uZWFjaCBpLnRyYWNlcywgKHQpIC0+XHJcblx0XHRcdFx0XHRcdGlmIG5vdCBzdGFydF9kYXRlIGFuZCB0LmFwcHJvdmVzXHJcblx0XHRcdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhKSAtPlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgbm90IHN0YXJ0X2RhdGUgYW5kIGEudXNlciBpcyB1aWQgYW5kIGEudHlwZSBpcyAnY2MnIGFuZCBub3QgYS5pc19maW5pc2hlZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpc19yZWFkID0gYS5pc19yZWFkXHJcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGVcclxuXHJcblx0XHRcdFx0aWYgbm90IHNwYWNlX25hbWVzW2kuc3BhY2VdXHJcblx0XHRcdFx0XHRzcGFjZV9uYW1lc1tpLnNwYWNlXSA9IGRiLnNwYWNlcy5maW5kT25lKGkuc3BhY2UsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KT8ubmFtZVxyXG5cclxuXHRcdFx0XHRoID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdGhbXCJpZFwiXSA9IGlbXCJfaWRcIl1cclxuXHRcdFx0XHRoW1wic3RhcnRfZGF0ZVwiXSA9IHN0YXJ0X2RhdGVcclxuXHRcdFx0XHRoW1wiZmxvd19uYW1lXCJdID0gaS5mbG93X25hbWVcclxuXHRcdFx0XHRoW1wic3BhY2VfbmFtZVwiXSA9IHNwYWNlX25hbWVzW2kuc3BhY2VdXHJcblx0XHRcdFx0aFtcIm5hbWVcIl0gPSBpW1wibmFtZVwiXVxyXG5cdFx0XHRcdGhbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfbmFtZVwiXVxyXG5cdFx0XHRcdGhbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBpW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdXHJcblx0XHRcdFx0aFtcInN1Ym1pdF9kYXRlXCJdID0gaVtcInN1Ym1pdF9kYXRlXCJdXHJcblx0XHRcdFx0aFtcInN0ZXBfbmFtZVwiXSA9IGkuY3VycmVudF9zdGVwX25hbWVcclxuXHRcdFx0XHRoW1wic3BhY2VfaWRcIl0gPSBpLnNwYWNlXHJcblx0XHRcdFx0aFtcIm1vZGlmaWVkXCJdID0gaVtcIm1vZGlmaWVkXCJdXHJcblx0XHRcdFx0aFtcImlzX3JlYWRcIl0gPSBpc19yZWFkXHJcblx0XHRcdFx0aFtcInZhbHVlc1wiXSA9IGlbXCJ2YWx1ZXNcIl1cclxuXHJcblx0XHRcdFx0aWYgYXR0YWNoIGlzICd0cnVlJ1xyXG5cdFx0XHRcdFx0aC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7ICdtZXRhZGF0YS5pbnN0YW5jZSc6IGkuX2lkLCAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7ICRuZTogdHJ1ZSB9IH0sIHsgZmllbGRzOiB7IGNvcGllczogMCB9IH0pLmZldGNoKClcclxuXHJcblx0XHRcdFx0cmVzdWx0X2luc3RhbmNlcy5wdXNoKGgpXHJcblxyXG5cdFx0bm9fbGltaXRfY291bnQgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSkuY291bnQoKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0X2luc3RhbmNlcywgY291bnQ6IG5vX2xpbWl0X2NvdW50IH1cclxuXHRcdH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUucmVhc29uIH1dIH1cclxuXHRcdH1cclxuXHJcbiIsIlxuLypcbkBhcGkge2dldH0gL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcg6I635Y+W5b6F5Yqe5paH5Lu2XG5cbkBhcGlEZXNjcmlwdGlvbiDojrflj5blvZPliY3nlKjmiLfnmoTlvoXlip7kuovpobnliJfooahcblxuQGFwaU5hbWUgZ2V0SW5ib3hcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG5cdHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuXHR7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJpZFwiOiBcImc3d29rWE5rUjl5eEh2QTREXCIsXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh+a1geeoi1wiLFxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paH5rWB56iLIDFcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBudWxsLFxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNy0yNVQwNjozNjo0OC40OTJaXCIsXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiBmYWxzZSxcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwiaWRcIjogXCJXcUtTcldRb3l3Z0phTXA5a1wiLFxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMFpcIixcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlodcXG5cIixcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh1xcbiAxXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogXCLmrrfkuq7ovolcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDYtMjdUMTA6MjY6MTkuNDY4WlwiLFxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIxWlwiLFxuXHRcdFx0XHRcImlzX3JlYWRcIjogdHJ1ZSxcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cblx0XHRcdH1cblx0XHRdXG5cdH1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdHRhY2gsIGUsIGlzX3JlYWQsIGxpbWl0LCBub19saW1pdF9jb3VudCwgcXVlcnksIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVzdWx0X2luc3RhbmNlcywgc3BhY2UsIHNwYWNlX2lkLCBzcGFjZV9uYW1lcywgc3BlY2lhbF91c2VyX2lkLCBzdGFydF9kYXRlLCB1LCB1aWQsIHVzZXJfaWQsIHVzZXJpZCwgdXNlcm5hbWUsIHdvcmtmbG93X2NhdGVnb3JpZXM7XG4gIHRyeSB7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXSB8fCAoKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5zcGFjZUlkIDogdm9pZCAwKTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHNwYWNlX2lkJyk7XG4gICAgfVxuICAgIHVzZXJfaWQgPSByZXEudXNlcklkO1xuICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnTm90IGxvZ2dlZCBpbicpO1xuICAgIH1cbiAgICBpZiAoZGIudXNlcnMuZmluZCh7XG4gICAgICBfaWQ6IHVzZXJfaWRcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICBsaW1pdCA9ICgocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEubGltaXQgOiB2b2lkIDApIHx8IDUwMDtcbiAgICBsaW1pdCA9IHBhcnNlSW50KGxpbWl0KTtcbiAgICB1c2VybmFtZSA9IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi51c2VybmFtZSA6IHZvaWQgMDtcbiAgICB1c2VyaWQgPSAocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMudXNlcmlkIDogdm9pZCAwO1xuICAgIGF0dGFjaCA9IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5hdHRhY2ggOiB2b2lkIDA7XG4gICAgd29ya2Zsb3dfY2F0ZWdvcmllcyA9IChyZWY1ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNS53b3JrZmxvd19jYXRlZ29yaWVzIDogdm9pZCAwO1xuICAgIHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgc3BlY2lhbF91c2VyX2lkO1xuICAgIGlmIChzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgIGlmICh1c2VyaWQpIHtcbiAgICAgICAgaWYgKGRiLnVzZXJzLmZpbmQoe1xuICAgICAgICAgIF9pZDogdXNlcmlkXG4gICAgICAgIH0pLmNvdW50KCkgPCAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJpZDogXCIgKyB1c2VyaWQpO1xuICAgICAgICB9XG4gICAgICAgIHNwZWNpYWxfdXNlcl9pZCA9IHVzZXJpZDtcbiAgICAgIH0gZWxzZSBpZiAodXNlcm5hbWUpIHtcbiAgICAgICAgdSA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBfaWQ6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoXy5pc0VtcHR5KHUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJuYW1lOiBcIiArIHVzZXJuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBzcGVjaWFsX3VzZXJfaWQgPSB1Ll9pZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0X2luc3RhbmNlcyA9IG5ldyBBcnJheTtcbiAgICBpc19yZWFkID0gZmFsc2U7XG4gICAgc3RhcnRfZGF0ZSA9ICcnO1xuICAgIHVpZCA9IHVzZXJfaWQ7XG4gICAgcXVlcnkgPSB7XG4gICAgICAkb3I6IFtcbiAgICAgICAge1xuICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VyX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjY191c2VyczogdXNlcl9pZFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgICBpZiAoc3BlY2lhbF91c2VyX2lkKSB7XG4gICAgICB1aWQgPSBzcGVjaWFsX3VzZXJfaWQ7XG4gICAgICBxdWVyeSA9IHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAkb3I6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbmJveF91c2Vyczogc3BlY2lhbF91c2VyX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2NfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHdvcmtmbG93X2NhdGVnb3JpZXMpIHtcbiAgICAgIHF1ZXJ5LmNhdGVnb3J5ID0ge1xuICAgICAgICAkaW46IHdvcmtmbG93X2NhdGVnb3JpZXMuc3BsaXQoJywnKVxuICAgICAgfTtcbiAgICB9XG4gICAgc3BhY2VfbmFtZXMgPSB7fTtcbiAgICBzcGFjZV9uYW1lc1tzcGFjZS5faWRdID0gc3BhY2UubmFtZTtcbiAgICBpZiAobGltaXQgPiAwKSB7XG4gICAgICBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgbW9kaWZpZWQ6IC0xXG4gICAgICAgIH0sXG4gICAgICAgIGxpbWl0OiBsaW1pdFxuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciBoLCByZWY2LCByZWY3O1xuICAgICAgICBpZiAoKHJlZjYgPSBpLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmNi5pbmNsdWRlcyh1aWQpIDogdm9pZCAwKSB7XG4gICAgICAgICAgXy5lYWNoKGkudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBpZiAodC5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGEudXNlciA9PT0gdWlkICYmIGEudHlwZSAhPT0gJ2NjJyAmJiAhYS5pc19maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgaXNfcmVhZCA9IGEuaXNfcmVhZDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgXy5lYWNoKGkudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBpZiAoIXN0YXJ0X2RhdGUgJiYgdC5hcHByb3Zlcykge1xuICAgICAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0X2RhdGUgJiYgYS51c2VyID09PSB1aWQgJiYgYS50eXBlID09PSAnY2MnICYmICFhLmlzX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICBpc19yZWFkID0gYS5pc19yZWFkO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNwYWNlX25hbWVzW2kuc3BhY2VdKSB7XG4gICAgICAgICAgc3BhY2VfbmFtZXNbaS5zcGFjZV0gPSAocmVmNyA9IGRiLnNwYWNlcy5maW5kT25lKGkuc3BhY2UsIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpICE9IG51bGwgPyByZWY3Lm5hbWUgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaCA9IG5ldyBPYmplY3Q7XG4gICAgICAgIGhbXCJpZFwiXSA9IGlbXCJfaWRcIl07XG4gICAgICAgIGhbXCJzdGFydF9kYXRlXCJdID0gc3RhcnRfZGF0ZTtcbiAgICAgICAgaFtcImZsb3dfbmFtZVwiXSA9IGkuZmxvd19uYW1lO1xuICAgICAgICBoW1wic3BhY2VfbmFtZVwiXSA9IHNwYWNlX25hbWVzW2kuc3BhY2VdO1xuICAgICAgICBoW1wibmFtZVwiXSA9IGlbXCJuYW1lXCJdO1xuICAgICAgICBoW1wiYXBwbGljYW50X25hbWVcIl0gPSBpW1wiYXBwbGljYW50X25hbWVcIl07XG4gICAgICAgIGhbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBpW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICBoW1wic3VibWl0X2RhdGVcIl0gPSBpW1wic3VibWl0X2RhdGVcIl07XG4gICAgICAgIGhbXCJzdGVwX25hbWVcIl0gPSBpLmN1cnJlbnRfc3RlcF9uYW1lO1xuICAgICAgICBoW1wic3BhY2VfaWRcIl0gPSBpLnNwYWNlO1xuICAgICAgICBoW1wibW9kaWZpZWRcIl0gPSBpW1wibW9kaWZpZWRcIl07XG4gICAgICAgIGhbXCJpc19yZWFkXCJdID0gaXNfcmVhZDtcbiAgICAgICAgaFtcInZhbHVlc1wiXSA9IGlbXCJ2YWx1ZXNcIl07XG4gICAgICAgIGlmIChhdHRhY2ggPT09ICd0cnVlJykge1xuICAgICAgICAgIGguYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaS5faWQsXG4gICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICAgICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgY29waWVzOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0X2luc3RhbmNlcy5wdXNoKGgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIG5vX2xpbWl0X2NvdW50ID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnkpLmNvdW50KCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0X2luc3RhbmNlcyxcbiAgICAgICAgY291bnQ6IG5vX2xpbWl0X2NvdW50XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLnJlYXNvblxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKVxyXG5cclxuTWV0ZW9yLnN0YXJ0dXAgLT5cclxuXHRXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSBcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L3RhbGJlX3RlbXBsYXRlXCIsIChyZXEsIHJlcywgbmV4dCktPlxyXG5cdFx0Y29va2llcyA9IG5ldyBDb29raWVzKCByZXEsIHJlcyApO1xyXG5cdFx0IyBmaXJzdCBjaGVjayByZXF1ZXN0IGJvZHlcclxuXHRcdGlmIHJlcS5ib2R5XHJcblx0XHRcdHVzZXJJZCA9IHJlcS5ib2R5W1wiWC1Vc2VyLUlkXCJdXHJcblx0XHRcdGF1dGhUb2tlbiA9IHJlcS5ib2R5W1wiWC1BdXRoLVRva2VuXCJdXHJcblxyXG5cdFx0IyB0aGVuIGNoZWNrIGNvb2tpZVxyXG5cdFx0aWYgIXVzZXJJZCBvciAhYXV0aFRva2VuXHJcblx0XHRcdHVzZXJJZCA9IGNvb2tpZXMuZ2V0KFwiWC1Vc2VyLUlkXCIpXHJcblx0XHRcdGF1dGhUb2tlbiA9IGNvb2tpZXMuZ2V0KFwiWC1BdXRoLVRva2VuXCIpXHJcblxyXG5cdFx0aWYgISh1c2VySWQgYW5kIGF1dGhUb2tlbilcclxuXHRcdFx0cmVzLndyaXRlSGVhZCg0MDEpO1xyXG5cdFx0XHRyZXMuZW5kIEpTT04uc3RyaW5naWZ5KHtcclxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtQXV0aC1Ub2tlblwiLFxyXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRyZXR1cm4gO1xyXG5cclxuXHRcdGZsb3dJZCA9IHJlcS5xdWVyeT8uZmxvdztcclxuXHJcblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7c3BhY2U6IDEsIGZvcm06IDEsIG5hbWU6IDF9fSlcclxuXHJcblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBmbG93LmZvcm19LCB7ZmllbGRzOiB7c3BhY2U6IDEsIFwiY3VycmVudC5faWRcIjogMX19KVxyXG5cclxuXHRcdGlmIF8uaXNFbXB0eShmbG93KVxyXG5cdFx0XHRyZXMud3JpdGVIZWFkKDQwMSk7XHJcblx0XHRcdHJlcy5lbmQgSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIEludmFsaWQgZm9ybUlkXCIsXHJcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRcdH0pXHJcblx0XHRcdHJldHVybiA7XHJcblx0XHRlbHNlXHJcblx0XHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihmbG93LnNwYWNlLCB1c2VySWQpXHJcblx0XHRcdFx0cmVzLndyaXRlSGVhZCg0MDEpO1xyXG5cdFx0XHRcdHJlcy5lbmQgSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvblwiLFxyXG5cdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGZsb3cuc3BhY2UsIHsgZmllbGRzOiB7IGlzX3BhaWQ6IDEgfSB9KVxyXG5cdFx0XHRpZiAhc3BhY2U/LmlzX3BhaWRcclxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdFx0Y29kZTogNDA0LFxyXG5cdFx0XHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm9uLXBhaWQgc3BhY2UuXCIsXHJcblx0XHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRkYXRhID0gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoe2Zvcm06IGZsb3cuZm9ybSwgZm9ybV92ZXJzaW9uOiBmb3JtPy5jdXJyZW50Py5faWR9LCB0cnVlKTtcclxuXHJcblx0XHRmaWxlTmFtZSA9IGZsb3cubmFtZVxyXG5cclxuXHRcdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQnKTtcclxuXHRcdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nK2VuY29kZVVSSShmaWxlTmFtZSkrJy5odG1sJyk7XHJcblx0XHRyZXMuZW5kKGRhdGEpIiwidmFyIENvb2tpZXM7XG5cbkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZShcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L3RhbGJlX3RlbXBsYXRlXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIGF1dGhUb2tlbiwgY29va2llcywgZGF0YSwgZmlsZU5hbWUsIGZsb3csIGZsb3dJZCwgZm9ybSwgcmVmLCByZWYxLCBzcGFjZSwgdXNlcklkO1xuICAgIGNvb2tpZXMgPSBuZXcgQ29va2llcyhyZXEsIHJlcyk7XG4gICAgaWYgKHJlcS5ib2R5KSB7XG4gICAgICB1c2VySWQgPSByZXEuYm9keVtcIlgtVXNlci1JZFwiXTtcbiAgICAgIGF1dGhUb2tlbiA9IHJlcS5ib2R5W1wiWC1BdXRoLVRva2VuXCJdO1xuICAgIH1cbiAgICBpZiAoIXVzZXJJZCB8fCAhYXV0aFRva2VuKSB7XG4gICAgICB1c2VySWQgPSBjb29raWVzLmdldChcIlgtVXNlci1JZFwiKTtcbiAgICAgIGF1dGhUb2tlbiA9IGNvb2tpZXMuZ2V0KFwiWC1BdXRoLVRva2VuXCIpO1xuICAgIH1cbiAgICBpZiAoISh1c2VySWQgJiYgYXV0aFRva2VuKSkge1xuICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1BdXRoLVRva2VuXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmbG93SWQgPSAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmZsb3cgOiB2b2lkIDA7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93SWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGZvcm06IDEsXG4gICAgICAgIG5hbWU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3cuZm9ybVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgXCJjdXJyZW50Ll9pZFwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKF8uaXNFbXB0eShmbG93KSkge1xuICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIEludmFsaWQgZm9ybUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIVN0ZWVkb3MuaXNTcGFjZUFkbWluKGZsb3cuc3BhY2UsIHVzZXJJZCkpIHtcbiAgICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uXCIsXG4gICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShmbG93LnNwYWNlLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGlzX3BhaWQ6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIShzcGFjZSAhPSBudWxsID8gc3BhY2UuaXNfcGFpZCA6IHZvaWQgMCkpIHtcbiAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDQwNCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBOb24tcGFpZCBzcGFjZS5cIixcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgZGF0YSA9IFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKHtcbiAgICAgIGZvcm06IGZsb3cuZm9ybSxcbiAgICAgIGZvcm1fdmVyc2lvbjogZm9ybSAhPSBudWxsID8gKHJlZjEgPSBmb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYxLl9pZCA6IHZvaWQgMCA6IHZvaWQgMFxuICAgIH0sIHRydWUpO1xuICAgIGZpbGVOYW1lID0gZmxvdy5uYW1lO1xuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQnKTtcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JyArIGVuY29kZVVSSShmaWxlTmFtZSkgKyAnLmh0bWwnKTtcbiAgICByZXR1cm4gcmVzLmVuZChkYXRhKTtcbiAgfSk7XG59KTtcbiIsIiMjI1xyXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzIOaWsOW7uueUs+ivt+WNlVxyXG5cclxuQGFwaU5hbWUgY3JlYXRlSW5zdGFuY2VcclxuXHJcbkBhcGlHcm91cCBXb3JrZmxvd1xyXG5cclxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXHJcblxyXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXHJcblxyXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXHJcblxyXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XHJcbntcclxuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXHJcbn1cclxuXHJcbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcclxue1xyXG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxyXG4gICAgXCJhcHBsaWNhbnRcIjog55Sz6K+35Lq6SWQsXHJcbiAgICBcInZhbHVlc1wiOiB7XHJcbiAgICAgICAgXCJmaWVsZHMxXCIgOiDlrZfmrrXlgLwsXHJcbiAgICAgICAgXCJmaWVsZHMyXCIgOiDlrZfmrrXlgLwsXHJcbiAgICAgICAgLi4uXHJcbiAgICB9XHJcbn1cclxuXHJcbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcclxue1xyXG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXHJcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxyXG59XHJcblxyXG5AYXBpRXJyb3JFeGFtcGxlIHtqc29ufSBlcnJvci1SZXNwb25zZTpcclxue1xyXG4gICAgXCJzdGF0dXNcIjogXCJlcnJvclwiLFxyXG4gICAgXCJkYXRhXCI6IHsuLi59XHJcbn1cclxuIyMjXHJcbkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0dXNlcl9pZCA9IHJlcS51c2VySWRcclxuXHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHVzZXJfaWQgfSlcclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgeF9zcGFjZV9pZCcpXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXJfaW5mby5faWQpXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cclxuXHRcdGlmIG5vdCBoYXNoRGF0YVtcImZsb3dcIl1cclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBudWxsJylcclxuXHJcblx0XHRmbG93X2lkICAgICAgPSBoYXNoRGF0YVtcImZsb3dcIl1cclxuXHRcdGFwcGxpY2FudF9pZCA9IGhhc2hEYXRhW1wiYXBwbGljYW50XCJdXHJcblx0XHRhcHBsaWNhbnRfdXNlcm5hbWUgPSBoYXNoRGF0YVtcImFwcGxpY2FudF91c2VybmFtZVwiXVxyXG5cclxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50ID0gbmV3IE9iamVjdFxyXG5cclxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBmbG93X2lkIH0sIHsgZmllbGRzOiB7IHNwYWNlOiAxLCAnY3VycmVudC5faWQnOiAxIH0gfSlcclxuXHRcdGlmIG5vdCBmbG93XHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGV4aXN0cycpXHJcblxyXG5cdFx0aWYgc3BhY2VfaWQgaXNudCBmbG93LnNwYWNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJylcclxuXHJcblx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBjdXJyZW50X3VzZXJfaW5mby5faWQgfSkuY291bnQoKSBpcyAwXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKVxyXG5cclxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wic3BhY2VcIl0gPSBzcGFjZV9pZFxyXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93XCJdID0gZmxvd19pZFxyXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93X3ZlcnNpb25cIl0gPSBmbG93LmN1cnJlbnQuX2lkXHJcblxyXG5cdFx0YXBwbGljYW50ID0gbnVsbFxyXG5cdFx0aWYgYXBwbGljYW50X2lkIG9yIGFwcGxpY2FudF91c2VybmFtZVxyXG5cclxuXHRcdFx0aWYgYXBwbGljYW50X2lkXHJcblx0XHRcdFx0YXBwbGljYW50ID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYXBwbGljYW50X2lkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdGlmIG5vdCBhcHBsaWNhbnRcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyB3cm9uZycpXHJcblxyXG5cdFx0XHRlbHNlIGlmIGFwcGxpY2FudF91c2VybmFtZVxyXG5cdFx0XHRcdGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoeyB1c2VybmFtZTogYXBwbGljYW50X3VzZXJuYW1lIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdGlmIG5vdCBhcHBsaWNhbnRcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudF91c2VybmFtZSBpcyB3cm9uZycpXHJcblxyXG5cdFx0XHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwbGljYW50Ll9pZCB9KVxyXG5cdFx0XHRpZiBub3Qgc3BhY2VfdXNlclxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBub3QgYSBtZW1iZXIgb2YgdGhpcyBzcGFjZScpXHJcblxyXG5cdFx0XHRpZiBzcGFjZV91c2VyLnVzZXJfYWNjZXB0ZWQgaXNudCB0cnVlXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIGRpc2FibGVkIGluIHRoaXMgc3BhY2UnKVxyXG5cclxuXHRcdFx0c3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKVxyXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudFwiXSA9IGFwcGxpY2FudC5faWRcclxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGFwcGxpY2FudC5uYW1lXHJcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvblwiXSA9ICBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXHJcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cclxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cclxuXHJcblx0XHRhcHBsaWNhbnRJbmZvID0gYXBwbGljYW50IHx8IGN1cnJlbnRfdXNlcl9pbmZvXHJcblxyXG5cdFx0dHJhY2VzID0gW11cclxuXHRcdHRyYWNlID0gbmV3IE9iamVjdFxyXG5cdFx0YXBwcm92ZXMgPSBbXVxyXG5cdFx0YXBwcm92ZSA9IG5ldyBPYmplY3RcclxuXHRcdGFwcHJvdmVbXCJ2YWx1ZXNcIl0gPSBoYXNoRGF0YVtcInZhbHVlc1wiXVxyXG5cdFx0YXBwcm92ZXMucHVzaChhcHByb3ZlKVxyXG5cdFx0dHJhY2VbXCJhcHByb3Zlc1wiXSA9IGFwcHJvdmVzXHJcblx0XHR0cmFjZXMucHVzaCh0cmFjZSlcclxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdID0gdHJhY2VzXHJcblxyXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXSA9IFthcHBsaWNhbnRJbmZvLl9pZF1cclxuXHJcblx0XHRuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGFwcGxpY2FudEluZm8pXHJcblxyXG5cdFx0bmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG5ld19pbnNfaWQpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiBuZXdfaW5zIH1cclxuXHRcdH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XHJcblx0XHR9XHJcbiIsIlxuLypcbkBhcGkge3Bvc3R9IC9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMg5paw5bu655Sz6K+35Y2VXG5cbkBhcGlOYW1lIGNyZWF0ZUluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XG57XG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxuICAgIFwiYXBwbGljYW50XCI6IOeUs+ivt+S6uklkLFxuICAgIFwidmFsdWVzXCI6IHtcbiAgICAgICAgXCJmaWVsZHMxXCIgOiDlrZfmrrXlgLwsXG4gICAgICAgIFwiZmllbGRzMlwiIDog5a2X5q615YC8LFxuICAgICAgICAuLi5cbiAgICB9XG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxufVxuXG5AYXBpRXJyb3JFeGFtcGxlIHtqc29ufSBlcnJvci1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcImVycm9yXCIsXG4gICAgXCJkYXRhXCI6IHsuLi59XG59XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXBwbGljYW50LCBhcHBsaWNhbnRJbmZvLCBhcHBsaWNhbnRfaWQsIGFwcGxpY2FudF91c2VybmFtZSwgYXBwcm92ZSwgYXBwcm92ZXMsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBmbG93X2lkLCBoYXNoRGF0YSwgaW5zdGFuY2VfZnJvbV9jbGllbnQsIG5ld19pbnMsIG5ld19pbnNfaWQsIHNwYWNlX2lkLCBzcGFjZV91c2VyLCBzcGFjZV91c2VyX29yZ19pbmZvLCB0cmFjZSwgdHJhY2VzLCB1c2VyX2lkO1xuICB0cnkge1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1c2VyX2lkID0gcmVxLnVzZXJJZDtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgX2lkOiB1c2VyX2lkXG4gICAgfSk7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIHhfc3BhY2VfaWQnKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcl9pbmZvLl9pZCk7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBpZiAoIWhhc2hEYXRhW1wiZmxvd1wiXSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBudWxsJyk7XG4gICAgfVxuICAgIGZsb3dfaWQgPSBoYXNoRGF0YVtcImZsb3dcIl07XG4gICAgYXBwbGljYW50X2lkID0gaGFzaERhdGFbXCJhcHBsaWNhbnRcIl07XG4gICAgYXBwbGljYW50X3VzZXJuYW1lID0gaGFzaERhdGFbXCJhcHBsaWNhbnRfdXNlcm5hbWVcIl07XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnQgPSBuZXcgT2JqZWN0O1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvd19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgJ2N1cnJlbnQuX2lkJzogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghZmxvdykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBub3QgZXhpc3RzJyk7XG4gICAgfVxuICAgIGlmIChzcGFjZV9pZCAhPT0gZmxvdy5zcGFjZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UnKTtcbiAgICB9XG4gICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogY3VycmVudF91c2VyX2luZm8uX2lkXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXV0aF90b2tlbiBpcyBub3QgYSBtZW1iZXIgb2YgdGhpcyBzcGFjZScpO1xuICAgIH1cbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInNwYWNlXCJdID0gc3BhY2VfaWQ7XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93XCJdID0gZmxvd19pZDtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dfdmVyc2lvblwiXSA9IGZsb3cuY3VycmVudC5faWQ7XG4gICAgYXBwbGljYW50ID0gbnVsbDtcbiAgICBpZiAoYXBwbGljYW50X2lkIHx8IGFwcGxpY2FudF91c2VybmFtZSkge1xuICAgICAgaWYgKGFwcGxpY2FudF9pZCkge1xuICAgICAgICBhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICBfaWQ6IGFwcGxpY2FudF9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFhcHBsaWNhbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgd3JvbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcHBsaWNhbnRfdXNlcm5hbWUpIHtcbiAgICAgICAgYXBwbGljYW50ID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgdXNlcm5hbWU6IGFwcGxpY2FudF91c2VybmFtZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFhcHBsaWNhbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnRfdXNlcm5hbWUgaXMgd3JvbmcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcGxpY2FudC5faWRcbiAgICAgIH0pO1xuICAgICAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBub3QgYSBtZW1iZXIgb2YgdGhpcyBzcGFjZScpO1xuICAgICAgfVxuICAgICAgaWYgKHNwYWNlX3VzZXIudXNlcl9hY2NlcHRlZCAhPT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgZGlzYWJsZWQgaW4gdGhpcyBzcGFjZScpO1xuICAgICAgfVxuICAgICAgc3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50XCJdID0gYXBwbGljYW50Ll9pZDtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X25hbWVcIl0gPSBhcHBsaWNhbnQubmFtZTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvblwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl07XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgfVxuICAgIGFwcGxpY2FudEluZm8gPSBhcHBsaWNhbnQgfHwgY3VycmVudF91c2VyX2luZm87XG4gICAgdHJhY2VzID0gW107XG4gICAgdHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgIGFwcHJvdmVzID0gW107XG4gICAgYXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgYXBwcm92ZVtcInZhbHVlc1wiXSA9IGhhc2hEYXRhW1widmFsdWVzXCJdO1xuICAgIGFwcHJvdmVzLnB1c2goYXBwcm92ZSk7XG4gICAgdHJhY2VbXCJhcHByb3Zlc1wiXSA9IGFwcHJvdmVzO1xuICAgIHRyYWNlcy5wdXNoKHRyYWNlKTtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSA9IHRyYWNlcztcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdID0gW2FwcGxpY2FudEluZm8uX2lkXTtcbiAgICBuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGFwcGxpY2FudEluZm8pO1xuICAgIG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShuZXdfaW5zX2lkKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiBuZXdfaW5zXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcclxuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQg5p+l55yL55Sz6K+35Y2V6K+m5oOFXHJcblxyXG5AYXBpTmFtZSBnZXRJbnN0YW5jZVxyXG5cclxuQGFwaUdyb3VwIFdvcmtmbG93XHJcblxyXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnmoTnrqHnkIblkZhcclxuXHJcbkBhcGlQYXJhbSB7U3RyaW5nfSBpbnNfaWQg55Sz6K+35Y2VSWRcclxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxyXG5cclxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxyXG5cclxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxyXG57XHJcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxyXG59XHJcblxyXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XHJcbntcclxuICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cclxufVxyXG4jIyNcclxuSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxyXG5cclxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpXHJcblx0XHRpZiBub3QgaW5zdGFuY2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGluc3RhbmNlJylcclxuXHJcblx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IGluc3RhbmNlLnNwYWNlLCB1c2VyOiBjdXJyZW50X3VzZXIgfSkuY291bnQoKSBpcyAwXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgd3JvbmcnKVxyXG5cclxuXHRcdCMg5p2D6ZmQ77ya5LuF5Lul5LiL5Lq65ZGY5Y+v5Lul5p+l55yL55Sz6K+35Y2V6K+m5oOF77ya5o+Q5Lqk6ICF44CB55Sz6K+36ICF44CB57uP5omL6ICF44CB5pys5rWB56iL55qE566h55CG5ZGY44CB5pys5rWB56iL55qE6KeC5a+f5ZGY44CB5pys5bel5L2c5Yy655qE566h55CG5ZGY44CB5pys5bel5L2c5Yy655qE5omA5pyJ6ICF44CCXHJcblx0XHRwZXJtX3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRwZXJtX3VzZXJzLnB1c2goaW5zdGFuY2Uuc3VibWl0dGVyKVxyXG5cdFx0cGVybV91c2Vycy5wdXNoKGluc3RhbmNlLmFwcGxpY2FudClcclxuXHRcdGlmIGluc3RhbmNlLm91dGJveF91c2Vyc1xyXG5cdFx0XHRwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKVxyXG5cdFx0aWYgaW5zdGFuY2UuaW5ib3hfdXNlcnNcclxuXHRcdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLmluYm94X3VzZXJzKVxyXG5cdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2Uuc3BhY2UgfSwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcclxuXHRcdHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChzcGFjZS5hZG1pbnMpXHJcblxyXG5cdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGlmIChub3QgcGVybV91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSBhbmQgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcIm1vbml0b3JcIikpIGFuZCAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25vIHBlcm1pc3Npb24nKVxyXG5cclxuXHRcdGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IGluc3RhbmNlIH1cclxuXHRcdH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XHJcblx0XHR9XHJcblxyXG4iLCJcbi8qXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCDmn6XnnIvnlLPor7fljZXor6bmg4VcblxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueahOeuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gaW5zX2lkIOeUs+ivt+WNlUlkXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxufVxuICovXG5Kc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGUsIGluc19pZCwgaW5zdGFuY2UsIHBlcm1fdXNlcnMsIHBlcm1pc3Npb25zLCBzcGFjZSwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBpbnN0YW5jZScpO1xuICAgIH1cbiAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsXG4gICAgICB1c2VyOiBjdXJyZW50X3VzZXJcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIHdyb25nJyk7XG4gICAgfVxuICAgIHBlcm1fdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgcGVybV91c2Vycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcik7XG4gICAgcGVybV91c2Vycy5wdXNoKGluc3RhbmNlLmFwcGxpY2FudCk7XG4gICAgaWYgKGluc3RhbmNlLm91dGJveF91c2Vycykge1xuICAgICAgcGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLm91dGJveF91c2Vycyk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5pbmJveF91c2Vycykge1xuICAgICAgcGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLmluYm94X3VzZXJzKTtcbiAgICB9XG4gICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlLnNwYWNlXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGFkbWluczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChzcGFjZS5hZG1pbnMpO1xuICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCghcGVybV91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSAmJiAoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwibW9uaXRvclwiKSkgJiYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbm8gcGVybWlzc2lvbicpO1xuICAgIH1cbiAgICBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsXG4gICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAkbmU6IHRydWVcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY29waWVzOiAwXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiBpbnN0YW5jZVxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXHJcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3N1Ym1pdC86aW5zX2lkIOaPkOS6pOeUs+ivt+WNlVxyXG5cclxuQGFwaURlc2NyaXB0aW9uIOaaguS4jeaUr+aMgeW8gOWni+iKgueCueS4i+S4gOiKgueCueS4uuadoeS7tueahOaDheWGtVxyXG5cclxuQGFwaU5hbWUgc3VibWl0SW5zdGFuY2VcclxuXHJcbkBhcGlHcm91cCBXb3JrZmxvd1xyXG5cclxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXHJcblxyXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXHJcblxyXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXHJcblxyXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XHJcbiAgICB7XHJcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXHJcblx0fVxyXG5cclxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxyXG4gICAge1xyXG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXHJcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxyXG5cdH1cclxuIyMjXHJcblxyXG5Kc29uUm91dGVzLmFkZCAncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuIDtcclxuXHJcblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXHJcblxyXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXHJcblxyXG5cdFx0aWYgbm90IHNwYWNlX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxyXG5cclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcclxuXHJcblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxyXG5cclxuXHRcdCMg5qCh6aqM55Sz6K+35Y2V54q25oCB5Li66I2J56i/XHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VEcmFmdChpbnN0YW5jZSlcclxuXHJcblx0XHRpZiBzcGFjZV9pZCBpc250IGluc3RhbmNlW1wic3BhY2VcIl1cclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2UgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJylcclxuXHJcblx0XHQjIOagoemqjOeUs+ivt+WNleW/heWhq+Wtl+auteaYr+WQpuacieWAvFxyXG5cdFx0dmFsdWVzID0gaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXS52YWx1ZXNcclxuXHJcblx0XHRmb3JtID0gdXVmbG93TWFuYWdlci5nZXRGb3JtKGluc3RhbmNlLmZvcm0pXHJcblxyXG5cdFx0cmVxdWlyZV9idXRfZW1wdHlfZmllbGRzID0gdXVmbG93TWFuYWdlci5jaGVja1ZhbHVlRmllbGRzUmVxdWlyZSh2YWx1ZXMsIGZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcclxuXHJcblx0XHRpZiByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMFxyXG5cdFx0XHRpZiByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkcyA8JyArIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5qb2luKFwiLFwiKSArICc+IGFyZSByZXF1aXJlZCcpXHJcblx0XHRcdGVsc2UgaWYgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA9IDFcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmaWVsZCA8JyArIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5qb2luKFwiLFwiKSArICc+IGlzIHJlcXVpcmVkJylcclxuXHJcblx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXHJcblxyXG5cdFx0c3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF0uc3RlcClcclxuXHJcblx0XHQjIOiuoeeul+S4i+S4gOatpemqpOmAiemhuVxyXG5cdFx0bmV4dFN0ZXBzID0gdXVmbG93TWFuYWdlci5nZXROZXh0U3RlcHMoaW5zdGFuY2UsIGZsb3csIHN0ZXAsIFwic3VibWl0dGVkXCIpXHJcblxyXG5cdFx0aWYgbmV4dFN0ZXBzLmxlbmd0aCA8IDFcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIG5leHQgc3RlcHMnKVxyXG5cclxuXHRcdGlmIG5leHRTdGVwcy5sZW5ndGggPiAxXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBub3QgdW5pcScpXHJcblxyXG5cdFx0bmV4dF9zdGVwX2lkID0gbmV4dFN0ZXBzWzBdXHJcblxyXG5cdFx0IyDorqHnrpfkuIvkuIDmraXlpITnkIbkurrpgInpoblcclxuXHRcdG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zX2lkLCBuZXh0X3N0ZXBfaWQpIHx8IFtdXHJcblxyXG5cdFx0aWYgbmV4dF91c2VyX2lkcy5sZW5ndGggPiAxXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBoYW5kbGVyIG5vdCB1bmlxJylcclxuXHJcblx0XHRpbnN0YW5jZVtcInRyYWNlc1wiXVswXVtcImFwcHJvdmVzXCJdWzBdW1wibmV4dF9zdGVwc1wiXSA9IFt7J3N0ZXAnOiBuZXh0X3N0ZXBfaWQsICd1c2Vycyc6IG5leHRfdXNlcl9pZHN9XVxyXG5cclxuXHRcdHJlc3VsdCA9IG5ldyBPYmplY3RcclxuXHJcblx0XHRzdWJtaXR0ZXIgPSBkYi51c2Vycy5maW5kT25lKGluc3RhbmNlLnN1Ym1pdHRlcilcclxuXHJcblx0XHRpZiBub3Qgc3VibWl0dGVyXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBzdWJtaXR0ZXInKVxyXG5cclxuXHRcdHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZSwgc3VibWl0dGVyKVxyXG5cclxuXHRcdGlmIHIuYWxlcnRzXHJcblx0XHRcdHJlc3VsdCA9IHJcclxuXHRcdGVsc2VcclxuXHRcdFx0cmVzdWx0ID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKVxyXG5cdFx0XHRpZiByZXN1bHRcclxuXHRcdFx0XHRyZXN1bHQuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG4iLCJcbi8qXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCDmj5DkuqTnlLPor7fljZVcblxuQGFwaURlc2NyaXB0aW9uIOaaguS4jeaUr+aMgeW8gOWni+iKgueCueS4i+S4gOiKgueCueS4uuadoeS7tueahOaDheWGtVxuXG5AYXBpTmFtZSBzdWJtaXRJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG4gICAge1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG4gICAge1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XG5cdH1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgZm9ybSwgaW5zX2lkLCBpbnN0YW5jZSwgbmV4dFN0ZXBzLCBuZXh0X3N0ZXBfaWQsIG5leHRfdXNlcl9pZHMsIHIsIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcywgcmVzdWx0LCBzcGFjZV9pZCwgc3RlcCwgc3VibWl0dGVyLCB2YWx1ZXM7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlRHJhZnQoaW5zdGFuY2UpO1xuICAgIGlmIChzcGFjZV9pZCAhPT0gaW5zdGFuY2VbXCJzcGFjZVwiXSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2UgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJyk7XG4gICAgfVxuICAgIHZhbHVlcyA9IGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF0udmFsdWVzO1xuICAgIGZvcm0gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm0oaW5zdGFuY2UuZm9ybSk7XG4gICAgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzID0gdXVmbG93TWFuYWdlci5jaGVja1ZhbHVlRmllbGRzUmVxdWlyZSh2YWx1ZXMsIGZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XG4gICAgaWYgKHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAocmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGRzIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gYXJlIHJlcXVpcmVkJyk7XG4gICAgICB9IGVsc2UgaWYgKHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gaXMgcmVxdWlyZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICBzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBpbnN0YW5jZVtcInRyYWNlc1wiXVswXS5zdGVwKTtcbiAgICBuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwgXCJzdWJtaXR0ZWRcIik7XG4gICAgaWYgKG5leHRTdGVwcy5sZW5ndGggPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgbmV4dCBzdGVwcycpO1xuICAgIH1cbiAgICBpZiAobmV4dFN0ZXBzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBub3QgdW5pcScpO1xuICAgIH1cbiAgICBuZXh0X3N0ZXBfaWQgPSBuZXh0U3RlcHNbMF07XG4gICAgbmV4dF91c2VyX2lkcyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyhpbnNfaWQsIG5leHRfc3RlcF9pZCkgfHwgW107XG4gICAgaWYgKG5leHRfdXNlcl9pZHMubGVuZ3RoID4gMSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIGhhbmRsZXIgbm90IHVuaXEnKTtcbiAgICB9XG4gICAgaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXVtcIm5leHRfc3RlcHNcIl0gPSBbXG4gICAgICB7XG4gICAgICAgICdzdGVwJzogbmV4dF9zdGVwX2lkLFxuICAgICAgICAndXNlcnMnOiBuZXh0X3VzZXJfaWRzXG4gICAgICB9XG4gICAgXTtcbiAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgIHN1Ym1pdHRlciA9IGRiLnVzZXJzLmZpbmRPbmUoaW5zdGFuY2Uuc3VibWl0dGVyKTtcbiAgICBpZiAoIXN1Ym1pdHRlcikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHN1Ym1pdHRlcicpO1xuICAgIH1cbiAgICByID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2UsIHN1Ym1pdHRlcik7XG4gICAgaWYgKHIuYWxlcnRzKSB7XG4gICAgICByZXN1bHQgPSByO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZCxcbiAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgY29waWVzOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xyXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQg5pqC5a2Y55Sz6K+35Y2VXHJcblxyXG5AYXBpTmFtZSBzYXZlSW5zdGFuY2VzXHJcblxyXG5AYXBpR3JvdXAgV29ya2Zsb3dcclxuXHJcbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxyXG5cclxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxyXG5cclxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxyXG5cclxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxyXG4gICAge1xyXG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxyXG5cdH1cclxuXHJcbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcclxuICAgIHtcclxuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cclxuXHR9XHJcbiMjI1xyXG5Kc29uUm91dGVzLmFkZCAncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxyXG5cclxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRcdHJldHVybiA7XHJcblxyXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxyXG5cclxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxyXG5cclxuXHRcdGlmIG5vdCBzcGFjZV9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcclxuXHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0dmFsdWVzID0gcmVxLmJvZHlcclxuXHJcblx0XHRpZiBub3QgdmFsdWVzXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgdmFsdWVzJylcclxuXHJcblx0XHRjdXJyZW50X3RyYWNlID0gbnVsbFxyXG5cdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcclxuXHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcclxuXHJcblx0XHRfLmVhY2ggaW5zdGFuY2UudHJhY2VzLCAodCktPlxyXG5cdFx0XHRpZiB0LmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxyXG5cdFx0XHRcdGN1cnJlbnRfdHJhY2UgPSB0XHJcblxyXG5cdFx0Y3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBjdXJyZW50X3RyYWNlLnN0ZXApXHJcblxyXG5cdFx0aWYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5q2l6aqk5LiN6IO95L+u5pS56KGo5Y2V5YC8JylcclxuXHJcblx0XHRfLmVhY2ggY3VycmVudF90cmFjZS5hcHByb3ZlcywgKGEpLT5cclxuXHRcdFx0aWYgYS5pc19maW5pc2hlZCBpc250IHRydWUgYW5kIGEudHlwZSBpc250IFwiY2NcIlxyXG5cdFx0XHRcdGEudmFsdWVzID0gdmFsdWVzXHJcblxyXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGVcclxuXHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gY3VycmVudF90cmFjZS5hcHByb3Zlc1xyXG5cclxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUge1xyXG5cdFx0XHRfaWQ6IGluc19pZFxyXG5cdFx0XHQndHJhY2VzLl9pZCc6IGN1cnJlbnRfdHJhY2UuX2lkXHJcblx0XHR9LCAkc2V0OiBzZXRPYmpcclxuXHJcblx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcbiIsIlxuLypcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCDmmoLlrZjnlLPor7fljZVcblxuQGFwaU5hbWUgc2F2ZUluc3RhbmNlc1xuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG4gICAge1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG4gICAge1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XG5cdH1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfc3RlcCwgY3VycmVudF90cmFjZSwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgaW5zX2lkLCBpbnN0YW5jZSwgcmVzdWx0LCBzZXRPYmosIHNwYWNlX2lkLCB2YWx1ZXM7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgdmFsdWVzID0gcmVxLmJvZHk7XG4gICAgaWYgKCF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgdmFsdWVzJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdHJhY2UgPSBudWxsO1xuICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICBpZiAodC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF90cmFjZSA9IHQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBjdXJyZW50X3RyYWNlLnN0ZXApO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuatpemqpOS4jeiDveS/ruaUueihqOWNleWAvCcpO1xuICAgIH1cbiAgICBfLmVhY2goY3VycmVudF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKGEuaXNfZmluaXNoZWQgIT09IHRydWUgJiYgYS50eXBlICE9PSBcImNjXCIpIHtcbiAgICAgICAgcmV0dXJuIGEudmFsdWVzID0gdmFsdWVzO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlO1xuICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gY3VycmVudF90cmFjZS5hcHByb3ZlcztcbiAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgIF9pZDogaW5zX2lkLFxuICAgICAgJ3RyYWNlcy5faWQnOiBjdXJyZW50X3RyYWNlLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHNldE9ialxuICAgIH0pO1xuICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcclxuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUg5qC55o2u5q2l6aqk5ZCN56ew6I635Y+W55Sz6K+35Y2VXHJcblxyXG5AYXBpTmFtZSBnZXRJbnN0YW5jZUJ5U3RlcE5hbWVcclxuXHJcbkBhcGlHcm91cCBXb3JrZmxvd1xyXG5cclxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXHJcblxyXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXHJcblxyXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXHJcblxyXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XHJcbntcclxuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXHJcbn1cclxuXHJcbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcclxue1xyXG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxyXG4gICAgXCJzdGVwbmFtZVwiOiDmraXpqqTlkI3np7BcclxufVxyXG5cclxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxyXG57XHJcblx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXHJcblx0XCJkYXRhXCI6IFtcclxuXHRcdHtcclxuXHRcdFx0aW5zdGFuY2VcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdGluc3RhbmNlXHJcblx0XHR9XHJcblx0XVxyXG59XHJcbiMjI1xyXG5Kc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZScsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHJcblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0XHRyZXR1cm4gO1xyXG5cclxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXHJcblxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxyXG5cclxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcclxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHRcdHN0ZXBuYW1lID0gaGFzaERhdGFbXCJzdGVwbmFtZVwiXVxyXG5cdFx0ZmxvdyA9IGhhc2hEYXRhW1wiZmxvd1wiXVxyXG5cclxuXHRcdGlmIG5vdCBzdGVwbmFtZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHN0ZXBuYW1lJylcclxuXHJcblx0XHRpZiBub3QgZmxvd1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGZsb3cnKVxyXG5cclxuXHRcdCMg5Y675o6Je2ZpZWxkczoge2luYm94X3VlcnM6IDAsIGNjX3VzZXJzOiAwLCBvdXRib3hfdXNlcnM6IDAsIHRyYWNlczogMCwgYXR0YWNobWVudHM6IDB9XHJcblx0XHRpbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZCh7c3BhY2U6IHNwYWNlX2lkLCBmbG93OiBmbG93LCBzdGF0ZToncGVuZGluZycsIHRyYWNlczp7JGVsZW1NYXRjaDoge2lzX2ZpbmlzaGVkOiBmYWxzZSwgbmFtZTogc3RlcG5hbWV9fX0sIHtmaWVsZHM6IHtpbmJveF91ZXJzOiAwLCBjY191c2VyczogMCwgb3V0Ym94X3VzZXJzOiAwLCBhdHRhY2htZW50czogMCwgdHJhY2VzOiAwfX0pLmZldGNoKClcclxuXHJcblx0XHRpbnN0YW5jZXMuZm9yRWFjaCAoaW5zdGFuY2UpLT5cclxuXHRcdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IGluc3RhbmNlc31cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG4iLCJcbi8qXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZSDmoLnmja7mraXpqqTlkI3np7Dojrflj5bnlLPor7fljZVcblxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VCeVN0ZXBOYW1lXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XG57XG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxuICAgIFwic3RlcG5hbWVcIjog5q2l6aqk5ZCN56ewXG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcblx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFwiZGF0YVwiOiBbXG5cdFx0e1xuXHRcdFx0aW5zdGFuY2Vcblx0XHR9LFxuXHRcdHtcblx0XHRcdGluc3RhbmNlXG5cdFx0fVxuXHRdXG59XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGhhc2hEYXRhLCBpbnN0YW5jZXMsIHNwYWNlX2lkLCBzdGVwbmFtZTtcbiAgdHJ5IHtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIHN0ZXBuYW1lID0gaGFzaERhdGFbXCJzdGVwbmFtZVwiXTtcbiAgICBmbG93ID0gaGFzaERhdGFbXCJmbG93XCJdO1xuICAgIGlmICghc3RlcG5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3RlcG5hbWUnKTtcbiAgICB9XG4gICAgaWYgKCFmbG93KSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGZsb3cnKTtcbiAgICB9XG4gICAgaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgZmxvdzogZmxvdyxcbiAgICAgIHN0YXRlOiAncGVuZGluZycsXG4gICAgICB0cmFjZXM6IHtcbiAgICAgICAgJGVsZW1NYXRjaDoge1xuICAgICAgICAgIGlzX2ZpbmlzaGVkOiBmYWxzZSxcbiAgICAgICAgICBuYW1lOiBzdGVwbmFtZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGluYm94X3VlcnM6IDAsXG4gICAgICAgIGNjX3VzZXJzOiAwLFxuICAgICAgICBvdXRib3hfdXNlcnM6IDAsXG4gICAgICAgIGF0dGFjaG1lbnRzOiAwLFxuICAgICAgICB0cmFjZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsXG4gICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBjb3BpZXM6IDBcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiBpbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xyXG5Db250ZW50LVR5cGXvvJphcHBsaWNhdGlvbi9qc29uXHJcbmZvcm0tZGF0YSDmoLzlvI86XHJcbmZkID0gbmV3IEZvcm1EYXRhO1xyXG5mZC5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xyXG5cclxuZmQuYXBwZW5kKFwiaXNfcHJpdmF0ZVwiLCBmYWxzZSk7XHJcblxyXG5pZiAoaXNBZGRWZXJzaW9uKSB7XHJcblx0ZmQuYXBwZW5kKFwiaXNBZGRWZXJzaW9uXCIsIGlzQWRkVmVyc2lvbik7XHJcblx0ZmQuYXBwZW5kKFwicGFyZW50XCIsIGF0dGFjaF9wYXJlbnRfaWQpO1xyXG59XHJcblxyXG5pZiAoaXNNYWluQXR0YWNoKSB7XHJcblx0ZmQuYXBwZW5kKFwibWFpblwiLCB0cnVlKTtcclxufVxyXG4jIyNcclxuXHJcbkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuIDtcclxuXHJcblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXHJcblxyXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXHJcblxyXG5cdFx0aWYgbm90IHNwYWNlX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxyXG5cclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcclxuXHJcblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxyXG5cclxuXHRcdGlmIGluc3RhbmNlLnN0YXRlIGlzbnQgXCJkcmFmdFwiXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveS4iuS8oCcpXHJcblxyXG5cdFx0YXBwcm92ZV9pZCA9IGluc3RhbmNlLnRyYWNlc1swXS5hcHByb3Zlc1swXS5faWRcclxuXHJcblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRKc29uUm91dGVzLnBhcnNlRmlsZXMgcmVxLCByZXMsICgpLT5cclxuXHRcdFx0Y29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXNcclxuXHJcblx0XHRcdGlmIHJlcS5maWxlcyBhbmQgcmVxLmZpbGVzWzBdXHJcblx0XHRcdFx0IyDpmYTku7bkuIrkvKDmjqXlj6PvvIzpmZDliLbpmYTku7blpKflsI/vvIzmnIDlpKfkuLoxMDBNXHJcblx0XHRcdFx0aWYgcmVxLmZpbGVzWzBdLmRhdGEubGVuZ3RoID4gKDEwMCoxMDI0KjEwMjQpXHJcblx0XHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0XHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBcIui2hei/h+S4iuS8oOmZhOS7tuWkp+Wwj+mZkOWItigxMDBNKVwifV19XHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHJcblx0XHRcdFx0bmV3RmlsZSA9IG5ldyBGUy5GaWxlKCk7XHJcblx0XHRcdFx0bmV3RmlsZS5hdHRhY2hEYXRhIHJlcS5maWxlc1swXS5kYXRhLCB7dHlwZTogcmVxLmZpbGVzWzBdLm1pbWVUeXBlfSwgKGVycikgLT5cclxuXHRcdFx0XHRcdGZpbGVuYW1lID0gcmVxLmZpbGVzWzBdLmZpbGVuYW1lXHJcblxyXG5cdFx0XHRcdFx0aWYgW1wiaW1hZ2UuanBnXCIsIFwiaW1hZ2UuZ2lmXCIsIFwiaW1hZ2UuanBlZ1wiLCBcImltYWdlLnBuZ1wiXS5pbmNsdWRlcyhmaWxlbmFtZS50b0xvd2VyQ2FzZSgpKVxyXG5cdFx0XHRcdFx0XHRmaWxlbmFtZSA9IFwiaW1hZ2UtXCIgKyBtb21lbnQobmV3IERhdGUoKSkuZm9ybWF0KCdZWVlZTU1EREhIbW1zcycpICsgXCIuXCIgKyBmaWxlbmFtZS5zcGxpdCgnLicpLnBvcCgpXHJcblxyXG5cdFx0XHRcdFx0Ym9keSA9IHJlcS5ib2R5XHJcblxyXG5cdFx0XHRcdFx0Ym9keVsnb3duZXInXSA9IGluc3RhbmNlLnN1Ym1pdHRlclxyXG5cdFx0XHRcdFx0Ym9keVsnb3duZXJfbmFtZSddID0gaW5zdGFuY2Uuc3VibWl0dGVyX25hbWVcclxuXHRcdFx0XHRcdGJvZHlbJ3NwYWNlJ10gPSBzcGFjZV9pZFxyXG5cdFx0XHRcdFx0Ym9keVsnaW5zdGFuY2UnXSA9IGluc19pZFxyXG5cdFx0XHRcdFx0Ym9keVsnYXBwcm92ZSddID0gYXBwcm92ZV9pZFxyXG5cclxuXHRcdFx0XHRcdHRyeVxyXG5cdFx0XHRcdFx0XHRpZiBib2R5ICYmIChib2R5Wyd1cGxvYWRfZnJvbSddIGlzIFwiSUVcIiBvciBib2R5Wyd1cGxvYWRfZnJvbSddIGlzIFwibm9kZVwiKVxyXG5cdFx0XHRcdFx0XHRcdGZpbGVuYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKVxyXG5cdFx0XHRcdFx0Y2F0Y2ggZVxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGZpbGVuYW1lKVxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGVcclxuXHRcdFx0XHRcdFx0ZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKC8lL2csIFwiLVwiKVxyXG5cclxuXHRcdFx0XHRcdG5ld0ZpbGUubmFtZShmaWxlbmFtZSlcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0aWYgYm9keSAmJiBib2R5Wydvd25lciddICYmIGJvZHlbJ293bmVyX25hbWUnXSAmJiBib2R5WydzcGFjZSddICYmIGJvZHlbJ2luc3RhbmNlJ10gICYmIGJvZHlbJ2FwcHJvdmUnXVxyXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSAnJ1xyXG5cdFx0XHRcdFx0XHRtZXRhZGF0YSA9IHtvd25lcjpib2R5Wydvd25lciddLCBvd25lcl9uYW1lOmJvZHlbJ293bmVyX25hbWUnXSwgc3BhY2U6Ym9keVsnc3BhY2UnXSwgaW5zdGFuY2U6Ym9keVsnaW5zdGFuY2UnXSwgYXBwcm92ZTogYm9keVsnYXBwcm92ZSddLCBjdXJyZW50OiB0cnVlfVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgYm9keVtcImlzX3ByaXZhdGVcIl0gJiYgYm9keVtcImlzX3ByaXZhdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSBcInRydWVcIlxyXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmlzX3ByaXZhdGUgPSB0cnVlXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5pc19wcml2YXRlID0gZmFsc2VcclxuXHJcblx0XHRcdFx0XHRcdGlmIGJvZHlbJ21haW4nXSA9PSBcInRydWVcIlxyXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLm1haW4gPSB0cnVlXHJcblxyXG5cdFx0XHRcdFx0XHRpZiBib2R5Wydpc0FkZFZlcnNpb24nXSAmJiBib2R5WydwYXJlbnQnXVxyXG5cdFx0XHRcdFx0XHRcdHBhcmVudCA9IGJvZHlbJ3BhcmVudCddXHJcblx0XHRcdFx0XHRcdCMgZWxzZVxyXG5cdFx0XHRcdFx0XHQjICAgY29sbGVjdGlvbi5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBib2R5WydpbnN0YW5jZSddLCAnbWV0YWRhdGEuY3VycmVudCcgOiB0cnVlfSkuZm9yRWFjaCAoYykgLT5cclxuXHRcdFx0XHRcdFx0IyAgICAgaWYgYy5uYW1lKCkgPT0gZmlsZW5hbWVcclxuXHRcdFx0XHRcdFx0IyAgICAgICBwYXJlbnQgPSBjLm1ldGFkYXRhLnBhcmVudFxyXG5cclxuXHRcdFx0XHRcdFx0aWYgcGFyZW50XHJcblx0XHRcdFx0XHRcdFx0ciA9IGNvbGxlY3Rpb24udXBkYXRlKHsnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LCAnbWV0YWRhdGEuY3VycmVudCcgOiB0cnVlfSwgeyR1bnNldCA6IHsnbWV0YWRhdGEuY3VycmVudCcgOiAnJ319KVxyXG5cdFx0XHRcdFx0XHRcdGlmIHJcclxuXHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhLnBhcmVudCA9IHBhcmVudFxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgYm9keVsnbG9ja2VkX2J5J10gJiYgYm9keVsnbG9ja2VkX2J5X25hbWUnXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5sb2NrZWRfYnkgPSBib2R5Wydsb2NrZWRfYnknXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSA9IGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ11cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGFcclxuXHRcdFx0XHRcdFx0XHRcdGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydCBuZXdGaWxlXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0IyDliKDpmaTlkIzkuIDkuKrnlLPor7fljZXlkIzkuIDkuKrmraXpqqTlkIzkuIDkuKrkurrkuIrkvKDnmoTph43lpI3nmoTmlofku7ZcclxuXHRcdFx0XHRcdFx0XHRcdGlmIGJvZHlbXCJvdmVyd3JpdGVcIl0gJiYgYm9keVtcIm92ZXJ3cml0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09IFwidHJ1ZVwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb24ucmVtb3ZlKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBib2R5WydpbnN0YW5jZSddLCAnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LCAnbWV0YWRhdGEub3duZXInOiBib2R5Wydvd25lciddLCAnbWV0YWRhdGEuYXBwcm92ZSc6IGJvZHlbJ2FwcHJvdmUnXSwgJ21ldGFkYXRhLmN1cnJlbnQnOiB7JG5lOiB0cnVlfX0pXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGFcclxuXHRcdFx0XHRcdFx0XHRmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQgbmV3RmlsZVxyXG5cdFx0XHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHskc2V0OiB7J21ldGFkYXRhLnBhcmVudCcgOiBmaWxlT2JqLl9pZH19KVxyXG5cclxuXHRcdFx0XHRcdCMg5YW85a656ICB54mI5pysXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydCBuZXdGaWxlXHJcblxyXG5cdFx0XHRcdFx0c2l6ZSA9IGZpbGVPYmoub3JpZ2luYWwuc2l6ZVxyXG5cdFx0XHRcdFx0aWYgIXNpemVcclxuXHRcdFx0XHRcdFx0c2l6ZSA9IDEwMjRcclxuXHJcblx0XHRcdFx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHRyZXN1bHQgPVxyXG5cdFx0XHRcdFx0XHRhdHRhY2hfaWQ6IGZpbGVPYmouX2lkLFxyXG5cdFx0XHRcdFx0XHRzaXplOiBzaXplXHJcblxyXG5cdFx0XHRcdFx0cmVzLnNldEhlYWRlcihcIngtYW16LXZlcnNpb24taWRcIixmaWxlT2JqLl9pZCk7XHJcblxyXG5cdFx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdFx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBcIm5lZWQgZmlsZVwifV19XHJcblx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcblxyXG5Kc29uUm91dGVzLmFkZCBcImRlbGV0ZVwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZFwiLCAgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcclxuXHJcblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0XHRyZXR1cm4gO1xyXG5cclxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXHJcblxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxyXG5cclxuXHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpXHJcblxyXG5cdFx0aWYgaW5zdGFuY2Uuc3RhdGUgaXNudCBcImRyYWZ0XCJcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95Yig6Zmk6ZmE5Lu2JylcclxuXHJcblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5IHx8IHt9XHJcblx0XHRhdHRhY2hfaWQgPSBoYXNoRGF0YVtcImF0dGFjaF9pZFwiXVxyXG5cclxuXHRcdGlmIG5vdCBhdHRhY2hfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGF0dGFjaF9pZCcpXHJcblxyXG5cdFx0Y29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXNcclxuXHJcblx0XHRmaWxlID0gY29sbGVjdGlvbi5maW5kT25lKHsgX2lkOiBhdHRhY2hfaWQsICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZH0pXHJcblx0XHRpZiBmaWxlXHJcblx0XHRcdGZpbGUucmVtb3ZlKClcclxuXHRcdGVsc2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5q2k6ZmE5Lu25LiN5bGe5LqO5q2k55Sz6K+35Y2V77yM5oiW5bey6KKr5Yig6ZmkJylcclxuXHJcblx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHR9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cclxuXHJcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86YXR0YWNoX2lkXCIsICAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRhdHRhY2hfaWQgPSByZXEucGFyYW1zLmF0dGFjaF9pZFxyXG5cclxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRcdHJldHVybiA7XHJcblxyXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxyXG5cclxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxyXG5cclxuXHRcdGlmIG5vdCBzcGFjZV9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcclxuXHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0cmVzLnN0YXR1c0NvZGUgPSAzMDJcclxuXHRcdHJlcy5zZXRIZWFkZXIgXCJMb2NhdGlvblwiLCBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2luc3RhbmNlcy9cIikgKyBhdHRhY2hfaWQgKyBcIj9kb3dubG9hZD10cnVlXCJcclxuXHRcdHJlcy5lbmQoKVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcbiIsIlxuLypcbkNvbnRlbnQtVHlwZe+8mmFwcGxpY2F0aW9uL2pzb25cbmZvcm0tZGF0YSDmoLzlvI86XG5mZCA9IG5ldyBGb3JtRGF0YTtcbmZkLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XG5cbmZkLmFwcGVuZChcImlzX3ByaXZhdGVcIiwgZmFsc2UpO1xuXG5pZiAoaXNBZGRWZXJzaW9uKSB7XG5cdGZkLmFwcGVuZChcImlzQWRkVmVyc2lvblwiLCBpc0FkZFZlcnNpb24pO1xuXHRmZC5hcHBlbmQoXCJwYXJlbnRcIiwgYXR0YWNoX3BhcmVudF9pZCk7XG59XG5cbmlmIChpc01haW5BdHRhY2gpIHtcblx0ZmQuYXBwZW5kKFwibWFpblwiLCB0cnVlKTtcbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFwcHJvdmVfaWQsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGluc19pZCwgaW5zdGFuY2UsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73kuIrkvKAnKTtcbiAgICB9XG4gICAgYXBwcm92ZV9pZCA9IGluc3RhbmNlLnRyYWNlc1swXS5hcHByb3Zlc1swXS5faWQ7XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMucGFyc2VGaWxlcyhyZXEsIHJlcywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29sbGVjdGlvbiwgbmV3RmlsZTtcbiAgICAgIGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzO1xuICAgICAgaWYgKHJlcS5maWxlcyAmJiByZXEuZmlsZXNbMF0pIHtcbiAgICAgICAgaWYgKHJlcS5maWxlc1swXS5kYXRhLmxlbmd0aCA+ICgxMDAgKiAxMDI0ICogMTAyNCkpIHtcbiAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGVycm9yczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogXCLotoXov4fkuIrkvKDpmYTku7blpKflsI/pmZDliLYoMTAwTSlcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuZXdGaWxlID0gbmV3IEZTLkZpbGUoKTtcbiAgICAgICAgcmV0dXJuIG5ld0ZpbGUuYXR0YWNoRGF0YShyZXEuZmlsZXNbMF0uZGF0YSwge1xuICAgICAgICAgIHR5cGU6IHJlcS5maWxlc1swXS5taW1lVHlwZVxuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICB2YXIgYm9keSwgZSwgZmlsZU9iaiwgZmlsZW5hbWUsIG1ldGFkYXRhLCBwYXJlbnQsIHIsIHJlc3VsdCwgc2l6ZTtcbiAgICAgICAgICBmaWxlbmFtZSA9IHJlcS5maWxlc1swXS5maWxlbmFtZTtcbiAgICAgICAgICBpZiAoW1wiaW1hZ2UuanBnXCIsIFwiaW1hZ2UuZ2lmXCIsIFwiaW1hZ2UuanBlZ1wiLCBcImltYWdlLnBuZ1wiXS5pbmNsdWRlcyhmaWxlbmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgZmlsZW5hbWUgPSBcImltYWdlLVwiICsgbW9tZW50KG5ldyBEYXRlKCkpLmZvcm1hdCgnWVlZWU1NRERISG1tc3MnKSArIFwiLlwiICsgZmlsZW5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYm9keSA9IHJlcS5ib2R5O1xuICAgICAgICAgIGJvZHlbJ293bmVyJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXI7XG4gICAgICAgICAgYm9keVsnb3duZXJfbmFtZSddID0gaW5zdGFuY2Uuc3VibWl0dGVyX25hbWU7XG4gICAgICAgICAgYm9keVsnc3BhY2UnXSA9IHNwYWNlX2lkO1xuICAgICAgICAgIGJvZHlbJ2luc3RhbmNlJ10gPSBpbnNfaWQ7XG4gICAgICAgICAgYm9keVsnYXBwcm92ZSddID0gYXBwcm92ZV9pZDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGJvZHkgJiYgKGJvZHlbJ3VwbG9hZF9mcm9tJ10gPT09IFwiSUVcIiB8fCBib2R5Wyd1cGxvYWRfZnJvbSddID09PSBcIm5vZGVcIikpIHtcbiAgICAgICAgICAgICAgZmlsZW5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoZmlsZW5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnJlcGxhY2UoLyUvZywgXCItXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdGaWxlLm5hbWUoZmlsZW5hbWUpO1xuICAgICAgICAgIGlmIChib2R5ICYmIGJvZHlbJ293bmVyJ10gJiYgYm9keVsnb3duZXJfbmFtZSddICYmIGJvZHlbJ3NwYWNlJ10gJiYgYm9keVsnaW5zdGFuY2UnXSAmJiBib2R5WydhcHByb3ZlJ10pIHtcbiAgICAgICAgICAgIHBhcmVudCA9ICcnO1xuICAgICAgICAgICAgbWV0YWRhdGEgPSB7XG4gICAgICAgICAgICAgIG93bmVyOiBib2R5Wydvd25lciddLFxuICAgICAgICAgICAgICBvd25lcl9uYW1lOiBib2R5Wydvd25lcl9uYW1lJ10sXG4gICAgICAgICAgICAgIHNwYWNlOiBib2R5WydzcGFjZSddLFxuICAgICAgICAgICAgICBpbnN0YW5jZTogYm9keVsnaW5zdGFuY2UnXSxcbiAgICAgICAgICAgICAgYXBwcm92ZTogYm9keVsnYXBwcm92ZSddLFxuICAgICAgICAgICAgICBjdXJyZW50OiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGJvZHlbXCJpc19wcml2YXRlXCJdICYmIGJvZHlbXCJpc19wcml2YXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgIG1ldGFkYXRhLmlzX3ByaXZhdGUgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWV0YWRhdGEuaXNfcHJpdmF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvZHlbJ21haW4nXSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgbWV0YWRhdGEubWFpbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm9keVsnaXNBZGRWZXJzaW9uJ10gJiYgYm9keVsncGFyZW50J10pIHtcbiAgICAgICAgICAgICAgcGFyZW50ID0gYm9keVsncGFyZW50J107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgIHIgPSBjb2xsZWN0aW9uLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCxcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICR1bnNldDoge1xuICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiAnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIGlmIChib2R5Wydsb2NrZWRfYnknXSAmJiBib2R5Wydsb2NrZWRfYnlfbmFtZSddKSB7XG4gICAgICAgICAgICAgICAgICBtZXRhZGF0YS5sb2NrZWRfYnkgPSBib2R5Wydsb2NrZWRfYnknXTtcbiAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLmxvY2tlZF9ieV9uYW1lID0gYm9keVsnbG9ja2VkX2J5X25hbWUnXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbiAgICAgICAgICAgICAgICBpZiAoYm9keVtcIm92ZXJ3cml0ZVwiXSAmJiBib2R5W1wib3ZlcndyaXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnJlbW92ZSh7XG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGJvZHlbJ2luc3RhbmNlJ10sXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5vd25lcic6IGJvZHlbJ293bmVyJ10sXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5hcHByb3ZlJzogYm9keVsnYXBwcm92ZSddLFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICAgIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbiAgICAgICAgICAgICAgZmlsZU9iai51cGRhdGUoe1xuICAgICAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2l6ZSA9IGZpbGVPYmoub3JpZ2luYWwuc2l6ZTtcbiAgICAgICAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgICAgIHNpemUgPSAxMDI0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGF0dGFjaF9pZDogZmlsZU9iai5faWQsXG4gICAgICAgICAgICBzaXplOiBzaXplXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXMuc2V0SGVhZGVyKFwieC1hbXotdmVyc2lvbi1pZFwiLCBmaWxlT2JqLl9pZCk7XG4gICAgICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogXCJuZWVkIGZpbGVcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuSnNvblJvdXRlcy5hZGQoXCJkZWxldGVcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWRcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF0dGFjaF9pZCwgY29sbGVjdGlvbiwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmlsZSwgaGFzaERhdGEsIGluc19pZCwgaW5zdGFuY2UsIHJlc3VsdCwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgaWYgKGluc3RhbmNlLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveWIoOmZpOmZhOS7ticpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5IHx8IHt9O1xuICAgIGF0dGFjaF9pZCA9IGhhc2hEYXRhW1wiYXR0YWNoX2lkXCJdO1xuICAgIGlmICghYXR0YWNoX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgYXR0YWNoX2lkJyk7XG4gICAgfVxuICAgIGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzO1xuICAgIGZpbGUgPSBjb2xsZWN0aW9uLmZpbmRPbmUoe1xuICAgICAgX2lkOiBhdHRhY2hfaWQsXG4gICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWRcbiAgICB9KTtcbiAgICBpZiAoZmlsZSkge1xuICAgICAgZmlsZS5yZW1vdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5q2k6ZmE5Lu25LiN5bGe5LqO5q2k55Sz6K+35Y2V77yM5oiW5bey6KKr5Yig6ZmkJyk7XG4gICAgfVxuICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86YXR0YWNoX2lkXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdHRhY2hfaWQsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGF0dGFjaF9pZCA9IHJlcS5wYXJhbXMuYXR0YWNoX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIHJlcy5zdGF0dXNDb2RlID0gMzAyO1xuICAgIHJlcy5zZXRIZWFkZXIoXCJMb2NhdGlvblwiLCBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2luc3RhbmNlcy9cIikgKyBhdHRhY2hfaWQgKyBcIj9kb3dubG9hZD10cnVlXCIpO1xuICAgIHJldHVybiByZXMuZW5kKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfcmVmaWxsXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWbnuWhq+WtkOihqD09PT09PT09PT1cIlxyXG5cdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIixyZXE/LnF1ZXJ5Py5zdWJUYWJsZVxyXG5cdGNvbnNvbGUubG9nIFwiPT09PT09PT095YiG5Y+R5Zue5aGr55qE5YiXPT09PT09PT09PVwiXHJcblx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5jb2x1bW5cIixyZXE/LnF1ZXJ5Py5jb2x1bW5cclxuXHJcblx0Y29sdW1ucyA9IHJlcT8ucXVlcnk/LmNvbHVtbi5zcGxpdCgnOycpXHJcblx0Y29uc29sZS5sb2cgXCJjb2x1bW5zXCIsY29sdW1uc1xyXG5cclxuXHJcblx0IyDliIblj5HnmoTnlLPor7fljZVcclxuXHRmb3J3YXJkX2lucyA9IHJlcT8uYm9keT8uaW5zdGFuY2VcclxuXHJcblx0c3ViVGFibGUgPSByZXE/LnF1ZXJ5Py5zdWJUYWJsZVxyXG5cclxuXHRpZiBmb3J3YXJkX2lucz8uc3RhdGUgPT0gXCJjb21wbGV0ZWRcIiAmJiBmb3J3YXJkX2lucz8uZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcz8ubGVuZ3RoPjAgJiYgc3ViVGFibGUgJiYgY29sdW1uc1xyXG5cdFx0XHJcblx0XHQjIOWIhuWPkeWbnuadpeeahOWAvFxyXG5cdFx0Zm9yd2FyZF9pbnNfdmFsdWVzID0gZm9yd2FyZF9pbnM/LnZhbHVlc1xyXG5cclxuXHRcdCMgIyDljp/nlLPor7fljZXlrZfmrrVcclxuXHRcdG9yaWdpbmFsX2luc19pZCA9IF8ubGFzdCBmb3J3YXJkX2lucz8uZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xyXG5cdFx0b3JpZ2luYWxfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob3JpZ2luYWxfaW5zX2lkKVxyXG5cdFx0b3JpZ2luYWxfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9yaWdpbmFsX2lucz8uZm9ybSlcclxuXHJcblx0XHRvcmlnaW5hbF9pbnNfZmllbGRzID0gW11cclxuXHRcdG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IFtdXHJcblxyXG5cdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXCIsb3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxyXG5cdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvblwiLG9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uXHJcblxyXG5cdFx0IyDmn6XnnIvljp/nlLPor7fljZXmmK/lkKbmnInlr7nlupTnmoTlrZDooahcclxuXHRcdGlmIG9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uID09IG9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcclxuXHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQ/LmZpZWxkc1xyXG5cdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2ggKG9yaWdpbmFsX2luc19maWVsZCktPlxyXG5cdFx0XHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfaW5zX2ZpZWxkXCIsb3JpZ2luYWxfaW5zX2ZpZWxkPy5jb2RlXHJcblx0XHRcdFx0aWYgb3JpZ2luYWxfaW5zX2ZpZWxkPy5jb2RlID09IHN1YlRhYmxlICYmIG9yaWdpbmFsX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnXHJcblx0XHRcdFx0XHRvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQ/LmZpZWxkc1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpZiBvcmlnaW5hbF9pbnNfZm9ybT8uaGlzdG9yeXM/Lmxlbmd0aCA+IDBcclxuXHRcdFx0XHRvcmlnaW5hbF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoIChvaCktPlxyXG5cdFx0XHRcdFx0aWYgb3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb24gPT0gb2guX2lkXHJcblx0XHRcdFx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMgPSBvaD8uZmllbGRzXHJcblx0XHRcdFx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaCAob3JpZ2luYWxfaW5zX2ZpZWxkKS0+XHJcblx0XHRcdFx0XHRcdFx0aWYgb3JpZ2luYWxfaW5zX2ZpZWxkPy5jb2RlID09IHN1YlRhYmxlICYmIG9yaWdpbmFsX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnXHJcblx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQ/LmZpZWxkc1xyXG5cclxuXHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfc3VidGFibGVfZmllbGRzXCIsb3JpZ2luYWxfc3VidGFibGVfZmllbGRzPy5sZW5ndGhcclxuXHJcblx0XHRpZiBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHNcclxuXHRcdFx0IyAjIOabtOaWsOatpemqpOeahOWAvFxyXG5cdFx0XHQjIDEu5om+5Yiw5b2T5YmN55qE5q2l6aqkXHJcblx0XHRcdCMgMi7lvZPliY3mraXpqqTkuK1hcHByb3Zlc+S4reeahHZhbHVlc1xyXG5cdFx0XHQjIDMu5ZyodmFsdWVz5Lit5om+5Yiw6KGo5qC8XHJcblx0XHRcdCMgNC7moLnmja7ooajmoLznmoRmaWVsZHPlsZ7mgKfvvIzkuIDkuKrkuKrnmoTotYvlgLxcclxuXHRcdFx0IyA1LuaKiuWkjeWItueahHB1c2jliLDooajmoLzmlbDnu4TnmoTlkI7pnaJcclxuXHRcdFx0dHJhY2VzID0gb3JpZ2luYWxfaW5zPy50cmFjZXNcclxuXHJcblx0XHRcdHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGgtMV1cclxuXHJcblx0XHRcdGFwcHJvdmUgPSB0cmFjZT8uYXBwcm92ZXNbMF1cclxuXHJcblx0XHRcdHRhYmxlX2RhdGEgPSBhcHByb3ZlPy52YWx1ZXNbc3ViVGFibGVdIHx8IFtdXHJcblxyXG5cdFx0XHRyb3dfZGF0YSA9IHt9XHJcblxyXG5cdFx0XHRjb2x1bW5zLmZvckVhY2ggKGNvbHVtbiktPlxyXG5cdFx0XHRcdHJvd19kYXRhW2NvbHVtbl0gPSBmb3J3YXJkX2luc192YWx1ZXNbY29sdW1uXSB8fCBcIlwiXHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdFx0aWYgcm93X2RhdGEgJiYgcm93X2RhdGEgIT0ge31cclxuXHRcdFx0XHR0YWJsZV9kYXRhLnB1c2ggcm93X2RhdGFcclxuXHRcdFx0XHR0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdID0gdGFibGVfZGF0YVxyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyB0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdXHJcblxyXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUob3JpZ2luYWxfaW5zX2lkLHtcclxuXHRcdFx0XHRcdCRzZXQ6e1xyXG5cdFx0XHRcdFx0XHQndHJhY2VzJzp0cmFjZXNcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0XHRcdCdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0XHRcdCdpbmZvJzogJ+WbnuWhq+aVsOaNruS4uuepuidcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRcdCdlcnJvcic6ICfljp/nlLPor7fljZXml6Dnm7jlhbPlrZDooagnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0ZWxzZVxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHQnc3VjY2Vzcyc6ICfnlLPor7fljZXmnKrnu5PmnZ8nXHJcblx0XHRcdH1cclxuXHRcdH1cclxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF9yZWZpbGxcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFwcHJvdmUsIGNvbHVtbnMsIGZvcndhcmRfaW5zLCBmb3J3YXJkX2luc192YWx1ZXMsIG9yaWdpbmFsX2lucywgb3JpZ2luYWxfaW5zX2ZpZWxkcywgb3JpZ2luYWxfaW5zX2Zvcm0sIG9yaWdpbmFsX2luc19pZCwgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHJlZjcsIHJlZjgsIHJlZjksIHJvd19kYXRhLCBzdWJUYWJsZSwgdGFibGVfZGF0YSwgdHJhY2UsIHRyYWNlcztcbiAgY29uc29sZS5sb2coXCI9PT09PT09PT3lm57loavlrZDooag9PT09PT09PT09XCIpO1xuICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIGNvbnNvbGUubG9nKFwiPT09PT09PT095YiG5Y+R5Zue5aGr55qE5YiXPT09PT09PT09PVwiKTtcbiAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5jb2x1bW5cIiwgcmVxICE9IG51bGwgPyAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuY29sdW1uIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgY29sdW1ucyA9IHJlcSAhPSBudWxsID8gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLmNvbHVtbi5zcGxpdCgnOycpIDogdm9pZCAwIDogdm9pZCAwO1xuICBjb25zb2xlLmxvZyhcImNvbHVtbnNcIiwgY29sdW1ucyk7XG4gIGZvcndhcmRfaW5zID0gcmVxICE9IG51bGwgPyAocmVmMyA9IHJlcS5ib2R5KSAhPSBudWxsID8gcmVmMy5pbnN0YW5jZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgc3ViVGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgaWYgKChmb3J3YXJkX2lucyAhPSBudWxsID8gZm9yd2FyZF9pbnMuc3RhdGUgOiB2b2lkIDApID09PSBcImNvbXBsZXRlZFwiICYmIChmb3J3YXJkX2lucyAhPSBudWxsID8gKHJlZjUgPSBmb3J3YXJkX2lucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSAhPSBudWxsID8gcmVmNS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCAmJiBzdWJUYWJsZSAmJiBjb2x1bW5zKSB7XG4gICAgZm9yd2FyZF9pbnNfdmFsdWVzID0gZm9yd2FyZF9pbnMgIT0gbnVsbCA/IGZvcndhcmRfaW5zLnZhbHVlcyA6IHZvaWQgMDtcbiAgICBvcmlnaW5hbF9pbnNfaWQgPSBfLmxhc3QoZm9yd2FyZF9pbnMgIT0gbnVsbCA/IGZvcndhcmRfaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgOiB2b2lkIDApO1xuICAgIG9yaWdpbmFsX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9yaWdpbmFsX2luc19pZCk7XG4gICAgb3JpZ2luYWxfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm0gOiB2b2lkIDApO1xuICAgIG9yaWdpbmFsX2luc19maWVsZHMgPSBbXTtcbiAgICBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBbXTtcbiAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcIiwgb3JpZ2luYWxfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWY2ID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjYuX2lkIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uXCIsIG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCk7XG4gICAgaWYgKChvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSAob3JpZ2luYWxfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWY3ID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjcuX2lkIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgb3JpZ2luYWxfaW5zX2ZpZWxkcyA9IChyZWY4ID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjguZmllbGRzIDogdm9pZCAwO1xuICAgICAgb3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9yaWdpbmFsX2luc19maWVsZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX2luc19maWVsZFwiLCBvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5jb2RlIDogdm9pZCAwKTtcbiAgICAgICAgaWYgKChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gc3ViVGFibGUgJiYgKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgICAgICAgcmV0dXJuIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgob3JpZ2luYWxfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWY5ID0gb3JpZ2luYWxfaW5zX2Zvcm0uaGlzdG9yeXMpICE9IG51bGwgPyByZWY5Lmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgIG9yaWdpbmFsX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24ob2gpIHtcbiAgICAgICAgICBpZiAoKG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IG9oLl9pZCkge1xuICAgICAgICAgICAgb3JpZ2luYWxfaW5zX2ZpZWxkcyA9IG9oICE9IG51bGwgPyBvaC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9yaWdpbmFsX2luc19maWVsZCkge1xuICAgICAgICAgICAgICBpZiAoKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBzdWJUYWJsZSAmJiAob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkc1wiLCBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgIT0gbnVsbCA/IG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggOiB2b2lkIDApO1xuICAgIGlmIChvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMpIHtcbiAgICAgIHRyYWNlcyA9IG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLnRyYWNlcyA6IHZvaWQgMDtcbiAgICAgIHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXTtcbiAgICAgIGFwcHJvdmUgPSB0cmFjZSAhPSBudWxsID8gdHJhY2UuYXBwcm92ZXNbMF0gOiB2b2lkIDA7XG4gICAgICB0YWJsZV9kYXRhID0gKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUudmFsdWVzW3N1YlRhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICByb3dfZGF0YSA9IHt9O1xuICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICByZXR1cm4gcm93X2RhdGFbY29sdW1uXSA9IGZvcndhcmRfaW5zX3ZhbHVlc1tjb2x1bW5dIHx8IFwiXCI7XG4gICAgICB9KTtcbiAgICAgIGlmIChyb3dfZGF0YSAmJiByb3dfZGF0YSAhPT0ge30pIHtcbiAgICAgICAgdGFibGVfZGF0YS5wdXNoKHJvd19kYXRhKTtcbiAgICAgICAgdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdID0gdGFibGVfZGF0YTtcbiAgICAgICAgY29uc29sZS5sb2codHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdKTtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShvcmlnaW5hbF9pbnNfaWQsIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAndHJhY2VzJzogdHJhY2VzXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAnaW5mbyc6ICflm57loavmlbDmja7kuLrnqbonXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgJ2Vycm9yJzogJ+WOn+eUs+ivt+WNleaXoOebuOWFs+WtkOihqCdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdzdWNjZXNzJzogJ+eUs+ivt+WNleacque7k+adnydcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfdGFibGVfcmVmaWxsXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT095Y6f6KGo5a2Q6KGoPT09PT09PT09PVwiXHJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/Lm9UYWJsZVwiLHJlcT8ucXVlcnk/Lm9UYWJsZVxyXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3njrDooajlrZDooag9PT09PT09PT09XCJcclxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uZFRhYmxlXCIscmVxPy5xdWVyeT8uZFRhYmxlXHJcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWOn+ihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIlxyXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcIixyZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcclxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT09546w6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiXHJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LmRNYXRjaENvbFwiLHJlcT8ucXVlcnk/LmRNYXRjaENvbFxyXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3pnIDopoHlm57loavnmoTliJc9PT09PT09PT09XCJcdFxyXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5yZWZpbGxDb2xcIixyZXE/LnF1ZXJ5Py5yZWZpbGxDb2xcclxuXHJcblx0XHQjIOWIhuWPkeeahOeUs+ivt+WNlVxyXG5cdFx0ZF9pbnMgPSByZXE/LmJvZHk/Lmluc3RhbmNlXHJcblxyXG5cdFx0XHJcblx0XHRpZiBkX2lucz8uc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxyXG5cdFx0XHRpZiByZXE/LnF1ZXJ5Py5vVGFibGVcclxuXHRcdFx0XHRvX3RhYmxlID0gcmVxPy5xdWVyeT8ub1RhYmxlXHJcblx0XHRcdFx0aWYgcmVxPy5xdWVyeT8uZFRhYmxlXHJcblx0XHRcdFx0XHRkX3RhYmxlID0gcmVxPy5xdWVyeT8uZFRhYmxlXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0ZF90YWJsZSA9IG9fdGFibGVcclxuXHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5hVGFibGVcclxuXHRcdFx0XHRcdGFfdGFibGUgPSByZXE/LnF1ZXJ5Py5hVGFibGVcclxuXHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcclxuXHRcdFx0XHRcdG9fbWF0Y2hfY29sID0gcmVxPy5xdWVyeT8ub01hdGNoQ29sXHJcblx0XHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcclxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2wgPSByZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2wgPSBvX21hdGNoX2NvbFxyXG5cdFx0XHRcdFx0Y29sdW1ucyA9IHJlcT8ucXVlcnk/LnJlZmlsbENvbC5zcGxpdCgnOycpIHx8IFtdXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyBcImNvbHVtbnNcIixjb2x1bW5zXHRcdFx0XHRcdFxyXG5cclxuXHRcdFx0XHRcdGlmIGNvbHVtbnMgfHwgY29sdW1ucy5sZW5ndGg8MVxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PT09PT09PT09PT09PT1cIlxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyBkX3RhYmxlLCBvX21hdGNoX2NvbCwgY29sdW1uc1xyXG5cclxuXHRcdFx0XHRcdFx0IyDliIblj5Hlm57mnaXnmoTlgLxcclxuXHRcdFx0XHRcdFx0ZF9pbnNfdmFsdWVzID0gZF9pbnM/LnZhbHVlc1xyXG5cclxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZUgZm9ybSDooajlrZfmrrVcclxuXHRcdFx0XHRcdFx0b19pbnNfaWQgPSBfLmxhc3QgZF9pbnM/LmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcclxuXHRcdFx0XHRcdFx0b19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvX2luc19pZClcclxuXHRcdFx0XHRcdFx0b19pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob19pbnM/LmZvcm0pXHJcblxyXG5cdFx0XHRcdFx0XHRkX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShkX2lucz8uZm9ybSlcclxuXHJcblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qEIGZpZWxkc1xyXG5cdFx0XHRcdFx0XHRvX2luc19maWVsZHMgPSBbXVxyXG5cclxuXHRcdFx0XHRcdFx0IyDljp/lrZDooajlrZfmrrVcclxuXHRcdFx0XHRcdFx0b19zdWJ0YWJsZV9maWVsZHMgPSBbXVxyXG5cclxuXHRcdFx0XHRcdFx0IyDliIblj5HnlLPor7fljZXnmoQgZmllbGRzXHJcblx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcyA9IFtdXHJcblx0XHRcdFx0XHRcdCMg546w55Sz6K+35Y2V5a2X6KGo5a2X5q61XHJcblx0XHRcdFx0XHRcdGRfc3VidGFibGVfZmllbGRzID0gW11cclxuXHJcblx0XHRcdFx0XHRcdCMg6LWL5YC85a+55bqU55qE5a2X5q61XHJcblx0XHRcdFx0XHRcdGNvbHVtbl9saXN0ID0gW11cclxuXHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQjIOWIhuWPkeWQjueUs+ivt+WNleeahCDlrZDooajlgLxcclxuXHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXMgPSBbXVxyXG5cclxuXHRcdFx0XHRcdFx0IyDmn6XnnIvljp/nlLPor7fljZXmmK/lkKbmnInlr7nlupTnmoTlrZDooahcclxuXHRcdFx0XHRcdFx0aWYgb19pbnM/LmZvcm1fdmVyc2lvbiA9PSBvX2luc19mb3JtPy5jdXJyZW50Py5faWRcclxuXHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMgPSBvX2luc19mb3JtPy5jdXJyZW50Py5maWVsZHNcclxuXHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMuZm9yRWFjaCAob19pbnNfZmllbGQpLT5cclxuXHRcdFx0XHRcdFx0XHRcdGlmIG9faW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgb19pbnNfZmllbGQ/LmNvZGUgPT0gb190YWJsZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkPy5maWVsZHNcclxuXHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdGlmIG9faW5zX2Zvcm0/Lmhpc3RvcnlzPy5sZW5ndGggPiAwXHJcblx0XHRcdFx0XHRcdFx0XHRvX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2ggKG9oKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIG9faW5zPy5mb3JtX3ZlcnNpb24gPT0gb2guX2lkXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzID0gb2g/LmZpZWxkc1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcy5mb3JFYWNoIChvX2luc19maWVsZCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgb19pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBvX2luc19maWVsZD8uY29kZSA9PSBvX3RhYmxlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQ/LmZpZWxkc1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0IyDmn6XnnIvliIblj5HnmoTnlLPor7fljZXmmK/lkKbmnInlr7nlupTnmoTlrZfooahcclxuXHRcdFx0XHRcdFx0aWYgZF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBkX2luc19mb3JtPy5jdXJyZW50Py5faWRcclxuXHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMgPSBkX2luc19mb3JtPy5jdXJyZW50Py5maWVsZHNcclxuXHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMuZm9yRWFjaCAoZF9pbnNfZmllbGQpLT5cclxuXHRcdFx0XHRcdFx0XHRcdGlmKChkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGRfdGFibGUpfHwoYV90YWJsZSAmJiBkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGFfdGFibGUpKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdCBkX2luc19maWVsZD8uZmllbGRzXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRpZiBkX2luc19mb3JtPy5oaXN0b3J5cz8ubGVuZ3RoID4gMFxyXG5cdFx0XHRcdFx0XHRcdFx0ZF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoIChkaCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBkX2lucz8uZm9ybV92ZXJzaW9uID09IGRoLl9pZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcyA9IGRoPy5maWVsZHNcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMuZm9yRWFjaCAoZF9pbnNfZmllbGQpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKChkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGRfdGFibGUpfHwoYV90YWJsZSAmJiBkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGFfdGFibGUpKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdCBkX2luc19maWVsZD8uZmllbGRzXHJcblx0XHRcdFx0XHRcdFxyXG5cclxuXHRcdFx0XHRcdFx0XHJcblxyXG5cdFx0XHRcdFx0XHRpZiBvX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT0gMFxyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nIFwib19zdWJ0YWJsZV9maWVsZHNcIixvX3N1YnRhYmxlX2ZpZWxkc1xyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGlmIGRfc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xyXG5cclxuXHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXMgPSBkX2lucz8udmFsdWVzW2RfdGFibGVdIHx8IFtdXHJcblxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0aWYgYV90YWJsZVxyXG5cdFx0XHRcdFx0XHRcdGFfdGFibGVfdmFsdWVzID0gIGRfaW5zPy52YWx1ZXNbYV90YWJsZV0gfHwgW11cclxuXHRcdFx0XHRcdFx0XHRpZiBhX3RhYmxlX3ZhbHVlcyAmJiBhX3RhYmxlX3ZhbHVlcz8ubGVuZ3RoPT1kX3RhYmxlX3ZhbHVlcz8ubGVuZ3RoXHJcblx0XHRcdFx0XHRcdFx0XHRhX3RhYmxlX3ZhbHVlcy5mb3JFYWNoIChhX3JvdyxpbmRleCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlc1tpbmRleF1ba2V5XSA9IHZhbHVlIGZvciBrZXksdmFsdWUgb2YgYV9yb3dcclxuXHJcblx0XHRcdFx0XHRcdGlmIGRfdGFibGVfdmFsdWVzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaVsOaNruS4uuepuicpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0b19tYXRjaF9jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09b19tYXRjaF9jb2wpXHJcblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PWRfbWF0Y2hfY29sKVxyXG5cclxuXHRcdFx0XHRcdFx0IyDljLnphY3liJfliKTmlq1cclxuXHRcdFx0XHRcdFx0aWYgb19tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgZF9tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xyXG5cclxuXHRcdFx0XHRcdFx0IyDliKTmlq3ljLnphY3liJflrZfmrrXnmoTlgLznsbvlnovmmK/lkKbkuIDoh7RcclxuXHRcdFx0XHRcdFx0b19tYXRjaF9jb2xfZmllbGQgPSBvX21hdGNoX2NvbF9maWVsZHNbMF1cclxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2xfZmllbGQgPSBkX21hdGNoX2NvbF9maWVsZHNbMF1cclxuXHJcblx0XHRcdFx0XHRcdGlmIG9fbWF0Y2hfY29sX2ZpZWxkPy50eXBlICE9IGRfbWF0Y2hfY29sX2ZpZWxkPy50eXBlXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWSjOWOn+eUs+ivt+WNleWtkOihqOeahOWMuemFjeWIl+Wtl+auteS4jeS4gOiHtCcpO1xyXG5cclxuXHRcdFx0XHRcdFx0IyDlm57loavliJfliKTmlq1cclxuXHRcdFx0XHRcdFx0Y29sdW1ucy5mb3JFYWNoIChjb2x1bW4pLT5cclxuXHRcdFx0XHRcdFx0XHRjb2xzID0gY29sdW1uLnNwbGl0KCctJykgfHwgW11cclxuXHRcdFx0XHRcdFx0XHRpZiBjb2xzLmxlbmd0aCA9PSAyXHJcblx0XHRcdFx0XHRcdFx0XHRvX2NvbCA9IGNvbHNbMF1cclxuXHRcdFx0XHRcdFx0XHRcdGRfY29sID0gY29sc1sxXVxyXG5cdFx0XHRcdFx0XHRcdFx0b19jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09b19jb2wpXHJcblx0XHRcdFx0XHRcdFx0XHRkX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1kX2NvbClcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQjIOWIpOaWreaYr+WQpuacieWvueW6lOeahOWbnuWhq+WIl1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgb19jb2xfZmllbGRzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiBkX2NvbF9maWVsZHMubGVuZ3RoID09IDBcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdCMg5Yik5pat5Yy56YWN5YiX5a2X5q6155qE5YC857G75Z6L5piv5ZCm5LiA6Ie0XHJcblx0XHRcdFx0XHRcdFx0XHRpZiBvX2NvbF9maWVsZHM/LnR5cGUgIT0gZF9jb2xfZmllbGRzPy50eXBlXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJflrZfmrrXnsbvlnovkuI3kuIDoh7QnKTtcclxuXHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRvX2NvbDogb19jb2wsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGRfY29sOiBkX2NvbFxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QucHVzaCBjb2xcclxuXHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+S4jeWMuemFjScpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0IyDotYvlgLxcclxuXHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyAgJz09PT09PWNvbHVtbl9saXN0PT09PT09PScsY29sdW1uX2xpc3RcclxuXHJcblx0XHRcdFx0XHRcdHRyYWNlcyA9IG9faW5zPy50cmFjZXNcclxuXHJcblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qEIHN0ZXAgXHJcblx0XHRcdFx0XHRcdHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGgtMV1cclxuXHJcblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qE5b2T5YmN5q2l6aqkXHJcblx0XHRcdFx0XHRcdGFwcHJvdmUgPSB0cmFjZT8uYXBwcm92ZXNbMF1cclxuXHJcblx0XHRcdFx0XHRcdCMg5YWD55Sz6K+35Y2V55qE5b2T5YmNIHZhbHVlIOeahCDlrZDooahcclxuXHRcdFx0XHRcdFx0dGFibGVfZGF0YSA9IGFwcHJvdmU/LnZhbHVlc1tvX3RhYmxlXSB8fCBbXVxyXG5cclxuXHJcblx0XHRcdFx0XHRcdCMg5qC55o2uIGNvbHVtbl9saXN0IOi1i+WAvOWvueW6lOWtl+autei/m+ihjOi1i+WAvFxyXG5cdFx0XHRcdFx0XHQjIOW+queOr+WIhuWPkeeUs+ivt+WNleeahOavj+ihjFxyXG5cdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlcy5mb3JFYWNoIChkX3JvdyktPlxyXG5cdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJkX3Jvd1wiLGRfcm93XHJcblx0XHRcdFx0XHRcdFx0IyDmn6Xmib7ljLnphY3nmoTliJfmmK/lkKbkuI7lvZPliY3nmoTljLnphY3liJfkuIDoh7RcclxuXHRcdFx0XHRcdFx0XHRoYXNfb2JqID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHRjb3VudCA9IC0xXHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0IyDnnIvljp/lrZDooajmmK/lkKbmnInor6XljLnphY3liJdcclxuXHRcdFx0XHRcdFx0XHR0YWJsZV9kYXRhLmZvckVhY2ggKG9fcm93LCBpbmRleCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcIm9fcm93XCIsIG9fcm93XHJcblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiaW5kZXhcIixpbmRleFxyXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcIm9fcm93W29fbWF0Y2hfY29sXVwiLG9fcm93W29fbWF0Y2hfY29sXVxyXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImRfcm93W2RfbWF0Y2hfY29sXVwiLGRfcm93W2RfbWF0Y2hfY29sXVxyXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcIm9fcm93W29fbWF0Y2hfY29sXSA9PSBkX3Jvd1tkX21hdGNoX2NvbF1cIixvX3Jvd1tvX21hdGNoX2NvbF0gPT0gZF9yb3dbZF9tYXRjaF9jb2xdXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgb19yb3dbb19tYXRjaF9jb2xdID09IGRfcm93W2RfbWF0Y2hfY29sXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRoYXNfb2JqID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb3VudCA9IGluZGV4XHJcblxyXG5cdFx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qE5Yy56YWN5a2X5q615pyJ5YC8XHJcblx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImhhc19vYmpcIixoYXNfb2JqXHJcblx0XHRcdFx0XHRcdFx0aWYgaGFzX29iaj09dHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QuZm9yRWFjaCAoY29sKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRhYmxlX2RhdGFbY291bnRdW2NvbD8ub19jb2xdID0gZF9yb3dbY29sPy5kX2NvbF1cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRyb3dfZGF0YSA9IHt9XHJcblx0XHRcdFx0XHRcdFx0XHRyb3dfZGF0YVtvX21hdGNoX2NvbF0gPSBkX3Jvd1tkX21hdGNoX2NvbF1cclxuXHRcdFx0XHRcdFx0XHRcdGNvbHVtbl9saXN0LmZvckVhY2ggKGNvbCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRyb3dfZGF0YVtjb2w/Lm9fY29sXSA9IGRfcm93W2NvbD8uZF9jb2xdXHJcblx0XHRcdFx0XHRcdFx0XHR0YWJsZV9kYXRhLnB1c2ggcm93X2RhdGFcclxuXHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXMgPSBvX2lucz8udmFsdWVzXHJcblx0XHRcdFx0XHRcdHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlc1tvX3RhYmxlXSA9IHRhYmxlX2RhdGFcclxuXHJcblx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUob19pbnNfaWQse1xyXG5cdFx0XHRcdFx0XHRcdCRzZXQ6e1xyXG5cdFx0XHRcdFx0XHRcdFx0J3RyYWNlcyc6dHJhY2VzXHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHJcblx0XHRcdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0XHRcdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdFx0XHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdFx0XHRcdFx0J3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7lrZDooajlm57loavliJflrZfmrrUgY29sdW1ucyDlgLwnKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWMuemFjeWIl+Wtl+autSBvTWF0Y2hDb2wg5YC8Jyk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWOn+ihqOWNleWtkOihqCBvVGFibGUg5YC8Jyk7XHJcblx0XHRlbHNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfnlLPor7fljZXmnKrnu5PmnZ8nKTtcclxuXHRjYXRjaCBlXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdGVycm9yczogW2VdXHJcblx0XHRcdH1cclxuXHRcdH1cclxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF90YWJsZV9yZWZpbGxcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFfdGFibGUsIGFfdGFibGVfdmFsdWVzLCBhcHByb3ZlLCBjb2x1bW5fbGlzdCwgY29sdW1ucywgZF9pbnMsIGRfaW5zX2ZpZWxkcywgZF9pbnNfZm9ybSwgZF9pbnNfdmFsdWVzLCBkX21hdGNoX2NvbCwgZF9tYXRjaF9jb2xfZmllbGQsIGRfbWF0Y2hfY29sX2ZpZWxkcywgZF9zdWJ0YWJsZV9maWVsZHMsIGRfdGFibGUsIGRfdGFibGVfdmFsdWVzLCBlLCBvX2lucywgb19pbnNfZmllbGRzLCBvX2luc19mb3JtLCBvX2luc19pZCwgb19tYXRjaF9jb2wsIG9fbWF0Y2hfY29sX2ZpZWxkLCBvX21hdGNoX2NvbF9maWVsZHMsIG9fc3VidGFibGVfZmllbGRzLCBvX3RhYmxlLCByZWYsIHJlZjEsIHJlZjEwLCByZWYxMSwgcmVmMTIsIHJlZjEzLCByZWYxNCwgcmVmMTUsIHJlZjE2LCByZWYxNywgcmVmMTgsIHJlZjE5LCByZWYyLCByZWYyMCwgcmVmMjEsIHJlZjIyLCByZWYzLCByZWY0LCByZWY1LCByZWY2LCByZWY3LCByZWY4LCByZWY5LCB0YWJsZV9kYXRhLCB0cmFjZSwgdHJhY2VzO1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095Y6f6KGo5a2Q6KGoPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/Lm9UYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYub1RhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeeOsOihqOWtkOihqD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5kVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuZFRhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWOn+ihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIub01hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeeOsOihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuZE1hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PemcgOimgeWbnuWhq+eahOWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5yZWZpbGxDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQucmVmaWxsQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBkX2lucyA9IHJlcSAhPSBudWxsID8gKHJlZjUgPSByZXEuYm9keSkgIT0gbnVsbCA/IHJlZjUuaW5zdGFuY2UgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKChkX2lucyAhPSBudWxsID8gZF9pbnMuc3RhdGUgOiB2b2lkIDApID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmNiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjYub1RhYmxlIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgIG9fdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY3ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNy5vVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWY4ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmOC5kVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICBkX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmOSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjkuZFRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRfdGFibGUgPSBvX3RhYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWYxMCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEwLmFUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgIGFfdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWYxMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjExLmFUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmMTIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMi5vTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICBvX21hdGNoX2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjEzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTMub01hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWYxNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjE0LmRNYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgICAgZF9tYXRjaF9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWYxNSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjE1LmRNYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZF9tYXRjaF9jb2wgPSBvX21hdGNoX2NvbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29sdW1ucyA9IChyZXEgIT0gbnVsbCA/IChyZWYxNiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjE2LnJlZmlsbENvbC5zcGxpdCgnOycpIDogdm9pZCAwIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbHVtbnNcIiwgY29sdW1ucyk7XG4gICAgICAgICAgaWYgKGNvbHVtbnMgfHwgY29sdW1ucy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PT09PT09PT09PT1cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkX3RhYmxlLCBvX21hdGNoX2NvbCwgY29sdW1ucyk7XG4gICAgICAgICAgICBkX2luc192YWx1ZXMgPSBkX2lucyAhPSBudWxsID8gZF9pbnMudmFsdWVzIDogdm9pZCAwO1xuICAgICAgICAgICAgb19pbnNfaWQgPSBfLmxhc3QoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgOiB2b2lkIDApO1xuICAgICAgICAgICAgb19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvX2luc19pZCk7XG4gICAgICAgICAgICBvX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvX2lucyAhPSBudWxsID8gb19pbnMuZm9ybSA6IHZvaWQgMCk7XG4gICAgICAgICAgICBkX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShkX2lucyAhPSBudWxsID8gZF9pbnMuZm9ybSA6IHZvaWQgMCk7XG4gICAgICAgICAgICBvX2luc19maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIG9fc3VidGFibGVfZmllbGRzID0gW107XG4gICAgICAgICAgICBkX2luc19maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIGRfc3VidGFibGVfZmllbGRzID0gW107XG4gICAgICAgICAgICBjb2x1bW5fbGlzdCA9IFtdO1xuICAgICAgICAgICAgZF90YWJsZV92YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgIGlmICgob19pbnMgIT0gbnVsbCA/IG9faW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IChvX2luc19mb3JtICE9IG51bGwgPyAocmVmMTcgPSBvX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYxNy5faWQgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgIG9faW5zX2ZpZWxkcyA9IG9faW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYxOCA9IG9faW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjE4LmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgb19pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob19pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBvX3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gb19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoKG9faW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYxOSA9IG9faW5zX2Zvcm0uaGlzdG9yeXMpICE9IG51bGwgPyByZWYxOS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgICAgICAgIG9faW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbihvaCkge1xuICAgICAgICAgICAgICAgICAgaWYgKChvX2lucyAhPSBudWxsID8gb19pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gb2guX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIG9faW5zX2ZpZWxkcyA9IG9oICE9IG51bGwgPyBvaC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICgob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IG9fdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChkX2lucyAhPSBudWxsID8gZF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gKGRfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYyMCA9IGRfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjIwLl9pZCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgZF9pbnNfZmllbGRzID0gZF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjIxID0gZF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMjEuZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgICAgICBkX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihkX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgIGlmICgoKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBkX3RhYmxlKSB8fCAoYV90YWJsZSAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGFfdGFibGUpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICgoZF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjIyID0gZF9pbnNfZm9ybS5oaXN0b3J5cykgIT0gbnVsbCA/IHJlZjIyLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgZF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uKGRoKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoKGRfaW5zICE9IG51bGwgPyBkX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSBkaC5faWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZF9pbnNfZmllbGRzID0gZGggIT0gbnVsbCA/IGRoLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGRfaW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCgoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGRfdGFibGUpIHx8IChhX3RhYmxlICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gYV90YWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob19zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib19zdWJ0YWJsZV9maWVsZHNcIiwgb19zdWJ0YWJsZV9maWVsZHMpO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZF9zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRfdGFibGVfdmFsdWVzID0gKGRfaW5zICE9IG51bGwgPyBkX2lucy52YWx1ZXNbZF90YWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgICAgaWYgKGFfdGFibGUpIHtcbiAgICAgICAgICAgICAgYV90YWJsZV92YWx1ZXMgPSAoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnZhbHVlc1thX3RhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgICAgIGlmIChhX3RhYmxlX3ZhbHVlcyAmJiAoYV90YWJsZV92YWx1ZXMgIT0gbnVsbCA/IGFfdGFibGVfdmFsdWVzLmxlbmd0aCA6IHZvaWQgMCkgPT09IChkX3RhYmxlX3ZhbHVlcyAhPSBudWxsID8gZF90YWJsZV92YWx1ZXMubGVuZ3RoIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICAgIGFfdGFibGVfdmFsdWVzLmZvckVhY2goZnVuY3Rpb24oYV9yb3csIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICB2YXIga2V5LCByZXN1bHRzLCB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGFfcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYV9yb3dba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGRfdGFibGVfdmFsdWVzW2luZGV4XVtrZXldID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkX3RhYmxlX3ZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaVsOaNruS4uuepuicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb19tYXRjaF9jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gb19tYXRjaF9jb2w7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IGRfbWF0Y2hfY29sO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAob19tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZF9tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvX21hdGNoX2NvbF9maWVsZCA9IG9fbWF0Y2hfY29sX2ZpZWxkc1swXTtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sX2ZpZWxkID0gZF9tYXRjaF9jb2xfZmllbGRzWzBdO1xuICAgICAgICAgICAgaWYgKChvX21hdGNoX2NvbF9maWVsZCAhPSBudWxsID8gb19tYXRjaF9jb2xfZmllbGQudHlwZSA6IHZvaWQgMCkgIT09IChkX21hdGNoX2NvbF9maWVsZCAhPSBudWxsID8gZF9tYXRjaF9jb2xfZmllbGQudHlwZSA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWSjOWOn+eUs+ivt+WNleWtkOihqOeahOWMuemFjeWIl+Wtl+auteS4jeS4gOiHtCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICAgICAgICB2YXIgY29sLCBjb2xzLCBkX2NvbCwgZF9jb2xfZmllbGRzLCBvX2NvbCwgb19jb2xfZmllbGRzO1xuICAgICAgICAgICAgICBjb2xzID0gY29sdW1uLnNwbGl0KCctJykgfHwgW107XG4gICAgICAgICAgICAgIGlmIChjb2xzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIG9fY29sID0gY29sc1swXTtcbiAgICAgICAgICAgICAgICBkX2NvbCA9IGNvbHNbMV07XG4gICAgICAgICAgICAgICAgb19jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IG9fY29sO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBkX2NvbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAob19jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZF9jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKG9fY29sX2ZpZWxkcyAhPSBudWxsID8gb19jb2xfZmllbGRzLnR5cGUgOiB2b2lkIDApICE9PSAoZF9jb2xfZmllbGRzICE9IG51bGwgPyBkX2NvbF9maWVsZHMudHlwZSA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJflrZfmrrXnsbvlnovkuI3kuIDoh7QnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29sID0ge1xuICAgICAgICAgICAgICAgICAgb19jb2w6IG9fY29sLFxuICAgICAgICAgICAgICAgICAgZF9jb2w6IGRfY29sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uX2xpc3QucHVzaChjb2wpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJfkuI3ljLnphY0nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFjZXMgPSBvX2lucyAhPSBudWxsID8gb19pbnMudHJhY2VzIDogdm9pZCAwO1xuICAgICAgICAgICAgdHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgYXBwcm92ZSA9IHRyYWNlICE9IG51bGwgPyB0cmFjZS5hcHByb3Zlc1swXSA6IHZvaWQgMDtcbiAgICAgICAgICAgIHRhYmxlX2RhdGEgPSAoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS52YWx1ZXNbb190YWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgICAgZF90YWJsZV92YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihkX3Jvdykge1xuICAgICAgICAgICAgICB2YXIgY291bnQsIGhhc19vYmosIHJvd19kYXRhO1xuICAgICAgICAgICAgICBoYXNfb2JqID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvdW50ID0gLTE7XG4gICAgICAgICAgICAgIHRhYmxlX2RhdGEuZm9yRWFjaChmdW5jdGlvbihvX3JvdywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAob19yb3dbb19tYXRjaF9jb2xdID09PSBkX3Jvd1tkX21hdGNoX2NvbF0pIHtcbiAgICAgICAgICAgICAgICAgIGhhc19vYmogPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKGhhc19vYmogPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uX2xpc3QuZm9yRWFjaChmdW5jdGlvbihjb2wpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZV9kYXRhW2NvdW50XVtjb2wgIT0gbnVsbCA/IGNvbC5vX2NvbCA6IHZvaWQgMF0gPSBkX3Jvd1tjb2wgIT0gbnVsbCA/IGNvbC5kX2NvbCA6IHZvaWQgMF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm93X2RhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICByb3dfZGF0YVtvX21hdGNoX2NvbF0gPSBkX3Jvd1tkX21hdGNoX2NvbF07XG4gICAgICAgICAgICAgICAgY29sdW1uX2xpc3QuZm9yRWFjaChmdW5jdGlvbihjb2wpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByb3dfZGF0YVtjb2wgIT0gbnVsbCA/IGNvbC5vX2NvbCA6IHZvaWQgMF0gPSBkX3Jvd1tjb2wgIT0gbnVsbCA/IGNvbC5kX2NvbCA6IHZvaWQgMF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlX2RhdGEucHVzaChyb3dfZGF0YSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXMgPSBvX2lucyAhPSBudWxsID8gb19pbnMudmFsdWVzIDogdm9pZCAwO1xuICAgICAgICAgICAgdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXNbb190YWJsZV0gPSB0YWJsZV9kYXRhO1xuICAgICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShvX2luc19pZCwge1xuICAgICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICAgJ3RyYWNlcyc6IHRyYWNlc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7lrZDooajlm57loavliJflrZfmrrUgY29sdW1ucyDlgLwnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljLnphY3liJflrZfmrrUgb01hdGNoQ29sIOWAvCcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWOn+ihqOWNleWtkOihqCBvVGFibGUg5YC8Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfnlLPor7fljZXmnKrnu5PmnZ8nKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW2VdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9zdWJfdGFibGVfc29ydFwiLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooag9PT09PT09PT09XCJcclxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIscmVxPy5xdWVyeT8uc3ViVGFibGVcclxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqOaAu+WIhuWIlz09PT09PT09PT1cIlxyXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc3VtQ29sXCIscmVxPy5xdWVyeT8uc3VtQ29sXHJcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooajmjpLluo/liJc9PT09PT09PT09XCJcclxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnNvcnRDb2xcIixyZXE/LnF1ZXJ5Py5zb3J0Q29sXHJcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooajljZXliJfpnIDopoHorqHnrpfnmoTlkow9PT09PT09PT09XCJcclxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcIixyZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgc3ViX3RhYmxlID0gcmVxPy5xdWVyeT8uc3ViVGFibGVcclxuICAgICAgICBpZiAhc3ViX3RhYmxlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zdWJfdGFibGU9PT09PT1cIlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdWJUYWJsZSDlrZfmrrUnICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc3VtX2NvbCA9IHJlcT8ucXVlcnk/LnN1bUNvbFxyXG4gICAgICAgIGlmICFzdW1fY29sXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zdW1fY29sPT09PT09XCJcclxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3VtQ29sIOWtl+autScgKTtcclxuICAgICAgICBcclxuICAgICAgICBzb3J0X2NvbCA9IHJlcT8ucXVlcnk/LnNvcnRDb2xcclxuICAgICAgICBpZiAhc29ydF9jb2xcclxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PXNvcnRfY29sPT09PT09XCJcclxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc29ydENvbCDlrZfmrrUnICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgIyBzaW5nbGVfY29scyA9IHJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcclxuICAgICAgICAjIGlmICFzaW5nbGVfY29sc1xyXG4gICAgICAgICMgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zaW5nbGVfY29scz09PT09PVwiXHJcblxyXG4gICAgICAgICMgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHNpbmdsZUNvbHMg5a2X5q61JyApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlucyA9IHJlcT8uYm9keT8uaW5zdGFuY2VcclxuICAgICAgICBcclxuICAgICAgICBzdWJfdGFibGVfdmFsdWVzID0gaW5zLnZhbHVlc1tzdWJfdGFibGVdXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgc3ViX3RhYmxlX3ZhbHVlcz8ubGVuZ3RoID4gMCBcclxuICAgICAgICAgICAgIyAjIOagueaNriBzdWJfdGFibGVfdmFsdWVzIOi/m+ihjOaOkuW6j1xyXG4gICAgICAgICAgICAjID09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAgICAgIyDmjpLluo/lrZfmrrXvvIzlhbPplK7lrZfvvIzmraPluo8odHJ1ZSkv5YCS5bqPKGZhbHNlKVxyXG4gICAgICAgICAgICBgZnVuY3Rpb24gSnNvblNvcnQoanNvbkFyciwga2V5LCBhc2Mpe1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBqPTEsamw9anNvbkFyci5sZW5ndGg7aiA8IGpsO2orKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBqc29uQXJyW2pdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgID0gTnVtYmVyKHRlbXBba2V5XSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgICAgPSBqLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYXNjPT10cnVlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk+dmFsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKTx2YWwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbkFycjtcclxuICAgICAgICAgICAgfWBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG5ld190YWJsZV92YWx1ZXMgPSBKc29uU29ydChzdWJfdGFibGVfdmFsdWVzLHN1bV9jb2wsZmFsc2UpXHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIm5ld190YWJsZV92YWx1ZXNcIixuZXdfdGFibGVfdmFsdWVzXHJcblxyXG4gICAgICAgICAgICBuZXdfdGFibGVfdmFsdWVzLmZvckVhY2ggKG9iaiwgaW5kZXgpLT5cclxuICAgICAgICAgICAgICAgIGlmIHNvcnRfY29sIGFuZCBvYmpbc3VtX2NvbF1cclxuICAgICAgICAgICAgICAgICAgICBvYmpbc29ydF9jb2xdID0gKGluZGV4KzEpLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwibmV3X3RhYmxlX3ZhbHVlc1wiLG5ld190YWJsZV92YWx1ZXNcclxuXHJcbiAgICAgICAgICAgIGlucy52YWx1ZXNbc3ViX3RhYmxlXSA9IG5ld190YWJsZV92YWx1ZXNcclxuXHJcbiAgICAgICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoaW5zLl9pZCx7XHJcbiAgICAgICAgICAgICAgICAkc2V0OntcclxuICAgICAgICAgICAgICAgICAgICAndmFsdWVzJzppbnMudmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwic3VjY2Vzc1wiXHJcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6ICforqHnrpfmjpLluo/miJDlip8nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ+WtkOihqOaVsOaNruS4uuepuicpO1xyXG4gICAgY2F0Y2ggZVxyXG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnJvcnM6IFtlXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9zdWJfdGFibGVfc29ydFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZSwgaW5zLCBuZXdfdGFibGVfdmFsdWVzLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHJlZjcsIHNvcnRfY29sLCBzdWJfdGFibGUsIHN1Yl90YWJsZV92YWx1ZXMsIHN1bV9jb2w7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooag9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqOaAu+WIhuWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zdW1Db2xcIiwgcmVxICE9IG51bGwgPyAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuc3VtQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqOaOkuW6j+WIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zb3J0Q29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLnNvcnRDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGo5Y2V5YiX6ZyA6KaB6K6h566X55qE5ZKMPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcIiwgcmVxICE9IG51bGwgPyAocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuc2luZ2xlQ29scyA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgc3ViX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKCFzdWJfdGFibGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiPT09PT1zdWJfdGFibGU9PT09PT1cIik7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdWJUYWJsZSDlrZfmrrUnKTtcbiAgICB9XG4gICAgc3VtX2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjUgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY1LnN1bUNvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoIXN1bV9jb2wpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiPT09PT1zdW1fY29sPT09PT09XCIpO1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3VtQ29sIOWtl+autScpO1xuICAgIH1cbiAgICBzb3J0X2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY2LnNvcnRDb2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKCFzb3J0X2NvbCkge1xuICAgICAgY29uc29sZS5sb2coXCI9PT09PXNvcnRfY29sPT09PT09XCIpO1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc29ydENvbCDlrZfmrrUnKTtcbiAgICB9XG4gICAgaW5zID0gcmVxICE9IG51bGwgPyAocmVmNyA9IHJlcS5ib2R5KSAhPSBudWxsID8gcmVmNy5pbnN0YW5jZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBzdWJfdGFibGVfdmFsdWVzID0gaW5zLnZhbHVlc1tzdWJfdGFibGVdO1xuICAgIGlmICgoc3ViX3RhYmxlX3ZhbHVlcyAhPSBudWxsID8gc3ViX3RhYmxlX3ZhbHVlcy5sZW5ndGggOiB2b2lkIDApID4gMCkge1xuICAgICAgZnVuY3Rpb24gSnNvblNvcnQoanNvbkFyciwga2V5LCBhc2Mpe1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaj0xLGpsPWpzb25BcnIubGVuZ3RoO2ogPCBqbDtqKyspe1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGpzb25BcnJbal0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgID0gTnVtYmVyKHRlbXBba2V5XSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpICAgID0gai0xO1xuICAgICAgICAgICAgICAgICAgICBpZihhc2M9PXRydWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk+dmFsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPHZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSB0ZW1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbkFycjtcbiAgICAgICAgICAgIH07XG4gICAgICBuZXdfdGFibGVfdmFsdWVzID0gSnNvblNvcnQoc3ViX3RhYmxlX3ZhbHVlcywgc3VtX2NvbCwgZmFsc2UpO1xuICAgICAgY29uc29sZS5sb2coXCJuZXdfdGFibGVfdmFsdWVzXCIsIG5ld190YWJsZV92YWx1ZXMpO1xuICAgICAgbmV3X3RhYmxlX3ZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKG9iaiwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHNvcnRfY29sICYmIG9ialtzdW1fY29sXSkge1xuICAgICAgICAgIHJldHVybiBvYmpbc29ydF9jb2xdID0gKGluZGV4ICsgMSkudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcIm5ld190YWJsZV92YWx1ZXNcIiwgbmV3X3RhYmxlX3ZhbHVlcyk7XG4gICAgICBpbnMudmFsdWVzW3N1Yl90YWJsZV0gPSBuZXdfdGFibGVfdmFsdWVzO1xuICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShpbnMuX2lkLCB7XG4gICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAndmFsdWVzJzogaW5zLnZhbHVlc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc1wiKTtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICdzdWNjZXNzJzogJ+iuoeeul+aOkuW6j+aIkOWKnydcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ+WtkOihqOaVsOaNruS4uuepuicpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbZV1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJpZiBNZXRlb3IuaXNEZXZlbG9wbWVudFxyXG4gICAgSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL3Rlc3Qvd2ViaG9vaycsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuICAgICAgICB0cnlcclxuXHJcbiAgICAgICAgICAgIGhhc2hEYXRhID0gcmVxLmJvZHlcclxuICAgICAgICAgICAgY29uc29sZS5sb2cgJ2FjdGlvbjogJywgaGFzaERhdGEuYWN0aW9uXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nICdmcm9tX3VzZXI6ICcsIGhhc2hEYXRhLmZyb21fdXNlclxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyAndG9fdXNlcnM6ICcsIGhhc2hEYXRhLnRvX3VzZXJzXHJcblxyXG5cclxuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDBcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fVxyXG4gICAgICAgIGNhdGNoIGVcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvciBlLnN0YWNrXHJcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDBcclxuICAgICAgICAgICAgICAgIGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfSIsImlmIChNZXRlb3IuaXNEZXZlbG9wbWVudCkge1xuICBKc29uUm91dGVzLmFkZCgncG9zdCcsICcvdGVzdC93ZWJob29rJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICB2YXIgZSwgaGFzaERhdGE7XG4gICAgdHJ5IHtcbiAgICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgICBjb25zb2xlLmxvZygnYWN0aW9uOiAnLCBoYXNoRGF0YS5hY3Rpb24pO1xuICAgICAgY29uc29sZS5sb2coJ2Zyb21fdXNlcjogJywgaGFzaERhdGEuZnJvbV91c2VyKTtcbiAgICAgIGNvbnNvbGUubG9nKCd0b191c2VyczogJywgaGFzaERhdGEudG9fdXNlcnMpO1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7fVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGUgPSBlcnJvcjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvdXNlcnNcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cclxuXHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzXHJcblx0c3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWRcclxuXHRzcGFjZVVzZXJzID0gW107XHJcblxyXG5cdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHt1c2VyOiBjdXJyZW50X3VzZXIsIHNwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge19pZDogMX19KVxyXG5cdGlmICFzcGFjZV91c2VyXHJcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHQnZXJyb3JzJzogJ+aXoOadg+mZkCdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdGlmICghdXNlcklkcyB8fCAhc3BhY2VJZClcclxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRzcGFjZVVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0cyhzcGFjZUlkLCB1c2VySWRzKVxyXG5cclxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRjb2RlOiAyMDAsXHJcblx0XHRkYXRhOiB7XHJcblx0XHRcdCdzcGFjZVVzZXJzJzogc3BhY2VVc2Vyc1xyXG5cdFx0fVxyXG5cdH1cclxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS91c2Vyc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgc3BhY2VJZCwgc3BhY2VVc2Vycywgc3BhY2VfdXNlciwgdXNlcklkcztcbiAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICB1c2VySWRzID0gcmVxLmJvZHkudXNlcklkcztcbiAgc3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWQ7XG4gIHNwYWNlVXNlcnMgPSBbXTtcbiAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgIHVzZXI6IGN1cnJlbnRfdXNlcixcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDFcbiAgICB9XG4gIH0pO1xuICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+aXoOadg+mZkCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBzcGFjZVVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0cyhzcGFjZUlkLCB1c2VySWRzKTtcbiAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgJ3NwYWNlVXNlcnMnOiBzcGFjZVVzZXJzXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL29yZ3NcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHRvcmdJZHMgPSByZXEuYm9keS5vcmdJZHNcclxuXHRzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZFxyXG5cclxuXHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7dXNlcjogY3VycmVudF91c2VyLCBzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtfaWQ6IDF9fSlcclxuXHRpZiAhc3BhY2VfdXNlclxyXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0J2Vycm9ycyc6ICfml6DmnYPpmZAnXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRpZiAoIW9yZ0lkcyB8fCAhc3BhY2VJZClcclxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0b3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhT3JnT2JqZWN0cyhvcmdJZHMpXHJcblxyXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdGNvZGU6IDIwMCxcclxuXHRcdGRhdGE6IHtcclxuXHRcdFx0J29yZ3MnOiBvcmdzXHJcblx0XHR9XHJcblx0fSk7XHJcbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvb3Jnc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgb3JnSWRzLCBvcmdzLCBzcGFjZUlkLCBzcGFjZV91c2VyO1xuICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gIG9yZ0lkcyA9IHJlcS5ib2R5Lm9yZ0lkcztcbiAgc3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWQ7XG4gIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICB1c2VyOiBjdXJyZW50X3VzZXIsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxXG4gICAgfVxuICB9KTtcbiAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfml6DmnYPpmZAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFvcmdJZHMgfHwgIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBvcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFPcmdPYmplY3RzKG9yZ0lkcyk7XG4gIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgICdvcmdzJzogb3Jnc1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0c2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZTogKGluc19pZCwgc3RlcF9hcHByb3ZlLCBzdGVwc0FwcHJvdmVzT3B0aW9ucyktPlxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc19pZH0sIHtmaWVsZHM6IHtzdGF0ZTogMX19KVxyXG5cclxuXHRcdGlmIGlucy5zdGF0ZSAhPSAnZHJhZnQnXHJcblx0XHRcdHJldHVybiA7XHJcblxyXG5cdFx0X2tleXMxID0gXy5rZXlzKHN0ZXBfYXBwcm92ZSk7XHJcblx0XHRfa2V5czIgPSBfLmtleXMoc3RlcHNBcHByb3Zlc09wdGlvbnMpO1xyXG5cclxuXHRcdGtleXMgPSBfLmNvbXBhY3QoXy51bmlvbihfa2V5czEsIF9rZXlzMikpO1xyXG5cclxuXHRcdHN0ZXBzQXBwcm92ZXMgPSB7fTtcclxuXHJcblx0XHRfLmVhY2gga2V5cywgKHN0ZXBJZCktPlxyXG5cdFx0XHRzdGVwQXBwcm92ZXMgPSBzdGVwX2FwcHJvdmVbc3RlcElkXVxyXG5cdFx0XHRzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcHNBcHByb3Zlc09wdGlvbnNbc3RlcElkXVxyXG5cdFx0XHRpZiBzdGVwQXBwcm92ZXNcclxuXHRcdFx0XHRzdGVwc0FwcHJvdmVzW3N0ZXBJZF0gPSBzdGVwQXBwcm92ZXNcclxuXHRcdFx0XHRpZiBzdGVwc0FwcHJvdmVPcHRpb25zXHJcblx0XHRcdFx0XHRpZiBfLmlzQXJyYXkoc3RlcEFwcHJvdmVzKVxyXG5cdFx0XHRcdFx0XHRzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcEFwcHJvdmVzLmNvbmNhdChzdGVwc0FwcHJvdmVPcHRpb25zKVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRzdGVwc0FwcHJvdmVPcHRpb25zLnB1c2goc3RlcEFwcHJvdmVzKVxyXG5cdFx0XHRpZiBzdGVwc0FwcHJvdmVPcHRpb25zXHJcblx0XHRcdFx0c3RlcHNBcHByb3Zlc1tzdGVwSWQgKyAnX29wdGlvbnMnXSA9IF8udW5pcShzdGVwc0FwcHJvdmVPcHRpb25zKVxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSB7X2lkOiBpbnNfaWR9LCB7JHNldDoge3N0ZXBfYXBwcm92ZTogc3RlcHNBcHByb3Zlc319XHJcblx0c2V0X2luc3RhbmNlX3NraXBfc3RlcHM6IChpbnNfaWQsIHN0ZXBJZCwgYWN0aW9uKS0+XHJcblx0XHRpZiBhY3Rpb24gPT0gJ3B1bGwnXHJcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUge19pZDogaW5zX2lkfSwgeyRwdWxsOiB7c2tpcF9zdGVwczogc3RlcElkfX1cclxuXHRcdGVsc2UgaWYgYWN0aW9uID09ICdwdXNoJ1xyXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlIHtfaWQ6IGluc19pZH0sIHskcHVzaDoge3NraXBfc3RlcHM6IHN0ZXBJZH19IiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlOiBmdW5jdGlvbihpbnNfaWQsIHN0ZXBfYXBwcm92ZSwgc3RlcHNBcHByb3Zlc09wdGlvbnMpIHtcbiAgICB2YXIgX2tleXMxLCBfa2V5czIsIGlucywga2V5cywgc3RlcHNBcHByb3ZlcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucy5zdGF0ZSAhPT0gJ2RyYWZ0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfa2V5czEgPSBfLmtleXMoc3RlcF9hcHByb3ZlKTtcbiAgICBfa2V5czIgPSBfLmtleXMoc3RlcHNBcHByb3Zlc09wdGlvbnMpO1xuICAgIGtleXMgPSBfLmNvbXBhY3QoXy51bmlvbihfa2V5czEsIF9rZXlzMikpO1xuICAgIHN0ZXBzQXBwcm92ZXMgPSB7fTtcbiAgICBfLmVhY2goa2V5cywgZnVuY3Rpb24oc3RlcElkKSB7XG4gICAgICB2YXIgc3RlcEFwcHJvdmVzLCBzdGVwc0FwcHJvdmVPcHRpb25zO1xuICAgICAgc3RlcEFwcHJvdmVzID0gc3RlcF9hcHByb3ZlW3N0ZXBJZF07XG4gICAgICBzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcHNBcHByb3Zlc09wdGlvbnNbc3RlcElkXTtcbiAgICAgIGlmIChzdGVwQXBwcm92ZXMpIHtcbiAgICAgICAgc3RlcHNBcHByb3Zlc1tzdGVwSWRdID0gc3RlcEFwcHJvdmVzO1xuICAgICAgICBpZiAoc3RlcHNBcHByb3ZlT3B0aW9ucykge1xuICAgICAgICAgIGlmIChfLmlzQXJyYXkoc3RlcEFwcHJvdmVzKSkge1xuICAgICAgICAgICAgc3RlcHNBcHByb3ZlT3B0aW9ucyA9IHN0ZXBBcHByb3Zlcy5jb25jYXQoc3RlcHNBcHByb3ZlT3B0aW9ucyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ZXBzQXBwcm92ZU9wdGlvbnMucHVzaChzdGVwQXBwcm92ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0ZXBzQXBwcm92ZU9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHN0ZXBzQXBwcm92ZXNbc3RlcElkICsgJ19vcHRpb25zJ10gPSBfLnVuaXEoc3RlcHNBcHByb3ZlT3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnNfaWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIHN0ZXBfYXBwcm92ZTogc3RlcHNBcHByb3Zlc1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBzZXRfaW5zdGFuY2Vfc2tpcF9zdGVwczogZnVuY3Rpb24oaW5zX2lkLCBzdGVwSWQsIGFjdGlvbikge1xuICAgIGlmIChhY3Rpb24gPT09ICdwdWxsJykge1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc19pZFxuICAgICAgfSwge1xuICAgICAgICAkcHVsbDoge1xuICAgICAgICAgIHNraXBfc3RlcHM6IHN0ZXBJZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3B1c2gnKSB7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRwdXNoOiB7XG4gICAgICAgICAgc2tpcF9zdGVwczogc3RlcElkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kcyh7XHJcblxyXG5cdGdldF9pbnN0YW5jZV9kYXRhOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIGZvcm1DYWNoZWQsIGZsb3dDYWNoZWQpIHtcclxuXHJcblx0XHRjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKTtcclxuXHRcdGNoZWNrKGZvcm1DYWNoZWQsIEJvb2xlYW4pO1xyXG5cdFx0Y2hlY2soZmxvd0NhY2hlZCwgQm9vbGVhbik7XHJcblxyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xyXG5cclxuXHRcdGlmICghaW5zdGFuY2UpXHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0aW5zdGFuY2U6IG51bGxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRpZiAoZm9ybUNhY2hlZCAmJiBmbG93Q2FjaGVkKVxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGluc3RhbmNlOiBpbnN0YW5jZVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdGlmICghZm9ybUNhY2hlZCkge1xyXG5cdFx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XHJcblx0XHRcdHZhciBmb3JtX3ZlcnNpb24gPSB7fTtcclxuXHRcdFx0aWYgKGZvcm0uY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZm9ybV92ZXJzaW9uKSB7XHJcblx0XHRcdFx0Zm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50O1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGZvcm1fdmVyc2lvbiA9IF8ud2hlcmUoZm9ybS5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9ufSlbMF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblxyXG5cdFx0aWYgKCFmbG93Q2FjaGVkKSB7XHJcblx0XHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcclxuXHRcdFx0dmFyIGZsb3dfdmVyc2lvbiA9IHt9O1xyXG5cdFx0XHRpZiAoZmxvdy5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mbG93X3ZlcnNpb24pIHtcclxuXHRcdFx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQ7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Zmxvd192ZXJzaW9uID0gXy53aGVyZShmbG93Lmhpc3RvcnlzLCB7X2lkOiBpbnN0YW5jZS5mbG93X3ZlcnNpb259KVswXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGluc3RhbmNlOiBpbnN0YW5jZSxcclxuXHRcdFx0Zm9ybV92ZXJzaW9uOiBmb3JtX3ZlcnNpb24sXHJcblx0XHRcdGZsb3dfdmVyc2lvbjogZmxvd192ZXJzaW9uXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcbn0pO1xyXG4iLCJNZXRlb3IubWV0aG9kcyh7XHJcblxyXG5cdGRyYWZ0X3NhdmVfaW5zdGFuY2U6IGZ1bmN0aW9uIChpbnMpIHtcclxuXHRcdGlmICghdGhpcy51c2VySWQpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHZhciByZXN1bHQgPSB0cnVlO1xyXG5cdFx0dmFyIHNldE9iaiA9IHt9O1xyXG5cdFx0dmFyIGluZGV4ID0gMDtcclxuXHRcdHZhciBpbnNfaWQgPSBpbnMuX2lkO1xyXG5cdFx0dmFyIHRyYWNlX2lkID0gaW5zLnRyYWNlc1swXS5faWQ7XHJcblx0XHR2YXIgYXBwcm92ZV9pZCA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uX2lkO1xyXG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS5kZXNjcmlwdGlvbjtcclxuXHRcdHZhciBuZXh0X3N0ZXBzID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS5uZXh0X3N0ZXBzO1xyXG5cdFx0dmFyIHZhbHVlcyA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0udmFsdWVzIHx8IHt9O1xyXG5cdFx0dmFyIGFwcGxpY2FudF9pZCA9IGlucy5hcHBsaWNhbnQ7XHJcblxyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdGFwcGxpY2FudDogMSxcclxuXHRcdFx0XHRzdGF0ZTogMSxcclxuXHRcdFx0XHRzdWJtaXR0ZXI6IDEsXHJcblx0XHRcdFx0dHJhY2VzOiAxLFxyXG5cdFx0XHRcdGZvcm06IDEsXHJcblx0XHRcdFx0Zmxvd192ZXJzaW9uOiAxLFxyXG5cdFx0XHRcdHNwYWNlOiAxLFxyXG5cdFx0XHRcdGZsb3c6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dmFyIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XHJcblx0XHR2YXIgZmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XHJcblx0XHR2YXIgZm9ybV9pZCA9IGluc3RhbmNlLmZvcm07XHJcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xyXG5cdFx0dmFyIGN1cnJlbnRfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VfaWQ7XHJcblx0XHR9KTtcclxuXHRcdGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlX2lkKSB7XHJcblx0XHRcdFx0aW5kZXggPSBpZHg7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHR2YXIga2V5X3N0ciA9ICd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLic7XHJcblxyXG5cdFx0Ly8g5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrmi5/nqL/nirbmgIFcclxuXHRcdHZhciBjdXJyZW50X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcclxuXHRcdFx0X2lkOiB0aGlzLnVzZXJJZFxyXG5cdFx0fSwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRsb2NhbGU6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgbGFuZyA9IGN1cnJlbnRfdXNlci5sb2NhbGUgPT0gJ3poLWNuJyA/ICd6aC1DTicgOiAnZW4nO1xyXG5cdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlRHJhZnQoaW5zdGFuY2UsIGxhbmcpO1xyXG5cdFx0Ly8g5Yik5pat5LiA5Liq55So5oi35piv5ZCm5piv5LiA5LiqaW5zdGFuY2XnmoTmj5DkuqTogIVcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVN1Ym1pdHRlcihpbnN0YW5jZSwgdGhpcy51c2VySWQpO1xyXG5cclxuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFwiY3VycmVudC5faWRcIjogMSxcclxuXHRcdFx0XHRcImN1cnJlbnQuZm9ybV92ZXJzaW9uXCI6IDEsXHJcblx0XHRcdFx0XCJuYW1lXCI6IDEsXHJcblx0XHRcdFx0XCJjdXJyZW50LnN0ZXBzXCI6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cclxuXHRcdGlmIChmbG93LmN1cnJlbnQuX2lkICE9IGluc3RhbmNlLmZsb3dfdmVyc2lvbikge1xyXG5cdFx0XHRyZXN1bHQgPSBcInVwZ3JhZGVkXCI7XHJcblx0XHRcdHZhciBzdGFydF9zdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24gKHMpIHtcclxuXHRcdFx0XHRyZXR1cm4gcy5zdGVwX3R5cGUgPT0gXCJzdGFydFwiO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly8g5rWB56iL5bey5Y2H57qnXHJcblx0XHRcdHNldE9iai5mbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuX2lkO1xyXG5cdFx0XHRzZXRPYmouZm9ybV92ZXJzaW9uID0gZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcclxuXHRcdFx0Ly8g5a2Y5YWl5b2T5YmN5pyA5paw54mIZmxvd+S4reW8gOWni+iKgueCueeahHN0ZXBfaWRcclxuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQuc3RlcFwiXSA9IHN0YXJ0X3N0ZXAuX2lkO1xyXG5cdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5uYW1lXCJdID0gc3RhcnRfc3RlcC5uYW1lO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbnN0YW5jZS5hcHBsaWNhbnQgIT0gYXBwbGljYW50X2lkKSB7XHJcblx0XHRcdC8vIOeUs+ivt+S6uuW3suWPmOaNolxyXG5cdFx0XHR2YXIgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoYXBwbGljYW50X2lkLCB7XHJcblx0XHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XHRuYW1lOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFyIGFwcGxpY2FudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xyXG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHR1c2VyOiBhcHBsaWNhbnRfaWRcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFx0b3JnYW5pemF0aW9uOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFyIG9yZ19pZCA9IGFwcGxpY2FudC5mZXRjaCgpWzBdLm9yZ2FuaXphdGlvbjtcclxuXHRcdFx0dmFyIG9yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShvcmdfaWQsIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRzZXRPYmouYXBwbGljYW50ID0gYXBwbGljYW50X2lkO1xyXG5cdFx0XHRzZXRPYmouYXBwbGljYW50X25hbWUgPSB1c2VyLm5hbWU7XHJcblx0XHRcdHNldE9iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uID0gb3JnX2lkO1xyXG5cdFx0XHRzZXRPYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lID0gb3JnYW5pemF0aW9uLm5hbWU7XHJcblx0XHRcdHNldE9iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xyXG5cclxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndXNlciddID0gYXBwbGljYW50X2lkO1xyXG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICd1c2VyX25hbWUnXSA9IHVzZXIubmFtZTtcclxuXHRcdH1cclxuXHJcblx0XHRzZXRPYmpba2V5X3N0ciArICd2YWx1ZXMnXSA9IHZhbHVlcztcclxuXHRcdHNldE9ialtrZXlfc3RyICsgJ2Rlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcclxuXHRcdHNldE9ialtrZXlfc3RyICsgJ2p1ZGdlJ10gPSAnc3VibWl0dGVkJztcclxuXHRcdHNldE9ialtrZXlfc3RyICsgJ3JlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdGlmIChyZXN1bHQgIT0gXCJ1cGdyYWRlZFwiICYmIG5leHRfc3RlcHMpIHtcclxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAnbmV4dF9zdGVwcyddID0gbmV4dF9zdGVwcztcclxuXHRcdH1cclxuXHJcblx0XHQvLyDorqHnrpfnlLPor7fljZXmoIfpophcclxuXHRcdHZhciBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XHJcblx0XHRcdF9pZDogZm9ybV9pZFxyXG5cdFx0fSwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcImN1cnJlbnQubmFtZV9mb3J1bWxhXCI6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybS5jdXJyZW50Lm5hbWVfZm9ydW1sYTtcclxuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcclxuXHRcdFx0Ly8gdmFyIGlzY3JpcHQgPSBuYW1lX2ZvcnVtbGEucmVwbGFjZSgvXFx7L2csIFwiKHZhbHVlc1snXCIpLnJlcGxhY2UoL1xcfS9nLCBcIiddIHx8ICcnKVwiKTtcclxuXHRcdFx0Ly8gdmFyIHJldiA9IGV2YWwoaXNjcmlwdCk7XHJcblx0XHRcdHNldE9iai5uYW1lID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZU5hbWUoaW5zLCB2YWx1ZXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRfaWQ6IGluc19pZCxcclxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlX2lkXHJcblx0XHR9LCB7XHJcblx0XHRcdCRzZXQ6IHNldE9ialxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH0sXHJcblxyXG5cdGluYm94X3NhdmVfaW5zdGFuY2U6IGZ1bmN0aW9uIChhcHByb3ZlKSB7XHJcblx0XHRpZiAoIXRoaXMudXNlcklkKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0dmFyIHNldE9iaiA9IHt9O1xyXG5cdFx0dmFyIGluZGV4ID0gMDtcclxuXHRcdHZhciBpbnNfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xyXG5cdFx0dmFyIHRyYWNlX2lkID0gYXBwcm92ZS50cmFjZTtcclxuXHRcdHZhciBhcHByb3ZlX2lkID0gYXBwcm92ZS5pZDtcclxuXHRcdHZhciB2YWx1ZXMgPSBhcHByb3ZlLnZhbHVlcztcclxuXHRcdHZhciBuZXh0X3N0ZXBzID0gYXBwcm92ZS5uZXh0X3N0ZXBzO1xyXG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gYXBwcm92ZS5kZXNjcmlwdGlvbjtcclxuXHRcdHZhciBqdWRnZSA9IGFwcHJvdmUuanVkZ2U7XHJcblxyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdHRyYWNlczogMSxcclxuXHRcdFx0XHRmbG93X3ZlcnNpb246IDEsXHJcblx0XHRcdFx0ZmxvdzogMSxcclxuXHRcdFx0XHRzdGF0ZTogMSxcclxuXHRcdFx0XHRmb3JtOiAxLFxyXG5cdFx0XHRcdGZvcm1fdmVyc2lvbjogMSxcclxuXHRcdFx0XHR2YWx1ZXM6IDEsXHJcblx0XHRcdFx0Y29kZTogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xyXG5cclxuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0cmV0dXJuIHQuX2lkID09IHRyYWNlX2lkO1xyXG5cdFx0fSk7XHJcblx0XHR2YXIgY3VycmVudF9hcHByb3ZlID0gXy5maW5kKGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhKSB7XHJcblx0XHRcdHJldHVybiBhLl9pZCA9PSBhcHByb3ZlX2lkO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8g5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrlrqHmoLjkuK3nirbmgIFcclxuXHRcdHZhciBjdXJyZW50X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcclxuXHRcdFx0X2lkOiB0aGlzLnVzZXJJZFxyXG5cdFx0fSwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRsb2NhbGU6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgbGFuZyA9IGN1cnJlbnRfdXNlci5sb2NhbGUgPT0gJ3poLWNuJyA/ICd6aC1DTicgOiAnZW4nO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSwgbGFuZyk7XHJcblx0XHRcdC8vIOWIpOaWreS4gOS4qnRyYWNl5piv5ZCm5Li65pyq5a6M5oiQ54q25oCBXHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNUcmFjZU5vdEZpbmlzaGVkKGN1cnJlbnRfdHJhY2UpO1xyXG5cdFx0XHQvLyDliKTmlq3kuIDkuKphcHByb3Zl5piv5ZCm5Li65pyq5a6M5oiQ54q25oCBXHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNBcHByb3ZlTm90RmluaXNoZWQoY3VycmVudF9hcHByb3ZlKTtcclxuXHRcdFx0Ly8g5Yik5pat5b2T5YmN55So5oi35piv5ZCmYXBwcm92ZSDlr7nlupTnmoTlpITnkIbkurrmiJbku6PnkIbkurpcclxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0hhbmRsZXJPckFnZW50KGN1cnJlbnRfYXBwcm92ZSwgdGhpcy51c2VySWQpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRjb25zb2xlLmxvZyhlLnN0YWNrKVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0fVxyXG5cclxuXHJcblx0XHR2YXIgZmxvd192ZXJzaW9uID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xyXG5cdFx0dmFyIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xyXG5cdFx0dmFyIHN0ZXBfaWQgPSBcIlwiO1xyXG5cdFx0c3RlcF9pZCA9IGN1cnJlbnRfdHJhY2Uuc3RlcDtcclxuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdGN1cnJlbnQ6IDEsXHJcblx0XHRcdFx0aGlzdG9yeXM6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgc3RlcCA9IG51bGw7XHJcblx0XHRpZiAoZmxvdy5jdXJyZW50Ll9pZCA9PSBmbG93X3ZlcnNpb24pIHtcclxuXHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcclxuXHRcdFx0XHRpZiAocy5faWQgPT0gc3RlcF9pZClcclxuXHRcdFx0XHRcdHN0ZXAgPSBzO1xyXG5cdFx0XHR9KVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Zmxvdy5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uIChoKSB7XHJcblx0XHRcdFx0aC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XHJcblx0XHRcdFx0XHRpZiAocy5faWQgPT0gc3RlcF9pZClcclxuXHRcdFx0XHRcdFx0c3RlcCA9IHM7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXN0ZXApXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdHZhciBzdGVwX3R5cGUgPSBzdGVwLnN0ZXBfdHlwZTtcclxuXHJcblx0XHRjdXJyZW50X3RyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRpZiAoYS5faWQgPT0gYXBwcm92ZV9pZCkge1xyXG5cdFx0XHRcdGluZGV4ID0gaWR4O1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cclxuXHRcdHZhciBrZXlfc3RyID0gJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcuJztcclxuXHJcblx0XHR2YXIgcGVybWlzc2lvbnNfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKGFwcHJvdmUudmFsdWVzLCBzdGVwLnBlcm1pc3Npb25zLCBpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xyXG5cclxuXHRcdHZhciBjaGFuZ2VfdmFsdWVzID0gYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzKGluc3RhbmNlLnZhbHVlcywgcGVybWlzc2lvbnNfdmFsdWVzKTtcclxuXHJcblx0XHRzZXRPYmoudmFsdWVzID0gXy5leHRlbmQoKGluc3RhbmNlLnZhbHVlcyB8fCB7fSksIHBlcm1pc3Npb25zX3ZhbHVlcyk7XHJcblxyXG5cdFx0aWYgKCFfLmlzRW1wdHkoY2hhbmdlX3ZhbHVlcykpIHtcclxuXHJcblx0XHRcdHZhbHVlc19oaXN0b3J5ID0gY3VycmVudF9hcHByb3ZlLnZhbHVlc19oaXN0b3J5IHx8IFtdXHJcblxyXG5cdFx0XHR2YWx1ZXNfaGlzdG9yeS5wdXNoKHtcclxuXHRcdFx0XHR2YWx1ZXM6IGNoYW5nZV92YWx1ZXMsXHJcblx0XHRcdFx0Y3JlYXRlOiBuZXcgRGF0ZSgpXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICd2YWx1ZXNfaGlzdG9yeSddID0gdmFsdWVzX2hpc3RvcnlcclxuXHRcdH1cclxuXHJcblx0XHRzZXRPYmpba2V5X3N0ciArICdpc19yZWFkJ10gPSB0cnVlO1xyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAncmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzJ10gPSBzZXRPYmoudmFsdWVzO1xyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnbmV4dF9zdGVwcyddID0gbmV4dF9zdGVwcztcclxuXHRcdGlmIChzdGVwX3R5cGUgPT0gXCJzdWJtaXRcIiB8fCBzdGVwX3R5cGUgPT0gXCJzdGFydFwiKSB7XHJcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ2p1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAnanVkZ2UnXSA9IGp1ZGdlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcclxuXHJcblx0XHQvLyDorqHnrpfnlLPor7fljZXmoIfpophcclxuXHRcdHZhciBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcclxuXHRcdHZhciBmb3JtX3YgPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XHJcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybV92Lm5hbWVfZm9ydW1sYTtcclxuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcclxuXHRcdFx0c2V0T2JqLm5hbWUgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlTmFtZShpbnN0YW5jZSwgc2V0T2JqLnZhbHVlcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdF9pZDogaW5zX2lkLFxyXG5cdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VfaWRcclxuXHRcdH0sIHtcclxuXHRcdFx0JHNldDogc2V0T2JqXHJcblx0XHR9KTtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcbn0pIiwiTWV0ZW9yLm1ldGhvZHMoe1xyXG5cdC8vID8/PyDog73lkKbkvKDpmIXnu5nlvZPliY3mraXpqqTlpITnkIbkurog5aaC5p6c5b2T5YmN5q2l6aqk5piv5Lya562+44CCXHJcblx0Y2NfZG86IGZ1bmN0aW9uIChhcHByb3ZlLCBjY191c2VyX2lkcywgZGVzY3JpcHRpb24pIHtcclxuXHJcblx0XHR2YXIgc2V0T2JqID0ge307XHJcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcclxuXHRcdHZhciB0cmFjZV9pZCA9IGFwcHJvdmUudHJhY2U7XHJcblx0XHR2YXIgYXBwcm92ZV9pZCA9IGFwcHJvdmUuX2lkO1xyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdHNwYWNlOiAxLFxyXG5cdFx0XHRcdHRyYWNlczogMSxcclxuXHRcdFx0XHRjY191c2VyczogMSxcclxuXHRcdFx0XHR2YWx1ZXM6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XHJcblx0XHR2YXIgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcclxuXHRcdHZhciBuZXdfYXBwcm92ZXMgPSBbXTtcclxuXHJcblx0XHR2YXIgZnJvbV91c2VyX25hbWUgPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcl9pZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRuYW1lOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pLm5hbWVcclxuXHJcblx0XHRjY191c2VyX2lkcy5mb3JFYWNoKGZ1bmN0aW9uICh1c2VySWQsIGlkeCkge1xyXG5cdFx0XHR2YXIgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcklkLCB7XHJcblx0XHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XHRuYW1lOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFyIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcclxuXHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXHJcblx0XHRcdFx0dXNlcjogdXNlcklkXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciBvcmdfaWQgPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcclxuXHRcdFx0dmFyIG9yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShvcmdfaWQsIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJJZCk7XHJcblx0XHRcdHZhciBoYW5kbGVyX2lkID0gdXNlcklkO1xyXG5cdFx0XHR2YXIgaGFuZGxlcl9pbmZvID0gdXNlcjtcclxuXHRcdFx0dmFyIGhhbmRsZXJfc3BhY2VfdXNlciA9IHNwYWNlX3VzZXI7XHJcblx0XHRcdHZhciBoYW5kbGVyX29yZ19pbmZvID0gb3JnYW5pemF0aW9uO1xyXG5cdFx0XHRpZiAoYWdlbnQpIHtcclxuXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnQ7XHJcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShhZ2VudCwge1xyXG5cdFx0XHRcdFx0ZmlsZWRzOiB7XHJcblx0XHRcdFx0XHRcdG5hbWU6IDFcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRoYW5kbGVyX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgYWdlbnQpO1xyXG5cdFx0XHRcdGhhbmRsZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oaGFuZGxlcl9zcGFjZV91c2VyKTtcclxuXHRcdFx0XHRjY191c2VyX2lkc1tpZHhdID0gYWdlbnQ7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGFwcHIgPSB7XHJcblx0XHRcdFx0J19pZCc6IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHIsXHJcblx0XHRcdFx0J2luc3RhbmNlJzogaW5zX2lkLFxyXG5cdFx0XHRcdCd0cmFjZSc6IHRyYWNlX2lkLFxyXG5cdFx0XHRcdCdpc19maW5pc2hlZCc6IGZhbHNlLFxyXG5cdFx0XHRcdCd1c2VyJzogdXNlcklkLFxyXG5cdFx0XHRcdCd1c2VyX25hbWUnOiB1c2VyLm5hbWUsXHJcblx0XHRcdFx0J2hhbmRsZXInOiBoYW5kbGVyX2lkLFxyXG5cdFx0XHRcdCdoYW5kbGVyX25hbWUnOiBoYW5kbGVyX2luZm8ubmFtZSxcclxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb24nOiBoYW5kbGVyX3NwYWNlX3VzZXIub3JnYW5pemF0aW9uLFxyXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lJzogaGFuZGxlcl9vcmdfaW5mby5uYW1lLFxyXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSc6IGhhbmRsZXJfb3JnX2luZm8uZnVsbG5hbWUsXHJcblx0XHRcdFx0J3R5cGUnOiAnY2MnLFxyXG5cdFx0XHRcdCdzdGFydF9kYXRlJzogbmV3IERhdGUoKSxcclxuXHRcdFx0XHQnaXNfcmVhZCc6IGZhbHNlLFxyXG5cdFx0XHRcdCdmcm9tX3VzZXInOiBjdXJyZW50X3VzZXJfaWQsXHJcblx0XHRcdFx0J2Zyb21fdXNlcl9uYW1lJzogZnJvbV91c2VyX25hbWUsXHJcblx0XHRcdFx0J29waW5pb25fZmllbGRzX2NvZGUnOiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUsXHJcblx0XHRcdFx0J3NpZ25fZmllbGRfY29kZSc6IChhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUgJiYgYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlLmxlbmd0aCA9PSAxKSA/IGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZVswXSA6IFwiXCIsXHJcblx0XHRcdFx0J2Zyb21fYXBwcm92ZV9pZCc6IGFwcHJvdmVfaWQsXHJcblx0XHRcdFx0J2NjX2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb25cclxuXHRcdFx0fTtcclxuXHRcdFx0aWYgKGFnZW50KSB7XHJcblx0XHRcdFx0YXBwci5hZ2VudCA9IGFnZW50O1xyXG5cdFx0XHR9XHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIGFwcHIpXHJcblx0XHRcdG5ld19hcHByb3Zlcy5wdXNoKGFwcHIpO1xyXG5cdFx0fSlcclxuXHJcblxyXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cclxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRfaWQ6IGluc19pZCxcclxuXHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxyXG5cdFx0fSwge1xyXG5cdFx0XHQkc2V0OiBzZXRPYmosXHJcblx0XHRcdCRhZGRUb1NldDoge1xyXG5cdFx0XHRcdCd0cmFjZXMuJC5hcHByb3Zlcyc6IHtcclxuXHRcdFx0XHRcdCRlYWNoOiBuZXdfYXBwcm92ZXNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdCRwdXNoOiB7XHJcblx0XHRcdFx0Y2NfdXNlcnM6IHtcclxuXHRcdFx0XHRcdCRlYWNoOiBjY191c2VyX2lkc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcl9pZCk7XHJcblx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInRyYWNlX2FwcHJvdmVfY2NcIiwgaW5zdGFuY2UsIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvLCBjY191c2VyX2lkcyk7XHJcblxyXG5cdFx0Zmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XHJcblx0XHRhcHByb3ZlLmNjX3VzZXJfaWRzID0gY2NfdXNlcl9pZHM7IC8vIOiusOW9leS4i+acrOasoeS8oOmYheeahOS6uuWRmElE5L2c5Li6aG9va+aOpeWPo+S4reeahOWPguaVsFxyXG5cdFx0Ly8g5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxyXG5cdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soZmxvd19pZCwgaW5zdGFuY2UsIGFwcHJvdmUsICdjY19kbycsIGN1cnJlbnRfdXNlcl9pZCwgY2NfdXNlcl9pZHMpXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRjY19yZWFkOiBmdW5jdGlvbiAoYXBwcm92ZSkge1xyXG5cdFx0dmFyIHNldE9iaiA9IHt9O1xyXG5cdFx0dmFyIGluc19pZCA9IGFwcHJvdmUuaW5zdGFuY2U7XHJcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdHRyYWNlczogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcclxuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0cmV0dXJuIHQuX2lkID09IHRyYWNlX2lkO1xyXG5cdFx0fSlcclxuXHJcblx0XHR2YXIgaW5kZXggPSAwO1xyXG5cclxuXHRcdGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdGlmIChhLnR5cGUgPT0gJ2NjJyAmJiBhLmhhbmRsZXIgPT0gY3VycmVudF91c2VyX2lkICYmICFhLmlzX3JlYWQpIHtcclxuXHRcdFx0XHRpbmRleCA9IGlkeDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLmlzX3JlYWQnXSA9IHRydWU7XHJcblx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcucmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xyXG5cclxuXHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXM7XHJcblxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdF9pZDogaW5zX2lkLFxyXG5cdFx0XHQndHJhY2VzLl9pZCc6IHRyYWNlX2lkXHJcblx0XHR9LCB7XHJcblx0XHRcdCRzZXQ6IHNldE9ialxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRjY19zdWJtaXQ6IGZ1bmN0aW9uIChpbnNfaWQsIGRlc2NyaXB0aW9uKSB7XHJcblx0XHR2YXIgc2V0T2JqID0ge307XHJcblxyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdHRyYWNlczogMSxcclxuXHRcdFx0XHRjY191c2VyczogMSxcclxuXHRcdFx0XHRvdXRib3hfdXNlcnM6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xyXG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xyXG5cdFx0dmFyIGN1cnJlbnRfYXBwcm92ZTtcclxuXHJcblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xyXG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdFx0XHRpZiAoYS50eXBlID09ICdjYycgJiYgYS5oYW5kbGVyID09IGN1cnJlbnRfdXNlcl9pZCAmJiBhLmlzX2ZpbmlzaGVkID09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRfYXBwcm92ZSA9IGE7XHJcblx0XHRcdFx0XHRcdHZhciB1cG9iaiA9IHt9O1xyXG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJzdWJtaXR0ZWRcIjtcclxuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmNvc3RfdGltZSddID0gbmV3IERhdGUoKSAtIGEuc3RhcnRfZGF0ZTtcclxuXHRcdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRcdFx0X2lkOiBpbnNfaWQsXHJcblx0XHRcdFx0XHRcdFx0J3RyYWNlcy5faWQnOiB0Ll9pZFxyXG5cdFx0XHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRcdFx0JHNldDogdXBvYmpcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKGN1cnJlbnRfYXBwcm92ZSkge1xyXG5cdFx0XHR2YXIgaW5kZXggPSAwO1xyXG5cclxuXHRcdFx0Ly/orr7nva7mhI/op4HvvIzmhI/op4Hlj6rmt7vliqDliLDmnIDlkI7kuIDmnaFhcHByb3Zl5LitXHJcblx0XHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdFx0aWYgKGN1cnJlbnRfYXBwcm92ZSAmJiB0Ll9pZCA9PT0gY3VycmVudF9hcHByb3ZlLnRyYWNlKSB7XHJcblx0XHRcdFx0XHRpZiAodC5hcHByb3Zlcykge1xyXG5cdFx0XHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChhLl9pZCA9PT0gY3VycmVudF9hcHByb3ZlLl9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0YS5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG5cdFx0XHRcdFx0XHRcdFx0aW5kZXggPSBpZHg7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XHJcblx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5kZXNjcmlwdGlvbiddID0gZGVzY3JpcHRpb247XHJcblxyXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRfaWQ6IGluc19pZCxcclxuXHRcdFx0XHQndHJhY2VzLl9pZCc6IGN1cnJlbnRfYXBwcm92ZS50cmFjZVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0JHNldDogc2V0T2JqLFxyXG5cdFx0XHRcdCRwdWxsOiB7XHJcblx0XHRcdFx0XHRjY191c2VyczogY3VycmVudF91c2VyX2lkXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQkYWRkVG9TZXQ6IHtcclxuXHRcdFx0XHRcdG91dGJveF91c2Vyczoge1xyXG5cdFx0XHRcdFx0XHQkZWFjaDogW2N1cnJlbnRfdXNlcl9pZCwgY3VycmVudF9hcHByb3ZlLnVzZXJdXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcclxuXHJcblx0XHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQpO1xyXG5cdFx0XHQvL+S8oOmYheaPkOS6pOS4jemAmuefpeS8oOmYheiAhVxyXG5cdFx0XHRpZiAoZmFsc2UgJiYgZGVzY3JpcHRpb24gJiYgY3VycmVudF9hcHByb3ZlICYmIGN1cnJlbnRfYXBwcm92ZS5mcm9tX3VzZXIpIHtcclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInRyYWNlX2FwcHJvdmVfY2Nfc3VibWl0XCIsIGluc3RhbmNlLCBcIlwiLCBjdXJyZW50X3VzZXJfaW5mbywgW2N1cnJlbnRfYXBwcm92ZS5mcm9tX3VzZXJdKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcl9pZCk7XHJcblxyXG5cdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcclxuXHRcdFx0Ly8g5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxyXG5cdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgY3VycmVudF9hcHByb3ZlLCAnY2Nfc3VibWl0JywgY3VycmVudF91c2VyX2lkLCBbXSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxuXHJcblx0Y2NfcmVtb3ZlOiBmdW5jdGlvbiAoaW5zdGFuY2VJZCwgYXBwcm92ZUlkKSB7XHJcblx0XHR2YXIgc2V0T2JqID0ge307XHJcblxyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VJZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHR0cmFjZXM6IDEsXHJcblx0XHRcdFx0Y2NfdXNlcnM6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xyXG5cdFx0dmFyIHRyYWNlX2lkLCByZW1vdmVfdXNlcl9pZCwgbXVsdGkgPSBmYWxzZTtcclxuXHJcblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xyXG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdFx0XHRpZiAoYS5faWQgPT0gYXBwcm92ZUlkKSB7XHJcblx0XHRcdFx0XHRcdHRyYWNlX2lkID0gYS50cmFjZTtcclxuXHRcdFx0XHRcdFx0cmVtb3ZlX3VzZXJfaWQgPSBhLmhhbmRsZXI7XHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJztcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHJcblx0XHRpZiAoIXRyYWNlX2lkIHx8ICFyZW1vdmVfdXNlcl9pZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdHZhciBtdWx0aSA9IDA7XHJcblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xyXG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xyXG5cdFx0XHRcdFx0aWYgKGEuaGFuZGxlciA9PSByZW1vdmVfdXNlcl9pZCAmJiBhLnR5cGUgPT0gJ2NjJyAmJiBhLmlzX2ZpbmlzaGVkID09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdG11bHRpKys7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblxyXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cclxuXHRcdGlmIChtdWx0aSA+IDEpIHtcclxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxyXG5cdFx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdCRzZXQ6IHNldE9ialxyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcclxuXHRcdFx0XHQndHJhY2VzLl9pZCc6IHRyYWNlX2lkXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHQkc2V0OiBzZXRPYmosXHJcblx0XHRcdFx0JHB1bGw6IHtcclxuXHRcdFx0XHRcdGNjX3VzZXJzOiByZW1vdmVfdXNlcl9pZFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCByZW1vdmVfdXNlcl9pZCk7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRjY19zYXZlOiBmdW5jdGlvbiAoaW5zX2lkLCBkZXNjcmlwdGlvbikge1xyXG5cdFx0dmFyIHNldE9iaiA9IHt9O1xyXG5cclxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHR0cmFjZXM6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xyXG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xyXG5cclxuXHRcdHZhciBjdXJyZW50X2FwcHJvdmU7XHJcblxyXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcclxuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRcdFx0aWYgKGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgYS50eXBlID09ICdjYycgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0XHRjdXJyZW50X2FwcHJvdmUgPSBhO1xyXG5cdFx0XHRcdFx0XHR2YXIgdXBvYmogPSB7fTtcclxuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xyXG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdFx0XHRfaWQ6IGluc19pZCxcclxuXHRcdFx0XHRcdFx0XHQndHJhY2VzLl9pZCc6IHQuX2lkXHJcblx0XHRcdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdFx0XHQkc2V0OiB1cG9ialxyXG5cdFx0XHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHJcblx0XHR2YXIgaW5kZXggPSAwO1xyXG5cclxuXHRcdC8v6K6+572u5oSP6KeB77yM5oSP6KeB5Y+q5re75Yqg5Yiw5pyA5ZCO5LiA5p2hYXBwcm92ZeS4rVxyXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0aWYgKGN1cnJlbnRfYXBwcm92ZSAmJiB0Ll9pZCA9PT0gY3VycmVudF9hcHByb3ZlLnRyYWNlKSB7XHJcblx0XHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcclxuXHRcdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdFx0XHRcdGlmIChhLl9pZCA9PT0gY3VycmVudF9hcHByb3ZlLl9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdGluZGV4ID0gaWR4O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5kZXNjcmlwdGlvbiddID0gZGVzY3JpcHRpb247XHJcblxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdF9pZDogaW5zX2lkLFxyXG5cdFx0XHQndHJhY2VzLl9pZCc6IGN1cnJlbnRfYXBwcm92ZS50cmFjZVxyXG5cdFx0fSwge1xyXG5cdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufSkiLCJNZXRlb3IubWV0aG9kcyh7XHJcblx0Ly8g5pS55Li66YCa6L+HYXBp6LCD55SoXHJcblx0Zm9yd2FyZF9pbnN0YW5jZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBzcGFjZV9pZCwgZmxvd19pZCwgaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50LCBkZXNjcmlwdGlvbiwgaXNGb3J3YXJkQXR0YWNobWVudHMsIHNlbGVjdGVkVXNlcnMsIGFjdGlvbl90eXBlLCByZWxhdGVkLCBmcm9tX2FwcHJvdmVfaWQpIHtcclxuXHRcdGlmICghdGhpcy51c2VySWQpXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ25vdC1hdXRob3JpemVkJyk7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cdH0sXHJcblxyXG5cclxuXHRmb3J3YXJkX3JlbW92ZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCB0cmFjZV9pZCwgYXBwcm92ZV9pZCkge1xyXG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XHJcblx0XHRjaGVjayh0cmFjZV9pZCwgU3RyaW5nKTtcclxuXHRcdGNoZWNrKGFwcHJvdmVfaWQsIFN0cmluZyk7XHJcblxyXG5cdFx0dmFyIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKTtcclxuXHJcblx0XHRpZiAoIWlucykge1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdwYXJhbXMgZXJyb3IhJywgJ3JlY29yZCBub3QgZXhpc3RzIScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciB0cmFjZSA9IF8uZmluZChpbnMudHJhY2VzLCBmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VfaWQ7XHJcblx0XHR9KTtcclxuXHJcblx0XHR2YXIgYXBwcm92ZSA9IF8uZmluZCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGFwcHIpIHtcclxuXHRcdFx0cmV0dXJuIGFwcHIuX2lkID09IGFwcHJvdmVfaWQ7XHJcblx0XHR9KVxyXG5cclxuXHRcdHZhciBoYXNBZG1pblBlcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCB0aGlzLnVzZXJJZClcclxuXHJcblx0XHRpZiAoIWFwcHJvdmUgfHwgIVsnZm9yd2FyZCcsICdkaXN0cmlidXRlJ10uaW5jbHVkZXMoYXBwcm92ZS50eXBlKSB8fCAhYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKSB7XHJcblx0XHRcdGlmICghaGFzQWRtaW5QZXJtaXNzaW9uKSB7XHJcblx0XHRcdFx0aWYgKGFwcHJvdmUuZnJvbV91c2VyICE9IHRoaXMudXNlcklkKVxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgJ2luc3RhbmNlX2ZvcndhcmRfY2Fubm90X2NhbmNlbCcpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGZvcndhcmRfaW5zdGFuY2VfaWQgPSBhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2U7XHJcblx0XHR2YXIgZm9yd2FyZF9pbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGZvcndhcmRfaW5zdGFuY2VfaWQpO1xyXG5cdFx0aWYgKGZvcndhcmRfaW5zdGFuY2UpIHtcclxuXHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiKSB7XHJcblx0XHRcdFx0aWYgKCFoYXNBZG1pblBlcm1pc3Npb24pXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCAnaW5zdGFuY2VfZm9yd2FyZF9pbnN0YW5jZV9zdGF0ZV9jaGFuZ2VkJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGluYm94X3VzZXJzID0gZm9yd2FyZF9pbnN0YW5jZS5pbmJveF91c2VycyB8fCBbXTtcclxuXHJcblx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cdFx0XHR2YXIgZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkID0gZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGZvcndhcmRfaW5zdGFuY2UpO1xyXG5cdFx0XHRpZiAoZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkKSB7XHJcblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnJlbW92ZSh7XHJcblx0XHRcdFx0XHRfaWQ6IGZvcndhcmRfaW5zdGFuY2VfaWRcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8g5Yig6Zmk55Sz6K+35Y2V5ZCO6YeN5paw6K6h566XaW5ib3hfdXNlcnPnmoRiYWRnZVxyXG5cdFx0XHRcdF8uZWFjaChpbmJveF91c2VycywgZnVuY3Rpb24gKHVfaWQpIHtcclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1X2lkKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHNldF9vYmogPSBuZXcgT2JqZWN0O1xyXG5cdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XHJcblxyXG5cdFx0Xy5lYWNoKHRyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYXBwciwgaWR4KSB7XHJcblx0XHRcdGlmIChhcHByLl9pZCA9PSBhcHByb3ZlX2lkKSB7XHJcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJztcclxuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcclxuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xyXG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHJcblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcclxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlX2lkXHJcblx0XHR9LCB7XHJcblx0XHRcdCRzZXQ6IHNldF9vYmpcclxuXHRcdH0pXHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxuXHJcblx0Y2FuY2VsRGlzdHJpYnV0ZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBhcHByb3ZlX2lkcykge1xyXG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZylcclxuXHRcdGNoZWNrKGFwcHJvdmVfaWRzLCBBcnJheSlcclxuXHJcblx0XHR2YXIgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpXHJcblxyXG5cdFx0aWYgKCFpbnMpIHtcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcigncGFyYW1zIGVycm9yIScsICdyZWNvcmQgbm90IGV4aXN0cyEnKVxyXG5cdFx0fVxyXG5cclxuXHRcdHVzZXJJZCA9IHRoaXMudXNlcklkXHJcblxyXG5cdFx0dmFyIGhhc0FkbWluUGVybWlzc2lvbiA9IFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIHVzZXJJZClcclxuXHJcblx0XHRfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcclxuXHRcdFx0XHR2YXIgZXhpc3RzID0gZmFsc2VcclxuXHRcdFx0XHR2YXIgc2V0X29iaiA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRcdFx0aWYgKGFwcHJvdmVfaWRzLmluY2x1ZGVzKGEuX2lkKSAmJiAoYS5mcm9tX3VzZXIgPT0gdXNlcklkIHx8IGhhc0FkbWluUGVybWlzc2lvbikgJiYgJ2Rpc3RyaWJ1dGUnID09IGEudHlwZSAmJiBhLmZvcndhcmRfaW5zdGFuY2UpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGZvcndhcmRfaW5zdGFuY2VfaWQgPSBhLmZvcndhcmRfaW5zdGFuY2VcclxuXHRcdFx0XHRcdFx0dmFyIGZvcndhcmRfaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShmb3J3YXJkX2luc3RhbmNlX2lkKVxyXG5cdFx0XHRcdFx0XHRpZiAoZm9yd2FyZF9pbnN0YW5jZSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChmb3J3YXJkX2luc3RhbmNlLnN0YXRlICE9IFwiZHJhZnRcIikge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHZhciBpbmJveF91c2VycyA9IGZvcndhcmRfaW5zdGFuY2UuaW5ib3hfdXNlcnMgfHwgW11cclxuXHJcblx0XHRcdFx0XHRcdFx0Zm9yd2FyZF9pbnN0YW5jZS5kZWxldGVkID0gbmV3IERhdGUoKVxyXG5cdFx0XHRcdFx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZF9ieSA9IHVzZXJJZFxyXG5cdFx0XHRcdFx0XHRcdHZhciBkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQgPSBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZm9yd2FyZF9pbnN0YW5jZSlcclxuXHRcdFx0XHRcdFx0XHRpZiAoZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMucmVtb3ZlKHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0X2lkOiBmb3J3YXJkX2luc3RhbmNlX2lkXHJcblx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdC8vIOWIoOmZpOeUs+ivt+WNleWQjumHjeaWsOiuoeeul2luYm94X3VzZXJz55qEYmFkZ2VcclxuXHRcdFx0XHRcdFx0XHRcdF8uZWFjaChpbmJveF91c2VycywgZnVuY3Rpb24gKHVfaWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVfaWQpXHJcblx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJ1xyXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKClcclxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGV4aXN0cyA9IHRydWVcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHRpZiAoIWV4aXN0cylcclxuXHRcdFx0XHRcdHJldHVyblxyXG5cclxuXHRcdFx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKVxyXG5cdFx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB1c2VySWRcclxuXHJcblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxyXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHQuX2lkXHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0JHNldDogc2V0X29ialxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblxyXG5cdFx0cmV0dXJuIHRydWVcclxuXHR9XHJcblxyXG5cclxufSkiLCJNZXRlb3IubWV0aG9kcyh7XHJcbiAgICBjZnNfaW5zdGFuY2VzX3JlbW92ZTogZnVuY3Rpb24gKGZpbGVfaWQpIHtcclxuICAgICAgICBjaGVjayhmaWxlX2lkLCBTdHJpbmcpO1xyXG4gICAgICAgIGNmcy5pbnN0YW5jZXMucmVtb3ZlKGZpbGVfaWQpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuXHJcbiAgICBjZnNfaW5zdGFuY2VzX3NldF9jdXJyZW50OiBmdW5jdGlvbiAoZmlsZV9pZCkge1xyXG4gICAgICAgIGNoZWNrKGZpbGVfaWQsIFN0cmluZyk7XHJcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xyXG4gICAgICAgICAgICBfaWQ6IGZpbGVfaWRcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG5cclxuICAgIGNmc19pbnN0YW5jZXNfbG9jazogZnVuY3Rpb24gKGZpbGVfaWQsIHVzZXJfaWQsIHVzZXJfbmFtZSkge1xyXG4gICAgICAgIGNmcy5pbnN0YW5jZXMudXBkYXRlKHtcclxuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5JzogdXNlcl9pZCxcclxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSc6IHVzZXJfbmFtZSxcclxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfdGltZSc6IG5ldyBEYXRlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuXHJcbiAgICBjZnNfaW5zdGFuY2VzX3VubG9jazogZnVuY3Rpb24gKGZpbGVfaWQpIHtcclxuICAgICAgICBjZnMuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIF9pZDogZmlsZV9pZFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgJHVuc2V0OiB7XHJcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5JzogJycsXHJcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5X25hbWUnOiAnJyxcclxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfdGltZSc6ICcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogZnVuY3Rpb24gKHNwYWNlSWQsIGNmc1JlY29yZElkcykge1xyXG4gICAgICAgIGlmICghdGhpcy51c2VySWQpXHJcbiAgICAgICAgICAgIHJldHVybiBcIuS4jeespuWQiOaJp+ihjOadoeS7tlwiXHJcblxyXG4gICAgICAgIGlmIChNZXRlb3IudXNlcnMuZmluZCh7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IHRoaXMudXNlcklkLFxyXG4gICAgICAgICAgICAgICAgaXNfY2xvdWRhZG1pbjogdHJ1ZVxyXG4gICAgICAgICAgICB9KS5jb3VudCgpIDwgMSlcclxuICAgICAgICAgICAgcmV0dXJuIFwi5LiN56ym5ZCI5omn6KGM5p2h5Lu2XCJcclxuXHJcbiAgICAgICAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcclxuXHJcbiAgICAgICAgdmFyIHN0b3JlID0gXCJpbnN0YW5jZXNcIjtcclxuICAgICAgICB2YXIgZnMgPSByZXF1aXJlKCdmcycpO1xyXG4gICAgICAgIHZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG4gICAgICAgIHZhciBta2RpcnAgPSByZXF1aXJlKCdta2RpcnAnKTtcclxuICAgICAgICB2YXIgcGF0aG5hbWUgPSBwYXRoLmpvaW4oX19tZXRlb3JfYm9vdHN0cmFwX18uc2VydmVyRGlyLCAnLi4vLi4vLi4vY2ZzL3NwYWNlSW5zdGFuY2VBdHRhY2htZW50cycpO1xyXG4gICAgICAgIC8vIFNldCBhYnNvbHV0ZSBwYXRoXHJcbiAgICAgICAgdmFyIGFic29sdXRlUGF0aCA9IHBhdGgucmVzb2x2ZShwYXRobmFtZSk7XHJcbiAgICAgICAgLy8gRW5zdXJlIHRoZSBwYXRoIGV4aXN0c1xyXG4gICAgICAgIG1rZGlycC5zeW5jKGFic29sdXRlUGF0aCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Fic29sdXRlUGF0aDogJywgYWJzb2x1dGVQYXRoKTtcclxuICAgICAgICBjb25zb2xlLnRpbWUoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2snKTtcclxuICAgICAgICB2YXIgcXVlcnkgPSB7XHJcbiAgICAgICAgICAgICdtZXRhZGF0YS5zcGFjZSc6IHNwYWNlSWRcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNmc1JlY29yZElkcykge1xyXG4gICAgICAgICAgICBxdWVyeS5faWQgPSB7XHJcbiAgICAgICAgICAgICAgICAkaW46IGNmc1JlY29yZElkc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMgPSBbXTtcclxuICAgICAgICBjZnMuaW5zdGFuY2VzLmZpbmQocXVlcnkpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlTmFtZSA9IHN0b3JlICsgJy0nICsgYy5faWQgKyAnLScgKyBjLm5hbWUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlUGF0aCA9IHBhdGguam9pbihhYnNvbHV0ZVBhdGgsIGZpbGVOYW1lKTtcclxuICAgICAgICAgICAgICAgIE1ldGVvci53cmFwQXN5bmMoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdyaXRlciA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGZpbGVQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLm9uKCdmaW5pc2gnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBjLmNyZWF0ZVJlYWRTdHJlYW0oc3RvcmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEZhaWxlZFJlY29yZElkcy5wdXNoKGMuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6ICcsIGMuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucGlwZSh3cml0ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6ICcsIGMuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5zdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSgpXHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogJywgYy5faWQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5zdGFjayk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRGYWlsZWRSZWNvcmRJZHM6ICcpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgnZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzaycpO1xyXG5cclxuICAgICAgICByZXR1cm4gZG93bmxvYWRGYWlsZWRSZWNvcmRJZHM7XHJcbiAgICB9XHJcbn0pIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRzZXRfYXBwcm92ZV9oYXZlX3JlYWQ6IChpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQpIC0+XHJcblx0XHRpZiAhdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0c2VsZiA9IHRoaXNcclxuXHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZUlkLCBcInRyYWNlcy5faWRcIjogdHJhY2VJZCB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxyXG5cclxuXHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcclxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cclxuXHRcdFx0c2V0T2JqID0ge1xyXG5cdFx0XHRcdG1vZGlmaWVkOiBuZXcgRGF0ZSxcclxuXHRcdFx0XHRtb2RpZmllZF9ieTogc2VsZi51c2VySWRcclxuXHRcdFx0fVxyXG5cdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XHJcblx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gYXBwcm92ZUlkICYmICFhcHByb3ZlLmlzX3JlYWRcclxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5pc19yZWFkXCJdID0gdHJ1ZVxyXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcclxuXHJcblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxyXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxyXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHRjaGFuZ2VfYXBwcm92ZV9pbmZvOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBkZXNjcmlwdGlvbiwgZmluaXNoX2RhdGUpIC0+XHJcblx0XHRpZiAhdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblx0XHRjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpXHJcblx0XHRjaGVjayh0cmFjZUlkLCBTdHJpbmcpXHJcblx0XHRjaGVjayhhcHByb3ZlSWQsIFN0cmluZylcclxuXHRcdGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpXHJcblx0XHRjaGVjayhmaW5pc2hfZGF0ZSwgRGF0ZSlcclxuXHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZUlkLCBcInRyYWNlcy5faWRcIjogdHJhY2VJZCB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxyXG5cclxuXHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcclxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cclxuXHRcdFx0c2V0T2JqID0ge31cclxuXHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxyXG5cdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGFwcHJvdmVJZFxyXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb25cclxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5maW5pc2hfZGF0ZVwiXSA9IGZpbmlzaF9kYXRlXHJcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uY29zdF90aW1lXCJdID0gbmV3IERhdGUoKSAtIGFwcHJvdmUuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcclxuXHJcblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxyXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxyXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHR1cGRhdGVfYXBwcm92ZV9zaWduOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBzaWduX2ZpZWxkX2NvZGUsIGRlc2NyaXB0aW9uLCBzaWduX3R5cGUsIGxhc3RTaWduQXBwcm92ZSktPlxyXG5cdFx0Y2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKVxyXG5cdFx0Y2hlY2sodHJhY2VJZCwgU3RyaW5nKVxyXG5cdFx0Y2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpXHJcblx0XHRjaGVjayhzaWduX2ZpZWxkX2NvZGUsIFN0cmluZylcclxuXHRcdGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpXHJcblxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdHNlc3Npb25fdXNlcklkID0gdGhpcy51c2VySWRcclxuXHJcblx0XHRpZiBsYXN0U2lnbkFwcHJvdmVcclxuXHJcblx0XHRcdGlmIGxhc3RTaWduQXBwcm92ZS5jdXN0b21fc2lnbl9zaG93XHJcblx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcclxuXHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXHJcblx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IGxhc3RTaWduQXBwcm92ZS50cmFjZVxyXG5cdFx0XHR9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxyXG5cclxuXHRcdFx0bGFzdFRyYWNlID0gXy5maW5kIGluc3RhbmNlPy50cmFjZXMsICh0KSAtPlxyXG5cdFx0XHRcdHJldHVybiB0Ll9pZCA9IGxhc3RTaWduQXBwcm92ZS50cmFjZVxyXG5cclxuXHRcdFx0aWYgbGFzdFRyYWNlXHJcblx0XHRcdFx0c2V0T2JqID0ge31cclxuXHRcdFx0XHRsYXN0VHJhY2U/LmFwcHJvdmVzLmZvckVhY2ggKGEsIGlkeCkgLT5cclxuXHRcdFx0XHRcdGlmIGEuX2lkID09IGxhc3RTaWduQXBwcm92ZS5faWRcclxuXHRcdFx0XHRcdFx0aWYgc2lnbl90eXBlID09IFwidXBkYXRlXCJcclxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9zaG93XCJdID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ubW9kaWZpZWRcIl0gPSBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkX2J5XCJdID0gc2Vzc2lvbl91c2VySWRcclxuXHJcblx0XHRcdFx0aWYgbm90IF8uaXNFbXB0eShzZXRPYmopXHJcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxyXG5cdFx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogbGFzdFRyYWNlLl9pZFxyXG5cdFx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdFx0XHRcdH0pXHJcblxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2VJZCwgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWQgfSwgeyBmaWVsZHM6IHsgXCJ0cmFjZXMuJFwiOiAxIH0gfSlcclxuXHJcblx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXHJcblxyXG5cdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxyXG5cdFx0XHR1cE9iaiA9IHt9XHJcblx0XHRcdHRyYWNlLmFwcHJvdmVzLmZvckVhY2ggKGFwcHJvdmUsIGlkeCkgLT5cclxuXHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBhcHByb3ZlSWRcclxuXHRcdFx0XHRcdGlmIHNpZ25fZmllbGRfY29kZVxyXG5cdFx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5zaWduX2ZpZWxkX2NvZGVcIl0gPSBzaWduX2ZpZWxkX2NvZGVcclxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb25cclxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fc2hvd1wiXSA9IHRydWVcclxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKVxyXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZFxyXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKVxyXG5cclxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eSh1cE9iailcclxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcclxuXHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0JHNldDogdXBPYmpcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHJcblx0dXBkYXRlX3NpZ25fc2hvdzogKG9ianMsIG15QXBwcm92ZV9pZCkgLT5cclxuXHRcdG9ianMuZm9yRWFjaCAob2JqLCBpbmRleCkgLT5cclxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogb2JqLmluc3RhbmNlLCBcInRyYWNlcy5faWRcIjogb2JqLnRyYWNlIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXHJcblx0XHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcclxuXHRcdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxyXG5cdFx0XHRcdHNldE9iaiA9IHt9XHJcblx0XHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxyXG5cdFx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gb2JqLl9pZFxyXG5cdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvd1xyXG5cdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uY3VzdG9tX3NpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3dcclxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcclxuXHJcblx0XHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBteUFwcHJvdmVfaWRcclxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcclxuXHJcblx0XHRcdFx0aWYgbm90IF8uaXNFbXB0eShzZXRPYmopXHJcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdFx0X2lkOiBvYmouaW5zdGFuY2UsXHJcblx0XHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2VcclxuXHRcdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdFx0JHNldDogc2V0T2JqXHJcblx0XHRcdFx0XHR9KVxyXG5cclxuXHRcdHJldHVybiB0cnVlXHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgc2V0X2FwcHJvdmVfaGF2ZV9yZWFkOiBmdW5jdGlvbihpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgc2VsZiwgc2V0T2JqLCB0cmFjZTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNlbGYgPSB0aGlzO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKChpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgdHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF07XG4gICAgICBzZXRPYmogPSB7XG4gICAgICAgIG1vZGlmaWVkOiBuZXcgRGF0ZSxcbiAgICAgICAgbW9kaWZpZWRfYnk6IHNlbGYudXNlcklkXG4gICAgICB9O1xuICAgICAgdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlLCBpZHgpIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBhcHByb3ZlSWQgJiYgIWFwcHJvdmUuaXNfcmVhZCkge1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuaXNfcmVhZFwiXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIV8uaXNFbXB0eShzZXRPYmopKSB7XG4gICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICBjaGFuZ2VfYXBwcm92ZV9pbmZvOiBmdW5jdGlvbihpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIGRlc2NyaXB0aW9uLCBmaW5pc2hfZGF0ZSkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCBzZXRPYmosIHRyYWNlO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKTtcbiAgICBjaGVjayh0cmFjZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKTtcbiAgICBjaGVjayhmaW5pc2hfZGF0ZSwgRGF0ZSk7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgIHNldE9iaiA9IHt9O1xuICAgICAgdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlLCBpZHgpIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBhcHByb3ZlSWQpIHtcbiAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5maW5pc2hfZGF0ZVwiXSA9IGZpbmlzaF9kYXRlO1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuY29zdF90aW1lXCJdID0gbmV3IERhdGUoKSAtIGFwcHJvdmUuc3RhcnRfZGF0ZTtcbiAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZV9hcHByb3ZlX3NpZ246IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgc2lnbl9maWVsZF9jb2RlLCBkZXNjcmlwdGlvbiwgc2lnbl90eXBlLCBsYXN0U2lnbkFwcHJvdmUpIHtcbiAgICB2YXIgaW5zdGFuY2UsIGxhc3RUcmFjZSwgcmVmLCBzZXNzaW9uX3VzZXJJZCwgc2V0T2JqLCB0cmFjZSwgdXBPYmo7XG4gICAgY2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKTtcbiAgICBjaGVjayh0cmFjZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhzaWduX2ZpZWxkX2NvZGUsIFN0cmluZyk7XG4gICAgY2hlY2soZGVzY3JpcHRpb24sIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXNzaW9uX3VzZXJJZCA9IHRoaXMudXNlcklkO1xuICAgIGlmIChsYXN0U2lnbkFwcHJvdmUpIHtcbiAgICAgIGlmIChsYXN0U2lnbkFwcHJvdmUuY3VzdG9tX3NpZ25fc2hvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICBcInRyYWNlcy5faWRcIjogbGFzdFNpZ25BcHByb3ZlLnRyYWNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGxhc3RUcmFjZSA9IF8uZmluZChpbnN0YW5jZSAhPSBudWxsID8gaW5zdGFuY2UudHJhY2VzIDogdm9pZCAwLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9IGxhc3RTaWduQXBwcm92ZS50cmFjZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGxhc3RUcmFjZSkge1xuICAgICAgICBzZXRPYmogPSB7fTtcbiAgICAgICAgaWYgKGxhc3RUcmFjZSAhPSBudWxsKSB7XG4gICAgICAgICAgbGFzdFRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYSwgaWR4KSB7XG4gICAgICAgICAgICBpZiAoYS5faWQgPT09IGxhc3RTaWduQXBwcm92ZS5faWQpIHtcbiAgICAgICAgICAgICAgaWYgKHNpZ25fdHlwZSA9PT0gXCJ1cGRhdGVcIikge1xuICAgICAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuc2lnbl9zaG93XCJdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5tb2RpZmllZFwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiBsYXN0VHJhY2UuX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgIHVwT2JqID0ge307XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIGlmIChzaWduX2ZpZWxkX2NvZGUpIHtcbiAgICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5zaWduX2ZpZWxkX2NvZGVcIl0gPSBzaWduX2ZpZWxkX2NvZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uO1xuICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5zaWduX3Nob3dcIl0gPSB0cnVlO1xuICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5tb2RpZmllZFwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLm1vZGlmaWVkX2J5XCJdID0gc2Vzc2lvbl91c2VySWQ7XG4gICAgICAgICAgcmV0dXJuIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghXy5pc0VtcHR5KHVwT2JqKSkge1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHVwT2JqXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICB1cGRhdGVfc2lnbl9zaG93OiBmdW5jdGlvbihvYmpzLCBteUFwcHJvdmVfaWQpIHtcbiAgICBvYmpzLmZvckVhY2goZnVuY3Rpb24ob2JqLCBpbmRleCkge1xuICAgICAgdmFyIGluc3RhbmNlLCByZWYsIHNldE9iaiwgdHJhY2U7XG4gICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBvYmouaW5zdGFuY2UsXG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKChpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgICAgc2V0T2JqID0ge307XG4gICAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBvYmouX2lkKSB7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3c7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmN1c3RvbV9zaWduX3Nob3dcIl0gPSBvYmouc2lnbl9zaG93O1xuICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IG15QXBwcm92ZV9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIV8uaXNFbXB0eShzZXRPYmopKSB7XG4gICAgICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBvYmouaW5zdGFuY2UsXG4gICAgICAgICAgICBcInRyYWNlcy5faWRcIjogb2JqLnRyYWNlXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdGluc3RhbmNlX3JldHVybjogKGFwcHJvdmUsIHJlYXNvbiktPlxyXG5cdFx0Y2hlY2soYXBwcm92ZSwgT2JqZWN0KVxyXG5cclxuXHRcdGN1cnJlbnRfdXNlciA9IHRoaXMudXNlcklkXHJcblx0XHRpbnN0YW5jZV9pZCA9IGFwcHJvdmUuaW5zdGFuY2VcclxuXHJcblx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0c3BhY2VfaWQgPSBpbnMuc3BhY2VcclxuXHJcblx0XHQjIC0g5b6F5a6h5qC4566xXHJcblx0XHRpZiBpbnMuc3RhdGUgaXNudCBcInBlbmRpbmdcIiBvciAhaW5zLmluYm94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcilcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcclxuXHJcblx0XHQjIC0g5paH5Lu25LiN5piv5Lyg6ZiFXHJcblx0XHRpZiBhcHByb3ZlLnR5cGUgaXMgXCJjY1wiIGFuZCBpbnMuY2NfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxyXG5cclxuXHRcdCMgLSDnrb7moLjljobnqIvkuK3lvZPliY3mraXpqqTkuIrkuIDmraXpqqTkuI3mmK/kvJrnrb5cclxuXHRcdGlmIGlucy50cmFjZXMubGVuZ3RoIDwgMlxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxyXG5cdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdylcclxuXHRcdHByZV90cmFjZSA9IGlucy50cmFjZXNbaW5zLnRyYWNlcy5sZW5ndGggLSAyXVxyXG5cdFx0cHJlX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBwcmVfdHJhY2Uuc3RlcClcclxuXHRcdGlmIHByZV9zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcclxuXHJcblx0XHQjIC0g5b2T5YmN5q2l6aqk5Li65aGr5YaZ5oiW6ICF5a6h5om5XHJcblx0XHRsYXN0X3RyYWNlID0gXy5sYXN0KGlucy50cmFjZXMpXHJcblx0XHRjdXJyZW50X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBsYXN0X3RyYWNlLnN0ZXApXHJcblx0XHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJzdWJtaXRcIiBhbmQgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpc250IFwic2lnblwiIGFuZCBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJjb3VudGVyU2lnblwiXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXHJcblxyXG5cdFx0IyAtIOWPguaVsGFwcHJvdmXkuK10cmFjZeS4juW9k+WJjeiOt+WPlueahHRyYWNl5piv5ZCm5Yy56YWNXHJcblx0XHRpZiBhcHByb3ZlLnRyYWNlIGlzbnQgbGFzdF90cmFjZS5faWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcclxuXHJcblx0XHRuZXdfaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaCBwcmVfdHJhY2UuYXBwcm92ZXMsIChhKS0+XHJcblx0XHRcdGlmICghYS50eXBlIG9yIGEudHlwZSBpcyBcImRyYWZ0XCIgb3IgYS50eXBlIGlzIFwicmVhc3NpZ25cIikgYW5kICghYS5qdWRnZSBvciBhLmp1ZGdlIGlzIFwic3VibWl0dGVkXCIgb3IgYS5qdWRnZSBpcyBcImFwcHJvdmVkXCIgb3IgYS5qdWRnZSBpcyBcInJlamVjdGVkXCIpXHJcblx0XHRcdFx0bmV3X2luYm94X3VzZXJzLnB1c2goYS51c2VyKVxyXG5cclxuXHRcdGlmIF8uaXNFbXB0eShuZXdfaW5ib3hfdXNlcnMpXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw5LiL5LiA5q2l5aSE55CG5Lq677yM6YCA5Zue5aSx6LSlXCIpXHJcblxyXG5cdFx0dHJhY2VzID0gaW5zLnRyYWNlc1xyXG5cclxuXHRcdGFwcHJvdmVfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKGFwcHJvdmUudmFsdWVzIHx8IHt9LCBjdXJyZW50X3N0ZXAucGVybWlzc2lvbnMsIGlucy5mb3JtLCBpbnMuZm9ybV92ZXJzaW9uKVxyXG5cclxuXHRcdHNldE9iaiA9IG5ldyBPYmplY3RcclxuXHRcdG5vdyA9IG5ldyBEYXRlXHJcblx0XHRyZXN0X2NvdW50ZXJfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaCB0cmFjZXMsICh0KS0+XHJcblx0XHRcdGlmIHQuX2lkIGlzIGxhc3RfdHJhY2UuX2lkXHJcblx0XHRcdFx0aWYgbm90IHQuYXBwcm92ZXNcclxuXHRcdFx0XHRcdHQuYXBwcm92ZXMgPSBuZXcgQXJyYXlcclxuXHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGEsIGlkeCktPlxyXG5cdFx0XHRcdFx0aWYgKCFhLnR5cGUgb3IgYS50eXBlIGlzIFwicmVhc3NpZ25cIikgYW5kICghYS5qdWRnZSBvciBhLmp1ZGdlIGlzIFwic3VibWl0dGVkXCIgb3IgYS5qdWRnZSBpcyBcImFwcHJvdmVkXCIgb3IgYS5qdWRnZSBpcyBcInJlamVjdGVkXCIgb3IgYS5qdWRnZSBpcyBcInJlYWRlZFwiKSBhbmQgYS5pc19maW5pc2hlZCBpc250IHRydWVcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbm93XHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBub3dcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19lcnJvciddID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlXHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWVcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5jb3N0X3RpbWUnXSA9IG5vdyAtIGEuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnZhbHVlcyddID0gYXBwcm92ZV92YWx1ZXNcclxuXHRcdFx0XHRcdFx0aWYgYS5oYW5kbGVyIGlzIGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9IFwicmV0dXJuZWRcIlxyXG5cdFx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZGVzY3JpcHRpb24nXSA9IHJlYXNvblxyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0cmVzdF9jb3VudGVyX3VzZXJzLnB1c2ggYS5oYW5kbGVyXHJcblxyXG5cdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2XorrDlvZVcclxuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmlzX2ZpbmlzaGVkJ10gPSB0cnVlXHJcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5maW5pc2hfZGF0ZSddID0gdHJ1ZVxyXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuanVkZ2UnXSA9IFwicmV0dXJuZWRcIlxyXG5cclxuXHRcdGlucy52YWx1ZXMgPSBfLmV4dGVuZCgoaW5zLnZhbHVlcyB8fCB7fSksIGFwcHJvdmVfdmFsdWVzKVxyXG5cclxuXHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcclxuXHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxyXG5cdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXVxyXG5cdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0bmV3VHJhY2Uuc3RlcCA9IHByZV90cmFjZS5zdGVwXHJcblx0XHRuZXdUcmFjZS5uYW1lID0gcHJlX3RyYWNlLm5hbWVcclxuXHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZV9zdGVwLnRpbWVvdXRfaG91cnMpXHJcblx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXHJcblx0XHRfLmVhY2ggbmV3X2luYm94X3VzZXJzLCAobmV4dF9zdGVwX3VzZXJfaWQsIGlkeCktPlxyXG5cdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNlLmFwcHJvdmXorrDlvZVcclxuXHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3RcclxuXHRcdFx0bmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkXHJcblx0XHRcdG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZFxyXG5cclxuXHRcdFx0dXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwge2ZpZWxkczoge25hbWU6IDF9fSlcclxuXHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZVxyXG5cclxuXHRcdFx0aGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkXHJcblx0XHRcdGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mb1xyXG5cdFx0XHRhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIG5leHRfc3RlcF91c2VyX2lkKVxyXG5cdFx0XHRpZiBhZ2VudFxyXG5cdFx0XHRcdG5ld19pbmJveF91c2Vyc1tpZHhdID0gYWdlbnRcclxuXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnRcclxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhZ2VudCB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnRcclxuXHJcblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGhhbmRsZXJfaWRcclxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxyXG5cclxuXHRcdFx0bmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZClcclxuXHRcdFx0IyDojrflj5ZuZXh0X3N0ZXBfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xyXG5cdFx0XHRuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhuZXh0X3N0ZXBfc3BhY2VfdXNlcilcclxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXHJcblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cclxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXHJcblxyXG5cdFx0XHRuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2VcclxuXHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zLnZhbHVlcywgbmV3QXBwcm92ZSlcclxuXHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxyXG5cclxuXHRcdHNldE9iai5pbmJveF91c2VycyA9IG5ld19pbmJveF91c2Vyc1xyXG5cdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcclxuXHJcblx0XHRpbnMub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxyXG5cdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnMub3V0Ym94X3VzZXJzKVxyXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XHJcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcclxuXHRcdHNldE9iai52YWx1ZXMgPSBpbnMudmFsdWVzXHJcblxyXG5cdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJlX3RyYWNlLm5hbWVcclxuXHJcblx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZCwgJ3RyYWNlcy5faWQnOiBsYXN0X3RyYWNlLl9pZH0sIHskc2V0OiBzZXRPYmp9KVxyXG5cdFx0YiA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHB1c2g6IHt0cmFjZXM6IG5ld1RyYWNlfX0pXHJcblx0XHRpZiByICYmIGJcclxuXHRcdFx0IyDmlrBpbmJveF91c2VycyDlkowg5b2T5YmN55So5oi3IOWPkemAgXB1c2hcclxuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxyXG5cdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJldHVybl9wZW5kaW5nX2luYm94XCIsIGluc3RhbmNlLCByZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cdFx0XHQjIOWmguaenOaYr+S8muetvuWImee7meS8muetvuacquaPkOS6pOeahOS6uuWPkemAgXB1c2hcclxuXHRcdFx0Xy5lYWNoIHJlc3RfY291bnRlcl91c2VycywgKHVzZXJfaWQpLT5cclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcclxuXHRcdHJldHVybiB0cnVlIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZV9yZXR1cm46IGZ1bmN0aW9uKGFwcHJvdmUsIHJlYXNvbikge1xuICAgIHZhciBhcHByb3ZlX3ZhbHVlcywgYiwgY3VycmVudF9zdGVwLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBmbG93LCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbGFzdF90cmFjZSwgbmV3VHJhY2UsIG5ld19pbmJveF91c2Vycywgbm93LCBwcmVfc3RlcCwgcHJlX3RyYWNlLCByLCByZXN0X2NvdW50ZXJfdXNlcnMsIHNldE9iaiwgc3BhY2VfaWQsIHRyYWNlcztcbiAgICBjaGVjayhhcHByb3ZlLCBPYmplY3QpO1xuICAgIGN1cnJlbnRfdXNlciA9IHRoaXMudXNlcklkO1xuICAgIGluc3RhbmNlX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcbiAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICBzcGFjZV9pZCA9IGlucy5zcGFjZTtcbiAgICBpZiAoaW5zLnN0YXRlICE9PSBcInBlbmRpbmdcIiB8fCAhaW5zLmluYm94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZS50eXBlID09PSBcImNjXCIgJiYgaW5zLmNjX3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBpZiAoaW5zLnRyYWNlcy5sZW5ndGggPCAyKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdyk7XG4gICAgcHJlX3RyYWNlID0gaW5zLnRyYWNlc1tpbnMudHJhY2VzLmxlbmd0aCAtIDJdO1xuICAgIHByZV9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgcHJlX3RyYWNlLnN0ZXApO1xuICAgIGlmIChwcmVfc3RlcC5zdGVwX3R5cGUgPT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGxhc3RfdHJhY2UgPSBfLmxhc3QoaW5zLnRyYWNlcyk7XG4gICAgY3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgbGFzdF90cmFjZS5zdGVwKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSAhPT0gXCJzdWJtaXRcIiAmJiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlICE9PSBcInNpZ25cIiAmJiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlICE9PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZS50cmFjZSAhPT0gbGFzdF90cmFjZS5faWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBuZXdfaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHByZV90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKCghYS50eXBlIHx8IGEudHlwZSA9PT0gXCJkcmFmdFwiIHx8IGEudHlwZSA9PT0gXCJyZWFzc2lnblwiKSAmJiAoIWEuanVkZ2UgfHwgYS5qdWRnZSA9PT0gXCJzdWJtaXR0ZWRcIiB8fCBhLmp1ZGdlID09PSBcImFwcHJvdmVkXCIgfHwgYS5qdWRnZSA9PT0gXCJyZWplY3RlZFwiKSkge1xuICAgICAgICByZXR1cm4gbmV3X2luYm94X3VzZXJzLnB1c2goYS51c2VyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoXy5pc0VtcHR5KG5ld19pbmJveF91c2VycykpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw5LiL5LiA5q2l5aSE55CG5Lq677yM6YCA5Zue5aSx6LSlXCIpO1xuICAgIH1cbiAgICB0cmFjZXMgPSBpbnMudHJhY2VzO1xuICAgIGFwcHJvdmVfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKGFwcHJvdmUudmFsdWVzIHx8IHt9LCBjdXJyZW50X3N0ZXAucGVybWlzc2lvbnMsIGlucy5mb3JtLCBpbnMuZm9ybV92ZXJzaW9uKTtcbiAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgIHJlc3RfY291bnRlcl91c2VycyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICBpZiAodC5faWQgPT09IGxhc3RfdHJhY2UuX2lkKSB7XG4gICAgICAgIGlmICghdC5hcHByb3Zlcykge1xuICAgICAgICAgIHQuYXBwcm92ZXMgPSBuZXcgQXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEsIGlkeCkge1xuICAgICAgICAgIGlmICgoIWEudHlwZSB8fCBhLnR5cGUgPT09IFwicmVhc3NpZ25cIikgJiYgKCFhLmp1ZGdlIHx8IGEuanVkZ2UgPT09IFwic3VibWl0dGVkXCIgfHwgYS5qdWRnZSA9PT0gXCJhcHByb3ZlZFwiIHx8IGEuanVkZ2UgPT09IFwicmVqZWN0ZWRcIiB8fCBhLmp1ZGdlID09PSBcInJlYWRlZFwiKSAmJiBhLmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBub3c7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbm93O1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19lcnJvciddID0gZmFsc2U7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5jb3N0X3RpbWUnXSA9IG5vdyAtIGEuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcudmFsdWVzJ10gPSBhcHByb3ZlX3ZhbHVlcztcbiAgICAgICAgICAgIGlmIChhLmhhbmRsZXIgPT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSBcInJldHVybmVkXCI7XG4gICAgICAgICAgICAgIHJldHVybiBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmRlc2NyaXB0aW9uJ10gPSByZWFzb247XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdF9jb3VudGVyX3VzZXJzLnB1c2goYS5oYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xuICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmZpbmlzaF9kYXRlJ10gPSB0cnVlO1xuICAgICAgICByZXR1cm4gc2V0T2JqWyd0cmFjZXMuJC5qdWRnZSddID0gXCJyZXR1cm5lZFwiO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlucy52YWx1ZXMgPSBfLmV4dGVuZChpbnMudmFsdWVzIHx8IHt9LCBhcHByb3ZlX3ZhbHVlcyk7XG4gICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdO1xuICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgbmV3VHJhY2Uuc3RlcCA9IHByZV90cmFjZS5zdGVwO1xuICAgIG5ld1RyYWNlLm5hbWUgPSBwcmVfdHJhY2UubmFtZTtcbiAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgIG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZV9zdGVwLnRpbWVvdXRfaG91cnMpO1xuICAgIG5ld1RyYWNlLmFwcHJvdmVzID0gW107XG4gICAgXy5lYWNoKG5ld19pbmJveF91c2VycywgZnVuY3Rpb24obmV4dF9zdGVwX3VzZXJfaWQsIGlkeCkge1xuICAgICAgdmFyIGFnZW50LCBoYW5kbGVyX2lkLCBoYW5kbGVyX2luZm8sIG5ld0FwcHJvdmUsIG5leHRfc3RlcF9zcGFjZV91c2VyLCBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbywgdXNlcl9pbmZvO1xuICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICBuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICBuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkO1xuICAgICAgbmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgbmV3QXBwcm92ZS51c2VyID0gbmV4dF9zdGVwX3VzZXJfaWQ7XG4gICAgICB1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKG5leHRfc3RlcF91c2VyX2lkLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xuICAgICAgaGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgaGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvO1xuICAgICAgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCBuZXh0X3N0ZXBfdXNlcl9pZCk7XG4gICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgbmV3X2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudDtcbiAgICAgICAgaGFuZGxlcl9pZCA9IGFnZW50O1xuICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICBfaWQ6IGFnZW50XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnQ7XG4gICAgICB9XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgIG5leHRfc3RlcF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGhhbmRsZXJfaWQpO1xuICAgICAgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8obmV4dF9zdGVwX3NwYWNlX3VzZXIpO1xuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgIG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgbmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgdXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGlucy52YWx1ZXMsIG5ld0FwcHJvdmUpO1xuICAgICAgcmV0dXJuIG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSk7XG4gICAgfSk7XG4gICAgc2V0T2JqLmluYm94X3VzZXJzID0gbmV3X2luYm94X3VzZXJzO1xuICAgIHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgIGlucy5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgIHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zLm91dGJveF91c2Vycyk7XG4gICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICBzZXRPYmoudmFsdWVzID0gaW5zLnZhbHVlcztcbiAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmVfdHJhY2UubmFtZTtcbiAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgJ3RyYWNlcy5faWQnOiBsYXN0X3RyYWNlLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHNldE9ialxuICAgIH0pO1xuICAgIGIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICAkcHVzaDoge1xuICAgICAgICB0cmFjZXM6IG5ld1RyYWNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHIgJiYgYikge1xuICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcik7XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgICBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJldHVybl9wZW5kaW5nX2luYm94XCIsIGluc3RhbmNlLCByZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIF8uZWFjaChyZXN0X2NvdW50ZXJfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdGluc3RhbmNlX3JlbWluZDogKHJlbWluZF91c2VycywgcmVtaW5kX2NvdW50LCByZW1pbmRfZGVhZGxpbmUsIGluc3RhbmNlX2lkLCBhY3Rpb25fdHlwZXMsIHRyYWNlX2lkKS0+XHJcblx0XHRjaGVjayByZW1pbmRfdXNlcnMsIEFycmF5XHJcblx0XHRjaGVjayByZW1pbmRfY291bnQsIE1hdGNoLk9uZU9mKCdzaW5nbGUnLCAnbXVsdGknKVxyXG5cdFx0Y2hlY2sgcmVtaW5kX2RlYWRsaW5lLCBEYXRlXHJcblx0XHRjaGVjayBpbnN0YW5jZV9pZCwgU3RyaW5nXHJcblx0XHRjaGVjayBhY3Rpb25fdHlwZXMsIEFycmF5XHJcblx0XHRjaGVjayB0cmFjZV9pZCwgU3RyaW5nXHJcblxyXG5cdFx0Y3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWRcclxuXHRcdGxhc3RfcmVtaW5kX3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHtmaWVsZHM6IHtuYW1lOiAxLCB0cmFjZXM6IDEsIHZhbHVlczogMSwgc3BhY2U6IDF9fSlcclxuXHRcdGlmIGFjdGlvbl90eXBlcy5pbmNsdWRlcygnYWRtaW4nKVxyXG5cdFx0XHRpZiByZW1pbmRfY291bnQgaXMgJ3NpbmdsZSdcclxuXHRcdFx0XHRfLmVhY2ggaW5zLnRyYWNlcywgKHQpLT5cclxuXHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXApLT5cclxuXHRcdFx0XHRcdFx0aWYgcmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpIGFuZCBhcC5pc19maW5pc2hlZCBpc250IHRydWVcclxuXHRcdFx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcclxuXHRcdFx0ZWxzZSBpZiByZW1pbmRfY291bnQgaXMgJ211bHRpJ1xyXG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXHJcblx0XHRcdFx0cHJpb3JpdHkgPSBpbnMudmFsdWVzLnByaW9yaXR5XHJcblx0XHRcdFx0Xy5lYWNoIGlucy50cmFjZXMsICh0KS0+XHJcblx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwKS0+XHJcblx0XHRcdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXHJcblx0XHRcdFx0XHRcdFx0bGFzdF9yZW1pbmRfdXNlcnMucHVzaCBhcC51c2VyXHJcblx0XHRcdFx0XHRcdFx0YXAubWFudWFsX2RlYWRsaW5lID0gcmVtaW5kX2RlYWRsaW5lXHJcblx0XHRcdFx0XHRcdFx0IyDvvIgx77yJ4oCc5pmu6YCa4oCd77ya5aaC5LiJ5Liq5bel5L2c5pel5YaF5pyq5aSE55CG77yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li65LqM5pel5YaF77ybXHJcblx0XHRcdFx0XHRcdFx0IyAg5aaC5LqM5pel5ZCO5LuN5pyq5aSE55CG77yM57O757uf5q+P5aSp6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77yM5Yqe57uT5pe26ZmQ5Li65LiA5pel5YaF44CCXHJcblx0XHRcdFx0XHRcdFx0aWYgcHJpb3JpdHkgaXMgXCLmma7pgJpcIiBvciBub3QgcHJpb3JpdHlcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdFx0XHRcdCMg77yIMu+8ieKAnOWKnuaWh+KAne+8muWmguS4gOS4quW3peS9nOaXpeWGheacquWkhOeQhu+8jOezu+e7n+iHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4uuihqOWNleS4iueahOKAnOWKnue7k+aXtumZkOKAne+8iOaWh+S5puW9leWFpeeahOaXtumXtO+8ie+8m1xyXG5cdFx0XHRcdFx0XHRcdCMgIOWmguS4gOaXpeWQjuS7jeacquWkhOeQhu+8jOezu+e7n+avj+WkqeiHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4jeWPmO+8m1xyXG5cdFx0XHRcdFx0XHRcdCMgIOi3neemu+WKnue7k+aXtumZkOS4uuWNiuaXpeaXtu+8jOWImeavj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxyXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgcHJpb3JpdHkgaXMgXCLlip7mlodcIlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lICMg6LaF6L+H5LqG5Yqe57uT5pe26ZmQ5oiW6ICF6Led56a75Yqe57uT5pe26ZmQ5Y2K5pel5YaFXHJcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUgPSAoYmFzZV9kYXRlKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXHJcblxyXG5cdFx0XHRcdFx0XHRcdCMg77yIM++8ieKAnOe0p+aApeKAne+8muWcqOWPkemAgeeahOWQjOaXtu+8jOezu+e7n+iHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4uuihqOWNleS4iueahOKAnOWKnue7k+aXtumZkOKAne+8iOaWh+S5puW9leWFpeeahOaXtumXtO+8ie+8m1xyXG5cdFx0XHRcdFx0XHRcdCMgIOWmguWNiuaXpeWGheS7jeacquWkhOeQhu+8jOezu+e7n+avj+WNiuWkqeiHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4jeWPmO+8m+i3neemu+WKnue7k+aXtumZkOS4uuWNiuaXpeaXtu+8jOavj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxyXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgcHJpb3JpdHkgaXMgXCLntKfmgKVcIlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lICMg6LaF6L+H5LqG5Yqe57uT5pe26ZmQ5oiW6ICF6Led56a75Yqe57uT5pe26ZmQ5Y2K5pel5YaFXHJcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUgPSAoYmFzZV9kYXRlKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXHJcblxyXG5cdFx0XHRcdFx0XHRcdCMg77yINO+8ieKAnOeJueaApeKAne+8muWcqOWPkemAgeeahOWQjOaXtu+8jOezu+e7n+iHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4uuihqOWNleS4iueahOKAnOWKnue7k+aXtumZkOKAne+8iOaWh+S5puW9leWFpeeahOaXtumXtO+8ie+8m1xyXG5cdFx0XHRcdFx0XHRcdCMgIOWmguWNiuaXpeWGheS7jeacquWkhOeQhu+8jOezu+e7n+avj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8muWKnue7k+aXtumZkOS4jeWPmO+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxyXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgcHJpb3JpdHkgaXMgXCLnibnmgKVcIlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lICMg6LaF6L+H5LqG5Yqe57uT5pe26ZmQ5oiW6ICF6Led56a75Yqe57uT5pe26ZmQ5Y2K5pel5YaFXHJcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUgPSAoYmFzZV9kYXRlKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXHJcblxyXG5cdFx0XHRcdGlmIG5vdCBfLmlzRW1wdHkobGFzdF9yZW1pbmRfdXNlcnMpXHJcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHsndHJhY2VzJzogaW5zLnRyYWNlc319KVxyXG5cclxuXHRcdGVsc2UgaWYgYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdhcHBsaWNhbnQnKVxyXG5cdFx0XHR0cmFjZSA9IF8uZmluZCBpbnMudHJhY2VzLCAodCktPlxyXG5cdFx0XHRcdHJldHVybiB0Ll9pZCBpcyB0cmFjZV9pZFxyXG5cdFx0XHRfLmVhY2ggdHJhY2UuYXBwcm92ZXMsIChhcCktPlxyXG5cdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXHJcblx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcclxuXHJcblx0XHRlbHNlIGlmIGFjdGlvbl90eXBlcy5pbmNsdWRlcygnY2MnKVxyXG5cdFx0XHRfLmVhY2ggaW5zLnRyYWNlcywgKHQpLT5cclxuXHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwKS0+XHJcblx0XHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZSBhbmQgYXAudHlwZSBpcyAnY2MnIGFuZCBhcC5mcm9tX3VzZXIgaXMgY3VycmVudF91c2VyX2lkXHJcblx0XHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxyXG5cclxuXHRcdHV1Zmxvd01hbmFnZXIuc2VuZFJlbWluZFNNUyBpbnMubmFtZSwgcmVtaW5kX2RlYWRsaW5lLCBsYXN0X3JlbWluZF91c2VycywgaW5zLnNwYWNlLCBpbnMuX2lkXHJcblxyXG5cdFx0cmV0dXJuIHRydWVcclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZV9yZW1pbmQ6IGZ1bmN0aW9uKHJlbWluZF91c2VycywgcmVtaW5kX2NvdW50LCByZW1pbmRfZGVhZGxpbmUsIGluc3RhbmNlX2lkLCBhY3Rpb25fdHlwZXMsIHRyYWNlX2lkKSB7XG4gICAgdmFyIGN1cnJlbnRfdXNlcl9pZCwgaW5zLCBsYXN0X3JlbWluZF91c2Vycywgbm93LCBwcmlvcml0eSwgdHJhY2U7XG4gICAgY2hlY2socmVtaW5kX3VzZXJzLCBBcnJheSk7XG4gICAgY2hlY2socmVtaW5kX2NvdW50LCBNYXRjaC5PbmVPZignc2luZ2xlJywgJ211bHRpJykpO1xuICAgIGNoZWNrKHJlbWluZF9kZWFkbGluZSwgRGF0ZSk7XG4gICAgY2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG4gICAgY2hlY2soYWN0aW9uX3R5cGVzLCBBcnJheSk7XG4gICAgY2hlY2sodHJhY2VfaWQsIFN0cmluZyk7XG4gICAgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG4gICAgbGFzdF9yZW1pbmRfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxLFxuICAgICAgICB0cmFjZXM6IDEsXG4gICAgICAgIHZhbHVlczogMSxcbiAgICAgICAgc3BhY2U6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdhZG1pbicpKSB7XG4gICAgICBpZiAocmVtaW5kX2NvdW50ID09PSAnc2luZ2xlJykge1xuICAgICAgICBfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChyZW1pbmRfY291bnQgPT09ICdtdWx0aScpIHtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIHByaW9yaXR5ID0gaW5zLnZhbHVlcy5wcmlvcml0eTtcbiAgICAgICAgXy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwKSB7XG4gICAgICAgICAgICB2YXIgY2FjdWxhdGVfZGF0ZTtcbiAgICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgICAgICAgYXAubWFudWFsX2RlYWRsaW5lID0gcmVtaW5kX2RlYWRsaW5lO1xuICAgICAgICAgICAgICBpZiAocHJpb3JpdHkgPT09IFwi5pmu6YCaXCIgfHwgIXByaW9yaXR5KSB7XG5cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA9PT0gXCLlip7mlodcIikge1xuICAgICAgICAgICAgICAgIGlmIChTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlID0gZnVuY3Rpb24oYmFzZV9kYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbHVzX2hhbGZkYXlfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgcGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYWN1bGF0ZV9kYXRlKG5vdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09PSBcIue0p+aApVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUgPSBmdW5jdGlvbihiYXNlX2RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdXNfaGFsZmRheV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICBwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY3VsYXRlX2RhdGUobm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPT09IFwi54m55oClXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZSA9IGZ1bmN0aW9uKGJhc2VfZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGx1c19oYWxmZGF5X2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2FjdWxhdGVfZGF0ZShub3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFfLmlzRW1wdHkobGFzdF9yZW1pbmRfdXNlcnMpKSB7XG4gICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAndHJhY2VzJzogaW5zLnRyYWNlc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FwcGxpY2FudCcpKSB7XG4gICAgICB0cmFjZSA9IF8uZmluZChpbnMudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9PT0gdHJhY2VfaWQ7XG4gICAgICB9KTtcbiAgICAgIF8uZWFjaCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBsYXN0X3JlbWluZF91c2Vycy5wdXNoKGFwLnVzZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbl90eXBlcy5pbmNsdWRlcygnY2MnKSkge1xuICAgICAgXy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUgJiYgYXAudHlwZSA9PT0gJ2NjJyAmJiBhcC5mcm9tX3VzZXIgPT09IGN1cnJlbnRfdXNlcl9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLnNlbmRSZW1pbmRTTVMoaW5zLm5hbWUsIHJlbWluZF9kZWFkbGluZSwgbGFzdF9yZW1pbmRfdXNlcnMsIGlucy5zcGFjZSwgaW5zLl9pZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRuZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kOiAoZGVhbF90eXBlLCBzdGVwX25hbWUsIHBhcmFtcykgLT5cclxuXHRcdGNoZWNrIGRlYWxfdHlwZSwgU3RyaW5nXHJcblx0XHRjaGVjayBzdGVwX25hbWUsIFN0cmluZ1xyXG5cdFx0Y2hlY2sgcGFyYW1zLCBPYmplY3RcclxuXHJcblx0XHRzdHIgPSBcIlwiXHJcblx0XHR1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogdGhpcy51c2VySWQgfSwgeyBmaWVsZHM6IHsgbG9jYWxlOiAxIH0gfSlcclxuXHRcdCPorr7nva7lvZPliY3or63oqIDnjq/looNcclxuXHRcdGxhbmcgPSAnZW4nXHJcblx0XHRpZiB1c2VyLmxvY2FsZSBpcyAnemgtY24nXHJcblx0XHRcdGxhbmcgPSAnemgtQ04nXHJcblxyXG5cdFx0IyDmjIflrprlrqHmibnlspfkvY1cclxuXHRcdGlmIGRlYWxfdHlwZSBpcyAnYXBwbGljYW50Um9sZSdcclxuXHRcdFx0YXBwcm92ZXJfcm9sZXMgPSBwYXJhbXMuYXBwcm92ZXJfcm9sZXNcclxuXHRcdFx0cm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IHsgJGluOiBhcHByb3Zlcl9yb2xlcyB9IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KS5mZXRjaCgpXHJcblx0XHRcdHJvbGVzX25hbWUgPSBfLnBsdWNrKHJvbGVzLCAnbmFtZScpLnRvU3RyaW5nKClcclxuXHRcdFx0c3RyID0gVEFQaTE4bi5fXyAnbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5hcHBsaWNhbnRfcm9sZScsIHsgc3RlcF9uYW1lOiBzdGVwX25hbWUsIHJvbGVfbmFtZTogcm9sZXNfbmFtZSB9LCBsYW5nXHJcblxyXG5cclxuXHRcdHJldHVybiBzdHJcclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBuZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kOiBmdW5jdGlvbihkZWFsX3R5cGUsIHN0ZXBfbmFtZSwgcGFyYW1zKSB7XG4gICAgdmFyIGFwcHJvdmVyX3JvbGVzLCBsYW5nLCByb2xlcywgcm9sZXNfbmFtZSwgc3RyLCB1c2VyO1xuICAgIGNoZWNrKGRlYWxfdHlwZSwgU3RyaW5nKTtcbiAgICBjaGVjayhzdGVwX25hbWUsIFN0cmluZyk7XG4gICAgY2hlY2socGFyYW1zLCBPYmplY3QpO1xuICAgIHN0ciA9IFwiXCI7XG4gICAgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgX2lkOiB0aGlzLnVzZXJJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBsb2NhbGU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsYW5nID0gJ2VuJztcbiAgICBpZiAodXNlci5sb2NhbGUgPT09ICd6aC1jbicpIHtcbiAgICAgIGxhbmcgPSAnemgtQ04nO1xuICAgIH1cbiAgICBpZiAoZGVhbF90eXBlID09PSAnYXBwbGljYW50Um9sZScpIHtcbiAgICAgIGFwcHJvdmVyX3JvbGVzID0gcGFyYW1zLmFwcHJvdmVyX3JvbGVzO1xuICAgICAgcm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGFwcHJvdmVyX3JvbGVzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgcm9sZXNfbmFtZSA9IF8ucGx1Y2socm9sZXMsICduYW1lJykudG9TdHJpbmcoKTtcbiAgICAgIHN0ciA9IFRBUGkxOG4uX18oJ25leHRfc3RlcF91c2Vyc19ub3RfZm91bmQuYXBwbGljYW50X3JvbGUnLCB7XG4gICAgICAgIHN0ZXBfbmFtZTogc3RlcF9uYW1lLFxuICAgICAgICByb2xlX25hbWU6IHJvbGVzX25hbWVcbiAgICAgIH0sIGxhbmcpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG59KTtcbiIsIl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpXHJcblxyXG5NZXRlb3IubWV0aG9kc1xyXG5cdGluc3RhbmNlTnVtYmVyQnVpbGRlcjogKHNwYWNlSWQsIG5hbWUpLT5cclxuXHJcblx0XHRudW1iZXJSdWxlcyA9IGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy5maW5kT25lKHtzcGFjZTogc3BhY2VJZCwgbmFtZTogbmFtZX0pXHJcblxyXG5cdFx0aWYgIW51bWJlclJ1bGVzXHJcblx0XHRcdHRocm93IG5ldyAgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIiN7bmFtZX1cIilcclxuXHJcblx0XHRkYXRlID0gbmV3IERhdGUoKVxyXG5cclxuXHRcdGNvbnRleHQgPSB7fVxyXG5cclxuXHRcdGNvbnRleHQuXyA9IF9cclxuXHJcblx0XHRfWVlZWSA9IGRhdGUuZ2V0RnVsbFllYXIoKVxyXG5cclxuXHRcdF9OVU1CRVIgPSAobnVtYmVyUnVsZXMubnVtYmVyIHx8IDApICsgMVxyXG5cclxuXHRcdGNvbnRleHQuWVlZWSA9IF8uY2xvbmUoX1lZWVkpXHJcblxyXG5cdFx0Y29udGV4dC5NTSA9IGRhdGUuZ2V0TW9udGgoKSArIDFcclxuXHJcblx0XHRjb250ZXh0Lm1tID0gZGF0ZS5nZXRNb250aCgpICsgMVxyXG5cclxuXHRcdGlmIGNvbnRleHQuTU0gPCAxMFxyXG5cdFx0XHRjb250ZXh0Lk1NID0gXCIwXCIgKyBjb250ZXh0Lk1NXHJcblxyXG5cdFx0Y29udGV4dC5ERCA9IGRhdGUuZ2V0RGF0ZSgpXHJcblxyXG5cdFx0Y29udGV4dC5kZCA9IGRhdGUuZ2V0RGF0ZSgpXHJcblxyXG5cdFx0aWYgY29udGV4dC5ERCA8IDEwXHJcblx0XHRcdGNvbnRleHQuREQgPSBcIjBcIiArIGNvbnRleHQuRERcclxuXHJcblx0XHRpZiBjb250ZXh0LllZWVkgIT0gbnVtYmVyUnVsZXMueWVhclxyXG5cdFx0XHRfTlVNQkVSID0gbnVtYmVyUnVsZXMuZmlyc3RfbnVtYmVyIHx8IDFcclxuXHJcblx0XHRjb250ZXh0Lk5VTUJFUiA9IF8uY2xvbmUoX05VTUJFUilcclxuXHJcblx0XHRydWxlcyA9IG51bWJlclJ1bGVzLnJ1bGVzLnJlcGxhY2UoXCJ7WVlZWX1cIiwgXCInICsgWVlZWSArICdcIikucmVwbGFjZShcIntNTX1cIiwgXCInICsgTU0gKyAnXCIpLnJlcGxhY2UoXCJ7TlVNQkVSfVwiLCBcIicgKyBOVU1CRVIgKyAnXCIpXHJcblxyXG5cdFx0c2NyaXB0ID0gXCJ2YXIgbmV3Tm8gPSAnI3tydWxlc30nOyBleHBvcnRzLm5ld05vID0gbmV3Tm9cIjtcclxuXHJcblx0XHR0cnlcclxuXHRcdFx0cmVzID0gX2V2YWwoc2NyaXB0LCBcIm5ld05vXCIsIGNvbnRleHQsIGZhbHNlKS5uZXdOb1xyXG5cclxuXHRcdFx0ZGIuaW5zdGFuY2VfbnVtYmVyX3J1bGVzLnVwZGF0ZSh7X2lkOiBudW1iZXJSdWxlcy5faWR9LCB7JHNldDoge3llYXI6IF9ZWVlZLCBudW1iZXI6IF9OVU1CRVJ9fSlcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nIHRoaXMudXNlcklkLCByZXNcclxuXHJcblx0XHRjYXRjaCBlXHJcblx0XHRcdHJlcyA9IHtfZXJyb3I6IGV9XHJcblxyXG5cdFx0cmV0dXJuIHJlcztcclxuIiwidmFyIF9ldmFsO1xuXG5fZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKTtcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZU51bWJlckJ1aWxkZXI6IGZ1bmN0aW9uKHNwYWNlSWQsIG5hbWUpIHtcbiAgICB2YXIgX05VTUJFUiwgX1lZWVksIGNvbnRleHQsIGRhdGUsIGUsIG51bWJlclJ1bGVzLCByZXMsIHJ1bGVzLCBzY3JpcHQ7XG4gICAgbnVtYmVyUnVsZXMgPSBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgIG5hbWU6IG5hbWVcbiAgICB9KTtcbiAgICBpZiAoIW51bWJlclJ1bGVzKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIlwiICsgbmFtZSk7XG4gICAgfVxuICAgIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnRleHQgPSB7fTtcbiAgICBjb250ZXh0Ll8gPSBfO1xuICAgIF9ZWVlZID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIF9OVU1CRVIgPSAobnVtYmVyUnVsZXMubnVtYmVyIHx8IDApICsgMTtcbiAgICBjb250ZXh0LllZWVkgPSBfLmNsb25lKF9ZWVlZKTtcbiAgICBjb250ZXh0Lk1NID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBjb250ZXh0Lm1tID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBpZiAoY29udGV4dC5NTSA8IDEwKSB7XG4gICAgICBjb250ZXh0Lk1NID0gXCIwXCIgKyBjb250ZXh0Lk1NO1xuICAgIH1cbiAgICBjb250ZXh0LkREID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgY29udGV4dC5kZCA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIGlmIChjb250ZXh0LkREIDwgMTApIHtcbiAgICAgIGNvbnRleHQuREQgPSBcIjBcIiArIGNvbnRleHQuREQ7XG4gICAgfVxuICAgIGlmIChjb250ZXh0LllZWVkgIT09IG51bWJlclJ1bGVzLnllYXIpIHtcbiAgICAgIF9OVU1CRVIgPSBudW1iZXJSdWxlcy5maXJzdF9udW1iZXIgfHwgMTtcbiAgICB9XG4gICAgY29udGV4dC5OVU1CRVIgPSBfLmNsb25lKF9OVU1CRVIpO1xuICAgIHJ1bGVzID0gbnVtYmVyUnVsZXMucnVsZXMucmVwbGFjZShcIntZWVlZfVwiLCBcIicgKyBZWVlZICsgJ1wiKS5yZXBsYWNlKFwie01NfVwiLCBcIicgKyBNTSArICdcIikucmVwbGFjZShcIntOVU1CRVJ9XCIsIFwiJyArIE5VTUJFUiArICdcIik7XG4gICAgc2NyaXB0ID0gXCJ2YXIgbmV3Tm8gPSAnXCIgKyBydWxlcyArIFwiJzsgZXhwb3J0cy5uZXdObyA9IG5ld05vXCI7XG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJuZXdOb1wiLCBjb250ZXh0LCBmYWxzZSkubmV3Tm87XG4gICAgICBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBudW1iZXJSdWxlcy5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDoge1xuICAgICAgICAgIHllYXI6IF9ZWVlZLFxuICAgICAgICAgIG51bWJlcjogX05VTUJFUlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcklkLCByZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICByZXMgPSB7XG4gICAgICAgIF9lcnJvcjogZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdGNoZWNrX21haW5fYXR0YWNoOiAoaW5zX2lkLCBuYW1lKS0+XHJcblx0XHRjaGVjayBpbnNfaWQsIFN0cmluZ1xyXG5cdFx0dXVmbG93TWFuYWdlci5jaGVja01haW5BdHRhY2goaW5zX2lkLCBuYW1lKVxyXG5cdFx0cmV0dXJuICdzdWNjZXNzJ1xyXG5cclxuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRyZW1vdmVfcmVsYXRlZDogKGluc19pZCwgcmVfaW5zX2lkKS0+XHJcblx0XHRjaGVjayhpbnNfaWQsIFN0cmluZylcclxuXHRcdGNoZWNrKHJlX2luc19pZCwgU3RyaW5nKVxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc19pZH0sIHtmaWVsZHM6IHtyZWxhdGVkX2luc3RhbmNlczogMX19KVxyXG5cclxuXHRcdGlmIGluc1xyXG5cdFx0XHRyZXMgPSBpbnMucmVsYXRlZF9pbnN0YW5jZXMgfHwgW11cclxuXHJcblx0XHRcdGluZGV4ID0gcmVzLmluZGV4T2YocmVfaW5zX2lkKVxyXG5cclxuXHRcdFx0aWYgaW5kZXggPiAtMVxyXG5cdFx0XHRcdHJlcy5yZW1vdmUoaW5kZXgpXHJcblxyXG5cdFx0XHRzZXRfb2JqID0gbmV3IE9iamVjdDtcclxuXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcclxuXHRcdFx0c2V0X29iai5yZWxhdGVkX2luc3RhbmNlcyA9IHJlc1xyXG5cclxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnNfaWR9LCB7JHNldDogc2V0X29ian0pXHJcblxyXG5cdHVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkOiAoaW5zX2lkLCByZWxhdGVkX2luc3RhbmNlcyktPlxyXG5cdFx0Y2hlY2soaW5zX2lkLCBTdHJpbmcpXHJcblx0XHRjaGVjayhyZWxhdGVkX2luc3RhbmNlcywgQXJyYXkpXHJcblxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc19pZCwgJG9yOiBbe3N1Ym1pdHRlcjogdGhpcy51c2VySWR9LCB7YXBwbGljYW50OiB0aGlzLnVzZXJJZH0sIHtpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV19LCB7ZmllbGRzOiB7c3RhdGU6IDF9fSlcclxuXHJcblx0XHRpZiBpbnNcclxuXHRcdFx0c2V0X29iaiA9IG5ldyBPYmplY3Q7XHJcblx0XHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XHJcblx0XHRcdHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZWxhdGVkX2luc3RhbmNlc1xyXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc19pZH0sIHskc2V0OiBzZXRfb2JqfSlcclxuXHJcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogIHJlbGF0ZWRfaW5zdGFuY2VzfX0sIHtmaWVsZHM6IHtfaWQ6IDEsIHZhbHVlczogMX19KS5mZXRjaCgpXHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgcmVtb3ZlX3JlbGF0ZWQ6IGZ1bmN0aW9uKGluc19pZCwgcmVfaW5zX2lkKSB7XG4gICAgdmFyIGluZGV4LCBpbnMsIHJlcywgc2V0X29iajtcbiAgICBjaGVjayhpbnNfaWQsIFN0cmluZyk7XG4gICAgY2hlY2socmVfaW5zX2lkLCBTdHJpbmcpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgcmVsYXRlZF9pbnN0YW5jZXM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zKSB7XG4gICAgICByZXMgPSBpbnMucmVsYXRlZF9pbnN0YW5jZXMgfHwgW107XG4gICAgICBpbmRleCA9IHJlcy5pbmRleE9mKHJlX2luc19pZCk7XG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICByZXMucmVtb3ZlKGluZGV4KTtcbiAgICAgIH1cbiAgICAgIHNldF9vYmogPSBuZXcgT2JqZWN0O1xuICAgICAgc2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG4gICAgICBzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG4gICAgICBzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVzO1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc19pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiBzZXRfb2JqXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkOiBmdW5jdGlvbihpbnNfaWQsIHJlbGF0ZWRfaW5zdGFuY2VzKSB7XG4gICAgdmFyIGlucywgc2V0X29iajtcbiAgICBjaGVjayhpbnNfaWQsIFN0cmluZyk7XG4gICAgY2hlY2socmVsYXRlZF9pbnN0YW5jZXMsIEFycmF5KTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zX2lkLFxuICAgICAgJG9yOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdWJtaXR0ZXI6IHRoaXMudXNlcklkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBhcHBsaWNhbnQ6IHRoaXMudXNlcklkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBpbmJveF91c2VyczogdGhpcy51c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNjX3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucykge1xuICAgICAgc2V0X29iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcbiAgICAgIHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcbiAgICAgIHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZWxhdGVkX2luc3RhbmNlcztcbiAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc19pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiBzZXRfb2JqXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgIF9pZDoge1xuICAgICAgICAkaW46IHJlbGF0ZWRfaW5zdGFuY2VzXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIF9pZDogMSxcbiAgICAgICAgdmFsdWVzOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdHVwZGF0ZUZsb3dQb3NpdGlvbjogKGRhdGEpIC0+XHJcblx0XHRkYi5mbG93X3Bvc2l0aW9ucy51cGRhdGUgeyBfaWQ6IGRhdGEuX2lkIH0sICRzZXQ6XHJcblx0XHRcdHJvbGU6IGRhdGEucm9sZVxyXG5cdFx0XHR1c2VyczogZGF0YS51c2Vyc1xyXG5cdFx0XHRvcmc6IGRhdGEub3JnXHJcblxyXG5cdHVwZGF0ZUZsb3dSb2xlOiAoZGF0YSkgLT5cclxuXHRcdGNvbnNvbGUubG9nIGRhdGEuX2lkXHJcblx0XHRjb25zb2xlLmxvZyBkYXRhLm5hbWVcclxuXHRcdGRiLmZsb3dfcm9sZXMudXBkYXRlIHsgX2lkOiBkYXRhLl9pZCB9LCAkc2V0OlxyXG5cdFx0XHRuYW1lOiBkYXRhLm5hbWUiLCJNZXRlb3IubWV0aG9kcyh7XG4gIHVwZGF0ZUZsb3dQb3NpdGlvbjogZnVuY3Rpb24oZGF0YSkge1xuICAgIHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy51cGRhdGUoe1xuICAgICAgX2lkOiBkYXRhLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgcm9sZTogZGF0YS5yb2xlLFxuICAgICAgICB1c2VyczogZGF0YS51c2VycyxcbiAgICAgICAgb3JnOiBkYXRhLm9yZ1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICB1cGRhdGVGbG93Um9sZTogZnVuY3Rpb24oZGF0YSkge1xuICAgIGNvbnNvbGUubG9nKGRhdGEuX2lkKTtcbiAgICBjb25zb2xlLmxvZyhkYXRhLm5hbWUpO1xuICAgIHJldHVybiBkYi5mbG93X3JvbGVzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGRhdGEuX2lkXG4gICAgfSwge1xuICAgICAgJHNldDoge1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdHN0YXJ0X2Zsb3c6IChzcGFjZSwgZmxvd0lkLCBzdGFydCkgLT5cclxuXHJcblx0XHRrZXlWYWx1ZSA9IGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmZpbmRPbmUoeyBzcGFjZTogc3BhY2UsIHVzZXI6IHRoaXMudXNlcklkLCBrZXk6ICdzdGFydF9mbG93cycgfSwgeyBmaWVsZHM6IHsgdmFsdWU6IDEgfSB9KVxyXG5cclxuXHRcdHN0YXJ0X2Zsb3dzID0ga2V5VmFsdWU/LnZhbHVlIHx8IFtdXHJcblxyXG5cdFx0aWYgc3RhcnRcclxuXHRcdFx0c3RhcnRfZmxvd3MucHVzaChmbG93SWQpXHJcblxyXG5cdFx0XHRzdGFydF9mbG93cyA9IF8udW5pcShzdGFydF9mbG93cylcclxuXHRcdGVsc2VcclxuXHRcdFx0c3RhcnRfZmxvd3MucmVtb3ZlKHN0YXJ0X2Zsb3dzLmluZGV4T2YoZmxvd0lkKSlcclxuXHJcblx0XHRpZiBrZXlWYWx1ZVxyXG5cdFx0XHRkYi5zdGVlZG9zX2tleXZhbHVlcy51cGRhdGUoeyBfaWQ6IGtleVZhbHVlLl9pZCB9LCB7IHNwYWNlOiBzcGFjZSwgdXNlcjogdGhpcy51c2VySWQsIGtleTogJ3N0YXJ0X2Zsb3dzJywgdmFsdWU6IHN0YXJ0X2Zsb3dzIH0pXHJcblx0XHRlbHNlXHJcblx0XHRcdGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmluc2VydCh7IHNwYWNlOiBzcGFjZSwgdXNlcjogdGhpcy51c2VySWQsIGtleTogJ3N0YXJ0X2Zsb3dzJywgdmFsdWU6IHN0YXJ0X2Zsb3dzIH0pXHJcblxyXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIHN0YXJ0X2Zsb3c6IGZ1bmN0aW9uKHNwYWNlLCBmbG93SWQsIHN0YXJ0KSB7XG4gICAgdmFyIGtleVZhbHVlLCBzdGFydF9mbG93cztcbiAgICBrZXlWYWx1ZSA9IGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlLFxuICAgICAgdXNlcjogdGhpcy51c2VySWQsXG4gICAgICBrZXk6ICdzdGFydF9mbG93cydcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdmFsdWU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzdGFydF9mbG93cyA9IChrZXlWYWx1ZSAhPSBudWxsID8ga2V5VmFsdWUudmFsdWUgOiB2b2lkIDApIHx8IFtdO1xuICAgIGlmIChzdGFydCkge1xuICAgICAgc3RhcnRfZmxvd3MucHVzaChmbG93SWQpO1xuICAgICAgc3RhcnRfZmxvd3MgPSBfLnVuaXEoc3RhcnRfZmxvd3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydF9mbG93cy5yZW1vdmUoc3RhcnRfZmxvd3MuaW5kZXhPZihmbG93SWQpKTtcbiAgICB9XG4gICAgaWYgKGtleVZhbHVlKSB7XG4gICAgICByZXR1cm4gZGIuc3RlZWRvc19rZXl2YWx1ZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBrZXlWYWx1ZS5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgc3BhY2U6IHNwYWNlLFxuICAgICAgICB1c2VyOiB0aGlzLnVzZXJJZCxcbiAgICAgICAga2V5OiAnc3RhcnRfZmxvd3MnLFxuICAgICAgICB2YWx1ZTogc3RhcnRfZmxvd3NcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGIuc3RlZWRvc19rZXl2YWx1ZXMuaW5zZXJ0KHtcbiAgICAgICAgc3BhY2U6IHNwYWNlLFxuICAgICAgICB1c2VyOiB0aGlzLnVzZXJJZCxcbiAgICAgICAga2V5OiAnc3RhcnRfZmxvd3MnLFxuICAgICAgICB2YWx1ZTogc3RhcnRfZmxvd3NcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdGdldF9pbnN0YW5jZV90cmFjZXM6IChpbnNfaWQpLT5cclxuXHRcdGlmICghdGhpcy51c2VySWQpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLFxyXG5cdFx0XHQnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nXVxyXG5cclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lIHtfaWQ6IGluc19pZH0sIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuaXNfZmluaXNoZWRcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5zdGVwXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuc3RhcnRfZGF0ZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLm5hbWVcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5maW5pc2hfZGF0ZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmp1ZGdlXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuX2lkXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaXNfZmluaXNoZWRcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy51c2VyXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlclwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfbmFtZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMudHlwZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnN0YXJ0X2RhdGVcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5kZXNjcmlwdGlvblwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX3JlYWRcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5qdWRnZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZpbmlzaF9kYXRlXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyX25hbWVcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5mcm9tX3VzZXJcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5jY19kZXNjcmlwdGlvblwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnRyYWNlXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9zcGFjZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfaW5zdGFuY2VcIjogMVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgIWluc1xyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRyZXR1cm4gaW5zPy50cmFjZXNcclxuXHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgZ2V0X2luc3RhbmNlX3RyYWNlczogZnVuY3Rpb24oaW5zX2lkKSB7XG4gICAgdmFyIGlucywgbWluaUFwcHJvdmVGaWVsZHM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJywgJ2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJ107XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmlzX2ZpbmlzaGVkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLnN0ZXBcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuc3RhcnRfZGF0ZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5uYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmZpbmlzaF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmp1ZGdlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLl9pZFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5pc19maW5pc2hlZFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy51c2VyXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9uYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnR5cGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuc3RhcnRfZGF0ZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5kZXNjcmlwdGlvblwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5pc19yZWFkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmp1ZGdlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZpbmlzaF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZyb21fdXNlcl9uYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZyb21fdXNlclwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5jY19kZXNjcmlwdGlvblwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy50cmFjZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5mb3J3YXJkX3NwYWNlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfaW5zdGFuY2VcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBpbnMgIT0gbnVsbCA/IGlucy50cmFjZXMgOiB2b2lkIDA7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHQnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcyktPlxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGlmICFzcGFjZVxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZClcclxuXHJcblx0XHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlc1xyXG5cclxuXHQnZ2V0X2JhdGNoX2luc3RhbmNlc19jb3VudCc6IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcyktPlxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGlmICFzcGFjZVxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZClcclxuXHJcblx0XHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlcz8ubGVuZ3RoIHx8IDBcclxuXHJcblx0J2dldF9teV9hcHByb3Zlcyc6IChpbnN0YW5jZUlkcyktPlxyXG5cclxuXHRcdHRoYXQgPSB0aGlzXHJcblxyXG5cdFx0aWYgIXRoYXQudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdG15QXBwcm92ZXMgPSBuZXcgQXJyYXkoKVxyXG5cclxuXHRcdGluc3RhbmNlSWRzLmZvckVhY2ggKGluc0lkKS0+XHJcblx0XHRcdG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlKGluc0lkLCB0aGF0LnVzZXJJZClcclxuXHRcdFx0aWYgbXlfYXBwcm92ZVxyXG5cdFx0XHRcdG15QXBwcm92ZXMucHVzaChteV9hcHByb3ZlKVxyXG5cclxuXHRcdHJldHVybiBteUFwcHJvdmVzXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICAnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IGZ1bmN0aW9uKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKSB7XG4gICAgdmFyIF9iYXRjaF9pbnN0YW5jZXM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNwYWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9iYXRjaF9pbnN0YW5jZXMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIHRoaXMudXNlcklkKTtcbiAgICByZXR1cm4gX2JhdGNoX2luc3RhbmNlcztcbiAgfSxcbiAgJ2dldF9iYXRjaF9pbnN0YW5jZXNfY291bnQnOiBmdW5jdGlvbihzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcykge1xuICAgIHZhciBfYmF0Y2hfaW5zdGFuY2VzO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZCk7XG4gICAgcmV0dXJuIChfYmF0Y2hfaW5zdGFuY2VzICE9IG51bGwgPyBfYmF0Y2hfaW5zdGFuY2VzLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgfSxcbiAgJ2dldF9teV9hcHByb3Zlcyc6IGZ1bmN0aW9uKGluc3RhbmNlSWRzKSB7XG4gICAgdmFyIG15QXBwcm92ZXMsIHRoYXQ7XG4gICAgdGhhdCA9IHRoaXM7XG4gICAgaWYgKCF0aGF0LnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBteUFwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgaW5zdGFuY2VJZHMuZm9yRWFjaChmdW5jdGlvbihpbnNJZCkge1xuICAgICAgdmFyIG15X2FwcHJvdmU7XG4gICAgICBteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnNJZCwgdGhhdC51c2VySWQpO1xuICAgICAgaWYgKG15X2FwcHJvdmUpIHtcbiAgICAgICAgcmV0dXJuIG15QXBwcm92ZXMucHVzaChteV9hcHByb3ZlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbXlBcHByb3ZlcztcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdGNoYW5nZV9mbG93X3N0YXRlOiAoZmxvd3MpIC0+XHJcblx0XHRjaGVjayBmbG93cywgQXJyYXlcclxuXHJcblx0XHRfdXNlcklkID0gdGhpcy51c2VySWRcclxuXHJcblx0XHRpZiAhX3VzZXJJZFxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRmbG93cy5mb3JFYWNoIChmbG93KSAtPlxyXG5cdFx0XHRzcGFjZUlkID0gZmxvdy5zcGFjZVxyXG5cdFx0XHRmb3JtSWQgPSBmbG93LmZvcm1cclxuXHRcdFx0Zmxvd0lkID0gZmxvdy5pZFxyXG5cdFx0XHRzdGF0ZSA9IGZsb3cuc3RhdGVcclxuXHJcblx0XHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCBfdXNlcklkKVxyXG5cdFx0XHRcdHRocm93ICBNZXRlb3IuRXJyb3IoNDAxLCBcIk5vIHBlcm1pc3Npb25cIilcclxuXHJcblx0XHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmb3JtSWQgfSwgeyBmaWVsZHM6IHsgaGlzdG9yeXM6IDAgfSB9KVxyXG5cclxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGZsb3dJZCB9LCB7IGZpZWxkczogeyBoaXN0b3J5czogMCB9IH0pXHJcblxyXG5cdFx0XHRpZiBzdGF0ZSAhPSAnZW5hYmxlZCcgJiYgc3RhdGUgIT0gJ2Rpc2FibGVkJ1xyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcInN0YXRl5peg5pWIXCIpXHJcblxyXG5cdFx0XHRpZiAhZm9ybVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZvcm3ml6DmlYhcIilcclxuXHJcblx0XHRcdGlmICFmbG93XHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZmxvd+aXoOaViFwiKVxyXG5cclxuXHRcdFx0aWYgIWZvcm0uaXNfdmFsaWRcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvlvJXnlKjnmoTooajljZVbI3tmb3JtLm5hbWV9XemqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpeihqOWNleiuvue9rlwiKVxyXG5cclxuXHRcdFx0aWYgIWZsb3cuaXNfdmFsaWRcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzor7fmiZPlvIDmtYHnqIvorr7orqHlmajmo4Dmn6XmtYHnqIvorr7nva5cIilcclxuXHJcblx0XHRcdGlmICFbJ25ldycsICdtb2RpZnknLCAnZGVsZXRlJ10uaW5jbHVkZXMoZmxvdy5mbG93dHlwZSlcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIxmbG93dHlwZeWAvOW/hemhu+aYr25ld+OAgW1vZGlmeeOAgWRlbGV0ZeWFtuS4reS5i+S4gFwiKVxyXG5cclxuXHRcdFx0aWYgIV8uaXNBcnJheShmbG93LmN1cnJlbnQuc3RlcHMpXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5rWB56iL55qE5q2l6aqk5LiN6IO95Li656m6XCIpXHJcblxyXG5cdFx0XHRpZiBfLnVuaXEoZmxvdy5jdXJyZW50LnN0ZXBzLCAnbmFtZScpLmxlbmd0aCAhPSBmbG93LmN1cnJlbnQuc3RlcHMubGVuZ3RoXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5ZCM5LiA5Liq5rWB56iL5LiL55qE5q2l6aqk55qE5ZCN56ew5LiN6IO96YeN5aSNXCIpXHJcblxyXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxyXG5cclxuXHRcdFx0aWYgc3RhdGUgPT0gJ2VuYWJsZWQnXHJcblx0XHRcdFx0I+a1geeoi+WQr+eUqOWJje+8jOagoemqjOWFtuKAnOaMh+WumuWOhuWPsuatpemqpOKAneWxnuaAp+S4reiiq+W8leeUqOeahOatpemqpOaYr+WQpuWtmOWcqOS4lOiDveiiq+aJvuWIsO+8iOS7hemZkOS6jua1geeoi+eahOacgOaWsOeJiO+8iVxyXG5cdFx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoIChzdGVwKSAtPlxyXG5cdFx0XHRcdFx0aWYgWydzcGVjaWZ5U3RlcFVzZXInLCAnc3BlY2lmeVN0ZXBSb2xlJ10uaW5jbHVkZXMoc3RlcC5kZWFsX3R5cGUpXHJcblx0XHRcdFx0XHRcdGlmICFzdGVwLmFwcHJvdmVyX3N0ZXBcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmraXpqqRbI3tzdGVwLm5hbWV9XeS4reeahOaMh+WumuWOhuWPsuatpemqpOS4jeWtmOWcqOOAglwiKVxyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0c3BlY2lmeVN0ZXAgPSBfLmZpbmQgZmxvdy5jdXJyZW50LnN0ZXBzLCAoX3N0ZXApIC0+XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc3RlcC5hcHByb3Zlcl9zdGVwID09IF9zdGVwLl9pZFxyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAhc3BlY2lmeVN0ZXBcclxuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFsje3N0ZXAubmFtZX1d5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpXHJcblxyXG5cdFx0XHRcdGZvcm1fY3VycmVudF9maWVsZHNfY29kZSA9IGZvcm0uY3VycmVudC5maWVsZHMuZ2V0UHJvcGVydHkoXCJjb2RlXCIpXHJcblxyXG5cdFx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoIChzdGVwKSAtPlxyXG5cdFx0XHRcdFx0c3RlcC5maWVsZHNfbW9kaWZpYWJsZSA9IF8uaW50ZXJzZWN0aW9uKHN0ZXAuZmllbGRzX21vZGlmaWFibGUsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSlcclxuXHJcblx0XHRcdFx0I+WmguaenCDmtYHnqIvlr7nlupTooajljZUg5piv5YGc55So55qEIOWImeWQr+eUqFxyXG5cdFx0XHRcdGlmIGZvcm0uc3RhdGUgPT0gJ2Rpc2FibGVkJ1xyXG5cdFx0XHRcdFx0ZGIuZm9ybXMudXBkYXRlKHtfaWQ6IGZvcm0uX2lkfSwgeyRzZXQ6IHtcInN0YXRlXCI6IFwiZW5hYmxlZFwiLCBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkfX0pXHJcblxyXG5cdFx0XHRcdGZsb3cuY3VycmVudC5tb2RpZmllZCA9IG5vd1xyXG5cdFx0XHRcdGZsb3cuY3VycmVudC5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0Zmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5ID0gX3VzZXJJZFxyXG5cclxuXHRcdFx0XHRkYi5mbG93cy51cGRhdGUoeyBfaWQ6IGZsb3cuX2lkIH0sIHsgJHNldDogeyBcInN0YXRlXCI6IFwiZW5hYmxlZFwiLCBcImN1cnJlbnRcIjogZmxvdy5jdXJyZW50IH0gfSlcclxuXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHQj56aB55So5rWB56iLXHJcblx0XHRcdFx0ZGIuZmxvd3MudXBkYXRlKHtfaWQ6IGZsb3cuX2lkfSwgeyRzZXQ6IHtcInN0YXRlXCI6IFwiZGlzYWJsZWRcIiwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZH19KVxyXG5cclxuXHRcdFx0XHQjIOWIpOaWreihqOWNleaJgOaciea1geeoi+aYr+WQpuW3sue7j+WFqOmDqOWBnOeUqCDlpoLmnpzlt7Llhajpg6jlgZznlKgg5YiZ5L+u5pS56KGo5Y2V54q25oCB5Li65YGc55SoXHJcblx0XHRcdFx0X2Zsb3dzID0gZGIuZmxvd3MuZmluZCh7IGZvcm06IGZvcm0uX2lkIH0sIHsgZmllbGRzOiB7IF9pZDogMSwgc3RhdGU6IDEgfSB9KS5mZXRjaCgpXHJcblxyXG5cdFx0XHRcdF9mbG93c19zdGF0ZSA9IF9mbG93cy5nZXRQcm9wZXJ0eShcInN0YXRlXCIpXHJcblxyXG5cdFx0XHRcdGlmICFfZmxvd3Nfc3RhdGUuaW5jbHVkZXMoJ2VuYWJsZWQnKVxyXG5cdFx0XHRcdFx0ZGIuZm9ybXMudXBkYXRlKHtfaWQ6IGZvcm0uX2lkfSwgeyRzZXQ6IHtcInN0YXRlXCI6IFwiZGlzYWJsZWRcIiwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZH19KVxyXG5cclxuXHJcblxyXG5cclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBjaGFuZ2VfZmxvd19zdGF0ZTogZnVuY3Rpb24oZmxvd3MpIHtcbiAgICB2YXIgX3VzZXJJZDtcbiAgICBjaGVjayhmbG93cywgQXJyYXkpO1xuICAgIF91c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgICBpZiAoIV91c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGZsb3dzLmZvckVhY2goZnVuY3Rpb24oZmxvdykge1xuICAgICAgdmFyIF9mbG93cywgX2Zsb3dzX3N0YXRlLCBmbG93SWQsIGZvcm0sIGZvcm1JZCwgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlLCBub3csIHNwYWNlSWQsIHN0YXRlO1xuICAgICAgc3BhY2VJZCA9IGZsb3cuc3BhY2U7XG4gICAgICBmb3JtSWQgPSBmbG93LmZvcm07XG4gICAgICBmbG93SWQgPSBmbG93LmlkO1xuICAgICAgc3RhdGUgPSBmbG93LnN0YXRlO1xuICAgICAgaWYgKCFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCBfdXNlcklkKSkge1xuICAgICAgICB0aHJvdyBNZXRlb3IuRXJyb3IoNDAxLCBcIk5vIHBlcm1pc3Npb25cIik7XG4gICAgICB9XG4gICAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZm9ybUlkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGhpc3RvcnlzOiAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3dJZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBoaXN0b3J5czogMFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChzdGF0ZSAhPT0gJ2VuYWJsZWQnICYmIHN0YXRlICE9PSAnZGlzYWJsZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcInN0YXRl5peg5pWIXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmb3JtKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZvcm3ml6DmlYhcIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZsb3cpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZmxvd+aXoOaViFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZm9ybS5pc192YWxpZCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvlvJXnlKjnmoTooajljZVbXCIgKyBmb3JtLm5hbWUgKyBcIl3pqozor4HmnKrpgJrov4fvvIzor7fmiZPlvIDmtYHnqIvorr7orqHlmajmo4Dmn6XooajljZXorr7nva5cIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZsb3cuaXNfdmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l5rWB56iL6K6+572uXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFbJ25ldycsICdtb2RpZnknLCAnZGVsZXRlJ10uaW5jbHVkZXMoZmxvdy5mbG93dHlwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yMZmxvd3R5cGXlgLzlv4XpobvmmK9uZXfjgIFtb2RpZnnjgIFkZWxldGXlhbbkuK3kuYvkuIBcIik7XG4gICAgICB9XG4gICAgICBpZiAoIV8uaXNBcnJheShmbG93LmN1cnJlbnQuc3RlcHMpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOa1geeoi+eahOatpemqpOS4jeiDveS4uuepulwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChfLnVuaXEoZmxvdy5jdXJyZW50LnN0ZXBzLCAnbmFtZScpLmxlbmd0aCAhPT0gZmxvdy5jdXJyZW50LnN0ZXBzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzlkIzkuIDkuKrmtYHnqIvkuIvnmoTmraXpqqTnmoTlkI3np7DkuI3og73ph43lpI1cIik7XG4gICAgICB9XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIGlmIChzdGF0ZSA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICAgIGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICB2YXIgc3BlY2lmeVN0ZXA7XG4gICAgICAgICAgaWYgKFsnc3BlY2lmeVN0ZXBVc2VyJywgJ3NwZWNpZnlTdGVwUm9sZSddLmluY2x1ZGVzKHN0ZXAuZGVhbF90eXBlKSkge1xuICAgICAgICAgICAgaWYgKCFzdGVwLmFwcHJvdmVyX3N0ZXApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkW1wiICsgc3RlcC5uYW1lICsgXCJd5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3BlY2lmeVN0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbihfc3RlcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGVwLmFwcHJvdmVyX3N0ZXAgPT09IF9zdGVwLl9pZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmICghc3BlY2lmeVN0ZXApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmraXpqqRbXCIgKyBzdGVwLm5hbWUgKyBcIl3kuK3nmoTmjIflrprljoblj7LmraXpqqTkuI3lrZjlnKjjgIJcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUgPSBmb3JtLmN1cnJlbnQuZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKTtcbiAgICAgICAgZmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICAgIHJldHVybiBzdGVwLmZpZWxkc19tb2RpZmlhYmxlID0gXy5pbnRlcnNlY3Rpb24oc3RlcC5maWVsZHNfbW9kaWZpYWJsZSwgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChmb3JtLnN0YXRlID09PSAnZGlzYWJsZWQnKSB7XG4gICAgICAgICAgZGIuZm9ybXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogZm9ybS5faWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgIFwic3RhdGVcIjogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmbG93LmN1cnJlbnQubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIGZsb3cuY3VycmVudC5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBmbG93LmN1cnJlbnQubW9kaWZpZWRfYnkgPSBfdXNlcklkO1xuICAgICAgICByZXR1cm4gZGIuZmxvd3MudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGZsb3cuX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBcInN0YXRlXCI6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgXCJjdXJyZW50XCI6IGZsb3cuY3VycmVudFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYi5mbG93cy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogZmxvdy5faWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgIFwic3RhdGVcIjogXCJkaXNhYmxlZFwiLFxuICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdyxcbiAgICAgICAgICAgIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdyxcbiAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgX2Zsb3dzID0gZGIuZmxvd3MuZmluZCh7XG4gICAgICAgICAgZm9ybTogZm9ybS5faWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgX2lkOiAxLFxuICAgICAgICAgICAgc3RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICAgIF9mbG93c19zdGF0ZSA9IF9mbG93cy5nZXRQcm9wZXJ0eShcInN0YXRlXCIpO1xuICAgICAgICBpZiAoIV9mbG93c19zdGF0ZS5pbmNsdWRlcygnZW5hYmxlZCcpKSB7XG4gICAgICAgICAgcmV0dXJuIGRiLmZvcm1zLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZvcm0uX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICBcInN0YXRlXCI6IFwiZGlzYWJsZWRcIixcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LFxuICAgICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHJcblx0aGlkZV9pbnN0YW5jZTogKGluc0lkLCBpc19oaWRkZW4pIC0+XHJcblx0XHRpZiAhdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0Y2hlY2soaW5zSWQsIFN0cmluZylcclxuXHRcdGNoZWNrKGlzX2hpZGRlbiwgQm9vbGVhbilcclxuXHJcblx0XHR1c2VySWQgPSB0aGlzLnVzZXJJZFxyXG5cclxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHsgZmllbGRzOiB7IHN0YXRlOiAxLCBmbG93OiAxLCBzcGFjZTogMSB9IH0pXHJcblxyXG5cdFx0aWYgbm90IGluc3RhbmNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2VXCIpXHJcblxyXG5cdFx0aWYgaW5zdGFuY2Uuc3RhdGUgaXNudCAnY29tcGxldGVkJ1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeKtuaAgeS4jeaYr+W3sue7k+adn1wiKVxyXG5cclxuXHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxyXG5cdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgdXNlcklkKVxyXG5cdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShpbnN0YW5jZS5zcGFjZSwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcclxuXHRcdGlmIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZCkpXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpXHJcblxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZShpbnNJZCwgeyAkc2V0OiB7IGlzX2hpZGRlbjogaXNfaGlkZGVuIH0gfSlcclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBoaWRlX2luc3RhbmNlOiBmdW5jdGlvbihpbnNJZCwgaXNfaGlkZGVuKSB7XG4gICAgdmFyIGluc3RhbmNlLCBwZXJtaXNzaW9ucywgc3BhY2UsIHVzZXJJZDtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNoZWNrKGluc0lkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGlzX2hpZGRlbiwgQm9vbGVhbik7XG4gICAgdXNlcklkID0gdGhpcy51c2VySWQ7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBmbG93OiAxLFxuICAgICAgICBzcGFjZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2VXCIpO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGUgIT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeKtuaAgeS4jeaYr+W3sue7k+adn1wiKTtcbiAgICB9XG4gICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgdXNlcklkKTtcbiAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGluc3RhbmNlLnNwYWNlLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgYWRtaW5zOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKSkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpO1xuICAgIH1cbiAgICBkYi5pbnN0YW5jZXMudXBkYXRlKGluc0lkLCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIGlzX2hpZGRlbjogaXNfaGlkZGVuXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRnZXRJbnN0YW5jZVZhbHVlczogKGluc0lkKS0+XHJcblx0XHRpZiAoIXRoaXMudXNlcklkKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zSWR9LCB7ZmllbGRzOiB7dmFsdWVzOiAxfX0pPy52YWx1ZXMiLCJNZXRlb3IubWV0aG9kcyh7XG4gIGdldEluc3RhbmNlVmFsdWVzOiBmdW5jdGlvbihpbnNJZCkge1xuICAgIHZhciByZWY7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gKHJlZiA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdmFsdWVzOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwO1xuICB9XG59KTtcbiIsIkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKVxyXG5cclxuZ2V0SW5zdGFuY2VSZWFkT25seSA9IChyZXEsIHJlcywgbmV4dCwgb3B0aW9ucykgLT5cclxuXHJcblx0dXNlciA9IFN0ZWVkb3MuZ2V0QVBJTG9naW5Vc2VyKHJlcSwgcmVzKVxyXG5cclxuXHRpZiByZXE/LnF1ZXJ5Py5hY2Nlc3NfdG9rZW5cclxuXHRcdHVzZXJJZCA9IFN0ZWVkb3MuZ2V0VXNlcklkRnJvbUFjY2Vzc1Rva2VuKHJlcS5xdWVyeS5hY2Nlc3NfdG9rZW4pXHJcblx0XHRpZiB1c2VySWRcclxuXHRcdFx0dXNlciA9IE1ldGVvci51c2Vycy5maW5kT25lKHtfaWQ6IHVzZXJJZH0pXHJcblxyXG5cdHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlXHJcblxyXG5cdGluc3RhbmNlSWQgPSByZXEucGFyYW1zLmluc3RhbmNlX2lkXHJcblxyXG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pO1xyXG5cclxuXHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtfaWQ6IHNwYWNlSWR9KTtcclxuXHJcblx0aGlkZV90cmFjZXMgPSByZXEucXVlcnk/LmhpZGVfdHJhY2VzXHJcblxyXG5cdGlmICFvcHRpb25zXHJcblx0XHRvcHRpb25zID0ge3Nob3dUcmFjZTogdHJ1ZX1cclxuXHRlbHNlXHJcblx0XHRvcHRpb25zLnNob3dUcmFjZSA9IHRydWVcclxuXHJcblx0aWYgaGlkZV90cmFjZXMgaXMgXCIxXCJcclxuXHRcdGlmIG9wdGlvbnNcclxuXHRcdFx0b3B0aW9ucy5zaG93VHJhY2UgPSBmYWxzZVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRvcHRpb25zID0ge3Nob3dUcmFjZTogZmFsc2V9XHJcblxyXG5cdGlmICFvcHRpb25zLnNob3dBdHRhY2htZW50c1xyXG5cdFx0b3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlXHJcblxyXG5cdGlmICFzcGFjZVxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0aWYgICFpbnN0YW5jZVxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgaW5zdGFuY2VcIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0aWYgIXVzZXJcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDQwMSxcclxuXHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtQXV0aC1Ub2tlbixYLVVzZXItSWRcIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0aWYgaW5zdGFuY2Uuc3BhY2UgIT0gc3BhY2VJZFxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdHJldHVybjtcclxuXHJcblxyXG5cclxuXHRzcGFjZVVzZXJDb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyB1c2VyOiB1c2VyLl9pZCwgc3BhY2U6IHNwYWNlSWQgfSkuY291bnQoKVxyXG5cclxuXHRpZiBzcGFjZVVzZXJDb3VudCBpcyAwXHJcblx0XHRpZiAhc3BhY2VcclxuXHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRjb2RlOiA0MDEsXHJcblx0XHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc2FwY2VVc2VyXCIsXHJcblx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHQj5qCh6aqMdXNlcuaYr+WQpuWvuWluc3RhbmNl5pyJ5p+l55yL5p2D6ZmQXHJcblx0X2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSlcclxuXHJcblx0aWYgIV9oYXNQZXJtaXNzaW9uICAmJiBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VcclxuXHRcdF9wYXJlbnRfaW5zdGFuY2VzID0gXy51bmlvbihbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlXSwgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyB8fCBbXSlcclxuXHJcblx0XHRfaGFzUGVybWlzc2lvbiA9IF8uZmluZCBfcGFyZW50X2luc3RhbmNlcywgKF9wYXJlbnRfaWQpLT5cclxuXHRcdFx0X3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOl9wYXJlbnRfaWR9LCB7ZmllbGRzOiB7dHJhY2VzOiAwfX0pXHJcblxyXG5cdFx0XHRyZXR1cm4gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgX3BhcmVudF9pbnMpXHJcblxyXG5cdGlmICFfaGFzUGVybWlzc2lvblxyXG5cdFx0X2xvY2FsZSA9IFN0ZWVkb3MubG9jYWxlKHVzZXIuX2lkLCB0cnVlKVxyXG5cdFx0ZXJyb3IgPSBUQVBpMThuLl9fKFwiaW5zdGFuY2VfcGVybWlzc2lvbnNfZXJyb3JcIiwge30sIF9sb2NhbGUpXHJcblx0XHRyZXMuY2hhcnNldCA9IFwidXRmLThcIlxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwiZXJyb3JcIjogZXJyb3IsXHJcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcclxuXHRkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKTtcclxuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKVxyXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXHJcblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcclxuXHRyZXMuZW5kKGh0bWwpXHJcblxyXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWRcIiwgZ2V0SW5zdGFuY2VSZWFkT25seVxyXG5cclxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkLzppbnN0YW5jZV9uYW1lXCIsIChyZXEsIHJlcywgbmV4dCktPlxyXG5cdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQnKTtcclxuXHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JytlbmNvZGVVUkkocmVxLnBhcmFtcy5pbnN0YW5jZV9uYW1lKSk7XHJcblx0cmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJylcclxuXHJcblx0b3B0aW9ucyA9IHthYnNvbHV0ZTogdHJ1ZX1cclxuXHJcblx0cmV0dXJuIGdldEluc3RhbmNlUmVhZE9ubHkocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpXHJcbiMjI1xyXG5cdOiOt+WPlueUs+ivt+WNleWIl+ihqO+8mlxyXG4gICAgZmluYWxfZGVjaXNpb27vvJrlrqHmibnnu5PmnpxcclxuICAgIHN0YXRlOiDnlLPor7fljZXnirbmgIFcclxuIyMjXHJcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9pbnN0YW5jZXNcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cclxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0cmV0dXJuIDtcclxuXHJcblx0dXNlcl9pZCA9IHJlcS51c2VySWRcclxuXHJcblx0c3BhY2VJZCA9IHJlcS5oZWFkZXJzW1wieC1zcGFjZS1pZFwiXVxyXG5cclxuXHRpZiBub3Qgc3BhY2VJZFxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1TcGFjZS1JZFwiLFxyXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHRmbG93SWQgPSByZXEucXVlcnk/LmZsb3dJZFxyXG5cclxuXHRpZiAhZmxvd0lkXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiA0MDAsXHJcblx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBmbG93SWRcIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0cXVlcnkgPSB7fVxyXG5cclxuXHRyZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXHJcblxyXG5cdGZsb3dJZHMgPSBmbG93SWQuc3BsaXQoXCIsXCIpXHJcblxyXG5cclxuXHRmbG93cyA9IGRiLmZsb3dzLmZpbmQoe19pZDogeyRpbjogZmxvd0lkc319KS5mZXRjaCgpXHJcblxyXG5cdGkgPSAwXHJcblx0d2hpbGUgaSA8IGZsb3dzLmxlbmd0aFxyXG5cdFx0ZiA9IGZsb3dzW2ldXHJcblx0XHRzcGFjZVVzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtzcGFjZTogZi5zcGFjZSwgdXNlcjogdXNlcl9pZH0pXHJcblx0XHRpZiAhc3BhY2VVc2VyXHJcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXHJcblx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0ZWxzZVxyXG5cclxuXHQjXHTmmK/lkKblt6XkvZzljLrnrqHnkIblkZhcclxuXHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCB1c2VyX2lkKVxyXG5cdFx0XHRzcGFjZVVzZXJPcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcclxuXHRcdFx0XHRfaWQ6IHtcclxuXHRcdFx0XHRcdCRpbjogc3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmZldGNoKCk7XHJcblxyXG5cdFx0XHRpZiAhV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZiwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKSAmJiAhV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucylcclxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyAje2YuX2lkfVwiLFxyXG5cdFx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRpKytcclxuXHJcblxyXG5cdHF1ZXJ5LmZsb3cgPSB7JGluOiBmbG93SWRzfVxyXG5cclxuXHRxdWVyeS5zcGFjZSA9IHNwYWNlSWRcclxuXHJcblx0aWYgcmVxLnF1ZXJ5Py5zeW5jX3Rva2VuXHJcblx0XHRzeW5jX3Rva2VuID0gbmV3IERhdGUoTnVtYmVyKHJlcS5xdWVyeS5zeW5jX3Rva2VuKSlcclxuXHRcdHF1ZXJ5Lm1vZGlmaWVkID0geyRndDogc3luY190b2tlbn1cclxuXHJcblx0aWYgcmVxLnF1ZXJ5Py5maW5hbF9kZWNpc2lvblxyXG5cdFx0cXVlcnkuZmluYWxfZGVjaXNpb24gPSB7JGluIDogcmVxLnF1ZXJ5LmZpbmFsX2RlY2lzaW9uLnNwbGl0KFwiLFwiKX1cclxuXHRlbHNlXHJcblx0XHRxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHskbmluOiBbXCJ0ZXJtaW5hdGVkXCIsIFwicmVqZWN0ZWRcIl19XHJcblxyXG5cdGlmIHJlcS5xdWVyeT8uc3RhdGVcclxuXHRcdHF1ZXJ5LnN0YXRlID0geyRpbjogcmVxLnF1ZXJ5LnN0YXRlLnNwbGl0KFwiLFwiKX1cclxuXHRlbHNlXHJcblx0XHRxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCJcclxuXHJcbiNcdOacgOWkmui/lOWbnjUwMOadoeaVsOaNrlxyXG5cdGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgdHJhY2VzOiAwLCBhdHRhY2htZW50czogMH0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5mZXRjaCgpXHJcblx0aW5zdGFuY2VzLmZvckVhY2ggKGluc3RhbmNlKS0+XHJcblxyXG5cdFx0YXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxyXG5cclxuXHRcdGluc3RhbmNlLmF0dGFjaG1lbnRzID0gYXR0YWNobWVudHNcclxuXHJcblxyXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcclxuXHRcdFx0XHRcInN5bmNfdG9rZW5cIjogcmV0X3N5bmNfdG9rZW5cclxuXHRcdFx0XHRcImRhdGFcIjogaW5zdGFuY2VzXHJcblx0cmV0dXJuO1xyXG4iLCJ2YXIgQ29va2llcywgZ2V0SW5zdGFuY2VSZWFkT25seTtcblxuQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpO1xuXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpIHtcbiAgdmFyIF9oYXNQZXJtaXNzaW9uLCBfbG9jYWxlLCBfcGFyZW50X2luc3RhbmNlcywgZGF0YUJ1ZiwgZXJyb3IsIGhpZGVfdHJhY2VzLCBodG1sLCBpbnN0YW5jZSwgaW5zdGFuY2VJZCwgcmVmLCByZWYxLCBzcGFjZSwgc3BhY2VJZCwgc3BhY2VVc2VyQ291bnQsIHVzZXIsIHVzZXJJZDtcbiAgdXNlciA9IFN0ZWVkb3MuZ2V0QVBJTG9naW5Vc2VyKHJlcSwgcmVzKTtcbiAgaWYgKHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5hY2Nlc3NfdG9rZW4gOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICB1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKTtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICB1c2VyID0gTWV0ZW9yLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHVzZXJJZFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZDtcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pO1xuICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICBfaWQ6IHNwYWNlSWRcbiAgfSk7XG4gIGhpZGVfdHJhY2VzID0gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmhpZGVfdHJhY2VzIDogdm9pZCAwO1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgc2hvd1RyYWNlOiB0cnVlXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLnNob3dUcmFjZSA9IHRydWU7XG4gIH1cbiAgaWYgKGhpZGVfdHJhY2VzID09PSBcIjFcIikge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICBvcHRpb25zLnNob3dUcmFjZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBzaG93VHJhY2U6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBpZiAoIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzKSB7XG4gICAgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlO1xuICB9XG4gIGlmICghc3BhY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghdXNlcikge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5zdGFuY2Uuc3BhY2UgIT09IHNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNwYWNlVXNlckNvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgdXNlcjogdXNlci5faWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSkuY291bnQoKTtcbiAgaWYgKHNwYWNlVXNlckNvdW50ID09PSAwKSB7XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgX2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSk7XG4gIGlmICghX2hhc1Blcm1pc3Npb24gJiYgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XG4gICAgX3BhcmVudF9pbnN0YW5jZXMgPSBfLnVuaW9uKFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VdLCBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIHx8IFtdKTtcbiAgICBfaGFzUGVybWlzc2lvbiA9IF8uZmluZChfcGFyZW50X2luc3RhbmNlcywgZnVuY3Rpb24oX3BhcmVudF9pZCkge1xuICAgICAgdmFyIF9wYXJlbnRfaW5zO1xuICAgICAgX3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogX3BhcmVudF9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0cmFjZXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgX3BhcmVudF9pbnMpO1xuICAgIH0pO1xuICB9XG4gIGlmICghX2hhc1Blcm1pc3Npb24pIHtcbiAgICBfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpO1xuICAgIGVycm9yID0gVEFQaTE4bi5fXyhcImluc3RhbmNlX3Blcm1pc3Npb25zX2Vycm9yXCIsIHt9LCBfbG9jYWxlKTtcbiAgICByZXMuY2hhcnNldCA9IFwidXRmLThcIjtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogZXJyb3IsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtXCIgKyAoZGF0YUJ1Zi5sZW5ndGggLSAxKSArIFwiL1wiICsgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgcmV0dXJuIHJlcy5lbmQoaHRtbCk7XG59O1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWRcIiwgZ2V0SW5zdGFuY2VSZWFkT25seSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZC86aW5zdGFuY2VfbmFtZVwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgb3B0aW9ucztcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JyArIGVuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcbiAgcmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJyk7XG4gIG9wdGlvbnMgPSB7XG4gICAgYWJzb2x1dGU6IHRydWVcbiAgfTtcbiAgcmV0dXJuIGdldEluc3RhbmNlUmVhZE9ubHkocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpO1xufSk7XG5cblxuLypcblx06I635Y+W55Sz6K+35Y2V5YiX6KGo77yaXG4gICAgZmluYWxfZGVjaXNpb27vvJrlrqHmibnnu5PmnpxcbiAgICBzdGF0ZTog55Sz6K+35Y2V54q25oCBXG4gKi9cblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L2luc3RhbmNlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZiwgZmxvd0lkLCBmbG93SWRzLCBmbG93cywgaSwgaW5zdGFuY2VzLCBxdWVyeSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZXRfc3luY190b2tlbiwgc3BhY2VJZCwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zLCBzeW5jX3Rva2VuLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHNwYWNlSWQgPSByZXEuaGVhZGVyc1tcIngtc3BhY2UtaWRcIl07XG4gIGlmICghc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBmbG93SWQgPSAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmZsb3dJZCA6IHZvaWQgMDtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgZmxvd0lkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBxdWVyeSA9IHt9O1xuICByZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBmbG93SWRzID0gZmxvd0lkLnNwbGl0KFwiLFwiKTtcbiAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogZmxvd0lkc1xuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgaSA9IDA7XG4gIHdoaWxlIChpIDwgZmxvd3MubGVuZ3RoKSB7XG4gICAgZiA9IGZsb3dzW2ldO1xuICAgIHNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IGYuc3BhY2UsXG4gICAgICB1c2VyOiB1c2VyX2lkXG4gICAgfSk7XG4gICAgaWYgKCFzcGFjZVVzZXIpIHtcbiAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogNDAxLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuXG4gICAgfVxuICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgdXNlcl9pZCkpIHtcbiAgICAgIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IHNwYWNlVXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAoIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpKys7XG4gIH1cbiAgcXVlcnkuZmxvdyA9IHtcbiAgICAkaW46IGZsb3dJZHNcbiAgfTtcbiAgcXVlcnkuc3BhY2UgPSBzcGFjZUlkO1xuICBpZiAoKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLnN5bmNfdG9rZW4gOiB2b2lkIDApIHtcbiAgICBzeW5jX3Rva2VuID0gbmV3IERhdGUoTnVtYmVyKHJlcS5xdWVyeS5zeW5jX3Rva2VuKSk7XG4gICAgcXVlcnkubW9kaWZpZWQgPSB7XG4gICAgICAkZ3Q6IHN5bmNfdG9rZW5cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuZmluYWxfZGVjaXNpb24gOiB2b2lkIDApIHtcbiAgICBxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LmZpbmFsX2RlY2lzaW9uLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuZmluYWxfZGVjaXNpb24gPSB7XG4gICAgICAkbmluOiBbXCJ0ZXJtaW5hdGVkXCIsIFwicmVqZWN0ZWRcIl1cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuc3RhdGUgOiB2b2lkIDApIHtcbiAgICBxdWVyeS5zdGF0ZSA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LnN0YXRlLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICB9XG4gIGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBpbmJveF91ZXJzOiAwLFxuICAgICAgY2NfdXNlcnM6IDAsXG4gICAgICBvdXRib3hfdXNlcnM6IDAsXG4gICAgICB0cmFjZXM6IDAsXG4gICAgICBhdHRhY2htZW50czogMFxuICAgIH0sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogNTAwXG4gIH0pLmZldGNoKCk7XG4gIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIGF0dGFjaG1lbnRzO1xuICAgIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCxcbiAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICRuZTogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjb3BpZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJldHVybiBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzO1xuICB9KTtcbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICAgIFwic3luY190b2tlblwiOiByZXRfc3luY190b2tlbixcbiAgICAgIFwiZGF0YVwiOiBpbnN0YW5jZXNcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJcclxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvc3RlZWRvcy1jc3NcIiwgKHJlcSwgcmVzLCBuZXh0KS0+XHJcblxyXG5cdGFsbENzcyA9IFdlYkFwcC5nZXRSZWZyZXNoYWJsZUFzc2V0cygpXHJcblxyXG5cdGFsbENzc0xpbmsgPSBcIlwiXHJcblxyXG5cdGFsbENzcy5mb3JFYWNoIChjc3MpIC0+XHJcblx0XHRpZiBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYXHJcblx0XHRcdHJvb3RVcmwgPSBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMXHJcblx0XHRcdGlmIHJvb3RVcmwuZW5kc1dpdGgoXCIvXCIpXHJcblx0XHRcdFx0Y3NzSHJlZiA9IHJvb3RVcmwucmVwbGFjZShfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYICsgXCIvXCIsIFwiXCIpICsgY3NzLnVybFxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0Y3NzSHJlZiA9IHJvb3RVcmwucmVwbGFjZShfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYLCBcIlwiKSArIGNzcy51cmxcclxuXHRcdGVsc2VcclxuXHRcdFx0Y3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChjc3MudXJsKVxyXG5cdFx0YWxsQ3NzTGluayArPSBcIkBpbXBvcnQgdXJsKCN7Y3NzSHJlZn0pO1wiXHJcblxyXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXHJcblx0cmVzLmVuZChhbGxDc3NMaW5rKSIsIkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3N0ZWVkb3MtY3NzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhbGxDc3MsIGFsbENzc0xpbms7XG4gIGFsbENzcyA9IFdlYkFwcC5nZXRSZWZyZXNoYWJsZUFzc2V0cygpO1xuICBhbGxDc3NMaW5rID0gXCJcIjtcbiAgYWxsQ3NzLmZvckVhY2goZnVuY3Rpb24oY3NzKSB7XG4gICAgdmFyIGNzc0hyZWYsIHJvb3RVcmw7XG4gICAgaWYgKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVgpIHtcbiAgICAgIHJvb3RVcmwgPSBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMO1xuICAgICAgaWYgKHJvb3RVcmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIGNzc0hyZWYgPSByb290VXJsLnJlcGxhY2UoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCArIFwiL1wiLCBcIlwiKSArIGNzcy51cmw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVgsIFwiXCIpICsgY3NzLnVybDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChjc3MudXJsKTtcbiAgICB9XG4gICAgcmV0dXJuIGFsbENzc0xpbmsgKz0gXCJAaW1wb3J0IHVybChcIiArIGNzc0hyZWYgKyBcIik7XCI7XG4gIH0pO1xuICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgcmV0dXJuIHJlcy5lbmQoYWxsQ3NzTGluayk7XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9kcmFmdC86Zmxvd1wiLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdHJldHVyblxyXG5cclxuXHR1c2VyX2lkID0gcmVxLnVzZXJJZFxyXG5cclxuXHR1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogdXNlcl9pZCB9KVxyXG5cclxuXHRzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZVxyXG5cclxuXHRmbG93SWQgPSByZXEucGFyYW1zLmZsb3dcclxuXHJcblx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7IF9pZDogc3BhY2VJZCB9KVxyXG5cclxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd0lkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsICdjdXJyZW50Ll9pZCc6IDEsIGZvcm06IDEgfSB9KVxyXG5cclxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZmxvdy5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50Ll9pZCc6IDEgfSB9KVxyXG5cclxuXHRvcHRpb25zID0ge1xyXG5cdFx0c2hvd1RyYWNlOiBmYWxzZSxcclxuXHRcdHNob3dBdHRhY2htZW50czogZmFsc2UsXHJcblx0XHR0ZW1wbGF0ZU5hbWU6IFwiZGVmYXVsdFwiLFxyXG5cdFx0ZWRpdGFibGU6IHRydWUsXHJcblx0XHR3aWR0aDogXCIxMDAlXCIsXHJcblx0XHRpbnN0YW5jZV9zdHlsZTogXCJpbnN0YW5jZS1kZWZhdWx0XCIsXHJcblx0XHRwbHVnaW5zOiBcIlwiXCJcclxuXHJcblx0XHRcdDxtZXRhIGh0dHAtZXF1aXY9XCJYLVVBLUNvbXBhdGlibGVcIiBjb250ZW50PVwiSUU9ZWRnZSxjaHJvbWU9MVwiIC8+XHJcblx0XHRcdDxtZXRhIG5hbWU9XCJmb3JtYXQtZGV0ZWN0aW9uXCIgY29udGVudD1cInRlbGVwaG9uZT1ub1wiPlxyXG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwieC1yaW0tYXV0by1tYXRjaFwiIGNvbnRlbnQ9XCJub25lXCI+XHJcblx0XHRcdDx0aXRsZT4je2Zsb3cubmFtZX08L3RpdGxlPlxyXG5cdFx0XHQ8bWV0YSBjb250ZW50PSd3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT0wJyBuYW1lPSd2aWV3cG9ydCcgLz5cclxuXHRcdFx0PG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aFwiIC8+XHJcblxyXG5cdFx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9jc3MvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLm1pbi5jc3NcIj5cclxuXHJcblx0XHRcdDxzY3JpcHQgc3JjPVwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2pzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci5taW4uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XHJcblxyXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9sb2NhbGVzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci56aC1DTi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBjaGFyc2V0PVwiVVRGLThcIj48L3NjcmlwdD5cclxuXHJcblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uY3NzXCI+XHJcblx0XHRcdDxzY3JpcHQgc3JjPVwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XHJcblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiL2pzL3dvcmtmbG93X2NsaWVudC5jc3NcIj5cclxuXHRcdFx0PHNjcmlwdCBzcmM9XCIvanMvd29ya2Zsb3dfY2xpZW50LmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxyXG5cdFx0XCJcIlwiXHJcblx0fVxyXG5cclxuXHRpbnN0YW5jZSA9IHtcclxuXHRcdGZsb3c6IGZsb3cuX2lkLFxyXG5cdFx0Zmxvd192ZXJzaW9uOiBmbG93LmN1cnJlbnQuX2lkLFxyXG5cdFx0Zm9ybTogZm9ybS5faWQsXHJcblx0XHRmb3JtX3ZlcnNpb246IGZvcm0uY3VycmVudC5faWQsXHJcblx0XHR2YWx1ZXM6IHt9LFxyXG5cdFx0bmFtZTogZmxvdy5uYW1lLFxyXG5cdFx0c3BhY2U6IHNwYWNlSWRcclxuXHR9XHJcblxyXG5cdGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcclxuXHJcblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbClcclxuXHJcblx0cmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aClcclxuXHJcblx0cmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC0je2RhdGFCdWYubGVuZ3RoIC0gMX0vI3tkYXRhQnVmLmxlbmd0aH1cIilcclxuXHJcblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcclxuXHJcblx0cmVzLmVuZChodG1sKVxyXG4iLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGRhdGFCdWYsIGZsb3csIGZsb3dJZCwgZm9ybSwgaHRtbCwgaW5zdGFuY2UsIG9wdGlvbnMsIHNwYWNlLCBzcGFjZUlkLCB1c2VyLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICBfaWQ6IHVzZXJfaWRcbiAgfSk7XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBmbG93SWQgPSByZXEucGFyYW1zLmZsb3c7XG4gIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogc3BhY2VJZFxuICB9KTtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgIF9pZDogZmxvd0lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICAnY3VycmVudC5faWQnOiAxLFxuICAgICAgZm9ybTogMVxuICAgIH1cbiAgfSk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICBfaWQ6IGZsb3cuZm9ybVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICAnY3VycmVudC5faWQnOiAxXG4gICAgfVxuICB9KTtcbiAgb3B0aW9ucyA9IHtcbiAgICBzaG93VHJhY2U6IGZhbHNlLFxuICAgIHNob3dBdHRhY2htZW50czogZmFsc2UsXG4gICAgdGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcbiAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgaW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxuICAgIHBsdWdpbnM6IFwiXFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwiWC1VQS1Db21wYXRpYmxlXFxcIiBjb250ZW50PVxcXCJJRT1lZGdlLGNocm9tZT0xXFxcIiAvPlxcbjxtZXRhIG5hbWU9XFxcImZvcm1hdC1kZXRlY3Rpb25cXFwiIGNvbnRlbnQ9XFxcInRlbGVwaG9uZT1ub1xcXCI+XFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwieC1yaW0tYXV0by1tYXRjaFxcXCIgY29udGVudD1cXFwibm9uZVxcXCI+XFxuPHRpdGxlPlwiICsgZmxvdy5uYW1lICsgXCI8L3RpdGxlPlxcbjxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxcbjxtZXRhIG5hbWU9XFxcInZpZXdwb3J0XFxcIiBjb250ZW50PVxcXCJ3aWR0aD1kZXZpY2Utd2lkdGhcXFwiIC8+XFxuXFxuPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1xcXCI+XFxuXFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcblxcbjxzY3JpcHQgc3JjPVxcXCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvbG9jYWxlcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIuemgtQ04uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCIgY2hhcnNldD1cXFwiVVRGLThcXFwiPjwvc2NyaXB0PlxcblxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmNzc1xcXCI+XFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXFxcIj5cXG48c2NyaXB0IHNyYz1cXFwiL2pzL3dvcmtmbG93X2NsaWVudC5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cIlxuICB9O1xuICBpbnN0YW5jZSA9IHtcbiAgICBmbG93OiBmbG93Ll9pZCxcbiAgICBmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXG4gICAgZm9ybTogZm9ybS5faWQsXG4gICAgZm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxuICAgIHZhbHVlczoge30sXG4gICAgbmFtZTogZmxvdy5uYW1lLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC1cIiArIChkYXRhQnVmLmxlbmd0aCAtIDEpICsgXCIvXCIgKyBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICByZXR1cm4gcmVzLmVuZChodG1sKTtcbn0pO1xuIiwiQXJyYXkucHJvdG90eXBlLmZpbHRlclByb3BlcnR5ID0gZnVuY3Rpb24oaCwgbCl7XHJcbiAgICB2YXIgZyA9IFtdO1xyXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1xyXG4gICAgICAgIHZhciBtID0gdD8gdFtoXTpudWxsO1xyXG4gICAgICAgIHZhciBkID0gZmFsc2U7XHJcbiAgICAgICAgaWYobSBpbnN0YW5jZW9mIEFycmF5KXtcclxuICAgICAgICAgICAgZCA9IG0uaW5jbHVkZXMobCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGQgPSAobCA9PT0gdW5kZWZpbmVkKT8gZmFsc2U6bT09bDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZCl7XHJcbiAgICAgICAgICAgIGcucHVzaCh0KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBnO1xyXG59O1xyXG5cclxuQXJyYXkucHJvdG90eXBlLmdldFByb3BlcnR5ID0gZnVuY3Rpb24oayl7XHJcbiAgICB2YXIgdiA9IG5ldyBBcnJheSgpO1xyXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1xyXG4gICAgICAgIHZhciBtID0gdD8gdFtrXTpudWxsO1xyXG4gICAgICAgIHYucHVzaChtKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHY7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5nZXRFYWNoID0gZnVuY3Rpb24oY29kZSl7XHJcbiAgICB2YXIgcmV2ID0gW107XHJcbiAgICBmb3IodmFyIGkgPSAwIDsgaSA8IHRoaXMubGVuZ3RoIDsgaSsrKXtcclxuICAgICAgICByZXYucHVzaCh0aGlzW2ldW2NvZGVdKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXY7XHJcbn07XHJcblxyXG5BcnJheS5wcm90b3R5cGUudW5pcSA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgYSA9IFtdO1xyXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGIpeyBcclxuICAgICAgICBpZihhLmluZGV4T2YoYikgPCAwKVxyXG4gICAgICAgICAgICB7YVthLmxlbmd0aF0gPSBifVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gYTtcclxufTtcclxuXHJcbkZvcm1fZm9ybXVsYSA9IHt9O1xyXG5cclxuXHJcbkZvcm1fZm9ybXVsYS5taXhpbiA9IGZ1bmN0aW9uKGRlc3QsIHNyYyl7XHJcbiAgICBmb3IodmFyIGtleSBpbiBzcmMpe1xyXG4gICAgICAgIGRlc3Rba2V5XSA9IHNyY1trZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRlc3Q7XHJcbn07XHJcblxyXG5cclxuRm9ybV9mb3JtdWxhLmhhbmRlclVzZXJPYmplY3QgPSBmdW5jdGlvbih1KXtcclxuXHJcbiAgICBpZih1IGluc3RhbmNlb2YgQXJyYXkpe1xyXG4gICAgICAgIHZhciB1c2VyID0ge307XHJcblxyXG4gICAgICAgIHVzZXIubmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJuYW1lXCIpXHJcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24gPSB7fTtcclxuICAgICAgICB1c2VyLm9yZ2FuaXphdGlvbi5uYW1lID0gdS5nZXRQcm9wZXJ0eShcIm9yZ2FuaXphdGlvblwiKS5nZXRQcm9wZXJ0eShcIm5hbWVcIik7XHJcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24uZnVsbG5hbWUgPSB1LmdldFByb3BlcnR5KFwib3JnYW5pemF0aW9uXCIpLmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIik7XHJcblxyXG4gICAgICAgIHVzZXIuaHIgPSB1LmdldFByb3BlcnR5KFwiaHJcIilcclxuXHJcbiAgICAgICAgdXNlci5zb3J0X25vID0gdS5nZXRQcm9wZXJ0eShcInNvcnRfbm9cIilcclxuXHJcblx0XHR1c2VyLm1vYmlsZSA9IHUuZ2V0UHJvcGVydHkoXCJtb2JpbGVcIilcclxuXHJcblx0XHR1c2VyLndvcmtfcGhvbmUgPSB1LmdldFByb3BlcnR5KFwid29ya19waG9uZVwiKVxyXG5cclxuXHRcdHVzZXIucG9zaXRpb24gPSB1LmdldFByb3BlcnR5KFwicG9zaXRpb25cIilcclxuXHJcbiAgICAgICAgdmFyIHVzZXJSb2xlcyA9IHUuZ2V0UHJvcGVydHkoXCJyb2xlc1wiKTtcclxuICAgICAgICB2YXIgcm9sZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICB1c2VyUm9sZXMuZm9yRWFjaChmdW5jdGlvbihpKXtcclxuICAgICAgICAgICAgcm9sZXMgPSByb2xlcy5jb25jYXQoaSk7XHJcbiAgICAgICAgfSk7IFxyXG4gICAgICAgIHJvbGVzLnVuaXEoKTtcclxuICAgICAgICB1c2VyLnJvbGVzID0gcm9sZXM7XHJcbiAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gdTtcclxuICAgIH1cclxufVxyXG5cclxuRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdCA9IGZ1bmN0aW9uKG8pe1xyXG5cclxuICAgIGlmKG8gaW5zdGFuY2VvZiBBcnJheSl7XHJcbiAgICAgICAgdmFyIG9yZyA9IHt9O1xyXG5cdFx0b3JnLmlkID0gby5nZXRQcm9wZXJ0eShcIl9pZFwiKTtcclxuICAgICAgICBvcmcubmFtZSA9IG8uZ2V0UHJvcGVydHkoXCJuYW1lXCIpO1xyXG4gICAgICAgIG9yZy5mdWxsbmFtZSA9IG8uZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9yZztcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJldHVybiBvO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gICAgKiDojrflvpflhazlvI/pnIDopoHnlKjliLDnmoTliJ3lp4vlgLxcclxuICAgICog6L6T5YWl77yaZmllbGRzLCB2YWx1ZXMsIGFwcGxpY2FudFxyXG4gICAgKiDovpPlh7rvvJpfX3ZhbHVlc1xyXG4qKi9cclxuRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXMgPSBmdW5jdGlvbihmaWVsZHMsIGF1dG9Gb3JtRG9jLCBhcHByb3ZlciwgYXBwbGljYW50LCBzcGFjZUlkKXtcclxuICAgIHZhciBfX3ZhbHVlcyA9IHt9O1xyXG4gICAgLy/nlLPor7fljZXkuK3loavnmoTlgLzlpITnkIZcclxuICAgIGlmKGZpZWxkcyAmJiBmaWVsZHMubGVuZ3RoICYmIGF1dG9Gb3JtRG9jKSB7XHJcbiAgICAgICAgLy9kZWJ1Z2dlcjtcclxuICAgICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCl7XHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gZmllbGQudHlwZTtcclxuICAgICAgICAgICAgaWYodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYodHlwZSA9PT0gJ3RhYmxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgKiDlsIbooajmoLzlrZfmrrXnmoTlgLzov5vooYzovazmjaLlkI7kvKDlhaVfX3ZhbHVlc+S4rVxyXG4gICAgICAgICAgICAgICAgICAgICogdmFsdWVz5Lit6KGo5qC855qE5YC85qC85byP5Li6XHJcbiAgICAgICAgICAgICAgICAgICAgKiBbe1wiYVwiOjEsXCJiXCI6NH0se1wiYVwiOjIsXCJiXCI6NX0se1wiYVwiOjMsXCJiXCI6Nn1dXHJcbiAgICAgICAgICAgICAgICAgICAgKiBfX3ZhbHVlc+mcgOimgei9rOWMluS4uuS4i+mdouagvOW8j+S4lOWSjOS4u+ihqOeahOWAvOS4gOagt+aUvuWIsOesrOS4gOWxglxyXG4gICAgICAgICAgICAgICAgICAgICoge1wiYVwiOlsxLDIsM10sXCJiXCI6WzQsNSw2XX1cclxuICAgICAgICAgICAgICAgICAgICAqKi9cclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVGaWVsZHMgPSBmaWVsZC5zZmllbGRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcyA9IGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtdWxhVGFibGVWYWx1ZXMgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX190YWJsZVZhbHVlcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5oyJ5YWs5byP55qE5qC85byP6L2s5o2i5YC85Li6X190YWJsZVZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRhYmxlRmllbGRzICYmIHRhYmxlRmllbGRzLmxlbmd0aCAmJiB0YWJsZVZhbHVlcyAmJiB0YWJsZVZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzLmZvckVhY2goZnVuY3Rpb24odGFibGVWYWx1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtdWxhVGFibGVWYWx1ZXMucHVzaChGb3JtX2Zvcm11bGEuaW5pdF9mb3JtdWxhX3ZhbHVlcyh0YWJsZUZpZWxkcywgdGFibGVWYWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/mjInkuLvooajnmoTmoLzlvI/ovazmjaJfX3RhYmxlVmFsdWVz5Yqg5YiwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlRmllbGRzLmZvckVhY2goZnVuY3Rpb24odGFibGVmaWVsZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3RhYmxlVmFsdWVzW3RhYmxlZmllbGQuY29kZV0gPSBmb3JtdWxhVGFibGVWYWx1ZXMuZ2V0RWFjaCh0YWJsZWZpZWxkLmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX192YWx1ZXMgPSBGb3JtX2Zvcm11bGEubWl4aW4oX192YWx1ZXMsIF9fdGFibGVWYWx1ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAndXNlcicpe1xyXG4gICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gRm9ybV9mb3JtdWxhLmhhbmRlclVzZXJPYmplY3QoV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0cyhzcGFjZUlkLCBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnZ3JvdXAnKXtcclxuICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IEZvcm1fZm9ybXVsYS5oYW5kZXJPcmdPYmplY3QoV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFPcmdPYmplY3RzKGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdvZGF0YScpe1xyXG5cdFx0XHRcdFx0X192YWx1ZXNbZmllbGQuY29kZV0gPSBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXSB8fCB7fVxyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5q2k5aSE5Lygc3BhY2VJZOe7memAieS6uuaOp+S7tueahOaXp+aVsOaNruiuoeeul3JvbGVz5ZKMb3JnYW5pemF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLy/lvZPliY3lpITnkIbkurpcclxuICAgIF9fdmFsdWVzW1wiYXBwcm92ZXJcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwcm92ZXIpO1xyXG4gICAgLy/nlLPor7fkurpcclxuICAgIF9fdmFsdWVzW1wiYXBwbGljYW50XCJdID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0KHNwYWNlSWQsIGFwcGxpY2FudCk7XHJcblxyXG4gICAgcmV0dXJuIF9fdmFsdWVzO1xyXG59O1xyXG5cclxuIiwiZ2V0SGFuZGxlcnNNYW5hZ2VyID0ge31cclxuXHJcbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyA9ICh1c2VyX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XHJcblx0YXBwcm92ZV91c2VycyA9IG5ldyBBcnJheVxyXG5cdF8uZWFjaCh1c2VyX2lkcywgKHVzZXJfaWQpLT5cclxuXHRcdGlmIGRiLnVzZXJzLmZpbmQoe19pZDogdXNlcl9pZH0pLmNvdW50KCkgPiAwXHJcblx0XHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXModXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKVxyXG5cdFx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXHJcblx0XHRcdFx0YXBwcm92ZV91c2VycyA9IGFwcHJvdmVfdXNlcnMuY29uY2F0KHVzZXJzKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInVzZXJfaWTkuI3lkIjms5XkuI3lkIjms5VcIilcclxuXHQpXHJcblx0YXBwcm92ZV91c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKVxyXG5cdHJldHVybiBhcHByb3ZlX3VzZXJzXHJcblxyXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyA9ICh1c2VyX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpLT5cclxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdF8uZWFjaChyb2xlX2lkcywgKHJvbGVfaWQpLT5cclxuXHRcdGlmIGRiLmZsb3dfcm9sZXMuZmluZCh7X2lkOiByb2xlX2lkfSkuY291bnQoKSA+IDBcclxuXHRcdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKVxyXG5cdFx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXHJcblx0XHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXHJcblx0XHRlbHNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwicm9sZV9pZOW3sue7j+iiq+WIoOmZpFwiKVxyXG5cdClcclxuXHRpZiB1c2VyX2lkcy5sZW5ndGggPiAwXHJcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcclxuXHRcdHJldHVybiB1c2VyX2lkc1xyXG5cdGVsc2VcclxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2udXNlcl9pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpXHJcblxyXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlID0gKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKSAtPlxyXG5cdG9yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXJzOiB1c2VyX2lkIH0sIHsgZmllbGRzOiB7IF9pZDogMSB9IH0pLmZldGNoKClcclxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdF8uZWFjaChvcmdzLCAob3JnKSAtPlxyXG5cdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnLl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXHJcblx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXHJcblx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxyXG5cdClcclxuXHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcclxuXHRyZXR1cm4gdXNlcl9pZHNcclxuXHJcbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzID0gKG9yZ19pZHMsIHJvbGVfaWRzLCBzcGFjZV9pZCktPlxyXG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpLT5cclxuXHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyhvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZClcclxuXHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcclxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXHJcblx0KVxyXG5cdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxyXG5cdHJldHVybiB1c2VyX2lkc1xyXG5cclxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyA9IChvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCktPlxyXG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0Xy5lYWNoKHJvbGVfaWRzLCAocm9sZV9pZCktPlxyXG5cdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnX2lkLCByb2xlX2lkLCBzcGFjZV9pZClcclxuXHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcclxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXHJcblx0KVxyXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCA+IDBcclxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxyXG5cdFx0cmV0dXJuIHVzZXJfaWRzXHJcblx0ZWxzZVxyXG5cdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmoLnmja5vcmdfaWTlkoxyb2xlX2lkc+ayoeafpeWIsOWvueW6lOeahOWkhOeQhuS6ulwiKVxyXG5cclxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlID0gKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIC0+XHJcblx0b3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiBvcmdfaWQgfSwgeyBmaWVsZHM6IHsgcGFyZW50czogMSB9IH0pXHJcblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBvcmc6IG9yZ19pZCwgcm9sZTogcm9sZV9pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcclxuXHRfLmVhY2gocG9zaXRpb25zLCAocG9zaXRpb24pIC0+XHJcblx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2VycylcclxuXHQpXHJcblx0aWYgdXNlcl9pZHMubGVuZ3RoIGlzIDBcclxuXHRcdHBhcmVudHMgPSBvcmcucGFyZW50c1xyXG5cdFx0Xy5lYWNoKHBhcmVudHMsIChwYXJlbnRfaWQpIC0+XHJcblx0XHRcdHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIG9yZzogcGFyZW50X2lkLCByb2xlOiByb2xlX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSkuZmV0Y2goKVxyXG5cdFx0XHRpZiBwb3NpdGlvbnMubGVuZ3RoID4gMFxyXG5cdFx0XHRcdF8uZWFjaChwb3NpdGlvbnMsIChwb3NpdGlvbikgLT5cclxuXHRcdFx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKVxyXG5cdFx0XHRcdClcclxuXHRcdClcclxuXHJcblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXHJcblx0cmV0dXJuIHVzZXJfaWRzXHJcblxyXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMgPSAoaW5zdGFuY2VfaWQsIHN0ZXBfaWQpIC0+XHJcblx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZClcclxuXHJcblx0IyDmi5/nqL/ml7YsIOWPr+S7peiuvuWumuWQjue7reavj+S4quatpemqpOeahOWkhOeQhuS6uiAjMTkyNlxyXG5cdGlmIGluc3RhbmNlLnN0ZXBfYXBwcm92ZSAmJiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbc3RlcF9pZF1cclxuXHRcdHJldHVybiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbc3RlcF9pZF1cclxuXHJcblx0YXBwcm92ZV91c2VycyA9IG5ldyBBcnJheVxyXG5cdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2VcclxuXHRmbG93X2lkID0gaW5zdGFuY2UuZmxvd1xyXG5cdGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uXHJcblx0Y3VycmVudF9mbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkKVxyXG5cdGN1cnJlbnRfc3RlcCA9IG51bGxcclxuXHRjdXJyZW50X3N0ZXBzID0gbmV3IEFycmF5XHJcblxyXG5cdGlmIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCBpcyBmbG93X3JldlxyXG5cdFx0Y3VycmVudF9zdGVwcyA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LnN0ZXBzXHJcblx0ZWxzZVxyXG5cdFx0Y3VycmVudCA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChoaXN0b3J5KSAtPlxyXG5cdFx0XHRyZXR1cm4gaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcclxuXHRcdClcclxuXHRcdGN1cnJlbnRfc3RlcHMgPSBjdXJyZW50LnN0ZXBzXHJcblxyXG5cdCMg5LuO6I635Y+W55qEc3RlcHPkuK3moLnmja46c3RlcF9pZOaPkOWPluWvueW6lOeahHN0ZXDlr7nosaFcclxuXHRjdXJyZW50X3N0ZXAgPSBfLmZpbmQoY3VycmVudF9zdGVwcywgKHN0ZXApIC0+XHJcblx0XHRyZXR1cm4gc3RlcC5faWQgaXMgc3RlcF9pZFxyXG5cdClcclxuXHQjIOWIpOaWrXN0ZXBfdHlwZVxyXG5cdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb25kaXRpb25cIlxyXG5cdFx0dW5maW5pc2hlZF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsICh0cmFjZSkgLT5cclxuXHRcdFx0cmV0dXJuIHRyYWNlLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXHJcblx0XHQpXHJcblxyXG5cdFx0cmV0dXJuIG5ldyBBcnJheSh1bmZpbmlzaGVkX3RyYWNlLmFwcHJvdmVzWzBdLnVzZXIpXHJcblxyXG5cdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXMgXCJzdGFydFwiXHJcblx0XHRoYW5kbGVycyA9IG5ldyBBcnJheVxyXG5cdFx0aGFuZGxlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpXHJcblx0XHRoYW5kbGVycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcilcclxuXHRcdGhhbmRsZXJzID0gXy51bmlxKGhhbmRsZXJzKVxyXG5cdFx0cmV0dXJuIGhhbmRsZXJzXHJcblx0IyDlvpfliLBzdGVw55qEXCJkZWFsX3R5cGVcIu+8jOW5tui/m+ihjOmAu+i+keWIpOaWreaJvuWIsOWvueW6lOeahOWkhOeQhuS6ulxyXG5cdGRlYWxfdHlwZSA9IGN1cnJlbnRfc3RlcC5kZWFsX3R5cGVcclxuXHR1c2VycyA9IG5ldyBBcnJheVxyXG5cdGlmIGRlYWxfdHlwZSBpcyBcImFwcGxpY2FudFJvbGVcIlxyXG5cdFx0IyAxLioqKioqKioqKioq55Sz6K+35Lq65omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcclxuXHRcdGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudFxyXG5cdFx0aWYgYXBwbGljYW50XHJcblx0XHRcdHNwYWNlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHBsaWNhbnQgfSkuY291bnQoKVxyXG5cdFx0XHRpZiBzcGFjZV91c2VyX2NvdW50IGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpXHJcblxyXG5cdFx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXHJcblx0XHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XHJcblx0XHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcclxuXHRcdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKVxyXG5cdFx0XHRcdClcclxuXHJcblx0XHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKGFwcGxpY2FudCwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXHJcblxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIkluc3RhbmNl55qE5o+Q5Lqk5Lq65Li656m6XCIpXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJoclJvbGVcIlxyXG5cdFx0YXBwcm92ZUhyUm9sZUlkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9ocl9yb2xlcztcclxuXHRcdGlmIChhcHByb3ZlSHJSb2xlSWRzKVxyXG5cdFx0XHRyZXR1cm4gXy5wbHVjayhXb3JrZmxvd01hbmFnZXIuZ2V0SHJSb2xlc1VzZXJzKHNwYWNlX2lkLCBhcHByb3ZlSHJSb2xlSWRzKSwgJ3VzZXInKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLmnKrmjIflrppcIilcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcImFwcGxpY2FudFwiXHJcblx0XHQjIDIuKioqKioqKioqKirnlLPor7fkuroqKioqKioqKioqKlxyXG5cdFx0YXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50XHJcblx0XHRzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwbGljYW50IH0pLmNvdW50KClcclxuXHRcdGlmIHNwYWNlX3VzZXJfY291bnQgaXMgMFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBuZXcgQXJyYXkoYXBwbGljYW50KVxyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwib3JnRmllbGRSb2xlXCJcclxuXHRcdCMgMy4qKioqKioqKioqKumDqOmXqOWtl+auteaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXHJcblx0XHRmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm1cclxuXHRcdGZvcm1fcmV2ID0gbnVsbFxyXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXHJcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uXHJcblx0XHRlbHNlXHJcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxyXG5cdFx0XHRcdHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcclxuXHRcdFx0KVxyXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxyXG5cclxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXHJcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXHJcblx0XHRpZiBmb3JtX3JldiBpcyBmb3JtLmN1cnJlbnQuX2lkXHJcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgKGZvcm1faGlzdG9yeSkgLT5cclxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxyXG5cdFx0XHQpXHJcblxyXG5cdFx0YXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZFxyXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXHJcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxyXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCkgLT5cclxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfb3JnX2ZpZWxkXHJcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxyXG5cdFx0KVxyXG5cclxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXHJcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxyXG5cdFx0b3JnX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0b3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheVxyXG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxyXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcclxuXHRcdFx0XHRvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0b3JnX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXHJcblxyXG5cdFx0IyDmoKHpqoxvcmdfaWTmlbDnu4TkuK1vcmdfaWTmmK/lkKblkIjms5VcclxuXHRcdF8uZWFjaChvcmdfaWRzX25hbWVzLCAob3JnKSAtPlxyXG5cdFx0XHRjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBfaWQ6IG9yZ1tcImlkXCJdIH0pLmNvdW50KClcclxuXHRcdFx0aWYgY2hlY2tfb3JnX2NvdW50IGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpXHJcblx0XHRcdG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSlcclxuXHRcdClcclxuXHJcblx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXHJcblx0XHRcdCMg5qOA5p+lYXBwcm92ZXJfcm9sZXPkuK1yb2xl5piv5ZCm5LiN5a2Y5Zyo5oiW5bey57uP6KKr5Yig6ZmkXHJcblx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxyXG5cdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxyXG5cdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpXHJcblx0XHRcdClcclxuXHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzKG9yZ19pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpXHJcblx0XHRlbHNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJvcmdGaWVsZFwiXHJcblx0XHQjIDQuKioqKioqKioqKirpg6jpl6jlrZfmrrXmiYDlsZ7nu4Tnu4fkuK3nmoTkurrlkZgqKioqKioqKioqKlxyXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXHJcblx0XHRmb3JtX3JldiA9IG51bGxcclxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxyXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cclxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XHJcblx0XHRcdClcclxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cclxuXHJcblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKVxyXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxyXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxyXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnRcclxuXHRcdGVsc2VcclxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XHJcblx0XHRcdFx0cmV0dXJuIGZvcm1faGlzdG9yeS5faWQgaXMgZm9ybV9yZXZcclxuXHRcdFx0KVxyXG5cclxuXHRcdGFwcHJvdmVyX29yZ19maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdfZmllbGRcclxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xyXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcclxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpLT5cclxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfb3JnX2ZpZWxkXHJcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxyXG5cdFx0KVxyXG5cclxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXHJcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxyXG5cclxuXHRcdG9yZ19pZHMgPSBuZXcgQXJyYXlcclxuXHRcdG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXlcclxuXHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cclxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XHJcblx0XHRcdFx0b3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxyXG5cclxuXHRcdCMg5qCh6aqMb3JnX2lk5pWw57uE5Litb3JnX2lk5piv5ZCm5ZCI5rOVXHJcblx0XHRfLmVhY2gob3JnX2lkc19uYW1lcywgKG9yZykgLT5cclxuXHRcdFx0Y2hlY2tfb3JnX2NvdW50ID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgX2lkOiBvcmdbXCJpZFwiXSB9KS5jb3VudCgpXHJcblx0XHRcdGlmIGNoZWNrX29yZ19jb3VudCBpcyAwXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dJROS4jeWQiOazlVwiKVxyXG5cdFx0XHRvcmdfaWRzLnB1c2gob3JnW1wiaWRcIl0pXHJcblx0XHQpXHJcblxyXG5cdFx0IyDmoKHpqoxvcmfkuIvlrZjlnKjlpITnkIbkurpcclxuXHRcdHVzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cclxuXHRcdFx0b3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiBvcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KVxyXG5cdFx0XHRvcmdfY2hpbGRyZW4gPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHBhcmVudHM6IG9yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcclxuXHRcdFx0b3JnX2NoaWxkcmVuLnVuc2hpZnQob3JnKVxyXG5cdFx0XHRjaGVja19vcmdzID0gb3JnX2NoaWxkcmVuXHJcblx0XHRcdG9yZ191c2VycyA9IG5ldyBBcnJheVxyXG5cdFx0XHRfLmVhY2goY2hlY2tfb3JncywgKGNoZWNrX29yZ191c2VyKSAtPlxyXG5cdFx0XHRcdGlmIGNoZWNrX29yZ191c2VyLnVzZXJzXHJcblx0XHRcdFx0XHRfLmVhY2goY2hlY2tfb3JnX3VzZXIudXNlcnMsIChvcmdfdXNlcikgLT5cclxuXHRcdFx0XHRcdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogb3JnX3VzZXIgfSkuY291bnQoKSBpcyAwXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJzcGFjZeS4i+S4jeWtmOWcqOatpHVzZXJcIilcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2VycylcclxuXHRcdFx0XHRvcmdfdXNlcnMgPSBvcmdfdXNlcnMuY29uY2F0KGNoZWNrX29yZ191c2VyLnVzZXJzKVxyXG5cdFx0XHQpXHJcblxyXG5cdFx0XHRpZiBvcmdfdXNlcnMubGVuZ3RoIGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h1wiICsgb3JnX2lkICsgXCLkuI3lrZjlnKjlpITnkIbkurpcIilcclxuXHJcblx0XHQpXHJcblxyXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXHJcblx0XHRyZXR1cm4gdXNlcl9pZHNcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInVzZXJGaWVsZFJvbGVcIlxyXG5cdFx0IyA1LioqKioqKioqKioq5Lq65ZGY5a2X5q615omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcclxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxyXG5cdFx0Zm9ybV9yZXYgPSBudWxsXHJcblx0XHRpZiBmbG93X3JldiBpcyBjdXJyZW50X2Zsb3cuY3VycmVudC5faWRcclxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cclxuXHRcdGVsc2VcclxuXHRcdFx0Y3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoY3VycmVudF9mbG93X2hpc3RvcnkpIC0+XHJcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxyXG5cdFx0XHQpXHJcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uIGlmIGN1cnJlbnRfZmxvd192ZXJzaW9uXHJcblxyXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcclxuXHRcdGN1cnJlbnRfZm9ybSA9IG51bGxcclxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcclxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XHJcblx0XHRlbHNlXHJcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxyXG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XHJcblx0XHRcdClcclxuXHJcblx0XHRhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGRcclxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xyXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcclxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpIC0+XHJcblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX3VzZXJfZmllbGRcclxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXHJcblx0XHQpXHJcblxyXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcclxuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXHJcblx0XHQjIOiOt+WPlnVzZXJfaWTmlbDnu4RcclxuXHRcdHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5XHJcblx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXHJcblx0XHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheVxyXG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxyXG5cclxuXHRcdCMg5qCh6aqMdXNlcl9pZOaVsOe7hOS4rXVzZXJfaWTmmK/lkKblkIjms5VcclxuXHRcdHVzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2godXNlcl9pZHNfbmFtZXMsICh1c2VyKSAtPlxyXG5cdFx0XHRjaGVja191c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogdXNlcltcImlkXCJdIH0pLmNvdW50KClcclxuXHRcdFx0aWYgY2hlY2tfdXNlcl9jb3VudCBpcyAwXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKVxyXG5cdFx0XHR1c2VyX2lkcy5wdXNoKHVzZXJbXCJpZFwiXSlcclxuXHRcdClcclxuXHJcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcclxuXHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcclxuXHRcdFx0IyDmo4Dmn6VhcHByb3Zlcl9yb2xlc+S4rXJvbGXmmK/lkKbkuI3lrZjlnKjmiJblt7Lnu4/ooqvliKDpmaRcclxuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XHJcblx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXHJcblx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIilcclxuXHRcdFx0KVxyXG5cdFx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKHVzZXJfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKVxyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwidXNlckZpZWxkXCJcclxuXHRcdCMgNi4qKioqKioqKioqKuihqOWNleS6uuWRmOWtl+autSoqKioqKioqKioqXHJcblx0XHRmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm1cclxuXHRcdGZvcm1fcmV2ID0gbnVsbFxyXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXHJcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uXHJcblx0XHRlbHNlXHJcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxyXG5cdFx0XHRcdHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcclxuXHRcdFx0KVxyXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxyXG5cclxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXHJcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXHJcblx0XHRpZiBmb3JtX3JldiBpcyBmb3JtLmN1cnJlbnQuX2lkXHJcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgKGZvcm1faGlzdG9yeSkgLT5cclxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxyXG5cdFx0XHQpXHJcblxyXG5cdFx0YXBwcm92ZXJfdXNlcl9maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VyX2ZpZWxkXHJcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcclxuXHRcdGZpZWxkX2NvZGUgPSBudWxsXHJcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKS0+XHJcblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX3VzZXJfZmllbGRcclxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXHJcblx0XHQpXHJcblxyXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcclxuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXHJcblxyXG5cdFx0IyDojrflj5Z1c2VyX2lk5pWw57uEXHJcblx0XHR1c2VyX2lkc19uYW1lcyA9IG5ldyBBcnJheVxyXG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxyXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcclxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSlcclxuXHJcblx0XHQjIOagoemqjHVzZXJfaWTmlbDnu4TkuK11c2VyX2lk5piv5ZCm5ZCI5rOVXHJcblx0XHR1c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKHVzZXJfaWRzX25hbWVzLCAodXNlcikgLT5cclxuXHRcdFx0Y2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHVzZXJbXCJpZFwiXSB9KS5jb3VudCgpXHJcblx0XHRcdGlmIGNoZWNrX3VzZXJfY291bnQgaXMgMFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5Lq65ZGYSUTkuI3lkIjms5VcIilcclxuXHRcdFx0dXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pXHJcblx0XHQpXHJcblxyXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXHJcblx0XHRyZXR1cm4gdXNlcl9pZHNcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlTdGVwUm9sZVwiXHJcblx0XHQjIDcuKioqKioqKioqKirmjIflrprmraXpqqTlpITnkIblrqHmibnlspfkvY0qKioqKioqKioqKlxyXG5cdFx0YXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwXHJcblx0XHRmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaChpbnN0YW5jZS50cmFjZXMsICh0cmFjZSkgLT5cclxuXHRcdFx0aWYgdHJhY2Uuc3RlcCBpcyBhcHByb3Zlcl9zdGVwXHJcblx0XHRcdFx0ZmluaXNoZWRfdHJhY2VzLnB1c2godHJhY2UpXHJcblx0XHQpXHJcblx0XHQjIOagueaNrnN0YXJ0X2RhdGXlj5bmnIDmlrDnmoR0cmFjZVxyXG5cdFx0bWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgKHQpIC0+XHJcblx0XHRcdHJldHVybiB0LnN0YXJ0X2RhdGVcclxuXHRcdClcclxuXHJcblx0XHRhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIilcclxuXHJcblx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXNcclxuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XHJcblx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXHJcblx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKVxyXG5cdFx0XHQpXHJcblxyXG5cdFx0IyDpqozor4Hmn6XliLDnmoR1c2Vy5piv5ZCm6YO95ZCI5rOVXHJcblx0XHRfLmVhY2goYXBwcm92ZV91c2VycywgKGFwcHJvdmVfdXNlcikgLT5cclxuXHRcdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZV91c2VyIH0pLmNvdW50KCkgaXMgMFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpXHJcblx0XHQpXHJcblxyXG5cdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyhhcHByb3ZlX3VzZXJzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKVxyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeVN0ZXBVc2VyXCJcclxuXHRcdCMgOC4qKioqKioqKioqKuaMh+WumuatpemqpOWkhOeQhuS6uioqKioqKioqKioqXHJcblx0XHRhcHByb3Zlcl9zdGVwID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3N0ZXBcclxuXHRcdGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKSAtPlxyXG5cdFx0XHRpZiB0cmFjZS5zdGVwIGlzIGFwcHJvdmVyX3N0ZXBcclxuXHRcdFx0XHRmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSlcclxuXHRcdClcclxuXHRcdCMg5qC55o2uc3RhcnRfZGF0ZeWPluacgOaWsOeahHRyYWNlXHJcblx0XHRtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCAodCkgLT5cclxuXHRcdFx0cmV0dXJuIHQuc3RhcnRfZGF0ZVxyXG5cdFx0KVxyXG5cclxuXHRcdGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKVxyXG5cclxuXHRcdCMg6aqM6K+B5p+l5Yiw55qEdXNlcuaYr+WQpumDveWQiOazlVxyXG5cdFx0Xy5lYWNoKGFwcHJvdmVfdXNlcnMsIChhcHByb3ZlX3VzZXIpLT5cclxuXHRcdFx0Y2hlY2tfYXBwcm92ZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZV91c2VyIH0pLmNvdW50KClcclxuXHRcdFx0aWYgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50IGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKVxyXG5cdFx0KVxyXG5cclxuXHRcdGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2VycylcclxuXHRcdHJldHVybiBhcHByb3ZlX3VzZXJzXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzdWJtaXR0ZXJSb2xlXCJcclxuXHRcdCMgOS4qKioqKioqKioqKuWhq+WNleS6uuaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXHJcblx0XHRzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXJcclxuXHRcdGlmIG5vdCBzdWJtaXR0ZXJcclxuXHRcdFx0IyDliKTmlq3mj5DkuqTkurrmmK/lkKblt7Lnu4/ooqvliKDpmaRcclxuXHRcdFx0c3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBzdWJtaXR0ZXIgfSkuY291bnQoKVxyXG5cdFx0XHRpZiBzdWJtaXR0ZXJfdXNlcl9jb3VudCBpcyAwXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIilcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcclxuXHRcdFx0XHRcdCMg5qOA5p+lYXBwcm92ZXJfcm9sZXPkuK1yb2xl5piv5ZCm5LiN5a2Y5Zyo5oiW5bey57uP6KKr5Yig6ZmkXHJcblx0XHRcdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cclxuXHRcdFx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXHJcblx0XHRcdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKVxyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHN1Ym1pdHRlciwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZClcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeahOaPkOS6pOS6uuS4uuepulwiKVxyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3VibWl0dGVyXCJcclxuXHRcdCMgMTAuKioqKioqKioqKirmj5DkuqTkuroqKioqKioqKioqKlxyXG5cdFx0c3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyXHJcblx0XHQjIOWIpOaWreaPkOS6pOS6uuaYr+WQpuW3sue7j+iiq+WIoOmZpFxyXG5cdFx0c3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBzdWJtaXR0ZXIgfSkuY291bnQoKVxyXG5cdFx0aWYgc3VibWl0dGVyX3VzZXJfY291bnQgaXMgMFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gbmV3IEFycmF5KHN1Ym1pdHRlcilcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlPcmdcIlxyXG5cdFx0IyAxMS4qKioqKioqKioqKuafkOmDqOmXqOWGheeahOaJgOacieS6uioqKioqKioqKioqXHJcblx0XHRhcHByb3Zlcl9vcmdfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ3NcclxuXHRcdGlmIG5vdCBhcHByb3Zlcl9vcmdfaWRzIG9yIGFwcHJvdmVyX29yZ19pZHMubGVuZ3RoIGlzIDBcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrlrprkuYnnlKjkuo7mn6Xmib7kuIvkuIDmraXlpITnkIbkurrnmoTpg6jpl6jvvIzor7fogZTns7vnrqHnkIblkZjosIPmn6XmtYHnqIvlm77nmoTphY3nva7mmK/lkKbmraPnoa5cIilcclxuXHJcblx0XHQjIOmqjOivgeaJgOaMh+WumueahG9yZ2FuaXphdGlvbl9pZOmDveWtmOWcqFxyXG5cdFx0dmFsaWRfYXBwcm92ZXJfb3JnX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKGFwcHJvdmVyX29yZ19pZHMsIChhcHByb3Zlcl9vcmdfaWQpIC0+XHJcblx0XHRcdGlmIGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IF9pZDogYXBwcm92ZXJfb3JnX2lkIH0pLmNvdW50KCkgPiAwXHJcblx0XHRcdFx0dmFsaWRfYXBwcm92ZXJfb3JnX2lkcy51bnNoaWZ0KGFwcHJvdmVyX29yZ19pZClcclxuXHRcdClcclxuXHJcblx0XHRvcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaCh2YWxpZF9hcHByb3Zlcl9vcmdfaWRzLCAodmFsaWRfYXBwcm92ZXJfb3JnX2lkKSAtPlxyXG5cdFx0XHR2YWxpZF9hcHByb3Zlcl9vcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IHZhbGlkX2FwcHJvdmVyX29yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pXHJcblx0XHRcdGlmIHZhbGlkX2FwcHJvdmVyX29yZy51c2Vyc1xyXG5cdFx0XHRcdG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKVxyXG5cclxuXHRcdFx0Y2hpbGRfb3JncyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgcGFyZW50czogdmFsaWRfYXBwcm92ZXJfb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSkuZmV0Y2goKVxyXG5cdFx0XHRfLmVhY2goY2hpbGRfb3JncywgKGNoaWxkX29yZykgLT5cclxuXHRcdFx0XHRpZiBjaGlsZF9vcmcudXNlcnNcclxuXHRcdFx0XHRcdG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQoY2hpbGRfb3JnLnVzZXJzKVxyXG5cdFx0XHQpXHJcblx0XHQpXHJcblxyXG5cdFx0b3JnX3VzZXJfaWRzID0gXy51bmlxKG9yZ191c2VyX2lkcylcclxuXHRcdG5ld19vcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaChvcmdfdXNlcl9pZHMsIChvcmdfdXNlcl9pZCkgLT5cclxuXHRcdFx0c3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogb3JnX3VzZXJfaWQgfSkuY291bnQoKVxyXG5cdFx0XHRpZiBzcGFjZV91c2VyX2luZm9fY291bnQgPiAwXHJcblx0XHRcdFx0bmV3X29yZ191c2VyX2lkcy5wdXNoKG9yZ191c2VyX2lkKVxyXG5cdFx0KVxyXG5cclxuXHRcdHJldHVybiBuZXdfb3JnX3VzZXJfaWRzXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5VXNlclwiXHJcblx0XHQjIDEyLioqKioqKioqKioq5oyH5a6a55qE5Lq65ZGYKioqKioqKioqKipcclxuXHRcdGFwcHJvdmVyX3VzZXJfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJzXHJcblx0XHRhcHByb3Zlcl91c2VyX2lkcyA9IF8udW5pcShhcHByb3Zlcl91c2VyX2lkcylcclxuXHRcdG5ld19hcHByb3Zlcl91c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKGFwcHJvdmVyX3VzZXJfaWRzLCAoYXBwcm92ZXJfdXNlcl9pZCkgLT5cclxuXHRcdFx0c3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZXJfdXNlcl9pZCB9KS5jb3VudCgpXHJcblx0XHRcdGlmIHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDBcclxuXHRcdFx0XHRuZXdfYXBwcm92ZXJfdXNlcl9pZHMucHVzaChhcHByb3Zlcl91c2VyX2lkKVxyXG5cdFx0KVxyXG5cclxuXHRcdHJldHVybiBuZXdfYXBwcm92ZXJfdXNlcl9pZHNcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInBpY2t1cEF0UnVudGltZVwiXHJcblx0XHQjIDEzLioqKioqKioqKioq5a6h5om55pe25oyH5a6aKioqKioqKioqKipcclxuXHRcdG5leHRfc3RlcF91c2VycyA9IG5ldyBBcnJheVxyXG5cdFx0X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKF90cikgLT5cclxuXHRcdFx0cmV0dXJuIF90ci5pc19maW5pc2hlZCBpcyBmYWxzZVxyXG5cdFx0KVxyXG5cdFx0X2FwcHJvdmUgPSBfLmZpbmQoX3RyYWNlLmFwcHJvdmVzLCAoX2FwcCkgLT5cclxuXHRcdFx0cmV0dXJuIF9hcHAuaXNfZmluaXNoZWQgaXMgZmFsc2UgYW5kIF9hcHAudHlwZSBpc250ICdjYydcclxuXHRcdClcclxuXHJcblx0XHRpZiBfYXBwcm92ZS5uZXh0X3N0ZXBzXHJcblx0XHRcdGlmIF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXVxyXG5cdFx0XHRcdG5leHRfc3RlcF91c2VycyA9IF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXVxyXG5cclxuXHRcdHJldHVybiBuZXh0X3N0ZXBfdXNlcnNcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcImFwcGxpY2FudFN1cGVyaW9yXCJcclxuXHRcdCMgMTQuKioqKioqKioqKirnlLPor7fkurrkuIrnuqfkuLvnrqEqKioqKioqKioqKlxyXG5cdFx0YXBwbGljYW50U3VwZXJpb3JzID0gbmV3IEFycmF5XHJcblx0XHRfc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGluc3RhbmNlLmFwcGxpY2FudCB9LCB7IGZpZWxkczogeyBtYW5hZ2VyOiAxIH0gfSlcclxuXHRcdGlmIF9zcGFjZV91c2VyLm1hbmFnZXJcclxuXHRcdFx0YXBwbGljYW50U3VwZXJpb3JzLnB1c2goX3NwYWNlX3VzZXIubWFuYWdlcilcclxuXHJcblx0XHRyZXR1cm4gYXBwbGljYW50U3VwZXJpb3JzIiwiICAgICAgICAgICAgICAgICAgICAgICBcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyID0ge307XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyA9IGZ1bmN0aW9uKHVzZXJfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpIHtcbiAgdmFyIGFwcHJvdmVfdXNlcnM7XG4gIGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaCh1c2VyX2lkcywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgIHZhciB1c2VycztcbiAgICBpZiAoZGIudXNlcnMuZmluZCh7XG4gICAgICBfaWQ6IHVzZXJfaWRcbiAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyh1c2VyX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpO1xuICAgICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGFwcHJvdmVfdXNlcnMgPSBhcHByb3ZlX3VzZXJzLmNvbmNhdCh1c2Vycyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwidXNlcl9pZOS4jeWQiOazleS4jeWQiOazlVwiKTtcbiAgICB9XG4gIH0pO1xuICBhcHByb3ZlX3VzZXJzID0gXy51bmlxKGFwcHJvdmVfdXNlcnMpO1xuICByZXR1cm4gYXBwcm92ZV91c2Vycztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzID0gZnVuY3Rpb24odXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciB1c2VyX2lkcztcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChyb2xlX2lkcywgZnVuY3Rpb24ocm9sZV9pZCkge1xuICAgIHZhciB1c2VycztcbiAgICBpZiAoZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgIF9pZDogcm9sZV9pZFxuICAgIH0pLmNvdW50KCkgPiAwKSB7XG4gICAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpO1xuICAgICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJyb2xlX2lk5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgIH1cbiAgfSk7XG4gIGlmICh1c2VyX2lkcy5sZW5ndGggPiAwKSB7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIHJldHVybiB1c2VyX2lkcztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuagueaNrnVzZXJfaWTlkoxyb2xlX2lkc+ayoeafpeWIsOWvueW6lOeahOWkhOeQhuS6ulwiKTtcbiAgfVxufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSA9IGZ1bmN0aW9uKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKSB7XG4gIHZhciBvcmdzLCB1c2VyX2lkcztcbiAgb3JncyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgIHVzZXJzOiB1c2VyX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMVxuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChvcmdzLCBmdW5jdGlvbihvcmcpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnLl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpO1xuICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpO1xuICAgIH1cbiAgfSk7XG4gIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgcmV0dXJuIHVzZXJfaWRzO1xufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdzQW5kUm9sZXMgPSBmdW5jdGlvbihvcmdfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpIHtcbiAgdmFyIHVzZXJfaWRzO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgIHZhciB1c2VycztcbiAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpO1xuICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpO1xuICAgIH1cbiAgfSk7XG4gIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgcmV0dXJuIHVzZXJfaWRzO1xufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyA9IGZ1bmN0aW9uKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciB1c2VyX2lkcztcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChyb2xlX2lkcywgZnVuY3Rpb24ocm9sZV9pZCkge1xuICAgIHZhciB1c2VycztcbiAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKTtcbiAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICB9XG4gIH0pO1xuICBpZiAodXNlcl9pZHMubGVuZ3RoID4gMCkge1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmoLnmja5vcmdfaWTlkoxyb2xlX2lkc+ayoeafpeWIsOWvueW6lOeahOWkhOeQhuS6ulwiKTtcbiAgfVxufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlID0gZnVuY3Rpb24ob3JnX2lkLCByb2xlX2lkLCBzcGFjZV9pZCkge1xuICB2YXIgb3JnLCBwYXJlbnRzLCBwb3NpdGlvbnMsIHVzZXJfaWRzO1xuICBvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgIF9pZDogb3JnX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHBhcmVudHM6IDFcbiAgICB9XG4gIH0pO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgcG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgIG9yZzogb3JnX2lkLFxuICAgIHJvbGU6IHJvbGVfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgdXNlcnM6IDFcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIF8uZWFjaChwb3NpdGlvbnMsIGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKTtcbiAgfSk7XG4gIGlmICh1c2VyX2lkcy5sZW5ndGggPT09IDApIHtcbiAgICBwYXJlbnRzID0gb3JnLnBhcmVudHM7XG4gICAgXy5lYWNoKHBhcmVudHMsIGZ1bmN0aW9uKHBhcmVudF9pZCkge1xuICAgICAgcG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgb3JnOiBwYXJlbnRfaWQsXG4gICAgICAgIHJvbGU6IHJvbGVfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIGlmIChwb3NpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gXy5lYWNoKHBvc2l0aW9ucywgZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQocG9zaXRpb24udXNlcnMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIHJldHVybiB1c2VyX2lkcztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyA9IGZ1bmN0aW9uKGluc3RhbmNlX2lkLCBzdGVwX2lkKSB7XG4gIHZhciBfYXBwcm92ZSwgX3NwYWNlX3VzZXIsIF90cmFjZSwgYXBwbGljYW50LCBhcHBsaWNhbnRTdXBlcmlvcnMsIGFwcHJvdmVIclJvbGVJZHMsIGFwcHJvdmVfdXNlcnMsIGFwcHJvdmVyX29yZ19maWVsZCwgYXBwcm92ZXJfb3JnX2lkcywgYXBwcm92ZXJfc3RlcCwgYXBwcm92ZXJfdXNlcl9maWVsZCwgYXBwcm92ZXJfdXNlcl9pZHMsIGN1cnJlbnQsIGN1cnJlbnRfZmxvdywgY3VycmVudF9mbG93X3ZlcnNpb24sIGN1cnJlbnRfZm9ybSwgY3VycmVudF9zdGVwLCBjdXJyZW50X3N0ZXBzLCBkZWFsX3R5cGUsIGZpZWxkX2NvZGUsIGZpbmlzaGVkX3RyYWNlcywgZmxvd19pZCwgZmxvd19yZXYsIGZvcm0sIGZvcm1fZmllbGRzLCBmb3JtX2lkLCBmb3JtX3JldiwgaGFuZGxlcnMsIGluc3RhbmNlLCBtYXhfc3RhcnREYXRlX3RyYWNlLCBuZXdfYXBwcm92ZXJfdXNlcl9pZHMsIG5ld19vcmdfdXNlcl9pZHMsIG5ld2VzdF92YWx1ZXMsIG5leHRfc3RlcF91c2Vycywgb3JnX2lkcywgb3JnX2lkc19uYW1lcywgb3JnX3VzZXJfaWRzLCBzcGFjZV9pZCwgc3BhY2VfdXNlcl9jb3VudCwgc3VibWl0dGVyLCBzdWJtaXR0ZXJfdXNlcl9jb3VudCwgdW5maW5pc2hlZF90cmFjZSwgdXNlcl9pZHMsIHVzZXJfaWRzX25hbWVzLCB1c2VycywgdmFsaWRfYXBwcm92ZXJfb3JnX2lkcztcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XG4gIGlmIChpbnN0YW5jZS5zdGVwX2FwcHJvdmUgJiYgaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWRdKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnN0ZXBfYXBwcm92ZVtzdGVwX2lkXTtcbiAgfVxuICBhcHByb3ZlX3VzZXJzID0gbmV3IEFycmF5O1xuICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcbiAgZmxvd19yZXYgPSBpbnN0YW5jZS5mbG93X3ZlcnNpb247XG4gIGN1cnJlbnRfZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCk7XG4gIGN1cnJlbnRfc3RlcCA9IG51bGw7XG4gIGN1cnJlbnRfc3RlcHMgPSBuZXcgQXJyYXk7XG4gIGlmIChjdXJyZW50X2Zsb3cuY3VycmVudC5faWQgPT09IGZsb3dfcmV2KSB7XG4gICAgY3VycmVudF9zdGVwcyA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LnN0ZXBzO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnQgPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihoaXN0b3J5KSB7XG4gICAgICByZXR1cm4gaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgIH0pO1xuICAgIGN1cnJlbnRfc3RlcHMgPSBjdXJyZW50LnN0ZXBzO1xuICB9XG4gIGN1cnJlbnRfc3RlcCA9IF8uZmluZChjdXJyZW50X3N0ZXBzLCBmdW5jdGlvbihzdGVwKSB7XG4gICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICB9KTtcbiAgaWYgKGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgPT09IFwiY29uZGl0aW9uXCIpIHtcbiAgICB1bmZpbmlzaGVkX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIHJldHVybiB0cmFjZS5pc19maW5pc2hlZCA9PT0gZmFsc2U7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBBcnJheSh1bmZpbmlzaGVkX3RyYWNlLmFwcHJvdmVzWzBdLnVzZXIpO1xuICB9XG4gIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09PSBcInN0YXJ0XCIpIHtcbiAgICBoYW5kbGVycyA9IG5ldyBBcnJheTtcbiAgICBoYW5kbGVycy5wdXNoKGluc3RhbmNlLmFwcGxpY2FudCk7XG4gICAgaGFuZGxlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpO1xuICAgIGhhbmRsZXJzID0gXy51bmlxKGhhbmRsZXJzKTtcbiAgICByZXR1cm4gaGFuZGxlcnM7XG4gIH1cbiAgZGVhbF90eXBlID0gY3VycmVudF9zdGVwLmRlYWxfdHlwZTtcbiAgdXNlcnMgPSBuZXcgQXJyYXk7XG4gIGlmIChkZWFsX3R5cGUgPT09IFwiYXBwbGljYW50Um9sZVwiKSB7XG4gICAgYXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50O1xuICAgIGlmIChhcHBsaWNhbnQpIHtcbiAgICAgIHNwYWNlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHBsaWNhbnRcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoc3BhY2VfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoYXBwbGljYW50LCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIkluc3RhbmNl55qE5o+Q5Lqk5Lq65Li656m6XCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwiaHJSb2xlXCIpIHtcbiAgICBhcHByb3ZlSHJSb2xlSWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX2hyX3JvbGVzO1xuICAgIGlmIChhcHByb3ZlSHJSb2xlSWRzKSB7XG4gICAgICByZXR1cm4gXy5wbHVjayhXb3JrZmxvd01hbmFnZXIuZ2V0SHJSb2xlc1VzZXJzKHNwYWNlX2lkLCBhcHByb3ZlSHJSb2xlSWRzKSwgJ3VzZXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLmnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJhcHBsaWNhbnRcIikge1xuICAgIGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudDtcbiAgICBzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBhcHBsaWNhbnRcbiAgICB9KS5jb3VudCgpO1xuICAgIGlmIChzcGFjZV91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5KGFwcGxpY2FudCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJvcmdGaWVsZFJvbGVcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX29yZ19maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdfZmllbGQ7XG4gICAgZm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzO1xuICAgIGZpZWxkX2NvZGUgPSBudWxsO1xuICAgIF8uZWFjaChmb3JtX2ZpZWxkcywgZnVuY3Rpb24oZm9ybV9maWVsZCkge1xuICAgICAgaWYgKGZvcm1fZmllbGQuX2lkID09PSBhcHByb3Zlcl9vcmdfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgb3JnX2lkcyA9IG5ldyBBcnJheTtcbiAgICBvcmdfaWRzX25hbWVzID0gbmV3IEFycmF5O1xuICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKSB7XG4gICAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIG9yZ19pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBfLmVhY2gob3JnX2lkc19uYW1lcywgZnVuY3Rpb24ob3JnKSB7XG4gICAgICB2YXIgY2hlY2tfb3JnX2NvdW50O1xuICAgICAgY2hlY2tfb3JnX2NvdW50ID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgX2lkOiBvcmdbXCJpZFwiXVxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChjaGVja19vcmdfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dJROS4jeWQiOazlVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcmdfaWRzLnB1c2gob3JnW1wiaWRcIl0pO1xuICAgIH0pO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdzQW5kUm9sZXMob3JnX2lkcywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBpbnN0YW5jZS5zcGFjZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwib3JnRmllbGRcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX29yZ19maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdfZmllbGQ7XG4gICAgZm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzO1xuICAgIGZpZWxkX2NvZGUgPSBudWxsO1xuICAgIF8uZWFjaChmb3JtX2ZpZWxkcywgZnVuY3Rpb24oZm9ybV9maWVsZCkge1xuICAgICAgaWYgKGZvcm1fZmllbGQuX2lkID09PSBhcHByb3Zlcl9vcmdfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgb3JnX2lkcyA9IG5ldyBBcnJheTtcbiAgICBvcmdfaWRzX25hbWVzID0gbmV3IEFycmF5O1xuICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKSB7XG4gICAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIG9yZ19pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBfLmVhY2gob3JnX2lkc19uYW1lcywgZnVuY3Rpb24ob3JnKSB7XG4gICAgICB2YXIgY2hlY2tfb3JnX2NvdW50O1xuICAgICAgY2hlY2tfb3JnX2NvdW50ID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgX2lkOiBvcmdbXCJpZFwiXVxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChjaGVja19vcmdfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dJROS4jeWQiOazlVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcmdfaWRzLnB1c2gob3JnW1wiaWRcIl0pO1xuICAgIH0pO1xuICAgIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgIHZhciBjaGVja19vcmdzLCBvcmcsIG9yZ19jaGlsZHJlbiwgb3JnX3VzZXJzO1xuICAgICAgb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBvcmdfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBvcmdfY2hpbGRyZW4gPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHBhcmVudHM6IG9yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgb3JnX2NoaWxkcmVuLnVuc2hpZnQob3JnKTtcbiAgICAgIGNoZWNrX29yZ3MgPSBvcmdfY2hpbGRyZW47XG4gICAgICBvcmdfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICBfLmVhY2goY2hlY2tfb3JncywgZnVuY3Rpb24oY2hlY2tfb3JnX3VzZXIpIHtcbiAgICAgICAgaWYgKGNoZWNrX29yZ191c2VyLnVzZXJzKSB7XG4gICAgICAgICAgXy5lYWNoKGNoZWNrX29yZ191c2VyLnVzZXJzLCBmdW5jdGlvbihvcmdfdXNlcikge1xuICAgICAgICAgICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICAgICAgIHVzZXI6IG9yZ191c2VyXG4gICAgICAgICAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwic3BhY2XkuIvkuI3lrZjlnKjmraR1c2VyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KGNoZWNrX29yZ191c2VyLnVzZXJzKTtcbiAgICAgICAgcmV0dXJuIG9yZ191c2VycyA9IG9yZ191c2Vycy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpO1xuICAgICAgfSk7XG4gICAgICBpZiAob3JnX3VzZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h1wiICsgb3JnX2lkICsgXCLkuI3lrZjlnKjlpITnkIbkurpcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIHJldHVybiB1c2VyX2lkcztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwidXNlckZpZWxkUm9sZVwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfdXNlcl9maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VyX2ZpZWxkO1xuICAgIGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkcztcbiAgICBmaWVsZF9jb2RlID0gbnVsbDtcbiAgICBfLmVhY2goZm9ybV9maWVsZHMsIGZ1bmN0aW9uKGZvcm1fZmllbGQpIHtcbiAgICAgIGlmIChmb3JtX2ZpZWxkLl9pZCA9PT0gYXBwcm92ZXJfdXNlcl9maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICB1c2VyX2lkc19uYW1lcyA9IG5ldyBBcnJheTtcbiAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSkge1xuICAgICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB1c2VyX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1c2VyX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godXNlcl9pZHNfbmFtZXMsIGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgIHZhciBjaGVja191c2VyX2NvdW50O1xuICAgICAgY2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IHVzZXJbXCJpZFwiXVxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChjaGVja191c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5Lq65ZGYSUTkuI3lkIjms5VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pO1xuICAgIH0pO1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzICYmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyh1c2VyX2lkcywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBpbnN0YW5jZS5zcGFjZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwidXNlckZpZWxkXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGQ7XG4gICAgZm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzO1xuICAgIGZpZWxkX2NvZGUgPSBudWxsO1xuICAgIF8uZWFjaChmb3JtX2ZpZWxkcywgZnVuY3Rpb24oZm9ybV9maWVsZCkge1xuICAgICAgaWYgKGZvcm1fZmllbGQuX2lkID09PSBhcHByb3Zlcl91c2VyX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5O1xuICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKSB7XG4gICAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVzZXJfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaCh1c2VyX2lkc19uYW1lcywgZnVuY3Rpb24odXNlcikge1xuICAgICAgdmFyIGNoZWNrX3VzZXJfY291bnQ7XG4gICAgICBjaGVja191c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogdXNlcltcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1c2VyX2lkcy5wdXNoKHVzZXJbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIHJldHVybiB1c2VyX2lkcztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3BlY2lmeVN0ZXBSb2xlXCIpIHtcbiAgICBhcHByb3Zlcl9zdGVwID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3N0ZXA7XG4gICAgZmluaXNoZWRfdHJhY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICBpZiAodHJhY2Uuc3RlcCA9PT0gYXBwcm92ZXJfc3RlcCkge1xuICAgICAgICByZXR1cm4gZmluaXNoZWRfdHJhY2VzLnB1c2godHJhY2UpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1heF9zdGFydERhdGVfdHJhY2UgPSBfLm1heChmaW5pc2hlZF90cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHJldHVybiB0LnN0YXJ0X2RhdGU7XG4gICAgfSk7XG4gICAgYXBwcm92ZV91c2VycyA9IF8ucGx1Y2sobWF4X3N0YXJ0RGF0ZV90cmFjZS5hcHByb3ZlcywgXCJ1c2VyXCIpO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMpIHtcbiAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6KeS6Imy5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgXy5lYWNoKGFwcHJvdmVfdXNlcnMsIGZ1bmN0aW9uKGFwcHJvdmVfdXNlcikge1xuICAgICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcHJvdmVfdXNlclxuICAgICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKGFwcHJvdmVfdXNlcnMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzcGVjaWZ5U3RlcFVzZXJcIikge1xuICAgIGFwcHJvdmVyX3N0ZXAgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfc3RlcDtcbiAgICBmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIGlmICh0cmFjZS5zdGVwID09PSBhcHByb3Zlcl9zdGVwKSB7XG4gICAgICAgIHJldHVybiBmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgcmV0dXJuIHQuc3RhcnRfZGF0ZTtcbiAgICB9KTtcbiAgICBhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIik7XG4gICAgXy5lYWNoKGFwcHJvdmVfdXNlcnMsIGZ1bmN0aW9uKGFwcHJvdmVfdXNlcikge1xuICAgICAgdmFyIGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudDtcbiAgICAgIGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcHJvdmVfdXNlclxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChjaGVja19hcHByb3ZlX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmjIflrprmraXpqqTnmoTlpITnkIbkurrlt7Lnu4/lj5jmm7RcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwcm92ZV91c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKTtcbiAgICByZXR1cm4gYXBwcm92ZV91c2VycztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3VibWl0dGVyUm9sZVwiKSB7XG4gICAgc3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyO1xuICAgIGlmICghc3VibWl0dGVyKSB7XG4gICAgICBzdWJtaXR0ZXJfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IHN1Ym1pdHRlclxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzdWJtaXR0ZXJfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHN1Ym1pdHRlciwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlLPor7fljZXnmoTmj5DkuqTkurrkuLrnqbpcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzdWJtaXR0ZXJcIikge1xuICAgIHN1Ym1pdHRlciA9IGluc3RhbmNlLnN1Ym1pdHRlcjtcbiAgICBzdWJtaXR0ZXJfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogc3VibWl0dGVyXG4gICAgfSkuY291bnQoKTtcbiAgICBpZiAoc3VibWl0dGVyX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmN5bel5L2c5Yy6XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5KHN1Ym1pdHRlcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzcGVjaWZ5T3JnXCIpIHtcbiAgICBhcHByb3Zlcl9vcmdfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ3M7XG4gICAgaWYgKCFhcHByb3Zlcl9vcmdfaWRzIHx8IGFwcHJvdmVyX29yZ19pZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquWumuS5ieeUqOS6juafpeaJvuS4i+S4gOatpeWkhOeQhuS6uueahOmDqOmXqO+8jOivt+iBlOezu+euoeeQhuWRmOiwg+afpea1geeoi+WbvueahOmFjee9ruaYr+WQpuato+ehrlwiKTtcbiAgICB9XG4gICAgdmFsaWRfYXBwcm92ZXJfb3JnX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goYXBwcm92ZXJfb3JnX2lkcywgZnVuY3Rpb24oYXBwcm92ZXJfb3JnX2lkKSB7XG4gICAgICBpZiAoZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgX2lkOiBhcHByb3Zlcl9vcmdfaWRcbiAgICAgIH0pLmNvdW50KCkgPiAwKSB7XG4gICAgICAgIHJldHVybiB2YWxpZF9hcHByb3Zlcl9vcmdfaWRzLnVuc2hpZnQoYXBwcm92ZXJfb3JnX2lkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBvcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHZhbGlkX2FwcHJvdmVyX29yZ19pZHMsIGZ1bmN0aW9uKHZhbGlkX2FwcHJvdmVyX29yZ19pZCkge1xuICAgICAgdmFyIGNoaWxkX29yZ3MsIHZhbGlkX2FwcHJvdmVyX29yZztcbiAgICAgIHZhbGlkX2FwcHJvdmVyX29yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogdmFsaWRfYXBwcm92ZXJfb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHZhbGlkX2FwcHJvdmVyX29yZy51c2Vycykge1xuICAgICAgICBvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KHZhbGlkX2FwcHJvdmVyX29yZy51c2Vycyk7XG4gICAgICB9XG4gICAgICBjaGlsZF9vcmdzID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICBwYXJlbnRzOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIHJldHVybiBfLmVhY2goY2hpbGRfb3JncywgZnVuY3Rpb24oY2hpbGRfb3JnKSB7XG4gICAgICAgIGlmIChjaGlsZF9vcmcudXNlcnMpIHtcbiAgICAgICAgICByZXR1cm4gb3JnX3VzZXJfaWRzID0gb3JnX3VzZXJfaWRzLmNvbmNhdChjaGlsZF9vcmcudXNlcnMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBvcmdfdXNlcl9pZHMgPSBfLnVuaXEob3JnX3VzZXJfaWRzKTtcbiAgICBuZXdfb3JnX3VzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChvcmdfdXNlcl9pZHMsIGZ1bmN0aW9uKG9yZ191c2VyX2lkKSB7XG4gICAgICB2YXIgc3BhY2VfdXNlcl9pbmZvX2NvdW50O1xuICAgICAgc3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogb3JnX3VzZXJfaWRcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoc3BhY2VfdXNlcl9pbmZvX2NvdW50ID4gMCkge1xuICAgICAgICByZXR1cm4gbmV3X29yZ191c2VyX2lkcy5wdXNoKG9yZ191c2VyX2lkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3X29yZ191c2VyX2lkcztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3BlY2lmeVVzZXJcIikge1xuICAgIGFwcHJvdmVyX3VzZXJfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJzO1xuICAgIGFwcHJvdmVyX3VzZXJfaWRzID0gXy51bmlxKGFwcHJvdmVyX3VzZXJfaWRzKTtcbiAgICBuZXdfYXBwcm92ZXJfdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGFwcHJvdmVyX3VzZXJfaWRzLCBmdW5jdGlvbihhcHByb3Zlcl91c2VyX2lkKSB7XG4gICAgICB2YXIgc3BhY2VfdXNlcl9pbmZvX2NvdW50O1xuICAgICAgc3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwcm92ZXJfdXNlcl9pZFxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzcGFjZV91c2VyX2luZm9fY291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiBuZXdfYXBwcm92ZXJfdXNlcl9pZHMucHVzaChhcHByb3Zlcl91c2VyX2lkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3X2FwcHJvdmVyX3VzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJwaWNrdXBBdFJ1bnRpbWVcIikge1xuICAgIG5leHRfc3RlcF91c2VycyA9IG5ldyBBcnJheTtcbiAgICBfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbihfdHIpIHtcbiAgICAgIHJldHVybiBfdHIuaXNfZmluaXNoZWQgPT09IGZhbHNlO1xuICAgIH0pO1xuICAgIF9hcHByb3ZlID0gXy5maW5kKF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oX2FwcCkge1xuICAgICAgcmV0dXJuIF9hcHAuaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIF9hcHAudHlwZSAhPT0gJ2NjJztcbiAgICB9KTtcbiAgICBpZiAoX2FwcHJvdmUubmV4dF9zdGVwcykge1xuICAgICAgaWYgKF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXSkge1xuICAgICAgICBuZXh0X3N0ZXBfdXNlcnMgPSBfYXBwcm92ZS5uZXh0X3N0ZXBzWzBdW1widXNlcnNcIl07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXh0X3N0ZXBfdXNlcnM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcImFwcGxpY2FudFN1cGVyaW9yXCIpIHtcbiAgICBhcHBsaWNhbnRTdXBlcmlvcnMgPSBuZXcgQXJyYXk7XG4gICAgX3NwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IGluc3RhbmNlLmFwcGxpY2FudFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBtYW5hZ2VyOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKF9zcGFjZV91c2VyLm1hbmFnZXIpIHtcbiAgICAgIGFwcGxpY2FudFN1cGVyaW9ycy5wdXNoKF9zcGFjZV91c2VyLm1hbmFnZXIpO1xuICAgIH1cbiAgICByZXR1cm4gYXBwbGljYW50U3VwZXJpb3JzO1xuICB9XG59O1xuIiwicGVybWlzc2lvbk1hbmFnZXIgPSB7fVxyXG5cclxucGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zID0gKGZsb3dfaWQsIHVzZXJfaWQpIC0+XHJcblx0IyDmoLnmja46Zmxvd19pZOafpeWIsOWvueW6lOeahGZsb3dcclxuXHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGZsb3dfaWQpXHJcblx0c3BhY2VfaWQgPSBmbG93LnNwYWNlXHJcblx0IyDmoLnmja5zcGFjZV9pZOWSjDp1c2VyX2lk5Yiwb3JnYW5pemF0aW9uc+ihqOS4reafpeWIsOeUqOaIt+aJgOWxnuaJgOacieeahG9yZ19pZO+8iOWMheaLrOS4iue6p+e7hElE77yJXHJcblx0b3JnX2lkcyA9IG5ldyBBcnJheVxyXG5cdG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xyXG5cdFx0c3BhY2U6IHNwYWNlX2lkLCB1c2VyczogdXNlcl9pZCB9LCB7IGZpZWxkczogeyBwYXJlbnRzOiAxIH0gfSkuZmV0Y2goKVxyXG5cdF8uZWFjaChvcmdhbml6YXRpb25zLCAob3JnKSAtPlxyXG5cdFx0b3JnX2lkcy5wdXNoKG9yZy5faWQpXHJcblx0XHRpZiBvcmcucGFyZW50c1xyXG5cdFx0XHRfLmVhY2gob3JnLnBhcmVudHMsIChwYXJlbnRfaWQpIC0+XHJcblx0XHRcdFx0b3JnX2lkcy5wdXNoKHBhcmVudF9pZClcclxuXHRcdFx0KVxyXG5cdClcclxuXHRvcmdfaWRzID0gXy51bmlxKG9yZ19pZHMpXHJcblx0bXlfcGVybWlzc2lvbnMgPSBuZXcgQXJyYXlcclxuXHRpZiBmbG93LnBlcm1zXHJcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX2FkbWlu5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXHJcblx0XHQjIOaIluiAhWZsb3cucGVybXMub3Jnc19jYW5fYWRk5piv5ZCm5YyF5ZCrNOatpeW+l+WIsOeahG9yZ19pZOaVsOe7hOS4reeahOS7u+S9leS4gOS4qu+8jFxyXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIphZGRcclxuXHRcdGlmIGZsb3cucGVybXMudXNlcnNfY2FuX2FkZFxyXG5cdFx0XHR1c2Vyc19jYW5fYWRkID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRkXHJcblx0XHRcdGlmIHVzZXJzX2Nhbl9hZGQuaW5jbHVkZXModXNlcl9pZClcclxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpXHJcblxyXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGRcclxuXHRcdFx0b3Jnc19jYW5fYWRkID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGRcclxuXHRcdFx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpIC0+XHJcblx0XHRcdFx0aWYgb3Jnc19jYW5fYWRkLmluY2x1ZGVzKG9yZ19pZClcclxuXHRcdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIilcclxuXHRcdFx0KVxyXG5cdFx0IyDliKTmlq1mbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9y5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXHJcblx0XHQjIOaIluiAhWZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcuaYr+WQpuWMheWQqzTmraXlvpfliLDnmoRvcmdfaWTmlbDnu4TkuK3nmoTku7vkvZXkuIDkuKrvvIxcclxuXHRcdCMg6Iul5piv77yM5YiZ5Zyo6L+U5Zue55qE5pWw57uE5Lit5Yqg5LiKbW9uaXRvclxyXG5cdFx0aWYgZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvclxyXG5cdFx0XHR1c2Vyc19jYW5fbW9uaXRvciA9IGZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3JcclxuXHRcdFx0aWYgdXNlcnNfY2FuX21vbml0b3IuaW5jbHVkZXModXNlcl9pZClcclxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKVxyXG5cclxuXHRcdGlmIGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvclxyXG5cdFx0XHRvcmdzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yXHJcblx0XHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxyXG5cdFx0XHRcdGlmIG9yZ3NfY2FuX21vbml0b3IuaW5jbHVkZXMob3JnX2lkKVxyXG5cdFx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcIm1vbml0b3JcIilcclxuXHRcdFx0KVxyXG5cdFx0IyDliKTmlq1mbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbuS4reaYr+WQpuWMheWQq+W9k+WJjeeUqOaIt++8jFxyXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWlu5piv5ZCm5YyF5ZCrNOatpeW+l+WIsOeahG9yZ19pZOaVsOe7hOS4reeahOS7u+S9leS4gOS4qu+8jFxyXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIphZG1pblxyXG5cdFx0aWYgZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW5cclxuXHRcdFx0dXNlcnNfY2FuX2FkbWluID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW5cclxuXHRcdFx0aWYgdXNlcnNfY2FuX2FkbWluLmluY2x1ZGVzKHVzZXJfaWQpXHJcblx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpXHJcblxyXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pblxyXG5cdFx0XHRvcmdzX2Nhbl9hZG1pbiA9IGZsb3cucGVybXMub3Jnc19jYW5fYWRtaW5cclxuXHRcdFx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpIC0+XHJcblx0XHRcdFx0aWYgb3Jnc19jYW5fYWRtaW4uaW5jbHVkZXMob3JnX2lkKVxyXG5cdFx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpXHJcblx0XHRcdClcclxuXHJcblx0bXlfcGVybWlzc2lvbnMgPSBfLnVuaXEobXlfcGVybWlzc2lvbnMpXHJcblx0cmV0dXJuIG15X3Blcm1pc3Npb25zIiwiICAgICAgICAgICAgICAgICAgICAgIFxuXG5wZXJtaXNzaW9uTWFuYWdlciA9IHt9O1xuXG5wZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMgPSBmdW5jdGlvbihmbG93X2lkLCB1c2VyX2lkKSB7XG4gIHZhciBmbG93LCBteV9wZXJtaXNzaW9ucywgb3JnX2lkcywgb3JnYW5pemF0aW9ucywgb3Jnc19jYW5fYWRkLCBvcmdzX2Nhbl9hZG1pbiwgb3Jnc19jYW5fbW9uaXRvciwgc3BhY2VfaWQsIHVzZXJzX2Nhbl9hZGQsIHVzZXJzX2Nhbl9hZG1pbiwgdXNlcnNfY2FuX21vbml0b3I7XG4gIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZCk7XG4gIHNwYWNlX2lkID0gZmxvdy5zcGFjZTtcbiAgb3JnX2lkcyA9IG5ldyBBcnJheTtcbiAgb3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgIHVzZXJzOiB1c2VyX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHBhcmVudHM6IDFcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIF8uZWFjaChvcmdhbml6YXRpb25zLCBmdW5jdGlvbihvcmcpIHtcbiAgICBvcmdfaWRzLnB1c2gob3JnLl9pZCk7XG4gICAgaWYgKG9yZy5wYXJlbnRzKSB7XG4gICAgICByZXR1cm4gXy5lYWNoKG9yZy5wYXJlbnRzLCBmdW5jdGlvbihwYXJlbnRfaWQpIHtcbiAgICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChwYXJlbnRfaWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgb3JnX2lkcyA9IF8udW5pcShvcmdfaWRzKTtcbiAgbXlfcGVybWlzc2lvbnMgPSBuZXcgQXJyYXk7XG4gIGlmIChmbG93LnBlcm1zKSB7XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX2FkZCkge1xuICAgICAgdXNlcnNfY2FuX2FkZCA9IGZsb3cucGVybXMudXNlcnNfY2FuX2FkZDtcbiAgICAgIGlmICh1c2Vyc19jYW5fYWRkLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZCkge1xuICAgICAgb3Jnc19jYW5fYWRkID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGQ7XG4gICAgICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgICAgIGlmIChvcmdzX2Nhbl9hZGQuaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3IpIHtcbiAgICAgIHVzZXJzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvcjtcbiAgICAgIGlmICh1c2Vyc19jYW5fbW9uaXRvci5pbmNsdWRlcyh1c2VyX2lkKSkge1xuICAgICAgICBteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcikge1xuICAgICAgb3Jnc19jYW5fbW9uaXRvciA9IGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcjtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX21vbml0b3IuaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbikge1xuICAgICAgdXNlcnNfY2FuX2FkbWluID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW47XG4gICAgICBpZiAodXNlcnNfY2FuX2FkbWluLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fYWRtaW4pIHtcbiAgICAgIG9yZ3NfY2FuX2FkbWluID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pbjtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX2FkbWluLmluY2x1ZGVzKG9yZ19pZCkpIHtcbiAgICAgICAgICByZXR1cm4gbXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgbXlfcGVybWlzc2lvbnMgPSBfLnVuaXEobXlfcGVybWlzc2lvbnMpO1xuICByZXR1cm4gbXlfcGVybWlzc2lvbnM7XG59O1xuIiwiYXBwcm92ZU1hbmFnZXIgPSB7fVxyXG5cclxuXHJcbiMjI1xyXG4gICAg5a+55q+UYXBwcm92ZV92YWx1ZXPkuI5sYXN0X3ZhbHVlcyDlr7nosaHvvIwg6L+U5ZueYXBwcm92ZV92YWx1ZXPmr5RsYXN0X3ZhbHVlc+WkmuWHuueahOaIluiAheaUueWPmOeahOmDqOWIhlxyXG4jIyNcclxuYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzID0gKGxhc3RfdmFsdWVzLGFwcHJvdmVfdmFsdWVzKSAtPlxyXG5cclxuXHRjaGFuZ2VWYWx1ZXMgPSB7fVxyXG5cclxuXHRsYXN0X3ZhbHVlc19rZXlzID0gXy5rZXlzKGxhc3RfdmFsdWVzKVxyXG5cclxuXHRhcHByb3ZlX3ZhbHVlc19rZXlzID0gXy5rZXlzKGFwcHJvdmVfdmFsdWVzKVxyXG5cclxuI1x0Y29uc29sZS5sb2coXCJsYXN0X3ZhbHVlc19rZXlzXCIsIGxhc3RfdmFsdWVzX2tleXMpXHJcbiNcclxuI1x0Y29uc29sZS5sb2coXCJhcHByb3ZlX3ZhbHVlc19rZXlzXCIsIGFwcHJvdmVfdmFsdWVzX2tleXMpXHJcblxyXG5cdGFwcHJvdmVfdmFsdWVzX2tleXMuZm9yRWFjaCAoa2V5KS0+XHJcblx0XHRpZiBfLmNvbnRhaW5zKGxhc3RfdmFsdWVzX2tleXMsIGtleSlcclxuXHRcdFx0aWYgIV8uaXNFcXVhbChsYXN0X3ZhbHVlc1trZXldLCBhcHByb3ZlX3ZhbHVlc1trZXldKVxyXG5cdFx0XHRcdGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpZiBhcHByb3ZlX3ZhbHVlc1trZXldICE9ICcnXHJcbiNcdFx0XHRcdGNvbnNvbGUubG9nKGtleSxhcHByb3ZlX3ZhbHVlc1trZXldKVxyXG5cdFx0XHRcdGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XVxyXG5cclxuXHRyZXR1cm4gY2hhbmdlVmFsdWVzXHJcbiIsIiAgICAgICAgICAgICAgICAgICBcblxuYXBwcm92ZU1hbmFnZXIgPSB7fTtcblxuXG4vKlxuICAgIOWvueavlGFwcHJvdmVfdmFsdWVz5LiObGFzdF92YWx1ZXMg5a+56LGh77yMIOi/lOWbnmFwcHJvdmVfdmFsdWVz5q+UbGFzdF92YWx1ZXPlpJrlh7rnmoTmiJbogIXmlLnlj5jnmoTpg6jliIZcbiAqL1xuXG5hcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMgPSBmdW5jdGlvbihsYXN0X3ZhbHVlcywgYXBwcm92ZV92YWx1ZXMpIHtcbiAgdmFyIGFwcHJvdmVfdmFsdWVzX2tleXMsIGNoYW5nZVZhbHVlcywgbGFzdF92YWx1ZXNfa2V5cztcbiAgY2hhbmdlVmFsdWVzID0ge307XG4gIGxhc3RfdmFsdWVzX2tleXMgPSBfLmtleXMobGFzdF92YWx1ZXMpO1xuICBhcHByb3ZlX3ZhbHVlc19rZXlzID0gXy5rZXlzKGFwcHJvdmVfdmFsdWVzKTtcbiAgYXBwcm92ZV92YWx1ZXNfa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChfLmNvbnRhaW5zKGxhc3RfdmFsdWVzX2tleXMsIGtleSkpIHtcbiAgICAgIGlmICghXy5pc0VxdWFsKGxhc3RfdmFsdWVzW2tleV0sIGFwcHJvdmVfdmFsdWVzW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VWYWx1ZXNba2V5XSA9IGFwcHJvdmVfdmFsdWVzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhcHByb3ZlX3ZhbHVlc1trZXldICE9PSAnJykge1xuICAgICAgICByZXR1cm4gY2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjaGFuZ2VWYWx1ZXM7XG59O1xuIiwiZmxvd01hbmFnZXIgPSB7fVxyXG5cclxuZmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zsb3dzID0gKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCBmaWVsZHMpLT5cclxuXHJcblx0Y2F0ZWdvcmllc0Zvcm1zID0gZm9ybU1hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zvcm1zKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCB7X2lkOiAxfSkuZmV0Y2goKVxyXG5cclxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7Zm9ybTogeyRpbiA6IGNhdGVnb3JpZXNGb3Jtcy5nZXRQcm9wZXJ0eShcIl9pZFwiKX19KVxyXG5cclxuZmxvd01hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRmxvd3MgPSAoc3BhY2VJZCwgZmllbGRzKS0+XHJcblxyXG5cdHVuQ2F0ZWdvcmllc0Zvcm1zID0gZm9ybU1hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRm9ybXMoc3BhY2VJZCwge19pZDogMX0pLmZldGNoKClcclxuXHJcblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe2Zvcm06IHskaW4gOiB1bkNhdGVnb3JpZXNGb3Jtcy5nZXRQcm9wZXJ0eShcIl9pZFwiKX19KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiZm9ybU1hbmFnZXIgPSB7fVxyXG5cclxuZm9ybU1hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zvcm1zID0gKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCBmaWVsZHMpLT5cclxuXHRpZiBmaWVsZHNcclxuXHRcdF9maWVsZHMgPSB7ZmllbGRzOiBmaWVsZHN9XHJcblxyXG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZCwgY2F0ZWdvcnk6IGNhdGVnb3JpZUlkLCBzdGF0ZTogXCJlbmFibGVkXCJ9LCBfZmllbGRzKVxyXG5cclxuZm9ybU1hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRm9ybXMgPSAoc3BhY2VJZCwgZmllbGRzKSAtPlxyXG5cdGlmIGZpZWxkc1xyXG5cdFx0X2ZpZWxkcyA9IHtmaWVsZHM6IGZpZWxkc31cclxuXHRyZXR1cm4gZGIuZm9ybXMuZmluZCh7c3BhY2U6IHNwYWNlSWQsIGNhdGVnb3J5OiB7JGluOiBbbnVsbCwgXCJcIl19LCBzdGF0ZTogXCJlbmFibGVkXCJ9LCBfZmllbGRzKVxyXG4iLCIgICAgICAgICAgICAgICAgXG5cbmZvcm1NYW5hZ2VyID0ge307XG5cbmZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyA9IGZ1bmN0aW9uKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCBmaWVsZHMpIHtcbiAgdmFyIF9maWVsZHM7XG4gIGlmIChmaWVsZHMpIHtcbiAgICBfZmllbGRzID0ge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9O1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBjYXRlZ29yeTogY2F0ZWdvcmllSWQsXG4gICAgc3RhdGU6IFwiZW5hYmxlZFwiXG4gIH0sIF9maWVsZHMpO1xufTtcblxuZm9ybU1hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRm9ybXMgPSBmdW5jdGlvbihzcGFjZUlkLCBmaWVsZHMpIHtcbiAgdmFyIF9maWVsZHM7XG4gIGlmIChmaWVsZHMpIHtcbiAgICBfZmllbGRzID0ge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9O1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBjYXRlZ29yeToge1xuICAgICAgJGluOiBbbnVsbCwgXCJcIl1cbiAgICB9LFxuICAgIHN0YXRlOiBcImVuYWJsZWRcIlxuICB9LCBfZmllbGRzKTtcbn07XG4iLCJzdGVwTWFuYWdlciA9IHt9XHJcblxyXG5zdGVwTWFuYWdlci5hbGxvd0JhdGNoID0gKHN0ZXApLT5cclxuXHRyZXR1cm4gc3RlcC5hbGxvd0JhdGNoXHJcblxyXG5zdGVwTWFuYWdlci5nZXRTdGVwID0gKGluc3RhbmNlLCBmbG93LCBzdGVwX2lkKS0+XHJcblx0Zmxvd19yZXYgPSBpbnN0YW5jZS5mbG93X3ZlcnNpb25cclxuXHRpc0V4aXN0U3RlcCA9IG51bGxcclxuXHRpZiBmbG93LmN1cnJlbnQuX2lkIGlzIGZsb3dfcmV2XHJcblx0XHRpc0V4aXN0U3RlcCA9IF8uZmluZChmbG93LmN1cnJlbnQuc3RlcHMsIChzdGVwKS0+XHJcblx0XHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXHJcblx0XHQpXHJcblx0ZWxzZVxyXG5cdFx0Xy5lYWNoKGZsb3cuaGlzdG9yeXMsIChoaXN0b3J5KS0+XHJcblx0XHRcdGlmIGhpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XHJcblx0XHRcdFx0aXNFeGlzdFN0ZXAgPSBfLmZpbmQoaGlzdG9yeS5zdGVwcywgKHN0ZXApLT5cclxuXHRcdFx0XHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXHJcblx0XHRcdFx0KVxyXG5cdFx0KVxyXG5cclxuXHRpZiBub3QgaXNFeGlzdFN0ZXBcclxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN6IO96I635Y+Wc3RlcFwiKVxyXG5cclxuXHRyZXR1cm4gaXNFeGlzdFN0ZXAiLCIgICAgICAgICAgICAgICAgXG5cbnN0ZXBNYW5hZ2VyID0ge307XG5cbnN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2ggPSBmdW5jdGlvbihzdGVwKSB7XG4gIHJldHVybiBzdGVwLmFsbG93QmF0Y2g7XG59O1xuXG5zdGVwTWFuYWdlci5nZXRTdGVwID0gZnVuY3Rpb24oaW5zdGFuY2UsIGZsb3csIHN0ZXBfaWQpIHtcbiAgdmFyIGZsb3dfcmV2LCBpc0V4aXN0U3RlcDtcbiAgZmxvd19yZXYgPSBpbnN0YW5jZS5mbG93X3ZlcnNpb247XG4gIGlzRXhpc3RTdGVwID0gbnVsbDtcbiAgaWYgKGZsb3cuY3VycmVudC5faWQgPT09IGZsb3dfcmV2KSB7XG4gICAgaXNFeGlzdFN0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbihzdGVwKSB7XG4gICAgICByZXR1cm4gc3RlcC5faWQgPT09IHN0ZXBfaWQ7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgXy5lYWNoKGZsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGhpc3RvcnkpIHtcbiAgICAgIGlmIChoaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXYpIHtcbiAgICAgICAgcmV0dXJuIGlzRXhpc3RTdGVwID0gXy5maW5kKGhpc3Rvcnkuc3RlcHMsIGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICByZXR1cm4gc3RlcC5faWQgPT09IHN0ZXBfaWQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmICghaXNFeGlzdFN0ZXApIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeiDveiOt+WPlnN0ZXBcIik7XG4gIH1cbiAgcmV0dXJuIGlzRXhpc3RTdGVwO1xufTtcbiIsIl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpXHJcblxyXG5JbnN0YW5jZU1hbmFnZXIgPSB7fVxyXG5cclxubG9nZ2VyID0gbmV3IExvZ2dlciAnV29ya2Zsb3cgLT4gSW5zdGFuY2VNYW5hZ2VyJ1xyXG5cclxuSW5zdGFuY2VNYW5hZ2VyLmhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXAgPSAoaW5zLCBmaWVsZF9tYXApIC0+XHJcblx0cmVzID0gaW5zXHJcblx0aWYgaW5zXHJcblx0XHRpZiAhZmllbGRfbWFwXHJcblxyXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogaW5zLmZsb3cgfSwgeyBmaWVsZHM6IHsgZmllbGRfbWFwOiAxIH0gfSlcclxuXHJcblx0XHRcdGlmIGZsb3c/LmZpZWxkX21hcFxyXG5cdFx0XHRcdGZpZWxkX21hcCA9IGZsb3cuZmllbGRfbWFwXHJcblxyXG5cdFx0aWYgZmllbGRfbWFwXHJcblx0XHRcdGNvbnRleHQgPSBfLmNsb25lKGlucylcclxuXHJcblx0XHRcdGNvbnRleHQuXyA9IF9cclxuXHJcblx0XHRcdHNjcmlwdCA9IFwidmFyIGluc3RhbmNlcyA9ICN7ZmllbGRfbWFwfTsgZXhwb3J0cy5pbnN0YW5jZXMgPSBpbnN0YW5jZXNcIlxyXG5cdFx0XHR0cnlcclxuXHRcdFx0XHRyZXMgPSBfZXZhbChzY3JpcHQsIFwiaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcFwiLCBjb250ZXh0LCBmYWxzZSkuaW5zdGFuY2VzXHJcblx0XHRcdGNhdGNoIGVcclxuXHRcdFx0XHRyZXMgPSB7IF9lcnJvcjogZSB9XHJcblx0XHRcdFx0bG9nZ2VyLmVycm9yIGVcclxuXHRyZXR1cm4gcmVzXHJcblxyXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUgPSAoaW5zdGFuY2UsIGhhbmRsZXIpLT5cclxuXHJcblx0aWYgIWluc3RhbmNlIG9yICFpbnN0YW5jZS50cmFjZXMgb3IgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDFcclxuXHRcdHJldHVyblxyXG5cclxuXHRjdXJyZW50VHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKVxyXG5cclxuXHRpZiBjdXJyZW50VHJhY2VzLmxlbmd0aFxyXG5cdFx0Y3VycmVudEFwcHJvdmVzID0gY3VycmVudFRyYWNlc1swXS5hcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eSgnaXNfZmluaXNoZWQnLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoJ2hhbmRsZXInLCBoYW5kbGVyKVxyXG5cdFx0Y3VycmVudEFwcHJvdmUgPSBpZiBjdXJyZW50QXBwcm92ZXMubGVuZ3RoID4gMCB0aGVuIGN1cnJlbnRBcHByb3Zlc1swXSBlbHNlIG51bGxcclxuXHJcblx0I+S8oOmYheeahGFwcHJvdmXov5Tlm57mnIDmlrDkuIDmnaFcclxuXHRpZiAhY3VycmVudEFwcHJvdmUgb3IgY3VycmVudEFwcHJvdmUudHlwZSA9PSAnY2MnXHJcblx0XHQjIOW9k+WJjeaYr+S8oOmYhVxyXG5cdFx0Xy5lYWNoIGluc3RhbmNlLnRyYWNlcywgKHQpIC0+XHJcblx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cclxuXHRcdFx0XHRpZiBhLnR5cGUgPT0gJ2NjJyBhbmQgYS51c2VyID09IGhhbmRsZXIgYW5kIGEuaXNfZmluaXNoZWQgPT0gZmFsc2VcclxuXHRcdFx0XHRcdGN1cnJlbnRBcHByb3ZlID0gYVxyXG5cdFx0XHRcdHJldHVyblxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0aWYgIWN1cnJlbnRBcHByb3ZlXHJcblx0XHRyZXR1cm5cclxuXHJcblx0cmV0dXJuIGN1cnJlbnRBcHByb3ZlXHJcblxyXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlID0gKGluc3RhbmNlLCB0cmFjZUlkKS0+XHJcblx0cmV0dXJuIGluc3RhbmNlLnRyYWNlcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlSWQpXHJcblxyXG5JbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlID0gKGluc3RhbmNlSWQsIHVzZXJJZCktPlxyXG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pXHJcblxyXG5cdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcclxuXHJcblx0bXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZShpbnN0YW5jZSwgdXNlcklkKVxyXG5cclxuXHRpZiBteV9hcHByb3ZlXHJcblxyXG4jXHRcdGxhbmcgPSBTdGVlZG9zLmxvY2FsZSh0aGF0LnVzZXJJZCwgdHJ1ZSlcclxuXHJcblx0XHR0cmFjZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UoaW5zdGFuY2UsIG15X2FwcHJvdmUudHJhY2UpXHJcblxyXG5cdFx0c3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgdHJhY2Uuc3RlcClcclxuXHJcblx0XHRzdGVwX3R5cGUgPSBzdGVwLnN0ZXBfdHlwZVxyXG5cclxuXHRcdGp1ZGdlID0gaWYgc3RlcF90eXBlID09IFwic2lnblwiIHRoZW4gXCJhcHByb3ZlZFwiIGVsc2UgXCJcIlxyXG5cclxuXHRcdG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBqdWRnZSlcclxuXHJcblx0XHRpZiBuZXh0U3RlcHMubGVuZ3RoID09IDFcclxuXHRcdFx0aWYgc3RlcF90eXBlID09IFwic2lnblwiIHx8IHN0ZXBfdHlwZSA9PSBcImNvdW50ZXJTaWduXCJcclxuXHRcdFx0XHRteV9hcHByb3ZlLmp1ZGdlID0gJ2FwcHJvdmVkJ1xyXG5cdFx0XHRuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc3RhbmNlLl9pZCAsIG5leHRTdGVwc1swXSlcclxuXHRcdFx0aWYgIW5leHRfdXNlcl9pZHNcclxuXHRcdFx0XHRteV9hcHByb3ZlLm5leHRfc3RlcHMgPSBbeyBzdGVwOiBuZXh0U3RlcHNbMF0sIHVzZXJzOiBbXSB9XVxyXG5cdFx0XHRcdHJldHVybiBteV9hcHByb3ZlXHJcblx0XHRcdGlmIG5leHRfdXNlcl9pZHMubGVuZ3RoID09IDFcclxuXHRcdFx0XHRteV9hcHByb3ZlLm5leHRfc3RlcHMgPSBbe3N0ZXA6IG5leHRTdGVwc1swXSwgdXNlcnM6IG5leHRfdXNlcl9pZHN9XVxyXG5cdFx0XHRcdHJldHVybiBteV9hcHByb3ZlXHJcbiNcdFx0XHRlbHNlXHJcbiNcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFRBUGkxOG4uX18oJ3dvcmtmbG93X2Vycm9yX211bHRpcGxlX25leHRfc3RlcF91c2VycycsIHtpbnNuYW1lOiBpbnN0YW5jZS5uYW1lfSwgbGFuZykpXHJcbiNcdFx0ZWxzZVxyXG4jXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgVEFQaTE4bi5fXygnd29ya2Zsb3dfZXJyb3JfbXVsdGlwbGVfbmV4dF9zdGVwJywge2luc25hbWU6IGluc3RhbmNlLm5hbWV9LCBsYW5nKSlcclxuXHJcblx0cmV0dXJuXHJcblxyXG5cclxuSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzID0gKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCBpbmJveF91c2VyKS0+XHJcblx0X2JhdGNoX2luc3RhbmNlcyA9IG5ldyBBcnJheSgpXHJcblxyXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZSwgaW5ib3hfdXNlcnM6IGluYm94X3VzZXJ9XHJcblxyXG5cdEZJRUxEUyA9IHsgbmFtZTogMSwgYXBwbGljYW50X25hbWU6IDEsIHN1Ym1pdF9kYXRlOiAxLCBmbG93X3ZlcnNpb246IDEsIFwidHJhY2VzLnN0ZXBcIjogMSwgZmxvdzogMSwgY3VycmVudF9zdGVwX25hbWU6IDEsIGZsb3dfbmFtZTogMSB9XHJcblxyXG5cdGlmIGNhdGVnb3J5SWRcclxuXHJcblx0XHRpZiBjYXRlZ29yeUlkID09ICctMSdcclxuXHRcdFx0dW5DYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRmxvd3Moc3BhY2UsIHtfaWQ6IDF9KS5mZXRjaCgpLmdldFByb3BlcnR5KFwiX2lkXCIpXHJcblx0XHRcdHF1ZXJ5LmZsb3cgPSB7JGluOiB1bkNhdGVnb3J5Rmxvd3N9XHJcblx0XHRlbHNlXHJcblx0XHRcdGNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRDYXRlZ29yaWVzRmxvd3Moc3BhY2UsIGNhdGVnb3J5SWQsIHtfaWQ6IDF9KS5mZXRjaCgpLmdldFByb3BlcnR5KFwiX2lkXCIpXHJcblx0XHRcdHF1ZXJ5LmZsb3cgPSB7JGluOiBjYXRlZ29yeUZsb3dzfVxyXG5cclxuXHRpZiBmbG93SWRzXHJcblx0XHRxdWVyeS5mbG93ID0geyRpbjogZmxvd0lkc31cclxuXHJcbiNcdGNvbnNvbGUubG9nKFwicXVlcnlcIiwgSlNPTi5zdHJpbmdpZnkocXVlcnkpKVxyXG5cclxuXHRpbmJveF9pbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczogRklFTERTLCBza2lwOiAwLCBsaW1pdDogMTAwfSlcclxuXHJcblx0aW5ib3hfaW5zdGFuY2VzLmZvckVhY2ggKGlucyktPlxyXG5cdFx0Y3VycmVudFN0ZXBJZCA9IF8ubGFzdChpbnMudHJhY2VzKS5zdGVwICNUT0RPIOatpOS7o+eggeS4jemAgueUqOS8oOmYheaJueWkhOeQhlxyXG5cclxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGlucy5mbG93fSlcclxuXHJcblx0XHRjdXJyZW50U3RlcCA9IHN0ZXBNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBjdXJyZW50U3RlcElkKVxyXG5cclxuXHRcdG15QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zLl9pZCwgaW5ib3hfdXNlcilcclxuXHJcblx0XHRpZiBzdGVwTWFuYWdlci5hbGxvd0JhdGNoKGN1cnJlbnRTdGVwKSAmJiBteUFwcHJvdmVcclxuXHJcblx0XHRcdGRlbGV0ZSBpbnMuZmxvd192ZXJzaW9uXHJcblxyXG5cdFx0XHRkZWxldGUgaW5zLnRyYWNlc1xyXG5cclxuXHRcdFx0ZGVsZXRlIGlucy5mbG93XHJcblxyXG5cdFx0XHRpbnMuYXBwcm92ZV9zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGVcclxuXHJcblx0XHRcdF9iYXRjaF9pbnN0YW5jZXMucHVzaChpbnMpXHJcbiNcdFx0ZWxzZVxyXG4jXHRcdFx0Y29uc29sZS5sb2coXCLmibnph4/lrqHmibkt5byC5bi45pWw5o2uXCIsIGlucy5faWQpXHJcblxyXG5cdHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzXHJcbiIsInZhciBfZXZhbCwgbG9nZ2VyOyAgICAgICAgICAgICAgICAgXG5cbl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpO1xuXG5JbnN0YW5jZU1hbmFnZXIgPSB7fTtcblxubG9nZ2VyID0gbmV3IExvZ2dlcignV29ya2Zsb3cgLT4gSW5zdGFuY2VNYW5hZ2VyJyk7XG5cbkluc3RhbmNlTWFuYWdlci5oYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwID0gZnVuY3Rpb24oaW5zLCBmaWVsZF9tYXApIHtcbiAgdmFyIGNvbnRleHQsIGUsIGZsb3csIHJlcywgc2NyaXB0O1xuICByZXMgPSBpbnM7XG4gIGlmIChpbnMpIHtcbiAgICBpZiAoIWZpZWxkX21hcCkge1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGlucy5mbG93XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZpZWxkX21hcDogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93LmZpZWxkX21hcCA6IHZvaWQgMCkge1xuICAgICAgICBmaWVsZF9tYXAgPSBmbG93LmZpZWxkX21hcDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZpZWxkX21hcCkge1xuICAgICAgY29udGV4dCA9IF8uY2xvbmUoaW5zKTtcbiAgICAgIGNvbnRleHQuXyA9IF87XG4gICAgICBzY3JpcHQgPSBcInZhciBpbnN0YW5jZXMgPSBcIiArIGZpZWxkX21hcCArIFwiOyBleHBvcnRzLmluc3RhbmNlcyA9IGluc3RhbmNlc1wiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzID0gX2V2YWwoc2NyaXB0LCBcImhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXBcIiwgY29udGV4dCwgZmFsc2UpLmluc3RhbmNlcztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgcmVzID0ge1xuICAgICAgICAgIF9lcnJvcjogZVxuICAgICAgICB9O1xuICAgICAgICBsb2dnZXIuZXJyb3IoZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUgPSBmdW5jdGlvbihpbnN0YW5jZSwgaGFuZGxlcikge1xuICB2YXIgY3VycmVudEFwcHJvdmUsIGN1cnJlbnRBcHByb3ZlcywgY3VycmVudFRyYWNlcztcbiAgaWYgKCFpbnN0YW5jZSB8fCAhaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGN1cnJlbnRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpO1xuICBpZiAoY3VycmVudFRyYWNlcy5sZW5ndGgpIHtcbiAgICBjdXJyZW50QXBwcm92ZXMgPSBjdXJyZW50VHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eSgnaGFuZGxlcicsIGhhbmRsZXIpO1xuICAgIGN1cnJlbnRBcHByb3ZlID0gY3VycmVudEFwcHJvdmVzLmxlbmd0aCA+IDAgPyBjdXJyZW50QXBwcm92ZXNbMF0gOiBudWxsO1xuICB9XG4gIGlmICghY3VycmVudEFwcHJvdmUgfHwgY3VycmVudEFwcHJvdmUudHlwZSA9PT0gJ2NjJykge1xuICAgIF8uZWFjaChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgIGlmIChhLnR5cGUgPT09ICdjYycgJiYgYS51c2VyID09PSBoYW5kbGVyICYmIGEuaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgY3VycmVudEFwcHJvdmUgPSBhO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBpZiAoIWN1cnJlbnRBcHByb3ZlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiBjdXJyZW50QXBwcm92ZTtcbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UgPSBmdW5jdGlvbihpbnN0YW5jZSwgdHJhY2VJZCkge1xuICByZXR1cm4gaW5zdGFuY2UudHJhY2VzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdHJhY2VJZCk7XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlID0gZnVuY3Rpb24oaW5zdGFuY2VJZCwgdXNlcklkKSB7XG4gIHZhciBmbG93LCBpbnN0YW5jZSwganVkZ2UsIG15X2FwcHJvdmUsIG5leHRTdGVwcywgbmV4dF91c2VyX2lkcywgc3RlcCwgc3RlcF90eXBlLCB0cmFjZTtcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pO1xuICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICBteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKGluc3RhbmNlLCB1c2VySWQpO1xuICBpZiAobXlfYXBwcm92ZSkge1xuICAgIHRyYWNlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRUcmFjZShpbnN0YW5jZSwgbXlfYXBwcm92ZS50cmFjZSk7XG4gICAgc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgdHJhY2Uuc3RlcCk7XG4gICAgc3RlcF90eXBlID0gc3RlcC5zdGVwX3R5cGU7XG4gICAganVkZ2UgPSBzdGVwX3R5cGUgPT09IFwic2lnblwiID8gXCJhcHByb3ZlZFwiIDogXCJcIjtcbiAgICBuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwganVkZ2UpO1xuICAgIGlmIChuZXh0U3RlcHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAoc3RlcF90eXBlID09PSBcInNpZ25cIiB8fCBzdGVwX3R5cGUgPT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgICBteV9hcHByb3ZlLmp1ZGdlID0gJ2FwcHJvdmVkJztcbiAgICAgIH1cbiAgICAgIG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zdGFuY2UuX2lkLCBuZXh0U3RlcHNbMF0pO1xuICAgICAgaWYgKCFuZXh0X3VzZXJfaWRzKSB7XG4gICAgICAgIG15X2FwcHJvdmUubmV4dF9zdGVwcyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdGVwOiBuZXh0U3RlcHNbMF0sXG4gICAgICAgICAgICB1c2VyczogW11cbiAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBteV9hcHByb3ZlO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRfdXNlcl9pZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIG15X2FwcHJvdmUubmV4dF9zdGVwcyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdGVwOiBuZXh0U3RlcHNbMF0sXG4gICAgICAgICAgICB1c2VyczogbmV4dF91c2VyX2lkc1xuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIG15X2FwcHJvdmU7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMgPSBmdW5jdGlvbihzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgaW5ib3hfdXNlcikge1xuICB2YXIgRklFTERTLCBfYmF0Y2hfaW5zdGFuY2VzLCBjYXRlZ29yeUZsb3dzLCBpbmJveF9pbnN0YW5jZXMsIHF1ZXJ5LCB1bkNhdGVnb3J5Rmxvd3M7XG4gIF9iYXRjaF9pbnN0YW5jZXMgPSBuZXcgQXJyYXkoKTtcbiAgcXVlcnkgPSB7XG4gICAgc3BhY2U6IHNwYWNlLFxuICAgIGluYm94X3VzZXJzOiBpbmJveF91c2VyXG4gIH07XG4gIEZJRUxEUyA9IHtcbiAgICBuYW1lOiAxLFxuICAgIGFwcGxpY2FudF9uYW1lOiAxLFxuICAgIHN1Ym1pdF9kYXRlOiAxLFxuICAgIGZsb3dfdmVyc2lvbjogMSxcbiAgICBcInRyYWNlcy5zdGVwXCI6IDEsXG4gICAgZmxvdzogMSxcbiAgICBjdXJyZW50X3N0ZXBfbmFtZTogMSxcbiAgICBmbG93X25hbWU6IDFcbiAgfTtcbiAgaWYgKGNhdGVnb3J5SWQpIHtcbiAgICBpZiAoY2F0ZWdvcnlJZCA9PT0gJy0xJykge1xuICAgICAgdW5DYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRmxvd3Moc3BhY2UsIHtcbiAgICAgICAgX2lkOiAxXG4gICAgICB9KS5mZXRjaCgpLmdldFByb3BlcnR5KFwiX2lkXCIpO1xuICAgICAgcXVlcnkuZmxvdyA9IHtcbiAgICAgICAgJGluOiB1bkNhdGVnb3J5Rmxvd3NcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRDYXRlZ29yaWVzRmxvd3Moc3BhY2UsIGNhdGVnb3J5SWQsIHtcbiAgICAgICAgX2lkOiAxXG4gICAgICB9KS5mZXRjaCgpLmdldFByb3BlcnR5KFwiX2lkXCIpO1xuICAgICAgcXVlcnkuZmxvdyA9IHtcbiAgICAgICAgJGluOiBjYXRlZ29yeUZsb3dzXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBpZiAoZmxvd0lkcykge1xuICAgIHF1ZXJ5LmZsb3cgPSB7XG4gICAgICAkaW46IGZsb3dJZHNcbiAgICB9O1xuICB9XG4gIGluYm94X2luc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiBGSUVMRFMsXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogMTAwXG4gIH0pO1xuICBpbmJveF9pbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihpbnMpIHtcbiAgICB2YXIgY3VycmVudFN0ZXAsIGN1cnJlbnRTdGVwSWQsIGZsb3csIG15QXBwcm92ZTtcbiAgICBjdXJyZW50U3RlcElkID0gXy5sYXN0KGlucy50cmFjZXMpLnN0ZXA7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnMuZmxvd1xuICAgIH0pO1xuICAgIGN1cnJlbnRTdGVwID0gc3RlcE1hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGN1cnJlbnRTdGVwSWQpO1xuICAgIG15QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zLl9pZCwgaW5ib3hfdXNlcik7XG4gICAgaWYgKHN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2goY3VycmVudFN0ZXApICYmIG15QXBwcm92ZSkge1xuICAgICAgZGVsZXRlIGlucy5mbG93X3ZlcnNpb247XG4gICAgICBkZWxldGUgaW5zLnRyYWNlcztcbiAgICAgIGRlbGV0ZSBpbnMuZmxvdztcbiAgICAgIGlucy5hcHByb3ZlX3N0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZTtcbiAgICAgIHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzLnB1c2goaW5zKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gX2JhdGNoX2luc3RhbmNlcztcbn07XG4iLCJNZXRlb3IucHVibGlzaCAnY2F0ZWdvcmllcycsIChzcGFjZUlkKSAtPlxyXG5cdGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xyXG5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblxyXG5cdHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCBzcGFjZTogMSwgc29ydF9ubzogMSwgYXBwOiAxIH0gfSkiLCJNZXRlb3IucHVibGlzaCgnY2F0ZWdvcmllcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBzb3J0X25vOiAxLFxuICAgICAgYXBwOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiXHJcbk1ldGVvci5wdWJsaXNoICdjZnNfaW5zdGFuY2VzJywgKGluc3RhbmNlSWRzKS0+XHJcblx0Y2hlY2soaW5zdGFuY2VJZHMsIEFycmF5KVxyXG5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIGluc3RhbmNlSWRzXHJcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0cmV0dXJuIGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogeyRpbjogaW5zdGFuY2VJZHN9ICwgJG9yOiBbeydtZXRhZGF0YS5pc19wcml2YXRlJzogeyRuZTogdHJ1ZX19LHsnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHRydWUsIFwibWV0YWRhdGEub3duZXJcIjogdGhpcy51c2VySWR9XX0pXHJcbiIsIk1ldGVvci5wdWJsaXNoKCdjZnNfaW5zdGFuY2VzJywgZnVuY3Rpb24oaW5zdGFuY2VJZHMpIHtcbiAgY2hlY2soaW5zdGFuY2VJZHMsIEFycmF5KTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZUlkcykge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgJ21ldGFkYXRhLmluc3RhbmNlJzoge1xuICAgICAgJGluOiBpbnN0YW5jZUlkc1xuICAgIH0sXG4gICAgJG9yOiBbXG4gICAgICB7XG4gICAgICAgICdtZXRhZGF0YS5pc19wcml2YXRlJzoge1xuICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICdtZXRhZGF0YS5pc19wcml2YXRlJzogdHJ1ZSxcbiAgICAgICAgXCJtZXRhZGF0YS5vd25lclwiOiB0aGlzLnVzZXJJZFxuICAgICAgfVxuICAgIF1cbiAgfSk7XG59KTtcbiIsIlxyXG5cclxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfcG9zaXRpb25zJywgKHNwYWNlSWQpLT5cclxuXHRcclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHRcclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRyZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7cm9sZToxLCB1c2VyczogMSwgb3JnOiAxfX0pO1xyXG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19wb3NpdGlvbnMnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHJvbGU6IDEsXG4gICAgICB1c2VyczogMSxcbiAgICAgIG9yZzogMVxuICAgIH1cbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlICdmbG93X3Bvc2l0aW9uc190YWJ1bGFyJywgKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpLT5cclxuXHRjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XHJcblx0Y2hlY2soaWRzLCBBcnJheSk7XHJcblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcclxuXHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHRoaXMudW5ibG9jaygpXHJcblxyXG5cdGZpbmQ6IC0+XHJcblx0XHR0aGlzLnVuYmxvY2soKVxyXG5cdFx0ZGIuZmxvd19wb3NpdGlvbnMuZmluZCB7X2lkOiB7JGluOiBpZHN9fSwgZmllbGRzOiBmaWVsZHNcclxuXHJcblx0Y2hpbGRyZW46IFtcclxuXHRcdHtcclxuXHRcdFx0ZmluZDogKHBvc2l0aW9uKSAtPlxyXG5cdFx0XHRcdEB1bmJsb2NrKClcclxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgZmxvd19yb2xlc1xyXG5cdFx0XHRcdGRiLmZsb3dfcm9sZXMuZmluZCB7IF9pZDogcG9zaXRpb24ucm9sZSB9LCBmaWVsZHM6IG5hbWU6IDFcclxuXHRcdH1cclxuXHRcdHtcclxuXHRcdFx0ZmluZDogKHBvc2l0aW9uKSAtPlxyXG5cdFx0XHRcdEB1bmJsb2NrKClcclxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgb3JnYW5pemF0aW9uc1xyXG5cdFx0XHRcdGRiLm9yZ2FuaXphdGlvbnMuZmluZCB7IF9pZDogcG9zaXRpb24ub3JnIH0sIGZpZWxkczogZnVsbG5hbWU6IDFcclxuXHRcdH1cclxuXHRcdHtcclxuXHRcdFx0ZmluZDogKHBvc2l0aW9uKSAtPlxyXG5cdFx0XHRcdEB1bmJsb2NrKClcclxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxyXG5cdFx0XHRcdGRiLnNwYWNlX3VzZXJzLmZpbmQge1xyXG5cdFx0XHRcdFx0c3BhY2U6IHBvc2l0aW9uLnNwYWNlXHJcblx0XHRcdFx0XHR1c2VyOiAkaW46IHBvc2l0aW9uLnVzZXJzXHJcblx0XHRcdFx0fSwgZmllbGRzOlxyXG5cdFx0XHRcdFx0c3BhY2U6IDFcclxuXHRcdFx0XHRcdHVzZXI6IDFcclxuXHRcdFx0XHRcdG5hbWU6IDFcclxuXHRcdH1cclxuXHRdIiwiTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUoJ2Zsb3dfcG9zaXRpb25zX3RhYnVsYXInLCBmdW5jdGlvbih0YWJsZU5hbWUsIGlkcywgZmllbGRzKSB7XG4gIGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcbiAgY2hlY2soaWRzLCBBcnJheSk7XG4gIGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHRoaXMudW5ibG9jaygpO1xuICByZXR1cm4ge1xuICAgIGZpbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICByZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaWRzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICAgIF9pZDogcG9zaXRpb24ucm9sZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgICAgIF9pZDogcG9zaXRpb24ub3JnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogcG9zaXRpb24uc3BhY2UsXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICRpbjogcG9zaXRpb24udXNlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIHVzZXI6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfTtcbn0pO1xuIiwiXHJcblxyXG5cdE1ldGVvci5wdWJsaXNoICdmbG93X3JvbGVzJywgKHNwYWNlSWQpLT5cclxuXHRcdFxyXG5cdFx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHRcdFxyXG5cdFx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHJcblx0XHRyZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtuYW1lOjF9fSk7XHJcbiIsIk1ldGVvci5wdWJsaXNoKCdmbG93X3JvbGVzJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnZmxvd3MnLCAoc3BhY2VJZCktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHQjIOesrOS4gOasoeiuoumYheaXtuWIneWni+WMluW3peS9nOWMulxyXG5cdGlmIGRiLmZsb3dzLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSkuY291bnQoKSA9PSAwXHJcblx0XHRkYi5zcGFjZXMuY3JlYXRlVGVtcGxhdGVGb3JtQW5kRmxvdyhzcGFjZUlkKVxyXG5cclxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7XHJcblx0XHRmaWVsZHM6IHtcclxuXHRcdFx0bmFtZTogMSxcclxuXHRcdFx0Zm9ybTogMSxcclxuXHRcdFx0c3RhdGU6IDEsXHJcblx0XHRcdHBlcm1zOiAxLFxyXG5cdFx0XHRzcGFjZTogMSxcclxuXHRcdFx0Y29tcGFueV9pZDogMSxcclxuXHRcdFx0c29ydF9ubzogMSxcclxuXHRcdFx0ZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcclxuXHRcdFx0ZGlzdHJpYnV0ZV90b19zZWxmOiAxXHJcblx0XHR9XHJcblx0fSlcclxuXHJcblxyXG5NZXRlb3IucHVibGlzaCAnZmxvd192ZXJzaW9uJywgKHNwYWNlSWQsIGZsb3dJZCwgdmVyc2lvbklkKSAtPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgZmxvd0lkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyB2ZXJzaW9uSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblxyXG5cdHNlbGYgPSB0aGlzO1xyXG5cclxuXHRnZXRGbG93VmVyc2lvbiA9IChpZCAsIHZlcnNpb25JZCktPlxyXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZCA6IGlkfSk7XHJcblx0XHRpZiBmbG93XHJcblx0XHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudFxyXG5cdFx0XHRmbG93X3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZVxyXG5cclxuXHRcdFx0aWYgZmxvd192ZXJzaW9uLl9pZCAhPSB2ZXJzaW9uSWRcclxuXHRcdFx0XHRmbG93X3ZlcnNpb24gPSBmbG93Lmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKVxyXG5cdFx0XHRcdGZsb3dfdmVyc2lvbi5sYXRlc3QgPSBmYWxzZVxyXG5cclxuXHRcdFx0cmV0dXJuIGZsb3dfdmVyc2lvblxyXG5cdGhhbmRsZSA9IGRiLmZsb3dzLmZpbmQoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge19pZDogMSwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDF9fSkub2JzZXJ2ZUNoYW5nZXMge1xyXG5cdFx0Y2hhbmdlZDogKGlkKS0+XHJcblx0XHRcdHNlbGYuY2hhbmdlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XHJcblx0fVxyXG5cclxuXHJcblx0c2VsZi5hZGRlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihmbG93SWQsIHZlcnNpb25JZCkpO1xyXG5cdHNlbGYucmVhZHkoKTtcclxuXHRzZWxmLm9uU3RvcCAoKS0+XHJcblx0XHRoYW5kbGUuc3RvcCgpXHJcblxyXG5NZXRlb3IucHVibGlzaCAnZGlzdHJpYnV0ZV9vcHRpb25hbF9mbG93cycsIChmbG93X2lkcyktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgZmxvd19pZHNcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe19pZDogeyRpbjogZmxvd19pZHN9fSwge1xyXG5cdFx0ZmllbGRzOiB7XHJcblx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdGZvcm06IDEsXHJcblx0XHRcdHN0YXRlOiAxLFxyXG5cdFx0XHRwZXJtczogMSxcclxuXHRcdFx0c3BhY2U6IDEsXHJcblx0XHRcdGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXHJcblx0XHRcdGRpc3RyaWJ1dGVfdG9fc2VsZjogMSxcclxuXHRcdFx0ZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxyXG5cdFx0XHRjb21wYW55X2lkOiAxXHJcblx0XHR9XHJcblx0fSlcclxuXHJcbk1ldGVvci5wdWJsaXNoICdmbG93JywgKHNwYWNlSWQsIGZsb3dJZCktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgZmxvd0lkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cclxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7X2lkOiBmbG93SWQsIHNwYWNlOiBzcGFjZUlkfSwge1xyXG5cdFx0ZmllbGRzOiB7XHJcblx0XHRcdHByaW50X3RlbXBsYXRlOiAxLFxyXG5cdFx0XHRpbnN0YW5jZV90ZW1wbGF0ZTogMSxcclxuXHRcdFx0ZXZlbnRzOiAxLFxyXG5cdFx0XHRkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxyXG5cdFx0XHRkaXN0cmlidXRlX3RvX3NlbGY6IDEsXHJcblx0XHRcdHVwbG9hZF9hZnRlcl9iZWluZ19kaXN0cmlidXRlZDogMSxcclxuXHRcdFx0ZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxyXG5cdFx0XHRjb21wYW55X2lkOiAxLFxyXG5cdFx0XHRhbGxvd19zZWxlY3Rfc3RlcDogMVxyXG5cdFx0fVxyXG5cdH0pXHJcbk1ldGVvci5wdWJsaXNoICdmbG93X2ZpbGVzJywgKHNwYWNlSWQsIGZsb3dJZCktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgZmxvd0lkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHJldHVybiBjZnMuZmlsZXMuZmluZCh7ICdtZXRhZGF0YS5zcGFjZSc6IHNwYWNlSWQsICdtZXRhZGF0YS5vYmplY3RfbmFtZSc6ICdmbG93cycsICdtZXRhZGF0YS5yZWNvcmRfaWQnOiBmbG93SWQgfSlcclxuXHJcbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlICdmbG93c190YWJ1bGFyJywgKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpLT5cclxuXHRjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XHJcblx0Y2hlY2soaWRzLCBBcnJheSk7XHJcblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcclxuXHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHRoaXMudW5ibG9jaygpXHJcblxyXG5cdGZpbmQ6IC0+XHJcblx0XHR0aGlzLnVuYmxvY2soKVxyXG5cdFx0ZGIuZmxvd3MuZmluZCB7X2lkOiB7JGluOiBpZHN9fSwgZmllbGRzOiBmaWVsZHNcclxuXHJcblx0Y2hpbGRyZW46IFtcclxuXHRcdHtcclxuXHRcdFx0ZmluZDogKGZsb3cpIC0+XHJcblx0XHRcdFx0QHVuYmxvY2soKVxyXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCB1c2VyXHJcblx0XHRcdFx0ZGIuc3BhY2VfdXNlcnMuZmluZCB7XHJcblx0XHRcdFx0XHRzcGFjZTogZmxvdy5zcGFjZSxcclxuXHRcdFx0XHRcdHVzZXI6IGZsb3cuY3VycmVudC5tb2RpZmllZF9ieVxyXG5cdFx0XHRcdH0sIGZpZWxkczpcclxuXHRcdFx0XHRcdHNwYWNlOiAxXHJcblx0XHRcdFx0XHR1c2VyOiAxXHJcblx0XHRcdFx0XHRuYW1lOiAxXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHRmaW5kOiAoZmxvdykgLT5cclxuXHRcdFx0XHRAdW5ibG9jaygpXHJcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcclxuXHRcdFx0XHRkYi5mb3Jtcy5maW5kIHtcclxuXHRcdFx0XHRcdHNwYWNlOiBmbG93LnNwYWNlLFxyXG5cdFx0XHRcdFx0X2lkOiBmbG93LmZvcm1cclxuXHRcdFx0XHR9LCBmaWVsZHM6XHJcblx0XHRcdFx0XHRzcGFjZTogMVxyXG5cdFx0XHRcdFx0X2lkOiAxXHJcblx0XHRcdFx0XHRuYW1lOiAxLFxyXG5cdFx0XHRcdFx0Y2F0ZWdvcnk6IDFcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdGZpbmQ6IChmbG93KSAtPlxyXG5cdFx0XHRcdEB1bmJsb2NrKClcclxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxyXG5cdFx0XHRcdGRiLmNhdGVnb3JpZXMuZmluZCB7XHJcblx0XHRcdFx0XHRzcGFjZTogZmxvdy5zcGFjZVxyXG5cdFx0XHRcdH0sIGZpZWxkczpcclxuXHRcdFx0XHRcdHNwYWNlOiAxXHJcblx0XHRcdFx0XHRfaWQ6IDFcclxuXHRcdFx0XHRcdG5hbWU6IDFcclxuXHRcdH1cclxuXHRdIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dzJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmIChkYi5mbG93cy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgZGIuc3BhY2VzLmNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3coc3BhY2VJZCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBmb3JtOiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBwZXJtczogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgY29tcGFueV9pZDogMSxcbiAgICAgIHNvcnRfbm86IDEsXG4gICAgICBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuICAgICAgZGlzdHJpYnV0ZV90b19zZWxmOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZmxvd192ZXJzaW9uJywgZnVuY3Rpb24oc3BhY2VJZCwgZmxvd0lkLCB2ZXJzaW9uSWQpIHtcbiAgdmFyIGdldEZsb3dWZXJzaW9uLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmbG93SWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghdmVyc2lvbklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0Rmxvd1ZlcnNpb24gPSBmdW5jdGlvbihpZCwgdmVyc2lvbklkKSB7XG4gICAgdmFyIGZsb3csIGZsb3dfdmVyc2lvbjtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlkXG4gICAgfSk7XG4gICAgaWYgKGZsb3cpIHtcbiAgICAgIGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudDtcbiAgICAgIGZsb3dfdmVyc2lvbi5sYXRlc3QgPSB0cnVlO1xuICAgICAgaWYgKGZsb3dfdmVyc2lvbi5faWQgIT09IHZlcnNpb25JZCkge1xuICAgICAgICBmbG93X3ZlcnNpb24gPSBmbG93Lmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKTtcbiAgICAgICAgZmxvd192ZXJzaW9uLmxhdGVzdCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZsb3dfdmVyc2lvbjtcbiAgICB9XG4gIH07XG4gIGhhbmRsZSA9IGRiLmZsb3dzLmZpbmQoe1xuICAgIF9pZDogZmxvd0lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiAxXG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJmbG93X3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rmxvd1ZlcnNpb24oaWQsIHZlcnNpb25JZCkpO1xuICAgIH1cbiAgfSk7XG4gIHNlbGYuYWRkZWQoXCJmbG93X3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rmxvd1ZlcnNpb24oZmxvd0lkLCB2ZXJzaW9uSWQpKTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdkaXN0cmlidXRlX29wdGlvbmFsX2Zsb3dzJywgZnVuY3Rpb24oZmxvd19pZHMpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmbG93X2lkcykge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgIF9pZDoge1xuICAgICAgJGluOiBmbG93X2lkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGZvcm06IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHBlcm1zOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuICAgICAgZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxuICAgICAgZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxuICAgICAgY29tcGFueV9pZDogMVxuICAgIH1cbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Zsb3cnLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgIF9pZDogZmxvd0lkLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHByaW50X3RlbXBsYXRlOiAxLFxuICAgICAgaW5zdGFuY2VfdGVtcGxhdGU6IDEsXG4gICAgICBldmVudHM6IDEsXG4gICAgICBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuICAgICAgZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxuICAgICAgdXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkOiAxLFxuICAgICAgZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxuICAgICAgY29tcGFueV9pZDogMSxcbiAgICAgIGFsbG93X3NlbGVjdF9zdGVwOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZmxvd19maWxlcycsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZmxvd0lkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gY2ZzLmZpbGVzLmZpbmQoe1xuICAgICdtZXRhZGF0YS5zcGFjZSc6IHNwYWNlSWQsXG4gICAgJ21ldGFkYXRhLm9iamVjdF9uYW1lJzogJ2Zsb3dzJyxcbiAgICAnbWV0YWRhdGEucmVjb3JkX2lkJzogZmxvd0lkXG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlKCdmbG93c190YWJ1bGFyJywgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICB0aGlzLnVuYmxvY2soKTtcbiAgcmV0dXJuIHtcbiAgICBmaW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlkc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogZmxvdy5zcGFjZSxcbiAgICAgICAgICAgIHVzZXI6IGZsb3cuY3VycmVudC5tb2RpZmllZF9ieVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICAgICAgdXNlcjogMSxcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuZm9ybXMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogZmxvdy5zcGFjZSxcbiAgICAgICAgICAgIF9pZDogZmxvdy5mb3JtXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICBfaWQ6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICAgIGNhdGVnb3J5OiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IGZsb3cuc3BhY2VcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXVxuICB9O1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnZm9ybXMnLCAoc3BhY2VJZCktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHJcblx0cmV0dXJuIGRiLmZvcm1zLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge25hbWU6IDEsIGNhdGVnb3J5OiAxLCBzdGF0ZTogMSwgZGVzY3JpcHRpb246IDEsIGluc3RhbmNlX3N0eWxlOiAxfX0pXHJcblxyXG5cclxuTWV0ZW9yLnB1Ymxpc2ggJ2Zvcm1fdmVyc2lvbicsIChzcGFjZUlkLCBmb3JtSWQsIHZlcnNpb25JZCkgLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIGZvcm1JZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgdmVyc2lvbklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cclxuXHRzZWxmID0gdGhpcztcclxuXHJcblx0Z2V0Rm9ybVZlcnNpb24gPSAoaWQgLCB2ZXJzaW9uSWQpLT5cclxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQgOiBpZH0pO1xyXG5cdFx0aWYgIWZvcm1cclxuXHRcdFx0cmV0dXJuIHt9XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnRcclxuXHRcdGZvcm1fdmVyc2lvbi5sYXRlc3QgPSB0cnVlXHJcblx0XHRpZiBmb3JtX3ZlcnNpb24uX2lkICE9IHZlcnNpb25JZFxyXG5cdFx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKVxyXG5cdFx0XHRmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2VcclxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb25cclxuXHJcblx0aGFuZGxlID0gZGIuZm9ybXMuZmluZCh7X2lkOiBmb3JtSWR9LCB7ZmllbGRzOiB7X2lkOiAxLCBcImN1cnJlbnQubW9kaWZpZWRcIjogMX19KS5vYnNlcnZlQ2hhbmdlcyB7XHJcblx0XHRjaGFuZ2VkOiAoaWQpLT5cclxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcclxuXHR9XHJcblxyXG5cdHNlbGYuYWRkZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oZm9ybUlkLCB2ZXJzaW9uSWQpKTtcclxuXHRzZWxmLnJlYWR5KCk7XHJcblx0c2VsZi5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKSIsIk1ldGVvci5wdWJsaXNoKCdmb3JtcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZm9ybXMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGNhdGVnb3J5OiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBkZXNjcmlwdGlvbjogMSxcbiAgICAgIGluc3RhbmNlX3N0eWxlOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZm9ybV92ZXJzaW9uJywgZnVuY3Rpb24oc3BhY2VJZCwgZm9ybUlkLCB2ZXJzaW9uSWQpIHtcbiAgdmFyIGdldEZvcm1WZXJzaW9uLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmb3JtSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghdmVyc2lvbklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0Rm9ybVZlcnNpb24gPSBmdW5jdGlvbihpZCwgdmVyc2lvbklkKSB7XG4gICAgdmFyIGZvcm0sIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlkXG4gICAgfSk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcbiAgICBmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uLl9pZCAhPT0gdmVyc2lvbklkKSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBmb3JtLmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKTtcbiAgICAgIGZvcm1fdmVyc2lvbi5sYXRlc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgfTtcbiAgaGFuZGxlID0gZGIuZm9ybXMuZmluZCh7XG4gICAgX2lkOiBmb3JtSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDFcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihmb3JtSWQsIHZlcnNpb25JZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZV9kYXRhJywgKGluc3RhbmNlSWQsIGJveCktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgaW5zdGFuY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRzZWxmID0gdGhpcztcclxuXHJcblx0bWluaUFwcHJvdmVGaWVsZHMgPSBbJ19pZCcsICdpc19maW5pc2hlZCcsICd1c2VyJywgJ2hhbmRsZXInLCAnaGFuZGxlcl9uYW1lJywgJ3R5cGUnLCAnc3RhcnRfZGF0ZScsICdkZXNjcmlwdGlvbicsXHJcblx0XHQnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nLCAnYXV0b19zdWJtaXR0ZWQnXVxyXG5cclxuXHR0cmlnZ2VyQ2hhbmdlRmllbGRzID0gWydmb3JtX3ZlcnNpb24nLCAnZmxvd192ZXJzaW9uJywgJ3JlbGF0ZWRfaW5zdGFuY2VzJywgJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXVxyXG5cclxuXHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzID0ge31cclxuXHJcblx0aW5zdGFuY2VfZmllbGRzXzAgPSB7XHJcblx0XHRcInJlY29yZF9zeW5jZWRcIjogMCxcclxuXHJcbiNcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWVcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5jb3N0X3RpbWVcIjogMCxcclxuI1x0XHRcInRyYWNlcy5hcHByb3Zlcy5yZWFkX2RhdGVcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX2Vycm9yXCI6IDAsXHJcblx0XHQjIFwidHJhY2VzLmFwcHJvdmVzLnVzZXJfbmFtZVwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZGVhZGxpbmVcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZF9kYXRlXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRlZF9jb3VudFwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRfYnlcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5nZW9sb2NhdGlvblwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuY2NfdXNlcnNcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmZyb21fYXBwcm92ZV9pZFwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMudmFsdWVzX2hpc3RvcnlcIjogMFxyXG5cdH1cclxuXHJcblx0Z2V0TXlhcHByb3ZlTW9kaWZpZWQgPSAodHJhY2VzKS0+XHJcblx0XHRteUFwcHJvdmVNb2RpZmllZHMgPSBuZXcgQXJyYXkoKVxyXG5cclxuXHRcdHRyYWNlcz8uZm9yRWFjaCAodHJhY2UpLT5cclxuXHRcdFx0dHJhY2U/LmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKS0+XHJcblx0XHRcdFx0aWYgKGFwcHJvdmUudXNlciA9PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT0gc2VsZi51c2VySWQpXHJcblx0XHRcdFx0IyAmJiAhYXBwcm92ZS5pc19maW5pc2hlZFxyXG4jXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiYXBwcm92ZVwiLCBhcHByb3ZlLl9pZCwgYXBwcm92ZS5yZWFkX2RhdGUpXHJcblxyXG5cdFx0XHRcdFx0bXlBcHByb3ZlTW9kaWZpZWRzLnB1c2goYXBwcm92ZS5yZWFkX2RhdGUpXHJcblxyXG5cdFx0cmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkc1xyXG5cclxuXHJcblx0Z2V0TWluaUluc3RhbmNlID0gKF9pbnN0YW5jZUlkKS0+XHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IF9pbnN0YW5jZUlkfSwge2ZpZWxkczogaW5zdGFuY2VfZmllbGRzXzB9KVxyXG5cclxuXHRcdGlmIGluc3RhbmNlXHJcblxyXG5cdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzLmZvckVhY2ggKGtleSktPlxyXG5cdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcclxuXHRcdFx0XHRcdHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGluc3RhbmNlLnRyYWNlcylcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBpbnN0YW5jZVtrZXldXHJcblxyXG4jXHRcdFx0aGFzT3BpbmlvbkZpZWxkID0gSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZChpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXHJcblxyXG5cdFx0XHRzaG93X21vZGFsX3RyYWNlc19saXN0ID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7IHNwYWNlOiBpbnN0YW5jZS5zcGFjZSwga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIiB9LCB7IGZpZWxkczogeyB2YWx1ZXM6IDEgfSB9KT8udmFsdWVzIHx8IGZhbHNlXHJcblxyXG5cdFx0XHRpZiBzaG93X21vZGFsX3RyYWNlc19saXN0XHJcblxyXG5cdFx0XHRcdHRyYWNlcyA9IG5ldyBBcnJheSgpO1xyXG5cclxuXHRcdFx0XHRpbnN0YW5jZT8udHJhY2VzPy5mb3JFYWNoICh0cmFjZSktPlxyXG5cdFx0XHRcdFx0X3RyYWNlID0gXy5jbG9uZSh0cmFjZSlcclxuXHJcblx0XHRcdFx0XHRhcHByb3ZlcyA9IG5ldyBBcnJheSgpXHJcblxyXG5cdFx0XHRcdFx0dHJhY2U/LmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKS0+XHJcblx0XHRcdFx0XHRcdGlmIGFwcHJvdmUudHlwZSAhPSAnY2MnIHx8IGFwcHJvdmUudXNlciA9PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT0gc2VsZi51c2VySWQgfHwgKCFfLmlzRW1wdHkoYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUpKVxyXG5cdFx0XHRcdFx0XHRcdGFwcHJvdmVzLnB1c2goYXBwcm92ZSlcclxuXHJcblx0XHRcdFx0XHRfdHJhY2UuYXBwcm92ZXMgPSBhcHByb3Zlc1xyXG5cclxuXHRcdFx0XHRcdHRyYWNlcy5wdXNoKF90cmFjZSlcclxuXHJcblx0XHRcdFx0aW5zdGFuY2UudHJhY2VzID0gdHJhY2VzO1xyXG5cclxuXHRcdHJldHVybiBpbnN0YW5jZVxyXG5cclxuXHJcblx0bmVlZENoYW5nZSA9IChjaGFuZ2VGaWVsZHMpLT5cclxuXHRcdGlmIGNoYW5nZUZpZWxkc1xyXG5cclxuXHRcdFx0X2NoYW5nZSA9IGZhbHNlXHJcblxyXG5cdFx0XHRfcmV2ID0gXy5maW5kIHRyaWdnZXJDaGFuZ2VGaWVsZHMsIChrZXkpLT5cclxuXHRcdFx0XHRfa2V5ID0ga2V5XHJcblxyXG5cdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcclxuXHRcdFx0XHRcdF9rZXkgPSAndHJhY2VzJ1xyXG5cclxuXHRcdFx0XHRpZiBfLmhhcyhjaGFuZ2VGaWVsZHMsIF9rZXkpXHJcblxyXG5cdFx0XHRcdFx0aWYga2V5ID09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ1xyXG5cclxuXHRcdFx0XHRcdFx0X215X2FwcHJvdmVfbW9kaWZpZWRzID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoY2hhbmdlRmllbGRzLnRyYWNlcylcclxuXHJcbiNcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIF9teV9hcHByb3ZlX21vZGlmaWVkcylcclxuXHJcblx0XHRcdFx0XHRcdHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgX215X2FwcHJvdmVfbW9kaWZpZWRzKVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIGNoYW5nZUZpZWxkc1trZXldKVxyXG5cclxuXHRcdFx0aWYgX3JldlxyXG5cdFx0XHRcdF9jaGFuZ2UgPSB0cnVlXHJcblxyXG4jXHRcdFx0Y29uc29sZS5sb2coX3JldiwgX2NoYW5nZSlcclxuXHJcblx0XHRcdHJldHVybiBfY2hhbmdlXHJcblxyXG5cdFx0cmV0dXJuIHRydWVcclxuXHQj5q2k5aSE5LiN6IO95re75YqgZmllbGRz6ZmQ5Yi277yM5ZCm5YiZ5Lya5a+86Ie05pWw5o2u5LiN5a6e5pe2XHJcblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogaW5zdGFuY2VJZH0pLm9ic2VydmVDaGFuZ2VzIHtcclxuXHRcdGNoYW5nZWQ6IChpZCwgZmllbGRzKS0+XHJcblx0XHRcdGlmKGJveCAhPSAnaW5ib3gnIHx8IG5lZWRDaGFuZ2UoZmllbGRzKSlcclxuXHRcdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGdldE1pbmlJbnN0YW5jZShpZCkpO1xyXG5cdFx0cmVtb3ZlZDogKGlkKS0+XHJcblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XHJcblx0fVxyXG5cclxuXHRpbnN0YW5jZSA9IGdldE1pbmlJbnN0YW5jZShpbnN0YW5jZUlkKVxyXG5cclxuXHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGluc3RhbmNlPy5faWQsIGluc3RhbmNlKTtcclxuXHJcblx0c2VsZi5yZWFkeSgpO1xyXG5cclxuXHRzZWxmLm9uU3RvcCAoKS0+XHJcblx0XHRoYW5kbGUuc3RvcCgpXHJcblxyXG5cclxuTWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlX3RyYWNlcycsIChpbnN0YW5jZUlkKS0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBpbnN0YW5jZUlkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHNlbGYgPSB0aGlzXHJcblxyXG5cdGdldEluc3RhbmNlVHJhY2VzID0gKF9pbnNJZCktPlxyXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IF9pbnNJZH0sIHtmaWVsZHM6IHtfaWQ6IDEsIHRyYWNlczogMX19KVxyXG5cclxuXHJcblx0aGFuZGxlID0gIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IGluc3RhbmNlSWR9KS5vYnNlcnZlQ2hhbmdlcyB7XHJcblx0XHRjaGFuZ2VkOiAoaWQpLT5cclxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcclxuXHR9XHJcblxyXG5cdHNlbGYuYWRkZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xyXG5cclxuXHRzZWxmLnJlYWR5KCk7XHJcblx0c2VsZi5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKSIsIk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZV9kYXRhJywgZnVuY3Rpb24oaW5zdGFuY2VJZCwgYm94KSB7XG4gIHZhciBnZXRNaW5pSW5zdGFuY2UsIGdldE15YXBwcm92ZU1vZGlmaWVkLCBoYW5kbGUsIGluc3RhbmNlLCBpbnN0YW5jZV9maWVsZHNfMCwgbWluaUFwcHJvdmVGaWVsZHMsIG5lZWRDaGFuZ2UsIHNlbGYsIHRyaWdnZXJDaGFuZ2VGaWVsZHMsIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXM7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLCAnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nLCAnYXV0b19zdWJtaXR0ZWQnXTtcbiAgdHJpZ2dlckNoYW5nZUZpZWxkcyA9IFsnZm9ybV92ZXJzaW9uJywgJ2Zsb3dfdmVyc2lvbicsICdyZWxhdGVkX2luc3RhbmNlcycsICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ107XG4gIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMgPSB7fTtcbiAgaW5zdGFuY2VfZmllbGRzXzAgPSB7XG4gICAgXCJyZWNvcmRfc3luY2VkXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuY29zdF90aW1lXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuaXNfZXJyb3JcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5kZWFkbGluZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZF9kYXRlXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kZWRfY291bnRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZF9ieVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuZ2VvbG9jYXRpb25cIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5jY191c2Vyc1wiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmZyb21fYXBwcm92ZV9pZFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLnZhbHVlc19oaXN0b3J5XCI6IDBcbiAgfTtcbiAgZ2V0TXlhcHByb3ZlTW9kaWZpZWQgPSBmdW5jdGlvbih0cmFjZXMpIHtcbiAgICB2YXIgbXlBcHByb3ZlTW9kaWZpZWRzO1xuICAgIG15QXBwcm92ZU1vZGlmaWVkcyA9IG5ldyBBcnJheSgpO1xuICAgIGlmICh0cmFjZXMgIT0gbnVsbCkge1xuICAgICAgdHJhY2VzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgcmV0dXJuIHRyYWNlICE9IG51bGwgPyAocmVmID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUudXNlciA9PT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09PSBzZWxmLnVzZXJJZCkge1xuICAgICAgICAgICAgcmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkcy5wdXNoKGFwcHJvdmUucmVhZF9kYXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBteUFwcHJvdmVNb2RpZmllZHM7XG4gIH07XG4gIGdldE1pbmlJbnN0YW5jZSA9IGZ1bmN0aW9uKF9pbnN0YW5jZUlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHJlZjEsIHNob3dfbW9kYWxfdHJhY2VzX2xpc3QsIHRyYWNlcztcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogX2luc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IGluc3RhbmNlX2ZpZWxkc18wXG4gICAgfSk7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICB0cmlnZ2VyQ2hhbmdlRmllbGRzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJykge1xuICAgICAgICAgIHJldHVybiB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBnZXRNeWFwcHJvdmVNb2RpZmllZChpbnN0YW5jZS50cmFjZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBpbnN0YW5jZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSAoKHJlZiA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoe1xuICAgICAgICBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsXG4gICAgICAgIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCJcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdmFsdWVzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pKSAhPSBudWxsID8gcmVmLnZhbHVlcyA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgICBpZiAoc2hvd19tb2RhbF90cmFjZXNfbGlzdCkge1xuICAgICAgICB0cmFjZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgaWYgKGluc3RhbmNlICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoKHJlZjEgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlZjEuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICAgICAgICB2YXIgX3RyYWNlLCBhcHByb3ZlcywgcmVmMjtcbiAgICAgICAgICAgICAgX3RyYWNlID0gXy5jbG9uZSh0cmFjZSk7XG4gICAgICAgICAgICAgIGFwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAgIGlmICh0cmFjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKChyZWYyID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHJlZjIuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHByb3ZlLnR5cGUgIT09ICdjYycgfHwgYXBwcm92ZS51c2VyID09PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT09IHNlbGYudXNlcklkIHx8ICghXy5pc0VtcHR5KGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBwcm92ZXMucHVzaChhcHByb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF90cmFjZS5hcHByb3ZlcyA9IGFwcHJvdmVzO1xuICAgICAgICAgICAgICByZXR1cm4gdHJhY2VzLnB1c2goX3RyYWNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS50cmFjZXMgPSB0cmFjZXM7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcbiAgbmVlZENoYW5nZSA9IGZ1bmN0aW9uKGNoYW5nZUZpZWxkcykge1xuICAgIHZhciBfY2hhbmdlLCBfcmV2O1xuICAgIGlmIChjaGFuZ2VGaWVsZHMpIHtcbiAgICAgIF9jaGFuZ2UgPSBmYWxzZTtcbiAgICAgIF9yZXYgPSBfLmZpbmQodHJpZ2dlckNoYW5nZUZpZWxkcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhciBfa2V5LCBfbXlfYXBwcm92ZV9tb2RpZmllZHM7XG4gICAgICAgIF9rZXkgPSBrZXk7XG4gICAgICAgIGlmIChrZXkgPT09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJykge1xuICAgICAgICAgIF9rZXkgPSAndHJhY2VzJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoXy5oYXMoY2hhbmdlRmllbGRzLCBfa2V5KSkge1xuICAgICAgICAgIGlmIChrZXkgPT09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJykge1xuICAgICAgICAgICAgX215X2FwcHJvdmVfbW9kaWZpZWRzID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoY2hhbmdlRmllbGRzLnRyYWNlcyk7XG4gICAgICAgICAgICByZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIF9teV9hcHByb3ZlX21vZGlmaWVkcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgY2hhbmdlRmllbGRzW2tleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoX3Jldikge1xuICAgICAgICBfY2hhbmdlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfY2hhbmdlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQsIGZpZWxkcykge1xuICAgICAgaWYgKGJveCAhPT0gJ2luYm94JyB8fCBuZWVkQ2hhbmdlKGZpZWxkcykpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgZ2V0TWluaUluc3RhbmNlKGlkKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG4gICAgfVxuICB9KTtcbiAgaW5zdGFuY2UgPSBnZXRNaW5pSW5zdGFuY2UoaW5zdGFuY2VJZCk7XG4gIHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaW5zdGFuY2UgIT0gbnVsbCA/IGluc3RhbmNlLl9pZCA6IHZvaWQgMCwgaW5zdGFuY2UpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlX3RyYWNlcycsIGZ1bmN0aW9uKGluc3RhbmNlSWQpIHtcbiAgdmFyIGdldEluc3RhbmNlVHJhY2VzLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIGdldEluc3RhbmNlVHJhY2VzID0gZnVuY3Rpb24oX2luc0lkKSB7XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogX2luc0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIF9pZDogMSxcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcbiAgICB9XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJcclxuXHRNZXRlb3IucHVibGlzaCAnaW5zdGFuY2VzX2xpc3QnLCAoc3BhY2VJZCwgYm94LCBmbG93SWQpLT5cclxuXHJcblx0XHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cdFx0XHJcblx0XHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdFx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XHJcblx0XHRpZiBib3ggPT0gXCJpbmJveFwiXHJcblx0XHRcdHF1ZXJ5LmluYm94X3VzZXJzID0gdGhpcy51c2VySWQ7XHJcblx0XHRlbHNlIGlmIGJveCA9PSBcIm91dGJveFwiXHJcblx0XHRcdHF1ZXJ5Lm91dGJveF91c2VycyA9IHRoaXMudXNlcklkO1xyXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJkcmFmdFwiXHJcblx0XHRcdHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xyXG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwiZHJhZnRcIlxyXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJwZW5kaW5nXCJcclxuXHRcdFx0cXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XHJcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJwZW5kaW5nXCJcclxuXHRcdGVsc2UgaWYgYm94ID09IFwiY29tcGxldGVkXCJcclxuXHRcdFx0cXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XHJcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJjb21wbGV0ZWRcIlxyXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJtb25pdG9yXCJcclxuXHRcdFx0cXVlcnkuZmxvdyA9IGZsb3dJZDtcclxuXHRcdFx0cXVlcnkuc3RhdGUgPSB7JGluOiBbXCJwZW5kaW5nXCIsXCJjb21wbGV0ZWRcIl19O1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwibm9uZVwiXHJcblxyXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7bmFtZToxLCBjcmVhdGVkOjEsIGZvcm06MSwgZmxvdzogMSwgc3BhY2U6MSwgbW9kaWZpZWQ6MSwgYXBwbGljYW50OiAxLCBpc19hcmNoaXZlZDoxLCBmb3JtX3ZlcnNpb246IDEsIGZsb3dfdmVyc2lvbjogMX19KVxyXG5cclxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlc19saXN0JywgZnVuY3Rpb24oc3BhY2VJZCwgYm94LCBmbG93SWQpIHtcbiAgdmFyIHF1ZXJ5O1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHF1ZXJ5ID0ge1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIGlmIChib3ggPT09IFwiaW5ib3hcIikge1xuICAgIHF1ZXJ5LmluYm94X3VzZXJzID0gdGhpcy51c2VySWQ7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm91dGJveFwiKSB7XG4gICAgcXVlcnkub3V0Ym94X3VzZXJzID0gdGhpcy51c2VySWQ7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwiZHJhZnRcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwicGVuZGluZ1wiKSB7XG4gICAgcXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG4gICAgcXVlcnkuc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm1vbml0b3JcIikge1xuICAgIHF1ZXJ5LmZsb3cgPSBmbG93SWQ7XG4gICAgcXVlcnkuc3RhdGUgPSB7XG4gICAgICAkaW46IFtcInBlbmRpbmdcIiwgXCJjb21wbGV0ZWRcIl1cbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJub25lXCI7XG4gIH1cbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgY3JlYXRlZDogMSxcbiAgICAgIGZvcm06IDEsXG4gICAgICBmbG93OiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBtb2RpZmllZDogMSxcbiAgICAgIGFwcGxpY2FudDogMSxcbiAgICAgIGlzX2FyY2hpdmVkOiAxLFxuICAgICAgZm9ybV92ZXJzaW9uOiAxLFxuICAgICAgZmxvd192ZXJzaW9uOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwibGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSA9IChpbnN0YW5jZWlkLCB1c2VySWQsIGRhdGFNYXAsIGNhbGxiYWNrKS0+XHJcblx0b3BlcmF0aW9uID0gW3tcclxuXHRcdFwiJG1hdGNoXCI6IHtcclxuXHRcdFx0XCJfaWRcIjogaW5zdGFuY2VpZFxyXG5cdFx0fVxyXG5cdH0sIHtcIiRwcm9qZWN0XCI6IHtcIm5hbWVcIjogMSwgXCJfYXBwcm92ZVwiOiBcIiR0cmFjZXMuYXBwcm92ZXNcIn19LCB7XCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJ9LCB7XCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJ9LFxyXG5cdFx0e1wiJG1hdGNoXCI6IHtcIl9hcHByb3ZlLmlzX2ZpbmlzaGVkXCI6IHRydWUsICRvcjpbe1wiX2FwcHJvdmUuaGFuZGxlclwiOiB1c2VySWR9LHtcIl9hcHByb3ZlLnVzZXJcIjogdXNlcklkfV19fSxcclxuXHRcdHtcIiRncm91cFwiOiB7XCJfaWRcIjogXCIkX2lkXCIsIFwiZmluaXNoX2RhdGVcIjoge1wiJGxhc3RcIjogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIn19fVxyXG5cdF1cclxuXHJcblx0ZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUob3BlcmF0aW9uKS50b0FycmF5IChlcnIsIGRhdGEpLT5cclxuXHRcdGlmIGVyclxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxyXG5cclxuXHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxyXG5cdFx0XHRkYXRhTWFwLnB1c2ggZG9jXHJcblxyXG5cdFx0aWYgY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKVxyXG5cdFx0XHRjYWxsYmFjaygpXHJcblx0XHRyZXR1cm5cclxuXHJcbmFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSA9IE1ldGVvci53cmFwQXN5bmMobGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSlcclxuXHJcbk1ldGVvci5wdWJsaXNoIFwiaW5zdGFuY2VfdGFidWxhclwiLCAodGFibGVOYW1lLCBpZHMsIGZpZWxkcyktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XHJcblxyXG5cdGNoZWNrKGlkcywgQXJyYXkpO1xyXG5cclxuXHRjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpXHJcblxyXG5cdGZpZWxkcy5jY191c2VycyA9IDFcclxuXHJcblx0c2VsZiA9IHRoaXM7XHJcblxyXG5cdGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSA9ICh1c2VySWQsIGluc3RhbmNlSWQpLT5cclxuXHRcdGRhdGEgPSBbXVxyXG5cdFx0YXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlKGluc3RhbmNlSWQsIHVzZXJJZCwgZGF0YSlcclxuXHRcdGlmIGRhdGEubGVuZ3RoID4gMFxyXG5cdFx0XHRyZXR1cm4gZGF0YVswXVxyXG5cclxuXHJcblx0Z2V0TXlBcHByb3ZlID0gKHVzZXJJZCwgaW5zdGFuY2VJZCktPlxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZUlkfSwge2ZpZWxkczoge3RyYWNlczogMX19KVxyXG5cdFx0bXlBcHByb3ZlID0gbnVsbFxyXG5cclxuXHRcdGlmICFpbnN0YW5jZVxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRpZiAhaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdG5vdEZpbmlzaGVkVHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpXHJcblxyXG5cdFx0aWYgbm90RmluaXNoZWRUcmFjZXMubGVuZ3RoID4gMFxyXG5cdFx0XHRhcHByb3ZlcyA9IG5vdEZpbmlzaGVkVHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCB1c2VySWQpO1xyXG5cclxuXHRcdFx0aWYgYXBwcm92ZXMubGVuZ3RoID4gMFxyXG5cdFx0XHRcdGFwcHJvdmUgPSBhcHByb3Zlc1swXVxyXG5cdFx0XHRcdG15QXBwcm92ZSA9IHtcclxuXHRcdFx0XHRcdGlkOiBhcHByb3ZlLl9pZCxcclxuXHRcdFx0XHRcdGluc3RhbmNlOiBhcHByb3ZlLmluc3RhbmNlLFxyXG5cdFx0XHRcdFx0dHJhY2U6IGFwcHJvdmUudHJhY2UsXHJcblx0XHRcdFx0XHRpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWQsXHJcblx0XHRcdFx0XHRzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdGFnZW50OiBhcHByb3ZlLmFnZW50XHJcblx0XHRcdFx0XHR1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdGlmICFteUFwcHJvdmVcclxuXHRcdFx0aXNfcmVhZCA9IGZhbHNlXHJcblx0XHRcdGluc3RhbmNlLnRyYWNlcy5mb3JFYWNoICh0cmFjZSkgLT5cclxuXHRcdFx0XHR0cmFjZT8uYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpIC0+XHJcblx0XHRcdFx0XHRpZiBhcHByb3ZlLnR5cGUgPT0gJ2NjJyBhbmQgYXBwcm92ZS51c2VyID09IHVzZXJJZCBhbmQgYXBwcm92ZS5pc19maW5pc2hlZCA9PSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRpZiBhcHByb3ZlLmlzX3JlYWRcclxuXHRcdFx0XHRcdFx0XHRpc19yZWFkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRteUFwcHJvdmUgPSB7aWQ6IGFwcHJvdmUuX2lkLCBpc19yZWFkOiBpc19yZWFkLCBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsIGFnZW50OiBhcHByb3ZlLmFnZW50LCB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lfVxyXG5cclxuXHRcdHJldHVybiBteUFwcHJvdmVcclxuXHJcblx0Z2V0U3RlcEN1cnJlbnROYW1lID0gKGluc3RhbmNlSWQpIC0+XHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlSWR9LCB7ZmllbGRzOiB7XCJ0cmFjZXMubmFtZVwiOiAxLCBcInRyYWNlc1wiOiB7JHNsaWNlOiAtMX19fSlcclxuXHRcdGlmIGluc3RhbmNlXHJcblx0XHRcdHN0ZXBDdXJyZW50TmFtZSA9IGluc3RhbmNlLnRyYWNlcz9bMF0/Lm5hbWVcclxuXHJcblx0XHRyZXR1cm4gc3RlcEN1cnJlbnROYW1lXHJcblxyXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGlkc319LCB7ZmllbGRzOiB7dHJhY2VzOiAwfX0pLm9ic2VydmVDaGFuZ2VzIHtcclxuXHRcdGNoYW5nZWQ6IChpZCktPlxyXG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcclxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxyXG5cdFx0XHRteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxyXG5cdFx0XHRteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxyXG5cdFx0XHRpZiBteUFwcHJvdmVcclxuXHRcdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWRcclxuXHRcdFx0XHRpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRpZiBteUFwcHJvdmUuYWdlbnRcclxuXHRcdFx0XHRcdGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWVcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlXHJcblxyXG5cdFx0XHRpZiBteUxhc3RGaW5pc2hlZEFwcHJvdmVcclxuXHRcdFx0XHRpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZVxyXG5cclxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXHJcblx0XHRcdGluc3RhbmNlLmNjX2NvdW50ID0gaW5zdGFuY2UuY2NfdXNlcnM/Lmxlbmd0aCB8fCAwXHJcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xyXG5cdFx0XHR0cnlcclxuXHRcdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcclxuXHRcdFx0Y2F0Y2ggZXJyb3JcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnaW5zdGFuY2Ugb2JzZXJ2ZUNoYW5nZXMgZXJyb3I6ICcsIGVycm9yLm1lc3NhZ2UpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdzZWxmLnVzZXJJZDogJywgc2VsZi51c2VySWQpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCd0YWJsZU5hbWU6ICcsIHRhYmxlTmFtZSk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2lkczogJywgSlNPTi5zdHJpbmdpZnkoaWRzKSk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ215QXBwcm92ZTogJywgSlNPTi5zdHJpbmdpZnkobXlBcHByb3ZlKSk7XHJcblx0XHRyZW1vdmVkOiAoaWQpLT5cclxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcclxuXHR9XHJcblxyXG5cdGlkcy5mb3JFYWNoIChpZCktPlxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXHJcblx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXHJcblx0XHRteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxyXG5cdFx0bXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcclxuXHRcdGlmIG15QXBwcm92ZVxyXG5cdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWRcclxuXHRcdFx0aW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlXHJcblx0XHRcdGlmIG15QXBwcm92ZS5hZ2VudFxyXG5cdFx0XHRcdFx0aW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZVxyXG5cclxuXHRcdGlmIG15TGFzdEZpbmlzaGVkQXBwcm92ZVxyXG5cdFx0XHRpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZVxyXG5cclxuXHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxyXG5cdFx0aW5zdGFuY2UuY2NfY291bnQgPSBpbnN0YW5jZS5jY191c2Vycz8ubGVuZ3RoIHx8IDBcclxuXHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xyXG5cdFx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xyXG5cclxuXHRzZWxmLnJlYWR5KCk7XHJcblx0c2VsZi5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKSIsInZhciBhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUsIGxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGU7XG5cbmxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUgPSBmdW5jdGlvbihpbnN0YW5jZWlkLCB1c2VySWQsIGRhdGFNYXAsIGNhbGxiYWNrKSB7XG4gIHZhciBvcGVyYXRpb247XG4gIG9wZXJhdGlvbiA9IFtcbiAgICB7XG4gICAgICBcIiRtYXRjaFwiOiB7XG4gICAgICAgIFwiX2lkXCI6IGluc3RhbmNlaWRcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiRwcm9qZWN0XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IDEsXG4gICAgICAgIFwiX2FwcHJvdmVcIjogXCIkdHJhY2VzLmFwcHJvdmVzXCJcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIlxuICAgIH0sIHtcbiAgICAgIFwiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwiXG4gICAgfSwge1xuICAgICAgXCIkbWF0Y2hcIjoge1xuICAgICAgICBcIl9hcHByb3ZlLmlzX2ZpbmlzaGVkXCI6IHRydWUsXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiX2FwcHJvdmUuaGFuZGxlclwiOiB1c2VySWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBcIl9hcHByb3ZlLnVzZXJcIjogdXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgXCIkZ3JvdXBcIjoge1xuICAgICAgICBcIl9pZFwiOiBcIiRfaWRcIixcbiAgICAgICAgXCJmaW5pc2hfZGF0ZVwiOiB7XG4gICAgICAgICAgXCIkbGFzdFwiOiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIF07XG4gIHJldHVybiBkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShvcGVyYXRpb24pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBkYXRhTWFwLnB1c2goZG9jKTtcbiAgICB9KTtcbiAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xufTtcblxuYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlID0gTWV0ZW9yLndyYXBBc3luYyhsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlKTtcblxuTWV0ZW9yLnB1Ymxpc2goXCJpbnN0YW5jZV90YWJ1bGFyXCIsIGZ1bmN0aW9uKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpIHtcbiAgdmFyIGdldE15QXBwcm92ZSwgZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlLCBnZXRTdGVwQ3VycmVudE5hbWUsIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgY2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuICBjaGVjayhpZHMsIEFycmF5KTtcbiAgY2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcbiAgZmllbGRzLmNjX3VzZXJzID0gMTtcbiAgc2VsZiA9IHRoaXM7XG4gIGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGZ1bmN0aW9uKHVzZXJJZCwgaW5zdGFuY2VJZCkge1xuICAgIHZhciBkYXRhO1xuICAgIGRhdGEgPSBbXTtcbiAgICBhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUoaW5zdGFuY2VJZCwgdXNlcklkLCBkYXRhKTtcbiAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZGF0YVswXTtcbiAgICB9XG4gIH07XG4gIGdldE15QXBwcm92ZSA9IGZ1bmN0aW9uKHVzZXJJZCwgaW5zdGFuY2VJZCkge1xuICAgIHZhciBhcHByb3ZlLCBhcHByb3ZlcywgaW5zdGFuY2UsIGlzX3JlYWQsIG15QXBwcm92ZSwgbm90RmluaXNoZWRUcmFjZXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgbXlBcHByb3ZlID0gbnVsbDtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5vdEZpbmlzaGVkVHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpO1xuICAgIGlmIChub3RGaW5pc2hlZFRyYWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBhcHByb3ZlcyA9IG5vdEZpbmlzaGVkVHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCB1c2VySWQpO1xuICAgICAgaWYgKGFwcHJvdmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXBwcm92ZSA9IGFwcHJvdmVzWzBdO1xuICAgICAgICBteUFwcHJvdmUgPSB7XG4gICAgICAgICAgaWQ6IGFwcHJvdmUuX2lkLFxuICAgICAgICAgIGluc3RhbmNlOiBhcHByb3ZlLmluc3RhbmNlLFxuICAgICAgICAgIHRyYWNlOiBhcHByb3ZlLnRyYWNlLFxuICAgICAgICAgIGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcbiAgICAgICAgICBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsXG4gICAgICAgICAgYWdlbnQ6IGFwcHJvdmUuYWdlbnQsXG4gICAgICAgICAgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW15QXBwcm92ZSkge1xuICAgICAgaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgaW5zdGFuY2UudHJhY2VzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgcmV0dXJuIHRyYWNlICE9IG51bGwgPyAocmVmID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gJ2NjJyAmJiBhcHByb3ZlLnVzZXIgPT09IHVzZXJJZCAmJiBhcHByb3ZlLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKGFwcHJvdmUuaXNfcmVhZCkge1xuICAgICAgICAgICAgICBpc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBteUFwcHJvdmUgPSB7XG4gICAgICAgICAgICAgIGlkOiBhcHByb3ZlLl9pZCxcbiAgICAgICAgICAgICAgaXNfcmVhZDogaXNfcmVhZCxcbiAgICAgICAgICAgICAgc3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlLFxuICAgICAgICAgICAgICBhZ2VudDogYXBwcm92ZS5hZ2VudCxcbiAgICAgICAgICAgICAgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBteUFwcHJvdmU7XG4gIH07XG4gIGdldFN0ZXBDdXJyZW50TmFtZSA9IGZ1bmN0aW9uKGluc3RhbmNlSWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgcmVmMSwgc3RlcEN1cnJlbnROYW1lO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLm5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXNcIjoge1xuICAgICAgICAgICRzbGljZTogLTFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgc3RlcEN1cnJlbnROYW1lID0gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IChyZWYxID0gcmVmWzBdKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gc3RlcEN1cnJlbnROYW1lO1xuICB9O1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGlkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgdHJhY2VzOiAwXG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBlcnJvciwgaW5zdGFuY2UsIG15QXBwcm92ZSwgbXlMYXN0RmluaXNoZWRBcHByb3ZlLCByZWYsIHJlZjE7XG4gICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IGZpZWxkc1xuICAgICAgfSk7XG4gICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgICAgbXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgICBpZiAobXlBcHByb3ZlKSB7XG4gICAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZDtcbiAgICAgICAgaW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgICBpZiAobXlBcHByb3ZlLmFnZW50KSB7XG4gICAgICAgICAgaW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAobXlMYXN0RmluaXNoZWRBcHByb3ZlKSB7XG4gICAgICAgIGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2UuaXNfY2MgPSAoKHJlZiA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKHNlbGYudXNlcklkKSA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgICBpbnN0YW5jZS5jY19jb3VudCA9ICgocmVmMSA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmMS5sZW5ndGggOiB2b2lkIDApIHx8IDA7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnM7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICAgICAgZXJyb3IgPSBlcnJvcjE7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpbnN0YW5jZSBvYnNlcnZlQ2hhbmdlcyBlcnJvcjogJywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZWxmLnVzZXJJZDogJywgc2VsZi51c2VySWQpO1xuICAgICAgICBjb25zb2xlLmxvZygndGFibGVOYW1lOiAnLCB0YWJsZU5hbWUpO1xuICAgICAgICBjb25zb2xlLmxvZygnaWRzOiAnLCBKU09OLnN0cmluZ2lmeShpZHMpKTtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdteUFwcHJvdmU6ICcsIEpTT04uc3RyaW5naWZ5KG15QXBwcm92ZSkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuICAgIH1cbiAgfSk7XG4gIGlkcy5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCBteUFwcHJvdmUsIG15TGFzdEZpbmlzaGVkQXBwcm92ZSwgcmVmLCByZWYxO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczogZmllbGRzXG4gICAgfSk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICBteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICBpZiAobXlBcHByb3ZlKSB7XG4gICAgICBpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWQ7XG4gICAgICBpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICBpZiAobXlBcHByb3ZlLmFnZW50KSB7XG4gICAgICAgIGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobXlMYXN0RmluaXNoZWRBcHByb3ZlKSB7XG4gICAgICBpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZTtcbiAgICB9XG4gICAgaW5zdGFuY2UuaXNfY2MgPSAoKHJlZiA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKHNlbGYudXNlcklkKSA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgaW5zdGFuY2UuY2NfY291bnQgPSAoKHJlZjEgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZjEubGVuZ3RoIDogdm9pZCAwKSB8fCAwO1xuICAgIGRlbGV0ZSBpbnN0YW5jZS5jY191c2VycztcbiAgICByZXR1cm4gc2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuICB9KTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnaW5zdGFuY2VzX2RyYWZ0JywgKHNwYWNlSWQpIC0+XHJcblx0Y2hlY2sgc3BhY2VJZCwgU3RyaW5nXHJcblxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1c2VySWQgPSB0aGlzLnVzZXJJZFxyXG5cdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7c3RhdGU6XCJkcmFmdFwiLHNwYWNlOnNwYWNlSWQsc3VibWl0dGVyOnVzZXJJZCwkb3I6W3tpbmJveF91c2VyczogeyRleGlzdHM6ZmFsc2V9fSwge2luYm94X3VzZXJzOiBbXX1dfSwge2ZpZWxkczoge19pZDogMSwgc3RhdGU6IDEsIHNwYWNlOiAxLCBzdWJtaXR0ZXI6IDEsIGluYm94X3VzZXJzOiAxLCBtb2RpZmllZDogMSwgbmFtZTogMX0sIHNvcnQ6e21vZGlmaWVkOiAtMX19KSIsIk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZXNfZHJhZnQnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIHZhciB1c2VySWQ7XG4gIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHVzZXJJZCA9IHRoaXMudXNlcklkO1xuICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIHN0YXRlOiBcImRyYWZ0XCIsXG4gICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgc3VibWl0dGVyOiB1c2VySWQsXG4gICAgJG9yOiBbXG4gICAgICB7XG4gICAgICAgIGluYm94X3VzZXJzOiB7XG4gICAgICAgICAgJGV4aXN0czogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBpbmJveF91c2VyczogW11cbiAgICAgIH1cbiAgICBdXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBzdWJtaXR0ZXI6IDEsXG4gICAgICBpbmJveF91c2VyczogMSxcbiAgICAgIG1vZGlmaWVkOiAxLFxuICAgICAgbmFtZTogMVxuICAgIH0sXG4gICAgc29ydDoge1xuICAgICAgbW9kaWZpZWQ6IC0xXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Rpc3RyaWJ1dGVkX2luc3RhbmNlc19zdGF0ZV9ieV9pZHMnLCAoaW5zdGFuY2VfaWRzKS0+XHJcblx0Y2hlY2soaW5zdGFuY2VfaWRzLCBBcnJheSlcclxuXHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblx0XHJcblx0dW5sZXNzIGluc3RhbmNlX2lkc1xyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRpZiBfLmlzRW1wdHkoaW5zdGFuY2VfaWRzKVxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRzZWxmID0gdGhpc1xyXG5cclxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpbnN0YW5jZV9pZHN9fSwge2ZpZWxkczoge3N0YXRlOiAxLCB0cmFjZXM6eyRzbGljZTogMX0gfSB9KS5vYnNlcnZlQ2hhbmdlcyB7XHJcblx0XHRhZGRlZDogKGlkLCBmaWVsZHMpLT5cclxuXHRcdFx0c2VsZi5hZGRlZCgnaW5zdGFuY2VzJywgaWQsIHtzdGF0ZTogZmllbGRzLnN0YXRlLCBpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWR9KVxyXG5cclxuXHRcdGNoYW5nZWQ6IChpZCwgZmllbGRzKS0+XHJcblx0XHRcdGlmIGZpZWxkcy5zdGF0ZVxyXG5cdFx0XHRcdHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtzdGF0ZTogZmllbGRzLnN0YXRlfSlcclxuXHRcdFx0aWYgZmllbGRzLnRyYWNlc1xyXG5cdFx0XHRcdHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWR9KVxyXG5cdH1cclxuXHJcblx0dGhpcy5yZWFkeSgpXHJcblx0dGhpcy5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKVxyXG4iLCJNZXRlb3IucHVibGlzaCgnZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcycsIGZ1bmN0aW9uKGluc3RhbmNlX2lkcykge1xuICB2YXIgaGFuZGxlLCBzZWxmO1xuICBjaGVjayhpbnN0YW5jZV9pZHMsIEFycmF5KTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZV9pZHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmIChfLmlzRW1wdHkoaW5zdGFuY2VfaWRzKSkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogaW5zdGFuY2VfaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHRyYWNlczoge1xuICAgICAgICAkc2xpY2U6IDFcbiAgICAgIH1cbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBhZGRlZDogZnVuY3Rpb24oaWQsIGZpZWxkcykge1xuICAgICAgcmV0dXJuIHNlbGYuYWRkZWQoJ2luc3RhbmNlcycsIGlkLCB7XG4gICAgICAgIHN0YXRlOiBmaWVsZHMuc3RhdGUsXG4gICAgICAgIGlzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCwgZmllbGRzKSB7XG4gICAgICBpZiAoZmllbGRzLnN0YXRlKSB7XG4gICAgICAgIHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtcbiAgICAgICAgICBzdGF0ZTogZmllbGRzLnN0YXRlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGZpZWxkcy50cmFjZXMpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtcbiAgICAgICAgICBpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdGhpcy5yZWFkeSgpO1xuICByZXR1cm4gdGhpcy5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAncmVsYXRlZF9pbnN0YWNlcycsIChpbnN0YW5jZUlkLCByZWxhdGVkX2luc3RhbmNlcyktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgaW5zdGFuY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRyZWxhdGVkX2luc3RhbmNlX2lkcyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlSWQse2ZpZWxkczoge3JlbGF0ZWRfaW5zdGFuY2VzOiAxfX0pPy5yZWxhdGVkX2luc3RhbmNlc1xyXG5cclxuXHRpZiByZWxhdGVkX2luc3RhbmNlX2lkcyAmJiBfLmlzQXJyYXkocmVsYXRlZF9pbnN0YW5jZV9pZHMpXHJcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbiA6IHJlbGF0ZWRfaW5zdGFuY2VfaWRzfX0sIHtmaWVsZHM6IHtfaWQ6IDEsIG5hbWU6IDEsIHNwYWNlOiAxfX0pXHJcblx0ZWxzZVxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKSIsIk1ldGVvci5wdWJsaXNoKCdyZWxhdGVkX2luc3RhY2VzJywgZnVuY3Rpb24oaW5zdGFuY2VJZCwgcmVsYXRlZF9pbnN0YW5jZXMpIHtcbiAgdmFyIHJlZiwgcmVsYXRlZF9pbnN0YW5jZV9pZHM7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmVsYXRlZF9pbnN0YW5jZV9pZHMgPSAocmVmID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VJZCwge1xuICAgIGZpZWxkczoge1xuICAgICAgcmVsYXRlZF9pbnN0YW5jZXM6IDFcbiAgICB9XG4gIH0pKSAhPSBudWxsID8gcmVmLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwO1xuICBpZiAocmVsYXRlZF9pbnN0YW5jZV9pZHMgJiYgXy5pc0FycmF5KHJlbGF0ZWRfaW5zdGFuY2VfaWRzKSkge1xuICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICBfaWQ6IHtcbiAgICAgICAgJGluOiByZWxhdGVkX2luc3RhbmNlX2lkc1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBfaWQ6IDEsXG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIHNwYWNlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxufSk7XG4iLCJpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuICAgIE1ldGVvci5wdWJsaXNoICdzcGFjZV91c2VyX3NpZ25zJywgKHNwYWNlSWQpIC0+XHJcbiAgICAgICAgY2hlY2sgc3BhY2VJZCwgU3RyaW5nXHJcblxyXG4gICAgICAgIHVubGVzcyB0aGlzLnVzZXJJZFxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG4gICAgICAgIHJldHVybiBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9LCB7ZmllbGRzOiB7Y3JlYXRlZF9ieTogMCwgY3JlYXRlZDogMCwgbW9kaWZpZWRfYnk6IDB9fSlcclxuIiwiaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBNZXRlb3IucHVibGlzaCgnc3BhY2VfdXNlcl9zaWducycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gICAgfVxuICAgIHJldHVybiBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY3JlYXRlZF9ieTogMCxcbiAgICAgICAgY3JlYXRlZDogMCxcbiAgICAgICAgbW9kaWZpZWRfYnk6IDBcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG4iLCIjIyNcclxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgXCJ1c2VyX2luYm94X2luc3RhbmNlXCIsICgpLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XHJcblx0XHR1c2VyOiB0aGlzLnVzZXJJZCxcclxuXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcclxuXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XHJcblx0cXVlcnkgPSB7c3BhY2U6IHskaW46IHVzZXJTcGFjZUlkc319XHJcblxyXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXHJcblxyXG5cdGZpbmQ6IC0+XHJcblx0XHRkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRzcGFjZTogMSxcclxuXHRcdFx0XHRhcHBsaWNhbnRfbmFtZTogMSxcclxuXHRcdFx0XHRmbG93OiAxLFxyXG5cdFx0XHRcdGluYm94X3VzZXJzOiAxLFxyXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxyXG5cdFx0XHRcdHN0YXRlOiAxLFxyXG5cdFx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdFx0bW9kaWZpZWQ6IDEsXHJcblx0XHRcdFx0Zm9ybTogMVxyXG5cdFx0XHR9LCBzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDIwMFxyXG5cdFx0fSk7XHJcblx0Y2hpbGRyZW46IFtcclxuXHRcdHtcclxuXHRcdFx0ZmluZDogKGluc3RhbmNlLCBwb3N0KS0+XHJcblx0XHRcdFx0ZGIuZmxvd3MuZmluZCh7X2lkOiBpbnN0YW5jZS5mbG93fSwge2ZpZWxkczoge25hbWU6IDEsIHNwYWNlOiAxfX0pO1xyXG5cdFx0fVxyXG5cdF1cclxuIyMjXHJcblxyXG4jIyNcclxuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2luc3RhbmNlcycsIChzcGFjZUlkKS0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHNlbGYgPSB0aGlzO1xyXG5cclxuXHQjXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcclxuXHQjXHRcdHVzZXI6IHRoaXMudXNlcklkLFxyXG5cdCNcdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxyXG5cdCNcdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcclxuXHJcblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XHJcblxyXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXHJcblxyXG5cdGZpZWxkcyA9IHtcclxuXHRcdHNwYWNlOiAxLFxyXG4jXHRcdGFwcGxpY2FudF9uYW1lOiAxLFxyXG5cdFx0ZmxvdzogMSxcclxuXHRcdGluYm94X3VzZXJzOiAxLFxyXG5cdFx0Y2NfdXNlcnM6IDEsXHJcblx0XHRzdGF0ZTogMSxcclxuI1x0XHRuYW1lOiAxLFxyXG4jXHRcdG1vZGlmaWVkOiAxLFxyXG5cdFx0Zm9ybTogMVxyXG5cdH1cclxuXHJcblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDUwMH0pLm9ic2VydmVDaGFuZ2VzIHtcclxuXHRcdGFkZGVkOiAoaWQpLT5cclxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXHJcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2VcclxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXHJcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xyXG5cdFx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSlcclxuXHRcdGNoYW5nZWQ6IChpZCktPlxyXG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcclxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxyXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2VcclxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXHJcblx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xyXG5cdFx0cmVtb3ZlZDogKGlkKS0+XHJcblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XHJcblx0fVxyXG5cclxuXHRzZWxmLnJlYWR5KCk7XHJcblx0c2VsZi5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKVxyXG4jIyNcclxuXHJcbl9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gKHNwYWNlSWQsIHVzZXJJZCwgX2l0ZW1zLCBjYWxsYmFjayktPlxyXG5cdGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKFtcclxuXHRcdHtcclxuXHRcdFx0JG1hdGNoOiB7XHJcblx0XHRcdFx0c3BhY2U6IHNwYWNlSWQsXHJcblx0XHRcdFx0JG9yOiBbe2luYm94X3VzZXJzOiB1c2VySWR9LCB7Y2NfdXNlcnM6IHVzZXJJZH1dXHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdCRncm91cDoge1xyXG5cdFx0XHRcdF9pZDoge2Zsb3c6IFwiJGZsb3dcIiwgY2F0ZWdvcnk6IFwiJGNhdGVnb3J5XCJ9LCBjb3VudDogeyRzdW06IDF9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRdKS50b0FycmF5IChlcnIsIGRhdGEpLT5cclxuXHRcdGlmIGVyclxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxyXG5cclxuXHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxyXG5cdFx0XHRfaXRlbXMucHVzaCBkb2NcclxuXHJcblx0XHRpZiBjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spXHJcblx0XHRcdGNhbGxiYWNrKClcclxuXHRcdHJldHVyblxyXG5cclxuX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKF9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKVxyXG5cclxuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2Zsb3dfaW5zdGFuY2VzX2NvdW50JywgKHNwYWNlSWQpLT5cclxuXHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHNlbGYgPSB0aGlzO1xyXG5cclxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cclxuXHJcblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cclxuXHJcblx0ZGF0YSA9IFtdICAj5pWw5o2u5qC85byP77yaW3tfaWQ6Zmxvd0lkLCBjb3VudDog5b6F5Yqe5pWw6YePfSwge19pZDpmbG93SWQyLCBjb3VudDog5b6F5Yqe5pWw6YePMn1dXHJcblx0X2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUoc3BhY2VJZCwgc2VsZi51c2VySWQsIGRhdGEpXHJcblxyXG5cdF9mbG93c0RhdGEgPSBbXVxyXG5cclxuXHRfLmVhY2ggZGF0YSwgKGRhdGFJdGVtKS0+XHJcblx0XHRfZmxvd3NEYXRhLnB1c2goe19pZDogZGF0YUl0ZW0uX2lkLmZsb3csIGNhdGVnb3J5OiBkYXRhSXRlbS5faWQuY2F0ZWdvcnksIGNvdW50OiBkYXRhSXRlbS5jb3VudH0pXHJcblxyXG5cdHNlbGYuYWRkZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7Zmxvd3M6IF9mbG93c0RhdGF9KTtcclxuXHJcblx0X2NoYW5nZURhdGEgPSAoZG9jLCBhY3Rpb24pLT5cclxuXHRcdGZsb3dfaW5zdGFuY2UgPSBfLmZpbmQgX2Zsb3dzRGF0YSwgKGYpLT5cclxuXHRcdFx0cmV0dXJuIGYuX2lkID09IGRvYy5mbG93XHJcblx0XHRpZiBmbG93X2luc3RhbmNlXHJcblx0XHRcdGlmIGFjdGlvbiA9PSBcImFkZGVkXCJcclxuXHRcdFx0XHRmbG93X2luc3RhbmNlLmNvdW50KytcclxuXHRcdFx0ZWxzZSBpZiBhY3Rpb24gPT0gXCJyZW1vdmVkXCJcclxuXHRcdFx0XHRmbG93X2luc3RhbmNlLmNvdW50LS1cclxuXHRcdGVsc2UgaWYgYWN0aW9uID09IFwiYWRkZWRcIlxyXG5cdFx0XHRfZmxvd3NEYXRhLnB1c2gge19pZDogZG9jLmZsb3csIGNhdGVnb3J5OiBkb2MuY2F0ZWdvcnksIGNvdW50OiAxfVxyXG5cclxuXHRcdHNlbGYuY2hhbmdlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtmbG93czogX2Zsb3dzRGF0YX0pO1xyXG5cclxuXHRfaW5pdCA9IHRydWVcclxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczoge19pZDogMSwgaW5ib3hfdXNlcnM6IDEsIGNjX3VzZXJzOiAxLCBmbG93OiAxLCBjYXRlZ29yeTogMX19KS5vYnNlcnZlIHtcclxuXHRcdGFkZGVkOiAoZG9jKS0+XHJcblx0XHRcdGlmICFfaW5pdFxyXG5cdFx0XHRcdF9jaGFuZ2VEYXRhKGRvYywgXCJhZGRlZFwiKVxyXG5cdFx0cmVtb3ZlZDogKGRvYyktPlxyXG5cdFx0XHRpZiAhX2luaXRcclxuXHRcdFx0XHRfY2hhbmdlRGF0YShkb2MsIFwicmVtb3ZlZFwiKVxyXG5cdH1cclxuXHRfaW5pdCA9IGZhbHNlXHJcblxyXG5cdHNlbGYucmVhZHkoKTtcclxuXHRzZWxmLm9uU3RvcCAoKS0+XHJcblx0XHRoYW5kbGUuc3RvcCgpIiwiXG4vKlxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgXCJ1c2VyX2luYm94X2luc3RhbmNlXCIsICgpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHRcdHVzZXI6IHRoaXMudXNlcklkLFxuXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcblx0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xuXHRxdWVyeSA9IHtzcGFjZTogeyRpbjogdXNlclNwYWNlSWRzfX1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGZpbmQ6IC0+XG5cdFx0ZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRzcGFjZTogMSxcblx0XHRcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0XHRcdGZsb3c6IDEsXG5cdFx0XHRcdGluYm94X3VzZXJzOiAxLFxuXHRcdFx0XHRjY191c2VyczogMSxcblx0XHRcdFx0c3RhdGU6IDEsXG5cdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdG1vZGlmaWVkOiAxLFxuXHRcdFx0XHRmb3JtOiAxXG5cdFx0XHR9LCBzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDIwMFxuXHRcdH0pO1xuXHRjaGlsZHJlbjogW1xuXHRcdHtcblx0XHRcdGZpbmQ6IChpbnN0YW5jZSwgcG9zdCktPlxuXHRcdFx0XHRkYi5mbG93cy5maW5kKHtfaWQ6IGluc3RhbmNlLmZsb3d9LCB7ZmllbGRzOiB7bmFtZTogMSwgc3BhY2U6IDF9fSk7XG5cdFx0fVxuXHRdXG4gKi9cblxuLypcbk1ldGVvci5wdWJsaXNoICdteV9pbmJveF9pbnN0YW5jZXMnLCAoc3BhY2VJZCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0ICpcdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHQgKlx0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0ICpcdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxuXHQgKlx0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xuXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZmllbGRzID0ge1xuXHRcdHNwYWNlOiAxLFxuICpcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0ZmxvdzogMSxcblx0XHRpbmJveF91c2VyczogMSxcblx0XHRjY191c2VyczogMSxcblx0XHRzdGF0ZTogMSxcbiAqXHRcdG5hbWU6IDEsXG4gKlx0XHRtb2RpZmllZDogMSxcblx0XHRmb3JtOiAxXG5cdH1cblxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge3NvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogNTAwfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGFkZGVkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKVxuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG5cdFx0cmVtb3ZlZDogKGlkKS0+XG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuXHR9XG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuICovXG52YXIgX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUsIF9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlO1xuXG5fZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKHNwYWNlSWQsIHVzZXJJZCwgX2l0ZW1zLCBjYWxsYmFjaykge1xuICByZXR1cm4gZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoW1xuICAgIHtcbiAgICAgICRtYXRjaDoge1xuICAgICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNjX3VzZXJzOiB1c2VySWRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICAkZ3JvdXA6IHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgZmxvdzogXCIkZmxvd1wiLFxuICAgICAgICAgIGNhdGVnb3J5OiBcIiRjYXRlZ29yeVwiXG4gICAgICAgIH0sXG4gICAgICAgIGNvdW50OiB7XG4gICAgICAgICAgJHN1bTogMVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBdKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbiAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gX2l0ZW1zLnB1c2goZG9jKTtcbiAgICB9KTtcbiAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xufTtcblxuX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKF9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKTtcblxuTWV0ZW9yLnB1Ymxpc2goJ215X2luYm94X2Zsb3dfaW5zdGFuY2VzX2NvdW50JywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICB2YXIgX2NoYW5nZURhdGEsIF9mbG93c0RhdGEsIF9pbml0LCBkYXRhLCBoYW5kbGUsIHF1ZXJ5LCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgcXVlcnkgPSB7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfTtcbiAgcXVlcnkuJG9yID0gW1xuICAgIHtcbiAgICAgIGluYm94X3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgIH0sIHtcbiAgICAgIGNjX3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgIH1cbiAgXTtcbiAgZGF0YSA9IFtdO1xuICBfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZShzcGFjZUlkLCBzZWxmLnVzZXJJZCwgZGF0YSk7XG4gIF9mbG93c0RhdGEgPSBbXTtcbiAgXy5lYWNoKGRhdGEsIGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG4gICAgcmV0dXJuIF9mbG93c0RhdGEucHVzaCh7XG4gICAgICBfaWQ6IGRhdGFJdGVtLl9pZC5mbG93LFxuICAgICAgY2F0ZWdvcnk6IGRhdGFJdGVtLl9pZC5jYXRlZ29yeSxcbiAgICAgIGNvdW50OiBkYXRhSXRlbS5jb3VudFxuICAgIH0pO1xuICB9KTtcbiAgc2VsZi5hZGRlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtcbiAgICBmbG93czogX2Zsb3dzRGF0YVxuICB9KTtcbiAgX2NoYW5nZURhdGEgPSBmdW5jdGlvbihkb2MsIGFjdGlvbikge1xuICAgIHZhciBmbG93X2luc3RhbmNlO1xuICAgIGZsb3dfaW5zdGFuY2UgPSBfLmZpbmQoX2Zsb3dzRGF0YSwgZnVuY3Rpb24oZikge1xuICAgICAgcmV0dXJuIGYuX2lkID09PSBkb2MuZmxvdztcbiAgICB9KTtcbiAgICBpZiAoZmxvd19pbnN0YW5jZSkge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gXCJhZGRlZFwiKSB7XG4gICAgICAgIGZsb3dfaW5zdGFuY2UuY291bnQrKztcbiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcInJlbW92ZWRcIikge1xuICAgICAgICBmbG93X2luc3RhbmNlLmNvdW50LS07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwiYWRkZWRcIikge1xuICAgICAgX2Zsb3dzRGF0YS5wdXNoKHtcbiAgICAgICAgX2lkOiBkb2MuZmxvdyxcbiAgICAgICAgY2F0ZWdvcnk6IGRvYy5jYXRlZ29yeSxcbiAgICAgICAgY291bnQ6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge1xuICAgICAgZmxvd3M6IF9mbG93c0RhdGFcbiAgICB9KTtcbiAgfTtcbiAgX2luaXQgPSB0cnVlO1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgaW5ib3hfdXNlcnM6IDEsXG4gICAgICBjY191c2VyczogMSxcbiAgICAgIGZsb3c6IDEsXG4gICAgICBjYXRlZ29yeTogMVxuICAgIH1cbiAgfSkub2JzZXJ2ZSh7XG4gICAgYWRkZWQ6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgaWYgKCFfaW5pdCkge1xuICAgICAgICByZXR1cm4gX2NoYW5nZURhdGEoZG9jLCBcImFkZGVkXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlZDogZnVuY3Rpb24oZG9jKSB7XG4gICAgICBpZiAoIV9pbml0KSB7XG4gICAgICAgIHJldHVybiBfY2hhbmdlRGF0YShkb2MsIFwicmVtb3ZlZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBfaW5pdCA9IGZhbHNlO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIlxyXG5NZXRlb3IucHVibGlzaCAnZmxvd19tYWluX2F0dGFjaF90ZW1wbGF0ZScsIChzcGFjZUlkLCBmbG93SWQpLT5cclxuXHRjaGVjayhzcGFjZUlkLCBTdHJpbmcpXHJcblx0Y2hlY2soZmxvd0lkLCBTdHJpbmcpXHJcblxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZCAmJiBmbG93SWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0cmV0dXJuIENyZWF0b3IuZ2V0Q29sbGVjdGlvbignY21zX2ZpbGVzJykuZmluZCh7IHNwYWNlOiBzcGFjZUlkLCAncGFyZW50Lm8nOiAnZmxvd3MnLCAncGFyZW50Lmlkcyc6IGZsb3dJZCwgIG5hbWU6ICfmraPmlocuZG9jeCcgfSlcclxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfbWFpbl9hdHRhY2hfdGVtcGxhdGUnLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQpIHtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgY2hlY2soZmxvd0lkLCBTdHJpbmcpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIShzcGFjZUlkICYmIGZsb3dJZCkpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBDcmVhdG9yLmdldENvbGxlY3Rpb24oJ2Ntc19maWxlcycpLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICdwYXJlbnQubyc6ICdmbG93cycsXG4gICAgJ3BhcmVudC5pZHMnOiBmbG93SWQsXG4gICAgbmFtZTogJ+ato+aWhy5kb2N4J1xuICB9KTtcbn0pO1xuIiwid29ya2Zsb3dUZW1wbGF0ZSA9IHt9XHJcblxyXG4j5Y+v55So5q2k6ISa5pys5LuO5qih5p2/5bel5L2c5Yy65YGa5om56YeP5a+85Ye677yaXHJcbiPkvb/nlKjnrqHnkIblkZjotKbmiLfnmbvlvZXlkI7vvIzov5vlhaVGbG93TW9kdWxlc++8jOWcqOaOp+WItuWPsOaJp+ihjOS7peS4i+iEmuacrOWNs+WPr1xyXG4jZGIuZm9ybXMuZmluZCh7c3RhdGU6XCJlbmFibGVkXCJ9KS5mb3JFYWNoKGZ1bmN0aW9uKGZvcm0pe3dpbmRvdy5vcGVuKE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS93b3JrZmxvdy9leHBvcnQvZm9ybT9mb3JtPVwiK2Zvcm0uX2lkKSl9KVxyXG53b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0gPVtdXHJcblxyXG4j5Y+v55So5q2k6ISa5pys5LuO5qih5p2/5bel5L2c5Yy65YGa5om56YeP5a+85Ye677yaXHJcbiPkvb/nlKjnrqHnkIblkZjotKbmiLfnmbvlvZXlkI7vvIzov5vlhaXmqKHmnb/kuJPljLrvvIzlnKjmjqfliLblj7DmiafooYzku6XkuIvohJrmnKzljbPlj69cclxuI2RiLmZvcm1zLmZpbmQoe3N0YXRlOlwiZW5hYmxlZFwifSkuZm9yRWFjaChmdW5jdGlvbihmb3JtKXt3aW5kb3cub3BlbihNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvd29ya2Zsb3cvZXhwb3J0L2Zvcm0/Zm9ybT1cIitmb3JtLl9pZCkpfSlcclxud29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdID1bXVxyXG5cclxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxyXG5cdGZzID0gcmVxdWlyZSgnZnMnKVxyXG5cdHBhdGggPSByZXF1aXJlKCdwYXRoJylcclxuXHRtaW1lID0gcmVxdWlyZSgnbWltZScpXHJcblx0cmVhZEZpbGVMaXN0ID0gKHBhdGhEaXIsIGZpbGVzTGlzdCktPlxyXG5cdFx0ZmlsZXMgPSBmcy5yZWFkZGlyU3luYyhwYXRoRGlyKVxyXG5cdFx0ZmlsZXMuZm9yRWFjaCAobmFtZSwgaW5kZXgpLT5cclxuXHRcdFx0c3RhdCA9IGZzLnN0YXRTeW5jKHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSlcclxuXHRcdFx0aWYgc3RhdC5pc0RpcmVjdG9yeSgpXHJcblx0XHRcdFx0IyDpgJLlvZLor7vlj5bmlofku7ZcclxuXHRcdFx0XHRyZWFkRmlsZUxpc3QocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpLCBmaWxlc0xpc3QpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRvYmogPSB7fVxyXG5cdFx0XHRcdG9iai5wYXRoID0gcGF0aERpclxyXG5cdFx0XHRcdG9iai5uYW1lID0gbmFtZVxyXG5cdFx0XHRcdGZpbGVzTGlzdC5wdXNoKG9iailcclxuXHJcblx0I+iOt+WPlnpoLWNu5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XHJcblx0ZmlsZXNMaXN0X2NuID0gW11cclxuXHRwYXRoX2NuID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzPy5wYXRoX2NuXHJcblx0aWYgcGF0aF9jblxyXG5cdFx0YWJzb2x1dGVfcGF0aF9jbiA9IHBhdGgucmVzb2x2ZShwYXRoX2NuKVxyXG5cdFx0Y29uc29sZS5sb2cgXCJhYnNvbHV0ZV9wYXRoX2NuXCIsIGFic29sdXRlX3BhdGhfY25cclxuXHRcdGlmIGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF9jbilcclxuXHRcdFx0cmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfY24sIGZpbGVzTGlzdF9jbilcclxuXHRcdFx0ZmlsZXNMaXN0X2NuLmZvckVhY2ggKGZpbGUpLT5cclxuXHRcdFx0XHR0cnlcclxuXHRcdFx0XHRcdGlmIG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpIGlzIFwiYXBwbGljYXRpb24vanNvblwiXHJcblx0XHRcdFx0XHRcdGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKVxyXG5cdFx0XHRcdFx0XHR3b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKVxyXG5cdFx0XHRcdGNhdGNoIGVcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCLojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpXHJcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHJcblx0I+iOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XHJcblx0ZmlsZXNMaXN0X3VzID0gW11cclxuXHRwYXRoX3VzID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzPy5wYXRoX3VzXHJcblx0aWYgcGF0aF91c1xyXG5cdFx0YWJzb2x1dGVfcGF0aF91cyA9IHBhdGgucmVzb2x2ZShwYXRoX3VzKVxyXG5cdFx0Y29uc29sZS5sb2cgXCJhYnNvbHV0ZV9wYXRoX3VzXCIsIGFic29sdXRlX3BhdGhfdXNcclxuXHRcdGlmIGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF91cylcclxuXHRcdFx0cmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfdXMsIGZpbGVzTGlzdF91cylcclxuXHRcdFx0ZmlsZXNMaXN0X3VzLmZvckVhY2ggKGZpbGUpLT5cclxuXHRcdFx0XHR0cnlcclxuXHRcdFx0XHRcdGlmIG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpIGlzIFwiYXBwbGljYXRpb24vanNvblwiXHJcblx0XHRcdFx0XHRcdGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKVxyXG5cdFx0XHRcdFx0XHR3b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKVxyXG5cdFx0XHRcdGNhdGNoIGVcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCLojrflj5Zlbi11c+aWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpXHJcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcdFxyXG5cclxuXHJcbiIsIiAgICAgICAgICAgICAgICAgICAgIFxuXG53b3JrZmxvd1RlbXBsYXRlID0ge307XG5cbndvcmtmbG93VGVtcGxhdGVbXCJlblwiXSA9IFtdO1xuXG53b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0gPSBbXTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHZhciBhYnNvbHV0ZV9wYXRoX2NuLCBhYnNvbHV0ZV9wYXRoX3VzLCBmaWxlc0xpc3RfY24sIGZpbGVzTGlzdF91cywgZnMsIG1pbWUsIHBhdGgsIHBhdGhfY24sIHBhdGhfdXMsIHJlYWRGaWxlTGlzdCwgcmVmLCByZWYxO1xuICBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG4gIG1pbWUgPSByZXF1aXJlKCdtaW1lJyk7XG4gIHJlYWRGaWxlTGlzdCA9IGZ1bmN0aW9uKHBhdGhEaXIsIGZpbGVzTGlzdCkge1xuICAgIHZhciBmaWxlcztcbiAgICBmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKHBhdGhEaXIpO1xuICAgIHJldHVybiBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgb2JqLCBzdGF0O1xuICAgICAgc3RhdCA9IGZzLnN0YXRTeW5jKHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSk7XG4gICAgICBpZiAoc3RhdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgIHJldHVybiByZWFkRmlsZUxpc3QocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpLCBmaWxlc0xpc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqID0ge307XG4gICAgICAgIG9iai5wYXRoID0gcGF0aERpcjtcbiAgICAgICAgb2JqLm5hbWUgPSBuYW1lO1xuICAgICAgICByZXR1cm4gZmlsZXNMaXN0LnB1c2gob2JqKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgZmlsZXNMaXN0X2NuID0gW107XG4gIHBhdGhfY24gPSAocmVmID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzKSAhPSBudWxsID8gcmVmLnBhdGhfY24gOiB2b2lkIDA7XG4gIGlmIChwYXRoX2NuKSB7XG4gICAgYWJzb2x1dGVfcGF0aF9jbiA9IHBhdGgucmVzb2x2ZShwYXRoX2NuKTtcbiAgICBjb25zb2xlLmxvZyhcImFic29sdXRlX3BhdGhfY25cIiwgYWJzb2x1dGVfcGF0aF9jbik7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF9jbikpIHtcbiAgICAgIHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX2NuLCBmaWxlc0xpc3RfY24pO1xuICAgICAgZmlsZXNMaXN0X2NuLmZvckVhY2goZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICB2YXIgZGF0YSwgZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAobWltZS5nZXRUeXBlKGZpbGUubmFtZSkgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICAgICAgICBkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4Jyk7XG4gICAgICAgICAgICByZXR1cm4gd29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi6I635Y+WemgtY27mlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSk7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmaWxlc0xpc3RfdXMgPSBbXTtcbiAgcGF0aF91cyA9IChyZWYxID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzKSAhPSBudWxsID8gcmVmMS5wYXRoX3VzIDogdm9pZCAwO1xuICBpZiAocGF0aF91cykge1xuICAgIGFic29sdXRlX3BhdGhfdXMgPSBwYXRoLnJlc29sdmUocGF0aF91cyk7XG4gICAgY29uc29sZS5sb2coXCJhYnNvbHV0ZV9wYXRoX3VzXCIsIGFic29sdXRlX3BhdGhfdXMpO1xuICAgIGlmIChmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfdXMpKSB7XG4gICAgICByZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF91cywgZmlsZXNMaXN0X3VzKTtcbiAgICAgIHJldHVybiBmaWxlc0xpc3RfdXMuZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIHZhciBkYXRhLCBlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgICAgICAgIGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLojrflj5Zlbi11c+aWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpKTtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiIsIiMjI1xyXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxyXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxyXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcclxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcclxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxyXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXHJcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcclxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcclxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcclxuIyMjXHJcbk1ldGVvci5zdGFydHVwIC0+XHJcblx0aWYgTWV0ZW9yLnNldHRpbmdzLmNyb24/LmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvblxyXG5cdFx0c2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJylcclxuXHRcdCMg5a6a5pe25omn6KGM5ZCM5q2lXHJcblx0XHRydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uXHJcblx0XHRnb19uZXh0ID0gdHJ1ZVxyXG5cdFx0c2NoZWR1bGUuc2NoZWR1bGVKb2IgcnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCAoKS0+XHJcblx0XHRcdHRyeVxyXG5cdFx0XHRcdGlmICFnb19uZXh0XHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRnb19uZXh0ID0gZmFsc2VcclxuXHRcdFx0XHRjb25zb2xlLnRpbWUgJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbidcclxuXHJcblx0XHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHJcblx0XHRcdFx0IyDlsIblp5TmiZjop4TliJnorr7nva7kuLrkuI3lj6/nlKhcclxuXHRcdFx0XHRkYi5wcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMudXBkYXRlKHsgZW5hYmxlZDogdHJ1ZSwgZW5kX3RpbWU6IHsgJGx0ZTogbm93IH0gfSwgeyAkc2V0OiB7IGVuYWJsZWQ6IGZhbHNlIH0gfSwgeyBtdWx0aSA6dHJ1ZSB9KVxyXG5cclxuXHRcdFx0XHRjb25zb2xlLnRpbWVFbmQgJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbidcclxuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxyXG5cclxuXHRcdFx0Y2F0Y2ggZVxyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCJBVVRPIEFVVE9fRklOSVNIX1BST0NFU1NfREVMRUdBVElPTiBFUlJPUjogXCJcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxyXG5cclxuXHRcdCwgKGUpLT5cclxuXHRcdFx0Y29uc29sZS5sb2cgJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50OiBhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24uY29mZmVlJ1xyXG5cdFx0XHRjb25zb2xlLmxvZyBlLnN0YWNrXHJcbiIsIlxuLypcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4gKi9cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICB2YXIgZ29fbmV4dCwgcmVmLCBydWxlLCBzY2hlZHVsZTtcbiAgaWYgKChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MuY3JvbikgIT0gbnVsbCA/IHJlZi5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24gOiB2b2lkIDApIHtcbiAgICBzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKTtcbiAgICBydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uO1xuICAgIGdvX25leHQgPSB0cnVlO1xuICAgIHJldHVybiBzY2hlZHVsZS5zY2hlZHVsZUpvYihydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGUsIG5vdztcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghZ29fbmV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnb19uZXh0ID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUudGltZSgnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJyk7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBkYi5wcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMudXBkYXRlKHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIGVuZF90aW1lOiB7XG4gICAgICAgICAgICAkbHRlOiBub3dcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIG11bHRpOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbicpO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBVVRPIEFVVE9fRklOSVNIX1BST0NFU1NfREVMRUdBVElPTiBFUlJPUjogXCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24oZSkge1xuICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50OiBhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24uY29mZmVlJyk7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coZS5zdGFjayk7XG4gICAgfSkpO1xuICB9XG59KTtcbiIsIiMjI1xyXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxyXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxyXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcclxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcclxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxyXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXHJcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcclxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcclxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcclxuIyMjXHJcbk1ldGVvci5zdGFydHVwIC0+XHJcblx0aWYgTWV0ZW9yLnNldHRpbmdzLmNyb24/LnRpbWVvdXRfYXV0b19zdWJtaXRcclxuXHRcdHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpXHJcblx0XHQjIOWumuaXtuaJp+ihjOWQjOatpVxyXG5cdFx0cnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLnRpbWVvdXRfYXV0b19zdWJtaXRcclxuXHRcdGdvX25leHQgPSB0cnVlXHJcblx0XHRzY2hlZHVsZS5zY2hlZHVsZUpvYiBydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50ICgpLT5cclxuXHRcdFx0dHJ5XHJcblx0XHRcdFx0aWYgIWdvX25leHRcclxuXHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdGdvX25leHQgPSBmYWxzZVxyXG5cdFx0XHRcdGNvbnNvbGUudGltZSAndGltZW91dF9hdXRvX3N1Ym1pdCdcclxuXHJcblx0XHRcdFx0dXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdCgpXHJcblxyXG5cdFx0XHRcdGNvbnNvbGUudGltZUVuZCAndGltZW91dF9hdXRvX3N1Ym1pdCdcclxuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxyXG5cclxuXHRcdFx0Y2F0Y2ggZVxyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCJBVVRPIFRJTUVPVVRfQVVUT19TVUJNSVQgRVJST1I6IFwiXHJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcclxuXHJcblx0XHQsIChlKS0+XHJcblx0XHRcdGNvbnNvbGUubG9nICdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudDogdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUnXHJcblx0XHRcdGNvbnNvbGUubG9nIGUuc3RhY2tcclxuXHJcbk1ldGVvci5tZXRob2RzXHJcblx0dGltZW91dF9hdXRvX3N1Ym1pdDogKGluc19pZCktPlxyXG5cdFx0dXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdChpbnNfaWQpXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHJcbiIsIlxuLypcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4gKi9cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICB2YXIgZ29fbmV4dCwgcmVmLCBydWxlLCBzY2hlZHVsZTtcbiAgaWYgKChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MuY3JvbikgIT0gbnVsbCA/IHJlZi50aW1lb3V0X2F1dG9fc3VibWl0IDogdm9pZCAwKSB7XG4gICAgc2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJyk7XG4gICAgcnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLnRpbWVvdXRfYXV0b19zdWJtaXQ7XG4gICAgZ29fbmV4dCA9IHRydWU7XG4gICAgcmV0dXJuIHNjaGVkdWxlLnNjaGVkdWxlSm9iKHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghZ29fbmV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnb19uZXh0ID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUudGltZSgndGltZW91dF9hdXRvX3N1Ym1pdCcpO1xuICAgICAgICB1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KCk7XG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgndGltZW91dF9hdXRvX3N1Ym1pdCcpO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBVVRPIFRJTUVPVVRfQVVUT19TVUJNSVQgRVJST1I6IFwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudDogdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUnKTtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlLnN0YWNrKTtcbiAgICB9KSk7XG4gIH1cbn0pO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHRpbWVvdXRfYXV0b19zdWJtaXQ6IGZ1bmN0aW9uKGluc19pZCkge1xuICAgIHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoaW5zX2lkKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3Iuc3RhcnR1cCAoKS0+XHJcblx0VGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyID0gbmV3IFRhYnVsYXIuVGFibGVcclxuXHRcdG5hbWU6IFwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhclwiXHJcblx0XHRjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXNcclxuXHRcdGNvbHVtbnM6IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiX2lkXCIsXHJcblx0XHRcdFx0dGl0bGU6ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInJldmVyc2VcIiBpZD1cInJldmVyc2VcIj4nLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2UsXHJcblx0XHRcdFx0d2lkdGg6ICcxcHgnLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0aW5wdXQgPSAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwicmVsYXRlZC1pbnN0YW5jZXMtbGlzdC1jaGVja2JveFwiIG5hbWU9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiBpZD1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIHZhbHVlPVwiJyArIGRvYy5faWQgKyAnXCInXHJcblxyXG5cdFx0XHRcdFx0aWYgVGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLnJlbGF0ZWRfaW5zdGFuY2VzPy5pbmNsdWRlcyhkb2MuX2lkKVxyXG5cdFx0XHRcdFx0XHRpbnB1dCArPSBcIiBjaGVja2VkIFwiXHJcblxyXG5cdFx0XHRcdFx0aW5wdXQgKz0gXCI+XCJcclxuXHRcdFx0XHRcdHJldHVybiBpbnB1dFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJuYW1lXCIsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZSxcclxuXHRcdFx0XHR3aWR0aDogJzQ1JScsXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRocmVmID0gJyc7XHJcblx0XHRcdFx0XHRpZiBNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKVxyXG5cdFx0XHRcdFx0XHRocmVmID0gJydcclxuXHJcblx0XHRcdFx0XHRhYnNvbHV0ZSA9IGZhbHNlXHJcblxyXG5cdFx0XHRcdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdFx0XHRcdGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZVxyXG5cdFx0XHRcdFx0aWYgYWJzb2x1dGVcclxuXHRcdFx0XHRcdFx0aHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2RvYy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGhyZWYgPSBTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIrZG9jLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcclxuXHRcdFx0XHRcdHJldHVybiBcIjxhIGRhdGEtaWQ9JyN7ZG9jLl9pZH0nIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIitocmVmK1wiJz5cIiArIGRvYy5uYW1lICsgXCI8L2E+XCJcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImZsb3dfbmFtZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRpZiBkb2Muc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxyXG5cdFx0XHRcdFx0XHRqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCJcclxuXHJcblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJ1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlcC1jdXJyZW50LXN0YXRlICN7anVkZ2V9XCI+I3tzdGVwX2N1cnJlbnRfbmFtZX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XCJcIlwiXHJcblx0XHRcdH1cclxuXHRcdF1cclxuXHJcblx0XHRkb206IFwidHBcIixcclxuXHRcdGxlbmd0aENoYW5nZTogZmFsc2UsXHJcblx0XHRleHRyYUZpZWxkczogW1wic3RhdGVcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcInNwYWNlXCIsIFwia2V5d29yZHNcIl0sXHJcblx0XHRwYWdlTGVuZ3RoOiAxMCxcclxuXHRcdGluZm86IGZhbHNlLFxyXG5cdFx0c2VhcmNoaW5nOiB0cnVlLFxyXG5cdFx0cmVzcG9uc2l2ZTpcclxuXHRcdFx0ZGV0YWlsczogZmFsc2VcclxuXHRcdGF1dG9XaWR0aDogZmFsc2UsXHJcblx0XHRjaGFuZ2VTZWxlY3RvcjogKHNlbGVjdG9yLCB1c2VySWQpIC0+XHJcblx0XHRcdHVubGVzcyB1c2VySWRcclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XHJcblxyXG5cdFx0XHRzcGFjZUlkID0gc2VsZWN0b3Iuc3BhY2VcclxuXHRcdFx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdFx0XHRpZiBzZWxlY3Rvcj8uJGFuZD8ubGVuZ3RoID4gMFxyXG5cdFx0XHRcdFx0c3BhY2VJZCA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF1cclxuXHRcdFx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XHJcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZClcclxuXHRcdFx0aWYgIXNwYWNlXHJcblx0XHRcdFx0c2VsZWN0b3Iuc3RhdGUgPSBcIm5vbmVcIlxyXG5cdFx0XHRpZiAhc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZClcclxuXHJcblx0XHRcdFx0Zmxvd19pZHMgPSBbXVxyXG5cdFx0XHRcdGN1clNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xyXG5cdFx0XHRcdFx0c3BhY2U6IHNwYWNlSWQsXHJcblx0XHRcdFx0XHQndXNlcic6IHVzZXJJZFxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0aWYgY3VyU3BhY2VVc2VyXHJcblx0XHRcdFx0XHRvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcclxuXHRcdFx0XHRcdFx0X2lkOiB7XHJcblx0XHRcdFx0XHRcdFx0JGluOiBjdXJTcGFjZVVzZXIub3JnYW5pemF0aW9uc1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KS5mZXRjaCgpXHJcblx0XHRcdFx0XHRmbG93cyA9IGRiLmZsb3dzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9KVxyXG5cdFx0XHRcdFx0Zmxvd3MuZm9yRWFjaCAoZmwpLT5cclxuXHRcdFx0XHRcdFx0aWYgV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucykgfHwgV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpXHJcblx0XHRcdFx0XHRcdFx0Zmxvd19pZHMucHVzaChmbC5faWQpXHJcblxyXG5cdFx0XHRcdGlmIHNlbGVjdG9yPy4kYW5kPy5sZW5ndGggPiAwXHJcblx0XHRcdFx0XHRzZWxlY3Rvci4kYW5kWzBdLiRvciA9IFt7c3VibWl0dGVyOiB1c2VySWR9LCB7YXBwbGljYW50OiB1c2VySWR9LCB7aW5ib3hfdXNlcnM6IHVzZXJJZH0sIHtvdXRib3hfdXNlcnM6IHVzZXJJZH0sXHJcblx0XHRcdFx0XHRcdFx0e2NjX3VzZXJzOiB1c2VySWR9LCB7IGZsb3c6IHsgJGluOiBmbG93X2lkcyB9IH1dXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0Xy5leHRlbmQgc2VsZWN0b3IsIHtcclxuXHRcdFx0XHRcdFx0JG9yOiBbe3N1Ym1pdHRlcjogdXNlcklkfSwge2FwcGxpY2FudDogdXNlcklkfSwge2luYm94X3VzZXJzOiB1c2VySWR9LCB7b3V0Ym94X3VzZXJzOiB1c2VySWR9LFxyXG5cdFx0XHRcdFx0XHRcdHtjY191c2VyczogdXNlcklkfSwgeyBmbG93OiB7ICRpbjogZmxvd19pZHMgfSB9XVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHNlbGVjdG9yIiwiTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIgPSBuZXcgVGFidWxhci5UYWJsZSh7XG4gICAgbmFtZTogXCJyZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyXCIsXG4gICAgY29sbGVjdGlvbjogZGIuaW5zdGFuY2VzLFxuICAgIGNvbHVtbnM6IFtcbiAgICAgIHtcbiAgICAgICAgZGF0YTogXCJfaWRcIixcbiAgICAgICAgdGl0bGU6ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInJldmVyc2VcIiBpZD1cInJldmVyc2VcIj4nLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICB3aWR0aDogJzFweCcsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgaW5wdXQsIHJlZjtcbiAgICAgICAgICBpbnB1dCA9ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJyZWxhdGVkLWluc3RhbmNlcy1saXN0LWNoZWNrYm94XCIgbmFtZT1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIGlkPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgdmFsdWU9XCInICsgZG9jLl9pZCArICdcIic7XG4gICAgICAgICAgaWYgKChyZWYgPSBUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIucmVsYXRlZF9pbnN0YW5jZXMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoZG9jLl9pZCkgOiB2b2lkIDApIHtcbiAgICAgICAgICAgIGlucHV0ICs9IFwiIGNoZWNrZWQgXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlucHV0ICs9IFwiPlwiO1xuICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm5hbWVcIixcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6ICc0NSUnLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFic29sdXRlLCBocmVmO1xuICAgICAgICAgIGhyZWYgPSAnJztcbiAgICAgICAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSkpIHtcbiAgICAgICAgICAgIGhyZWYgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgICAgYWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICAgICAgICBhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICAgICAgaHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZG9jLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHJlZiA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGRvYy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoXCI8YSBkYXRhLWlkPSdcIiArIGRvYy5faWQgKyBcIicgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiKSArIGhyZWYgKyBcIic+XCIgKyBkb2MubmFtZSArIFwiPC9hPlwiO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJmbG93X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIganVkZ2UsIHN0ZXBfY3VycmVudF9uYW1lO1xuICAgICAgICAgIGlmIChkb2Muc3RhdGUgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgICAgICAgIGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJyc7XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwic3RlcC1jdXJyZW50LXN0YXRlIFwiICsganVkZ2UgKyBcIlxcXCI+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZSArIFwiPC9kaXY+XCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdLFxuICAgIGRvbTogXCJ0cFwiLFxuICAgIGxlbmd0aENoYW5nZTogZmFsc2UsXG4gICAgZXh0cmFGaWVsZHM6IFtcInN0YXRlXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJzcGFjZVwiLCBcImtleXdvcmRzXCJdLFxuICAgIHBhZ2VMZW5ndGg6IDEwLFxuICAgIGluZm86IGZhbHNlLFxuICAgIHNlYXJjaGluZzogdHJ1ZSxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICBkZXRhaWxzOiBmYWxzZVxuICAgIH0sXG4gICAgYXV0b1dpZHRoOiBmYWxzZSxcbiAgICBjaGFuZ2VTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IsIHVzZXJJZCkge1xuICAgICAgdmFyIGN1clNwYWNlVXNlciwgZmxvd19pZHMsIGZsb3dzLCBvcmdhbml6YXRpb25zLCByZWYsIHJlZjEsIHNwYWNlLCBzcGFjZUlkO1xuICAgICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZUlkID0gc2VsZWN0b3Iuc3BhY2U7XG4gICAgICBpZiAoIXNwYWNlSWQpIHtcbiAgICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsID8gKHJlZiA9IHNlbGVjdG9yLiRhbmQpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICBzcGFjZUlkID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZUlkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkKTtcbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgc2VsZWN0b3Iuc3RhdGUgPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICAgIGlmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZCkpIHtcbiAgICAgICAgZmxvd19pZHMgPSBbXTtcbiAgICAgICAgY3VyU3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgICAgICAgJ3VzZXInOiB1c2VySWRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjdXJTcGFjZVVzZXIpIHtcbiAgICAgICAgICBvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgICAgIF9pZDoge1xuICAgICAgICAgICAgICAkaW46IGN1clNwYWNlVXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgICAgICBmbG93cyA9IGRiLmZsb3dzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IHNwYWNlSWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmbG93cy5mb3JFYWNoKGZ1bmN0aW9uKGZsKSB7XG4gICAgICAgICAgICBpZiAoV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucykgfHwgV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmbG93X2lkcy5wdXNoKGZsLl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsID8gKHJlZjEgPSBzZWxlY3Rvci4kYW5kKSAhPSBudWxsID8gcmVmMS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgIHNlbGVjdG9yLiRhbmRbMF0uJG9yID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdWJtaXR0ZXI6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBhcHBsaWNhbnQ6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBpbmJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIG91dGJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGNjX3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgZmxvdzoge1xuICAgICAgICAgICAgICAgICRpbjogZmxvd19pZHNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgXy5leHRlbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICAgICRvcjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VibWl0dGVyOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGFwcGxpY2FudDogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBpbmJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBvdXRib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgY2NfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZmxvdzoge1xuICAgICAgICAgICAgICAgICAgJGluOiBmbG93X2lkc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgfVxuICB9KTtcbn0pO1xuIiwiU3RlZWRvcy5zdWJzW1wiSW5zdGFuY2VUYWJ1bGFyXCJdID0gbmV3IFN1YnNNYW5hZ2VyKClcclxuXHJcblxyXG5faGFuZGxlTGlzdEZpZWxkcyA9IChmaWVsZHMpIC0+XHJcblx0aW5zX2ZpZWxkcyA9IG5ldyBBcnJheSgpO1xyXG5cclxuXHRmaWVsZHM/LmZvckVhY2ggKGYpLT5cclxuXHRcdGlmIGYudHlwZSA9PSAndGFibGUnXHJcblx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcclxuXHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xyXG5cdFx0XHRmPy5maWVsZHM/LmZvckVhY2ggKGYxKS0+XHJcblx0XHRcdFx0aW5zX2ZpZWxkcy5wdXNoIGYxXHJcblx0XHRlbHNlXHJcblx0XHRcdGluc19maWVsZHMucHVzaCBmXHJcblxyXG5cdHJldHVybiBpbnNfZmllbGRzXHJcblxyXG5cclxudXBkYXRlVGFidWxhclRpdGxlID0gKCktPlxyXG5cclxuIyDlpoLmnpxjb2x1bW5z5pyJ5Yqg5YeP77yM6K+35L+u5pS5VGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zIOWHveaVsFxyXG5pbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyID0gKGZsb3dJZCwgZmllbGRzKS0+XHJcblx0b3B0aW9ucyA9IHtcclxuXHRcdG5hbWU6IFwiaW5zdGFuY2VzXCIsXHJcblx0XHRjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXMsXHJcblx0XHRwdWI6IFwiaW5zdGFuY2VfdGFidWxhclwiLFxyXG5cdFx0b25VbmxvYWQ6ICgpLT5cclxuXHRcdFx0TWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApXHJcblxyXG5cdFx0ZHJhd0NhbGxiYWNrOiAoc2V0dGluZ3MpLT5cclxuXHRcdFx0ZW1wdHlUZCA9ICQoXCIuZGF0YVRhYmxlc19lbXB0eVwiKVxyXG5cdFx0XHRpZiBlbXB0eVRkLmxlbmd0aFxyXG5cdFx0XHRcdGVtcHR5VGRbMF0uY29sU3BhbiA9IFwiNlwiXHJcblx0XHRcdGlmICFTdGVlZG9zLmlzTW9iaWxlKCkgJiYgIVN0ZWVkb3MuaXNQYWQoKVxyXG5cdFx0XHRcdE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKVxyXG5cdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMCkucmVhZHkgLT5cclxuXHRcdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5wZXJmZWN0U2Nyb2xsYmFyKFwidXBkYXRlXCIpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHQkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApXHJcblxyXG5cdFx0XHR0aXRsZSA9IHQgXCJwYWdlcl9pbnB1dF9oaW50XCJcclxuXHRcdFx0ZWxsaXBzaXNMaW5rID0gc2V0dGluZ3Mub0luc3RhbmNlLnBhcmVudCgpLmZpbmQoJy5wYWdpbmdfbnVtYmVycyAucGFnaW5hdGlvbiAuZGlzYWJsZWQgYScpXHJcblx0XHRcdGVsbGlwc2lzTGluay5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmNzcyhcImN1cnNvclwiLCBcInBvaW50ZXJcIikuY2xpY2sgLT5cclxuXHRcdFx0XHRpZiAhJCh0aGlzKS5maW5kKCdpbnB1dCcpLmxlbmd0aFxyXG5cdFx0XHRcdFx0aW5wdXQgPSAkKCc8aW5wdXQgY2xhc3M9XCJwYWdpbmF0ZV9pbnB1dCBmb3JtLWNvbnRyb2wgaW5wdXQtc21cIiB0eXBlPVwidGV4dFwiIHN0eWxlPVwiYm9yZGVyOiBub25lOyBwYWRkaW5nOjAgMnB4O1wiLz4nKVxyXG5cdFx0XHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXHJcblx0XHRcdFx0XHRcdGlucHV0LmNzcyh7XHJcblx0XHRcdFx0XHRcdFx0d2lkdGg6XCI1MnB4XCJcclxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMjBweFwiXHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGlucHV0LmNzcyh7XHJcblx0XHRcdFx0XHRcdFx0d2lkdGg6XCI1MnB4XCJcclxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMTZweFwiXHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRpbnB1dC5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCB0aXRsZSlcclxuXHRcdFx0XHRcdCQodGhpcykuZW1wdHkoKS5hcHBlbmQgaW5wdXRcclxuXHRcdFx0XHRcdGdvUGFnZSA9IChpbmRleCktPlxyXG5cdFx0XHRcdFx0XHRpZiBpbmRleCA+IDBcclxuXHRcdFx0XHRcdFx0XHRwYWdlcyA9IE1hdGguY2VpbChzZXR0aW5ncy5mblJlY29yZHNEaXNwbGF5KCkgLyBzZXR0aW5ncy5faURpc3BsYXlMZW5ndGgpXHJcblx0XHRcdFx0XHRcdFx0aWYgaW5kZXggPiBwYWdlc1xyXG5cdFx0XHRcdFx0XHRcdFx0IyDpobXnoIHotoXlh7rntKLlvJXml7bot7PovazliLDmnIDlkI7kuIDpobVcclxuXHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gcGFnZXNcclxuXHRcdFx0XHRcdFx0XHRpbmRleC0tXHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Mub0luc3RhbmNlLkRhdGFUYWJsZSgpLnBhZ2UoaW5kZXgpLmRyYXcoJ3BhZ2UnKVxyXG5cdFx0XHRcdFx0aW5wdXQuYmx1ciAoZSktPlxyXG5cdFx0XHRcdFx0XHRjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKClcclxuXHRcdFx0XHRcdFx0Z29QYWdlIGN1cnJlbnRQYWdlXHJcblx0XHRcdFx0XHRcdCQodGhpcykucGFyZW50KCkuaHRtbCAnLi4uJ1xyXG5cdFx0XHRcdFx0aW5wdXQua2V5ZG93biAoZSktPlxyXG5cdFx0XHRcdFx0XHRpZihlLmtleUNvZGUudG9TdHJpbmcoKSA9PSBcIjEzXCIpXHJcblx0XHRcdFx0XHRcdFx0Y3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpXHJcblx0XHRcdFx0XHRcdFx0Z29QYWdlIGN1cnJlbnRQYWdlXHJcblxyXG5cdFx0Y3JlYXRlZFJvdzogKHJvdywgZGF0YSwgZGF0YUluZGV4KSAtPlxyXG5cdFx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0XHRpZiBkYXRhLl9pZCA9PSBGbG93Um91dGVyLmN1cnJlbnQoKS5wYXJhbXMuaW5zdGFuY2VJZFxyXG5cdFx0XHRcdFx0cm93LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic2VsZWN0ZWRcIilcclxuXHRcdGNvbHVtbnM6IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiX2lkXCIsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0bW9kaWZpZWRTdHJpbmcgPSBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcclxuXHJcblx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5tb2RpZmllZFxyXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94JyAmJiBkb2Muc3RhdGUgIT0gJ2RyYWZ0J1xyXG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5zdGFydF9kYXRlIHx8IGRvYy5tb2RpZmllZFxyXG5cclxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdvdXRib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdtb25pdG9yJ1xyXG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5zdWJtaXRfZGF0ZSB8fCBkb2Muc3VibWl0X2RhdGVcclxuXHJcblx0XHRcdFx0XHRtb2RpZmllZEZyb21Ob3cgPSBTdGVlZG9zLm1vbWVudFJlYWN0aXZlRnJvbU5vdyhtb2RpZmllZCk7XHJcblx0XHRcdFx0XHRmbG93X25hbWUgPSBkb2MuZmxvd19uYW1lXHJcblx0XHRcdFx0XHRjY192aWV3ID0gXCJcIjtcclxuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xyXG5cdFx0XHRcdFx0IyDlvZPliY3nlKjmiLflnKhjYyB1c2Vy5Lit77yM5L2G5piv5LiN5ZyoaW5ib3ggdXNlcnPml7bmiY3mmL7npLon5Lyg6ZiFJ+aWh+Wtl1xyXG5cdFx0XHRcdFx0aWYgZG9jLmlzX2NjICYmICFkb2MuaW5ib3hfdXNlcnM/LmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xyXG5cdFx0XHRcdFx0XHRjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIlxyXG5cdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTxzcGFuPigje2RvYy5jdXJyZW50X3N0ZXBfbmFtZX0pPC9zcGFuPjwvZGl2PlwiXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9ICdkcmFmdCcgJiYgZG9jLmN1cnJlbnRfc3RlcF9uYW1lXHJcblx0XHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08c3Bhbj4oI3tkb2MuY3VycmVudF9zdGVwX25hbWV9KTwvc3Bhbj48L2Rpdj5cIlxyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08L2Rpdj5cIlxyXG5cclxuXHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIlwiO1xyXG5cdFx0XHRcdFx0aWYgZG9jLmFnZW50X3VzZXJfbmFtZSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXHJcblx0XHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZX0pICsgXCIpPC9sYWJlbD5cIlxyXG5cclxuXHRcdFx0XHRcdHVucmVhZCA9ICcnXHJcblxyXG5cdFx0XHRcdFx0aXNGYXZvcml0ZVNlbGVjdGVkID0gRmF2b3JpdGVzLmlzUmVjb3JkU2VsZWN0ZWQoXCJpbnN0YW5jZXNcIiwgZG9jLl9pZClcclxuXHRcdFx0XHRcdGlmIEZhdm9yaXRlcy5pc1JlY29yZFNlbGVjdGVkKFwiaW5zdGFuY2VzXCIsIGRvYy5faWQpXHJcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24taW9zLXN0YXItb3V0bGluZSBpbnN0YW5jZS1mYXZvcml0ZS1zZWxlY3RlZFwiPjwvaT4nXHJcblx0XHRcdFx0XHRlbHNlIGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT0gZmFsc2VcclxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPidcclxuXHRcdFx0XHRcdGVsc2UgaWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPidcclxuXHJcblx0XHRcdFx0XHRwcmlvcml0eUljb24gPSBcIlwiXHJcblx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiXCJcclxuXHRcdFx0XHRcdHByaW9yaXR5VmFsdWUgPSBkb2MudmFsdWVzPy5wcmlvcml0eVxyXG5cdFx0XHRcdFx0c3dpdGNoIHByaW9yaXR5VmFsdWVcclxuXHRcdFx0XHRcdFx0d2hlbiBcIueJueaApVwiXHJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiXHJcblx0XHRcdFx0XHRcdHdoZW4gXCLntKfmgKVcIlxyXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCJcclxuXHRcdFx0XHRcdFx0d2hlbiBcIuWKnuaWh1wiXHJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCJcclxuXHRcdFx0XHRcdGlmIHByaW9yaXR5SWNvbkNsYXNzXHJcblx0XHRcdFx0XHRcdGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LSN7cHJpb3JpdHlJY29uQ2xhc3N9XCJcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1yZWFkLWJhcic+I3t1bnJlYWR9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lICN7aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzc30nPiN7ZG9jLm5hbWV9I3tjY192aWV3fSN7YWdlbnRfdmlld31cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4+I3tkb2MuYXBwbGljYW50X25hbWV9PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1kZXRhaWwnPiN7c3RlcF9jdXJyZW50X25hbWVfdmlld31cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9J2luc3RhbmNlLW1vZGlmaWVkJyB0aXRsZT0nI3ttb2RpZmllZFN0cmluZ30nPiN7bW9kaWZpZWRGcm9tTm93fTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFwiXCJcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIiksXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcIm5hbWVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19uYW1lXCIpLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0Y2NfdmlldyA9IFwiXCI7XHJcblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcclxuXHRcdFx0XHRcdCMg5b2T5YmN55So5oi35ZyoY2MgdXNlcuS4re+8jOS9huaYr+S4jeWcqGluYm94IHVzZXJz5pe25omN5pi+56S6J+S8oOmYhSfmloflrZdcclxuXHRcdFx0XHRcdGlmIGRvYy5pc19jYyAmJiAhZG9jLmluYm94X3VzZXJzPy5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcclxuXHRcdFx0XHRcdFx0Y2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCJcclxuXHJcblx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCJcIjtcclxuXHRcdFx0XHRcdGlmIGRvYy5hZ2VudF91c2VyX25hbWVcclxuXHRcdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge3VzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lfSkgKyBcIik8L2xhYmVsPlwiXHJcblxyXG5cdFx0XHRcdFx0dW5yZWFkID0gJydcclxuXHJcblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09IGZhbHNlXHJcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nXHJcblx0XHRcdFx0XHRlbHNlIGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09IHRydWVcclxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nXHJcblxyXG5cdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiXHJcblx0XHRcdFx0XHRwcmlvcml0eVZhbHVlID0gZG9jLnZhbHVlcz8ucHJpb3JpdHlcclxuXHRcdFx0XHRcdHN3aXRjaCBwcmlvcml0eVZhbHVlXHJcblx0XHRcdFx0XHRcdHdoZW4gXCLnibnmgKVcIlxyXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIlxyXG5cdFx0XHRcdFx0XHR3aGVuIFwi57Sn5oClXCJcclxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiXHJcblx0XHRcdFx0XHRcdHdoZW4gXCLlip7mlodcIlxyXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiXHJcblx0XHRcdFx0XHRpZiBwcmlvcml0eUljb25DbGFzc1xyXG5cdFx0XHRcdFx0XHRpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS0je3ByaW9yaXR5SWNvbkNsYXNzfVwiXHJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPiN7dW5yZWFkfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgI3tpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzfSc+I3tkb2MubmFtZX0je2NjX3ZpZXd9I3thZ2VudF92aWV3fTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcIlwiXCJcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXHJcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJzdWJtaXRfZGF0ZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N1Ym1pdF9kYXRlXCIpLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0aWYgZG9jLnN1Ym1pdF9kYXRlXHJcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLnN1Ym1pdF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcclxuXHRcdFx0XHQsXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImZsb3dfbmFtZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0ZXBfY3VycmVudF9uYW1lXCIpLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0aWYgZG9jLnN0YXRlID09IFwiY29tcGxldGVkXCJcclxuXHRcdFx0XHRcdFx0anVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiXHJcblxyXG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJydcclxuXHJcblx0XHRcdFx0XHRjY190YWcgPSAnJ1xyXG5cclxuXHRcdFx0XHRcdGlmIGRvYy5jY19jb3VudCA+IDBcclxuXHRcdFx0XHRcdFx0Y2NfdGFnID0gVEFQaTE4bi5fXygnY2NfdGFnJylcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGVwLWN1cnJlbnQtc3RhdGUgI3tqdWRnZX1cIj4je3N0ZXBfY3VycmVudF9uYW1lfSN7Y2NfdGFnfTwvZGl2PlxyXG5cdFx0XHRcdFx0XCJcIlwiXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJtb2RpZmllZFwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX21vZGlmaWVkXCIpLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xyXG5cdFx0XHRcdCxcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwic3RhcnRfZGF0ZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0YXJ0X2RhdGVcIiksXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRpZiBkb2Muc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5zdGFydF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcclxuXHRcdFx0XHQsXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcIm15X2ZpbmlzaF9kYXRlXCIsXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRpZiBkb2MubXlfZmluaXNoX2RhdGVcclxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2MubXlfZmluaXNoX2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xyXG5cdFx0XHRcdCxcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwibW9kaWZpZWRcIixcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJrZXl3b3Jkc1wiLFxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImlzX2FyY2hpdmVkXCIsXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRpZiBkb2M/LnZhbHVlcz8ucmVjb3JkX25lZWQgJiYgZG9jLnZhbHVlcy5yZWNvcmRfbmVlZCA9PSBcInRydWVcIlxyXG5cdFx0XHRcdFx0XHRpZiBkb2M/LmlzX2FyY2hpdmVkXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHQoXCJZRVNcIilcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHQoXCJOT1wiKVxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHR9XHJcblx0XHRdLFxyXG5cdFx0ZG9tOiBkbyAtPlxyXG5cdFx0XHQjIOaJi+acuuS4iuS4jeaYvuekuuS4gOmhteaYvuekuuWkmuWwkeadoeiusOW9lemAiemhuVxyXG5cdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcclxuXHRcdFx0XHQndHAnXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHQndHBsJ1xyXG5cdFx0b3JkZXI6IFtbNCwgXCJkZXNjXCJdXSxcclxuXHRcdGV4dHJhRmllbGRzOiBbXCJmb3JtXCIsIFwiZmxvd1wiLCBcImluYm94X3VzZXJzXCIsIFwic3RhdGVcIiwgXCJzcGFjZVwiLCBcImFwcGxpY2FudFwiLCBcImZvcm1fdmVyc2lvblwiLFxyXG5cdFx0XHRcImZsb3dfdmVyc2lvblwiLCBcImlzX2NjXCIsIFwiY2NfY291bnRcIiwgXCJpc19yZWFkXCIsIFwiY3VycmVudF9zdGVwX25hbWVcIiwgXCJ2YWx1ZXNcIiwgXCJrZXl3b3Jkc1wiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwiZmxvd19uYW1lXCIsIFwiaXNfaGlkZGVuXCIsIFwiYWdlbnRfdXNlcl9uYW1lXCJdLFxyXG5cdFx0bGVuZ3RoQ2hhbmdlOiB0cnVlLFxyXG5cdFx0bGVuZ3RoTWVudTogWzEwLDE1LDIwLDI1LDUwLDEwMF0sXHJcblx0XHRwYWdlTGVuZ3RoOiAxMCxcclxuXHRcdGluZm86IGZhbHNlLFxyXG5cdFx0c2VhcmNoaW5nOiB0cnVlLFxyXG5cdFx0cmVzcG9uc2l2ZTpcclxuXHRcdFx0ZGV0YWlsczogZmFsc2VcclxuXHRcdGF1dG9XaWR0aDogZmFsc2UsXHJcblx0XHRjaGFuZ2VTZWxlY3RvcjogKHNlbGVjdG9yLCB1c2VySWQpIC0+XHJcblx0XHRcdHVubGVzcyB1c2VySWRcclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XHJcblx0XHRcdHNwYWNlID0gc2VsZWN0b3Iuc3BhY2VcclxuXHRcdFx0dW5sZXNzIHNwYWNlXHJcblx0XHRcdFx0aWYgc2VsZWN0b3I/LiRhbmQ/Lmxlbmd0aCA+IDBcclxuXHRcdFx0XHRcdHNwYWNlID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXVxyXG5cdFx0XHR1bmxlc3Mgc3BhY2VcclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XHJcblx0XHRcdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHt1c2VyOiB1c2VySWQsIHNwYWNlOiBzcGFjZX0sIHtmaWVsZHM6IHtfaWQ6IDF9fSlcclxuXHRcdFx0dW5sZXNzIHNwYWNlX3VzZXJcclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XHJcblx0XHRcdHJldHVybiBzZWxlY3RvclxyXG5cdFx0cGFnaW5nVHlwZTogXCJudW1iZXJzXCJcclxuXHJcblx0fVxyXG5cclxuXHRpZiBmbG93SWRcclxuXHRcdGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBmbG93SWRcclxuXHJcblx0XHRvcHRpb25zLm5hbWUgPSBrZXlcclxuXHJcblx0XHRUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHMgPSBmaWVsZHNcclxuXHJcblx0XHRpbnNfZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMgVGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzXHJcblxyXG5cdFx0aW5zX2ZpZWxkcy5mb3JFYWNoIChmKS0+XHJcblx0XHRcdGlmIGYudHlwZSAhPSAndGFibGUnICYmIGYuaXNfbGlzdF9kaXNwbGF5XHJcblx0XHRcdFx0b3B0aW9ucy5jb2x1bW5zLnB1c2hcclxuXHRcdFx0XHRcdGRhdGE6IChmLm5hbWUgfHwgZi5jb2RlKSxcclxuXHRcdFx0XHRcdHRpdGxlOiB0KGYubmFtZSB8fCBmLmNvZGUpLFxyXG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXHJcblx0XHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHJcblx0XHRcdFx0XHRcdHZhbHVlcyA9IGRvYy52YWx1ZXMgfHwge31cclxuXHJcblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWVzW2YuY29kZV1cclxuXHJcblx0XHRcdFx0XHRcdHN3aXRjaCBmLnR5cGVcclxuXHRcdFx0XHRcdFx0XHR3aGVuICd1c2VyJ1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8ubmFtZVxyXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2dyb3VwJ1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZnVsbG5hbWVcclxuXHRcdFx0XHRcdFx0XHR3aGVuICdkYXRlJ1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWVcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXHJcblx0XHRcdFx0XHRcdFx0d2hlbiAnZGF0ZVRpbWUnXHJcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJylcclxuXHRcdFx0XHRcdFx0XHR3aGVuICdjaGVja2JveCdcclxuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlID09IHRydWUgfHwgdmFsdWUgPT0gJ3RydWUnXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xyXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ29kYXRhJ1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWVcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgXy5pc0FycmF5KHZhbHVlKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKClcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWVbJ0BsYWJlbCddXHJcblxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWVcclxuXHJcblxyXG5cdHJldHVybiBvcHRpb25zO1xyXG5cclxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxyXG5cdFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcigpXHJcblxyXG5cclxuR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMgPSAoYm94LCBmbG93SWQsIGZpZWxkcyktPlxyXG5cdGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWRcclxuXHRpZiBib3ggPT0gXCJpbmJveFwiXHJcblx0XHRvcHRpb25zID0gX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKVxyXG5cdGVsc2UgaWYgYm94ID09IFwib3V0Ym94XCJcclxuXHRcdG9wdGlvbnMgPSBfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKVxyXG5cdGVsc2VcclxuXHRcdG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKVxyXG5cdFx0aWYgIWZsb3dJZFxyXG5cdFx0XHRvcHRpb25zLm5hbWUgPSBcImluYm94X2luc3RhbmNlc1wiXHJcblx0aWYgZmxvd0lkXHJcblx0XHRvcHRpb25zLm5hbWUgPSBrZXlcclxuXHRyZXR1cm4gb3B0aW9uc1xyXG5cclxuXHJcblxyXG5fZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSAoZmxvd0lkLCBmaWVsZHMpLT5cclxuXHRvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcylcclxuXHJcblx0aWYgIWZsb3dJZFxyXG5cdFx0b3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIlxyXG5cclxuXHRvcHRpb25zLm9yZGVyID0gW1s4LCBcImRlc2NcIl1dXHJcblx0b3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9ICh0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpLT5cclxuXHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkbWF0Y2g6IHNlbGVjdG9yXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkcHJvamVjdDoge1xyXG5cdFx0XHRcdFx0bmFtZTogMSxcclxuXHRcdFx0XHRcdFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JG1hdGNoOiB7XHJcblx0XHRcdFx0XHQnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiBmYWxzZVxyXG5cdFx0XHRcdFx0J19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWQsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblx0XHRpZiBzb3J0IGFuZCBzb3J0Lmxlbmd0aCA+IDBcclxuXHRcdFx0czEgPSBzb3J0WzBdXHJcblx0XHRcdHMxXzAgPSBzMVswXVxyXG5cdFx0XHRzMV8xID0gczFbMV1cclxuXHRcdFx0aWYgczFfMCA9PSAnc3RhcnRfZGF0ZSdcclxuXHJcblx0XHRcdFx0ZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dXHJcblxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkZ3JvdXA6IHtfaWQ6IFwiJF9pZFwiLCBcImFwcHJvdmVfc3RhcnRfZGF0ZVwiOiB7JGZpcnN0OiBcIiRfYXBwcm92ZS5zdGFydF9kYXRlXCJ9fVxyXG5cclxuXHRcdFx0XHRhZ19zb3J0ID0gJ2FwcHJvdmVfc3RhcnRfZGF0ZSc6IGlmIHMxXzEgPT0gJ2FzYycgdGhlbiAxIGVsc2UgLTFcclxuXHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRzb3J0OiBhZ19zb3J0XHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRza2lwOiBza2lwXHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRsaW1pdDogbGltaXRcclxuXHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpXHJcblxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZSA9ICh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSAtPlxyXG5cdFx0XHRcdFx0dGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkgKGVyciwgZGF0YSkgLT5cclxuXHRcdFx0XHRcdFx0aWYgZXJyXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcclxuXHRcdFx0XHRcdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XHJcblx0XHRcdFx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMucHVzaCBkb2MuX2lkXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRcdGlmIGNiXHJcblx0XHRcdFx0XHRcdFx0Y2IoKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdHJldHVyblxyXG5cclxuXHRcdFx0XHRhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSlcclxuXHJcblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlIHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkc1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzXHJcblxyXG5cdHJldHVybiBvcHRpb25zXHJcblxyXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XHJcblx0VGFidWxhclRhYmxlcy5pbmJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcImluYm94XCIpXHJcblxyXG5cclxuX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IChmbG93SWQsIGZpZWxkcyktPlxyXG5cdG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKVxyXG5cclxuXHRpZiAhZmxvd0lkXHJcblx0XHRvcHRpb25zLm5hbWUgPSBcIm91dGJveF9pbnN0YW5jZXNcIlxyXG5cclxuXHRvcHRpb25zLm9yZGVyID0gW1s5LCBcImRlc2NcIl1dXHJcblx0b3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9ICh0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpLT5cclxuXHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkbWF0Y2g6IHNlbGVjdG9yXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkcHJvamVjdDoge1xyXG5cdFx0XHRcdFx0bmFtZTogMSxcclxuXHRcdFx0XHRcdFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JG1hdGNoOiB7XHJcblx0XHRcdFx0XHQnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiB0cnVlXHJcblx0XHRcdFx0XHQkb3I6IFt7J19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWR9LHsnX2FwcHJvdmUudXNlcic6IHVzZXJJZH1dXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblx0XHRpZiBzb3J0IGFuZCBzb3J0Lmxlbmd0aCA+IDBcclxuXHRcdFx0czEgPSBzb3J0WzBdXHJcblx0XHRcdHMxXzAgPSBzMVswXVxyXG5cdFx0XHRzMV8xID0gczFbMV1cclxuXHRcdFx0aWYgczFfMCA9PSAnbXlfZmluaXNoX2RhdGUnXHJcblxyXG5cdFx0XHRcdGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXVxyXG5cclxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJGdyb3VwOiB7X2lkOiBcIiRfaWRcIiwgXCJhcHByb3ZlX2ZpbmlzaF9kYXRlXCI6IHskbGFzdDogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIn19XHJcblxyXG5cdFx0XHRcdGFnX3NvcnQgPSAnYXBwcm92ZV9maW5pc2hfZGF0ZSc6IGlmIHMxXzEgPT0gJ2FzYycgdGhlbiAxIGVsc2UgLTFcclxuXHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRzb3J0OiBhZ19zb3J0XHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRza2lwOiBza2lwXHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRsaW1pdDogbGltaXRcclxuXHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpXHJcblxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZSA9ICh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSAtPlxyXG5cdFx0XHRcdFx0dGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkgKGVyciwgZGF0YSkgLT5cclxuXHRcdFx0XHRcdFx0aWYgZXJyXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcclxuXHRcdFx0XHRcdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XHJcblx0XHRcdFx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMucHVzaCBkb2MuX2lkXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRcdGlmIGNiXHJcblx0XHRcdFx0XHRcdFx0Y2IoKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdHJldHVyblxyXG5cclxuXHRcdFx0XHRhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSlcclxuXHJcblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlIHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkc1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzXHJcblxyXG5cdHJldHVybiBvcHRpb25zXHJcblxyXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XHJcblx0VGFidWxhclRhYmxlcy5vdXRib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJvdXRib3hcIilcclxuXHJcbmlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcyA9IG5ldyBSZWFjdGl2ZVZhcigpXHJcblxyXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XHJcblx0VHJhY2tlci5hdXRvcnVuIChjKSAtPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50ICYmICFTdGVlZG9zLmlzTW9iaWxlKClcclxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIikgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gJ2RyYWZ0J1xyXG5cdFx0XHRcdE1ldGVvci5jYWxsIFwibmV3SW5zdGFuY2VzTGlzdFRhYnVsYXJcIiwgU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCAoZXJyb3IsIHJlc3VsdCkgLT5cclxuXHRcdFx0XHRcdG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyIFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgcmVzdWx0XHJcblx0XHRcdFx0XHRUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll9jaGFuZ2VPcmRlcigpXHJcblxyXG5cclxubmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgPSAoYm94LCBmbG93SWQsIGZpZWxkcyktPlxyXG5cdGlmICFmaWVsZHNcclxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGZsb3dJZH0sIHtmaWVsZHM6IHtmb3JtOiAxfX0pXHJcblx0XHRmaWVsZHMgPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93Py5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KT8uY3VycmVudD8uZmllbGRzXHJcblxyXG5cdGZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzIGZpZWxkc1xyXG5cclxuXHRpZiBmaWVsZHM/LmZpbHRlclByb3BlcnR5KFwiaXNfbGlzdF9kaXNwbGF5XCIsIHRydWUpPy5sZW5ndGggPiAwXHJcblx0XHRrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgYm94ICsgZmxvd0lkXHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0VGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzLnNldChuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSlcclxuXHRcdGVsc2VcclxuXHRcdFx0bmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcylcclxuXHRcdGNvbnNvbGUubG9nIFwibmV3IFRhYnVsYXJUYWJsZXMgXCIsIGtleVxyXG5cclxuaWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0TWV0ZW9yLm1ldGhvZHNcclxuXHRcdG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyOiAoYm94LCBmbG93SWQpLT5cclxuXHRcdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIoYm94LCBmbG93SWQpXHJcblxyXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7Zm9ybTogMX19KVxyXG5cdFx0XHRmaWVsZHMgPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93Py5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KT8uY3VycmVudD8uZmllbGRzXHJcblx0XHRcdHJldHVybiBmaWVsZHNcclxuXHJcblxyXG4iLCJ2YXIgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMsIF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucywgX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucywgX2hhbmRsZUxpc3RGaWVsZHMsIGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIsIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyLCB1cGRhdGVUYWJ1bGFyVGl0bGU7XG5cblN0ZWVkb3Muc3Vic1tcIkluc3RhbmNlVGFidWxhclwiXSA9IG5ldyBTdWJzTWFuYWdlcigpO1xuXG5faGFuZGxlTGlzdEZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcykge1xuICB2YXIgaW5zX2ZpZWxkcztcbiAgaW5zX2ZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICBpZiAoZmllbGRzICE9IG51bGwpIHtcbiAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICB2YXIgcmVmO1xuICAgICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJyk7XG4gICAgICB9IGVsc2UgaWYgKGYudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICAgIHJldHVybiBpbnNfZmllbGRzLnB1c2goZjEpO1xuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnNfZmllbGRzLnB1c2goZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGluc19maWVsZHM7XG59O1xuXG51cGRhdGVUYWJ1bGFyVGl0bGUgPSBmdW5jdGlvbigpIHt9O1xuXG5pbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyID0gZnVuY3Rpb24oZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGluc19maWVsZHMsIGtleSwgb3B0aW9ucztcbiAgb3B0aW9ucyA9IHtcbiAgICBuYW1lOiBcImluc3RhbmNlc1wiLFxuICAgIGNvbGxlY3Rpb246IGRiLmluc3RhbmNlcyxcbiAgICBwdWI6IFwiaW5zdGFuY2VfdGFidWxhclwiLFxuICAgIG9uVW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MCk7XG4gICAgfSxcbiAgICBkcmF3Q2FsbGJhY2s6IGZ1bmN0aW9uKHNldHRpbmdzKSB7XG4gICAgICB2YXIgZWxsaXBzaXNMaW5rLCBlbXB0eVRkLCB0aXRsZTtcbiAgICAgIGVtcHR5VGQgPSAkKFwiLmRhdGFUYWJsZXNfZW1wdHlcIik7XG4gICAgICBpZiAoZW1wdHlUZC5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlUZFswXS5jb2xTcGFuID0gXCI2XCI7XG4gICAgICB9XG4gICAgICBpZiAoIVN0ZWVkb3MuaXNNb2JpbGUoKSAmJiAhU3RlZWRvcy5pc1BhZCgpKSB7XG4gICAgICAgIE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKTtcbiAgICAgICAgJChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChcIi5pbnN0YW5jZS1saXN0XCIpLnBlcmZlY3RTY3JvbGxiYXIoXCJ1cGRhdGVcIik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKTtcbiAgICAgIH1cbiAgICAgIHRpdGxlID0gdChcInBhZ2VyX2lucHV0X2hpbnRcIik7XG4gICAgICBlbGxpcHNpc0xpbmsgPSBzZXR0aW5ncy5vSW5zdGFuY2UucGFyZW50KCkuZmluZCgnLnBhZ2luZ19udW1iZXJzIC5wYWdpbmF0aW9uIC5kaXNhYmxlZCBhJyk7XG4gICAgICByZXR1cm4gZWxsaXBzaXNMaW5rLmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGdvUGFnZSwgaW5wdXQ7XG4gICAgICAgIGlmICghJCh0aGlzKS5maW5kKCdpbnB1dCcpLmxlbmd0aCkge1xuICAgICAgICAgIGlucHV0ID0gJCgnPGlucHV0IGNsYXNzPVwicGFnaW5hdGVfaW5wdXQgZm9ybS1jb250cm9sIGlucHV0LXNtXCIgdHlwZT1cInRleHRcIiBzdHlsZT1cImJvcmRlcjogbm9uZTsgcGFkZGluZzowIDJweDtcIi8+Jyk7XG4gICAgICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgaW5wdXQuY3NzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNTJweFwiLFxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMjBweFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQuY3NzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNTJweFwiLFxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTZweFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5wdXQuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgdGl0bGUpO1xuICAgICAgICAgICQodGhpcykuZW1wdHkoKS5hcHBlbmQoaW5wdXQpO1xuICAgICAgICAgIGdvUGFnZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcGFnZXM7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgIHBhZ2VzID0gTWF0aC5jZWlsKHNldHRpbmdzLmZuUmVjb3Jkc0Rpc3BsYXkoKSAvIHNldHRpbmdzLl9pRGlzcGxheUxlbmd0aCk7XG4gICAgICAgICAgICAgIGlmIChpbmRleCA+IHBhZ2VzKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBwYWdlcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3Mub0luc3RhbmNlLkRhdGFUYWJsZSgpLnBhZ2UoaW5kZXgpLmRyYXcoJ3BhZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlucHV0LmJsdXIoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgZ29QYWdlKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLnBhcmVudCgpLmh0bWwoJy4uLicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBpbnB1dC5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZTtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUudG9TdHJpbmcoKSA9PT0gXCIxM1wiKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGdvUGFnZShjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY3JlYXRlZFJvdzogZnVuY3Rpb24ocm93LCBkYXRhLCBkYXRhSW5kZXgpIHtcbiAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgICAgaWYgKGRhdGEuX2lkID09PSBGbG93Um91dGVyLmN1cnJlbnQoKS5wYXJhbXMuaW5zdGFuY2VJZCkge1xuICAgICAgICAgIHJldHVybiByb3cuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY29sdW1uczogW1xuICAgICAge1xuICAgICAgICBkYXRhOiBcIl9pZFwiLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFnZW50X3ZpZXcsIGNjX3ZpZXcsIGZsb3dfbmFtZSwgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcywgaXNGYXZvcml0ZVNlbGVjdGVkLCBtb2RpZmllZCwgbW9kaWZpZWRGcm9tTm93LCBtb2RpZmllZFN0cmluZywgcHJpb3JpdHlJY29uLCBwcmlvcml0eUljb25DbGFzcywgcHJpb3JpdHlWYWx1ZSwgcmVmLCByZWYxLCBzdGVwX2N1cnJlbnRfbmFtZV92aWV3LCB1bnJlYWQ7XG4gICAgICAgICAgbW9kaWZpZWRTdHJpbmcgPSBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgICBtb2RpZmllZCA9IGRvYy5tb2RpZmllZDtcbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgJiYgZG9jLnN0YXRlICE9PSAnZHJhZnQnKSB7XG4gICAgICAgICAgICBtb2RpZmllZCA9IGRvYy5zdGFydF9kYXRlIHx8IGRvYy5tb2RpZmllZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnb3V0Ym94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InKSB7XG4gICAgICAgICAgICBtb2RpZmllZCA9IGRvYy5zdWJtaXRfZGF0ZSB8fCBkb2Muc3VibWl0X2RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vZGlmaWVkRnJvbU5vdyA9IFN0ZWVkb3MubW9tZW50UmVhY3RpdmVGcm9tTm93KG1vZGlmaWVkKTtcbiAgICAgICAgICBmbG93X25hbWUgPSBkb2MuZmxvd19uYW1lO1xuICAgICAgICAgIGNjX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuaXNfY2MgJiYgISgocmVmID0gZG9jLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDApICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIjtcbiAgICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+XCIgKyBmbG93X25hbWUgKyBcIjxzcGFuPihcIiArIGRvYy5jdXJyZW50X3N0ZXBfbmFtZSArIFwiKTwvc3Bhbj48L2Rpdj5cIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpICE9PSAnZHJhZnQnICYmIGRvYy5jdXJyZW50X3N0ZXBfbmFtZSkge1xuICAgICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8c3Bhbj4oXCIgKyBkb2MuY3VycmVudF9zdGVwX25hbWUgKyBcIik8L3NwYW4+PC9kaXY+XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYWdlbnRfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5hZ2VudF91c2VyX25hbWUgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgdXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWVcbiAgICAgICAgICAgIH0pICsgXCIpPC9sYWJlbD5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5yZWFkID0gJyc7XG4gICAgICAgICAgaXNGYXZvcml0ZVNlbGVjdGVkID0gRmF2b3JpdGVzLmlzUmVjb3JkU2VsZWN0ZWQoXCJpbnN0YW5jZXNcIiwgZG9jLl9pZCk7XG4gICAgICAgICAgaWYgKEZhdm9yaXRlcy5pc1JlY29yZFNlbGVjdGVkKFwiaW5zdGFuY2VzXCIsIGRvYy5faWQpKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLWlvcy1zdGFyLW91dGxpbmUgaW5zdGFuY2UtZmF2b3JpdGUtc2VsZWN0ZWRcIj48L2k+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPic7XG4gICAgICAgICAgfSBlbHNlIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JpdHlJY29uID0gXCJcIjtcbiAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiXCI7XG4gICAgICAgICAgcHJpb3JpdHlWYWx1ZSA9IChyZWYxID0gZG9jLnZhbHVlcykgIT0gbnVsbCA/IHJlZjEucHJpb3JpdHkgOiB2b2lkIDA7XG4gICAgICAgICAgc3dpdGNoIChwcmlvcml0eVZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFwi54m55oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi57Sn5oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIuWKnuaWh1wiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByaW9yaXR5SWNvbkNsYXNzKSB7XG4gICAgICAgICAgICBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS1cIiArIHByaW9yaXR5SWNvbkNsYXNzO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS1yZWFkLWJhcic+XCIgKyB1bnJlYWQgKyBcIjwvZGl2PlxcbjxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgXCIgKyBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzICsgXCInPlwiICsgZG9jLm5hbWUgKyBjY192aWV3ICsgYWdlbnRfdmlldyArIFwiXFxuXHQ8c3Bhbj5cIiArIGRvYy5hcHBsaWNhbnRfbmFtZSArIFwiPC9zcGFuPlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9J2luc3RhbmNlLWRldGFpbCc+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ICsgXCJcXG5cdDxzcGFuIGNsYXNzPSdpbnN0YW5jZS1tb2RpZmllZCcgdGl0bGU9J1wiICsgbW9kaWZpZWRTdHJpbmcgKyBcIic+XCIgKyBtb2RpZmllZEZyb21Ob3cgKyBcIjwvc3Bhbj5cXG48L2Rpdj5cIjtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIiksXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19uYW1lXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFnZW50X3ZpZXcsIGNjX3ZpZXcsIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MsIHByaW9yaXR5SWNvbkNsYXNzLCBwcmlvcml0eVZhbHVlLCByZWYsIHJlZjEsIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcsIHVucmVhZDtcbiAgICAgICAgICBjY192aWV3ID0gXCJcIjtcbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmlzX2NjICYmICEoKHJlZiA9IGRvYy5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpIDogdm9pZCAwKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICAgICAgY2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuYWdlbnRfdXNlcl9uYW1lKSB7XG4gICAgICAgICAgICBhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICAgICAgICAgIHVzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lXG4gICAgICAgICAgICB9KSArIFwiKTwvbGFiZWw+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVucmVhZCA9ICcnO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIjtcbiAgICAgICAgICBwcmlvcml0eVZhbHVlID0gKHJlZjEgPSBkb2MudmFsdWVzKSAhPSBudWxsID8gcmVmMS5wcmlvcml0eSA6IHZvaWQgMDtcbiAgICAgICAgICBzd2l0Y2ggKHByaW9yaXR5VmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCLnibnmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLntKfmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi5Yqe5paHXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJpb3JpdHlJY29uQ2xhc3MpIHtcbiAgICAgICAgICAgIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LVwiICsgcHJpb3JpdHlJY29uQ2xhc3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz5cIiArIHVucmVhZCArIFwiPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSBcIiArIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgKyBcIic+XCIgKyBkb2MubmFtZSArIGNjX3ZpZXcgKyBhZ2VudF92aWV3ICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJzdWJtaXRfZGF0ZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdWJtaXRfZGF0ZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIGlmIChkb2Muc3VibWl0X2RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLnN1Ym1pdF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJmbG93X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdGVwX2N1cnJlbnRfbmFtZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBjY190YWcsIGp1ZGdlLCBzdGVwX2N1cnJlbnRfbmFtZTtcbiAgICAgICAgICBpZiAoZG9jLnN0YXRlID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgICAgICAgICBqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLmN1cnJlbnRfc3RlcF9uYW1lIHx8ICcnO1xuICAgICAgICAgIGNjX3RhZyA9ICcnO1xuICAgICAgICAgIGlmIChkb2MuY2NfY291bnQgPiAwKSB7XG4gICAgICAgICAgICBjY190YWcgPSBUQVBpMThuLl9fKCdjY190YWcnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwic3RlcC1jdXJyZW50LXN0YXRlIFwiICsganVkZ2UgKyBcIlxcXCI+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZSArIGNjX3RhZyArIFwiPC9kaXY+XCI7XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibW9kaWZpZWRcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfbW9kaWZpZWRcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJzdGFydF9kYXRlXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0YXJ0X2RhdGVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLnN0YXJ0X2RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLnN0YXJ0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm15X2ZpbmlzaF9kYXRlXCIsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLm15X2ZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5teV9maW5pc2hfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibW9kaWZpZWRcIixcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJrZXl3b3Jkc1wiLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImlzX2FyY2hpdmVkXCIsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgcmVmO1xuICAgICAgICAgIGlmICgoZG9jICE9IG51bGwgPyAocmVmID0gZG9jLnZhbHVlcykgIT0gbnVsbCA/IHJlZi5yZWNvcmRfbmVlZCA6IHZvaWQgMCA6IHZvaWQgMCkgJiYgZG9jLnZhbHVlcy5yZWNvcmRfbmVlZCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgIGlmIChkb2MgIT0gbnVsbCA/IGRvYy5pc19hcmNoaXZlZCA6IHZvaWQgMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdChcIllFU1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0KFwiTk9cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfVxuICAgIF0sXG4gICAgZG9tOiAoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgIHJldHVybiAndHAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICd0cGwnO1xuICAgICAgfVxuICAgIH0pKCksXG4gICAgb3JkZXI6IFtbNCwgXCJkZXNjXCJdXSxcbiAgICBleHRyYUZpZWxkczogW1wiZm9ybVwiLCBcImZsb3dcIiwgXCJpbmJveF91c2Vyc1wiLCBcInN0YXRlXCIsIFwic3BhY2VcIiwgXCJhcHBsaWNhbnRcIiwgXCJmb3JtX3ZlcnNpb25cIiwgXCJmbG93X3ZlcnNpb25cIiwgXCJpc19jY1wiLCBcImNjX2NvdW50XCIsIFwiaXNfcmVhZFwiLCBcImN1cnJlbnRfc3RlcF9uYW1lXCIsIFwidmFsdWVzXCIsIFwia2V5d29yZHNcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcImZsb3dfbmFtZVwiLCBcImlzX2hpZGRlblwiLCBcImFnZW50X3VzZXJfbmFtZVwiXSxcbiAgICBsZW5ndGhDaGFuZ2U6IHRydWUsXG4gICAgbGVuZ3RoTWVudTogWzEwLCAxNSwgMjAsIDI1LCA1MCwgMTAwXSxcbiAgICBwYWdlTGVuZ3RoOiAxMCxcbiAgICBpbmZvOiBmYWxzZSxcbiAgICBzZWFyY2hpbmc6IHRydWUsXG4gICAgcmVzcG9uc2l2ZToge1xuICAgICAgZGV0YWlsczogZmFsc2VcbiAgICB9LFxuICAgIGF1dG9XaWR0aDogZmFsc2UsXG4gICAgY2hhbmdlU2VsZWN0b3I6IGZ1bmN0aW9uKHNlbGVjdG9yLCB1c2VySWQpIHtcbiAgICAgIHZhciByZWYsIHNwYWNlLCBzcGFjZV91c2VyO1xuICAgICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZSA9IHNlbGVjdG9yLnNwYWNlO1xuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICBpZiAoKHNlbGVjdG9yICE9IG51bGwgPyAocmVmID0gc2VsZWN0b3IuJGFuZCkgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgIHNwYWNlID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgICAgdXNlcjogdXNlcklkLFxuICAgICAgICBzcGFjZTogc3BhY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgX2lkOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgIH0sXG4gICAgcGFnaW5nVHlwZTogXCJudW1iZXJzXCJcbiAgfTtcbiAgaWYgKGZsb3dJZCkge1xuICAgIGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBmbG93SWQ7XG4gICAgb3B0aW9ucy5uYW1lID0ga2V5O1xuICAgIFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkcyA9IGZpZWxkcztcbiAgICBpbnNfZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMoVGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzKTtcbiAgICBpbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgaWYgKGYudHlwZSAhPT0gJ3RhYmxlJyAmJiBmLmlzX2xpc3RfZGlzcGxheSkge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5jb2x1bW5zLnB1c2goe1xuICAgICAgICAgIGRhdGE6IGYubmFtZSB8fCBmLmNvZGUsXG4gICAgICAgICAgdGl0bGU6IHQoZi5uYW1lIHx8IGYuY29kZSksXG4gICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUsIHZhbHVlcztcbiAgICAgICAgICAgIHZhbHVlcyA9IGRvYy52YWx1ZXMgfHwge307XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlc1tmLmNvZGVdO1xuICAgICAgICAgICAgc3dpdGNoIChmLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAndXNlcic6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUubmFtZSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmZ1bGxuYW1lIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdvZGF0YSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoXy5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF8ucGx1Y2sodmFsdWUsICdAbGFiZWwnKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZVsnQGxhYmVsJ107XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUoaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcigpKTtcbn0pO1xuXG5HZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyA9IGZ1bmN0aW9uKGJveCwgZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGtleSwgb3B0aW9ucztcbiAga2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZDtcbiAgaWYgKGJveCA9PT0gXCJpbmJveFwiKSB7XG4gICAgb3B0aW9ucyA9IF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcyk7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm91dGJveFwiKSB7XG4gICAgb3B0aW9ucyA9IF9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpO1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKTtcbiAgICBpZiAoIWZsb3dJZCkge1xuICAgICAgb3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIjtcbiAgICB9XG4gIH1cbiAgaWYgKGZsb3dJZCkge1xuICAgIG9wdGlvbnMubmFtZSA9IGtleTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbl9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IGZ1bmN0aW9uKGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBvcHRpb25zO1xuICBvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcyk7XG4gIGlmICghZmxvd0lkKSB7XG4gICAgb3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIjtcbiAgfVxuICBvcHRpb25zLm9yZGVyID0gW1s4LCBcImRlc2NcIl1dO1xuICBvcHRpb25zLmZpbHRlcmVkUmVjb3JkSWRzID0gZnVuY3Rpb24odGFibGUsIHNlbGVjdG9yLCBzb3J0LCBza2lwLCBsaW1pdCwgb2xkX2ZpbHRlcmVkUmVjb3JkSWRzLCB1c2VySWQsIGZpbmRPcHRpb25zKSB7XG4gICAgdmFyIGFnX3NvcnQsIGFnZ3JlZ2F0ZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgYXN5bmNfYWdncmVnYXRlLCBmaWx0ZXJlZFJlY29yZElkcywgczEsIHMxXzAsIHMxXzE7XG4gICAgYWdncmVnYXRlX29wZXJhdGlvbiA9IFtcbiAgICAgIHtcbiAgICAgICAgJG1hdGNoOiBzZWxlY3RvclxuICAgICAgfSwge1xuICAgICAgICAkcHJvamVjdDoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgXCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3ZlcydcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgJG1hdGNoOiB7XG4gICAgICAgICAgJ19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogZmFsc2UsXG4gICAgICAgICAgJ19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gICAgaWYgKHNvcnQgJiYgc29ydC5sZW5ndGggPiAwKSB7XG4gICAgICBzMSA9IHNvcnRbMF07XG4gICAgICBzMV8wID0gczFbMF07XG4gICAgICBzMV8xID0gczFbMV07XG4gICAgICBpZiAoczFfMCA9PT0gJ3N0YXJ0X2RhdGUnKSB7XG4gICAgICAgIGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkZ3JvdXA6IHtcbiAgICAgICAgICAgIF9pZDogXCIkX2lkXCIsXG4gICAgICAgICAgICBcImFwcHJvdmVfc3RhcnRfZGF0ZVwiOiB7XG4gICAgICAgICAgICAgICRmaXJzdDogXCIkX2FwcHJvdmUuc3RhcnRfZGF0ZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYWdfc29ydCA9IHtcbiAgICAgICAgICAnYXBwcm92ZV9zdGFydF9kYXRlJzogczFfMSA9PT0gJ2FzYycgPyAxIDogLTFcbiAgICAgICAgfTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkc29ydDogYWdfc29ydFxuICAgICAgICB9KTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkc2tpcDogc2tpcFxuICAgICAgICB9KTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkbGltaXQ6IGxpbWl0XG4gICAgICAgIH0pO1xuICAgICAgICBmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBhZ2dyZWdhdGUgPSBmdW5jdGlvbih0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSB7XG4gICAgICAgICAgdGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgICAgICAgICBmaWx0ZXJlZFJlY29yZElkcy5wdXNoKGRvYy5faWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhhZ2dyZWdhdGUpO1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUodGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkUmVjb3JkSWRzLnVuaXEoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHM7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGFidWxhclRhYmxlcy5pbmJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcImluYm94XCIpKTtcbn0pO1xuXG5fZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zID0gZnVuY3Rpb24oZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIG9wdGlvbnM7XG4gIG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKTtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBvcHRpb25zLm5hbWUgPSBcIm91dGJveF9pbnN0YW5jZXNcIjtcbiAgfVxuICBvcHRpb25zLm9yZGVyID0gW1s5LCBcImRlc2NcIl1dO1xuICBvcHRpb25zLmZpbHRlcmVkUmVjb3JkSWRzID0gZnVuY3Rpb24odGFibGUsIHNlbGVjdG9yLCBzb3J0LCBza2lwLCBsaW1pdCwgb2xkX2ZpbHRlcmVkUmVjb3JkSWRzLCB1c2VySWQsIGZpbmRPcHRpb25zKSB7XG4gICAgdmFyIGFnX3NvcnQsIGFnZ3JlZ2F0ZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgYXN5bmNfYWdncmVnYXRlLCBmaWx0ZXJlZFJlY29yZElkcywgczEsIHMxXzAsIHMxXzE7XG4gICAgYWdncmVnYXRlX29wZXJhdGlvbiA9IFtcbiAgICAgIHtcbiAgICAgICAgJG1hdGNoOiBzZWxlY3RvclxuICAgICAgfSwge1xuICAgICAgICAkcHJvamVjdDoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgXCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3ZlcydcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgJG1hdGNoOiB7XG4gICAgICAgICAgJ19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogdHJ1ZSxcbiAgICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgJ19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgJ19hcHByb3ZlLnVzZXInOiB1c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICAgIGlmIChzb3J0ICYmIHNvcnQubGVuZ3RoID4gMCkge1xuICAgICAgczEgPSBzb3J0WzBdO1xuICAgICAgczFfMCA9IHMxWzBdO1xuICAgICAgczFfMSA9IHMxWzFdO1xuICAgICAgaWYgKHMxXzAgPT09ICdteV9maW5pc2hfZGF0ZScpIHtcbiAgICAgICAgZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRncm91cDoge1xuICAgICAgICAgICAgX2lkOiBcIiRfaWRcIixcbiAgICAgICAgICAgIFwiYXBwcm92ZV9maW5pc2hfZGF0ZVwiOiB7XG4gICAgICAgICAgICAgICRsYXN0OiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYWdfc29ydCA9IHtcbiAgICAgICAgICAnYXBwcm92ZV9maW5pc2hfZGF0ZSc6IHMxXzEgPT09ICdhc2MnID8gMSA6IC0xXG4gICAgICAgIH07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNvcnQ6IGFnX3NvcnRcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNraXA6IHNraXBcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGxpbWl0OiBsaW1pdFxuICAgICAgICB9KTtcbiAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgYWdncmVnYXRlID0gZnVuY3Rpb24odGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikge1xuICAgICAgICAgIHRhYmxlLmNvbGxlY3Rpb24ucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVfb3BlcmF0aW9uKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMucHVzaChkb2MuX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcyk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMub3V0Ym94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwib3V0Ym94XCIpKTtcbn0pO1xuXG5pZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gIFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcyA9IG5ldyBSZWFjdGl2ZVZhcigpO1xufVxuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRyYWNrZXIuYXV0b3J1bihmdW5jdGlvbihjKSB7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCAmJiAhU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJmbG93SWRcIikgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT09ICdkcmFmdCcpIHtcbiAgICAgICAgcmV0dXJuIE1ldGVvci5jYWxsKFwibmV3SW5zdGFuY2VzTGlzdFRhYnVsYXJcIiwgU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCBmdW5jdGlvbihlcnJvciwgcmVzdWx0KSB7XG4gICAgICAgICAgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIoU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCByZXN1bHQpO1xuICAgICAgICAgIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll9jaGFuZ2VPcmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSk7XG5cbm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyID0gZnVuY3Rpb24oYm94LCBmbG93SWQsIGZpZWxkcykge1xuICB2YXIgZmxvdywga2V5LCByZWYsIHJlZjEsIHJlZjI7XG4gIGlmICghZmllbGRzKSB7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93SWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgZm9ybTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGZpZWxkcyA9IChyZWYgPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvdyAhPSBudWxsID8gZmxvdy5mb3JtIDogdm9pZCAwXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgICdjdXJyZW50LmZpZWxkcyc6IDFcbiAgICAgIH1cbiAgICB9KSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmN1cnJlbnQpICE9IG51bGwgPyByZWYxLmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgfVxuICBmaWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyhmaWVsZHMpO1xuICBpZiAoKGZpZWxkcyAhPSBudWxsID8gKHJlZjIgPSBmaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc19saXN0X2Rpc3BsYXlcIiwgdHJ1ZSkpICE9IG51bGwgPyByZWYyLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAga2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZDtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMuc2V0KG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKGJveCwgZmxvd0lkLCBmaWVsZHMpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKGJveCwgZmxvd0lkLCBmaWVsZHMpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnNvbGUubG9nKFwibmV3IFRhYnVsYXJUYWJsZXMgXCIsIGtleSk7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgTWV0ZW9yLm1ldGhvZHMoe1xuICAgIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyOiBmdW5jdGlvbihib3gsIGZsb3dJZCkge1xuICAgICAgdmFyIGZpZWxkcywgZmxvdywgcmVmLCByZWYxO1xuICAgICAgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIoYm94LCBmbG93SWQpO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3dJZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZmllbGRzID0gKHJlZiA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3cgIT0gbnVsbCA/IGZsb3cuZm9ybSA6IHZvaWQgMFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAnY3VycmVudC5maWVsZHMnOiAxXG4gICAgICAgIH1cbiAgICAgIH0pKSAhPSBudWxsID8gKHJlZjEgPSByZWYuY3VycmVudCkgIT0gbnVsbCA/IHJlZjEuZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGZpZWxkcztcbiAgICB9XG4gIH0pO1xufVxuIl19
